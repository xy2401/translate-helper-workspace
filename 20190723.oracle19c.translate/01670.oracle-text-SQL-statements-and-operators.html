<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Text SQL语句和运算符</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="changes-in-this-release.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-text-indexing-elements.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="changes-in-this-release.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-text-indexing-elements.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Text SQL语句和运算符</li>
            </ol>
            <a id="GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB" name="GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB"></a><a id="CCREF0100"></a>
            
            <h2 id="CCREF-GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB" class="sect2"><span class="enumeration_chapter">1</span> Oracle Text SQL语句和运算符</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍用于创建和管理Oracle Text索引以及执行Oracle Text查询的SQL语句和Oracle Text运算符。</p>
               <p>本章描述了以下陈述：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48">改变指数</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A">ALTER TABLE：支持的分区语句</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54">CATSEARCH</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59">CONTAINS</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创建指数</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9" title="本节描述CREATE SEARCH INDEX语句，因为它与创建JSON搜索索引有关。">创建搜索索引</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-9E117E79-F01E-4C34-88E3-17A2BB036389">DROP INDEX</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763">火柴</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-24B74948-E18F-4B71-8F74-032F933CF53A">MATCH_SCORE</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0">得分了</a></p>
                  </li>
               </ul>
            </div><a id="CCREF23682"></a><a id="CCREF23683"></a><a id="CCREF23684"></a><a id="CCREF24122"></a><a id="CCREF24123"></a><a id="CCREF23685"></a><a id="CCREF23686"></a><a id="CCREF23687"></a><a id="CCREF23688"></a><a id="CCREF23689"></a><a id="CCREF23690"></a><a id="CCREF23691"></a><a id="CCREF23692"></a><a id="CCREF23693"></a><a id="CCREF24062"></a><a id="CCREF23694"></a><a id="CCREF23695"></a><a id="CCREF0101"></a><div class="props_rev_3"><a id="GUID-47E60252-C731-46A8-B587-AE30C1634F48" name="GUID-47E60252-C731-46A8-B587-AE30C1634F48"></a><h3 id="CCREF-GUID-47E60252-C731-46A8-B587-AE30C1634F48" class="sect3"><span class="enumeration_section">1.1改变</span>指数</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-343CE9AA-40E3-4B05-A0BD-E4EBBEA85224">
                        <p class="notep1">注意：</p>
                        <p>本节介绍<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句，因为它与管理Oracle Text域索引有关。
                        </p>
                        <p>有关<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句的完整说明，请参见<a href="../sqlrf/ALTER-INDEX.html#SQLRF00805" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span> 。</a> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__CHDGHGJE">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-6FAB6069-E512-4238-B284-841CEC3FABA5">ALTER INDEX目的</p>
                     <p>使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>对<code class="codeph">CONTEXT</code> ， <code class="codeph">CTXCAT</code>或<code class="codeph">CTXRULE</code>索引进行更改或执行维护任务。
                     </p>
                     <p>所有索引类型</p>
                     <p>使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>在所有Oracle Text索引类型上执行以下任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>重命名索引或索引分区。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996830">ALTER INDEX RENAME语法</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>使用不同的首选项重建索引。<code class="codeph">CTXCAT</code>索引类型有一些限制。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>在索引中添加停用词。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>添加或删除子工具，并删除给定符号的停用词或一组停用词（语言或语言无关）。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__CHDBEEJD">ALTER INDEX Sub_Lexer语法</a> ”</span></p>
                        </li>
                     </ul>
                     <p>语境和CTXRULE索引类型</p>
                     <p>使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>在<code class="codeph">CONTEXT</code>和<code class="codeph">CTXRULE</code>索引类型上执行以下任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>恢复失败的索引操作（创建/优化）。</p>
                        </li>
                        <li>
                           <p>向索引添加节和停止节。</p>
                        </li>
                        <li>
                           <p>替换索引元数据。</p>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-B4FC1E9C-44F0-4D11-AFE9-5032B322CE34">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span>了解有关执行这些任务的更多信息</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-13503596-50FB-4EC4-8B2F-8DAAF8A5E358">ALTER INDEX语法概述</p>
                     <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code>的语法相当复杂。主要部门将在以下部分中介绍：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJEBEICE">ALTER INDEX MODIFY PARTITION语法</a> ”</span> - 使用它来修改索引分区的元数据。
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJECABDI">ALTER INDEX PARAMETERS语法</a> ”</span> - 使用它来修改非分区索引的参数，或修改本地分区索引的所有分区，而无需重建索引。
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996830">ALTER INDEX RENAME语法</a> ”</span> - 使用此命令重命名索引或索引分区。
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span> - 使用它来重建索引或索引分区。使用此语句，您还可以替换索引元数据;向索引添加停用词，部分和停止部分;并恢复失败的操作。
                           </p>
                           <p><code class="codeph">ALTER INDEX REBUILD</code>的参数有自己的语法，这是<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语法的子集。例如， <code class="codeph">ALTER INDEX REBUILD PARAMETERS</code>语句可以将<code class="codeph">REPLACE</code>或<code class="codeph">RESUME</code>作为参数， <code class="codeph">ALTER INDEX REBUILD PARAMETERS ('REPLACE')</code>可以采用多个参数。<code class="codeph">ALTER INDEX REBUILD</code>有效示例包括以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER索引重建<span class="italic">N个</span>并联ALTER索引重建参数（ 'REPLACE DATASTORE <span class="italic">datastore_pref'）ALTER</span>索引重建参数（ 'REPLACE单词一览<span class="italic">wordlist_pref'）</span></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJEBEICE">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-D6BB4F76-2F31-4BAA-8319-2C869D62BD3B">ALTER INDEX MODIFY PARTITION语法</p>
                     <p>使用以下语法修改索引分区的元数据：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">index_name</span> MODIFY PARTITION <span class="italic">partition_name</span> PARAMETER（ <span class="italic">paramstring</span> ）</pre><dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-EFB9F452-7692-44A1-9420-C073B4DA0FAE"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定要修改其分区元数据的索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-3658B3A5-F96C-4A2D-BF14-3F7EAD9B37C4"><!-- --></a> partition_name</dt>
                        <dd>
                           <p>指定要修改其元数据的索引分区的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-3A6A87EB-85C9-4911-A0ED-DDCA61548808"><!-- --></a>字符串</dt>
                        <dd>
                           <p>这里唯一有效的参数是' <code class="codeph">REPLACE METADATA</code> '。这遵循与<code class="codeph">ALTER INDEX REBUILD PARTITION PARAMETERS ('REPLACE METADATA')</code>相同的语法;有关详细信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span>部分的<code class="codeph">REPLACE METADATA</code>子部分。（这两个陈述是等同的。<code class="codeph">ALTER INDEX MODIFY PARTITION</code>提供易用性，是推荐的语法。）
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJECABDI">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-41FF1550-7CA5-4254-9AEE-CDB6D9726392">ALTER INDEX PARAMETERS语法</p>
                     <p>参数字符串现在支持READ ONLY MDATA。使用以下语法修改非分区索引或本地分区索引的参数，而不重建索引。对于分区索引，此语句适用于索引级别，而不适用于分区级别。此语句更改整个索引的信息，包括所有分区。</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">index_name</span> PARAMETERS（ <span class="italic">paramstring</span> ）</pre><dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-0A8F17BC-36BE-430D-B53A-44C8028B8176"><!-- --></a> paramstring</dt>
                        <dd>
                           <p><code class="codeph">ALTER INDEX PARAMETERS</code>为<span class="variable" translate="no">paramstring</span>接受以下参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>' <code class="codeph">REPLACE METADATA</code> '</p>
                                 <p>替换当前元数据。有关详细信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span>部分的<code class="codeph">REPLACE METADATA</code>子部分。
                                 </p>
                              </li>
                              <li>
                                 <p>' <code class="codeph">ADD MDATA SECTION secname TAG sectag READ ONLY</code> '</p>
                                 <p>创建不可更新的MDATA节，以便在这些MDATA节上的查询不需要在<code class="codeph">$I</code>表上打开额外的游标。
                                 </p>
                              </li>
                              <li>
                                 <p>' <code class="codeph">ADD STOPWORD</code> '</p>
                                 <p>动态地为索引添加一个停用词。有关详细信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span>部分的<code class="codeph">ADD STOPWORD</code>子部分。
                                 </p>
                              </li>
                              <li>
                                 <p>' <code class="codeph">ADD FIELD SECTION</code> '</p>
                                 <p>动态地将字段添加到索引。有关详细信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span>部分的<code class="codeph">ADD FIELD</code>子部分。您可以添加无限数量的字段部分。
                                 </p>
                              </li>
                              <li>
                                 <p>' <code class="codeph">ADD ZONE SECTION</code> '</p>
                                 <p>动态地将区域部分添加到索引。有关详细信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span>部分的<code class="codeph">ADD ZONE</code>子部分。
                                 </p>
                              </li>
                              <li>
                                 <p>' <code class="codeph">ADD ATTR SECTION</code> '</p>
                                 <p>动态地将属性部分添加到索引。有关详细信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span>部分的<code class="codeph">ADD ATTR</code>子部分。
                                 </p>
                              </li>
                              <li>
                                 <p>' <code class="codeph">ADD SDATA SECTION</code> '</p>
                                 <p>动态地将<code class="codeph">SDATA</code>部分添加到索引。<code class="codeph">SDATA</code>部分只能添加到<code class="codeph">BASIC</code> ， <code class="codeph">HTML</code> ， <code class="codeph">XML</code>和<code class="codeph">NEWS</code>部分组。它支持全局索引和本地索引。同步到索引中的新文档反映了这种新的偏好。语法是：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic"><code class="codeph">index_name</code></span> PARAMETERS（ADD SDATA SECTION <span class="italic"><code class="codeph">sdata_section_name</code></span> TAG <span class="italic"><code class="codeph">sdata_section_tag</code></span> <span class="italic"><code class="codeph">sdata_section_datatype</code></span> ）;</pre><p>数据类型可以是<code class="codeph">VARCHAR2</code> ， <code class="codeph">CHAR</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code>或<code class="codeph">RAW</code> 。</p>
                                 <p>有关更多信息，请参见<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__CIHJJJDH">添加SDATA节</a> ”</span> 。
                                 </p>
                                 <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-71AF5932-DCFC-4204-A0AB-136D055B7C48">
                                    <p class="notep1">注意：</p>
                                    <p>在添加<code class="codeph">SDATA</code>部分之前编制索引的文档不会反映此新首选项。在这种情况下重建索引。
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                     <p>除<code class="codeph">ADD SDATA SECTION</code>外，上述每个参数都具有等效的<code class="codeph">ALTER INDEX REBUILD PARAMETERS</code>版本。</p>
                     <p>例如， <code class="codeph">ALTER INDEX PARAMETERS ('REPLACE METADATA')</code>等同于<code class="codeph">ALTER INDEX REBUILD PARAMETERS ('REPLACE METADATA')</code> 。但是， <code class="codeph">ALTER INDEX PARAMETERS</code>版本适用于分区或非分区索引，而<code class="codeph">ALTER INDEX REBUILD PARAMETERS</code>版本仅适用于非分区索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996830">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-575E241E-8592-4A56-9027-A4FF794444C5">ALTER INDEX RENAME语法</p>
                     <p>使用以下语法重命名索引或索引分区：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX [ <span class="variable" translate="no">schema.]index_name</span> RENAME TO <span class="variable" translate="no">new_index_name;</span> ALTER INDEX [schema。] index_name RENAME PARTITION part_name TO new_part_name;</pre><dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-58CD5790-9FA0-4D10-8DDB-05170A9477B8"><!-- --></a> [schema。] index_name</dt>
                        <dd>
                           <p>指定要重命名的索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-27D8801B-9588-4C9D-8AEE-0C4F4E537F93"><!-- --></a> new_index_name</dt>
                        <dd>
                           <p>指定<code class="codeph">schema.index.</code>的新名称<code class="codeph">schema.index.</code> <code class="codeph">new_index_name</code>参数不能超过25个字节，而早期版本的Oracle数据库中尚未升级到Oracle Database 12 <span class="italic">c</span> Release 2（12.2）的分区索引则为21个字节。如果指定的名称长度超过25个字节（或对于分区索引长度超过21个字节），则Oracle Text将返回错误，并且重命名的索引不再有效。
                           </p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-4EFE6DE6-F5D8-4A79-B83C-462541E1376A">
                              <p class="notep1">注意：</p>
                              <p>当<code class="codeph">new_index_name</code>超过25个字节（本地分区索引为21个字节）且小于30个字节时，即使系统返回错误，Oracle Text也会重命名索引。要删除索引和关联表，必须使用<code class="codeph">DROP</code> <code class="codeph">INDEX</code>语句删除<code class="codeph">new_index_name</code> ，然后重新创建并删除<code class="codeph">index_name</code> 。
                              </p>
                           </div>
                           <p>未将<code class="codeph">compatible</code>参数设置为12.2的已升级数据库可以使<code class="codeph">new_index_name</code>参数不超过30个字节，并为分区索引指定30个字节。
                           </p>
                           <p>已将<code class="codeph">compatible</code>参数设置为12.2或新的Oracle Database 12 <span class="italic">c</span>第2版（12.2）安装的已升级数据库的<code class="codeph">new_index_name</code>参数不超过128个字节，分区索引的128个字节。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-D0C790A3-A977-4068-B5AA-CA4390A2C490"><!-- --></a> part_name</dt>
                        <dd>
                           <p>指定要重命名的索引分区的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-AA3EF602-D0CE-4EDF-B828-4C411C9CAD5A"><!-- --></a> new_part_name</dt>
                        <dd>
                           <p>指定分区的新名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-4AEF6A14-9DDA-40B0-8378-E547244A3385">ALTER INDEX REBUILD语法</p>
                     <p>使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code>重建索引，重建索引分区，恢复失败的操作，替换索引元数据，向索引添加停用词，或向索引添加节和停止节。
                     </p>
                     <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code>语法有自己的子语法。也就是说，它的参数有自己的语法。例如， <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code> <code class="codeph">PARAMETERS</code>语句可以将<code class="codeph">REPLACE</code>或<code class="codeph">RESUME</code>作为参数， <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code> <code class="codeph">PARAMETERS</code> <code class="codeph">('REPLACE')</code>可以采用多个参数。
                     </p>
                     <p></p>
                     <div class="p">
                        <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-6C392638-3AC1-467C-8775-969A36F18447">
                           <p class="notep1">注意：</p>
                           <p>您不能使用<code class="codeph">ALTER INDEX REBUILD</code>语法添加或删除与<code class="codeph">INMEMORY</code>选项关联的文本索引表。
                           </p>
                        </div>
                     </div>
                     <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code>有效示例包括以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER索引重建<span class="italic">N个</span>并联ALTER索引重建参数（REPLACE DATASTORE <span class="italic">datastore_pref）ALTER</span>索引重建参数（REPLACE词表<span class="italic">wordlist_pref）</span></pre><p>这是<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code>的语法：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="variable" translate="no">[schema.]index</span> [REBUILD] [PARTITION partname] [ONLINE] [PARAMETERS（ <span class="variable" translate="no">paramstring</span> ）] [PARALLEL N];</pre><dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-2BCDC0E1-C66C-4001-8CD8-2E235016ADF1"><!-- --></a> PARTITION <span class="italic">partname</span></dt>
                        <dd>
                           <p>重建索引分区<code class="codeph">partname</code> 。一次只能构建一个索引分区。
                           </p>
                           <p>重建分区时，只能在<code class="codeph">paramstring</code>指定<code class="codeph">RESUME</code>或<code class="codeph">REPLACE</code> 。这些操作只在工作<code class="codeph">partname</code>指定。
                           </p>
                           <p>使用<code class="codeph">REPLACE</code>操作，您可以为每个索引分区指定<code class="codeph">MEMORY</code> ， <code class="codeph">STORAGE</code>和<code class="codeph">SYNC</code> 。
                           </p>
                           <p><span class="bold">添加分区</span>要将<span class="bold">分区</span>添加到基表，请使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> SQL语句。将分区添加到索引表时，Oracle Text会自动为新索引分区创建元数据。新索引分区与新表分区具有相同的名称。如果必须更改索引分区名称，请使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">RENAME</code> 。</p>
                           <p><span class="bold">拆分或合并分区</span>将表分区与<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>拆分或合并会使索引分区无效。您必须使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code>重建它们。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-EB8FCD39-00D2-4FC4-8506-3884C82A6DE3"><!-- --></a> ONLINE</dt>
                        <dd>
                           <p>使您能够继续在基表上执行更新，插入和删除操作。它不允许您查询基表。<code class="codeph">ONLINE</code>关键字只能与Oracle数据库企业版一起使用。
                           </p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-127386FC-C24B-420E-BC3E-891629C4BF20">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">ONLINE</code>重建索引或索引分区时，可以指定<code class="codeph">REPLACE</code>或<code class="codeph">RESUME</code> 。</p>
                           </div>
                        </dd>
                        <dt class="dlterm" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__PARAMETERSPARAMSTRING-2BAE7CC7"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-EA3D665F-A7E3-4313-8D8A-35FC7E47D926"><!-- --></a>参数（paramstring）</dt>
                        <dd>
                           <p>（可选）指定<code class="codeph">paramstring</code> 。如果未指定<code class="codeph">paramstring</code> ，则Oracle Text将使用现有首选项设置重建索引。
                           </p>
                           <p></p>
                           <p><code class="codeph">paramstring</code>的语法如下：</p><pre class="oac_no_warn" dir="ltr">paramstring =</pre><pre class="oac_no_warn" dir="ltr">“REPLACE [DATASTORE <span class="italic">datastore_pref]</span> [FILTER <span class="italic">filter_pref]</span> [LEXER <span class="italic">lexer_pref]</span> [单词一览<span class="italic">wordlist_pref]</span> [STORAGE <span class="italic">storage_pref]</span> [STOPLIST <span class="italic">停止列表</span> ] [段组<span class="italic">section_group]</span> [MEMORY <span class="italic">memsize从</span> [[填充| NOPOPULATE] [INDEX SET <span class="italic">index_set</span> ] [METADATA <span class="italic">preference new_preference</span> ] [METADATA FORMAT COLUMN <span class="italic">format_column_name</span> ] [[METADATA] SYNC（MANUAL | EVERY“ <span class="variable" translate="no">interval-string</span> ”| ON COMMIT）] [[METADATA] TRANSACTIONAL | NONTRANSACTIONAL [[METADATA] [ASYNCHRONOUS_UPDATE | SYNCHRONOUS_UPDATE]] [[METADATA] OPTIMIZE（MANUAL | AUTO_DAILY | EVERY“ <span class="variable" translate="no">interval-string</span> ”）] | [DATAGUIDE [ON |关闭| ON CHANGE [ADD_VC | <span class="italic">Function_name</span> ]] | [SEARCH_ON <span class="italic">TEXT_VALUE</span> ] | RESUME [记忆<span class="italic">memsize</span> ] |添加STOPWORD <span class="italic">字</span> [ <span class="italic">语言</span> ] | ADD ZONE SECTION <span class="italic">section_name</span>标记<span class="italic">标记</span> | ADD FIELD SECTION <span class="italic">section_name</span>标签<span class="italic">标签</span> [（VISIBLE | INVISIBLE）] |添加ATTR SECTION <span class="italic">section_name</span>标记<span class="italic">标记@ attr</span> | ADD STOP SECTION <span class="italic">标签'</span></pre></dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-94F6B64C-1DAE-4E2F-A16E-35F3472C549B"><!-- --></a> REPLACE [ <span class="italic">optional_preference_list</span> ]</dt>
                        <dd>
                           <p>重建索引。您可以选择指定自己的首选项或系统定义的首选项。</p>
                           <p>您只能替换该索引类型支持的首选项。例如，您无法替换<code class="codeph">CONTEXT</code>或<code class="codeph">CTXRULE</code>索引的索引集。同样，对于<code class="codeph">CTXCAT</code>索引类型，您可以替换词法分析器，词列表，存储索引集和内存首选项。
                           </p>
                           <p><code class="codeph">POPULATE</code>参数是默认值，无需指定。如果要清空其内容的索引，请指定<code class="codeph">NOPOPULATE</code> 。必须以递增方式重建索引时，清除其内容的索引。<code class="codeph">NOPOPULATE</code>选项可用于索引的特定分区，而不仅适用于整个索引。
                           </p>
                           <p>如果使用<code class="codeph">REPLACE</code>参数重建分区索引，则只能指定<code class="codeph">STORAGE</code> ， <code class="codeph">MEMORY</code>和<code class="codeph">NOPOPULATE</code> 。</p>
                           <p>一种新的单词表偏好<code class="codeph">SEPARATE_OFFSETS</code>指定该<code class="codeph">token_info</code>在索引存储为只在一个地方docids，和<code class="codeph">offsets</code>仅存储在另一个地方。有关使用CONTEXT索引的SEPARATE_OFFSETS选项改进响应时间的信息，请参阅<a href="../ccapp/tuning-oracle-text.html#CCAPP9553" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> 。
                           </p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-C91B59CA-AC8A-4B39-94EE-B098DC112864">
                              <p class="notep1">注意：</p>
                              <p>如果此过程仅修改<code class="codeph">BASIC_STORAGE</code>类型（其中任何一个）的以下存储属性的现有索引表，则不会导致重新索引数据：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">BIG_IO</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">I_INDEX_CLAUSE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">I_TABLE_CLAUSE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SEPARATE_OFFSETS</code></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-492BC283-4EA8-4695-B8C6-C32E00DE3C9B">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements</a>有关创建和设置首选项的更多信息，包括有关系统定义的首选项的信息</p>
                                 </li>
                                 <li>
                                    <p><a href="../ccapp/tuning-oracle-text.html#CCAPP9553" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> ，了解使用CONTEXT索引的SEPARATE_OFFSETS选项改进响应时间的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJEJFFFJ"><!-- --></a> REPLACE METADATA <span class="italic">首选项new_preference</span></dt>
                        <dd>
                           <p>使用<code class="codeph">new_preference</code>的设置<code class="codeph">new_preference</code>索引的现有<code class="codeph">preference</code>类设置（包括<code class="codeph">SYNC</code>参数）。仅替换索引首选项和属性。索引未重建。
                           </p>
                           <p>如果要在构建索引后替换首选项及其属性设置，而不重新索引所有数据，则此语句非常有用。重新索引数据可能需要大量时间和计算资源。</p>
                           <p>此语句对于更改<code class="codeph">SYNC</code>参数类型也很有用，可以是自动，手动或提交。
                           </p>
                           <p><code class="codeph">ALTER INDEX REBUILD PARAMETER ('REPLACE METADATA')</code>语句不适用于索引的全局级别的本地分区索引。例如，您无法使用此语法更改全局首选项，例如过滤器或词法分析器类型，而无需重建索引。请改用<code class="codeph">ALTER INDEX PARAMETERS</code>来更改全局级别的索引元数据，包括所有分区。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJECABDI">ALTER INDEX PARAMETERS语法</a> ”</span> 。
                           </p>
                           <p><span class="bold">我什么时候应该使用METADATA关键字？</span>  仅当索引元数据中的更改不会导致索引不一致时才应使用<code class="codeph">REPLACE METADATA</code> ，这可能导致不正确的查询结果。
                           </p>
                           <p>例如，在以下实例中使用此语句：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在预期多语言数据的情况下，从单语词法分析器转变为多路复用器。有关示例，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I1000829">替换索引元数据：将单个Lexer更改为Multilexer</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>更改<a href="oracle-text-indexing-elements.html#GUID-CD2DE39F-17F7-424E-8DB3-A16C7843965D">BASIC_WORDLIST中</a>的<code class="codeph">WILDCARD_MAXTERMS</code>设置。</p>
                              </li>
                              <li>
                                 <p>更改<code class="codeph">SYNC</code>参数类型，可以是自动，手动或提交。
                                 </p>
                              </li>
                           </ul>
                           <p>这些更改是安全的，不会导致可能会对查询结果产生负面影响的不一致索引。</p>
                           <div class="infoboxnotewarn" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-FD4861B0-3E46-45DC-A7EE-04E67520B9F1">
                              <p class="notep1">警告：</p>
                              <p><code class="codeph">REPLACE</code> <code class="codeph">METADATA</code>语句可能导致索引数据不一致，从而导致查询结果不正确。因此，Oracle不建议使用此语句，除非您仔细考虑它将对索引数据和后续查询的一致性产生的影响。
                              </p>
                           </div>
                           <p>更改元数据可能会导致索引数据不一致。例如，Oracle建议在执行以下过程后<span class="italic">不要</span>使用<code class="codeph">METADATA</code>关键字：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将<a href="oracle-text-indexing-elements.html#GUID-2EE366EC-0748-48D5-81BF-7D6430371358">USER_DATASTORE</a>过程更改为具有不同输出的新PL / SQL存储过程。
                                 </p>
                              </li>
                              <li>
                                 <p>将<a href="oracle-text-indexing-elements.html#GUID-CD2DE39F-17F7-424E-8DB3-A16C7843965D">BASIC_WORDLIST</a>属性<code class="codeph">PREFIX_INDEX</code>从<code class="codeph">NO</code>更改为<code class="codeph">YES</code>因为没有为现有文档生成前缀。将其从<code class="codeph">YES</code>更改为<code class="codeph">NO</code>是安全的。
                                 </p>
                              </li>
                              <li>
                                 <p>添加或更改<code class="codeph">BASIC_LEXER</code> printjoin和skipjoin字符，因为具有这些字符的新查询将与索引时这些字符的lexed不同。
                                 </p>
                              </li>
                              <li>
                                 <p>不要将<code class="codeph">REPLACE</code> <code class="codeph">METADATA</code>与<code class="codeph">FORWARD_INDEX</code> 。而是使用<code class="codeph">REPLACE</code> <code class="codeph">STORAGE</code> 。</p>
                              </li>
                           </ul>
                           <p>在这些不安全的情况下，Oracle建议重建索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-FDE24A55-1C4D-48E1-9CED-8121AC71A331"><!-- --></a> REPLACE [METADATA] SYNC（MANUAL | EVERY“ <span class="variable" translate="no">interval-string</span> ”| ON COMMIT）</dt>
                        <dd>
                           <p>指定<code class="codeph">SYNC</code> ，以便在基表发生DML更改时自动同步<code class="codeph">CONTEXT</code>索引。您可以指定<a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__CIHGAAFI" title="此表显示使用ALTER INDEX REPLACE SYNC的方法。">表1-1中</a>显示的一种<code class="codeph">SYNC</code>方法。
                           </p>
                           <div class="tblformal" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__CIHGAAFI">
                              <p class="titleintable">表1-1 ALTER INDEX SYNC方法</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER INDEX SYNC方法" width="90%" border="1" summary="This table shows methods for using ALTER INDEX REPLACE SYNC." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d5395e1455">同步类型</th>
                                       <th align="left" valign="bottom" width="69%" id="d5395e1458">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d5395e1463" headers="d5395e1455 ">
                                          <p><code class="codeph">手册</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d5395e1463 d5395e1458 ">
                                          <p>表示没有自动同步。这是默认值。您必须使用<code class="codeph">CTX_DDL.SYNC_INDEX</code>手动同步索引。</p>
                                          <p>使用<code class="codeph">MANUAL</code>禁用<code class="codeph">ON</code> <code class="codeph">COMMIT</code>和<code class="codeph">EVERY</code>同步。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d5395e1488" headers="d5395e1455 ">
                                          <p><code class="codeph">EVERY</code> <span class="variable" translate="no">interval-string</span></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d5395e1488 d5395e1458 ">
                                          <p>以<span class="variable" translate="no">interval-string</span>的值指定的固定间隔自动同步索引，该语法与调度程序作业的语法相同。使用<code class="codeph">EVERY</code>自动同步需要索引创建者具有<code class="codeph">CREATE</code> <code class="codeph">JOB</code>权限。
                                          </p>
                                          <p>确保将<span class="variable" translate="no">interval-string</span>设置为足够长的时间段，以便之前的任何同步作业都已完成。否则，同步作业可能会挂起。<span class="variable" translate="no">interval-string</span>参数必须用双引号括起来（''''）。
                                          </p>
                                          <p>有关自动同步语法的示例，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000959">启用自动索引同步</a> ”</span> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d5395e1525" headers="d5395e1455 ">
                                          <p><code class="codeph">ON</code> <code class="codeph">COMMIT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d5395e1525 d5395e1458 ">
                                          <p>提交后立即同步索引。在同步完成之前，提交不会返回。在Oracle Database Release 18c之前，同步是作为单独的事务执行的。当提交数据但索引更改没有时，有一段时间，通常很小。从Oracle Database Release 18c开始，同步作为同一事务的一部分执行。</p>
                                          <p>该操作使用<span class="variable" translate="no">memory</span>参数指定的<span class="variable" translate="no">memory</span> 。
                                          </p>
                                          <p>在Oracle Database Release 18c之前，同步操作有自己的事务上下文。如果操作失败，则数据事务仍然提交。从Oracle Database Release 18c开始，如果存在致命索引同步错误，则回滚整个数据事务。<code class="codeph">CTX_USER_INDEX_ERRORS</code>视图中记录了非致命（单个行）同步错误，但事务仍然完成。请参见<code class="codeph">CREATE INDEX</code>下的<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000916">查看索引错误</a> ”</span> 。</p>
                                          <p><code class="codeph">ON COMMIT</code> <code class="codeph">STAGE_ITAB</code>索引选项时， <code class="codeph">ON COMMIT</code>同步最佳，因为否则会导致主索引出现明显碎片，需要频繁的OPTIMIZE调用。
                                          </p>
                                          <p>有关<code class="codeph">ON</code> <code class="codeph">COMMIT</code>语法的示例，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000959">启用自动索引同步</a> ”</span> 。
                                          </p>
                                          <p>有关CONTEXT索引的STAGE_ITAB选项的更多信息，请参阅<a href="../ccapp/tuning-oracle-text.html#CCAPP9554" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> 。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>本地分区索引的每个分区都可以有自己的同步类型：（ <code class="codeph">ON COMMIT</code> ， <code class="codeph">EVERY</code>或<code class="codeph">MANUAL</code> ）。主参数字符串中指定的同步类型适用于所有索引分区，除非分区指定自己的类型。
                           </p>
                           <p>通过自动（ <code class="codeph">EVERY</code> ）同步，您可以指定内存大小和并行同步。语法是：</p><pre class="oac_no_warn" dir="ltr">...每个<span class="variable" translate="no">interval_string</span> MEMORY <span class="variable" translate="no">mem_size</span> PARALLEL <span class="variable" translate="no">paradegree</span> ......
</pre><p><code class="codeph">ON</code> <code class="codeph">COMMIT</code>同步只能以索引创建时指定的<code class="codeph">COMMIT</code>执行，并且内存大小相同。
                           </p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-C16D0FF2-F374-4205-A60D-5A1090250361">
                              <p class="notep1">注意：</p>
                              <p>此命令重建索引。如果要在不重建索引的情况下更改<code class="codeph">SYNC</code>设置，请使用<code class="codeph">REBUILD REPLACE METADATA SYNC (MANUAL | ON COMMIT)</code>操作。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-F6BB1283-3156-40FB-A3AA-45D153311C24"><!-- --></a> REPLACE [METADATA] TRANSACTIONAL |非事务性</dt>
                        <dd>
                           <p><a id="d5395e1626" class="indexterm-anchor"></a><a id="d5395e1628" class="indexterm-anchor"></a><a id="d5395e1632" class="indexterm-anchor"></a><a id="d5395e1634" class="indexterm-anchor"></a><a id="d5395e1636" class="indexterm-anchor"></a>使用此参数可以打开或关闭<code class="codeph">TRANSACTIONAL</code>属性。有关更多信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJECACGF">”TRANSACTIONAL“</a> ”</span> 。
                           </p>
                           <p>如果DML挂起队列中没有行，则仅使用此参数成功。因此，您可能需要在发出此命令之前同步索引。</p>
                           <p>要打开<code class="codeph">TRANSACTIONAL</code>索引属性：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myidx REBUILD PARAMETERS（'替换元数据事务'）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myidx REBUILD PARAMETERS（'replace transactional'）;</pre><p>要关闭<code class="codeph">TRANSACTIONAL</code>索引属性：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myidx REBUILD PARAMETERS（'replace metadata nontransactional'）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myidx REBUILD PARAMETERS（'replace nontransactional'）;</pre></dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-4B8442A0-F1BE-40FE-8724-8694F11EBE90"><!-- --></a> REPLACE [METADATA] [ASYNCHRONOUS_UPDATE | SYNCHRONOUS_UPDATE]</dt>
                        <dd>
                           <p></p>
                           <p>更新Oracle Text索引所基于的文档中的列时，该文档将被标记为对搜索操作无效，直到执行索引同步为止。为索引启用异步更新使文档可以搜索，即使在索引列更新后其索引尚未同步也是如此。在索引同步之前，Oracle Text使用旧文档的内容来回答用户查询。</p>
                           <p>要为Text索引启用异步更新：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX idx PARAMETERS（'REPLACE METADATA asynchronous_update'）;</pre><p>要禁用Text索引的异步更新：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX idx PARAMETERS（'REPLACE METADATA synchronous_update'）;</pre><div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-B523F839-6665-4685-8961-6444933D0AC6">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">TRANSACTIONAL</code>选项不支持同步更新，也不支持导致行移动的更新。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-F8ED48D7-17C2-4744-BF21-DCE277815988"><!-- --></a> REPLACE [[METADATA] OPTIMIZE（MANUAL | AUTO_DAILY | EVERY） <span class="variable" translate="no">interval-string</span> “）]</dt>
                        <dd>
                           <p>指定<code class="codeph">OPTIMIZE</code>以启用自动后台索引优化。您可以指定以下任何一种<code class="codeph">OPTIMIZE</code>方法：</p>
                           <div class="tblformal" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-7F3845C0-624F-439D-AB5A-56C340D0F33B">
                              <p class="titleintable">表1-2 ALTER INDEX OPTIMIZE TYPE</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER INDEX优化类型" border="1" summary="This table shows OPTIMIZE types for ALTER INDEX." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d5395e1718">OPTIMIZE类型</th>
                                       <th align="left" valign="bottom" width="20%" id="d5395e1720">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d5395e1724" headers="d5395e1718 ">
                                          <p>手册</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d5395e1724 d5395e1720 ">
                                          <p>不提供自动优化。您必须使用<code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code>手动优化索引。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d5395e1734" headers="d5395e1718 ">
                                          <p>AUTO_DAILY</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d5395e1734 d5395e1720 ">
                                          <p>在create index参数列表中指定<code class="codeph">OPTIMIZE (AUTO_DAILY)</code>时，将安排重复运行的优化令牌作业和重复运行的优化完整作业。优化令牌作业计划在每个午夜12点到凌晨3点运行，周六晚除外，以优化前10个最碎片的令牌。在凌晨3点之前未启动的作业将被暂停，直到第二天上午12点。这些暂停的工作将在计划在第二天上午12点运行的其他工作之前启动。优化完整作业计划从每个星期六晚上12点开始每周运行，以优化索引表并清理$ N.</p>
                                          <p>升级到Oracle Database Release 18c后，默认情况下现有索引不会具有<code class="codeph">OPTIMIZE (AUTO_DAILY)</code> 。您必须使用<code class="codeph">ALTER INDEX</code>才能启用自动后台索引优化。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d5395e1752" headers="d5395e1718 ">
                                          <p>每个“ <span class="variable" translate="no">interval-string</span> ”</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d5395e1752 d5395e1720 ">
                                          <p>以值<span class="variable" translate="no">interval-string</span>指定的定期间隔自动运行优化令牌，该值采用与调度程序作业相同的语法。
                                          </p>
                                          <p>确保将<span class="variable" translate="no">interval-string</span>设置为足够长的时间段，以便之前的任何优化作业都已完成;否则，优化作业可能会挂起。 <span class="variable" translate="no">interval-string</span>必须用双引号括起来，而<span class="variable" translate="no">interval-string</span>任何单引号都必须以带有另一个单引号的转义字符开头。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>使用<code class="codeph">AUTO_DAILY | EVERY " <span class="variable" translate="no">interval-string</span> "</code>设置，您都可以指定并行优化。该语法是：</p><pre class="pre codeblock"><code>...[AUTO_DAILY |每个“ <span class="variable" translate="no">interval-string</span> ”] PARALLEL paradegree ......</code></pre></dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-6720B345-4B3E-4572-BBEB-02405D3AA205"><!-- --></a>简历[记忆<span class="italic">memsize</span> ]</dt>
                        <dd>
                           <p>恢复失败的索引操作。您可以选择指定与<code class="codeph">memsize</code>一起使用的内存量。
                           </p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-E0DCC76E-5F7D-495F-951A-436691C228E6">
                              <p class="notep1">注意：</p>
                              <p>此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>操作仅适用于<code class="codeph">CONTEXT</code>和<code class="codeph">CTXRULE</code>索引。它不适用于<code class="codeph">CTXCAT</code>索引。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJECBEJG"><!-- --></a> ADD STOPWORD <span class="italic">字</span> [ <span class="italic">语言</span> ]</dt>
                        <dd>
                           <p>动态地向索引添加一个禁用词。</p>
                           <p>不删除此操作之前存在的<code class="codeph">word</code>索引条目。但是，对<code class="codeph">word</code>后续查询被视为一直是一个停用词。
                           </p>
                           <p>当您的停止列表是多语言停止列表时，您必须指定<code class="codeph">language</code> 。
                           </p>
                           <p>此语句<span class="italic">不会</span>重建索引。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJEBBEDA"><!-- --></a> ADD ZONE SECTION <span class="italic">section_name</span>标记<span class="italic">标记</span></dt>
                        <dd>
                           <p>将<code class="codeph">tag</code>标识的zone section <code class="codeph">section_name</code>动态添加到现有索引。
                           </p>
                           <p>添加的section <code class="codeph">section_name</code>仅适用于此操作后索引的文档。要使更改生效，必须手动重新索引包含标记的任何现有文档。
                           </p>
                           <p>此语句<span class="italic">不会</span>重建索引。
                           </p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-2BBA1E8F-C836-4C3E-B90C-F56E21541BA6">
                              <p class="notep1">注意：</p>
                              <p>此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>操作仅适用于<code class="codeph">CONTEXT</code>和<code class="codeph">CTXRULE</code>索引。它不适用于<code class="codeph">CTXCAT</code>索引。
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-FBB40FB4-0680-4D77-BC0D-3740D57C00D7">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BABEIJDB">笔记</a> ”</span></p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJEBHEGJ"><!-- --></a> ADD FIELD SECTION <span class="italic">section_name</span>标记<span class="italic">标记</span> [（VISIBLE | INVISIBLE）]</dt>
                        <dd>
                           <p>将<code class="codeph">tag</code>标识的字段<span class="italic"><code class="codeph">section_name</code></span>动态添加到现有索引。可添加的字段部分数量没有限制。
                           </p>
                           <p>（可选）指定<code class="codeph">VISIBLE</code>以使字段部分可见。默认值为<code class="codeph">INVISIBLE</code> 。</p>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-8FD98B26-9C6B-4AED-9FAC-2F8CAD083575">
                              <p class="notep1">也可以看看：</p>
                              <p>CTX_DDL。 <a href="CTX_DDL-package.html#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a>有关可见和不可见字段部分的更多信息</p>
                           </div>
                           <p>添加的section <span class="italic"><code class="codeph">section_name</code></span>仅适用于此操作后索引的文档。要使更改影响以前编制索引的文档，必须显式重新索引包含该标记的文档。
                           </p>
                           <p>此语句不会重建索引。</p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-9B424FEC-2092-4D21-AC8B-1AFAD1F61712">
                              <p class="notep1">注意：</p>
                              <p>此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>操作仅适用于<code class="codeph">CONTEXT</code> <code class="codeph">CTXRULE</code>索引。它不适用于<code class="codeph">CTXCAT</code>索引。
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-20215BC2-DFF0-4229-8653-640A81F59AEB">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BABEIJDB">笔记</a> ”</span></p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJEBIAID"><!-- --></a>添加ATTR SECTION <span class="italic">section_name</span>标记<span class="italic">标记@ attr</span></dt>
                        <dd>
                           <p>动态地将属性部分<span class="italic"><code class="codeph">section_name</code></span>添加到现有索引。您必须在表单<code class="codeph">tag@attr</code>指定XML标记和属性。您只能将属性部分添加到XML部分组。
                           </p>
                           <p>添加的属性部分<span class="italic"><code class="codeph">section_name</code></span>仅适用于此操作后索引的文档。要使更改生效，必须手动重新索引包含标记的任何现有文档。
                           </p>
                           <p>此语句<span class="italic">不会</span>重建索引。
                           </p>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-6BBDD00A-98C5-49E0-93C1-398AA1F0EBE2">
                              <p class="notep1">注意：</p>
                              <p>此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>操作仅适用于<code class="codeph">CONTEXT</code> <code class="codeph">CTXRULE</code>索引。它不适用于<code class="codeph">CTXCAT</code>索引。
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-8AF32375-4375-4206-833B-D20B94B2425D">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BABEIJDB">笔记</a> ”</span></p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-4663878B-B9BB-43D1-B01B-318E75300A51"><!-- --></a> ADD STOP SECTION <span class="italic">标签</span></dt>
                        <dd>
                           <p>动态地将<code class="codeph">tag</code>标识的停止部分<code class="codeph">tag</code>到现有索引。由于停止部分仅适用于XML文档的自动切片，因此索引必须使用<code class="codeph">AUTO_SECTION_GROUP</code>部分组。您指定的标记必须区分大小写且在自动节组中是唯一的，否则<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>会引发错误。
                           </p>
                           <p>添加的停止部分<code class="codeph">tag</code>仅适用于此操作后索引的文档。要使更改影响以前编制索引的文档，必须显式重新索引包含该标记的文档。
                           </p>
                           <p>始终可以搜索停止部分中的文本。</p>
                           <p>您可以添加的停止部分数量不受限制。</p>
                           <p>此语句<span class="italic">不会</span>重建索引。
                           </p>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-B4274369-F863-4C8A-95BC-0F8B47BCC431">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BABEIJDB">笔记</a> ”</span></p>
                           </div>
                           <div class="infoboxnote" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-76AA54D3-2D1B-4E7A-9BA1-5FEA50807984">
                              <p class="notep1">注意：</p>
                              <p>此<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>操作仅适用于<code class="codeph">CONTEXT</code>索引。它不适用于<code class="codeph">CTXCAT</code>索引。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-79B0D55C-8A3D-44A4-AA8D-7AA43ED58AA7"><!-- --></a> PARALLEL n</dt>
                        <dd>
                           <p>使用<span class="italic">n</span> ，您可以选择指定并行索引的并行度。只有<code class="codeph">in paramstring</code>使用<code class="codeph">SYNC</code> ， <code class="codeph">REPLACE</code>和<code class="codeph">RESUME</code>时才支持此参数。实际的并行度可能会更小，具体取决于您的资源。
                           </p>
                           <p>当您有大量要索引的数据以及操作系统支持多个CPU时，并行索引可以加快索引编制速度。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__CHDBEEJD">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-70434661-2FEF-45BE-A9E3-16C390135A66">ALTER INDEX Sub_Lexer语法</p>
                     <p>使用以下语法。</p>
                     <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-9FA0F35D-AB59-40AD-85CD-8467098AC76D">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__CHDGHGJE">ALTER INDEX目的</a> ”</span>用于<span class="q"><a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__CHDGHGJE">ALTER INDEX</a></span>的索引类型和语法列表</p>
                     </div><pre class="oac_no_warn" dir="ltr">新的paramstring ='REPLACE [DATASTORE datastore_pref] [FILTER filter_pref] [LEXER lexer_pref] [WORDLIST wordlist_pref] [STORAGE storage_pref] [STOPLIST stoplist] [SECTION GROUP section_group] [MEMORY memsize [[POPULATE | NOPOPULATE] [INDEX SET index_set] [METADATA preference new_preference] [[METADATA] SYNC（MANUAL | EVERY“interval-string”| ON COMMIT）] [[METADATA] TRANSACTIONAL | NONTRANSACTIONAL | RESUME [记忆memsize] | OPTIMIZE [token index_token |快|完整[maxtime（时间|无限制）] | SYNC [记忆memsize] |添加STOPWORD字[语言语言] [LANGUAGE_DEPENDENT（TRUE | FALSE）] | ADD ZONE SECTION section_name标记标记| ADD FIELD SECTION section_name标签标签[（VISIBLE | INVISIBLE）] |添加ATTR SECTION section_name标记标记@ attr | ADD STOP SECTION标签| ADD SUB_LEXER sub_lexer_name LANGUAGE语言[ALT_VALUE alternate_value_for_language] [LANGUAGE_DEPENDENT（TRUE | FALSE）] |删除SUB_LEXER LANGUAGE语言|删除STOPWORD字[LANGUAGE语言] |删除语言语言的障碍| MIGRATE到MULTI_STOPLIST [LANGUAGE COLUMN lang] | MIGRATE FIELD SECTION field_section_name到[READ ONLY] MDATA |更新SUB_LEXER LANGUAGE语言TO sub_lexer_preference |添加MDATA SECTION secname TAG sectag READ ONLY</pre><p>Sub_Lexer示例</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myidx PARAMETERS（'ADD SUB_LEXER mycompany_lexer LANGUAGE mycompany LANGUAGE_DEPENDENT FALSE'）; ALTER INDEX myidx PARAMETERS（'删除语言mycompany'）;</pre><p>Sub_Lexer Notes</p>
                     <p>该语言可以是Oracle预定义语言符号（全球化支持名称或Oracle Text支持的语言的缩写），也可以是用户定义的符号，用于语言无关的sub_lexer或stopword。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-AE73BC01-FC35-421B-BFE3-DF5447992AF5"><!-- --></a>添加SUB_LEXER</dt>
                        <dd>
                           <p>以下条件适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果未提供LANGUAGE_DEPENDENT子句，则默认为TRUE。</p>
                              </li>
                              <li>
                                 <p>同步将被阻止（或将被同步阻止）。</p>
                              </li>
                              <li>
                                 <p>如果添加第一语言独立的sub_lexer，则基表也将被锁定。</p>
                              </li>
                              <li>
                                 <p>添加第一语言独立的sub_lexer或stopword将需要更长的时间才能完成。否则，它应该只需要几分之一秒即可完成，除非它被同一索引上正在进行的同步过程阻止。</p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-DD054C3B-79E1-43E5-B723-073570888E51"><!-- --></a>删除SUB_LEXER</dt>
                        <dd>
                           <p>仅当没有将语言列设置为要删除的sub_lexer的符号的文档时才会成功。</p>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-5B062FD4-70EF-40B6-828A-E771043F54B5"><!-- --></a>删除后退</dt>
                        <dd>
                           <p>以下条件适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果未指定LANGUAGE子句，则假定索引使用basic_stoplist。如果索引未使用basic_stoplist，则会引发错误。</p>
                              </li>
                              <li>
                                 <p>如果索引使用的是basic_stoplist（而不是multi_stoplist），那么只有在基表为空时它才会成功。</p>
                              </li>
                              <li>
                                 <p>如果索引使用multi_stoplist，并且user为LANGUAGE子句指定“ALL”，则仅当基表为空时才会成功。</p>
                              </li>
                              <li>
                                 <p>如果索引使用multi_stoplist，并且user为LANGUAGE子句指定了符号，那么只有在没有文档的语言列设置为要删除的禁用词的符号时，它才会成功。</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-A7717ABC-064E-4B57-B101-490380AB6472">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD语法</a> ”</span></p>
                           </div>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-83B1EA8F-E52E-4B1A-931A-3ECF56F97B4B"><!-- --></a>迁移到MULTI_STOPLIST [LANGUAGE COLUMN lang]</dt>
                        <dd>
                           <p>以下条件适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将现有Text索引的停止列表迁移到Multi_stoplist。现有停用词的语言将具有ALL的值。</p>
                              </li>
                              <li>
                                 <p>如果已为索引定义<code class="codeph">LANGUAGE</code>列：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>可以跳过<code class="codeph">LANGUAGE</code> <code class="codeph">COLUMN</code> （为索引保留旧语言列）。
                                       </p>
                                    </li>
                                    <li>
                                       <p>如果指定了<code class="codeph">LANGUAGE</code> <code class="codeph">COLUMN</code>且索引语言列与指定的列不匹配，则会引发错误。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p> 必须为索引指定<code class="codeph">LANGUAGE</code> <code class="codeph">COLUMN</code> ;否则，会引发错误。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-6A70181E-53C7-42C0-A80A-DC1A64C542C7"><!-- --></a> MIGRATE现场部分到MDATA部分</dt>
                        <dd>
                           <p>以下条件适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>允许用户将字段部分转换为MDATA部分。如果MDATA部分是READ_ONLY MDATA部分（不允许ADD和REMOVE），请指定READ ONLY。</p>
                              </li>
                              <li>
                                 <p>限制：迁移的MDATA部分中的标记不具有典型的MDATA特征 - 案例信息，标记存储在文档中，等等。要保留这些标记，需要重新编制索引。</p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-A850775A-DAB1-4EA3-ACD3-0A78CE1E495B"><!-- --></a>更新SUB_LEXER语言SUB_LEXER_SYMBOL到SUB_LEXER_PREFERENCE</dt>
                        <dd>
                           <p>以下条件适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>允许用户动态更新sublexer。</p>
                              </li>
                              <li>
                                 <p>对于旧的和新的sublexer偏好，语言，alt_value，语言依赖应保持相同。</p>
                              </li>
                              <li>
                                 <p>要更新默认的sublexer，语法为：</p><pre class="oac_no_warn" dir="ltr">更新SUB_LEXER默认为SUB_LEXER_PREFERENCE</pre></li>
                           </ul>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-1F9BA31B-337B-4AAB-A410-B3D7AF4404E0"><!-- --></a>添加MDATA SECTION secname TAG sectag READ ONLY</dt>
                        <dd>
                           <p>以下条件适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>允许用户将MDATA部分添加到索引中。</p>
                              </li>
                              <li>
                                 <p>不能与NULL / AUTO / PATH节组一起使用。</p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-ADB37DCB-71D5-40DF-868C-F1E2AF3776E6">ALTER INDEX示例</p>
                     <p>恢复失败的索引<a id="d5395e2262" class="indexterm-anchor"></a></p>
                     <p>以下语句继续对<code class="codeph">newsindex</code>进行索引操作<span class="italic"> </span> 2兆字节的内存：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX newsindex REBUILD PARAMETERS（'恢复记忆2M'）;</pre><p>重建指数<a id="d5395e2277" class="indexterm-anchor"></a></p>
                     <p>以下语句重建索引，用<code class="codeph">new_stop</code>替换<code class="codeph">new_stop</code>首选项。
                     </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX newsindex REBUILD PARAMETERS（'replace stoplist new_stop'）;</pre><p>重建分区索引<a id="d5395e2290" class="indexterm-anchor"></a></p>
                     <p>以下示例创建分区文本表，填充它并创建分区索引。然后它向表中添加一个新分区，并使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>重建<code class="codeph">INDEX</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">PROMPT创建分区表并按范围（a）填充它创建表part_tab（一个int，b varchar2（40））分区（分区p_tab1值小于（10），分区p_tab2值小于（20），分区p_tab3值小于（30））;插入part_tab值（1，'Actinidia deliciosa'）;插入part_tab值（8，'Distictis buccinatoria'）;插入part_tab值（12，'Actinidia quinata'）;插入part_tab值（18，'Distictis Rivers'）;插入part_tab值（21，'pandorea jasminoides Lady Di'）;插入part_tab值（28，'pandorea rosea'）;承诺; PROMPT在part_tab上创建分区索引创建索引part_idx（b）indextype是ctxsys.context local（分区p_idx1，分区p_idx2，分区p_idx3）;</pre><p></p><pre class="oac_no_warn" dir="ltr">PROMPT添加一个分区并填充它alter table part_tab add partition p_tab4 values less than（40）;插入part_tab值（32，'passiflora citrina'）;插入part_tab值（33，'passiflora alatocaerulea'）;承诺;</pre><p>以下语句在新填充的分区中重建索引。通常，新添加的分区的索引分区名称与表分区名称相同，除非已使用该名称。在这种情况下，Oracle Text会生成一个新名称。</p><pre class="oac_no_warn" dir="ltr">alter index part_idx rebuild partition p_tab4;</pre><p>以下语句在表中查询新添加的分区中的两个命中：</p><pre class="oac_no_warn" dir="ltr">select * from part_tab where contains（b，'passiflora'）&gt; 0;</pre><p>以下语句直接查询新添加的分区：</p><pre class="oac_no_warn" dir="ltr">select * from part_tab partition（p_tab4）where contains（b，'passiflora'）&gt;;</pre><p id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__I1000829">替换索引元数据：将单个Lexer更改为Multilexer<a id="d5395e2322" class="indexterm-anchor"></a><a id="d5395e2326" class="indexterm-anchor"></a></p>
                     <p>以下示例演示了应用程序如何通过替换词法分析器的索引元数据，从单语言文档（英语）迁移到多语言文档（英语和西班牙语）。</p><pre class="oac_no_warn" dir="ltr">REM创建一个简单的表，它只存储英文（美国）文本创建表简单（text varchar2（80））;插入简单的值（'快速棕狐'）;承诺; REM创建一个简单的词法分析器来lex这个英文文本开头ctx_ddl.create_preference（'us_lexer'，'basic_lexer'）;结束; / REM在简单表上创建文本索引创建索引simple_idx on simple（text）indextype是ctxsys.context参数（'lexer us_lexer'）; REM我们可以轻松查询select from from simple where where contains（text，'fox'）&gt; 0; REM现在假设我们想开始接受西班牙文件。REM首先我们要用语言列扩展表alter table simple add（lang varchar2（10）default'us'）; REM现在让我们创建一个西班牙词法分析器，开始ctx_ddl.create_preference（'e_lexer'，'basic_lexer'）; ctx_ddl.set_attribute（ 'e_lexer'， 'base_letter'， '是'）;结束; / REM然后创建一个包含我们的英语和西班牙语词法分析器的多路复用器。REM请注意，DEFAULT词法分析器是完全相同的词法分析器，我们已经使用REM将所有文档编入索引。开始ctx_ddl.create_preference（'m_lexer'，'multi_lexer'）; ctx_ddl.add_sub_lexer（ 'm_lexer'， '缺省'， 'us_lexer'）; ctx_ddl.add_sub_lexer（ 'm_lexer'， '西班牙语'， 'e_lexer'）;结束; / REM接下来替换我们的元数据alter index simple_idx rebuild parameters（'替换元数据语言列lang lexer m_lexer'）; REM我们准备好了一些西班牙语数据。请注意，只要我们没有SYNC，我们就可以在alter index之前插入REM。插入简单的值（'el zorro marr＆oacute; n r＆aacute; pido'，'e'）;承诺; exec ctx_ddl.sync_index（'simple_idx'）; REM现在用基本字母查询西班牙语数据：select * from simple where contains（text，'rapido'）&gt; 0;</pre><p><span class="bold">优化指数</span></p>
                     <p>要优化索引，请使用CTX_DDL。 <a href="CTX_DDL-package.html#GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55">OPTIMIZE_INDEX</a> 。</p>
                     <p><span class="bold">同步索引</span> 
                     </p>
                     <p>要同步索引，请使用CTX_DDL。 <a href="CTX_DDL-package.html#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a> 。</p>
                     <p><span class="bold">添加区域部分</span><a id="d5395e2357" class="indexterm-anchor"></a></p>
                     <p>要将标记&lt; <code class="codeph">author&gt;</code>标识的区域部分<code class="codeph">author</code>添加到索引，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myindex REBUILD PARAMETERS（'add zone section author tag author'）;</pre><p><span class="bold">添加停止部分</span><a id="d5395e2374" class="indexterm-anchor"></a></p>
                     <p>要将标记&lt; <code class="codeph">fluff&gt;</code>标识的停止部分添加到使用<code class="codeph">AUTO_SECTION_GROUP</code>的索引，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myindex REBUILD PARAMETERS（'add stop section fluff'）;</pre><p><span class="bold">添加属性部分</span><a id="d5395e2391" class="indexterm-anchor"></a></p>
                     <p>假设以下文本出现在XML文档中：</p><pre class="oac_no_warn" dir="ltr">&lt;书名=“双城记”&gt;这是最好的时期。&lt;/ book&gt;</pre><p>还假设您要为title属性创建单独的部分，并且要为新属性部分<code class="codeph">booktitle</code>命名。为此，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myindex REBUILD PARAMETERS（'add attr section booktitle tag title @ book'）;</pre><p id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__CIHJJJDH"><span class="bold">添加SDATA部分</span><a id="d5395e2410" class="indexterm-anchor"></a></p>
                     <p>要添加SDATA段<code class="codeph">S1</code>的<code class="codeph">NUMBER</code>数据类型和标签标识<code class="codeph">T1</code> ，到索引中，输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myindex PARAMETERS（'添加sdata节S1标签T1数据类型NUMBER）;</pre><p><span class="bold">禁用自动后台索引优化</span></p>
                     <p>以下示例禁用优化令牌并优化在后台自动运行的完整作业：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX myindex PARAMETERS（'REPLACE METADATA OPTIMIZE（MANUAL）'）;</pre><p><span class="bold">使用闪回查询</span></p>
                     <p>如果在正在运行查询的Text索引上发出<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句之前，将Text查询闪回到某一点，则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>查询优化器不会为该给定索引选择索引访问路径，因为索引是根据<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>创建时间来处理的。因此，对于查询优化器，感知索引不存在。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>语句涉及重新创建<code class="codeph">DR$</code>索引表，则Text运算符的功能处理将因ORA-01466或ORA-08176错误而失败。
                           </p>
                        </li>
                     </ul>
                     <p>要解决此问题，请使用<code class="codeph">DBMS_FLASHBACK</code>包。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC dbms_flashback.enable_at_system_change_number（：scn）;文档中的SELECT id WHERE CONTAINS（text，'oracle'）&gt; 0; EXEC dbms_flashback.disable;</pre><div class="infoboxnotealso" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-0B06B783-882B-4F79-8DAD-3F4466149259">
                        <p class="notep1">也可以看看：</p>
                        <p>“ <span class="italic">Oracle数据库开发指南</span> ”中的“ <a href="../adfns/flashback.html#ADFNS01009" target="_blank">使用DBMS_FLASHBACK包</a> ”</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__BABEIJDB">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-B6EF2892-0E15-46FA-AF5D-A29B928AC0FB">笔记</p>
                     <p><a id="d5395e2488" class="indexterm-anchor"></a>添加部分约束</p>
                     <p><a id="d5395e2494" class="indexterm-anchor"></a>在更改索引节信息之前，Oracle Text会根据现有节检查新节，以确保满足所有有效性约束。这些约束与使用<code class="codeph">CTX_DDL</code> PL / SQL包将节添加到节组相同，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您不能将区域，字段或停止节添加到<code class="codeph">NULL_SECTION_GROUP</code> 。</p>
                        </li>
                        <li>
                           <p>您无法将区域，字段或属性部分添加到自动部分组。</p>
                        </li>
                        <li>
                           <p>您不能将属性部分添加到XML部分组以外的任何部分。</p>
                        </li>
                        <li>
                           <p>您不能为两个不同的部分使用相同的标记。</p>
                        </li>
                        <li>
                           <p>区域，字段和属性部分的节名称不能相交。</p>
                        </li>
                        <li>
                           <p>每个部分不能超过64个字段。</p>
                        </li>
                        <li>
                           <p>您无法将停止部分添加到基本，HTML，XML或新闻部分组。</p>
                        </li>
                        <li>
                           <p><code class="codeph">SENTENCE</code>和<code class="codeph">PARAGRAPH</code>是保留的部分名称。
                           </p>
                        </li>
                        <li>
                           <p>您不能在节和字段名称中包含嵌入的空格。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-47E60252-C731-46A8-B587-AE30C1634F48__GUID-6749C9F4-C895-4F20-84BA-3A95FFF94E8D">相关话题</p>
                     <p>CTX_DDL。 <a href="CTX_DDL-package.html#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>在<a href="CTX_DDL-package.html#GUID-0F7C39E8-E44A-421C-B40D-3B3578B507E9">CTX_DDL包</a></p>
                     <p>CTX_DDL。 <a href="CTX_DDL-package.html#GUID-0F7C39E8-E44A-421C-B40D-3B3578B507E9">CTX_DDL包中的</a> <a href="CTX_DDL-package.html#GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55">OPTIMIZE_INDEX</a></p>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创建指数</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23696"></a><a id="CCREF23697"></a><a id="CCREF23698"></a><a id="CCREF23699"></a><a id="CCREF23700"></a><a id="CCREF23701"></a><a id="CCREF0110"></a><div class="props_rev_3"><a id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A" name="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A"></a><h3 id="CCREF-GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A" class="sect3"><span class="enumeration_section">1.2</span> ALTER TABLE：支持的分区语句</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-61E4435B-7B53-40E9-8616-19D1578B6926">
                        <p class="notep1">注意：</p>
                        <p>本节介绍<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句，因为它与添加和修改带有上下文域索引的分区文本表有关。
                        </p>
                        <p>有关<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句的完整说明，请参见<a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span> 。</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-1138F29A-C335-4CD0-BB7E-AAA812CA3506">目的</p>
                     <p>使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句添加，修改，拆分，合并，交换或删除带有上下文域索引的分区文本表。以下部分描述了一些<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>操作。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-7A986F7E-DD2E-4F2A-8177-6B85DB02DFD1">修改分区语法</p>
                     <p>不可用的本地索引</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE [schema。]表MODIFY PARTITION分区UNUSABLE LOCAL INDEXES</pre><p>标记与给定表分区<code class="codeph">UNUSABLE</code>对应的索引分区。在重建索引分区之前，可能会将索引分区标记为不可用，如<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__i1000191">重建不可用的本地索引</a> ”中所述</span> 。
                     </p>
                     <p>如果索引分区未标记为不可用，则语句将返回而不实际重建本地索引分区。</p>
                     <p id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__i1000191">重建不可用的本地索引</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE [schema。]表MODIFY PARTITION分区REBUILD不可用的本地索引</pre><p>重建与具有<code class="codeph">UNUSABLE</code>状态的指定表分区对应的索引分区。
                     </p>
                     <div class="infoboxnote" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-B03ED099-54AD-4AA8-9761-BBFCAFCFEE1A">
                        <p class="notep1">注意：</p>
                        <p>如果索引分区状态已经是<code class="codeph">VALID</code>你进入这个语句之前，那么这种说法<span class="italic">不</span>重建索引分区。除非索引分区状态为<code class="codeph">UNUSABLE</code>否则不要依赖此语句来重建索引分区。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-69D80808-6619-4B1E-90A9-EF5C6CE75062">添加分区语法</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE [schema。]表ADD PARTITION [partition] VALUES少于（value_list）[partition_description]</pre><p></p>
                     <p>将新分区添加到范围分区表的高端。</p>
                     <p>要将分区添加到表的开头或中间，请使用<code class="codeph">ALTER TABLE SPLIT PARTITION</code>语句。
                     </p>
                     <p>新添加的表分区始终为空，并且此分区的上下文域索引（如果有）状态始终为<code class="codeph">VALID</code> 。发出DML后，如果要同步或优化此新添加的索引分区，则必须查找索引分区名称并输入<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code> <code class="codeph">PARTITION</code>语句。对于此新添加的分区，索引分区名称通常与表分区名称相同，但如果表分区名称已被另一个索引分区使用，则系统<code class="codeph">SYS_Pn</code>的形式分配名称。
                     </p>
                     <p>通过查询<code class="codeph">USER_IND_PARTITIONS</code>视图并比较<code class="codeph">HIGH_VALUE</code>字段，可以确定新添加的分区的索引分区名称。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-86809354-3742-4114-AA99-F887710226E3">合并分区语法</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE [schema。]表MERGE PARTITIONS partition1，partition2 [INTO PARTITION [new_partition] [partition_description]] [UPDATE GLOBAL INDEXES]</pre><p>仅适用于范围分区。此语句将两个相邻分区的内容合并到一个新分区中，然后删除原始的两个分区。如果生成的分区非空，则相应的本地域索引分区将标记为<code class="codeph">UNUSABLE</code> 。您可以使用<code class="codeph">ALTER TABLE MODIFY PARTITION</code>重建分区索引。
                     </p>
                     <p><a id="d5395e2775" class="indexterm-anchor"></a><a id="d5395e2777" class="indexterm-anchor"></a>对于全局非分区索引，如果在没有<code class="codeph">UPDATE GLOBAL INDEXES</code>子句的情况下执行合并操作，则生成的索引（如果不为<code class="codeph">NULL</code> ）将无效并且必须重建。如果在操作之后指定<code class="codeph">UPDATE GLOBAL INDEXES</code>子句且<code class="codeph">SYNC</code>类型为<code class="codeph">MANUAL</code> ，则索引将有效，但您仍必须将索引与CTX_DDL同步。 <a href="CTX_DDL-package.html#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>用于进行更新。
                     </p>
                     <p>生成的索引分区的命名约定与<code class="codeph">ALTER TABLE ADD PARTITION</code>语句中的命名约定相同。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-2965621B-A82A-4193-9EA2-2C4134F11C19">拆分分区语法</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE [schema。]表SPLIT PARTITION partition_name_old AT（value_list）[into（partition_description，partition_description）] [parallel_clause] [UPDATE GLOBAL INDEXES]</pre><p>仅适用于范围分区。此语句将表分区划分为两个分区，从而向表中添加新分区。如果相应的表分区非空，则本地对应的索引分区将标记为<code class="codeph">UNUSABLE</code> 。使用<code class="codeph">ALTER TABLE MODIFY PARTITION</code>语句重建分区索引。
                     </p>
                     <p><a id="d5395e2821" class="indexterm-anchor"></a><a id="d5395e2823" class="indexterm-anchor"></a>对于全局非分区索引，如果在没有<code class="codeph">UPDATE GLOBAL INDEXES</code>子句的情况下执行拆分操作，则生成的索引（如果不为<code class="codeph">NULL</code> ）将无效并且必须重建。如果在操作之后指定<code class="codeph">UPDATE GLOBAL INDEXES</code>子句且<code class="codeph">SYNC</code>类型为<code class="codeph">MANUAL</code> ，则索引将有效，但您仍必须将索引与CTX_DDL同步。 <a href="CTX_DDL-package.html#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>用于进行更新。
                     </p>
                     <p>两个结果索引分区的命名约定与<code class="codeph">ALTER TABLE ADD PARTITION</code>语句中的命名约定相同。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-740C90E8-513D-425F-AD01-E63EBBB6F15D">Exchange分区语法</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE [schema。]表EXCHANGE PARTITION分区WITH TABLE表[INCLUDING | EXCLUDING INDEXES} [WITH | WITHOUT VALIDATION] [EXCEPTIONS INTO [schema。] table] [更新全局索引]</pre><p>将分区转换为非分区表，并通过交换其数据段将表转换为分区表的分区。Rowid被保留。</p>
                     <p>如果指定了<code class="codeph">EXCLUDING INDEXES</code>则与分区对应的所有上下文索引和交换表上的所有索引都标记为<code class="codeph">UNUSABLE</code> 。要在这种情况下重建新的索引分区，请发出<code class="codeph">ALTER TABLE MODIFY PARTITION</code>语句。
                     </p>
                     <p>如果指定了<code class="codeph">INCLUDING INDEXES</code> ，则对于分区表上的每个本地域索引，非分区表上必须有非分区域索引。本地索引分区与相应的常规索引交换。
                     </p>
                     <p><a id="d5395e2877" class="indexterm-anchor"></a><a id="d5395e2879" class="indexterm-anchor"></a>对于全局非分区索引，如果在没有<code class="codeph">UPDATE GLOBAL INDEXES</code>子句的情况下执行交换操作，则生成的索引（如果不为<code class="codeph">NULL</code> ）将无效并且必须重建。如果在操作之后指定<code class="codeph">UPDATE GLOBAL INDEXES</code>子句且<code class="codeph">SYNC</code>类型为<code class="codeph">MANUAL</code> ，则索引将有效，但您仍必须将索引与CTX_DDL同步。 <a href="CTX_DDL-package.html#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>用于进行更新。
                     </p>
                     <p>现场部分</p>
                     <p>如果非分区索引和本地索引对同一字段部分使用不同的部分ID，则字段部分查询可能无法以相同的方式工作。</p>
                     <p>存储</p>
                     <p>存储不会更改。因此，如果非分区表<code class="codeph">$I</code>表上的索引在表空间XYZ中，那么在交换分区之后，它仍将在表空间XYZ中，但现在它是索引分区的<code class="codeph">$I</code>表。
                     </p>
                     <p>存储首选项未切换，因此如果切换然后重建索引，则可以在其他位置创建表。</p>
                     <p>限制</p>
                     <p>两个索引必须是等价的。他们必须为每个对象使用相同的对象和相同的设置。请注意，Oracle Text仅检查索引是否使用相同的对象。但他们应该使用相同的一切。</p>
                     <p>不能对索引对象进行分区，也就是说，当用户使用存储对象对$ I，$ N表进行分区时。</p>
                     <p>如果索引或索引分区不满足所有这些限制，则会引发错误，索引和索引分区都将为<code class="codeph">INVALID</code> 。您必须使用<code class="codeph">ALTER INDEX REBUILD</code>语句手动重建索引和索引分区。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-A2F00E4D-C947-47CD-9561-26B4ADE1DB85">截断分区语法</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE [schema。]表TRUNCATE PARTITION [DROP | REUSE STORAGE] [UPDATE GLOBAL INDEXES]</pre><p>从表中的分区中删除所有行。相应的<code class="codeph">CONTEXT</code>索引分区也被删除。
                     </p>
                     <p><a id="d5395e2946" class="indexterm-anchor"></a><a id="d5395e2948" class="indexterm-anchor"></a>对于全局非分区索引，如果在没有<code class="codeph">UPDATE GLOBAL INDEXES</code>子句的情况下执行truncate操作，则生成的索引（如果不为<code class="codeph">NULL</code> ）将无效并且必须重建。如果在操作后指定<code class="codeph">UPDATE GLOBAL INDEXES</code>子句，则索引将有效。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFC14045-45A7-47AA-8FFC-53B222E00E9A__GUID-7F7239E4-A7D4-4463-BD79-D1352674F45C">ALTER TABLE示例</p>
                     <p>分区表示例的全局索引</p>
                     <p>以下示例创建一个包含三个分区的范围分区表。每个分区都填充两行。然后创建一个全局的，未分区的<code class="codeph">CONTEXT</code>索引。为了演示<code class="codeph">UPDATE GLOBAL INDEXES</code>子句，分割分区并与索引同步合并。
                     </p><pre class="oac_no_warn" dir="ltr">按范围（a）创建表tdrexglb_part（一个int，b varchar2（40））分区（分区p1值小于（10），分区p2值小于（20），分区p3值小于（30））;插入到tdrexglb_part值（1，'row1'）;插入tdrexglb_part值（8，'row2'）;插入到tdrexglb_part值（11，'row11'）;插入到tdrexglb_part值（18，'row18'）;插入到tdrexglb_part值（21，'row21'）;插入到tdrexglb_part值（28，'row28'）;承诺;在tdrexglb_part上创建索引tdrexglb_parti（b）indextype是ctxsys.context; create table tdrexglb（int，b varchar2（40））;插入tdrexglb值（20，'newrow20'）;承诺; PROMPT确保查询工作select * from tdrexglb_part where contains（b，'row18'）&gt; 0; PROMPT拆分分区alter table tdrexglb_part拆分分区p2（15）到（分区p21，分区p22）更新全局索引;同步之前的PROMPT select * from tdrexglb_part其中包含（b，'row11'）&gt; 0; select * from tdrexglb_part其中包含（b，'row18'）&gt; 0; exec ctx_ddl.sync_index（'tdrexglb_parti'）同步select *之后的PROMPT来自tdrexglb_part，其中包含（b，'row11'）&gt; 0; select * from tdrexglb_part其中包含（b，'row18'）&gt; 0; PROMPT合并分区alter table tdrexglb_part将分区p22，p3合并到分区pnew3更新全局索引;同步之前的PROMPT select * from tdrexglb_part其中包含（b，'row18'）&gt; 0; select * from tdrexglb_part其中包含（b，'row28'）&gt; 0; exec ctx_ddl.sync_index（'tdrexglb_parti'）;同步后的PROMPT选择*来自tdrexglb_part，其中包含（b，'row18'）&gt; 0; select * from tdrexglb_part其中包含（b，'row28'）&gt; 0; PROMPT drop partition alter table tdrexglb_part drop partition p1 update global indexes;同步之前的PROMPT select * from tdrexglb_part其中包含（b，'row1'）&gt; 0; exec ctx_ddl.sync_index（'tdrexglb_parti'）;同步后的PROMPT选择*来自tdrexglb_part，其中包含（b，'row1'）&gt; 0; PROMPT交换分区alter table tdrexglb_part交换分区pnew3与表tdrexglb更新全局索引;同步之前的PROMPT select * from tdrexglb_part其中包含（b，'newrow20'）&gt; 0; select * from tdrexglb_part其中包含（b，'row28'）&gt; 0; exec ctx_ddl.sync_index（'tdrexglb_parti'）;同步后的PROMPT选择*来自tdrexglb_part，其中包含（b，'newrow20'）&gt; 0; select * from tdrexglb_part其中包含（b，'row28'）&gt; 0; PROMPT移动表分区alter table tdrexglb_part移动分区p21更新全局索引;同步之前的PROMPT select * from tdrexglb_part其中包含（b，'row11'）&gt; 0; exec ctx_ddl.sync_index（'tdrexglb_parti'）;同步后的PROMPT select * from tdrexglb_part其中包含（b，'row11'）&gt; 0; PROMPT truncate table partition alter table tdrexglb_part truncate partition p21 update global indexes;更新全局索引;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23702"></a><a id="CCREF23703"></a><a id="CCREF23704"></a><a id="CCREF23705"></a><a id="CCREF0103"></a><div class="props_rev_3"><a id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54" name="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54"></a><h3 id="CCREF-GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54" class="sect3"><span class="enumeration_section">1.3</span> CATSEARCH</h3>
               <div>
                  <div class="section">
                     <p>使用<code class="codeph">CATSEARCH</code>运算符搜索<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I999894">CTXCAT</a>索引。在<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中使用此运算符。
                     </p>
                     <p><code class="codeph">CATSEARCH</code>运算符还支持数据库链接。您可以通过将<code class="codeph">@dblink</code>附加到其名称的末尾来标识远程表或物化视图。<code class="codeph">dblink</code>必须是包含远程表或物化视图的数据库的数据库链接的完整或部分名称。（不支持索引远程视图。）
                     </p>
                     <p>该运算符的语法称为<code class="codeph">CTXCAT</code> 。如果搜索条件需要特殊功能，例如词库，模糊匹配，邻近搜索或词干，您还可以使用<code class="codeph">CONTEXT</code>语法。要使用<code class="codeph">CONTEXT</code>语法，请使用text_query参数中的<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I997325">查询模板规范</a> ”</span> ，如本节所述。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-CA38465C-D257-4CA9-9B20-3503B9A060B0">关于绩效</p>
                     <p>使用带有<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I999894">CTXCAT</a>索引的<code class="codeph">CATSEARCH</code>运算符主要是为了提高混合查询性能。使用<code class="codeph">text_query</code>指定文本查询条件，使用<code class="codeph">structured_query</code>参数指定结构化条件。
                     </p>
                     <p>在内部，Oracle Text在文本和结构化列上使用组合的B树索引来快速生成满足查询的结果。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-4249F63D-07D7-42EF-82AC-8A806BED0525">限制</p>
                     <p>如果优化器选择使用功能查询调用，那么您的查询将失败。当结构化子句具有高度选择性时，优化器可能会选择功能调用。</p>
                     <p><code class="codeph">CATSEARCH</code>运算符的<code class="codeph">structured_query</code>参数必须引用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>集期间使用的列;否则，将引发错误DRG-10845。例如，如果您对在其上具有<code class="codeph">CTXCAT</code>索引的表顶部创建的视图发出<code class="codeph">CATSEARCH</code>查询，并且视图上的逻辑列的名称与物理上的实际列名称不同，则会引发错误。表。<code class="codeph">CATSEARCH</code>运算符的<code class="codeph">structured_query</code>参数引用的列必须是<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>集期间使用的物理列名称，而不是视图中的逻辑列。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-FD105087-B9AC-4C5E-AB8A-93B92B2844DF">句法</p><pre class="oac_no_warn" dir="ltr">CATSEARCH（</pre><pre class="oac_no_warn" dir="ltr">[ <span class="italic">schema</span> 。] <span class="italic">列</span> ，text_query [VARCHAR2 | CLOB]，structured_query VARCHAR2，</pre><pre class="oac_no_warn" dir="ltr">返回号码;</pre><dl>
                        <dt class="dlterm"><a name="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-DA7A29FA-EE51-4DC0-BBB5-88B0FDB73C74"><!-- --></a> [schema。]列</dt>
                        <dd>
                           <p>指定要搜索的文本列。此列必须具有<code class="codeph">CTXCAT</code>关联的<code class="codeph">CTXCAT</code>索引。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__CHDDHAEF"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定以下其中一项以在<code class="codeph">column</code>定义搜索：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I997256">CATSEARCH查询操作</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I997325">查询模板规范</a> （用于使用<code class="codeph">CONTEXT</code>语法）</p>
                        </li>
                     </ul>
                     <p id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I997256">CATSEARCH查询操作</p>
                     <p><code class="codeph">CATSEARCH</code>运算符仅支持以下查询操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>逻辑<code class="codeph">AND</code></p>
                        </li>
                        <li>
                           <p>逻辑<code class="codeph">OR</code> （|）</p>
                        </li>
                        <li>
                           <p>逻辑<code class="codeph">NOT</code> （ - ）</p>
                        </li>
                        <li>
                           <p>“”（引用的短语）</p>
                        </li>
                        <li>
                           <p>通配符</p>
                        </li>
                     </ul>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__CHDJBGHE" title="此表描述了各种CATSEARCH查询运算符。">表1-3</a>提供了这些运算符的语法。
                     </p>
                     <div class="tblformal" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__CHDJBGHE">
                        <p class="titleintable">表1-3 CATSEARCH查询运算符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CATSEARCH查询运算符" width="100%" border="1" summary="This table describes the various CATSEARCH query operators." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d5395e3248">手术</th>
                                 <th align="left" valign="bottom" width="20%" id="d5395e3251">句法</th>
                                 <th align="left" valign="bottom" width="59%" id="d5395e3254">操作说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5395e3259" headers="d5395e3248 ">
                                    <p>逻辑<code class="codeph">AND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5395e3259 d5395e3251 ">
                                    <p>ABC</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d5395e3259 d5395e3254 ">
                                    <p>返回包含a，b和c的行。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5395e3271" headers="d5395e3248 ">
                                    <p>逻辑<code class="codeph">OR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5395e3271 d5395e3251 ">
                                    <p>a | b | C</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d5395e3271 d5395e3254 ">
                                    <p>返回包含a，b或c的行。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5395e3283" headers="d5395e3248 ">
                                    <p>逻辑<code class="codeph">NOT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5395e3283 d5395e3251 ">
                                    <p>a  -  b</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d5395e3283 d5395e3254 ">
                                    <p>返回包含a而不是b的行。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5395e3295" headers="d5395e3248 ">
                                    <p>连字符没有空格</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5395e3295 d5395e3251 ">
                                    <p>AB</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d5395e3295 d5395e3254 ">
                                    <p>连字符作为常规字符处理。</p>
                                    <p>例如，如果将连字符定义为skipjoin，则将诸如<span class="italic">web-site之</span>类的单词视为单个查询术语<span class="italic">网站</span> 。
                                    </p>
                                    <p>同样，如果将连字符定义为printjoin，则将诸如<span class="italic">web-site之</span>类的单词视为<code class="codeph">CTXCAT</code>查询语言中<span class="italic">的网站</span> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5395e3324" headers="d5395e3248 ">
                                    <p>“”</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5395e3324 d5395e3251 ">
                                    <p>“ab c”</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d5395e3324 d5395e3254 ">
                                    <p>返回包含短语“ab c”的行。</p>
                                    <p>例如，输入“Sony CD Player”表示返回包含此单词序列的所有行。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5395e3336" headers="d5395e3248 ">
                                    <p>（）</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5395e3336 d5395e3251 ">
                                    <p>（AB）| C</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d5395e3336 d5395e3254 ">
                                    <p>括号组操作。此查询等同于<code class="codeph">CONTAINS</code>查询（A和B）| C。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5395e3349" headers="d5395e3248 ">
                                    <p>通配符</p>
                                    <p>（右和双截断）</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5395e3349 d5395e3251 ">
                                    <p>术语*</p>
                                    <p>A * B</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d5395e3349 d5395e3254 ">
                                    <p>通配符匹配零个或多个字符。</p>
                                    <p>例如， <span class="italic">do *</span>匹配<span class="italic">dog</span> ， <span class="italic">gl * s</span>匹配<span class="italic">glass</span> 。
                                    </p>
                                    <p>左截断不受支持。</p>
                                    <p>注意：如果应用程序使用通配符搜索，Oracle建议您创建前缀索引。使用<a href="oracle-text-indexing-elements.html#GUID-CD2DE39F-17F7-424E-8DB3-A16C7843965D">BASIC_WORDLIST</a>首选项设置前缀索引。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>以下限制适用于这些运营商：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>左侧（列名称）必须是在索引集的至少一个索引中命名的列。</p>
                        </li>
                        <li>
                           <p>左侧必须是普通列名称。不允许使用函数和表达式。</p>
                        </li>
                        <li>
                           <p>右侧必须由文字值组成。不允许使用函数，表达式，其他列和子选择。</p>
                        </li>
                        <li>
                           <p>多个标准可以与<code class="codeph">AND</code>组合。请注意，不支持<code class="codeph">OR</code> 。
                           </p>
                        </li>
                        <li>
                           <p>通过数据库链接查询远程表时，必须为<code class="codeph">CATSEARCH</code>以及要查询的表指定数据库链接。
                           </p>
                        </li>
                     </ul>
                     <p>例如，支持这些表达式：</p><pre class="oac_no_warn" dir="ltr">catsearch（text，'dog'，'foo&gt; 15'）catsearch（text，'dog'，'bar =''SMITH'''）catsearch（text，'dog'，'foo介于1和15'之间）catsearch（ text，'dog'，'foo = 1 and abc = 123'）catsearch @ remote（text，'dog'，'foo = 1 and abc = 123'）</pre><p>不支持这些表达式：</p><pre class="oac_no_warn" dir="ltr">catsearch（text，'dog'，'upper（bar）=''A'''）catsearch（text，'dog'，'bar LIKE''A％'''）catsearch（text，'dog'，'foo） = abc'）catsearch（text，'dog'，'foo = 1或abc = 3'）</pre><p id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I997325">查询模板规范<a id="d5395e3422" class="indexterm-anchor"></a><a id="d5395e3424" class="indexterm-anchor"></a></p>
                     <p>指定标记的字符串，用于指定查询模板。指定以下模板之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>查询重写，用于将查询字符串扩展为不同的版本</p>
                        </li>
                        <li>
                           <p>渐进式放松，用于逐步输入限制较少的查询版本以增加回忆</p>
                        </li>
                        <li>
                           <p>替代语法，用于指定<code class="codeph">CONTAINS</code>运算符（参见<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I1000002">CONTEXT查询语法示例</a> ”</span> ）</p>
                        </li>
                        <li>
                           <p>备用语言，用于指定备用查询语言</p>
                        </li>
                        <li>
                           <p>替代评分，用于指定备用评分算法</p>
                           <div class="infoboxnotealso" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-5318826C-460B-490D-9A10-02DFF216C577">
                              <p class="notep1">也可以看看：</p>
                              <p>有关这些查询模板语法的详细信息，请参阅<code class="codeph">CONTAINS</code>的<a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__BJECJFFJ">“text_query”</a>参数说明</p>
                           </div>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-419D7768-C225-4C70-ADD4-17A8F6348212"><!-- --></a> structured_query</dt>
                        <dd>
                           <p>指定结构化条件和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句。必须存在您指定的任何列的索引。例如，如果您<code class="codeph">'category_id=1 order by bid_close'</code>指定<code class="codeph">'category_id=1 order by bid_close'</code> ，则必须具有<code class="codeph">'category_id, bid_close'</code>指定的<code class="codeph">'category_id, bid_close'</code>的<code class="codeph">CTX_DDL</code> 。 <code class="codeph">ADD_INDEX</code>包。
                           </p>
                           <p>使用<code class="codeph">structured_query</code> ，您只能使用以下运算符使用标准SQL语法：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>=</p>
                        </li>
                        <li>
                           <p>&lt;=</p>
                        </li>
                        <li>
                           <p>&gt; =</p>
                        </li>
                        <li>
                           <p>&gt;</p>
                        </li>
                        <li>
                           <p>&lt;</p>
                        </li>
                        <li>
                           <p><code class="codeph">在</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">之间</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">AND</code> （合并两个或多个条款）</p>
                           <div class="infoboxnote" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-CB7CA638-4F74-475E-9281-585032BAC80D">
                              <p class="notep1">注意：</p>
                              <p>您不能在<code class="codeph">structured_query</code>参数中使用括号（）。
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-41824E07-E4FE-48DB-854B-EBF94535FC11">例子</p>
                     <ol>
                        <li>
                           <p>创建表。</p>
                           <p>以下语句创建要编制索引的表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE拍卖（category_id号码主键，标题varchar2（20），bid_close日期）;</pre><p>以下语句将值插入表中：</p><pre class="oac_no_warn" dir="ltr">插入拍卖价值（1，'Sony DVD Player'，'20-FEB-2012'）;插入拍卖价值（2，'Sony DVD Player'，'24-FEB-2012'）;插入拍卖价值（3，'Pioneer DVD Player'，'25-FEB-2012'）;插入拍卖价值（4，'Sony DVD Player'，'25-FEB-2012'）;插入拍卖价值（5，'Bose Speaker'，'22-FEB-2012'）;插入拍卖价值（6，'Tascam CD Burner'，'25-FEB-2012'）;插入拍卖价值（7，'尼康数码相机'，'22-FEB-2012'）;插入拍卖价值（8，'佳能数码相机'，'26-FEB-2012'）;</pre></li>
                        <li>
                           <p>创建<code class="codeph">CTXCAT</code>索引。
                           </p>
                           <p>以下语句创建<code class="codeph">CTXCAT</code>索引：</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_index_set（ 'auction_iset'）; ctx_ddl.add_index（ 'auction_iset'， 'bid_close'）;</pre><pre class="oac_no_warn" dir="ltr">结束; / CREATE INDEX auction_titlex ON拍卖（标题）INDEXTYPE IS CTXSYS.CTXCAT PARAMETERS（'index set auction_iset'）;</pre></li>
                        <li>
                           <p>查询表格。</p>
                           <p>使用<code class="codeph">CATSEARCH</code>的典型查询可能包含如下结构化子句，以查找包含按<code class="codeph">bid_close</code>排序的单词<span class="italic">camera的</span>所有行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM拍卖WHERE CATSEARCH（标题，'相机'，'按bid_close desc排序'）&gt; 0; CATEGORY_ID标题BID_CLOSE ----------- -------------------- --------- 8佳能数码相机26-FEB -12 7尼康数码相机22-FEB-12</pre><p>以下查询查找包含短语<span class="italic">Sony DVD Player</span>并且出价截止日期为2012年2月20日的所有行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM拍卖WHERE CATSEARCH（标题，'“Sony DVD播放器”'，'bid_close =''20-FEB-00'''）&gt; 0; CATEGORY_ID TITLE BID_CLOSE ----------- -------------------- --------- 1 Sony DVD Player 20-FEB -12</pre><p>以下查询查找包含<span class="italic">Sony</span> ， <span class="italic">DVD</span>和<span class="italic">Player</span>这两个术语的所有行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM拍卖WHERE CATSEARCH（标题，'Sony DVD播放器'，'按bid_close desc排序'）&gt; 0; CATEGORY_ID TITLE BID_CLOSE ----------- -------------------- --------- 4 Sony DVD Player 25-FEB -12 2索尼DVD播放机24-FEB-12 1索尼DVD播放机20-FEB-12</pre><p>以下查询查找具有术语<span class="italic">DVD</span>而不是<span class="italic">Player的</span>所有行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM拍卖WHERE CATSEARCH（标题，'DVD  - 播放器'，'按bid_close desc排序'）&gt; 0; CATEGORY_ID标题BID_CLOSE ----------- -------------------- --------- 6 Tascam CD刻录机25-FEB -12</pre><p>以下查询查找具有术语<span class="italic">CD</span>或<span class="italic">DVD</span>或<span class="italic">Speaker的</span>所有行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM拍卖WHERE CATSEARCH（标题，'CD | DVD |演讲者'，'按bid_close desc排序'）&gt; 0; CATEGORY_ID TITLE BID_CLOSE ----------- -------------------- --------- 3 Pioneer DVD Player 25-FEB -12 4 Sony DVD播放机25-FEB-12 6 Tascam CD刻录机25-FEB-12 2 Sony DVD播放机24-FEB-12 5 Bose扬声器22-FEB-12 1 Sony DVD播放机20-FEB-12</pre><p>以下查询查找有关<span class="italic">音频设备的</span>所有行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM拍卖WHERE CATSEARCH（标题，'关于（音频设备）'，NULL）&gt; 0;</pre></li>
                     </ol>
                     <p id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I1000002">语境查询语法示例</p>
                     <p>以下示例显示如何使用模板功能在<code class="codeph">CATSEARCH</code>查询中指定<code class="codeph">CONTEXT</code>语法：</p><pre class="oac_no_warn" dir="ltr">PROMPT PROMPT fuzzy：query =？test PROMPT应该匹配测试的所有模糊变化（例如，文本）select pk ||' ==&gt;'||来自test的文本catsearch（text，'&lt;query&gt; &lt;textquery grammar =“context”&gt;？测试&lt;/ textquery&gt; &lt;/ query&gt;'，''）&gt;按0顺序排序; PROMPT PROMPT模糊：查询=！sail PROMPT应匹配bot的所有soundex变体（例如，sell）select pk ||' ==&gt;'||来自test的文本catsearch（text，'&lt;query&gt; &lt;textquery grammar =“context”&gt;！sail &lt;/ textquery&gt; &lt;/ query&gt;'，''）&gt; 0顺序由pk; PROMPT PROMPT主题（关于）查询PROMPT查询：about（California）select pk ||' ==&gt;'||来自test的文本catsearch（text，'&lt;query&gt; &lt;textquery grammar =“context”&gt; about（California）&lt;/ textquery&gt; &lt;/ query&gt;'，''）&gt; 0 by pk;</pre><p>以下示例显示了通过<code class="codeph">CATSEARCH</code>查询中的查询模板使用<code class="codeph">CONTEXT</code>语法对<code class="codeph">CTXCAT</code>索引进行的字段剖面搜索：</p><pre class="oac_no_warn" dir="ltr">- 创建并填充表创建表BOOKS（ID号，INFO varchar2（200），PUBDATE DATE）;插入BOOKS值（1，'&lt;作者&gt; NOAM CHOMSKY &lt;/ author&gt; &lt;subject&gt; CIVIL RIGHTS &lt;/ subject&gt; &lt;语言&gt; ENGLISH &lt;/ language&gt; &lt;publisher&gt; MIT PRESS &lt;/ publisher&gt;'，' -  1  -  NO- 2003' ）;插入BOOKS值（2，'&lt;author&gt; NICANOR PARRA &lt;/ author&gt; &lt;subject&gt; POEMS AND ANTIPOEMS &lt;/ subject&gt; &lt;language&gt; SPANISH &lt;/ language&gt; &lt;publisher&gt; VASQUEZ &lt;/ publisher&gt;'，'01 -JAN- 2001' ）;插入BOOKS值（1，'&lt;author&gt; LUC SANTE &lt;/ author&gt; &lt;subject&gt; XML DATABASE &lt;/ subject&gt; &lt;language&gt; FRENCH &lt;/ language&gt; &lt;publisher&gt; FREE PRESS &lt;/ publisher&gt;'，'15 -MAY- 2002' ）;承诺; - 创建索引集和节组exec ctx_ddl.create_index_set（'BOOK_INDEX_SET'）; exec ctx_ddl.add_index（'BOOKSET'，'PUBDATE'）; exec ctx_ddl.create_section_group（'BOOK_SECTION_GROUP'，'BASIC_SECTION_GROUP'）; exec ctx_ddl.add_field_section（'BOOK_SECTION_GROUP'，'AUTHOR'，'AUTHOR'）; exec ctx_ddl.add_field_section（'BOOK_SECTION_GROUP'，'SUBJECT'，'SUBJECT'）; exec ctx_ddl.add_field_section（'BOOK_SECTION_GROUP'，'LANGUAGE'，'LANGUAGE'）; exec ctx_ddl.add_field_section（'BOOK_SECTION_GROUP'，'PUBLISHER'，'PUBLISHER'）; - 创建索引创建索引books_index on books（info）indextype是ctxsys.ctxcat参数（'index set book_index_set section group book_section_group'）; - 使用索引 - 请注意：即使可以使用字段部分创建CTXCAT索引，也不能使用CTXCAT语法（CATSEARCH的默认值）访问它。- 我们需要使用带有CONTEXT语法的查询模板来访问具有CATSEARCH的字段。选择id，来自书籍的信息，其中catsearch（信息，'&lt;query&gt; &lt;textquery语法=“上下文”&gt;作者中的NOAM和语言中的英语&lt;/ textquery&gt; &lt;/ query&gt;'，'按pubdate排序'）&gt; 0;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__GUID-59DABF9D-1F61-4D32-8BA6-CE57527FC86B">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998134">CTXCAT索引类型的语法</a> ”</span></p>
                     <p><a href="../ccapp/querying-with-oracle-text.html#CCAPP-GUID-9A182607-C033-4B4A-8177-5E5C0DE2D520" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23706"></a><a id="CCREF23707"></a><a id="CCREF24124"></a><a id="CCREF23708"></a><a id="CCREF23709"></a><a id="CCREF24125"></a><a id="CCREF23710"></a><a id="CCREF23711"></a><a id="CCREF23712"></a><a id="CCREF23713"></a><a id="CCREF23714"></a><a id="CCREF23715"></a><a id="CCREF23716"></a><a id="CCREF23717"></a><a id="CCREF23718"></a><a id="CCREF24063"></a><a id="CCREF23719"></a><a id="CCREF23720"></a><a id="CCREF24126"></a><a id="CCREF0104"></a><div class="props_rev_3"><a id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59" name="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59"></a><h3 id="CCREF-GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59" class="sect3"><span class="enumeration_section">1.4包含</span></h3>
               <div>
                  <div class="section">
                     <p>使用<a id="d5395e3768" class="indexterm-anchor"></a> <code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">CONTAINS</code>运算符，用于指定Text查询的查询表达式。
                     </p>
                     <p><code class="codeph">CONTAINS</code>运算符还支持数据库链接。您可以通过将<code class="codeph">@dblink</code>附加到其名称的末尾来标识远程表或物化视图。<code class="codeph">dblink</code>必须是包含远程表或物化视图的数据库的数据库链接的完整或部分名称（不支持查询远程视图）。
                     </p>
                     <p><code class="codeph">CONTAINS</code>返回所选每行的相关性分数。使用<a href="oracle-text-SQL-statements-and-operators.html#GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0">SCORE</a>运算符获得此分数。
                     </p>
                     <p>此运算符的语法称为<code class="codeph">CONTEXT</code>语法。如果您的应用程序使用更简单的语法更好地工作，您也可以使用<code class="codeph">CTXCAT</code>语法。为此，请使用text_query参数中的<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54__I997325">查询模板规范</a> ”</span> ，如本节所述。
                     </p>
                     <div class="infoboxnotealso" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-EF27B927-C22E-4A39-955A-0C276CDF872B">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDIGBGC">查询重写模板</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDJEHAG">查询结果集描述符模板</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDFEHCJ">查询放松模板</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDGIDCE">替代语法模板</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDFGJFE">语言独立模板</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDIBEJB">替代语言模板</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDJFCEE">替代评分模板</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../ccapp/working-with-CONTEXT-and-CTXCAT-grammars-in-oracle-text.html#CCAPP9172" target="_blank"><span class="italic">Oracle Text Application Developer's Guide中的</span></a> “CONTEXT语法”主题</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-0C74280E-5F74-485E-9517-7264A82F0839">句法</p><pre class="oac_no_warn" dir="ltr">CONTAINS（[ <span class="italic">schema</span> 。] <span class="italic">column</span> ，text_query [VARCHAR2 | CLOB] [，label NUMBER]）RETURN NUMBER;</pre><dl>
                        <dt class="dlterm"><a name="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-D007B8E0-6BCC-46A8-B0C1-E056C94D7C5B"><!-- --></a> [schema。]列</dt>
                        <dd>
                           <p>指定要搜索的文本列。此列必须具有与之关联的Text索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__BJECJFFJ"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定以下之一（对于<code class="codeph">VARCHAR2</code>限制为4000个字节，对于<code class="codeph">CLOB</code>限制为64000个字节）：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用于在<code class="codeph">column</code>中定义搜索的查询表达式。
                           </p>
                        </li>
                        <li>
                           <p>标记文档，用于指定查询模板。</p>
                           <p>使用以下查询模板之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDIGBGC">查询重写模板</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDJEHAG">查询结果集描述符模板</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDFEHCJ">查询放松模板</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDGIDCE">替代语法模板</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDFGJFE">语言独立模板</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDIBEJB">替代语言模板</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDJFCEE">替代评分模板</a></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDIGBGC">查询重写模板<a id="d5395e3945" class="indexterm-anchor"></a><a id="d5395e3947" class="indexterm-anchor"></a></p>
                     <p>在将查询提交到Oracle Text之前，使用此模板自动编写查询的不同版本。当您需要最大程度地调用用户查询时，这非常有用。例如，您可以对应用程序进行编程，以将“猫狗”的单个短语查询扩展为以下查询：</p><pre class="oac_no_warn" dir="ltr">{cat} {dog} {cat}; {dog} {cat} AND {dog} {cat} ACCUM {dog}</pre><p>这些查询作为一个查询提交，返回的结果没有重复。在此示例中，查询返回包含短语<span class="italic">cat dog的</span>文档以及<span class="italic">cat</span>靠近<span class="italic">dog的</span>文档，以及包含<span class="italic">cat</span>和<span class="italic">dog的</span>文档。
                     </p>
                     <p>这是通过以下模板完成的：</p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery lang =“ENGLISH”grammar =“CONTEXT”&gt; cat dog &lt;progression&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”，“”））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”，“;”））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“ }“，”AND“））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，”{“，”}“，”ACCUM“））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;/ progress&gt; &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; &lt;/ query&gt;</pre><p><a id="d5395e3975" class="indexterm-anchor"></a><a id="d5395e3977" class="indexterm-anchor"></a>运算符<code class="codeph">TRANSFORM</code>用于指定重写规则，并具有以下语法（请注意，它使用双括号）。参数如下表所述。
                     </p><pre class="oac_no_warn" dir="ltr">TRANSFORM（（术语，前缀，后缀，连接符））</pre><div class="tblformal" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDEAGEF">
                        <p class="titleintable">表1-4 TRANSFORM参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="TRANSFORM参数" width="100%" border="1" summary="This table shows TRANSFORM parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d5395e3998">参数</th>
                                 <th align="left" valign="bottom" width="82%" id="d5395e4001">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4006" headers="d5395e3998 ">
                                    <p><code class="codeph">术语</code></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d5395e4006 d5395e4001 ">
                                    <p>指定要从原始查询生成的术语类型。指定<code class="codeph">TOKENS</code>或<code class="codeph">THEMES</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4020" headers="d5395e3998 ">
                                    <p><code class="codeph">字首</code></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d5395e4020 d5395e4001 ">
                                    <p>指定要添加到所有术语的文字字符串。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4028" headers="d5395e3998 ">
                                    <p><code class="codeph">后缀</code></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d5395e4028 d5395e4001 ">
                                    <p>指定要附加到所有术语的文字字符串。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4036" headers="d5395e3998 ">
                                    <p><code class="codeph">连接器</code></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d5395e4036 d5395e4001 ">
                                    <p>指定在应用前缀和后缀后连接所有术语的文字字符串。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-777FA58E-FA80-454E-BB46-370CA08DB750">
                        <p class="notep1">注意：</p>
                        <p>如果使用<code class="codeph">TRANSFORM</code>规则的查询重写模板中指定的输入文本查询字符串包含任何Oracle Text查询运算符（例如<code class="codeph">AND</code> ， <code class="codeph">OR</code>或<code class="codeph">SOUNDEX</code> ），则会引发错误。此外，输入文本查询字符串中的任何特殊字符（例如<code class="codeph">%</code>或<code class="codeph">$</code> ）必须以转义字符开头，否则会引发错误。
                        </p>
                     </div>
                     <p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDJEHAG">查询结果集描述符模板</p>
                     <p>使用此模板接收结果集描述符。元素ctx_result_set_descriptor被添加到查询模板中。这使得CONTAINS查询游标可以接受组计数查询。</p>
                     <p>结果集接口文档放在ctx_query包中的公共变量中。 （ctx_query.result_set_document。）</p>
                     <p>CONTAINS查询游标行为保持不变，结果集文档在关闭游标后立即可用</p>
                     <p>例如，以下<span class="italic">kukui nut</span>查询返回带有以下模板的结果集。
                     </p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery lang =“ENGLISH”grammar =“CONTEXT”&gt; &lt;progression&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”，“”））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”，“;”））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}” ，“AND”））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”，“ACCUM”））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;/ progression&gt; &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; &lt;ctx_result_set_descriptor&gt; &lt;group&gt; &lt;group_values&gt; &lt;value id =“2”/&gt; &lt;value id =“3”/&gt; &lt;value id =“ 4“/&gt; &lt;/ group_values&gt; &lt;count /&gt; &lt;/ group&gt; &lt;/ ctx_result_set_descriptor&gt; &lt;/ query&gt;</pre><p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDFEHCJ">查询放松模板<a id="d5395e4082" class="indexterm-anchor"></a><a id="d5395e4084" class="indexterm-anchor"></a><a id="d5395e4086" class="indexterm-anchor"></a></p>
                     <p>使用此模板逐步放宽查询。<span class="bold">逐步</span> <span class="bold">放松</span>是指通过逐步发布限制较少的查询版本来增加召回，以便您的应用程序可以向用户返回适当数量的匹配。
                     </p>
                     <p>例如， <span class="italic">黑笔</span>的查询可以逐步放松到：</p><pre class="oac_no_warn" dir="ltr">黑色笔黑色NEAR笔黑色和笔黑色ACCUM笔</pre><p>这是通过以下模板完成的</p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery lang =“ENGLISH”grammar =“CONTEXT”&gt; &lt;progression&gt; &lt;seq&gt;黑色笔&lt;/ seq&gt; &lt;seq&gt;黑色NEAR笔&lt;/ seq&gt; &lt;seq&gt;黑色和笔&lt;/ seq&gt; &lt;seq &gt;黑色ACCUM笔&lt;/ seq&gt; &lt;/ progress&gt; &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; &lt;/ query&gt;</pre><p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDGIDCE">替代语法模板<a id="d5395e4110" class="indexterm-anchor"></a></p>
                     <p>使用此模板指定备用语法，例如<code class="codeph">CONTEXT</code>或<code class="codeph">CATSEARCH</code> 。通过指定备用语法，您可以使用不同的语法和运算符输入查询。
                     </p>
                     <p>例如，使用<code class="codeph">CATSEARCH</code> ，使用<code class="codeph">CONTEXT</code>语法输入<code class="codeph">ABOUT</code>查询。与<code class="codeph">CONTAINS</code>类似，使用简化的<code class="codeph">CATSEARCH</code>语法输入逻辑查询。
                     </p>
                     <p>短语<span class="italic">'dog cat mouse'</span>被解释为<code class="codeph">CONTAINS</code>的短语。但是，使用<code class="codeph">CATSEARCH</code> ，这相当于<span class="italic">'dog AND cat AND mouse'</span>的<code class="codeph">AND</code>查询。指定<code class="codeph">CONTAINS</code>使用备用语法和以下模板：</p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery grammar =“CTXCAT”&gt; dog cat mouse &lt;/ textquery&gt; &lt;score datatype =“integer”/&gt; &lt;/ query&gt;</pre><p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDFGJFE">语言独立模板<a id="d5395e4162" class="indexterm-anchor"></a></p>
                     <p>使用此模板指定使用用户定义的符号（或缩写）并且不依赖于任何语言的词法分析器。</p>
                     <p>以下示例指定查询采用与语言无关的sublexers列表。</p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery grammar =“CONTEXT”lang =“ENGLISH”&gt; Oracle &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; <span class="bold"><code class="codeph">&lt;sublexers&gt;</code></span> <span class="bold"><code class="codeph">&lt;sublexer_label&gt; SESSION_LANG &lt;/sublexer_label&gt;</code></span> <span class="bold"><code class="codeph">&lt;sublexer_label&gt; MAIL &lt;/sublexer_label&gt;</code></span> <span class="bold"><code class="codeph">&lt;sublexer_label&gt; CALENDER &lt;/sublexer_label&gt;</code></span> <span class="bold"><code class="codeph">&lt;/sublexers&gt;</code></span> &lt;/ query&gt;</pre><p>以下条件适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">sublexers</code>元素由一个或多个<code class="codeph">sublexer_label</code>元素组成。
                           </p>
                        </li>
                        <li>
                           <p>每个<code class="codeph">sublexer_label</code>元素都包含与语言无关的sub_lexer的符号。
                           </p>
                        </li>
                        <li>
                           <p>指定<code class="codeph">sublexers</code>元素后，将使用<code class="codeph">sublexers</code>元素中指定的每个符号的<code class="codeph">sublexers</code>和<code class="codeph">sublexers</code> <code class="codeph">query</code> ， <code class="codeph">query</code>将仅返回由指定的sub_lexers索引的文档。
                           </p>
                        </li>
                        <li>
                           <p>可以使用名为<code class="codeph">SESSION_LANG</code>特殊保留符号，以便系统根据查询模板中<code class="codeph">textquery</code>元素的<code class="codeph">lang</code>属性中指定的语言选择依赖于语言的子<code class="codeph">textquery</code> 。如果未指定<code class="codeph">lang</code>属性，则<code class="codeph">lang</code>属性将基于会话语言。由所选sub_lexer解析的<code class="codeph">Query</code>将仅返回由该语言相关的sub_lexer索引的文档。如果同时指定了<code class="codeph">SESSION_LANG</code>和<code class="codeph">lang</code>属性，则<code class="codeph">lang</code>属性将优先。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">sublexers</code>而不指定元件<code class="codeph">SESSION_LANG</code> ，然后<code class="codeph">lang</code>的属性<code class="codeph">textquery</code>元件将被忽略。
                           </p>
                        </li>
                        <li>
                           <p>默认行为：</p>
                           <p>如果查询模板中不存在<code class="codeph">sublexers</code>元素，则将使用一个依赖于语言的子词法分析器（如果有）来解析<code class="codeph">query</code> ，该子词法分子是基于指定的<code class="codeph">lang</code>属性值或会话语言和所有语言独立的子词法分析器选择的。 。
                           </p>
                        </li>
                     </ul>
                     <p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDIBEJB">替代语言模板<a id="d5395e4283" class="indexterm-anchor"></a></p>
                     <p>使用此模板指定备用语言：</p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery lang =“french”&gt; bon soir &lt;/ textquery&gt; &lt;/ query&gt;</pre><p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDJFCEE">替代评分模板<a id="d5395e4291" class="indexterm-anchor"></a></p>
                     <p>使用此模板指定备用评分算法。</p>
                     <p>以下示例指定查询使用<code class="codeph">CONTEXT</code>语法并使用<code class="codeph">COUNT</code>算法返回整数分数。此算法返回分数作为文档中的查询出现次数。
                     </p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery grammar =“CONTEXT”lang =“english”&gt; mustang &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; &lt;/ query&gt;</pre><p>以下示例使用<code class="codeph">normalization_expr</code>属性将<code class="codeph">SDATA</code> （ <span class="italic">price</span> ）添加到查询返回的分数中，并将其用作最终分数：</p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery grammar =“CONTEXT”lang =“english”&gt; DEFINESCORE（dog，RELEVANCE）和cat &lt;/ textquery&gt; &lt;score algorithm =“COUNT”normalization_expr =“doc_score + SDATA（price）”/&gt; &lt;/ query&gt;</pre><p>该<a id="d5395e4321" class="indexterm-anchor"></a> <code class="codeph">normalization_expr</code>属性仅用于备用评分模板，并且是一个算术表达式，包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>算术运算符：+  -  * /。运算符优先级与SQL运算符优先级的优先级相同。</p>
                        </li>
                        <li>
                           <p>分组运算符:(）。括号可用于更改算术运算符的优先级。</p>
                        </li>
                        <li>
                           <p>绝对函数<span class="italic">：ABS（n）</span>返回<span class="italic">n</span>的绝对值;其中<span class="italic">n</span>是返回数字的任何表达式。
                           </p>
                        </li>
                        <li>
                           <p>对数函数<span class="italic">：LOG（n）的</span> ：返回的<span class="italic">n个</span>以10为底的对数值;其中<span class="italic">n</span>是返回数字的任何表达式。
                           </p>
                        </li>
                        <li>
                           <p>预定义组件： <code class="codeph">doc_score</code>预定义组件可用于返回特定文档的初始查询分数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SDATA</code>组件： <code class="codeph">SDATA</code> <span class="italic">（name）</span>返回具有指定名称的<code class="codeph">SDATA</code>值作为分数。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>仅允许具有<code class="codeph">NUMBER</code>或<code class="codeph">DATE</code>数据类型的<code class="codeph">SDATA</code> 。否则会引发错误。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic">sdata</span>字符串和<code class="codeph">SDATA</code>名称不区分大小写。
                                 </p>
                              </li>
                              <li>
                                 <p>由于<code class="codeph">SDATA</code>节值可以为<code class="codeph">NULL</code> ，因此具有<code class="codeph">NULL</code> <code class="codeph">SDATA</code>节值的任何表达式都将计算为0。例如：如果给定文档的<code class="codeph">SDATA(price)</code>具有<code class="codeph">NULL</code>值，则<code class="codeph">normalization_expr "doc_score + SDATA(price)"</code>将被评估为0。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>数字文字：有任何数字文字符合<code class="codeph">NUMBER</code>文字的SQL模式，并且在双精度浮点范围内（ <code class="codeph">-3.4e38</code>到<code class="codeph">3.4e38</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>日期文字：日期文字必须用<code class="codeph">DATE</code> （）括起来。仅允许以下格式： <code class="codeph">YYYY-MM-DD</code>或<code class="codeph">YYYY-MM-DD HH24:MI:SS</code> 。例如： <code class="codeph">DATE(2005-11-08)</code> 。
                           </p>
                           <p>与SQL一致，如果没有指定时间，则假定为<code class="codeph">00:00:00</code> 。
                           </p>
                        </li>
                     </ul>
                     <p><code class="codeph">normalization_expr</code>属性会覆盖algorithm属性。也就是说，如果算法设置为<code class="codeph">COUNT</code> ，并且用户也指定了<code class="codeph">normalization_expr</code> ，那么分数将不计数，而是基于<code class="codeph">normalization_expr</code>计算得分。
                     </p>
                     <p>如果得分（来自<code class="codeph">algorithm = COUNT</code>或<code class="codeph">normalization_expr =</code> ...）在内部计算为大于100，则将其设置为100。
                     </p>
                     <p>如果使用查询松弛模板，则将进一步标准化分数，使得从较高序列返回的文档总是具有比从下面的序列返回的文档更高的分数。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-A46666BE-46FD-4117-811C-76CED20A6121"><!-- --></a> DATE文字限制</dt>
                        <dd>
                           <p>日期类型数据（ <code class="codeph">DATE</code>文字和日期类型<code class="codeph">SDATA</code> ）之间只允许使用减号（ <code class="codeph">-</code> ）运算符。使用其他运算符将导致错误。减去两个日期类型数据将产生一个数字（浮点数），表示两个日期之间的天数差异。例如，允许使用以下表达式：</p><pre class="oac_no_warn" dir="ltr">SDATA（dob） - 日期（2005-11-08）</pre><p>不允许使用以下表达式：</p><pre class="oac_no_warn" dir="ltr">SDATA（dob）+ DATE（2005-11-08）</pre><p>数字数据和日期数据类型之间允许使用加号（ <code class="codeph">+</code> ）和减号（ <code class="codeph">-</code> ）运算符。数字操作数被解释为天数或分数。例如，允许使用以下表达式：</p><pre class="oac_no_warn" dir="ltr">日期（2005-11-08）+ 1 = 2005年11月9日</pre><p>不允许使用以下表达式：</p><pre class="oac_no_warn" dir="ltr">日期（2005-11-08）* 3 =错误</pre></dd>
                     </dl>
                     <p>模板属性值</p>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDEBEHA" title="该表描述了模板属性值。">表1-5</a>给出了模板属性的可能值。
                     </p>
                     <div class="tblformal" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__CHDEBEHA">
                        <p class="titleintable">表1-5模板属性值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="模板属性值" width="100%" border="1" summary="This table describes template attribute values." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d5395e4535">标签属性</th>
                                 <th align="left" valign="bottom" width="24%" id="d5395e4538">描述</th>
                                 <th align="left" valign="bottom" width="26%" id="d5395e4541">可能的值</th>
                                 <th align="left" valign="bottom" width="32%" id="d5395e4544">含义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4549" headers="d5395e4535 ">
                                    <p>语法=</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5395e4549 d5395e4538 ">
                                    <p>指定查询的语法。</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d5395e4549 d5395e4541 ">
                                    <p><code class="codeph">CONTEXT</code></p>
                                    <p><code class="codeph">CTXCAT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d5395e4549 d5395e4544 ">
                                    <p>查询的语法。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4566" headers="d5395e4535 ">
                                    <p>数据类型=</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5395e4566 d5395e4538 ">
                                    <p>指定作为分数返回的数字类型。</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d5395e4566 d5395e4541 ">
                                    <p><code class="codeph">整数</code></p>
                                    <p></p>
                                    <p><code class="codeph">浮动</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d5395e4566 d5395e4544 ">
                                    <p>返回0到100之间的整数分数。</p>
                                    <p>返回score作为0到100之间的高精度浮点数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4586" headers="d5395e4535 ">
                                    <p>算法=</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5395e4586 d5395e4538 ">
                                    <p>指定要使用的评分算法。</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d5395e4586 d5395e4541 ">
                                    <p><code class="codeph">默认</code></p>
                                    <p><code class="codeph">计数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d5395e4586 d5395e4544 ">
                                    <p>返回默认值。</p>
                                    <p>返回分数作为文档中出现的次数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d5395e4605" headers="d5395e4535 ">
                                    <p>LANG =</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5395e4605 d5395e4538 ">
                                    <p>指定语言名称。</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d5395e4605 d5395e4541 ">
                                    <p>Oracle数据库支持的任何语言。请参阅<a href="../nlspg/overview-of-globalization-support.html#NLSPG-GUID-5CFBBAAC-FD82-4290-84DB-BCF39975EC4E" target="_blank"><span class="italic">Oracle数据库全球化支持指南</span></a> 。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d5395e4605 d5395e4544 ">
                                    <p>语言名称。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>模板语法定义</p>
                     <p>查询模板接口是XML文档。其语法使用以下XML DTD定义：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;！DOCTYPE查询[&lt;！ELEMENT查询（textquery，得分？，订单？）&gt; &lt;！ELEMENT textquery（#PCDATA | progress）*&gt; &lt;！元素进展（seq）+&gt; &lt;！ELEMENT seq（#PCDATA | rewrite）*&gt; &lt;！ELEMENT重写（#PCDATA）&gt; &lt;！ELEMENT得分EMPTY&gt; &lt;！ELEMENT订单（orderkey +）&gt; &lt;！ELEMENT orderkey（#PCDATA）&gt; &lt;！ATTLIST textquery语法（语法| CTXCAT | CTXRULE）#REQUIRED&gt; &lt;！ATTLIST textquery lang CDATA #IMPLIED&gt; &lt;！ATTLIST得分数据类型（整数|浮点数）“整数”&gt; &lt;！ATTLIST评分算法（默认|计数）“默认”&gt; &lt;！ATTLIST评分normalization_expr CDATA&gt;</pre><p>值不区分大小写：整数| float，默认| count，context | ctxcat。</p>
                     <div class="infoboxnotealso" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-07184163-E639-4390-B06A-BBCD1691D6D1">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oracle-text-CONTAINS-query-operators.html#GUID-6410B783-FC9A-4C99-B3AF-9E0349AA43D1" title="Use the NEAR2 operator to perform position–based scoring and length normalization to help improve relevancy.">Oracle Text包含查询运算符</a> ，以获取有关查询表达式中的运算<a href="oracle-text-CONTAINS-query-operators.html#GUID-6410B783-FC9A-4C99-B3AF-9E0349AA43D1" title="使用NEAR2运算符执行基于位置的评分和长度标准化，以帮助提高相关性。">符</a>的更多信息</p>
                     </div>
                     <dl>
                        <dt class="dlterm"><a name="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-70544F84-D8A2-42A4-9582-6987BEEE7DD9"><!-- --></a>标签</dt>
                        <dd>
                           <p>（可选）指定标识<code class="codeph">CONTAINS</code>运算符生成的分数的标签。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-6E285533-5FE6-4227-9E82-CE3D490C3395">返回</p>
                     <p>对于选定的每一行， <code class="codeph">CONTAINS</code>运算符返回0到100之间的数字，表示文档行与查询的相关性。数字0表示Oracle Text在行中未找到匹配项。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-0EFB3333-DCC5-49A1-9376-831AC436870B">
                        <p class="notep1">注意：</p>
                        <p>必须使用带标签的<code class="codeph">SCORE</code>运算符来获取此数字。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-D118B3A5-44AB-4173-9BEE-7A8CE12EBCA5">例</p>
                     <p>以下示例搜索<code class="codeph">text</code>列中包含单词<span class="italic">oracle的</span>所有文档。使用<code class="codeph">SCORE</code>运算符使用标签<code class="codeph">1</code>选择每行的分数：</p><pre class="oac_no_warn" dir="ltr">SELECT SCORE（1），来自newsindex的标题WHERE CONTAINS（text，'oracle'，1）&gt; 0;</pre><p><code class="codeph">CONTAINS</code>运算符后面必须跟一个表达式，例如&gt; 0，它指定计算的分数值必须大于零才能选择行。
                     </p>
                     <p>调用<code class="codeph">SCORE</code>运算符时（例如，在<code class="codeph">SELECT</code>子句中）， <code class="codeph">CONTAINS</code>子句必须引用分数标签值，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">SELECT SCORE（1），来自newsindex的标题WHERE CONTAINS（text，'oracle'，1）&gt; 0 ORDER BY SCORE（1）DESC;</pre><p>以下示例指定使用<code class="codeph">CATSEARCH</code>语法解析查询：</p><pre class="oac_no_warn" dir="ltr">SELECT id FROM test WHERE CONTAINS（text，'&lt;query&gt; &lt;textquery lang =“ENGLISH”grammar =“CATSEARCH”&gt; cheap pokemon &lt;/ textquery&gt; &lt;score datatype =“INTEGER”/&gt; &lt;/ query&gt;'）&gt; 0;</pre><p>语法模板示例</p>
                     <p>以下示例显示如何在<code class="codeph">CONTAINS</code>查询中使用<code class="codeph">CTXCAT</code>语法。该示例在同一个表上创建<code class="codeph">CTXCAT</code>和<code class="codeph">CONTEXT</code>索引，并比较查询结果。
                     </p><pre class="oac_no_warn" dir="ltr">PROMPT创建上下文和ctxcat索引，两者都使用主题索引PROMPT创建索引tdrbqcq101x on test（text）indextype是ctxsys.context参数（'lexer theme_lexer'）;在test（text）上创建索引tdrbqcq101cx indextype是ctxsys.ctxcat参数（'lexer theme_lexer'）;提示*****圣地亚哥*********** PROMPT *****语境语法*********** PROMPT **应解释为短语查询**选择PK ||” ==&gt;'||来自test的文本包含（text，'San Diego'）&gt; 0 by pk;提示*****圣地亚哥*********** PROMPT ***** CTXCAT语法*********** PROMPT **应解释为AND查询***选择pk ||' ==&gt;'|| test from test where contains（text，'&lt;query&gt; &lt;textquery grammar =“CTXCAT”&gt; San Diego &lt;/ textquery&gt; &lt;score datatype =“integer”/&gt; &lt;/ query&gt;'）&gt; 0 order通过pk;提示*****来自CTXCAT指数的命中列表***********选择pk ||' ==&gt;'||来自test的文本catsearch（text，'San Diego'，''）&gt; 0 by pk;</pre><p>备用评分查询模板示例</p>
                     <p>以下查询模板将价格<code class="codeph">SDATA</code>部分（或<code class="codeph">SDATA</code> filter-by column）值添加到查询返回的分数中，并将其用作最终分数：</p><pre class="oac_no_warn" dir="ltr">&lt;query&gt; &lt;textquery grammar =“CONTEXT”lang =“english”&gt; DEFINESCORE（dog，RELEVANCE）和cat &lt;/ textquery&gt; &lt;score algorithm =“COUNT”normalization_expr =“doc_score + SDATA（price）”/&gt; &lt;/ query &gt;</pre><p>查询放松模板示例</p>
                     <p>以下查询模板定义查询松弛序列。<span class="italic">黑色笔</span>的查询按顺序输入为<span class="italic">黑色笔</span> ，然后是<span class="italic">黑色NEAR笔</span> ，然后是<span class="italic">黑色AND笔</span> ，然后是<span class="italic">黑色ACCUM笔</span> 。只要应用程序需要结果，查询命中就会按此顺序返回，不会重复。
                     </p><pre class="oac_no_warn" dir="ltr">从文件中选择ID，其中CONTAINS（text，'&lt;query&gt; &lt;textquery lang =“ENGLISH”grammar =“CONTEXT”&gt; &lt;progression&gt; &lt;seq&gt; black pen &lt;/ seq&gt; &lt;seq&gt; black NEAR pen &lt;/ seq&gt; &lt;seq &gt;黑色和笔&lt;/ seq&gt; &lt;seq&gt;黑色ACCUM笔&lt;/ seq&gt; &lt;/ progress&gt; &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; &lt;/ query&gt;'）&gt; 0;</pre><p>当您的应用程序需要查询的前<span class="italic">n个</span>命中时，查询放宽最有效，您可以使用<code class="codeph">DOMAIN_INDEX_SORT</code> / SQL游标中不推荐使用的<code class="codeph">DOMAIN_INDEX_SORT</code>或<code class="codeph">FIRST_ROWS</code>提示获取该查询。
                     </p>
                     <p>查询重写模板示例</p>
                     <p>以下模板定义了查询重写序列。<span class="italic">kukui坚果</span>的查询改写如下：</p>
                     <p>{kukui} {nut}</p>
                     <p>{kukui}; {坚果}</p>
                     <p>{kukui}和{nut}</p>
                     <p>{kukui} ACCUM {nut}</p><pre class="oac_no_warn" dir="ltr">从文件中选择ID，其中CONTAINS（text，'&lt;query&gt; &lt;textquery lang =“ENGLISH”grammar =“CONTEXT”&gt; kukui nut &lt;progression&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”， “”））&lt;/ rewrite&gt; &lt;/ seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”，“;”））&lt;/ rewrite&gt; / seq&gt; &lt;seq&gt; &lt;rewrite&gt; transform （（TOKENS，“{”，“}”，“AND”））&lt;/ rewrite&gt; &lt;seq /&gt; &lt;seq&gt; &lt;rewrite&gt; transform（（TOKENS，“{”，“}”，“ACCUM”））&lt; / rewrite&gt; &lt;seq /&gt; &lt;/ progression&gt; &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; &lt;/ query&gt;'）&gt; 0;</pre><p>按SDATA部分排序模板示例</p>
                     <p>以下查询模板使用<code class="codeph">&lt;order&gt;</code>和<code class="codeph">&lt;orderkey&gt;</code>元素定义按<code class="codeph">SDATA</code>节值排序的查询序列。第一级订购是在<code class="codeph">SDATA</code>部分<code class="codeph">price</code>上完成的，该<code class="codeph">price</code>按升序排序。第二级和第三级排序由<code class="codeph">SDATA</code>部分<code class="codeph">pub_date</code>和得分完成，两者都按降序排序。
                     </p><pre class="oac_no_warn" dir="ltr">从文档中选择ID，其中CONTAINS（text，'&lt;query&gt; &lt;textquery lang =“ENGLISH”grammar =“CONTEXT”&gt; Oracle &lt;/ textquery&gt; &lt;score datatype =“INTEGER”algorithm =“COUNT”/&gt; &lt;order&gt; &lt;orderkey &gt; SDATA（价格）ASC &lt;/ orderkey&gt; &lt;orderkey&gt; SDATA（pub_date）DESC &lt;/ orderKey&gt; &lt;orderkey&gt;得分DESC &lt;/ orderkey&gt; &lt;/ order&gt; &lt;/ query&gt;'，1）&gt; 0;</pre><p><code class="codeph">&lt;orderkey&gt;</code>元素值必须具有以下格式：</p><pre class="oac_no_warn" dir="ltr">&lt;orderkey&gt; SDATA（sdata_section_name）|得分[DESC | ASC] &lt;/ orderkey&gt;</pre><p>如果未指定为<code class="codeph">DESC</code>或<code class="codeph">ASC</code> ，则排序顺序默认为<code class="codeph">ASC</code> 。</p>
                     <p>在以下情况下，将忽略<code class="codeph">&lt;orderkey&gt;</code>元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当Oracle基于成本的优化程序（CBO）将SQL查询级别排序推送到Text索引时</p>
                        </li>
                        <li>
                           <p>当<code class="codeph">CONTAINS()</code>谓词在功能上处理时</p>
                        </li>
                        <li>
                           <p>当排序已由SQL查询语句中的ORDER BY子句指定时</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-C2CD96B8-552B-46A3-8699-4CDB6D32B381">笔记</p>
                     <p>查询多语言表<a id="d5395e4857" class="indexterm-anchor"></a></p>
                     <p>使用multilexer首选项，您可以从多语言表创建索引。在查询时，多路复用器检查会话的语言设置，并使用该语言的sublexer首选项来解析查询。如果未映射语言设置，则使用默认词法分析器。</p>
                     <p>映射语言设置时，将像往常一样解析并运行查询。索引包含来自多种语言的标记，因此这样的查询可以返回多种语言的文档。</p>
                     <p>要将查询限制为返回给定语言的文档，请在语言列上使用结构化子句。</p>
                     <p id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__I997611">使用分区索引查询性能限制</p>
                     <p>Oracle Text支持对分区文本表进行<code class="codeph">CONTEXT</code>索引和查询。
                     </p>
                     <p>但是，为了在使用<code class="codeph">ORDER</code> <code class="codeph">BY</code> <code class="codeph">SCORE</code>子句查询分区表时获得最佳性能，请查询分区。如果查询整个表并使用<code class="codeph">ORDER</code> <code class="codeph">BY</code> <code class="codeph">SCORE</code>子句，则查询可能无法以最佳方式执行，除非您包含可将查询限制为单个分区的范围谓词。
                     </p>
                     <p>例如，以下语句直接查询分区<code class="codeph">p_tab4</code>分区：</p><pre class="oac_no_warn" dir="ltr">select * from part_tab partition（p_tab4）where contains（b，'oracle'）&gt; 0 ORDER BY SCORE DESC;</pre><p>远程执行CONTAINS查询的限制</p>
                     <p>Oracle Text支持远程执行<code class="codeph">CONTAINS</code>运算符，但有一些限制。只有在远程数据库中完全执行查询时，才能在远程查询中调用<code class="codeph">CONTAINS</code>运算符。您不能在查询的子查询中使用<code class="codeph">CONTAINS</code>运算符，这会导致查询部分在远程数据库上运行，部分在本地数据库上运行。这样做会引发错误“ORA-00949：非法引用远程数据库”。但是，当从内部查询远程调用时， <code class="codeph">CONTAINS</code>有时可能成功运行，如果在此查询中启用了视图合并并且可能，则在这种情况下，查询将转换为单个查询，因此不会发生错误。
                     </p>
                     <p>例如，以下查询是正确的：</p><pre class="oac_no_warn" dir="ltr">从remtab @ rdb中选择id包含@ rdb（text，'hello'）&gt; 0;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__GUID-2523A700-E110-4D47-AF12-991C1593E4BD">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I997737">语境索引类型的语法</a> ”</span></p>
                     <p><a href="oracle-text-CONTAINS-query-operators.html#GUID-6410B783-FC9A-4C99-B3AF-9E0349AA43D1" title="使用NEAR2运算符执行基于位置的评分和长度标准化，以帮助提高相关性。">Oracle Text CONTAINS查询运算符</a></p>
                     <p><a href="../ccapp/working-with-CONTEXT-and-CTXCAT-grammars-in-oracle-text.html#CCAPP-GUID-7070C025-54E1-4FBB-8585-1FCBD525927D" target="_blank"><span class="italic">Oracle Text Application Developer's Guide中的</span></a> “CONTEXT语法”主题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0">分数</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23721"></a><a id="CCREF23722"></a><a id="CCREF23723"></a><a id="CCREF23725"></a><a id="CCREF23726"></a><a id="CCREF23727"></a><a id="CCREF23728"></a><a id="CCREF23729"></a><a id="CCREF23730"></a><a id="CCREF23731"></a><a id="CCREF23732"></a><a id="CCREF23733"></a><a id="CCREF23734"></a><a id="CCREF23735"></a><a id="CCREF23736"></a><a id="CCREF23737"></a><a id="CCREF23738"></a><a id="CCREF23739"></a><a id="CCREF23740"></a><a id="CCREF23741"></a><a id="CCREF23742"></a><a id="CCREF23743"></a><a id="CCREF23744"></a><a id="CCREF23745"></a><a id="CCREF23746"></a><a id="CCREF0105"></a><div class="props_rev_3"><a id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862" name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862"></a><h3 id="CCREF-GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862" class="sect3"><span class="enumeration_section">1.5</span>创建指数</h3>
               <div>
                  <div class="section">
                     <p>本节介绍<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句，因为它与创建Oracle Text域索引和复合域索引有关。
                     </p>
                     <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-085D9590-E92E-40D1-9650-A275F15C5F2E">
                        <p class="notep1">也可以看看：</p>
                        <p>“ <a href="../sqlrf/CREATE-INDEX.html#SQLRF-GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE" target="_blank"><span class="italic">Oracle数据库SQL语言参考”</span></a> ，以获取<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句的完整说明</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-2D1981AD-8A93-42B7-9781-34FC6A42855E">目的</p>
                     <p>使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>创建Oracle Text索引。Oracle Text索引是Oracle数据库<a id="d5395e5222" class="indexterm-anchor"></a>域索引或复合域索引，类型为<code class="codeph">CONTEXT</code> ， <code class="codeph">CTXCAT</code>或<code class="codeph">CTXRULE</code> 。域索引是特定于应用程序的索引。一个<a id="d5395e5235" class="indexterm-anchor"></a> <span class="bold">复合域索引</span> （CDI）是一个Oracle Text索引，它不仅索引和处理指定的文本列，还索引和处理在索引创建期间指定的<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>结构化列。
                     </p>
                     <p><span class="bold">例</span></p><pre class="pre codeblock"><code>create table mytab（item_id number，item_info varchar2（4000），item_supplier varchar2（250），item_distributor varchar2（500））;在mytab上创建索引idx（item_info）indextype是按item_distributor按item_supplier顺序过滤的ctxsys.context;</code></pre><p>您必须创建适当的Oracle Text索引才能输入<code class="codeph">CONTAINS</code> ， <code class="codeph">CATSEARCH</code>或<code class="codeph">MATCHES</code>查询。
                     </p>
                     <p>您无法在索引组织表上创建Oracle Text索引<a id="d5395e5271" class="indexterm-anchor"></a> 。
                     </p>
                     <p>您可以创建以下类型的Oracle Text索引。</p>
                     <p><span class="bold">CONTEXT</span><a id="d5395e5279" class="indexterm-anchor"></a></p>
                     <p><code class="codeph">CONTEXT</code>索引是Oracle Text索引的基本类型。这是文本列的索引。当源文本包含许多大型连贯文档时， <code class="codeph">CONTEXT</code>索引非常有用。使用<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">CONTAINS</code>运算符查询此索引。该索引需要在DML之后手动同步。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I997737">语境索引类型的语法</a> ”</span> 。
                     </p>
                     <p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I999894"><span class="bold">CTXCAT</span></p>
                     <p><code class="codeph">CTXCAT</code>索引是文本列和一个或多个其他列的组合索引。<code class="codeph">CTXCAT</code>类型通常用于索引小文档或文本片段，例如目录中的项目名称，价格和描述。使用<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">CATSEARCH</code>运算符查询此索引。此类索引针对混合查询进行了优化。此索引是事务性的，使用DML自动将其自身更新到基表。<code class="codeph">CTXCAT</code>索引通常比<code class="codeph">CONTEXT</code>索引更大，更慢，并且可用的索引选项范围更窄。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998134">CTXCAT索引类型的语法</a> ”</span> 。
                     </p>
                     <p><span class="bold">CTXRULE</span></p>
                     <p><code class="codeph">CTXRULE</code>索引用于构建文档分类应用程序。<code class="codeph">CTXRULE</code>索引是在查询表或包含一组查询的列上创建的索引，其中查询用作定义分类标准的规则。使用<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">MATCHES</code>运算符查询此索引。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1002072">CTXRULE索引类型的语法</a> ”</span> 。
                     </p>
                     <p><span class="bold">所需特权</span><a id="d5395e5365" class="indexterm-anchor"></a></p>
                     <p>您不需要<code class="codeph">CTXAPP</code>角色来创建Oracle Text索引。如果您具有Oracle数据库权限以在文本列上创建索引，则您具有足够的权限来创建文本索引。发布所有者，表所有者和索引所有者都可以是不同的用户，这与用于创建常规索引的Oracle标准一致。
                     </p>
                     <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-532C551E-C3BD-440D-B47D-D0DF0AE419A3">
                        <p class="notep1">注意：</p>每当您创建Oracle Text索引时，都会创建许多其他内部对象，这些对象的名称前缀为<code class="codeph">DR$</code> 。这些内部对象名称通常包含索引名称。在某些情况下，缩短索引名称以适合对象名称。在这种情况下，索引ID存在于对象名称中，以避免与其他索引的对象发生命名冲突。
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I997737">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-9208F885-6622-42E1-BE4E-F9F260872867">语境索引类型的语法</p>
                     <p>使用<code class="codeph">CONTEXT</code>索引在文本列上创建索引。使用<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">CONTAINS</code>运算符查询此索引。该索引需要在DML之后手动同步。</p><pre class="pre codeblock"><code>CREATE INDEX [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">index</span> ON [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span> （ <span class="italic">txt_column</span> ）INDEXTYPE IS ctxsys.context [ONLINE] [FILTER BY <span class="italic">filter_column</span> [， <span class="italic">filter_column</span> ] ...][ORDER BY <span class="italic">oby_column</span> [desc | asc] [， <span class="italic">oby_column</span> [desc | asc]] ...][LOCAL [PARTITION [ <span class="italic">partition</span> ] [PARAMETERS（' <span class="italic">paramstring</span> '）]] [，PARTITION [ <span class="italic">partition</span> ] [PARAMETERS（' <span class="italic">paramstring</span> '）]]）] [PARAMETERS（ <span class="variable" translate="no">paramstring</span> ）] [PARALLEL n] [UNUSABLE]];</code></pre><dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-3E9BF753-F635-4F65-A106-04F035B9F2AC"><!-- --></a> [ <span class="variable" translate="no">schema</span> ] <span class="variable" translate="no">index</span></dt>
                        <dd>
                           <p>指定要创建的Text索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-1C23770F-D022-4877-A14B-B6CFC80C0AE7"><!-- --></a> [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span> （ <span class="variable" translate="no">txt_column</span> ）</dt>
                        <dd>
                           <p>指定要索引的表和列的名称。 <code class="codeph">txt_column</code>是将在其上调用<code class="codeph">CONTAINS()</code>运算符的域索引列的名称。
                           </p>
                           <p>如果您希望在<code class="codeph">CTX_DOC</code>使用过程时更喜欢标识行，那么您的表可以选择包含主键。当您的表没有主键时，文档服务会通过<code class="codeph">ROWID</code>识别您的文档。</p>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-1720C8FB-84E4-4466-932E-BF2B99FD11C5">
                              <p class="notep1">注意：</p>
                              <p>支持以下类型的主键： <code class="codeph">NUMBER</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">DATE</code> ， <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code>和<code class="codeph">RAW</code> 。</p>
                           </div>
                           <p><a id="d5395e5506" class="indexterm-anchor"></a><a id="d5395e5510" class="indexterm-anchor"></a><a id="d5395e5514" class="indexterm-anchor"></a><a id="d5395e5518" class="indexterm-anchor"></a><a id="d5395e5522" class="indexterm-anchor"></a><a id="d5395e5526" class="indexterm-anchor"></a><a id="d5395e5530" class="indexterm-anchor"></a><a id="d5395e5534" class="indexterm-anchor"></a>您指定的列必须是以下类型之一： <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code> ， <code class="codeph">BFILE</code> ， <code class="codeph">XMLType</code>或<code class="codeph">URIType</code> 。
                           </p>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-4725332A-CB73-4223-8D12-9DE5EE9D6028">
                              <p class="notep1">注意：</p>
                              <p>在Oracle Database 12 <span class="italic">c</span>第2版（12.2）中，无法在具有除<code class="codeph">BINARY</code> ， <code class="codeph">USING_NLS_COMP</code> ， <code class="codeph">USING_NLS_SORT</code>或<code class="codeph">USING_NLS_SORT_CS</code>之外的声明排序规则的列上创建Oracle Text索引。对于所有受支持的排序规则，Oracle Text行为都是相同的。
                              </p>
                           </div>
                           <p>您指定的表可以是分区表。如果未指定<code class="codeph">LOCAL</code>子句，则会创建一个全局的非分区索引。
                           </p>
                           <p>无法为<code class="codeph">DATE</code> ， <code class="codeph">NUMBER</code>和嵌套表列编制索引。对象列也不能编入索引，但只要它们是原子数据类型，就可以对它们的属性建立索引。
                           </p>
                           <p>尝试在虚拟专用数据库（VPD）受保护表上创建索引将失败，除非满足以下条件之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建VPD策略，使其不适用于<code class="codeph">INDEX</code>语句类型。
                           </p>
                        </li>
                        <li>
                           <p>policy函数为当前用户返回<code class="codeph">NULL</code>谓词。
                           </p>
                        </li>
                        <li>
                           <p>用户（或索引所有者）是<code class="codeph">SYS</code> 。</p>
                        </li>
                        <li>
                           <p>用户具有<code class="codeph">EXEMPT</code> <code class="codeph">ACCESS</code> <code class="codeph">POLICY</code>权限。
                           </p>
                        </li>
                     </ul>
                     <p><code class="codeph">CONTEXT</code>索引类型不支持多列上的索引。您必须在列列表中仅指定一列。
                     </p>
                     <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-E9C8E1D9-B162-41B8-AF3F-F5D1D81BCC1C">
                        <p class="notep1">注意：</p>
                        <p>使用<code class="codeph">CTXCAT</code>索引类型，您可以在文本和结构化列上创建索引。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998134">CTXCAT索引类型的语法</a> ”</span></p>
                     </div>
                     <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-EA542AC3-3EF7-4DC1-A1C7-E84801CEC1BB">
                        <p class="notep1">注意：</p>
                        <p>因为一个<a id="d5395e5646" class="indexterm-anchor"></a>启用透明数据加密的列不支持域索引，不能与Oracle Text一起使用。但是，您可以在存储在启用透明数据加密的表空间中的表中的列上创建Oracle Text索引。
                        </p>
                     </div>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-44B64A7D-D391-48D3-B439-D7B0964C20C8"><!-- --></a>在线</dt>
                        <dd>
                           <p>在基表上启用DML插入/更新/删除时创建索引。</p>
                           <p>在索引期间，Oracle Text会将待处理队列中的DML请求排入队列。在索引创建结束时，Oracle Text会锁定基表。在此期间，DML被阻止。您必须同步索引才能使DML更改可用。</p>
                        </dd>
                     </dl>
                     <p>限制</p>
                     <p>以下限制适用于使用<code class="codeph">ONLINE</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在<code class="codeph">ONLINE</code>流程的最开始或最后，DML可能会失败。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ONLINE</code>仅支持<code class="codeph">CONTEXT</code>索引。
                           </p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-7C81EA8D-7283-47CB-8142-B7BB35E3CC95"><!-- --></a> FILTER BY filter_column</dt>
                        <dd>
                           <p>这是结构化索引列，混合查询的<code class="codeph">WHERE</code>子句中的范围或等式谓词将在该列上运行。您可以为<code class="codeph">filter_column</code>指定一个或多个结构化列，在该列上预期将在查询中指定关系谓词以及<code class="codeph">CONTAINS()</code>谓词。
                           </p>
                           <p>基于成本的优化器（CBO）将考虑使用以下关系运算符来推送这些<code class="codeph">FILTER</code> <code class="codeph">BY</code>列上的结构化谓词： <code class="codeph">&lt;</code> ， <code class="codeph">&lt;=</code> ， <code class="codeph">=</code> ， <code class="codeph">&gt;=</code> ， <code class="codeph">&gt;</code> ， <code class="codeph">between</code>和<code class="codeph">LIKE</code> （对于<code class="codeph">VARCHAR2</code> ）。
                           </p>
                           <p>这些列只能是<code class="codeph">CHAR</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">VARCHAR2</code>或<code class="codeph">RAW</code>类型。此外，仅当指定了最大长度且受限制为不超过<code class="codeph">249</code>才支持<code class="codeph">VARCHAR2</code>和<code class="codeph">RAW</code>类型。还允许支持的类型（ <code class="codeph">CHAR</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">VARCHAR2</code>或<code class="codeph">RAW</code> ）的<code class="codeph">ADT</code>属性。所有其他数据类型都会引发错误。不允许使用表达式，例如<code class="codeph">func(cola)</code>和虚拟列。
                           </p>
                           <p><code class="codeph">FILTER</code> <code class="codeph">BY</code>列列表中允许使用<code class="codeph">txt_column</code> 。
                           </p>
                           <p><code class="codeph">FILTER</code> <code class="codeph">BY</code>列上的DML操作始终是事务性的。
                           </p>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-D560D35A-125F-4AFF-BE04-2AC51DE64DF5"><!-- --></a> ORDER BY oby_column</dt>
                        <dd>
                           <p>这是结构化索引列，结构化<code class="codeph">ORDER</code> <code class="codeph">BY</code>混合查询将基于该列。可以在<code class="codeph">CONTAINS()</code>查询的<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中指定结构化<span class="italic">oby_columns</span>的列表。
                           </p>
                           <p>这些列只能是<code class="codeph">CHAR</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">VARCHAR2</code>或<code class="codeph">RAW</code>类型。长度超过<code class="codeph">249</code>字节的<code class="codeph">VARCHAR2</code>和<code class="codeph">RAW</code>列将截断为前<code class="codeph">249</code>个字节。不允许使用表达式，例如<code class="codeph">func(cola)</code>和虚拟列。
                           </p>
                           <p>指定列的顺序很重要。仅当文本查询中的<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句包含以下内容时，基于成本的优化器（CBO）才会考虑将排序推送到复合域索引中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在CREATE INDEX语句期间由ORDER BY子句声明的整个有序ORDER BY列</p>
                              </li>
                              <li>
                                 <p>在CREATE INDEX语句期间，只有ORDER BY子句声明的有序ORDER BY列的前缀</p>
                              </li>
                              <li>
                                 <p>得分后跟在CREATE INDEX语句期间由ORDER BY子句声明的有序ORDER BY列的前缀</p>
                              </li>
                              <li>
                                 <p>在CREATE INDEX语句期间由ORDER BY子句声明的有序ORDER BY列的前缀之后的分数</p>
                              </li>
                           </ul>
                           <p>以下示例说明了与<code class="codeph">ORDER</code> <code class="codeph">BY</code>列相关的基于成本的优化程序（CBO）行为：</p><pre class="oac_no_warn" dir="ltr">创建索引foox ON foo（D）INDEXTYPE是CTXSYS.CONTEXT过滤器，B，C顺序为A，B desc;</pre><p>请考虑以下查询：</p><pre class="pre codeblock"><code>SELECT A，SCORE（1）FROM foo WHERE CONTAINS（D，'oracle'，1）&gt; 0 AND C&gt; 100 ORDER BY col_list;</code></pre><div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-EE21C5A7-D02D-4DD3-9728-3F83B313F707">
                              <p class="notep1">注意：</p>
                              <p>如果设置<code class="codeph">NLS_SORT</code>或<code class="codeph">NLS_COMP</code>参数（即， <code class="codeph">alter session set NLS_SORT = &lt;some lang&gt;;</code> ），则CBO不会将排序或相关的结构化谓词推送到CDI中。此行为与针对搜索SDATA索引的常规优化一致。
                              </p>
                           </div>
                           <p>如果<code class="codeph">col_list</code>具有以下值，则基于成本的优化器（CBO）将考虑将排序推送到复合域索引（CDI）：</p><pre class="pre codeblock"><code>A A，B SCORE（1），A SCORE（1），A，B A，SCORE（1）A，B，SCORE（1）</code></pre><p>如果<code class="codeph">col_list</code>具有以下值，CBO将不会考虑将排序推入CDI：</p><pre class="pre codeblock"><code>B B，A SCORE（1），BB，SCORE（1）A，B，CA，B asc</code></pre><p>（或简称<code class="codeph">A</code> ， <code class="codeph">B</code> ）</p>
                           <p>表达式，例如<code class="codeph">func(cola)</code> ，是不允许的。
                           </p>
                           <p><code class="codeph">txt_column</code>出现在<code class="codeph">ORDER</code> <code class="codeph">BY</code>列列表中的<code class="codeph">txt_column</code> 。
                           </p>
                           <p><code class="codeph">ORDER</code> <code class="codeph">BY</code>列上的DML操作始终是事务性的。
                           </p>
                        </dd>
                     </dl>
                     <p><span class="bold">限制</span></p>
                     <p>以下限制适用于<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中允许使用结构化列。但是，在<code class="codeph">FILTER</code> <code class="codeph">BY</code>子句中映射到<code class="codeph">MDATA</code>的列也不能出现在<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中。在这种情况下会出错。
                           </p>
                        </li>
                        <li>
                           <p>对于<code class="codeph">FILTER BY</code>列， <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code>和<code class="codeph">RAW</code>列的最大长度不能大于249。对于<code class="codeph">ORDER BY</code>列，数据将截断为249个字符。
                           </p>
                        </li>
                        <li>
                           <p>CDI（ <code class="codeph">FILTER BY</code>和<code class="codeph">ORDER BY</code> ）的总数为32。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-29C8817E-D6CD-4981-8251-808CE004B614">
                        <p class="notep1">注意：</p>
                        <p>在CDI中，如果索引列也是<code class="codeph">FILTER BY</code>或<code class="codeph">ORDER BY</code>列，则在更新主索引列时，对<code class="codeph">FILTER BY</code>或<code class="codeph">ORDER BY</code>列的更新不是事务性的。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-EA1748F8-94FB-4084-9985-8430C490A194">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>与针对搜索SDATA索引或位图索引优化的串联一样，随着<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>列数量的增加，DML中可能会出现性能下降。
                              </p>
                           </li>
                           <li>
                              <p>映射一个<code class="codeph">FILTER</code> <code class="codeph">BY</code>列<code class="codeph">MDATA</code>不建议是，如果<code class="codeph">FILTER</code> <code class="codeph">BY</code>列包含连续的值或具有非常高的基数。这样做可能会导致非常长而窄的<code class="codeph">$I</code>表并降低<code class="codeph">$X</code>性能。一个例子是<code class="codeph">DATE</code>类型的列。对于此类型的列，建议映射到<code class="codeph">SDATA</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-D46DCFC6-0075-43D7-8975-38FEF88D7510">
                        <p class="notep1">注意：</p>
                        <p>创建名为<code class="codeph">DR$</code> <span class="italic">indextable</span> <code class="codeph">$S</code>的索引表，以存储映射到<code class="codeph">SDATA</code>节的<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>列。如果没有任何内容映射到<code class="codeph">SDATA</code>部分，则不会创建<code class="codeph">$S</code>表。
                        </p>
                        <p><code class="codeph">$S</code>表包含以下列：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SDATA_ID</code> <span class="italic">编号</span>是内部<code class="codeph">SDATA</code>部分ID。</p>
                           </li>
                           <li>
                              <p><code class="codeph">SDATA_LAST</code> <span class="italic">数字</span> ，最后一个文档ID，类似于<code class="codeph">token_last</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SDATA_DATA</code> <code class="codeph">RAW</code> <code class="codeph">(2000)</code> ，压缩的<code class="codeph">SDATA</code>值。请注意，如果在具有4K数据库块大小的表空间上创建<code class="codeph">$S</code> ，则将其定义为<code class="codeph">RAW</code> <code class="codeph">(1500)</code> 。
                              </p>
                           </li>
                        </ul>
                        <p><span class="bold">限制：</span>出于性能原因，必须在db block size&gt; = 4K且没有溢出段且没有<code class="codeph">PCTTHRESHOLD</code>子句的表空间上创建<code class="codeph">$S</code>表。如果在db块大小&lt;4K的表空间上创建<code class="codeph">$S</code> ，或者使用溢出段或<code class="codeph">PCTTHRESHOLD</code>子句创建<code class="codeph">$S</code> ，则在<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句期间将引发相应的错误。
                        </p>
                     </div>
                     <p>使用<code class="codeph">FILTER</code> <code class="codeph">BY</code>和/或<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句创建的复合域索引导出和导入文本表的限制如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>常规<code class="codeph">exp</code>和<code class="codeph">imp</code>不支持导出和导入复合域索引。这样做会导致以下错误： <code class="codeph">EXP-00113: Feature Composite Domain Index is unsupported</code> 。
                           </p>
                        </li>
                        <li>
                           <p>要导出具有复合域索引的文本表，必须使用数据泵导出和导入实用程序（分别使用<code class="codeph">expdp</code>和<code class="codeph">impdp</code>命令调用）或<code class="codeph">DBMS_DATAPUMP</code> PL / SQL程序包。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-E1796BFD-2671-421D-80AB-15F1037C619F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="CTX_DDL-package.html#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a>在<a href="CTX_DDL-package.html#GUID-0F7C39E8-E44A-421C-B40D-3B3578B507E9">CTX_DDL包</a></p>
                     </div>
                     <p>使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>和<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>与复合域索引的<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> BY列的限制，这些列由Oracle数据库中的可扩展索引框架强加：</p>
                     <p><a id="d5395e6267" class="indexterm-anchor"></a> （这些限制是由Oracle数据库中的可扩展索引框架强加的。）
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>目前不支持使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>添加或删除<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>列。您必须重新创建索引才能添加或删除<code class="codeph">FILTER</code> <code class="codeph">BY</code>或<code class="codeph">ORDER</code> <code class="codeph">BY</code>列。
                           </p>
                        </li>
                        <li>
                           <p>若要使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MODIFY</code> <code class="codeph">COLUMN</code>修改在其上构建复合域索引的列的数据类型，必须先删除复合域索引，然后再修改列。
                           </p>
                        </li>
                        <li>
                           <p>若要使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">DROP</code> <code class="codeph">COLUMN</code>删除属于复合域索引的列，必须先删除复合域索引，然后再删除索引列。
                           </p>
                        </li>
                     </ul>
                     <p><a id="d5395e6338" class="indexterm-anchor"></a>与PL / SQL包一起使用时，以下限制适用于<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将<code class="codeph">FILTER</code> <code class="codeph">BY</code>列映射到节是可选的。如果<code class="codeph">FILTER</code> <code class="codeph">BY</code>列不存在节映射，则默认情况下它将映射到<code class="codeph">SDATA</code>节。部分名称采用<code class="codeph">FILTER</code> <code class="codeph">BY</code>列的名称。
                           </p>
                        </li>
                        <li>
                           <p>如果在复合域索引的<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>子句期间未指定节组，则使用系统默认节组设置。为每个<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>列创建一个<code class="codeph">SDATA</code>部分。
                           </p>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-D44F2FBA-9861-4598-8F35-3A0935AF5BE1">
                              <p class="notep1">注意：</p>
                              <p>由于节名称不允许某些特殊字符且不区分大小写，因此如果列名称区分大小写或包含特殊字符，则会引发错误。若要解决此问题，您必须在创建索引之前将列映射到<code class="codeph">MDATA</code>或<code class="codeph">SDATA</code>部分。请参阅CTX_DDL。 <a href="CTX_DDL-package.html#GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B">ADD_MDATA_COLUMN</a>或CTX_DDL。 <a href="CTX_DDL-package.html#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a> 。</p>
                           </div>
                        </li>
                        <li>
                           <p>如果映射到<code class="codeph">MDATA</code>部分的列也出现在<code class="codeph">ORDER</code> <code class="codeph">BY</code>列子句中，则会引发错误。
                           </p>
                        </li>
                        <li>
                           <p>列节名称对于其节组是唯一的。也就是说，你不能有一个<code class="codeph">MDATA</code>柱截面名为<code class="codeph">FOO</code> ，如果你已经有了一个<code class="codeph">MDATA</code>名为柱截面<code class="codeph">FOO</code> 。如果您已经有一个名为<code class="codeph">FOO</code>的<code class="codeph">SDATA</code>列部分，您也不能拥有一个名为<code class="codeph">FOO</code>的字段部分。无论是隐式创建（通过<code class="codeph">CREATE</code> <code class="codeph">INDEX</code> for <code class="codeph">FILTER</code> <code class="codeph">BY</code>还是<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句）或显式创建（通过<code class="codeph">CTX_DDL.ADD_SDATA_COLUMN</code> ）， <code class="codeph">CTX_DDL.ADD_SDATA_COLUMN</code> 。
                           </p>
                        </li>
                        <li>
                           <p>一个节名称只能映射到一个<code class="codeph">FILTER</code> <code class="codeph">BY</code>列，反之亦然。不允许将节映射到多个列，或将列映射到多个节。
                           </p>
                        </li>
                        <li>
                           <p>列部分可以添加到任何类型的部分组，包括<code class="codeph">NULL</code>部分组。
                           </p>
                        </li>
                        <li>
                           <p>如果为没有<code class="codeph">FILTER</code> <code class="codeph">BY</code>子句的<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句指定了<code class="codeph">CTX_DDL.ADD_MDATA_COLUMN</code>或<code class="codeph">CTX_DDL.ADD_SDATA_COLUMN</code>包添加了节的节组，则将忽略映射的列节。但是，索引仍将在没有这些列部分的情况下创建。对于不包含指定节组中的映射列的<code class="codeph">FILTER</code> <code class="codeph">BY</code>子句也是如此。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-6715C4D4-7AB9-4FE2-B329-BFBDDDF2972D">
                        <p class="notep1">也可以看看：</p>
                        <p>CTX_DDL。 <a href="CTX_DDL-package.html#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a></p>
                     </div>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-4DEA9B20-02CC-4B9F-A214-EEE4471436C3"><!-- --></a> LOCAL [PARTITION [partition] [PARAMETERS（'paramstring'）]</dt>
                        <dd>
                           <p>指定分区表上的本地分区上下文索引。必须按范围对分区表进行分区。不支持散列，复合和列表分区。</p>
                           <p>您可以指定<span class="italic">的partition_name</span>索引分区名称的列表。如果未指定分区名称，则系统会分配一个名称。索引分区列表的顺序必须与表分区顺序相对应。
                           </p>
                           <p>与每个分区关联的<code class="codeph">PARAMETERS</code>子句指定特定于该分区的参数字符串。您只能为每个索引分区指定<span class="italic">sync（manual | every | on commit）</span> ， <span class="italic">内存</span>和<span class="italic">存储</span> 。
                           </p>
                           <p><code class="codeph">PARAMETERS</code>子句还支持<code class="codeph">POPULATE</code>和<code class="codeph">NOPOPULATE</code>参数。见<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJEHFDFH">”POPULATE | NOPOPULATE“</a> ”</span> 。
                           </p>
                           <p>查询视图<a href="oracle-text-views.html#GUID-39C91F29-7C61-493E-AA4C-E16558242D60">CTX_INDEX_PARTITIONS</a>或<a href="oracle-text-views.html#GUID-51C3C118-1018-4C16-B62F-DB62169AB8F2">CTX_USER_INDEX_PARTITIONS</a>以查找索引分区信息，例如索引分区名称和索引分区状态。
                           </p>
                           <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-4CABFD3C-7893-4748-B074-2F7B49B6D6F2">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000586">创建本地分区索引</a> ”</span></p>
                           </div>
                        </dd>
                     </dl>
                     <p>使用分区索引查询性能限制</p>
                     <p>为了在使用<code class="codeph">ORDER</code> <code class="codeph">BY</code> <code class="codeph">SCORE</code>子句查询分区索引时获得最佳性能，请查询分区。如果查询整个表并使用<code class="codeph">ORDER</code> <code class="codeph">BY</code> <code class="codeph">SCORE</code>子句，则查询可能无法以最佳方式执行，除非您包含可以将查询限制为最少数量的分区的范围谓词，这最好是单个分区。
                     </p>
                     <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-A99CAE34-6165-4B17-9FE1-423D11C45349">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59__I997611">使用分区索引查询性能限制</a> ”</span></p>
                     </div>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-04691215-D772-4E2D-9A77-56132BCB57C5"><!-- --></a> PARALLEL n</dt>
                        <dd>
                           <p>（可选）指定并行索引的并行度。实际的并行度可能会更小，具体取决于您的资源。您可以在非分区表上使用此参数。但是，并行创建非分区索引不会启用并行查询处理。支持并行索引来创建本地分区索引。</p>
                           <p>参数子句中指定的索引内存大小适用于每个并行从站。例如，如果索引内存大小在参数子句中指定为500M且并行度指定为2，则必须确保至少有1GB的内存可用于索引。</p>
                           <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-46E1B305-B4C8-425C-ACE1-B0E8466A6DC7">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998082">平行索引</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998102">并行创建本地分区索引</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../ccapp/tuning-oracle-text.html#CCAPP0500" target="_blank"><span class="italic">Oracle Text Application Developer's Guide中</span></a>的“性能调优”一章</p>
                                 </li>
                              </ul>
                           </div>
                        </dd>
                     </dl>
                     <p>性能</p>
                     <p>当您有大量要索引的数据以及操作系统支持多个CPU时，并行索引可以加快索引编制速度。</p>
                     <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-DC7E3AF5-D7BB-4E0F-85C6-F03B98FAA064">
                        <p class="notep1">注意：</p>
                        <p>使用<code class="codeph">PARALLEL</code>创建启用并行查询的本地分区索引。（并行创建非分区索引不会启用并行查询处理。）
                        </p>
                        <p>并行查询会降低查询吞吐量，尤其是在负载较重的系统上。因此，Oracle建议您在创建本地索引后禁用并行查询。为此，请使用<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">NOPARALLEL</code>语句。
                        </p>
                        <p>有关并行查询的更多信息，请参阅<a href="../ccapp/tuning-oracle-text.html#CCAPP0500" target="_blank"><span class="italic">Oracle Text Application Developer's Guide中</span></a>的“性能调优”一章。
                        </p>
                     </div>
                     <p>限制</p>
                     <p>仅对<code class="codeph">CONTEXT</code>索引类型支持并行索引。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-476610B0-986F-4D88-AEB3-BAF2D7C375A3"><!-- --></a>无法使用</dt>
                        <dd>
                           <p>创建不可用的索引。这仅创建索引元数据并立即退出。</p>
                           <p>当您需要并行创建本地分区索引时，可能会创建不可用的索引。</p>
                           <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-25FDB0EF-B181-436D-A791-EC4A07FA4710">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998102">并行创建本地分区索引</a> ”</span></p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-3B345118-87A5-4E77-93E4-8EF772E2D177"><!-- --></a>参数（ <span class="italic">paramstring</span> ）</dt>
                        <dd>
                           <p>（可选）在<code class="codeph">paramstring</code>指定索引参数。您可以使用<code class="codeph">user.preference</code>表示法指定其他用户拥有的首选项。
                           </p>
                           <p></p>
                           <p><code class="codeph">paramstring</code>的语法如下：</p><pre class="pre codeblock"><code>paramstring ='[ASYNCHRONOUS_UPDATE | SYNCHRONOUS_UPDATE] [DATASTORE <span class="variable" translate="no">datastore_pref</span> ] [FILTER <span class="variable" translate="no">filter_pref</span> ] [CHARSET COLUMN <span class="italic">charset_column_name]</span> [格式化COLUMN <span class="italic">format_column_name]</span> [SAVE_COPY COLUMN <span class="italic">save_copy_column_name]</span> [LEXER <span class="variable" translate="no">lexer_pref</span> ] [语言列<span class="italic">language_column_name]</span> [单词一览<span class="variable" translate="no">wordlist_pref</span> ] [STORAGE <span class="variable" translate="no">storage_pref</span> ] [STOPLIST <span class="variable" translate="no">stoplist</span> ] [段组<span class="variable" translate="no">section_group</span> ] [MEMORY <span class="variable" translate="no">memsize</span> ] [人气| NOPOPULATE] [SYNC（MANUAL | EVERY“ <span class="variable" translate="no">interval-string</span> ”| ON COMMIT）] [TRANSACTIONAL] [OPTIMIZE（MANUAL | AUTO_DAILY | EVERY“ <span class="variable" translate="no">interval-string</span> ”）]'</code></pre><p>使用CTX_DDL创建数据存储区，过滤器，词法分析器，字列表和存储首选项。 <a href="CTX_DDL-package.html#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a>然后在paramstring中指定它们。
                           </p>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-CA9B224C-BAFC-48D9-98A9-57E38C57ABEA">
                              <p class="notep1">注意：</p>
                              <p>如果未指定paramstring，则Oracle Text将使用系统默认值。</p>
                              <p>有关这些默认值的详细信息，请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-BFE53A45-FA37-4F63-8D70-9E9C5E987D5E">默认索引参数</a> ”</span> 。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-C0F766D8-0934-4E1C-8744-9D3F8A8B0601"><!-- --></a> ASYNCHRONOUS_UPDATE | SYNCHRONOUS_UPDATE</dt>
                        <dd>
                           <p></p>
                           <p>指定Oracle Text是否必须为已更新索引列的文档保留旧索引条目。默认值为<code class="codeph">SYNCHRONOUS_UPDATE</code> ，表示索引更新是同步的，并且旧索引条目不可用于搜索操作，直到索引同步为止。
                           </p>
                           <p><code class="codeph">ASYNCHRONOUS_UPDATE</code>指示在索引同步之前，搜索查询将使用旧索引条目返回旧文档内容。索引同步后，重建的索引用于返回更新的文档内容。
                           </p>
                           <p>无法在分区级别设置此选项。</p>
                           <p>以下示例创建一个启用了异步更新的<code class="codeph">CONTEXT</code>索引<code class="codeph">idx</code> 。
                           </p><pre class="pre codeblock"><code>CREATE INDEX myidx on mytab1（item_info）INDEXTYPE是CTXSYS.CONTEXT PARAMETERS（'asynchronous_update'）;</code></pre><p><span class="bold">注意：</span>导致行移动的DML操作不支持异步更新。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-C49D72BC-0C91-402C-A4F4-FB93735416C7"><!-- --></a> DATASTORE <span class="italic">datastore_pref</span></dt>
                        <dd>
                           <p>指定数据存储区首选项的名称。使用数据存储区首选项指定文本的存储位置。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-91576377-DD67-4CBA-91AD-127402C4B93A">数据存储类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-B3ED8ED0-DC82-4086-9C87-3C7D398F6EF8"><!-- --></a> FILTER <span class="italic">filter_pref</span></dt>
                        <dd>
                           <p>指定筛选器首选项的名称。使用过滤器首选项指定如何将格式化文档过滤为纯文本或HTML。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-24A7DF95-CDA5-4062-82D5-6DFC45F736BF">过滤器类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-1D11993B-942D-4701-8061-8D6B5AF8E21A"><!-- --></a> CHARSET COLUMN <span class="italic">charset_column_name</span></dt>
                        <dd>
                           <p>指定字符集列的名称。此列必须与文本列位于同一个表中，并且必须是<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code>或<code class="codeph">VARCHAR2</code> 。使用此列指定用于转换为数据库字符集的文档字符集。该值不区分大小写。您必须指定全球化支持字符集字符串，例如JA16EUC。</p>
                           <p>当文档是纯文本或HTML时， <code class="codeph">AUTO_FILTER</code>和<code class="codeph">CHARSET</code>过滤器使用此列将文档字符集转换为数据库字符集以进行索引。
                           </p>
                           <p>如果具有不同字符集的纯文本或HTML文档或与数据库字符集不同的字符集，请使用此列。</p>
                           <p>在数据库级别不支持将<code class="codeph">NLS_LENGTH_SEMANTICS</code>参数设置为<code class="codeph">CHAR</code> 。以下列支持此参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">CHARSET</code> <code class="codeph">COLUMN</code> ，例如：</p><pre class="pre codeblock"><code>VARCHAR2 &lt; <span class="italic">size</span> &gt; CHAR CHAR &lt; <span class="italic">size</span> &gt; CHAR</code></pre></li>
                              <li>
                                 <p>在<code class="codeph">VARCHAR2</code>和<code class="codeph">CHAR</code>列上创建的索引</p>
                              </li>
                              <li>
                                 <p><code class="codeph">CREATE</code> <code class="codeph">INDEX</code> <code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句的<code class="codeph">VARCHAR2</code>和<code class="codeph">CHAR</code>列</p>
                              </li>
                              <li>
                                 <p><code class="codeph">FORMAT</code> <code class="codeph">COLUMN</code></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-45CA08DD-15D8-4318-97B5-BAFC67B65563">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>仅当字符集列发生更改时，文档不会标记为重新编制索引。必须更新索引列以标记重新索引。</p>
                                 </li>
                                 <li>
                                    <p>该<a id="d5395e6935" class="indexterm-anchor"></a> <code class="codeph">NLS_LENGTH_SEMANTICS = CHAR</code>参数仅在列级别受支持，并且在数据库级别不受支持，如本节中所述。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-19009636-3F3A-473D-BB44-C956220CC1DA"><!-- --></a> FORMAT COLUMN <span class="italic">format_column_name</span></dt>
                        <dd>
                           <p>指定格式列的名称。format列必须与text列位于同一个表中，并且必须是<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code>或<code class="codeph">VARCHAR2</code>类型。
                           </p>
                           <p><code class="codeph">FORMAT COLUMN</code>确定如何过滤文档，或者在<code class="codeph">IGNORE</code>值的情况下，确定是否要对其进行索引。
                           </p>
                           <p>过滤文档时， <code class="codeph">AUTO_FILTER</code>使用格式列。将此列与异构文档集一起使用，可以选择绕过纯文本或HTML文档的过滤。
                           </p>
                           <p>在format列中，您可以指定以下选项之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">文本</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">BINARY</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">忽视</code></p>
                              </li>
                           </ul>
                           <p><code class="codeph">TEXT</code>选项表示文档是纯文本或HTML。指定<code class="codeph">TEXT</code> ，不会过滤文档，但可能会转换字符集。
                           </p>
                           <p><code class="codeph">BINARY</code>选项表示文档是<code class="codeph">AUTO_FILTER</code>对象支持的格式，而不是纯文本或HTML，例如PDF。如果无法映射格式列条目，则<code class="codeph">BINARY</code>是默认值。
                           </p>
                           <p><code class="codeph">IGNORE</code>选项表示在索引期间要忽略该行。当您需要绕过包含与文本索引不兼容的数据的行（如图像数据）或您不想处理的语言中的行时，请使用此值。具有<code class="codeph">TEXT</code>和<code class="codeph">IGNORE</code>格式列类型的文档之间的区别在于前者被索引但被过滤器忽略，而后者根本没有索引。因此， <code class="codeph">IGNORE</code>可以与任何过滤器类型一起使用。
                           </p>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-3AE2B4C8-09FF-480C-8E8D-8B15F46931CD">
                              <p class="notep1">注意：</p>
                              <p>仅格式列发生更改时，不会将文档标记为重新编制索引。必须更新索引列以标记重新索引。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-7386BB3F-914A-4F95-B0D3-3DE0864F7BD2"><!-- --></a> SAVE_COPY COLUMN <span class="italic">save_copy_column_name</span></dt>
                        <dd>
                           <p>指定包含在搜索操作期间是否将文档副本保存到<code class="codeph">$D</code>索引表中的首选项的列的名称。
                           </p>
                           <p>您可以指定在以下三个选项之一<code class="codeph">SAVE_COPY</code>列： <code class="codeph">PLAINTEXT</code> ， <code class="codeph">FILTERED</code> ，或<code class="codeph">NONE</code> 。</p>
                           <p><code class="codeph">PLAINTEXT</code>选项表示文档应作为纯文本存储在<code class="codeph">$D</code>索引表中。使用SNIPPET过程时指定此值。
                           </p>
                           <p><code class="codeph">FILTERED</code>选项表示在将文档存储到<code class="codeph">$D</code>索引表之前，应对文档中存在的文本应用过滤器首选项。使用MARKUP过程或HIGHLIGHT过程时指定此值。
                           </p>
                           <p><code class="codeph">NONE</code>选项表示不应将文档的副本保存在<code class="codeph">$D</code>索引表中。为以下任何方案指定此值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当不使用SNIPPET，MARKUP或HIGHLIGHT程序时。</p>
                              </li>
                              <li>
                                 <p>当索引列是<code class="codeph">VARCHAR2</code>或<code class="codeph">CLOB</code> 。</p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-34398282-CB98-4DDC-AD4E-184A34667A07"><!-- --></a> LEXER <span class="italic">lexer_pref</span></dt>
                        <dd>
                           <p>指定词法分析器或多路复用器首选项的名称。使用词法分析器首选项来标识文本的语言以及如何标记文本以进行索引。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-3C8A85E5-C346-4B18-874A-669D93F64DE8">Lexer类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-744B4BFF-8A58-4FEB-849B-C7A3777A3929"><!-- --></a> LANGUAGE COLUMN <span class="italic">language_column_name</span></dt>
                        <dd>
                           <p>使用多词法分析器首选项时指定语言列的名称。请参见<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> ”</span> 。
                           </p>
                           <p>此列必须存在于基表中。它不能与索引列相同。仅检查语言列的前30个字节以进行语言识别。</p>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-091BC0BB-094F-4473-AA6F-08E019C2491A">
                              <p class="notep1">注意：</p>
                              <p>仅当语言列发生更改时，文档不会标记为重新编制索引。必须更新索引列以标记重新索引。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-4BA44E60-B205-425B-805B-16168CF6949A"><!-- --></a> WORDLIST <span class="italic">wordlist_pref</span></dt>
                        <dd>
                           <p>指定wordlist首选项的名称。使用wordlist首选项可启用模糊，词干和前缀索引等功能，以便更好地进行通配符搜索。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-9CE95823-DF47-43E4-940A-9B1E8CB5E21F">Wordlist类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-B0CC6DE8-CB05-4553-9D1A-976CD08BB604"><!-- --></a> STORAGE <span class="italic">storage_pref</span></dt>
                        <dd>
                           <p>指定Text索引的存储首选项的名称。使用存储首选项指定索引表的存储方式。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-C6DA9061-955A-403E-B8BB-961D31360DCB">存储类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-C5ADA85D-72F9-4928-B379-8A281F855B4B"><!-- --></a> STOPLIST <span class="italic">停止列表</span></dt>
                        <dd>
                           <p>指定停止列表的名称。使用停止列表来标识不要编入索引的单词。请参阅CTX_DDL。 <a href="CTX_DDL-package.html#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-ED29D954-A976-42C8-B4D2-1B7BD0290C6F"><!-- --></a> SECTION GROUP <span class="italic">section_group</span></dt>
                        <dd>
                           <p>指定节组的名称。使用节组在结构化文档中创建可搜索的节。请参阅CTX_DDL。 <a href="CTX_DDL-package.html#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-B7D74464-1E23-4852-ABAD-866FA0D4E30D"><!-- --></a> MEMORY <span class="italic">memsize</span></dt>
                        <dd>
                           <p>指定用于索引的运行时内存量。<tt>memsize</tt>的语法如下：</p><pre class="pre codeblock"><code>memsize = <span class="variable" translate="no">number</span> [K | M | G]</code></pre><p>K代表千字节，M代表兆字节，G代表千兆字节。</p>
                           <p>您为<code class="codeph">memsize</code>指定的值必须介于1M和<a href="oracle-text-views.html#GUID-A974A8EC-258E-4A7D-9A68-61DFE7672093">CTX_PARAMETERS</a>视图中<code class="codeph">MAX_INDEX_MEMORY</code>的值之间。要指定大于<code class="codeph">MAX_INDEX_MEMORY</code>的内存大小，必须使用CTX_ADM重置此参数。 <a href="CTX_ADM-package.html#GUID-34F6AE6C-B3B3-4A08-87EA-A75849D4ED30">SET_PARAMETER</a>大于或等于<code class="codeph">memsize</code> 。
                           </p>
                           <p>默认值是<code class="codeph">CTX_PARAMETERS</code>为<code class="codeph">DEFAULT_INDEX_MEMORY</code>指定的值。</p>
                           <p><a id="d5395e7213" class="indexterm-anchor"></a><a id="d5395e7215" class="indexterm-anchor"></a> <code class="codeph">memsize</code>参数指定在将索引刷新到磁盘之前Oracle Text用于索引的内存量。指定大量内存可提高索引性能，因为I / O操作较少，并且提高了查询性能和维护，因为碎片较少。
                           </p>
                           <p>指定较少的内存会增加磁盘I / O和索引碎片，但在运行时内存不足时可能会有用。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJEHFDFH"><!-- --></a> POPULATE | NOPOPULATE</dt>
                        <dd>
                           <p>指定索引应为空还是填充。默认值为<code class="codeph">POPULATE</code> 。</p>
                           <div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-67478C52-2619-47FC-B643-77771CC3E366">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">POPULATE</code> | <code class="codeph">NOPOPULATE</code>是唯一一个无法使用CTX_ADM设置其默认值的选项。 <a href="CTX_ADM-package.html#GUID-34F6AE6C-B3B3-4A08-87EA-A75849D4ED30">SET_PARAMETER</a> 。</p>
                           </div>
                           <p><a id="d5395e7245" class="indexterm-anchor"></a>通过对基表的更新或插入来填充空索引。当您需要以增量方式创建索引或有选择地索引基表中的文档时，可以创建空索引。当您只需要文档集中的主题和Gist输出时，也可以创建空索引。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJEDAGCH"><!-- --></a> SYNC（MANUAL | EVERY“ <span class="variable" translate="no">interval-string</span> ”| ON COMMIT）</dt>
                        <dd>
                           <p>指定<code class="codeph">SYNC</code>用于在对基表进行插入，更新或删除时自动同步<code class="codeph">CONTEXT</code>索引。您可以指定以下<code class="codeph">SYNC</code>方法之一：</p>
                           <div class="tblformal" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-5F52FFA7-24D6-4CC8-B094-FB5951233628">
                              <p class="titleintable">表1-6 SYNC类型</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="同步类型" width="90%" border="1" summary="This table shows SYNC methods." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d5395e7278">同步类型</th>
                                       <th align="left" valign="bottom" width="69%" id="d5395e7281">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d5395e7286" headers="d5395e7278 ">
                                          <p><code class="codeph">手册</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d5395e7286 d5395e7281 ">
                                          <p>不提供自动同步。这是默认值。您必须手动将索引与<code class="codeph">CTX_DDL.SYNC_INDEX</code>同步。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d5395e7297" headers="d5395e7278 ">
                                          <p>每个“ <span class="variable" translate="no">interval-string</span> ”</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d5395e7297 d5395e7281 ">
                                          <p>以<span class="variable" translate="no">interval-string</span>的值指定的固定间隔自动同步索引，该语法采用与调度程序作业相同的语法。使用<code class="codeph">EVERY</code>自动同步需要索引创建者具有<code class="codeph">CREATE JOB</code>权限。
                                          </p>
                                          <p>确保将<span class="variable" translate="no">interval-string</span>设置为足够长的时间段，以便完成任何先前的同步作业;否则，同步作业可能会挂起。 <span class="variable" translate="no">interval-string</span>必须用双引号括起来，而<span class="variable" translate="no">interval-string</span>任何单引号都必须以带有另一个单引号的转义字符开头。
                                          </p>
                                          <p>有关自动同步语法的示例，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000959">启用自动索引同步</a> ”</span> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d5395e7333" headers="d5395e7278 ">
                                          <p>ON COMMIT</p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d5395e7333 d5395e7281 ">
                                          <p>提交事务后立即同步索引。在同步完成之前，提交事务不会返回。在Oracle Database Release 18c之前，同步是作为单独的事务执行的。当提交数据但索引更改没有时，有一段时间，通常很小。从Oracle Database Release 18c开始，同步作为同一事务的一部分执行。</p>
                                          <p>该操作使用<span class="variable" translate="no">memory</span>参数指定的<span class="variable" translate="no">memory</span> 。
                                          </p>
                                          <p>在Oracle Database Release 18c之前，同步操作有自己的事务上下文。如果操作失败，则数据事务仍然提交。从Oracle Database Release 18c开始，如果存在致命索引同步错误，则回滚整个数据事务。<code class="codeph">CTX_USER_INDEX_ERRORS</code>视图中记录了非致命（单个行）同步错误，但事务仍然完成。请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000916">查看索引错误</a> ”</span> 。
                                          </p>
                                          <p>有关<code class="codeph">ON COMMIT</code>语法的示例，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000959">启用自动索引同步</a> ”</span> 。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>本地分区索引的每个分区都可以有自己的同步类型（ <code class="codeph">ON COMMIT</code> ， <code class="codeph">EVERY</code>或<code class="codeph">MANUAL</code> ）。主参数字符串中指定的同步类型适用于所有索引分区，除非分区指定自己的类型。
                           </p>
                           <p>通过自动（ <code class="codeph">EVERY</code> ）同步，用户可以指定内存大小和并行同步。该语法是：</p><pre class="pre codeblock"><code>...每个<span class="variable" translate="no">interval_string</span> MEMORY <span class="variable" translate="no">mem_size</span> PARALLEL <span class="variable" translate="no">paradegree</span> ......
</code></pre><p><code class="codeph">ON</code> <code class="codeph">COMMIT</code>同步只能以串行方式运行，并且必须使用在创建索引时指定的相同内存大小。
                           </p>
                           <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-2F52F9E9-1B52-47C8-BCD0-CE00EE68FCB9">
                              <p class="notep1">也可以看看：</p>
                              <p> <a href="../admin/administering-oracle-scheduler.html#ADMIN035" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关作业调度的信息</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJECACGF"><!-- --></a>交易</dt>
                        <dd>
                           <p><a id="d5395e7410" class="indexterm-anchor"></a><a id="d5395e7412" class="indexterm-anchor"></a><a id="d5395e7416" class="indexterm-anchor"></a><a id="d5395e7418" class="indexterm-anchor"></a><a id="d5395e7420" class="indexterm-anchor"></a><a id="d5395e7424" class="indexterm-anchor"></a><a id="d5395e7428" class="indexterm-anchor"></a>指定在插入或更新文档后立即搜索文档。如果在启用<code class="codeph">TRANSACTIONAL</code>情况下创建文本索引，则除了处理索引中已有的同步rowid之外， <code class="codeph">CONTAINS</code>运算符还将处理未同步的rowid。Oracle Text对非同步rowid进行内存索引，并根据内存中索引处理查询。
                           </p>
                           <p><code class="codeph">TRANSACTIONAL</code>是一个索引级参数，不适用于分区级别。
                           </p>
                           <p>您仍然必须不时同步文本索引（使用<code class="codeph">CTX_DDL.SYNC_INDEX</code> ）以将挂起的rowid带入索引。随着非同步rowid数量的增加，查询性能会下降。因此，Oracle建议设置索引以使用与<code class="codeph">EVERY</code>或<code class="codeph">ON COMMIT</code>参数的自动同步。（参见<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJEDAGCH">”SYNC（MANUAL | EVERY）interval-string“| ON COMMIT）”</a> “</span> 。 <span class="q">”</span>
                           </p>
                           <p><a id="d5395e7459" class="indexterm-anchor"></a><a id="d5395e7461" class="indexterm-anchor"></a><a id="d5395e7463" class="indexterm-anchor"></a>可以使用PL / SQL变量<code class="codeph">CTX_QUERY.disable_transactional_query</code>打开和关闭（在用户会话期间）使用<code class="codeph">TRANSACTIONAL</code>参数创建的索引的事务查询。例如，如果由于存在太多挂起的rowid而导致查询速度很慢，这很有用。以下是设置此会话变量的示例：</p><pre class="pre codeblock"><code>exec ctx_query.disable_transactional_query：= TRUE;</code></pre><p>如果索引使用<code class="codeph">AUTO_FILTER</code> ，则涉及未同步的rowid的查询将需要过滤未同步的文档。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-BC903094-D1AC-4237-BAC8-98B66C12B1ED"><!-- --></a> OPTIMIZE（MANUAL | AUTO_DAILY | EVERY“ <span class="variable" translate="no">interval-string</span> ”）</dt>
                        <dd>
                           <p>指定<code class="codeph">OPTIMIZE</code>以启用自动后台索引优化。您可以指定以下任何一种<code class="codeph">OPTIMIZE</code>方法：</p>
                           <div class="tblformal" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-E0C543B9-AA5C-42BD-AE79-72778B5B4EC0">
                              <p class="titleintable">表1-7优化类型</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="优化类型" width="90%" border="1" summary="This table shows OPTIMIZE types." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d5395e7506">OPTIMIZE类型</th>
                                       <th align="left" valign="bottom" width="20%" id="d5395e7508">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d5395e7512" headers="d5395e7506 ">
                                          <p>手册</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d5395e7512 d5395e7508 ">
                                          <p>不提供自动优化。您必须使用<code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code>手动优化索引。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d5395e7522" headers="d5395e7506 ">
                                          <p>AUTO_DAILY</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d5395e7522 d5395e7508 ">
                                          <p>在create index参数列表中指定<code class="codeph">OPTIMIZE (AUTO_DAILY)</code>时，将安排重复运行的优化令牌作业和重复运行的优化完整作业。优化令牌作业计划在每个午夜12点到凌晨3点运行，周六晚除外，以优化前10个最碎片的令牌。在凌晨3点之前未启动的作业将被暂停，直到第二天上午12点。这些暂停的工作将在计划在第二天上午12点运行的其他工作之前启动。优化完整作业计划从每个星期六晚上12点开始每周运行，以优化索引表并清理$ N.升级到Oracle Database Release 18c后，默认情况下现有索引不会具有<code class="codeph">OPTIMIZE (AUTO_DAILY)</code> 。您需要使用<code class="codeph">ALTER INDEX</code>来启用自动后台索引优化。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d5395e7538" headers="d5395e7506 ">
                                          <p>每个“ <span class="variable" translate="no">interval-string</span> ”</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d5395e7538 d5395e7508 ">
                                          <p>以值<span class="variable" translate="no">interval-string</span>指定的定期间隔自动运行优化令牌，该值采用与调度程序作业相同的语法。
                                          </p>
                                          <p>确保将<span class="variable" translate="no">interval-string</span>设置为足够长的时间段，以便之前的任何优化作业都已完成;否则，优化作业可能会挂起。 <span class="variable" translate="no">interval-string</span>必须用双引号括起来，而<span class="variable" translate="no">interval-string</span>任何单引号都必须以带有另一个单引号的转义字符开头。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>使用<code class="codeph">AUTO_DAILY | EVERY " <span class="variable" translate="no">interval-string</span> "</code>设置，您都可以指定并行优化。该语法是：</p><pre class="pre codeblock"><code>...[AUTO_DAILY |每个“ <span class="variable" translate="no">interval-string</span> ”] PARALLEL paradegree ......</code></pre></dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-F0DCD137-18FB-41DE-AEEA-048D8B60297B">CREATE INDEX：CONTEXT索引示例</p>
                     <p>以下部分提供了创建<code class="codeph">CONTEXT</code>索引的示例。
                     </p>
                     <p><a id="d5395e7583" class="indexterm-anchor"></a><a id="d5395e7587" class="indexterm-anchor"></a>使用默认首选项创建上下文索引</p>
                     <p>以下示例在<code class="codeph">mytable</code>的<code class="codeph">docs</code>列中创建名为<code class="codeph">myindex</code>的<code class="codeph">CONTEXT</code>索引。使用默认首选项。
                     </p><pre class="pre codeblock"><code>CREATE INDEX myindex ON mytable（docs）INDEXTYPE IS ctxsys.context;</code></pre><div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-5B6C8D43-E257-49E1-9642-32BA39C46EF5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../ccapp/creating-oracle-text-indexes.html#CCAPP-GUID-11480023-8177-4971-8BA6-9C1526D56943" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                           </li>
                           <li>
                              <p>有关默认设置的详细信息，请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-BFE53A45-FA37-4F63-8D70-9E9C5E987D5E">默认索引参数</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <p><a id="d5395e7624" class="indexterm-anchor"></a>使用自定义首选项创建CONTEXT索引</p>
                     <p>以下示例在<code class="codeph">mytable</code>的<code class="codeph">docs</code>列中创建名为<code class="codeph">myindex</code>的<code class="codeph">CONTEXT</code>索引。索引是使用名为<code class="codeph">my_lexer</code>的自定义词法分析器首选项和名为<code class="codeph">my_lexer</code>的自定义停止列表<code class="codeph">my_stop</code> 。
                     </p>
                     <p>此示例还假定先前使用CTX_DDL创建了首选项和停止列表。 <a href="CTX_DDL-package.html#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a>为<code class="codeph">my_lexer</code>和CTX_DDL。 <a href="CTX_DDL-package.html#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">my_stop</a>的<code class="codeph">my_stop</code> 。默认首选项用于未指定的首选项。
                     </p><pre class="pre codeblock"><code>CREATE INDEX myindex ON mytable（docs）INDEXTYPE是ctxsys.context PARAMETERS（'LEXER my_lexer STOPLIST my_stop'）;</code></pre><p>任何用户都可以使用任何偏好。要指定另一个用户架构中存在的首选项，请将用户名添加到首选项名称。以下示例假定首选项<code class="codeph">my_lexer</code>和<code class="codeph">my_stop</code>存在于属于用户<code class="codeph">kenny</code>的模式中：</p><pre class="pre codeblock"><code>CREATE INDEX myindex ON mytable（docs）INDEXTYPE是ctxsys.context PARAMETERS（'LEXER kenny.my_lexer STOPLIST kenny.my_stop'）;</code></pre><p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000959"><span class="bold">启用自动索引同步</span></p>
                     <p>您可以创建索引并指定定期同步索引，以便对基表进行插入，更新和删除。为此，请使用<code class="codeph">SYNC</code> <code class="codeph">(</code> <code class="codeph">EVERY</code> <code class="codeph">"</code> <span class="variable" translate="no">interval-string</span> <code class="codeph">")</code>参数创建索引。
                     </p>
                     <p>要使用作业计划，您必须以具有DBA权限的用户身份登录，然后授予<code class="codeph">CREATE JOB</code>权限。
                     </p>
                     <p>以下示例创建索引并为三个索引分区计划三个同步作业。第一个分区使用<code class="codeph">ON</code> <code class="codeph">COMMIT</code>同步。其他两个分区由计划在每周一下午3点执行的作业同步</p><pre class="pre codeblock"><code>CONNECT系统/ <span class="italic">密码</span> GRANT CREATE JOB TO dr_test CREATE INDEX tdrmauto02x ON tdrmauto02（text）INDEXTYPE IS CTXSYS.CONTEXT local（PARTITION tdrm02x_i1 PARAMETERS（'MEMORY 20m SYNC（ON COMMIT）'），PARTITION tdrm02x_i2，PARTITION tdrm02x_i3）PARAMETERS（'SYNC（每个“NEXT_DAY（TRUNC（SYSDATE），''星期一'））+ 15/24”）'）;</code></pre><p>有关作业调度语法的信息，请参见“ <a href="../admin/administering-oracle-scheduler.html#ADMIN035" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                     </p>
                     <p><span class="bold">启用自动后台索引优化</span></p>
                     <p>以下示例创建索引并在每个午夜12点安排重复运行的优化令牌作业，并在每个周六晚上12点重复运行优化完整作业。</p><pre class="pre codeblock"><code>CREATE TABLE mytable（text VARCHAR2（30））; CREATE INDEX myindex ON mytable（text）INDEXTYPE是CTXSYS.CONTEXT PARAMETERS（'OPTIMIZE（每次'FREQ = DAILY; BYHOUR = 0“）'）;</code></pre><p><span class="bold">使用Multilexer首选项创建CONTEXT索引</span><a id="d5395e7737" class="indexterm-anchor"></a></p>
                     <p>多路复用器首选项根据语言列确定每行使用哪个词法分析器。这是表中的字符列，用于在文本列中存储文档的语言。例如，创建表<code class="codeph">globaldoc</code>以保存不同语言的文档：</p><pre class="pre codeblock"><code>CREATE TABLE globaldoc（doc_id NUMBER PRIMARY KEY，lang VARCHAR2（10），text CLOB）;</code></pre><p>假设<code class="codeph">global_lexer</code>是您创建的多路复用器首选项。要索引<code class="codeph">global_doc</code>表，请指定多路复用器首选项和语言列的名称，如下所示：</p><pre class="pre codeblock"><code>CREATE INDEX globalx ON globaldoc（text）INDEXTYPE IS ctxsys.context PARAMETERS（'LEXER global_lexer LANGUAGE COLUMN lang'）;</code></pre><div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-EA26CF44-4920-471B-94D1-F521202BAEAC">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> ”</span>有关创建多路复用器首选项的更多信息</p>
                     </div>
                     <p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000586"><span class="bold">创建本地分区索引</span><a id="d5395e7769" class="indexterm-anchor"></a></p>
                     <p>以下示例创建一个文本表，该表分为三个，填充它，然后创建一个分区索引：</p><pre class="pre codeblock"><code>PROMPT创建分区表并填充它CREATE TABLE part_tab（一个int，b varchar2（40））PARTITION BY RANGE（a）（分区p_tab1值小于（10），分区p_tab2值小于（20），分区p_tab3值小于（30））; PROMPT在part_tab上创建分区索引CREATE INDEX part_idx（b）INDEXTYPE IS CTXSYS.CONTEXT LOCAL（分区p_idx1，分区p_idx2，分区p_idx3）;</code></pre><div class="infoboxnote" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-4FA70079-5984-422D-A73C-EB6E47E431F7">
                        <p class="notep1">注意：</p>
                        <p>Oracle Text中的分区数限制与Oracle数据库中每个表的最大分区数相同。</p>
                     </div>
                     <p><a id="d5395e7781" class="indexterm-anchor"></a> <span class="bold">使用FILTER BY和ORDER BY子句</span></p>
                     <p>以下示例在表<span class="italic">docs</span>上创建索引，并按作者的发布日期对文档进行排序。
                     </p>
                     <p>首先，创建表：</p><pre class="pre codeblock"><code>CREATE TABLE文档（docid NUMBER，pub_date DATE，作者VARCHAR2（30），类别VARCHAR2（30），文档CLOB）;</code></pre><p>使用<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句创建索引：</p><pre class="pre codeblock"><code>docs上的CREATE INDEX doc_idx（document）indextype是ctxsys.context FILTER BY类，作者ORDER BY pub_date desc，docid PARAMETERS（'memory 500M'）;</code></pre><p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998082"><span class="bold">并行索引</span><a id="d5395e7814" class="indexterm-anchor"></a></p>
                     <p>当您有多个CPU时，并行索引可以提高索引性能。</p>
                     <p>要并行创建索引，请使用具有并行度的<code class="codeph">PARALLEL</code>子句。此示例使用3的并行度：</p><pre class="pre codeblock"><code>CREATE INDEX myindex on mytab（pk）INDEXTYPE IS ctxsys.context PARALLEL 3;</code></pre><p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998102"><span class="bold">并行创建本地分区索引</span><a id="d5395e7830" class="indexterm-anchor"></a><a id="d5395e7834" class="indexterm-anchor"></a><a id="d5395e7836" class="indexterm-anchor"></a></p>
                     <p>并行创建本地分区索引可以在具有多个CPU时提高性能。使用分区表，您可以分割工作。您可以通过两种方式并行创建本地分区索引：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将<code class="codeph">PARALLEL</code>子句与<code class="codeph">CREATE INDEX</code>语句中的<code class="codeph">LOCAL</code>子句一起使用。在这种情况下，最大并行度限制为您拥有的分区数。请参见<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000611">与CREATE INDEX并行</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>首先创建一个不可用的索引，然后运行<code class="codeph">DBMS_PCLXUTIL.BUILD_PART_INDEX</code>实用程序。此方法可以实现更高的并行度，尤其是当您拥有的CPU数量多于分区时。请参见<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000635">与DBMS_PCLUTIL.BUILD_PART_INDEX并行</a> ”</span> 。
                           </p>
                        </li>
                     </ul>
                     <p>如果您尝试并行创建本地分区索引，并且尝试失败，您可能会看到以下错误消息：</p><pre class="pre codeblock"><code>ORA-29953：为一个或多个索引分区执行ODCIIndexCreate例程时出错</code></pre><p>要确定索引创建失败的具体原因，请查询<a href="oracle-text-views.html#GUID-49A2323B-71C6-49B0-85FA-046552DDBDE6">CTX_USER_INDEX_ERRORS</a>视图。
                     </p>
                     <p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000611"><span class="bold">与CREATE INDEX并行</span></p>
                     <p>您可以使用<code class="codeph">CREATE INDEX</code>语句中的<code class="codeph">PARALLEL</code>和<code class="codeph">LOCAL</code>子句来实现本地索引并行性。在这种情况下，最大并行度限制为您拥有的分区数。
                     </p>
                     <p>以下示例创建一个包含三个分区的表，填充它们，然后以2的度并行创建本地索引：</p><pre class="pre codeblock"><code>create table part_tab3（id number主键，text varchar2（100））partition by range（id）（分区p1值小于（1000），分区p2值小于（2000），分区p3值小于（3000））;在0..2999循环中为i开始插入part_tab3值（i，'oracle'）;结束循环;结束; part_tab3上的/ create index part_tab3x（text）indextype是ctxsys.context local（partition part_tabx1，partition part_tabx2，partition part_tabx3）parallel 2;</code></pre><p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000635"><a id="d5395e7899" class="indexterm-anchor"></a><a id="d5395e7903" class="indexterm-anchor"></a><a id="d5395e7907" class="indexterm-anchor"></a> <span class="bold">与DBMS_PCLUTIL.BUILD_PART_INDEX的并行性</span></p>
                     <p>您可以通过首先创建一个不可用的<code class="codeph">CONTEXT</code>索引，然后运行<a href="../arpls/DBMS_PCLXUTIL.html#ARPLS037" target="_blank"><code class="codeph">DBMS_PCLUTIL.BUILD_PART_INDEX</code></a>实用程序来实现本地索引并行性。此方法可以导致更高程度的并行性，尤其是当您拥有的CPU数量多于分区时。
                     </p>
                     <p>在此示例中，基表有三个分区。我们首先创建一个本地分区的不可用索引，然后运行<a href="../arpls/DBMS_PCLXUTIL.html#ARPLS037" target="_blank"><code class="codeph">DBMS_PCLUTIL.BUILD_PART_INDEX</code></a> ，它并行构建3个分区（称为分区间并行）。此外，在每个分区内部，索引创建并行进行（称为分区内并行性），并行度为2。因此，总并行度为6（3乘2）。
                     </p><pre class="pre codeblock"><code>create table part_tab3（id number主键，text varchar2（100））partition by range（id）（分区p1值小于（1000），分区p2值小于（2000），分区p3值小于（3000））;在0..2999循环中为i开始插入part_tab3值（i，'oracle'）;结束循环;结束; part_tab3上的/ create index part_tab3x（text）indextype是ctxsys.context local（partition part_tabx1，partition part_tabx2，partition part_tabx3）不可用; exec dbms_pclxutil.build_part_index（jobs_per_batch =&gt; 3，procs_per_job =&gt; 2，tab_name =&gt;'PART_TAB3'，idx_name =&gt;'PART_TAB3X'，force_opt =&gt; TRUE）;</code></pre><p id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1000916"><span class="bold">查看索引错误</span> <a id="d5395e7937" class="indexterm-anchor"></a><a id="d5395e7941" class="indexterm-anchor"></a><a id="d5395e7945" class="indexterm-anchor"></a><a id="d5395e7949" class="indexterm-anchor"></a></p>
                     <p>在<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>或<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>操作之后，您可以使用Oracle Text视图查看索引错误。要查看索引上的错误，请查询<a href="oracle-text-views.html#GUID-49A2323B-71C6-49B0-85FA-046552DDBDE6">CTX_USER_INDEX_ERRORS</a>视图。要将所有索引上的错误视为<code class="codeph">CTXSYS</code> ，请查询<a href="oracle-text-views.html#GUID-184A0B18-395F-420B-9588-DAB35241D24C">CTX_INDEX_ERRORS</a>视图。
                     </p>
                     <p>例如，要查看索引上的最新错误，请输入以下语句：</p><pre class="pre codeblock"><code>SELECT err_timestamp，err_text FROM ctx_user_index_errors ORDER BY err_timestamp DESC;</code></pre><p>删除索引错误<a id="d5395e7985" class="indexterm-anchor"></a></p>
                     <p>要清除索引错误视图，请输入以下语句：</p><pre class="pre codeblock"><code>DELETE FROM ctx_user_index_errors;</code></pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998134">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-3FB81C77-5006-41D4-B33B-0214E1E86771">CTXCAT索引类型的语法</p>
                     <p>合并文本列和一个或多个其他列的索引。使用<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">CATSEARCH</code>运算符查询此索引。此类索引针对混合查询进行了优化。此索引是事务性的，使用DML自动将其自身更新到基表。
                     </p><pre class="pre codeblock"><code>CREATE INDEX [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">index</span>上[ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span> （ <span class="variable" translate="no">column</span> ）INDEXTYPE IS ctxsys.ctxcat [参数（'[指数设定<span class="italic">index_set]</span> [词法<span class="variable" translate="no">lexer_pref</span> ] [存储<span class="variable" translate="no">storage_pref</span> ] [停止列表<span class="variable" translate="no">stoplist</span> ] [段组<span class="italic">sectiongroup_pref]</span> [单词一览<span class="variable" translate="no">wordlist_pref</span> ] [记忆<span class="variable" translate="no">memsize</span> ]'）;</code></pre><dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-95508F9A-83BD-4BFF-B7E7-0035D474BB2F"><!-- --></a> [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span> （ <span class="variable" translate="no">column</span> ）</dt>
                        <dd>
                           <p>指定要索引的表和列的名称。</p>
                           <p><a id="d5395e8064" class="indexterm-anchor"></a>创建<code class="codeph">CTXCAT</code>索引时指定的列必须是<code class="codeph">CHAR</code>或<code class="codeph">VARCHAR2</code>类型。<code class="codeph">CTXCAT</code>不支持其他类型。</p>
                           <p>尝试在虚拟专用数据库（VPD）受保护表上创建索引将失败，除非满足以下选项之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建VPD策略，使其不适用于<code class="codeph">INDEX</code>语句类型，这是默认值</p>
                        </li>
                        <li>
                           <p>policy函数为当前用户返回null谓词。</p>
                        </li>
                        <li>
                           <p>用户（索引所有者）是<code class="codeph">SYS</code> 。</p>
                        </li>
                        <li>
                           <p>用户具有<code class="codeph">EXEMPT</code> <code class="codeph">ACCESS</code> <code class="codeph">POLICY</code>权限。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-300A399D-B5B8-40E3-88D3-3AB710C887A6">支持的CTXCAT首选项</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-A6A0971A-930A-4D12-A25A-B55E39DA75D7"><!-- --></a>索引集<span class="italic">index_set</span></dt>
                        <dd>
                           <p>指定用于创建<code class="codeph">CTXCAT</code>索引的索引集首选项。索引集首选项命名构成子索引的列。在索引集列列表中命名的任何列都不能在基表的任何行中具有<code class="codeph">NULL</code>值，否则您将收到错误。
                           </p>
                           <p>始终确保列在索引编制之前和之后具有非空值。</p>
                           <p>请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998241">创建CTXCAT索引</a> ”</span> 。
                           </p>
                        </dd>
                     </dl>
                     <p>指数表现和规模考虑因素</p>
                     <p>尽管<code class="codeph">CTXCAT</code>索引提供了查询性能优势，但创建此类索引会产生成本。Oracle Text创建<code class="codeph">CTXCAT</code>索引所需的时间取决于索引的总大小。
                     </p>
                     <p><code class="codeph">CTXCAT</code>索引的总大小与以下<code class="codeph">CTXCAT</code>直接相关：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要编入索引的文本总数</p>
                        </li>
                        <li>
                           <p>索引集中的组件索引数</p>
                        </li>
                        <li>
                           <p>构成组件索引的基表中的列数</p>
                        </li>
                     </ul>
                     <p>在索引集中包含许多组件索引也会降低DML性能，因为必须更新更多索引。</p>
                     <p>由于创建<code class="codeph">CTXCAT</code>索引会增加这些成本，因此在将其添加到索引集之前，应仔细考虑每个组件索引为应用程序提供的查询性能优势。
                     </p>
                     <div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-021A4B9A-7813-43D2-A3B8-3E9335549A8F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关创建<code class="codeph">CTXCAT</code>索引及其优点的更多信息，请<code class="codeph">CTXCAT</code> <a href="../ccapp/creating-oracle-text-indexes.html#CCAPP-GUID-210F00C9-8866-466F-909F-71C672CF469B" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                     </div>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-5134A381-E51E-4AAB-A33D-43E6B806BC0F"><!-- --></a>其他CTXCAT首选项</dt>
                        <dd>
                           <p>创建<code class="codeph">CTXCAT</code>类型的索引时，可以使用<code class="codeph">parameters</code>字符串<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJEJBHAG" title="此表显示支持的CTXCAT索引首选项。">中表1-8</a>中列出的受支持的索引首选项。
                           </p>
                        </dd>
                     </dl>
                     <div class="tblformal" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__BJEJBHAG">
                        <p class="titleintable">表1-8支持的CTXCAT索引首选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="支持的CTXCAT索引首选项" width="100%" border="1" summary="This table shows supported CTXCAT Index Preferences." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d5395e8207">偏好类</th>
                                 <th align="left" valign="bottom" width="73%" id="d5395e8210">支持的类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d5395e8215" headers="d5395e8207 ">
                                    <p>数据存储</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d5395e8215 d5395e8210 ">
                                    <p><code class="codeph">CTXCAT</code>不支持此首选项类。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d5395e8225" headers="d5395e8207 ">
                                    <p>过滤</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d5395e8225 d5395e8210 ">
                                    <p><code class="codeph">CTXCAT</code>不支持此首选项类。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d5395e8235" headers="d5395e8207 ">
                                    <p>词法分析器</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d5395e8235 d5395e8210 ">
                                    <p><a href="oracle-text-indexing-elements.html#GUID-118602A6-7B96-4D66-9BAD-4747186894BE">BASIC_LEXER</a> （不支持<code class="codeph">index_themes</code>属性）</p>
                                    <p><a href="oracle-text-indexing-elements.html#GUID-BBE21367-EB6F-4D07-9377-BFE9709E9C3C">CHINESE_LEXER</a></p>
                                    <p><a href="oracle-text-indexing-elements.html#GUID-6F53E4EB-0663-4290-9560-59668DEBA039">CHINESE_VGRAM_LEXER</a></p>
                                    <p><a href="oracle-text-indexing-elements.html#GUID-40AF0529-8D00-4826-888F-6B209D511B13">JAPANESE_LEXER</a></p>
                                    <p><a href="oracle-text-indexing-elements.html#GUID-F27A8A4E-776A-488E-9587-C533313F47E4">JAPANESE_VGRAM_LEXER</a></p>
                                    <p><a href="oracle-text-indexing-elements.html#GUID-05408DB5-8629-4B16-BA70-E13FDDE583BA">KOREAN_MORPH_LEXER</a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d5395e8268" headers="d5395e8207 ">
                                    <p>词汇表</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d5395e8268 d5395e8210 ">
                                    <p><a href="oracle-text-indexing-elements.html#GUID-CD2DE39F-17F7-424E-8DB3-A16C7843965D">BASIC_WORDLIST</a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d5395e8277" headers="d5395e8207 ">
                                    <p>存储</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d5395e8277 d5395e8210 ">
                                    <p><a href="oracle-text-indexing-elements.html#GUID-84CFF759-7AA2-4D64-BE72-6358873043BA">BASIC_STORAGE</a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d5395e8286" headers="d5395e8207 ">
                                    <p>终止列表</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d5395e8286 d5395e8210 ">
                                    <p>仅支持单语言停止列表（ <code class="codeph">BASIC_STOPLIST</code>类型）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d5395e8296" headers="d5395e8207 ">
                                    <p>科组</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d5395e8296 d5395e8210 ">
                                    <p><code class="codeph">CTXCAT</code>仅支持Field Section。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-AE7ABD23-BCDE-4655-B404-E898AD0ED65D">不支持的首选项和参数</p>
                     <p>创建<code class="codeph">CTXCAT</code>索引时，无法指定数据存储和过滤器首选项。对于部分组首选项，仅支持字段部分首选项。您也不能像使用<code class="codeph">CONTEXT</code>索引一样指定语言，格式或字符集列。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I998241">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-15D4ECC1-C4B4-4F10-B7E4-14472AF016D6">创建CTXCAT索引</p>
                     <p>本节提供了创建<code class="codeph">CTXCAT</code>索引的简短示例。有关更完整的示例，请参阅<a href="../ccapp/creating-oracle-text-indexes.html#CCAPP-GUID-210F00C9-8866-466F-909F-71C672CF469B" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> 。
                     </p>
                     <p>考虑一个名为<code class="codeph">AUCTION</code>的表，其中包含以下模式：</p><pre class="pre codeblock"><code>创建表拍卖（item_id号，标题varchar2（100），category_id号，价格号，bid_close日期）;</code></pre><p>假设表上的查询涉及强制性文本查询子句和<code class="codeph">price</code>可选结构化条件。必须根据<code class="codeph">bid_close</code>对结果进行排序。这意味着需要一个支持结构化和排序标准的良好响应时间的索引。
                     </p>
                     <p>您可以创建目录索引以支持用户可能输入的不同类型的结构化查询。对于结构化查询， <code class="codeph">CTXCAT</code>索引可提高上下文索引的查询性能。
                     </p>
                     <p>要创建索引，首先要创建索引集首选项，然后选择添加存储首选项，最后添加所需的索引：</p><pre class="pre codeblock"><code>开始ctx_ddl.create_index_set（'auction_iset'）; ctx_ddl.add_index（ 'auction_iset'， 'bid_close'）; ctx_ddl.add_index（'auction_iset'，'price，bid_close'）;结束;</code></pre><p>（可选）创建存储首选项：</p><pre class="pre codeblock"><code>开始ctx_ddl.create_preference（'auction_st_pref'，'BASIC_STORAGE'）; ctx_ddl.set_attribute（'auction_st_pref'，'I_TABLE_CLAUSE'，'tablespace TEXT storage（initial 5M）'）; ctx_ddl.set_attribute（'auction_st_pref'，'I_ROWID_INDEX_CLAUSE'，'tablespace TEXT storage（initial 5M）'）; ctx_ddl.set_attribute（'auction_st_pref'，'I_INDEX_CLAUSE'，'tablespace TEXT storage（initial 5M）compress 2'）;结束; /</code></pre><p>然后，使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句创建<code class="codeph">CTXCAT</code>索引，如下所示：</p><pre class="pre codeblock"><code>在AUCTION（title）indextype上创建索引auction_titlex是CTXSYS.CTXCAT参数（'index set auction_iset storage auction_st_pref'）;</code></pre><p>查询CTXCAT指数</p>
                     <p>要查询单词<span class="italic">pokemon</span>的标题列，请输入常规和混合查询，如下所示：</p><pre class="pre codeblock"><code>从AUCTION中选择*，其中CATSEARCH（标题，'口袋妖怪'，NULL）&gt; 0;从AUCTION中选择*，其中CATSEARCH（标题，'口袋妖怪'，'价格&lt;bid order by bid_close desc'）&gt; 0;</code></pre><div class="infoboxnotealso" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-B58D9277-FF39-40BB-AF84-44F057283730">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="../ccapp/creating-oracle-text-indexes.html#CCAPP-GUID-210F00C9-8866-466F-909F-71C672CF469B" target="_blank"><span class="italic">Oracle Text Application Developer's Guide，</span></a>用于完整的<code class="codeph">CTXCAT</code>示例</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1002072">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-6294928F-0852-4A63-8AB7-4126D4227429">CTXRULE索引类型的语法</p>
                     <p><code class="codeph">CTXRULE</code>类型是包含一组查询的列的索引。使用<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">MATCHES</code>运算符查询此索引。
                     </p><pre class="pre codeblock"><code>[ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span>上的CREATE INDEX [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">index</span> （ <span class="italic">rule_co</span> <span class="variable" translate="no">l</span> ）INDEXTYPE IS ctxsys.ctxrule [PARAMETERS（'[lexer lexer_pref] [storage storage_pref] [section group section_pref] [wordlist wordlist_pref] [classifier classifier_pref]'）; [PARALLEL n];</code></pre><dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-69E1E2CA-D044-4CC6-92CC-44EE6001C7E1"><!-- --></a> [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span> （ <span class="variable" translate="no">column</span> ）</dt>
                        <dd>
                           <p>指定要索引的表和规则列的名称。规则可以是查询兼容的字符串，查询模板字符串或二进制支持向量机规则。</p>
                           <p><a id="d5395e8444" class="indexterm-anchor"></a>创建<code class="codeph">CTXRULE</code>索引时指定的列必须是<code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB or BLOB</code> 。 <code class="codeph">CTXRULE</code>类型不支持其他类型。
                           </p>
                           <p>尝试在虚拟专用数据库（VPD）受保护表上创建索引将失败，除非满足以下条件之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>VPD策略没有打开<code class="codeph">INDEX</code>语句类型（这是默认值）。
                           </p>
                        </li>
                        <li>
                           <p>policy函数为当前用户返回null谓词。</p>
                        </li>
                        <li>
                           <p>用户（索引所有者）是<code class="codeph">SYS</code> 。</p>
                        </li>
                        <li>
                           <p>用户具有<code class="codeph">EXEMPT</code> <code class="codeph">ACCESS</code> <code class="codeph">POLICY</code>权限。
                           </p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-7BE9469D-831D-4557-9196-5D3F9DCEC1E3"><!-- --></a> lexer_pref</dt>
                        <dd>
                           <p>指定用于处理查询的词法分析器首选项，以及稍后用<code class="codeph">MATCHES</code>函数分类的文档。
                           </p>
                           <p>使用分类器<code class="codeph">SVN_CLASSFIER</code>和<code class="codeph">RULE_CLASSIFIER</code> ，您可以使用<code class="codeph">BASIC_LEXER</code> ， <code class="codeph">CHINESE_LEXER</code> ， <code class="codeph">JAPANESE_LEXER</code>或<code class="codeph">KOREAN_MORPH_LEXER</code>词法分析器。（请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-33498DE0-DC96-4D98-B2BC-26DC49147DC5" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。">分类器类型</a> ”</span>和<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-3C8A85E5-C346-4B18-874A-669D93F64DE8">Lexer类型</a> ”</span> 。）
                           </p>
                           <p>对于处理查询，这些词法分析器支持以下运算符： <code class="codeph">ABOUT</code> ， <code class="codeph">STEM</code> ， <code class="codeph">AND</code> ， <code class="codeph">NEAR</code> ， <code class="codeph">NOT</code> ， <code class="codeph">OR</code>和<code class="codeph">WITHIN</code> 。</p>
                           <p>支持thesaural运算符（ <code class="codeph">BT*</code> ， <code class="codeph">NT*</code> ， <code class="codeph">PT</code> ， <code class="codeph">RT</code> ， <code class="codeph">SYN</code> ， <code class="codeph">TR</code> ， <code class="codeph">TRSYS</code> ， <code class="codeph">TT,</code>等）。但是，这些运算符在索引时使用同义词库的快照进行扩展，而不是在输入<code class="codeph">MATCHES</code>函数时。这意味着如果在索引后更改同义词库，则必须重新索引查询集。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-9F2424E8-726A-4D58-9536-CC4DA59E0E0A"><!-- --></a> storage_pref</dt>
                        <dd>
                           <p>为查询指定索引的存储首选项。使用存储首选项指定索引表的存储方式。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-C6DA9061-955A-403E-B8BB-961D31360DCB">存储类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-1CE85778-D860-4542-9F05-ECAD6875FC0F"><!-- --></a>部分组</dt>
                        <dd>
                           <p>指定节组。此参数不会影响查询。它适用于要分类的文档中的部分。<code class="codeph">CTXRULE</code>索引类型支持以下部分组：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">BASIC_SECTION_GROUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">HTML_SECTION_GROUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">XML_SECTION_GROUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">AUTO_SECTION_GROUP</code></p>
                        </li>
                     </ul>
                     <p>请参见<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-CDF963D3-36D8-4055-AFB1-367F18A048AD">部分组类型</a> ”</span> 。
                     </p>
                     <p><code class="codeph">CTXRULE</code>不支持特殊部分。它也不支持<code class="codeph">NDATA</code>部分。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-145D28B7-1119-400A-9626-31DA33C5549C"><!-- --></a> wordlist_pref</dt>
                        <dd>
                           <p>指定wordlist首选项。这用于在查询字词上启用词干分析操作。请参阅<a href="oracle-text-indexing-elements.html#GUID-9CE95823-DF47-43E4-940A-9B1E8CB5E21F">Wordlist类型</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-717787A9-5622-4D93-A7E2-E64934795605"><!-- --></a> classifier_pref</dt>
                        <dd>
                           <p>指定分类器首选项。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-33498DE0-DC96-4D98-B2BC-26DC49147DC5" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。">分类器类型</a> ”</span> 。您必须使用与<code class="codeph">CTX_CLS.TRAIN</code>指定的相同首选项名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-22ACE2C3-08CC-4BC5-BC60-2D989FC81CDE">创建CTXRULE索引的示例</p>
                     <p>有关在文档路由应用程序中使用<code class="codeph">CTXRULE</code>索引类型的完整示例，请参阅<a href="../ccapp/creating-oracle-text-indexes.html#CCAPP-GUID-32E664C4-0379-4CC0-8040-67B2CFED020C" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-58D23F98-F29B-4305-89BA-4B8C6E6CC3BE">相关话题</p>
                     <p>CTX_DDL。 <a href="CTX_DDL-package.html#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a></p>
                     <p>CTX_DDL。 <a href="CTX_DDL-package.html#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a></p>
                     <p>CTX_DDL。 <a href="CTX_DDL-package.html#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a></p>
                     <p><span class="q">“改变<a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48">指数</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-40404FD8-528E-4121-93B8-20F4D9E0EB54">CATSEARCH</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9" name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9"></a><h3 id="CCREF-GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9" class="sect3"><span class="enumeration_section">1.6</span>创建搜索索引</h3>
               <div>
                  <p>本节描述<code class="codeph">CREATE SEARCH INDEX</code>语句，因为它与创建JSON搜索索引有关。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-D87B432A-EF40-4809-A2C8-E7D31520EB4C">目的</p>
                     <p>使用<code class="codeph">CREATE SEARCH INDEX</code>创建JSON搜索索引。
                     </p>
                     <p><span class="bold">例</span></p><pre class="pre codeblock"><code>create table t1（txn_date date，po CLOB，constraint c1 check（po is json））;在t1（po）上为JSON参数创建搜索索引idx（'DATAGUIDE ON sync（on commit）'）;</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-7FE7CF85-CA10-44B4-942A-A98C8CCE30F9">句法</p>
                     <p>您可以使用更简单的替代语法在JSON上创建搜索索引。从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，以下是允许的参数：</p><pre class="pre codeblock"><code>在JAB参数的TAB（COL）上创建搜索索引IDX（DATAGUIDE [ON | OFF | ON CHANGE [ADD_VC | <span class="italic">Function_name</span> ]] [SEARCH_ON [NONE | TEXT | <span class="italic">TEXT_VALUE</span> ]）</code></pre><pre class="pre codeblock"><code>在[ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">index</span>创建搜索索引[ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span> （ <span class="italic">json_col</span> ）FOR JSON PARAMETERS（[ <span class="variable" translate="no">paramstring</span> ]）;</code></pre><p>如果省略<code class="codeph">PARAMETERS</code>子句，则<code class="codeph">DATAGUIDE</code> ， <code class="codeph">SEARCH_ON</code>和<code class="codeph">SYNC</code>的默认值分别为<code class="codeph">ON</code> ， <code class="codeph">TEXT_VALUE</code>和<code class="codeph">ON COMMIT</code> 。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-3E9BF753-F635-4F65-A106-04F035B9F2AC"><!-- --></a> [ <span class="variable" translate="no">schema</span> ] <span class="variable" translate="no">index</span></dt>
                        <dd>
                           <p>指定要创建的JSON搜索索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-1C23770F-D022-4877-A14B-B6CFC80C0AE7"><!-- --></a> [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">table</span> （ <span class="variable" translate="no">json_col</span> ）</dt>
                        <dd>
                           <p>指定表的名称和要索引的JSON列。 <code class="codeph">json_col</code>是将在其上创建索引的JSON列的名称。
                           </p>
                           <p>该列应具有<code class="codeph">IS JSON</code>检查约束。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-5D0E0F15-A424-4081-A425-A1DED3ED971D">
                              <!-- --></a></dt>
                        <dd></dd>
                     </dl><pre class="pre codeblock"><code>[paramstring] =（DATAGUIDE [ON | OFF | ON CHANGE [ADD_VC | <span class="variable" translate="no">Function_name</span> ]] [SEARCH_ON [NONE | TEXT | <span class="variable" translate="no">TEXT_VALUE</span> ]] [MEMORY <span class="variable" translate="no">memsize</span> ] [SYNC（MANUAL | EVERY“interval-string”| ON COMMIT））]</code></pre><dl>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-D3151F15-4B14-439D-B378-DDA7FC08FEDC"><!-- --></a> DATAGUIDE</dt>
                        <dd>
                           <p>指定数据指南支持。如果<code class="codeph">DATAGUIDE</code>值为<code class="codeph">OFF,</code>则仅提供常规搜索索引功能（无数据指南支持）。
                           </p>
                           <p>如果将<code class="codeph">DATAGUIDE</code>的值设置为<code class="codeph">ON CHANGE,</code>则可以指定在支持数据指南时触发调用的过程。预定义的数据指南更改触发过程是<code class="codeph">ADD_VC</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-24598AFA-588D-4C5C-B9C8-23CADC2E7FE4"><!-- --></a> ADD_VC</dt>
                        <dd>
                           <p>指示是否基于数据指南创建虚拟列。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-8B8432B5-1549-4DF6-8FC3-D612D0C379C0"><!-- --></a> Function_name</dt>
                        <dd>
                           <p>指定数据指南更改时要执行的函数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-5F2D0D84-8169-4DA1-9FD9-6ACBF6011981"><!-- --></a>文字</dt>
                        <dd>
                           <p>表示全文搜索查询将使用搜索索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-45F2390C-9F56-4F99-BAE9-5E621690AF6F"><!-- --></a> TEXT_VALUE</dt>
                        <dd>
                           <p>表示可以使用搜索索引回答全文搜索以及叶元素的范围搜索。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-92CFE86D-2518-431F-9EE1-2BDF7CB64FCC"><!-- --></a>无</dt>
                        <dd>
                           <p>表示未填充<code class="codeph">$I</code>和<code class="codeph">$S*</code>表。此选项使您只能使用数据指南而不能使用索引表。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-1AB2CD25-1BB4-45A2-BBCD-D1EDF56AA695"><!-- --></a> <span class="bold">MEMORY</span> <span class="italic">memsize</span></dt>
                        <dd>
                           <p>指定用于索引的运行时内存量。<tt>memsize</tt>的语法如下：</p><pre class="pre codeblock"><code>memsize = <span class="variable" translate="no">number</span> [K | M | G]</code></pre><p>K代表千字节，M代表兆字节，G代表千兆字节。</p>
                           <p>您为<code class="codeph">memsize</code>指定的值必须介于1M和<a href="oracle-text-views.html#GUID-A974A8EC-258E-4A7D-9A68-61DFE7672093">CTX_PARAMETERS</a>视图中<code class="codeph">MAX_INDEX_MEMORY</code>的值之间。要指定大于<code class="codeph">MAX_INDEX_MEMORY</code>的内存大小，必须使用CTX_ADM重置此参数。 <a href="CTX_ADM-package.html#GUID-34F6AE6C-B3B3-4A08-87EA-A75849D4ED30">SET_PARAMETER</a>大于或等于<code class="codeph">memsize</code> 。
                           </p>
                           <p>默认值是<code class="codeph">CTX_PARAMETERS</code>为<code class="codeph">DEFAULT_INDEX_MEMORY</code>指定的值。</p>
                           <p><a id="d5395e9035" class="indexterm-anchor"></a><a id="d5395e9037" class="indexterm-anchor"></a> <code class="codeph">memsize</code>参数指定在将索引刷新到磁盘之前Oracle Text用于索引的内存量。指定大量内存可提高索引性能，因为I / O操作较少，并且提高了查询性能和维护，因为碎片较少。
                           </p>
                           <p>指定较少的内存会增加磁盘I / O和索引碎片，但在运行时内存不足时可能会有用。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-07AE7DAD-D985-4A8B-943A-7B118AC9FDBD"><!-- --></a> <span class="bold">SYNC（MANUAL | EVERY“</span> <span class="variable" translate="no">interval-string</span> <span class="bold">”| ON COMMIT）</span></dt>
                        <dd>
                           <p>指定<code class="codeph">SYNC</code>用于在对基表进行插入，更新或删除时自动同步<code class="codeph">CONTEXT</code>索引。您可以指定其中一种<code class="codeph">SYNC</code>方法，如<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__GUID-5F52FFA7-24D6-4CC8-B094-FB5951233628" title="该表显示了SYNC方法。">表1-6中所述</a> 。
                           </p>
                           <p>本地分区索引的每个分区都可以有自己的同步类型（ <code class="codeph">ON COMMIT</code> ， <code class="codeph">EVERY</code>或<code class="codeph">MANUAL</code> ）。主参数字符串中指定的同步类型适用于所有索引分区，除非分区指定自己的类型。
                           </p>
                           <p>通过自动（ <code class="codeph">EVERY</code> ）同步，用户可以指定内存大小和并行同步。该语法是：</p><pre class="pre codeblock"><code>...每个<span class="variable" translate="no">interval_string</span> MEMORY <span class="variable" translate="no">mem_size</span> PARALLEL <span class="variable" translate="no">paradegree</span> ......
</code></pre><p><code class="codeph">ON</code> <code class="codeph">COMMIT</code>同步只能以串行方式运行，并且必须使用在创建索引时指定的相同内存大小。
                           </p>
                           <div class="infoboxnotealso" id="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-2F52F9E9-1B52-47C8-BCD0-CE00EE68FCB9">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p> <a href="../admin/administering-oracle-scheduler.html#ADMIN035" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关作业调度的信息</p>
                                 </li>
                              </ul>
                              <ul style="list-style-type:disc">
                                 <li> <a href="../adjsn/indexes-for-json-data.html#ADJSN-GUID-8A1B098E-D4FE-436E-A715-D8B465655C0D" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南</span></a></li>
                              </ul>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10013D4C-AB6A-44EB-B8B3-AD318EDE33A9__GUID-BA777B04-52AE-40AF-9FE1-FC58B18068CD">
                              <!-- --></a></dt>
                        <dd></dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF0109"></a><div class="props_rev_3"><a id="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389" name="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389"></a><h3 id="CCREF-GUID-9E117E79-F01E-4C34-88E3-17A2BB036389" class="sect3"><span class="enumeration_section">1.7</span> DROP INDEX</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389__GUID-77CAC0F7-2FC7-464F-B33F-FC47B0243853">
                        <p class="notep1">注意：</p>
                        <p>本节描述<code class="codeph">DROP</code> <code class="codeph">INDEX</code>语句，因为它与删除Text域索引有关。
                        </p>
                        <p>有关<code class="codeph">DROP</code> <code class="codeph">INDEX</code>语句的完整说明，请参见<a href="../sqlrf/DROP-INDEX.html#SQLRF-GUID-F60F75DF-2866-4F93-BB7F-8FCE64BF67B6" target="_blank"><span class="italic">Oracle数据库SQL语言参考。</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389__GUID-1F9090AE-55AC-4924-B8C6-2D99F618DE39">目的</p>
                     <p>使用<code class="codeph">DROP</code> <code class="codeph">INDEX</code>删除指定的Text索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389__GUID-AF51F8FD-4C17-44E3-B757-707F635CEDE5">句法</p><pre class="oac_no_warn" dir="ltr">DROP INDEX [ <span class="variable" translate="no">schema</span> 。] <span class="variable" translate="no">index [force</span> ];</pre><dl>
                        <dt class="dlterm"><a name="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389__GUID-19436025-C16A-4CA6-9A47-83452B30FC52"><!-- --></a> [强制]</dt>
                        <dd>
                           <p>（可选）强制删除索引。当Oracle Text无法确定索引的状态时，例如索引操作失败时，请使用<code class="codeph">force</code>选项。
                           </p>
                           <p>Oracle建议不要默认使用此选项。仅在常规调用<code class="codeph">DROP</code> <code class="codeph">INDEX</code>失败时使用它。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389__GUID-7AFDCDFA-B94C-4004-A3B0-5C92A090667C">例</p>
                     <p>以下示例删除名为<code class="codeph">doc_index</code>的索引<span class="variable" translate="no"> </span>在当前用户的数据库架构中：</p><pre class="oac_no_warn" dir="ltr">DROP INDEX doc_index;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E117E79-F01E-4C34-88E3-17A2BB036389__GUID-A2316FA3-AF60-44C2-A0AA-EBB0ECE98617">相关话题</p>
                     <p><span class="q">“改变<a href="oracle-text-SQL-statements-and-operators.html#GUID-47E60252-C731-46A8-B587-AE30C1634F48">指数</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创造指数</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF0106"></a><div class="props_rev_3"><a id="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763" name="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763"></a><h3 id="CCREF-GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763" class="sect3"><span class="enumeration_section">1.8</span>比赛</h3>
               <div>
                  <div class="section">
                     <p><a id="d5395e9350" class="indexterm-anchor"></a><a id="d5395e9354" class="indexterm-anchor"></a><a id="d5395e9356" class="indexterm-anchor"></a>使用<code class="codeph">MATCHES</code>运算符查找查询表中与给定文档匹配的所有行。该文档必须是纯文本，HTML或XML文档。
                     </p>
                     <p><code class="codeph">MATCHES</code>运算符还支持数据库链接。您可以通过将<code class="codeph">@dblink</code>附加到其名称的末尾来标识远程表或物化视图。<code class="codeph">dblink</code>必须是包含远程表或物化视图的数据库的数据库链接的完整或部分名称。（不支持查询远程视图。）
                     </p>
                     <p>此运算符在您的查询集上需要<code class="codeph">CTXRULE</code>索引。
                     </p>
                     <p>当使用<a href="oracle-text-indexing-elements.html#GUID-28CC450D-2DDF-4444-8BFD-A730B59A19DD">SVM_CLASSIFIER</a>分类器类型时， <code class="codeph">MATCHES</code>返回0到100范围内的分数;数字越大表示对比赛的信心越大。使用<code class="codeph">label</code>参数和<code class="codeph">MATCH_SCORE</code>获取此数字。然后使用匹配分数将特定于类别的阈值应用于特定类别。
                     </p>
                     <p>如果未使用<code class="codeph">SVM_CLASSIFIER</code>类型，则此运算符返回100（文档与条件匹配）或0（文档不匹配）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763__GUID-A8C97B87-A158-4E40-8910-7D00E2FD1713">局限性</p>
                     <p>如果优化器选择使用带有<code class="codeph">MATCHES</code>查询的函数查询调用，则查询将失败。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763__GUID-260C7658-BF8F-4EEB-BC08-47A05041E6AE">句法</p><pre class="oac_no_warn" dir="ltr">火柴（</pre><pre class="oac_no_warn" dir="ltr">[schema。]列，文档VARCHAR2或CLOB [，标签INTEGER]）</pre><pre class="oac_no_warn" dir="ltr">返回号码;</pre><dl>
                        <dt class="dlterm"><a name="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763__GUID-FC6034A5-028D-4A9F-9832-D7E93912498D"><!-- --></a>列</dt>
                        <dd>
                           <p>指定包含索引查询集的列。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763__GUID-1EA78830-72A6-42FA-9370-66E55CDCEA0F"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定要分类的文档。该文档可以是纯文本，HTML或XML。不支持二进制格式。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763__GUID-4BC54A5F-0D16-4368-8EE5-7A0363CB3B15"><!-- --></a>标签</dt>
                        <dd>
                           <p>（可选）指定标识<code class="codeph">MATCHES</code>运算符生成的分数的标签。将此标签与<a href="oracle-text-SQL-statements-and-operators.html#GUID-24B74948-E18F-4B71-8F74-032F933CF53A">MATCH_SCORE</a>一起<a href="oracle-text-SQL-statements-and-operators.html#GUID-24B74948-E18F-4B71-8F74-032F933CF53A">使用</a> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763__GUID-18D84B39-051E-4670-AD4A-1CDA8D2886C1">匹配示例</p>
                     <p>以下示例创建一个表<code class="codeph">querytable</code>表，并使用分类名称和关联规则填充它。然后它创建一个<code class="codeph">CTXRULE</code>索引。
                     </p>
                     <p>该示例使用要分类的文档字符串输入<code class="codeph">MATCHES</code>查询。<code class="codeph">SELECT</code>语句返回文档满足的所有行（查询）：</p><pre class="oac_no_warn" dir="ltr">create table querytable（分类varchar2（64），text varchar2（4000））;插入可查询值（'common names'，'smith OR jones OR brown'）;插入可查询值（'countries'，'United States OR Great Britain OR France'）;插入可查询值（'Oracle DB'，'oracle NEAR数据库'）;在querytable（text）上创建索引query_rule indextype是ctxsys.ctxrule; SELECT分类FROM querytable WHERE MATCHES（文本，'Smith是美国的通用名'）&gt; 0;分类------------------------------------------------- ---------------通用名国家</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763__GUID-BFAF2717-A11F-42D5-BE1F-18CEE1F3C75F">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-24B74948-E18F-4B71-8F74-032F933CF53A">MATCH_SCORE</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I1002072">CTXRULE索引类型的语法</a> ”</span></p>
                     <p>CTX_CLS。 <a href="CTX_CLS-package.html#GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F">培养</a></p>
                     <p><a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a>包含简单和监督分类的扩展示例，它们使用<code class="codeph">MATCHES</code>运算符。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF0112"></a><div class="props_rev_3"><a id="GUID-24B74948-E18F-4B71-8F74-032F933CF53A" name="GUID-24B74948-E18F-4B71-8F74-032F933CF53A"></a><h3 id="CCREF-GUID-24B74948-E18F-4B71-8F74-032F933CF53A" class="sect3"><span class="enumeration_section">1.9</span> MATCH_SCORE</h3>
               <div>
                  <div class="section">
                     <p><a id="d5395e9555" class="indexterm-anchor"></a><a id="d5395e9559" class="indexterm-anchor"></a><a id="d5395e9561" class="indexterm-anchor"></a>在语句中使用<code class="codeph">MATCH_SCORE</code>运算符返回<code class="codeph">MATCHES</code>查询生成的分数。
                     </p>
                     <p><code class="codeph">MATCH_SCORE</code>运算符还支持数据库链接。您可以通过将<code class="codeph">@dblink</code>附加到其名称的末尾来标识远程表或物化视图。<code class="codeph">dblink</code>必须是包含远程表或物化视图的数据库的数据库链接的完整或部分名称。（不支持查询远程视图。）
                     </p>
                     <p>使用<code class="codeph">SVM_CLASSIFIER</code>分类器类型时，此运算符返回0到100范围内的分数。使用匹配分数将特定于类别的阈值应用于特定类别。
                     </p>
                     <p>如果未使用<code class="codeph">SVM_CLASSIFIER</code>分类器，则此运算符返回100（文档与条件匹配）或0（文档不匹配）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24B74948-E18F-4B71-8F74-032F933CF53A__GUID-6848A4BD-0B3A-412D-9202-3687F7600A8A">句法</p><pre class="oac_no_warn" dir="ltr">MATCH_SCORE（标签号码）</pre><dl>
                        <dt class="dlterm"><a name="GUID-24B74948-E18F-4B71-8F74-032F933CF53A__GUID-96403916-1EDB-402A-8FD2-24F08AF7B917"><!-- --></a>标签</dt>
                        <dd>
                           <p>指定用于标识查询生成的分数的数字。使用此数字标识返回此分数的<code class="codeph">MATCHES</code>子句。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24B74948-E18F-4B71-8F74-032F933CF53A__GUID-C6D5B181-EF8C-491F-B215-826D37CE6716">例</p>
                     <p>要获得匹配的分数，请使用：</p><pre class="oac_no_warn" dir="ltr">从training_result中选择cat_id，match_score（1）匹配（profile，text，1）&gt; 0;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24B74948-E18F-4B71-8F74-032F933CF53A__GUID-9FCA3CA0-5DDE-474E-9EE0-2A890E8F0F2C">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-6A13B685-0AF6-46E6-8AAC-722905EE0763">匹配</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23747"></a><a id="CCREF23748"></a><a id="CCREF0107"></a><div class="props_rev_3"><a id="GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0" name="GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0"></a><h3 id="CCREF-GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0" class="sect3"><span class="enumeration_section">1.10</span>分数</h3>
               <div>
                  <div class="section">
                     <p><a id="d5395e9689" class="indexterm-anchor"></a><a id="d5395e9693" class="indexterm-anchor"></a><a id="d5395e9695" class="indexterm-anchor"></a>在<code class="codeph">SELECT</code>语句中使用<code class="codeph">SCORE</code>运算符可返回<a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59">CONTAINS</a>查询生成的分数值。<code class="codeph">SCORE</code>运算符可用于<code class="codeph">SELECT</code> ， <code class="codeph">ORDER</code> <code class="codeph">BY</code>或<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句。
                     </p>
                     <p><code class="codeph">SCORE</code>运算符还支持数据库链接。您可以通过将<code class="codeph">@dblink</code>附加到其名称的末尾来标识远程表或物化视图。<code class="codeph">dblink</code>必须是包含远程表或物化视图的数据库的数据库链接的完整或部分名称。（不支持查询远程视图。）
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0__GUID-9FD847CA-4B58-44D5-A44A-E970024A9B7C">句法</p><pre class="oac_no_warn" dir="ltr">分数（标签NUMBER）</pre><dl>
                        <dt class="dlterm"><a name="GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0__GUID-8AAB277F-F4E8-4FC4-9053-A0D564773EAD"><!-- --></a>标签</dt>
                        <dd>
                           <p>指定用于标识查询生成的分数的数字。使用此数字标识返回此分数的<code class="codeph">CONTAINS</code>子句。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0__GUID-8BF50C51-05E0-4CED-A876-EF90952717C3">例</p>
                     <p>单个包含</p>
                     <p>调用<code class="codeph">SCORE</code>运算符时（例如，在<code class="codeph">SELECT</code>子句中）， <code class="codeph">CONTAINS</code>子句必须引用分数标签值，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">SELECT SCORE（1），来自newsindex的标题WHERE CONTAINS（text，'oracle'，1）&gt; 0 ORDER BY SCORE（1）DESC;</pre><p>多个CONTAINS</p>
                     <p>假设新闻数据库分别存储和索引新闻文章的标题和正文。以下查询返回其标题中包含<span class="italic">Oracle</span>字样的所有文档及其正文中的<span class="italic">java</span> 。文章按第一个<code class="codeph">CONTAINS</code> （ <span class="italic">Oracle</span> ）的分数排序，然后按第二个<code class="codeph">CONTAINS</code> （ <span class="italic">java</span> ）的分数排序。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT标题，正文，SCORE（10），SCORE（20）</pre><pre class="oac_no_warn" dir="ltr">来自新闻WHERE CONTAINS（news.title，'Oracle'，10）&gt; 0 OR</pre><pre class="oac_no_warn" dir="ltr">CONTAINS（news.body，'java'，20）&gt; 0 ORDER BY SCORE（10），SCORE（20）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-263BAC8E-EAA9-4DF2-9F46-354C34E8C3C0__GUID-FD2229B6-32F9-4358-866A-5305CA6D0E07">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-827A6E7D-106E-4341-9398-2FF6ABB05E59">CONTAINS</a> ”</span></p>
                     <p><a href="oracle-text-scoring-algorithm.html#GUID-9715B872-7499-4A6B-8EA1-68B06CA2A686">Oracle文本评分算法</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>