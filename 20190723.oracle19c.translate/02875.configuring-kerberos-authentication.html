<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure."></meta>
      <meta name="description" content="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure."></meta>
      <title>配置Kerberos身份验证</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="stong-authentication-administration-tools.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-secure-sockets-layer-authentication.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="stong-authentication-administration-tools.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-secure-sockets-layer-authentication.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_5.html" property="item" typeof="WebPage"><span property="name">管理强身份验证</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置Kerberos身份验证</li>
            </ol>
            <a id="GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" name="GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4"></a><a id="DBSEG060"></a>
            
            <h2 id="DBSEG-GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" class="sect2"><span class="enumeration_chapter">20</span>配置Kerberos身份验证</h2>
         </header>
         <div class="ind">
            <div>
               <p>Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5">启用Kerberos身份验证</a><br>要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC">Kerberos身份验证适配器的实用程序</a><br>Oracle Kerberos身份验证适配器实用程序专为安装了Oracle Kerberos身份验证支持的Oracle客户端而设计。
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65">连接到Kerberos认证的Oracle数据库服务器</a><br>配置Kerberos后，您可以在不使用用户名或密码的情况下连接到Oracle数据库服务器。
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625">配置与Windows 2008域控制器KDC的互操作性</a><br>您可以将Oracle数据库配置为与Microsoft Windows 2008域控制器密钥分发中心（KDC）进行互操作。
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-2AB588F3-700F-4409-BD3D-AD40D330701E">配置Kerberos身份验证后备行为</a><br>如果Kerberos身份验证失败，您可以配置回退行为（基于密码的身份验证）。
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D">Oracle Kerberos身份验证配置疑难解答</a><br>Oracle为常见的Kerberos配置问题提供了指导。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_5.html" title="第V部分介绍了如何管理强身份验证。">管理强身份验证</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG9635"></a><div class="props_rev_3"><a id="GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" name="GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5"></a><h3 id="DBSEG-GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" class="sect3">启用Kerberos身份验证</h3>
               <div>
                  <p>要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15">第1步：安装Kerberos</a><br>您应该安装Kerberos版本5。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-E61C3203-142E-48AE-B2A0-355552AEC913">步骤2：为Oracle数据库服务器配置服务主体</a><br>在服务器可以验证使用Kerberos对自身进行身份验证的客户端的身份之前，必须为Oracle数据库创建服务主体。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-914FE001-68BC-4E81-937F-FB46FE953F14">步骤3：从Kerberos中提取服务密钥表</a><br>接下来，您可以从Kerberos中提取服务密钥表并将其复制到Oracle数据库服务器/ Kerberos客户端系统。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD">步骤4：安装Oracle数据库服务器和Oracle客户端</a><br>从Kerberos中提取服务密钥表后，即可安装Oracle数据库服务器和Oracle客户端。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-DDB21112-7337-4946-960E-F0808CC7F107">步骤5：配置Oracle Net Services和Oracle数据库</a><br>安装Oracle数据库服务器和客户端后，可以在服务器和客户端上配置Oracle Net Services。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9">步骤6：配置Kerberos身份验证</a><br>您必须在Oracle数据库服务器和客户端<code class="codeph">sqlnet.ora</code>文件中设置所需的参数。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791">第7步：创建Kerberos用户</a><br>您必须在安装了管理工具的Kerberos身份验证服务器上创建Kerberos用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8">步骤8：创建外部认证的Oracle用户</a><br>接下来，您已准备好创建经过外部验证的Oracle用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009">步骤9：获取Kerberos / Oracle用户的初始票证</a><br>在连接到数据库之前，必须向密钥分发中心（KDC）询问初始票证。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5__GUID-D9114CC6-7F39-41DA-A444-B6C63ADDBA53">
                     <p class="notep1">也可以看看：</p><a href="../dbimi/using-the-user-migration-utility.html#DBIMI200" target="_blank"><span class="italic">“Oracle数据库企业用户安全性管理员指南”</span></a> ，了解有关将Kerberos用户迁移到经过Kerberos身份验证的企业用户的信息</div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG9636"></a><div class="props_rev_3"><a id="GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15" name="GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15"></a><h4 id="DBSEG-GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15" class="sect4">第1步：安装Kerberos</h4>
                  <div>
                     <p>您应该安装Kerberos版本5。</p>
                     <div class="section">
                        <p>有关构建和安装Kerberos的说明的源代码分发提供了详细信息。安装Kerberos后，如果在POWER系统（64位）上使用IBM AIX，则应确保Kerboros 5是首选的身份验证方法。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在充当身份验证服务器的系统上安装Kerberos。</span><div>
                              <div class="infoboxnote" id="GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15__GUID-BF230D35-7680-49D7-BF70-D8196A151792">
                                 <p class="notep1">注意：</p>
                                 <p>从32位版本的Oracle数据库升级后，首次使用Kerberos身份验证适配器会导致错误消息： <code class="codeph">ORA-01637: Packet receive failed</code> 。
                                 </p>
                                 <p><span class="bold">解决方法：</span>升级到64位版本的数据库之后，在使用Kerberos外部身份验证方法之前，请检查名为<code class="codeph">/usr/tmp/oracle_service_name.RC</code>在您的计算机上，并将其删除。
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>对于POWER系统上的IBM AIX（64位），请检查身份验证方法。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">在/ usr / bin中/ lsauthent</pre><p>可能会出现类似以下的输出：</p><pre class="oac_no_warn" dir="ltr">标准Aix</pre></div>
                        </li>
                        <li class="stepexpand"><span>将Kerberos 5配置为首选方法。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">/ usr / bin / chauthent -k5 -std</pre><p>此命令将Kerberos 5设置为首选身份验证方法（ <code class="codeph">k5</code> ），将Standard AIX设置为第二个（ <code class="codeph">std</code> ）。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>要确保Kerberos 5现在是首选方法，请检查新配置。</span><div><pre class="oac_no_warn" dir="ltr">/ usr / bin / lsauthent Kerberos 5标准Aix</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9637"></a><div class="props_rev_3"><a id="GUID-E61C3203-142E-48AE-B2A0-355552AEC913" name="GUID-E61C3203-142E-48AE-B2A0-355552AEC913"></a><h4 id="DBSEG-GUID-E61C3203-142E-48AE-B2A0-355552AEC913" class="sect4">步骤2：为Oracle数据库服务器配置服务主体</h4>
                  <div>
                     <p>在服务器可以验证使用Kerberos对自身进行身份验证的客户端的身份之前，必须为Oracle数据库创建服务主体。</p>
                     <ol>
                        <li class="stepexpand"><span>使用以下格式确定服务主体的名称：</span><div><pre class="oac_no_warn" dir="ltr">kservice / kinstance @ REALM</pre><p>服务主体中的每个字段都指定以下值：</p>
                              <div class="tblformal" id="GUID-E61C3203-142E-48AE-B2A0-355552AEC913__GUID-023FEA3B-58ED-4E9E-9D48-FA96C4666E89">
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table lists and describes each field in the Kerberos service principal." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="32%" id="d125632e653">服务主体领域</th>
                                          <th align="left" valign="bottom" width="68%" id="d125632e656">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="32%" id="d125632e661" headers="d125632e653 ">
                                             <p><code class="codeph">kservice</code></p>
                                          </td>
                                          <td align="left" valign="top" width="68%" headers="d125632e661 d125632e656 ">
                                             <p>区分大小写的字符串，表示Oracle服务。这可以与数据库服务名称相同。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="32%" id="d125632e669" headers="d125632e653 ">
                                             <p><code class="codeph">kinstance</code></p>
                                          </td>
                                          <td align="left" valign="top" width="68%" headers="d125632e669 d125632e656 ">
                                             <p>通常是运行Oracle数据库的系统的完全限定DNS名称。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="32%" id="d125632e677" headers="d125632e653 ">
                                             <p><code class="codeph">领域</code></p>
                                          </td>
                                          <td align="left" valign="top" width="68%" headers="d125632e677 d125632e656 ">
                                             <p>用于注册服务主体的Kerberos域的名称。<code class="codeph">REALM</code>必须始终为大写，通常是DNS域名。
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>本节中的实用程序名称是可执行程序。但是，Kerberos用户名<code class="codeph">krbuser</code>和领域<code class="codeph">EXAMPLE.COM</code>仅是示例。
                              </p>
                              <p>例如，假设<code class="codeph">kservice</code>是<code class="codeph">oracle</code> ，运行Oracle数据库的系统的完全限定名称是<code class="codeph">dbserver.example.com</code> ，领域是<code class="codeph">EXAMPLE.COM</code> 。主要名称是：</p><pre class="oac_no_warn" dir="ltr">oracle/dbserver.example.com@EXAMPLE.COM</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">kadmin.local</code>以创建服务主体。在UNIX上，使用以下语法以root用户身份运行此命令：</span><div><pre class="oac_no_warn" dir="ltr">#cd / kerberos-install-directory / sbin＃。/ kadmin.local</pre><p>例如，要将名为<code class="codeph">oracle/dbserver.example.com@EXAMPLE.COM</code>的<a href="glossary.html#GUID-D596BFD5-3A0F-45F6-B5CD-DEAF8B7A7FCA"><span class="xrefglossterm">主体</span></a>添加到Kerberos已知的服务器主体列表中，可以输入以下内容：</p><pre class="oac_no_warn" dir="ltr">kadmin.local： <span class="bold">addprinc -randkey oracle/dbserver.example.com@EXAMPLE.COM</span></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9638"></a><div class="props_rev_3"><a id="GUID-914FE001-68BC-4E81-937F-FB46FE953F14" name="GUID-914FE001-68BC-4E81-937F-FB46FE953F14"></a><h4 id="DBSEG-GUID-914FE001-68BC-4E81-937F-FB46FE953F14" class="sect4">步骤3：从Kerberos中提取服务密钥表</h4>
                  <div>
                     <p>接下来，您可以从Kerberos中提取服务密钥表并将其复制到Oracle数据库服务器/ Kerberos客户端系统。</p>
                     <div class="section">
                        <p>例如，要为<code class="codeph">dbserver.example.com</code>提取服务密钥表：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>输入以下内容以提取<a href="glossary.html#GUID-82F9B5A1-F8D5-4A2A-A49B-1F6DB250D5FC"><span class="xrefglossterm">服务密钥表</span></a> ：</span><div><pre class="oac_no_warn" dir="ltr">kadmin.local： <span class="bold">ktadd -k / tmp / keytab oracle / dbserver.example.com</span>主体oracle / dbserver.example.com的条目，kvno 2，加密类型AES-256 CTS模式，96位SHA-1 HMAC添加到keytab WRFILE：WRFILE：/ tmp / keytab kadmin.local： <span class="bold">exit</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>要检查服务密钥表，请输入以下命令：</span><div><pre class="oac_no_warn" dir="ltr">oklist -k -t / tmp / keytab</pre></div>
                        </li>
                        <li class="stepexpand"><span>提取服务密钥表后，除了旧条目外，还要验证新条目是否在表中。</span><div>
                              <p>如果它们不是，或者您需要添加更多，请使用<code class="codeph">kadmin.local</code>附加到它们。
                              </p>
                              <p>如果在使用<code class="codeph">ktadd</code>时没有输入领域，它将使用Kerberos服务器的默认领域。 <code class="codeph">kadmin.local</code>连接到<code class="codeph">localhost</code>上运行的Kerberos服务器。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果Kerberos服务密钥表与Kerberos客户端位于同一系统上，则可以移动它。如果服务密钥表与Kerberos客户端位于不同的系统上，则必须使用FTP等程序传输该文件。如果使用FTP，请以二进制模式传输文件。</span><div>
                              <p>以下示例显示如何在UNIX平台上移动服务密钥表：</p><pre class="oac_no_warn" dir="ltr">#mv / tmp / keytab / etc / v5srvtab</pre><p>服务文件的默认名称是<code class="codeph">/etc/v5srvtab</code> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>验证Oracle数据库服务器可执行文件的所有者是否可以读取服务密钥表（上一示例中的<code class="codeph">/etc/v5srvtab</code> ）。</span><div>
                              <p>为此，请将文件所有者设置为Oracle用户，或使该文件可由Oracle所属的组读取。</p>
                              <p>不要让文件对所有用户都可读。这可能会导致安全漏洞。</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9639"></a><div class="props_rev_3"><a id="GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD" name="GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD"></a><h4 id="DBSEG-GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD" class="sect4">步骤4：安装Oracle数据库服务器和Oracle客户端</h4>
                  <div>
                     <p>从Kerberos中提取服务密钥表后，即可安装Oracle数据库服务器和Oracle客户端。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关安装Oracle数据库服务器和客户端软件的说明，请参阅Oracle数据库操作系统特定的安装文档。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9641"></a><div class="props_rev_3"><a id="GUID-DDB21112-7337-4946-960E-F0808CC7F107" name="GUID-DDB21112-7337-4946-960E-F0808CC7F107"></a><h4 id="DBSEG-GUID-DDB21112-7337-4946-960E-F0808CC7F107" class="sect4">步骤5：配置Oracle Net Services和Oracle数据库</h4>
                  <div>
                     <p>安装Oracle数据库服务器和客户端后，可以在服务器和客户端上配置Oracle Net Services。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关在Oracle数据库服务器和客户端上配置Oracle Net Services的信息，请参阅以下文档。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Oracle数据库操作系统特定的安装文档</p>
                                 </li>
                                 <li>
                                    <p><a href="../netag/introducing-oracle-net-services.html#NETAG001" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9642"></a><div class="props_rev_3"><a id="GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" name="GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9"></a><h4 id="DBSEG-GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" class="sect4">步骤6：配置Kerberos身份验证</h4>
                  <div>
                     <p>您必须在Oracle数据库服务器和客户端<code class="codeph">sqlnet.ora</code>文件中设置所需的参数。
                     </p>
                     <div class="infoboxnote" id="GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9__GUID-58DBAFCC-9D4D-41FD-9CC4-3262E5969AEE">
                        <p class="notep1">注意：</p>
                        <p>请注意，在多租户环境中， <code class="codeph">sqlnet.ora</code>文件中的设置适用于所有可插拔数据库（PDB）。但是，这并不意味着如果使用Kerberos，所有PDB必须通过一个KDC进行身份验证; <code class="codeph">sqlnet.ora</code>文件和Kerberos配置文件中的设置可以支持多个KDC。
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064">步骤6A：在客户端和数据库服务器上配置Kerberos</a><br>首先，您必须在客户端和数据库服务器上配置Kerberos身份验证服务参数。
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-7A4DD0B6-692D-474C-97F1-609197A9261D">步骤6B：设置初始化参数</a><br>接下来，您可以设置<code class="codeph">OS_AUTHENT_PREFIX</code>初始化参数。
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6">步骤6C：设置sqlnet.ora参数（可选）</a><br>除了必需的参数外，您还可以设置可选的<code class="codeph">sqlnet.ora</code>参数，以提高安全性。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9643"></a><div class="props_rev_3"><a id="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064" name="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064"></a><h5 id="DBSEG-GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064" class="sect5">步骤6A：在客户端和数据库服务器上配置Kerberos</h5>
                     <div>
                        <p>首先，您必须在客户端和数据库服务器上配置Kerberos身份验证服务参数。</p>
                        <ol>
                           <li class="stepexpand"><span>启动Oracle Net Manager。</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>（UNIX）从<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin</code> ，在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">netmgr</pre></li>
                                    <li>
                                       <p>（Windows）选择<span class="bold">开始</span> ， <span class="bold">程序</span> ， <span class="bold">Oracle  -  HOME_NAME</span> ， <span class="bold">配置和迁移工具</span> ，然后选择<span class="bold">Net Manager</span> 。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>展开<span class="bold">Oracle Net Configuration</span> ，然后从<span class="bold">Local</span>选择<span class="bold">Profile</span> 。</span></li>
                           <li class="stepexpand"><span>从“ <span class="bold">命名”</span>列表中，选择“ <span class="bold">网络安全”</span> 。</span><div>
                                 <p>将出现“网络安全”选项卡式窗口。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>选择<span class="bold">Authentication</span>选项卡。</span><div>
                                 <div class="figure" id="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064__GUID-2E24E95D-924F-407D-A6A4-571EB989C54B"><img src="img/radu0001.gif" alt="radu0001.gif的描述如下" title="radu0001.gif的描述如下" longdesc="img_text/radu0001.html"><br><a href="img_text/radu0001.html">插图描述radu0001.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>从“可用方法”列表中，选择<span class="bold">KERBEROS5</span> 。</span></li>
                           <li class="stepexpand"><span>单击右箭头（ <span class="bold">&gt;</span> ）将<span class="bold">KERBEROS5</span>移动到Selected Methods列表。</span></li>
                           <li class="stepexpand"><span>按使用顺序排列所选方法。</span><div>
                                 <p>为此，请在“选定的方法”列表中选择一个方法，然后单击“ <span class="bold">提升”</span>或“ <span class="bold">降级”</span>以将其放置在列表中。例如，如果您希望<code class="codeph">KERBEROS5</code>成为第一个使用的服务，请将其移至列表顶部。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>选择<span class="bold">其他参数</span>选项卡。</span></li>
                           <li class="stepexpand"><span>从“身份验证服务”列表中，选择<span class="bold">KERBEROS（V5）</span> 。</span></li>
                           <li class="stepexpand"><span>在<span class="bold">服务</span>字段中键入<span class="bold">Kerberos</span> 。</span><div>
                                 <div class="figure" id="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064__GUID-EE1C3442-17E2-4D46-8E8A-EBB349CA89B1"><img src="img/kerb0002.gif" width="320" alt="下面是kerb0002.gif的描述" title="下面是kerb0002.gif的描述" longdesc="img_text/kerb0002.html"><br><a href="img_text/kerb0002.html">插图说明kerb0002.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>此字段定义Oracle数据库用于获取Kerberos <a href="glossary.html#GUID-BE2D3069-1BCC-482C-AD66-39B43D5A9281"><span class="xrefglossterm">服务票证</span></a>的服务的名称。为此字段提供值时，将启用其他字段。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>（可选）输入以下字段的值：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">凭据缓存文件</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">配置文件</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">境界翻译文件</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">关键表</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">时钟歪斜</span></p>
                                    </li>
                                 </ul>
                                 <p>有关字段及其配置参数的详细信息，请参阅Oracle Net Manager联机帮助和<a href="configuring-kerberos-authentication.html#GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6" title="除了必需的参数外，您还可以设置可选的sqlnet.ora参数，以提高安全性。">步骤6C：设置sqlnet.ora参数（可选）</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>从“ <span class="bold">文件”</span>菜单中，选择“ <span class="bold">保存网络配置”</span> 。</span><div>
                                 <p>除了您在上一步中所做的任何可选选项之外，还使用以下条目更新<code class="codeph">sqlnet.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">SQLNET.AUTHENTICATION_SERVICES =（KERBEROS5）SQLNET.AUTHENTICATION_KERBEROS5_SERVICE = kservice</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="您必须在Oracle数据库服务器和客户端sqlnet.ora文件中设置所需的参数。">步骤6：配置Kerberos身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9644"></a><div class="props_rev_3"><a id="GUID-7A4DD0B6-692D-474C-97F1-609197A9261D" name="GUID-7A4DD0B6-692D-474C-97F1-609197A9261D"></a><h5 id="DBSEG-GUID-7A4DD0B6-692D-474C-97F1-609197A9261D" class="sect5">步骤6B：设置初始化参数</h5>
                     <div>
                        <p>接下来，您可以设置<code class="codeph">OS_AUTHENT_PREFIX</code>初始化参数。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>找到<code class="codeph">init.ora</code>文件。</span><div>
                                 <p>默认情况下， <code class="codeph">init.ora</code>文件位于Linux和UNIX系统上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/dbs</code>目录（或数据文件的相同位置）以及Windows上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\database</code>目录中。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在<code class="codeph">init.ora</code>文件中，在<code class="codeph">init.ora</code>初始化参数文件中将<code class="codeph">OS_AUTHENT_PREFIX</code>的值设置为null。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">OS_AUTHENT_PREFIX = “”</pre><p>将此值设置为null，因为Kerberos用户名可能很长，Oracle用户名限制为30个字符。将此参数设置为null将覆盖<code class="codeph">OPS$</code>的默认值。
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-7A4DD0B6-692D-474C-97F1-609197A9261D__GUID-596B1497-DED6-476A-9AFE-DA96DCC44383">
                              <p class="notep1">注意：</p>
                              <p>您可以创建Kerberos用户名超过30个字符的外部数据库用户。有关更多信息，请参阅<a href="configuring-kerberos-authentication.html#GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" title="接下来，您已准备好创建经过外部验证的Oracle用户。">步骤8：创建外部经过身份验证的Oracle用户</a> 。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="您必须在Oracle数据库服务器和客户端sqlnet.ora文件中设置所需的参数。">步骤6：配置Kerberos身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1054"></a><a id="DBSEG9645"></a><div class="props_rev_3"><a id="GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6" name="GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6"></a><h5 id="DBSEG-GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6" class="sect5">步骤6C：设置sqlnet.ora参数（可选）</h5>
                     <div>
                        <p>除了必需的参数外，您还可以设置可选的<code class="codeph">sqlnet.ora</code>参数，以提高安全性。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>（可选）在客户端和Oracle数据库服务器上设置下表中列出的参数。</p>
                              </li>
                           </ul>
                           <div class="tblformalwide" id="GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6__BABBGCJH">
                              <p class="titleintable">表20-1特定于Kerberos的sqlnet.ora参数</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Kerberos特定的sqlnet.ora参数" width="100%" border="1" summary="Kerberos-specific sqlnet.ora parameters" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="38%" id="d125632e1951">参数</th>
                                       <th align="left" valign="bottom" width="62%" id="d125632e1954">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e1959" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=</code> <span class="italic"><code class="codeph">pathname_to_credentials_cache_file</code></span> | <span class="italic"><code class="codeph">OS_MEMORY</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e1959 d125632e1954 ">
                                          <p>指定Kerberos凭据缓存（CC）文件的完整路径名。默认值取决于操作系统。对于UNIX，它是<code class="codeph">/tmp/krb5cc_</code> <span class="italic"><code class="codeph">userid</code></span> 。
                                          </p>
                                          <p>使用<code class="codeph">OS_MEMORY</code>选项表示操作系统管理的内存凭证缓存用于凭据缓存文件。目前唯一支持的值是<code class="codeph">OSMSFT</code> （适用于Microsoft Windows）。
                                          </p>
                                          <p>您可以使用以下格式为<code class="codeph">SQLNET.KERBEROS5_CC_NAME</code>指定值：</p>
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=</code> <span class="italic"><code class="codeph">complete_path_to_cc_file</code></span></p>
                                                <p>例如：</p>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME = / TMP / kcache</code></p>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME = d：\ TMP \ kcache</code></p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=FILE:</code> <span class="italic"><code class="codeph">complete_path_to_cc_file</code></span></p>
                                                <p>例如：</p>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME = FILE：/ TMP / kcache</code></p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME = OSMSFT：</code></p>
                                                <p>如果您运行的是Windows并使用Microsoft KDC，请使用此值。</p>
                                             </li>
                                          </ul>
                                          <p>您也可以使用<code class="codeph">KRB5CCNAME</code>环境变量设置此参数，但<code class="codeph">sqlnet.ora</code>文件中设置的值优先于<code class="codeph">KRB5CCNAME</code>设置的值。</p>
                                          <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CC_NAME =的/ usr / TMP / krbcache</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2042" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CLOCKSKEW=</code> <span class="italic"><code class="codeph">number_of_seconds_accepted_as_network_delay</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2042 d125632e1954 ">
                                          <p>此参数指定在将Kerberos凭据视为过期之前可以经过的秒数。当客户端或数据库服务器实际接收凭证时使用它。Oracle数据库服务器还使用它来决定是否需要存储凭证以防止重放攻击。默认值为300秒。</p>
                                          <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CLOCKSKEW = 1200</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2057" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CONF=</code> <span class="italic"><code class="codeph">pathname_to_Kerberos_configuration_file</code></span> <code class="codeph">|AUTO_DISCOVER</code></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2057 d125632e1954 ">
                                          <p>此参数指定<code class="codeph">Kerberos</code>配置文件的完整路径名。配置文件包含默认KDC（密钥分发中心）的领域，并将领域映射到KDC主机。默认值取决于操作系统。对于UNIX，它是<code class="codeph">/krb5/krb.conf</code> 。
                                          </p>
                                          <p>使用<code class="codeph">AUTO_DISCOVER</code>选项代替配置文件，Kerberos客户端可以自动发现KDC。</p>
                                          <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF = / krb / krb.conf SQLNET.KERBEROS5_CONF = AUTO_DISCOVER</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2085" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CONF_LOCATION=</code> <span class="italic"><code class="codeph">path_to_Kerberos_configuration_directory</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2085 d125632e1954 ">
                                          <p>此参数表示Kerberos配置文件由系统创建，不需要由客户端指定。配置文件使用DNS查找来获取默认KDC的域，并将域映射到KDC主机。</p>
                                          <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF_LOCATION = / KRB</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2100" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_KEYTAB=</code> <span class="italic"><code class="codeph">path_to_Kerberos_principal/key_table</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2100 d125632e1954 ">
                                          <p>此参数指定Kerberos主体/密钥映射文件的完整路径名。Oracle数据库服务器使用它来提取其密钥并解密来自客户端的传入身份验证信息。默认值取决于操作系统。对于UNIX，它是<code class="codeph">/etc/v5srvtab</code> 。
                                          </p>
                                          <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_KEYTAB =的/ etc / v5srvtab</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2118" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_REALMS=</code> <span class="italic"><code class="codeph">path_to_Kerberos_realm_translation_file</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2118 d125632e1954 ">
                                          <p>此参数指定Kerberos领域转换文件的完整路径名。转换文件提供从主机名或域名到域的映射。默认值取决于操作系统。对于UNIX，它是<code class="codeph">/etc/krb.realms</code> 。
                                          </p>
                                          <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_REALMS = / KRB5 / krb.realms</pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="您必须在Oracle数据库服务器和客户端sqlnet.ora文件中设置所需的参数。">步骤6：配置Kerberos身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9646"></a><div class="props_rev_3"><a id="GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791" name="GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791"></a><h4 id="DBSEG-GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791" class="sect4">第7步：创建Kerberos用户</h4>
                  <div>
                     <p>您必须在安装了管理工具的Kerberos身份验证服务器上创建Kerberos用户。</p>
                     <div class="section">
                        <p>领域必须已经存在。</p>
                        <div class="infoboxnote" id="GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791__GUID-AE5D8C71-5C1F-4EB1-95DA-2267EF45E477">
                           <p class="notep1">注意：</p>
                           <p>本节中的实用程序名称是可执行程序。但是，Kerberos用户名<code class="codeph">krbuser</code>和realm <code class="codeph">EXAMPLE.COM</code>仅为示例。它们可以因系统而异。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>以root身份运行<code class="codeph">/krb5/admin/kadmin.local</code>以创建新的Kerberos用户，例如<code class="codeph">krbuser</code> 。
                              </p>
                              <p>例如，创建Kerberos用户是特定于UNIX的：</p><pre class="oac_no_warn" dir="ltr">＃/ krb5/admin/kadmin.local kadmin.local： <span class="bold">addprinc krbuser</span>输入委托人密码：“krbuser@example.com”:(密码不显示）重新输入委托人密码：“krbuser@example.com”:(密码不显示）kadmin.local： <span class="bold">退出</span></pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9647"></a><div class="props_rev_3"><a id="GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" name="GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8"></a><h4 id="DBSEG-GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" class="sect4">步骤8：创建外部认证的Oracle用户</h4>
                  <div>
                     <p>接下来，您已准备好创建经过外部验证的Oracle用户。</p>
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CREATE USER</code>权限的用户身份登录SQL * Plus。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin <span class="italic">- 或者，CONNECT sec_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>确保<code class="codeph">OS_AUTHENT_PREFIX</code>设置为null（ <code class="codeph">""</code> ）。</span></li>
                        <li class="stepexpand"><span>创建与Kerberos用户对应的Oracle数据库用户帐户。以大写形式输入Oracle用户名，并将其用双引号括起来。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">创建用户“KRBUSER@EXAMPLE.COM”外部身份识别; GRANT创建会议“KRBUSER@EXAMPLE.COM”;</pre><p>如果用户的Kerberos主体名称长度超过30个字符，最多1024个字符，则使用以下语法创建用户：</p><pre class="oac_no_warn" dir="ltr">CREATE USER <span class="italic">db_user_name</span>外部标识为' <span class="italic">kerberos_principal_name</span> ';</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">创建用户KRBUSER外部标识为'KerberosUser@example.com';</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8__GUID-061B3B88-4C46-42BE-867F-145BC5106EF8">
                           <p class="notep1">注意：</p>
                           <p>数据库管理员应确保不使用相同的Kerberos主体名称在外部标识两个数据库用户。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG061"></a><div class="props_rev_3"><a id="GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009" name="GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009"></a><h4 id="DBSEG-GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009" class="sect4">步骤9：获取Kerberos / Oracle用户的初始票证</h4>
                  <div>
                     <p>在连接到数据库之前，必须向密钥分发中心（KDC）询问初始票证。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要请求<a href="glossary.html#GUID-E26D13B1-DD61-452C-A4E7-BA0C243C66EF"><span class="xrefglossterm">初始票证</span></a> ，请在客户端上运行以下命令：</p><pre class="oac_no_warn" dir="ltr">％okinit <span class="italic">用户名</span>
</pre><p>如果要启用可跨数据库链接使用的凭据，请包括<code class="codeph">-f</code>选项并在出现提示时提供Kerberos密码。
                              </p><pre class="oac_no_warn" dir="ltr">％okinit -f krbuser@EXAMPLE.COM的密码:(密码不显示）</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG9648"></a><div class="props_rev_3"><a id="GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" name="GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC"></a><h3 id="DBSEG-GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" class="sect3">Kerberos身份验证适配器的实用程序</h3>
               <div>
                  <p>Oracle Kerberos身份验证适配器实用程序专为安装了Oracle Kerberos身份验证支持的Oracle客户端而设计。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787">okinit获取初始票证的实用程序选项</a><br><code class="codeph">okinit</code>实用程序获取并缓存Kerberos票证。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406">oklist用于显示凭据的实用程序选项</a><br><code class="codeph">oklist</code>实用程序显示持有的票证列表。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40">okdstry用于从缓存文件中删除凭据的实用程序选项</a><br><code class="codeph">okdstry</code> （ <code class="codeph">okdestroy</code> ）实用程序从缓存文件中删除凭据。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-597B86B9-695B-487C-B85F-284ABFE40550">okcreate自动创建Keytab的实用程序选项</a><br><code class="codeph">okcreate</code>实用程序可自动从KDC或服务端点创建密钥记录。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG10205"></a><a id="DBSEG062"></a><div class="props_rev_3"><a id="GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787" name="GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787"></a><h4 id="DBSEG-GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787" class="sect4">okinit获取初始票证的实用程序选项</h4>
                  <div>
                     <p><code class="codeph">okinit</code>实用程序获取并缓存Kerberos票证。
                     </p>
                     <div class="section">
                        <p>此实用程序通常用于获取票证授予票证，使用用户输入的密码来解密来自密钥分发中心（KDC）的凭证。然后将票证授予票证存储在用户的凭证缓存中。</p>
                        <p>下表列出了<code class="codeph">okinit</code>可用的选项。要使用此表中描述的功能，必须将<code class="codeph">sqlnet.ora</code> <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>参数设置为<code class="codeph">TRUE</code> 。 （请注意， <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>已弃用，但为了向后兼容<code class="codeph">okinit</code>而保留。）
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787__BAJEJJFF">
                        <p class="titleintable">表20-2 okinit实用程序的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="okinit Utility的选项" width="100%" border="1" summary="This table lists and describes the options you can use with the okinit command-line utility." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d125632e2896">选项</th>
                                 <th align="left" valign="bottom" width="76%" id="d125632e2899">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2904" headers="d125632e2896 ">
                                    <p><code class="codeph">-f</code> | <code class="codeph">-F</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2904 d125632e2899 ">
                                    <p>要求可转发或不可转发的门票。此选项是遵循数据库链接所必需的。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2915" headers="d125632e2896 ">
                                    <p><code class="codeph">-l</code> <span class="italic"><code class="codeph">lifetime</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2915 d125632e2899 ">
                                    <p>指定票证授予票证和所有后续票证的生存期。默认情况下，票证授予票证有效期为八（8）小时，但可能需要更短或更长时间的凭证。KDC可以忽略此选项或将站点配置的限制放在可指定的范围内。生命周期值是一个字符串，由一个由<code class="codeph">w</code> （周）， <code class="codeph">d</code> （天）， <code class="codeph">h</code> （小时）， <code class="codeph">m</code> （分钟）或<code class="codeph">s</code> （秒）限定的数字组成，如下例所示：</p><pre class="oac_no_warn" dir="ltr">okinit -l 2wld6h20m30s</pre><p>该示例请求票证授予票证，其生命周期为2周，1天，6小时，20分钟和30秒。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2946" headers="d125632e2896 ">
                                    <p><code class="codeph">-s</code> <code class="codeph"><span class="codeinlineitalic">start_time</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2946 d125632e2899 ">
                                    <p>指定票证有效之前的延迟持续时间。发行票证时设置了无效标志。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2958" headers="d125632e2896 ">
                                    <p><code class="codeph">-r</code> <code class="codeph"><span class="codeinlineitalic">renewable_life</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2958 d125632e2899 ">
                                    <p>要求续订票的总寿命为<code class="codeph"><span class="codeinlineitalic">renewable_life</span></code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2973" headers="d125632e2896 ">
                                    <p><code class="codeph">-p</code> | <code class="codeph">-P</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2973 d125632e2899 ">
                                    <p>请求可代理或不可代理的票证</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2984" headers="d125632e2896 ">
                                    <p><code class="codeph">-一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2984 d125632e2899 ">
                                    <p>请求仅限于主机本地地址的票证</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2992" headers="d125632e2896 ">
                                    <p><code class="codeph">-一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2992 d125632e2899 ">
                                    <p>请求不受地址限制的门票</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3000" headers="d125632e2896 ">
                                    <p><code class="codeph">-E</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3000 d125632e2899 ">
                                    <p>将主体名称视为企业名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3008" headers="d125632e2896 ">
                                    <p><code class="codeph">-v</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3008 d125632e2899 ">
                                    <p>请求将缓存中的票证授予票证传递给KDC进行验证。如果故障单在请求的时间范围内，则缓存将替换为已验证的故障单。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3016" headers="d125632e2896 ">
                                    <p><code class="codeph">-R</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3016 d125632e2899 ">请求续订票证授予票证</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3023" headers="d125632e2896 ">
                                    <p><code class="codeph">-k</code> [ <code class="codeph">-t</code> <code class="codeph"><span class="codeinlineitalic">keytab_file</span></code> ]</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3023 d125632e2899 ">
                                    <p>请求票证，该票证是从本地主机密钥表中的密钥获取的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3040" headers="d125632e2896 ">
                                    <p><code class="codeph">-n</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3040 d125632e2899 ">
                                    <p>请求匿名处理</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3048" headers="d125632e2896 ">
                                    <p><code class="codeph">-C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3048 d125632e2899 ">请求规范化主体名称，并使KDC能够使用与请求的客户端主体不同的客户端主体进行回复</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3055" headers="d125632e2896 ">
                                    <p><code class="codeph">-c</code> <code class="codeph"><span class="codeinlineitalic">cache_name</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3055 d125632e2899 ">
                                    <p>将缓存的名称指定为缓存位置。对于UNIX，默认值为<code class="codeph">/tmp/krb5cc_</code> <span class="italic">uid</span> 。您还可以使用<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">SQLNET.KERBEROS5_CC_NAME</code>参数指定备用凭据缓存。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3078" headers="d125632e2896 ">
                                    <p><code class="codeph">-I</code> <code class="codeph"><span class="codeinlineitalic">input_cache</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3078 d125632e2899 ">
                                    <p>指定已包含故障单的凭证缓存的名称。当它获得该票证时，如果有关如何获得票证的信息存储在缓存中，则将使用相同的信息来影响获取新凭证的方式。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3090" headers="d125632e2896 ">
                                    <p><code class="codeph">-T</code> <code class="codeph"><span class="codeinlineitalic">armor_cache</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3090 d125632e2899 ">
                                    <p>如果KDC支持，则此缓存用于装配请求，防止脱机字典攻击并启用其他预身份验证机制。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3102" headers="d125632e2896 ">
                                    <p><code class="codeph">-X</code> <code class="codeph"><span class="codeinlineitalic">attribute</span> [ <code class="codeph">=</code> <code class="codeph"><span class="codeinlineitalic">value</span></code></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3102 d125632e2899 ">指定预身份验证属性和值。指定以下值之一：<ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">X509_user_identity=</code> <span class="italic"><code class="codeph">value</code></span>指定在何处查找用户的X509身份信息</p>
                                       </li>
                                       <li>
                                          <p>X <code class="codeph">509_anchors=</code> <span class="italic"><code class="codeph">value</code></span>指定在何处查找受信任的X509锚点信息</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">flag_RSA_PROTOCOL</code> [ <code class="codeph">=yes</code> ]指定使用RSA而不是默认的Diffie-Hellman协议</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3145" headers="d125632e2896 ">
                                    <p><code class="codeph">-e</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3145 d125632e2899 ">
                                    <p>指定表示要使用的Kerberos加密类型的数字。</p>
                                    <p>此选项可用于为会话请求特定的Kerberos加密类型密钥。如果指定多种加密类型，则KDC会从列表中选择通用且最强的加密类型。</p>
                                    <p>允许以下值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>1表示<code class="codeph">DES-CBC-CRC</code></p>
                                       </li>
                                       <li>
                                          <p>3为<code class="codeph">DES-CBC-MD5</code></p>
                                       </li>
                                       <li>
                                          <p>16代表<code class="codeph">DES3-CBC-SHA1</code></p>
                                       </li>
                                       <li>
                                          <p>18代表<code class="codeph">AES256-CTS</code></p>
                                       </li>
                                       <li>
                                          <p>23用于<code class="codeph">RC4-HMAC</code></p>
                                       </li>
                                    </ul>
                                    <p>以下示例请求<code class="codeph">AES256-CTS</code>加密类型：</p><pre class="oac_no_warn" dir="ltr">okinit -e 1 -e 18 krbuser @ REALM</pre><p>请注意，您可以重复此选项以请求多种加密类型。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3192" headers="d125632e2896 ">
                                    <p><code class="codeph">- ？</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3192 d125632e2899 ">
                                    <p>列出命令行选项。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="Oracle Kerberos身份验证适配器实用程序专为安装了Oracle Kerberos身份验证支持的Oracle客户端而设计。">Kerberos身份验证适配器的实用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10206"></a><a id="DBSEG9649"></a><div class="props_rev_3"><a id="GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406" name="GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406"></a><h4 id="DBSEG-GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406" class="sect4">oklist用于显示凭据的实用程序选项</h4>
                  <div>
                     <p><code class="codeph">oklist</code>实用程序显示持有的票证列表。
                     </p>
                     <div class="section">
                        <p>下表列出了可用的<code class="codeph">oklist</code>选项。要使用此表中描述的功能，必须将<code class="codeph">sqlnet.ora</code> <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>参数设置为<code class="codeph">TRUE</code> 。 （请注意， <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>已弃用，但为了向后兼容<code class="codeph">oklist</code>而保留。）
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406__BAJHIIDB">
                        <p class="titleintable">表20-3 oklist实用程序的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="oklist实用程序的选项" width="100%" border="1" summary="This table lists and describes the options that you can use with the oklist command-line utility." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d125632e3344">选项</th>
                                 <th align="left" valign="bottom" width="75%" id="d125632e3347">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3352" headers="d125632e3344 ">
                                    <p><code class="codeph">-F</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3352 d125632e3347 ">
                                    <p>显示带凭据的标志。相关标志是：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">I</code> ，凭证是一张票证授予票</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">F</code> ，凭证是可转发的</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">f</code> ，转发凭证。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3376" headers="d125632e3344 ">
                                    <p><code class="codeph">-C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3376 d125632e3347 ">
                                    <p>指定备用凭据缓存。在UNIX中，缺省值为<code class="codeph">/tmp/krb5cc_</code> <span class="italic"><code class="codeph">uid</code></span> 。还可以使用<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">SQLNET.KERBEROS5_CC_NAME</code>参数指定备用凭据缓存。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3396" headers="d125632e3344 ">
                                    <p><code class="codeph">-k</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3396 d125632e3347 ">
                                    <p>在UNIX上列出服务表中的条目（缺省为<code class="codeph">/etc/v5srvtab</code> ）。也可以使用<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">SQLNET.KERBEROS5_KEYTAB</code>参数指定备用服务表。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3413" headers="d125632e3344 ">
                                    <p><code class="codeph">-e</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3413 d125632e3347 ">
                                    <p>显示会话密钥的加密类型以及凭证缓存中每个凭据的凭证，或密钥表文件中的每个密钥。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3421" headers="d125632e3344 ">
                                    <p><code class="codeph">-l</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3421 d125632e3347 ">
                                    <p>如果缓存集合可用，则显示汇总集合中存在的缓存的表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3429" headers="d125632e3344 ">
                                    <p><code class="codeph">-一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3429 d125632e3347 ">
                                    <p>如果缓存集合可用，则显示集合中所有缓存的内容</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3437" headers="d125632e3344 ">
                                    <p><code class="codeph">-s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3437 d125632e3347 ">
                                    <p>运行实用程序而不产生输出。如果无法读取缓存或过期，则实用程序将退出状态1，否则状态为0</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3445" headers="d125632e3344 ">
                                    <p><code class="codeph">-一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3445 d125632e3347 ">
                                    <p>显示凭证中的地址列表</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3453" headers="d125632e3344 ">
                                    <p><code class="codeph">-n</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3453 d125632e3347 ">
                                    <p>显示数字地址而不是反向解析地址</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3461" headers="d125632e3344 ">
                                    <p><code class="codeph">-C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3461 d125632e3347 ">
                                    <p>列出<code class="codeph">klist</code>遇到凭证缓存时存储的配置数据。默认情况下，不会列出配置数据。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3472" headers="d125632e3344 ">
                                    <p><code class="codeph">-t</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3472 d125632e3347 ">
                                    <p>显示密钥表文件中每个密钥表条目的时间条目时间戳</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3481" headers="d125632e3344 ">
                                    <p><code class="codeph">-K</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3481 d125632e3347 ">
                                    <p>显示密钥表文件中每个密钥表条目中加密密钥的值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3489" headers="d125632e3344 ">
                                    <p><code class="codeph">-V</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3489 d125632e3347 ">
                                    <p>显示Kerberos版本号并退出。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>show flag选项（ <code class="codeph">-f</code> ）显示其他信息，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">％oklist -f 04-Aug-2015 21:57:51 28-Aug-2015 05:58:14 krbtgt/EXAMPLE.COM@EXAMPLE.COM标志：FI</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="Oracle Kerberos身份验证适配器实用程序专为安装了Oracle Kerberos身份验证支持的Oracle客户端而设计。">Kerberos身份验证适配器的实用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40" name="GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40"></a><h4 id="DBSEG-GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40" class="sect4">okdstry用于从缓存文件中删除凭据的实用程序选项</h4>
                  <div>
                     <p><code class="codeph">okdstry</code> （ <code class="codeph">okdestroy</code> ）实用程序从缓存文件中删除凭据。
                     </p>
                     <div class="section">
                        <p>下表列出了可用的<code class="codeph">okdstry</code>选项。要使用此表中描述的功能，必须将<code class="codeph">sqlnet.ora</code> <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>参数设置为<code class="codeph">TRUE</code> 。 （请注意， <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>已弃用，但为了向后兼容<code class="codeph">okdstry</code>而保留。）
                        </p>
                        <div class="tblformal" id="GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40__OPTIONSFORTHEOKDSTRYUTILITY-7F6709F6">
                           <p class="titleintable">表20-4 okdstry实用程序的选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="okdstry实用程序的选项" border="1" summary="This table lists and describes the options that you can use with the okdstry command-line utility" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d125632e3653">选项</th>
                                    <th align="left" valign="bottom" width="20%" id="d125632e3656">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3661" headers="d125632e3653 ">
                                       <p><code class="codeph">-一个</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3661 d125632e3656 ">
                                       <p>如果缓存集合可用，则销毁集合中的所有缓存</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3669" headers="d125632e3653 ">
                                       <p><code class="codeph">-q</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3669 d125632e3656 ">
                                       <p>安静地跑。如果无法销毁用户的票证，通常<code class="codeph">okdstry</code>发出哔哔声。此标志禁止此行为。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3680" headers="d125632e3653 ">
                                       <p><code class="codeph">—c</code> <code class="codeph"><span class="codeinlineitalic">cache_name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3680 d125632e3656 ">
                                       <p>使用<code class="codeph"><span class="codeinlineitalic">cache_name</span></code>作为凭据（票证）缓存名称和位置。对于UNIX，默认值为<code class="codeph">/tmp/krb5cc_</code> <span class="italic"><code class="codeph">uid</code></span> 。您还可以使用<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">SQLNET.KERBEROS5_CC_NAME</code>参数指定备用凭据缓存。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="Oracle Kerberos身份验证适配器实用程序专为安装了Oracle Kerberos身份验证支持的Oracle客户端而设计。">Kerberos身份验证适配器的实用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-597B86B9-695B-487C-B85F-284ABFE40550" name="GUID-597B86B9-695B-487C-B85F-284ABFE40550"></a><h4 id="DBSEG-GUID-597B86B9-695B-487C-B85F-284ABFE40550" class="sect4">okcreate自动创建Keytab的实用程序选项</h4>
                  <div>
                     <p><code class="codeph">okcreate</code>实用程序可自动从KDC或服务端点创建密钥记录。
                     </p>
                     <div class="section">
                        <p>下表列出了可用的<code class="codeph">okcreate</code>选项。
                        </p>
                        <div class="tblformal" id="GUID-597B86B9-695B-487C-B85F-284ABFE40550__THISTABLELISTSANDDESCRIBESTHEOPTION-7F72E2C3">
                           <p class="titleintable">表20-5自动Keytab创建的okcreate实用程序选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="okcreate自动创建Keytab的实用程序选项" border="1" summary="This table lists and describes the options that you can use with the okcreate command-line utility." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d125632e3837">选项</th>
                                    <th align="left" valign="bottom" width="20%" id="d125632e3840">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3845" headers="d125632e3837 ">
                                       <p><code class="codeph">-name</code> <code class="codeph"><span class="codeinlineitalic">service_name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3845 d125632e3840 ">
                                       <p>指定要获取密钥表的kerberized服务的服务名称。默认是<code class="codeph">oracle</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3860" headers="d125632e3837 ">
                                       <p><code class="codeph">—hosts</code> <code class="codeph"><span class="codeinlineitalic">path-to_hosts_list</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3860 d125632e3840 ">
                                       <p>指定要获取keytab的以逗号分隔的主机列表，或指定包含主机列表的文本文件的路径。默认值为<code class="codeph">none</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3875" headers="d125632e3837 ">
                                       <p><code class="codeph">—out</code> <code class="codeph"><span class="codeinlineitalic">path_to_output</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3875 d125632e3840 ">
                                       <p>指定存储生成的keytabs的输出路径。默认值是当前目录。</p>
                                       <p>确保只有root用户才能读取此目录。切勿以明文形式通过网络发送密钥记录。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3889" headers="d125632e3837 ">
                                       <p><code class="codeph">-k</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3889 d125632e3840 ">
                                       <p>用于在KDC上执行操作的情况。如果您使用<code class="codeph">—s</code>不要使用此选项。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3900" headers="d125632e3837 ">
                                       <p><code class="codeph">-s</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3900 d125632e3840 ">
                                       <p>用于在Kerberized服务上执行操作的情况。如果使用<code class="codeph">—k</code>不要使用此选项。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3912" headers="d125632e3837 ">
                                       <p><code class="codeph">-u</code> <code class="codeph"><span class="codeinlineitalic">KDC_username</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3912 d125632e3840 ">
                                       <p>指定KDC的用户名。仅在Kerberized服务端点上使用此设置。</p>
                                       <p>如果指定<code class="codeph">—s</code>并省略此设置，则okcreate提示输入<code class="codeph"><span class="codeinlineitalic">KDCuser</span> @ <span class="codeinlineitalic">KDCmachine</span></code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3936" headers="d125632e3837 ">
                                       <p><code class="codeph">-r</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3936 d125632e3840 ">
                                       <p>指定Kerberos领域</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3944" headers="d125632e3837 ">
                                       <p><code class="codeph">-p</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3944 d125632e3840 ">
                                       <p>指定Kerberos主体</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3952" headers="d125632e3837 ">
                                       <p><code class="codeph">-q</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3952 d125632e3840 ">
                                       <p>指定Kerberos查询</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3960" headers="d125632e3837 ">
                                       <p><code class="codeph">-d</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3960 d125632e3840 ">
                                       <p>指定KDC数据库名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3968" headers="d125632e3837 ">
                                       <p><code class="codeph">-e</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3968 d125632e3840 ">
                                       <p>指定要用于创建的任何新键的salt列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3977" headers="d125632e3837 ">
                                       <p><code class="codeph">-m</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3977 d125632e3840 ">
                                       <p>指定提示输入KDC主密码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="Oracle Kerberos身份验证适配器实用程序专为安装了Oracle Kerberos身份验证支持的Oracle客户端而设计。">Kerberos身份验证适配器的实用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG9651"></a><div class="props_rev_3"><a id="GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65" name="GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65"></a><h3 id="DBSEG-GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65" class="sect3">连接到Kerberos认证的Oracle数据库服务器</h3>
               <div>
                  <p>配置Kerberos后，您可以在不使用用户名或密码的情况下连接到Oracle数据库服务器。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用以下语法连接到数据库而不使用用户名或密码：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus / @ <span class="italic">net_service_name</span>
</pre></li>
                     </ul>
                     <p>在此规范中， <span class="italic"><code class="codeph">net_service_name</code></span>是Oracle Net Services服务名称。例如：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus / @ oracle_dbname</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65__GUID-C1609D32-4A01-4C36-A71C-055B6BE4C4C8">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=HETER001" target="_blank"><span><cite>Oracle数据库异构连接用户指南</cite></span></a> ，了解有关外部身份验证的信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9652"></a><div class="props_rev_3"><a id="GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" name="GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625"></a><h3 id="DBSEG-GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" class="sect3">配置与Windows 2008域控制器KDC的互操作性</h3>
               <div>
                  <p>您可以将Oracle数据库配置为与Microsoft Windows 2008域控制器密钥分发中心（KDC）进行互操作。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091">关于配置与Windows 2008域控制器KDC的互操作性</a><br>Oracle数据库符合MIT Kerberos。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF">步骤1：为Windows 2008域控制器配置Oracle Kerberos客户端</a><br>您可以将Oracle Kerberos客户端配置为与Microsoft Windows 2008域控制器KDC进行互操作。</li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0724FFCA-081A-4083-8A2B-CF3909299E03">步骤2：为Oracle客户端配置Windows 2008域控制器KDC</a><br>接下来，您可以配置Microsoft Windows 2008域控制器KDC以与Oracle客户端进行互操作。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F">步骤3：为Windows 2008域控制器KDC配置Oracle数据库</a><br>您必须在安装了Oracle数据库的主机上为域控制器配置Oracle数据库。
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9">步骤4：获取Kerberos / Oracle用户的初始票证</a><br>在客户端可以连接到数据库之前，客户端必须请求初始票证。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091" name="GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091"></a><h4 id="DBSEG-GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091" class="sect4">关于配置与Windows 2008域控制器KDC的互操作性</h4>
                  <div>
                     <p>Oracle数据库符合MIT Kerberos。</p>
                     <p>这使Oracle数据库能够与Windows 2008域控制器上的Kerberos密钥分发中心（KDC）颁发的故障单进行互操作。此过程启用Oracle数据库的Kerberos身份验证。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="您可以将Oracle数据库配置为与Microsoft Windows 2008域控制器密钥分发中心（KDC）进行互操作。">配置与Windows 2008域控制器KDC的互操作性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9653"></a><div class="props_rev_3"><a id="GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" name="GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF"></a><h4 id="DBSEG-GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" class="sect4">步骤1：为Windows 2008域控制器配置Oracle Kerberos客户端</h4>
                  <div>
                     <p>您可以将Oracle Kerberos客户端配置为与Microsoft Windows 2008域控制器KDC进行互操作。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B">步骤1A：创建客户端Kerberos配置文件</a><br>您必须配置一组客户端Kerberos配置文件，这些文件将Windows 2008域控制器称为Kerberos KDC。</li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-FCE9DCEC-E485-4A86-B687-18871F281E24">步骤1B：在sqlnet.ora文件中指定Oracle配置参数</a><br><code class="codeph">sqlnet.ora</code>文件具有特定于Kerbose 5的参数。
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58">步骤1C：指定侦听端口号</a><br>Windows 2008域控制器KDC侦听UDP / TCP端口88。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="您可以将Oracle数据库配置为与Microsoft Windows 2008域控制器密钥分发中心（KDC）进行互操作。">配置与Windows 2008域控制器KDC的互操作性</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9654"></a><div class="props_rev_3"><a id="GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B" name="GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B"></a><h5 id="DBSEG-GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B" class="sect5">步骤1A：创建客户端Kerberos配置文件</h5>
                     <div>
                        <p>您必须配置一组客户端Kerberos配置文件，这些文件将Windows 2008域控制器称为Kerberos KDC。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B__GUID-53B95FA7-76ED-4B00-B6F4-25609707C23B"></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>创建<code class="codeph">krb.conf</code>和<code class="codeph">krb5.realms</code>文件。Oracle数据库提供了一个默认的<code class="codeph">krb5.conf</code>文件，您必须为该站点修改该文件。
                                 </p>
                                 <p><code class="codeph">krb5.conf</code>文件位于<code class="codeph">SQLNET.KERBEROS_CONF</code>参数指示的位置。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，假设Windows 2008域控制器在名为<code class="codeph">sales3854.us.example.com</code>的节点上运行：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold"><code class="codeph">krb.conf</code></span>文件</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">SALES3854。US.EXAMPLE.COM SALES3854。US.EXAMPLE.COM sales3854.us.example.com管理服务器</pre></li>
                              <li>
                                 <p><span class="bold"><code class="codeph">krb5.conf</code></span>文件</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">[libdefaults] default_realm = SALES.US.EXAMPLE.COM [realms] SALES.US.EXAMPLE.COM = {kdc = sales3854.us.example.com：88} [domain_realm] .us.example.com = SALES.US。 EXAMPLE.COM</pre></li>
                              <li>
                                 <p><span class="bold"><code class="codeph">krb5.realms</code></span>文件</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">us.example.com SALES.US.EXAMPLE.COM</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" title="您可以将Oracle Kerberos客户端配置为与Microsoft Windows 2008域控制器KDC进行互操作。">步骤1：为Windows 2008域控制器配置Oracle Kerberos客户端</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9655"></a><div class="props_rev_3"><a id="GUID-FCE9DCEC-E485-4A86-B687-18871F281E24" name="GUID-FCE9DCEC-E485-4A86-B687-18871F281E24"></a><h5 id="DBSEG-GUID-FCE9DCEC-E485-4A86-B687-18871F281E24" class="sect5">步骤1B：在sqlnet.ora文件中指定Oracle配置参数</h5>
                     <div>
                        <p><code class="codeph">sqlnet.ora</code>文件具有特定于Kerbose 5的参数。
                        </p>
                        <div class="section">
                           <p>配置Oracle客户端以与Windows 2008域控制器进行互操作KDC使用与客户端和数据库服务器上的Kerberos相同的<code class="codeph">sqlnet.ora</code>文件参数。<a href="configuring-kerberos-authentication.html#GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064" title="首先，您必须在客户端和数据库服务器上配置Kerberos身份验证服务参数。">步骤6A：在客户端和数据库服务器上配置Kerberos</a>中描述了这些参数。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在客户端的<code class="codeph">sqlnet.ora</code>文件中设置以下参数：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF = <span class="italic">pathname_to_Kerberos_configuration_file</span> SQLNET.KERBEROS5_CONF_MIT = TRUE SQLNET.AUTHENTICATION_KERBEROS5_SERVICE = <span class="italic">Kerberos_service_name</span> SQLNET.AUTHENTICATION_SERVICES =（BEQ，KERBEROS5）</pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-FCE9DCEC-E485-4A86-B687-18871F281E24__GUID-485C38B0-8B00-4814-A470-CF75B2D04FB5">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>参数已被弃用，但为了向后兼容<code class="codeph">okint</code> ， <code class="codeph">oklist</code>和<code class="codeph">okdstry</code>实用程序而<code class="codeph">okdstry</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>确保<code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>参数设置为<code class="codeph">TRUE</code>因为Windows 2008操作系统旨在仅与基于MIT Kerberos版本5的安全服务进行互操作。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" title="您可以将Oracle Kerberos客户端配置为与Microsoft Windows 2008域控制器KDC进行互操作。">步骤1：为Windows 2008域控制器配置Oracle Kerberos客户端</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9656"></a><div class="props_rev_3"><a id="GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58" name="GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58"></a><h5 id="DBSEG-GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58" class="sect5">步骤1C：指定侦听端口号</h5>
                     <div>
                        <p>Windows 2008域控制器KDC侦听UDP / TCP端口88。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>确保<code class="codeph">kerberos5</code>的系统文件条目设置为UDP / TCP端口88。
                                 </p>
                                 <p>对于UNIX环境，请确保<code class="codeph">/etc/services</code>文件中的第一个<code class="codeph">kerberos5</code>条目设置为88。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" title="您可以将Oracle Kerberos客户端配置为与Microsoft Windows 2008域控制器KDC进行互操作。">步骤1：为Windows 2008域控制器配置Oracle Kerberos客户端</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9657"></a><div class="props_rev_3"><a id="GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" name="GUID-0724FFCA-081A-4083-8A2B-CF3909299E03"></a><h4 id="DBSEG-GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" class="sect4">步骤2：为Oracle客户端配置Windows 2008域控制器KDC</h4>
                  <div>
                     <p>接下来，您可以配置Microsoft Windows 2008域控制器KDC以与Oracle客户端进行互操作。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD">步骤2A：创建用户帐户</a><br>您必须为Microsoft Windows 2008域控制器KDC创建用户帐户。</li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-F231D375-3213-46E0-97C2-D6C36158B5D5">步骤2B：创建Oracle数据库主体用户帐户和密钥表</a><br>创建用户帐户后，即可创建Oracle数据库主体用户帐户。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-0724FFCA-081A-4083-8A2B-CF3909299E03__GUID-7FBBA53F-B8AF-46F4-96BB-32A54339E152">
                        <p class="notep1">也可以看看：</p>
                        <p>有关如何在Active Directory中创建用户的信息，请参阅Microsoft文档。</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="您可以将Oracle数据库配置为与Microsoft Windows 2008域控制器密钥分发中心（KDC）进行互操作。">配置与Windows 2008域控制器KDC的互操作性</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9658"></a><div class="props_rev_3"><a id="GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD" name="GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD"></a><h5 id="DBSEG-GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD" class="sect5">步骤2A：创建用户帐户</h5>
                     <div>
                        <p>您必须为Microsoft Windows 2008域控制器KDC创建用户帐户。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在Windows 2008域控制器上，为Microsoft Active Directory中的Oracle客户端创建新的用户帐户。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" title="接下来，您可以配置Microsoft Windows 2008域控制器KDC以与Oracle客户端进行互操作。">步骤2：为Oracle客户端配置Windows 2008域控制器KDC</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9659"></a><div class="props_rev_3"><a id="GUID-F231D375-3213-46E0-97C2-D6C36158B5D5" name="GUID-F231D375-3213-46E0-97C2-D6C36158B5D5"></a><h5 id="DBSEG-GUID-F231D375-3213-46E0-97C2-D6C36158B5D5" class="sect5">步骤2B：创建Oracle数据库主体用户帐户和密钥表</h5>
                     <div>
                        <p>创建用户帐户后，即可创建Oracle数据库主体用户帐户。</p>
                        <div class="section">在Windows 2008域控制器上创建此帐户后，必须使用<code class="codeph">okcreate</code>实用程序将其注册到主键表。您可以在同一个KDC上运行此实用程序来创建所有服务密钥块，而不是单独创建它们，或者您可以从连接到KDC的服务端点运行<code class="codeph">okcreate</code> ，运行必要的命令，然后将生成的密钥表复制回到服务端点。
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>在Microsoft Active Directory中为Oracle数据库创建新的用户帐户。</span><div>
                                 <p>例如，如果Oracle数据库在主机<code class="codeph">sales3854.us.example.com</code>上运行，则使用Active Directory创建用户名为<code class="codeph">sales3854.us.example.com</code>的用户。
                                 </p>
                                 <p>不要在Active Directory <code class="codeph">oracle/sales3854.us.example.com</code>用户创建为<code class="codeph">host/hostname.dns.com</code> ，例如<code class="codeph">oracle/sales3854.us.example.com</code> 。微软的KDC不像MIT KDC那样支持多部分名称。MIT KDC允许将多部分名称用于服务主体，因为它将所有主体视为用户名。但是，微软的KDC没有。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>运行<code class="codeph">okcreate</code>命令以创建将使用此用户帐户的密钥表。语法如下：</span><div><pre class="oac_no_warn" dir="ltr">okcreate（-s [-u <span class="italic">KDCuser</span> @ <span class="italic">KDCmachine</span> ] | -k）[ -  name <span class="italic">service_name</span> ] [-hosts <span class="italic">path_to_host_list</span> ] [-out <span class="italic">path_to_output</span> ] [-r <span class="italic">realm</span> ] [-p <span class="italic">principal</span> ] [-q <span class="italic">query</span> ] [-d <span class="italic">dbname</span> ] [-e enc：salt ...] [-m] [-x <span class="italic">db_args</span> ]</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">okcreate -s -u kdcuser1 @kdcmachine1 -name oracle -hosts sales3854.us.example.com -out / OSsecured / keytablocation</pre></div>
                           </li>
                           <li class="stepexpand"><span>将提取的<code class="codeph">keytab</code>文件复制到安装了Oracle数据库的主机。</span><div>
                                 <p>例如，可以将在上一步中创建的<code class="codeph">keytab</code>复制到<code class="codeph">/krb5/v5svrtab</code> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" title="接下来，您可以配置Microsoft Windows 2008域控制器KDC以与Oracle客户端进行互操作。">步骤2：为Oracle客户端配置Windows 2008域控制器KDC</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9660"></a><div class="props_rev_3"><a id="GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" name="GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F"></a><h4 id="DBSEG-GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" class="sect4">步骤3：为Windows 2008域控制器KDC配置Oracle数据库</h4>
                  <div>
                     <p>您必须在安装了Oracle数据库的主机上为域控制器配置Oracle数据库。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C">步骤3A：在sqlnet.ora文件中设置配置参数</a><br>您必须首先为数据库设置配置参数。
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF">步骤3B：创建外部认证的Oracle用户</a><br>设置配置参数后，即可创建外部认证的Oracle用户。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="您可以将Oracle数据库配置为与Microsoft Windows 2008域控制器密钥分发中心（KDC）进行互操作。">配置与Windows 2008域控制器KDC的互操作性</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9661"></a><div class="props_rev_3"><a id="GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C" name="GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C"></a><h5 id="DBSEG-GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C" class="sect5">步骤3A：在sqlnet.ora文件中设置配置参数</h5>
                     <div>
                        <p>您必须首先为数据库设置配置参数。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在数据库服务器的<code class="codeph">sqlnet.ora</code>文件中指定以下参数的值：</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF = pathname_to_Kerberos_configuration_file SQLNET.KERBEROS5_KEYTAB = pathname_to_Kerberos_principal / key_table SQLNET.KERBEROS5_CONF_MIT = TRUE SQLNET.AUTHENTICATION_KERBEROS5_SERVICE = Kerberos_service_name SQLNET.AUTHENTICATION_SERVICES =（BEQ，KERBEROS5）</pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C__GUID-306BD4F1-F219-43D3-B436-764C11F566E3">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>参数已被弃用，但为了向后兼容<code class="codeph">okint</code> ， <code class="codeph">oklist</code>和<code class="codeph">okdstry</code>实用程序而<code class="codeph">okdstry</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>确保<code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code>参数设置为<code class="codeph">TRUE</code>因为Windows 2008操作系统旨在仅与基于MIT Kerberos版本5的安全服务进行互操作。
                                    </p>
                                 </li>
                                 <li>
                                    <p>请注意，在多租户环境中， <code class="codeph">sqlnet.ora</code>文件中的设置适用于所有PDB。但是，这并不意味着如果使用Kerberos，所有PDB必须通过一个KDC进行身份验证; <code class="codeph">sqlnet.ora</code>文件和Kerberos配置文件中的设置可以支持多个KDC。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" title="您必须在安装了Oracle数据库的主机上为域控制器配置Oracle数据库。">步骤3：为Windows 2008域控制器KDC配置Oracle数据库</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9662"></a><div class="props_rev_3"><a id="GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF" name="GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF"></a><h5 id="DBSEG-GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF" class="sect5">步骤3B：创建外部认证的Oracle用户</h5>
                     <div>
                        <p>设置配置参数后，即可创建外部认证的Oracle用户。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>按照<a href="configuring-kerberos-authentication.html#GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" title="接下来，您已准备好创建经过外部验证的Oracle用户。">步骤8：创建外部认证的Oracle用户</a>下的过程创建外部认证的Oracle用户。
                                 </p>
                                 <p>确保以全部大写字符创建用户名（例如， <code class="codeph">ORAKRB@SALES.US.EXAMPLE.COM</code> ）。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF__GUID-29E8B22F-9ABD-4E5F-B7FC-56ED9950DDBB">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="您必须在Oracle数据库服务器和客户端sqlnet.ora文件中设置所需的参数。">步骤6：配置Kerberos身份验证，</a>以获取有关使用Oracle Net Manager设置<code class="codeph">sqlnet.ora</code>文件参数的信息。
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" title="您必须在安装了Oracle数据库的主机上为域控制器配置Oracle数据库。">步骤3：为Windows 2008域控制器KDC配置Oracle数据库</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9663"></a><div class="props_rev_3"><a id="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9" name="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9"></a><h4 id="DBSEG-GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9" class="sect4">步骤4：获取Kerberos / Oracle用户的初始票证</h4>
                  <div>
                     <p>在客户端可以连接到数据库之前，客户端必须请求初始票证。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要请求<a href="glossary.html#GUID-E26D13B1-DD61-452C-A4E7-BA0C243C66EF"><span class="xrefglossterm">初始故障单</span></a> ，请按照<a href="configuring-kerberos-authentication.html#GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009" title="Before you can connect to the database, you must ask the Key Distribution Center (KDC) for an initial ticket.">步骤9：获取Kerberos / Oracle用户的初始故障单</a>的任务信息进行<a href="configuring-kerberos-authentication.html#GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009" title="在连接到数据库之前，必须向密钥分发中心（KDC）询问初始票证。">操作</a> 。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9__GUID-4A4F18BF-AC42-4D0D-973B-85295DFD656B">
                           <p class="notep1">注意：</p>
                           <p>使用Windows本机缓存时，用户无需使用<code class="codeph">okinit</code>命令显式请求初始票证。
                           </p>
                           <p>如果Oracle客户端在Microsoft Windows 2008或更高版本上运行，则在用户登录Windows时会自动检索Kerberos票证。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9__GUID-EF60D547-0D25-4F6F-A841-0DFFC1EA0296">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">Kerbtray.exe</code>实用程序的详细信息，请参阅Microsoft文档，该实用程序可用于显示系统的Kerberos票证信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="您可以将Oracle数据库配置为与Microsoft Windows 2008域控制器密钥分发中心（KDC）进行互操作。">配置与Windows 2008域控制器KDC的互操作性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-2AB588F3-700F-4409-BD3D-AD40D330701E" name="GUID-2AB588F3-700F-4409-BD3D-AD40D330701E"></a><h3 id="DBSEG-GUID-2AB588F3-700F-4409-BD3D-AD40D330701E" class="sect3">配置Kerberos身份验证后备行为</h3>
               <div>
                  <p>如果Kerberos身份验证失败，您可以配置回退行为（基于密码的身份验证）。</p>
                  <div class="section">为Oracle客户端配置Kerberos身份验证以使用Kerberos身份验证对Oracle数据库进行身份验证后，您可能希望回退到基于密码的身份验证。例如，如果您在Oracle数据库中具有固定的用户数据库链接。</div>
                  <!-- class="section" -->
                  <ul>
                     <li class="stepexpand"><span>要使Kerberos身份验证回退到基于密码的身份验证，请在客户端和服务器上的<code class="codeph">sqlnet.ora</code>文件<code class="codeph">SQLNET.FALLBACK_AUTHENTICATION</code>参数设置为<code class="codeph">TRUE</code> 。</span><div>此参数的默认值为<code class="codeph">FALSE</code> 。这意味着默认情况下，Kerberos身份验证失败时连接失败。
                        </div>
                     </li>
                  </ul>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2AB588F3-700F-4409-BD3D-AD40D330701E__GUID-90D62943-F1D4-482F-BE57-EC6B13467681">
                     <p class="notep1">也可以看看：</p>有关<code class="codeph">SQLNET.FALLBACK_AUTHENTICATION</code>参数的详细信息，请<a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF-GUID-038AB29B-720D-467C-BADD-2A74100E0A2C" target="_blank"><span><cite>参见Oracle数据库网络服务参考</cite></span></a></div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9664"></a><div class="props_rev_3"><a id="GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D" name="GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D"></a><h3 id="DBSEG-GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D" class="sect3">Oracle Kerberos身份验证配置疑难解答</h3>
               <div>
                  <p>Oracle为常见的Kerberos配置问题提供了指导。</p>
                  <p>常见问题如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果您无法使用<code class="codeph">okinit</code>获得机票授予票：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>通过检查<code class="codeph">krb.conf</code>文件确保默认域是正确的。
                              </p>
                           </li>
                           <li>
                              <p>确保KDC在为域指定的主机上运行。</p>
                           </li>
                           <li>
                              <p>确保KDC具有用户主体的条目并且密码匹配。</p>
                           </li>
                           <li>
                              <p>确保Oracle可以读取<code class="codeph">krb.conf</code>和<code class="codeph">krb.realms</code>文件。
                              </p>
                           </li>
                           <li>
                              <p>确保<code class="codeph">TNS_ADMIN</code>环境变量指向包含<code class="codeph">sqlnet.ora</code>配置文件的目录。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果您有初始票证但仍无法连接：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>尝试连接后，检查服务票证。</p>
                           </li>
                           <li>
                              <p>检查数据库服务器端的<code class="codeph">sqlnet.ora</code>文件是否具有与Kerberos已知的服务对应的服务名称。
                              </p>
                           </li>
                           <li>
                              <p>检查所涉及的所有系统上的时钟是否设置为彼此在几分钟内的时间，或者更改<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">SQLNET.KERBEROS5_CLOCKSKEW</code>参数。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果您有服务票但仍然无法连接：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>检查客户端和数据库服务器上的时钟。</p>
                           </li>
                           <li>
                              <p>检查<code class="codeph">v5srvtab</code>文件是否存在于正确的位置，并且可由Oracle读取。记得设置<code class="codeph">sqlnet.ora</code>参数。
                              </p>
                           </li>
                           <li>
                              <p>检查是否已为数据库服务器端的<code class="codeph">sqlnet.ora</code>文件中指定的服务生成<code class="codeph">v5srvtab</code>文件。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果一切似乎工作正常，但然后你发出另一个查询，它失败：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>检查初始票证是否可转发。您必须通过运行<code class="codeph">okinit</code>实用程序获取初始票证。
                              </p>
                           </li>
                           <li>
                              <p>检查凭据的到期日期。如果凭据已过期，则关闭连接并运行<code class="codeph">okinit</code>以获取新的初始票证。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>