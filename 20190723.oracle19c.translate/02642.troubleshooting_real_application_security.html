<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Database Real Application Security故障排除</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="real-application-security-hr-demo-files.html" title="Previous" type="text/html"></link>
      <link rel="next" href="glossary.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="real-application-security-hr-demo-files.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="glossary.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Real Application Security故障排除</li>
            </ol>
            <a id="GUID-B5B42EA3-D8A1-4F84-9C39-727A473733D0" name="GUID-B5B42EA3-D8A1-4F84-9C39-727A473733D0"></a><a id="DBFSG11000"></a>
            
            <h2 id="DBFSG-GUID-B5B42EA3-D8A1-4F84-9C39-727A473733D0" class="sect2"><span class="enumeration_appendix">D</span> Oracle Database Real Application Security故障排除</h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">本附录包含：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="troubleshooting_real_application_security.html#GUID-7A5546D9-F0AD-46EC-9A2D-CD0D5862A0CF">关于Real Application Security Diagnostics</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting_real_application_security.html#GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749">关于基于事件的实际应用程序安全组件跟踪</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting_real_application_security.html#GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539">关于异常状态转储信息</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting_real_application_security.html#GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A">关于会话统计</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting_real_application_security.html#GUID-A5462710-7C65-44D5-BBEE-F7EA1B717297">使用中间层跟踪</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99697"></a><div class="props_rev_3"><a id="GUID-7A5546D9-F0AD-46EC-9A2D-CD0D5862A0CF" name="GUID-7A5546D9-F0AD-46EC-9A2D-CD0D5862A0CF"></a><h3 id="DBFSG-GUID-7A5546D9-F0AD-46EC-9A2D-CD0D5862A0CF" class="sect3">关于Real Application Security Diagnostics</h3>
               <div>
                  <p>Real Application Security使用跨越后端数据库，应用程序服务器和应用程序实例的集成基础架构。Real Application Security组件包括诊断功能，使您能够在Real Application Security系统中查找，诊断和解决问题。</p>
                  <p>Real Application Security诊断使用Oracle Database 12 <span class="italic">c</span>第1版（12.1）及更高版本中提供的数据库诊断框架（DFW）。功能诊断允许您跟踪，调查和解决功能故障。您可以使用异常状态转储，基于事件的跟踪或默认跟踪来研究和解决功能问题。通过性能诊断，您可以识别和解决性能问题。
                  </p>
                  <div class="p">以下部分讨论Real Application Security系统中使用的功能和性能诊断技术：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C">关于使用验证API</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-245C141E-E4D1-4B07-9D77-D61E9DAB5956">如何检查哪些ACL与当前用户的行相关联</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-72AB9DC6-CED2-4FA2-8725-8B937ACE13B9">如何在ACL中为用户授予特权</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-73B01DC6-88CC-43C5-BDDA-172E3A4D7278">关于异常状态转储</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-E6A6CB28-CBEF-43A3-AA4D-E670A66F88EF">关于基于事件的跟踪</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-79A13236-28EB-4236-96C9-1D551FFF5691">关于内存中跟踪</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-9436F8DE-1DBF-44E3-AB7A-708786576A3D">关于统计</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG679"></a><a id="DBFSG678"></a><div class="props_rev_3"><a id="GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C" name="GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C"></a><h4 id="DBFSG-GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C" class="sect4">关于使用验证API</h4>
                  <div>
                     <p>您应该始终在创建对象后对其进行验证。这包括对象，例如主体，安全性类，ACL，数据安全性策略和命名空间。您还可以在单个操作中验证工作空间中存在的所有这些对象。<code class="codeph">XS_DIAG</code>程序包包含可用于诊断任何这些已创建对象中的潜在问题的子程序。有关更多信息，请参阅<span class="q">“ <a href="XS_DIAG-package.html#GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54">XS_DIAG包</a> ”</span> 。下表简要介绍了这些软件包，其中包含指向每个验证子程序的链接，其中显示了它们的使用示例。
                     </p>
                     <div class="tblformal" id="GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C__GUID-89AEBE54-69FF-498C-B546-D6F5F0286BB8">
                        <p class="titleintable">表D-1 XS_DIAG子程序摘要</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="XS_DIAG子程序摘要" width="100%" border="1" summary="This table has 2 columns. Column 1 is the subprogram name and column to is its description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d134862e427">子程序</th>
                                 <th align="left" valign="bottom" width="53%" id="d134862e430">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d134862e435" headers="d134862e427 ">
                                    <p><a href="XS_DIAG-package.html#GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1">VALIDATE_PRINCIPAL函数</a></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d134862e435 d134862e430 ">
                                    <p>验证委托人。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d134862e443" headers="d134862e427 ">
                                    <p><a href="XS_DIAG-package.html#GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB">VALIDATE_SECURITY_CLASS函数</a></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d134862e443 d134862e430 ">
                                    <p>验证安全性类。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d134862e451" headers="d134862e427 ">
                                    <p><a href="XS_DIAG-package.html#GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9">VALIDATE_ACL函数</a></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d134862e451 d134862e430 ">
                                    <p>验证ACL。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d134862e459" headers="d134862e427 ">
                                    <p><a href="XS_DIAG-package.html#GUID-39061A4F-C36E-410E-9944-D8A57E302853">VALIDATE_DATA_SECURITY函数</a></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d134862e459 d134862e430 ">
                                    <p>验证数据安全策略或针对特定表验证数据安全策略。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d134862e467" headers="d134862e427 ">
                                    <p><a href="XS_DIAG-package.html#GUID-306835D0-D57C-4819-894A-315D0579BD08">VALIDATE_NAMESPACE_TEMPLATE函数</a></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d134862e467 d134862e430 ">
                                    <p>验证命名空间模板。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d134862e475" headers="d134862e427 ">
                                    <p><a href="XS_DIAG-package.html#GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522">VALIDATE_WORKSPACE函数</a></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d134862e475 d134862e430 ">
                                    <p>验证整个工作区。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DBFSG680"></a><div class="props_rev_3"><a id="GUID-245C141E-E4D1-4B07-9D77-D61E9DAB5956" name="GUID-245C141E-E4D1-4B07-9D77-D61E9DAB5956"></a><h4 id="DBFSG-GUID-245C141E-E4D1-4B07-9D77-D61E9DAB5956" class="sect4">如何检查哪些ACL与当前用户的行相关联</h4>
                  <div>
                     <div class="section">
                        <p>要查找哪些ACL与当前用户的特定行相关联，请使用<code class="codeph">ORA_GET_ACLIDS</code>函数。<code class="codeph">ORA_GET_ACLIDS</code>函数返回与当前应用程序用户的数据安全策略启用表的行实例关联的ACL IDS列表。如果已授予对当前行的访问权限，则此函数将捕获与匹配数据域约束关联的所有ACL标识符。有关参考信息，请参阅<span class="q">“ <a href="real-application-security-sql-functions.html#GUID-09987053-84C3-453B-820F-1F3BA83705CD">ORA_GET_ACLIDS函数</a> ”</span> ，有关教程信息，请参阅<span class="q">“</span> <span class="q"><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">关于检查特权的ACL</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG681"></a><div class="props_rev_3"><a id="GUID-72AB9DC6-CED2-4FA2-8725-8B937ACE13B9" name="GUID-72AB9DC6-CED2-4FA2-8725-8B937ACE13B9"></a><h4 id="DBFSG-GUID-72AB9DC6-CED2-4FA2-8725-8B937ACE13B9" class="sect4">如何在ACL中为用户授予特权</h4>
                  <div>
                     <div class="section">
                        <p>要查找是否在ACL中授予了权限，请使用<code class="codeph">ORA_CHECK_ACL</code>函数。<code class="codeph">ORA_CHECKACL</code>函数根据ACL列表检查应用程序用户是否具有查询的应用程序权限。如果已将指定的应用程序权限授予应用程序用户，则<code class="codeph">ORA_CHECKACL</code>将返回<code class="codeph">1</code> 。如果它们未被授予应用程序用户，则返回<code class="codeph">0</code> 。有关参考信息，请参阅<span class="q">“ <a href="real-application-security-sql-functions.html#GUID-5CF28FF5-777B-436F-A7CD-D72EAD56862D">ORA_CHECK_ACL函数</a> ”</span> ;有关教程信息，请参阅<span class="q">“</span> <span class="q"><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">关于检查特权的ACL</a> ”</span> 。
                        </p>
                        <p>要列出与表的每一行关联的ACLID（例如， <code class="codeph">EMPLOYEE</code>表），用户可以使用以下查询：</p><pre class="oac_no_warn" dir="ltr">从EMPLOYEE emp中选择ORA_GET_ACLIDS（emp）;</pre><p>要为<code class="codeph">EMPLOYEE</code>表的每一行授予特权（例如<code class="codeph">SELECT</code> ，列出结果，用户可以执行以下查询：</p><pre class="oac_no_warn" dir="ltr">从EMPLOYEE emp中选择ORA_CHECK_ACL（ORA_GET_ACLIDS（emp），'SELECT'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99698"></a><div class="props_rev_3"><a id="GUID-73B01DC6-88CC-43C5-BDDA-172E3A4D7278" name="GUID-73B01DC6-88CC-43C5-BDDA-172E3A4D7278"></a><h4 id="DBFSG-GUID-73B01DC6-88CC-43C5-BDDA-172E3A4D7278" class="sect4">关于异常状态转储</h4>
                  <div>
                     <p>当一个<a id="d134862e904" class="indexterm-anchor"></a><a id="d134862e908" class="indexterm-anchor"></a>异常发生时，Real Application Security组件的状态信息将转储到跟踪文件中。异常状态转储类似于飞机失事的碰撞现场证据。
                     </p>
                     <p>失败（如内部错误或服务器崩溃）会导致为每个组件调用诊断数据提取（DDE）例程。这会将当前系统，会话和进程状态信息转储到跟踪文件中。您可以稍后使用转储到跟踪文件中的状态信息来分析故障原因。</p>
                  </div>
               </div><a id="DBFSG99699"></a><div class="props_rev_3"><a id="GUID-E6A6CB28-CBEF-43A3-AA4D-E670A66F88EF" name="GUID-E6A6CB28-CBEF-43A3-AA4D-E670A66F88EF"></a><h4 id="DBFSG-GUID-E6A6CB28-CBEF-43A3-AA4D-E670A66F88EF" class="sect4">关于基于事件的跟踪</h4>
                  <div>
                     <p>事件- <a id="d134862e1027" class="indexterm-anchor"></a><a id="d134862e1033" class="indexterm-anchor"></a>基于跟踪可用于跟踪与特定Real Application Security组件相关的事件。基于事件的跟踪有助于跟踪导致失败的事件。例如，事件号46148用于跟踪应用程序会话事件，例如<code class="codeph">createSession</code>和<code class="codeph">attachSession</code> 。
                     </p>
                  </div>
               </div><a id="DBFSG99700"></a><div class="props_rev_3"><a id="GUID-79A13236-28EB-4236-96C9-1D551FFF5691" name="GUID-79A13236-28EB-4236-96C9-1D551FFF5691"></a><h4 id="DBFSG-GUID-79A13236-28EB-4236-96C9-1D551FFF5691" class="sect4">关于内存中跟踪</h4>
                  <div>
                     <p>在记忆中<a id="d134862e1159" class="indexterm-anchor"></a><a id="d134862e1163" class="indexterm-anchor"></a><a id="d134862e1165" class="indexterm-anchor"></a>跟踪是一种主动跟踪机制，用于诊断间歇性和难以复制的错误。内存中跟踪机制在内存缓冲区中记录组件状态更改和事件。发生故障时，会将其转储到跟踪文件中。内存中跟踪类似于用于飞机失事调查的黑匣子数据。
                     </p>
                  </div>
               </div><a id="DBFSG99701"></a><div class="props_rev_3"><a id="GUID-9436F8DE-1DBF-44E3-AB7A-708786576A3D" name="GUID-9436F8DE-1DBF-44E3-AB7A-708786576A3D"></a><h4 id="DBFSG-GUID-9436F8DE-1DBF-44E3-AB7A-708786576A3D" class="sect4">关于统计</h4>
                  <div>
                     <p>真实应用安全<a id="d134862e1284" class="indexterm-anchor"></a><a id="d134862e1288" class="indexterm-anchor"></a>组件统计信息有助于识别Real Application Security系统中的性能问题。统计信息包括关键数据，如会话创建操作数，主要失效，角色启用操作等。
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG99703"></a><a id="DBFSG99702"></a><div class="props_rev_3"><a id="GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749" name="GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749"></a><h3 id="DBFSG-GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749" class="sect3">关于基于事件的实际应用程序安全组件跟踪</h3>
               <div>
                  <p>基于事件的跟踪可用于跟踪与特定Real Application Security组件相关的事件。<a href="troubleshooting_real_application_security.html#GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749__CEGEGFFH" title="该表有2列。第1列是Real Application Security组件的名称，第2列是其事件编号或Oracle错误编号。">表D-2</a>列出了分配给Real Application Security组件的事件。
                  </p>
                  <div class="tblformal" id="GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749__CEGEGFFH">
                     <p class="titleintable">表D-2 Real Application Security组件和事件</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="真实应用安全组件和事件" width="100%" border="1" summary="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is its event number or Oracle error number." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d134862e1437">真实应用安全组件</th>
                              <th align="left" valign="bottom" width="69%" id="d134862e1440">事件（Oracle错误＃）</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134862e1445" headers="d134862e1437 ">
                                 <p>申请会议</p>
                                 <p>（ <code class="codeph">XSSESSION)</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134862e1445 d134862e1440 ">
                                 <p>46148</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134862e1456" headers="d134862e1437 ">
                                 <p>申请校长</p>
                                 <p>（ <code class="codeph">XSPRINCIPAL</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134862e1456 d134862e1440 ">
                                 <p>46150</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134862e1468" headers="d134862e1437 ">
                                 <p>安全类</p>
                                 <p>（ <code class="codeph">XSSECCLASS</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134862e1468 d134862e1440 ">
                                 <p>46149</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134862e1480" headers="d134862e1437 ">
                                 <p>访问控制列表</p>
                                 <p><code class="codeph">（XSACL）</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134862e1480 d134862e1440 ">
                                 <p>46110</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134862e1490" headers="d134862e1437 ">
                                 <p>数据安全</p>
                                 <p>（ <code class="codeph">XSXDS</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134862e1490 d134862e1440 ">
                                 <p>46049</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134862e1502" headers="d134862e1437 ">
                                 <p>中级缓存</p>
                                 <p>（ <code class="codeph">XS_MIDTIER</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134862e1502 d134862e1440 ">
                                 <p>46151</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134862e1514" headers="d134862e1437 ">
                                 <p>数据安全VPD重写</p>
                                 <p>（ <code class="codeph">XSVPD</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134862e1514 d134862e1440 ">
                                 <p>10730</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="p">以下部分描述了各个Real Application Security组件的基于事件的跟踪：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E">关于应用程序会话（XSSESSION）基于事件的跟踪</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3">关于应用程序主体（XSPRINCIPAL）基于事件的跟踪</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-D03D7C92-7004-4DD7-A957-7732EDEA0937">关于安全类（XSSECCLASS）基于事件的跟踪</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468">关于ACL（XSACL）基于事件的跟踪</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting_real_application_security.html#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5">关于数据安全性（XSXDS和XSVPD）基于事件的跟踪</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99705"></a><a id="DBFSG99704"></a><div class="props_rev_3"><a id="GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E" name="GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E"></a><h4 id="DBFSG-GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E" class="sect4">关于应用程序会话（XSSESSION）基于事件的跟踪</h4>
                  <div>
                     <p>使用<a id="d134862e1663" class="indexterm-anchor"></a><a id="d134862e1667" class="indexterm-anchor"></a>该<a id="d134862e1672" class="indexterm-anchor"></a>以下<code class="codeph">SQL</code>语句为<code class="codeph">XSSESSION</code>组件启用基于事件的跟踪：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'46148永远跟踪名称上下文，level =“1”，level =“2”，level =“3”';</pre><p>这里， <code class="codeph">46148</code>是与<code class="codeph">XSSESSION</code>事件关联的Oracle数据库错误号。您可以将跟踪级别设置为<code class="codeph">1</code> （ <code class="codeph">low</code> ）， <code class="codeph">2</code> （ <code class="codeph">medium</code> ）或<code class="codeph">3</code> （ <code class="codeph">high</code> ）。<a href="troubleshooting_real_application_security.html#GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E__CEGBGDFH" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-3</a>描述了跟踪级别。
                     </p>
                     <p>或者，您可以使用以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'TRACE [XSSESSION] disk = [low，medium，high]'</pre><p>您可以使用以下SQL语句找到此跟踪文件的位置：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">SHOW PARAMETER USER_DUMP_DEST;</code>
</pre><p><a href="troubleshooting_real_application_security.html#GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E__CEGBGDFH" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-3</a>显示了每个跟踪级别的<code class="codeph">XSSESSION</code>跟踪内容。
                     </p>
                     <div class="tblformal" id="GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E__CEGBGDFH">
                        <p class="titleintable">表D-3 XSSESSION跟踪内容</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="XSSESSION跟踪内容" width="100%" border="1" summary="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high). " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d134862e1748">事件</th>
                                 <th align="left" valign="bottom" width="28%" id="d134862e1751">跟踪级别1（低）</th>
                                 <th align="left" valign="bottom" width="21%" id="d134862e1754">痕量级别2（中）</th>
                                 <th align="left" valign="bottom" width="24%" id="d134862e1757">痕迹等级3（高）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1762" headers="d134862e1748 ">
                                    <p><code class="codeph">了createSession</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1762 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>会话的会话ID</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1762 d134862e1754 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户GUID</p>
                                       </li>
                                       <li>
                                          <p>会话属性，例如创建时间，上次验证时间，全局变量命名空间和cookie信息</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1762 d134862e1757 ">
                                    <p>与第2级相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1790" headers="d134862e1748 ">
                                    <p><code class="codeph">attachSession</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1790 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>会话的会话ID</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1790 d134862e1754 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>角色</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1790 d134862e1757 ">
                                    <p>除了跟踪级别1和2项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>具有属性值的Application命名空间</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1819" headers="d134862e1748 ">
                                    <p><code class="codeph">detachSession</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1819 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>分离前会话的会话ID</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1819 d134862e1754 ">
                                    <p>与1级相同</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1819 d134862e1757 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1840" headers="d134862e1748 ">
                                    <p><code class="codeph">createNamespace</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1840 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>会话ID</p>
                                       </li>
                                       <li>
                                          <p>具有属性值的Application命名空间</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1840 d134862e1754 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>会话属性，例如创建时间，上次验证时间，全局变量命名空间和cookie信息</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1840 d134862e1757 ">
                                    <p>除了跟踪级别1和2项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>命名空间处理程序</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1872" headers="d134862e1748 ">
                                    <p><code class="codeph">切换用户</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1872 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>会话的会话ID</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1872 d134862e1754 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>角色</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1872 d134862e1757 ">
                                    <p>除了跟踪级别1和2项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>具有属性值的Application命名空间</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1901" headers="d134862e1748 ">
                                    <p><code class="codeph">assignUser</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1901 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>会话的会话ID</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1901 d134862e1754 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>角色</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1901 d134862e1757 ">
                                    <p>除了跟踪级别1和2项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>具有属性值的Application命名空间</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1930" headers="d134862e1748 ">
                                    <p><code class="codeph">的setAttribute</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1930 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>命名空间名称</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">setAttribute</code>操作之前和之后给定属性的名称和值</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1930 d134862e1754 ">
                                    <p>与1级相同</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1930 d134862e1757 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d134862e1954" headers="d134862e1748 ">
                                    <p><code class="codeph">deleteAttribute</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d134862e1954 d134862e1751 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>命名空间名称和</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">deleteAttribute</code>操作之前和之后给定属性的名称和值</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d134862e1954 d134862e1754 ">
                                    <p>与1级相同</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d134862e1954 d134862e1757 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>除了前面的事件，您还可以使用命名事件<code class="codeph">xs_session_state</code>来转储应用程序会话的当前状态。使用以下SQL语句为<code class="codeph">xs_session_state</code>事件启用跟踪：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'立即eventdump（xs_session_state）';</pre><p>事件转储包含有关用户全局区域（UGA）内存中所有会话属性的信息，例如会话ID，用户名，创建时间，上次身份验证时间，全局变量命名空间等。转储不包含有关密码等安全项的信息。</p>
                  </div>
               </div><a id="DBFSG99707"></a><a id="DBFSG99706"></a><div class="props_rev_3"><a id="GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3" name="GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3"></a><h4 id="DBFSG-GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3" class="sect4">关于应用程序主体（XSPRINCIPAL）基于事件的跟踪</h4>
                  <div>
                     <p>使用<a id="d134862e2105" class="indexterm-anchor"></a><a id="d134862e2109" class="indexterm-anchor"></a>该<a id="d134862e2114" class="indexterm-anchor"></a><a id="d134862e2118" class="indexterm-anchor"></a>以下<code class="codeph">SQL</code>语句为<code class="codeph">XSPRINCIPAL</code>组件启用基于事件的跟踪：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'46150追踪名称背景永远，level =“1”，level =“2”，level =“3”';</pre><p>这里， <code class="codeph">46150</code>是与<code class="codeph">XSPRINCIPAL</code>事件关联的Oracle数据库错误号。您可以将跟踪级别设置为<code class="codeph">1</code> （ <code class="codeph">low</code> ）， <code class="codeph">2</code> （ <code class="codeph">medium</code> ）或<code class="codeph">3</code> （ <code class="codeph">high</code> ）。<a href="troubleshooting_real_application_security.html#GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3__CEGHGIJC" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-4</a>描述了跟踪级别。
                     </p>
                     <p>或者，您可以使用以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'TRACE [XSPRINCIPAL] disk = [low，medium，high]';</pre><p>您可以使用以下SQL语句找到此跟踪文件的位置：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">SHOW PARAMETER USER_DUMP_DEST;</code>
</pre><p><a href="troubleshooting_real_application_security.html#GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3__CEGHGIJC" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-4</a>显示了每个跟踪级别的<code class="codeph">XSPRINCIPAL</code>跟踪内容。
                     </p>
                     <div class="tblformal" id="GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3__CEGHGIJC">
                        <p class="titleintable">表D-4 XSPRINCIPAL跟踪内容</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="XSPRINCIPAL跟踪内容" width="100%" border="1" summary="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high). " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d134862e2194">事件</th>
                                 <th align="left" valign="bottom" width="29%" id="d134862e2197">跟踪级别1（低）</th>
                                 <th align="left" valign="bottom" width="22%" id="d134862e2200">痕量级别2（中）</th>
                                 <th align="left" valign="bottom" width="25%" id="d134862e2203">痕迹等级3（高）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d134862e2208" headers="d134862e2194 ">
                                    <p>启用角色</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d134862e2208 d134862e2197 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>会话的会话ID</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d134862e2208 d134862e2200 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>如果“启用角色”操作失败，则会记录原因。例如，如果角色不存在或用户未被授予角色，则操作可能会失败</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d134862e2208 d134862e2203 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d134862e2232" headers="d134862e2194 ">
                                    <p>禁用角色</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d134862e2232 d134862e2197 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>禁用角色后，会话中的所有用户启用的角色</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d134862e2232 d134862e2200 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>如果“禁用角色”操作失败，则会记录原因。</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d134862e2232 d134862e2203 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d134862e2253" headers="d134862e2194 ">
                                    <p>角色图遍历</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d134862e2253 d134862e2197 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>用户名</p>
                                       </li>
                                       <li>
                                          <p>会话的会话ID</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d134862e2253 d134862e2200 ">
                                    <p>与1级相同</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d134862e2253 d134862e2203 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DBFSG99708"></a><div class="props_rev_3"><a id="GUID-D03D7C92-7004-4DD7-A957-7732EDEA0937" name="GUID-D03D7C92-7004-4DD7-A957-7732EDEA0937"></a><h4 id="DBFSG-GUID-D03D7C92-7004-4DD7-A957-7732EDEA0937" class="sect4">关于安全类（XSSECCLASS）基于事件的跟踪</h4>
                  <div>
                     <p>使用<a id="d134862e2387" class="indexterm-anchor"></a><a id="d134862e2391" class="indexterm-anchor"></a>以下<a id="d134862e2396" class="indexterm-anchor"></a>用于为<code class="codeph">XSSECCLASS</code>组件启用基于事件的跟踪的<code class="codeph">SQL</code>语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'46149永远跟踪名称上下文，level =“1”，level =“2”，level =“3”';</pre><p>这里， <code class="codeph">46149</code>是与<code class="codeph">XSSECCLASS</code>事件关联的Oracle数据库错误号。您可以将跟踪级别设置为<code class="codeph">1</code> （ <code class="codeph">low</code> ）， <code class="codeph">2</code> （ <code class="codeph">medium</code> ）或<code class="codeph">3</code> （ <code class="codeph">high</code> ）。
                     </p>
                     <p>或者，您可以使用以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'TRACE [XSSECCLASS] disk = [low，medium，high]';</pre><p>您可以使用以下SQL语句找到此跟踪文件的位置：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">SHOW PARAMETER USER_DUMP_DEST;</code>
</pre><p>跟踪信息包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>安全类文档中的内容，例如父类，子类，特权和聚合特权</p>
                        </li>
                        <li>
                           <p>对于安全性类删除，它包含有关需要从缓存中失效的父类的信息</p>
                        </li>
                        <li>
                           <p>与异常相关的信息，例如安全类验证错误</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG843"></a><a id="DBFSG842"></a><div class="props_rev_3"><a id="GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468" name="GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468"></a><h4 id="DBFSG-GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468" class="sect4">关于ACL（XSACL）基于事件的跟踪</h4>
                  <div>
                     <p>使用<a id="d134862e2572" class="indexterm-anchor"></a><a id="d134862e2576" class="indexterm-anchor"></a>以下<a id="d134862e2581" class="indexterm-anchor"></a>用于为<code class="codeph">XSACL</code>组件启用基于事件的跟踪的<code class="codeph">SQL</code>语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'46110跟踪名称上下文永远，level =“1”，level =“2”，level =“3”';</pre><p>这里， <code class="codeph">46110</code>是与<code class="codeph">XSACL</code>事件关联的Oracle数据库错误号。您可以将跟踪级别设置为<code class="codeph">1</code> （ <code class="codeph">low</code> ）， <code class="codeph">2</code> （ <code class="codeph">medium</code> ）或<code class="codeph">3</code> （ <code class="codeph">high</code> ）。
                     </p>
                     <p>或者，您可以使用以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'TRACE [XSACL] disk = [low，medium，high]';</pre><p>您可以使用以下SQL语句找到此跟踪文件的位置：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">SHOW PARAMETER USER_DUMP_DEST;</code>
</pre><p><a href="troubleshooting_real_application_security.html#GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468__BABDICFJ" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-5</a>显示了每个跟踪级别的<code class="codeph">XSACL</code>跟踪内容。
                     </p>
                     <div class="tblformal" id="GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468__BABDICFJ">
                        <p class="titleintable">表D-5 XSACL跟踪内容</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="XSACL跟踪内容" width="100%" border="1" summary="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high). " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d134862e2651">事件</th>
                                 <th align="left" valign="bottom" width="29%" id="d134862e2654">跟踪级别1（低）</th>
                                 <th align="left" valign="bottom" width="22%" id="d134862e2657">痕量级别2（中）</th>
                                 <th align="left" valign="bottom" width="25%" id="d134862e2660">痕迹等级3（高）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d134862e2665" headers="d134862e2651 ">
                                    <p>检查ACL的权限</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d134862e2665 d134862e2654 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>游标共享期间的ACL结果</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d134862e2665 d134862e2657 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>ACL评估包括ACL加载</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d134862e2665 d134862e2660 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DBFSG99710"></a><a id="DBFSG99711"></a><a id="DBFSG99709"></a><div class="props_rev_3"><a id="GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5" name="GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5"></a><h4 id="DBFSG-GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5" class="sect4">关于数据安全性（XSXDS和XSVPD）基于事件的跟踪</h4>
                  <div>
                     <p>使用<a id="d134862e2801" class="indexterm-anchor"></a><a id="d134862e2805" class="indexterm-anchor"></a>该<a id="d134862e2810" class="indexterm-anchor"></a>以下<code class="codeph">SQL</code>语句为<code class="codeph">XSXDS</code>组件启用基于事件的跟踪：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'46049永远跟踪名称上下文，level =“1”，level =“2”，level =“3”';</pre><p>这里， <code class="codeph">46049</code>是与<code class="codeph">XSXDS</code>事件关联的Oracle数据库错误号。您可以将跟踪级别设置为<code class="codeph">1</code> （ <code class="codeph">low</code> ）， <code class="codeph">2</code> （ <code class="codeph">medium</code> ）或<code class="codeph">3</code> （ <code class="codeph">high</code> ）。<a href="troubleshooting_real_application_security.html#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-6</a>描述了跟踪级别。
                     </p>
                     <p>或者，您可以使用以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'TRACE [XSXDS] disk = [low，medium，high]';</pre><p>您可以使用以下SQL语句找到此跟踪文件的位置：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">SHOW PARAMETER USER_DUMP_DEST;</code>
</pre><p><a href="troubleshooting_real_application_security.html#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-6</a>显示了每个跟踪级别的<code class="codeph">XSXDS</code>跟踪内容。
                     </p>
                     <div class="tblformal" id="GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD">
                        <p class="titleintable">表D-6 XSXDS跟踪内容</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="XSXDS跟踪内容" width="100%" border="1" summary=" This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high). " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d134862e2886">事件</th>
                                 <th align="left" valign="bottom" width="29%" id="d134862e2889">跟踪级别1（低）</th>
                                 <th align="left" valign="bottom" width="22%" id="d134862e2892">痕量级别2（中）</th>
                                 <th align="left" valign="bottom" width="25%" id="d134862e2895">痕迹等级3（高）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d134862e2900" headers="d134862e2886 ">
                                    <p>数据安全文档（DSD）加载到系统全局区域（SGA）</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d134862e2900 d134862e2889 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>具有已解析参数值的安全数据领域约束规则</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d134862e2900 d134862e2892 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>访问控制列表（ACL）标识符</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d134862e2900 d134862e2895 ">
                                    <p>与1级和2级相同</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>使用以下<code class="codeph">SQL</code>语句为<code class="codeph">XSVPD</code>组件启用基于事件的跟踪：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'10730跟踪名称上下文永远级别[1,2,3]';</pre><p>这里，10730是与<code class="codeph">XSVPD</code>事件关联的Oracle数据库错误号。您可以将跟踪级别设置为<code class="codeph">1</code> （ <code class="codeph">low</code> ）， <code class="codeph">2</code> （ <code class="codeph">medium</code> ）或<code class="codeph">3</code> （ <code class="codeph">high</code> ）。<a href="troubleshooting_real_application_security.html#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-6</a>描述了跟踪级别。
                     </p>
                     <p>或者，您可以使用以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'TRACE [XSVPD] disk = [low，medium，high]';</pre><p><a href="troubleshooting_real_application_security.html#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="该表有4列。第1列是事件名称，第2列是跟踪级别1（低），第3列是跟踪级别2（中），第4列是跟踪级别3（高）。">表D-6</a>显示了每个跟踪级别的<code class="codeph">XSVPD</code>跟踪内容。
                     </p>
                     <div class="tblformal" id="GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__GUID-B99E6B3E-BA52-4905-8C02-421EDB155D6A">
                        <p class="titleintable">表D-7 XSVPD跟踪内容</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="XSVPD跟踪内容" width="100%" border="1" summary=" This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high). " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d134862e2985">事件</th>
                                 <th align="left" valign="bottom" width="29%" id="d134862e2988">跟踪级别1（低）</th>
                                 <th align="left" valign="bottom" width="22%" id="d134862e2991">痕量级别2（中）</th>
                                 <th align="left" valign="bottom" width="25%" id="d134862e2994">痕迹等级3（高）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d134862e2999" headers="d134862e2985 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>数据安全文档（DSD）加载到系统全局区域（SGA）</p>
                                       </li>
                                       <li>
                                          <p>在当前数据库会话中发出的所有后续SQL语句</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d134862e2999 d134862e2988 ">
                                    <p>包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>在硬解析，软解析或SQL语句解析期间，XDS启用了对象的VPD视图</p>
                                       </li>
                                       <li>
                                          <p>数据域约束规则，包含已解析的参数值，相应的ACL路径和ACL标识符</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d134862e2999 d134862e2991 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>解析或运行SQL语句时的当前应用程序会话用户名和已启用的角色</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d134862e2999 d134862e2994 ">
                                    <p>除了跟踪级别1项外，还包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>与数据领域约束关联的所有ACL的内容，这些ACL与查询中启用XDS的对象相关联</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="DBFSG99714"></a><a id="DBFSG99713"></a><div class="props_rev_3"><a id="GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539" name="GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539"></a><h3 id="DBFSG-GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539" class="sect3">关于异常状态转储信息</h3>
               <div>
                  <p>当一个<a id="d134862e3147" class="indexterm-anchor"></a><a id="d134862e3151" class="indexterm-anchor"></a>异常发生时，Real Application Security组件的状态信息将转储到跟踪文件中。<a href="troubleshooting_real_application_security.html#GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539__CEGCGGFH" title="该表有2列。第1列是Real Application Security组件的名称，第2列是其异常相关信息。">表D-8</a>描述了为各个Real Application Security组件转储的信息：</p>
                  <div class="tblformal" id="GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539__CEGCGGFH">
                     <p class="titleintable">表D-8实际应用程序安全组件和首次故障转储信息</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="实际应用程序安全组件和首次故障转储信息" width="100%" border="1" summary="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is its exception related information." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d134862e3169">真实应用安全组件</th>
                              <th align="left" valign="bottom" width="71%" id="d134862e3172">例外相关信息</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d134862e3177" headers="d134862e3169 ">
                                 <p><code class="codeph">XSSESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d134862e3177 d134862e3172 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>应用会话状态信息</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d134862e3187" headers="d134862e3169 ">
                                 <p><code class="codeph">XSPRINCIPAL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d134862e3187 d134862e3172 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>应用程序会话角色列表（应用程序会话的所有角色，已启用角色，已禁用角色和数据库角色）</p>
                                    </li>
                                    <li>
                                       <p>角色图系统的哈希表</p>
                                    </li>
                                    <li>
                                       <p>用户哈希表，其中直接角色授予系统中的用户</p>
                                    </li>
                                    <li>
                                       <p>主行缓存状态</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="DBFSG99716"></a><a id="DBFSG99715"></a><div class="props_rev_3"><a id="GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A" name="GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A"></a><h3 id="DBFSG-GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A" class="sect3">关于会话统计</h3>
               <div>
                  <p>真实应用安全<a id="d134862e3320" class="indexterm-anchor"></a><a id="d134862e3324" class="indexterm-anchor"></a>组件统计信息有助于识别Real Application Security系统中的性能问题。<a href="troubleshooting_real_application_security.html#GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A__CEGIDIEA" title="该表有2列。第1列是Real Application Security组件的名称，第2列是为该组件收集的性能统计信息。">表D-9</a>说明了为各个Real Application Security组件收集的统计信息。
                  </p>
                  <div class="tblformal" id="GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A__CEGIDIEA">
                     <p class="titleintable">表D-9实际应用程序安全组件和性能统计信息</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="实际应用安全组件和性能统计" width="100%" border="1" summary="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is  the performance statistics collected for that component." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d134862e3344">真实应用安全组件</th>
                              <th align="left" valign="bottom" width="71%" id="d134862e3347">收集的绩效统计</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d134862e3352" headers="d134862e3344 ">
                                 <p><code class="codeph">XSSESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d134862e3352 d134862e3347 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>创建的应用程序会话数</p>
                                    </li>
                                    <li>
                                       <p>附加和分离的应用程序会话数</p>
                                    </li>
                                    <li>
                                       <p>创建的命名空间数</p>
                                    </li>
                                    <li>
                                       <p>执行的用户回调数</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d134862e3371" headers="d134862e3344 ">
                                 <p><code class="codeph">XSPRINCIPAL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d134862e3371 d134862e3347 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>启用/禁用的角色数</p>
                                    </li>
                                    <li>
                                       <p>主要缓存未命中数</p>
                                    </li>
                                    <li>
                                       <p>主要失效的数量</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d134862e3387" headers="d134862e3344 ">
                                 <p>中级缓存</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d134862e3387 d134862e3347 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>会话缓存同步数</p>
                                    </li>
                                    <li>
                                       <p>主缓存同步的数量</p>
                                    </li>
                                    <li>
                                       <p>安全类高速缓存同步的数量</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="DBFSG99717"></a><div class="props_rev_3"><a id="GUID-A5462710-7C65-44D5-BBEE-F7EA1B717297" name="GUID-A5462710-7C65-44D5-BBEE-F7EA1B717297"></a><h3 id="DBFSG-GUID-A5462710-7C65-44D5-BBEE-F7EA1B717297" class="sect3">使用中间层跟踪</h3>
               <div>
                  <div class="section">
                     <p>中间层跟踪使用包<code class="codeph">oracle.security.xs</code> 。它可以如下完成：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>在属性文件中指定日志记录选项。例如，</span><div><pre class="oac_no_warn" dir="ltr">handlers = java.util.logging。ConsoleHandler .level = SEVERE java.util.logging。ConsoleHandler.level = FINEST java.util.logging。ConsoleHandler.formatter = java.util.logging。SimpleFormatter oracle.security.xs.level = FINEST</pre></div>
                     </li>
                     <li class="stepexpand"><span>在JVM启动期间应用上述配置。</span><div><pre class="oac_no_warn" dir="ltr">java -Djava.util.logging.config.file = logging.properties</pre><p>将为配置中指定的处理程序（文件，控制台）生成日志输出。</p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>Real Application Security用户可以使用中间层java API进行身份验证，授权，会话管理等。如果用户需要在与中间层API的接口上进行调试，则可以打开跟踪。跟踪可以显示基本调用堆栈，涉及的功能，使用的时间，传递的参数，返回值等。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>