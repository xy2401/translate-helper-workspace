<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>优化性能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Net Services Administrator&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Net Services Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96313-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="enabling-advanced-features.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-III-test-and-troubleshoot-oracle-net-services.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NETAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="enabling-advanced-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-III-test-and-troubleshoot-oracle-net-services.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">网络服务管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-config-and-admin-of-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Oracle Net Services的配置和管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">优化性能</li>
            </ol>
            <a id="GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F" name="GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F"></a><a id="NETAG014"></a>
            
            <h2 id="NETAG-GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F" class="sect2"><span class="enumeration_chapter">14</span>优化性能</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解如何优化连接性能。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804">了解网络数据压缩的好处</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04">配置会话数据单元</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F">确定带宽延迟产品</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">配置I / O缓冲区空间</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">配置InfiniBand连接的SDP支持</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E">配置InfiniBand连接的Exadirect支持</a><br>Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量</li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6">限制未经授权用户的资源消耗</a><br></li>
                  <li class="ulchildlink"><a href="optimizing-performance.html#GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803">关于数据相关路由</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part-II-config-and-admin-of-oracle-net-services.html#GUID-18C53DE7-28A6-4D01-AEA4-56A5F42B1B2A">Oracle Net Services的配置和管理</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG1593"></a><div class="sect2"><a id="GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804" name="GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804"></a><h3 id="NETAG-GUID-9F86FD03-0895-4D8A-8F0C-E9DFDD30E804" class="sect3"><span class="enumeration_section">14.1</span>了解网络数据压缩的好处</h3>
               <div>
                  <p>网络数据压缩减少了通过数据连接传输的<a href="glossary.html#GUID-DDF7E038-5341-44CA-8634-C03D77EB50BA"><span class="xrefglossterm">会话数据单元（SDU）</span></a>的大小。减少数据大小可减少在整个网络中传输SQL查询和结果所需的时间。此外，压缩数据使用较少的带宽，这允许在更短的时间内传输更大的数据。数据压缩过程对应用程序层是透明的。
                  </p>
                  <p>以下是使用数据压缩的一些好处：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>增加的网络吞吐量意味着受限带宽环境可以利用压缩来减少查询响应时间。</p>
                     </li>
                     <li>
                        <p>减少带宽利用率允许其他应用程序使用带宽。</p>
                     </li>
                     <li>
                        <p>减少站点之间传输的数据量。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG0141"></a><div class="sect2"><a id="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04" name="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04"></a><h3 id="NETAG-GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04" class="sect3"><span class="enumeration_section">14.2</span>配置会话数据单元</h3>
               <div>
                  <p>在典型的数据库配置下，Oracle Net在通过网络发送数据之前将数据封装到SDU大小的缓冲区中。Oracle Net在填充，刷新或应用程序尝试读取数据时发送每个缓冲区。调整<a id="d45406e226" class="indexterm-anchor"></a>相对于提供给Oracle Net的数据量，SDU缓冲区的大小可以在任何时候发送，从而提高性能，网络利用率和内存消耗。当传输大量数据时，增加SDU大小可以提高性能和网络吞吐量。可以将SDU大小调整得更低或更高，以实现特定部署的更高吞吐量。
                  </p>
                  <p>提供给Oracle Net以便在任何时间发送的数据量称为消息大小。</p>
                  <p>SDU大小可以从512字节到2 MB。广泛的大小允许网络管理员调整SDU大小，以便为给定部署提供最佳网络性能。较高的SDU大小值需要更多内存。客户端和专用服务器的默认SDU大小为8192字节。共享服务器的默认SDU大小为65535字节。</p>
                  <p>使用的实际SDU大小在连接时在客户端和服务器之间协商，并且是客户端和服务器值中较小的一个。配置不同于默认值的SDU大小需要在客户端和服务器计算机上配置SDU，除非您使用共享服务器。</p>
                  <p>当主要邮件大小小于或大于8192时，应考虑更改SDU大小。SDU大小应比主要消息大小多70个字节。如果主要消息大小加上70字节超过最大SDU，则应设置SDU，使得消息大小被分成最小数量的相等部分，其中每个部分比SDU大小小70个字节。要更改默认值，请更改<code class="codeph">sqlnet.ora</code>文件中的DEFAULT_SDU_SIZE参数。
                  </p>
                  <p>例如，如果应用程序发送和接收的大多数消息小于8 KB，考虑到70字节的开销，则将SDU设置为8 KB可能会产生良好的结果。如果有足够的内存可用，则使用SDU的最大值可以最大限度地减少Oracle Net Services的系统调用和开销。</p>
                  <div class="infoboxnote" id="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04__GUID-65AC1A5D-C31F-40D3-BF1B-6A1E6D3C038E">
                     <p class="notep1">注意：</p>
                     <p>在Oracle Database <span class="italic">11g中</span> ，Oracle Net Services优化了组件的批量数据传输，例如Oracle SecureFiles LOB和Oracle Data Guard重做传输服务。网络参数文件中指定的SDU大小限制不适用于这些批量数据传输。启用ASO选项或使用TLS传输时，批量数据传输优化不适用。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E73579F0-9852-4E16-A503-4525471DEBB4">设置数据库的SDU大小</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7">设置客户端的SDU大小</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04__GUID-B722D03D-B866-4375-AF80-1974A94893D7">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="introducing-oracle-net-services.html#GUID-D47D58C3-CA44-4A08-8597-A83335406290">数据传输优化的会话数据单元大小</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-959C27E5-18FA-4CEA-BA7F-25140B2BFB49">统计示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1476"></a><div class="sect3"><a id="GUID-E73579F0-9852-4E16-A503-4525471DEBB4" name="GUID-E73579F0-9852-4E16-A503-4525471DEBB4"></a><h4 id="NETAG-GUID-E73579F0-9852-4E16-A503-4525471DEBB4" class="sect4"><span class="enumeration_section">14.2.1</span>设置数据库的SDU大小</h4>
                  <div>
                     <p>要设置数据库服务器的SDU大小，请配置以下文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLNET.ORA</code></p>
                           <p>在<code class="codeph">sqlnet.ora</code>文件中配置DEFAULT_SDU_SIZE参数，如下所示：</p><pre class="oac_no_warn" dir="ltr">DEFAULT_SDU_SIZE = 32767</pre></li>
                        <li>
                           <p>初始化参数文件</p>
                           <p>如果使用共享服务器进程，则在初始化参数文件的DISPATCHERS参数中设置SDU大小，如下所示：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS =“（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）） <span class="bold">（SDU = 8192）</span> ）”</pre></li>
                        <li>
                           <p><code class="codeph">listener.ora中</code></p>
                           <p>如果侦听器在<code class="codeph">listener.ora</code>文件中配置了目标列表，则在使用专用服务器进程时，SID_LIST参数中的SDU值将覆盖<code class="codeph">sqlnet.ora</code>文件中的当前设置。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04">配置会话数据单元</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1475"></a><div class="sect3"><a id="GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7" name="GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7"></a><h4 id="NETAG-GUID-4442A620-1968-4CA0-A25F-BDED189E5ED7" class="sect4"><span class="enumeration_section">14.2.2</span>设置客户端的SDU大小</h4>
                  <div>
                     <p>要为客户端设置SDU大小，请配置以下文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLNET.ORA</code></p>
                           <p>对于客户端的全局配置，请在<code class="codeph">sqlnet.ora</code>文件中配置DEFAULT_SDU_SIZE参数，如下所示：</p><pre class="oac_no_warn" dir="ltr">DEFAULT_SDU_SIZE = 32767</pre></li>
                        <li>
                           <p><code class="codeph">tnsnames.ora中</code></p>
                           <p>对于特定的连接描述符，您可以在DESCRIPTION参数中指定SDU参数。</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com =（DESCRIPTION =（ <span class="bold"><code class="codeph">SDU=11280)</code></span> （ADDRESS =（PROTOCOL = tcp）（HOST = sales-server）（PORT = 1521））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com） ）））</pre></li>
                     </ul><pre class="oac_no_warn" dir="ltr"></pre><p>SDU大小适用于特定连接描述符的所有Oracle Net协议。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-86D61D6F-AD26-421A-BABA-77949C8A2B04">配置会话数据单元</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1477"></a><div class="sect2"><a id="GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F" name="GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F"></a><h3 id="NETAG-GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F" class="sect3"><span class="enumeration_section">14.3</span>确定带宽延迟产品</h3>
               <div>
                  <p>带宽延迟产品是网络带宽和通过网络传输数据的往返时间的乘积。确定往返时间的一种简单方法是使用命令，例如从一个主机到另一个主机的<code class="codeph">ping</code> ，并使用<code class="codeph">ping</code>返回的响应时间。
                  </p>
                  <p>例如，如果网络具有100 Mbps的带宽和5ms的往返时间，则发送和接收缓冲区应至少为（100 * 106）*（5/103）位或大约62.5千字节。</p>
                  <p>以下等式显示了所涉及的单位和因素之间的关系：</p><pre class="oac_no_warn" dir="ltr">100,000,000位1字节5秒---------------- x ------ x --------- = 62,500字节1秒8位1000</pre><p>将SEND_BUF_SIZE和RECV_BUF_SIZE参数设置为至少带宽延迟产品可确保在发送大量数据时最佳地利用网络带宽。</p>
                  <p>基于前面的等式，该网络链路的带宽延迟乘积约为64KB。如果用于在主数据库和备用数据库之间传输重做数据的最大消息是1 MB，则SEND_BUF_SIZE和RECV_BUF_SIZE参数的值可以是1 MB。但是，如果平均消息较少，则64 KB的设置应足以优化可用带宽的使用。</p>
                  <p>对于大多数网络协议，请确保网络连接一端的RECV_BUF_SIZE参数（通常位于客户端）等于另一端的SEND_BUF_SIZE参数值，通常位于服务器上。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E55C75B9-0678-4F17-BFBC-97FCBC004E2F__GUID-AABBA41B-B1B9-47D6-982E-F458E50010D9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关确定邮件大小的其他信息，请参阅<span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-959C27E5-18FA-4CEA-BA7F-25140B2BFB49">统计示例</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG0142"></a><div class="sect2"><a id="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29" name="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29"></a><h3 id="NETAG-GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29" class="sect3"><span class="enumeration_section">14.4</span>配置I / O缓冲区空间</h3>
               <div>
                  <p>可靠的网络协议（例如TCP / IP）在向下层和上层协议发送和接收时将数据缓冲到发送和接收缓冲区中。这些缓冲区的大小通过影响流控制决策来影响网络性能。</p>
                  <p>RECV_BUF_SIZE和SEND_BUF_SIZE参数指定与Oracle Net连接关联的套接字缓冲区的大小。要确保数据的连续流动和网络带宽的更好利用，请使用RECV_BUF_SIZE和SEND_BUF_SIZE参数指定会话的接收和发送操作的I / O缓冲区空间限制。RECV_BUF_SIZE和SEND_BUF_SIZE参数值不必匹配，但应根据您的环境进行设置。</p>
                  <p>为获得最佳性能，应将发送和接收缓冲区的大小设置得足够大，以容纳可在网络连接上同时发送的所有数据。为获得最佳网络性能，应将这些缓冲区设置为至少带宽延迟乘积。</p>
                  <p>请谨慎使用这些参数，因为它们会影响网络和系统性能。这些参数的默认值是特定于操作系统的。以下是Linux操作系统的默认设置：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>SEND_BUF_SIZE：131,072字节（128k）</p>
                     </li>
                     <li>
                        <p>RECV_BUF_SIZE：174,700字节</p>
                     </li>
                  </ul>
                  <p>TCP，TCP / IP和SSL以及SDP支持这些参数。其他协议可能在某些操作系统上支持这些参数。这些参数的建议值在安装指南中指定。有关其他信息，请参阅操作系统特定文档。</p>
                  <div class="infoboxnote" id="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29__GUID-3E430807-BE00-494B-8702-729ABDA16E92">
                     <p class="notep1">注意：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>由于主机操作系统的限制或内存限制，SEND_BUF_SIZE和RECV_BUF_SIZE参数的实际值可能小于指定的值。</p>
                        </li>
                        <li>
                           <p>请务必考虑系统必须支持的并发连接总数以及可用内存资源。这些连接消耗的内存总量取决于并发连接数和各自缓冲区的大小。</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-605F136D-DB3B-4D78-A33B-87820B4462F1">在服务器上配置I / O缓冲区大小</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A">在客户端上配置I / O缓冲区空间</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29__GUID-2C7C032C-1FF0-4360-8FAD-FEE568DC785A">
                     <p class="notep1">也可以看看：</p>
                     <p>有关OCI_PREFETCH_MEMORY参数的其他信息，请参阅<a href="../lnoci/using-sql_statements-in-oci.html#LNOCI16357" target="_blank"><span class="italic">“Oracle调用接口程序员指南”</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1479"></a><div class="sect3"><a id="GUID-605F136D-DB3B-4D78-A33B-87820B4462F1" name="GUID-605F136D-DB3B-4D78-A33B-87820B4462F1"></a><h4 id="NETAG-GUID-605F136D-DB3B-4D78-A33B-87820B4462F1" class="sect4"><span class="enumeration_section">14.4.1</span>在服务器上配置I / O缓冲区大小</h4>
                  <div>
                     <p>由于数据库服务器将数据写入客户端，因此在服务器端设置SEND_BUF_SIZE参数通常就足够了。如果数据库服务器正在接收大请求，则还要设置RECV_BUF_SIZE参数。要配置数据库服务器，请在<code class="codeph">listener.ora</code>和<code class="codeph">sqlnet.ora</code>文件中设置缓冲区空间大小。
                     </p>
                     <p>在<code class="codeph">listener.ora</code>文件中，为特定协议地址或描述指定缓冲区空间参数。以下是设置示例：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521） <span class="bold"><code class="codeph">(SEND_BUF_SIZE=11784)</code></span> <span class="bold"><code class="codeph">(RECV_BUF_SIZE=11784)</code></span> ）（ADDRESS =（PROTOCOL = ipc）（KEY = extproc） <span class="bold"><code class="codeph">(SEND_BUF_SIZE=11784)</code></span> <span class="bold"><code class="codeph">(RECV_BUF_SIZE=11784)))</code></span> LISTENER2 =（DESCRIPTION = <span class="bold"><code class="codeph">(SEND_BUF_SIZE=8192)</code></span> <span class="bold"><code class="codeph">(RECV_BUF_SIZE=16384)</code></span> （ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521）））</pre><p>虽然前面的示例有多个地址，但未使用<code class="codeph">ADDRESS_LIST</code>参数。这是因为<code class="codeph">ADDRESS_LIST</code>参数不是必需的。
                     </p>
                     <p>以下是<code class="codeph">sqlnet.ora</code>文件中的设置示例：</p><pre class="oac_no_warn" dir="ltr">RECV_BUF_SIZE = 65536 SEND_BUF_SIZE = 65536</pre></div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C">设置共享服务器进程的缓冲区大小参数</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">配置I / O缓冲区空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1480"></a><div class="sect4"><a id="GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C" name="GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C"></a><h5 id="NETAG-GUID-E2B8EA0A-27B6-46B8-A9F9-57F5C2C1224C" class="sect5"><span class="enumeration_section">14.4.1.1</span>设置共享服务器进程的缓冲区大小参数</h5>
                     <div>
                        <p>如果使用共享服务器进程，则可以通过在DISPATCHERS初始化参数中设置缓冲区空间参数来覆盖从服务器<code class="codeph">sqlnet.ora</code>文件获取的当前设置，如下所示：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS = “（ADDRESS =（PROTOCOL = TCP）（SEND_BUF_SIZE = 65536））”</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-605F136D-DB3B-4D78-A33B-87820B4462F1">在服务器上配置I / O缓冲区大小</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG1478"></a><div class="sect3"><a id="GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A" name="GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A"></a><h4 id="NETAG-GUID-2259BA4F-82F5-4F90-921B-79AB27E3634A" class="sect4"><span class="enumeration_section">14.4.2</span>在客户端上配置I / O缓冲区空间</h4>
                  <div>
                     <p>要配置客户端，请在指定文件的以下位置设置缓冲区空间大小：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>仅设置RECV_BUF_SIZE参数通常就足够了。如果客户端发送大量请求，则还要设置SEND_BUF_SIZE参数。这些参数在客户端的<code class="codeph">sqlnet.ora</code>文件中设置。
                           </p>
                        </li>
                        <li>
                           <p>对于特定的连接描述符，您可以覆盖客户端<code class="codeph">sqlnet.ora</code>文件中的当前设置。您可以在<code class="codeph">tnsnames.ora</code>文件中为特定协议地址或描述指定缓冲区空间参数，类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = sales1-server）（PORT = 1521） <span class="bold">（SEND_BUF_SIZE = 11784）</span> <span class="bold">（RECV_BUF_SIZE = 11784）</span> ）（ADDRESS =（PROTOCOL） = tcp）（HOST = sales2-server）（PORT = 1521） <span class="bold">（SEND_BUF_SIZE = 11784）</span> <span class="bold">（RECV_BUF_SIZE = 11784）</span> ）（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））hr.us.example.com = （DESCRIPTION = <span class="bold">（SEND_BUF_SIZE = 8192）</span> <span class="bold">（RECV_BUF_SIZE = 8192）</span> （ADDRESS =（PROTOCOL = tcp）（HOST = hr1-server）（PORT = 1521））（CONNECT_DATA =（SERVICE_NAME = hr.us.example.com）））</pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">配置I / O缓冲区空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG0143"></a><div class="sect2"><a id="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10" name="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10"></a><h3 id="NETAG-GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10" class="sect3"><span class="enumeration_section">14.5</span>配置InfiniBand连接的SDP支持</h3>
               <div>
                  <p><a id="d45406e960" class="indexterm-anchor"></a><a id="d45406e964" class="indexterm-anchor"></a><a id="d45406e968" class="indexterm-anchor"></a> Oracle Net Services为InfiniBand高速网络提供套接字直接协议（ <a href="glossary.html#GUID-FA47E1B6-0845-4401-9DBC-5E97D3A0064F"><span class="xrefglossterm">SDP</span></a> ）支持。
                  </p>
                  <p>SDP是群集服务器环境的标准通信协议。SDP是网络接口卡和应用程序之间的接口。通过使用SDP，应用程序将大部分消息传递负担放在网络接口卡上，从而将CPU释放用于其他任务。因此，SDP可降低网络<a href="glossary.html#GUID-CB716DC0-A429-4B4A-857D-FFB70333E55B"><span class="xrefglossterm">延迟</span></a>和CPU利用率。
                  </p>
                  <p>SDP专为系统区域网络（SAN）而设计。SAN的特点是多个服务器系统之间的短距离，高性能通信，例如Oracle WebLogic Server或集群在一台交换机上的任何其他第三方中间层客户端和数据库服务器。</p>
                  <div class="infoboxnote" id="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10__GUID-A6CF7855-61BD-43BD-BAA9-C0F09A9C2919">
                     <p class="notep1">注意：</p>
                     <p>请咨询您的个人供应商，了解他们与Oracle Database 12 <span class="italic">c</span>的版本兼容性。
                     </p>
                     <p>有关SDP支持的更多信息，请访问Oracle技术网</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=otn_index" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/index.html</code></a></p>
                  </div>
                  <p>以下部分描述了如何为中间层和数据库服务器通信设置SDP的Oracle Net支持。它包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-DFB0969E-8540-4B78-B53A-688BD1B13619">使用SDP的先决条件</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F">在服务器上配置SDP</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-693A1428-9BBB-4BD2-9D28-543910910D66">在客户端上配置SDP</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10__GUID-3159BAE7-4EC2-41CF-819E-0DDFBCB33FA8">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="introducing-oracle-net-services.html#GUID-4467A33C-A20A-4E63-B6CD-6ABA2B6A1569">了解性能</a> ”</span>以获取受支持部署的概述</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1481"></a><div class="sect3"><a id="GUID-DFB0969E-8540-4B78-B53A-688BD1B13619" name="GUID-DFB0969E-8540-4B78-B53A-688BD1B13619"></a><h4 id="NETAG-GUID-DFB0969E-8540-4B78-B53A-688BD1B13619" class="sect4"><span class="enumeration_section">14.5.1</span>使用SDP的先决条件</h4>
                  <div>
                     <p>在配置对SDP的支持之前，请安装所需的硬件，并从应用程序Web服务器和数据库服务器上的指定供应商处设置与OpenFabrics Enterprise Distribution（OFED）1.4或1.5兼容的InfiniBand硬件和软件。</p>
                     <p>在安装InfiniBand软件期间，请确定定义SDP的常量或系统的地址族。这可以从操作系统或OFED文档中获得。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DFB0969E-8540-4B78-B53A-688BD1B13619__GUID-B65CD2F3-615E-400E-98DD-95EA747446F4">
                        <p class="notep1">也可以看看：</p>
                        <p>有关安装信息的供应商文档</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">为InfiniBand连接配置SDP支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1482"></a><div class="sect3"><a id="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F" name="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F"></a><h4 id="NETAG-GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F" class="sect4"><span class="enumeration_section">14.5.2</span>在服务器上配置SDP</h4>
                  <div>
                     <p>要配置数据库服务器，请在数据库服务器上的<code class="codeph">listener.ora</code>文件中配置SDP地址。
                     </p>
                     <div class="infoboxnote" id="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F__GUID-0BB81349-8D5F-4E2B-955F-4A2D34BA9819">
                        <p class="notep1">注意：</p>
                        <p>如果SDP或地址协议族常量不是27（Oracle Net Services的默认值），则在<code class="codeph">sqlnet.ora</code>文件中的SDP.PF_INET_SDP参数中定义常量。
                        </p>
                     </div>
                     <p>以下示例显示了在计算机<code class="codeph">sales-server</code>上使用端口号1521的SDP端点。
                     </p><pre class="oac_no_warn" dir="ltr"><span class="bold">LISTENER</span> =（DESCRIPTION =（ADDRESS_LIST = <span class="bold">（ADDRESS =（PROTOCOL = sdp）（HOST = sales-server）（PORT = 1521））</span> （ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521）） （ADDRESS =（PROTOCOL = IPC）（KEY = EXTPROC））））</pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E7E9A81B-E109-4EC7-BD2A-BCBFA18EEF4F__GUID-4A4AEC13-D876-4C3B-81E2-72C673E76FEF">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">创建监听器协议地址列表</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">为InfiniBand连接配置SDP支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1483"></a><div class="sect3"><a id="GUID-693A1428-9BBB-4BD2-9D28-543910910D66" name="GUID-693A1428-9BBB-4BD2-9D28-543910910D66"></a><h4 id="NETAG-GUID-693A1428-9BBB-4BD2-9D28-543910910D66" class="sect4"><span class="enumeration_section">14.5.3</span>在客户端配置SDP</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-693A1428-9BBB-4BD2-9D28-543910910D66__GUID-792C5A7E-396F-4A46-94DF-43DF2CC81BC2">
                        <p class="notep1">注意：</p>
                        <p>如果SDP或地址协议族常量不是27（Oracle Net Services的默认值），则在<code class="codeph">sqlnet.ora</code>文件中的SDP.PF_INET_SDP参数中定义常量。
                        </p>
                     </div>
                     <p>以下过程介绍了如何配置Oracle WebLogic Server服务器或第三方中间层客户端：</p>
                     <ol>
                        <li>
                           <p>如果配置第三方中间层客户端，则升级客户端以使用Oracle Database 12 <span class="italic">c</span>客户端软件，如下所示：</p>
                           <ol type="a">
                              <li>
                                 <p>运行Oracle Universal Installer。</p>
                              </li>
                              <li>
                                 <p>从Available Products页面中选择<span class="bold">Oracle Database 12 <span class="italic">c</span> Client</span> 。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>对于Oracle WebLogic Server服务器和第三方中间层客户端，请创建网络服务名称以连接到数据库服务器，如下所示：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于Oracle WebLogic Server服务器，请指定使用<code class="codeph">tnsnames.ora</code>文件中配置的相同TCP / IP协议地址的网络服务名称。例如：</p><pre class="oac_no_warn" dir="ltr">sales =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = sales-server）））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））</pre></li>
                              <li>
                                 <p>对于第三方中间层客户端，请指定使用<code class="codeph">tnsnames.ora</code>文件中配置的相同SDP地址的网络服务名称。
                                 </p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">sales =（DESCRIPTION =（ADDRESS =（PROTOCOL = sdp）（HOST = sales-server）））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））</pre><div class="infoboxnotealso" id="GUID-693A1428-9BBB-4BD2-9D28-543910910D66__GUID-00D7AADF-D38F-4943-A73D-227CFE0E2A40">
                                    <p class="notep1">也可以看看：</p>
                                    <p><a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1" title="从Oracle Database 19c发行版开始，应用程序用于连接Oracle数据库的Easy Connect语法改进了功能。新版本称为Easy Connect Plus。">配置命名方法</a>以获取有关创建连接描述符的其他信息</p>
                                 </div>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-A8594BE3-BBF8-4C9D-89CA-41560B625C10">为InfiniBand连接配置SDP支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" name="GUID-5499D049-CEB6-4AD1-99B6-0211D391908E"></a><h3 id="NETAG-GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" class="sect3"><span class="enumeration_section">14.6</span>配置InfiniBand连接的外部支持</h3>
               <div>
                  <p>Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量</p>
                  <div class="section">
                     <p>Exadirect协议使用TCP进行控制通信，使用IB RC传输数据。此版本仅在Oracle Linux上支持Exadirect协议适配器。</p>
                     <div class="infoboxnote" id="GUID-5499D049-CEB6-4AD1-99B6-0211D391908E__GUID-2A3DBCA0-E07D-465D-8EB1-1AC02885496A">
                        <p class="notep1">注意：</p>在Oracle Database 12 <span class="italic">c第</span> 2版（12.2）中，Exadirect支持单个Exadirect端点配置。它不支持DRCP。</div>
                     <p>以下部分描述了如何为中间层和数据库服务器通信设置Exadirect的Oracle Net支持。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-F5322880-3C30-4E08-90EE-6AA143172C94">使用Exadirect的先决条件</a><br></li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-386BC919-776A-4F24-91CE-56213B22E947">在服务器上配置Exadirect</a><br>要配置数据库服务器，请在数据库服务器上的<code class="codeph">listener.ora</code>文件中配置Exadirect地址。
                     </li>
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6">在客户端上配置Exadirect</a><br>指定使用在<code class="codeph">tnsnames.ora</code>文件中配置的相同Exadirect地址的网络服务名称。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-F5322880-3C30-4E08-90EE-6AA143172C94" name="GUID-F5322880-3C30-4E08-90EE-6AA143172C94"></a><h4 id="NETAG-GUID-F5322880-3C30-4E08-90EE-6AA143172C94" class="sect4"><span class="enumeration_section">14.6.1</span>使用Exadirect的先决条件</h4>
                  <div>
                     <p></p>
                     <div class="p">Exadirect可用作Exadata节点之间的传输协议。Exadirect的Exadata版本必须为12.1.2.3.3或更高版本。</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" title="Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量">配置InfiniBand连接的Exadirect支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-386BC919-776A-4F24-91CE-56213B22E947" name="GUID-386BC919-776A-4F24-91CE-56213B22E947"></a><h4 id="NETAG-GUID-386BC919-776A-4F24-91CE-56213B22E947" class="sect4"><span class="enumeration_section">14.6.2</span>在服务器上配置Exadirect</h4>
                  <div>
                     <p>要配置数据库服务器，请在数据库服务器上的<code class="codeph">listener.ora</code>文件中配置Exadirect地址。
                     </p>
                     <div class="section">在<code class="codeph">listener.ora</code>文件中配置<code class="codeph">enable_exadirect_listener_name=on</code>参数。
                        <p>以下示例显示了在IB接口为<code class="codeph">192.168.10.1</code>的计算机上使用端口号<code class="codeph">1522</code>的Exadirect端点。
                        </p><pre class="pre codeblock"><code>LISTENER =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = exadirect）（HOST = 192.168.10.1）（PORT = 1522））（ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521）） （ADDRESS =（PROTOCOL = ipc）（KEY = extproc））））ENABLE_EXADIRECT_LISTENER = on</code></pre><div class="infoboxnote" id="GUID-386BC919-776A-4F24-91CE-56213B22E947__GUID-6ACA8A9D-6D9A-4C30-A3E4-F153CD94B65F">
                           <p class="notep1">注意：</p>要启用Exadirect流控制，请在<code class="codeph">sqlnet.ora</code>文件中设置<code class="codeph">exadirect_flow_control=on</code> 。这是一个协商参数，应在服务器和客户端<code class="codeph">sqlnet.ora</code>文件中设置。<code class="codeph">EXADIRECT_RECVPOLL</code>参数指定接收方轮询传入数据的时间。Exadirect适配器使用HugePages。
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" title="Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量">配置InfiniBand连接的Exadirect支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6" name="GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6"></a><h4 id="NETAG-GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6" class="sect4"><span class="enumeration_section">14.6.3</span>在客户端上配置Exadirect</h4>
                  <div>
                     <p>指定使用在<code class="codeph">tnsnames.ora</code>文件中配置的相同Exadirect地址的网络服务名称。
                     </p>
                     <div class="section">通过在<code class="codeph">sqlnet.ora</code>文件中设置<code class="codeph">exadirect_flow_control=on</code>来启用Exadirect流控制。
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C71A72F5-C429-414F-ADEB-3E2383C054B6__GUID-E633D07B-D426-4C88-BF9A-D3B2AD0A9E73">例如：<pre class="pre codeblock"><code>（DESCRIPTION =（ADDRESS =（PROTOCOL = exadirect）（HOST = 192.168.10.1）（port = 1522））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com）））</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5499D049-CEB6-4AD1-99B6-0211D391908E" title="Oracle Net Services为Exadirect for InfiniBand高速网络提供支持。通过在InfiniBand环境中利用远程直接内存访问（RDMA），使用新传输来改善延迟和吞吐量">配置InfiniBand连接的Exadirect支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1202"></a><a id="NETAG0144"></a><div class="sect2"><a id="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6" name="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6"></a><h3 id="NETAG-GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6" class="sect3"><span class="enumeration_section">14.7</span>限制未授权用户的资源消耗</h3>
               <div>
                  <p><a id="d45406e1771" class="indexterm-anchor"></a><a id="d45406e1777" class="indexterm-anchor"></a><a id="d45406e1783" class="indexterm-anchor"></a><a id="d45406e1789" class="indexterm-anchor"></a>可能会导致未经授权访问侦听器或数据库服务器<a id="d45406e1794" class="indexterm-anchor"></a>拒绝服务攻击，即未经授权的客户端试图阻止授权用户在需要时访问和使用系统的能力。恶意客户端可能会尝试使用连接请求来泛滥侦听器或数据库服务器，这些连接请求的唯一目的是消耗资源，例如连接，进程或线程。要缓解这些类型的攻击，请配置限制，以限制在身份验证之前保留资源的时间。客户端尝试超出配置的限制会导致连接终止和包含要记录的客户端的IP地址的审计跟踪。
                  </p>
                  <p>要限制未授权用户的资源消耗并启用审计跟踪，请为<a href="optimizing-performance.html#GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6__g1011291" title="连接超时参数">表14-1中</a>所述的参数设置时间限制值。这些参数没有默认值。
                  </p>
                  <div class="tblformalwide" id="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6__g1011291">
                     <p class="titleintable">表14-1连接超时参数</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="连接超时参数" width="100%" border="1" summary="Connect Timeout Parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d45406e1815">参数</th>
                              <th align="left" valign="bottom" width="16%" id="d45406e1818">文件</th>
                              <th align="left" valign="bottom" width="58%" id="d45406e1821">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d45406e1826" headers="d45406e1815 ">
                                 <p>INBOUND_CONNECT_TIMEOUT_ <span class="italic">listener_name</span></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d45406e1826 d45406e1818 ">
                                 <p><code class="codeph">listener.ora中</code></p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45406e1826 d45406e1821 ">
                                 <p>客户端在建立网络连接后完成对侦听器的连接请求的时间（以秒为单位）。</p>
                                 <p>如果侦听器未在指定的时间内收到客户端请求，则它将终止连接。另外，监听器记录客户端的IP地址和<a id="d45406e1840" class="indexterm-anchor"></a><a id="d45406e1842" class="indexterm-anchor"></a> <a href="troubleshooting-oracle-net-services.html#GUID-1D16BC2C-0357-4B4E-98EC-6BD628E1AA02">ORA-12525：侦听器未收到客户端的允许时间请求</a>错误消息到<code class="codeph">listener.log</code>文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d45406e1854" headers="d45406e1815 ">
                                 <p>SQLNET.INBOUND_CONNECT_TIMEOUT<a id="d45406e1857" class="indexterm-anchor"></a><a id="d45406e1859" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d45406e1854 d45406e1818 ">
                                 <p>数据库服务器上的<code class="codeph">sqlnet.ora</code></p>
                              </td>
                              <td align="left" valign="top" width="58%" headers="d45406e1854 d45406e1821 ">
                                 <p>客户端与数据库服务器连接并提供必要的身份验证信息的时间（以秒为单位）。</p>
                                 <p>如果客户端无法在指定的时间内建立连接并完成身份验证，则数据库服务器将终止连接。另外，数据库服务器记录客户端的IP地址和<a id="d45406e1875" class="indexterm-anchor"></a><a id="d45406e1877" class="indexterm-anchor"></a> <a href="troubleshooting-oracle-net-services.html#GUID-7D6B009D-613A-44C0-A95C-1DD65122B7EF">ORA-12170：连接超时发生</a>错误消息到<code class="codeph">sqlnet.log</code>文件。客户收到一个<a id="d45406e1888" class="indexterm-anchor"></a><a id="d45406e1890" class="indexterm-anchor"></a> ORA-12547：TNS：失去联系，或者<a id="d45406e1895" class="indexterm-anchor"></a><a id="d45406e1898" class="indexterm-anchor"></a> ORA-12637：数据包接收失败错误消息。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>指定这些参数的值时，请考虑以下建议：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>将两个参数都设置为初始低值。</p>
                     </li>
                     <li>
                        <p>将INBOUND_CONNECT_TIMEOUT_ <span class="italic">listener_name</span>参数的值设置为低于SQLNET.INBOUND_CONNECT_TIMEOUT参数的值。
                        </p>
                     </li>
                  </ul>
                  <p>例如，您可以将INBOUND_CONNECT_TIMEOUT_ <span class="italic">listener_name</span>设置为2秒，将INBOUND_CONNECT_TIMEOUT参数设置为3秒。如果客户端由于特定环境的正常系统或网络延迟而无法在指定时间内完成连接，则根据需要增加时间。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-490F0E3F-7302-492A-AFD5-7CF3383BADE6__GUID-AA04B924-93F0-47F8-8B51-F5AB0B3C0C6C">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-F521AB0A-B67C-432B-B899-8F856EB51CAE">解决Oracle Net Services最常见的错误消息</a> ”</span> ，以获取错误消息解决方法的说明</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-13C57450-A1F1-46F4-B48C-8E284C3C87CA">分析侦听器日志文件</a> ”</span>以获取有关<code class="codeph">listener.log</code>文件中的条目的其他信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="configuring-profiles.html#GUID-F199D890-73DB-4F8F-A37D-AACAC0909F0C">关于高级配置文件信息</a> ”</span>有关配置这些参数的其他信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803" name="GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803"></a><h3 id="NETAG-GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803" class="sect3"><span class="enumeration_section">14.8</span>关于数据相关路由</h3>
               <div>
                  <p></p>
                  <p>Sharding提供了跨多个独立Oracle数据库（也称为分片）水平分区数据的能力，并且基于连接字符串中指定的密钥，将数据库请求路由到特定分片。</p>
                  <p>路由在会话级别完成，并基于连接字符串中指定的分片密钥的值。数据相关路由假定会话中发出的所有数据库请求都与指定键值相关联的数据相关。如果客户端需要访问具有不同密钥值的数据，则它要么建立新的数据库会话，要么重新使用映射到该分片密钥的预先建立的连接。负责路由数据库请求的所有组件（例如分片导向器（全局服务管理器）和连接池）都包含一个路由表，该表将键值范围映射到存储适当数据的分片。Oracle Sharding自动维护所有这些组件的路由表的一致性。</p>
                  <p></p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-performance.html#GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401">为客户端 - 服务器连接配置数据相关的路由</a><br>它涉及连接请求过程的单个重定向。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-FC114CA9-4166-4195-8EFD-DB4FE8733D3F">优化性能</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401" name="GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401"></a><h4 id="NETAG-GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401" class="sect4"><span class="enumeration_section">14.8.1</span>配置客户端 - 服务器连接的数据相关路由</h4>
                  <div>
                     <p>它涉及连接请求过程的单个重定向。</p>
                     <div class="p">复合分片可实现两级分片 - 一个按列表或范围，另一个按一致哈希。这是通过提供两个键的应用程序实现的：超级分片键和分片键。对于依赖于数据的路由，客户端用于连接到分片的连接字符串必须包含<code class="codeph">CONNECT_DATA</code>部分中的<code class="codeph">(SHARDING_KEY=…)</code>或<code class="codeph">(SHARDING_KEY=…) (SUPER_SHARDING_KEY=...)</code> 。连接字符串应采用连接到全局服务所需的格式。应将碎片导向器指定为端点，并且除了<code class="codeph">SUPER_SHARDING_KEY</code>或<code class="codeph">SHARDING_KEY</code>或两者之外，还应在<code class="codeph">CONNECT_DATA</code>中使用全局服务名称和区域名称。
                     </div>
                     <!-- class="section" -->
                     <div class="section">要处理连接请求：</div>
                     <!-- class="section" -->
                     <ul>
                        <li><span>与其中一个分片导向器建立连接。</span></li>
                        <li><span>共享控制器执行服务和键值的查找，然后将客户端重定向到包含数据的分片。</span></li>
                     </ul>
                     <div class="section">客户端执行SQL语句并直接从分片接收结果。</div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-12A4A147-7B2B-4768-B507-BC77E5BBF401__GUID-6FBBB1A9-ECCE-46D0-9E7D-DE7B442FF04D">以下是分片的连接字符串示例：<pre class="pre codeblock"><code>（DESCRIPTION =（FAILOVER = on）（ADDRESS_LIST =（LOAD_BALANCE = ON）（ADDRESS =（host = sales-east1）（port = 1522））（ADDRESS =（host = sales-east2）（port = 1522））（ADDRESS =（host = sales-east3）（port = 1522）））（ADDRESS_LIST =（LOAD_BALANCE = ON）（ADDRESS =（host = sales-west1）（port = 1522））（ADDRESS =（host = sales-west2）（ port = 1522））（ADDRESS =（host = sales-west3）（port = 1522）））（CONNECT_DATA =（SERVICE_NAME = sales）（SHARDING_KEY = 40598230）（SUPER_SHARDING_KEY = gold）（REGION = east）））</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../gsmug/intro-global-data-services.html#GSMUG-GUID-D38A0740-B09B-4747-9414-33898208DE70" target="_blank"><span><cite>“Oracle数据库全球数据服务概念和管理指南”</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="optimizing-performance.html#GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803">关于数据相关路由</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>