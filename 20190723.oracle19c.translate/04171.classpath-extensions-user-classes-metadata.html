<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>类路径扩展和用户分类加载的元数据</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96468-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS-JAVASCRIPT-Package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JJDEV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS-JAVASCRIPT-Package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">类路径扩展和用户分类加载的元数据</li>
            </ol>
            <a id="GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E" name="GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E"></a><a id="JJDEV13542"></a>
            
            <h2 id="JJDEV-GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E" class="sect2"><span class="enumeration_chapter">C</span>类路径扩展和用户分类加载的元数据</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>本节提供<code class="codeph">-classpath</code>搜索路径和User Classloaded Metadata的扩展的说明。
                  </p>
               </div>
               <!-- class="section" -->
            </div><a id="JJDEV13543"></a><div class="props_rev_3"><a id="GUID-2C5BE979-2C42-4199-9C91-BDCE05CF0B03" name="GUID-2C5BE979-2C42-4199-9C91-BDCE05CF0B03"></a><h3 id="JJDEV-GUID-2C5BE979-2C42-4199-9C91-BDCE05CF0B03" class="sect3"><span class="enumeration_section">C.1</span>类路径扩展</h3>
               <div>
                  <div class="section">
                     <p>本节介绍<code class="codeph">-classpath</code>搜索路径和<code class="codeph">jserver</code> URL协议语法的扩展，这些语法允许在命令行界面使用的搜索路径中指定数据库驻留对象和字节集。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDEV13544"></a><div class="props_rev_3"><a id="GUID-E45B28C7-F762-47C0-89B1-16517B892CB2" name="GUID-E45B28C7-F762-47C0-89B1-16517B892CB2"></a><h4 id="JJDEV-GUID-E45B28C7-F762-47C0-89B1-16517B892CB2" class="sect4"><span class="enumeration_section">C.1.1</span> jserverQuotedClassPathTermPrefix</h4>
                  <div>
                     <div class="section">
                        <p>当类路径术语以<code class="codeph">jserverQuotedClassPathTermPrefix</code>字符串开头时，它会延伸到下一次出现的字符串，而不<code class="codeph">File.pathSeparator</code>可能包含的<code class="codeph">File.pathSeparator</code>字符。该字符串的实际值由系统属性<code class="codeph">jserver.quoted.classpath.term.prefix</code> 。如果未定义此属性，则默认值为<code class="codeph">||</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13545"></a><div class="props_rev_3"><a id="GUID-2237ADF6-F369-4993-8BFE-9D871FA3C0B4" name="GUID-2237ADF6-F369-4993-8BFE-9D871FA3C0B4"></a><h4 id="JJDEV-GUID-2237ADF6-F369-4993-8BFE-9D871FA3C0B4" class="sect4"><span class="enumeration_section">C.1.2</span> jserverURLPrefix</h4>
                  <div>
                     <div class="section">
                        <p>当<code class="codeph">jserverURLPrefix</code>类路径术语以<code class="codeph">jserverURLPrefix</code>字符串开头时，该术语的其余部分将被视为URL。该字符串的值由系统属性<code class="codeph">jserver.url.in.classpath.prefix.</code> 如果此值为<code class="codeph">null,</code>任何不以以下三个前缀之一开头的引用术语将被视为URL：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">jserverSpecialTokenPrefix,</code>如果设置了值</p>
                           </li>
                           <li>
                              <p><code class="codeph">JSERVER_CP</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">JSERVER_SCHEMAc</code></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-2237ADF6-F369-4993-8BFE-9D871FA3C0B4__GUID-9539BF34-FB15-407D-B3BA-88355AFCB7F5">
                           <p class="notep1">注意：</p>
                           <p>引用的术语是以<code class="codeph">jserverQuotedClassPathTermPrefix.</code>的值开头和结尾的<code class="codeph">jserverQuotedClassPathTermPrefix.</code> 如果未引用，则反引用的术语是整个原始术语，或者是<code class="codeph">jserverQuotedClassPathTermPrefix.</code>的开始和结束事件之间的引用术语的<code class="codeph">jserverQuotedClassPathTermPrefix.</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13546"></a><div class="props_rev_3"><a id="GUID-448E32AB-F517-4383-88F7-BC82DA9ABC59" name="GUID-448E32AB-F517-4383-88F7-BC82DA9ABC59"></a><h4 id="JJDEV-GUID-448E32AB-F517-4383-88F7-BC82DA9ABC59" class="sect4"><span class="enumeration_section">C.1.3</span> jserverSpecialTokenPrefix</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">jserverSpecialTokenPrefix</code>字符串的值由系统属性<code class="codeph">jserver.specialtoken.in.classpath.prefix.</code> 如果此值不为<code class="codeph">null</code> ，则仅在前面加上此字符串时才会识别前缀<code class="codeph">JSERVER_CP</code>和<code class="codeph">JSERVER_SCHEMAc</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="classpath-extensions-user-classes-metadata.html#GUID-27A7A927-6E3A-47FF-9851-F12900BB2C60">JSERVER_CP</a></li>
                           <li><a href="classpath-extensions-user-classes-metadata.html#GUID-B3666EAC-DC26-4932-80F4-601531EF22B5">JSERVER_SCHEMAc</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13547"></a><div class="sect3"><a id="GUID-27A7A927-6E3A-47FF-9851-F12900BB2C60" name="GUID-27A7A927-6E3A-47FF-9851-F12900BB2C60"></a><h4 id="JJDEV-GUID-27A7A927-6E3A-47FF-9851-F12900BB2C60" class="sect4"><span class="enumeration_section">C.1.4</span> JSERVER_CP</h4>
                  <div>
                     <p>以文字子字符串<code class="codeph">"JSERVER_CP"</code>开头的类路径术语通过将<code class="codeph">JSERVER_CP</code>替换为<code class="codeph">jserver:/CP.</code>而转换为URL <code class="codeph">jserver:/CP.</code></p>
                  </div>
               </div><a id="JJDEV13548"></a><div class="props_rev_3"><a id="GUID-B3666EAC-DC26-4932-80F4-601531EF22B5" name="GUID-B3666EAC-DC26-4932-80F4-601531EF22B5"></a><h4 id="JJDEV-GUID-B3666EAC-DC26-4932-80F4-601531EF22B5" class="sect4"><span class="enumeration_section">C.1.5</span> JSERVER_SCHEMAc</h4>
                  <div>
                     <div class="section">
                        <p>通过将<code class="codeph">JSERVER_SCHEMAc</code>替换为<code class="codeph">jserver:/CPcSCHEMAc.</code> ， <code class="codeph">jserver:/CPcSCHEMAc.</code>文字子串<code class="codeph">"JSERVER_SCHEMAc"</code>开头的类路径术语转换为URL <code class="codeph">jserver:/CPcSCHEMAc.</code> 这里<code class="codeph">c</code>可以是任何字符，但通常是<code class="codeph">/</code> 。这意味着<code class="codeph">JSERVER_SCHEMAc + &lt;remaining string&gt;</code>形式的术语被视为在<code class="codeph">&lt;remaining string&gt;.</code>标识的模式中查找共享系统类加载的类和资源的处方<code class="codeph">&lt;remaining string&gt;.</code> 例如，术语<code class="codeph">JSERVER_SCHEMA/HR</code>等同于<code class="codeph">jserver:/CP/SCHEMA/HR</code> ，它指示在名为<code class="codeph">HR</code>的模式中查找共享类和资源。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13549"></a><div class="props_rev_3"><a id="GUID-5AD2548D-4301-485D-8222-C1F3235B9FFE" name="GUID-5AD2548D-4301-485D-8222-C1F3235B9FFE"></a><h4 id="JJDEV-GUID-5AD2548D-4301-485D-8222-C1F3235B9FFE" class="sect4"><span class="enumeration_section">C.1.6</span> jserver：/ CP一般语法</h4>
                  <div>
                     <div class="section">
                        <p>以<code class="codeph">jserver:/CP</code>开头的URL仅作为类路径术语有意义。<code class="codeph">jserver:/CP</code>后面的第一个字符用作字符串其余部分的标记分隔符。这通常是字符<code class="codeph">/.</code> 后续的令牌如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>第一个标记的可能值是JAR，RESOURCE或SHARED_DATA，其中RESOURCE表示Java资源对象，SHARED_DATA表示Java共享数据对象，JAR表示数据库驻留JAR对象。此标记是可选的，并且所有值都不区分大小写。如果存在其中一个，则URL称为JAR说明符。否则，它被称为SCHEMA说明符。</p>
                           </li>
                           <li>
                              <p>第二个令牌的值是PRIVATE。这是一个可选标记，不区分大小写。</p>
                           </li>
                           <li>
                              <p>第三个令牌的值是SCHEMA。这是必需的令牌，不区分大小写。</p>
                           </li>
                           <li>
                              <p>第四个标记是必需的标记，它被解释为模式名称。</p>
                           </li>
                           <li>
                              <p>第五个标记是JAR说明符所必需的，并且禁止用于SCHEMA说明符。它被解释为由第四个标记标识的模式中的对象的名称（如果存在）。</p>
                           </li>
                        </ul>
                        <p>在功能上，类路径术语用于查找与正在搜索的类或资源名称匹配的对象。对于SCHEMA说明符，在指示的模式中查找对象。对于JAR说明符，模式中的特定对象由URL中的第五个标记标识。此对象被视为JAR，并在该JAR中按名称查找搜索的对象。在数据库驻留JAR中查找类的情况下，这可能意味着将类作为模式中的类对象进行查找。否则，它意味着在JAR对象的实际字节中查找搜索对象。</p>
                        <p>搜索到的对象是数据库Java类对象，如果它满足以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>搜索名称以<code class="codeph">.class</code>结尾</p>
                           </li>
                           <li>
                              <p>URL是数据库驻留JAR的SCHEMA说明符或JAR说明符</p>
                           </li>
                        </ul>
                        <p>这样的类对象可能是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>作为共享系统加载的类加载。如果不存在可选的第二令牌PRIVATE，则完成此操作。</p>
                           </li>
                           <li>
                              <p>解释为一组字节码，并由<code class="codeph">defineClass</code>方法作为私有用户类加载类加载。如果存在可选的第二令牌PRIVATE，则完成此操作。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-5AD2548D-4301-485D-8222-C1F3235B9FFE__GUID-6C0E76D7-2420-410C-B96E-029461305650">
                           <p class="notep1">注意：</p>
                           <p>从不以jserver URL标记开头的类路径术语加载的类始终是私有的，用户类加载的类。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDEV13550"></a><div class="props_rev_3"><a id="GUID-731C4036-8FC1-48C9-9530-0134A12138C2" name="GUID-731C4036-8FC1-48C9-9530-0134A12138C2"></a><h3 id="JJDEV-GUID-731C4036-8FC1-48C9-9530-0134A12138C2" class="sect3"><span class="enumeration_section">C.2</span>用户分类的元数据</h3>
               <div>
                  <div class="section">
                     <p>从11g版本1（11.1）开始，在数据库创建和升级期间，在<code class="codeph">javavm/install/initjvma.sql</code>中以下列方式创建了一个新的系统表：</p><pre class="oac_no_warn" dir="ltr">create table java $ jvm $ runtime $ parameters（owner＃number not null，flags number）;在java $ jvm $ runtime $ parameters（owner＃）上创建唯一索引java $ jvm $ runtime $ parameters $ i;</pre><p>在<code class="codeph">javavm/install/rmjvm.sql.</code>降级期间删除此表<code class="codeph">javavm/install/rmjvm.sql.</code> 如果要共享私有类元数据并具有DBA权限，则可以手动填充此表。规则是，如果存在与您的所有者ID匹配的行，则该行的标志值将按行与所有者＃= -1的行中的标志值进行逐位求值，如果有的话。如果这些前面提到的行都不存在，则结果中设置的位为-1，即设置所有位。如果在结果中设置了位0（1 &lt;&lt; 0），则会话将尝试共享现有的共享私有元数据。如果在结果中设置了位1（1 &lt;&lt; 1），则会话在未找到现有共享元数据时创建共享元数据。默认情况下，表中没有行。因此，所有会话都使用和创建共享私有元数据。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>