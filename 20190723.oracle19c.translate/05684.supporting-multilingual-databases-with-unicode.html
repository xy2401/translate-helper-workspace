<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用Unicode支持多语言数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Globalization Support Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Globalization Support Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-globalization-support-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:55:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96349-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="linguistic-sorting-and-matching.html" title="Previous" type="text/html"></link>
      <link rel="next" href="programming-with-unicode.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Globalization Support Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NLSPG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="linguistic-sorting-and-matching.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="programming-with-unicode.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库全球化支持指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Unicode支持多语言数据库</li>
            </ol>
            <a id="GUID-AA09A60E-123E-457C-ACE1-89E4634E492C" name="GUID-AA09A60E-123E-457C-ACE1-89E4634E492C"></a><a id="NLSPG006"></a>
            
            <h2 id="NLSPG-GUID-AA09A60E-123E-457C-ACE1-89E4634E492C" class="sect2"><span class="enumeration_chapter">6</span>支持使用Unicode的多语言数据库</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='supporting-multilingual-databases-with-unicode'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>本章说明如何在Oracle数据库环境中使用Unicode标准。本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-FFF1D9C8-1465-4F0E-A84D-7776E7DB57CA">什么是Unicode标准？</a></p>
                  </li>
                  <li>
                     <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-0028DFA6-2E69-4582-80C4-F63E46CED876">Unicode标准的功能</a></p>
                  </li>
                  <li>
                     <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-3676A834-54C1-46C6-8349-40524E195377">在数据库中实现Unicode解决方案</a></p>
                  </li>
                  <li>
                     <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3">Unicode案例研究</a></p>
                  </li>
                  <li>
                     <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-8426FD32-DBE4-49F3-B67C-2388122DD524">设计数据库模式以支持多种语言</a></p>
                  </li>
               </ul>
            </div><a id="NLSPG307"></a><div class="props_rev_3"><a id="GUID-FFF1D9C8-1465-4F0E-A84D-7776E7DB57CA" name="GUID-FFF1D9C8-1465-4F0E-A84D-7776E7DB57CA"></a><h3 id="NLSPG-GUID-FFF1D9C8-1465-4F0E-A84D-7776E7DB57CA" class="sect3"><span class="enumeration_section">6.1</span>什么是Unicode标准？
               </h3>
               <div>
                  <p>Unicode标准是一种字符编码系统，它定义了世界上大多数口语中的每个字符。</p>
                  <p>为了克服现有字符编码的限制，一些组织在20世纪80年代后期开始致力于创建全局字符集。随着20世纪90年代中期万维网的发展，对此的需求变得更大。互联网改变了公司的业务方式，重点放在全球市场上，这使得普遍性的特征成为主要要求。</p>
                  <p>全局字符集需要满足以下条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>包含所有主要的生活脚本</p>
                     </li>
                     <li>
                        <p>支持遗留数据和实施</p>
                     </li>
                     <li>
                        <p>足够简单，应用程序的单个实现足以在全球范围内使用</p>
                     </li>
                  </ul>
                  <p>全局字符集还应具有以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>支持多语言用户和组织</p>
                     </li>
                     <li>
                        <p>符合国际标准</p>
                     </li>
                     <li>
                        <p>实现全球数据交换</p>
                     </li>
                  </ul>
                  <p>现在广泛使用的Unicode标准满足全局字符集的所有要求和功能。它为每个角色提供唯一的代码值，无论平台，程序或语言如何。它还定义了许多字符属性和处理规则，有助于正确一致地实现复杂的多语言文本处理。双向行为，断字和换行是这种复杂处理的例子。</p>
                  <p>Unicode标准已被许多软件和硬件供应商采用。许多操作系统和浏览器现在都支持该标准。其他标准（如XML，Java，JavaScript，LDAP和WML）都需要Unicode标准。它还与ISO / IEC 10646标准同步。</p>
                  <p>Oracle数据库在Oracle Database 7中引入了Unicode标准字符编码作为现在过时的数据库字符集AL24UTFFSS。从那时起，每个版本都进行了逐步改进，以使支持与新发布的标准版本同步。</p>
                  <div class="infoboxnote" id="GUID-FFF1D9C8-1465-4F0E-A84D-7776E7DB57CA__GUID-823D1F00-C5F2-4105-9164-C49ED1ED66A2">
                     <p class="notep1">注意：</p>
                     <p>此Oracle数据库发行版支持Unicode版本9.0。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-FFF1D9C8-1465-4F0E-A84D-7776E7DB57CA__GUID-5C819C29-9813-4F44-AF8E-330118305E4C">
                     <p class="notep1">也可以看看：</p>
                     <p>有关Unicode标准的更多信息，请参见<span class="italic"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/nlspg&amp;id=unicode_org" target="_blank">Unicode Consortium</a></span>网站</p>
                  </div>
               </div>
            </div><a id="NLSPG308"></a><div class="props_rev_3"><a id="GUID-0028DFA6-2E69-4582-80C4-F63E46CED876" name="GUID-0028DFA6-2E69-4582-80C4-F63E46CED876"></a><h3 id="NLSPG-GUID-0028DFA6-2E69-4582-80C4-F63E46CED876" class="sect3"><span class="enumeration_section">6.2</span> Unicode标准的特征</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-EF49F9DF-CF5D-466A-8383-F5809F356DBE">代码点和补充字符</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-2A1CA4B9-AE97-4610-B454-AFAF33277BB1">Unicode编码表单</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-CD422E4F-C5C6-4E22-B95F-CA9CABBCB543">支持Oracle数据库中的Unicode标准</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG309"></a><div class="props_rev_3"><a id="GUID-EF49F9DF-CF5D-466A-8383-F5809F356DBE" name="GUID-EF49F9DF-CF5D-466A-8383-F5809F356DBE"></a><h4 id="NLSPG-GUID-EF49F9DF-CF5D-466A-8383-F5809F356DBE" class="sect4"><span class="enumeration_section">6.2.1</span>代码点和补充字符</h4>
                  <div>
                     <p>Unicode标准的第一个版本是一个16位的固定宽度编码，它使用两个字节来编码每个字符。这样可以表示65,536个字符。但是，需要支持更多角色，尤其是对中国，日本和韩国市场非常重要的其他CJK表意文字。</p>
                     <p>Unicode标准的当前定义为标准中定义的每个字符分配一个数字。这些数字称为代码点，范围为0到10FFFF十六进制。用于表示字符代码点的Unicode表示法是前缀“U +”，后跟十六进制代码点值。代码点值用非重要零填充到最小长度为4。代码点U + 0000到U + FFFF的字符称为基本多语言平面字符。代码点U + 10000到U + 10FFFF的字符称为增补字符。</p>
                     <p>添加增补字符增加了Unicode 16位固定宽度编码格式的复杂性;然而，这仍远不如管理Unicode之前使用的数百种遗留编码那么复杂。</p>
                  </div>
               </div><a id="NLSPG310"></a><div class="props_rev_3"><a id="GUID-2A1CA4B9-AE97-4610-B454-AFAF33277BB1" name="GUID-2A1CA4B9-AE97-4610-B454-AFAF33277BB1"></a><h4 id="NLSPG-GUID-2A1CA4B9-AE97-4610-B454-AFAF33277BB1" class="sect4"><span class="enumeration_section">6.2.2</span> Unicode编码表单</h4>
                  <div>
                     <p><a id="d56049e459" class="indexterm-anchor"></a> Unicode标准定义了一些编码形式，它们是从Unicode代码点到代码单元的映射。代码单元是应用程序处理的整数值。代码单元可以具有8位，16位或32位。标准编码形式为：UTF-8，UTF-16和UTF-32。标准及其相关技术报告中还提到了两种兼容性编码：UCS-2和CESU-8。不同Unicode编码之间的转换是标准中定义的简单逐位操作。
                     </p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-2F27E626-20B5-4F1B-920B-CEE6465633F7">UTF-8编码表格</a></p>
                        </li>
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-98BD4E64-99AE-4AD8-8CAD-EE438D988318">UTF-16编码表格</a></p>
                        </li>
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-42BCD57A-A380-4ED9-897F-0500A94803D1">UCS-2编码表格</a></p>
                        </li>
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-105BD4A2-6B6D-4478-903C-010F87E1D15E">UTF-32编码表格</a></p>
                        </li>
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-F3B0B4F7-B6D9-473D-840F-F98998F37981">CESU-8编码表</a></p>
                        </li>
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-4177C4CE-24ED-4F07-BDCE-B9FABDEDCA0E">示例：UTF-16，UTF-8和UCS-2编码</a></p>
                        </li>
                     </ul>
                  </div><a id="NLSPG311"></a><div class="props_rev_3"><a id="GUID-2F27E626-20B5-4F1B-920B-CEE6465633F7" name="GUID-2F27E626-20B5-4F1B-920B-CEE6465633F7"></a><h5 id="NLSPG-GUID-2F27E626-20B5-4F1B-920B-CEE6465633F7" class="sect5"><span class="enumeration_section">6.2.2.1</span> UTF-8编码格式</h5>
                     <div>
                        <p>UTF-8就是<a id="d56049e577" class="indexterm-anchor"></a><a id="d56049e579" class="indexterm-anchor"></a> Unicode的8位编码形式。它是一个可变宽度编码和ASCII的<span class="bold">严格超集</span> 。这意味着ASCII字符集中的每个字符都以UTF-8提供，具有相同的字节表示。一个Unicode字符可以用UTF-8编码形式的1字节，2字节，3字节或4字节表示。来自欧洲和中东脚本的字符以1或2个字节表示。大多数亚洲脚本中的字符以3个字节表示。补充字符以4个字节表示。
                        </p>
                        <p>UTF-8是用于HTML和大多数Internet浏览器的Unicode编码。</p>
                        <p>UTF-8的好处如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>欧洲脚本的紧凑存储要求，因为它是ASCII的严格超集</p>
                           </li>
                           <li>
                              <p>易于在基于ASCII的字符集和UTF-8之间进行迁移</p>
                              <div class="infoboxnotealso" id="GUID-2F27E626-20B5-4F1B-920B-CEE6465633F7__GUID-F472BCE9-12E0-4543-B9E5-BDF20BC31067">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="q">“ <a href="supporting-multilingual-databases-with-unicode.html#GUID-EF49F9DF-CF5D-466A-8383-F5809F356DBE">代码点和补充字符</a> ”</span></p>
                                    </li>
                                    <li>
                                       <p><a href="appendix-B-unicode-character-code-assignments.html#GUID-567C403F-7A68-4A8A-8404-ECD89B99799E__CACHBDGH" title="该表在前面的文本中描述">表B-2</a></p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div><a id="NLSPG313"></a><div class="props_rev_3"><a id="GUID-98BD4E64-99AE-4AD8-8CAD-EE438D988318" name="GUID-98BD4E64-99AE-4AD8-8CAD-EE438D988318"></a><h5 id="NLSPG-GUID-98BD4E64-99AE-4AD8-8CAD-EE438D988318" class="sect5"><span class="enumeration_section">6.2.2.2</span> UTF-16编码格式</h5>
                     <div>
                        <p>UTF-16 <a id="d56049e686" class="indexterm-anchor"></a><a id="d56049e688" class="indexterm-anchor"></a>是Unicode的16位编码形式。一个字符可以用UTF-16中的一个16位整数值（两个字节）或两个16位整数值（四个字节）表示。Basic Multilingual Plane中的所有字符（日常文本中使用的大多数字符）都以两个字节表示。补充字符以四个字节表示。编码单个补充字符的两个代码单元（整数值）称为代理对。
                        </p>
                        <p>UTF-16是Java J2SE 5.0以及Microsoft Windows 2000以来用于Java内部处理的主要Unicode编码。</p>
                        <p>UTF-16优于UTF-8的好处如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>亚洲脚本的更紧凑的存储，因为大多数常用的亚洲字符用两个字节表示。</p>
                           </li>
                           <li>
                              <p>与Java和Microsoft客户端的兼容性更好</p>
                              <div class="infoboxnotealso" id="GUID-98BD4E64-99AE-4AD8-8CAD-EE438D988318__GUID-3A056F05-FE9E-4484-80D6-01836C0FEEC4">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="q">“ <a href="supporting-multilingual-databases-with-unicode.html#GUID-EF49F9DF-CF5D-466A-8383-F5809F356DBE">代码点和补充字符</a> ”</span></p>
                                    </li>
                                    <li>
                                       <p><a href="appendix-B-unicode-character-code-assignments.html#GUID-567C403F-7A68-4A8A-8404-ECD89B99799E__g635384" title="该表在前面的文本中描述">表B-1</a></p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div><a id="NLSPG312"></a><div class="props_rev_3"><a id="GUID-42BCD57A-A380-4ED9-897F-0500A94803D1" name="GUID-42BCD57A-A380-4ED9-897F-0500A94803D1"></a><h5 id="NLSPG-GUID-42BCD57A-A380-4ED9-897F-0500A94803D1" class="sect5"><span class="enumeration_section">6.2.2.3</span> UCS-2编码表</h5>
                     <div>
                        <p>UCS-2不是官方的Unicode编码形式。在引入补充字符之前，该名称最初来自ISO / IEC 10646标准的旧版本。因此，它目前用于指代从支持补充字符和代理对而剥离的UTF-16编码形式。也就是说，代理对在UCS-2中被处理为两个单独的字符。支持UCS-2但不支持UTF-16的应用程序不应处理包含增补字符的文本，因为在将文本分成片段时，它们可能会错误地分割代理对。他们通常也无法显示此类文本。</p>
                        <p>UCS-2是用于Java J2SE 5.0之前和Microsoft Windows NT之前的内部处理的Unicode编码。</p>
                     </div>
                  </div><a id="NLSPG1023"></a><div class="props_rev_3"><a id="GUID-105BD4A2-6B6D-4478-903C-010F87E1D15E" name="GUID-105BD4A2-6B6D-4478-903C-010F87E1D15E"></a><h5 id="NLSPG-GUID-105BD4A2-6B6D-4478-903C-010F87E1D15E" class="sect5"><span class="enumeration_section">6.2.2.4</span> UTF-32编码格式</h5>
                     <div>
                        <p>UTF-32是Unicode的32位编码形式。每个Unicode代码点由单个32位固定宽度整数值表示。如果是最简单的编码形式，但空间效率很低。对于英文文本，与UTF-8相比，它的存储要求增加了四倍，与UTF16相比，增加了一倍。因此，UTF-32有时在内部文本处理中用作中间形式，但通常不用于信息交换。</p>
                        <p>在Java中，从J2SE 5.0版开始，所选API已经过增强，可以对32位格式的字符进行操作，并以<code class="codeph">int</code>值存储。
                        </p>
                     </div>
                  </div><a id="NLSPG1024"></a><div class="props_rev_3"><a id="GUID-F3B0B4F7-B6D9-473D-840F-F98998F37981" name="GUID-F3B0B4F7-B6D9-473D-840F-F98998F37981"></a><h5 id="NLSPG-GUID-F3B0B4F7-B6D9-473D-840F-F98998F37981" class="sect5"><span class="enumeration_section">6.2.2.5</span> CESU-8编码表</h5>
                     <div>
                        <p>CESU-8不是核心Unicode标准的一部分。它在The Unicode Consortium发布的Unicode技术报告＃26中有所描述。CESU-8是与UTF-8相同的兼容性编码形式，除了它表示补充字符。在CESU-8中，补充字符表示为代理对，如UTF-16。要获得补充字符的CESU-8编码，首先以UTF-16编码字符，然后将每个代理代码单元视为具有相同值的代码点。然后，将UTF-8编码规则（位转换）应用于每个代码点。这将产生两个三字节表示，总共六个字节。</p>
                        <p>CESU-8只有两个好处：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它具有与UTF-16相同的二进制排序顺序。</p>
                           </li>
                           <li>
                              <p>它每个字符使用相同数量的代码（一个或两个）。这对字符串处理中的字符长度语义很重要。</p>
                           </li>
                        </ul>
                        <p>通常，应尽可能避免使用CESU-8编码形式。</p>
                        <div class="infoboxnotealso" id="GUID-F3B0B4F7-B6D9-473D-840F-F98998F37981__UNICODETECHNICALREPORT26COMPATIBILI-CD8064B5">
                           <p class="notep1">也可以看看：</p>
                           <p>在<span class="italic"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/nlspg&amp;id=unicode_org_reports" target="_blank">Unicode Consortium</a></span>网站上发布的Unicode技术报告＃26“UTF-16的兼容性编码方案：8位（CESU-8）”</p>
                        </div>
                     </div>
                  </div><a id="NLSPG787"></a><a id="NLSPG314"></a><div class="props_rev_3"><a id="GUID-4177C4CE-24ED-4F07-BDCE-B9FABDEDCA0E" name="GUID-4177C4CE-24ED-4F07-BDCE-B9FABDEDCA0E"></a><h5 id="NLSPG-GUID-4177C4CE-24ED-4F07-BDCE-B9FABDEDCA0E" class="sect5"><span class="enumeration_section">6.2.2.6</span>示例：UTF-16，UTF-8和UCS-2编码</h5>
                     <div>
                        <p>下表显示了UTF-16，UTF-8和UCS-2编码中的一些字符及其字符代码。最后一个字符是高音谱号（音乐符号），一个补充字符。</p>
                        <div class="figure" id="GUID-4177C4CE-24ED-4F07-BDCE-B9FABDEDCA0E__I1006859"><img src="img/nlspg031.gif" alt="下面是nlspg031.eps的描述" title="下面是nlspg031.eps的描述" longdesc="img_text/nlspg031.html"><br><a href="img_text/nlspg031.html">插图描述nlspg031.eps</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div>
               </div><a id="NLSPG788"></a><a id="NLSPG315"></a><div class="props_rev_3"><a id="GUID-CD422E4F-C5C6-4E22-B95F-CA9CABBCB543" name="GUID-CD422E4F-C5C6-4E22-B95F-CA9CABBCB543"></a><h4 id="NLSPG-GUID-CD422E4F-C5C6-4E22-B95F-CA9CABBCB543" class="sect4"><span class="enumeration_section">6.2.3</span>支持Oracle数据库中的Unicode标准</h4>
                  <div>
                     <p>Oracle数据库在第7版中开始支持Unicode字符集作为数据库字符集。<a href="supporting-multilingual-databases-with-unicode.html#GUID-CD422E4F-C5C6-4E22-B95F-CA9CABBCB543__G1008165" title="该表在前面的文本中描述。">表6-1</a>总结了Oracle数据库支持的Unicode字符集。
                     </p>
                     <div class="tblformalwide" id="GUID-CD422E4F-C5C6-4E22-B95F-CA9CABBCB543__G1008165">
                        <p class="titleintable">表6-1 Oracle数据库支持的Unicode字符集</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库支持的Unicode字符集" width="100%" border="1" summary="This table is described in the preceding text." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d56049e1179">字符集</th>
                                 <th align="left" valign="bottom" width="14%" id="d56049e1182">RDBMS版本支持</th>
                                 <th align="left" valign="bottom" width="14%" id="d56049e1185">Unicode编码表单</th>
                                 <th align="left" valign="bottom" width="34%" id="d56049e1188">Unicode版本</th>
                                 <th align="left" valign="bottom" width="11%" id="d56049e1191">数据库字符集</th>
                                 <th align="left" valign="bottom" width="11%" id="d56049e1194">国家字符集</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d56049e1199" headers="d56049e1179 ">
                                    <p>AL24UTFFSS</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1199 d56049e1182 ">
                                    <p>7.2至8 <span class="italic">i</span></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1199 d56049e1185 ">
                                    <p>UTF-8</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d56049e1199 d56049e1188 ">
                                    <p>1.1</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1199 d56049e1191 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1199 d56049e1194 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d56049e1220" headers="d56049e1179 ">
                                    <p>UTF8</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1220 d56049e1182 ">
                                    <p>8.0至12 <span class="italic">c</span></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1220 d56049e1185 ">
                                    <p>CESU-8</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d56049e1220 d56049e1188 ">
                                    <p>Oracle数据库版本8.0通过在Oracle8 <span class="italic">我</span> 8.1.6版：2.1</p>
                                    <p>Oracle8 <span class="italic">i</span>数据库版本8.1.7及更高版本：3.0</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1220 d56049e1191 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1220 d56049e1194 ">
                                    <p>是</p>
                                    <p>（仅限Oracle9 <span class="italic">i</span>数据库及更高版本）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d56049e1254" headers="d56049e1179 ">
                                    <p>UTFE</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1254 d56049e1182 ">
                                    <p>8.0至12 <span class="italic">c</span></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1254 d56049e1185 ">
                                    <p>UTF-EBCDIC</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d56049e1254 d56049e1188 ">
                                    <p>Oracle8 <span class="italic">i</span>数据库版本8.0到8.1.6：2.1</p>
                                    <p>对于Oracle8 <span class="italic">i</span> Database 8.1.7及更高版本：3.0</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1254 d56049e1191 ">
                                    <p>是<a id="fn_1" name="fn_1" href="#fn_1" utf-ebcdic="" is="" a="" compatibility="" encoding="" form="" specific="" to="" ebcdic-based="" systems,="" such="" as="" ibm="" z="" /os="" or="" fujitsu="" bs2000.="" it="" described="" in="" the="" unicode="" technical="" report="" #16.="" oracle="" character="" set="" utfe="" partial="" implementation="" of="" form,="" supported="" on="" ecbdic-based="" platforms="" only.="" database="" does="" not="" support="" five-byte="" sequences="" this="" limiting="" point="" range="" u+000="" -="" u+3ffff.="" use="" discouraged=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1254 d56049e1194 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d56049e1285" headers="d56049e1179 ">
                                    <p>AL32UTF8</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1285 d56049e1182 ">
                                    <p>9 <span class="italic">我</span>到18岁</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1285 d56049e1185 ">
                                    <p>UTF-8</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d56049e1285 d56049e1188 ">
                                    <p>Oracle9 <span class="italic">i</span>数据库版本1：3.0</p>
                                    <p>Oracle9 <span class="italic">i</span>数据库版本2：3.1</p>
                                    <p>Oracle数据库<span class="italic">10g</span> ，版本1：3.2</p>
                                    <p>Oracle数据库<span class="italic">10g</span> ，版本2：4.0</p>
                                    <p>Oracle Database <span class="italic">11g</span> ：5.0</p>
                                    <p>Oracle Database 12 <span class="italic">c</span> ，版本1：6.2</p>
                                    <p>Oracle Database 12 <span class="italic">c</span> ，发行版2：7.0</p>
                                    <p>Oracle数据库18，版本1：9.0</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1285 d56049e1191 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1285 d56049e1194 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d56049e1342" headers="d56049e1179 ">
                                    <p>AL16UTF16</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1342 d56049e1182 ">
                                    <p>9 <span class="italic">我</span>到18岁</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d56049e1342 d56049e1185 ">
                                    <p>UTF-16</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d56049e1342 d56049e1188 ">
                                    <p>Oracle9 <span class="italic">i</span>数据库版本1：3.0</p>
                                    <p>Oracle9 <span class="italic">i</span>数据库版本2：3.1</p>
                                    <p>Oracle数据库<span class="italic">10g</span> ，版本1：3.2</p>
                                    <p>Oracle数据库<span class="italic">10g</span> ，版本2：4.0</p>
                                    <p>Oracle Database <span class="italic">11g</span> ：5.0</p>
                                    <p>Oracle Database 12 <span class="italic">c</span> ，版本1：6.2</p>
                                    <p>Oracle Database 12 <span class="italic">c</span> ，发行版2：7.0</p>
                                    <p>Oracle数据库18，版本1：9.0</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1342 d56049e1191 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d56049e1342 d56049e1194 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup> UTF-EBCDIC是特定于基于EBCDIC的系统的兼容性编码形式，例如IBM z / OS或Fujitsu BS2000。它在Unicode技术报告＃16中有所描述。Oracle字符集UTFE是UTF-EBCDIC编码格式的部分实现，仅在基于ECBDIC的平台上受支持。Oracle数据库不支持此编码形式的五字节序列，将支持的代码点范围限制为U + 000  -  U + 3FFFF。不鼓励使用UTFE字符集。
                     </p>
                  </div>
               </div>
            </div><a id="NLSPG316"></a><div class="props_rev_3"><a id="GUID-3676A834-54C1-46C6-8349-40524E195377" name="GUID-3676A834-54C1-46C6-8349-40524E195377"></a><h3 id="NLSPG-GUID-3676A834-54C1-46C6-8349-40524E195377" class="sect3"><span class="enumeration_section">6.3</span>在数据库中实现Unicode解决方案</h3>
               <div>
                  <p>Unicode字符可以通过两种方式存储在Oracle数据库中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以创建一个数据库，使您可以将UTF-8编码的字符存储为SQL <code class="codeph">CHAR</code>数据类型（ <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code>和<code class="codeph">LONG)</code> 。
                        </p>
                     </li>
                     <li>
                        <p>您可以在SQL <code class="codeph">NCHAR</code>数据类型（ <code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR2</code>和<code class="codeph">NCLOB</code> ）中以UTF-16或CESU-8编码格式存储Unicode数据。SQL <code class="codeph">NCHAR</code>数据类型称为Unicode数据类型，因为它们仅用于存储Unicode数据。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-3676A834-54C1-46C6-8349-40524E195377__GUID-80DD35C7-A603-421F-83D8-2B77AE157BE0">
                     <p class="notep1">注意：</p>
                     <p>如果在单个数据库中运行的不同应用程序需要，您可以组合使用两种Unicode解决方案。</p>
                  </div>
                  <p>以下部分介绍了如何使用这两种Unicode解决方案以及如何在它们之间进行选择：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-EB57AB68-A390-4814-81DD-6B78D33310CC">为数据库启用多语言支持</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-95787DA3-08D4-41A7-9418-2A36C602014E">使用Unicode数据类型启用多语言支持</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-2DF950F1-47EB-4B82-A58E-762714C7FB7D">如何在Unicode解决方案之间进行选择</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG789"></a><a id="NLSPG317"></a><div class="props_rev_3"><a id="GUID-EB57AB68-A390-4814-81DD-6B78D33310CC" name="GUID-EB57AB68-A390-4814-81DD-6B78D33310CC"></a><h4 id="NLSPG-GUID-EB57AB68-A390-4814-81DD-6B78D33310CC" class="sect4"><span class="enumeration_section">6.3.1</span>为数据库启用多语言支持</h4>
                  <div>
                     <p>数据库字符集指定要在SQL <code class="codeph">CHAR</code>数据类型中使用的编码以及表名，列名和SQL语句等元数据。<span class="bold">启用Unicode标准的数据库</span>是具有符合Unicode标准的字符集作为数据库字符集的数据库。有两个实现Unicode标准的数据库Oracle字符集。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>AL32UTF8</p>
                           <p>AL32UTF8 <a id="d56049e1619" class="indexterm-anchor"></a>字符集实现UTF-8编码格式，并支持最新版本的Unicode标准。它以一个，两个，三个或四个字节对字符进行编码。补充字符需要四个字节。它适用于基于ASCII的平台。
                           </p>
                           <p>AL32UTF8是Oracle数据库任何新部署的推荐数据库字符集，因为它为多语言应用程序提供了最佳支持，例如Internet网站和跨国公司的应用程序。</p>
                        </li>
                        <li>
                           <p>UTF8</p>
                           <p>该<a id="d56049e1629" class="indexterm-anchor"></a> UTF8字符集实现CESU-8编码格式，并以一个，两个或三个字节对字符进行编码。它适用于基于ASCII的平台。
                           </p>
                           <p>插入UTF8数据库的补充字符以CESU-8编码形式存储。每个字符由两个三字节代码表示，因此总共占用六个字节的存储器。</p>
                           <p>UTF8字符集中的字符属性不保证更新超出Unicode标准版本3.0。</p>
                           <p>Oracle建议您切换到AL32UTF8以完全支持增补字符和最新版本的Unicode标准。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-EB57AB68-A390-4814-81DD-6B78D33310CC__GUID-8619B281-DC19-412C-BB88-1405A05D6B9B">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建数据库时指定数据库字符集。Oracle建议使用AL32UTF8作为数据库字符集。AL32UTF8是Unicode编码UTF-8的正确实现。从Oracle Database 12c第2版开始，AL32UTF8在使用Oracle Universal Installer（OUI）和Oracle Database Configuration Assistant（DBCA）创建数据库时用作默认数据库字符集。</p>
                           </li>
                           <li>
                              <p>不要使用UTF8作为数据库字符集，因为它不是Unicode编码UTF-8的正确实现。如果在预期使用UTF-8处理的情况下使用UTF8字符集，则可能会发生数据丢失和安全问题。对于Web相关数据（例如XML和URL地址）尤其如此。</p>
                           </li>
                           <li>
                              <p>AL32UTF8和UTF8字符集彼此不兼容，因为它们具有不同的最大字符宽度。AL32UTF8的最大字符宽度为4个字节，而UTF8的最大字符宽度为3个字节。</p>
                           </li>
                           <li>
                              <p>如果未明确在<code class="codeph">CREATE DATABASE</code>语句中指定<code class="codeph">CHARACTER SET</code>子句，则数据库字符集默认为US7ASCII（EBCDIC平台除外）。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="example" id="GUID-EB57AB68-A390-4814-81DD-6B78D33310CC__GUID-1A04F927-4C29-4D57-8BFC-F8F425183E72">
                        <p class="titleinexample">示例6-1使用Unicode字符集创建数据库</p>
                        <p>至<a id="d56049e1663" class="indexterm-anchor"></a>使用AL32UTF8字符集<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> ，使用<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句并包含<code class="codeph">CHARACTER SET AL32UTF8</code>子句。例如：</p><pre class="oac_no_warn" dir="ltr">创建数据库样本</pre><pre class="oac_no_warn" dir="ltr">CONTROLFILE REUSE LOGFILE</pre><pre class="oac_no_warn" dir="ltr">第1组（'diskx：log1.log'，'disky：log1.log'）SIZE 50K，GROUP 2（'diskx：log2.log'，'disky：log2.log'）SIZE 50K</pre><pre class="oac_no_warn" dir="ltr">MAXLOGFILES 5 MAXLOGHISTORY 100 MAXDATAFILES 10 MAXINSTANCES 2 ARCHIVELOG CHARACTER SET AL32UTF8国家字符集AL16UTF16数据文件</pre><pre class="oac_no_warn" dir="ltr">'disk1：df1.dbf'AUTOEXTEND ON，'disk2：df2.dbf'AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED</pre><pre class="oac_no_warn" dir="ltr">DEFAULT TEMPORARY TABLESPACE temp_ts UNDO TABLESPACE undo_ts SET TIME_ZONE ='+ 00：00';</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="NLSPG790"></a><a id="NLSPG318"></a><div class="props_rev_3"><a id="GUID-95787DA3-08D4-41A7-9418-2A36C602014E" name="GUID-95787DA3-08D4-41A7-9418-2A36C602014E"></a><h4 id="NLSPG-GUID-95787DA3-08D4-41A7-9418-2A36C602014E" class="sect4"><span class="enumeration_section">6.3.2</span>使用Unicode数据类型启用多语言支持</h4>
                  <div>
                     <p>将Unicode数据存储在数据库中的替代方法是使用SQL <code class="codeph">NCHAR</code>数据类型（ <code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR2</code> ， <code class="codeph">NCLOB</code> ）。无论数据库字符集的定义方式如何，都可以将Unicode字符存储在这些数据类型的列中。<code class="codeph">NCHAR</code>数据类型<code class="codeph">NCHAR</code> Unicode数据类型，这意味着它存储以Unicode编码形式编码的数据。
                     </p>
                     <p>Oracle建议在AL32UTF8数据库中使用SQL <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code>和<code class="codeph">CLOB</code>数据类型来存储Unicode字符数据。某些数据库功能不支持SQL <code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR2</code>和<code class="codeph">NCLOB</code>数据类型。最值得注意的是，Oracle Text和XML DB不支持这些数据类型。
                     </p>
                     <p>您可以使用<code class="codeph">NVARCHAR2</code>和<code class="codeph">NCHAR</code>数据类型创建表。为<code class="codeph">NCHAR</code>和<code class="codeph">NVARCHAR2</code>列指定的列长度始终等于字符数而不是字节数：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE product_information（product_id NUMBER（6），product_name NVARCHAR2（100），product_description VARCHAR2（1000））;</pre><p>SQL <code class="codeph">NCHAR</code>数据类型中使用的编码是<a id="d56049e1825" class="indexterm-anchor"></a><a id="d56049e1827" class="indexterm-anchor"></a>为数据库指定的国家字符集。您可以将以下Oracle字符集之一指定为国家字符集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>AL16UTF16</p>
                           <p>这是默认字符集，建议用于SQL <code class="codeph">NCHAR</code>数据类型。此字符集以UTF-16编码形式对Unicode数据进行编码。它支持补充字符，存储为四个字节。
                           </p>
                        </li>
                        <li>
                           <p>UTF8</p>
                           <p>为SQL <code class="codeph">NCHAR</code>数据类型指定UTF8时，存储在SQL数据类型中的数据采用CESU-8编码格式。不推荐使用UTF8字符集。
                           </p>
                        </li>
                     </ul>
                     <p>使用带有<code class="codeph">NATIONAL CHARACTER SET</code>子句的<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句创建数据库时，可以为SQL <code class="codeph">NCHAR</code>数据类型指定国家字符集。以下语句创建一个数据库，其中WE8ISO8859P1作为数据库字符集，AL16UTF16作为国家字符集。
                     </p>
                     <div class="example" id="GUID-95787DA3-08D4-41A7-9418-2A36C602014E__GUID-6DEC7F13-68A6-4F71-A777-C40946E122A3">
                        <p class="titleinexample">示例6-2使用国家字符集创建数据库</p><pre class="oac_no_warn" dir="ltr">创建数据库样本</pre><pre class="oac_no_warn" dir="ltr">CONTROLFILE REUSE LOGFILE</pre><pre class="oac_no_warn" dir="ltr">第1组（'diskx：log1.log'，'disky：log1.log'）SIZE 50K，GROUP 2（'diskx：log2.log'，'disky：log2.log'）SIZE 50K</pre><pre class="oac_no_warn" dir="ltr">MAXLOGFILES 5 MAXLOGHISTORY 100 MAXDATAFILES 10 MAXINSTANCES 2 ARCHIVELOG CHARACTER SET WE8ISO8859P1国家字符集AL16UTF16数据文件</pre><pre class="oac_no_warn" dir="ltr">'disk1：df1.dbf'AUTOEXTEND ON，'disk2：df2.dbf'AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED</pre><pre class="oac_no_warn" dir="ltr">DEFAULT TEMPORARY TABLESPACE temp_ts UNDO TABLESPACE undo_ts SET TIME_ZONE ='+ 00：00';</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="NLSPG319"></a><div class="props_rev_3"><a id="GUID-2DF950F1-47EB-4B82-A58E-762714C7FB7D" name="GUID-2DF950F1-47EB-4B82-A58E-762714C7FB7D"></a><h4 id="NLSPG-GUID-2DF950F1-47EB-4B82-A58E-762714C7FB7D" class="sect4"><span class="enumeration_section">6.3.3</span>如何在Unicode解决方案之间进行选择</h4>
                  <div>
                     <p>Oracle建议您在数据库字符集AL32UTF8中部署所有新的Oracle数据库，并使用SQL <code class="codeph">VARCHAR2</code> ， <code class="codeph">CHAR</code>和<code class="codeph">CLOB</code>数据类型来存储字符数据。仅在以下情况下才应考虑SQL <code class="codeph">NVARCHAR2</code> ， <code class="codeph">NCHAR</code>和<code class="codeph">NCLOB</code>数据类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您有一个具有非Unicode数据库字符集和遗留应用程序的现有数据库，迁移到Unicode的业务成本将是不可接受的，您需要在应用程序的一小部分或在应用程序中添加对多语言数据的支持。一个小的新模块，单独的数据库没有多大意义，或者</p>
                        </li>
                        <li>
                           <p>您需要创建一个必须支持多语言数据的应用程序，该应用程序必须可以安装在客户部署的任何Oracle数据库中。</p>
                        </li>
                     </ul>
                     <p>对于启用Unicode标准的数据库中的数据库字符集，请始终选择AL32UTF8。对于国家字符集，请选择AL16UTF16。如果考虑选择不推荐使用的UTF8，因为英文字符数据的存储要求较低，请首先考虑其他选项，例如数据压缩或增加磁盘存储。如果数据库中积累了大量数据，以后迁移到AL16UTF16可能会很昂贵。</p>
                     <div class="infoboxnote" id="GUID-2DF950F1-47EB-4B82-A58E-762714C7FB7D__GUID-80D7B72A-43F0-45B5-A3C8-E8F2A128A5B3">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle建议使用AL32UTF8作为数据库字符集。AL32UTF8是Unicode编码UTF-8的正确实现。从Oracle Database 12c第2版开始，AL32UTF8在使用Oracle Universal Installer（OUI）和Oracle Database Configuration Assistant（DBCA）创建数据库时用作默认数据库字符集。</p>
                           </li>
                           <li>
                              <p>不要使用UTF8作为数据库字符集，因为它不是Unicode编码UTF-8的正确实现。如果在预期使用UTF-8处理的情况下使用UTF8字符集，则可能会发生数据丢失和安全问题。对于Web相关数据（例如XML和URL地址）尤其如此。</p>
                           </li>
                           <li>
                              <p>AL32UTF8和UTF8字符集彼此不兼容，因为它们具有不同的最大字符宽度。AL32UTF8的最大字符宽度为4个字节，而UTF8的最大字符宽度为3个字节。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="NLSPG795"></a><a id="NLSPG796"></a><a id="NLSPG323"></a><div class="props_rev_3"><a id="GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3" name="GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3"></a><h3 id="NLSPG-GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3" class="sect3"><span class="enumeration_section">6.4</span> Unicode案例研究</h3>
               <div>
                  <p>本节介绍在Oracle数据库中存储Unicode字符的典型方案：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3__SCENARIO1UNICODESOLUTIONWITHAUNICOD-514BE9ED">场景1：具有Unicode标准启用数据库的Unicode解决方案</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3__SCENARIO2UNICODESOLUTIONWITHUNICODE-514BEC54">场景2：Unicode数据类型的Unicode解决方案</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3__SCENARIO1UNICODESOLUTIONWITHAUNICOD-514BE9ED">
                     <p class="subhead2" id="GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3__GUID-56BA4345-C4DD-4C69-8D17-77B7136EC97D">场景1：具有Unicode标准启用数据库的Unicode解决方案</p>
                     <p>一个美国人<a id="d56049e2082" class="indexterm-anchor"></a>运行Java应用程序的公司希望在下一版本的应用程序中添加德语和法语支持。他们想在以后添加日语支持。该公司目前有以下系统配置：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>现有数据库具有US7ASCII的数据库字符集。</p>
                        </li>
                        <li>
                           <p>现有数据库中的所有字符数据都由ASCII字符组成。</p>
                        </li>
                        <li>
                           <p>PL / SQL存储过程在数据库中使用。</p>
                        </li>
                        <li>
                           <p>数据库大约为300 GB， <code class="codeph">CLOB</code>列中存储的数据非常少。
                           </p>
                        </li>
                        <li>
                           <p>每晚的停机时间为4小时。</p>
                        </li>
                     </ul>
                     <p>在这种情况下，典型的解决方案是为数据库字符集选择AL32UTF8，原因如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库非常大，计划的停机时间很短。将数据库快速迁移到Unicode字符集至关重要。由于数据库位于US7ASCII中，因此使数据库支持Unicode标准的最简单，最快捷的方法是使用Database Migration Assistant for Unicode（DMU）将数据库字符集切换为AL32UTF8。<code class="codeph">CLOB</code>以外的列不需要数据转换，因为US7ASCII是AL32UTF8的子集。
                           </p>
                        </li>
                        <li>
                           <p>由于大多数代码都是用Java和PL / SQL编写的，因此将数据库字符集更改为AL32UTF8不太可能破坏现有代码。应用程序中会自动启用Unicode支持。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3__SCENARIO2UNICODESOLUTIONWITHUNICODE-514BEC54">
                     <p class="subhead2" id="GUID-007A0077-DEBA-475D-A1A1-10DD83DE46C3__GUID-774F25B1-D39C-40EE-961F-8BCB2F381F64">场景2：Unicode数据类型的Unicode解决方案</p>
                     <p>欧洲人<a id="d56049e2123" class="indexterm-anchor"></a>主要在Windows平台上运行其遗留应用程序的公司希望添加一个用Visual C / C ++编写的新的小型Windows应用程序。新应用程序将使用现有数据库来支持日语和中文客户名称。该公司目前有以下系统配置：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>现有数据库的数据库字符集为WE8MSWIN1252。</p>
                        </li>
                        <li>
                           <p>现有数据库中的所有字符数据均由西欧字符组成。</p>
                        </li>
                        <li>
                           <p>数据库大约500 GB，有很多<code class="codeph">CLOB</code>列。
                           </p>
                        </li>
                        <li>
                           <p>新应用程序不需要支持全文搜索和XML存储</p>
                        </li>
                     </ul>
                     <p>典型的解决方案是采取以下措施：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">NCHAR</code>和<code class="codeph">NVARCHAR2</code>数据类型来存储Unicode字符</p>
                        </li>
                        <li>
                           <p>将WE8MSWIN1252保留为数据库字符集</p>
                        </li>
                        <li>
                           <p>使用AL16UTF16作为国家字符集</p>
                        </li>
                     </ul>
                     <p>解决方案的原因是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将现有数据库迁移到Unicode数据库需要数据转换，因为数据库字符集是WE8MSWIN1252（Windows Latin-1字符集），它不是AL32UTF8的子集。此外，许多数据存储在<code class="codeph">CLOB</code>列中。当从单字节数据库字符集（例如US7ASCII或WE8MSWIN1252）迁移到AL32UTF8时，必须转换数据库中的所有<code class="codeph">CLOB</code>值，即使它们仅包含ASCII字符。因此，将数据转换为AL32UTF8会产生大量开销。
                           </p>
                        </li>
                        <li>
                           <p>仅在新应用程序中支持其他语言。它不依赖于现有的应用程序或模式。在新模式中使用Unicode数据类型并保持现有模式不变更为简单。</p>
                        </li>
                        <li>
                           <p>只有客户名称列需要Unicode字符集支持。使用单个<code class="codeph">NCHAR</code>列可满足客户的要求，而无需迁移整个数据库。
                           </p>
                        </li>
                        <li>
                           <p>新应用程序不需要不支持SQL <code class="codeph">NCHAR</code>数据类型的数据库功能。
                           </p>
                        </li>
                        <li>
                           <p>SQL <code class="codeph">NCHAR</code>数据类型的长度定义为字符数。这与在Windows C / C ++程序中使用<code class="codeph">wchar_t</code>字符串时的处理方式相同。这降低了编程复杂性。
                           </p>
                        </li>
                        <li>
                           <p>使用现有模式的现有应用程序不受影响。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="NLSPG324"></a><div class="props_rev_3"><a id="GUID-8426FD32-DBE4-49F3-B67C-2388122DD524" name="GUID-8426FD32-DBE4-49F3-B67C-2388122DD524"></a><h3 id="NLSPG-GUID-8426FD32-DBE4-49F3-B67C-2388122DD524" class="sect3"><span class="enumeration_section">6.5</span>设计数据库模式以支持多种语言</h3>
               <div>
                  <p>此外<a id="d56049e2275" class="indexterm-anchor"></a><a id="d56049e2279" class="indexterm-anchor"></a>选择Unicode解决方案时，如果数据库架构设计为支持多种语言，则应考虑以下问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-6B549B3B-90DE-478B-A183-553D1A018996">指定多语言数据的列长度</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-C72E6288-D724-428F-847D-995FCF2D9F59">以多种语言存储数据</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-68A4CB7B-2359-4E1A-B966-EAD9823FD00D">在LOB数据类型中以多种语言存储文档</a></p>
                     </li>
                     <li>
                        <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-9E4134BD-B88C-4868-8DFC-86B50948FABF">创建用于搜索多语言文档内容的索引</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG1025"></a><a id="NLSPG325"></a><div class="props_rev_3"><a id="GUID-6B549B3B-90DE-478B-A183-553D1A018996" name="GUID-6B549B3B-90DE-478B-A183-553D1A018996"></a><h4 id="NLSPG-GUID-6B549B3B-90DE-478B-A183-553D1A018996" class="sect4"><span class="enumeration_section">6.5.1</span>指定多语言数据的列长度</h4>
                  <div>
                     <p>使用<code class="codeph">NCHAR</code>和<code class="codeph">NVARCHAR2</code>数据类型存储多语言数据时，为列指定的列大小以字符数定义。（此字符数表示编码的Unicode代码点的数量，但通过代理项对表示的补充Unicode字符计为两个字符。）
                     </p>
                     <p>下表显示了AL16UTF16和UTF8国家字符集的<code class="codeph">NCHAR</code>和<code class="codeph">NVARCHAR2</code>数据类型的最大大小。
                     </p>
                     <div class="tblformalwide" id="GUID-6B549B3B-90DE-478B-A183-553D1A018996__CIAGFJGJ">
                        <p class="titleintable">表6-2 AL16UTF16和UTF8国家字符集的最大数据类型大小</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="AL16UTF16和UTF8国家字符集的最大数据类型大小" width="100%" border="1" summary="This table is described in the preceding text." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d56049e2412">国家字符集</th>
                                 <th align="left" valign="bottom" id="d56049e2415">NCHAR数据类型的最大列大小</th>
                                 <th align="left" valign="bottom" id="d56049e2418">NVARCHAR2数据类型的最大列大小（当MAX_STRING_SIZE = STANDARD时）</th>
                                 <th align="left" valign="bottom" id="d56049e2421">NVARCHAR2数据类型的最大列大小（当MAX_STRING_SIZE = EXTENDED时）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d56049e2426" headers="d56049e2412 ">
                                    <p>AL16UTF16</p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2426 d56049e2415 ">
                                    <p>1000个字符</p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2426 d56049e2418 ">
                                    <p>2000个字符</p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2426 d56049e2421 ">
                                    <p>16383个字符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d56049e2439" headers="d56049e2412 ">
                                    <p>UTF8</p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2439 d56049e2415 ">
                                    <p>2000个字符</p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2439 d56049e2418 ">
                                    <p>4000个字符</p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2439 d56049e2421 ">
                                    <p>32767个字符</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>这个字符的最大大小是一个约束，不保证数据类型的容量。最大容量以字节表示。</p>
                     <p>对于<code class="codeph">NCHAR</code>数据类型，最大容量为2000字节。对于<code class="codeph">NVARCHAR2</code> ，如果初始化参数<code class="codeph">MAX_STRING_SIZE</code>设置为<code class="codeph">STANDARD</code> ，则为4000字节;如果初始化参数<code class="codeph">MAX_STRING_SIZE</code>设置为<code class="codeph">EXTENDED</code> ，则为32767字节</p>
                     <p>当国家字符集是AL16UTF16时，最大字符数永远不会占用比最大容量更多的字节，因为每个字符（在Oracle意义上）只占用2个字节。但是，如果国家字符集是UTF8，则只有当所有这些字符都来自Unicode Basic Latin范围（对应于ASCII标准）时，才能存储最大字符数。</p>
                     <p>其他Unicode字符在UTF8中各占一个字节，并且4000字符串中存在此类字符会使字符串长于最大4000字节。如果希望国家字符集列能够保存任何国家字符集中声明的字符数，请不要声明长度超过2000/3 = 666个字符的<code class="codeph">NCHAR</code>列和长度超过4000/3 = 1333或32767/3的<code class="codeph">NVARCHAR2</code>列= 10922个字符，具体取决于<code class="codeph">MAX_STRING_SIZE</code>初始化参数。
                     </p>
                     <p>使用<code class="codeph">CHAR</code>和<code class="codeph">VARCHAR2</code>数据类型存储多语言数据时，默认情况下，为每列指定的最大长度为字节数。如果数据库需要支持泰语，阿拉伯语或多字节语言（如中文和日语），则可能需要扩展<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code>和<code class="codeph">VARCHAR2</code>列的最大长度。这是因为在UTF8或AL32UTF8中编码这些语言所需的字节数可能远远大于编码英语和西欧语言的字节数。例如，泰语字符集中的一个泰语字符需要UTF8或AL32UTF8中的3个字节。如果应用程序设计人员需要存储大于4000字节的数据，则应考虑使用扩展字符数据类型或<code class="codeph">CLOB</code>数据类型。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6B549B3B-90DE-478B-A183-553D1A018996__GUID-8B00B532-5F85-4322-8AD2-DF88A17F4F29">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sqlrf/Data-Types.html#SQLRF55623" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关通过将<code class="codeph">MAX_STRING_SIZE</code>设置为<code class="codeph">EXTENDED</code>值来<code class="codeph">EXTENDED</code>字符数据类型的更多信息，请参阅<a href="../refrn/MAX_STRING_SIZE.html#REFRN10321" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="NLSPG327"></a><a id="NLSPG328"></a><a id="NLSPG326"></a><div class="props_rev_3"><a id="GUID-C72E6288-D724-428F-847D-995FCF2D9F59" name="GUID-C72E6288-D724-428F-847D-995FCF2D9F59"></a><h4 id="NLSPG-GUID-C72E6288-D724-428F-847D-995FCF2D9F59" class="sect4"><span class="enumeration_section">6.5.2</span>以多种语言存储数据</h4>
                  <div>
                     <p>Unicode字符集包括世界上大多数书面语言的字符，但它不包含有关给定字符所属语言的信息。换句话说， <code class="codeph">ä</code>等字符不包含有关瑞典语或德语字符的信息。为了以用户期望的语言提供信息，存储在Unicode数据库中的数据应该用数据所属的语言信息来标记。
                     </p>
                     <p>数据库模式有许多方法可以将数据与语言相关联。以下部分讨论了实现此目标的示例步骤。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C72E6288-D724-428F-847D-995FCF2D9F59__GUID-B01CF9EE-90EE-4EF8-BD22-EC89DDFB1724">使用数据存储语言信息</p>
                        <p>对于产品描述或产品名称等数据，可以将<code class="codeph">CHAR</code>或<code class="codeph">VARCHAR2</code>数据类型的语言列（ <code class="codeph">language_id</code> ）添加到产品表中，以标识相应产品信息的语言。这使应用程序能够以所需语言检索信息。此语言列的可能值是数据库的有效<code class="codeph">NLS_LANGUAGE</code>值的3个字母缩写。
                        </p>
                        <div class="infoboxnotealso" id="GUID-C72E6288-D724-428F-847D-995FCF2D9F59__GUID-2B552290-BD42-4135-BDCC-690B6B4D0778">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="appendix-A-locale-data.html#GUID-A9E30C27-FD47-4552-B670-F41A95B11405">区域设置数据</a> ，列出<code class="codeph">NLS_LANGUAGE</code>值及其缩写</p>
                        </div>
                        <p>您还可以创建视图以选择当前语言的数据。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE scott.product_information ADD（language_id VARCHAR2（50））：CREATE OR REPLACE VIEW product AS SELECT product_id，product_name FROM product_information WHERE language_id = SYS_CONTEXT（'USERENV'，'LANG'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C72E6288-D724-428F-847D-995FCF2D9F59__GUID-50774CE6-C789-4B0F-94CC-7CD387FED855">使用细粒度访问控制选择翻译数据</p>
                        <p>细粒度访问控制使您可以限制用户在表或视图中查看信息的程度。通常，这是通过附加<code class="codeph">WHERE</code>子句来完成的。将<code class="codeph">WHERE</code>子句作为细粒度访问策略添加到表或视图时，Oracle会在运行时自动将<code class="codeph">WHERE</code>子句附加到表上的任何SQL语句，以便只能访问满足<code class="codeph">WHERE</code>子句的那些行。
                        </p>
                        <p>您可以使用此功能来避免在应用程序的每个<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中指定用户所需的语言。以下<code class="codeph">WHERE</code>子句将表的视图限制为与用户所需语言对应的行：</p><pre class="oac_no_warn" dir="ltr">WHERE language_id = SYS_CONTEXT（'userenv'，'LANG'）</pre><p>将此<code class="codeph">WHERE</code>子句指定为<code class="codeph">product_information</code>的细粒度访问策略，如下所示：</p><pre class="oac_no_warn" dir="ltr">CREATE FUNCTION func1（sch VARCHAR2，obj VARCHAR2）RETURN VARCHAR2（100）; BEGIN RETURN'speed_id = SYS_CONTEXT（''userenv''，''LANG''）'; END / DBMS_RLS.ADD_POLICY（'scott'，'product_information'，'lang_policy'，'scott'，'func1'，'select'）;</pre><p>然后， <code class="codeph">product_information</code>表上的任何<code class="codeph">SELECT</code>语句都会自动附加<code class="codeph">WHERE</code>子句。
                        </p>
                        <div class="infoboxnotealso" id="GUID-C72E6288-D724-428F-847D-995FCF2D9F59__GUID-6CFFC133-DB4B-44AB-A888-95B27546CE40">
                           <p class="notep1">也可以看看：</p>
                           <p>有关细粒度访问控制的详细信息，请参见<a href="../adfns/security.html#ADFNS523" target="_blank"><span class="italic">“Oracle数据库开发指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="NLSPG799"></a><a id="NLSPG329"></a><div class="props_rev_3"><a id="GUID-68A4CB7B-2359-4E1A-B966-EAD9823FD00D" name="GUID-68A4CB7B-2359-4E1A-B966-EAD9823FD00D"></a><h4 id="NLSPG-GUID-68A4CB7B-2359-4E1A-B966-EAD9823FD00D" class="sect4"><span class="enumeration_section">6.5.3</span>在LOB数据类型中以多种语言存储文档</h4>
                  <div>
                     <p>您可以将文档以多种语言存储在<code class="codeph">CLOB</code> ， <code class="codeph">NCLOB</code>或<code class="codeph">BLOB</code>数据类型中，并设置Oracle Text以启用文档的内容搜索。
                     </p>
                     <p>当数据库字符集是多字节时， <code class="codeph">CLOB</code>列中的数据存储在AL16UTF16字符集中，例如UTF8或AL32UTF8。这意味着转换数据时，英文文档所需的存储空间会翻倍。<code class="codeph">CLOB</code>列中的亚洲语言文档的存储所需的存储空间比使用AL32UTF8的<code class="codeph">LONG</code>列中的相同文档少，通常减少约30％，具体取决于文档的内容。
                     </p>
                     <p>无论数据库字符集还是国家字符集， <code class="codeph">NCLOB</code>格式的文档也存储在AL16UTF16字符集中。存储空间要求与<code class="codeph">CLOB</code>数据相同。将文档内容插入<code class="codeph">NCLOB</code>列时，文档内容将转换为UTF-16。如果要将多语言文档存储在非Unicode数据库中，请选择<code class="codeph">NCLOB</code> 。但是，不支持使用Oracle Text对<code class="codeph">NCLOB</code>进行内容搜索。
                     </p>
                     <p><code class="codeph">BLOB</code>格式的文档按原样存储。插入和检索期间不会发生数据转换。但是，SQL字符串操作函数（如<code class="codeph">LENGTH</code>或<code class="codeph">SUBSTR</code> ）和排序规则函数（如<code class="codeph">NLS_SORT</code>和<code class="codeph">ORDER BY</code> ）不能应用于<code class="codeph">BLOB</code>数据类型。
                     </p>
                     <p>下表列出了存储文档时<code class="codeph">CLOB</code> ， <code class="codeph">NCLOB</code>和<code class="codeph">BLOB</code>数据类型的优缺点：</p>
                     <div class="tblformalwide" id="GUID-68A4CB7B-2359-4E1A-B966-EAD9823FD00D__G1008321">
                        <p class="titleintable">表6-3文档存储的LOB数据类型比较</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="文档存储的LOB数据类型比较" width="100%" border="1" summary="This table is described in the preceding text." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d56049e2868">数据类型</th>
                                 <th align="left" valign="bottom" id="d56049e2871">好处</th>
                                 <th align="left" valign="bottom" id="d56049e2874">缺点</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d56049e2879" headers="d56049e2868 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2879 d56049e2871 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>Oracle Text的内容搜索支持</p>
                                       </li>
                                       <li>
                                          <p>字符串操作支持</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2879 d56049e2874 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>取决于数据库字符集</p>
                                       </li>
                                       <li>
                                          <p>插入需要数据转换</p>
                                       </li>
                                       <li>
                                          <p>无法存储二进制文件</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d56049e2903" headers="d56049e2868 ">
                                    <p><code class="codeph">NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2903 d56049e2871 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>独立于数据库字符集</p>
                                       </li>
                                       <li>
                                          <p>字符串操作支持</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2903 d56049e2874 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>没有内容搜索支持</p>
                                       </li>
                                       <li>
                                          <p>插入需要数据转换</p>
                                       </li>
                                       <li>
                                          <p>无法存储二进制文件</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d56049e2927" headers="d56049e2868 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2927 d56049e2871 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>独立于数据库字符集</p>
                                       </li>
                                       <li>
                                          <p>内容搜索支持</p>
                                       </li>
                                       <li>
                                          <p>没有数据转换，数据存储为</p>
                                       </li>
                                       <li>
                                          <p>可以存储二进制文档，例如Microsoft Word或Microsoft Excel</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" headers="d56049e2927 d56049e2874 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>没有字符串操作支持</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="NLSPG330"></a><div class="props_rev_3"><a id="GUID-9E4134BD-B88C-4868-8DFC-86B50948FABF" name="GUID-9E4134BD-B88C-4868-8DFC-86B50948FABF"></a><h4 id="NLSPG-GUID-9E4134BD-B88C-4868-8DFC-86B50948FABF" class="sect4"><span class="enumeration_section">6.5.4</span>创建搜索多语言文档内容的索引</h4>
                  <div>
                     <p>Oracle Text使您能够为以<code class="codeph">CLOB</code>格式和<code class="codeph">BLOB</code>格式存储的多语言文档构建内容搜索索引。它使用特定于语言的词法分析器来解析<code class="codeph">CLOB</code>或<code class="codeph">BLOB</code>数据，并生成可搜索关键字列表。
                     </p>
                     <p>创建一个多功能阅读器来搜索多语言文档。多路复用器根据语言列为每行选择特定于语言的词法分析器。本节介绍为多种语言的文档创建索引的高级步骤。它包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-8B8F4067-065D-4D7E-B9DC-4F313B320442">创建多路复用器</a></p>
                        </li>
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-C114A44C-5268-492D-B448-3A4B7075F8C1">为CLOB数据类型中存储的文档创建索引</a></p>
                        </li>
                        <li>
                           <p><a href="supporting-multilingual-databases-with-unicode.html#GUID-DCD82CE9-D4EE-4727-A1A9-C7D2B69C4784">为BLOB数据类型中存储的文档创建索引</a></p>
                           <div class="infoboxnotealso" id="GUID-9E4134BD-B88C-4868-8DFC-86B50948FABF__GUID-09E2D72F-4329-4117-9340-870E1BE54299">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../ccref/oracle-text-indexing-elements.html#CCREF0219" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                           </div>
                        </li>
                     </ul>
                  </div><a id="NLSPG331"></a><div class="props_rev_3"><a id="GUID-8B8F4067-065D-4D7E-B9DC-4F313B320442" name="GUID-8B8F4067-065D-4D7E-B9DC-4F313B320442"></a><h5 id="NLSPG-GUID-8B8F4067-065D-4D7E-B9DC-4F313B320442" class="sect5"><span class="enumeration_section">6.5.4.1</span>创建多路复用器</h5>
                     <div>
                        <div class="section">
                           <p>创建多路复用器的第一步是为所支持的每种语言创建特定于语言的词法分析器首选项。以下示例使用PL / SQL过程创建英语，德语和日语词法分析器：</p><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_preference（'english_lexer'，'basic_lexer'）; ctx_ddl.set_attribute（ 'english_lexer'， 'index_themes'， '是'）; ctx_ddl.create_preference（'german_lexer'，'basic_lexer'）; ctx_ddl.set_attribute（ 'german_lexer'， '复合'， '德国'）; ctx_ddl.set_attribute（ 'german_lexer'， 'alternate_spelling'， '德语'）; ctx_ddl.set_attribute（ 'german_lexer'， 'mixed_case'， '是'）; ctx_ddl.create_preference（'japanese_lexer'，'JAPANESE_VGRAM_LEXER'）;</pre><p>在创建特定于语言的词法分析器首选项之后，需要在单个多路复用器首选项下将它们聚集在一起。首先，使用<code class="codeph">MULTI_LEXER</code>对象创建多路复用器首选项：</p><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_preference（ 'global_lexer'， 'multi_lexer'）;</pre><p>现在使用<code class="codeph">add_sub_lexer</code>调用将特定于语言的词法分析器添加到多路镜首选项：</p><pre class="oac_no_warn" dir="ltr">ctx_ddl.add_sub_lexer（'global_lexer'，'german'，'german_lexer'）; ctx_ddl.add_sub_lexer（'global_lexer'，'japanese'，'japanese_lexer'）; ctx_ddl.add_sub_lexer（'global_lexer'，'default'，'english_lexer'）;</pre><p>这提名了<code class="codeph">german_lexer</code>首选项来处理德语文档， <code class="codeph">japanese_lexer</code>首选项处理日语文档，以及<code class="codeph">english_lexer</code>首选项来处理其他所有内容，使用<code class="codeph">DEFAULT</code>作为语言。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="NLSPG332"></a><div class="props_rev_3"><a id="GUID-C114A44C-5268-492D-B448-3A4B7075F8C1" name="GUID-C114A44C-5268-492D-B448-3A4B7075F8C1"></a><h5 id="NLSPG-GUID-C114A44C-5268-492D-B448-3A4B7075F8C1" class="sect5"><span class="enumeration_section">6.5.4.2</span>为CLOB数据类型中存储的文档创建索引</h5>
                     <div>
                        <div class="section">
                           <p>多路复用器根据表中的语言列决定每行使用哪个词法分析器。这是一个字符列，用于在文本列中存储文档的语言。使用Oracle语言名称标识此列中文档的语言。例如，如果使用<code class="codeph">CLOB</code>数据类型来存储文档，则将语言列添加到存储文档的表中：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE globaldoc（doc_id NUMBER PRIMARY KEY，语言VARCHAR2（30），文本CLOB）;</pre><p>要为此表创建索引，请使用多路复用器首选项并指定语言列的名称：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX globalx ON globaldoc（text）indextype IS ctxsys.context parameters（'lexer global_lexer language column language'）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="NLSPG333"></a><div class="props_rev_3"><a id="GUID-DCD82CE9-D4EE-4727-A1A9-C7D2B69C4784" name="GUID-DCD82CE9-D4EE-4727-A1A9-C7D2B69C4784"></a><h5 id="NLSPG-GUID-DCD82CE9-D4EE-4727-A1A9-C7D2B69C4784" class="sect5"><span class="enumeration_section">6.5.4.3</span>为BLOB数据类型中存储的文档创建索引</h5>
                     <div>
                        <div class="section">
                           <p>除语言列外，还必须在存储文档的表中添加字符集和格式列。字符集列使用Oracle字符集名称存储文档的字符集。format列指定文档是文本文档还是二进制文档。例如， <code class="codeph">CREATE TABLE</code>语句可以指定名为<code class="codeph">characterset</code>和<code class="codeph">format</code>列：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE globaldoc（doc_id NUMBER PRIMARY KEY，语言VARCHAR2（30），characterset VARCHAR2（30），format VARCHAR2（10），text BLOB）;</pre><p>您可以将文字处理或电子表格文档放入表格中，并在<code class="codeph">format</code>列中指定<code class="codeph">binary</code> 。对于HTML，XML和文本格式的文档，您可以将它们放入表中并在<code class="codeph">format</code>列中指定<code class="codeph">text</code> 。
                           </p>
                           <p>由于存在用于指定字符集的列，因此可以将文本文档存储在不同的字符集中。</p>
                           <p>创建索引时，请指定格式和字符集列的名称：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX globalx ON globaldoc（text）indextype是ctxsys.context参数（'filter inso_filter lexer global_lexer语言列语言格式列格式charset column characterset'）;</pre><p>如果所有文档都是文本格式，则可以使用<code class="codeph">charset_filter</code> 。<code class="codeph">charset_filter</code>将数据从<code class="codeph">charset</code>列中指定的<code class="codeph">charset</code>转换为数据库字符集。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>