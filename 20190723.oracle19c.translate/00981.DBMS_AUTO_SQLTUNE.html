<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_AUTO_SQLTUNE package is the interface for managing the Automatic SQL Tuning task. Unlike DBMS_SQLTUNE, the DBMS_AUTO_SQLTUNE package requires the DBA role."></meta>
      <meta name="description" content="The DBMS_AUTO_SQLTUNE package is the interface for managing the Automatic SQL Tuning task. Unlike DBMS_SQLTUNE, the DBMS_AUTO_SQLTUNE package requires the DBA role."></meta>
      <title>DBMS_AUTO_SQLTUNE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_AUTO_SQLTUNE package is the interface for managing the Automatic SQL Tuning task. Unlike DBMS_SQLTUNE, the DBMS_AUTO_SQLTUNE package requires the DBA role."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_AUDIT_UTIL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_AUTO_INDEX.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_AUDIT_UTIL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_AUTO_INDEX.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_AUTO_SQLTUNE</li>
            </ol>
            <a id="GUID-6C4592E2-F0AC-45B9-8F96-F86C9B6B3CEA" name="GUID-6C4592E2-F0AC-45B9-8F96-F86C9B6B3CEA"></a><a id="ARPLS73155"></a><a id="ARPLS73155"></a>
            
            <h2 id="ARPLS-GUID-6C4592E2-F0AC-45B9-8F96-F86C9B6B3CEA" class="sect2"><span class="enumeration_chapter">28</span> DBMS_AUTO_SQLTUNE</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_AUTO_SQLTUNE</code>包是用于管理自动SQL调整任务的界面。与<code class="codeph">DBMS_SQLTUNE</code>不同， <code class="codeph">DBMS_AUTO_SQLTUNE</code>包需要<code class="codeph">DBA</code>角色。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_AUTO_SQLTUNE.html#GUID-21FE1BB3-D6FB-4250-A658-6F2B208EAF56" title="在AutoTask框架内运行时，DBMS_AUTO_SQLTUNE包是SQL Tuning Advisor（DBMS_SQLTUNE）的接口。">DBMS_AUTO_SQLTUNE概述</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AUTO_SQLTUNE.html#GUID-ADF2CE53-4E0D-4EA3-A3B6-DCC224517A29" title="具有DBA角色的用户可以使用此包。对于其他用户，您必须明确授予程序包的EXECUTE特权。请注意，EXECUTE_AUTO_TUNING_TASK过程是一个例外：只有SYS可以调用它。">DBMS_AUTO_SQLTUNE安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AUTO_SQLTUNE.html#GUID-E15F705C-DF32-4208-8698-7EEA50846293" title="DBMS_AUTO_SQLTUNE包中包含EXECUTE，REPORT和SET子程序。">DBMS_AUTO_SQLTUNE子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS73157"></a><a id="ARPLS73157"></a><div class="props_rev_3"><a id="GUID-21FE1BB3-D6FB-4250-A658-6F2B208EAF56" name="GUID-21FE1BB3-D6FB-4250-A658-6F2B208EAF56"></a><h3 id="ARPLS-GUID-21FE1BB3-D6FB-4250-A658-6F2B208EAF56" class="sect3"><span class="enumeration_section">28.1</span> DBMS_AUTO_SQLTUNE概述</h3>
               <div>
                  <p>在AutoTask框架内运行时， <code class="codeph">DBMS_AUTO_SQLTUNE</code>包是SQL Tuning Advisor（ <code class="codeph">DBMS_SQLTUNE</code> ）的接口。
                  </p>
                  <div class="section">数据库创建自动化系统任务<code class="codeph">SYS_AUTO_SQL_TUNING_TASK</code>作为目录脚本的一部分。此任务自动从AWR中选择一组高负载SQL，并在此SQL上运行SQL Tuning Advisor。自动化任务执行与任何其他SQL调整任务相同的综合分析。
                     <p>自动化任务通过执行旧的和新的查询计划来测试它找到的任何SQL配置文件。自动SQL调优与手动SQL调优的区别在于一个重要方面。如果启用了SQL配置文件的自动实现（默认为禁用），则数据库将实现任何可保证良好性能优势的SQL配置文件。实现在调优时进行，以便数据库可以立即从新计划中受益。您可以使用<code class="codeph">SET_AUTO_TUNING_TASK_PARAMETER</code> API设置<code class="codeph">ACCEPT_SQL_PROFILES</code>参数来启用或禁用自动实现。
                     </p>
                     <p>在每个维护窗口中，自动调整任务将其结果存储为新执行。每个执行结果具有相同的任务名称，但具有不同的执行名称。查询<code class="codeph">DBA_ADVISOR_EXECUTIONS</code>视图以获取有关任务执行的信息。要查看跨多个执行的报告，请使用<a href="DBMS_AUTO_SQLTUNE.html#GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86" title="此过程显示自动SQL调整任务的结果。">REPORT_AUTO_TUNING_TASK函数</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73158"></a><a id="ARPLS73158"></a><div class="props_rev_3"><a id="GUID-ADF2CE53-4E0D-4EA3-A3B6-DCC224517A29" name="GUID-ADF2CE53-4E0D-4EA3-A3B6-DCC224517A29"></a><h3 id="ARPLS-GUID-ADF2CE53-4E0D-4EA3-A3B6-DCC224517A29" class="sect3"><span class="enumeration_section">28.2</span> DBMS_AUTO_SQLTUNE安全模型</h3>
               <div>
                  <p>具有<code class="codeph">DBA</code>角色的用户可以使用此包。对于其他用户，您必须明确授予程序包的<code class="codeph">EXECUTE</code>特权。请注意， <code class="codeph">EXECUTE_AUTO_TUNING_TASK</code>过程是一个例外：只有<code class="codeph">SYS</code>可以调用它。
                  </p>
                  <div class="section">
                     <p>用户可以调用此程序包中的API来控制自动调整任务在运行时的行为方式，例如启用自动SQL配置文件创建以及配置任务运行的总时间和每个SQL时间限制。由于这些设置会影响数据库的整体性能，因此具有<code class="codeph">ADVISOR</code>权限的所有用户可能无法访问此程序包。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73159"></a><a id="ARPLS73160"></a><a id="ARPLS73160"></a><a id="ARPLS73159"></a><div class="props_rev_3"><a id="GUID-E15F705C-DF32-4208-8698-7EEA50846293" name="GUID-E15F705C-DF32-4208-8698-7EEA50846293"></a><h3 id="ARPLS-GUID-E15F705C-DF32-4208-8698-7EEA50846293" class="sect3"><span class="enumeration_section">28.3</span> DBMS_AUTO_SQLTUNE子程序摘要</h3>
               <div>
                  <p><code class="codeph">DBMS_AUTO_SQLTUNE</code>包中包含<code class="codeph">EXECUTE</code> ， <code class="codeph">REPORT</code>和<code class="codeph">SET</code>子程序。
                  </p>
                  <div class="tblformal" id="GUID-E15F705C-DF32-4208-8698-7EEA50846293__GUID-C533CD6A-6FB2-4029-81F2-6F5B8CF3CFC5">
                     <p class="titleintable">表28-1 DBMS_AUTO_SQLTUNE包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_AUTO_SQLTUNE包子程序" width="100%" border="1" summary="This table lists the DBMS_AUTO_SQLTUNE subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d152505e487">子程序</th>
                              <th align="left" valign="bottom" width="75%" id="d152505e490">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d152505e495" headers="d152505e487 ">
                                 <p><a href="DBMS_AUTO_SQLTUNE.html#GUID-52310405-F487-4000-8D18-C87EB2F2497A" title="此函数和过程执行自动SQL调整任务（SYS_AUTO_SQL_TUNING_TASK）。">EXECUTE_AUTO_TUNING_TASK功能和过程</a></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d152505e495 d152505e490 ">
                                 <p>立即执行自动SQL调整任务（仅限<code class="codeph">SYS</code> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d152505e512" headers="d152505e487 ">
                                 <p><a href="DBMS_AUTO_SQLTUNE.html#GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86" title="此过程显示自动SQL调整任务的结果。">REPORT_AUTO_TUNING_TASK功能</a></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d152505e512 d152505e490 ">
                                 <p>显示自动调整任务历史记录的文本报告</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d152505e523" headers="d152505e487 ">
                                 <p><a href="DBMS_AUTO_SQLTUNE.html#GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679" title="此过程为SYS_AUTO_SQL_TUNING_TASK更新类型为VARCHAR2或NUMBER的SQL调整参数的值。">SET_AUTO_TUNING_TASK_PARAMETER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d152505e523 d152505e490 ">
                                 <p>更改每日自动运行的任务参数值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS73161"></a><a id="ARPLS73162"></a><a id="ARPLS73162"></a><a id="ARPLS73161"></a><div class="props_rev_3"><a id="GUID-52310405-F487-4000-8D18-C87EB2F2497A" name="GUID-52310405-F487-4000-8D18-C87EB2F2497A"></a><h4 id="ARPLS-GUID-52310405-F487-4000-8D18-C87EB2F2497A" class="sect4"><span class="enumeration_section">28.3.1</span> EXECUTE_AUTO_TUNING_TASK功能和过程</h4>
                  <div>
                     <p>此函数和过程执行自动SQL调整任务（ <code class="codeph">SYS_AUTO_SQL_TUNING_TASK</code> ）。
                     </p>
                     <div class="section">
                        <p>函数和过程都在新任务执行的上下文中运行。不同之处在于函数返回新执行的名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52310405-F487-4000-8D18-C87EB2F2497A__GUID-83B4C2B8-CE7A-4D4C-A7B3-817B09F2CB76">句法</p><pre class="pre codeblock"><code>DBMS_AUTO_SQLTUNE.EXECUTE_AUTO_TUNING_TASK（execution_name IN VARCHAR2：= NULL，execution_params IN DBMS_ADVISOR.argList：= NULL，execution_desc IN VARCHAR2：= NULL）RETURN VARCHAR2; DBMS_AUTO_SQLTUNE.EXECUTE_AUTO_TUNING_TASK（execution_name IN VARCHAR2：= NULL，execution_params IN DBMS_ADVISOR.argList：= NULL，execution_desc IN VARCHAR2：= NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52310405-F487-4000-8D18-C87EB2F2497A__GUID-7078BC56-C94F-44AE-B845-515E73F85A7F">参数</p>
                        <div class="tblformal" id="GUID-52310405-F487-4000-8D18-C87EB2F2497A__GUID-0BCB91AF-7B31-4DCC-BA68-2E52DF0DF3F6">
                           <p class="titleintable">表28-2 EXECUTE_AUTO_TUNING_TASK函数和过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXECUTE_AUTO_TUNING_TASK函数和过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_AUTO_SQLTUNE.EXECUTE_TUNING_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d152505e658">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d152505e661">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e666" headers="d152505e658 ">
                                       <p><code class="codeph">execution_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e666 d152505e661 ">
                                       <p>用于限定和识别执行的名称。如果未指定，则由顾问程序生成并由函数返回。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e674" headers="d152505e658 ">
                                       <p><code class="codeph">execution_params</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e674 d152505e661 ">
                                       <p>指定执行的参数列表（名称，值）。执行参数仅对指定它们的执行有效。它们覆盖存储在任务中的参数的值（通过<a href="DBMS_AUTO_SQLTUNE.html#GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679" title="此过程为SYS_AUTO_SQL_TUNING_TASK更新类型为VARCHAR2或NUMBER的SQL调整参数的值。">SET_AUTO_TUNING_TASK_PARAMETER过程</a>设置）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e697" headers="d152505e658 ">
                                       <p><code class="codeph">execution_desc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e697 d152505e661 ">
                                       <p>描述执行的256长度字符串</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52310405-F487-4000-8D18-C87EB2F2497A__GUID-83F6BE3D-00A7-4C55-9499-93D6BCCFE695">使用说明</p>
                        <p>只有<code class="codeph">SYS</code>可以调用此子程序。调整任务可以多次执行而无需重置。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52310405-F487-4000-8D18-C87EB2F2497A__GUID-3B661C54-BFA2-47B8-B8CF-29C6075DF443">例子</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_SQLTUNE.EXECUTE_AUTO_TUNING_TASK（'SYS_AUTO_SQL_TUNING_TASK'）;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73163"></a><a id="ARPLS73164"></a><a id="ARPLS73164"></a><a id="ARPLS73163"></a><div class="props_rev_3"><a id="GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86" name="GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86"></a><h4 id="ARPLS-GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86" class="sect4"><span class="enumeration_section">28.3.2</span> REPORT_AUTO_TUNING_TASK功能</h4>
                  <div>
                     <p>此过程显示自动SQL调整任务的结果。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86__GUID-FB700EAD-8DBA-4F98-97F4-469C56DC2294">句法</p><pre class="pre codeblock"><code>DBMS_AUTO_SQLTUNE.REPORT_AUTO_TUNING_TASK（begin_exec IN VARCHAR2：= NULL，end_exec IN VARCHAR2：= NULL，输入IN VARCHAR2：='TEXT'，级别IN VARCHAR2：='TYPICAL'，部分IN VARCHAR2：= ALL，object_id IN NUMBER：= NULL， result_limit IN NUMBER：= NULL）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86__GUID-1917BC6A-4871-4F9B-ACAF-B1F30908B437">参数</p>
                        <div class="tblformal" id="GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86__GUID-4172111C-6D2B-461C-B318-388488DE2469">
                           <p class="titleintable">表28-3 REPORT_AUTO_TUNING_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_AUTO_TUNING_TASK函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_AUTO_SQLTUNE.REPORT_AUTO_TUNING_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d152505e828">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d152505e831">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e836" headers="d152505e828 ">
                                       <p><code class="codeph">begin_exec</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e836 d152505e831 ">
                                       <p>要使用的开始任务执行的名称。如果为<code class="codeph">NULL</code> ，则为最近的任务执行生成报告。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e847" headers="d152505e828 ">
                                       <p><code class="codeph">end_exec</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e847 d152505e831 ">
                                       <p>要使用的结束任务执行的名称。如果为<code class="codeph">NULL</code> ，则为最近的任务执行生成报告。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e858" headers="d152505e828 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e858 d152505e831 ">
                                       <p>要生成的报告的类型。可能的值是<code class="codeph">TEXT</code> ，它生成文本报告。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e869" headers="d152505e828 ">
                                       <p><code class="codeph">水平</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e869 d152505e831 ">
                                       <p>报告中的详细程度：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：报告的简单版本。只需显示顾问所采取行动的信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：显示有关所分析的每个语句的信息，包括未实现的请求。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：非常详细的报告级别，还提供有关跳过的语句的注释。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e893" headers="d152505e828 ">
                                       <p><code class="codeph">部分</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e893 d152505e831 ">
                                       <p>报告部分包括：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SUMMARY</code> ：摘要信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FINDINGS</code> ：调整结果</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN</code> ：解释计划</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INFORMATION</code> ：一般信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ERROR</code> ：有错误的陈述</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：所有部分</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e932" headers="d152505e828 ">
                                       <p><code class="codeph">OBJECT_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e932 d152505e831 ">
                                       <p>Advisor框架对象ID，表示限制报告的单个语句。所有语句都为<code class="codeph">NULL</code> 。仅对以单个执行为目标的报表有效。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e943" headers="d152505e828 ">
                                       <p><code class="codeph">RESULT_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e943 d152505e831 ">
                                       <p>报告中显示的最大SQL语句数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86__GUID-8B0A6316-3783-4D2F-B37E-53F4A2DE6ACA">返回值</p>
                        <p>包含所需报告的<code class="codeph">CLOB</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCB8AC8F-FF5F-419B-B461-547A60688B86__GUID-9BB6C6ED-5DAC-44FF-B1FE-222A66BFD62B">例子</p><pre class="pre codeblock"><code>- 获取最新执行的整个报告SELECT DBMS_AUTO_SQLTUNE.REPORT_AUTO_TUNING_TASK FROM DUAL; - 显示一系列执行的摘要SELECT DBMS_AUTO_SQLTUNE.REPORT_AUTO_TUNING_TASK（：begin_exec，：end_exec，'TEXT'，'TYPICAL'，'SUMMARY'）FROM DUAL; - 显示感兴趣的语句的结果SELECT DBMS_AUTO_SQLTUNE.REPORT_AUTO_TUNING_TASK（：exec，：exec，'TEXT'，'TYPICAL'，'FINDINGS'，5）FROM DUAL;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73165"></a><a id="ARPLS73166"></a><a id="ARPLS73166"></a><a id="ARPLS73165"></a><div class="props_rev_3"><a id="GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679" name="GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679"></a><h4 id="ARPLS-GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679" class="sect4"><span class="enumeration_section">28.3.3</span> SET_AUTO_TUNING_TASK_PARAMETER程序</h4>
                  <div>
                     <p>此过程为<code class="codeph">SYS_AUTO_SQL_TUNING_TASK</code>更新类型为<code class="codeph">VARCHAR2</code>或<code class="codeph">NUMBER</code>的SQL调整参数的值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679__GUID-9B72AD8A-74BD-4B56-8DFE-324CD5380A67">句法</p><pre class="pre codeblock"><code>DBMS_AUTO_SQLTUNE.SET_AUTO_TUNING_TASK_PARAMETER（参数IN VARCHAR2，值IN VARCHAR2）; DBMS_AUTO_SQLTUNE.SET_AUTO_TUNING_TASK_PARAMETER（参数IN VARCHAR2，值IN NUMBER）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679__GUID-684A3BDF-6B47-4270-829E-4B983F9E8FCC">参数</p>
                        <div class="tblformal" id="GUID-12DCC7F2-565C-48D3-8D0D-7AF21D95B679__GUID-F48F953A-0F8F-414D-B485-DE43FB4AA08B">
                           <p class="titleintable">表28-4 SET_AUTO_TUNING_TASK_PARAMETER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_AUTO_TUNING_TASK_PARAMETER过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_AUTO_SQLTUNE.SET_AUTO_TUNING_TASK_PARAMETER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d152505e1082">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d152505e1085">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e1090" headers="d152505e1082 ">
                                       <p><code class="codeph">参数</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e1090 d152505e1085 ">
                                       <p>要设置的参数的名称。可以使用<code class="codeph">VARCHAR2</code>形式的参数通过此过程设置的可能调整参数：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">MODE</code> ：调整范围（全面，有限）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USERNAME</code> ：解析语句的用户名</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DAYS_TO_EXPIRE</code> ：删除任务之前的天数</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTION_DAYS_TO_EXPIRE</code> ：删除任务执行前的天数</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT_EXECUTION_TYPE</code> ： <a href="DBMS_AUTO_SQLTUNE.html#GUID-52310405-F487-4000-8D18-C87EB2F2497A" title="此函数和过程执行自动SQL调整任务（SYS_AUTO_SQL_TUNING_TASK）。">EXECUTE_AUTO_TUNING_TASK函数和过程</a>未指定时执行的默认值</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TIME_LIMIT</code> ：以秒为单位的全局超时</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LOCAL_TIME_LIMIT</code> ：每个语句超时（以秒为单位）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TEST_EXECUTE</code> ：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p><code class="codeph">FULL</code> - 根据需要执行尽可能多的测试执行，直到SQL的本地时间限制（如果未设置SQL时间限制，则为全局任务时间限制）</p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">AUTO</code> - 测试执行与调谐时间成比例的自动选择时间</p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">OFF</code> - 不要测试执行</p>
                                                </li>
                                             </ul>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC_FILTER</code> ：SQL调优集的基本过滤器</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OBJECT_FILTER</code> ：SQL调优集的对象过滤器</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN_FILTER</code> ：SQL调优集的计划过滤器（有关可能的值，请参阅<code class="codeph">SELECT_SQLSET</code> ）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE1</code> ：SQL调优集的第一个排名度量</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE2</code> ：SQL调优集的第二个排名度量</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE3</code> ：SQL调优集的第三个排名度量</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RESUME_FILTER</code> ：除了<code class="codeph">BASIC_FILTER</code>之外的SQL调优集的额外过滤器</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_LIMIT</code> ：要调<code class="codeph">SQL_LIMIT</code>最大SQL语句数</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_PERCENTAGE</code> ：SQL调优集语句的百分比过滤器</p>
                                          </li>
                                       </ul>
                                       <p>仅自动调整任务支持以下参数：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ACCEPT_SQL_PROFILES</code> ：任务是否应自动接受SQL配置文件（ <code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> ）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_AUTO_SQL_PROFILES</code> ： <code class="codeph">MAX_AUTO_SQL_PROFILES</code> ，系统允许的最大自动SQL配置文件数</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_SQL_PROFILES_PER_EXEC</code> ：每次执行任务时可自动实现的最大SQL配置文件数。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d152505e1241" headers="d152505e1082 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d152505e1241 d152505e1085 ">
                                       <p>指定参数的新值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>