<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>查询尺寸对象</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="olap-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:54:33-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96405-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="creating-dimensions-and-cubes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="enhancing-your-database-analytic-content.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLAUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-dimensions-and-cubes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="enhancing-your-database-analytic-content.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">查询尺寸对象</li>
            </ol>
            <a id="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB" name="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB"></a><a id="OLAUG400"></a>
            
            <h2 id="OLAUG-GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB" class="sect2"><span class="enumeration_chapter">4</span>查询维对象</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d12486e48" class="indexterm-anchor"></a> Oracle OLAP通过提供广泛的分析内容和快速查询响应时间，为您的SQL应用程序增添了强大功能。SQL查询接口使任何应用程序都可以在不了解OLAP的情况下查询多维数据集和维度。</p>
               <p>OLAP选项自动生成有关多维数据集，维度和层次结构的一组关系视图。SQL应用程序查询这些视图以向分析师和决策者显示这些对象的信息丰富内容。您还可以使用系统生成的视图（如基表）创建遵循应用程序预期结构的自定义视图。</p>
               <p>在本章中，您将学习在SQL中查询维对象的基本方法。它包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1">探索OLAP视图</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078">创建基本查询</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808">创建分层查询</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A">在查询中使用计算</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-08A8F74B-779F-425C-A148-A7070C7E384C">使用属性进行聚合</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8">将多维数据集连接到表和视图</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678">查看执行计划</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288">查询数据字典</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB__GUID-81BD23D3-A0B0-4C2B-B073-E78DAD1C16A9">
                  <p class="notep1">也可以看看：</p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="overview.html#GUID-BAC5B092-45CA-40E1-BDDC-C1645FCAB8C7">使用SQL工具和应用程序构建器开发报表和仪表板</a> ”，</span>用于使用Oracle Application Express创建的示例仪表板</p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="overview.html#GUID-EF116DF0-2536-470B-ACC3-A0253327A10B">维度数据模型概述</a> ”，</span>用于讨论多维数据集，维度和层次结构</p>
                     </li>
                  </ul>
               </div>
            </div><a id="OLAUG9159"></a><div class="props_rev_3"><a id="GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1" name="GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1"></a><h3 id="OLAUG-GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1" class="sect3"><span class="enumeration_section">4.1</span>探索OLAP视图</h3>
               <div>
                  <p>系统生成的视图在与分析工作区相同的模式中创建。Oracle OLAP提供三种类型的视图：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>多维数据集视图</p>
                     </li>
                     <li>
                        <p>维度视图</p>
                     </li>
                     <li>
                        <p>层次结构视图</p>
                     </li>
                  </ul>
                  <p>这些视图的相关方式与事实和维度表在星型模式中的相关。多维数据集视图与事实表具有相同的功能，层次结构视图和维度视图与维度表具有相同的功能。典型查询使用层次结构视图或维度视图连接多维数据集视图。</p>
               </div><a id="OLAUG9160"></a><div class="props_rev_3"><a id="GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7" name="GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7"></a><h4 id="OLAUG-GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7" class="sect4"><span class="enumeration_section">4.1.1</span>多维数据集视图</h4>
                  <div>
                     <p><a id="d12486e226" class="indexterm-anchor"></a>每个多维数据集都有一个多维数据集视图，用于显示多维数据集中所有度量和计算度量的数据。您可以在星型或雪花模式中使用像事实表一样的多维数据集视图。但是，除了详细级别数据之外，多维数据集视图还包含所有摘要数据。
                     </p>
                  </div><a id="OLAUG9161"></a><div class="props_rev_3"><a id="GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE" name="GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE"></a><h5 id="OLAUG-GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE" class="sect5"><span class="enumeration_section">4.1.1.1</span>发现多维数据集视图的名称</h5>
                     <div>
                        <div class="section">
                           <p>多维数据集视图的默认名称是<span class="italic"><code class="codeph">cube</code></span> <code class="codeph">_VIEW</code> 。要在模式中查找<code class="codeph">UNITS_CUBE</code>的视图，您可以发出如下所示的查询：</p><pre class="oac_no_warn" dir="ltr">SELECT view_name FROM user_views WHERE view_name LIKE'UNITS_CUBE％'; VIEW_NAME ------------------------------ UNITS_CUBE_VIEW</pre><p>下一个查询从<code class="codeph">USER_CUBE_VIEWS</code>返回架构中所有多维数据集视图的名称：</p><pre class="oac_no_warn" dir="ltr">SELECT view_name FROM user_cube_views; VIEW_NAME ------------------------------ UNITS_CUBE_VIEW PRICE_CUBE_VIEW</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9162"></a><div class="props_rev_3"><a id="GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D" name="GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D"></a><h5 id="OLAUG-GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D" class="sect5"><span class="enumeration_section">4.1.1.2</span>发现多维数据集视图的列</h5>
                     <div>
                        <div class="section">
                           <p>与事实表一样，多维数据集视图包含每个度量的列，计算的度量和多维数据集中的维度。在下面的例子中， <code class="codeph">UNITS_CUBE_VIEW</code>有列<code class="codeph">SALES</code> ， <code class="codeph">UNITS</code>和<code class="codeph">COST</code>的措施，在几个计算度量<code class="codeph">SALES</code> ，并为<code class="codeph">TIME</code> ， <code class="codeph">CUSTOMER</code> ， <code class="codeph">PRODUCT</code>和<code class="codeph">CHANNEL</code>尺寸。
                           </p><pre class="oac_no_warn" dir="ltr">DESCRIBE units_cube_view名称是否为空？输入----------------------------------------- -------- ----------------------------销售编号单位编号成本编号SALES_PP编号SALES_CHG_PP编号SALES_PCTCHG_PP编号SALES_PROD_SHARE_PARENT编号SALES_PROD_SHARE_TOTAL编号SALES_PROD_RANK_PARENT_PP编号TIME VARCHAR2（100 ）CUSTOMER VARCHAR2（100）PRODUCT VARCHAR2（100）CHANNEL VARCHAR2（100）</pre><p>该<a id="d12486e383" class="indexterm-anchor"></a> <code class="codeph">USER_CUBE_VIEW_COLUMNS</code>数据字典视图描述了多维数据集视图的列，如以下查询所示。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT column_name，column_type FROM user_cube_view_columns WHERE view_name ='UNITS_CUBE_VIEW'; COLUMN_NAME COLUMN_TYPE ------------------------------ --------------销售测量单位测量成本测量SALES_PP测量SALES_CHG_PP测量SALES_PCTCHG_PP测量SALES_PROD_SHARE_PARENT测量SALES_PROD_SHARE_TOTAL测量SALES_PROD_RANK_PARENT_PP测量时间键客户键产品键槽键选择13行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9163"></a><div class="props_rev_3"><a id="GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42" name="GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42"></a><h5 id="OLAUG-GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42" class="sect5"><span class="enumeration_section">4.1.1.3</span>显示多维数据集视图的内容</h5>
                     <div>
                        <div class="section">
                           <p>您可以使用类似这样的查询快速显示多维数据集视图的内容。所有级别的数据都包含在多维数据集中，从详细级别到顶部。</p><pre class="oac_no_warn" dir="ltr">SELECT销售，单位，时间，客户，产品，渠道FROM units_cube_view WHERE ROWNUM &lt;15;销售单位时间客户产品渠道---------- ---------- ---------- ---------- ---- ------ -------- 1120292752 4000968总计总计总计134109248 330425 CY1999总计总计130276514 534069 CY2003总计总计100870877 253816 CY1998总计总计136986572 565718 CY2005总计总计140138317 584929 CY2006总计总计总计144290686 587419 CY2004总计总计124173522 364233 CY2000总计总计92515295 364965 CY2002总计总计116931722 415394 CY2001总计总计31522409.5 88484 CY2000。Q1 TOTAL TOTAL TOTAL总计27798426.6 97346 CY2001。Q2 TOTAL TOTAL TOTAL总计29691668.2 105704 CY2001。Q3总计总计32617248.6 138953 CY2005。Q3 TOTAL TOTAL TOTAL选择了14行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OLAUG9164"></a><div class="props_rev_3"><a id="GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40" name="GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40"></a><h4 id="OLAUG-GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40" class="sect4"><span class="enumeration_section">4.1.2</span>维度和层次结构视图</h4>
                  <div>
                     <p><a id="d12486e495" class="indexterm-anchor"></a>每个维度都有一个维度视图以及与维度关联的每个层次结构的层次结构视图。例如，时间维度可能包含以下三个视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>时间维度视图</p>
                        </li>
                        <li>
                           <p>日历层次视图</p>
                        </li>
                        <li>
                           <p>财政层次结构视图</p>
                        </li>
                     </ul>
                     <p><a id="d12486e509" class="indexterm-anchor"></a>您可以在星型模式中使用维度视图和层次结构视图，例如维度表。
                     </p>
                  </div><a id="OLAUG9165"></a><div class="props_rev_3"><a id="GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A" name="GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A"></a><h5 id="OLAUG-GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A" class="sect5"><span class="enumeration_section">4.1.2.1</span>发现维度和层次结构视图的名称</h5>
                     <div>
                        <div class="section">
                           <p><a id="d12486e563" class="indexterm-anchor"></a> <code class="codeph">USER_CUBE_DIM_VIEWS</code>标识所有维度的维度视图。维度视图的默认名称是<span class="italic"><code class="codeph">dimension</code></span> <code class="codeph">_VIEW</code> 。</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM user_cube_dim_views; DIMENSION_NAME VIEW_NAME ------------------------------ ------------------ ------------产品PRODUCT_VIEW CUSTOMER CUSTOMER_VIEW CHANNEL_VIEW TIME TIME_VIEW</pre><p><code class="codeph">USER_CUBE_HIER_VIEWS</code>标识所有维度的层次结构视图。对于层次结构视图，默认名称为<span class="italic"><code class="codeph">dimension_hierarchy</code></span> <code class="codeph">_VIEW</code> 。以下查询返回维度，层次结构和视图名称。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM user_cube_hier_views ORDER BY dimension_name; DIMENSION_NAME HIERARCHY_NAME VIEW_NAME --------------- --------------- ----------------- ------------- CHANNEL PRIMARY CHIMEL_PRIMARY_VIEW客户市场CUSTOMER_MARKET_VIEW CUSTOMER SHIPMENTS CUSTOMER_SHIPMENTS_VIEW产品主要产品_PRIMARY_VIEW时间FISCAL TIME_FISCAL_VIEW时间日历TIME_CALENDAR_VIEW</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9166"></a><div class="props_rev_3"><a id="GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8" name="GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8"></a><h5 id="OLAUG-GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8" class="sect5"><span class="enumeration_section">4.1.2.2</span>发现维视图的列</h5>
                     <div>
                        <div class="section">
                           <p>与维度表类似，维度视图包含键列，级别名称，与维度关联的每个层次结构的每个级别的级别键以及属性列。在以下示例中， <code class="codeph">TIME_VIEW</code>具有维度键，级别名称和维度属性的列。
                           </p><pre class="oac_no_warn" dir="ltr">DESCRIBE time_view名称是否为空？输入----------------------------------------- -------- ---------------------------- DIM_KEY VARCHAR2（100）LEVEL_NAME VARCHAR2（30）DIM_ORDER NUMBER END_DATE DATE LONG_DESCRIPTION VARCHAR2（100）SHORT_DESCRIPTION VARCHAR2（ 100）TIME_SPAN NUMBER</pre><p><code class="codeph">USER_CUBE_DIM_VIEW_COLUMNS</code>描述了每个列中的信息，如此查询中所示。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT column_name，column_type FROM user_cube_dim_view_columns WHERE view_name ='TIME_VIEW'; COLUMN_NAME COLUMN_TYPE ------------------------------ ------------------ -  DIM_KEY KEY LEVEL_NAME LEVEL_NAME DIM_ORDER DIM_ORDER END_DATE属性TIME_SPAN属性LONG_DESCRIPTION属性SHORT_DESCRIPTION属性</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9167"></a><div class="props_rev_3"><a id="GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617" name="GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617"></a><h5 id="OLAUG-GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617" class="sect5"><span class="enumeration_section">4.1.2.3</span>显示维视图的内容</h5>
                     <div>
                        <div class="section">
                           <p>以下查询显示每个维度键的级别和属性。</p><pre class="oac_no_warn" dir="ltr">SELECT dim_key，level_name，long_description description，time_span，end_date FROM time_view WHERE dim_key LIKE'％2005％'; DIM_KEY LEVEL_NAME说明TIME_SPAN END_DATE ------------ -------------------- ------------  - --------- --------- CY2005 CALENDAR_YEAR 2005 365 31-DEC-05 CY2005。Q2 CALENDAR_QUARTER Q2.05 91 30-JUN-05 CY2005。Q4 CALENDAR_QUARTER Q4.05 92 31-DEC-05 CY2005。Q3 CALENDAR_QUARTER Q3.05 92 30-SEP-05 CY2005。Q1 CALENDAR_QUARTER Q1.05 90 31-MAR-05 2005.01月1日 -  5月31日 -  1月 -  05 2005.05月5月5日 -  5月31日 -  5月 -  05日2005年5月31日31日 -  7月5日2005.03月3月3日31-MAR-05 2005.04 MONTH APR-05 30 30-APR-05 2005.08 MONTH 8月31日31-AUG-05 2005.09月9月30日30-SEP-05 2005.02月2月-05 28 28-FEB-05 2005.11 MONV NOV-05 30 30-NOV-05 2005.06 MONTH JUN-05 30 30-JUN-05 2005.10月10月-05 31 31-OCT-05 2005.12月底DEC-05 31 31-DEC-05 FY2005 FISCAL_YEAR FY2005 365 30-JUN -05 2005财年。Q4 FISCAL_QUARTER Q4 FY-05 91 30-JUN-05 FY2005。Q1 FISCAL_QUARTER Q1 FY-05 92 30-SEP-04 FY2005。Q2 FISCAL_QUARTER Q2 FY-05 92 31-DEC-04 FY2005。Q3 FISCAL_QUARTER Q3 FY-05 90 31-MAR-05选择了22行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9168"></a><div class="props_rev_3"><a id="GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D" name="GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D"></a><h5 id="OLAUG-GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D" class="sect5"><span class="enumeration_section">4.1.2.4</span>发现层次结构视图的列</h5>
                     <div>
                        <div class="section">
                           <p>与维度视图一样，层次结构视图还包含维度键，级别名称和级别键的列。但是，所有行和列都与属于层次结构的维度键相关联。</p><pre class="oac_no_warn" dir="ltr">DESCRIBE time_calendar_view名称是否为空？输入----------------------------------------- -------- ---------------------------- DIM_KEY VARCHAR2（100）LEVEL_NAME VARCHAR2（30）DIM_ORDER NUMBER HIER_ORDER NUMBER LONG_DESCRIPTION VARCHAR2（100）SHORT_DESCRIPTION VARCHAR2（ 100）END_DATE DATE TIME_SPAN NUMBER PARENT VARCHAR2（100）TOTAL VARCHAR2（100）CALENDAR_YEAR VARCHAR2（100）CALENDAR_QUARTER VARCHAR2（100）MONTH VARCHAR2（100）</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9169"></a><div class="props_rev_3"><a id="GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC" name="GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC"></a><h5 id="OLAUG-GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC" class="sect5"><span class="enumeration_section">4.1.2.5</span>显示层次结构视图的内容</h5>
                     <div>
                        <div class="section">
                           <p>以下查询显示日历年2005的维度键，父键和完整祖先。</p><pre class="oac_no_warn" dir="ltr">SELECT dim_key，long_description description，parent，year_year year，calendar_quarter quarter，month FROM time_calendar_view WHERE calendar_year ='CY2005'ORDER BY level_name，end_date; DIM_KEY描述父母每年一个月------------ ------------ ------------ -------- ---- ------------ ------------ CY2005。Q1 Q1.05 CY2005 CY2005 CY2005。Q1 CY2005。Q2 Q2.05 CY2005 CY2005 CY2005。Q2 CY2005。Q3 Q3.05 CY2005 CY2005 CY2005。Q3 CY2005。Q4 Q4.05 CY2005 CY2005 CY2005。Q4 CY2005 2005 TOTAL CY2005 2005.01 JAN-05 CY2005。Q1 CY2005 CY2005。Q1 2005.01 2005.02 FEB-05 CY2005。Q1 CY2005 CY2005。2005 2005.02 2005.03 MAR-05 CY2005。Q1 CY2005 CY2005。2005 2005.03 2005.04 APR-05 CY2005。Q2 CY2005 CY2005。Q2 2005.04 2005.05 MAY-05 CY2005。Q2 CY2005 CY2005。Q2 2005.05 2005.06 JUN-05 CY2005。Q2 CY2005 CY2005。Q2 2005.06 2005.07 JUL-05 CY2005。Q3 CY2005 CY2005。Q3 2005.07 2005.08 AUG-05 CY2005。Q3 CY2005 CY2005。Q3 2005.08 2005.09 SEP-05 CY2005。Q3 CY2005 CY2005。Q3 2005.09 2005.10 OCT-05 CY2005。Q4 CY2005 CY2005。Q4 2005.10 2005.11 NOV-05 CY2005。Q4 CY2005 CY2005。Q4 2005.11 2005.12 DEC-05 CY2005。Q4 CY2005 CY2005。Q4 2005.12选择了17行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OLAUG9170"></a><div class="props_rev_3"><a id="GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078" name="GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078"></a><h3 id="OLAUG-GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078" class="sect3"><span class="enumeration_section">4.2</span>创建基本查询</h3>
               <div>
                  <p>查询多维数据集类似于查询星型模式。在星型模式中，您将事实表连接到维度表。事实表提供了数字业务度量，维度表提供了赋予数据含义的描述性属性。同样，您可以使用维度视图或层次结构视图连接多维数据集视图，以向用户提供完全标识且有意义的数据。</p>
                  <p>对于没有层次结构的维度，请在查询中使用维度视图。对于具有层次结构的维，请使用层次结构视图，因为它们包含的信息多于维视图。</p>
                  <p>查询多维数据集时，请记住以下准则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对每个维度应用过滤器。</p>
                        <p>多维数据集包含详细级别和聚合数据。具有未过滤维度的查询通常会返回比用户需要的更多数据，这会对性能产生负面影响。</p>
                     </li>
                     <li>
                        <p>让多维数据集聚合数据。</p>
                        <p>由于聚合是在多维数据集中计算的，因此典型查询不需要<code class="codeph">GROUP BY</code>子句。只需使用维度键或属性上的相应过滤器选择所需的聚合。
                        </p>
                     </li>
                  </ul>
               </div><a id="OLAUG9469"></a><a id="OLAUG9470"></a><a id="OLAUG9471"></a><a id="OLAUG9171"></a><div class="props_rev_3"><a id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E" name="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E"></a><h4 id="OLAUG-GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E" class="sect4"><span class="enumeration_section">4.2.1</span>对每个维度应用过滤器</h4>
                  <div>
                     <div class="section">
                        <p><a id="d12486e937" class="indexterm-anchor"></a><a id="d12486e939" class="indexterm-anchor"></a>要创建级别过滤器，您必须知道维度级别的名称。您可以通过查询维度或层次结构视图轻松获取它们：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT level_name FROM time_calendar_view; LEVEL_NAME ------------------------------ CALENDAR_YEAR CALENDAR_QUARTER MONTH TOTAL</pre><p>多个数据字典视图列出了级别的名称。以下示例查询<code class="codeph">USER_CUBE_HIER_LEVELS</code> 。</p><pre class="oac_no_warn" dir="ltr">SELECT level_name FROM user_cube_hier_levels WHERE dimension_name ='TIME'AND hierarchy_name ='CALENDAR'; LEVEL_NAME --------------------总计CALENDAR_YEAR CALENDAR_QUARTER月份</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAEFEHJ">
                        <p class="titleinexample">示例4-1显示所有级别的聚合</p>
                        <p>要了解将过滤器应用于每个维度的重要性，请考虑此示例中的查询，该查询在时间维度上没有过滤器。</p><pre class="oac_no_warn" dir="ltr">/ *选择关键描述和事实* / SELECT t.long_description time，ROUND（f.sales）sales / *来自维度视图和多维数据集视图* / FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *否过滤时间* / WHERE p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f.time AND p。 dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY t.end_date;</pre><p>如果没有Time维度的过滤器，查询将返回每个时间级别的值。这比用户通常希望看到的数据更多，并且返回的数据量会对性能产生负面影响。</p><pre class="oac_no_warn" dir="ltr">时间销售---------- ---------- JAN-98 8338545 FEB-98 7972132 Q1.98 24538588 MAR-98 8227911 APR-98 8470315 MAY-98 8160573 JUN-98 8362386 Q2.98 24993273 JUL-98 8296226 AUG-98 8377587 SEP-98 8406728 Q3.98 25080541 OCT-98 8316169 NOV-98 8984156 Q4.98 26258474 1998 100870877。。。
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAFBDDD">
                        <p class="titleinexample">示例4-2基本多维数据集视图查询</p>
                        <p>现在考虑过滤器将时间限制为年度数据时的结果。此示例显示基本查询。它从<code class="codeph">UNITS_CUBE_VIEW</code>选择Sales度量，并将多维数据集视图中的键连接到层次结构视图以获取键的描述。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择关键描述和事实* / SELECT t.long_description time，ROUND（f.sales）sales / *来自维度视图和多维数据集视图* / FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / * Create级别过滤器* / WHERE t.level_name ='CALENDAR_YEAR'和p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'/ *将维视图连接到多维数据集视图* / AND t.dim_key = f.time AND p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY t.end_date;</pre><p>该示例选择以下行。对于<code class="codeph">CUSTOMER</code> ， <code class="codeph">PRODUCT</code>和<code class="codeph">CHANNEL</code> ，只有一个值位于顶层。<code class="codeph">TIME</code>具有每个日历年的值。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- 1998 100870877 1999 134109248 2000 124173522 2001 116931722 2002 92515295 2003 130276514 2004 144290686 2005 136986572 2006 140138317</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAIFFGC">
                        <p class="titleinexample">示例4-3使用属性过滤器选择数据</p>
                        <p>维度属性还提供了一种选择查询数据的有用方法。此示例中的<code class="codeph">WHERE</code>子句使用属性值来过滤所有维度。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择关键描述和事实* / SELECT t.long_description time，p.long_description product，cu.long_description customer，ch.long_description channel，ROUND（f.sales）sales / * From dimension views and cube view * / FROM time_calendar_view t ，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *创建属性过滤器* / WHERE t.long_description in（'2005'，'2006'）AND p.package ='Laptop Value Pack'AND cu.long_description LIKE'％ Boston％'AND ch.long_description ='Internet'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f.time AND p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY time，customer;</pre><p>查询选择两个日历年，笔记本电脑超值套装中的产品，波士顿的客户和互联网渠道。</p><pre class="oac_no_warn" dir="ltr">TIME PRODUCT CUSTOMER CHANNEL SALES ------ ------------------------------ --------- ------------ -------- ---------- 2005笔记本电脑便携包KOSH Entrpr Boston Internet 5936 2005 56Kbps V.92 Type II传真/调制解调器KOSH Entrpr波士顿互联网45285 2005内部48X CD-ROM KOSH Entrpr波士顿互联网2828 2005标准鼠标KOSH Entrpr波士顿互联网638 2005特使标准沃伦系统波士顿互联网19359 2005笔记本电脑便携包沃伦系统波士顿互联网13434 2005标准鼠标沃伦系统波士顿互联网130 2006标准鼠标KOSH Entrpr Boston Internet 555 2006笔记本电脑便携包KOSH Entrpr Boston Internet 6357 2006 56Kbps V.92 Type II传真/调制解调器KOSH Entrpr Boston Internet 38042 2006内部48X CD-ROM KOSH Entrpr波士顿互联网3343 2006特使标准Warren Systems波士顿互联网24198 2006笔记本电脑便携包沃伦系统波士顿互联网13153 2006标准鼠标沃伦系统波士顿互联网83 14行选择。</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9172"></a><div class="props_rev_3"><a id="GUID-521D88A9-733B-4B4D-950B-637A6CF5E955" name="GUID-521D88A9-733B-4B4D-950B-637A6CF5E955"></a><h4 id="OLAUG-GUID-521D88A9-733B-4B4D-950B-637A6CF5E955" class="sect4"><span class="enumeration_section">4.2.2</span>允许多维数据集聚合数据</h4>
                  <div>
                     <p>多维数据集包含所有聚合数据。如本章所示，针对多维数据集的查询只选择聚合数据。它不计算值。</p>
                     <p>以下是针对事实表的基本查询：</p><pre class="oac_no_warn" dir="ltr">/ *查询事实表* / SELECT t.calendar_year_dsc time，SUM（f.sales）sales FROM time_dim t，units_fact f WHERE t.calendar_year_dsc IN（'2005'，'2006'）AND t.month_id = f.month_id GROUP BY t.calendar_year_dsc;</pre><p>下一个查询使用过滤器从多维数据集中获取完全相同的结果：</p><pre class="oac_no_warn" dir="ltr">/ *查询多维数据集* / SELECT t.long_description time，f.sales sales FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *对每个维度应用过滤器* / WHERE t.long_description IN（'2005' ，'2006'）AND p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f。TIME和p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY time;</pre><p>两个查询都返回以下结果：</p><pre class="oac_no_warn" dir="ltr">时间销售----- ---------- 2005 136986572 2006 140138317</pre><p>对多维数据集的查询不会使用<code class="codeph">SUM</code>运算符和<code class="codeph">GROUP BY</code>子句计算聚合值。由于聚合存在于多维数据集中，因此会重新聚合以前聚合的数据。相反，查询直接从多维数据集中选择聚合，并通过将适当的筛选器应用于每个维度来指定所需的聚合。
                     </p>
                  </div>
               </div><a id="OLAUG9173"></a><div class="props_rev_3"><a id="GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08" name="GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08"></a><h4 id="OLAUG-GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08" class="sect4"><span class="enumeration_section">4.2.3</span>查询处理</h4>
                  <div>
                     <p>最有效的查询允许OLAP引擎过滤数据，以便将查询所需的最小行数返回给SQL。</p>
                     <p>以下是其中之一<a id="d12486e1127" class="indexterm-anchor"></a> <code class="codeph">WHERE</code>子句操作被推送到OLAP引擎进行处理：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">=</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">！=</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">&gt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">！&gt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">！&lt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">在</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">不在</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">一片空白</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">喜欢</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">不喜欢</code></p>
                        </li>
                     </ul>
                     <p>OLAP引擎也处理嵌套<a id="d12486e1179" class="indexterm-anchor"></a><a id="d12486e1181" class="indexterm-anchor"></a><a id="d12486e1183" class="indexterm-anchor"></a>字符函数，包括<code class="codeph">INSTR</code> ， <code class="codeph">LENGTH</code> ， <code class="codeph">NVL</code> ， <code class="codeph">LOWER</code> ， <code class="codeph">UPPER</code> ， <code class="codeph">LTRIM</code> ， <code class="codeph">RTRIM</code> ， <code class="codeph">TRIM</code> ， <code class="codeph">LPAD</code> ， <code class="codeph">RPAD</code>和<code class="codeph">SUBSTR</code> 。</p>
                     <p>SQL处理<code class="codeph">WHERE</code>子句中的其他操作和函数，以及<code class="codeph">SELECT</code>语法的其他部分中的所有操作。
                     </p>
                  </div>
               </div>
            </div><a id="OLAUG9174"></a><div class="props_rev_3"><a id="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808" name="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808"></a><h3 id="OLAUG-GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808" class="sect3"><span class="enumeration_section">4.3</span>创建分层查询</h3>
               <div>
                  <p>钻井是业务分析的重要能力。在仪表板或应用程序中，用户单击维度键以更改数据选择。决策者经常希望深入了解数据值的贡献者，或深入了解特定数据值如何对整体贡献。例如，波士顿地区销售经理可能从波士顿的总销售额开始，深入了解每个销售代表的贡献，然后深入了解波士顿地区如何为新英格兰的销售总额做出贡献。</p>
                  <p>层次结构视图包括<code class="codeph">PARENT</code>列，用于标识每个维度键的父级。此列封装维度的所有层次结构信息：如果您知道每个键的父级，则可以派生祖先，子级和后代。
                  </p>
                  <p>对于基于级别的层次结构， <code class="codeph">LEVEL_NAME</code>列通过提供一种方便的方法来识别层次结构中从顶部到基础的相同深度的所有键，从而对此信息进行补充。对于基于值的层次结构， <code class="codeph">PARENT</code>列提供有关层次结构的所有信息。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808__GUID-F93CAB27-4B6A-4036-85AA-B26823EBCC76">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="developing-reports-and-dashboards.html#GUID-20B8F759-16D6-4089-8744-CBA17E2259D6">开发</a>有关使用绑定变量来支持钻取的<a href="developing-reports-and-dashboards.html#GUID-20B8F759-16D6-4089-8744-CBA17E2259D6">报告和仪表板</a></p>
                  </div>
               </div><a id="OLAUG9175"></a><div class="props_rev_3"><a id="GUID-C855370B-A629-48CA-9750-8CA08F17D7B6" name="GUID-C855370B-A629-48CA-9750-8CA08F17D7B6"></a><h4 id="OLAUG-GUID-C855370B-A629-48CA-9750-8CA08F17D7B6" class="sect4"><span class="enumeration_section">4.3.1</span>深入到儿童身上</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用层次结构视图的<code class="codeph">PARENT</code>列仅选择特定值的子项。以下<code class="codeph">WHERE</code>子句选择日历年<code class="codeph">2005</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择日历年2005的子项* / WHERE t.parent ='CY2005'AND p.dim_key ='TOTAL'AND cu.dim_key ='TOTAL'AND ch.dim_key ='TOTAL'</pre><p>查询从年份到季度向下钻取。四个季度<code class="codeph">Q1-05</code>到<code class="codeph">Q4-05</code>是一年中孩子<code class="codeph">CY2005</code>在日历层次结构。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- Q1.05 31381338 Q2.05 37642741 Q3.05 32617249 Q4.05 35345244</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9176"></a><div class="props_rev_3"><a id="GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B" name="GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B"></a><h4 id="OLAUG-GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B" class="sect4"><span class="enumeration_section">4.3.2</span>向父母进行钻探</h4>
                  <div>
                     <div class="section">
                        <p>层次结构视图的<code class="codeph">PARENT</code>列标识每个维度键的父级。级别键的列标识完整的遗产。以下<code class="codeph">WHERE</code>子句根据其<code class="codeph">LONG_DESCRIPTION</code>属性选择Time键的父级。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择时间键的父项* / WHERE t.dim_key =（SELECT DISTINCT parent FROM time_calendar_view WHERE long_description ='JAN-05'）AND p.dim_key ='TOTAL'AND cu.dim_key ='TOTAL'AND ch。 dim_key ='TOTAL'</pre><p>查询从月到季度逐渐钻取。月份<code class="codeph">JAN-05</code>的父<code class="codeph">JAN-05</code>是Calendar层次结构中的<code class="codeph">Q1-05</code>季度。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- Q1.05 31381338</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9177"></a><div class="props_rev_3"><a id="GUID-C674585F-7F67-44DC-8631-D4173610AE0B" name="GUID-C674585F-7F67-44DC-8631-D4173610AE0B"></a><h4 id="OLAUG-GUID-C674585F-7F67-44DC-8631-D4173610AE0B" class="sect4"><span class="enumeration_section">4.3.3</span>钻至后代</h4>
                  <div>
                     <div class="section">
                        <p>以下<code class="codeph">WHERE</code>子句通过选择<code class="codeph">LEVEL_NAME</code>为<code class="codeph">MONTH</code>且<code class="codeph">CALENDAR_YEAR</code>为<code class="codeph">CY2005</code>的行来选择日历年<code class="codeph">2005</code>的后代。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择时间级别和祖先* / WHERE t.level_name ='MONTH'和t.calendar_year ='CY2005'AND p.dim_key ='TOTAL'AND cu.dim_key ='TOTAL'AND ch.dim_key ='TOTAL'</pre><p>查询向下钻取两个级别，从一年到一个季度到一个月。12个月的<code class="codeph">Jan-05</code>到<code class="codeph">Dec-05</code>是今年的后代<code class="codeph">2005</code>的日历层次结构。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- JAN-05 12093518 FEB-05 10103162 MAR-05 9184658 APR-05 9185964 MAY-05 11640216 JUN-05 16816561 JUL-05 11110903 AUG- 05 9475807 SEP-05 12030538 OCT-05 11135032 NOV-05 11067754 DEC-05 13142459</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9178"></a><div class="props_rev_3"><a id="GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96" name="GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96"></a><h4 id="OLAUG-GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96" class="sect4"><span class="enumeration_section">4.3.4</span>钻探祖先</h4>
                  <div>
                     <div class="section">
                        <p>层次结构视图提供每个维度键的完整祖先，如<span class="q">“ <a href="querying-dimensional-objects.html#GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC">显示层次结构视图的内容</a> ”中所示</span> 。以下<code class="codeph">WHERE</code>子句使用<code class="codeph">CALENDAR_YEAR</code>级别键列来标识<code class="codeph">MONTH</code>维度键的祖先。
                        </p><pre class="oac_no_warn" dir="ltr">/ *根据其长描述属性选择时间键的祖先* / WHERE t.dim_key =（SELECT calendar_year FROM time_calendar_view WHERE long_description ='JAN-05'）AND p.dim_key ='TOTAL'AND cu.dim_key =' TOTAL'和ch.dim_key ='TOTAL'</pre><p>该查询从一个月到另一个季度向上钻两个级别。<code class="codeph">Jan-05</code>年<code class="codeph">Jan-05</code>的祖先是日历层次结构中的<code class="codeph">2005</code>年。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- 2005 136986572</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLAUG9472"></a><a id="OLAUG9179"></a><div class="props_rev_3"><a id="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A" name="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A"></a><h3 id="OLAUG-GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A" class="sect3"><span class="enumeration_section">4.4</span>在查询中使用计算</h3>
               <div>
                  <p><a id="d12486e1665" class="indexterm-anchor"></a> DBA可以在Analytic Workspace Manager中创建计算度量，因此它们可供所有应用程序使用。这不仅简化了应用程序开发，还确保所有应用程序使用相同的名称进行相同的计算。
                  </p>
                  <p>尽管如此，您可能希望开发包含您自己的计算的查询。在这种情况下，您可以使用内部查询从多维数据集中选择聚合数据，然后在外部查询中执行计算。您可以从使用任何类型的聚合运算符的多维数据集中选择数据，并且可以在查询中使用任何函数或运算符。您必须确保仅在适当级别选择多维数据集中的数据进行计算，并且多维数据集和查询中的运算符组合可以创建所需的计算。</p>
                  <div class="example" id="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A__CBAHIIGG">
                     <p class="titleinexample">示例4-4计算客户平均销售额</p>
                     <p>此示例显示了一个回答问题的查询，即2005财年第三季度Sentinel Standard计算机向政府客户的平均销售额。<code class="codeph">UNITS_CUBE</code>总结了所有维度，因此<code class="codeph">FY2005.Q3</code>是7月，8月和9月的总和。内部查询提取这些月份的数据，外部查询使用<code class="codeph">MIN</code> ， <code class="codeph">MAX</code>和<code class="codeph">AVG</code>运算符以及<code class="codeph">GROUP BY</code>子句来计算平均值。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT客户，ROUND（MIN（销售额））最小值，ROUND（MAX（销售额））最大值，ROUND（AVG（销售额））平均值FROM（SELECT cu.long_description客户，t.month_long_description时间f.sales销售额来自time_fiscal_view t，product_primary_view p，customer_market_view cu，channel_primary_view ch，units_cube_view f WHERE t.parent ='FY2005。Q3'AND p.dim_key ='SENT STD'和cu.parent ='GOV'和ch.level_name ='TOTAL'和t.dim_key = f.time AND p.dim_key = f.product AND cu.dim_key = f。客户AND ch.dim_key = f.channel）GROUP BY客户ORDER BY客户;</pre><p>这是内部查询从多维数据集中提取的数据：</p><pre class="oac_no_warn" dir="ltr">CUSTOMER TIME SALES ---------------------------------------- ------- -  ----------劳工部JAN-05 1553.26劳工部MAR-05 1555.6国际贸易部JAN-05 1553.26国际贸易部FEB-05 1554.56国际贸易部MAR-05 1555.6皇家空军JAN-05 1553.26英国皇家空军FEB-05 6218.23英国环境部JAN-05 4659.78英国环境部FEB-05 3109.12</pre><p>外部查询计算每个客户的最小，最大和平均销售额：</p><pre class="oac_no_warn" dir="ltr">CUSTOMER MINIMUM MAXIMUM AVERAGE ------------------------------ ---------- ------ ---- ----------劳工部1553 1556 1554国际贸易部1553 1556 1554英国皇家空军1553 6218 3886英国环境部3109 4660 3884</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAUG9180"></a><div class="props_rev_3"><a id="GUID-08A8F74B-779F-425C-A148-A7070C7E384C" name="GUID-08A8F74B-779F-425C-A148-A7070C7E384C"></a><h3 id="OLAUG-GUID-08A8F74B-779F-425C-A148-A7070C7E384C" class="sect3"><span class="enumeration_section">4.5</span>使用属性进行聚合</h3>
               <div>
                  <p><a id="d12486e1756" class="indexterm-anchor"></a><a id="d12486e1760" class="indexterm-anchor"></a> OLAP多维数据集使用层次结构视图中显示的父子关系聚合其层次结构中的数据。OLAP引擎不会计算维度属性值的聚合。
                  </p>
                  <p>尽管如此，您可能希望按年份，邮政编码或人口密度聚合颜色或大小的产品或客户。在查询多维数据集时可以使用<code class="codeph">GROUP BY</code>子句。您的查询可以从多维数据集中提取数据，然后使用SQL按属性值进行聚合。
                  </p>
                  <p><a id="d12486e1769" class="indexterm-anchor"></a>多维数据集必须对所有维使用相同的聚合运算符，并且查询的<code class="codeph">SELECT</code>列表中的聚合运算符必须与多维数据集的聚合运算符匹配。您可以使用<code class="codeph">GROUP BY</code>子句查询使用这些运算符的多维数据集：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>第一个非NA值</p>
                     </li>
                     <li>
                        <p>最后的非NA值</p>
                     </li>
                     <li>
                        <p>最大值</p>
                     </li>
                     <li>
                        <p>最低限度</p>
                     </li>
                     <li>
                        <p>和</p>
                     </li>
                  </ul>
               </div><a id="OLAUG9473"></a><a id="OLAUG9181"></a><div class="props_rev_3"><a id="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9" name="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9"></a><h4 id="OLAUG-GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9" class="sect4"><span class="enumeration_section">4.5.1</span>在属性上聚合度量</h4>
                  <div>
                     <p><a href="querying-dimensional-objects.html#GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9__CBABAGBE">示例4-5</a>显示了一个聚合在名为Package的属性上的查询。它返回以下结果：</p><pre class="oac_no_warn" dir="ltr">时间套餐销售------ ------------------ ---------- 2005全部1809157.64 2005多媒体18083256.3 2005执行19836977 2005笔记本电脑超值套装9547494.81</pre><p>单位立方体使用<code class="codeph">SUM</code>为所有的维运算符和查询使用<code class="codeph">SUM</code>运营商聚集在销售。Package属性仅适用于Product维度的Item级别，因此查询选择Product的Item级别。它还消除了Package的空值，因此只有属于包的产品才包含在计算中。<code class="codeph">GROUP BY</code>子句按时间和包打破总销售额。
                     </p>
                     <div class="example" id="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9__CBABAGBE">
                        <p class="titleinexample">示例4-5在属性上聚合</p><pre class="oac_no_warn" dir="ltr">SELECT t.long_description time，p.package package，SUM（f.sales）sales FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *按级别和属性选择产品* / WHERE p.level_name ='ITEM 'AND p.package IS NOT NULL且t.long_description ='2005'AND cu.level_name ='TOTAL'AND ch.level_name ='TOTAL'/ * Join dimensions and cube * / AND t.dim_key = f.time AND p .dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel GROUP BY t.long_description，p.package;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9474"></a><a id="OLAUG9182"></a><div class="props_rev_3"><a id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF" name="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF"></a><h4 id="OLAUG-GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF" class="sect4"><span class="enumeration_section">4.5.2</span>在属性上聚合计算的度量</h4>
                  <div>
                     <p><a id="d12486e1916" class="indexterm-anchor"></a>在使用<span class="q">“ <a href="querying-dimensional-objects.html#GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9">在属性上聚合度量</a> ”中</span>描述的技术之前，请确保计算有意义。例如，常用计算百分比变化可以定义为多维数据集中的计算度量。对百分比变化求和会产生意外结果，因为百分比变化（ <span class="italic"><code class="codeph">(ab)/b</code></span> ，）的计算不是累加的。
                     </p>
                     <p>请考虑以下数据行。正确的总百分比变化是<code class="codeph">.33</code> ，而前两行的百分比变化总和是<code class="codeph">.75</code> 。
                     </p>
                     <div class="tblformal" id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__GUID-EAD2463C-2F67-4E56-9185-BBC51AD02D90">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Example of adding a nonadditive measure" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d12486e1948">行</th>
                                 <th align="left" valign="bottom" width="16%" id="d12486e1951">销售</th>
                                 <th align="left" valign="bottom" width="34%" id="d12486e1954">销售前期</th>
                                 <th align="left" valign="bottom" width="34%" id="d12486e1957">变化百分比</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1962" headers="d12486e1948 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1962 d12486e1951 ">
                                    <p><code class="codeph">15</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1962 d12486e1954 ">
                                    <p><code class="codeph">10</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1962 d12486e1957 ">
                                    <p><code class="codeph">0.50</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1978" headers="d12486e1948 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1978 d12486e1951 ">
                                    <p><code class="codeph">25</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1978 d12486e1954 ">
                                    <p><code class="codeph">20</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1978 d12486e1957 ">
                                    <p><code class="codeph">0.25</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1994" headers="d12486e1948 ">
                                    <p><span class="bold">总</span></p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1994 d12486e1951 ">
                                    <p><span class="bold"><code class="codeph">40</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1994 d12486e1954 ">
                                    <p><span class="bold"><code class="codeph">三十</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1994 d12486e1957 ">
                                    <p><span class="bold"><code class="codeph">0.33</code></span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="querying-dimensional-objects.html#GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__CBAFHFIH">示例4-6</a>显示了一个查询，该查询聚合在Package属性上并计算从上一期间的百分比变化。内部查询在属性上聚合Sales和Sales Prior Period，外部查询使用结果计算百分比变化。这些是查询的结果，显示<code class="codeph">PCT_CHG_PP</code>的预期结果：</p><pre class="oac_no_warn" dir="ltr">TIME PACKAGE SALES PRIOR_PERIOD PCT_CHG_PP ------ ------------------ ---------- ----------- -  ---------- 2005 All 1809157.64 1853928.06 -.02414895 2006 All 1720399.03 1809157.64 -.04906074 2005 Executive 19836977 20603879.8 -.03722128 2006 Executive 19580638.4 19836977 -.01292226 2005 Laptop Value Pack 9547494.81 10047298.6 -.04974509 2006 Laptop Value Pack 9091450.58 9547494.81 -.04776585 2005 Multimedia 18083256.3 19607675.5 -.07774604 2006 Multimedia 18328678.7 18083256.3 .013571806 8 rows selected。</pre><div class="example" id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__CBAFHFIH">
                        <p class="titleinexample">示例4-6使用计算度量查询属性</p><pre class="oac_no_warn" dir="ltr">/ *计算百分比变化* / SELECT TIME，package，sales，prior_period，（（sales  -  prior_period）/ prior_period）pct_chg_pp FROM / *从多维数据集中获取数据并在Package * /上聚合（SELECT t.long_description time，p.package package，SUM（f.sales）sales，SUM（f.sales_pp）prior_period FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *创建过滤器* / WHERE p.level_name ='ITEM'和p.package IS NOT NULL和t.long_description IN（'2005'，'2006'）AND cu.level_name ='TOTAL'AND ch.level_name ='TOTAL'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f。 time AND p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel GROUP BY t.long_description，p.package ORDER BY p.package）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="OLAUG9562"></a><a id="OLAUG9595"></a><div class="props_rev_3"><a id="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8" name="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8"></a><h3 id="OLAUG-GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8" class="sect3"><span class="enumeration_section">4.6将</span>多维数据集连接到表和视图</h3>
               <div>
                  <p><a id="d12486e2078" class="indexterm-anchor"></a><a id="d12486e2080" class="indexterm-anchor"></a>您可以将多维数据集连接到其他多维数据集以及关系对象，例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>表</p>
                     </li>
                     <li>
                        <p>视图包括外部表和PL / SQL表函数</p>
                     </li>
                     <li>
                        <p>其他行源类型，如其他连接</p>
                     </li>
                  </ul>
                  <p><a id="d12486e2096" class="indexterm-anchor"></a>通常，在将表连接到表或视图时，不需要完全聚合的多维数据集，并且<code class="codeph">CUBE JOIN</code>操作会限制提取的值的数量以自动提高性能。立方体必须位于等式的右侧。如果查询不支持<code class="codeph">CUBE JOIN</code> ，则通常使用更昂贵的<code class="codeph">HASH JOIN</code> ， <code class="codeph">MERGE JOIN</code>或<code class="codeph">NESTED LOOPS</code> 。
                  </p>
                  <p><a id="d12486e2115" class="indexterm-anchor"></a><a id="d12486e2117" class="indexterm-anchor"></a>您可以在查询中使用提示来影响<code class="codeph">CUBE JOIN</code>的使用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果可能， <code class="codeph">USE_CUBE</code>强制执行<code class="codeph">CUBE JOIN</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NO_USE_CUBE</code>阻止<code class="codeph">CUBE JOIN</code> 。</p>
                     </li>
                  </ul>
                  <p>有关<code class="codeph">CUBE JOIN</code>详细信息，请参阅<span class="q">“ <a href="querying-dimensional-objects.html#GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678">查看执行计划</a> ”</span> 。</p>
                  <p><a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8__BGBHEBGH">示例4-7</a>将包含Customer维度的法语描述的表连接到仅支持英语的多维数据集。查询返回以下结果：</p><pre class="oac_no_warn" dir="ltr">客户销售---------------------------------------- -------- ---- La Marine des USA Washington 600.34 Monolith Motor Co. Chattanooga 17946.51 Piedmont，Inc。San Jose 24874.41 Ministere du Commerce Int。长野27595.97出发。 des commun。 - 斯图加特30706.10分钟信封。英国人。Londres 38125.77 Nouvelle-Orleans 42507.50 Ministere des Finances Sorbonne 43607.58 Monolith Motor Co. Knoxville 50874.53 Serv。 des USA de recherche Wyo 54497.19出发。 des commun。 - 波恩58944.97。。。</pre><div class="example" id="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8__BGBHEBGH">
                     <p class="titleinexample">示例4-7连接多维数据集和表</p><pre class="oac_no_warn" dir="ltr">SELECT cu.ship_to_dsc_french customer，f.sales sales FROM time_calendar_view t，product_primary_view p，customer_dim cu，channel_primary_view ch，units_cube_view f WHERE t.dim_key ='CY2006'AND p.level_name ='TOTAL'AND ch.level_name ='TOTAL'AND t.dim_key = f。TIME和p.dim_key = f.product AND cu.ship_to_id = f.customer AND ch.dim_key = f.channel ORDER BY f.sales;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAUG9183"></a><div class="props_rev_3"><a id="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678" name="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678"></a><h3 id="OLAUG-GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678" class="sect3"><span class="enumeration_section">4.7</span>查看执行计划</h3>
               <div>
                  <p><a id="d12486e2210" class="indexterm-anchor"></a>您可以生成和查看针对多维数据集和维度的查询的执行计划，与针对关系表的查询相同。
                  </p>
                  <p>SQL <a id="d12486e2215" class="indexterm-anchor"></a> <code class="codeph">EXPLAIN PLAN</code>命令创建一个包含解释计划内容的表。默认表名是<code class="codeph">PLAN_TABLE</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678__GUID-111FAFAD-D2D0-45CC-96F8-BFE4EC858645">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../tgsql/index.html" target="_blank"><span class="italic">Oracle数据库SQL调优指南，</span></a>用于完整讨论执行计划</p>
                  </div>
               </div><a id="OLAUG9476"></a><a id="OLAUG9563"></a><a id="OLAUG9184"></a><div class="props_rev_3"><a id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD" name="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD"></a><h4 id="OLAUG-GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD" class="sect4"><span class="enumeration_section">4.7.1</span>生成执行计划</h4>
                  <div>
                     <p>以下命令为多维数据集上的基本查询创建执行计划：</p><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN FOR SELECT t.long_description time，p.long_description product，cu.long_description customer，ch.long_description channel，f.sales sales FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f WHERE t.level_name ='CALENDAR_YEAR 'AND p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'和t.dim_key = f。TIME和p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY t.end_date;</pre><div class="example" id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD__BAJEJJDJ">
                        <p class="titleinexample">示例4-8多维数据集查询的执行计划</p>
                        <p><code class="codeph">DBMS_XPLAN</code> PL / SQL包的<code class="codeph">DISPLAY</code>表函数格式化并显示执行计划中的信息，如本例所示。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT plan_table_output FROM TABLE（dbms_xplan.display（））; PLAN_TABLE_OUTPUT ------------------------------------------------- -----------------------------------------计划哈希值：1667678335 ---- -------------------------------------------------- ---------------------------------------- | Id |操作|名称|行|字节|成本（％CPU）|时间| -------------------------------------------------- -------------------------------------------- | 0 |选择声明| | 1 | 100 | 104（3）| 00:00:02 | | 1 |排序顺序| | 1 | 100 | 104（3）| 00:00:02 | | 2 | JOINED CUBE SCAN PARTIAL OUTER | | | | | | | 3 | CUBE ACCESS | UNITS_CUBE | | | | | | 4 | CUBE ACCESS | CHANNEL | | | | | | 5 | CUBE ACCESS |客户| | | | | | 6 | CUBE ACCESS |产品| | | | | | * 7 | CUBE ACCESS |时间| 1 | 100 | 103（2）| 00:00:02 | -------------------------------------------------- --------------------------------------------谓词信息（由操作识别ID）：  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - ---- 7  - 过滤器（SYS_OP_ATG（VALUE（KOKBF $），12,13,2）='CALENDAR_YEAR'和SYS_OP_ATG（VALUE（KOKBF $），43,44,2）='TOTAL'和SYS_OP_ATG（VALUE（ KOKBF $），33,34,2）='TOTAL'和SYS_OP_ATG（VALUE（KOKBF $），23,24,2）='TOTAL'）选择了22行。
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD__BGBBGIAE">
                        <p class="titleinexample">示例4-9多维数据集加入的执行计划</p>
                        <p>此示例显示连接多维数据集和表的查询的执行计划。有关查询，请参阅<span class="q">“将<a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8">多维数据集连接到表和视图</a> ”</span> 。
                        </p><pre class="oac_no_warn" dir="ltr">PLAN_TABLE_OUTPUT ------------------------------------------------- ------------------------------------------------计划哈希值：3634608218 ----------------------------------------------- -------------------------------------------------- | Id |操作|名称|行|字节| TempSpc |成本（％CPU）|时间| -------------------------------------------------- ------------------------------------------------ | 0 |选择声明| | 1464 | 128K | | 1524（94）| 00：00：19 | | 1 |排序顺序| | 1464 | 128K | 152K | 1524（94）| 00：00：19 | | * 2 | CUBE JOIN | | 1464 | 128K | | 1422（100）| 00：00：18 | | 3 |表访问完全| CUSTOMER_DIM | 61 | 2379 | | 4（0）| 00：00：01 | | 4 | JOINED CUBE SCAN PARTIAL OUTER | | | | | | | | 5 | CUBE ACCESS | UNITS_CUBE | | | | | | | 6 | CUBE ACCESS | CHANNEL | | | | | | | 7 | CUBE ACCESS |产品| | | | | | | * 8 | CUBE ACCESS |时间| 2520 | 125K | | 1417（100）| 00：00：18 | -------------------------------------------------- ------------------------------------------------谓词信息（由操作ID标识）：------------------------------------------- -------- 2  - 访问（“CU”。“SHIP_TO_ID”= SYS_OP_ATG（VALUE（KOKBF $），76,77,2））8  - 过滤器（SYS_OP_ATG（VALUE（KOKBF $），32,33 ，2）='CY2006'和SYS_OP_ATG（VALUE（KOKBF $），85,86,2）='TOTAL'和SYS_OP_ATG（VALUE（KOKBF $），65,66,2）='TOTAL'）选择了22行。</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9477"></a><a id="OLAUG9185"></a><div class="props_rev_3"><a id="GUID-3F1F9973-3702-4545-953A-563A43BC2712" name="GUID-3F1F9973-3702-4545-953A-563A43BC2712"></a><h4 id="OLAUG-GUID-3F1F9973-3702-4545-953A-563A43BC2712" class="sect4"><span class="enumeration_section">4.7.2</span>执行计划的类型</h4>
                  <div>
                     <div class="section">
                        <p><a href="querying-dimensional-objects.html#GUID-3F1F9973-3702-4545-953A-563A43BC2712__BAJEJAFJ" title="执行计划">表4-1</a>描述了多维数据集的执行计划类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3F1F9973-3702-4545-953A-563A43BC2712__BAJEJAFJ">
                        <p class="titleintable">表4-1多维数据集和维度执行计划的说明</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="多维数据集和尺寸执行计划的描述" width="100%" border="1" summary="Execution Plans" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="14%" id="d12486e2378">手术</th>
                                 <th align="left" valign="bottom" width="20%" id="d12486e2381">选项</th>
                                 <th align="left" valign="bottom" width="66%" id="d12486e2384">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2389" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2389 d12486e2381 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2389 d12486e2384 ">
                                    <p>连接左侧的表格或视图以及右侧的立方体。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2400" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2400 d12486e2381 ">
                                    <p><code class="codeph">抗</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2400 d12486e2384 ">
                                    <p>对左边的表或视图使用反连接，在右边使用立方体。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2412" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2412 d12486e2381 ">
                                    <p><code class="codeph">反SNA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2412 d12486e2384 ">
                                    <p>对左侧的表或视图使用反连接（单面Null Aware），在右侧使用立方体。右侧（多维数据集侧）的连接<code class="codeph">NOT NULL</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT cols FROM table WHERE table.c1 NOT IN（SELECT col FROM cube WHERE cube.col IS NOT NULL）</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2429" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2429 d12486e2381 ">
                                    <p><code class="codeph">外</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2429 d12486e2384 ">
                                    <p>对左侧的表或视图使用外部联接，在右侧使用多维数据集。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2441" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2441 d12486e2381 ">
                                    <p><code class="codeph">正确的SEMI</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2441 d12486e2384 ">
                                    <p>使用右侧半连接表示左侧的表格或视图，右侧使用立方体。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2453" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2453 d12486e2381 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2453 d12486e2384 ">
                                    <p><a id="d12486e2462" class="indexterm-anchor"></a>使用内部联接进行所有多维数据集访问。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2466" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2466 d12486e2381 ">
                                    <p><code class="codeph">部分外部</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2466 d12486e2384 ">
                                    <p>使用外部联接至少一个维度，内部联接使用其他维度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2478" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2478 d12486e2381 ">
                                    <p><code class="codeph">外</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2478 d12486e2384 ">
                                    <p>使用外部联接进行所有多维数据集访问。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-3F1F9973-3702-4545-953A-563A43BC2712__GUID-37D8EA75-A7AD-4981-BDC2-E63691628F33">
                           <p class="notep1">也可以看看：</p>
                           <p>有关这些连接类型的描述，请<a href="../sqlrf/Joins.html#SQLRF30046" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a>
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLAUG9478"></a><a id="OLAUG9186"></a><div class="props_rev_3"><a id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288" name="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288"></a><h3 id="OLAUG-GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288" class="sect3"><span class="enumeration_section">4.8</span>查询数据字典</h3>
               <div>
                  <div class="section">
                     <p>如果您正在开发通用应用程序 - 即，未知维度对象名称的应用程序 - 那么您的应用程序可以从数据字典中检索此信息。</p>
                     <p><a id="d12486e2551" class="indexterm-anchor"></a><a id="d12486e2553" class="indexterm-anchor"></a>在数据库数据字典的静态视图中，提供有关维对象的信息。所有OLAP元数据都存储在数据字典中。本章前面介绍了一些数据字典视图。
                     </p>
                     <p><a href="querying-dimensional-objects.html#GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__CBAHIDHG" title="OLAP的静态数据字典视图的描述">表4-2</a>提供了<code class="codeph">ALL</code>视图的简要说明。有相应的<code class="codeph">DBA</code>和<code class="codeph">USER</code>视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__CBAHIDHG">
                     <p class="titleintable">表4-2 OLAP的静态数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OLAP的静态数据字典视图" width="100%" border="1" summary="Descriptions of static data dictionary views for OLAP" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d12486e2581">视图</th>
                              <th align="left" valign="bottom" width="59%" id="d12486e2584">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2589" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20691" target="_blank"><code class="codeph">ALL_CUBE_ATTR_VISIBILITY</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2589 d12486e2584 ">
                                 <p>描述多维数据集维度的属性的可见性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2599" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20671" target="_blank"><code class="codeph">ALL_CUBE_ATTRIBUTES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2599 d12486e2584 ">
                                 <p>描述多维数据集维度的属性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2609" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_BUILD_PROCESSES.html#REFRN20718" target="_blank"><code class="codeph">ALL_CUBE_BUILD_PROCESSES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2609 d12486e2584 ">
                                 <p>描述多维数据集构建过程和维护脚本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2619" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_CALCULATED_MEMBERS.html#REFRN20672" target="_blank"><code class="codeph">ALL_CUBE_CALCULATED_MEMBERS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2619 d12486e2584 ">
                                 <p>描述多维数据集维度的计算成员（键）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2629" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_LEVELS.html#REFRN20677" target="_blank"><code class="codeph">ALL_CUBE_DIM_LEVELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2629 d12486e2584 ">
                                 <p>描述多维数据集维度级别。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2639" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_MODELS.html#REFRN20678" target="_blank"><code class="codeph">ALL_CUBE_DIM_MODELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2639 d12486e2584 ">
                                 <p>描述立方体尺寸的模型。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2649" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_VIEW_COLUMNS.html#REFRN20680" target="_blank"><code class="codeph">ALL_CUBE_DIM_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2649 d12486e2584 ">
                                 <p>描述系统生成的多维数据集维度关系视图的列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2659" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_VIEWS.html#REFRN20679" target="_blank"><code class="codeph">ALL_CUBE_DIM_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2659 d12486e2584 ">
                                 <p>描述系统生成的OLAP维度的关系视图。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2669" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIMENSIONALITY.html#REFRN20674" target="_blank"><code class="codeph">ALL_CUBE_DIMENSIONALITY</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2669 d12486e2584 ">
                                 <p>描述OLAP多维数据集的维度顺序。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2679" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIMENSIONS.html#REFRN20690" target="_blank"><code class="codeph">ALL_CUBE_DIMENSIONS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2679 d12486e2584 ">
                                 <p>描述立方体尺寸。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2689" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIER_LEVELS.html#REFRN20685" target="_blank"><code class="codeph">ALL_CUBE_HIER_LEVELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2689 d12486e2584 ">
                                 <p>描述多维数据集维度的层次结构级别。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2700" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIER_VIEW_COLUMNS.html#REFRN20687" target="_blank"><code class="codeph">ALL_CUBE_HIER_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2700 d12486e2584 ">
                                 <p>描述多维数据集维度的关系层次结构视图的列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2710" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20686" target="_blank"><code class="codeph">ALL_CUBE_HIER_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2710 d12486e2584 ">
                                 <p>描述多维数据集维度的层次结构。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2720" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIERARCHIES.html#REFRN20684" target="_blank"><code class="codeph">ALL_CUBE_HIERARCHIES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2720 d12486e2584 ">
                                 <p>描述OLAP维层次结构。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2730" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_MEASURES.html#REFRN20688" target="_blank"><code class="codeph">ALL_CUBE_MEASURES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2730 d12486e2584 ">
                                 <p>描述OLAP多维数据集中的度量。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2740" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_VIEW_COLUMNS.html#REFRN20676" target="_blank"><code class="codeph">ALL_CUBE_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2740 d12486e2584 ">
                                 <p>描述OLAP多维数据集的关系视图的列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2750" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_VIEWS.html#REFRN20675" target="_blank"><code class="codeph">ALL_CUBE_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2750 d12486e2584 ">
                                 <p>描述系统生成的OLAP多维数据集的关系视图。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2760" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBES.html#REFRN20673" target="_blank"><code class="codeph">ALL_CUBES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2760 d12486e2584 ">
                                 <p>描述OLAP多维数据集。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2770" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_MEASURE_FOLDER_CONTENTS.html#REFRN20716" target="_blank"><code class="codeph">ALL_MEASURE_FOLDER_CONTENTS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2770 d12486e2584 ">
                                 <p>描述OLAP度量文件夹的内容。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2780" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_MEASURE_FOLDERS.html#REFRN20689" target="_blank"><code class="codeph">ALL_MEASURE_FOLDERS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2780 d12486e2584 ">
                                 <p>描述OLAP度量文件夹。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__GUID-31122669-3148-46AB-A7D1-F0D9C007C4BD">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20691" target="_blank"><span class="italic">Oracle数据库参考，</span></a>用于完整描述数据字典视图。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>