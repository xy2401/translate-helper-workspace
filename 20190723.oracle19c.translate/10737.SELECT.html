<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>选择</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SAVEPOINT.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SET-CONSTRAINTS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SAVEPOINT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SET-CONSTRAINTS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-MERGE-to-UPDATE.html" property="item" typeof="WebPage"><span property="name">SQL语句：MERGE更新</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">选择</li>
            </ol>
            <a id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6" name="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6"></a><a id="SQLRF55224"></a><a id="SQLRF55225"></a><a id="SQLRF55226"></a><a id="SQLRF56374"></a><a id="SQLRF55663"></a><a id="SQLRF55227"></a><a id="SQLRF55228"></a><a id="SQLRF55574"></a><a id="SQLRF55229"></a><a id="SQLRF55230"></a><a id="SQLRF55231"></a><a id="SQLRF55232"></a><a id="SQLRF55233"></a><a id="SQLRF55234"></a><a id="SQLRF55235"></a><a id="SQLRF55236"></a><a id="SQLRF55237"></a><a id="SQLRF55238"></a><a id="SQLRF55239"></a><a id="SQLRF55240"></a><a id="SQLRF55241"></a><a id="SQLRF56897"></a><a id="SQLRF55242"></a><a id="SQLRF55243"></a><a id="SQLRF55244"></a><a id="SQLRF55245"></a><a id="SQLRF55246"></a><a id="SQLRF56412"></a><a id="SQLRF55247"></a><a id="SQLRF55248"></a><a id="SQLRF55249"></a><a id="SQLRF55250"></a><a id="SQLRF55251"></a><a id="SQLRF55252"></a><a id="SQLRF55253"></a><a id="SQLRF55254"></a><a id="SQLRF55255"></a><a id="SQLRF55256"></a><a id="SQLRF55257"></a><a id="SQLRF55258"></a><a id="SQLRF55259"></a><a id="SQLRF55260"></a><a id="SQLRF55261"></a><a id="SQLRF55262"></a><a id="SQLRF55263"></a><a id="SQLRF55264"></a><a id="SQLRF55265"></a><a id="SQLRF55266"></a><a id="SQLRF55631"></a><a id="SQLRF55267"></a><a id="SQLRF56441"></a><a id="SQLRF56442"></a><a id="SQLRF56443"></a><a id="SQLRF56444"></a><a id="SQLRF56445"></a><a id="SQLRF56446"></a><a id="SQLRF56447"></a><a id="SQLRF56448"></a><a id="SQLRF56449"></a><a id="SQLRF56450"></a><a id="SQLRF56452"></a><a id="SQLRF56453"></a><a id="SQLRF56451"></a><a id="SQLRF56454"></a><a id="SQLRF56455"></a><a id="SQLRF56456"></a><a id="SQLRF56457"></a><a id="SQLRF56508"></a><a id="SQLRF56509"></a><a id="SQLRF56510"></a><a id="SQLRF56511"></a><a id="SQLRF56512"></a><a id="SQLRF56513"></a><a id="SQLRF56514"></a><a id="SQLRF56515"></a><a id="SQLRF55664"></a><a id="SQLRF55665"></a><a id="SQLRF30048"></a><a id="SQLRF55268"></a><a id="SQLRF55269"></a><a id="SQLRF55575"></a><a id="SQLRF55270"></a><a id="SQLRF55271"></a><a id="SQLRF55272"></a><a id="SQLRF55273"></a><a id="SQLRF55274"></a><a id="SQLRF55275"></a><a id="SQLRF55276"></a><a id="SQLRF55277"></a><a id="SQLRF55278"></a><a id="SQLRF55279"></a><a id="SQLRF55280"></a><a id="SQLRF55281"></a><a id="SQLRF55282"></a><a id="SQLRF55283"></a><a id="SQLRF55284"></a><a id="SQLRF55632"></a><a id="SQLRF55633"></a><a id="SQLRF55285"></a><a id="SQLRF55287"></a><a id="SQLRF55286"></a><a id="SQLRF56458"></a><a id="SQLRF56459"></a><a id="SQLRF56392"></a><a id="SQLRF55288"></a><a id="SQLRF55289"></a><a id="SQLRF55290"></a><a id="SQLRF55291"></a><a id="SQLRF55292"></a><a id="SQLRF55293"></a><a id="SQLRF55294"></a><a id="SQLRF55295"></a><a id="SQLRF55296"></a><a id="SQLRF55298"></a><a id="SQLRF55299"></a><a id="SQLRF55300"></a><a id="SQLRF55301"></a><a id="SQLRF55302"></a><a id="SQLRF30047"></a><a id="SQLRF55303"></a><a id="SQLRF55304"></a><a id="SQLRF55305"></a><a id="SQLRF55306"></a><a id="SQLRF55307"></a><a id="SQLRF55308"></a><a id="SQLRF55309"></a><a id="SQLRF56898"></a><a id="SQLRF55310"></a><a id="SQLRF55311"></a><a id="SQLRF55312"></a><a id="SQLRF55313"></a><a id="SQLRF55314"></a><a id="SQLRF55315"></a><a id="SQLRF55316"></a><a id="SQLRF56413"></a><a id="SQLRF55317"></a><a id="SQLRF55319"></a><a id="SQLRF55320"></a><a id="SQLRF55325"></a><a id="SQLRF55326"></a><a id="SQLRF55318"></a><a id="SQLRF55321"></a><a id="SQLRF55322"></a><a id="SQLRF55323"></a><a id="SQLRF55324"></a><a id="SQLRF56414"></a><a id="SQLRF56415"></a><a id="SQLRF55327"></a><a id="SQLRF55328"></a><a id="SQLRF55329"></a><a id="SQLRF55330"></a><a id="SQLRF20038"></a><a id="SQLRF55331"></a><a id="SQLRF55332"></a><a id="SQLRF55333"></a><a id="SQLRF20040"></a><a id="SQLRF55334"></a><a id="SQLRF55335"></a><a id="SQLRF55336"></a><a id="SQLRF55337"></a><a id="SQLRF55338"></a><a id="SQLRF55339"></a><a id="SQLRF55340"></a><a id="SQLRF55341"></a><a id="SQLRF55342"></a><a id="SQLRF55343"></a><a id="SQLRF55344"></a><a id="SQLRF55345"></a><a id="SQLRF55346"></a><a id="SQLRF55347"></a><a id="SQLRF55348"></a><a id="SQLRF55349"></a><a id="SQLRF55350"></a><a id="SQLRF55351"></a><a id="SQLRF55352"></a><a id="SQLRF55353"></a><a id="SQLRF55354"></a><a id="SQLRF55355"></a><a id="SQLRF55356"></a><a id="SQLRF55357"></a><a id="SQLRF55358"></a><a id="SQLRF55359"></a><a id="SQLRF55360"></a><a id="SQLRF55361"></a><a id="SQLRF55362"></a><a id="SQLRF55363"></a><a id="SQLRF20039"></a><a id="SQLRF55364"></a><a id="SQLRF55365"></a><a id="SQLRF55366"></a><a id="SQLRF55367"></a><a id="SQLRF55368"></a><a id="SQLRF55369"></a><a id="SQLRF55636"></a><a id="SQLRF55637"></a><a id="SQLRF55638"></a><a id="SQLRF55639"></a><a id="SQLRF55640"></a><a id="SQLRF55641"></a><a id="SQLRF55642"></a><a id="SQLRF55643"></a><a id="SQLRF55644"></a><a id="SQLRF55370"></a><a id="SQLRF55371"></a><a id="SQLRF01706"></a><a id="SQLRF55372"></a><a id="SQLRF55373"></a><a id="SQLRF55374"></a><a id="SQLRF56466"></a><a id="SQLRF56467"></a><a id="SQLRF56468"></a><a id="SQLRF56469"></a><a id="SQLRF56470"></a><a id="SQLRF56471"></a><a id="SQLRF56472"></a><a id="SQLRF56516"></a><a id="SQLRF56473"></a><a id="SQLRF56474"></a><a id="SQLRF56475"></a><a id="SQLRF56476"></a><a id="SQLRF56517"></a><a id="SQLRF56477"></a><a id="SQLRF56478"></a><a id="SQLRF56479"></a><a id="SQLRF56480"></a><a id="SQLRF56481"></a><a id="SQLRF56518"></a><a id="SQLRF56482"></a><a id="SQLRF56483"></a><a id="SQLRF56484"></a><a id="SQLRF56485"></a><a id="SQLRF56486"></a><a id="SQLRF56487"></a><a id="SQLRF56488"></a><a id="SQLRF56489"></a><a id="SQLRF56519"></a><a id="SQLRF56491"></a><a id="SQLRF55666"></a><a id="SQLRF55375"></a><a id="SQLRF55576"></a><a id="SQLRF55376"></a><a id="SQLRF55377"></a><a id="SQLRF55378"></a><a id="SQLRF55379"></a><a id="SQLRF55380"></a><a id="SQLRF55381"></a><a id="SQLRF55382"></a><a id="SQLRF55383"></a><a id="SQLRF55384"></a><a id="SQLRF55385"></a><a id="SQLRF55386"></a><a id="SQLRF55645"></a><a id="SQLRF55387"></a><a id="SQLRF55388"></a><a id="SQLRF55389"></a><a id="SQLRF55390"></a><a id="SQLRF55391"></a><a id="SQLRF55392"></a><a id="SQLRF55393"></a><a id="SQLRF55394"></a><a id="SQLRF55395"></a><a id="SQLRF55396"></a><a id="SQLRF56416"></a><a id="SQLRF55646"></a><a id="SQLRF55397"></a><a id="SQLRF55398"></a><a id="SQLRF55399"></a><a id="SQLRF55400"></a><a id="SQLRF55401"></a><a id="SQLRF55402"></a><a id="SQLRF55403"></a><a id="SQLRF56520"></a><a id="SQLRF01702"></a>
            
            <h2 id="SQLRF-GUID-CFA006CA-6FF1-4972-821E-6996142A51C6" class="sect2">选择</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8EE52D52-F43C-42E6-8EA4-01E18B762EDC">目的</p>
                  <p><a id="d425579e611" class="indexterm-anchor"></a><a id="d425579e615" class="indexterm-anchor"></a><a id="d425579e619" class="indexterm-anchor"></a><a id="d425579e623" class="indexterm-anchor"></a><a id="d425579e625" class="indexterm-anchor"></a>使用<code class="codeph">SELECT</code>语句或子查询从一个或多个表，对象表，视图，对象视图，物化视图，分析视图或层次结构中检索数据。
                  </p>
                  <p><a id="d425579e632" class="indexterm-anchor"></a>如果<code class="codeph">SELECT</code>语句的部分或全部结果等效于现有的实例化视图，则Oracle数据库可以使用实例化视图代替<code class="codeph">SELECT</code>语句中指定的一个或多个表。这种替换称为<span class="bold">查询重写</span> 。仅在启用了成本优化且<code class="codeph">QUERY_REWRITE_ENABLED</code>参数设置为<code class="codeph">TRUE</code>才会发生。要确定是否已发生查询重写，请使用<code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>语句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AF5FA7E5-41A1-4F39-B62F-F1B51FCC034C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="SQL-Queries-and-Subqueries.html#GUID-5937EB2B-D3EC-45D4-BF75-1FC02E45DAE2">SQL查询和子查询，</a>用于<a href="SQL-Queries-and-Subqueries.html#GUID-5937EB2B-D3EC-45D4-BF75-1FC02E45DAE2">查询和子查询</a>的一般信息</p>
                        </li>
                        <li>
                           <p>有关<a href="../dwhsg/index.html" target="_blank">物化视图</a> ， <a href="../dwhsg/index.html" target="_blank">查询重写</a>以及<a href="../dwhsg/overview-analytic-views.html#DWHSG-GUID-D384C4EE-1671-4F89-BC69-2D3133194869" target="_blank">分析视图和层次结构的</a>详细信息，请参阅<span class="italic">“Oracle数据库数据仓库指南”</span></p>
                        </li>
                        <li>
                           <p>如果您要查询JSON数据，请参阅<a href="../adjsn/query-json-data.html#ADJSN-GUID-119E5069-77F2-45DC-B6F0-A1B312945590" target="_blank"><span class="italic">查询JSON数据</span></a></p>
                        </li>
                        <li>
                           <p>如果要查询XML数据，请参阅<a href="../adxdb/how-to-use-XML-DB.html#ADXDB-GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" target="_blank"><span class="italic">查询Oracle XML DB中存储的XML内容</span></a></p>
                        </li>
                        <li>
                           <p><a href="EXPLAIN-PLAN.html#GUID-FD540872-4ED3-4936-96A2-362539931BA0">解释计划</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065699">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-82E9D92D-236A-44F6-ADA1-07382B075AE6">先决条件</p>
                  <p>要从表，物化视图，分析视图或层次结构中选择数据，对象必须位于您自己的模式中，或者您必须对表，物化视图，分析视图或层次结构具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限。
                  </p>
                  <p>您可以从视图的基表中选择行：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>该对象必须位于您自己的架构中，或者您必须具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限，并且</p>
                     </li>
                     <li>
                        <p>拥有包含该对象的模式的人必须对基表具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限。
                        </p>
                     </li>
                  </ul>
                  <p><code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权还允许您从任何表，物化视图，分析视图或层次结构或任何物化视图，分析视图或层次结构的基表中选择数据。
                  </p>
                  <p>要指定<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句，前面的先决条件适用于以下异常： <code class="codeph">READ</code>和<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>权限（如果提到）不允许您指定<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句。
                  </p>
                  <p>要使用<span class="italic"><code class="codeph">flashback_query_clause</code></span>发出Oracle闪回查询，您必须对选择列表中的对象具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限。此外，您必须对选择列表中的对象具有<code class="codeph">FLASHBACK</code>对象特权，或者您必须具有<code class="codeph">FLASHBACK</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065706">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4EB6C0EE-4F49-4022-8660-0CA92D920483">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-96499F3F-0417-4640-9A39-ED160D15B00E"><span class="italic">select</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0FC76539-A31C-40F1-B30F-2AEC52D32A61"><img src="img/select.gif" alt="select.eps的描述如下" title="select.eps的描述如下" longdesc="img_text/select.html"><br><a href="img_text/select.html">说明select.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126016">for_update_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-968C68DF-DC48-4A0A-9D1E-547EE7CE1CBE"><span class="italic">subquery</span> :: =</p><a id="d425579e831" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-59E284AE-F8D3-46F0-B9E2-7F4FC4D1AE17"><img src="img/subquery.gif" alt="下面是subquery.eps的描述" title="下面是subquery.eps的描述" longdesc="img_text/subquery.html"><br><a href="img_text/subquery.html">插图描述subquery.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDDCHGF">query_block :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168299">order_by_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBADDD">row_limiting_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDDCHGF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AC332E99-C205-496E-91C0-EE35EB4B69EC"><span class="italic">query_block</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F7488060-9858-4B4F-AC0D-B38E0AFEC627"><img src="img/query_block.gif" alt="query_block.eps的描述如下" title="query_block.eps的描述如下" longdesc="img_text/query_block.html"><br><a href="img_text/query_block.html">query_block.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAFID">with_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126854">select_list :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIJFDJ">table_reference</a></span> <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">:: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIJFDJ">join_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__INLINE_AV-F00C4103">inline_analytic_view</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIFBBI">where_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126079">hierarchical_query_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065777">group_by_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161264">model_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAFID">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7BFCEBF8-6459-4328-8CFC-6FF044E8A147"><span class="italic">with_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4C480357-4C90-479A-8DC4-2B4B33AF7A7B"><img src="img/with_clause.gif" alt="随后是with_clause.eps的描述" title="随后是with_clause.eps的描述" longdesc="img_text/with_clause.html"><br><a href="img_text/with_clause.html">with_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-34B7419E-44F7-4D9B-8784-3810FDF0E355">
                     <p class="notep1">注意：</p>
                     <p>您不能仅指定<code class="codeph">WITH</code>关键字。您必须至少指定一个子句<span class="italic"><code class="codeph">plsql_declarations</code></span> ， <code class="codeph"><span class="codeinlineitalic">subquery_factoring_clause</span></code>或<span class="italic"><code class="codeph">subav_factoring_clause</code></span> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-28DA0E1D-87BF-462E-BCB8-8F77921022F9"><span class="italic">plsql_declarations</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0CC837E5-92F9-43E6-AF6B-F1932C143237"><img src="img/plsql_declarations.gif" alt="下面是plsql_declarations.eps的说明" title="下面是plsql_declarations.eps的说明" longdesc="img_text/plsql_declarations.html"><br><a href="img_text/plsql_declarations.html">说明plsql_declarations.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUBQUERY_FACTORING_CLAUSE-F019C19E">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-185BCBCD-7263-44B3-8C54-AC771BFE2459"><span class="italic">subquery_factoring_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D567D4D1-2B33-49E3-9332-C5EFFA0AF330"><img src="img/subquery_factoring_clause.gif" alt="下面是subquery_factoring_clause.eps的描述" title="下面是subquery_factoring_clause.eps的描述" longdesc="img_text/subquery_factoring_clause.html"><br><a href="img_text/subquery_factoring_clause.html">插图描述subquery_factoring_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-865D8676-D3A4-4D22-A26A-9D26DA370A38"><span class="italic">search_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A28E85E-BE57-4B73-A75F-919DD010C23C"><img src="img/search_clause.gif" alt="search_clause.eps的描述如下" title="search_clause.eps的描述如下" longdesc="img_text/search_clause.html"><br><a href="img_text/search_clause.html">说明search_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6EE9767D-C75F-4AD4-A949-F19F62434C51"><span class="italic">cycle_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1CB71DDE-619B-42D7-9F38-D63AEB40AD86"><img src="img/cycle_clause.gif" alt="下面是cycle_clause.eps的描述" title="下面是cycle_clause.eps的描述" longdesc="img_text/cycle_clause.html"><br><a href="img_text/cycle_clause.html">说明cycle_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUBAV_FACTORING_CLAUSE-F019CB97">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CA1A95FF-85FB-473D-B7EA-17D5C8A0726B"><span class="italic">subav_factoring_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8A7ADE5E-EDD1-4CBE-80EE-50BC3493B8F8"><img src="img/subav_factoring_clause.gif" alt="下面是subav_factoring_clause.eps的描述" title="下面是subav_factoring_clause.eps的描述" longdesc="img_text/subav_factoring_clause.html"><br><a href="img_text/subav_factoring_clause.html">插图描述subav_factoring_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUB_AV_CLAUSE-F01CACDC">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6367CF0A-502E-4E56-B90D-DA69E9F58647"><span class="italic">subav_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A9A59D22-CD29-4A9F-B8B3-621ADAE3B063"><img src="img/subav_clause.gif" alt="下面是subav_clause.eps的描述" title="下面是subav_clause.eps的描述" longdesc="img_text/subav_clause.html"><br><a href="img_text/subav_clause.html">插图描述subav_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A6214ADB-2E92-4979-BDA2-41137690E78C"><span class="italic">hierarchies_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E0E3B1FB-5F71-49EE-B8BF-B22EBE5C79A5"><img src="img/hierarchies_clause.gif" alt="层次结构_clause.eps的描述如下" title="层次结构_clause.eps的描述如下" longdesc="img_text/hierarchies_clause.html"><br><a href="img_text/hierarchies_clause.html">插图hierarchyies_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F37AB143-CA5E-46A2-924B-030FA6C207B4"><span class="italic">filter_clauses</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5923C866-ADF8-40D1-8BD3-6E2D43069A2C"><img src="img/filter_clauses.gif" alt="filter_clauses.eps的描述如下" title="filter_clauses.eps的描述如下" longdesc="img_text/filter_clauses.html"><br><a href="img_text/filter_clauses.html">说明filter_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1B10D3EE-8091-46CD-80D6-36439CE3FA6C"><span class="italic">filter_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EC5E0086-105D-49B5-AB55-5523A6DCBE43"><img src="img/filter_clause.gif" alt="filter_clause.eps的描述如下" title="filter_clause.eps的描述如下" longdesc="img_text/filter_clause.html"><br><a href="img_text/filter_clause.html">说明filter_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EA8DAC8B-C74F-43BF-94C2-45107C5F60E4"><span class="italic">add_calcs_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-70ECB38B-E63B-4E89-86F8-16BE295FFF7C"><img src="img/add_calcs_clause.gif" alt="add_calcs_clause.eps的描述如下" title="add_calcs_clause.eps的描述如下" longdesc="img_text/add_calcs_clause.html"><br><a href="img_text/add_calcs_clause.html">插图说明add_calcs_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9B8A928E-13FC-42AE-9D74-97F074C50408"><span class="italic">calc_meas_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-77D6A227-A6D0-4202-8E66-B04E17711D6A"><img src="img/calc_meas_clause.gif" alt="calc_meas_clause.eps的描述如下" title="calc_meas_clause.eps的描述如下" longdesc="img_text/calc_meas_clause.html"><br><a href="img_text/calc_meas_clause.html">calc_meas_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126854">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6E4DCD2D-EF93-462D-A0AA-F2BDC530F040"><span class="italic">select_list</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-79FE442B-5DB1-4278-ABB3-08D02FC12FE6"><img src="img/select_list.gif" alt="下面是select_list.eps的描述" title="下面是select_list.eps的描述" longdesc="img_text/select_list.html"><br><a href="img_text/select_list.html">说明select_list.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BA9EBF00-28F0-44B4-BD3A-9DB8F9F7F093"><span class="italic">table_reference</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39A71D9A-8213-4A0A-BD94-FE2EF4120197"><img src="img/table_reference.gif" alt="table_reference.eps的描述如下" title="table_reference.eps的描述如下" longdesc="img_text/table_reference.html"><br><a href="img_text/table_reference.html">插图描述table_reference.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126073">query_table_expression :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126134">flashback_query_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDCEJJE">pivot_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJBHHI">unpivot_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAJHB">row_pattern_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEGGHJC">containers_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126134">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9CA8AB48-7DE6-4601-A798-42B2038CA3A6"><span class="italic">flashback_query_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-40A1E315-D04C-40EF-B135-D2E2C9DF1494"><img src="img/flashback_query_clause.gif" alt="下面是flashback_query_clause.eps的描述" title="下面是flashback_query_clause.eps的描述" longdesc="img_text/flashback_query_clause.html"><br><a href="img_text/flashback_query_clause.html">说明flashback_query_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126073">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D249B1D5-F5FA-44CE-9046-85447B4C440B"><span class="italic">query_table_expression</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-98A9E74B-C56B-4397-96D5-32629E7700C7"><img src="img/query_table_expression.gif" alt="query_table_expression.eps的描述如下" title="query_table_expression.eps的描述如下" longdesc="img_text/query_table_expression.html"><br><a href="img_text/query_table_expression.html">query_table_expression.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__ANALYTIC_VIEW-F117119F">analytic_view</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__HIERARCHY-F1175778">hierarchy</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126149">subquery_restriction_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065746">table_collection_expression :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AC907F76-4436-4D28-9EAB-FD3D93AE5648"><span class="italic">inline_external_table</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D38DBFFE-DD26-45BB-9509-585298E897CF"><img src="img/inline_external_table.gif" alt="inline_external_table.eps的描述如下" title="inline_external_table.eps的描述如下" longdesc="img_text/inline_external_table.html"><br><a href="img_text/inline_external_table.html">插图描述inline_external_table.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F78ECBB-8A6D-4857-91C3-AEBAEA11E9F3"><span class="italic">inline_external_table_properties</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-775C1EEB-78BE-448E-AFFD-617AA000EE4B"><img src="img/inline_external_table_properties.gif" alt="inline_external_table_properties.eps的描述如下" title="inline_external_table_properties.eps的描述如下" longdesc="img_text/inline_external_table_properties.html"><br><a href="img_text/inline_external_table_properties.html">插图说明inline_external_table_properties.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BC324A59-5780-461E-8DDF-F8ABCEFD741B"><span class="italic">modified_external_table</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B8405190-E425-49D5-88DA-8111F464256B"><img src="img/modified_external_table.gif" alt="下面是对modified_external_table.eps的描述" title="下面是对modified_external_table.eps的描述" longdesc="img_text/modified_external_table.html"><br><a href="img_text/modified_external_table.html">说明modified_external_table.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F89A12C-9799-4FAA-84EF-3302D811E262"><span class="italic">modify_external_table_properties</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-71C76E72-632B-496F-AF96-C666FD46A1E3"><img src="img/modify_external_table_properties.gif" alt="下面是modify_external_table_properties.eps的描述" title="下面是modify_external_table_properties.eps的描述" longdesc="img_text/modify_external_table_properties.html"><br><a href="img_text/modify_external_table_properties.html">说明modify_external_table_properties.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDCEJJE">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-68257B27-1C4C-4C47-8140-5C60E0E65D35"><span class="italic">pivot_clause</span> :: =</p><a id="d425579e1127" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8B6BA9D2-DB8E-4961-88D7-8C80237DD20F"><img src="img/pivot_clause.gif" alt="下面是pivot_clause.eps的说明" title="下面是pivot_clause.eps的说明" longdesc="img_text/pivot_clause.html"><br><a href="img_text/pivot_clause.html">说明pivot_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C0071607-686A-48F6-8DD6-652975299F20"><span class="italic">pivot_for_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B9115C0A-FAFD-4643-BDEA-8001F09C2897"><img src="img/pivot_for_clause.gif" alt="下面是pivot_for_clause.eps的描述" title="下面是pivot_for_clause.eps的描述" longdesc="img_text/pivot_for_clause.html"><br><a href="img_text/pivot_for_clause.html">说明pivot_for_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EB4E6727-F533-4F6A-ACB1-BCB56D9EAEFA"><span class="italic">pivot_in_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F1AA8CE9-560F-4486-B8A1-12AF1AF08FE3"><img src="img/pivot_in_clause.gif" alt="下面是pivot_in_clause.eps的说明" title="下面是pivot_in_clause.eps的说明" longdesc="img_text/pivot_in_clause.html"><br><a href="img_text/pivot_in_clause.html">说明pivot_in_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJBHHI">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9B4E0389-413C-4014-94A1-0A0571BDF7E1"><span class="italic">unpivot_clause</span> :: =</p><a id="d425579e1155" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ED74192A-B7F0-4E7E-ABB3-1E07770E8B9B"><img src="img/unpivot_clause.gif" alt="下面是unpivot_clause.eps的说明" title="下面是unpivot_clause.eps的说明" longdesc="img_text/unpivot_clause.html"><br><a href="img_text/unpivot_clause.html">说明unpivot_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C362A979-F5DB-4CC2-997D-797B6B6C849F"><span class="italic">unpivot_in_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C510D732-5234-4FE2-97AC-0CA2A155D4CA"><img src="img/unpivot_in_clause.gif" alt="下面是unpivot_in_clause.edx的说明" title="下面是unpivot_in_clause.edx的说明" longdesc="img_text/unpivot_in_clause.html"><br><a href="img_text/unpivot_in_clause.html">说明unpivot_in_clause.edx的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-947FB2B2-0A72-49E5-A4AE-6FC1CF3F4C70"><span class="italic">sample_clause</span> :: =</p><a id="d425579e1175" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6F85EF7D-E74F-4B39-9865-5A161E3DA473"><img src="img/sample_clause.gif" alt="sample_clause.eps的描述如下" title="sample_clause.eps的描述如下" longdesc="img_text/sample_clause.html"><br><a href="img_text/sample_clause.html">插图说明sample_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AA6B72FA-DDAA-42CD-A8B0-D0DC9C9A65B7"><span class="italic">partition_extension_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A857202B-4629-47D8-9C5C-CC52E66381B9"><img src="img/partition_extension_clause.gif" alt="下面是partition_extension_clause.eps的描述" title="下面是partition_extension_clause.eps的描述" longdesc="img_text/partition_extension_clause.html"><br><a href="img_text/partition_extension_clause.html">插图说明partition_extension_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126149">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E8CBEADC-ABA1-4E5F-BF73-F52E807C476C"><span class="italic">subquery_restriction_clause</span> :: =</p><a id="d425579e1196" class="indexterm-anchor"></a><a id="d425579e1200" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-00951DCA-FD3D-444D-87A6-C400351FB073"><img src="img/subquery_restriction_clause.gif" alt="下面是subquery_restriction_clause.eps的描述" title="下面是subquery_restriction_clause.eps的描述" longdesc="img_text/subquery_restriction_clause.html"><br><a href="img_text/subquery_restriction_clause.html">插图描述subquery_restriction_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065746">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6C757094-E030-4D82-8A0B-EE8BB6392D7F"><span class="italic">table_collection_expression</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F312917-87C8-4F83-809C-58A75C577C6C"><img src="img/table_collection_expression.gif" alt="table_collection_expression.eps的描述如下" title="table_collection_expression.eps的描述如下" longdesc="img_text/table_collection_expression.html"><br><a href="img_text/table_collection_expression.html">插图描述table_collection_expression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEGGHJC">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-70B918F2-7D91-4E84-A63A-825A3F3E0C6D"><span class="italic">containers_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C21030AF-DB65-4BB7-87E4-E8605D8E56D6"><img src="img/containers_clause.gif" alt="container_clause.eps的描述如下" title="container_clause.eps的描述如下" longdesc="img_text/containers_clause.html"><br><a href="img_text/containers_clause.html">container_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-DA9E9038-9A56-417B-934F-36083EB17AB0"><span class="italic">shards_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4BD3145B-B548-43BA-BE48-56957EB5928E"><img src="img/shards_clause.gif" alt="下面是shards_clause.eps的描述" title="下面是shards_clause.eps的描述" longdesc="img_text/shards_clause.html"><br><a href="img_text/shards_clause.html">说明shards_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIJFDJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E7DA7056-07E5-4D2C-BB7E-01BC9B1562E0"><span class="italic">join_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6D4C3C6C-59E3-4DF8-B0E4-8F246EB39236"><img src="img/join_clause.gif" alt="join_clause.eps的描述如下" title="join_clause.eps的描述如下" longdesc="img_text/join_clause.html"><br><a href="img_text/join_clause.html">插图描述join_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCGEDH">inner_cross_join_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBCHJA">outer_join_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHDDA">cross_outer_apply_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCGEDH">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2914EBB6-0BE4-485E-AADD-C321A2BBA484"><span class="italic">inner_cross_join_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D47741D7-6E40-4EE8-80D8-7FD217FB589A"><img src="img/inner_cross_join_clause.gif" alt="内部描述了inner_cross_join_clause.eps" title="内部描述了inner_cross_join_clause.eps" longdesc="img_text/inner_cross_join_clause.html"><br><a href="img_text/inner_cross_join_clause.html">插图描述inner_cross_join_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">table_reference :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBCHJA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-424F6204-C5BC-4E69-8922-2769140B44A2"><span class="italic">outer_join_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-156E2F4E-EF8B-4D91-B7FB-17A52A165F78"><img src="img/outer_join_clause.gif" alt="outer_join_clause.eps的描述如下" title="outer_join_clause.eps的描述如下" longdesc="img_text/outer_join_clause.html"><br><a href="img_text/outer_join_clause.html">插图描述outer_join_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2197413">query_partition_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIBHAJ">outer_join_type</a></span> <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2197413">:: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIBHAJ">table_reference</a></span> <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">:: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2197413">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0BE3C985-9456-4954-9EC1-D8387094C4EE"><span class="italic">query_partition_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-53D161E1-2BD1-45F4-9A91-3A1B7393A4E9"><img src="img/query_partition_clause.gif" alt="query_partition_clause.eps的描述如下" title="query_partition_clause.eps的描述如下" longdesc="img_text/query_partition_clause.html"><br><a href="img_text/query_partition_clause.html">query_partition_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIBHAJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-69A3FBC9-9FD2-4798-B5C2-9F86C650B883"><span class="italic">outer_join_type</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FC73F953-5BAF-4892-BF24-C0A6F2D423B4"><img src="img/outer_join_type.gif" alt="下面是outer_join_type.eps的描述" title="下面是outer_join_type.eps的描述" longdesc="img_text/outer_join_type.html"><br><a href="img_text/outer_join_type.html">插图描述outer_join_type.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHDDA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D69D854B-89C9-4E0F-8BF7-33F5C40A8656"><span class="italic">cross_outer_apply_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A3E33A3A-82A3-4EB8-9382-735CEC9C2120"><img src="img/cross_outer_apply_clause.gif" alt="下面是cross_outer_apply_clause.eps的描述" title="下面是cross_outer_apply_clause.eps的描述" longdesc="img_text/cross_outer_apply_clause.html"><br><a href="img_text/cross_outer_apply_clause.html">插图描述cross_outer_apply_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">table_reference :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2197413">query_partition_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__INLINE_AV-F00C4103">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-49C0EEFF-14F2-4AB4-A75B-5E8BED74CF37"><span class="italic">inline_analytic_view</span></p><br><div class="imageleft"><img class="imageleft" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__IMAGE_FMR_YTV_PGB" src="img/inline_analytic_view.gif" alt="inline_analytic_view.eps的描述如下" title="inline_analytic_view.eps的描述如下" longdesc="img_text/inline_analytic_view.html"><br><a href="img_text/inline_analytic_view.html">插图描述inline_analytic_view.eps</a></div><br><p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUB_AV_CLAUSE-F01CACDC">subav_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIFBBI">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-204B6B2A-770E-46E6-8A8F-ABCC6D7F6A07"><span class="italic">where_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6B56AC9D-E8DE-4BB8-B9DD-CD420B5CB07E"><img src="img/where_clause.gif" alt="where_clause.eps的描述如下" title="where_clause.eps的描述如下" longdesc="img_text/where_clause.html"><br><a href="img_text/where_clause.html">说明where_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126079">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0000A9AB-22C6-4429-A6A6-4FD58E2CB110"><span class="italic">hierarchical_query_clause</span> :: =</p><a id="d425579e1349" class="indexterm-anchor"></a><a id="d425579e1353" class="indexterm-anchor"></a><a id="d425579e1357" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-40D61064-6110-4EC4-A09D-9010886AFA56"><img src="img/hierarchical_query_clause.gif" alt="hierarchy_query_clause.eps的描述如下" title="hierarchy_query_clause.eps的描述如下" longdesc="img_text/hierarchical_query_clause.html"><br><a href="img_text/hierarchical_query_clause.html">hierarchy_query_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><code class="codeph">condition</code></span>可以是如所描述的任何条件<a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">的条件</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065777">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-355BE8B4-CEA0-4397-A401-CAD8140528BF"><span class="italic">group_by_clause</span> :: =</p><a id="d425579e1378" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9F5338AD-8A73-4762-8073-53EBC3EF410F"><img src="img/group_by_clause.gif" alt="下面是group_by_clause.eps的说明" title="下面是group_by_clause.eps的说明" longdesc="img_text/group_by_clause.html"><br><a href="img_text/group_by_clause.html">插图说明group_by_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126291">rollup_cube_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126297">grouping_sets_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126291">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-00AF4EE1-D3F9-46F8-A251-B1AB90B62264"><span class="italic">rollup_cube_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2EF1FE22-0F22-4869-A9B1-1BB1ED31DEDA"><img src="img/rollup_cube_clause.gif" alt="下面是rollup_cube_clause.eps的说明" title="下面是rollup_cube_clause.eps的说明" longdesc="img_text/rollup_cube_clause.html"><br><a href="img_text/rollup_cube_clause.html">rollup_cube_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2189804">grouping_expression_list :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126297">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C7FB93A4-4BCA-4C8F-8C57-08126A0F4558"><span class="italic">grouping_sets_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2878C302-6359-4ECD-9C80-596BC98CEE59"><img src="img/grouping_sets_clause.gif" alt="下面是grouping_sets_clause.eps的描述" title="下面是grouping_sets_clause.eps的描述" longdesc="img_text/grouping_sets_clause.html"><br><a href="img_text/grouping_sets_clause.html">插图说明grouping_sets_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126291">rollup_cube_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2189804">grouping_expression_list :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2189804">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ABB8602F-B7A4-4CAE-8099-AF435C06A2B4"><span class="italic">grouping_expression_list</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1471BA59-A3D8-4E92-A99E-97185C30EC39"><img src="img/grouping_expression_list.gif" alt="下面是grouping_expression_list.eps的描述" title="下面是grouping_expression_list.eps的描述" longdesc="img_text/grouping_expression_list.html"><br><a href="img_text/grouping_expression_list.html">插图说明grouping_expression_list.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-77478495-FB49-40D3-AEB5-D37815F47B71"><span class="italic">expression_list</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9D4CB785-2A67-4F6E-83F2-DE332AB002F6"><img src="img/expression_list.gif" alt="下面是expression_list.eps的描述" title="下面是expression_list.eps的描述" longdesc="img_text/expression_list.html"><br><a href="img_text/expression_list.html">说明expression_list.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161264">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-684AEAE9-753E-45EF-9536-C0CC0B0EB3B0"><span class="italic">model_clause</span> :: =</p><a id="d425579e1448" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9B7196D9-23E4-4077-B199-1DEDD95291B6"><img src="img/model_clause.gif" alt="下面是model_clause.eps的描述" title="下面是model_clause.eps的描述" longdesc="img_text/model_clause.html"><br><a href="img_text/model_clause.html">说明model_clause.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171032">cell_reference_options</a></span> <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">:: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171032">return_rows_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161349">reference_model :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161360">main_model :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3C6E42F4-E845-4C6A-B804-2B312C460436"><span class="italic">cell_reference_options</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0FECDA42-80F1-4583-B880-A85B7E5B8E96"><img src="img/cell_reference_options.gif" alt="下面是cell_reference_options.eps的描述" title="下面是cell_reference_options.eps的描述" longdesc="img_text/cell_reference_options.html"><br><a href="img_text/cell_reference_options.html">说明cell_reference_options.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171032">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A82DCDD3-0222-4FE6-8205-D85647C64A6B"><span class="italic">return_rows_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-085A096C-7ACF-4762-9AE2-E8397753732D"><img src="img/return_rows_clause.gif" alt="return_rows_clause.eps的描述如下" title="return_rows_clause.eps的描述如下" longdesc="img_text/return_rows_clause.html"><br><a href="img_text/return_rows_clause.html">说明return_rows_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161349">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BC9020FF-1276-4D6D-9930-F071BEB47411"><span class="italic">reference_model</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5AD88747-D111-4F3A-8A98-8270EEB8D5F9"><img src="img/reference_model.gif" alt="reference_model.eps的描述如下" title="reference_model.eps的描述如下" longdesc="img_text/reference_model.html"><br><a href="img_text/reference_model.html">说明reference_model.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161363">model_column_clauses :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161363">cell_reference_options</a></span> <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">:: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161360">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2DF4F767-0D78-4D1D-AD1F-F2225A5057CB"><span class="italic">main_model</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-567460AA-BA56-4575-9CAB-B9210A08697F"><img src="img/main_model.gif" alt="main_model.eps的描述如下" title="main_model.eps的描述如下" longdesc="img_text/main_model.html"><br><a href="img_text/main_model.html">插图描述main_model.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161363">model_column_clauses :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">cell_reference_options :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161401">model_rules_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161363">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-79C5FBFA-DEE1-41EB-AA2C-B7004C9DFD49"><span class="italic">model_column_clauses</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8642E60A-1766-48DF-A702-B74380355005"><img src="img/model_column_clauses.gif" alt="下面是model_column_clauses.eps的描述" title="下面是model_column_clauses.eps的描述" longdesc="img_text/model_column_clauses.html"><br><a href="img_text/model_column_clauses.html">说明model_column_clauses.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161401">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0C68ADED-444E-48F6-AEFD-4616540DB97F"><span class="italic">model_rules_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-30F113DE-C579-461D-924A-779D9EA4BB36"><img src="img/model_rules_clause.gif" alt="下面是model_rules_clause.eps的描述" title="下面是model_rules_clause.eps的描述" longdesc="img_text/model_rules_clause.html"><br><a href="img_text/model_rules_clause.html">说明model_rules_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJAAEF">model_iterate_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161423">cell_assignment :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168299">order_by_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJAAEF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9D0460B8-02A2-4E0B-859E-E3DF9784B205"><span class="italic">model_iterate_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D565A5F9-9D8E-445A-B977-4748825CAF20"><img src="img/model_iterate_clause.gif" alt="下面是model_iterate_clause.eps的描述" title="下面是model_iterate_clause.eps的描述" longdesc="img_text/model_iterate_clause.html"><br><a href="img_text/model_iterate_clause.html">说明model_iterate_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161423">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AEF049FB-7FA6-467B-B4DF-DEF4EC1CE2E2"><span class="italic">cell_assignment</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D5732074-A226-414E-8C89-C1C58589E584"><img src="img/cell_assignment.gif" alt="下面是cell_assignment.eps的描述" title="下面是cell_assignment.eps的描述" longdesc="img_text/cell_assignment.html"><br><a href="img_text/cell_assignment.html">插图说明cell_assignment.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168318">single_column_for_loop :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168325">multi_column_for_loop :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168318">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-31CE0750-1880-403C-990F-DD107D6BC8CE"><span class="italic">single_column_for_loop</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A3709587-664F-454B-84D8-DAE163A0AEEE"><img src="img/single_column_for_loop.gif" alt="下面是single_column_for_loop.eps的描述" title="下面是single_column_for_loop.eps的描述" longdesc="img_text/single_column_for_loop.html"><br><a href="img_text/single_column_for_loop.html">插图说明single_column_for_loop.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168325">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-01359D63-6AAC-4F0D-8A79-5AEECD2722B6"><span class="italic">multi_column_for_loop</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-12B8FE96-397B-4C42-AF2F-B581B52330EB"><img src="img/multi_column_for_loop.gif" alt="下面是multi_column_for_loop.eps的描述" title="下面是multi_column_for_loop.eps的描述" longdesc="img_text/multi_column_for_loop.html"><br><a href="img_text/multi_column_for_loop.html">multi_column_for_loop.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168299">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E509B561-DD21-46EC-9B11-AF8D2CF2E30C"><span class="italic">order_by_clause</span> :: =</p><a id="d425579e1607" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B8964D6C-37C9-4671-8A3C-F3F1CA604505"><img src="img/order_by_clause.gif" alt="order_by_clause.eps的描述如下" title="order_by_clause.eps的描述如下" longdesc="img_text/order_by_clause.html"><br><a href="img_text/order_by_clause.html">插图说明order_by_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBADDD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C24E9615-9183-4D47-8B1E-AE4F61B076BC"><span class="italic">row_limiting_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4A78D968-967F-4AA1-96E8-7DE90764DB47"><img src="img/row_limiting_clause.gif" alt="下面是row_limiting_clause.eps的描述" title="下面是row_limiting_clause.eps的描述" longdesc="img_text/row_limiting_clause.html"><br><a href="img_text/row_limiting_clause.html">插图描述row_limiting_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126016">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1698E4B2-2710-4FBF-8BB5-329FF4CE3B59"><span class="italic">for_update_clause</span> :: =</p><a id="d425579e1627" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B81105B4-B319-4ED3-8B89-DD61E70C6260"><img src="img/for_update_clause.gif" alt="下面是for_update_clause.eps的描述" title="下面是for_update_clause.eps的描述" longdesc="img_text/for_update_clause.html"><br><a href="img_text/for_update_clause.html">插图描述for_update_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAJHB">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3D9CAE13-7640-46E4-A75C-713263841666"><span class="italic">row_pattern_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F63741B3-F654-4FA3-B412-B7792B12D635"><img src="img/row_pattern_clause.gif" alt="下面是row_pattern_clause.eps的描述" title="下面是row_pattern_clause.eps的描述" longdesc="img_text/row_pattern_clause.html"><br><a href="img_text/row_pattern_clause.html">插图描述row_pattern_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDAJEE">row_pattern_partition_by :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHDEB">row_pattern_order_by :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIAAGF">row_pattern_measures :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGCAD">row_pattern_rows_per_match :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJAEDA">row_pattern_skip_to :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDACDD">row_pattern :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGIDD">row_pattern_subset_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCICD">row_pattern_definition_list :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDAJEE">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-714F0899-9317-4612-9BA2-298CDB55063A"><span class="italic">row_pattern_partition_by</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0FBF09D0-A396-4D08-833D-2918E6F35574"><img src="img/row_pattern_partition_by.gif" alt="下面是row_pattern_partition_by.eps的描述" title="下面是row_pattern_partition_by.eps的描述" longdesc="img_text/row_pattern_partition_by.html"><br><a href="img_text/row_pattern_partition_by.html">插图描述row_pattern_partition_by.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHDEB">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F385E75F-25BB-4CBB-9B99-3ADE5C4D3BC0"><span class="italic">row_pattern_order_by</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0272C985-5C2B-4BE5-8B1C-2BA63134E46B"><img src="img/row_pattern_order_by.gif" alt="下面是row_pattern_order_by.eps的描述" title="下面是row_pattern_order_by.eps的描述" longdesc="img_text/row_pattern_order_by.html"><br><a href="img_text/row_pattern_order_by.html">插图描述row_pattern_order_by.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIAAGF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A94F0E9A-39B1-484D-92A2-692960B56787"><span class="italic">row_pattern_measures</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A4B45243-365A-4357-8177-42A54F3D3BFD"><img src="img/row_pattern_measures.gif" alt="下面是row_pattern_measures.eps的描述" title="下面是row_pattern_measures.eps的描述" longdesc="img_text/row_pattern_measures.html"><br><a href="img_text/row_pattern_measures.html">插图描述row_pattern_measures.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ACDFDF83-C18D-4F4F-B897-CFB96F1D71CF"><span class="italic">row_pattern_measure_column</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8DD47FF7-D862-489A-83A9-FA386861CA9F"><img src="img/row_pattern_measure_column.gif" alt="下面是row_pattern_measure_column.eps的描述" title="下面是row_pattern_measure_column.eps的描述" longdesc="img_text/row_pattern_measure_column.html"><br><a href="img_text/row_pattern_measure_column.html">插图描述row_pattern_measure_column.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGCAD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6270C488-372A-43CA-B63B-5146D84A509F"><span class="italic">row_pattern_rows_per_match</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-41B93C8B-1FC6-4C94-B198-43938A7D08E9"><img src="img/row_pattern_rows_per_match.gif" alt="下面是row_pattern_rows_per_match.eps的描述" title="下面是row_pattern_rows_per_match.eps的描述" longdesc="img_text/row_pattern_rows_per_match.html"><br><a href="img_text/row_pattern_rows_per_match.html">插图描述row_pattern_rows_per_match.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJAEDA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A8FEE10-3F7C-40B2-9880-E86124DC2A90"><span class="italic">row_pattern_skip_to</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A6C191C9-C5B3-4ED0-8110-CEE627DB5C00"><img src="img/row_pattern_skip_to.gif" alt="下面是row_pattern_skip_to.eps的描述" title="下面是row_pattern_skip_to.eps的描述" longdesc="img_text/row_pattern_skip_to.html"><br><a href="img_text/row_pattern_skip_to.html">插图描述row_pattern_skip_to.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDACDD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-248C886F-14E8-457E-9C16-B00C8C970D2B"><span class="italic">row_pattern</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3301B6D2-1F89-4ED4-A064-98690B554B40"><img src="img/row_pattern.gif" alt="下面是row_pattern.eps的描述" title="下面是row_pattern.eps的描述" longdesc="img_text/row_pattern.html"><br><a href="img_text/row_pattern.html">插图描述row_pattern.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4D9E8FA5-DA36-4D54-AA87-0951D1C24EBA"><span class="italic">row_pattern_term</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F5A0F884-99A5-40BD-8E2A-629E9AF0A0EF"><img src="img/row_pattern_term.gif" alt="下面是row_pattern_term.eps的描述" title="下面是row_pattern_term.eps的描述" longdesc="img_text/row_pattern_term.html"><br><a href="img_text/row_pattern_term.html">插图描述row_pattern_term.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F4D2B079-DC66-49A8-964B-02B17D29A059"><span class="italic">row_pattern_factor</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D6345930-D58C-4B0E-AFB5-6BB46D0C4DDE"><img src="img/row_pattern_factor.gif" alt="下面是row_pattern_factor.eps的描述" title="下面是row_pattern_factor.eps的描述" longdesc="img_text/row_pattern_factor.html"><br><a href="img_text/row_pattern_factor.html">插图描述row_pattern_factor.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8708E6B7-1F3B-4F77-9679-05A9AC993BB5"><span class="italic">row_pattern_primary</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5CF849D3-EE71-4BFD-988B-DA9B67E4BFF7"><img src="img/row_pattern_primary.gif" alt="下面是row_pattern_primary.eps的描述" title="下面是row_pattern_primary.eps的描述" longdesc="img_text/row_pattern_primary.html"><br><a href="img_text/row_pattern_primary.html">插图描述row_pattern_primary.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-82B82FF8-AED0-4899-8444-E4A1343935E4"><span class="italic">row_pattern_permute</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-09D6793D-95E1-46B7-BF2E-4AECEF49A47C"><img src="img/row_pattern_permute.gif" alt="下面是row_pattern_permute.eps的描述" title="下面是row_pattern_permute.eps的描述" longdesc="img_text/row_pattern_permute.html"><br><a href="img_text/row_pattern_permute.html">插图描述row_pattern_permute.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-73B5F60A-EC40-49D7-BA9B-15154FA5088D"><span class="italic">row_pattern_quantifier</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-42B256B7-E31D-4E7A-829A-D8C44191F0BA"><img src="img/row_pattern_quantifier.gif" alt="下面是row_pattern_quantifier.eps的描述" title="下面是row_pattern_quantifier.eps的描述" longdesc="img_text/row_pattern_quantifier.html"><br><a href="img_text/row_pattern_quantifier.html">插图描述row_pattern_quantifier.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGIDD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D8EBF674-53F1-49C6-BE11-96A218FC5344"><span class="italic">row_pattern_subset_clause</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D9F084E3-94C6-44E2-B465-60CCB4063F4A"><img src="img/row_pattern_subset_clause.gif" alt="下面是row_pattern_subset_clause.eps的描述" title="下面是row_pattern_subset_clause.eps的描述" longdesc="img_text/row_pattern_subset_clause.html"><br><a href="img_text/row_pattern_subset_clause.html">插图描述row_pattern_subset_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1BD78C4C-9340-45B8-9440-681CC7029507"><span class="italic">row_pattern_subset_item</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-76C68B65-43A9-4C13-ADFE-D6DAFCE55411"><img src="img/row_pattern_subset_item.gif" alt="下面是row_pattern_subset_item.eps的描述" title="下面是row_pattern_subset_item.eps的描述" longdesc="img_text/row_pattern_subset_item.html"><br><a href="img_text/row_pattern_subset_item.html">插图描述row_pattern_subset_item.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCICD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-34F215D9-20CA-4273-938B-2FCED73B4A47"><span class="italic">row_pattern_definition_list</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E97FD144-CAB2-472E-9926-04775438CB88"><img src="img/row_pattern_definition_list.gif" alt="下面是row_pattern_definition_list.eps的描述" title="下面是row_pattern_definition_list.eps的描述" longdesc="img_text/row_pattern_definition_list.html"><br><a href="img_text/row_pattern_definition_list.html">插图描述row_pattern_definition_list.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8B1FF74A-DC35-422A-AC73-5CAF64C7EB04"><span class="italic">row_pattern_definition</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C77197AC-CE0F-4EF2-B6A3-BBC8B7CDC30B"><img src="img/row_pattern_definition.gif" alt="下面是row_pattern_definition.eps的描述" title="下面是row_pattern_definition.eps的描述" longdesc="img_text/row_pattern_definition.html"><br><a href="img_text/row_pattern_definition.html">插图描述row_pattern_definition.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3604CD34-6309-4DD7-97B7-24E30934B8BF"><span class="italic">row_pattern_rec_func</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-66AA1348-F365-4732-9B90-172E25B51718"><img src="img/row_pattern_rec_func.gif" alt="下面是row_pattern_rec_func.eps的描述" title="下面是row_pattern_rec_func.eps的描述" longdesc="img_text/row_pattern_rec_func.html"><br><a href="img_text/row_pattern_rec_func.html">插图描述row_pattern_rec_func.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGGCJ">row_pattern_classifier_func :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDBGI">row_pattern_match_num_func :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHIEA">row_pattern_navigation_func :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDCFA">row_pattern_aggregate_func :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGGCJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-098E6FF6-CBED-4058-A7B2-880A0A41836A"><span class="italic">row_pattern_classifier_func</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9D896007-B5A0-4E89-9987-A70D4C2A7EF3"><img src="img/row_pattern_classifier_func.gif" alt="下面是row_pattern_classifier_func.eps的描述" title="下面是row_pattern_classifier_func.eps的描述" longdesc="img_text/row_pattern_classifier_func.html"><br><a href="img_text/row_pattern_classifier_func.html">插图描述row_pattern_classifier_func.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDBGI">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-82B58D78-087D-4F85-8ADF-D9323176AAA6"><span class="italic">row_pattern_match_num_func</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-618F75BC-641A-4CAD-A2CE-D61A5E919C5C"><img src="img/row_pattern_match_num_func.gif" alt="下面是row_pattern_match_num_func.eps的描述" title="下面是row_pattern_match_num_func.eps的描述" longdesc="img_text/row_pattern_match_num_func.html"><br><a href="img_text/row_pattern_match_num_func.html">插图描述row_pattern_match_num_func.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHIEA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-172534FC-E8A1-452A-B627-B693D45F963F"><span class="italic">row_pattern_navigation_func</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-88E40061-899B-42F5-8A0D-58C33FB88938"><img src="img/row_pattern_navigation_func.gif" alt="下面是row_pattern_navigation_func.eps的描述" title="下面是row_pattern_navigation_func.eps的描述" longdesc="img_text/row_pattern_navigation_func.html"><br><a href="img_text/row_pattern_navigation_func.html">插图描述row_pattern_navigation_func.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDCHF">row_pattern_nav_logical :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGEACD">row_pattern_nav_physical :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCFIDG">row_pattern_nav_compound :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDCHF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9312EA94-7084-4AE2-B2EC-B4E518362647"><span class="italic">row_pattern_nav_logical</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6E0A503E-B538-44E8-A01A-F434FB242C02"><img src="img/row_pattern_nav_logical.gif" alt="下面是row_pattern_nav_logical.eps的描述" title="下面是row_pattern_nav_logical.eps的描述" longdesc="img_text/row_pattern_nav_logical.html"><br><a href="img_text/row_pattern_nav_logical.html">插图描述row_pattern_nav_logical.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGEACD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D65051AD-EC6F-4E89-AB65-03F4F021DD54"><span class="italic">row_pattern_nav_physical</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CC0687CA-5C41-4227-A23C-45269B07E4E3"><img src="img/row_pattern_nav_physical.gif" alt="下面是row_pattern_nav_physical.eps的描述" title="下面是row_pattern_nav_physical.eps的描述" longdesc="img_text/row_pattern_nav_physical.html"><br><a href="img_text/row_pattern_nav_physical.html">插图描述row_pattern_nav_physical.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCFIDG">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-863CDBB4-48C1-40FA-91A0-2A16F465E8BE"><span class="italic">row_pattern_nav_compound</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-76DCCC26-81E1-4B9A-9128-EDFF760AF5FC"><img src="img/row_pattern_nav_compound.gif" alt="下面是row_pattern_nav_compound.eps的描述" title="下面是row_pattern_nav_compound.eps的描述" longdesc="img_text/row_pattern_nav_compound.html"><br><a href="img_text/row_pattern_nav_compound.html">插图描述row_pattern_nav_compound.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDCFA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B0E04A1C-C612-424D-99AF-C64D7C10C3C9"><span class="italic">row_pattern_aggregate_func</span> :: =</p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D734FBD8-68AA-4BCD-AFC3-947C2B0E1B0D"><img src="img/row_pattern_aggregate_func.gif" alt="下面是row_pattern_aggregate_func.eps的描述" title="下面是row_pattern_aggregate_func.eps的描述" longdesc="img_text/row_pattern_aggregate_func.html"><br><a href="img_text/row_pattern_aggregate_func.html">插图描述row_pattern_aggregate_func.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065806">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-92B7251F-EE45-4191-BBB5-E21BC736FE6E">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-DFD72C34-5CED-4F6D-BA6D-829BE525CF92"><span class="italic">with_clause</span></p>
                  <p><a id="d425579e1912" class="indexterm-anchor"></a>使用<span class="italic"><code class="codeph">with_clause</code></span>定义以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>PL / SQL过程和函数（使用<span class="italic"><code class="codeph">plsql_declarations</code></span>子句）</p>
                     </li>
                     <li>
                        <p>子查询块（使用<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>或<span class="italic"><code class="codeph">subav_factoring_clause</code></span>或两者）</p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJCBCC"><span class="bold"><span class="italic">plsql_declarations</span></span></p>
                  <p><span class="italic"><code class="codeph">plsql_declarations</code></span>子句允许您声明和定义PL / SQL函数和过程。然后，您可以在查询中指定此子句的查询中的PL / SQL函数及其子查询（如果有）。出于名称解析的目的，这些函数名称优先于模式级别的存储函数。
                  </p>
                  <p>如果指定此子句的查询不是顶级<code class="codeph">SELECT</code>语句，则以下规则适用于包含查询的顶级SQL语句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果顶级语句是<code class="codeph">SELECT</code>语句，则它必须具有<code class="codeph">WITH</code> <span class="italic"><code class="codeph">plsql_declarations</code></span>子句或<code class="codeph">WITH_PLSQL</code>提示。
                        </p>
                     </li>
                     <li>
                        <p>如果顶级语句是<code class="codeph">DELETE</code> ， <code class="codeph">MERGE</code> ， <code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句，则它必须具有<code class="codeph">WITH_PLSQL</code>提示。
                        </p>
                     </li>
                  </ul>
                  <p><code class="codeph">WITH_PLSQL</code>提示只允许您在语句中指定<code class="codeph">WITH</code> <span class="italic"><code class="codeph">plsql_declarations</code></span>子句。它不是优化器提示。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39F6D537-21E7-4809-865B-3BFE918C43E1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<a href="../lnpls/function-declaration-and-definition.html#LNPLS01322" target="_blank"><span class="italic"><code class="codeph">function_declaration</code></span></a>和<a href="../lnpls/procedure-declaration-and-definition.html#LNPLS01336" target="_blank"><span class="italic"><code class="codeph">procedure_declaration</code></span></a>语法和限制的<span class="italic">Oracle Database PL / SQL语言参考</span> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJFIDC">在WITH子句中使用PL / SQL函数：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2077142"><span class="bold"><span class="italic">subquery_factoring_clause</span></span></p>
                  <p><span class="italic"><code class="codeph">subquery_factoring_clause</code></span>允许您将名称（ <span class="italic"><code class="codeph">query_name</code></span> ）分配给子查询块。然后，您可以通过指定<span class="italic"><code class="codeph">query_name</code></span>来引用查询中的多个位置的子查询块。Oracle数据库通过将<span class="italic"><code class="codeph">query_name</code></span>视为内联视图或临时表来优化查询。<span class="italic"><code class="codeph">query_name</code></span>遵循与数据库模式对象相同的命名约定和限制。有关数据库对象名称的信息，请参阅<span class="q">“ <a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">数据库对象命名规则</a> ”</span> 。
                  </p>
                  <p><span class="italic"><code class="codeph">query_name</code></span>之后的列别名和<code class="codeph">AS</code>子句中分隔多个子查询的集合运算符是有效的，并且是递归子查询因子分解所必需的。<span class="italic"><code class="codeph">search_clause</code></span>和<span class="italic"><code class="codeph">cycle_clause</code></span>仅对递归子查询因子有效，但不是必需的。请参阅<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEJGIBG">递归子查询因子分解</a> ”</span> 。
                  </p>
                  <p>您可以在任何顶级<code class="codeph">SELECT</code>语句和大多数类型的子查询中指定此子句。查询名称对主查询和所有后续子查询可见。对于递归子查询因子分解，查询名称甚至对定义查询名称本身的子查询可见。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEJGIBG"><a id="d425579e2085" class="indexterm-anchor"></a> <span class="bold">递归子查询因子</span></p>
                  <p>如果<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>在定义它的子<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>引用其自己的<span class="italic"><code class="codeph">query_name</code></span> ，则<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>被称为<span class="bold">递归</span> 。递归的<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>必须包含两个查询块：第一个是<span class="bold">锚成员</span> ，第二个是<span class="bold">递归成员</span> 。锚成员必须出现在递归成员之前，并且它不能引用<span class="italic"><code class="codeph">query_name</code></span> 。锚成员可以由一组或多组查询块组成：集合运算符： <code class="codeph">UNION</code> <code class="codeph">ALL</code> ， <code class="codeph">UNION</code> ， <code class="codeph">INTERSECT</code>或<code class="codeph">MINUS</code> 。递归成员必须遵循锚成员，并且必须引用<span class="italic"><code class="codeph">query_name</code></span>一次。必须使用<code class="codeph">UNION</code> <code class="codeph">ALL</code>集合运算符将递归成员与锚成员组合在一起。
                  </p>
                  <p><code class="codeph">WITH</code> <span class="italic"><code class="codeph">query_name</code></span>后面的列别名数和锚和递归查询块的<code class="codeph">SELECT</code>列表中的列数必须相同。
                  </p>
                  <p>递归成员不能包含以下任何元素：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DISTINCT</code>关键字或<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句</p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">model_clause</code></span></p>
                     </li>
                     <li>
                        <p>聚合函数。但是，选择列表中允许使用分析功能。</p>
                     </li>
                     <li>
                        <p>引用<span class="italic"><code class="codeph">query_name</code></span>子查询。
                        </p>
                     </li>
                     <li>
                        <p>将<span class="italic"><code class="codeph">query_name</code></span>称为右表的外连接。
                        </p>
                     </li>
                  </ul>
                  <p>在以前的Oracle数据库版本中，递归<code class="codeph">WITH</code>子句的递归成员是串行运行的，而不管整个查询的并行性（也称为顶级<code class="codeph">SELECT</code>语句）。从Oracle Database <span class="italic">12c</span>第2版（12.2）开始，如果优化器确定可以并行执行顶级<code class="codeph">SELECT</code>语句，则递归成员并行运行。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D679AAA3-9767-4EBC-89F7-1A4D218382BA"><span class="italic">search_clause</span></p>
                  <p>使用<code class="codeph">SEARCH</code>子句指定行的顺序。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果要在返回任何子行之前返回兄弟行，请指定<code class="codeph">BREADTH</code> <code class="codeph">FIRST</code> <code class="codeph">BY</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果要在返回任何同级行之前返回子行，请指定<code class="codeph">DEPTH</code> <code class="codeph">FIRST</code> <code class="codeph">BY</code> 。
                        </p>
                     </li>
                     <li>
                        <p>同级行按<code class="codeph">BY</code>关键字后面列出的列排序。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SEARCH</code>关键字后面的<span class="italic"><code class="codeph">c_alias</code></span>列表必须包含<span class="italic"><code class="codeph">query_name</code></span>的列别名列表中的列名。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">ordering_column</code></span>会自动添加到查询名称的列列表中。从<span class="italic"><code class="codeph">query_name</code></span>中选择的查询可以在<span class="italic"><code class="codeph">ordering_column</code></span>上包含<code class="codeph">ORDER</code> <code class="codeph">BY</code> ，以按<code class="codeph">SEARCH</code>子句指定的顺序返回行。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8EE64250-3C9A-40C7-A81D-46695F8B2EB9"><span class="italic">cycle_clause</span></p>
                  <p>使用<code class="codeph">CYCLE</code>子句标记递归中的循环。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">CYCLE</code>关键字后面的<span class="italic"><code class="codeph">c_alias</code></span>列表必须包含<span class="italic"><code class="codeph">query_name</code></span>的列别名列表中的列名。Oracle数据库使用这些列来检测循环。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">cycle_value</code></span>和<span class="italic"><code class="codeph">no_cycle_value</code></span>应该是长度为1的字符串。
                        </p>
                     </li>
                     <li>
                        <p>如果检测到循环，则由<span class="italic"><code class="codeph">cycle_mark_c_alias</code></span>为引起循环的行指定的循环标记列被设置为为<span class="italic"><code class="codeph">cycle_value</code></span>指定的值。然后递归将停止此行。也就是说，它不会查找违规行的子行，但会继续查找其他非循环行。
                        </p>
                     </li>
                     <li>
                        <p>如果未找到循环，则将循环标记列设置为为<span class="italic"><code class="codeph">no_cycle_value</code></span>指定的缺省值。
                        </p>
                     </li>
                     <li>
                        <p>循环标记列将自动添加到<span class="italic"><code class="codeph">query_name</code></span>的列列表中。
                        </p>
                     </li>
                     <li>
                        <p>如果行的一个祖先行具有相同的循环列值，则认为该行形成循环。</p>
                     </li>
                  </ul>
                  <p>如果省略<code class="codeph">CYCLE</code>子句，则在发现<code class="codeph">CYCLE</code> ，递归<code class="codeph">WITH</code>子句将返回错误。在这种情况下，如果一个行的祖先行与递归成员的<code class="codeph">WHERE</code>子句中引用的<span class="italic"><code class="codeph">query_name</code></span>的列别名列表中的所有列具有相同的值，则该行形成一个循环。
                  </p>
                  <p><span class="bold">子查询因子的限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您只能在单个SQL语句中指定一个<span class="italic"><code class="codeph">subquery_factoring_clause</code></span> 。任何<span class="italic"><code class="codeph">query_name</code></span>在所定义的<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>可以在任何后续的命名查询块中使用<span class="italic"><code class="codeph">subquery_factoring_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>在具有set运算符的复合查询中，不能将<span class="italic"><code class="codeph">query_name</code></span>用于任何组件查询，但可以在任何组件查询的<code class="codeph">FROM</code>子句中使用<span class="italic"><code class="codeph">query_name</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>您不能在<span class="italic"><code class="codeph">query_name</code></span>的列别名列表中指定重复的名称。
                        </p>
                     </li>
                     <li>
                        <p>用于<span class="italic"><code class="codeph">ordering_column</code></span>的名称必须与用于<span class="italic"><code class="codeph">cycle_mark_c_alias</code></span>的名称不同。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">ordering_column</code></span>和cycle标记列名称不能位于<span class="italic"><code class="codeph">query_name</code></span>的列别名列表中。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EA060E73-FF20-4854-9617-5AA66C4FF867">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关内联视图的信息，请参见<a href="../cncpt/tables-and-table-clusters.html#CNCPT010" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129904">子查询因子：示例</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCDJDB">递归子查询因子：例子</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FFA08384-CF16-4C37-8D49-80082A250D43"><span class="italic">subav_factoring_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">subav_factoring_clause</code></span> ，您可以定义在聚合之前过滤事实数据的临时分析视图，或者将计算的度量添加到分析视图的查询中。<code class="codeph"><span class="codeinlineitalic">subav_name</span></code>参数为临时分析视图指定名称。然后，您可以通过指定<code class="codeph"><span class="codeinlineitalic">subav_name</span></code>来<code class="codeph"><span class="codeinlineitalic">subav_name</span></code>查询中多个位置的临时分析视图。<code class="codeph"><span class="codeinlineitalic">subav_name</span></code>遵循与数据库模式对象相同的命名约定和限制。有关数据库对象名称的信息，请参阅<span class="q">“ <a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">数据库对象命名规则</a> ”</span> 。
                  </p>
                  <p>您可以在任何顶级<code class="codeph">SELECT</code>语句和大多数类型的子查询中指定此子句。查询名称对主查询和所有后续子查询可见。
                  </p>
                  <p><code class="codeph"><span class="codeinlineitalic">subav_clause</span></code>参数定义暂时分析视图。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3F3FE24E-2F79-4DF2-92B1-A700B3ACBF8A"><span class="italic">subav_clause</span></p>
                  <p>使用<code class="codeph">USING</code>关键字，指定分析视图的名称，该视图可能是先前在<code class="codeph">WITH</code>子句中定义的暂时分析视图，也可能是持久分析视图。持久分析视图在<code class="codeph">CREATE</code> <code class="codeph">ANALYTIC</code> <code class="codeph">VIEW</code>语句中定义。如果分析视图是持久视图，则当前用户必须具有选择访问权限。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-17E380B3-F2DD-436D-ACBF-603D6529EC92">
                     <p class="notep1">也可以看看：</p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731">分析观点：例子</a></div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FB2A388A-DFAA-4DFF-A359-DD678589F9DC"><span class="italic">hierarchies_clause</span></p>
                  <p><code class="codeph"><span class="codeinlineitalic">hierarchies_clause</span></code>指定基础分析视图的层次结构，即瞬态分析视图的结果。使用<code class="codeph">HIERARCHIES</code>关键字，指定基本分析视图的一个或多个层次结构的别名。
                  </p>
                  <p>如果未指定<code class="codeph">HIERARCHIES</code>子句，则使用基本分析视图的默认层次结构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1AAF0C79-737F-44E0-98F3-D865FE549B52"><span class="italic">filter_clauses</span></p>
                  <p>您可以在最多一个<span class="italic"><code class="codeph">filter_clause</code></span>指定给定的<span class="italic"><code class="codeph">hier_alias</code></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7D196B75-9E61-4E21-8FE3-EF368EAC5EB8"><span class="italic">filter_clause</span></p>
                  <p>filter子句将指定的谓词条件应用于事实表，这会减少在聚合度量值之前从表返回的行数。谓词可以包含任何SQL行函数或操作。谓词可以引用指定层次结构的任何属性，或者如果指定<code class="codeph">MEASURES</code>关键字，它可以引用分析视图的度量。
                  </p>
                  <p>例如，以下子句将度量值的聚合限制为时间层次结构中每年的第一和第二季度的聚合。</p><pre class="pre codeblock"><code>FILTER FACT（time_hier TO quarter_of_year IN（1,2））</code></pre><p>如果您随后从暂态分析视图中选择2000年和2001年的销售额，则返回的值仅为第一季度和第二季度的汇总值。</p>
                  <p>在filter子句中为度量指定谓词的示例如下。</p><pre class="pre codeblock"><code>过滤事实（对100和200之间的销售的措施）</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-787A0C7D-9974-4757-862C-F3CAF3CA7F5E"><span class="italic">attr_dim_alias</span></p>
                  <p>基本分析视图中属性维度的别名。<code class="codeph">USER_ANALYTIC_VIEW_DIMENSIONS</code>视图包含分析视图中属性维的别名。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AF5E2B39-D20F-4072-8E6C-79C51EEAD42B"><span class="italic">hier_alias</span></p>
                  <p>基本分析视图中层次结构的别名。<code class="codeph">USER_ANALYTIC_VIEW_HIERS</code>视图包含分析视图中层次结构的别名。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-006A56D0-F40F-41E9-8F49-2CEF0987716C"><span class="italic">add_calcs_clause</span></p>
                  <p>使用<code class="codeph">ADD</code> <code class="codeph">MEASURES</code>关键字，您可以将计算的度量添加到暂态分析视图中。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E318B87F-D825-4E7C-B8DE-0EA6222BD5C8"><span class="italic">calc_meas_clause</span></p>
                  <p>指定计算度量的名称和指定计算度量值的分析视图表达式。所述分析视图表达式可以是任何有效<code class="codeph"><span class="codeinlineitalic">calc_meas_expression</span></code>中所述<a href="analytic-view-measure-expressions.html#GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0" title="您可以使用分析视图表达式在分析视图的定义内或从分析视图中选择的查询中创建计算度量。">分析视图表达式</a> 。例如，以下内容添加了一个名为“share_sales”的计算度量。
                  </p><pre class="pre codeblock"><code>添加措施（share_sales AS（SHARE_OF（销售HIERARCHY time_hier PARENT）））</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AF2E5568-30B6-4621-AC5E-7DB07ABEFF70"><span class="italic">暗示</span></p>
                  <p>指定在为语句选择执行计划时将指令传递给优化程序的注释。</p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1E3BAD93-A28E-4832-9B0A-8EB2AFFA5DE6">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q"><a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">提示</a></span>的语法和描述的<span class="q">“ <a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">提示</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CCC3D453-AF3B-4A2B-B189-8EF3E55263FC">DISTINCT |独特</p>
                  <p><a id="d425579e2631" class="indexterm-anchor"></a><a id="d425579e2633" class="indexterm-anchor"></a><a id="d425579e2635" class="indexterm-anchor"></a><a id="d425579e2639" class="indexterm-anchor"></a>如果希望数据库仅返回所选的每组重复行的一个副本，请指定<code class="codeph">DISTINCT</code>或<code class="codeph">UNIQUE</code> 。这两个关键字是同义词。重复行是选择列表中每个表达式具有匹配值的行。
                  </p>
                  <p><span class="bold">DISTINCT和UNIQUE查询的限制</span></p>
                  <p>这些类型的查询受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">DISTINCT</code>或<code class="codeph">UNIQUE</code> ，所有选择列表表达式中的总字节数限制为数据块的大小减去一些开销。此大小由初始化参数<code class="codeph">DB_BLOCK_SIZE</code>指定。</p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">select_list</code></span>包含LOB列，则不能指定<code class="codeph">DISTINCT</code> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-88D9E360-577D-49E7-ADF0-F84025041BA6">所有</p>
                  <p><a id="d425579e2682" class="indexterm-anchor"></a>如果希望数据库返回所有选定的行（包括重复项的所有副本），请指定<code class="codeph">ALL</code> 。默认值为<code class="codeph">ALL</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A833C7D-FCDD-49CC-82E5-54542384CAFA"><span class="italic">select_list中</span></p>
                  <p><span class="italic"><code class="codeph">select_list</code></span>允许您指定要从数据库中检索的列。
                  </p>
                  <p><span class="bold">*（全列通配符）</span></p>
                  <p><a id="d425579e2707" class="indexterm-anchor"></a><a id="d425579e2709" class="indexterm-anchor"></a><a id="d425579e2713" class="indexterm-anchor"></a>指定全列通配符（星号）以<code class="codeph">FROM</code>子句中列出的所有表，视图或物化视图中选择所有列，不包括伪列和<code class="codeph">INVISIBLE</code>列。这些列按照表，视图或<code class="codeph">*_TAB_COLUMNS</code>视图的<code class="codeph">*_TAB_COLUMNS</code>数据字典视图的<code class="codeph">COLUMN_ID</code>列所指示的顺序返回。
                  </p>
                  <p>如果从表中而不是从视图或物化视图中进行选择，则不会选择<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">SET</code> <code class="codeph">UNUSED</code>语句标记为<code class="codeph">UNUSED</code>的列。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1A7F5D24-0B0A-44C8-B9B0-B4C752F62AD8">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877">ALTER TABLE</a> ， <span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129937">简单查询示例</a> ”</span>和<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130183">从DUAL表中选择：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">query_name</span></span> <span class="bold">。*</span></p>
                  <p>指定<span class="italic"><code class="codeph">query_name</code></span>后跟句点和星号以从指定的子查询块中选择所有列。对于<span class="italic"><code class="codeph">query_name</code></span> ，请指定subquery_factoring_clause中已指定的<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>查询块名称。您必须已指定<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>才能在<span class="italic"><code class="codeph">select_list</code></span>指定<span class="italic"><code class="codeph">query_name</code></span> 。如果在<span class="italic"><code class="codeph">select_list</code></span>指定<span class="italic"><code class="codeph">query_name</code></span> ，则还必须在<span class="italic"><code class="codeph">query_table_expression</code></span> （ <code class="codeph">FROM</code>子句）中指定<span class="italic"><code class="codeph">query_name</code></span> 。
                  </p>
                  <p><span class="bold"><span class="italic">表。*</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">查看。*</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">物化观点。*</span></span></p>
                  <p>指定对象名称后跟句点和星号以从指定的表，视图或实例化视图中选择所有列。Oracle数据库按创建对象时指定列的顺序返回一组列。从两个或多个表，视图或物化视图中选择行的查询是一个连接。</p>
                  <p>您可以使用模式限定符从您自己的模式中的表，视图或物化视图中进行选择。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则数据库假定表，视图或物化视图位于您自己的模式中。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-71CBE0AD-1F11-45AA-B243-5FE94B46E2C6">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Joins.html#GUID-39081984-8D38-4D64-A847-AA43F515D460">加入</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">t_alias</span></span> <span class="bold">。*</span></p>
                  <p>指定相关名称（别名），后跟句点和星号，以从对象中选择具有在同一子查询的<code class="codeph">FROM</code>子句中指定的相关名称的所有列。对象可以是表，视图，物化视图或子查询。Oracle数据库按创建对象时指定列的顺序返回一组列。从两个或多个对象中选择行的查询是一个连接。
                  </p>
                  <p><span class="bold"><span class="italic">EXPR</span></span></p>
                  <p>指定表示要选择的信息的表达式。仅当包含该列的表，视图或物化视图在<code class="codeph">FROM</code>子句中使用<span class="italic"><code class="codeph">schema</code></span>限定时，才能使用<span class="italic"><code class="codeph">schema</code></span>限定此列表中的列名。如果指定对象类型的成员方法，则必须使用括号跟随方法名称，即使该方法不带参数也是如此。
                  </p>
                  <p><span class="bold"><span class="italic">c_alias</span></span></p>
                  <p>为列表达式指定别名。Oracle数据库将在结果集的列标题中使用此别名。<code class="codeph">AS</code>关键字是可选的。别名在查询期间有效地重命名选择列表项。别名可以在<span class="italic"><code class="codeph">order_by_clause</code></span>使用，但不能在查询中使用其他子句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-443D6B96-06A5-4C7D-84DB-E34B5D6D5F71">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，了解有关在多个物化视图的查询中使用带有<code class="codeph">UNION</code> <code class="codeph">ALL</code>运算符的<span class="italic"><code class="codeph">expr</code></span> <code class="codeph">AS</code> <span class="italic"><code class="codeph">c_alias</code></span>语法的信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">关于SQL表达式</a> ”</span>的语法为<span class="italic"><code class="codeph">expr</code></span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">选择列表的限制</span></p>
                  <p>选择列表受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果还在此语句中指定了<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182483">group_by_clause</a></span> ，则此选择列表只能包含以下类型的表达式：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>常量</p>
                           </li>
                           <li>
                              <p>聚合函数和函数<code class="codeph">USER</code> ， <code class="codeph">UID</code>和<code class="codeph">SYSDATE</code> 
                              </p>
                           </li>
                           <li>
                              <p>表达式与<span class="italic"><code class="codeph">group_by_clause</code></span>中的表达式相同。如果<span class="italic"><code class="codeph">group_by_clause</code></span>位于子查询中，则子查询的选择列表中的所有列都必须与子查询中的<code class="codeph">GROUP</code> <code class="codeph">BY</code>列匹配。如果顶级查询或子查询的选择列表和<code class="codeph">GROUP</code> <code class="codeph">BY</code>列不匹配，则该语句将生成ORA-00979。
                              </p>
                           </li>
                           <li>
                              <p>涉及前面表达式的表达式，它们为组中的所有行计算相同的值</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>仅当连接具有一个且仅有一个保留密钥的表时，才能从连接视图中选择rowid。该表的rowid成为视图的rowid。</p>
                        <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-68CB6D70-45C4-4195-A1FA-D0426B96EF4E">
                           <p class="notep1">也可以看看：</p>
                           <p>有关密钥保留表的信息，请参见<a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN020" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </li>
                     <li>
                        <p>如果两个或多个表具有一些共同的列名，并且如果要在<code class="codeph">FROM</code>子句中指定连接，则必须使用表或表别名的名称限定列名。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0738FF18-4947-4763-AD68-707DCA6DC920">来自条款</p>
                  <p><code class="codeph">FROM</code>子句允许您指定从中选择数据的对象。
                  </p>
                  <p>您可以像其他现有表函数一样在<code class="codeph">FROM</code>子句的查询块中调用多态表函数（PTF）。PTF是一个表函数，其操作数可以有多种类型。有关PTF的详细信息，请参阅<a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS-GUID-981102A8-5204-4931-B10A-93486304B184" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C034AB9B-C1A4-46BD-A283-27296C39CAAE">只要</p>
                  <p><code class="codeph">ONLY</code>子句仅适用于视图。<code class="codeph">ONLY</code>指定<code class="codeph">FROM</code>子句中的视图是属于层次结构的视图，并且您不希望包含来自其任何子视图的行。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__QUERY_TABLE_EXPRESSION-55920974">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BF348D6A-0033-4C5E-8122-2A3F7ABB69CE"><span class="italic">query_table_expression</span></p>
                  <p>使用<span class="italic"><code class="codeph">query_table_expression</code></span>子句标识子查询块，表，视图，物化视图，分析视图，层次结构，分区或子分区，或指定标识对象的子查询。为了指定一个子查询块时，必须指定的子查询块名称（ <span class="italic"><code class="codeph">query_name</code></span>在<span class="italic"><code class="codeph">subquery_factoring_clause</code></span>或<span class="italic"><code class="codeph">subav_name</code></span>在<span class="italic"><code class="codeph">subav_factoring_clause</code></span> ）。
                  </p>
                  <p>表达式中的分析视图可以是在<code class="codeph"><span class="codeinlineitalic">with_clause</span></code>或持久分析视图中定义的暂时分析视图。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B4C37A4D-6A0C-4079-BD8A-3B8A4413F56A">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130078">使用子查询：示例</a> ”</span></p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCJCAG"><a id="d425579e3061" class="indexterm-anchor"></a><a id="d425579e3063" class="indexterm-anchor"></a> <span class="bold">侧</span></p>
                  <p>指定<code class="codeph">LATERAL</code>以将<span class="italic"><code class="codeph">subquery</code></span>指定为横向内联视图。在横向内联视图中，您可以指定在查询的<code class="codeph">FROM</code>子句中显示在横向内联视图左侧的表。您可以在<span class="italic"><code class="codeph">subquery</code></span>任何位置（例如<code class="codeph">SELECT</code> ， <code class="codeph">FROM</code>和<code class="codeph">WHERE</code>子句）以及任何嵌套级别指定此左关联。
                  </p>
                  <p><span class="bold">对LATERAL的限制</span></p>
                  <p>横向内联视图受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定了<code class="codeph">LATERAL</code> ，那么你可以不指定<span class="italic"><code class="codeph">pivot_clause</code></span>的<span class="italic"><code class="codeph">unpivot_clause</code></span> ，或在模式<span class="italic"><code class="codeph">table_reference</code></span>条款。
                        </p>
                     </li>
                     <li>
                        <p>如果横向内联视图包含<span class="italic"><code class="codeph">query_partition_clause</code></span> ，并且它是join子句的右侧，则它不能包含join子句中左表的左相关性。但是，它可以包含与<code class="codeph">FROM</code>子句中左边的表的左关联，而不是左表。
                        </p>
                     </li>
                     <li>
                        <p>横向内联视图不能包含右外连接或全外连接中第一个表的左相关。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7B358DB8-7AE3-4410-A86F-35C80AFE4BAB">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDGIJ">使用横向内联视图：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1DC2EC27-1D43-44A2-9095-91ADD07A9389"><span class="italic">inline_external_table</span></p>
                  <p>指定此子句以内联查询中的外部表。您必须为将在查询中内联的外部表指定表列和属性。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F9B9D0A8-8586-4E8B-8D7B-3C0A2135289A"><span class="italic">inline_external_table_properties</span></p>
                  <p>该子句使用<code class="codeph">REJECT LIMIT</code>和<code class="codeph">access_driver_type</code>选项扩展<code class="codeph">external_table_data_props</code> 。使用此子句指定外部表的属性。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-040D8485-3EFB-4B49-B03F-922384A4F0DB"><span class="italic">modified_external_table</span></p>
                  <p>您可以使用此子句覆盖查询中<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句指定的某些外部表属性。
                  </p>
                  <p>您可以在运行时覆盖外部表参数。</p>
                  <p><span class="bold">限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您必须在查询中指定关键字<code class="codeph">EXTERNAL MODIFY</code> 。如果未指定关键字，则会看到“ <code class="codeph">Missing or invalid option</code>错误。
                        </p>
                     </li>
                     <li>
                        <p>您必须在查询中引用外部表。如果不这样做，您将看到错误。</p>
                     </li>
                     <li>
                        <p>您必须在查询中指定至少<span class="italic">一个</span>属性。<code class="codeph">DEFAULT DIRECTORY</code> ， <code class="codeph">LOCATION</code> ， <code class="codeph">ACCESS PARAMETERS</code>或<code class="codeph">REJECT LIMIT</code> 。</p>
                     </li>
                     <li>
                        <p>如果指定多个外部表属性，则必须按顺序列出它们。首先必须指定<code class="codeph">DEFAULT DIRECTORY</code> ，然后是<code class="codeph">ACCESS PARAMETERS</code> ， <code class="codeph">LOCATION</code>和<code class="codeph">REJECT LIMIT</code> 。否则将引发错误。
                        </p>
                     </li>
                     <li>
                        <p>在<code class="codeph">DEFAULT DIRECTORY</code>子句中，您必须仅指定一个正确的默认目录。否则将发生<code class="codeph">Missing DEFAULT keyword</code>错误。
                        </p>
                     </li>
                     <li>
                        <p>您必须在引号内的<code class="codeph">LOCATION</code>子句中包含文件名。否则将发生<code class="codeph">Missing keyword</code>错误。请注意，访问驱动程序将决定是否在查询中允许<code class="codeph">LOCATION</code>子句。如果特定访问驱动程序不允许该子句，则会引发错误。
                        </p>
                     </li>
                     <li>
                        <p>对于<code class="codeph">ORACLE_LOADER</code>和<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序，必须使用以下格式指定<code class="codeph">LOCATION</code>子句中的外部文件位置：directory：location，即目录和位置必须用冒号分隔。子句中的多个位置必须用逗号分隔。否则，将发生<code class="codeph">Missing keyword</code>错误。
                        </p>
                     </li>
                     <li>
                        <p>请注意， <code class="codeph">LOCATION</code>在<code class="codeph">CREATE TABLE</code>中将是可选的，并且必须在创建或查询外部表时指定。否则，将在访问驱动程序中引发错误。
                        </p>
                     </li>
                     <li>
                        <p>通过<code class="codeph">CTAS</code>使用<code class="codeph">ORACLE DATAPUMP</code>填充外部数据时，必须指定外部文件位置。这是唯一一种在<code class="codeph">CREATE TABLE</code>必须使用<code class="codeph">LOCATION</code>子句的情况。</p>
                     </li>
                     <li>
                        <p>覆盖访问参数时，必须在<code class="codeph">ACCESS PARAMETERS</code>子句中提供正确的访问参数列表，并带有括号。
                        </p>
                        <p>请注意， <span class="italic"><code class="codeph">modified_external_table</code></span>子句中的访问参数的语法和允许值与每个访问驱动程序的外部表DDL的语法和允许值相同。有关语法和允许值的其他详细信息，请参阅<a href="../sutil/index.html" target="_blank"><span class="italic">Oracle数据库实用程序</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">REJECT LIMIT</code> ，则它必须是<code class="codeph">UNLIMITED</code>或某个范围内的有效值。否则<code class="codeph">Reject limit out of range</code>将引发<code class="codeph">Reject limit out of range</code>错误。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D561FBBE-DCC1-4B4C-A576-1D7A8B571B3D"><span class="italic">modify_external_table_properties</span></p>
                  <p>您可以使用此子句指定要在运行时修改的外部表属性。您可以修改的参数是<code class="codeph">DEFAULT DIRECTORY</code> ， <code class="codeph">LOCATION</code> ， <code class="codeph">ACCESS PARAMETERS (BADFILE, LOGFILE, DISCARDFILE)</code>和<code class="codeph">REJECT LIMIT</code> 。</p>
                  <p><span class="bold">示例：在查询中覆盖外部表参数</span></p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales_external EXTERNAL MODIFY（LOCATION'sales_9.csv'REJECT LIMIT UNLIMITED）;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112818">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9A510E8E-97D2-47D7-BBE3-20B30370C54D"><span class="italic">flashback_query_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">flashback_query_clause</code></span>根据与数据关联的时间维度从表，视图或物化视图中检索数据。
                  </p>
                  <p>此子句实现SQL驱动的闪回，它允许您指定以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>选择列表中每个对象的不同系统更改编号或时间戳，使用条款<code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> <code class="codeph">{</code> <code class="codeph">SCN</code> <code class="codeph">|</code> <code class="codeph">TIMESTAMP</code> <code class="codeph">}</code>或<code class="codeph">VERSIONS</code> <code class="codeph">AS</code> <code class="codeph">OF</code> <code class="codeph">{</code> <code class="codeph">SCN</code> <code class="codeph">|</code> <code class="codeph">TIMESTAMP</code> <code class="codeph">}</code> 。您还可以使用<code class="codeph">DBMS_FLASHBACK</code>包实现会话级闪回。
                        </p>
                     </li>
                     <li>
                        <p>选择列表中每个对象的有效时间段，使用条款<code class="codeph">VERSIONS</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code>或<code class="codeph">AS</code> <code class="codeph">OF</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code> 。您还可以使用<code class="codeph">DBMS_FLASHBACK_ARCHIVE</code>包实现有效时间会话级闪回。
                        </p>
                     </li>
                  </ul>
                  <p>闪回查询允许您检索对行所做更改的历史记录。您可以使用<code class="codeph">VERSIONS_XID</code>伪列检索进行更改的事务的相应标识符。您还可以通过发出Oracle闪回事务查询来检索导致特定行版本的事务的信息。您可以通过查询特定事务ID的<code class="codeph">FLASHBACK_TRANSACTION_QUERY</code>数据字典视图来执行此操作。</p>
                  <p><span class="bold">{SCN |之间的版本TIMESTAMP}</span></p>
                  <p>指定<code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code>以检索查询返回的行的多个版本。Oracle数据库返回两个SCN之间或两个时间戳值之间存在的所有已提交行的版本。第一个指定的SCN或时间戳必须早于第二个指定的SCN或时间戳。返回的行包括已删除且随后重新插入的行版本。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> <code class="codeph">SCN</code> ...检索两个的SCN之间存在的行的版本。两个表达式必须求值为数字且不能求值为NULL。 <code class="codeph">MINVALUE</code>和<code class="codeph">MAXVALUE</code>分别将最旧和最新数据的SCN解析为SCN。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> <code class="codeph">TIMESTAMP</code> ...检索两个时间戳之间存在的行的版本。两个表达式都必须求值为时间戳值，并且不能求值为NULL。 <code class="codeph">MINVALUE</code>和<code class="codeph">MAXVALUE</code>解析最旧和最新可用数据的时间戳。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">AS OF {SCN | TIMESTAMP}</span></p>
                  <p>指定<code class="codeph">AS</code> <code class="codeph">OF</code>以检索查询在特定更改号（SCN）或时间戳记返回的行的单个版本。如果指定<code class="codeph">SCN</code> ，则<span class="italic"><code class="codeph">expr</code></span>必须求值为数字。如果指定<code class="codeph">TIMESTAMP</code> ，则<span class="italic"><code class="codeph">expr</code></span>必须求值为时间戳值。在任何一种情况下， <span class="italic"><code class="codeph">expr</code></span>都不能计算为NULL。 Oracle数据库返回在指定的系统更改编号或时间存在的行。
                  </p>
                  <p>Oracle数据库提供了一组版本查询伪列，使您可以检索有关各行版本的其他信息。有关更多信息，请参阅<span class="q">“ <a href="Version-Query-Pseudocolumns.html#GUID-F4DB0235-43A9-4AA2-8E9C-F2D9699D4AAD">版本查询伪列</a> ”</span> 。
                  </p>
                  <p>当两个子句一起使用时， <code class="codeph">AS</code> <code class="codeph">OF</code>子句确定数据库发出查询的SCN或时刻。<code class="codeph">VERSIONS</code>子句确定从<code class="codeph">AS</code> <code class="codeph">OF</code>点看到的行的版本。如果事务在第一个<code class="codeph">BETWEEN</code>值之前开始或在<code class="codeph">AS</code> <code class="codeph">OF</code>点之后结束，则数据库为行版本返回null。
                  </p>
                  <p><span class="bold">版本期限</span></p>
                  <p>指定<code class="codeph">VERSIONS</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code>以从<span class="italic"><code class="codeph">table</code></span>检索行是否在指定时间段内被视为有效。为了使用该条款， <span class="italic"><code class="codeph">table</code></span>必须支持时间有效性。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">valid_time_column</code></span> ，请指定<span class="italic"><code class="codeph">table</code></span>的有效时间维度列的名称。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">BETWEEN</code>子句指定行被视为有效的时间段。两个表达式都必须求值为时间戳值，并且不能求值为NULL。 <code class="codeph">MINVALUE</code>解析为<span class="italic"><code class="codeph">table</code></span>的开始时间列中的最早日期或时间戳。<code class="codeph">MAXVALUE</code>解析为<span class="italic"><code class="codeph">table</code></span>的结束时间列中的最新日期或时间戳。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">截止日期</span></p>
                  <p>指定<code class="codeph">AS</code> <code class="codeph">OF</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code>从<span class="italic"><code class="codeph">table</code></span>检索行是否在指定时间内被视为有效。为了使用该条款， <span class="italic"><code class="codeph">table</code></span>必须支持时间有效性。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">valid_time_column</code></span> ，请指定<span class="italic"><code class="codeph">table</code></span>的有效时间维度列的名称。
                        </p>
                     </li>
                     <li>
                        <p>使用<span class="italic"><code class="codeph">expr</code></span>指定哪些行被视为有效的时间。表达式必须求值为时间戳值，并且不能求值为NULL。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-02ACF4E7-3730-4687-A44C-FEE547A02D88">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关时间有效性的更多信息，请参见<a href="../adfns/design_basics.html#ADFNS967" target="_blank"><span class="italic">Oracle数据库开发指南</span></a></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJADHJHB">period_definition</a></span>了解如何配置表以支持时间有效性以及有关<span class="italic"><code class="codeph">valid_time_column</code></span> ，start time列和结束时间列的信息</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">关于闪回查询的注意事项</span></p>
                  <p>执行闪回查询时，Oracle数据库可能不会使用它将用于其他类型查询的查询优化，这可能会对性能产生负面影响。特别是，当您在分层查询中指定多个闪回查询时，会发生这种情况。</p>
                  <p><span class="bold">闪回查询的限制</span></p>
                  <p>这些查询受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能在<code class="codeph">AS</code> <code class="codeph">OF</code>子句的表达式中指定列表达式或子查询。
                        </p>
                     </li>
                     <li>
                        <p>如果已指定<span class="italic"><code class="codeph">for_update_clause</code></span> <code class="codeph">OF</code>则无法指定<code class="codeph">AS</code> <code class="codeph">OF</code>子句。
                        </p>
                     </li>
                     <li>
                        <p>您不能在物化视图的定义查询中使用<code class="codeph">AS</code> <code class="codeph">OF</code>子句。
                        </p>
                     </li>
                     <li>
                        <p>您不能在闪回查询中将<code class="codeph">VERSIONS</code>子句用于临时表或外部表，也不能使用属于集群的表。
                        </p>
                     </li>
                     <li>
                        <p>您不能在闪回查询中使用<code class="codeph">VERSIONS</code>子句来查看视图。但是，您可以在视图的定义查询中使用<code class="codeph">VERSIONS</code>语法。
                        </p>
                     </li>
                     <li>
                        <p>你不能指定<span class="italic"><code class="codeph">flashback_query_clause</code></span>如果指定<span class="italic"><code class="codeph">query_name</code></span>在<span class="italic"><code class="codeph">query_table_expression</code></span> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F847414B-D7D2-4BE4-960E-52DA62DD4C60">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Oracle闪回查询的更多信息，请参见<a href="../adfns/flashback.html#ADFNS01003" target="_blank"><span class="italic">Oracle数据库开发指南</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112847">使用闪回查询：示例</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../adfns/flashback.html#ADFNS01009" target="_blank"><span class="italic">Oracle数据库开发指南</span></a>和<a href="../arpls/DBMS_FLASHBACK.html#ARPLS142" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a>有关使用<code class="codeph">DBMS_FLASHBACK</code>包进行会话级闪回的<code class="codeph">DBMS_FLASHBACK</code></p>
                        </li>
                        <li>
                           <p><a href="../admin/managing-tables.html#ADMIN01513" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a>和<span class="italic">Oracle数据库参考中</span>的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN23379" target="_blank"><code class="codeph">FLASHBACK_TRANSACTION_QUERY</code></a>描述，了解有关事务历史的更多信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6927FCA1-1ADA-4099-91BD-0F7A9494294F"><span class="italic">partition_extension_clause</span></p>
                  <p>对于<code class="codeph">PARTITION</code>或<code class="codeph">SUBPARTITION</code> ，请指定要从中检索数据的<span class="italic"><code class="codeph">table</code></span>中的分区或子分区的名称或键值。
                  </p>
                  <p>对于范围和列表分区数据，作为此子句的替代，您可以在<code class="codeph">WHERE</code>子句中指定一个条件，该条件将检索限制为<span class="italic"><code class="codeph">table</code></span>一个或多个分区。Oracle数据库将解释条件并仅从这些分区获取数据。不可能为散列分区数据制定这样的<code class="codeph">WHERE</code>条件。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3B6ABA54-3629-4E51-AFCC-BFC7FECBA48F">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-FED2E424-3F06-4B2B-88D2-DE043CA6E0E4">对分区表和索引的引用</a> ”</span>和<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105152">从分区中选择：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A377D18F-2C67-47E4-B52D-89CDF92685DD"><span class="italic">DBLINK</span></p>
                  <p>对于<span class="italic"><code class="codeph">dblink</code></span> ，请指定指向表，视图或实例化视图所在的远程数据库的数据库链接的完整或部分名称。该数据库不必是Oracle数据库。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B1D5BEBD-E3E2-4DB9-BA73-6AD6066F18A0">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“</span>有关引用数据库链接的更多信息，请参阅<span class="q"><a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-61D0B206-A5EA-473F-AD04-7067D6E3914C">远程数据库中的对象</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="Distributed-Queries.html#GUID-DADE67A5-1C58-4132-9B2F-C14AE9B65508">分布式查询</a> ”</span>有关分布式查询和<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130133">使用分布式查询：示例</a> ”的</span>更多信息</p>
                        </li>
                     </ul>
                  </div>
                  <p>如果省略<span class="italic"><code class="codeph">dblink</code></span> ，则数据库假定表，视图或实例化视图位于本地数据库中。
                  </p>
                  <p><span class="bold">数据库链接的限制</span></p>
                  <p>数据库链接受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您无法在远程表上查询用户定义的类型或对象<code class="codeph">REF</code> 。
                        </p>
                     </li>
                     <li>
                        <p>您无法从远程表中查询<code class="codeph">ANYTYPE</code> ， <code class="codeph">ANYDATA</code>或<code class="codeph">ANYDATASET</code>类型的列。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3020866D-6500-4BB5-9E9B-ED4039D91214"><span class="italic">表</span> | <span class="italic">查看</span> | <span class="italic">materialized_view</span> | <span class="italic">analytic_view</span> | <span class="italic">等级制度</span> 
                  </p>
                  <p>指定从中选择数据的表，视图，物化视图，分析视图或层次结构的名称。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__ANALYTIC_VIEW-F117119F">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-94272D1A-388E-4ADB-A8D7-1C89EF4C196D"><span class="italic">analytic_view</span></p>
                  <p>使用<code class="codeph">CREATE</code> <code class="codeph">ANALYTIC</code> <code class="codeph">VIEW</code>语句或在<code class="codeph">WITH</code>子句中定义的暂时分析视图定义的持久分析视图。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1A323D0A-80D0-4FB7-BB98-5223D614E113">
                     <p class="notep1">也可以看看：</p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731">分析观点：例子</a></div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__HIERARCHY-F1175778">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B15631D9-5877-43AD-BC5E-928817BA2B10"><span class="italic">等级制度</span></p>
                  <p>使用<code class="codeph">CREATE</code> <code class="codeph">HIERARCHY</code>语句定义的层次结构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-49792FA3-A1CC-4497-874A-631543D425A4"><span class="italic">sample_clause</span></p>
                  <p><span class="italic"><code class="codeph">sample_clause</code></span>允许您指示数据库从表中的随机数据样本中进行选择，而不是从整个表中进行选择。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-96928A04-8A30-43F2-82BC-AE4CDFBD616E">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105143">选择样本：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">块</span></p>
                  <p><code class="codeph">BLOCK</code>指示数据库尝试执行随机块采样而不是随机行采样。
                  </p>
                  <p>只有在全表扫描或索引快速完整扫描期间才可以进行块采样。如果存在更高效的执行路径，则Oracle数据库不会执行块采样。如果要保证特定表或索引的块采样，请使用<code class="codeph">FULL</code>或<code class="codeph">INDEX_FFS</code>提示。
                  </p>
                  <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2。）开始，您可以为外部表指定块采样。在早期版本中，为外部表指定块采样无效;行进行了采样。
                  </p>
                  <p><span class="bold"><span class="italic">sample_percent</span></span></p>
                  <p>对于<span class="italic"><code class="codeph">sample_percent</code></span> ，指定要包含在样本中的总行数或块计数的百分比。该值必须在.000001范围内，但不包括100。此百分比表示在块采样的情况下每行或每个行的概率被选为样本的一部分。这并不意味着数据库将准确检索<span class="italic"><code class="codeph">table</code></span>的行的<span class="italic"><code class="codeph">sample_percent</code></span> 。
                  </p>
                  <div class="infoboxnotewarn" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BA9D969D-424C-4CD7-965E-249E04F5C135">
                     <p class="notep1">警告：</p>
                     <p>使用此功能时使用统计上不正确的假设可能会导致错误或不良结果。</p>
                  </div>
                  <p><span class="bold">SEED</span> <span class="bold"><span class="italic">seed_value</span></span></p>
                  <p>指定此子句以指示数据库尝试将同一样本从一个执行返回到下一个执行。<span class="italic"><code class="codeph">seed_value</code></span>必须是0到4294967295之间的整数。如果省略此子句，则生成的样本将从一次执行更改为下一次执行。
                  </p>
                  <p><span class="bold"><span class="italic">sample_clause的</span></span> <span class="bold">限制</span></p>
                  <p>以下限制适用于<code class="codeph">SAMPLE</code>子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能在DML语句的子查询中指定<code class="codeph">SAMPLE</code>子句。
                        </p>
                     </li>
                     <li>
                        <p>您可以在基表，物化视图的容器表或键保留的视图的查询中指定<code class="codeph">SAMPLE</code>子句。您不能在非密钥保留的视图上指定此子句。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A6A4636-4C95-4B2A-94B8-A338525FFFB7"><span class="italic">subquery_restriction_clause</span></p>
                  <p><span class="italic"><code class="codeph">subquery_restriction_clause</code></span>允许您通过以下方式之一限制子查询：</p>
                  <p><span class="bold">只读</span></p>
                  <p>指定<code class="codeph">WITH READ ONLY</code>以指示无法更新表或视图。
                  </p>
                  <p><span class="bold">与检查选项</span></p>
                  <p>指定<code class="codeph">WITH CHECK OPTION</code>以指示Oracle数据库禁止对将生成子查询中未包含的行的表或视图进行任何更改。在DML语句的子查询中使用时，可以在<code class="codeph">FROM</code>子句的子查询中指定此子句，但不能在<code class="codeph">WHERE</code>子句的子查询中指定。
                  </p>
                  <p><span class="bold">CONSTRAINT</span> <span class="bold"><span class="italic">约束</span></span></p>
                  <p>指定<code class="codeph">CHECK OPTION</code>约束的名称。如果省略此标识符，则Oracle会自动为约束指定<code class="codeph">SYS_C</code> <span class="italic"><code class="codeph">n</code></span>形式的名称，其中n是一个整数，使数据库中的约束名称唯一。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-63F177FE-08E9-4FE6-8FA1-FED4103E3B84">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066598">使用WITH CHECK OPTION子句：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2104990">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D92F6514-D6D4-48F2-8A43-FAF5FFEA53B4"><span class="italic">table_collection_expression</span></p>
                  <p><span class="italic"><code class="codeph">table_collection_expression</code></span>允许您通知Oracle，应将<span class="italic"><code class="codeph">collection_expression</code></span>的值视为表，以便进行查询和DML操作。<span class="italic"><code class="codeph">collection_expression</code></span>可以是子查询，列，函数或集合构造函数。无论其形式如何，它都必须返回一个集合值 - 即类型为嵌套表或varray的值。提取集合元素的过程称为<span class="bold">集合取消</span> 。
                  </p>
                  <p>如果要将<code class="codeph">TABLE</code>集合表达式与父表连接，则可选的加号（+）是相关的。+创建两者的外连接，以便查询返回外表中的行，即使集合表达式为null。
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BF34DD46-FA0D-4F83-9458-E1B126639957">
                     <p class="notep1">注意：</p>
                     <p>在Oracle的早期版本中，当<span class="italic"><code class="codeph">collection_expression</code></span>是一个子查询， <span class="italic"><code class="codeph">table_collection_expression</code></span>表示为<code class="codeph">THE</code> <span class="italic"><code class="codeph">subquery</code></span> 。该用法现已弃用。
                     </p>
                  </div>
                  <p><span class="italic"><code class="codeph">collection_expression</code></span>可以引用<code class="codeph">FROM</code>子句中左侧定义的表的列。这称为<span class="bold">左相关</span> 。左相关只能在<span class="italic"><code class="codeph">table_collection_expression</code></span>发生。其他子查询不能包含对子查询外部定义的列的引用。
                  </p>
                  <p><a id="d425579e4147" class="indexterm-anchor"></a>可选<code class="codeph">(+)</code>允许您指定<span class="italic"><code class="codeph">table_collection_expression</code></span>应返回一行，如果集合为null或为空，则所有字段都设置为null。仅当<span class="italic"><code class="codeph">collection_expression</code></span>使用左相关时， <code class="codeph">(+)</code>才有效。结果类似于外连接的结果。
                  </p>
                  <p>在<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>操作中的子查询的<code class="codeph">WHERE</code>子句中使用<code class="codeph">(+)</code>语法时，必须在子查询的<code class="codeph">FROM</code>子句中指定两个表。除非子查询本身存在连接，否则Oracle数据库将忽略外连接语法。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EB38A098-5295-4B73-8D6F-47BACC1818D2">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="Joins.html#GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A">外连接</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">表集合：示例</a> ”</span>和<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071637">集合无法解释：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__T_ALIAS-EF134CB8">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-598B997F-C8A1-4EBA-A059-403F7D8AAF85"><span class="italic">t_alias</span></p>
                  <p>指定<span class="bold">相关</span> <span class="bold">名称</span> ，该<span class="bold">名称</span>是用于评估查询的表，视图，实例化视图或子查询的别名。如果选择列表引用任何对象类型属性或对象类型方法，则需要此别名。关联名称最常用于相关查询中。对整个查询中的表，视图或物化视图的其他引用必须引用此别名。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39316619-3585-4D00-BA95-4FEAE456B139">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066912">使用相关子查询：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3C9CD3C5-0A70-4A6F-A76C-309A6502A2C3"><span class="italic">pivot_clause</span></p>
                  <p><a id="d425579e4221" class="indexterm-anchor"></a><a id="d425579e4223" class="indexterm-anchor"></a><a id="d425579e4227" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">pivot_clause</code></span>允许您编写交叉列表查询，将行轮换为列，在轮换过程中聚合数据。枢轴操作的输出通常包括比起始数据集更多的列和更少的行。<span class="italic"><code class="codeph">pivot_clause</code></span>执行以下步骤：</p>
                  <ol>
                     <li>
                        <p><span class="italic"><code class="codeph">pivot_clause</code></span>计算在子句开头指定的聚合函数。聚合函数必须指定<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句以返回多个值，但<span class="italic"><code class="codeph">pivot_clause</code></span>不包含显式的<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句。而是， <span class="italic"><code class="codeph">pivot_clause</code></span>执行隐式<code class="codeph">GROUP</code> <code class="codeph">BY</code> 。隐式分组基于<span class="italic"><code class="codeph">pivot_clause</code></span>未引用的所有列，以及<span class="italic"><code class="codeph">pivot_clause</code></span>指定的值<span class="italic"><code class="codeph">pivot_in_clause</code></span> 。）。如果指定多个聚合函数，则必须至少为除一个聚合函数之外的所有函数提供别名。
                        </p>
                     </li>
                     <li>
                        <p>在步骤1中计算的分组列和聚合值配置为生成以下交叉表格输出：</p>
                        <ol type="a">
                           <li>
                              <p>所有隐含的分组列都没有在<span class="italic"><code class="codeph">pivot_clause</code></span> ，后跟</p>
                           </li>
                           <li>
                              <p>与<span class="italic"><code class="codeph">pivot_in_clause</code></span>值对应的新列。每个聚合值都转换为交叉列表中的相应新列。如果指定<code class="codeph">XML</code>关键字，则结果是一个新列，将数据表示为XML字符串。数据库为每个新列生成一个名称。如果未为聚合函数提供别名，则数据库将使用每个透视列值作为转换该聚合值的每个新列的名称。如果为聚合函数提供别名，则数据库通过连接数据透视表列名，下划线字符（_）和聚合函数别名，为每个新列生成一个名称，以转换该聚合值。如果生成的列名称超过列名称的最大长度，则返回ORA-00918错误。要避免此问题，请为数据透视表列标题，聚合函数或两者指定较短的别名。
                              </p>
                           </li>
                        </ol>
                     </li>
                  </ol>
                  <p><span class="italic"><code class="codeph">pivot_clause</code></span>的子条款具有以下语义：</p>
                  <p><span class="bold">XML</span></p>
                  <p>可选的<code class="codeph">XML</code>关键字为查询生成XML输出。<code class="codeph">XML</code>关键字允许<span class="italic"><code class="codeph">pivot_in_clause</code></span>包含子查询或通配符关键字<code class="codeph">ANY</code> 。如果事先不知道<span class="italic"><code class="codeph">pivot_in_clause</code></span>值，则子查询和<code class="codeph">ANY</code>通配符都很有用。使用XML输出，在执行时评估pivot列的值。使用<span class="italic"><code class="codeph">pivot_in_clause</code></span>表达式指定显式透视值时，无法指定<code class="codeph">XML</code> 。
                  </p>
                  <p>生成XML输出时，聚合函数将应用于每个不同的透视值，并且数据库返回包含所有值和度量对的XML字符串的<code class="codeph">XMLType</code>列。
                  </p>
                  <p><span class="bold"><span class="italic">EXPR</span></span></p>
                  <p>对于<span class="italic"><code class="codeph">expr</code></span> ，请指定一个表达式，该表达式的计算结果为pivot列的常量值。您可以选择为每个透视列值提供别名。如果没有别名，则列标题将成为带引号的标识符。
                  </p>
                  <p><span class="bold"><span class="italic">子查询</span></span></p>
                  <p>子查询仅与<code class="codeph">XML</code>关键字一起使用。指定子查询时，子查询找到的所有值都用于旋转。输出与非XML数据透视查询返回的交叉表格格式不同。子查询不是在<span class="italic"><code class="codeph">pivot_in_clause</code></span>指定多个列，而是生成单个XML字符串列。每行的XML字符串包含与该行的隐式<code class="codeph">GROUP</code> <code class="codeph">BY</code>值对应的聚合数据。每个输出行的XML字符串包括子查询找到的所有数据透视表值，即使输入数据中没有相应的行也是如此。
                  </p>
                  <p>子查询必须在数据透视查询的执行时返回唯一值列表。如果子查询未返回唯一值，则Oracle数据库会引发运行时错误。如果您不确定查询将返回唯一值，请在子查询中使用<code class="codeph">DISTINCT</code>关键字。
                  </p>
                  <p><span class="bold">任何</span></p>
                  <p><code class="codeph">ANY</code>关键字仅与<code class="codeph">XML</code>关键字一起使用。<code class="codeph">ANY</code>关键字充当通配符，与<span class="italic"><code class="codeph">subquery</code></span>效果类似。输出与非XML数据透视查询返回的交叉表格格式不同。<code class="codeph">ANY</code>关键字不是在<span class="italic"><code class="codeph">pivot_in_clause</code></span>指定多个列，而是生成单个XML字符串列。每行的XML字符串包含与该行的隐式<code class="codeph">GROUP</code> <code class="codeph">BY</code>值对应的聚合数据。但是，与指定<span class="italic"><code class="codeph">subquery</code></span>时的行为相反， <code class="codeph">ANY</code>通配符为每个输出行生成一个XML字符串，该字符串仅包含在与该行对应的输入数据中找到的数据透视值。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C5FB992C-539B-4819-A299-440B96AFC07F">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../dwhsg/sql-analysis-reporting-data-warehouses.html#DWHSG0209" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，了解有关<code class="codeph">PIVOT</code>和<code class="codeph">UNPIVOT</code>以及<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDFIIDD">使用PIVOT和UNPIVOT：示例</a> ”的</span>更多信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8C5700F1-8770-49EA-B152-13459CF763D3"><span class="italic">unpivot_clause</span></p>
                  <p><a id="d425579e4443" class="indexterm-anchor"></a><a id="d425579e4445" class="indexterm-anchor"></a><a id="d425579e4449" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">unpivot_clause</code></span>列旋转为行。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">INCLUDE</code> | <code class="codeph">EXCLUDE</code> <code class="codeph">NULLS</code>子句为您提供包含或排除空值行的选项。<code class="codeph">INCLUDE</code> <code class="codeph">NULLS</code>导致unpivot操作包含空值行; <code class="codeph">EXCLUDE</code> <code class="codeph">NULLS</code>从返回集中删除空值行。如果省略此子句，则unpivot操作会排除空值。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">column</code></span> ，请为将包含度量值的每个输出列指定名称，例如<code class="codeph">sales_quantity</code> 。
                        </p>
                     </li>
                     <li>
                        <p>在<span class="italic"><code class="codeph">pivot_for_clause</code></span> ，为将保存描述符值的每个输出列指定名称，例如quarter或product。
                        </p>
                     </li>
                     <li>
                        <p>在<span class="italic"><code class="codeph">unpivot_in_clause</code></span> ，指定输入数据列，其名称将成为<span class="italic"><code class="codeph">pivot_for_clause</code></span>的输出列中的<span class="italic"><code class="codeph">pivot_for_clause</code></span> 。这些输入数据列具有指定类别值的名称，例如Q1，Q2，Q3，Q4。可选的<code class="codeph">AS</code>子句允许您将输入数据列名映射到输出列中的指定<span class="italic"><code class="codeph">literal</code></span>值。
                        </p>
                     </li>
                  </ul>
                  <p>unpivot操作将一组值列转换为一列。因此，所有值列的数据类型必须位于同一数据类型组中，例如数字或字符。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果所有值列都是<code class="codeph">CHAR</code> ，则不显示的列为<code class="codeph">CHAR</code> 。如果任何值列为<code class="codeph">VARCHAR2</code> ，则unpivoted列为<code class="codeph">VARCHAR2</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果所有值列均为<code class="codeph">NUMBER</code> ，则不显示的列为<code class="codeph">NUMBER</code> 。如果任何值列为<code class="codeph">BINARY_DOUBLE</code> ，则unpivoted列为<code class="codeph">BINARY_DOUBLE</code> 。如果没有值列为<code class="codeph">BINARY_DOUBLE</code>但任何值列为<code class="codeph">BINARY_FLOAT</code> ，则不显示的列为<code class="codeph">BINARY_FLOAT</code> 。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CONTAINERS_CLAUSE-2C8DC5C8">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9F2C552B-638B-4004-8E26-BA6FF47E3FFB"><span class="italic">containers_clause</span></p>
                  <p><code class="codeph">CONTAINERS</code>子句在多租户容器数据库（CDB）中很有用。此子句允许您在CDB中的所有容器中查询指定表或视图中的数据。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要查询CDB中的数据，您必须是连接到CDB根目录的普通用户，并且表或视图必须存在于根和所有PDB中。该查询返回CDB根目录和所有打开的PDB中的表或视图中的所有行。</p>
                     </li>
                     <li>
                        <p>要查询应用程序容器中的数据，您必须是连接到应用程序根目录的公共用户，并且表或视图必须存在于应用程序根目录和应用程序容器中的所有PDB中。该查询返回应用程序根目录中的表或视图以及应用程序容器中所有打开的PDB中的所有行。</p>
                     </li>
                  </ul>
                  <p>表或视图必须位于您自己的架构中。没有必要指定<span class="italic"><code class="codeph">schema</code></span> ，但如果这样做，则必须指定自己的模式。
                  </p>
                  <p>除了在<code class="codeph">RESTRICTED</code>模式下打开的PDB之外，查询将返回根中和所有打开的PDB中的表或视图中的所有行。如果查询的表或视图尚未包含<code class="codeph">CON_ID</code>列，则查询会将<code class="codeph">CON_ID</code>列添加到查询结果中，该查询结果标识给定行所代表的数据的容器。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-462B1B8C-AB21-40B3-9C1D-4559AB0A17D1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Comments.html#GUID-28F7F1DB-E265-40CB-BF41-E07A1A755566">集装箱提示</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CONTAINERS</code>子句的更多信息，请<code class="codeph">CONTAINERS</code> <a href="../multi/viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#ADMIN14319" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1AD99636-9692-4F16-9A17-87C7E9FE8AD4"><span class="italic">shards_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">shards_clause</code></span>查询Oracle提供的对象，例如跨分片的<code class="codeph">V$</code> ， <code class="codeph">DBA/USER/ALL</code>视图和字典表。您只能在分片目录数据库上使用<span class="italic"><code class="codeph">shards_clause</code></span>执行查询。
                  </p>
                  <p>通过提供从中央分片目录中跨所有分片执行查询的功能，此功能可以更轻松地进行集中管理。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2080416">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-17D9037F-0079-430F-AD3B-6F87C50B5A72"><span class="italic">join_clause</span></p>
                  <p>使用适当的<span class="italic"><code class="codeph">join_clause</code></span>语法来标识属于要从中选择数据的连接的表。<span class="italic"><code class="codeph">inner_cross_join_clause</code></span>允许您指定内部或交叉连接。<span class="italic"><code class="codeph">outer_join_clause</code></span>允许您指定外部<span class="italic"><code class="codeph">outer_join_clause</code></span> 。<span class="italic"><code class="codeph">cross_outer_apply_clause</code></span>允许您指定ANSI <code class="codeph">CROSS</code> <code class="codeph">JOIN</code>的变体或具有左相关支持的ANSI <code class="codeph">LEFT</code> <code class="codeph">OUTER</code> <code class="codeph">JOIN</code> 。
                  </p>
                  <p>当您连接两个以上的行源时，可以使用括号来覆盖默认优先级。例如，以下语法：</p><pre class="oac_no_warn" dir="ltr">选择 ...从一个加入（b加入c）......
</pre><p>导致<code class="codeph">b</code>和<code class="codeph">c</code>的连接，然后是a的结果集<code class="codeph">a</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-77986614-F374-4C55-922E-365519AB2250">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Joins.html#GUID-39081984-8D38-4D64-A847-AA43F515D460">联接</a> ”</span>以获取有关联接的更多信息， <span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066611">使用联接查询：示例</a> ”</span> ， <span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066652">使用自联接：示例</a> ”</span>和<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2107296">使用外部联接：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BDF73DD3-070B-4BA2-894E-1ECC60C0DE20"><span class="italic">inner_cross_join_clause</span></p>
                  <p>内连接仅返回满足连接条件的行。</p>
                  <p><span class="bold">内</span></p>
                  <p>指定<code class="codeph">INNER</code>以显式指定内部联接。
                  </p>
                  <p><span class="bold">加入</span></p>
                  <p><code class="codeph">JOIN</code>关键字明确指出正在执行连接。您可以使用此语法将<code class="codeph">WHERE</code>子句连接中使用的逗号分隔的表表达式替换为<code class="codeph">FROM</code>子句连接语法。
                  </p>
                  <p><span class="bold">在</span> <span class="bold"><span class="italic">条件</span></span></p>
                  <p>使用<code class="codeph">ON</code>子句指定连接条件。这样做可以指定与<code class="codeph">WHERE</code>子句中的任何搜索或过滤条件分开的连接条件。
                  </p>
                  <p><span class="bold">使用（</span> <span class="bold"><span class="italic">专栏</span></span> <span class="bold">）</span></p>
                  <p>当您指定两个表中具有相同名称的列的等值连接时， <code class="codeph">USING</code> <span class="italic"><code class="codeph">column</code></span>子句指示要使用的列。仅当两个表中的连接列具有相同名称时，才能使用此子句。在此子句中，不要使用表名或表别名限定列名。
                  </p>
                  <p><span class="bold">交叉</span> <a id="d425579e4767" class="indexterm-anchor"></a><a id="d425579e4769" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">CROSS</code>关键字表示正在执行交叉连接。交叉连接生成两个关系的交叉积，基本上与逗号分隔的Oracle数据库符号相同。
                  </p>
                  <p><span class="bold">自然</span></p>
                  <p><code class="codeph">NATURAL</code>关键字表示正在执行自然连接。有关本节的完整语义，请参阅<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHGCAE">NATURAL</a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CC19E57B-3744-4E59-82ED-C2AA6BEAB629"><span class="italic">outer_join_clause</span></p>
                  <p>外连接返回满足连接条件的所有行，并返回一个表中的部分或全部行，而另一个表中没有行满足连接条件。您可以指定两种类型的外连接：在连接两侧使用<span class="italic"><code class="codeph">table_reference</code></span>语法的常规外连接，或在一侧或另一侧使用<span class="italic"><code class="codeph">query_partition_clause</code></span>的分区外连接。分区外连接类似于传统的外连接，除了连接发生在外表和内表的每个分区之间。通过这种类型的连接，您可以选择性地使稀疏数据沿着感兴趣的维度变得更加密集。此过程称为<span class="bold">数据密集化</span> 。
                  </p>
                  <p><span class="bold"><span class="italic">query_partition_clause</span></span></p>
                  <p><span class="italic"><code class="codeph">query_partition_clause</code></span>允许您定义<span class="bold">分区外连接</span> 。这种连接通过将外连接应用于查询返回的分区来扩展传统的外连接语法。Oracle数据库为您在<code class="codeph">PARTITION</code> <code class="codeph">BY</code>子句中指定的每个表达式创建行<code class="codeph">PARTITION</code> 。每个查询分区中的行具有相同的<code class="codeph">PARTITION</code> <code class="codeph">BY</code>表达式值。
                  </p>
                  <p><span class="italic"><code class="codeph">query_partition_clause</code></span>可以位于外部<span class="italic"><code class="codeph">query_partition_clause</code></span>任一侧。分区外连接的结果是分区结果集中每个分区的外连接的<code class="codeph">UNION</code>和连接另一侧的表。此类结果可用于填充稀疏数据中的间隙，从而简化分析计算。
                  </p>
                  <p>如果省略此子句，则数据库将整个表表达式 - <span class="italic"><code class="codeph">table_reference</code></span>指定的所有内容 - 视为单个分区，从而产生传统的外连接。
                  </p>
                  <p>要在分析函数中使用<span class="italic"><code class="codeph">query_partition_clause</code></span> ，请使用语法的上部分支（不带括号）。要在模型查询（在<span class="italic"><code class="codeph">model_column_clauses</code></span> ）或分区外连接（在<span class="italic"><code class="codeph">outer_join_clause</code></span> ）中使用此子句，请使用语法的下部分支（带括号）。
                  </p>
                  <p><span class="bold">分区外连接的限制</span></p>
                  <p>分区外连接受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以在连接的右侧或左侧指定<span class="italic"><code class="codeph">query_partition_clause</code></span> ，但不能同时指定两者。
                        </p>
                     </li>
                     <li>
                        <p>您不能指定<code class="codeph">FULL</code>分区外连接。
                        </p>
                     </li>
                     <li>
                        <p>如果在具有<code class="codeph">ON</code>子句的外部<span class="italic"><code class="codeph">query_partition_clause</code></span>中指定<span class="italic"><code class="codeph">query_partition_clause</code></span> ，则无法在<code class="codeph">ON</code>条件中指定子查询。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B74968AB-0B32-4CE7-A234-2DED0224A2F2">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2177515">使用分区外连接：示例</a> ”</span></p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHGCAE"><span class="bold">自然</span><a id="d425579e4903" class="indexterm-anchor"></a><a id="d425579e4905" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">NATURAL</code>关键字表示正在执行自然连接。自然连接基于两个表中具有相同名称的所有列。它从两个表中选择相关列中具有相等值的行。如果具有相同名称的两列不具有兼容的数据类型，则会引发错误。指定自然连接中涉及的列时，请不要使用表名或表别名限定列名。
                  </p>
                  <p>有时，自然或交叉连接中的表配对可能是模糊的。例如，请考虑以下连接语法：</p><pre class="oac_no_warn" dir="ltr">a NATURAL LEFT JOIN b LEFT JOIN c ON b.c1 = c.c1</pre><p>可以通过以下任一方式解释此示例：</p><pre class="oac_no_warn" dir="ltr">自然左连接（b左连接c开b.c1 = c.c1）（自然左连接b）左连接c开b.c1 = c.c1</pre><p>为避免这种歧义，可以使用括号指定连接表的配对。在没有这样的括号的情况下，数据库使用左关联性，从左到右配对表。</p>
                  <p><span class="bold">对自然联合的限制</span></p>
                  <p>您不能将LOB列， <code class="codeph">ANYTYPE</code> ， <code class="codeph">ANYDATA</code>或<code class="codeph">ANYDATASET</code>列或集合列指定为自然连接的一部分。
                  </p>
                  <p><span class="bold"><span class="italic">outer_join_type</span></span></p>
                  <p><span class="italic"><code class="codeph">outer_join_type</code></span>表示正在执行的外连接的类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">RIGHT</code>以指示右外连接。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">LEFT</code>以指示左外连接。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">FULL</code>以指示完整或双面外部连接。除了内连接之外，两个表中未在内连接结果中返回的行将被保留并使用空值进行扩展。
                        </p>
                     </li>
                     <li>
                        <p>您可以在<code class="codeph">RIGHT</code> ， <code class="codeph">LEFT</code>或<code class="codeph">FULL</code>之后指定可选的<code class="codeph">OUTER</code>关键字，以明确说明正在执行外部联接。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">在</span> <span class="bold"><span class="italic">条件</span></span></p>
                  <p>使用<code class="codeph">ON</code>子句指定连接条件。这样做可以指定与<code class="codeph">WHERE</code>子句中的任何搜索或过滤条件分开的连接条件。
                  </p>
                  <p><span class="bold">限制ON</span> <span class="bold"><span class="italic">条件</span></span> <span class="bold">条款</span></p>
                  <p>您不能使用<code class="codeph">NATURAL</code>外连接指定此子句。
                  </p>
                  <p><span class="bold">使用</span> <span class="bold"><span class="italic">专栏</span></span></p>
                  <p>在具有<code class="codeph">USING</code>子句的外部<code class="codeph">USING</code> ，查询返回一个列，该列合并联接中的两个匹配列。合并功能如下：</p><pre class="oac_no_warn" dir="ltr">COALESCE（a，b）= a如果是NOT NULL，否则b。
</pre><p>因此：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>左外连接返回<code class="codeph">FROM</code>子句中左表的所有公共列值。
                        </p>
                     </li>
                     <li>
                        <p>右外连接返回<code class="codeph">FROM</code>子句中右表的所有公共列值。
                        </p>
                     </li>
                     <li>
                        <p>完全外部联接返回两个联接表中的所有公共列值。</p>
                     </li>
                  </ul>
                  <p><span class="bold">对USING</span> <span class="bold"><span class="italic">栏的</span></span> <span class="bold">限制</span> <span class="bold">条款</span></p>
                  <p><code class="codeph">USING</code> <span class="italic"><code class="codeph">column</code></span>子句受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在此子句中，不要使用表名或表别名限定列名。</p>
                     </li>
                     <li>
                        <p>您不能在<code class="codeph">USING</code> <span class="italic"><code class="codeph">column</code></span>句中指定LOB列或集合列。
                        </p>
                     </li>
                     <li>
                        <p>您不能使用<code class="codeph">NATURAL</code>外连接指定此子句。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D22B1F12-DA3C-4285-9059-4715BC2200FE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="Joins.html#GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A">外连接</a> ”</span>用于与外连接有关的其他规则和限制</p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/sql-analysis-reporting-data-warehouses.html#DWHSG02013" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，全面讨论分区外连接和数据密集化</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2107296">使用外连接：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCHEAJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5D7FE723-7E46-469B-80C6-9FFE22B7D22F"><span class="italic">cross_outer_apply_clause</span></p>
                  <p>此子句允许您使用左关联支持执行ANSI <code class="codeph">CROSS</code> <code class="codeph">JOIN</code>或ANSI <code class="codeph">LEFT</code> <code class="codeph">OUTER</code> <code class="codeph">JOIN</code>的变体。您可以在<code class="codeph">APPLY</code>关键字的右侧指定<span class="italic"><code class="codeph">table_reference</code></span>或<span class="italic"><code class="codeph">collection_expression</code></span> 。<span class="italic"><code class="codeph">table_reference</code></span>可以是表，内联视图或<code class="codeph">TABLE</code>集合表达式。<span class="italic"><code class="codeph">collection_expression</code></span>可以是子查询，列，函数或集合构造函数。无论其形式如何，它都必须返回一个集合值 - 即类型为嵌套表或varray的值。<span class="italic"><code class="codeph">table_reference</code></span>或<span class="italic"><code class="codeph">collection_expression</code></span>可以引用<code class="codeph">APPLY</code>关键字左侧<code class="codeph">FROM</code>子句中定义的表的列。这称为左相关。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">CROSS</code> <code class="codeph">APPLY</code>以执行ANSI <code class="codeph">CROSS</code> <code class="codeph">JOIN</code>的变体。仅返回连接左侧表中从<span class="italic"><code class="codeph">table_reference</code></span>或<span class="italic"><code class="codeph">collection_expression</code></span>生成结果集的行。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">OUTER</code> <code class="codeph">APPLY</code>以执行ANSI <code class="codeph">LEFT</code> <code class="codeph">OUTER</code> <code class="codeph">JOIN</code>的变体。将返回连接左侧表中的所有行。不从<span class="italic"><code class="codeph">table_reference</code></span>或<span class="italic"><code class="codeph">collection_expression</code></span>生成结果集的行在相应的列中具有NULL值。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">对</span> <span class="bold"><span class="italic">cross_outer_apply_clause的</span></span> <span class="bold">限制</span></p>
                  <p><span class="italic"><code class="codeph">table_reference</code></span>不能是横向内联视图。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-89352E99-AD35-4741-9778-DADC021121C2">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDADCJ">使用CROSS APPLY和OUTER APPLY连接：示例</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__INLINE_AV-F00B1D52">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3C217908-3D83-471C-BF61-017E9BB19B7F"><span class="italic">inline_analytic_view</span></p>
                  <p>内联分析视图是在<code class="codeph">FROM</code>子句中指定的暂时分析视图。要创建内联分析视图，请使用<code class="codeph">ANALYTIC</code> <code class="codeph">VIEW</code>关键字并指定定义分析视图的<span class="italic"><code class="codeph">subav_clause</code></span> 。（可选）您可以指定<span class="italic"><code class="codeph">inline_av_alias</code></span> ，它是内联分析视图的别名。<span class="italic"><code class="codeph">inline_av_alias</code></span>的规则与内联视图别名的规则相同。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-59D9DCFF-6212-49F2-B41D-0BC1EA5C6D0F">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731">分析观点：例子</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__WHERE_CLAUSE-2C052273">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-45529A0B-CDBC-4B29-B231-4B46E2B2A4D4"><span class="italic">where_clause</span></p>
                  <p><code class="codeph">WHERE</code>条件允许您将所选行限制为满足一个或多个条件的行。对于<span class="italic"><code class="codeph">condition</code></span> ，请指定任何有效的SQL条件。
                  </p>
                  <p>如果省略此子句，则数据库将返回<code class="codeph">FROM</code>子句中的表，视图或实例化视图中的所有行。
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F8206907-55FE-4778-9FC0-E15C91BC81CA">
                     <p class="notep1">注意：</p>
                     <p>如果此子句引用分区表或索引的<code class="codeph">DATE</code>列，则数据库仅在以下情况下执行分区修剪：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您可以通过使用完全指定一年创建的表或索引分区<code class="codeph">TO_DATE</code>函数与一个4位数的格式面具<span class="italic">，</span> 
                           </p>
                        </li>
                        <li>
                           <p>您可以使用<code class="codeph">TO_DATE</code>函数和2位或4位格式掩码在查询的<span class="italic"><code class="codeph">where_clause</code></span>中指定日期。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2A3A2805-2D7A-4A77-B4E8-8DA3C97934F5">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">条件</a>语法描述的<span class="italic"><code class="codeph">condition</code></span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105152">从分区中选择：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B00CC4A1-0359-406E-8C65-F7188A3FD093"><span class="italic">hierarchical_query_clause</span></p>
                  <p><span class="italic"><code class="codeph">hierarchical_query_clause</code></span>允许您按层次结构顺序选择行。
                  </p>
                  <p>包含分层查询的<code class="codeph">SELECT</code>语句可以在选择列表中包含<code class="codeph">LEVEL</code>伪列。<code class="codeph">LEVEL</code>为根节点返回值1，为根节点的子节点返回2，为孙子返回3，依此类推。分层查询返回的级别数可能受可用用户内存的限制。
                  </p>
                  <p>Oracle处理分层查询，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>首先计算连接（如果存在），无论是在<code class="codeph">FROM</code>子句中还是在<code class="codeph">WHERE</code>子句谓词中指定了连接。
                        </p>
                     </li>
                     <li>
                        <p>评估<code class="codeph">CONNECT</code> <code class="codeph">BY</code>条件。
                        </p>
                     </li>
                     <li>
                        <p>将评估任何剩余的<code class="codeph">WHERE</code>子句谓词。
                        </p>
                     </li>
                  </ul>
                  <p>如果指定此子句，则不要指定<code class="codeph">ORDER</code> <code class="codeph">BY</code>或<code class="codeph">GROUP</code> <code class="codeph">BY</code> ，因为它们将破坏<code class="codeph">CONNECT</code> <code class="codeph">BY</code>结果的层次结构顺序。如果要订购同一父级的兄弟节点行，请使用<code class="codeph">ORDER</code> <code class="codeph">SIBLINGS</code> <code class="codeph">BY</code>子句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-36A860DE-D6E1-478E-A796-787D5C83FB28">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Hierarchical-Queries.html#GUID-0118DF1D-B9A9-41EB-8556-C6E7D6A5A84E">分层查询</a> ”</span>用于讨论分层查询和<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130122">使用LEVEL伪列：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">从条款开始</span></p>
                  <p>指定标识要用作分层查询的根的行的条件。所述<span class="italic"><code class="codeph">condition</code></span>可以是如所描述的任何条件<a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">的条件</a> 。Oracle数据库以root用户身份使用满足此条件的所有行。如果省略此子句，则数据库将使用表中的所有行作为根行。
                  </p>
                  <p><span class="bold">通过条款连接</span></p>
                  <p>指定标识层次结构的父行和子行之间关系的条件。所述<span class="italic"><code class="codeph">condition</code></span>可以是如所描述的任何条件<a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">的条件</a> 。但是，它必须使用<code class="codeph">PRIOR</code>运算符来引用父行。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-04773728-E005-402E-BDC5-95608B295A4F">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">LEVEL</code>更多信息，请参阅<a href="Pseudocolumns.html#GUID-6C65C788-76AA-4A51-B011-51D53DD2521D">Pseudocolumns</a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="Hierarchical-Queries.html#GUID-0118DF1D-B9A9-41EB-8556-C6E7D6A5A84E">分层查询</a> ”，</span>用于<span class="q"><a href="Hierarchical-Queries.html#GUID-0118DF1D-B9A9-41EB-8556-C6E7D6A5A84E">分层查询</a></span>的一般信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130004">分层查询示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182483">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2990E963-292A-414B-A1AB-A82074140290"><span class="italic">group_by_clause</span></p>
                  <p>如果希望数据库根据每行的<span class="italic"><code class="codeph">expr</code></span> （s）值对所选行进行分组，并指定每组的一行摘要信息，请指定<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句。如果此子句包含<code class="codeph">CUBE</code>或<code class="codeph">ROLLUP</code>扩展，则除常规分组外，数据库还会生成超级聚合分组。
                  </p>
                  <p><code class="codeph">GROUP</code> <code class="codeph">BY</code>子句中的表达式可以包含<code class="codeph">FROM</code>子句中表，视图或物化视图的任何列，无论列是否出现在选择列表中。
                  </p>
                  <p><code class="codeph">GROUP</code> <code class="codeph">BY</code>子句对行进行分组，但不保证结果集的顺序。要对分组进行排序，请使用<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C565B23E-5AB9-46A5-9A21-22E898A3A81C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”，</span></a>用于扩展讨论以及使用SQL分组语法进行数据聚合的示例</p>
                        </li>
                        <li>
                           <p>例如， <a href="GROUP_ID.html#GUID-3A5A9C15-1B67-4FD7-AC41-EE8349B2E834">GROUP_ID</a> ， <a href="GROUPING.html#GUID-82E6084A-0BDF-4587-A40E-36899783F073">GROUPING</a>和<a href="GROUPING_ID.html#GUID-E20A5B8E-73B6-42FD-8AFB-DD3CD6D6DC61">GROUPING_ID</a>函数</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066419">使用GROUP BY子句：示例</a> ”</span> 
                           </p>
                        </li>
                        <li>
                           <p><a href="Data-Type-Comparison-Rules.html#GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__P-13310-66248F0B">对于</a>如何在语言上比较<code class="codeph">GROUP</code> <code class="codeph">BY</code>字符值的含义的信息，对<a href="Data-Type-Comparison-Rules.html#GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__P-13310-66248F0B">语言校对的限制</a></p>
                        </li>
                        <li>
                           <p>“ <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle数据库全球化支持指南”</span></a>中的附录C，了解<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句中表达式的排序规则确定规则</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">卷起</span><a id="d425579e5561" class="indexterm-anchor"></a><a id="d425579e5565" class="indexterm-anchor"></a><a id="d425579e5569" class="indexterm-anchor"></a></p>
                  <p><span class="italic"><code class="codeph">simple_grouping_clause</code></span>的<code class="codeph">ROLLUP</code>操作根据<code class="codeph">GROUP</code> <code class="codeph">BY</code>规范中第一个n，n-1，n-2，... 0表达式的值对所选行进行分组，并为每个组返回一行摘要。您可以使用<code class="codeph">ROLLUP</code>操作通过将<code class="codeph">SUM</code>函数与其一起使用来生成<span class="bold">小计值</span> 。与<code class="codeph">SUM</code>使用时， <code class="codeph">ROLLUP</code>生成从最详细级别到总计的小计。诸如<code class="codeph">COUNT</code>聚合函数可用于生成其他类型的超级聚合。
                  </p>
                  <p>例如，给定<span class="italic"><code class="codeph">simple_grouping_clause</code></span>的<code class="codeph">ROLLUP</code>子句中的三个表达式（n = 3），操作导致n + 1 = 3 + 1 = 4个分组。
                  </p>
                  <p>按前<span class="italic"><code class="codeph">n</code></span>表达式的值分组的<span class="bold">行</span>称为<span class="bold">常规行</span> ，其他<span class="bold">行</span>称为<span class="bold">superaggregate行</span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FEB36C82-87A6-4251-B1B9-A29A61EB02D7">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a> ，了解有关对物化视图使用<code class="codeph">ROLLUP</code>信息</p>
                  </div>
                  <p><span class="bold">立方体</span><a id="d425579e5641" class="indexterm-anchor"></a><a id="d425579e5645" class="indexterm-anchor"></a></p>
                  <p><span class="italic"><code class="codeph">simple_grouping_clause</code></span>的<code class="codeph">CUBE</code>操作根据规范中所有可能的表达式组合的值对所选行进行分组。它返回每组的单行摘要信息。您可以使用<code class="codeph">CUBE</code>操作生成<span class="bold">交叉制表值</span> 。
                  </p>
                  <p>例如，给定<span class="italic"><code class="codeph">simple_grouping_clause</code></span>的<code class="codeph">CUBE</code>子句中的三个表达式（n = 3），操作导致2 <sup>n</sup> = 2 <sup>3</sup> = 8个分组。按<span class="italic"><code class="codeph">n</code></span>表达式的值分组的<span class="bold">行</span>称为<span class="bold">常规行</span> ，其余<span class="bold">行</span>称为<span class="bold">superaggregate行</span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2C1AC142-1695-4461-A18E-D1953ABC76E1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a> ，了解有关使用具有<code class="codeph">CUBE</code>化视图的<code class="codeph">CUBE</code> <a href="../dwhsg/index.html" target="_blank"><span class="italic">数据集</span></a>的信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066443">使用GROUP BY CUBE子句：示例</a> ”</span> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">分组集</span><a id="d425579e5712" class="indexterm-anchor"></a><a id="d425579e5716" class="indexterm-anchor"></a><a id="d425579e5718" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">GROUPING</code> <code class="codeph">SETS</code>是<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句的进一步扩展，允许您指定多个数据分组。这样做可以通过修剪您不需要的聚合来促进高效聚合。您只需指定所需的组，并且数据库不需要执行由<code class="codeph">CUBE</code>或<code class="codeph">ROLLUP</code>生成的完整聚合集。 Oracle数据库计算<code class="codeph">GROUPING</code> <code class="codeph">SETS</code>子句中指定的所有分组，并将各个分组的结果与<code class="codeph">UNION</code> <code class="codeph">ALL</code>操作组合在一起。<code class="codeph">UNION</code> <code class="codeph">ALL</code>表示结果集可以包含重复的行。
                  </p>
                  <p><a id="d425579e5763" class="indexterm-anchor"></a><a id="d425579e5769" class="indexterm-anchor"></a>在<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句中，您可以通过各种方式组合表达式：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要指定<span class="bold">复合列</span> ，请在括号内对<span class="bold">列进行</span>分组，以便数据库在计算<code class="codeph">ROLLUP</code>或<code class="codeph">CUBE</code>操作时将它们视为一个单元。
                        </p>
                     </li>
                     <li>
                        <p>要指定<span class="bold">连接的分组集</span> ，请使用逗号分隔多个分组集， <code class="codeph">ROLLUP</code>和<code class="codeph">CUBE</code>操作，以便数据库将它们组合到单个<code class="codeph">GROUP</code> <code class="codeph">BY</code>子句中。结果是来自每个分组集的分组的交叉积。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-01BD9AF9-F944-47C3-BE8A-88884A2514AE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2091446">使用GROUPING SETS子句：示例</a> ”</span> 
                     </p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2078943"><span class="bold">有条款</span> <a id="d425579e5825" class="indexterm-anchor"></a></p>
                  <p>使用<code class="codeph">HAVING</code>子句将返回的行组限制为指定<span class="italic"><code class="codeph">condition</code></span>为<code class="codeph">TRUE</code>那些组。如果省略此子句，则数据库将返回所有组的摘要行。
                  </p>
                  <p>在<span class="italic"><code class="codeph">where_clause</code></span>和<span class="italic"><code class="codeph">hierarchical_query_clause</code></span>之后指定<code class="codeph">GROUP</code> <code class="codeph">BY</code>和<code class="codeph">HAVING</code> 。如果同时指定<code class="codeph">GROUP</code> <code class="codeph">BY</code>和<code class="codeph">HAVING</code> ，则它们可以按任意顺序出现。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A3141F34-D352-4281-B704-B064570BBD20">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130020">使用HAVING条件：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">GROUP BY条款的限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能将LOB列，嵌套表或varrays指定为<span class="italic"><code class="codeph">expr</code></span>一部分。
                        </p>
                     </li>
                     <li>
                        <p>除了标量子查询表达式之外，表达式可以是任何形式。</p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">group_by_clause</code></span>引用任何对象类型列，则查询将不会并行化。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2172805">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B140163D-32DD-4906-BF95-109981505935"><span class="italic">model_clause</span></p>
                  <p><span class="italic"><code class="codeph">model_clause</code></span>允许您将所选行视为多维数组，并随机访问该数组中的单元格。使用<span class="italic"><code class="codeph">model_clause</code></span> ，您可以指定一系列单元格分配（称为<span class="bold">规则）</span> ，用于调用单个单元格和单元格范围的计算。这些规则对查询结果进行操作，不更新任何数据库表。
                  </p>
                  <p>在查询中使用<span class="italic"><code class="codeph">model_clause</code></span>时， <code class="codeph">SELECT</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句必须仅引用<span class="italic"><code class="codeph">model_column_clauses</code></span>定义的那些列。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E0F3B53E-8A62-4D6C-9ED9-88067801AC44">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">关于SQL表达式</a> ”</span>中<span class="italic"><code class="codeph">expr</code></span>的语法描述和<span class="italic"><code class="codeph">condition</code></span>中<a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">条件</a>的语法描述</p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南，</span></a>用于扩展讨论和示例</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171160">MODEL子句：示例</a> ”</span> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">MAIN_MODEL</span></span></p>
                  <p><span class="italic"><code class="codeph">main_model</code></span>子句定义了如何在多维数组中查看所选行，以及将对该数组中的哪些单元进行操作的规则。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168561"><span class="bold"><span class="italic">model_column_clauses</span></span></p>
                  <p><span class="italic"><code class="codeph">model_column_clauses</code></span>将查询列定义并分类为三组：分区列，维列和度量列。对于<span class="italic"><code class="codeph">expr</code></span> ，您可以指定列，常量，主机变量，单行函数，聚合函数或涉及它们的任何表达式。如果<span class="italic"><code class="codeph">expr</code></span>是列，则列别名（ <span class="italic"><code class="codeph">c_alias</code></span> ）是可选的。如果<span class="italic"><code class="codeph">expr</code></span>不是列，则需要列别名。如果指定列别名，则必须使用别名来引用<span class="italic"><code class="codeph">model_rules_clause</code></span> ， <code class="codeph">SELECT</code>列表和查询<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中的列。
                  </p>
                  <p><span class="bold">分区</span></p>
                  <p><code class="codeph">PARTITION</code> <code class="codeph">BY</code>子句指定将用于根据指定列的值将所选行划分为分区的列。
                  </p>
                  <p><span class="bold">维度</span></p>
                  <p><code class="codeph">DIMENSION</code> <code class="codeph">BY</code>子句指定将标识分区中的行的列。维列的值以及分区列的值用作行内度量列的数组索引。
                  </p>
                  <p><span class="bold">措施</span></p>
                  <p><code class="codeph">MEASURES</code>子句标识可以执行计算的列。通过指定分区和维度列的值以及更新，可以将各个行中的度量列视为可以引用的单元格。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168572"><span class="bold"><span class="italic">cell_reference_options</span></span></p>
                  <p>使用<span class="italic"><code class="codeph">cell_reference_options</code></span>子句指定在规则中如何处理null和不存在的值以及如何约束列唯一性。
                  </p>
                  <p><span class="bold">IGNORE NAV</span></p>
                  <p>指定<code class="codeph">IGNORE</code> <code class="codeph">NAV</code> ，数据库将返回以下指定数据类型的空值和缺失值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数字数据类型为零</p>
                     </li>
                     <li>
                        <p>01-JAN-2000用于日期时间数据类型</p>
                     </li>
                     <li>
                        <p>字符数据类型的空字符串</p>
                     </li>
                     <li>
                        <p>所有其他数据类型都为空</p>
                     </li>
                  </ul>
                  <p><span class="bold">保持净资产价值</span></p>
                  <p>指定<code class="codeph">KEEP</code> <code class="codeph">NAV</code> ，数据库将为null和不存在的单元格值返回null。<code class="codeph">KEEP</code> <code class="codeph">NAV</code>是默认值。
                  </p>
                  <p><span class="bold">独特的单一参考</span></p>
                  <p>指定<code class="codeph">UNIQUE</code> <code class="codeph">SINGLE</code> <code class="codeph">REFERENCE</code> ，数据库仅检查规则右侧的单单元格引用的唯一性，而不是整个查询结果集。
                  </p>
                  <p><span class="bold">独特的尺寸</span></p>
                  <p>指定<code class="codeph">UNIQUE</code> <code class="codeph">DIMENSION</code> ，数据库会检查<code class="codeph">PARTITION</code> <code class="codeph">BY</code>和<code class="codeph">DIMENSION</code> <code class="codeph">BY</code>列是否为查询的唯一键。<code class="codeph">UNIQUE</code> <code class="codeph">DIMENSION</code>是默认值。
                  </p>
                  <p><span class="bold"><span class="italic">model_rules_clause</span></span></p>
                  <p>使用<span class="italic"><code class="codeph">model_rules_clause</code></span>指定要更新的单元格，更新这些单元格的规则，以及可选的应用和处理规则的方式。
                  </p>
                  <p>每个规则代表一个任务，由左侧和右侧组成。规则的左侧标识要由规则的右侧更新的单元格。规则的右侧评估要分配给规则左侧指定的单元格的值。</p>
                  <p><span class="bold">UPSERT AL</span> L</p>
                  <p><code class="codeph">UPSERT</code> <code class="codeph">ALL</code>允许<code class="codeph">UPSERT</code>行为用于规则左侧的位置和符号引用的规则。在评估<code class="codeph">UPSERT</code> <code class="codeph">ALL</code>规则时，Oracle执行以下步骤来创建要插入的单元格引用列表：</p>
                  <ol>
                     <li>
                        <p>找到满足单元格引用的所有符号谓词的现有单元格。</p>
                     </li>
                     <li>
                        <p>仅使用具有符号引用的维度，找到这些单元格的不同维度值组合。</p>
                     </li>
                     <li>
                        <p>使用通过位置参考指定的尺寸值执行这些值组合的叉积。</p>
                     </li>
                  </ol>
                  <p>有关<code class="codeph">UPSERT</code> <code class="codeph">ALL</code>语义的更多信息，请参阅<a href="../dwhsg/sql-modeling-data-warehouses.html#DWHSG0222" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> 。</p>
                  <p><span class="bold">UPSERT</span></p>
                  <p>指定<code class="codeph">UPSERT</code> ，数据库将规则应用于多维数组中存在的规则左侧引用的那些单元格，并为不存在的那些插入新行。仅当在左侧使用位置参考并且引用单个单元格时， <code class="codeph">UPSERT</code>行为才适用。<code class="codeph">UPSERT</code>是默认值。有关位置参考和单细胞参考的更多信息，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168603">cell_assignment</a></span> 。
                  </p>
                  <p><code class="codeph">UPDATE</code>和<code class="codeph">UPSERT</code>也可以为各个规则指定。如果为特定规则指定了<code class="codeph">UPDATE</code>或<code class="codeph">UPSERT</code> ，则它优先于<code class="codeph">RULES</code>子句中指定的选项。
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4C95FC62-C830-4BB8-98B0-5DFFC0E82042">
                     <p class="notep1">注意：</p>
                     <p>如果<code class="codeph">UPSERT</code> <code class="codeph">ALL</code> ， <code class="codeph">UPSERT</code>或<code class="codeph">UPDATE</code>规则不包含相应的谓词，则数据库可能会隐式将其转换为不同类型的规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">UPSERT</code>规则包含存在谓词，则该规则将被视为<code class="codeph">UPDATE</code>规则。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">UPSERT</code> <code class="codeph">ALL</code>规则必须在其左侧至少有一个存在谓词和一个限定谓词。如果它没有存在谓词，则将其视为<code class="codeph">UPSERT</code>规则。如果它没有限定谓词，则将其视为<code class="codeph">UPDATE</code>规则</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">UPDATE</span></p>
                  <p>指定<code class="codeph">UPDATE</code> ，数据库将规则应用于多维数组中存在的规则左侧引用的那些单元格。如果单元格不存在，则忽略该分配。
                  </p>
                  <p><span class="bold">自动订购</span></p>
                  <p>指定<code class="codeph">AUTOMATIC</code> <code class="codeph">ORDER</code> ，数据库会根据其依赖关系顺序评估规则。在这种情况下，可以仅为一个单元分配一次值。
                  </p>
                  <p><span class="bold">顺序令</span></p>
                  <p>指定<code class="codeph">SEQUENTIAL</code> <code class="codeph">ORDER</code> ，数据库按照它们出现的顺序评估规则。在这种情况下，可以为单元格分配多于一次的值。<code class="codeph">SEQUENTIAL</code> <code class="codeph">ORDER</code>是默认值。
                  </p>
                  <p><span class="bold">ITERATE ......[直到]</span></p>
                  <p>使用<code class="codeph">ITERATE</code> ......[ <code class="codeph">UNTIL</code> ]指定循环执行规则的次数，以及可选的提前终止条件。<code class="codeph">UNTIL</code>条件周围的括号是可选的。
                  </p>
                  <p>当你指定<code class="codeph">ITERATE</code> ......[ <code class="codeph">UNTIL</code> ]，规则按其出现的顺序进行评估。如果<code class="codeph">AUTOMATIC</code> <code class="codeph">ORDER</code>和<code class="codeph">ITERATE</code>都是Oracle数据库返回错误...<code class="codeph">[UNTIL]</code>在<span class="italic"><code class="codeph">model_rules_clause</code></span>中指定。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168603"><span class="bold"><span class="italic">cell_assignment</span></span></p>
                  <p><span class="italic"><code class="codeph">cell_assignment</code></span>子句（规则的左侧）指定要更新的一个或多个单元。当<span class="italic"><code class="codeph">cell_assignment</code></span>引用单个单元格时，它被称为<span class="bold">单单元格引用</span> 。当引用<span class="bold">多个单元时</span> ，它被称为<span class="bold">多单元引用</span> 。
                  </p>
                  <p>必须在<span class="italic"><code class="codeph">cell_assignment</code></span>子句中限定<span class="italic"><code class="codeph">model_clause</code></span>定义的所有维列。可以使用符号或位置引用来限定维度。
                  </p>
                  <p><span class="bold">符号引用</span>使用布尔条件（如<span class="italic"><code class="codeph">dimension_column</code></span> <code class="codeph">=</code> <span class="italic"><code class="codeph">constant</code></span>限定单维列。<span class="bold">位置引用</span>是维度列在<code class="codeph">DIMENSION</code> <code class="codeph">BY</code>子句中的位置所暗示的<span class="bold">位置引用</span> 。符号引用和位置引用之间的唯一区别在于null的处理。
                  </p>
                  <p>使用单个单元格的符号引用，例如<code class="codeph">a[x=null,y=2000]</code> ，没有单元格符合条件，因为<code class="codeph">x=null</code>计算结果为<code class="codeph">FALSE</code> 。但是，使用单个单元格位置引用（如<code class="codeph">a[null,2000]</code> ， <code class="codeph">x</code>为null且<code class="codeph">y</code>为2000的单元格符合条件，因为null = null的计算结果为<code class="codeph">TRUE</code> 。使用单单元位置引用，您可以引用，更新和插入维列为空的单元格。
                  </p>
                  <p>您可以使用符号或位置引用指定表示维列值的条件或表达式。 <span class="italic"><code class="codeph">condition</code></span>不能包含聚合函数或<code class="codeph">CV</code>函数， <span class="italic"><code class="codeph">condition</code></span>必须引用单维列。 <span class="italic"><code class="codeph">expr</code></span>不能包含子查询。有关模型表达式的信息，请参阅<span class="q">“ <a href="Model-Expressions.html#GUID-83D3FD56-8346-4D3F-A49E-5FE41FE19257">模型表达式</a> ”</span> 。
                  </p>
                  <p><span class="bold"><span class="italic">single_column_for_loop</span></span></p>
                  <p><span class="italic"><code class="codeph">single_column_for_loop</code></span>子句允许您指定要在单维列中更新的单元格范围。
                  </p>
                  <p><code class="codeph">IN</code>子句允许您将维列的值指定为值列表或子查询。使用<span class="italic"><code class="codeph">subquery</code></span> ，它不能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>是一个相关的查询</p>
                     </li>
                     <li>
                        <p>返回超过10,000行</p>
                     </li>
                     <li>
                        <p>是<code class="codeph">WITH</code>子句中定义的查询</p>
                     </li>
                  </ul>
                  <p><code class="codeph">FROM</code>子句允许您为维度列指定一系列值，并在该范围内具有离散增量。<code class="codeph">FROM</code>子句只能用于那些具有支持加法和减法的数据类型的列。<code class="codeph">INCREMENT</code>和<code class="codeph">DECREMENT</code>值必须为正数。
                  </p>
                  <p>（可选）您可以在<code class="codeph">FROM</code>子句中指定<code class="codeph">LIKE</code>子句。在<code class="codeph">LIKE</code>子句中， <span class="italic"><code class="codeph">pattern</code></span>是包含单个模式匹配字符<code class="codeph">%</code>字符串。在执行期间，此字符将替换为<code class="codeph">FROM</code>子句中的当前递增或递减值。
                  </p>
                  <p>如果<code class="codeph">FOR</code>循环使用的所有维度都涉及单单元格引用，则表达式可以插入新行。<code class="codeph">FOR</code>循环生成的维值组合的数量计为<code class="codeph">MODEL</code>子句的10,000行限制的一部分。
                  </p>
                  <p><span class="bold"><span class="italic">multi_column_for_loop</span></span></p>
                  <p><span class="italic"><code class="codeph">multi_column_for_loop</code></span>子句允许您指定要跨多维列更新的单元格范围。<code class="codeph">IN</code>子句允许您将维列的值指定为多个值列表或子查询。使用<span class="italic"><code class="codeph">subquery</code></span> ，它不能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>是一个相关的查询</p>
                     </li>
                     <li>
                        <p>返回超过10,000行</p>
                     </li>
                     <li>
                        <p>是<code class="codeph">WITH</code>子句中定义的查询</p>
                     </li>
                  </ul>
                  <p>如果<code class="codeph">FOR</code>循环使用的所有维度都涉及单单元格引用，则表达式可以插入新行。<code class="codeph">FOR</code>循环生成的维值组合的数量计为<code class="codeph">MODEL</code>子句的10,000行限制的一部分。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3320EEA8-A251-43FA-9DCA-619745843180">
                     <p class="notep1">也可以看看：</p>
                     <p>有关在<code class="codeph">MODEL</code>子句中使用<code class="codeph">FOR</code>循环的详细信息，请参阅<a href="../dwhsg/sql-modeling-data-warehouses.html#DWHSG0223" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
                  <p><span class="bold"><span class="italic">order_by_clause生成</span></span></p>
                  <p>使用<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句指定要评估规则左侧的单元格的顺序。<span class="italic"><code class="codeph">expr</code></span>必须解析为维度或度量列。如果未指定<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句，则该顺序默认为<code class="codeph">DIMENSION</code> <code class="codeph">BY</code>子句中指定的列的顺序。有关更多信息，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171079">order_by_clause</a></span> 。
                  </p>
                  <p><span class="bold"><span class="italic">order_by_clause的</span></span> <span class="bold">限制</span></p>
                  <p>在模型规则中使用<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能在<span class="italic"><code class="codeph">c_alias</code></span>的<span class="italic"><code class="codeph">order_by_clause</code></span>中指定<code class="codeph">SIBLINGS</code> ， <span class="italic"><code class="codeph">position</code></span>或<span class="italic"><code class="codeph">model_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>您不能在模型规则的左侧指定此子句，也请在规则的右侧指定<code class="codeph">FOR</code>循环。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">EXPR</span></span></p>
                  <p>指定一个表达式，表示在规则右侧指定的一个或多个单元格的值。 <span class="italic"><code class="codeph">expr</code></span>不能包含子查询。有关模型表达式的信息，请参阅<span class="q">“ <a href="Model-Expressions.html#GUID-83D3FD56-8346-4D3F-A49E-5FE41FE19257">模型表达式</a> ”</span> 。
                  </p>
                  <p><span class="bold"><span class="italic">return_rows_clause</span></span></p>
                  <p><span class="italic"><code class="codeph">return_rows_clause</code></span>允许您指定是返回所有选定的行还是仅返回由模型规则更新的那些行。<code class="codeph">ALL</code>是默认值。
                  </p>
                  <p><span class="bold"><span class="italic">reference_model</span></span></p>
                  <p>需要从<span class="italic"><code class="codeph">model_clause</code></span>内部访问多个数组时，请使用<span class="italic"><code class="codeph">reference_model</code></span>子句。此子句根据查询结果定义只读多维数组。
                  </p>
                  <p><span class="italic"><code class="codeph">reference_model</code></span>子句的子句与<span class="italic"><code class="codeph">main_model</code></span>子句具有相同的语义。请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168561">model_column_clauses</a></span>和<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168572">cell_reference_options</a></span> 。
                  </p>
                  <p><span class="bold"><span class="italic">reference_model</span></span> <span class="bold">子句的</span> <span class="bold">限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>无法为参考模型指定<code class="codeph">PARTITION</code> <code class="codeph">BY</code>列。
                        </p>
                     </li>
                     <li>
                        <p>参考模型的子查询不能引用外部子查询中的列。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39CF9C49-CC67-42AD-A2DB-B47B206B5EA4">设置操作员：UNION，UNION ALL，INTERSECT，MINUS</p>
                  <p>set运算符将两个<code class="codeph">SELECT</code>语句返回的行组合成一个结果。每个组件查询选择的列的数量和数据类型必须相同，但列长度可以不同。结果集中列的名称是set运算符前面的选择列表中的表达式的名称。
                  </p>
                  <p>如果将两个以上的查询与set运算符组合在一起，则数据库将从左到右评估相邻查询。子查询周围的括号是可选的。您可以使用它们指定不同的评估顺序。</p>
                  <p>有关这些操作<span class="q"><a href="The-UNION-ALL-INTERSECT-MINUS-Operators.html#GUID-B64FE747-586E-4513-945F-80CB197125EE">员</a></span>的信息，请参阅<span class="q">“ <a href="The-UNION-ALL-INTERSECT-MINUS-Operators.html#GUID-B64FE747-586E-4513-945F-80CB197125EE">UNION [ALL]，INTERSECT，MINUS操作员</a> ”</span> ，包括使用限制。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171079">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-297A228C-EA79-4D1F-B24F-1AF975B3EFC5"><span class="italic">order_by_clause生成</span></p>
                  <p>使用<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句对语句返回的行进行排序。如果没有<span class="italic"><code class="codeph">order_by_clause</code></span> ，则不保证多次执行的同一查询将以相同的顺序检索行。
                  </p>
                  <p><span class="bold">兄弟姐妹</span><a id="d425579e6780" class="indexterm-anchor"></a><a id="d425579e6784" class="indexterm-anchor"></a><a id="d425579e6788" class="indexterm-anchor"></a><a id="d425579e6792" class="indexterm-anchor"></a></p>
                  <p>仅当您还指定<span class="italic"><code class="codeph">hierarchical_query_clause</code></span> （ <code class="codeph">CONNECT</code> <code class="codeph">BY</code> ）时， <code class="codeph">SIBLINGS</code>关键字才有效。<code class="codeph">ORDER</code> <code class="codeph">SIBLINGS</code> <code class="codeph">BY</code>保留分层查询子句中指定的任何排序，然后将<span class="italic"><code class="codeph">order_by_clause</code></span>应用于层次结构的兄弟<code class="codeph">SIBLINGS</code> 。
                  </p>
                  <p><span class="bold"><span class="italic">EXPR</span></span></p>
                  <p><span class="italic"><code class="codeph">expr</code></span>根据<span class="italic"><code class="codeph">expr</code></span>的值对行进行<span class="italic"><code class="codeph">expr</code></span> 。表达式基于选择列表中的列或<code class="codeph">FROM</code>子句中的表，视图或物化视图中的列。
                  </p>
                  <p><span class="bold"><span class="italic">位置</span></span></p>
                  <p>指定<span class="italic"><code class="codeph">position</code></span>以根据其在选择列表的此位置中的表达式的值对行进行排序。<span class="italic"><code class="codeph">position</code></span>值必须是整数。
                  </p>
                  <p>您可以在<span class="italic"><code class="codeph">order_by_clause</code></span>指定多个表达式。Oracle数据库首先根据第一个表达式的值对行进行排序。然后，根据第二个表达式的值对第一个表达式具有相同值的行进行排序，依此类推。数据库按升序对所有其他值进行排序，并按降序排列所有其他值。有关<span class="q"><a href="Sorting-Query-Results.html#GUID-E45EF993-20AC-4552-860C-4D74EADB5BF2">排序查询结果</a></span>的讨论，请参阅<span class="q">“ <a href="Sorting-Query-Results.html#GUID-E45EF993-20AC-4552-860C-4D74EADB5BF2">排序查询结果</a> ”</span> 。
                  </p>
                  <p><span class="bold">ASC | DESC</span></p>
                  <p>指定排序顺序是升序还是降序。<code class="codeph">ASC</code>是默认值。
                  </p>
                  <p><span class="bold">NULLS FIRST | NULLS最后</span></p>
                  <p>指定返回的包含空值的行是否应首先出现在排序顺序中。</p>
                  <p><code class="codeph">NULLS</code> <code class="codeph">LAST</code>是升序的默认值， <code class="codeph">NULLS</code> <code class="codeph">FIRST</code>是降序的默认值。
                  </p>
                  <p><span class="bold">ORDER BY条款的限制</span></p>
                  <p>以下限制适用于<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果在此语句中指定了<code class="codeph">DISTINCT</code>运算符，则除非它们出现在选择列表中，否则此子句不能引用列。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">order_by_clause</code></span>可以包含不超过255个表达式。
                        </p>
                     </li>
                     <li>
                        <p>您不能通过LOB， <code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>列，嵌套表或varray进行排序。
                        </p>
                     </li>
                     <li>
                        <p>如果在同一语句中指定<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182483">group_by_clause</a></span> ，则此<span class="italic"><code class="codeph">order_by_clause</code></span>仅限于以下表达式：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>常量</p>
                           </li>
                           <li>
                              <p>聚合函数</p>
                           </li>
                           <li>
                              <p>分析功能</p>
                           </li>
                           <li>
                              <p>功能<code class="codeph">USER</code> ， <code class="codeph">UID</code>和<code class="codeph">SYSDATE</code> 
                              </p>
                           </li>
                           <li>
                              <p>表达式与<span class="italic"><code class="codeph">group_by_clause</code></span>表达式相同 
                              </p>
                           </li>
                           <li>
                              <p>包含前面表达式的表达式，它们为组中的所有行计算相同的值</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7FD7466A-F69F-4439-8701-8FD9EF4AD37D">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130036">使用ORDER BY子句：示例</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="Data-Type-Comparison-Rules.html#GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__P-13310-66248F0B">语言排序的限制，</a>以获取有关如何在语言上比较<code class="codeph">ORDER</code> <code class="codeph">BY</code>字符值的含义的信息</p>
                        </li>
                        <li>
                           <p>“ <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle数据库全球化支持指南”</span></a>中的附录C，了解<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中表达式的排序规则确定规则</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHFGAA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D3747C55-7BAF-475A-842A-CB66649F21AB"><span class="italic">row_limiting_clause</span></p>
                  <p><span class="italic"><code class="codeph">row_limiting_clause</code></span>允许您限制查询返回的行。您可以指定偏移量，以及要返回的行数或行百分比。您可以使用此子句实现前N个报告。要获得一致的结果，请指定<span class="italic"><code class="codeph">order_by_clause</code></span>以确保确定性排序顺序。
                  </p>
                  <p><span class="bold">OFFSET</span></p>
                  <p>使用此子句指定行限制开始之前要跳过的行数。 <span class="italic"><code class="codeph">offset</code></span>必须是数字或计算结果为数值的表达式。如果指定负数，则将<span class="italic"><code class="codeph">offset</code></span>视为0。如果指定NULL或大于或等于查询返回的行数，则返回0行。如果<span class="italic"><code class="codeph">offset</code></span>包括分数，则截断小数部分。如果未指定此子句，则<span class="italic"><code class="codeph">offset</code></span>为0，行限制从第一行开始。
                  </p>
                  <p><span class="bold">行| ROWS</span></p>
                  <p>这些关键字可以互换使用，并提供语义清晰度。</p>
                  <p><span class="bold">取</span></p>
                  <p>使用此子句指定要返回的行数或行百分比。如果未指定此子句，则从行<span class="italic"><code class="codeph">offset</code></span> + 1开始返回所有行。
                  </p>
                  <p><span class="bold">第一个|下一个</span></p>
                  <p>这些关键字可以互换使用，并提供语义清晰度。</p>
                  <p><span class="bold"><span class="italic">rowcount</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">百分之</span></span> <span class="bold">PERCENT</span></p>
                  <p>使用<span class="italic"><code class="codeph">rowcount</code></span>指定要返回的行数。 <span class="italic"><code class="codeph">rowcount</code></span>必须是数字或计算结果为数值的表达式。如果指定负数，则将<span class="italic"><code class="codeph">rowcount</code></span>视为0。如果<span class="italic"><code class="codeph">rowcount</code></span>大于从行<span class="italic"><code class="codeph">offset</code></span> + 1开始的可用行数，则返回所有可用行。如果<span class="italic"><code class="codeph">rowcount</code></span>包含分数，则截断小数部分。如果<span class="italic"><code class="codeph">rowcount</code></span>为NULL，则返回0行。
                  </p>
                  <p>使用<span class="italic"><code class="codeph">percent</code></span> <code class="codeph">PERCENT</code>指定要返回的所选行总数的百分比。 <span class="italic"><code class="codeph">percent</code></span>必须是数字或表达式，其值为数值。如果指定负数，则将<span class="italic"><code class="codeph">percent</code></span>视为0。如果<span class="italic"><code class="codeph">percent</code></span>为NULL，则返回0行。
                  </p>
                  <p>如果不指定<span class="italic"><code class="codeph">rowcount</code></span>或<span class="italic"><code class="codeph">percent</code></span> <code class="codeph">PERCENT</code> ，则返回1行。
                  </p>
                  <p><span class="bold">行| ROWS</span></p>
                  <p>这些关键字可以互换使用，并提供语义清晰度。</p>
                  <p><span class="bold">只有|与TIES</span></p>
                  <p>指定<code class="codeph">ONLY</code>以准确返回指定的行数或行百分比。
                  </p>
                  <p>指定<code class="codeph">WITH</code> <code class="codeph">TIES</code>以返回与提取的最后一行具有相同排序键的其他行。如果指定<code class="codeph">WITH</code> <code class="codeph">TIES</code> ，则必须指定<span class="italic"><code class="codeph">order_by_clause</code></span> 。如果未指定<span class="italic"><code class="codeph">order_by_clause</code></span> ，则不会返回其他行。
                  </p>
                  <p><span class="bold"><span class="italic">row_limiting_clause的</span></span> <span class="bold">限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能使用<span class="italic"><code class="codeph">for_update_clause</code></span>指定此子句。
                        </p>
                     </li>
                     <li>
                        <p>如果指定此子句，则选择列表不能包含序列伪列<code class="codeph">CURRVAL</code>或<code class="codeph">NEXTVAL</code> 。</p>
                     </li>
                     <li>
                        <p>如果定义查询包含<span class="italic"><code class="codeph">row_limiting_clause</code></span>则物化视图不符合增量刷新的<span class="italic"><code class="codeph">row_limiting_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>如果选择列表包含具有相同名称的列并指定<span class="italic"><code class="codeph">row_limiting_clause</code></span> ，则会发生ORA-00918错误。无论具有相同名称的列是在同一个表中还是在不同的表中，都会发生此错误。您可以通过为具有相同名称的列指定唯一列别名来解决此问题。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D810C86D-6B68-48F7-A78A-6221C6CE6DDE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEAACC">行限制：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066346">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7CBC2F89-25D5-464B-8C84-7E8A9C48943A"><span class="italic">for_update_clause</span></p>
                  <p><code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句允许您锁定所选行，以便其他用户在您结束事务之前无法锁定或更新行。您只能在顶级<code class="codeph">SELECT</code>语句中指定此子句，而不能在子查询中指定。
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6A5F45F9-6CC4-464E-BDBF-D846F92CB200">
                     <p class="notep1">注意：</p>
                     <p>在更新LOB值之前，必须锁定包含LOB的行。锁定行的一种方法是使用嵌入式<code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句。您可以使用其中一种编程语言或<code class="codeph">DBMS_LOB</code>包来完成此操作。有关在写入LOB之前锁定行的更多信息，请参阅<a href="../adlob/using-LOB-APIs.html#ADLOB1004" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide</span></a> 。
                     </p>
                  </div>
                  <p>由于锁定父表行，嵌套表行不会被锁定。如果要锁定嵌套表行，则必须显式锁定它们。</p>
                  <p><span class="bold">FOR UPDATE子句的限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能使用以下其他构造指定此子句： <code class="codeph">DISTINCT</code>运算符， <code class="codeph">CURSOR</code>表达式，集合运算符， <span class="italic"><code class="codeph">group_by_clause</code></span>或聚合函数。
                        </p>
                     </li>
                     <li>
                        <p>由此子句锁定的表必须与同一语句中引用的任何<code class="codeph">LONG</code>列和序列位于同一数据库和同一数据库中。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1C860782-5A2F-4C38-ADF4-88B0CF5BC984">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130052">使用FOR UPDATE子句：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">在视图上使用FOR UPDATE子句</span></p>
                  <p>通常，视图不支持此子句。但是，在某些情况下， <code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>对视图的查询可以成功而不会出现任何错误。当查询优化器在内部将视图合并到其包含的查询块时，会发生这种情况，并且<code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>在内部转换的查询上成功。本节中的示例说明了在视图上使用<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句可以成功还是失败。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在合并视图上使用<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句</p>
                        <p>如果满足以下两个条件，则在合并视图上使用<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句时可能会发生错误：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>视图的基础列是表达式</p>
                           </li>
                           <li>
                              <p><code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句适用于列列表</p>
                           </li>
                        </ul>
                        <p>以下语句成功，因为视图的基础列不是表达式：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id FROM（SELECT * FROM employees）FOR更新employee_id;</pre><p>以下语句成功，因为虽然视图的基础列是表达式，但<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句不适用于列列表：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id FROM（SELECT employee_id + 1 AS employee_id FROM employees）FOR UPDATE;</pre><p>以下语句失败，因为视图的基础列是表达式， <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句适用于列列表：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id FROM（SELECT employee_id + 1 AS employee_id FROM employees）FOR更新employee_id; *第2行出错：ORA-01733：此处不允许使用虚拟列</pre></li>
                     <li>
                        <p>在非合并视图上使用<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句</p>
                        <p>由于视图不支持<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句，因此任何阻止视图合并的内容（例如<code class="codeph">NO_MERGE</code>提示，禁止视图合并的参数或查询结构中阻止视图合并的内容）都将导致<code class="codeph">ORA-02014</code>错误。
                        </p>
                        <p>在以下示例中， <code class="codeph">GROUP</code> <code class="codeph">BY</code>语句阻止视图合并，这会导致错误：</p><pre class="oac_no_warn" dir="ltr">SELECT avgsal FROM（SELECT AVG（salary）AS avgsal FROM employees GROUP BY job_id）FOR UPDATE; FROM（SELECT AVG（薪水）AS avgsal FROM employees GROUP BY job_id）*第2行的错误：ORA-02014：无法从DISTINCT，GROUP BY等视图中选择FOR UPDATE。</pre></li>
                  </ul>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-022F7B65-30D6-4838-AD2C-792326C7602F">
                     <p class="notep1">注意：</p>
                     <p>由于视图合并机制的复杂性，Oracle建议不要在视图上使用<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句。
                     </p>
                  </div>
                  <p><span class="bold">OF ...</span> <span class="bold"><span class="italic">专栏</span></span></p>
                  <p>使用<code class="codeph">OF</code> ... <span class="italic"><code class="codeph">column</code></span>子句仅锁定连接中特定表或视图的选择行。<code class="codeph">OF</code>子句中的列仅指示锁定哪些表或视图行。您指定的特定列不重要。但是，您必须指定实际的列名称，而不是列别名。如果省略此子句，则数据库将锁定查询中所有表中的选定行。
                  </p>
                  <p><span class="bold">NOWAIT |等待</span></p>
                  <p>如果<code class="codeph">SELECT</code>语句试图锁定另一个用户锁定的行，则<code class="codeph">NOWAIT</code>和<code class="codeph">WAIT</code>子句允许您告诉数据库如何继续。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果存在锁定，请指定<code class="codeph">NOWAIT</code>立即将控制权返回给您。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WAIT</code>以指示数据库等待<span class="italic"><code class="codeph">integer</code></span>秒以使该行变为可用，然后将控制权返回给您。
                        </p>
                     </li>
                  </ul>
                  <p>如果既未指定<code class="codeph">WAIT</code>也未指定<code class="codeph">NOWAIT</code> ，则数据库将等待直到该行可用，然后返回<code class="codeph">SELECT</code>语句的结果。
                  </p>
                  <p><span class="bold">跳过锁定</span></p>
                  <p><code class="codeph">SKIP</code> <code class="codeph">LOCKED</code>是处理锁定某些感兴趣行的竞争事务的另一种方法。指定<code class="codeph">SKIP</code> <code class="codeph">LOCKED</code>以指示数据库尝试锁定<code class="codeph">WHERE</code>子句指定的行，并跳过发现已被另一个事务锁定的任何行。此功能旨在用于多消费者队列环境。它使队列使用者能够跳过被其他使用者锁定的行并获得未锁定的行，而无需等待其他使用者完成。有关更多信息，请参阅“ <a href="../adque/aq-operations-using-pl-sql.html#ADQUE2835" target="_blank"><span class="italic">Oracle数据库高级队列用户指南”</span></a> 。
                  </p>
                  <p><span class="bold">关于WAIT和SKIP LOCKED子句的注释</span></p>
                  <p>如果指定<code class="codeph">WAIT</code>或<code class="codeph">SKIP</code> <code class="codeph">LOCKED</code>并且表以独占模式锁定，则在释放表上的锁之前，数据库不会返回<code class="codeph">SELECT</code>语句的结果。在<code class="codeph">WAIT</code>的情况下，无论指定的等待时间如何，都会阻止<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHFEEE">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F7F7859-7475-4B37-82AE-686B118D07CC"><span class="italic">row_pattern_clause</span></p>
                  <p><code class="codeph">MATCH_RECOGNIZE</code>子句允许您执行模式匹配。使用此子句可识别<span class="italic"><code class="codeph">table</code></span>中行序列中的模式，称为行模式输入表。使用<code class="codeph">MATCH_RECOGNIZE</code>子句的查询结果称为行模式输出表。
                  </p>
                  <p><code class="codeph">MATCH_RECOGNIZE</code>使您可以执行以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<code class="codeph">PARTITION</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句对数据进行逻辑分区和排序。
                        </p>
                     </li>
                     <li>
                        <p>在<code class="codeph">MEASURES</code>子句中定义度量，这些度量是SQL查询的其他部分中可用的表达式。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">PATTERN</code>子句定义要搜索的行的<code class="codeph">PATTERN</code> 。这些模式使用正则表达式语法，这是一种功能强大且富有表现力的特性，适用于您定义的模式变量。
                        </p>
                     </li>
                     <li>
                        <p>指定将行映射到<code class="codeph">DEFINE</code>子句中的行模式变量所需的逻辑条件。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-36E51113-D99D-45D8-B2E5-EEF59DD35656">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关模式匹配的更多信息，请<a href="../dwhsg/sql-pattern-matching-data-warehouses.html#DWHSG8956" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHHDD">行模式匹配：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CFA9BAD1-8A54-4CBD-A94D-33E9F49AF76E"><span class="italic">row_pattern_partition_by</span></p>
                  <p>指定<code class="codeph">PARTITION</code> <code class="codeph">BY</code>将行模式输入表中的行划分为称为行模式分区的逻辑组。使用<span class="italic"><code class="codeph">column</code></span>指定一个或多个分区列。每个分区由行模式输入表中的行集组成，这些行在分区列上具有相同的值。
                  </p>
                  <p>如果指定此子句，则在分区中找到匹配项，并且不跨越分区边界。如果未指定此子句，则行输入表的所有行构成单行模式分区。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A99E37AB-4943-4086-9ED8-9FBBC6EEE5F9"><span class="italic">row_pattern_order_by</span></p>
                  <p>指定<code class="codeph">ORDER</code> <code class="codeph">BY</code>以对每个行模式分区中的行进行排序。使用<span class="italic"><code class="codeph">column</code></span>指定一个或多个排序列。如果指定多个列，则Oracle数据库首先根据第一列的值对行进行排序。然后，根据第二列的值对第一列具有相同值的行进行排序，依此类推。Oracle数据库按升序排序所有其他空值。
                  </p>
                  <p>如果未指定此子句，则<span class="italic"><code class="codeph">row_pattern_clause</code></span>的结果是不确定的，并且每次运行查询时可能会得到不一致的结果。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3E52852E-ABEC-4204-90F0-030D09421F89"><span class="italic">row_pattern_measures</span></p>
                  <p>使用<code class="codeph">MEASURES</code>子句定义一个或多个行模式度量列。这些列包含在行模式输出表中，并包含对分析数据有用的值。
                  </p>
                  <p>使用<span class="italic"><code class="codeph">row_pattern_measure_column</code></span>子句定义行模式度量列时，可以指定其模式度量表达式。通过在找到匹配时评估模式度量表达式来计算列中的值。
                  </p>
                  <p><span class="bold"><span class="italic">row_pattern_measure_column</span></span></p>
                  <p>使用此子句可以定义行模式度量列。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">expr</code></span> ，请指定模式度量表达式。模式度量表达式是表达式中描述的<a href="Expressions.html#GUID-E7A5363C-AEE9-4809-99C1-1A9C6E3AE017">表达式</a> ，只能包含以下元素：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>常量：文本文字和数字文字</p>
                           </li>
                           <li>
                              <p>引用行模式输入表的任何列</p>
                           </li>
                           <li>
                              <p><code class="codeph">CLASSIFIER</code>函数，它返回行映射到的主行模式变量的名称。有关更多信息，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBGAAB">row_pattern_classifier_func</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">MATCH_NUMBER</code>函数，返回行模式分区中行模式匹配的序号。有关更多信息，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBEEBD">row_pattern_match_num_func</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>行模式导航功能： <code class="codeph">PREV</code> ， <code class="codeph">NEXT</code> ， <code class="codeph">FIRST</code>和<code class="codeph">LAST</code> 。有关更多信息，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCIIA">row_pattern_navigation_func</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>行模式聚合函数： <a href="AVG.html#GUID-B64BCBF1-DAA0-4D88-9821-2C4D3FDE5E4A">AVG</a> ， <a href="COUNT.html#GUID-AEF08B79-024D-4E3A-B362-9715FB011776">COUNT</a> ， <a href="MAX.html#GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01">MAX</a> ， <a href="MIN.html#GUID-F7F04E18-1AD8-4D15-9491-4622AD847A74">MIN</a>或<a href="SUM.html#GUID-5610BE2C-CFE5-446F-A1F7-B924B5663220">SUM</a> 。有关更多信息，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDJGB">row_pattern_aggregate_func</a></span> 。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">c_alias</code></span> ，请指定模式度量表达式的别名。Oracle数据库在行模式输出表的列标题中使用此别名。<code class="codeph">AS</code>关键字是可选的。别名可以在查询的其他部分使用，例如<code class="codeph">SELECT</code> ...<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8CC3C636-0BC2-41E2-B0FB-73E4D12341F5"><span class="italic">row_pattern_rows_per_match</span></p>
                  <p>此子句允许您指定行模式输出表是否包含有关每个匹配的摘要或详细数据。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">ONE</code> <code class="codeph">ROW</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code> ，则每个匹配产生一个摘要行。这是默认值。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">ALL</code> <code class="codeph">ROWS</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code> ，那么跨越多行的每个匹配将为匹配中的每一行生成一个输出行。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A0A59740-2EDF-40B5-821C-07361BAC99E0"><span class="italic">row_pattern_skip_to</span></p>
                  <p>此子句允许您指定在找到非空匹配后恢复行模式匹配的点。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">NEXT</code> <code class="codeph">ROW</code>以在当前匹配的第一行之后的行恢复模式匹配。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">PAST</code> <code class="codeph">LAST</code> <code class="codeph">ROW</code>以在当前匹配的最后一行之后的下一行恢复模式匹配。这是默认值。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">FIRST</code> <span class="italic"><code class="codeph">variable_name</code></span>以在映射到模式变量<span class="italic"><code class="codeph">variable_name</code></span>的第一行恢复模式匹配。必须在<code class="codeph">DEFINE</code>子句中定义<span class="italic"><code class="codeph">variable_name</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">LAST</code> <span class="italic"><code class="codeph">variable_name</code></span>以在映射到模式变量<span class="italic"><code class="codeph">variable_name</code></span>的最后一行恢复模式匹配。必须在<code class="codeph">DEFINE</code>子句中定义<span class="italic"><code class="codeph">variable_name</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <span class="italic"><code class="codeph">variable_name</code></span>与<code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">LAST</code> <span class="italic"><code class="codeph">variable_name</code></span>具有相同的行为。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7EEB88B0-B2EB-4F96-81BA-C2AC8E4F358F">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code>子句的更多信息，请参阅<a href="../dwhsg/sql-pattern-matching-data-warehouses.html#DWHSG8993" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2672B038-2A53-4ACB-810B-49BCC6C5023E">图案</p>
                  <p>使用<code class="codeph">PATTERN</code>子句定义必须匹配的模式变量，它们必须匹配的顺序以及每个模式变量必须匹配的行数。
                  </p>
                  <p>行模式匹配由行模式分区中的一组连续行组成。匹配的每一行都映射到一个模式变量。行到模式变量的映射必须符合<span class="italic"><code class="codeph">row_pattern</code></span>子句中指定的正则表达式，并且<code class="codeph">DEFINE</code>子句中的所有条件都必须为true。
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D40CC2BB-3610-4074-89AE-BE65205154DC">
                     <p class="notep1">注意：</p>
                     <p>解释正则表达式概念和细节超出了本文档的范围。如果您不熟悉正则表达式，那么建议您使用其他来源熟悉该主题。</p>
                  </div>
                  <p>您在<code class="codeph">PATTERNS</code>子句的正则表达式中按降序排列的元素的优先级如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>行模式元素（在<span class="italic"><code class="codeph">row_pattern_primary</code></span>子句中指定）</p>
                     </li>
                     <li>
                        <p>行模式量词（在<span class="italic"><code class="codeph">row_pattern_quantifier</code></span>子句中指定）</p>
                     </li>
                     <li>
                        <p>连接（在<span class="italic"><code class="codeph">row_pattern_term</code></span>子句中指定）</p>
                     </li>
                     <li>
                        <p>交替（在<span class="italic"><code class="codeph">row_pattern</code></span>子句中指定）</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-084FD2F9-D558-4FF5-A732-C0E4DC0497C9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">PATTERN</code>子句的更多信息，请<code class="codeph">PATTERN</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8986" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern</span></span></p>
                  <p>使用此子句指定行模式。行模式是一个正则表达式，可以采用以下形式之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>单行模式术语</p>
                        <p>例如： <code class="codeph">PATTERN(A)</code></p>
                     </li>
                     <li>
                        <p>行模式，垂直条和行模式术语</p>
                        <p>例如： <code class="codeph">PATTERN(A|B)</code></p>
                     </li>
                     <li>
                        <p>递归构建的行模式，垂直条和行模式术语</p>
                        <p>例如： <code class="codeph">PATTERN(A|B|C)</code></p>
                     </li>
                  </ul>
                  <p>本节中的竖线代表<span class="bold">交替</span> 。Alternation匹配几个可能的正则表达式列表中的单个正则表达式。替代品按其指定的顺序是优选的。例如，如果指定<code class="codeph">PATTERN(A|B|C)</code> ，则Oracle数据库会尝试首先匹配<code class="codeph">A</code>如果<code class="codeph">A</code>不匹配，则尝试匹配<code class="codeph">B</code>如果<code class="codeph">B</code>不匹配，则尝试匹配<code class="codeph">C</code></p>
                  <p><span class="bold"><span class="italic">row_pattern_term</span></span></p>
                  <p>此子句允许您指定行模式术语。行模式术语可以采用以下形式之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>单行模式因子</p>
                        <p>例如： <code class="codeph">PATTERN(A)</code></p>
                     </li>
                     <li>
                        <p>行模式术语后跟行模式因子。</p>
                        <p>例如： <code class="codeph">PATTERN(AB)</code></p>
                     </li>
                     <li>
                        <p>递归构建的行模式术语，后跟行模式因子</p>
                        <p>例如： <code class="codeph">PATTERN(ABC)</code></p>
                     </li>
                  </ul>
                  <p>第二个和第三个示例中使用的语法表示<span class="bold">连接</span> 。连接用于列出要匹配的模式中的两个或更多项以及它们匹配的顺序。例如，如果指定<code class="codeph">PATTERN(ABC)</code> ，则Oracle数据库首先匹配<code class="codeph">A</code> ，然后使用生成的匹配行匹配<code class="codeph">B</code> ，然后使用生成的匹配行匹配<code class="codeph">C</code>只有与<code class="codeph">A</code> ， <code class="codeph">B</code>和<code class="codeph">C</code>匹配的行包含在行模式匹配中。
                  </p>
                  <p><span class="bold"><span class="italic">row_pattern_factor</span></span></p>
                  <p>此子句允许您指定行模式因子。行模式因子由使用<span class="italic"><code class="codeph">row_pattern_primary</code></span>子句指定的行模式元素和使用<span class="italic"><code class="codeph">row_pattern_primary</code></span>子句指定的可选行模式量词<span class="italic"><code class="codeph">row_pattern_quantifier</code></span> 。
                  </p>
                  <p><span class="bold"><span class="italic">row_pattern_primary</span></span></p>
                  <p>使用此子句指定行模式元素。<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDGEJ" title="第一列列出了行模式量词;第二列提供说明。">表19-1</a>列出了有效的行模式元素及其说明。
                  </p>
                  <div class="tblformal" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDGEJ">
                     <p class="titleintable">表19-1行模式元素</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="行模式元素" width="100%" border="1" summary="First column lists row pattern quantifiers; second column provides descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d425579e8177">行模式元素</th>
                              <th align="left" valign="bottom" width="69%" id="d425579e8180">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8185" headers="d425579e8177 ">
                                 <p><span class="italic"><code class="codeph">变量名</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8185 d425579e8180 ">
                                 <p>指定<span class="italic"><code class="codeph">row_pattern_definition</code></span>子句中定义的主模式变量名称。您不能指定<span class="italic"><code class="codeph">row_pattern_subset_item</code></span>子句中定义的联合模式变量。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8202" headers="d425579e8177 ">
                                 <p><code class="codeph">$</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8202 d425579e8180 ">
                                 <p><code class="codeph">$</code>匹配分区中最后一行之后的位置。这个元素是一个锚点。锚定位置而不是行。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8212" headers="d425579e8177 ">
                                 <p><code class="codeph">^</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8212 d425579e8180 ">
                                 <p><code class="codeph">^</code>匹配分区中第一行之前的位置。这个元素是一个锚点。锚定位置而不是行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8222" headers="d425579e8177 ">
                                 <p><code class="codeph">(</code> <code class="codeph">[</code> <span class="italic"><code class="codeph">row_pattern</code></span> <code class="codeph">]</code> <code class="codeph">)</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8222 d425579e8180 ">
                                 <p>使用<span class="italic"><code class="codeph">row_pattern</code></span>指定要匹配的行模式。空模式<code class="codeph">()</code>匹配一组空行。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8248" headers="d425579e8177 ">
                                 <p><code class="codeph">{-</code> <span class="italic"><code class="codeph">row_pattern</code></span> <code class="codeph">-}</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8248 d425579e8180 ">
                                 <p>排除语法。使用<span class="italic"><code class="codeph">row_pattern</code></span>指定要从<code class="codeph">ALL</code> <code class="codeph">ROWS</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code>的输出中排除的模式部分。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8279" headers="d425579e8177 ">
                                 <p><span class="italic"><code class="codeph">row_pattern_permute</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8279 d425579e8180 ">
                                 <p>使用<span class="italic"><code class="codeph">row_pattern_permute</code></span>指定作为行模式元素的排列的模式。有关此子句的完整语义，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEEAJJ">row_pattern_permute</a></span> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEEAJJ"><span class="bold"><span class="italic">row_pattern_permute</span></span></p>
                  <p>使用<code class="codeph">PERMUTE</code>子句表示模式，该模式是指定行模式元素的排列。例如， <code class="codeph">PATTERN</code> <code class="codeph">(PERMUTE</code> <code class="codeph">(A,</code> <code class="codeph">B,</code> <code class="codeph">C))</code>相当于三个行模式元素<code class="codeph">A</code> ， <code class="codeph">B</code>和<code class="codeph">C</code>的所有排列的交替，类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">PATTERN（ABC | ACB | BAC | BCA | CAB | CBA）</pre><p>请注意，行模式元素按字典顺序扩展，并且每个要置换的元素必须用逗号与其他元素分隔。</p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9E8045E1-345F-4634-B49D-0989CD161D4C">
                     <p class="notep1">也可以看看：</p>
                     <p>有关排列的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9022" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern_quantifier</span></span></p>
                  <p>使用此子句指定行模式量词，它是一个后缀运算符，用于定义匹配所接受的迭代次数。</p>
                  <p>行模式量词称为贪心;他们将尝试尽可能多地匹配应用它们的正则表达式的多个实例。例外情况是带有问号的行模式量词（ <code class="codeph">?</code> ）作为后缀，被称为不情愿。他们将尝试尽可能少地匹配应用它们的正则表达式的实例。
                  </p>
                  <p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGAGEF" title="第一列列出了行模式量词;第二列提供说明。">表19-2</a>列出了有效的行模式量词以及它们为匹配所接受的迭代次数。在此表中， <span class="italic"><code class="codeph">n</code></span>和<span class="italic"><code class="codeph">m</code></span>表示无符号整数。
                  </p>
                  <div class="tblformal" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGAGEF">
                     <p class="titleintable">表19-2行模式量词</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="行模式量词" width="100%" border="1" summary="First column lists row pattern quantifiers; second column provides descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d425579e8376">行模式量词</th>
                              <th align="left" valign="bottom" width="84%" id="d425579e8379">匹配接受的迭代次数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8384" headers="d425579e8376 ">
                                 <p><code class="codeph">*</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8384 d425579e8379 ">
                                 <p>0次或更多次迭代（贪婪）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8392" headers="d425579e8376 ">
                                 <p><code class="codeph">*？</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8392 d425579e8379 ">
                                 <p>0次或更多次迭代（不情愿）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8400" headers="d425579e8376 ">
                                 <p><code class="codeph">+</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8400 d425579e8379 ">
                                 <p>1次或更多次迭代（贪婪）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8408" headers="d425579e8376 ">
                                 <p><code class="codeph">+？</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8408 d425579e8379 ">
                                 <p>1次或更多次迭代（不情愿）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8416" headers="d425579e8376 ">
                                 <p><code class="codeph">？</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8416 d425579e8379 ">
                                 <p>0或1次迭代（贪婪）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8424" headers="d425579e8376 ">
                                 <p><code class="codeph">??</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8424 d425579e8379 ">
                                 <p>0或1次迭代（不情愿）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8432" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">,}</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8432 d425579e8379 ">
                                 <p><span class="italic"><code class="codeph">n</code></span>或多次迭代，（ <span class="italic"><code class="codeph">n</code></span> &gt; = 0）（贪心）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8452" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">,}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8452 d425579e8379 ">
                                 <p><span class="italic"><code class="codeph">n</code></span>或多次迭代，（ <span class="italic"><code class="codeph">n</code></span> &gt; = 0）（不情愿）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8472" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">m</code></span> <code class="codeph">}</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8472 d425579e8379 ">
                                 <p>在<span class="italic"><code class="codeph">n</code></span>和<span class="italic"><code class="codeph">m</code></span>次迭代之间，包括（0 &lt;= <span class="italic"><code class="codeph">n</code></span> &lt;= <span class="italic"><code class="codeph">m</code></span> ，0 &lt; <span class="italic"><code class="codeph">m</code></span> ）（贪婪）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8510" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">m</code></span> <code class="codeph">}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8510 d425579e8379 ">
                                 <p>在<span class="italic"><code class="codeph">n</code></span>和<span class="italic"><code class="codeph">m</code></span>次迭代之间，包括（0 &lt;= <span class="italic"><code class="codeph">n</code></span> &lt;= <span class="italic"><code class="codeph">m</code></span> ，0 &lt; <span class="italic"><code class="codeph">m</code></span> ）（不情愿）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8548" headers="d425579e8376 ">
                                 <p><code class="codeph">{,</code> <span class="italic"><code class="codeph">m</code></span> <code class="codeph">}</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8548 d425579e8379 ">
                                 <p>在0和<span class="italic"><code class="codeph">m</code></span>次迭代之间，包括（ <span class="italic"><code class="codeph">m</code></span> &gt; 0）（贪婪）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8570" headers="d425579e8376 ">
                                 <p><code class="codeph">{,</code> <span class="italic"><code class="codeph">m</code></span> <code class="codeph">}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8570 d425579e8379 ">
                                 <p>在0到<span class="italic"><code class="codeph">m</code></span>次迭代之间，包括（ <span class="italic"><code class="codeph">m</code></span> &gt; 0）（不情愿）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8591" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8591 d425579e8379 ">
                                 <p><span class="italic"><code class="codeph">n</code></span>次迭代，（ <span class="italic"><code class="codeph">n</code></span> &gt; 0）</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D57E69D0-B99D-4A93-A76D-6F69ABDF6C32">
                     <p class="notep1">也可以看看：</p>
                     <p>有关行模式量词的详细信息，请参阅<a href="../dwhsg/sql-pattern-matching-data-warehouses.html#DWHSG8986" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AD48B32F-975F-4FE2-95C9-BEC4402EA536"><span class="italic">row_pattern_subset_clause</span></p>
                  <p><code class="codeph">SUBSET</code>子句允许您指定一个或多个联合行模式变量。使用<span class="italic"><code class="codeph">row_pattern_subset_item</code></span>子句声明每个联合行模式变量。
                  </p>
                  <p>您可以在以下子句中指定联合行模式变量：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">MEASURES</code>子句：在行模式度量列的表达式中。也就是说，在<span class="italic"><code class="codeph">row_pattern_measure_column</code></span>子句的表达式<span class="italic"><code class="codeph">expr</code></span>中。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DEFINE</code>子句：在定义主模式变量的条件下。也就是说，在<span class="italic"><code class="codeph">row_pattern_definition</code></span>子句的<span class="italic"><code class="codeph">condition</code></span>下</p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">row_pattern_subset_item</span></span></p>
                  <p>此子句允许您创建多个模式变量的分组，这些变量可以使用自己的变量名称引用。引用此分组的变量名称称为联合行模式变量。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于等号左侧的<span class="italic"><code class="codeph">variable_name</code></span> ，请指定联合行模式变量的名称。
                        </p>
                     </li>
                     <li>
                        <p>在等号的右侧，在括号内指定以逗号分隔的不同主行模式变量列表。此列表不能包含任何联合行模式变量。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-57BCDC3E-1172-40B9-A0F7-856846D5B06A">
                     <p class="notep1">也可以看看：</p>
                     <p>有关定义联合行模式变量的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8989" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5DCD19B1-8D16-4D54-BF30-72B8AF2850D6">限定</p>
                  <p>使用<code class="codeph">DEFINE</code>子句指定一个或多个行模式定义。行模式定义指定行必须满足的条件才能映射到特定模式变量。
                  </p>
                  <p><code class="codeph">DEFINE</code>子句仅支持运行语义。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B9B5E8CE-1722-488A-9A53-8120E61002FB">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">DEFINE</code>子句的更多信息，请<code class="codeph">DEFINE</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8999" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关运行和最终语义的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern_definition_list</span></span></p>
                  <p>此子句允许您指定一个或多个行模式定义。</p>
                  <p><span class="bold"><span class="italic">row_pattern_definition</span></span></p>
                  <p>此子句允许您指定行模式定义，该行定义包含行必须满足的条件才能映射到指定的模式变量。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">variable_name</code></span> ，请指定模式变量的名称。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">condition</code></span> ，请指定条件中描述的<a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">条件</a> ，扩展名如下： <span class="italic"><code class="codeph">condition</code></span>可以包含<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHIEA">row_pattern_navigation_func :: =</a></span>和<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDCFA">row_pattern_aggregate_func :: =</a></span>所描述的任何函数。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">row_pattern_rec_func</span></span></p>
                  <p>该子句包含以下子句，允许您指定行模式识别功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_classifier_func</code></span> ：使用此子句指定<code class="codeph">CLASSIFIER</code>函数，该函数返回一个字符串，其值是行映射到的变量的名称。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_match_num_func</code></span> ：使用此子句指定<code class="codeph">MATCH_NUMBER</code>函数，该函数返回标度为0（零）的数值，其值为行模式分区中匹配的序号。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_navigation_func</code></span> ：使用此子句指定执行行模式导航操作的函数。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_aggregate_func</code></span> ：使用此子句在行模式度量列的表达式中或在定义主模式变量的条件中指定聚合函数。
                        </p>
                     </li>
                  </ul>
                  <p>您可以在以下子句中指定行模式识别功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">MEASURES</code>子句：在行模式度量列的表达式中。也就是说，在<span class="italic"><code class="codeph">row_pattern_measure_column</code></span>子句的表达式<span class="italic"><code class="codeph">expr</code></span>中。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DEFINE</code>子句：在定义主模式变量的条件下。也就是说，在<span class="italic"><code class="codeph">row_pattern_definition</code></span>子句的<span class="italic"><code class="codeph">condition</code></span>下</p>
                     </li>
                  </ul>
                  <p>行模式识别功能的行为可能会有所不同，具体取决于您是在<code class="codeph">MEASURES</code>还是<code class="codeph">DEFINE</code>子句中指定它。这些细节在每个子句的语义中进行了解释。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBGAAB"><span class="bold"><span class="italic">row_pattern_classifier_func</span></span></p>
                  <p><code class="codeph">CLASSIFIER</code>函数返回一个字符串，其值是行映射到的变量的名称。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在<code class="codeph">MEASURES</code>条款中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果指定<code class="codeph">ONE</code> <code class="codeph">ROW</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code> ，则查询在处理<code class="codeph">MEASURES</code>子句时使用匹配的最后一行，因此<code class="codeph">CLASSIFIER</code>函数返回匹配的最后一行映射到的模式变量的名称。
                              </p>
                           </li>
                           <li>
                              <p>如果指定<code class="codeph">ALL</code> <code class="codeph">ROWS</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code> ，则对于找到的匹配的每一行， <code class="codeph">CLASSIFIER</code>函数返回行映射到的模式变量的名称。
                              </p>
                           </li>
                        </ul>
                        <p>对于空匹配 - 即不包含任何行的匹配， <code class="codeph">CLASSIFER</code>函数返回NULL。</p>
                     </li>
                     <li>
                        <p>在<code class="codeph">DEFINE</code>子句中， <code class="codeph">CLASSIFIER</code>函数返回当前行映射到的主模式变量的名称。
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBEEBD"><span class="bold"><span class="italic">row_pattern_match_num_func</span></span></p>
                  <p><code class="codeph">MATCH_NUMBER</code>函数返回一个数字值，其标度为0（零），其值是行模式分区中匹配的顺序编号。
                  </p>
                  <p>行模式分区内的匹配按顺序编号，从找到它们的顺序开始。如果多行满足匹配，则为它们分配相同的匹配号。请注意，匹配编号在每个行模式分区中从1开始重新开始，因为行模式分区之间没有固有的顺序。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在<code class="codeph">MEASURES</code>子句中：您可以使用<code class="codeph">MATCH_NUMBER</code>获取行模式中匹配的序号。
                        </p>
                     </li>
                     <li>
                        <p>在<code class="codeph">DEFINE</code>子句中：您可以使用<code class="codeph">MATCH_NUMBER</code>来定义依赖于匹配编号的条件。
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCIIA"><span class="bold"><span class="italic">row_pattern_navigation_func</span></span></p>
                  <p>此子句允许您执行以下行模式导航操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<span class="italic"><code class="codeph">row_pattern_nav_logical</code></span>子句的<code class="codeph">FIRST</code>和<code class="codeph">LAST</code>函数在映射到模式变量的行组之间进行导航。
                        </p>
                     </li>
                     <li>
                        <p>使用<span class="italic"><code class="codeph">row_pattern_nav_physical</code></span>子句的<code class="codeph">PREV</code>和<code class="codeph">NEXT</code>函数在行模式分区中的所有行之间导航</p>
                     </li>
                     <li>
                        <p>使用<span class="italic"><code class="codeph">row_pattern_nav_compound</code></span>子句将<code class="codeph">FIRST</code>或<code class="codeph">LAST</code>函数嵌套在<code class="codeph">PREV</code>或<code class="codeph">NEXT</code>函数中。
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHCBFE"><span class="bold"><span class="italic">row_pattern_nav_logical</span></span></p>
                  <p>此子句允许您使用<code class="codeph">FIRST</code>和<code class="codeph">LAST</code>函数在使用可选逻辑偏移量映射到模式变量的行组之间导航。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>当在映射到<span class="italic"><code class="codeph">expr</code></span>指定的模式变量的行组的第一行中求值时， <code class="codeph">FIRST</code>函数返回表达式<span class="italic"><code class="codeph">expr</code></span>的值。如果没有行映射到模式变量，则<code class="codeph">FIRST</code>函数返回NULL。</p>
                     </li>
                     <li>
                        <p>在映射到<span class="italic"><code class="codeph">expr</code></span>指定的模式变量的行组的最后一行中计算时， <code class="codeph">LAST</code>函数返回表达式<span class="italic"><code class="codeph">expr</code></span>的值。如果没有行映射到模式变量，则<code class="codeph">LAST</code>函数返回NULL。</p>
                     </li>
                     <li>
                        <p>使用<span class="italic"><code class="codeph">expr</code></span>指定要计算的表达式。它必须至少包含一个行模式列引用。如果它包含多个行模式列引用，则所有必须引用相同的模式变量。
                        </p>
                     </li>
                     <li>
                        <p>使用可选<span class="italic"><code class="codeph">offset</code></span>指定映射到模式变量的行集内的逻辑偏移量。使用<code class="codeph">FIRST</code>函数指定时，偏移量是第一行中的行数，按升序排列。使用<code class="codeph">LAST</code>函数指定时，偏移量是最后一行中的行数，按降序排列。默认偏移量为0。
                        </p>
                        <p>对于<span class="italic"><code class="codeph">offset</code></span> ，请指定非负整数。它必须是运行时常量（文字，绑定变量或涉及它们的表达式），而不是列或子查询。
                        </p>
                        <p>如果指定的<span class="italic"><code class="codeph">offset</code></span>量大于或等于映射到模式变量的行数减1，则该函数返回NULL。</p>
                     </li>
                  </ul>
                  <p>您可以为<code class="codeph">FIRST</code>和<code class="codeph">LAST</code>函数指定运行或最终语义，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">MEASURES</code>子句支持运行和最终语义。指定<code class="codeph">RUNNING</code>以运行语义。为最终语义指定<code class="codeph">FINAL</code> 。默认为<code class="codeph">RUNNING</code> 。</p>
                     </li>
                     <li>
                        <p><code class="codeph">DEFINE</code>子句仅支持运行语义。因此，无论您是指定还是省略<code class="codeph">RUNNING</code> ，都将使用运行语义。您无法指定<code class="codeph">FINAL</code> 。</p>
                        <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ED886EB5-465F-49FA-AFE4-ABA6F1619CFD">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">FIRST</code>和<code class="codeph">LAST</code>函数的更多信息，请<code class="codeph">FIRST</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9001" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                              </li>
                              <li>
                                 <p>有关运行和最终语义的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFIFBC"><span class="bold"><span class="italic">row_pattern_nav_physical</span></span></p>
                  <p>此子句允许您使用<code class="codeph">PREV</code>和<code class="codeph">NEXT</code>函数使用可选的物理偏移量导航行模式分区中的所有行。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在分区的前一行中计算时， <code class="codeph">PREV</code>函数返回表达式<span class="italic"><code class="codeph">expr</code></span>的值。如果分区中没有前一行，则<code class="codeph">PREV</code>函数返回NULL。</p>
                     </li>
                     <li>
                        <p>在分区的下一行中计算时， <code class="codeph">NEXT</code>函数返回表达式<span class="italic"><code class="codeph">expr</code></span>的值。如果分区中没有下一行，则NEXT函数返回NULL。</p>
                     </li>
                     <li>
                        <p>使用<span class="italic"><code class="codeph">expr</code></span>指定要计算的表达式。它必须至少包含一个行模式列引用。如果它包含多个行模式列引用，则所有必须引用相同的模式变量。
                        </p>
                     </li>
                     <li>
                        <p>使用可选<span class="italic"><code class="codeph">offset</code></span>指定分区内的物理偏移量。使用<code class="codeph">PREV</code>函数指定时，它是当前行之前的行数。使用<code class="codeph">NEXT</code>函数指定时，它是当前行之后的行数。默认值为1。如果指定偏移量为0，则计算当前行。
                        </p>
                        <p>对于<span class="italic"><code class="codeph">offset</code></span> ，请指定非负整数。它必须是运行时常量（文字，绑定变量或涉及它们的表达式），而不是列或子查询。
                        </p>
                     </li>
                  </ul>
                  <p><code class="codeph">PREV</code>和<code class="codeph">NEXT</code>函数始终使用运行语义。因此，您无法使用此子句指定<code class="codeph">RUNNING</code>或<code class="codeph">FINAL</code>关键字。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FBAC125E-A989-48CC-A5EA-98A193C8DA50">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">PREV</code>和<code class="codeph">NEXT</code>函数的更多信息，请<code class="codeph">PREV</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8999" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关运行和最终语义的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern_nav_compound</span></span></p>
                  <p>此子句允许您在<span class="italic"><code class="codeph">row_pattern_nav_logical</code></span>子句中嵌套<span class="italic"><code class="codeph">row_pattern_nav_physical</code></span>子句。也就是说，它允许您在<code class="codeph">PREV</code>或<code class="codeph">NEXT</code>函数中嵌套<code class="codeph">FIRST</code>或<code class="codeph">LAST</code>函数。首先计算<span class="italic"><code class="codeph">row_pattern_nav_logical</code></span>子句，然后将结果提供给<span class="italic"><code class="codeph">row_pattern_nav_physical</code></span>子句。
                  </p>
                  <p>有关这些子句的完整语义，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHCBFE">row_pattern_nav_logical</a></span>和<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFIFBC">row_pattern_nav_physical</a></span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9DB56F1C-E096-4B9B-8777-2280FF24A03B">
                     <p class="notep1">也可以看看：</p>
                     <p>有关在<code class="codeph">PREV</code>和<code class="codeph">NEXT</code>函数中嵌套<code class="codeph">FIRST</code>和<code class="codeph">LAST</code>函数的更多信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9015" target="_blank"><span class="italic">Oracle数据库数据仓库指南”</span></a></p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDJGB"><span class="bold"><span class="italic">row_pattern_aggregate_func</span></span></p>
                  <p>此子句允许您在行模式度量列的表达式中使用聚合函数，或者在定义主模式变量的条件中使用聚合函数。</p>
                  <p>对于<span class="italic"><code class="codeph">aggregate_function</code></span> ，请指定<a href="AVG.html#GUID-B64BCBF1-DAA0-4D88-9821-2C4D3FDE5E4A">AVG</a> ， <a href="COUNT.html#GUID-AEF08B79-024D-4E3A-B362-9715FB011776">COUNT</a> ， <a href="MAX.html#GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01">MAX</a> ， <a href="MIN.html#GUID-F7F04E18-1AD8-4D15-9491-4622AD847A74">MIN</a>或<a href="SUM.html#GUID-5610BE2C-CFE5-446F-A1F7-B924B5663220">SUM</a>函数中的任何一个。不支持<code class="codeph">DISTINCT</code>关键字。
                  </p>
                  <p>您可以为聚合函数指定运行或最终语义，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">MEASURES</code>子句支持运行和最终语义。指定<code class="codeph">RUNNING</code>以运行语义。为最终语义指定<code class="codeph">FINAL</code> 。默认为<code class="codeph">RUNNING</code> 。</p>
                     </li>
                     <li>
                        <p><code class="codeph">DEFINE</code>子句仅支持运行语义。因此，无论您是指定还是省略<code class="codeph">RUNNING</code> ，都将使用运行语义。您无法指定<code class="codeph">FINAL</code> 。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-51960E83-48BC-4B15-9AF7-B508915E66CB">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关聚合函数的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8998" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关运行和最终语义的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066378">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B98ADD28-D7EE-4A71-9CC3-41836D8777E9">例子</p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJFIDC"><span class="bold">在WITH子句中使用PL / SQL函数：示例</span></p>
                  <p>以下示例在<code class="codeph">WITH</code>子句中声明并定义PL / SQL函数<code class="codeph">get_domain</code> 。<code class="codeph">get_domain</code>函数从URL字符串返回域名，假设URL字符串在域名前面有“ <code class="codeph">www</code> ”前缀，域名在左侧和右侧用点分隔。<code class="codeph">SELECT</code>语句使用<code class="codeph">get_domain</code>从<code class="codeph">oe</code>模式中的<code class="codeph">orders</code>表中查找不同的目录域名。
                  </p><pre class="oac_no_warn" dir="ltr">WITH FUNCTION get_domain（url VARCHAR2）RETURN VARCHAR2 IS pos BINARY_INTEGER; len BINARY_INTEGER; BEGIN pos：= INSTR（url，'www。“）; len：= INSTR（SUBSTR（url，pos + 4），'。'） -  1; RETURN SUBSTR（url，pos + 4，len）;结束; SELECT DISTINCT get_domain（catalog_url）FROM product_information; /</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129904"><span class="bold">子查询因子：例子</span></p>
                  <p>以下语句为包含连接的初始查询块创建查询名称<code class="codeph">dept_costs</code>和<code class="codeph">avg_cost</code> ，然后使用主查询正文中的查询名称。
                  </p><pre class="oac_no_warn" dir="ltr">WITH dept_costs AS（SELECT department_name，SUM（薪水）dept_total FROM employees e，departments d WHERE e.department_id = d.department_id GROUP BY department_name），avg_cost AS（SELECT SUM（dept_total）/ COUNT（*）avg FROM dept_costs）SELECT * FROM dept_costs WHERE dept_total&gt;（SELECT avg FROM avg_cost）ORDER BY department_name; DEPARTMENT_NAME DEPT_TOTAL ------------------------------ ---------- Sales 304500 Shipping 156400</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCDJDB"><span class="bold">递归子查询因子：示例</span></p>
                  <p>以下声明显示直接或间接向员工101报告的员工及其报告级别。</p><pre class="oac_no_warn" dir="ltr">WITH reports_to_101（eid，emp_last，mgr_id，reportLevel）AS（SELECT employee_id，last_name，manager_id，0 reportLevel FROM employees WHERE employee_id = 101 UNION ALL SELECT e.employee_id，e.last_name，e.manager_id，reportLevel + 1 FROM reports_to_101 r，员工e WHERE r.eid = e.manager_id）SELECT eid，emp_last，mgr_id，reportLevel FROM reports_to_101 ORDER BY reportLevel，eid; EID EMP_LAST MGR_ID REPORTLEVEL ---------- ------------------------- ----------  - ---------- 101 Kochhar 100 0 108 Greenberg 101 1 200 Whalen 101 1 203 Mavris 101 1 204 Baer 101 1 205 Higgins 101 1 109 Faviet 108 2 110 Chen 108 2 111 Sciarra 108 2 112 Urman 108 2 113 Popp 108 2 206 Gietz 205 2</pre><p>以下声明显示直接或间接向员工101报告的员工，他们的报告级别以及他们的管理链。</p><pre class="oac_no_warn" dir="ltr">WITH reports_to_101（eid，emp_last，mgr_id，reportLevel，mgr_list）AS（SELECT employee_id，last_name，manager_id，0 reportLevel，CAST（manager_id AS VARCHAR2（2000））FROM employees WHERE employee_id = 101 UNION ALL SELECT e.employee_id，e.last_name ，e.manager_id，reportLevel + 1，CAST（mgr_list ||'，'|| manager_id AS VARCHAR2（2000））FROM reports_to_101 r，employees e WHERE r.eid = e.manager_id）SELECT eid，emp_last，mgr_id，reportLevel， mgr_list FROM reports_to_101 ORDER BY reportLevel，eid; EID EMP_LAST MGR_ID REPORTLEVEL MGR_LIST ---------- ------------------------- ---------- ----------- -------- 101 Kochhar 100 0 100 108 Greenberg 101 1 100,101 200 Whalen 101 1 100,101 203 Mavris 101 1 100,101 204 Baer 101 1 100,101 205 Higgins 101 1 100,101 109 Faviet 108 2 100,101,108 110陈108 2 100,101,108 111 Sciarra 108 2 100,101,108 112 Urman 108 2 100,101,108 113 Popp 108 2 100,101,108 206 Gietz 205 2 100,101,205</pre><p>以下声明显示直接或间接向员工101报告的员工及其报告级别。它在报告级别1停止。</p><pre class="oac_no_warn" dir="ltr">WITH reports_to_101（eid，emp_last，mgr_id，reportLevel）AS（SELECT employee_id，last_name，manager_id，0 reportLevel FROM employees WHERE employee_id = 101 UNION ALL SELECT e.employee_id，e.last_name，e.manager_id，reportLevel + 1 FROM reports_to_101 r， employees e WHERE r.eid = e.manager_id）SELECT eid，emp_last，mgr_id，reportLevel FROM reports_to_101 WHERE reportLevel &lt;= 1 ORDER BY reportLevel，eid; EID EMP_LAST MGR_ID REPORTLEVEL ---------- ------------------------- ----------  - ---------- 101 Kochhar 100 0 108 Greenberg 101 1 200 Whalen 101 1 203 Mavris 101 1 204 Baer 101 1 205 Higgins 101 1</pre><p>以下声明显示了整个组织，每个级别的管理层都在缩进。</p><pre class="oac_no_warn" dir="ltr">WITH org_chart（eid，emp_last，mgr_id，reportLevel，salary，job_id）AS（SELECT employee_id，last_name，manager_id，0 reportLevel，salary，job_id FROM employees WHERE manager_id为null UNION ALL SELECT e.employee_id，e.last_name，e.manager_id ，r.reportLevel + 1 reportLevel，e.salary，e.job_id FROM org_chart r，employees e WHERE r.eid = e.manager_id）首先按emp_last搜索深度SET order1 SELECT lpad（''，2 * reportLevel）|| emp_last emp_name，eid，mgr_id，salary，job_id FROM org_chart ORDER BY order1; EMP_NAME EID MGR_ID SALARY JOB_ID -------------------- ---------- ---------- ----- ----- ---------- King 100 24000 AD_PRES Cambrault 148 100 11000 SA_MAN Bates 172 148 7300 SA_REP Bloom 169 148 10000 SA_REP Fox 170 148 9600 SA_REP Kumar 173 148 6100 SA_REP Ozer 168 148 11500 SA_REP Smith 171 148 7400 SA_REP De Haan 102 100 17000 AD_VP Hunold 103 102 9000 IT_PROG Austin 105 103 4800 IT_PROG Ernst 104 103 6000 IT_PROG Lorentz 107 103 4200 IT_PROG Pataballa 106 103 4800 IT_PROG Errazuriz 147 100 12000 SA_MAN Ande 166 147 6400 SA_REP。 。 。
</pre><p>以下语句显示了整个组织，即每个级别的管理层，每个级别由<span class="italic"><code class="codeph">hire_date</code></span>排序。对于与管理链中位于其上方的任何经理具有相同<span class="italic"><code class="codeph">hire_date</code></span>任何员工， <span class="italic"><code class="codeph">is_cycle</code></span>的值设置为<code class="codeph">Y</code>
                  </p><pre class="oac_no_warn" dir="ltr">WITH dup_hiredate（eid，emp_last，mgr_id，reportLevel，hire_date，job_id）AS（SELECT employee_id，last_name，manager_id，0 reportLevel，hire_date，job_id FROM employees WHERE manager_id为null UNION ALL SELECT e.employee_id，e.last_name，e.manager_id ，r.reportLevel + 1 reportLevel，e.hire_date，e.job_id FROM dup_hiredate r，employees e WHERE r.eid = e.manager_id）先搜索深度为hire_date SET order1 CYCLE hire_date SET is_cycle TO'Y'DEFAULT'N'SELY lpad（''，2 * reportLevel）|| emp_last emp_name，eid，mgr_id，hire_date，job_id，is_cycle FROM dup_hiredate ORDER BY order1; EMP_NAME EID MGR_ID HIRE_DATE JOB_ID IS_CYCLE -------------------- ---------- ---------- ---- ----- ---------- -------- King 100 17-JUN-03 AD_PRES N De Haan 102 100 13-JAN-01 AD_VP N Hunold 103 102 03-JAN- 06 IT_PROG N Austin 105 103 25-JUN-05 IT_PROG N. 。 。Kochhar 101 100 21-SEP-05 AD_VP N Mavris 203 101 07-JUN-02 HR_REP N Baer 204 101 07-JUN-02 PR_REP N Higgins 205 101 07-JUN-02 AC_MGR N <span class="bold">Gietz</span> <span class="bold">206</span> <span class="bold">205</span> <span class="bold">07-JUN-02</span> <span class="bold">AC_ACCOUNT</span> <span class="bold">Y</span>格林伯格108 101 17-AUG-02 FI_MGR N Faviet 109 108 16-AUG-02 FI_ACCOUNT N Chen 110 108 28-SEP-05 FI_ACCOUNT N. 。 。
</pre><p>以下声明计算每位经理下的员工人数。</p><pre class="oac_no_warn" dir="ltr">WITH emp_count（eid，emp_last，mgr_id，mgrLevel，salary，cnt_employees）AS（SELECT employee_id，last_name，manager_id，0 mgrLevel，salary，0 cnt_employees FROM employees UNION ALL SELECT e.employee_id，e.last_name，e.manager_id，r。 mgrLevel + 1 mgrLevel，e.salary，1 cnt_employees FROM emp_count r，employees e WHERE e.employee_id = r.mgr_id）首先按emp_last搜索深度SET order1 SELECT emp_last，eid，mgr_id，salary，sum（cnt_employees），max（mgrLevel ）mgrLevel FROM emp_count GROUP BY emp_last，eid，mgr_id，salary max（mgrLevel）&gt; 0 ORDER BY mgr_id NULLS FIRST，emp_last; EMP_LAST EID MGR_ID SALARY SUM（CNT_EMPLOYEES）MGRLEVEL ------------------ ---------- ---------- --- ------- ------------------ ---------- King 100 24000 106 3 Cambrault 148 100 11000 7 2 De Haan 102 100 17000 5 2 Errazuriz 147 100 12000 6 1 Fripp 121 100 8200 8 1 Hartstein 201 100 13000 1 1 Kaufling 122 100 7900 8 1。 。 。</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731"><span class="bold">分析观点：例子</span></p>
                  <p>以下语句使用持久分析视图sales_av。该查询选择<code class="codeph">member_name</code>层次结构属性，该属性是<code class="codeph">member_name</code>层次结构的别名，以及分析视图的销售额和单位度量值中的值，这些值由time_hier层次结构使用的时间属性维度标注。选择的结果将过滤为层次结构的YEAR级别的结果。结果按层次顺序返回。
                  </p><pre class="pre codeblock"><code>SELECT time_hier.member_name as TIME，sales，units FROM sales_av HIERARCHIES（time_hier）WHERE time_hier.level_name ='YEAR'ORDER BY time_hier.hier_order;</code></pre><p>查询结果如下：</p><pre class="pre codeblock"><code>时间销售单位------ ------------- --------- CY2011 6755115980.73 24462444 CY2012 6901682398.95 24400619 CY2013 7240938717.57 24407259 CY2014 7579746352.89 24402666 CY2015 7941102885.15 24475206</code></pre><p>Transitory Analytic View Examples</p>
                  <p>以下语句定义<code class="codeph">WITH</code>子句中的临时分析视图my_av。暂时性分析视图基于持久性分析视图sales_av。 lag_sales计算度量是在查询时使用的<code class="codeph">LAG</code>计算。
                  </p><pre class="pre codeblock"><code>with my_av ANALYTIC VIEW AS（使用sales_av HIERARCHIES（time_hier）添加度量（lag_sales AS（LAG（销售额）超过（HIERARCHY time_hier OFFSET 1））））SELECT time_hier.member_name time，sales，lag_sales FROM my_av HIERARCHIES（time_hier）WHERE time_hier。 level_name ='YEAR'ORDER BY time_hier.hier_order;</code></pre><p>查询结果如下：</p><pre class="pre codeblock"><code>时间销售LAG_SALES ------ ---------- ---------- CY2011 6755115981（null）CY2012 6901682399 6755115981 CY2013 7240938718 6901682399 CY2014 7579746353 7240938718 CY2015 7941102885 7579746353</code></pre><p>以下语句定义了使用filter子句的暂时分析视图。</p><pre class="pre codeblock"><code>with my_av ANALYTIC VIEW AS（使用sales_av HIERARCHIES（time_hier）FILTER FACT（time_hier TO quarter_of_year IN（1,2）AND year_name IN（'CY2011'，'CY2012'）））SELECT time_hier.member_name time，sales FROM my_av HIERARCHIES（time_hier） ）WHERE time_hier.level_name IN（'YEAR'，'QUARTER'）ORDER BY time_hier.hier_order;</code></pre><p>查询结果如下：</p><pre class="pre codeblock"><code>时间销售-------- ---------- CY2011 3340459835 Q1CY2011 1625299627 Q2CY2011 1715160208 CY2012 3397271965 Q1CY2012 1644857783 Q2CY2012 1752414182</code></pre><p>内联分析视图示例</p>
                  <p>以下语句定义<code class="codeph">FROM</code>子句中的内联分析视图。暂时性分析视图基于持久性分析视图sales_av。 lag_sales计算度量是在查询时使用的<code class="codeph">LAG</code>计算。
                  </p><pre class="pre codeblock"><code>SELECT time_hier.member_name time，sales，lag_sales FROM ANALYTIC VIEW（USING sales_av HIERARCHIES（time_hier）ADD MEASURES（lag_sales AS（LAG（sales）OVER（HIERARCHY time_hier OFFSET 1））））WHERE time_hier.level_name ='YEAR'ORDER BY time_hier .hier_order;</code></pre><p>查询结果如下：</p><pre class="pre codeblock"><code>时间销售LAG_SALES ------ ---------- ---------- CY2011 6755115981（null）CY2012 6901682399 6755115981 CY2013 7240938718 6901682399 CY2014 7579746353 7240938718 CY2015 7941102885 7579746353</code></pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129937"><span class="bold">简单查询示例</span></p>
                  <p>以下语句从<code class="codeph">employees</code>表中选择部门编号为30的行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees WHERE department_id = 30 ORDER BY last_name;</pre><p>以下语句选择除部门编号30的采购员以外的所有员工的姓名，工作，工资和部门编号：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，job_id，salary，department_id FROM employees WHERE NOT（job_id ='PU_CLERK'AND department_id = 30）ORDER BY last_name;</pre><p>以下语句从<code class="codeph">FROM</code>子句中的子查询中进行选择，并且每个部门将员工总数和工资作为所有部门的小数值返回：</p><pre class="oac_no_warn" dir="ltr">选择a.department_id“部门”，a.num_emp / b.total_count“％_Employees”，a.sal_sum / b.total_sal“％_Salary”FROM（SELECT department_id，COUNT（*）num_emp，SUM（薪水）sal_sum FROM employees GROUP BY department_id）a，（SELECT COUNT（*）total_count，SUM（salary）total_sal FROM employees）b ORDER BY a.department_id;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105152"><span class="bold">从分区中选择：示例</span></p>
                  <p>您可以通过在<code class="codeph">FROM</code>子句中指定关键字<code class="codeph">PARTITION</code>来<code class="codeph">FROM</code>分区表的单个分区中选择行。此SQL语句为示例表<code class="codeph">sh.sales</code>的<code class="codeph">sales_q2_2000</code>分区分配别名并检索行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales PARTITION（sales_q2_2000）s WHERE s.amount_sold&gt; 1500 ORDER BY cust_id，time_id，channel_id;</pre><p>以下示例从<code class="codeph">oe.orders</code>表中选择早于指定日期的订单的行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM orders WHERE order_date &lt;TO_DATE（'2006-06-15'，'YYYY-MM-DD'）;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105143"><span class="bold">选择样本：示例</span> 
                  </p>
                  <p>以下查询估计<code class="codeph">oe.orders</code>表中的订单数：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）* 10 FROM orders SAMPLE（10）; COUNT（*）* 10 ----------- 70</pre><p>因为查询返回估计值，所以实际返回值可能因查询而异。</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）* 10 FROM orders SAMPLE（10）; COUNT（*）* 10 ----------- 80</pre><p>以下查询将种子值添加到前一个查询。给定相同的种子值，Oracle数据库始终返回相同的估计值：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）* 10 FROM orders SAMPLE（10）SEED（1）; COUNT（*）* 10 ----------- 130 SELECT COUNT（*）* 10 FROM orders SAMPLE（10）SEED（4）; COUNT（*）* 10 ----------- 120 SELECT COUNT（*）* 10 FROM orders SAMPLE（10）SEED（1）; COUNT（*）* 10 ----------- 130</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112847"><span class="bold">使用闪回查询：示例</span></p>
                  <p>以下语句显示示例表<code class="codeph">hr.employees</code>的当前值，然后更改该值。这些示例中使用的间隔非常短，仅用于演示目的。您自己环境中的时间间隔可能会更长。
                  </p><pre class="oac_no_warn" dir="ltr">从员工中选择薪水WHERE last_name ='Chung'; SALARY ---------- 3800 UPDATE员工SET薪水= 4000 WHERE last_name ='Chung'; 1行更新。从员工中选择薪水WHERE last_name ='Chung'; SALARY ---------- 4000</pre><p>要了解更新前的值，您可以使用以下闪回查询：</p><pre class="oac_no_warn" dir="ltr">从员工中选择薪水AS OF TIMESTAMP（SYSTIMESTAMP  -  INTERVAL'1'MINUTE）WHERE last_name ='Chung'; SALARY ---------- 3800</pre><p>要了解特定时间段内的值，您可以使用版本闪回查询：</p><pre class="oac_no_warn" dir="ltr">从员工中选择薪水TIMESTAMP SYSTIMESTAMP  -  INTERVAL'10'MINUTE和SYSTIMESTAMP  -  INTERVAL'1'MINUTE WHERE last_name ='Chung';</pre><p>要恢复到早期值，请使用闪回查询作为另一个<code class="codeph">UPDATE</code>语句的子查询：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水=（SELECT员工来自员工AS OF TIMESTAMP（SYSTIMESTAMP  -  INTERVAL'2'MINUTE）WHERE last_name ='Chung'）WHERE last_name ='Chung'; 1行更新。从员工中选择薪水WHERE last_name ='Chung'; SALARY ---------- 3800</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066419"><span class="bold">使用GROUP BY子句：示例</span></p>
                  <p>要返回<code class="codeph">employees</code>表中每个部门的最低和最高工资，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">SELECT department_id，MIN（薪水），MAX（薪水）FROM employees GROUP BY department_id ORDER BY department_id;</pre><p>要返回每个部门职员的最低和最高工资，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">SELECT department_id，MIN（薪水），MAX（薪水）FROM employees WHERE job_id ='PU_CLERK'GROUP BY department_id ORDER BY department_id;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066443"><span class="bold">使用GROUP BY CUBE子句：示例</span></p>
                  <p>要在部门和工作类别的所有可能组合中返回员工数量及其平均年薪，请在示例表<code class="codeph">hr.employees</code>和<code class="codeph">hr.departments</code>上发出以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT DECODE（GROUPING（department_name），1，'所有部门'，department_name）AS department_name，DECODE（GROUPING（job_id），1，'所有作业'，job_id）AS job_id，COUNT（*）“Total Empl”，AVG（工资）* 12“平均Sal”来自员工e，部门d WHERE d.department_id = e.department_id GROUP BY CUBE（department_name，job_id）ORDER BY department_name，job_id; DEPARTMENT_NAME JOB_ID Total Empl Average Sal ------------------------------ ---------- ---- ------ -----------会计AC_ACCOUNT 1 99600会计AC_MGR 1 144000会计所有工作2 121800管理AD_ASST 1 52800。 。 。运费ST_CLERK 20 33420运输ST_MAN 5 87360</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2091446"><span class="bold">使用GROUPING SETS子句：示例</span></p>
                  <p>以下示例查找为三个精确指定的组聚合的销售总额：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">（channel_desc，calendar_month_desc，country_id）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">（channel_desc，country_id）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">（calendar_month_desc，country_id）</code></p>
                     </li>
                  </ul>
                  <p>如果没有<code class="codeph">GROUPING</code> <code class="codeph">SETS</code>语法，则必须使用更复杂的SQL编写效率较低的查询。例如，您可以运行三个单独的查询和<code class="codeph">UNION</code>它们，或者使用<code class="codeph">CUBE(channel_desc, calendar_month_desc, country_id)</code>操作运行查询，并过滤掉它将生成的八个组中的五个。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT channel_desc，calendar_month_desc，co.country_id，TO_CHAR（sum（amount_sold），'9,999,999,999'）SALES $ FROM sales，customers，times，channels，countries co WHERE sales.time_id = times.time_id AND sales.cust_id = customers.cust_id AND sales.channel_id = channels.channel_id AND customers.country_id = co.country_id AND channels.channel_desc IN（'Direct Sales'，'Internet'）AND times.calendar_month_desc IN（'2000-09'，'2000-10'）AND co .country_iso_code IN（'UK'，'US'）GROUP BY GROUPING SETS（（channel_desc，calendar_month_desc，co.country_id），（channel_desc，co.country_id），（calendar_month_desc，co.country_id））; CHANNEL_DESC CALENDAR COUNTRY_ID SALES $ -------------------- -------- ---------- ------- ---互联网2000-09 52790 124,224直销2000-09 52790 638,201互联网2000-10 52790 137,054直销2000-10 52790 682,297 2000-09 52790 762,425 2000-10 52790 819,351互联网52790 261,278直销52790 1,320,497</pre><div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1931E623-8DF7-4C55-8592-8FE017D75224">
                     <p class="notep1">也可以看看：</p>
                     <p>有关这些函数的更多信息，请<a href="GROUP_ID.html#GUID-3A5A9C15-1B67-4FD7-AC41-EE8349B2E834">参见GROUP_ID</a> ， <a href="GROUPING.html#GUID-82E6084A-0BDF-4587-A40E-36899783F073">GROUPING</a>和<a href="GROUPING_ID.html#GUID-E20A5B8E-73B6-42FD-8AFB-DD3CD6D6DC61">GROUPING_ID</a>函数</p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130004"><span class="bold">分层查询示例</span></p>
                  <p>以下带有<code class="codeph">CONNECT</code> <code class="codeph">BY</code>子句的查询定义了一个层次关系，其中父行的<code class="codeph">employee_id</code>值等于子行的<code class="codeph">manager_id</code>值：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，employee_id，manager_id FROM employees CONNECT BY employee_id = manager_id ORDER BY last_name;</pre><p>在以下<code class="codeph">CONNECT</code> <code class="codeph">BY</code>子句中， <code class="codeph">PRIOR</code>运算符仅适用于<code class="codeph">employee_id</code>值。要评估此情况，数据库将评估父行的<code class="codeph">employee_id</code>值以及子行的<code class="codeph">manager_id</code> ， <code class="codeph">salary</code>和<code class="codeph">commission_pct</code>值：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，employee_id，manager_id FROM employees CONNECT BY PRIOR employee_id = manager_id AND salary&gt; commission_pct ORDER BY last_name;</pre><p>要限定为子行，行必须具有等于父行的<code class="codeph">employee_id</code>值的<code class="codeph">manager_id</code>值，并且其行必须具有大于其<code class="codeph">commission_pct</code>值的<code class="codeph">salary</code>值。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130020"><span class="bold">使用HAVING条件：示例</span></p>
                  <p>要返回最低工资低于5,000美元的每个部门的员工的最低和最高工资，请发出下一个声明：</p><pre class="oac_no_warn" dir="ltr">SELECT department_id，MIN（薪水），MAX（薪水）FROM employees GROUP BY department_id HAVING MIN（薪水）&lt;5000 ORDER BY department_id; DEPARTMENT_ID MIN（SALARY）MAX（SALARY）------------- ----------- ----------- 10 4400 4400 30 2500 11000 50 2100 8200 60 4200 9000</pre><p>以下示例在<code class="codeph">HAVING</code>子句中使用相关子查询，该子句从结果集中删除没有没有部门的经理和经理的任何部门：</p><pre class="oac_no_warn" dir="ltr">SELECT department_id，manager_id FROM employees GROUP BY department_id，manager_id HAVING（department_id，manager_id）IN（SELECT department_id，manager_id FROM employees x WHERE x.department_id = employees.department_id）ORDER BY department_id;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130036"><span class="bold">使用ORDER BY子句：示例</span></p>
                  <p>要从<code class="codeph">employees</code>选择所有采购员记录并按工资按降序排序结果，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees WHERE job_id ='PU_CLERK'ORDER BY薪水DESC;</pre><p>要从按升序部门编号排序的<code class="codeph">employees</code>选择信息，然后按降序工资选择，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，department_id，salary FROM employees ORDER BY department_id ASC，salary DESC，last_name;</pre><p>要选择与上一个<code class="codeph">SELECT</code>相同的信息并使用位置<code class="codeph">ORDER</code> <code class="codeph">BY</code>表示法，请发出以下语句，该语句按升序<code class="codeph">department_id</code>排序，然后降序<code class="codeph">salary</code> ，最后按字母顺序排列<code class="codeph">last_name</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，department_id，salary FROM employees ORDER BY 2 ASC，3 DESC，1;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171160"><span class="bold">MODEL子句：示例</span></p>
                  <p>下面创建的视图基于示例<code class="codeph">sh</code>架构，并由后面的示例使用。
                  </p><pre class="oac_no_warn" dir="ltr">创建或替换视图sales_view_ref AS SELECT country_name country，prod_name prod，calendar_year year，SUM（amount_sold）sale，COUNT（amount_sold）cnt FROM sales，times，customers，countries，products WHERE sales.time_id = times.time_id AND sales.prod_id = products.prod_id AND sales.cust_id = customers.cust_id AND customers.country_id = countries.country_id AND（customers.country_id = 52779 OR customers.country_id = 52776）AND（prod_name ='Standard Mouse'OR prod_name ='Mouse Pad'）GROUP BY country_name，prod_name，calendar_year; SELECT country，prod，year，sale FROM sales_view_ref ORDER BY country，prod，year;国家年销售---------- -----------------------------------  - ------- --------- France Mouse Pad 1998 2509.42 France Mouse Pad 1999 3678.69 France Mouse Pad 2000 3000.72 France Mouse Pad 2001 3269.09 France Standard Mouse 1998 2390.83 France Standard Mouse 1999 2280.45 France Standard Mouse 2000 1274.31法国标准鼠标2001 2164.54德国鼠标垫1998 5827.87德国鼠标垫1999 8346.44德国鼠标垫2000 7375.46德国鼠标垫2001 9535.08德国标准鼠标1998 7116.11德国标准鼠标1999 6263.14德国标准鼠标2000 2637.31德国标准鼠标2001 6456.13选择16行。
</pre><p>下一个示例从<code class="codeph">sales_view_ref</code>创建一个包含country，product，year和sales的列的多维数组。它也是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果存在包含2001年鼠标垫销售额的行，则将1999年和2000年鼠标垫的销售总额分配给2001年鼠标垫的销售额。</p>
                     </li>
                     <li>
                        <p>将2001年标准鼠标的销售额分配给2002年标准鼠标的销售额，如果不存在包含2002年标准鼠标销售额的行，则创建新行。</p>
                     </li>
                  </ul><pre class="oac_no_warn" dir="ltr">SELECT country，prod，year，s FROM sales_view_ref MODEL PARTITION BY（country）DIMENSION BY（prod，year）MEASURES（sale s）IGNORE NAV UNIQUE DIMULION RULES UPSERT序列订单（s [prod ='Mouse Pad'，year = 2001] = s ['Mouse Pad'，1999] + s ['Mouse Pad'，2000]，s ['Standard Mouse'，2002] = s ['Standard Mouse'，2001]）ORDER BY country，prod，year;国家年销售---------- -----------------------------------  - ------- --------- France Mouse Pad 1998 2509.42 France Mouse Pad 1999 3678.69 France Mouse Pad 2000 3000.72 France Mouse Pad 2001 6679.41 France Standard Mouse 1998 2390.83 France Standard Mouse 1999 2280.45 France Standard Mouse 2000 1274.31法国标准鼠标2001 2164.54法国标准鼠标2002 2164.54德国鼠标垫1998 5827.87德国鼠标垫1999 8346.44德国鼠标垫2000 7375.46德国鼠标垫2001 15721.9德国标准鼠标1998 7116.11德国标准鼠标1999 6263.14德国标准鼠标2000 2637.31德国标准鼠标2001 6456.13德国标准鼠标2002 6456.13选择了18行。
</pre><p>第一个规则使用<code class="codeph">UPDATE</code>行为，因为符号引用用于规则的左侧。存在由规则左侧表示的行，因此更新度量列。如果行不存在，则不会采取任何操作。
                  </p>
                  <p>第二个规则使用<code class="codeph">UPSERT</code>行为，因为在左侧使用位置引用并引用单个单元格。行不存在，因此插入新行并更新相关的度量列。如果行确实存在，那么度量列将会更新。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8418D42A-7107-426B-8482-6C5ABF3D15BF">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG021" target="_blank"><span class="italic">Oracle数据库数据仓库指南，</span></a>用于扩展讨论和示例</p>
                  </div>
                  <p>下一个示例使用相同的<code class="codeph">sales_view_ref</code>视图和分析函数<code class="codeph">SUM</code>来计算每个国家/地区和每年的销售累计总和（ <code class="codeph">csum</code> ）。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT country，year，sale，csum FROM（SELECT country，year，SUM（sale）sale FROM sales_view_ref GROUP BY country，year）MODEL DIMENSION BY（country，year）MEASURES（sale，0 csum）RULES（csum [any，any ] = SUM（销售）OVER（按国家/地区划分的年份按行进行无限制预订））按国家/地区年份排序;国家销售CSUM --------------- ---------- ---------- ----------法国1998 4900.25 4900.25法国1999 5959.14 10859.39法国2000 4275.03 15134.42法国2001 5433.63 20568.05德国1998 12943.98 12943.98德国1999 14609.58 27553.56德国2000 10012.77 37566.33德国2001 15991.21 53557.54选择8排。</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEAACC"><span class="bold">行限制：示例</span></p>
                  <p>以下语句返回<code class="codeph">employee_id</code>值最低的5名<code class="codeph">employee_id</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id，last_name FROM employees ORDER BY employee_id FETCH FIRST 5 ROWS ONLY; EMPLOYEE_ID LAST_NAME ----------- ------------------------- 100 King 101 Kochhar 102 De Haan 103 Hunold 104 Ernst</pre><p>以下语句返回具有最低<code class="codeph">employee_id</code>值的下5个员工：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id，last_name FROM employees ORDER BY employee_id OFFSET 5 ROWS FETCH NEXT 5 ROWS ONLY; EMPLOYEE_ID LAST_NAME ----------- ------------------------- 105 Austin 106 Pataballa 107 Lorentz 108 Greenberg 109 Faviet</pre><p>以下声明返回5％的薪水最低的员工：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id，last_name，salary FROM employees ORDER BY salary FETCH FIRST 5 PERCENT ROWS; EMPLOYEE_ID LAST_NAME SALARY ----------- ------------------------- ---------- 132 Olson 2100 128 Markle 2200 136 Philtanker 2200 127 Landry 2400 135 Gee 2400 119 Colmenares 2500</pre><p>由于指定了<code class="codeph">WITH</code> <code class="codeph">TIES</code> ，因此以下语句返回5％的薪水最低的员工，以及与上一示例中提取的最后一行具有相同薪水的所有其他员工：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id，last_name，salary FROM employees ORDER BY salary FETCH FIRST 5％RASSS WITH TIES; EMPLOYEE_ID LAST_NAME SALARY ----------- ------------------------- ---------- 132 Olson 2100 128 Markle 2200 136 Philtanker 2200 127 Landry 2400 135 Gee 2400 119 Colmenares 2500 131 Marlow 2500 140 Patel 2500 144 Vargas 2500 182 Sullivan 2500 191 Perkins 2500</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130052"><span class="bold">使用FOR UPDATE子句：示例</span></p>
                  <p>以下语句锁定<code class="codeph">employees</code>表中的行，其中的采购员位于Oxford，其<code class="codeph">location_id</code> 2500，并且在<code class="codeph">departments</code>表中锁定行，其中牛津的<code class="codeph">departments</code>具有采购员：</p><pre class="oac_no_warn" dir="ltr">SELECT e.employee_id，e.salary，e.commission_pct FROM employees e，departments d WHERE job_id ='SA_REP'AND e.department_id = d.department_id AND location_id = 2500 ORDER BY e.employee_id FOR UPDATE;</pre><p>以下语句仅锁定<code class="codeph">employees</code>表中的那些行以及位于Oxford的采购员。在<code class="codeph">departments</code>表中没有锁定任何行：</p><pre class="oac_no_warn" dir="ltr">SELECT e.employee_id，e.salary，e.commission_pct FROM employees e JOIN departments d USING（department_id）WHERE job_id ='SA_REP'AND location_id = 2500 ORDER BY e.employee_id FOR edate of e.salary;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066598"><span class="bold">使用WITH CHECK OPTION子句：示例</span></p>
                  <p>即使插入的第三个值违反了子查询<span class="italic"><code class="codeph">where_clause</code></span>的条件，以下语句也是合法的：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO（SELECT department_id，department_name，location_id FROM departments WHERE location_id &lt;2000）VALUES（9999，'Entertainment'，2500）;</pre><p>但是，以下语句是非法的，因为它包含<code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>子句：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO（SELECT department_id，department_name，location_id FROM departments WHERE location_id &lt;2000 WITH CHECK OPTION）VALUES（9999，'Entertainment'，2500）; *第2行的错误：ORA-01402：查看WITH CHECK OPTION where-clause违规</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDFIIDD"><span class="bold">使用PIVOT和UNPIVOT：示例</span><a id="d425579e9956" class="indexterm-anchor"></a><a id="d425579e9960" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">oe.orders</code>表包含有关下订单的时间（ <code class="codeph">order_date</code> ），放置方式（ <code class="codeph">order_mode</code> ）以及订单总量（ <code class="codeph">order_total</code> ）以及其他信息的信息。以下示例显示如何使用<code class="codeph">PIVOT</code>子句将<code class="codeph">order_mode</code>值转换为列，聚合<code class="codeph">order_total</code>中的<code class="codeph">order_total</code>数据，以按订单模式获取年度总计：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE pivot_table AS SELECT * FROM（SELECT EXTRACT（YEAR FROM order_date）year，order_mode，order_total FROM orders）PIVOT（SUM（order_total）FOR order_mode IN（'direct'AS Store，'online'AS Internet））; SELECT * FROM pivot_table ORDER BY year;年商店互联网---------- ---------- ---------- 2004 5546.6 2006 371895.5 100056.6 2007 1274078.8 1271019.5 2008 252108.3 393349.4</pre><p><code class="codeph">UNPIVOT</code>子句允许您旋转指定的列，以便输入列标题作为一个或多个描述符列的值输出，输入列值作为一个或多个度量列的值输出。下面的第一个查询显示默认情况下排除了空值。第二个查询显示您可以使用<code class="codeph">INCLUDE</code> <code class="codeph">NULLS</code>子句包含空值。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM pivot_table UNPIVOT（annual_total FOR order_mode IN（存储AS'直接'，互联网AS'在线'））ORDER BY year，order_mode;年订单_年_TOTAL ---------- ------ ------------ 2004直接5546.6 2006直接371895.5 2006在线100056.6 2007直接1274078.8 2007在线1271019.5 2008直接252108.3 2008在线393349.4选择了7行。SELECT * FROM pivot_table UNPIVOT INCLUDE NULLS（annual_total FOR order_mode IN（存储AS'直接'，互联网AS'在线'））ORDER BY year，order_mode;年订单_年_TOTAL ---------- ------ ------------ 2004直接5546.6 2004在线2006直接371895.5 2006在线100056.6 2007直接1274078.8 2007在线1271019.5 2008直接252108.3 2008在线393349.4选择了8行。</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066611"><span class="bold">使用连接查询：示例</span></p>
                  <p>以下示例显示了在查询中连接表的各种方法。在第一个示例中，等值连接返回每个员工的姓名和工作以及员工工作的部门的编号和名称：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，job_id，departments.department_id，department_name FROM employees，departments WHERE employees.department_id = departments.department_id ORDER BY last_name，job_id; LAST_NAME JOB_ID DEPARTMENT_ID DEPARTMENT_NAME ------------------- ---------- ------------- ---- ------------------ Abel SA_REP 80销售Ande SA_REP 80销售Atkinson ST_CLERK 50运输Austin IT_PROG 60 IT。 。 。
</pre><p>您必须使用联接来返回此数据，因为员工姓名和作业存储在与部门名称不同的表中。Oracle数据库根据此连接条件组合两个表的行：</p><pre class="oac_no_warn" dir="ltr">employees.department_id = departments.department_id</pre><p>以下equijoin返回所有销售经理的姓名，工作，部门编号和部门名称：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，job_id，departments.department_id，department_name FROM employees，departments WHERE employees.department_id = departments.department_id AND job_id ='SA_MAN'ORDER BY last_name; LAST_NAME JOB_ID DEPARTMENT_ID DEPARTMENT_NAME ------------------- ---------- ------------- ---- ------------------- Cambrault SA_MAN 80销售Errazuriz SA_MAN 80销售合作伙伴SA_MAN 80销售Russell SA_MAN 80销售Zlotkey SA_MAN 80销售</pre><p>此查询与前面的示例相同，只是它使用额外的<span class="italic"><code class="codeph">where_clause</code></span>条件仅返回<code class="codeph">job</code>值为“ <code class="codeph">SA_MAN</code> ”的行。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130078"><span class="bold">使用子查询：示例</span></p>
                  <p>要确定谁与员工' <code class="codeph">Lorentz</code> '在同一部门工作，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，department_id FROM employees WHERE department_id =（SELECT department_id FROM employees WHERE last_name ='Lorentz'）ORDER BY last_name，department_id;</pre><p>如果<code class="codeph">employees</code>表中的所有员工已经更改了工作 - 如果他们出现在<code class="codeph">job_history</code>表中 - 请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水=薪水* 1.1 WHERE employee_id IN（SELECT employee_id FROM job_history）;</pre><p>要创建<code class="codeph">departments</code>表<code class="codeph">new_departments</code>的第二个版本（仅包含原始表的三列），请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE new_departments（department_id，department_name，location_id）AS SELECT department_id，department_name，location_id FROM departments;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066652"><span class="bold">使用自联接：示例</span> 
                  </p>
                  <p>以下查询使用自联接返回每个员工的姓名以及员工经理的姓名。添加<code class="codeph">WHERE</code>子句以缩短输出。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT e1.last_name ||'适用于'|| e2.last_name“员工及其经理”来自员工e1，员工e2 WHERE e1.manager_id = e2.employee_id和e1.last_name LIKE'R％'ORDER BY e1.last_name;员工及其经理------------------------------- Rajs为Mourgos工作Raphaely为King Rogers工作为Kaufling Russell工作王</pre><p>此查询的连接条件使用样本表<code class="codeph">employees</code>的别名<code class="codeph">e1</code>和<code class="codeph">e2</code> ：</p><pre class="oac_no_warn" dir="ltr">e1.manager_id = e2.employee_id</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2107296"><span class="bold">使用外连接：示例</span></p>
                  <p>以下示例显示了分区外部联接如何填充行中的数据间隙，以便于分析函数规范和可靠的报表格式化。该示例首先创建要在连接中使用的小数据表：</p><pre class="oac_no_warn" dir="ltr">SELECT d.department_id，e.last_name FROM departments d LEFT OUTER JOIN employees e ON d.department_id = e.department_id ORDER BY d.department_id，e.last_name;</pre><p>熟悉传统Oracle数据库外连接语法的用户将以此形式识别相同的查询：</p><pre class="oac_no_warn" dir="ltr">SELECT d.department_id，e.last_name FROM departments d，employees e WHERE d.department_id = e.department_id（+）ORDER BY d.department_id，e.last_name;</pre><p>Oracle强烈建议您使用前一个示例中显示的更灵活的<code class="codeph">FROM</code>子句连接语法。
                  </p>
                  <p>左外连接返回所有部门，包括没有任何员工的部门。具有右外连接的相同语句将返回所有员工，包括尚未分配给部门的员工：</p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F5EA6579-E6D7-4289-BFA7-7659881532BE">
                     <p class="notep1">注意：</p>
                     <p>员工Zeuss已添加到employees表中以获取这些示例，而不是示例数据的一部分。</p>
                  </div><pre class="oac_no_warn" dir="ltr">SELECT d.department_id，e.last_name FROM departments d RIGHT OUTER JOIN employees e ON d.department_id = e.department_id ORDER BY d.department_id，e.last_name; DEPARTMENT_ID LAST_NAME ------------- -------------------------。 。 。110 Gietz 110 Higgins Grant Zeuss</pre><p>从这个结果不清楚员工Grant和Zeuss是否有<code class="codeph">department_id</code> <code class="codeph">NULL</code> ，或者他们的<code class="codeph">department_id</code>是否不在<code class="codeph">departments</code>表中。要确定这需要完整的外部联接：</p><pre class="oac_no_warn" dir="ltr">选择d.department_id为d_dept_id，e.department_id为e_dept_id，e.last_name FROM departments d FULL OUTER JOIN employees e ON d.department_id = e.department_id ORDER BY d.department_id，e.last_name; D_DEPT_ID E_DEPT_ID LAST_NAME ---------- ---------- -------------------------。 。 。110 110 Gietz 110 110希金斯。 。 。260 270 999 Zeuss Grant</pre><p>由于此示例中的列名在连接的两个表中都相同，因此您还可以通过指定连接语法的<code class="codeph">USING</code>子句来<code class="codeph">USING</code>公共列功能。输出与前面的示例相同，只是<code class="codeph">USING</code>子句将两个匹配的列<code class="codeph">department_id</code>合并为一个列输出：</p><pre class="oac_no_warn" dir="ltr">SELECT department_id AS d_e_dept_id，e.last_name FROM departments d FULL OUTER JOIN employees e USING（department_id）ORDER BY department_id，e.last_name; D_E_DEPT_ID LAST_NAME ----------- -------------------------。 。 。110希金斯110 Gietz。 。 。260 270 999 Zeuss Grant</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2177515"><span class="bold">使用分区外连接：示例</span></p>
                  <p>以下示例显示了分区外部联接如何填充行中的间隙，以便于分析计算规范和可靠的报告格式。该示例首先创建并填充要在连接中使用的简单表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE库存（time_id DATE，产品VARCHAR2（10），数量NUMBER）;插入库存价值（TO_DATE（'01 / 04/01'，'DD / MM / YY'），'瓶'，10）;插入库存价值（TO_DATE（'06 / 04/01'，'DD / MM / YY'），'瓶'，10）;插入库存价值（TO_DATE（'01 / 04/01'，'DD / MM / YY'），'can'，10）;插入库存价值（TO_DATE（'04 / 04/01'，'DD / MM / YY'），'can'，10）; SELECT times.time_id，product，quantity FROM inventory PARTITION BY（product）RIGHT OUTER JOIN times ON（times.time_id = inventory.time_id）WHERE times.time_id BETWEEN TO_DATE（'01 / 04/01'，'DD / MM / YY '）和TO_DATE（'06 / 04/01'，'DD / MM / YY'）订购2,1; TIME_ID PRODUCT QUANTITY --------- ---------- ---------- 01-APR-01瓶10 02-APR-01瓶03-APR-01瓶04-APR-01瓶05-APR-01瓶06-APR-01瓶10 01-APR-01罐10 02-APR-01罐03-APR-01罐04-APR-01罐10 05-APR- 01可以06-APR-01可以选择12行。
</pre><p>现在，数据在产品维度的每个分区的时间维度上更加密集。但是，每个分区中新添加的每个行在数量列中都为空。在时间顺序中查看由前面的非<code class="codeph">NULL</code>值替换的空值更有用。您可以通过在查询结果的顶部应用分析函数<code class="codeph">LAST_VALUE</code>来实现此<code class="codeph">LAST_VALUE</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT time_id，product，LAST_VALUE（数量IGNORE NULLS）OVER（PARTITION BY产品ORDER BY time_id）数量FROM（SELECT times.time_id，product，quantity FROM inventory PARTITION BY（product）RIGHT OUTER JOIN times ON（times.time_id = inventory。 time_id）WHERE times.time_id BETWEEN TO_DATE（'01 / 04/01'，'DD / MM / YY'）和TO_DATE（'06 / 04/01'，'DD / MM / YY'））订购2,1 ; TIME_ID PRODUCT QUANTITY --------- ---------- ---------- 01-APR-01 bottle 10 02-APR-01 bottle 10 03-APR- 01瓶10 04-APR-01瓶10 05-APR-01瓶10 06-APR-01瓶10 01-APR-01罐10 02-APR-01罐10 03-APR-01罐10 04-APR-01 10 05-APR-01可以10 06-APR-01可以选择10 12行。</pre><div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A1AAAF33-181D-4742-98B8-D14A21C4C44A">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG02013" target="_blank"><span class="italic">Oracle数据库数据仓库指南，</span></a>用于扩展关于填补时间序列计算中的差距和使用示例的讨论</p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182875"><span class="bold">使用Antijoins：示例</span></p>
                  <p>以下示例选择不在特定部门集中的员工列表：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees WHERE department_id NOT IN（SELECT department_id FROM departments WHERE location_id = 1700）ORDER BY last_name;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2166436"><span class="bold">使用Semijoins：示例</span></p>
                  <p>在以下示例中，只需要从<code class="codeph">departments</code>表返回一行，即使<code class="codeph">employees</code>表中的许多行可能与子查询匹配。如果没有在<code class="codeph">employees</code>的<code class="codeph">salary</code>列中定义索引，则可以使用半连接来提高查询性能。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM departments WHERE EXISTS（SELECT * FROM employees WHERE departments.department_id = employees.department_id AND employees.salary&gt; 2500）ORDER BY department_name;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDADCJ"><span class="bold">使用CROSS APPLY和OUTER APPLY连接：示例</span></p>
                  <p>以下语句使用<span class="italic"><code class="codeph">cross_outer_apply_clause</code></span>的<code class="codeph">CROSS</code> <code class="codeph">APPLY</code>子句。连接仅返回连接左侧表中的行（ <code class="codeph">departments</code> ），这些行从连接右侧的内联视图生成结果。也就是说，联接仅返回至少有一名员工的部门。<code class="codeph">WHERE</code>子句将结果集限制为仅包括Marketing，Operations和Public Relations部门。但是，操作部门不包含在结果集中，因为它没有员工。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT d.department_name，v.employee_id，v.last_name FROM departments d CROSS APPLY（SELECT * FROM employees e WHERE e.department_id = d.department_id）v WHERE d.department_name IN（'Marketing'，'Operations'，'Public Relations '）ORDER BY d.department_name，v.employee_id; DEPARTMENT_NAME EMPLOYEE_ID LAST_NAME ------------------------------ ----------- ------ -------------------营销201 Hartstein Marketing 202 Fay Public Relations 204 Baer</pre><p>以下语句使用<span class="italic"><code class="codeph">cross_outer_apply_clause</code></span>的<code class="codeph">OUTER</code> <code class="codeph">APPLY</code>子句。联接返回联接（ <code class="codeph">departments</code> ）左侧表中的所有行，无论它们是否从联接右侧的内联视图生成结果。也就是说，无论部门是否有任何员工，联接都会返回所有部门。<code class="codeph">WHERE</code>子句将结果集限制为仅包括Marketing，Operations和Public Relations部门。即使没有员工，操作部门也包含在结果集中。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT d.department_name，v.employee_id，v.last_name FROM departments d OUTER APPLY（SELECT * FROM employees e WHERE e.department_id = d.department_id）v WHERE d.department_name IN（'Marketing'，'Operations'，'Public Relations '）由d.department_name，v.employee_id订购; DEPARTMENT_NAME EMPLOYEE_ID LAST_NAME ------------------------------ ----------- ------ -------------------营销201 Hartstein Marketing 202 Fay Operations Public Relations 204 Baer</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDGIJ"><span class="bold">使用横向内联视图：示例</span></p>
                  <p>以下示例显示了具有两个操作数的连接。第二个操作数是一个内联视图，它指定<code class="codeph">WHERE</code>子句中的第一个操作数table <code class="codeph">e</code> 。这会导致错误。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e，（SELECT * FROM departments d WHERE e.department_id = d.department_id）; ORA-00904：“E”。“DEPARTMENT_ID”：标识符无效</pre><p>以下示例显示了具有两个操作数的连接。第二个操作数是横向内联视图，它指定<code class="codeph">WHERE</code>子句中的第一个操作数（表<code class="codeph">e</code> ，并且成功且没有错误。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e，LATERAL（SELECT * FROM departments d WHERE e.department_id = d.department_id）;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643"><span class="bold">表集合：示例</span></p>
                  <p>只有将嵌套表定义为表的列时，才能对嵌套表执行DML操作。因此，当<span class="italic"><code class="codeph">query_table_expr_clause</code></span>一个的<code class="codeph">INSERT</code> ， <code class="codeph">DELETE</code> ，或<code class="codeph">UPDATE</code>语句是一个<span class="italic"><code class="codeph">table_collection_expression</code></span> ，收集表达必须是使用的子查询<code class="codeph">TABLE</code>集合表达以选择表的嵌套表列。以下示例基于以下方案：</p>
                  <p>假设数据库包含一个表<code class="codeph">hr_info</code> ，其中包含<code class="codeph">department_id</code> ， <code class="codeph">location_id</code>和<code class="codeph">manager_id</code>列，以及一组嵌套表类型的<code class="codeph">people</code> ，其中包含每个相应经理的所有员工的<code class="codeph">last_name</code> ， <code class="codeph">department_id</code>和<code class="codeph">salary</code>列：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE people_typ AS OBJECT（last_name VARCHAR2（25），department_id NUMBER（4），salary NUMBER（8,2））; / CREATE TYPE people_tab_typ AS TABLE OF people_typ; / CREATE TABLE hr_info（department_id NUMBER（4），location_id NUMBER（4），manager_id NUMBER（6），people people_tab_typ）NESTED TABLE people STORE AS people_stor_tab; INSERT INTO hr_info VALUES（280,1800,999，people_tab_typ（））;</pre><p>以下示例插入到部门280的<code class="codeph">hr_info</code>表的<code class="codeph">people</code>嵌套表列中：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO TABLE（SELECT h.people FROM hr_info h WHERE h.department_id = 280）VALUES（'Smith'，280,1750）;</pre><p>下一个示例更新了部门280 <code class="codeph">people</code>嵌套表：</p><pre class="oac_no_warn" dir="ltr">UPDATE TABLE（SELECT h.people FROM hr_info h WHERE h.department_id = 280）p SET p.salary = p.salary + 100;</pre><p>下一个示例从部门280 <code class="codeph">people</code>嵌套表中删除：</p><pre class="oac_no_warn" dir="ltr">DELETE TABLE（SELECT h.people FROM hr_info h WHERE h.department_id = 280）p WHERE p.salary&gt; 1700;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071637"><a id="d425579e10339" class="indexterm-anchor"></a><a id="d425579e10345" class="indexterm-anchor"></a> <span class="bold">收集Unnesting：例子</span></p>
                  <p>要从嵌套表列中选择数据，请使用<code class="codeph">TABLE</code>集合表达式将嵌套表视为表的列。此过程称为<span class="bold">集合取消</span> 。
                  </p>
                  <p>你可以得到一切从行<code class="codeph">hr_info</code> ，这是在前面的例子中创建，所有从该行<code class="codeph">people</code>嵌套表列<code class="codeph">hr_info</code>使用下面的语句：</p><pre class="oac_no_warn" dir="ltr">SELECT t1.department_id，t2。* FROM hr_info t1，TABLE（t1.people）t2 WHERE t2.department_id = t1.department_id;</pre><p>现在假设<code class="codeph">people</code>不是<code class="codeph">hr_info</code>的嵌套表列，而是一个包含<code class="codeph">last_name</code> ， <code class="codeph">department_id</code> ， <code class="codeph">address</code> ， <code class="codeph">hiredate</code>和<code class="codeph">salary</code>列的单独表。您可以使用以下语句提取与前面示例中相同的行：</p><pre class="oac_no_warn" dir="ltr">SELECT t1.department_id，t2。* FROM hr_info t1，TABLE（CAST（MULTISET（SELECT t3.last_name，t3.department_id，t3.salary FROM people t3 WHERE t3.department_id = t1.department_id）AS people_tab_typ））t2;</pre><p>最后，假设<code class="codeph">people</code>既不是表<code class="codeph">hr_info</code>的嵌套表列，也不是表本身。相反，您创建了一个函数<code class="codeph">people_func</code> ，它从各种来源中提取所有员工的姓名，部门和薪水。您可以使用以下查询获得与前面示例中相同的信息：</p><pre class="oac_no_warn" dir="ltr">SELECT t1.department_id，t2。* FROM hr_info t1，TABLE（CAST（people_func（...）AS people_tab_typ））t2;</pre><div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-268BFAF8-611E-4ED4-88A3-ADFE346707C6">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../adobj/support-for-collection-data-types.html#ADOBJ00204" target="_blank"><span class="italic">Oracle数据库对象关系开发人员指南</span></a> ，了解更多集合取消的示例。
                     </p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130122"><span class="bold">使用LEVEL Pseudocolumn：示例</span></p>
                  <p>以下语句按层次结构顺序返回所有员工。根行定义为其作业为<code class="codeph">AD_VP</code>的员工。父行的子行被定义为具有父行的员工编号作为其管理员编号的那些行。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT LPAD（''，2 *（LEVEL-1））|| last_name org_chart，employee_id，manager_id，job_id FROM employees START WITH job_id ='AD_VP'CONNECT BY PRIOR employee_id = manager_id; ORG_CHART EMPLOYEE_ID MANAGER_ID JOB_ID ------------------ ----------- ---------- ------- --- Kochhar 101 100 AD_VP Greenberg 108 101 FI_MGR Faviet 109 108 FI_ACCOUNT Chen 110 108 FI_ACCOUNT Sciarra 111 108 FI_ACCOUNT Urman 112 108 FI_ACCOUNT Popp 113 108 FI_ACCOUNT Whalen 200 101 AD_ASST Mavris 203 101 HR_REP Baer 204 101 PR_REP Higgins 205 101 AC_MGR Gietz 206 205 AC_ACCOUNT De Haan 102 100 AD_VP Hunold 103 102 IT_PROG Ernst 104 103 IT_PROG Austin 105 103 IT_PROG Pataballa 106 103 IT_PROG Lorentz 107 103 IT_PROG</pre><p>以下语句与前一个语句类似，不同之处在于它不选择具有作业<code class="codeph">FI_MGR</code>员工。</p><pre class="oac_no_warn" dir="ltr">SELECT LPAD（''，2 *（LEVEL-1））|| last_name org_chart，employee_id，manager_id，job_id FROM employees WHERE job_id！='FI_MGR'START WITH job_id ='AD_VP'CONNECT BY PRIOR employee_id = manager_id; ORG_CHART EMPLOYEE_ID MANAGER_ID JOB_ID ------------------ ----------- ---------- ------- --- Kochhar 101 100 AD_VP Faviet 109 108 FI_ACCOUNT Chen 110 108 FI_ACCOUNT Sciarra 111 108 FI_ACCOUNT Urman 112 108 FI_ACCOUNT Popp 113 108 FI_ACCOUNT Whalen 200 101 AD_ASST Mavris 203 101 HR_REP Baer 204 101 PR_REP Higgins 205 101 AC_MGR Gietz 206 205 AC_ACCOUNT De Haan 102 100 AD_VP Hunold 103 102 IT_PROG Ernst 104 103 IT_PROG Austin 105 103 IT_PROG Pataballa 106 103 IT_PROG Lorentz 107 103 IT_PROG</pre><p>Oracle数据库不会返回经理<code class="codeph">Greenberg</code> ，尽管它确实返回了由<code class="codeph">Greenberg</code>管理的员工。
                  </p>
                  <p>以下语句与第一个语句类似，不同之处在于它使用<code class="codeph">LEVEL</code>伪列仅选择管理层次结构的前两个级别：</p><pre class="oac_no_warn" dir="ltr">SELECT LPAD（''，2 *（LEVEL-1））|| last_name org_chart，employee_id，manager_id，job_id FROM employees START WITH job_id ='AD_PRES'CONNECT BY PRIOR employee_id = manager_id AND LEVEL &lt;= 2; ORG_CHART EMPLOYEE_ID MANAGER_ID JOB_ID ------------------ ----------- ---------- ------- --- King 100 AD_PRES Kochhar 101 100 AD_VP De Haan 102 100 AD_VP Raphaely 114 100 PU_MAN Weiss 120 100 ST_MAN Fripp 121 100 ST_MAN Kaufling 122 100 ST_MAN Vollman 123 100 ST_MAN Mourgos 124 100 ST_MAN Russell 145 100 SA_MAN Partners 146 100 SA_MAN Errazuriz 147 100 SA_MAN Cambrault 148 100 SA_MAN Zlotkey 149 100 SA_MAN Hartstein 201 100 MK_MAN</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130133"><span class="bold">使用分布式查询：示例</span> 
                  </p>
                  <p>此示例显示将本地数据库上的<code class="codeph">departments</code>表与<code class="codeph">remote</code>数据库上的<code class="codeph">employees</code>表连接的查询：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，department_name FROM employees @ remote，departments WHERE employees.department_id = departments.department_id;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066912"><span class="bold">使用相关子查询：示例</span></p>
                  <p>以下示例显示了相关子查询的一般语法：</p><pre class="oac_no_warn" dir="ltr">SELECT <span class="italic">select_list中</span> FROM <span class="italic">表1</span> <span class="italic">t_alias1</span> WHERE <span class="italic">EXPR</span> <span class="italic">操作者</span> （SELECT <span class="italic">column_list中</span> FROM <span class="italic">表2</span> <span class="italic">t_alias2</span> WHERE <span class="italic">t_alias1</span> <span class="italic">列</span>运算符<span class="italic">t_alias2</span> <span class="italic">柱</span> ）; UPDATE <span class="italic">table1的</span> <span class="italic">t_alias1</span> SET <span class="italic">列</span> =（SELECT <span class="italic">EXPR</span> FROM <span class="italic">表2</span> <span class="italic">t_alias2</span> WHERE <span class="italic">t_alias1</span> <span class="italic">柱</span> = <span class="italic">t_alias2</span> <span class="italic">柱</span> ）; DELETE FROM <span class="italic">表1</span> <span class="italic">t_alias1</span> WHERE <span class="italic">列</span> <span class="italic">运算符</span> （SELECT <span class="italic">EXPR</span> FROM <span class="italic">表2</span> <span class="italic">t_alias2</span> WHERE <span class="italic">t_alias1</span> <span class="italic">柱</span> = <span class="italic">t_alias2</span> <span class="italic">柱</span> ）;</pre><p>以下语句返回有关工资超过其部门平均值的员工的数据。以下语句为<code class="codeph">employees</code>分配别名，该表包含工资信息，然后在相关子查询中使用别名：</p><pre class="oac_no_warn" dir="ltr">SELECT department_id，last_name，salary FROM employees x WHERE salary&gt;（SELECT AVG（salary）FROM employees WHERE x.department_id = department_id）ORDER BY department_id;</pre><p>对于<code class="codeph">employees</code>表的每一行，父查询使用相关子查询来计算同一部门成员的平均工资。相关子查询为<code class="codeph">employees</code>表的每一行执行以下步骤：</p>
                  <ol>
                     <li>
                        <p>行的<code class="codeph">department_id</code>已确定。
                        </p>
                     </li>
                     <li>
                        <p>然后， <code class="codeph">department_id</code>用于评估父查询。
                        </p>
                     </li>
                     <li>
                        <p>如果该行中的工资大于该行的部门的平均工资，则返回该行。</p>
                     </li>
                  </ol>
                  <p>对<code class="codeph">employees</code>表的每一行评估子查询一次。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130183"><span class="bold">从DUAL表中选择：示例</span></p>
                  <p>以下语句返回当前日期：</p><pre class="oac_no_warn" dir="ltr">SELECT SYSDATE FROM DUAL;</pre><p>您可以从<code class="codeph">employees</code>表中选择<code class="codeph">SYSDATE</code> ，但数据库将返回相同<code class="codeph">SYSDATE</code> 14行，一行代表<code class="codeph">employees</code>表的每一行。从<code class="codeph">DUAL</code>选择更方便。
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130199"><span class="bold">选择序列值：示例</span></p>
                  <p>以下语句递增<code class="codeph">employees_seq</code>序列并返回新值：</p><pre class="oac_no_warn" dir="ltr">SELECT employees_seq.nextval FROM DUAL;</pre><p>以下语句选择<code class="codeph">employees_seq</code>的当前值：</p><pre class="oac_no_warn" dir="ltr">SELECT employees_seq.currval FROM DUAL;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHHDD"><span class="bold">行模式匹配：示例</span></p>
                  <p>此示例使用行模式匹配来查询股票价格数据。以下语句创建表格<code class="codeph">Ticker</code>并将股票价格数据插入表格中：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE Ticker（SYMBOL VARCHAR2（10），tstamp DATE，price NUMBER）;插入代码价值（'ACME'，'01 -Apr-11'，12）;插入代码价值（'ACME'，'02 -Apr-11'，17）;插入代码值（'ACME'，'03 -Apr-11'，19）;插入代码价值（'ACME'，'04 -Apr-11'，21）;插入代码价值（'ACME'，'05 -Apr-11'，25）;插入代码价值（'ACME'，'06 -Apr-11'，12）;插入代码价值（'ACME'，'07 -Apr-11'，15）;插入代码价值（'ACME'，'08 -Apr-11'，20）;插入代码价值（'ACME'，'09 -Apr-11'，24）;插入代码价值（'ACME'，'10 -Apr-11'，25）;插入代码价值（'ACME'，'11 -Apr-11'，19）;插入代码价值（'ACME'，'12 -Apr-11'，15）;插入代码价值（'ACME'，'13 -Apr-11'，25）;插入代码价值（'ACME'，'14 -Apr-11'，25）;插入代码价值（'ACME'，'15 -Apr-11'，14）;插入代码价值（'ACME'，'16 -Apr-11'，12）;插入代码价值（'ACME'，'17 -Apr-11'，14）;插入代码价值（'ACME'，'18 -Apr-11'，24）;插入代码价值（'ACME'，'19 -Apr-11'，23）;插入代码价值（'ACME'，'20 -Apr-11'，22）;</pre><p>以下查询使用行模式匹配来查找股票价格跌至最低价格然后上涨的所有情况。这通常称为V形。输出的结果只包含三行，因为查询指定<code class="codeph">ONE</code> <code class="codeph">ROW</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code> ，并发现了三场比赛。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM Ticker MATCH_RECOGNIZE（PARTITION BY符号ORDER BY tstamp MEASURES STRT.tstamp AS start_tstamp，LAST（DOWN.tstamp）AS bottom_tstamp，LAST（UP.tstamp）AS end_tstamp在匹配跳到最后一个模式后匹配一行（STRT DOWN + UP +）DEFINE DOWN DOWN.price &lt;PREV（DOWN.price），UP AS UP.price&gt; PREV（UP.price））MR ORDER BY MR.symbol，MR.start_tstamp; SYMBOL START_TST BOTTOM_TS END_TSTAM ---------- --------- --------- --------- ACME 05-APR-11 06-APR -11 10-APR-11 ACME 10-APR-11 12-APR-11 13-APR-11 ACME 14-APR-11 16-APR-11 18-APR-11</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>