<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The map visualization component supports the rendering of data delivered using the Open GIS Consortium (OGC) Web Map Tile Service (WMTS) protocol, specifically the WMS 1.0.0 implementation specifications"></meta>
      <meta name="description" content="The map visualization component supports the rendering of data delivered using the Open GIS Consortium (OGC) Web Map Tile Service (WMTS) protocol, specifically the WMS 1.0.0 implementation specifications"></meta>
      <title>地图可视化组件中的OGC WMTS支持</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Map Visualization Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The map visualization component supports the rendering of data delivered using the Open GIS Consortium (OGC) Web Map Tile Service (WMTS) protocol, specifically the WMS 1.0.0 implementation specifications"></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Map Visualization Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-map-visualization-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T11:37:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94797-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ogc-wms-support-map-visualzation-component.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JIMPV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ogc-wms-support-map-visualzation-component.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">地图可视化开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">地图可视化组件中的OGC WMTS支持</li>
            </ol>
            <a id="GUID-FD2428ED-0400-4D11-83F4-9AB59FE766C9" name="GUID-FD2428ED-0400-4D11-83F4-9AB59FE766C9"></a><a id="JIMPV10023"></a>
            
            <h2 id="JIMPV-GUID-FD2428ED-0400-4D11-83F4-9AB59FE766C9" class="sect2">地图可视化组件中的<span class="enumeration_chapter">D</span> OGC WMTS支持</h2>
         </header>
         <div class="ind">
            <div>
               <p>地图可视化组件支持使用Open GIS Consortium（OGC）Web Map Tile Service（WMTS）协议（特别是WMS 1.0.0实现规范）提供的数据呈现</p>
               <p><a id="d35461e23" class="indexterm-anchor"></a><a id="d35461e27" class="indexterm-anchor"></a><a id="d35461e31" class="indexterm-anchor"></a><a id="d35461e33" class="indexterm-anchor"></a>地图可视化组件支持OGC文档07-057r7中定义的GetCapabilities，GetTile和GetFeatureInfo请求。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594">MapViewer的WMTS服务</a><br>MapViewer中的Web地图平铺服务（WMTS）服务是通过其WMTS服务器提供的，该服务器构建在MapViewer的地图缓存服务器上。
                  </li>
                  <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-AEE38431-D516-4633-845F-FDC94E49FE25">WMTS运营</a><br>MapViewer支持OGC WMTS 1.0.0标准中指定的GetCapabilities，GetTile和GetFeatureInfo操作。
                  </li>
                  <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-68711001-46A1-4A6F-AA03-7876CE960950">为MapViewer准备WMTS服务</a><br>要准备使用MapViewer的WMTS服务，请按照以下主要步骤操作：</li>
               </ul>
            </div>
            <a id="JIMPV10025"></a><a id="JIMPV10026"></a><a id="JIMPV10024"></a><div class="props_rev_3"><a id="GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594" name="GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594"></a><h3 id="JIMPV-GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594" class="sect3"><span class="enumeration_section">D.1</span> MapViewer的WMTS服务</h3>
               <div>
                  <p>MapViewer中的Web地图平铺服务（WMTS）服务是通过其WMTS服务器提供的，该服务器构建在MapViewer的地图缓存服务器上。</p>
                  <p>也就是说，此WMTS服务器将客户端的WMTS请求委托给MapViewer的地图缓存服务器。支持OGC操作GetCapabilities，GetTile和GetFeatureInfo。GetCapabilities和GetTile操作支持两种编码，KVP和REST，但对于GetFeatureInfo操作，仅支持KVP编码。对于GetFeatureInfo请求，响应以三种格式之一编码（使用<code class="codeph">infoformat</code>属性指定）：text / xml，text / html和application / json。
                  </p>
                  <p>通常，MapViewer中的所有地图缓存切片图层都可以通过其WMTS服务进行访问。您可以通过编辑存储在与<code class="codeph">mapViewerConfig.xml</code>文件相同的文件夹中的WMTS服务策略文件<code class="codeph">wmtsConfig.xml,</code>定义每个地图缓存切片图层的可访问性。在WMTS服务策略文件中，您可以通过仅在MapViewer服务器中发布所有地图缓存切片图层的子集来限制MapViewer的WMTS服务（有关详细信息，请参阅<a href="introduction-to-map-visualization-component.html#GUID-AD01DA31-9656-4F68-A4A8-34C41D443D41">自定义WMTS GetCapabilities响应</a> ）。
                  </p>
                  <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHHJBDA">示例D-1</a>和<a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHFAEBJ">示例D-2</a>显示了如何使用策略文件将切片图层发布到MapViewer的WMTS服务器。第一个示例显示指定切片图层的策略文件，第二个示例显示切片图层定义。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHHJBDA">示例D-1</a>是WMTS策略文件。在此文件中，数据源MVDEMO中只有一个名为TEST_TL的地图缓存切片图层将发布到MapViewer的WMTS服务。此策略文件还可能包含服务提供商相关信息。
                        </p>
                     </li>
                     <li>
                        <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHFAEBJ">示例D-2</a>是数据源MVDEMO的模式中的TEST_TL瓦片层的地图瓦片层定义。</p>
                     </li>
                  </ul>
                  <p>无论MapViewer服务器中是否有其他数据源，或指定数据源中是否有其他地图缓存切片图层，如果在<a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHHJBDA">示例D-1中</a>指定了策略文件，则唯一发布的WMTS图层是地图缓存切片图层TEST_TL in数据源MVDEMO（如<a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHFAEBJ">例D-2所示</a> ）。
                  </p>
                  <div class="example" id="GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHHJBDA">
                     <p class="titleinexample">示例D-1 WMTS策略文件（wmtConfig.xml）</p><pre class="oac_no_warn" dir="ltr">&lt;wmts_config&gt; &lt;public_datasources&gt; &lt;public_datasource name =“MVDEMO”&gt; &lt;tile_layers&gt; <span class="bold">&lt;tile_layer name =“TEST_TL”/&gt;</span> &lt;/ tile_layers&gt; &lt;/ public_datasource&gt; &lt;/ public_datasources&gt; &lt;ServiceAttributes&gt; &lt;ServiceIdentification&gt; &lt;Title&gt; Web Map Tile服务myCorp &lt;/ Title&gt; &lt;Abstract&gt;美国地图，用于州和县界，高速公路网和大城市。&lt;/ Abstract&gt; &lt;Keywords&gt; &lt;Keyword&gt; Maps &lt;/ Keyword&gt; &lt;Keyword&gt;美国州，县界&lt;/关键字&gt; &lt;关键字&gt;美国州际高速公路&lt;/关键字&gt; &lt;关键字&gt;美国城市&lt;/关键字&gt; &lt;/关键字&gt; &lt;费用&gt;无&lt;/费用&gt; &lt;AccessConstraints&gt;无&lt;/ AccessConstraints&gt; &lt;/ ServiceIdentification&gt; &lt;ServiceProvider&gt; &lt;ProviderName &gt;提供商名称&lt;/ ProviderName&gt; &lt;ProviderSite url =“http://www.myCorp.com/mySite”/&gt; &lt;ServiceContact&gt; &lt;IndividualName&gt;我的名字&lt;/ IndividualName&gt; &lt;PositionName&gt;技术支持专家&lt;/ PositionName&gt; &lt;ContactInfo &gt; &lt;电话&gt; &lt;语音&gt; +1 800 321 1234 &lt;/语音&gt; &lt;传真&gt; +1 800 321 1235 &lt;/传真&gt; &lt;/电话&gt; &lt;地址&gt; &lt;DeliveryPoint&gt; 123 My Street &lt;/ DeliveryPoint&gt; &lt;城市&gt;纳舒厄&lt;/ City&gt; &lt;AdministrativeArea&gt;新罕布什尔州&lt;/ AdministrativeArea&gt; &lt;PostalCode&gt; 12345-4321 &lt;/ PostalCode&gt; &lt;Country&gt; US &lt;/ Country&gt; &lt;ElectronicMailAddress&gt; myname@mycompany.com &lt;/ ElectronicMailAddress&gt; &lt;/ Address&gt; &lt; / ContactInfo&gt; &lt;/ ServiceContact&gt; &lt;/ ServiceProvider&gt; &lt;/ ServiceAttributes&gt; &lt;/ wmts_config&gt;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHFAEBJ">
                     <p class="titleinexample">示例D-2数据源中的图块层定义</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从user_sdo_cached_maps中选择定义，其中name ='TEST_TL'; DEFINITION ------------------------------------------------- ------------------------------- &lt; <span class="bold">map_tile_layer name =“TEST_TL”</span> image_format =“PNG”http_header_expires =“168.0”concurrent_fetching_threads = “3”&gt; &lt;internal_map_source base_map =“DEMO_MAP”data_source =“MVDEMO”/&gt; &lt;coordinate_system srid =“8307”minX =“ -  180”maxX =“180”minY =“ -  90”maxY =“90”/&gt; &lt; tile_image width =“256”height =“256”/&gt; &lt;tile_dpi value =“90.7142857”/&gt; &lt;tile_meters_per_unit value =“111319.49079327358”/&gt; &lt;zoom_levels levels =“19”min_scale =“2132.729583849784”max_scale =“559082264.0287178”&gt; &lt; zoom_level tile_width =“360.0000”tile_height =“360.0000”scale =“5.590822640287178E8”/&gt; &lt;zoom_level tile_width =“180.0000”tile_height =“180.0000”scale =“2.795411320143589E8”/&gt; &lt;zoom_level tile_width =“90.0000”tile_height =“90.00000 “scale =”1.3977056600717944E8“/&gt; &lt;zoom_level tile_width =”45.0000“tile_height =”45.00000“scale =”6.988528300358972E7“/&gt; &lt;zoom_level tile_width =”22.5000“tile_height =”22.50000“scale =”3.494264150179486E7“/&gt; &lt; zoom_level直到e_width =“11.2500”tile_height =“11.25000”scale =“1.747132075089743E7”/&gt; &lt;zoom_level tile_width =“5.6250”tile_height =“5.62500”scale =“8735660.375448715”/&gt; &lt;zoom_level tile_width =“2.8125”tile_height =“2.81250”scale =“4367830.1877243575”/&gt; &lt;zoom_level tile_width =“1.40625”tile_height =“1.40625”scale =“2183915.0938621787”/&gt; &lt;zoom_level tile_width =“0.703125”tile_height =“0.703125”scale =“1091957.5469310894”/&gt; &lt;zoom_level tile_width =“0.3515625 “tile_height =”0.3515625“scale =”545978.7734655447“/&gt; &lt;zoom_level tile_width =”0.17578125“tile_height =”0.17578125“scale =”272989.38673277234“/&gt; &lt;zoom_level tile_width =”0.087890625“tile_height =”0.087890625“scale =”136494.693366386“/ &gt; &lt;zoom_level tile_width =“0.0439453125”tile_height =“0.0439453125”scale =“68247.34668319”/&gt; &lt;zoom_level tile_width =“0.02197265625”tile_height =“0.02197265625”scale =“34123.6733415”/&gt; &lt;zoom_level tile_width =“0.010986328126”tile_height =“0.010986328126 “scale =”17061.8366707“/&gt; &lt;zoom_level tile_width =”0.0054931640633“tile_height = “0.0054931640633”scale =“8530.91833539”/&gt; &lt;zoom_level tile_width =“0.00274658203168”tile_height =“0.00274658203168”scale =“4265.45916769”/&gt; &lt;zoom_level tile_width =“0.001373291015841”tile_height =“0.001373291015841”scale =“2132.72958384”/&gt; &lt;/ zoom_levels&gt; &lt;/ map_tile_layer&gt;</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-FD2428ED-0400-4D11-83F4-9AB59FE766C9" title="地图可视化组件支持使用Open GIS Consortium（OGC）Web Map Tile Service（WMTS）协议（特别是WMS 1.0.0实现规范）提供的数据呈现">Map Visualization组件中的OGC WMTS支持</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="JIMPV10027"></a><div class="props_rev_3"><a id="GUID-AEE38431-D516-4633-845F-FDC94E49FE25" name="GUID-AEE38431-D516-4633-845F-FDC94E49FE25"></a><h3 id="JIMPV-GUID-AEE38431-D516-4633-845F-FDC94E49FE25" class="sect3"><span class="enumeration_section">D.2</span> WMTS操作</h3>
               <div>
                  <p>MapViewer支持OGC WMTS 1.0.0标准中指定的GetCapabilities，GetTile和GetFeatureInfo操作。</p>
                  <p>它还支持一些特定于MapViewer的参数，这些参数未在该标准中定义，但它使MapViewer中的WMTS操作更加灵活。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB">GetCapabilities运营支持</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-D24179BE-4E27-44FE-912F-414F193AC06B">GetTile操作支持</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-484B130F-5B55-4A2F-9797-5142264F6BA6">GetFeatureInfo操作支持</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-FD2428ED-0400-4D11-83F4-9AB59FE766C9" title="地图可视化组件支持使用Open GIS Consortium（OGC）Web Map Tile Service（WMTS）协议（特别是WMS 1.0.0实现规范）提供的数据呈现">Map Visualization组件中的OGC WMTS支持</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV10029"></a><a id="JIMPV10030"></a><a id="JIMPV10028"></a><div class="props_rev_3"><a id="GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB" name="GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB"></a><h4 id="JIMPV-GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB" class="sect4"><span class="enumeration_section">D.2.1</span> GetCapabilities操作支持</h4>
                  <div>
                     <p>当MapViewer服务器收到WMTS GetCapabilities请求时，其WMTS服务器会根据OGC WMTS规范将可用地图缓存切片图层的定义转换为XML文档。（可访问的缓存切片图层由<code class="codeph">wmtsConfig.xml</code>策略文件定义（如果存在）;否则，将使用WMTS服务器可用的所有数据源中的所有地图缓存切片图层。）然后将XML文档返回给客户端。在此返回的XML文档中，提供了有关服务提供程序的信息（如果在<code class="codeph">wmtsConfig.xml</code>策略文件中指定）。
                     </p>
                     <p>本主题包括KVP编码中的GetCapabilities请求及其响应，以及REST编码中的GetCapabilities请求及其响应。无论请求是采用KVP还是REST编码，基本URL必须采用以下格式：</p><pre class="oac_no_warn" dir="ltr">http：// <span class="italic">&lt;host&gt;：&lt;port&gt;</span> / mapviewer / wmts</pre><p>其中<span class="italic">&lt;host&gt;</span>和<span class="italic">&lt;port&gt;</span>指的是MapViewer服务器的主机和HTTP端口。context path <code class="codeph">/mapviewer/wmts</code>是指<code class="codeph">/mapviewer/wmts</code>的WMTS接口。
                     </p>
                     <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB__CIHHABHJ">示例D-3</a>是来自KVP编码中的以下示例GetCapabilities请求的响应：</p><pre class="oac_no_warn" dir="ltr">HTTP：//本地主机：8088 /的MapViewer / WMTS REQUEST =获得性能＆SERVICE = WMTS＆VERSION = 1.0.0</pre><p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB__CIHEADAB">示例D-4</a>是REST编码中以下示例GetCapabilities请求的响应：</p><pre class="oac_no_warn" dir="ltr">HTTP：//本地主机：8088 /服务器MapViewer / WMTS / 1.0.0 / WMTSCapabilities.xml</pre><p>在<a href="ogc-wmts-support-map-visualzation-component.html#GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB__CIHHABHJ">示例D-3</a>和<a href="ogc-wmts-support-map-visualzation-component.html#GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB__CIHEADAB">示例D-4中</a> ， <code class="codeph">&lt;ows:Value&gt;</code>元素的粗体文本显示了请求在不同编码时的响应差异。（要使用的编码是特定于应用程序的首选项。）在这些示例响应中，GetTile操作以与GetCapabilities请求的编码相同的编码给出，但GetFeatureInfo操作始终采用KVP编码。
                     </p>
                     <p>使用MapViewer WMTS服务器，使用两种编码之间没有显着的性能差异。</p>
                     <div class="example" id="GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB__CIHHABHJ">
                        <p class="titleinexample">示例D-3 KVP编码中来自GetCapabilities请求的响应</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;Capabilities xmlns =“http://www.opengis.net/wmts/1.0”xmlns：ows =“http://www.opengis.net/ows/1.1”xmlns：xlink =“http：// www。 w3.org/1999/xlink“xmlns：xsi =”http://www.w3.org/2001/XMLSchema-instance“xmlns：gml =”http://www.opengis.net/gml“xsi：schemaLocation = “http://www.opengis.net/wmts/1.0 http://schemas.opengis.net/wmts/1.0/wmtsGetCapabilities_response.xsd”version =“1.0.0”&gt; &lt;ows：ServiceIdentification&gt; &lt;ows：Title&gt; myCorp的Web地图平铺服务&lt;/ ows：标题&gt; &lt;ows：Abstract&gt;州和县界，高速公路网和大城市的美国地图。&lt;/ ows：Abstract&gt; &lt;ows：Keywords&gt; &lt;ows：Keyword&gt; Maps &lt; / ows：关键字&gt; &lt;ows：关键字&gt;美国州和县界限&lt;/ ows：关键字&gt; &lt;ows：关键字&gt;美国州际高速公路&lt;/ ows：关键字&gt; &lt;ows：关键字&gt;美国城市&lt;/ ows：关键字&gt; &lt;/ ows：关键字&gt; &lt;ows：ServiceType&gt; OGC WMTS &lt;/ ows：ServiceType&gt; &lt;ows：ServiceTypeVersion&gt; 1.0.0 &lt;/ ows：ServiceTypeVersion&gt; &lt;ows：费用&gt;无&lt;/ ows：费用&gt; &lt;ows：AccessConstraints&gt; none &lt; / ows：AccessConstraints&gt; &lt;/ ows：ServiceIdentification&gt; &lt;ows：ServiceProvider&gt; &lt;ows ：ProviderName&gt;提供者名称&lt;/ ows：ProviderName&gt; &lt;ows：ProviderSite xlink：href =“http://www.myCorp.com/mySite”/&gt; &lt;ows：ServiceContact&gt; &lt;ows：PositionName&gt;技术支持专家&lt;/ ows ：PositionName&gt; &lt;ows：ContactInfo&gt; &lt;ows：Phone&gt; &lt;ows：Voice&gt; +1 800 321 1234 &lt;/ ows：Voice&gt; &lt;ows：Facsimile&gt; +1 800 321 1235 &lt;/ ows：传真&gt; &lt;/ ows：Phone &gt; &lt;ows：地址&gt; &lt;ows：DeliveryPoint&gt; 123 My Street &lt;/ ows：DeliveryPoint&gt; &lt;ows：City&gt; Nashua &lt;/ ows：City&gt; &lt;ows：AdministrativeArea&gt; New Hampshire &lt;/ ows：AdministrativeArea&gt; &lt;ows：PostalCode&gt; 12345-4321 &lt;/ ows：PostalCode&gt; &lt;ows：Country&gt; US &lt;/ ows：Country&gt; &lt;ows：ElectronicMailAddress&gt; myname@mycompany.com &lt;/ ows：ElectronicMailAddress&gt; &lt;/ ows：Address&gt; &lt;/ ows：ContactInfo&gt; &lt; / ows：ServiceContact&gt; &lt;/ ows：ServiceProvider&gt; &lt;ows：OperationsMetadata&gt; &lt;ows：Operation name =“GetCapabilities”&gt; &lt;ows：DCP&gt; &lt;ows：HTTP&gt; &lt;ows：Get xlink：href =“http：// localhost ：8088 / mapviewer / wmts？“&gt; &lt;ows：Constraint name =”GetEncoding“&gt; &lt;ows：AllowedValues&gt; <span class="bold">&lt;ows：Value&gt; KVP &lt;/ ows：Value&gt;</span> &lt;/ ows：AllowedValues&gt; &lt;/ ows：Constraint&gt; &lt;/ ows：获取&gt; &lt;/ ows： HTTP&gt; &lt;/ ows：DCP&gt; &lt;/ ows：操作&gt; &lt;ows：操作名称=“GetTile”&gt; &lt;ows：DCP&gt; &lt;ows：HTTP&gt; &lt;ows：获取xlink：href =“http：// localhost：8088 / mapviewer / wmts？“&gt; &lt;ows：Constraint name =”GetEncoding“&gt; &lt;ows：AllowedValues&gt; <span class="bold">&lt;ows：Value&gt; KVP &lt;/ ows：Value&gt;</span> &lt;/ ows：AllowedValues&gt; &lt;/ ows：Constraint&gt; &lt;/ ows：获取&gt; &lt;/ ows：HTTP&gt; &lt;/ ows：DCP&gt; &lt;/ ows：操作&gt; &lt;ows：操作名称=“GetFeatureInfo”&gt; &lt;ows：DCP&gt; &lt;ows：HTTP&gt; &lt;ows：获取xlink：href =“http ：// localhost：8088 / mapviewer / wmts？“&gt; &lt;ows：Constraint name =”GetEncoding“&gt; &lt;ows：AllowedValues&gt; <span class="bold">&lt;ows：Value&gt; KVP &lt;/ ows：Value&gt;</span> &lt;/ ows：AllowedValues&gt; &lt;/ ows：约束&gt; &lt;/ ows：Get&gt; &lt;/ ows：HTTP&gt; &lt;/ ows：DCP&gt; &lt;/ ows：Operation&gt; &lt;/ ows：OperationsMetadata&gt; &lt;Contents&gt; &lt;Layer&gt; &lt;ows：Title&gt; TEST_TL &lt;/ ows：Title&gt; &lt;ows：Abstract&gt; datasource：MVDEMO，layer：TEST_TL &lt;/ ows：Abstract&gt; &lt;ows：WGS84BoundingBox&gt; &lt;ows：LowerCorner&gt; -180.0 -90.0 &lt;/ ows：LowerCorner&gt; &lt;ows：UpperCorner&gt; 180.0 90.0 &lt;/ ows：UpperCorner &gt; &lt;/ ows：WGS84BoundingBox&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL &lt;/ ows：Identifier&gt; &lt;Style isDefault =“true”&gt; &lt;ows：Identifier&gt; _null &lt;/ ows：Identifie r&gt; &lt;/ Style&gt; &lt;Format&gt; image / png &lt;/ Format&gt; &lt;TileMatrixSetLink&gt; &lt;TileMatrixSet&gt; MVDEMO：TEST_TL：EPSG：4326 &lt;/ TileMatrixSet&gt; &lt;TileMatrixSetLimits&gt; &lt;TileMatrixLimits&gt;。 。 。 。 。 。 &lt;！ - 省略以节省空间 - &gt; &lt;TileMatrixLimits&gt; &lt;TileMatrix&gt; MVDEMO：TEST_TL：EPSG：4326：8 &lt;/ TileMatrix&gt; &lt;MinTileRow&gt; 0 &lt;/ MinTileRow&gt; &lt;MaxTileRow&gt; 128 &lt;/ MaxTileRow&gt; &lt;MinTileCol&gt; 0 &lt;/ MinTileCol&gt; &lt;MaxTileCol&gt; 256 &lt;/ MaxTileCol&gt; &lt;/ TileMatrixLimits&gt;。 。 。 。 。 。 &lt;！ - 省略以节省空间 - &gt; &lt;/ TileMatrixSetLimits&gt; &lt;/ TileMatrixSetLink&gt; &lt;/ Layer&gt; &lt;TileMatrixSet&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326 &lt;/ ows：Identifier&gt; &lt;ows：SupportedCRS&gt; urn ：ogc：def：crs：EPSG：4326 &lt;/ ows：SupportedCRS&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：0 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 5.590822641167623E8 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner &gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 2 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 2 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：标识符&gt; MVDEMO：TEST_TL：EPSG：4326：1 &lt;/ ows：标识符&gt; &lt;ScaleDenominator&gt; 2.7954113205838114E8 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 3 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 2 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：2 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 1.3977056602919057E8 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner &gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 5 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 3 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG ：4326：3 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 6.988528301459529E7 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 9 &lt; / MatrixWidth&gt; &lt;MatrixHeight&gt; 5 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：4 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 3.494264150729764E7 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 17 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 9 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier &gt; MVDEMO：TEST_TL：EPSG：4326：5 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 1.747132075364882E7 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight &gt; &lt;MatrixWidth&gt; 33 &lt;/ MatrixWidth&gt; &lt;M atrixHeight&gt; 17 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：6 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 8735660.37682441 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 65 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 33 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL： EPSG：4326：7 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 4367830.188412205 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 129 &lt; / MatrixWidth&gt; &lt;MatrixHeight&gt; 65 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：8 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 2183915.0942061027 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt;  - 180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 257 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 129 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL： EPSG：4326：9 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 1091957.5471030513 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 513 &lt; / MatrixWidth&gt; &lt;MatrixHeight&gt; 257 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：10 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 545978.7735515257 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt;  - 180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 1025 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 513 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：11 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 272989.38677576283 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt; MatrixWidth&gt; 2049 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 1025 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：12 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 136494.69338788142 &lt;/ ScaleDenom inator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 4097 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 2049 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix &gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：13 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 68247.34669394071 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 8193 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 4097 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：14 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator &gt; 34123.673346970354 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 16385 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 8193 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：15 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 17061.836673485177 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWi dth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 32769 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 16385 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：16 &lt;/ ows ：Identifier&gt; &lt;ScaleDenominator&gt; 8530.918336742589 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 65537 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 32769 &lt; / MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326：17 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 4265.459168371294 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth &gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 131073 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 65537 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;TileMatrix&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326： 18 &lt;/ ows：Identifier&gt; &lt;ScaleDenominator&gt; 2132.729584185647 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt;/ TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 262145 &lt;/ MatrixWidth&gt; &lt; MatrixHeight&gt; 131073 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt; &lt;/ TileMatrixSet&gt; &lt;/ Contents&gt; &lt;ServiceMetadataURL xlink：href =“http：// localhost：8088 / mapviewer / wmts？SERVICE = WMTS＆amp; VERSION = 1.0.0＆amp; REQUEST = getCapabilities“/&gt; &lt;/ Capabilities&gt;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB__CIHEADAB">
                        <p class="titleinexample">示例D-4 REST编码中来自GetCapabilities请求的响应</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;Capabilities xmlns =“http://www.opengis.net/wmts/1.0”xmlns：ows =“http://www.opengis.net/ows/1.1”xmlns：xlink =“http：// www。 w3.org/1999/xlink“xmlns：xsi =”http://www.w3.org/2001/XMLSchema-instance“xmlns：gml =”http://www.opengis.net/gml“xsi：schemaLocation = “http://www.opengis.net/wmts/1.0 http://schemas.opengis.net/wmts/1.0/wmtsGetCapabilities_response.xsd”version =“1.0.0”&gt; &lt;ows：ServiceIdentification&gt; &lt;！ - 省略节省空间，与KVP编码相同 - &gt; &lt;/ ows：ServiceIdentification&gt; &lt;ows：ServiceProvider&gt; &lt;！ - 省略以节省空间，与KVP编码相同 - &gt; &lt;/ ows：ServiceProvider&gt; &lt;ows ：OperationsMetadata&gt; &lt;ows：Operation name =“GetCapabilities”&gt; &lt;ows：DCP&gt; &lt;ows：HTTP&gt; &lt;ows：获取xlink：href =“http：// localhost：8088 / mapviewer / wmts”&gt; &lt;ows：约束名称=“GetEncoding”&gt; &lt;ows：AllowedValues&gt; <span class="bold">&lt;ows：Value&gt; RESTful &lt;/ ows：Value&gt;</span> &lt;/ ows：AllowedValues&gt; &lt;/ ows：Constraint&gt; &lt;/ ows：Get&gt; &lt;/ ows：HTTP&gt; &lt;/ ows： DCP&gt; &lt;/ ows：操作&gt; &lt;ows：操作名称=“GetTile”&gt; &lt;ows：DCP&gt; &lt;ows：HTTP&gt; &lt;ows：获取xlink：href =“http：// lo calhost：8088 / mapviewer / wmts“&gt; &lt;ows：Constraint name =”GetEncoding“&gt; &lt;ows：AllowedValues&gt; <span class="bold">&lt;ows：Value&gt; RESTful &lt;/ ows：Value&gt;</span> &lt;/ ows：AllowedValues&gt; &lt;/ ows：Constraint&gt; &lt;/ ows：Get&gt; &lt;/ ows：HTTP&gt; &lt;/ ows：DCP&gt; &lt;/ ows：Operation&gt; &lt;ows：Operation name =“GetFeatureInfo”&gt; &lt;ows：DCP&gt; &lt;ows：HTTP&gt; &lt;ows：Get xlink：href = “http：// localhost：8088 / mapviewer / wmts？”&gt; &lt;ows：Constraint name =“GetEncoding”&gt; &lt;ows：AllowedValues&gt; <span class="bold">&lt;ows：Value&gt; KVP &lt;/ ows：Value&gt;</span> &lt;/ ows：AllowedValues&gt; &lt;/ ows：Constraint&gt; &lt;/ ows：Get&gt; &lt;/ ows：HTTP&gt; &lt;/ ows：DCP&gt; &lt;/ ows：Operation&gt; &lt;/ ows：OperationsMetadata&gt; &lt;Contents&gt; &lt;Layer&gt; &lt;ows：Title&gt; TEST_TL &lt;/ ows：标题&gt; &lt;ows：Abstract&gt;数据源：MVDEMO，图层：TEST_TL &lt;/ ows：Abstract&gt; &lt;ows：WGS84BoundingBox&gt; &lt;ows：LowerCorner&gt; -180.0 -90.0 &lt;/ ows：LowerCorner&gt; &lt;ows：UpperCorner&gt; 180.0 90.0 &lt;/ ows ：UpperCorner&gt; &lt;/ ows：WGS84BoundingBox&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL &lt;/ ows：Identifier&gt; &lt;Style isDefault =“true”&gt; &lt;ows：Identifier&gt; _null &lt;/ ows：Identifier&gt; &lt;/ Style&gt; &lt;Format&gt; image / png &lt;/ Format&gt; &lt;TileMatrixSetLink&gt; &lt;TileMatrixSet&gt; MVDEMO：TEST_TL：EPSG：4326 &lt;/ TileMatrixSet &gt; &lt;TileMatrixSetLimits&gt;。 。 。 。 。 。 &lt;！ - 省略以节省空间 - &gt; &lt;TileMatrixLimits&gt; <span class="bold">&lt;TileMatrix&gt; 8 &lt;/ TileMatrix&gt;</span> &lt;MinTileRow&gt; 0 &lt;/ MinTileRow&gt; &lt;MaxTileRow&gt; 128 &lt;/ MaxTileRow&gt; &lt;MinTileCol&gt; 0 &lt;/ MinTileCol&gt; &lt;MaxTileCol&gt; 256 &lt;/ MaxTileCol&gt; &lt;/ TileMatrixLimits&gt;。 。 。 。 。 。 &lt;！ - 省略以节省空间 - &gt; &lt;/ TileMatrixSetLimits&gt; &lt;/ TileMatrixSetLink&gt; <span class="bold">&lt;ResourceURL format =“image / png”template =“http：// localhost：8088 / mapviewer / wmts / MVDEMO：TEST_TL / {TileMatrixSet} /{TileMatrix}/{TileRow}/{TileCol}.png“resourceType =”tile“/&gt;</span> &lt;/ Layer&gt; &lt;TileMatrixSet&gt; &lt;ows：Identifier&gt; MVDEMO：TEST_TL：EPSG：4326 &lt;/ ows：Identifier&gt; &lt;ows： SupportedCRS&gt; urn：ogc：def：crs：EPSG：4326 &lt;/ ows：SupportedCRS&gt; &lt;TileMatrix&gt; <span class="bold">&lt;ows：Identifier&gt; 0 &lt;/ ows：Identifier&gt;</span> &lt;ScaleDenominator&gt; 5.590822641167623E8 &lt;/ ScaleDenominator&gt; &lt;TopLeftCorner&gt; -180.0 90.0 &lt; / TopLeftCorner&gt; &lt;TileWidth&gt; 256 &lt;/ TileWidth&gt; &lt;TileHeight&gt; 256 &lt;/ TileHeight&gt; &lt;MatrixWidth&gt; 2 &lt;/ MatrixWidth&gt; &lt;MatrixHeight&gt; 2 &lt;/ MatrixHeight&gt; &lt;/ TileMatrix&gt;。 。 。 。 。 。 &lt;！ - 省略以节省空间 - &gt; &lt;/ TileMatrixSet&gt; &lt;/ Contents&gt; &lt;ServiceMetadataURL xlink：href =“http：// localhost：8088 / mapviewer / wmts？SERVICE = WMTS＆amp; VERSION = 1.0.0＆amp; REQUEST = getCapabilities“/&gt; &lt;/ Capabilities&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-AEE38431-D516-4633-845F-FDC94E49FE25" title="MapViewer支持OGC WMTS 1.0.0标准中指定的GetCapabilities，GetTile和GetFeatureInfo操作。">WMTS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV10032"></a><a id="JIMPV10031"></a><div class="props_rev_3"><a id="GUID-D24179BE-4E27-44FE-912F-414F193AC06B" name="GUID-D24179BE-4E27-44FE-912F-414F193AC06B"></a><h4 id="JIMPV-GUID-D24179BE-4E27-44FE-912F-414F193AC06B" class="sect4"><span class="enumeration_section">D.2.2</span> GetTile操作支持</h4>
                  <div>
                     <p>当MapViewer服务器收到WMTS GetTile请求时，其WMTS服务器会向地图缓存服务器询问该请求的磁贴。地图缓存服务器首先检查WMTS层的可访问性;如果图层可访问，它会将请求的WMTS图块的tile-row，tile-column和其他参数转换为MapViewer地图缓存图块层的规范。然后，地图缓存服务器准备该磁贴并将其返回到MapViewer的WMTS服务器。换句话说，在WMTS GetCapabilities XML文档中发布的MapViewer WMTS层可以看作物理映射到MapViewer地图缓存切片图层的“虚拟”图层，该图层由MapViewer地图缓存服务器管理。</p>
                     <p>每当WMTS服务器收到GetTile请求时，它就会请求MapViewer地图缓存服务器生成该磁贴，然后WMTS服务器将其返回给客户端。当地图缓存服务器从WMTS服务器接收此类请求时，它始终根据规范生成图像，例如图像的大小和边界框。地图缓存服务器的图像生成过程可以像从缓存中获取所需的图块一样简单，以“组装”所请求的WMTS图块（通过镶嵌和剪切）;或者如果缓存中没有切片，则地图缓存服务器会请求另一个服务器（MapViewer的地图服务器）生成切片。</p>
                     <p>本主题包括KVP和REST编码中的GetTile请求以及响应。</p>
                     <p>以下是KVP编码中的GetTile请求（请注意，任何WMTS请求必须在一行中）：</p><pre class="oac_no_warn" dir="ltr">HTTP：//本地主机：8088 /的MapViewer / WMTS服务= WMTS＆REQUEST = GetTile＆VERSION = 1.0.0＆LAYER = MVDEMO：TEST_TL＆STYLE = _NULL＆格式=图像/ PNG＆TileMatrixSet = MVDEMO：TEST_TL：EPSG：4326＆TileMatrix = MVDEMO：TEST_TL：EPSG：4326：8＆TileRow = 33 TileCol = 77</pre><p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-D24179BE-4E27-44FE-912F-414F193AC06B__CIHBHEBF">图D-1</a>显示了前一个请求的响应磁贴图像。</p>
                     <div class="figure" id="GUID-D24179BE-4E27-44FE-912F-414F193AC06B__CIHBHEBF">
                        <p class="titleinfigure">图D-1图像平铺作为对GetTile请求的响应</p><img src="img/gettile_response.jpg" alt="下面是图D-1的描述" title="下面是图D-1的描述" longdesc="img_text/gettile_response.html"><br><a href="img_text/gettile_response.html">“图D-1图像平铺作为对GetTile请求的响应”的描述</a></div>
                     <!-- class="figure" -->
                     <p>以下是相同的基本GetTile请求，但在REST编码中（请注意，任何WMTS请求必须在一行上）：</p><pre class="oac_no_warn" dir="ltr">HTTP：//本地主机：8088 /的MapViewer / WMTS / MVDEMO：TEST_TL / MVDEMO：TEST_TL：EPSG：8分之4326/ 33 / 77.png</pre><p>响应图像与<a href="ogc-wmts-support-map-visualzation-component.html#GUID-D24179BE-4E27-44FE-912F-414F193AC06B__CIHBHEBF">图D-1中的相同</a> 。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-21EC29E8-C6C5-4B35-9E21-BA407CA434B7">在WMTS层和地图缓存切片层中映射切片</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-AEE38431-D516-4633-845F-FDC94E49FE25" title="MapViewer支持OGC WMTS 1.0.0标准中指定的GetCapabilities，GetTile和GetFeatureInfo操作。">WMTS操作</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="JIMPV10033"></a><div class="props_rev_3"><a id="GUID-21EC29E8-C6C5-4B35-9E21-BA407CA434B7" name="GUID-21EC29E8-C6C5-4B35-9E21-BA407CA434B7"></a><h5 id="JIMPV-GUID-21EC29E8-C6C5-4B35-9E21-BA407CA434B7" class="sect5"><span class="enumeration_section">D.2.2.1</span> WMTS层和地图缓存<span class="enumeration_section">切片</span>层中的地图块</h5>
                     <div>
                        <p>MapViewer地图缓存服务器可以缓存其图块层的地图图块，但其WMTS服务器不会缓存任何WMTS图层的地图图块。换句话说，WMTS服务器的地图图块实际上不存在，而是映射到MapViewer地图缓存图块层。</p>
                        <p>例如，如果<a href="ogc-wmts-support-map-visualzation-component.html#GUID-21EC29E8-C6C5-4B35-9E21-BA407CA434B7">在WMTS图层和</a>地图缓存切片图层中的地图图块中发送WMTS GetTile请求之前清空了地图缓存切片图层的缓存，则会发生以下情况：</p>
                        <ol>
                           <li>
                              <p>WMTS服务器接收请求，然后将其传递给地图缓存服务器。</p>
                           </li>
                           <li>
                              <p>地图缓存服务器将请求转换为内部图像映射请求以生成切片图像（具有由切片的边界框定义的空间维度，以及由图像大小定义的图像维度，例如256x256）。</p>
                           </li>
                           <li>
                              <p>识别所需的地图缓存切片图块的图块。</p>
                           </li>
                           <li>
                              <p>对于每个地图缓存切片图块的图块，地图缓存服务器会尝试从其缓存中获取它。如果磁贴在其缓存中不可用（在此方案中就是因为您刚刚清空了缓存），则会将映射请求发送到另一个服务器MapViewer地图服务器以生成该磁贴图像。</p>
                           </li>
                           <li>
                              <p>在获取所有必要的地图缓存切片图块的地图图块之后，然后呈现WMTS图块图像（通过镶嵌和切割，如果适用）并返回。</p>
                           </li>
                        </ol>
                        <p>如果客户端之后发送对相同WMTS磁贴的请求，则将重复前面的步骤，唯一的区别在于步骤4，其中所需的地图缓存切片图块的图块将可从缓存中获得。因为避免了步骤4中最昂贵的处理，所以对同一块的第二次请求应该快得多。</p>
                        <p>通常，地图缓存切片图层中的切片与GetTile请求指定的WMTS图层中的切片之间不存在一对一的匹配。这是因为MapViewer地图缓存切片图层使用坐标系，其原点位于左下角（tile_x，tile_y），而WMTS使用以左上角为原点的坐标系（tile_column，tile_row）。例如，MapViewer的图像图块（tile_x = 0，tile_y = 0）是左下角的图块。而（tile_column = 0，tile_row = 0）的WMTS图块位于左上角。</p>
                        <p>整个数据区域从其对应的原点开始划分为切片，并且每个缩放级别的（tile_x，tile_y）或（tile_column，tile_row）中的最后一个切片可能并不总是与数据的上限完全对齐（对于MapViewer切片）坐标系）或下界（对于WMTS瓦片坐标系）。因此，两个系统之间的区块可能没有一对一的匹配。但是，当最后一个切片与数据边界完全对齐时，则确实存在一对一匹配。</p>
                        <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-21EC29E8-C6C5-4B35-9E21-BA407CA434B7">以WMTS图层和地图缓存</a>切片<a href="ogc-wmts-support-map-visualzation-component.html#GUID-21EC29E8-C6C5-4B35-9E21-BA407CA434B7">图层中的地图</a>图块中的GetTile请求为例，如果您在缩放级别8请求WMTS图块（tile_column = 77，tile_row = 33），则图块与地图缓存图块层完全匹配tile at :( tile_x = 77，tile_y = 94）。这两个瓷砖匹配是因为：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>切片图层定义（参见<a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHFAEBJ">示例D-2</a> ）确保WMTS切片和地图缓存切片图块的切片存在一对一匹配，因为任一坐标系中的最后一个切片都与数据边界完全对齐。
                              </p>
                           </li>
                           <li>
                              <p>WMTS的tile_row 33补充了地图缓存服务器的tile_y 94，使总瓦片行为128（注意一个原点是左上角，另一个是左下角）。如<a href="ogc-wmts-support-map-visualzation-component.html#GUID-9DEF48FA-D3BD-45CB-90D2-7C33030015FB__CIHHABHJ">例D-3所示</a> ， <code class="codeph">&lt;MaxTileRow&gt;</code>元素值为128。
                              </p>
                              <p>另请注意，tile_x和tile_column值相同，因为它们从西边界开始并向右移动。</p>
                           </li>
                        </ul>
                        <p>在MapViewer中为WMTS服务创建切片图层时，请确保<code class="codeph">&lt;tile_dpi&gt;</code>元素的值为0.28 mm，相当于每英寸点数（dpi）符号<code class="codeph">&lt;tile_dpi value="90.7142857"/&gt;</code> 。如果未提供此元素，则MapViewer的地图缓存切片图层可在生成切片时为切片图层使用不同的值（例如，将dpi设置为96）。这个不同的值可能会减慢WMTS服务并降低其地图图块的质量，因为WMTS使用的dpi值为90.7142857。
                        </p>
                        <p>在MapViewer中使用WTS84（经度/纬度）大地测量参考系统为WMTS服务创建切片图层时，需要确保<code class="codeph">&lt;tile_meters_per_unit&gt;</code>元素的给定值对应于沿赤道1度的弧长： <code class="codeph">&lt;tile_meters_per_unit value="111319.49079327358"/&gt;</code> 。如果未提供<code class="codeph">&lt;tile_meters_per_unit&gt;</code>元素，则MapViewer在内部计算值;但是，由于111319.49079327358值通常由其他WMTS服务提供商用于WGS84大地测量参考系统，因此指定<code class="codeph">&lt;tile_meters_per_unit value="111319.49079327358"/&gt;</code>将确保MapViewer的WMTS层与其他服务提供商的切片层匹配。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-D24179BE-4E27-44FE-912F-414F193AC06B">GetTile操作支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="JIMPV10035"></a><a id="JIMPV10036"></a><a id="JIMPV10034"></a><div class="props_rev_3"><a id="GUID-484B130F-5B55-4A2F-9797-5142264F6BA6" name="GUID-484B130F-5B55-4A2F-9797-5142264F6BA6"></a><h4 id="JIMPV-GUID-484B130F-5B55-4A2F-9797-5142264F6BA6" class="sect4"><span class="enumeration_section">D.2.3</span> GetFeatureInfo操作支持</h4>
                  <div>
                     <p>MapViewer支持以下GetFeatureInfo操作选项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>标准的OGC GetFeatureInfo请求</p>
                        </li>
                        <li>
                           <p>点（x，y）处的特定于MapViewer的GetFeatureInfo请求</p>
                        </li>
                        <li>
                           <p>边界框内的特定于MapViewer的GetFeatureInfo请求</p>
                        </li>
                     </ul>
                     <p>这些操作返回的要素信息基于MapViewer基本地图和主题定义，以及根据感兴趣的区域选择的要素。基本地图可以定义每个主题的可见比例范围;每个主题定义在它的信息的列<code class="codeph">&lt;field&gt;</code>的子元素<code class="codeph">&lt;hidden_info&gt;</code>这是在一个子元素<code class="codeph">&lt;styling_rules&gt;</code>元素。如果在主题的<code class="codeph">&lt;styling_rules&gt;</code>元素中未指定信息列，则GetFeatureInfo响应将不包含有关该主题的功能的任何信息。
                     </p>
                     <p>感兴趣的区域在每个选项的GetFeatureInfo过程中计算如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于标准的OGC GetFeatureInfo请求，像素的列和行及其在给定缩放级别的平铺位置可以转换为像素质心处的地图缓存切片图层坐标系中的（x，y）点。在该点居中，该缩放级别的5乘5像素窗口定义了感兴趣的区域。</p>
                        </li>
                        <li>
                           <p>对于特定于MapViewer的（x，y）点请求，它还使用以给定（x，y）值为中心的该级别的5乘5像素窗口作为感兴趣的区域。</p>
                        </li>
                        <li>
                           <p>对于特定于MapViewer的边界框GetFeatureInfo请求选项，它使用指定的边界框（min_x，min_y，max_x，max_y）及其在缩放级别的图像切片中的相应（列，行）值作为感兴趣的区域。</p>
                        </li>
                     </ul>
                     <p>MapViewer允许您在GetFeatureInfo请求中提供额外的MapViewer特定参数： <code class="codeph">childLayer</code>属性（例如， <code class="codeph">childLayer=myTheme1, myTheme2</code> ）。提供此参数时，MapViewer仅包含指定主题中的要素信息（在此示例中，仅包含myTheme1和myTheme2）。如果未提供此参数，则会考虑基本映射定义中的所有主题以获取GetFeatureInfo请求。</p>
                     <p>本主题包括以下子主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-FC16AD98-979A-4DAB-9510-2E5FA6A49842">OGC GetFeatureInfo请求</a></p>
                        </li>
                        <li>
                           <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889">在（x，y）点处的MapViewer GetFeatureInfo请求</a></p>
                        </li>
                        <li>
                           <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C">边界框内的MapViewer GetFeatureInfo请求</a></p>
                        </li>
                     </ul>
                     <p>这些子主题包含使用<a href="ogc-wmts-support-map-visualzation-component.html#GUID-484B130F-5B55-4A2F-9797-5142264F6BA6__CIHIDHBD">示例D-5</a>和<a href="ogc-wmts-support-map-visualzation-component.html#GUID-484B130F-5B55-4A2F-9797-5142264F6BA6__CIHIEBDI">示例D-6中</a>的基本映射和主题定义的<a href="ogc-wmts-support-map-visualzation-component.html#GUID-484B130F-5B55-4A2F-9797-5142264F6BA6__CIHIDHBD">示例</a> ，用于名为TEST_TL的切片层。</p>
                     <div class="example" id="GUID-484B130F-5B55-4A2F-9797-5142264F6BA6__CIHIDHBD">
                        <p class="titleinexample">示例D-5 Tile Layer TEST_TL的基本映射定义</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;map_definition&gt; &lt;theme name =“THEME_DEMO_STATES”min_scale =“”max_scale =“0.0”scale_mode =“RATIO”/&gt; &lt;theme name =“THEME_DEMO_COUNTIES”min_scale =“8500000.0”max_scale =“0.0”scale_mode =“RATIO”/ &gt; &lt;theme name =“THEME_DEMO_HIGHWAYS_LINE”min_scale =“1.0E8”max_scale =“4.5E7”scale_mode =“RATIO”/&gt; &lt;theme name =“THEME_DEMO_HIGHWAYS”min_scale =“4.5E7”max_scale =“0.0”scale_mode =“RATIO” /&gt; &lt;theme name =“THEME_DEMO_BIGCITIES”min_scale =“”max_scale =“0.0”scale_mode =“RATIO”/&gt; &lt;theme name =“THEME_DEMO_CITIES”min_scale =“7500000.0”max_scale =“0.0”scale_mode =“RATIO”/&gt; &lt; / map_definition&gt;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-484B130F-5B55-4A2F-9797-5142264F6BA6__CIHIEBDI">
                        <p class="titleinexample">示例D-6 Tile Layer TEST_TL的主题名称和样式规则</p><pre class="oac_no_warn" dir="ltr">THEME_DEMO_STATES &lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules&gt; &lt;hidden_info&gt; &lt;field column =“STATE”name =“Name”/&gt; &lt;field column =“STATE_ABRV”name =“Abrv。”/&gt; &lt;field column =“TOTPOP”name =“Population”/&gt; &lt;/ hidden_info&gt; &lt;rule&gt; &lt;features style =“C.S02_COUNTRY_AREA”&gt; &lt;/ features&gt; &lt;label column =“STATE_ABRV”style =“T.S02_STATE_ABBREVS”&gt; 1 &lt;/ label&gt; &lt;/ rule&gt; &lt;/ styling_rules&gt; THEME_DEMO_COUNTIES &lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules&gt; &lt;hidden_info&gt; &lt;field column =“COUNTY”name =“County”/&gt; &lt;field column =“FIPSSTCO”name =“Fips”/&gt; &lt;field column =“TOTPOP”name =“Population”/&gt; &lt; field column =“STATE_ABRV”name =“State”/&gt; &lt;/ hidden_info&gt; &lt;rule&gt; &lt;features style =“L.S06_BORDER_STATE”&gt; &lt;/ features&gt; &lt;/ rule&gt; &lt;/ styling_rules&gt; THEME_DEMO_CITIES &lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules&gt; &lt;hidden_info&gt; &lt;field column =“CITY”name =“City”/&gt; &lt;field column =“POP90”name =“Population”/&gt; &lt;/ hidden_info&gt; &lt;rule&gt; &lt;features style =“M.ALL_CITY_L2 “&gt;（pop90在200000和1000000之间）&lt;/ featu res&gt; &lt;label column =”city“style =”T.S07_CITIES_L2“&gt; 1 &lt;/ label&gt; &lt;/ rule&gt; &lt;rule&gt; &lt;features style =”M.ALL_CITY_L3“ &gt;（pop90＆lt; 200000）&lt;/ features&gt; &lt;label column =“city”style =“T.S07_CITIES_L3”&gt; 1 &lt;/ label&gt; &lt;/ rule&gt; &lt;/ styling_rules&gt; THEME_DEMO_HIGHWAYS &lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules&gt; &lt;hidden_info&gt; &lt;field column =“HIGHWAY”name =“Name”/&gt; &lt;field column =“ROUTEN”name =“No。”/&gt; &lt;/ hidden_info&gt; &lt;rule&gt; &lt;features style =“L。 S04_ROAD_INTERSTATE“&gt; &lt;/ features&gt; &lt;label column =”routen“style =”M.HWY_USA_INTERSTATE_NARROW“&gt;（3-length（routen））&lt;/ label&gt; &lt;/ rule&gt; &lt;/ styling_rules&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-FC16AD98-979A-4DAB-9510-2E5FA6A49842">OGC GetFeatureInfo请求</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889">在（x，y）点处的MapViewer GetFeatureInfo请求</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C">边界框内的MapViewer GetFeatureInfo请求</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-AEE38431-D516-4633-845F-FDC94E49FE25" title="MapViewer支持OGC WMTS 1.0.0标准中指定的GetCapabilities，GetTile和GetFeatureInfo操作。">WMTS操作</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="JIMPV10038"></a><a id="JIMPV10037"></a><div class="props_rev_3"><a id="GUID-FC16AD98-979A-4DAB-9510-2E5FA6A49842" name="GUID-FC16AD98-979A-4DAB-9510-2E5FA6A49842"></a><h5 id="JIMPV-GUID-FC16AD98-979A-4DAB-9510-2E5FA6A49842" class="sect5"><span class="enumeration_section">D.2.3.1</span> OGC GetFeatureInfo请求</h5>
                     <div>
                        <p>以下是使用OGC标准的示例GetFeatureInfo请求（请注意，任何WMTS请求必须在一行上）：</p><pre class="oac_no_warn" dir="ltr">HTTP：//本地主机：8088 /的MapViewer / WMTS服务= WMTS＆REQUEST =的GetFeatureInfo＆VERSION = 1.0.0＆LAYER = MVDEMO：TEST_TL＆STYLE = _NULL＆格式=图像/ PNG＆TileMatrixSet = MVDEMO：TEST_TL：EPSG：4326＆TileMatrix = MVDEMO：TEST_TL：EPSG：4326：8＆TileRow = 33 TileCol = 76＆I = 238＆J = 240＆InfoFormat =应用/ GML％2bxml;版本3.1 =</pre><p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-FC16AD98-979A-4DAB-9510-2E5FA6A49842__CIHFAAFB">示例D-7</a>显示了此请求的响应。</p>
                        <div class="example" id="GUID-FC16AD98-979A-4DAB-9510-2E5FA6A49842__CIHFAAFB">
                           <p class="titleinexample">示例D-7来自OGC GetFeatureInfo请求的响应</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;layers&gt; &lt;layer name =“THEME_DEMO_CITIES”&gt; &lt;feature id =“1”&gt; &lt;City&gt; Worcester &lt;/ City&gt; &lt;Population&gt; 169759 &lt;/ Population&gt; &lt;/ feature&gt; &lt;/ layer&gt; &lt;layer name =“THEME_DEMO_BIGCITIES “&gt; &lt;/ layer&gt; &lt;layer name =”THEME_DEMO_HIGHWAYS“&gt; &lt;/ layer&gt; &lt;layer name =”THEME_DEMO_HIGHWAYS_LINE“&gt; &lt;/ layer&gt; &lt;layer name =”THEME_DEMO_COUNTIES“&gt; &lt;feature id =”1“&gt; &lt;县&gt;伍斯特&lt;/ County&gt; &lt;Fips&gt; 25027 &lt;/ Fips&gt; &lt;Population&gt; 709705 &lt;/ Population&gt; &lt;State&gt; MA &lt;/ State&gt; &lt;/ feature&gt; &lt;/ layer&gt; &lt;layer name =“THEME_DEMO_STATES”&gt; &lt;feature id =“1 “&gt; &lt;州&gt;马萨诸塞州&lt;/州&gt; &lt;Abrv。&gt; MA &lt;/ Abrv。&gt; &lt;人口&gt; 6016424 &lt;/ Population&gt; &lt;/ feature&gt; &lt;/ layer&gt; &lt;/ layers&gt;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-484B130F-5B55-4A2F-9797-5142264F6BA6">GetFeatureInfo操作支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV10040"></a><a id="JIMPV10039"></a><div class="props_rev_3"><a id="GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889" name="GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889"></a><h5 id="JIMPV-GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889" class="sect5"><span class="enumeration_section">D.2.3.2</span>在（x，y）点处的MapViewer GetFeatureInfo请求</h5>
                     <div>
                        <p>以下是一个示例MapViewer GetFeatureInfo请求，以获取文本/ html格式的所有主题的信息，其中包含经度和纬度（x和y）值，在这种情况下是波士顿市的一个点（请注意任何WMTS请求）必须在一条线上）：</p><pre class="oac_no_warn" dir="ltr">http：// localhost：8088 / mapviewer / wmts？SERVICE = WMTS＆REQUEST = GetFeatureInfo＆VERSION = 1.0.0＆infoformat = text / html＆LAYER = MVDEMO：TEST_TL＆zoomlevel = 8＆ <span class="bold">x = -71.01522133879438＆y = 42.33731136863662＆SRID = 8307</span>
</pre><p>在此请求中，将点的（x，y）坐标指定为参数。MapViewer将该点转换为给定缩放级别（在此示例中为8）的5乘5像素矩形区域，以该点为中心，作为获取特征信息的感兴趣区域。由于请求中没有<code class="codeph">childLayer</code>参数，因此默认情况下会考虑感兴趣区域中的所有要素。
                        </p>
                        <p>如果（x，y）坐标位于与图块层使用的坐标系（空间参照系）不同的坐标系中，则必须指定可选的SRID参数，以将坐标转换为图块层的系统。其默认值是切片图层的SRID值。</p>
                        <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889__CIHHCAIC">图D-2</a>显示了此请求的响应。</p>
                        <div class="figure" id="GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889__CIHHCAIC">
                           <p class="titleinfigure">图D-2（x，y）点处MapViewer GetFeatureInfo请求的响应</p><img src="img/getfeatureinfo_xy_window.jpg" alt="下面是图D-2的描述" title="下面是图D-2的描述" longdesc="img_text/getfeatureinfo_xy_window.html"><br><a href="img_text/getfeatureinfo_xy_window.html">“图D-2在（x，y）点处从MapViewer GetFeatureInfo请求的响应”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-484B130F-5B55-4A2F-9797-5142264F6BA6">GetFeatureInfo操作支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV10042"></a><a id="JIMPV10043"></a><a id="JIMPV10041"></a><div class="props_rev_3"><a id="GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C" name="GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C"></a><h5 id="JIMPV-GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C" class="sect5"><span class="enumeration_section">D.2.3.3</span>在边界框内的MapViewer GetFeatureInfo请求</h5>
                     <div>
                        <p>以下是一个示例MapViewer GetFeatureInfo请求，用于在由边界框定义的感兴趣区域内的两个主题（THEME_DEMO_CITIES和THEME_DEMO_COUNTIES）的信息，在这种情况下是包括波士顿市和一些周围社区的矩形区域（请注意任何WMTS请求）必须在一条线上）：</p><pre class="oac_no_warn" dir="ltr">http：// localhost：8088 / mapviewer / wmts？SERVICE = WMTS＆REQUEST = GetFeatureInfo＆VERSION = 1.0.0＆infoformat = text / xml＆LAYER = MVDEMO：TEST_TL＆childLayer = THEME_DEMO_COUNTIES，THEME_DEMO_CITIES＆zoomlevel = 8＆ <span class="bold">bbox = -71.32151786220001,42.19361670333521，-70.96354167846667,42.52386233762441＆SRID = 8307</span>
</pre><p>如果（x，y）坐标位于与图块层使用的坐标系（空间参照系）不同的坐标系中，则必须指定可选的SRID参数，以将边界框坐标转换为图块层的系统。其默认值是切片图层的SRID值。</p>
                        <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-20E79F09-8FC0-46B4-B3B8-6CBB325B7889__CIHHCAIC">图D-2</a>显示了此请求的边界框。</p>
                        <div class="figure" id="GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C__GUID-EB75162A-6CD2-4E59-AD5B-A8B7353CD381">
                           <p class="titleinfigure">图D-3 MapViewer GetFeatureInfo请求的边界框</p><img src="img/getfeatureinfo_bounding_box.jpg" alt="下面是图D-3的描述" title="下面是图D-3的描述" longdesc="img_text/getfeatureinfo_bounding_box.html"><br><a href="img_text/getfeatureinfo_bounding_box.html">“图D-3 MapViewer GetFeatureInfo请求的边界框”的描述</a></div>
                        <!-- class="figure" -->
                        <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C__CIHBCBDC">示例D-8</a>显示了此请求的XML格式响应。</p>
                        <div class="example" id="GUID-839F65B3-2CFF-4315-85CB-26D3B259C56C__CIHBCBDC">
                           <p class="titleinexample">示例D-8边界框内MapViewer GetFeatureInfo请求的响应</p><pre class="oac_no_warn" dir="ltr">&lt;layers&gt; &lt;layer name =“THEME_DEMO_CITIES”&gt; &lt;feature id =“1”&gt; &lt;City&gt; Boston &lt;/ City&gt; &lt;Population&gt; 574283 &lt;/ Population&gt; &lt;/ feature&gt; &lt;/ layer&gt; &lt;layer name =“THEME_DEMO_COUNTIES” &gt; &lt;feature id =“1”&gt; &lt;County&gt; Middlesex &lt;/ County&gt; &lt;Fips&gt; 25017 &lt;/ Fips&gt; &lt;Population&gt; 1398468 &lt;/ Population&gt; &lt;State&gt; MA &lt;/ State&gt; &lt;/ feature&gt; &lt;feature id =“ 2“&gt; &lt;县&gt;诺福克&lt;/县&gt; &lt;Fips&gt; 25021 &lt;/ Fips&gt; &lt;人口&gt; 616087 &lt;/人口&gt; &lt;州&gt; MA &lt;/州&gt; &lt;/ feature&gt; &lt;feature id =”3“&gt; &lt;县&gt;萨福克&lt;/ County&gt; &lt;Fips&gt; 25025 &lt;/ Fips&gt; &lt;人口&gt; 663906 &lt;/人口&gt; &lt;州&gt; MA &lt;/州&gt; &lt;/ feature&gt; &lt;feature id =“4”&gt; &lt;县&gt; Essex &lt;/ County&gt; &lt; Fips&gt; 25009 &lt;/ Fips&gt; &lt;Population&gt; 670080 &lt;/ Population&gt; &lt;State&gt; MA &lt;/ State&gt; &lt;/ feature&gt; &lt;/ layer&gt; &lt;/ layers&gt;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-484B130F-5B55-4A2F-9797-5142264F6BA6">GetFeatureInfo操作支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="JIMPV10044"></a><div class="props_rev_3"><a id="GUID-68711001-46A1-4A6F-AA03-7876CE960950" name="GUID-68711001-46A1-4A6F-AA03-7876CE960950"></a><h3 id="JIMPV-GUID-68711001-46A1-4A6F-AA03-7876CE960950" class="sect3"><span class="enumeration_section">D.3</span>为MapViewer准备WMTS服务</h3>
               <div>
                  <p>要准备使用MapViewer的WMTS服务，请按照以下主要步骤操作：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-EAEC3F31-AFD9-4B7C-8BD2-7306AE41B3C5">准备预定义的几何主题</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-7716A658-92D0-4B62-AD6F-0253E59B49AA">准备基本地图</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8">准备瓷砖层</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-2B27E0AC-FED7-4C3C-888F-9BF4AAAA05E3">在wmtsConfig.xml策略文件中发布图块层</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wmts-support-map-visualzation-component.html#GUID-19992542-2726-46C0-B929-3AFFC68A8B47">验证MapViewer WMTS服务</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-FD2428ED-0400-4D11-83F4-9AB59FE766C9" title="地图可视化组件支持使用Open GIS Consortium（OGC）Web Map Tile Service（WMTS）协议（特别是WMS 1.0.0实现规范）提供的数据呈现">Map Visualization组件中的OGC WMTS支持</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV10045"></a><div class="props_rev_3"><a id="GUID-EAEC3F31-AFD9-4B7C-8BD2-7306AE41B3C5" name="GUID-EAEC3F31-AFD9-4B7C-8BD2-7306AE41B3C5"></a><h4 id="JIMPV-GUID-EAEC3F31-AFD9-4B7C-8BD2-7306AE41B3C5" class="sect4"><span class="enumeration_section">D.3.1</span>准备预定义的几何主题</h4>
                  <div>
                     <p>如果getFeatureInfo服务必须从预定义的几何主题获取要素信息，则必须将<code class="codeph">&lt;hidden_info&gt;</code>元素与一个或多个<code class="codeph">&lt;field&gt;</code>子元素一起使用。<code class="codeph">&lt;field&gt;</code>元素中的<code class="codeph">column</code>属性将在getFeatureInfo响应中返回。
                     </p>
                     <p><code class="codeph">&lt;hidden_info&gt;</code>元素必须位于<code class="codeph">&lt;styling_rules&gt;</code>元素中。例如：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules&gt; &lt;hidden_info&gt; &lt;field column =“NAME”name =“name”/&gt; &lt;field column =“MAINPAGE”name =“mainpage”/&gt; &lt;/ hidden_info&gt;。。。&lt;/ styling_rules&gt;</pre><p>有关在预定义几何主题中使用样式规则的信息，请参阅<a href="map-visualization-concepts.html#GUID-1A5A976B-8E3F-42DD-AB10-A35ED02385DD">预定义空间几何主题中的样式规则</a></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-68711001-46A1-4A6F-AA03-7876CE960950" title="要准备使用MapViewer的WMTS服务，请按照以下主要步骤操作：">为MapViewer准备WMTS服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV10046"></a><div class="props_rev_3"><a id="GUID-7716A658-92D0-4B62-AD6F-0253E59B49AA" name="GUID-7716A658-92D0-4B62-AD6F-0253E59B49AA"></a><h4 id="JIMPV-GUID-7716A658-92D0-4B62-AD6F-0253E59B49AA" class="sect4"><span class="enumeration_section">D.3.2</span>准备基本地图</h4>
                  <div>
                     <p>要准备基本地图（只是主题集合）以使用WMTS主题，请将主题添加到基本地图。</p>
                     <p>有关向基本地图添加主题的信息，请参阅<a href="map-visualization-concepts.html#GUID-B39C38B9-8852-4085-A4B0-7454557A5C95" title="地图可以包含元素和属性的组合。">地图</a> 。
                     </p>
                     <p>有关WMTS主题的信息，请参阅<a href="map-visualization-concepts.html#GUID-2B9DDF26-EFBB-4215-BCFF-88E8B3A15EC8">WMTS主题</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-68711001-46A1-4A6F-AA03-7876CE960950" title="要准备使用MapViewer的WMTS服务，请按照以下主要步骤操作：">为MapViewer准备WMTS服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV10048"></a><a id="JIMPV10049"></a><a id="JIMPV10050"></a><a id="JIMPV10051"></a><a id="JIMPV10047"></a><div class="props_rev_3"><a id="GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8" name="GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8"></a><h4 id="JIMPV-GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8" class="sect4"><span class="enumeration_section">D.3.3</span>准备瓷砖层</h4>
                  <div>
                     <p>如果<code class="codeph">wmtsConfix.xml</code>策略文件中没有约束，则MapViewer切片图层将成为MapViewer WMTS服务器中的WMTS图层。例如，假设已创建名为DEMO_MAP的基本地图，如<a href="ogc-wmts-support-map-visualzation-component.html#GUID-45A1DEEE-C787-4913-8F81-0F7A47A6B594__CIHFAEBJ">示例D-2所示</a> ，则可以使用该基本地图创建切片图层。本主题包含以下示例，每个示例都使用OGC WMTS 1.0.0实现标准附件E中的已知比例集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHCCHDF">例D-9</a></p>
                        </li>
                        <li>
                           <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHEBFJE">例D-10</a></p>
                        </li>
                        <li>
                           <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHJDJED">例D-11</a></p>
                        </li>
                        <li>
                           <p><a href="ogc-wmts-support-map-visualzation-component.html#GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHHCAJJ">例D-12</a></p>
                        </li>
                     </ul>
                     <p>在这些示例中，指定了<code class="codeph">&lt;tile_dpi&gt;</code>和<code class="codeph">&lt;tile_meters_per_unit&gt;</code>元素，以符合OGC WMTS 1.0.0实现标准，其中像素大小为0.28mm。如果坐标（空间参考）系统是WGS84，那么赤道上的1度等于111319.49米。
                     </p>
                     <div class="example" id="GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHCCHDF">
                        <p class="titleinexample">示例D-9比例集的平铺定义GlobalCRS84Scale</p><pre class="oac_no_warn" dir="ltr">插入user_sdo_cached_maps值（'WMTS_E1'，'wmts附件e1缩放设置为GlobalCRS84Scale'，''，'YES'，'YES'，'&lt;map_tile_layer name =“WMTS_E1”image_format =“PNG”http_header_expires =“168.0”concurrent_fetching_threads = “3”&gt; &lt;internal_map_source base_map =“DEMO_MAP”data_source =“MVDEMO”/&gt; &lt;coordinate_system srid =“8307”minX =“ -  180”maxX =“180”minY =“ -  90”maxY =“90”/&gt; &lt; internal_map_source base_map =“DEMO_MAP”data_source =“MVDEMO”db_tile_table =“”/&gt; &lt;cache_storage root_path =“”/&gt; &lt;coordinate_system srid =“8307”minX =“ -  180”maxX =“180”minY =“ -  90”maxY =“90”/&gt; &lt;tile_image width =“256”height =“256”/&gt; &lt;tile_dpi value =“90.7142857”/&gt; &lt;tile_meters_per_unit value =“111319.49079327358”/&gt; &lt;zoom_levels levels =“21”min_scale =“100” max_scale =“5.0E8”&gt; &lt;zoom_level scale =“5.0E8”tile_width =“321.9561978791382”tile_height =“321.9561978791382”/&gt; &lt;zoom_level scale =“2.5E8”tile_width =“160.9780989395691”tile_height =“160.9780989395691”/&gt; &lt;zoom_level scale =“1.0E8”tile_width =“64.39123957582764”tile_height =“64.3912 3957582764“/&gt; &lt;zoom_level scale =”5.0E7“tile_width =”32.19561978791382“tile_height =”32.19561978791382“/&gt; &lt;zoom_level scale =”2.5E7“tile_width =”16.09780989395691“tile_height =”16.09780989395691“/&gt; &lt;zoom_level scale =”1.0 E7“tile_width =”6.439123957582764“tile_height =”6.439123957582764“/&gt; &lt;zoom_level scale =”5.0E6“tile_width =”3.219561978791382“tile_height =”3.219561978791382“/&gt; &lt;zoom_level scale =”2.5E6“tile_width =”1.609780989395691“tile_height =” 1.609780989395691“/&gt; &lt;zoom_level scale =”1.0E6“tile_width =”0.6439123957582763“tile_height =”0.6439123957582763“/&gt; &lt;zoom_level scale =”5.0E5“tile_width =”0.32195619787913815“tile_height =”0.32195619787913815“/&gt; &lt;zoom_level scale =”2.5 E5“tile_width =”0.16097809893956908“tile_height =”0.16097809893956908“/&gt; &lt;zoom_level scale =”1.0E5“tile_width =”0.06439123957582764“tile_height =”0.06439123957582764“/&gt; &lt;zoom_level scale =”5.0E4“tile_width =”0.03219561978791382“tile_height =” 0.03219561978791382“/&gt; &lt;zoom_level scale =”2.5E4“tile_width =”0.01609780989395691“ tile_height =“0.01609780989395691”/&gt; &lt;zoom_level scale =“1.0E4”tile_width =“0.006439123957582764”tile_height =“0.006439123957582764”/&gt; &lt;zoom_level scale =“5.0E3”tile_width =“0.003219561978791382”tile_height =“0.003219561978791382”/&gt; &lt;zoom_level scale =“2.5E3”tile_width =“0.001609780989395691”tile_height =“0.001609780989395691”/&gt; &lt;zoom_level scale =“1.0E3”tile_width =“6.439123957582763E-4”tile_height =“6.439123957582763E-4”/&gt; &lt;zoom_level scale =“5.0E2 “tile_width =”3.2195619787913813E-4“tile_height =”3.2195619787913813E-4“/&gt; &lt;zoom_level scale =”2.5E2“tile_width =”1.6097809893956906E-4“tile_height =”1.6097809893956906E-4“/&gt; &lt;zoom_level scale =” 1.0E2“tile_width =”6.439123957582763E-5“tile_height =”6.439123957582763E-5“/&gt; &lt;/ zoom_levels&gt; &lt;/ map_tile_layer&gt;'，'DEMO_MAP'，''）;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHEBFJE">
                        <p class="titleinexample">示例D-10比例集的平铺定义GlobalCRS84Pixel</p><pre class="oac_no_warn" dir="ltr">插入user_sdo_cached_maps值（'WMTS_E2'，'wmts附件e2比例GlobalCRS84Pixel'，''，'YES'，'YES'，'&lt;map_tile_layer name =“WMTS_E2”image_format =“PNG”http_header_expires =“168.0”concurrent_fetching_threads =“3 “&gt; &lt;internal_map_source base_map =”DEMO_MAP“data_source =”MVDEMO“/&gt; &lt;coordinate_system srid =”8307“minX =” -  180“maxX =”180“minY =” -  90“maxY =”90“/&gt; &lt;tile_image width =“256”height =“256”/&gt; &lt;tile_dpi value =“90.7142857”/&gt; &lt;tile_meters_per_unit value =“111319.49079327358”/&gt; &lt;zoom_levels levels =“19”min_scale =“1104.360027711047”max_scale =“795139219.9519541”&gt; &lt;zoom_level scale =“795139219.9519541”tile_width =“512.000000”tile_height =“512.000000”/&gt; &lt;zoom_level scale =“397569609.9759771”tile_width =“256.000000”tile_height =“256.000000”/&gt; &lt;zoom_level scale =“198784804.9879885”tile_width =“128.000000”tile_height =“ 128.000000“/&gt; &lt;zoom_level scale =”132523203.3253257“tile_width =”85.333333“tile_height =”85.333333“/&gt; &lt;zoom_level scale =”66261601.66266284“tile_width =”42.666666“tile_height =”42 .666666“/&gt; &lt;zoom_level scale =”33130800.83133142“tile_width =”21.333333“tile_height =”21.333333“/&gt; &lt;zoom_level scale =”13252320.33253257“tile_width =”8.5333333“tile_height =”8.5333333“/&gt; &lt;zoom_level scale =”6626160.166266284“ tile_width =“4.2666666”tile_height =“4.2666666”/&gt; &lt;zoom_level scale =“3313080.083133142”tile_width =“2.1333333”tile_height =“2.1333333”/&gt; &lt;zoom_level scale =“1656540.041566571”tile_width =“1.0666666”tile_height =“1.0666666”/&gt; &lt;zoom_level scale =“552180.0138555236”tile_width =“0.3555555”tile_height =“0.3555555”/&gt; &lt;zoom_level scale =“331308.0083133142”tile_width =“0.2133333”tile_height =“0.2133333”/&gt; &lt;zoom_level scale =“110436.0027711047”tile_width =“0.0711111” tile_height =“0.0711111”/&gt; &lt;zoom_level scale =“55218.00138555237”tile_width =“0.0355555”tile_height =“0.0355555”/&gt; &lt;zoom_level scale =“33130.80083133142”tile_width =“0.0213333”tile_height =“0.0213333”/&gt; &lt;zoom_level scale =“ 11043.60027711047“tile_width =”0.00711111“tile_height =”0.00711111“/&gt; &lt;zoom_level scale =”3313.080083 133142“tile_width =”0.00213333“tile_height =”0.00213333“/&gt; &lt;zoom_level scale =”1104.360027711047“tile_width =”7.111111E-4“tile_height =”7.111111E-4“/&gt; &lt;/ zoom_levels&gt; &lt;/ map_tile_layer&gt;'，' DEMO_MAP'，''）;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHJDJED">
                        <p class="titleinexample">示例D-11比例的平铺定义设置GoogleCRS84Quad</p><pre class="oac_no_warn" dir="ltr">插入user_sdo_cached_maps值（'WMTS_E3'，'wmts附件e3比例设置GoogleCRS84Quad'，''，'YES'，'YES'，'&lt;map_tile_layer name =“WMTS_E3”image_format =“PNG”http_header_expires =“168.0”concurrent_fetching_threads =“ 3“&gt; &lt;internal_map_source base_map =”DEMO_MAP“data_source =”MVDEMO“/&gt; &lt;coordinate_system srid =”8307“minX =” -  180“maxX =”180“minY =” -  90“maxY =”90“/&gt; &lt;tile_image width =“256”height =“256”/&gt; &lt;tile_dpi value =“90.7142857”/&gt; &lt;tile_meters_per_unit value =“111319.49079327358”/&gt; &lt;zoom_levels levels =“19”min_scale =“2132.729583849784”max_scale =“559082264.0287178”&gt; &lt;zoom_level tile_width =“360.0000”tile_height =“360.0000”scale =“5.590822640287178E8”/&gt; &lt;zoom_level tile_width =“180.0000”tile_height =“180.0000”scale =“2.795411320143589E8”/&gt; &lt;zoom_level tile_width =“90.0000”tile_height =“90.00000” scale =“1.3977056600717944E8”/&gt; &lt;zoom_level tile_width =“45.0000”tile_height =“45.00000”scale =“6.988528300358972E7”/&gt; &lt;zoom_level tile_width =“22.5000”tile_height =“22.50000”scale =“3.494264150179486 E7“/&gt; &lt;zoom_level tile_width =”11.2500“tile_height =”11.25000“scale =”1.747132075089743E7“/&gt; &lt;zoom_level tile_width =”5.6250“tile_height =”5.62500“scale =”8735660.375448715“/&gt; &lt;zoom_level tile_width =”2.8125“ tile_height =“2.81250”scale =“4367830.1877243575”/&gt; &lt;zoom_level tile_width =“1.40625”tile_height =“1.40625”scale =“2183915.0938621787”/&gt; &lt;zoom_level tile_width =“0.703125”tile_height =“0.703125”scale =“1091957.5469310894”/&gt; &lt;zoom_level tile_width =“0.3515625”tile_height =“0.3515625”scale =“545978.7734655447”/&gt; &lt;zoom_level tile_width =“0.17578125”tile_height =“0.17578125”scale =“272989.38673277234”/&gt; &lt;zoom_level tile_width =“0.087890625”tile_height =“0.087890625” scale =“136494.693366386”/&gt; &lt;zoom_level tile_width =“0.0439453125”tile_height =“0.0439453125”scale =“68247.34668319”/&gt; &lt;zoom_level tile_width =“0.02197265625”tile_height =“0.02197265625”scale =“34123.6733415”/&gt; &lt;zoom_level tile_width =“ 0.010986328126“tile_height =”0.010986328126“scale =”17061.8366707“/&gt; &lt;zoom_level tile_width =”0.005493 1640633“tile_height =”0.0054931640633“scale =”8530.91833539“/&gt; &lt;zoom_level tile_width =”0.00274658203168“tile_height =”0.00274658203168“scale =”4265.45916769“/&gt; &lt;zoom_level tile_width =”0.001373291015841“tile_height =”0.001373291015841“scale =”2132.72958384“ /&gt; &lt;/ zoom_levels&gt; &lt;/ map_tile_layer&gt;'，'DEMO_MAP'，''）;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D9FFCC8F-A34A-4318-9A87-D1F2D39309F8__CIHHCAJJ">
                        <p class="titleinexample">示例D-12比例的平铺定义设置GoogleMapsCompatible</p><pre class="oac_no_warn" dir="ltr">插入user_sdo_cached_maps值（'WMTS_E4'，'wmts annex e4 scale set'，''，'YES'，'YES'，'&lt;map_tile_layer name =“WMTS_E4”image_format =“PNG”http_header_expires =“168.0”concurrent_fetching_threads =“3 “&gt; &lt;internal_map_source base_map =”DEMO_MAP“data_source =”MVDEMO“/&gt; &lt;coordinate_system srid =”3857“minX =” -  20037508“maxX =”20037508“minY =” -  20037508“maxY =”20037508“/&gt; &lt;tile_image width =“256”height =“256”/&gt; &lt;tile_dpi value =“90.7142857”/&gt; &lt;tile_meters_per_unit value =“1”/&gt; &lt;zoom_levels levels =“19”min_scale =“2132.729583849784”max_scale =“559082264.0287178”&gt; &lt;zoom_level tile_width =“4.0075016692E7”tile_height =“4.0075016692E7”scale =“5.5908226403E8”/&gt; &lt;zoom_level tile_width =“2.0037508346E7”tile_height =“2.0037508346E7”scale =“2.7954113201E8”/&gt; &lt;zoom_level tile_width =“1.0018754173E7”tile_height =“1.0018754173E7”scale =“1.3977056601E8”/&gt; &lt;zoom_level tile_width =“5009377.086486”tile_height =“5009377.086486”scale =“6.9885283004E7”/&gt; &lt;zoom_level tile_width =“2504688.543243”tile_height =“2504688。 543243“scale =”3.4942641502E7“/&gt; &lt;zoom_level tile_width =”1252344.27162“tile_height =”1252344.27162“scale =”1.747132075089E7“/&gt; &lt;zoom_level tile_width =”626172.135810“tile_height =”626172.135810“scale =”8735660.3754487“/&gt; &lt; zoom_level tile_width =“313086.067905”tile_height =“313086.067905”scale =“4367830.1877243”/&gt; &lt;zoom_level tile_width =“156543.033952”tile_height =“156543.033952”scale =“2183915.0938621”/&gt; &lt;zoom_level tile_width =“78271.5169763”tile_height =“78271.5169763”scale =“1091957.5469311”/&gt; &lt;zoom_level tile_width =“39135.7584882”tile_height =“39135.7584882”scale =“545978.77346554”/&gt; &lt;zoom_level tile_width =“19567.8792441”tile_height =“19567.8792441”scale =“272989.38673277”/&gt; &lt;zoom_level tile_width =“9783.93962204 “tile_height =”9783.93962204“scale =”136494.69336638“/&gt; &lt;zoom_level tile_width =”4891.96981102“tile_height =”4891.96981102“scale =”68247.346683193“/&gt; &lt;zoom_level tile_width =”2445.98490551“tile_height =”2445.98490551“scale =”34123.673341596“/ &gt; &lt;zoom_level tile_width =“1222.9924527 5“tile_height =”1222.99245275“scale =”17061.836670798“/&gt; &lt;zoom_level tile_width =”611.496226378“tile_height =”611.496226378“scale =”8530.9183353991“/&gt; &lt;zoom_level tile_width =”305.748113189“tile_height =”305.748113189“scale =”4265.4591676995“ /&gt; &lt;zoom_level tile_width =“152.874056594”tile_height =“152.874056594”scale =“2132.7295838498”/&gt; &lt;/ zoom_levels&gt; &lt;/ map_tile_layer&gt;'，'DEMO_MAP'，''）;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-68711001-46A1-4A6F-AA03-7876CE960950" title="要准备使用MapViewer的WMTS服务，请按照以下主要步骤操作：">为MapViewer准备WMTS服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV10053"></a><a id="JIMPV10052"></a><div class="props_rev_3"><a id="GUID-2B27E0AC-FED7-4C3C-888F-9BF4AAAA05E3" name="GUID-2B27E0AC-FED7-4C3C-888F-9BF4AAAA05E3"></a><h4 id="JIMPV-GUID-2B27E0AC-FED7-4C3C-888F-9BF4AAAA05E3" class="sect4"><span class="enumeration_section">D.3.4</span>在wmtsConfig.xml策略文件中发布图块层</h4>
                  <div>
                     <p>要发布切片图层，您可以在<code class="codeph">wmtsConfig.xml</code>策略文件中的<code class="codeph">&lt;public_datasources&gt;</code>元素中编辑和添加信息，该文件存储在与<code class="codeph">mapViewerConfig.xml</code>相同的位置。<a href="ogc-wmts-support-map-visualzation-component.html#GUID-2B27E0AC-FED7-4C3C-888F-9BF4AAAA05E3__CIHICJIJ">示例D-13</a>显示了用于在数据源MVDEMO（TEST_EL，WMTS_E1，WMTS_E2，WMTS_E3和WMTS_E4）中发布五个图块以及在数据源TILSMENV中发布所有图块层的条目。</p>
                     <div class="example" id="GUID-2B27E0AC-FED7-4C3C-888F-9BF4AAAA05E3__CIHICJIJ">
                        <p class="titleinexample">示例D-13发布图块层</p><pre class="oac_no_warn" dir="ltr">&lt;public_datasources&gt; &lt;public_datasource name =“MVDEMO”&gt; &lt;tile_layers&gt; &lt;tile_layer name =“TEST_TL”/&gt; &lt;tile_layer name =“WMTS_E1”/&gt; &lt;tile_layer name =“WMTS_E2”/&gt; &lt;tile_layer name =“WMTS_E3”/&gt; &lt;tile_layer name =“WMTS_E4”/&gt; &lt;/ tile_layers&gt; &lt;/ public_datasource&gt; &lt;public_datasource name =“TILSMENV”include_all_tile_layers =“TRUE”&gt; &lt;/ public_datasources&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-68711001-46A1-4A6F-AA03-7876CE960950" title="要准备使用MapViewer的WMTS服务，请按照以下主要步骤操作：">为MapViewer准备WMTS服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV10054"></a><div class="props_rev_3"><a id="GUID-19992542-2726-46C0-B929-3AFFC68A8B47" name="GUID-19992542-2726-46C0-B929-3AFFC68A8B47"></a><h4 id="JIMPV-GUID-19992542-2726-46C0-B929-3AFFC68A8B47" class="sect4"><span class="enumeration_section">D.3.5</span>验证MapViewer WMTS服务</h4>
                  <div>
                     <p>要验证MapViewer WMTS服务是否正常工作，请按照下列步骤操作：</p>
                     <ol>
                        <li>
                           <p>重新启动MapViewer服务器，让MapViewer从数据源中检索切片层定义并应用WMTS策略文件。</p>
                        </li>
                        <li>
                           <p>以下列格式发出GetCapabilities请求，以检查是否已发布切片图层，并且所有比例集都按预期显示：</p><pre class="oac_no_warn" dir="ltr">http：// <span class="italic">&lt;url&gt;：&lt;port&gt;</span> /mapviewer/wmts?REQUEST=GetCapabilities&amp;SERVICE=WMTS&amp;VERSION=1.0.0</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wmts-support-map-visualzation-component.html#GUID-68711001-46A1-4A6F-AA03-7876CE960950" title="要准备使用MapViewer的WMTS服务，请按照以下主要步骤操作：">为MapViewer准备WMTS服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>