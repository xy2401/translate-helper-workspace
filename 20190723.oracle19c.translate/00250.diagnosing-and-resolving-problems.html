<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively."></meta>
      <meta name="description" content="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively."></meta>
      <title>诊断和解决问题</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="monitoring-the-database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-structure-and-storage.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-the-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-structure-and-storage.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="basic-database-administration.html" property="item" typeof="WebPage"><span property="name">基础数据库管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">诊断和解决问题</li>
            </ol>
            <a id="GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" name="GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3"></a><a id="ADMIN11007"></a>
            
            <h2 id="ADMIN-GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" class="sect2"><span class="enumeration_chapter">9</span>诊断和解决问题</h2>
         </header>
         <div class="ind">
            <p>Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。<span class="bold">诊断数据</span>包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。
            </p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257">关于Oracle数据库故障可诊断性基础结构</a><br>Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619">关于调查，报告和解决问题</a><br>您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。您可以使用“路线图”来总结您必须执行的典型任务集。
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC">诊断问题</a><br>本节介绍诊断Oracle数据库中的问题的各种方法。
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73">报告问题</a><br>使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219">解决问题</a><br>本节介绍如何使用顾问工具（如SQL Repair Advisor和Data Recovery Advisor）以及资源管理工具（如资源管理器和相关API）解决数据库问题。</li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="basic-database-administration.html#GUID-1DF51F9B-86E9-4E40-A30E-00714E7C0003" title="数据库管理员具有特定的职责，必须了解如何完成数据库管理任务。">基本数据库管理</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11257"></a><div class="props_rev_3"><a id="GUID-43A0C671-CE6F-492F-9032-A010E96DC257" name="GUID-43A0C671-CE6F-492F-9032-A010E96DC257"></a><h3 id="ADMIN-GUID-43A0C671-CE6F-492F-9032-A010E96DC257" class="sect3"><span class="enumeration_section">9.1</span>关于Oracle数据库故障可诊断性基础结构</h3>
               <p>Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30">故障诊断基础架构概述</a><br>故障诊断基础设施有助于预防，检测，诊断和解决问题。特别针对的问题是严重错误，例如由代码错误，元数据损坏和客户数据损坏引起的错误。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A">事故和问题</a><br><span class="bold">问题</span>是数据库实例，Oracle自动存储管理（Oracle ASM）实例或其他Oracle产品或组件中的严重错误。<span class="bold">事件</span>是一次出现问题。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8">故障可诊断性基础架构组件</a><br>故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33">自动诊断信息库的结构，内容和位置</a><br>自动诊断存储库（ADR）是存储在数据库外部的目录结构。因此，当数据库关闭时，它可用于问题诊断。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11258"></a><div class="props_rev_3"><a id="GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30" name="GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30"></a><h4 id="ADMIN-GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30" class="sect4"><span class="enumeration_section">9.1.1</span>故障可诊断性基础结构概述</h4>
                  <div>
                     <p>故障诊断基础设施有助于预防，检测，诊断和解决问题。特别针对的问题是严重错误，例如由代码错误，元数据损坏和客户数据损坏引起的错误。</p>
                     <p>发生严重错误时，会为其分配一个事件编号，并立即捕获错误的诊断数据（如跟踪文件）并使用此编号进行标记。然后将数据存储在自动诊断存储库（ADR）中 - 数据库外部的基于文件的存储库 - 稍后可以按事件编号检索并分析数据。</p>
                     <p>故障可诊断性基础结构的目标如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>首次故障诊断</p>
                        </li>
                        <li>
                           <p>问题预防</p>
                        </li>
                        <li>
                           <p>检测到问题后限制损坏和中断</p>
                        </li>
                        <li>
                           <p>减少问题诊断时间</p>
                        </li>
                        <li>
                           <p>减少问题解决时间</p>
                        </li>
                        <li>
                           <p>简化客户与Oracle支持的互动</p>
                        </li>
                     </ul>
                     <p>实现这些目标的关键是以下技术：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">首次发生故障时自动捕获诊断数据</span> - 对于严重错误， <span class="bold">在首次故障时</span>捕获错误信息的能力大大增加了快速解决问题的机会并减少了停机时间。始终在线的基于内存的跟踪系统主动从许多数据库组件中收集诊断数据，并有助于隔离问题的根本原因。这种主动诊断数据类似于飞机“黑匣子”飞行记录器收集的数据。检测到问题时，将生成警报并激活故障诊断基础结构以捕获和存储诊断数据。数据存储在数据库外部的存储库中（因此在数据库关闭时可用），并且可以使用命令行实用程序和Oracle Enterprise Manager云控制（云控制）轻松访问。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">标准化的跟踪格式 -</span>跨所有数据库组件<span class="bold">标准化跟踪格式，</span>使DBA和Oracle支持人员可以使用一组工具进行问题分析。问题更容易诊断，停机时间也减少了。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">健康检查</span> - <a id="d116652e229" class="indexterm-anchor"></a>在检测到严重错误后，故障可诊断性基础结构可以运行一个或多个运行状况检查，以对关键错误执行更深入的分析。然后将运行状况检查结果添加到为错误收集的其他诊断数据中。单个运行状况检查会查找数据块损坏，撤消和重做损坏，数据字典损坏等。作为DBA，您可以定期或根据需要手动调用这些运行状况检查。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">事件包装服务（IPS）和事件包</span> - <a id="d116652e237" class="indexterm-anchor"></a><a id="d116652e241" class="indexterm-anchor"></a><a id="d116652e243" class="indexterm-anchor"></a>通过IPS，您可以自动轻松地收集诊断数据跟踪，转储，运行状况检查报告以及与严重错误相关的更多内容，并将数据打包成zip文件以便传输到Oracle Support。由于与关键错误相关的所有诊断数据都标有该错误的事件编号，因此您无需搜索跟踪文件和其他文件来确定分析所需的文件;事件打包服务自动识别所需文件并将其添加到zip文件中。在创建zip文件之前，IPS首先将诊断数据收集到称为事件包（包）的中间逻辑结构中。包存储在自动诊断存储库中。如果选择，您可以访问此中间逻辑结构，查看和修改其内容，随时添加或删除其他诊断数据，并在准备好后，从包中创建zip文件。完成这些步骤后，zip文件就可以上传到Oracle Support。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">数据恢复顾问</span> - <a id="d116652e251" class="indexterm-anchor"></a><a id="d116652e253" class="indexterm-anchor"></a> Data Recovery Advisor与数据库运行状况检查和RMAN集成，以显示数据损坏问题，评估每个问题的严重程度（严重，高优先级，低优先级），描述问题的影响，建议修复选项，进行可行性检查。客户选择的选项，并自动化修复过程。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">SQL测试用例生成器</span> - <a id="d116652e263" class="indexterm-anchor"></a><a id="d116652e265" class="indexterm-anchor"></a>对于许多与SQL相关的问题，获得可重现的测试用例是解决问题速度的重要因素。SQL测试用例生成器自动化有时困难且耗时的过程，即尽可能多地收集有关问题及其发生环境的信息。快速收集此信息后，您可以将其上载到Oracle Support，以使支持人员能够轻松准确地重现问题。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障可诊断性基础结构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" name="GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A"></a><h4 id="ADMIN-GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" class="sect4"><span class="enumeration_section">9.1.2</span>事故和问题</h4>
                  <p><span class="bold">问题</span>是数据库实例，Oracle自动存储管理（Oracle ASM）实例或其他Oracle产品或组件中的严重错误。<span class="bold">事件</span>是一次出现问题。
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F">关于事故和问题</a><br>为了便于诊断和解决关键错误，故障诊断基础架构为Oracle数据库引入了两个概念：问题和事件。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8120A824-8A37-4291-87AA-D029C91EE6E2">事故洪水控制</a><br>可以想象，问题可能在短时间内产生数十次或数百次事故。这会产生过多的诊断数据，这会在ADR中占用太多空间，并可能减慢您诊断和解决问题的速度。由于这些原因，故障可诊断性基础设施在达到某些阈值之后将<span class="italic">洪水控制</span>应用于事件生成。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF">整个拓扑中的相关问题</a><br>对于数据库实例中发现的任何问题，可诊断性框架可以识别Oracle数据库安装拓扑中的相关问题。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障可诊断性基础结构</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11259"></a><div class="props_rev_3"><a id="GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" name="GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F"></a><h5 id="ADMIN-GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" class="sect5"><span class="enumeration_section">9.1.2.1</span>关于事故和问题</h5>
                     <div>
                        <p>为了便于诊断和解决关键错误，故障诊断基础架构为Oracle数据库引入了两个概念：问题和事件。</p>
                        <p><span class="bold">问题</span>是数据库实例，Oracle自动存储管理（Oracle ASM）实例或其他Oracle产品或组件中的严重错误。严重错误表现为内部错误，例如<code class="codeph">ORA-00600</code>或其他严重错误，例如<code class="codeph">ORA-07445</code> （操作系统异常）或<code class="codeph">ORA-04031</code> （共享池中的内存不足）。ADR中会跟踪问题。每个问题都有一个<span class="italic">问题键</span> ，它是描述问题的文本字符串。它包括错误代码（例如<code class="codeph">ORA</code> <code class="codeph">600</code> ），在某些情况下还包括一个或多个错误参数。
                        </p>
                        <p><span class="bold">事件</span>是一次出现问题。当多次出现问题（严重错误）时，会为每次出现创建一个事件。事件在自动诊断信息库（ADR）中加上时间戳并进行跟踪。每个事件都由数字事件ID标识，该ID在ADR中是唯一的。发生事故时，数据库：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在警报日志中创建一个条目。</p>
                           </li>
                           <li>
                              <p>向Cloud Control发送<span class="italic">事件警报</span> 。
                              </p>
                           </li>
                           <li>
                              <p>以转储文件（事件转储）的形式收集有关事件的首次故障诊断数据。</p>
                           </li>
                           <li>
                              <p>使用事件ID标记事件转储。</p>
                           </li>
                           <li>
                              <p>将事件转储存储在为该事件创建的ADR子目录中。</p>
                           </li>
                        </ul>
                        <p>诊断和解决严重错误通常始于事件警报。事件警报显示在Cloud Control Database主页或Oracle自动存储管理主页上。数据库主页还在其“相关警报”部分中显示Oracle ASM实例或其他Oracle产品或组件中的任何严重警报。查看警报后，您可以使用Cloud Control或ADRCI命令行实用程序查看问题及其相关事件。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F__GUID-5077648F-05EB-4F84-A618-B5FF7B139501">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看支持工作台的问题</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" title="ADR命令解释程序（ADRCI）是一个实用程序，使您可以在命令行环境中调查问题，查看运行状况检查报告以及打包首次故障诊断数据。">ADRCI命令行实用程序</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" title="问题是数据库实例，Oracle自动存储管理（Oracle ASM）实例或其他Oracle产品或组件中的严重错误。事件是一次出现问题。">事件和问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13157"></a><div class="props_rev_3"><a id="GUID-8120A824-8A37-4291-87AA-D029C91EE6E2" name="GUID-8120A824-8A37-4291-87AA-D029C91EE6E2"></a><h5 id="ADMIN-GUID-8120A824-8A37-4291-87AA-D029C91EE6E2" class="sect5"><span class="enumeration_section">9.1.2.2</span>事故洪水控制</h5>
                     <div>
                        <p>可以想象，问题可能在短时间内产生数十次或数百次事故。这会产生过多的诊断数据，这会在ADR中占用太多空间，并可能减慢您诊断和解决问题的速度。由于这些原因，故障可诊断性基础设施在达到某些阈值之后将<span class="italic">洪水控制</span>应用于事件生成。
                        </p>
                        <p><span class="bold">洪水控制事件</span>是生成警报日志条目的事件，记录在ADR中，但不会生成事件转储。洪水控制事件提供了一种方法，通知您正在发生严重错误，而不会使系统超载诊断数据。使用Cloud Control或ADRCI命令行实用程序查看事件时，您可以选择查看或隐藏洪水控制事件。
                        </p>
                        <p>事故洪水控制的阈值水平是预先确定的，不能改变。它们的定义如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在一小时内针对同一问题密钥发生五次事件后，此问题密钥的后续事件将受到洪水控制。正常（非洪水控制）记录该问题密钥的事件将在下一个小时内再次开始。</p>
                           </li>
                           <li>
                              <p>在一天内针对同一问题密钥发生25次事件后，此问题密钥的后续事件将受到洪水控制。第二天再次开始正常记录该问题密钥的事件。</p>
                           </li>
                        </ul>
                        <p>此外，在一小时内发生相同问题密钥的50个事件，或者在一天内发生相同问题密钥的250个事件之后，在ADR中根本不记录该问题密钥的后续事件。在这些情况下，数据库会将消息写入警报日志，指示不会记录其他事件。只要继续为此问题密钥生成事件，此消息就会每隔十分钟添加到警报日志中，直到该小时或一天过期。在一小时或一天到期时，该问题密钥的事件的正常记录再次开始。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" title="问题是数据库实例，Oracle自动存储管理（Oracle ASM）实例或其他Oracle产品或组件中的严重错误。事件是一次出现问题。">事件和问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13158"></a><div class="props_rev_3"><a id="GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" name="GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF"></a><h5 id="ADMIN-GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" class="sect5"><span class="enumeration_section">9.1.2.3</span>拓扑相关问题</h5>
                     <div>
                        <p>对于数据库实例中发现的任何问题，可诊断性框架可以识别Oracle数据库安装拓扑中的相关问题。</p>
                        <p>在单实例环境中，可以在本地Oracle ASM实例中标识相关问题。在Oracle RAC环境中，可以在任何其他节点上的任何数据库实例或Oracle ASM实例中标识相关问题。在调查问题时，您可以查看和收集有关任何相关问题的信息。</p>
                        <p>如果问题发生在指定的时间段内或者共享相同的执行上下文标识符，则问题与原始问题有关。<span class="bold">执行上下文标识符（ECID）</span>是一个全局唯一标识符，用于标记和跟踪通过Oracle软件堆栈的单个调用，例如，调用Oracle融合中间件，然后调用Oracle数据库来检索数据。ECID通常在中间层生成，并作为Oracle调用接口（OCI）属性传递给数据库。当单个调用在Oracle软件堆栈的多个层上出现故障时，生成的问题将使用相同的ECID标记，以便它们可以相关。然后，您可以确定发生原始问题的层。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" title="问题是数据库实例，Oracle自动存储管理（Oracle ASM）实例或其他Oracle产品或组件中的严重错误。事件是一次出现问题。">事件和问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11260"></a><div class="props_rev_3"><a id="GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" name="GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8"></a><h4 id="ADMIN-GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" class="sect4"><span class="enumeration_section">9.1.3</span>故障可诊断性基础架构组件</h4>
                  <p>故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748">自动诊断存储库（ADR）</a><br>ADR是基于文件的数据库诊断数据存储库，例如跟踪，转储，警报日志，运行状况监视器报告等。它具有跨多个实例和多个产品的统一目录结构。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7">警报日志</a><br>警报日志是一个XML文件，它是消息和错误的时间顺序日志。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73">跟踪文件，转储和核心文件</a><br>跟踪文件，转储和核心文件包含用于调查问题的诊断数据。它们存储在ADR中。</li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8BDEED51-F282-4479-8939-B017232BAED2">DDL日志</a><br>数据定义语言（DDL）日志是与警报日志具有相同格式和基本行为的文件，但它仅包含数据库发出的DDL语句。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB">调试日志</a><br>Oracle数据库组件可以检测异常的条件，状态或事件，但不会阻止检测组件的正确操作。组件可以发出有关这些条件，状态或事件的警告。调试日志是记录这些警告的文件。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498">其他ADR内容</a><br>除了前面部分中提到的文件之外，ADR还包含运行状况监视器报告，数据修复记录，SQL测试用例，事件包等。这些组件将在本章后面介绍。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164">企业管理器支持工作台</a><br>企业管理器支持工作台（Support Workbench）是一个可以让您通过易于使用的图形界面调查，报告并在某些情况下修复问题（严重错误）的工具。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6">ADRCI命令行实用程序</a><br>ADR命令解释程序（ADRCI）是一个实用程序，使您可以在命令行环境中调查问题，查看运行状况检查报告以及打包首次故障诊断数据。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障可诊断性基础结构</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11261"></a><div class="props_rev_3"><a id="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" name="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748"></a><h5 id="ADMIN-GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" class="sect5"><span class="enumeration_section">9.1.3.1</span>自动诊断信息库（ADR）</h5>
                     <div>
                        <p>ADR是基于文件的数据库诊断数据存储库，例如跟踪，转储，警报日志，运行状况监视器报告等。它具有跨多个实例和多个产品的统一目录结构。</p>
                        <p>数据库，Oracle自动存储管理（Oracle ASM），侦听器，Oracle Clusterware和其他Oracle产品或组件将所有诊断数据存储在ADR中。每个产品的每个实例都将诊断数据存储在ADR中其自己的主目录下。例如，在具有共享存储和Oracle ASM的Oracle Real Application Clusters环境中，每个数据库实例和每个Oracle ASM实例都有一个ADR主目录。ADR的统一目录结构，跨产品和实例的一致诊断数据格式以及一组统一的工具使客户和Oracle支持人员能够跨多个实例关联和分析诊断数据。使用Oracle Clusterware，群集中的每个主机节点都有一个ADR主目录。</p>
                        <div class="infoboxnote" id="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748__GUID-89A3F23B-0DA3-48FE-B3DF-77C3F6BC61B5">
                           <p class="notep1">注意：</p>
                           <p>由于所有诊断数据（包括警报日志）都存储在ADR中，因此不推荐使用初始化参数<code class="codeph">BACKGROUND_DUMP_DEST</code>和<code class="codeph">USER_DUMP_DEST</code> 。它们由初始化参数<code class="codeph">DIAGNOSTIC_DEST</code>替换，该参数标识ADR的位置。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748__GUID-5AAE95AE-2653-4997-B931-EA8DC5D45D08">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DIAGNOSTIC_DEST</code>参数和ADR家庭的更多信息，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" title="自动诊断存储库（ADR）是存储在数据库外部的目录结构。因此，当数据库关闭时，它可用于问题诊断。">自动诊断信息库的结构，内容和位置</a> ”</span> 。
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11262"></a><div class="props_rev_3"><a id="GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7" name="GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7"></a><h5 id="ADMIN-GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7" class="sect5"><span class="enumeration_section">9.1.3.2</span>警报日志</h5>
                     <div>
                        <p>警报日志是一个XML文件，它是消息和错误的时间顺序日志。</p>
                        <p>每个ADR主页都有一个警报日志。每个警报日志都特定于其组件类型，例如数据库，Oracle ASM，侦听器和Oracle Clusterware。</p>
                        <p>对于数据库，警报日志包含有关以下内容的消息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>严重错误（事件）</p>
                           </li>
                           <li>
                              <p>管理操作，例如启动或关闭数据库，恢复数据库，创建或删除表空间等。</p>
                           </li>
                           <li>
                              <p>自动刷新物化视图期间的错误</p>
                           </li>
                           <li>
                              <p>其他数据库事件</p>
                           </li>
                        </ul>
                        <p>您可以使用Cloud Control和ADRCI实用程序以文本格式（剥离XML标记）查看警报日志。为了向后兼容，还存储在ADR中的文本格式的警报日志版本。但是，Oracle建议使用XML格式的版本来解析警报日志内容，因为文本格式是非结构化的，并且可能在发行版之间发生变化。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7__GUID-E74090B6-D3E4-4321-AF32-C35D47885A08">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" title="ADR命令解释程序（ADRCI）是一个实用程序，使您可以在命令行环境中调查问题，查看运行状况检查报告以及打包首次故障诊断数据。">ADRCI命令行实用程序</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" title="您可以使用文本编辑器，Cloud Control或ADRCI实用程序查看警报日志。">查看警报日志</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11263"></a><div class="props_rev_3"><a id="GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" name="GUID-B66E06CC-9E2A-450E-8447-087E65E63C73"></a><h5 id="ADMIN-GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" class="sect5"><span class="enumeration_section">9.1.3.3</span>跟踪文件，转储和核心文件</h5>
                     <p>跟踪文件，转储和核心文件包含用于调查问题的诊断数据。它们存储在ADR中。</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-ED66812F-83DF-4793-8FCE-29C519C734A3">跟踪文件</a><br>每个服务器和后台进程都可以写入关联的跟踪文件。跟踪文件在流程的整个生命周期中定期更新，并且可以包含有关流程环境，状态，活动和错误的信息。此外，当进程检测到严重错误时，它会将有关错误的信息写入其跟踪文件。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4">转储</a><br>转储是特定类型的跟踪文件。转储通常是响应事件（例如事件）的诊断数据的一次性输出，而跟踪倾向于连续输出诊断数据。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7">核心文件</a><br>核心文件包含内存转储，采用全二进制，端口特定的格式。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN12320"></a><div class="props_rev_3"><a id="GUID-ED66812F-83DF-4793-8FCE-29C519C734A3" name="GUID-ED66812F-83DF-4793-8FCE-29C519C734A3"></a><h6 id="ADMIN-GUID-ED66812F-83DF-4793-8FCE-29C519C734A3" class="sect6"><span class="enumeration_section">9.1.3.3.1</span>跟踪文件</h6>
                        <div>
                           <p>每个服务器和后台进程都可以写入关联的跟踪文件。跟踪文件在流程的整个生命周期中定期更新，并且可以包含有关流程环境，状态，活动和错误的信息。此外，当进程检测到严重错误时，它会将有关错误的信息写入其跟踪文件。</p>
                           <p>SQL跟踪工具还会创建跟踪文件，这些文件提供有关各个SQL语句的性能信息。您可以为会话或实例启用SQL跟踪。</p>
                           <p>跟踪文件名与平台有关。通常，数据库后台进程跟踪文件名包含Oracle SID，后台进程名称和操作系统进程号，而服务器进程跟踪文件名包含Oracle SID，字符串“ora”和操作系统进程号。文件扩展名为<code class="codeph">.trc</code> 。服务器进程跟踪文件名的示例是orcl_ora_344.trc。跟踪文件有时伴有相应的跟踪元数据（ <code class="codeph">.trm</code> ）文件，这些文件包含有关跟踪文件的结构信息，并用于搜索和导航。
                           </p>
                           <p>Oracle数据库包含可帮助您分析跟踪文件的工具。有关应用程序跟踪，SQL跟踪和跟踪工具的详细信息，请参阅“ <a href="../tgsql/performing-application-tracing.html#TGSQL791" target="_blank"><span class="italic">Oracle数据库SQL调整指南”</span></a> 。
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-ED66812F-83DF-4793-8FCE-29C519C734A3__GUID-70651F7A-1FCC-42A9-B691-99F856116C45">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-34137402-19A6-4134-93AE-D6DD02242F61" title="跟踪文件存储在自动诊断存储库（ADR）中，位于每个ADR主目录下的跟踪目录中。为了帮助您在此目录中查找单个跟踪文件，您可以使用数据字典视图。例如，您可以找到当前会话的跟踪文件或每个Oracle数据库进程的跟踪文件的路径。">查找跟踪文件</a> ”</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" title="跟踪文件，转储和核心文件包含用于调查问题的诊断数据。它们存储在ADR中。">跟踪文件，转储和核心文件</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12321"></a><div class="props_rev_3"><a id="GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4" name="GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4"></a><h6 id="ADMIN-GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4" class="sect6"><span class="enumeration_section">9.1.3.3.2</span>转储</h6>
                        <div>
                           <p>转储是特定类型的跟踪文件。转储通常是响应事件（例如事件）的诊断数据的一次性输出，而跟踪倾向于连续输出诊断数据。</p>
                           <p>发生事件时，数据库会将一个或多个转储写入为事件创建的事件目录。事件转储还包含文件名中的事件编号。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" title="跟踪文件，转储和核心文件包含用于调查问题的诊断数据。它们存储在ADR中。">跟踪文件，转储和核心文件</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12322"></a><div class="props_rev_3"><a id="GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7" name="GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7"></a><h6 id="ADMIN-GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7" class="sect6"><span class="enumeration_section">9.1.3.3.3</span>核心文件</h6>
                        <div>
                           <p>核心文件包含内存转储，采用全二进制，端口特定的格式。</p>
                           <p>核心文件名包括字符串“core”和操作系统进程ID。核心文件仅对Oracle Support工程师有用。并非在所有平台上都找到核心文件。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" title="跟踪文件，转储和核心文件包含用于调查问题的诊断数据。它们存储在ADR中。">跟踪文件，转储和核心文件</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN14021"></a><div class="props_rev_3"><a id="GUID-8BDEED51-F282-4479-8939-B017232BAED2" name="GUID-8BDEED51-F282-4479-8939-B017232BAED2"></a><h5 id="ADMIN-GUID-8BDEED51-F282-4479-8939-B017232BAED2" class="sect5"><span class="enumeration_section">9.1.3.4</span> DDL日志</h5>
                     <div>
                        <p>数据定义语言（DDL）日志是与警报日志具有相同格式和基本行为的文件，但它仅包含数据库发出的DDL语句。</p>
                        <p>仅为RDBMS组件创建DDL日志，并且仅当<code class="codeph">ENABLE_DDL_LOGGING</code>初始化参数设置为<code class="codeph">TRUE</code>时才创建。当此参数设置为<code class="codeph">FALSE</code> ，DDL语句不包含在任何日志中。
                        </p>
                        <p>DDL日志包含数据库发出的每个DDL语句的一条日志记录。DDL日志包含在IPS事件包中。</p>
                        <p>有两个DDL日志包含相同的信息。一个是XML文件，另一个是文本文件。DDL日志存储在ADR主目录的log / ddl子目录中。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8BDEED51-F282-4479-8939-B017232BAED2__GUID-52470BE6-53BE-4AEE-97B6-C3B4EBCFEAD5">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">ENABLE_DDL_LOGGING</code>初始化参数的详细信息，请<code class="codeph">ENABLE_DDL_LOGGING</code> <a href="../refrn/ENABLE_DDL_LOGGING.html#REFRN10302" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14022"></a><div class="props_rev_3"><a id="GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB" name="GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB"></a><h5 id="ADMIN-GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB" class="sect5"><span class="enumeration_section">9.1.3.5</span>调试日志</h5>
                     <div>
                        <p>Oracle数据库组件可以检测异常的条件，状态或事件，但不会阻止检测组件的正确操作。组件可以发出有关这些条件，状态或事件的警告。调试日志是记录这些警告的文件。</p>
                        <p>调试日志中记录的这些警告不足以保证事件或写入警报日志。它们确实需要在日志文件中记录，因为可能需要它们来诊断未来的问题。</p>
                        <p>调试日志具有与警报日志相同的格式和基本行为，但它仅包含有关可能需要更正的可能问题的信息。</p>
                        <p>调试日志可减少警报日志和跟踪文件中的信息量。它还提高了调试信息的可见性。</p>
                        <p>调试日志包含在IPS事件包中。调试日志的内容适用于Oracle Support。数据库管理员不应直接使用调试日志。</p>
                        <div class="infoboxnote" id="GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB__GUID-AAAFBB05-BCBB-452C-86C6-067A800A42CE">
                           <p class="notep1">注意：</p>
                           <p>因为开始与Oracle数据库<span class="italic">12c的</span>一个单独的调试日志，警报日志和跟踪文件精简。它们现在包含的调试日志中记录的类型警告较少。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11264"></a><div class="props_rev_3"><a id="GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498" name="GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498"></a><h5 id="ADMIN-GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498" class="sect5"><span class="enumeration_section">9.1.3.6</span>其他ADR内容</h5>
                     <p>除了前面部分中提到的文件之外，ADR还包含运行状况监视器报告，数据修复记录，SQL测试用例，事件包等。这些组件将在本章后面介绍。</p>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11265"></a><div class="props_rev_3"><a id="GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164" name="GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164"></a><h5 id="ADMIN-GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164" class="sect5"><span class="enumeration_section">9.1.3.7</span>企业管理器支持工作台</h5>
                     <div>
                        <p>企业管理器支持工作台（Support Workbench）是一个可以让您通过易于使用的图形界面调查，报告并在某些情况下修复问题（严重错误）的工具。</p>
                        <p>Support Workbench提供了一种自助服务方式，您可以在最短的时间内收集首次故障诊断数据，获取支持请求编号并将诊断数据上载到Oracle支持，从而缩短了解决问题。Support Workbench还建议并提供对Oracle顾问程序的轻松访问，以帮助您修复与SQL相关的问题，数据损坏问题等。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11266"></a><div class="props_rev_3"><a id="GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" name="GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6"></a><h5 id="ADMIN-GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" class="sect5"><span class="enumeration_section">9.1.3.8</span> ADRCI命令行实用程序</h5>
                     <div>
                        <p>ADR命令解释程序（ADRCI）是一个实用程序，使您可以在命令行环境中调查问题，查看运行状况检查报告以及打包首次故障诊断数据。</p>
                        <p>然后，您可以将程序包上载到Oracle Support。ADRCI还允许您查看ADR中跟踪文件的名称，并查看剥离了XML标记的警报日志，包括内容过滤和不使用内容过滤。</p>
                        <p>有关ADRCI的更多信息，请参阅<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle数据库实用程序</span></a> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="故障可诊断性基础结构由多个组件组成，包括自动诊断存储库（ADR），各种日志，跟踪文件，企业管理器支持工作台和ADRCI命令行实用程序。">故障可诊断性基础结构组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13159"></a><a id="ADMIN13022"></a><a id="ADMIN12566"></a><a id="ADMIN13023"></a><a id="ADMIN13024"></a><a id="ADMIN14238"></a><a id="ADMIN12567"></a><a id="ADMIN13276"></a><a id="ADMIN12568"></a><a id="ADMIN13025"></a><a id="ADMIN13483"></a><a id="ADMIN13484"></a><a id="ADMIN11008"></a><div class="props_rev_3"><a id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" name="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33"></a><h4 id="ADMIN-GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" class="sect4"><span class="enumeration_section">9.1.4</span>自动诊断信息库的结构，内容和位置</h4>
                  <div>
                     <p>自动诊断存储库（ADR）是存储在数据库外部的目录结构。因此，当数据库关闭时，它可用于问题诊断。</p>
                     <p>ADR根目录称为<span class="bold">ADR基础</span> 。其位置由<code class="codeph">DIAGNOSTIC_DEST</code>初始化参数设置。如果省略此参数或保留为null，则数据库在启动时设置<code class="codeph">DIAGNOSTIC_DEST</code> ，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果设置了环境变量<code class="codeph">ORACLE_BASE</code> ，则<code class="codeph">DIAGNOSTIC_DEST</code>将设置为<code class="codeph">ORACLE_BASE</code>指定的目录。</p>
                        </li>
                        <li>
                           <p>如果未设置环境变量<code class="codeph">ORACLE_BASE</code> ，则<code class="codeph">DIAGNOSTIC_DEST</code>设置为<span class="italic">ORACLE_HOME</span> / log。
                           </p>
                        </li>
                     </ul>
                     <p>在ADR基础内，可以有多个ADR主目录，其中每个ADR主目录是所有诊断数据跟踪，转储，警报日志等的根目录，用于特定Oracle产品或组件的特定实例。例如，在具有Oracle ASM的Oracle Real Application Clusters环境中，每个数据库实例，Oracle ASM实例和侦听器都具有ADR主目录。</p>
                     <p>ADR家庭驻留在ADR基础子目录中，这些子目录根据产品或组件类型命名。<a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__BHCDHHGB">图9-1</a>说明了这些顶级子目录。
                     </p>
                     <div class="figure" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__BHCDHHGB">
                        <p class="titleinfigure">图9-1 ADR中的产品/组件类型子目录</p><img src="img/admin082.png" width="449" alt="下面是图9-1的描述" title="下面是图9-1的描述" longdesc="img_text/admin082.html"><br><a href="img_text/admin082.html">“图9-1 ADR中的产品/组件类型子目录”的描述</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnote" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-B1E6FECB-85B9-4733-B6DF-7AA6ADA15C01">
                        <p class="notep1">注意：</p>
                        <p>可能会在ADR中创建其他子目录，具体取决于您的配置。某些产品会自动从ADR中清除过期的诊断数据。对于其他产品，您可以定期使用ADRCI实用程序<code class="codeph">PURGE</code>命令清除过期的诊断数据。
                        </p>
                     </div>
                     <p>每个ADR主目录的位置由以下路径给出，该路径从ADR基本目录开始：</p><pre class="oac_no_warn" dir="ltr">diag / <span class="italic">product_type</span> / <span class="italic">product_id</span> / <span class="italic">instance_id</span>
</pre><p>例如， <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDBHGDB" title="该表包含2列和3行。第一列列出ADR主目录路径的组件，第二列列出该组件的Oracle数据库产品值。">表9-1</a>列出了Oracle数据库实例的各种路径组件的值。
                     </p>
                     <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDBHGDB">
                        <p class="titleintable">表9-1 Oracle数据库的ADR主路径组件</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="适用于Oracle数据库的ADR主路径组件" width="100%" border="1" summary="This table contains 2 columns and 3 rows. The first column lists a component of the path to an ADR home, and the 2nd column lists that component’s value for the Oracle Database product." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d116652e1418">路径组件</th>
                                 <th align="left" valign="bottom" width="66%" id="d116652e1421">Oracle数据库的价值</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d116652e1426" headers="d116652e1418 ">
                                    <p>产品类别</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d116652e1426 d116652e1421 ">
                                    <p>RDBMS</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d116652e1433" headers="d116652e1418 ">
                                    <p>PRODUCT_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d116652e1433 d116652e1421 ">
                                    <p><span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d116652e1442" headers="d116652e1418 ">
                                    <p>INSTANCE_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d116652e1442 d116652e1421 ">
                                    <p><span class="italic">SID</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>例如，对于具有SID和数据库唯一名称的数据库都等于<code class="codeph">orclbi</code> ，ADR home将位于以下位置：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ADR_base</span> / diag / rdbms / orclbi / orclbi /</pre><p>同样，单实例环境中Oracle ASM实例的ADR主路径将是：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ADR_base</span> / diag / asm / + asm / + asm /</pre><div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-44CBEAEB-4EFF-4CB9-B6F2-8BDAAB8A0ADD">ADR Home Subdirectories</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在每个ADR主目录中包含包含诊断数据的子目录。<a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJCCGC" title="该表包含2列和4行。第一列列出ADR home中子目录的名称，第二列描述子目录内容。">表9-2</a>列出了其中一些子目录及其内容。
                        </p>
                        <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJCCGC">
                           <p class="titleintable">表9-2 ADR Home子目录</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADR Home Subdirectories" width="100%" border="1" summary="This table contains 2 columns and 4 rows. The first column lists the name of a subdirectory within ADR home, and the second column describes the subdirectory contents." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d116652e1486">子目录名称</th>
                                    <th align="left" valign="bottom" width="76%" id="d116652e1489">内容</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1494" headers="d116652e1486 ">
                                       <p>警报</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1494 d116652e1489 ">
                                       <p>XML格式的警报日志</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1501" headers="d116652e1486 ">
                                       <p>cdump</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1501 d116652e1489 ">
                                       <p>核心文件</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1508" headers="d116652e1486 ">
                                       <p>事件</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1508 d116652e1489 ">
                                       <p>多个子目录，其中每个子目录都针对特定事件命名，每个子目录包含仅与该事件有关的转储</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1515" headers="d116652e1486 ">
                                       <p>跟踪</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1515 d116652e1489 ">
                                       <p>后台和服务器进程跟踪文件，SQL跟踪文件和文本格式的警报日志</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1522" headers="d116652e1486 ">
                                       <p>（其他）</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1522 d116652e1489 ">
                                       <p>ADR home的其他子目录，用于存储事件包，运行状况监视器报告，警报日志以外的日志（如DDL日志和调试日志）等信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDHDIDD">图9-2</a>说明了数据库实例的ADR的完整目录层次结构。
                        </p>
                        <div class="figure" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDHDIDD">
                           <p class="titleinfigure">图9-2数据库实例的ADR目录结构</p><img src="img/admin077.gif" width="358" alt="下面是图9-2的描述" title="下面是图9-2的描述" longdesc="img_text/admin077.html"><br><a href="img_text/admin077.html">“图9-2数据库实例的ADR目录结构”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CEGIGCCG">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-F9B8B8E4-D20F-4BE1-A15C-03C00D4B127D">Oracle Clusterware环境中的ADR</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle Clusterware使用ADR并拥有自己的Oracle主目录和Oracle基础。Oracle Clusterware的ADR目录结构与数据库实例的ADR目录结构不同。系统上只有一个Oracle Clusterware实例，因此Clusterware ADR家庭仅使用系统的主机名作为区分器。</p>
                        <p>配置Oracle Clusterware时，ADR主目录对产品类型和实例ID使用<code class="codeph">crs</code> ，系统主机名用于产品ID。因此，在名为<code class="codeph">dbprod01</code>的主机上，CRS ADR主页将是：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ADR_base</span> / diag / crs / dbprod01 / crs /</pre><div class="infoboxnotealso" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-0B6479D1-0B8D-4ADD-ACF1-BC2C7C4DA596">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../cwadd/troubleshooting-oracle-clusterware.html#CWADD91091" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-EB319695-32BD-4A95-B048-4B361E02D3E9">Oracle Real Application Clusters环境中的ADR</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle Real Application Clusters（Oracle RAC）环境中，每个节点可以在其自己的本地存储上具有ADR，或者可以将ADR基础设置为共享存储上的位置。您可以使用ADRCI查看单个报告上所有实例的聚合诊断数据。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-411E789D-9220-4118-A15D-BBEC6F472EF9">Oracle客户端中的ADR</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每个Oracle客户端安装都包含一个ADR，用于与任何Oracle客户端组件中的严重故障相关联的诊断数据。ADRCI实用程序随Oracle Client一起安装，以便您可以检查诊断数据并对其进行打包以使其能够上载到Oracle Support。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJBHBJ">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-0B88370C-DA92-4EFA-902C-13BD8CB8538A">使用V $ DIAG_INFO视图查看ADR位置</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d116652e1578" class="indexterm-anchor"></a> <code class="codeph">V$DIAG_INFO</code>视图列出了当前Oracle数据库实例的所有重要ADR位置。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V $ DIAG_INFO; INST_ID NAME VALUE ------- --------------------- ------------------- ------------------------------------------ 1 Diag Enabled TRUE 1 ADR Base / u01 / oracle 1 ADR Home / u01 / oracle / diag / rdbms / orclbi / orclbi 1 Diag Trace / u01 / oracle / diag / rdbms / orclbi / orclbi / trace 1 Diag Alert / u01 / oracle / diag / rdbms / orclbi / orclbi / alert 1 Diag Incident / u01 / oracle / diag / rdbms / orclbi / orclbi / incident 1 Diag Cdump / u01 / oracle / diag / rdbms / orclbi / orclbi / cdump 1 Health Monitor / u01 / oracle / diag / rdbms / orclbi / orclbi / hm 1默认跟踪文件/u01/oracle/diag/rdbms/orclbi/orclbi/trace/orcl_ora_22769.trc 1活动问题计数8 1活动事件计数20</pre><p>下表描述了此视图显示的一些信息。</p>
                        <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-AF51062F-5E02-49DF-BD1E-6A05E5792C67">
                           <p class="titleintable">表9-3 V $ DIAG_INFO视图中的数据</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="V $ DIAG_INFO视图中的数据" width="100%" border="1" summary="This table has 2 columns: Name and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d116652e1598">名称</th>
                                    <th align="left" valign="bottom" width="80%" id="d116652e1601">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1606" headers="d116652e1598 ">
                                       <p>ADR基地</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1606 d116652e1601 ">
                                       <p>ADR基础的路径</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1613" headers="d116652e1598 ">
                                       <p>ADR主页</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1613 d116652e1601 ">
                                       <p>ADR home的路径，用于当前数据库实例</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1620" headers="d116652e1598 ">
                                       <p>Diag Trace</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1620 d116652e1601 ">
                                       <p>后台进程跟踪文件，服务器进程跟踪文件，SQL跟踪文件以及警报日志的文本格式版本的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1627" headers="d116652e1598 ">
                                       <p>诊断警报</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1627 d116652e1601 ">
                                       <p>XML格式的警报日志的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1634" headers="d116652e1598 ">
                                       <p>默认跟踪文件</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1634 d116652e1601 ">
                                       <p>当前会话的跟踪文件的路径</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-2BECA4F4-A267-4168-8D1F-A8AC6D507579">使用V $ DIAG_CRITICAL_ERROR视图查看严重错误</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d116652e1645" class="indexterm-anchor"></a> <code class="codeph">V$DIAG_CRITICAL_ERROR</code>视图列出了指定为当前Oracle数据库版本的严重错误的所有非内部错误。视图未列出内部错误，因为内部错误始终被指定为严重错误。
                        </p>
                        <p>以下示例显示了<code class="codeph">V$DIAG_CRITICAL_ERROR</code>视图的输出：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V $ DIAG_CRITICAL_ERROR;设施错误---------- -------------------------------------- -------------------------- ORA 7445 ORA 4030 ORA 4031 ORA 29740 ORA 255 ORA 355 ORA 356 ORA 239 ORA 240 ORA 494 ORA 3137 ORA 227 ORA 353 ORA 1578 ORA 32701 ORA 32703 ORA 29770 ORA 29771 ORA 445 ORA 25319 OCI 3106 OCI 3113 OCI 3135</pre><p>下表描述了此视图显示的信息。</p>
                        <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-DA4086BB-F32F-4CAD-806B-7FCFB22E3260">
                           <p class="titleintable">表9-4 V $ DIAG_CRITICAL_ERROR视图中的数据</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="V $ DIAG_CRITICAL_ERROR视图中的数据" width="100%" border="1" summary="This table has 2 columns: Column and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d116652e1670">柱</th>
                                    <th align="left" valign="bottom" width="79%" id="d116652e1673">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d116652e1678" headers="d116652e1670 ">
                                       <p><code class="codeph">设施</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d116652e1678 d116652e1673 ">
                                       <p>可以报告错误的工具，例如Oracle数据库（ORA）或Oracle调用接口（OCI）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d116652e1686" headers="d116652e1670 ">
                                       <p><code class="codeph">错误</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d116652e1686 d116652e1673 ">
                                       <p>错误号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-86D60572-DFCB-4544-8B8B-582F9F25F46B">
                        <p class="notep1">也可以看看：</p>
                        <p>有关内部错误的更多信息，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" title="为了便于诊断和解决关键错误，故障诊断基础架构为Oracle数据库引入了两个概念：问题和事件。">关于事件和问题</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障可诊断性基础结构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12290"></a><div class="props_rev_3"><a id="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" name="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619"></a><h3 id="ADMIN-GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" class="sect3"><span class="enumeration_section">9.2</span>关于调查，报告和解决问题</h3>
               <div>
                  <p>您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。您可以使用“路线图”来总结您必须执行的典型任务集。</p>
                  <div class="infoboxnote" id="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619__GUID-12C07902-22E2-4119-8384-9C1938FB5EF7">
                     <p class="notep1">注意：</p>
                     <p>本节中描述的任务都是基于云控制的。您还可以使用<code class="codeph">ADRCI</code>命令行实用程序，使用<code class="codeph">DBMS_HM</code>和<code class="codeph">DBMS_SQLDIAG</code>等PL / SQL包以及其他软件工具完成所有这些任务（或其等效任务）。有关<code class="codeph">ADRCI</code>实用<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">程序</span></a>的更多信息，请参阅<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle数据库实用</span></a>程序，有关PL / SQL程序包的信息，请参阅<a href="../arpls/index.html" target="_blank"><span class="italic">Oracle数据库PL / SQL程序包和类型参考</span></a> 。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FE7F979C-5C6D-4824-931A-03A9339623F5">路线图 - 调查，报告和解决问题</a><br>您可以从Cloud Control中的Support Workbench主页开始调查问题。但是，更典型的工作流程从数据库主页上的严重错误警报开始。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A">任务1：在Cloud Control中查看严重错误警报</a><br>您可以通过查看数据库主页或Oracle自动存储管理主页上的严重错误警报来开始调查问题（严重错误）的过程。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-153C0784-056D-45C7-9DE5-BF0781A46C15">任务2：查看问题详细信息</a><br>您可以从“事件管理器问题详细信息”页面继续调查。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8">任务3 :(可选）收集其他诊断信息</a><br>您可以执行以下活动来收集问题的其他诊断信息。然后，此附加信息将自动包含在上载到Oracle Support的诊断数据中。如果您不确定是否要执行这些活动，请咨询Oracle支持代表。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B">任务4 :(可选）创建服务请求</a><br>此时，您可以创建Oracle支持服务请求并使用问题信息记录服务请求编号。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1">任务5：将诊断数据打包并上载到Oracle支持</a><br>对于此任务，您可以使用Support Workbench的快速打包过程将问题的诊断信息打包并上载到Oracle Support。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4">任务6：跟踪服务请求并实施任何维修</a><br>将诊断信息上载到Oracle Support后，您可以执行各种活动来跟踪服务请求，收集其他诊断信息以及实施修复。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619__GUID-BBA3EB84-DF86-4203-B055-F67A9EBA5F02">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障可诊断性基础结构</a> ”</span> ，以获取有关问题及其诊断数据的更多信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13026"></a><a id="ADMIN12291"></a><div class="props_rev_3"><a id="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5" name="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5"></a><h4 id="ADMIN-GUID-FE7F979C-5C6D-4824-931A-03A9339623F5" class="sect4"><span class="enumeration_section">9.2.1</span>路线图 - 调查，报告和解决问题</h4>
                  <div>
                     <p>您可以从Cloud Control中的Support Workbench主页开始调查问题。但是，更典型的工作流程从数据库主页上的严重错误警报开始。</p>
                     <p><a href="diagnosing-and-resolving-problems.html#GUID-FE7F979C-5C6D-4824-931A-03A9339623F5__CHDDIIEG">图9-3</a>说明了您为调查，报告以及在某些情况下解决问题而完成的任务。
                     </p>
                     <div class="figure" id="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5__CHDDIIEG">
                        <p class="titleinfigure">图9-3调查，报告和解决问题的工作流程</p><img src="img/admin106.png" width="388" alt="下面是图9-3的描述" title="下面是图9-3的描述" longdesc="img_text/admin106.html"><br><a href="img_text/admin106.html">“图9-3调查，报告和解决问题的工作流程”的说明</a></div>
                     <!-- class="figure" -->
                     <p>以下是任务说明。后续部分提供每项任务的详细信息。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A" title="您可以通过查看数据库主页或Oracle自动存储管理主页上的严重错误警报来开始调查问题（严重错误）的过程。">任务1：在Cloud Control中查看严重错误警报</a></span></p>
                           <p>首先访问Cloud Control中的Database Home页面并查看严重错误警报。选择要查看其详细信息的警报，然后转到“问题详细信息”页面。</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" title="您可以从“事件管理器问题详细信息”页面继续调查。">任务2：查看问题详细信息</a></span></p>
                           <p>检查问题详细信息并查看为问题记录的所有事件的列表。显示自动运行的任何运行状况检查的结果。</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" title="您可以执行以下活动来收集问题的其他诊断信息。然后，此附加信息将自动包含在上载到Oracle Support的诊断数据中。如果您不确定是否要执行这些活动，请咨询Oracle支持代表。">任务3 :(可选）收集其他诊断信息</a></span></p>
                           <p>可选择运行其他运行状况检查或其他诊对于与SQL相关的错误，可以选择调用SQL Test Case Builder，它收集与SQL问题相关的所有必需数据，并以能够在Oracle Support上复制问题的方式打包信息。</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B" title="此时，您可以创建Oracle支持服务请求并使用问题信息记录服务请求编号。">任务4 :(可选）创建服务请求</a></span></p>
                           <p>（可选）使用My Oracle Support创建服务请求，并使用问题信息记录服务请求编号。如果跳过此步骤，可以稍后创建服务请求，或者Support Workbench可以为您创建一个服务请求。</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="对于此任务，您可以使用Support Workbench的快速打包过程将问题的诊断信息打包并上载到Oracle Support。">任务5：将诊断数据打包并上载到Oracle支持</a></span></p>
                           <p>调用指导工作流（ <span class="italic">向导</span> ），该工作流自动打包收集的问题诊断数据并将数据上载到Oracle Support。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" title="将诊断信息上载到Oracle Support后，您可以执行各种活动来跟踪服务请求，收集其他诊断信息以及实施修复。">任务6：跟踪服务请求并实施任何维修</a></span></p>
                           <p>（可选）在Support Workbench中维护服务请求的活动日志。运行Oracle顾问程序以帮助修复SQL故障或损坏的数据。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5__GUID-A5861660-D6B4-48CB-8A04-9BA187B77CCB">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看支持工作台的问题</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12569"></a><a id="ADMIN14158"></a><a id="ADMIN12292"></a><div class="props_rev_3"><a id="GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A" name="GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A"></a><h4 id="ADMIN-GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A" class="sect4"><span class="enumeration_section">9.2.2</span>任务1：在云控制中查看严重错误警报</h4>
                  <div>
                     <p>您可以通过查看数据库主页或Oracle自动存储管理主页上的严重错误警报来开始调查问题（严重错误）的过程。</p>
                     <div class="section">
                        <p>要查看严重错误警报：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>访问Cloud Control中的数据库主页。</span></li>
                        <li class="stepexpand"><span>在“突发事件和问题”部分中查看警报。</span><div>
                              <p>如有必要，单击“警报”标题旁边的隐藏/显示图标以显示警报。</p>
                              <p>此外，在“类别”列表中，您可以选择特定类别以仅查看该类别的警报。</p>
                              <div class="figure" id="GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A__GUID-65028338-754A-40FE-9723-4D6D4DA5B762"><img src="img/diag_incidents_and_problems.gif" width="498" alt="diag_incidents_and_problems.gif的描述如下" title="diag_incidents_and_problems.gif的描述如下" longdesc="img_text/diag_incidents_and_problems.html"><br><a href="img_text/diag_incidents_and_problems.html">说明diag_incidents_and_problems.gif的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“摘要”列中，单击要调查的严重错误警报的消息。</span><div>
                              <p>将显示“事件管理器问题详细信息”页面的“常规”子页面此页面包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>问题详情</p>
                                 </li>
                                 <li>
                                    <p>允许您在“跟踪”部分中确认，清除或记录有关警报的注释的控件</p>
                                 </li>
                                 <li>
                                    <p>使用Support Workbench可以诊断问题的链接，并在“引导分辨率”部分中打包诊断。</p>
                                 </li>
                              </ul>
                              <p>根据您正在调查的问题类型，可能会出现其他部分。</p>
                              <p>要查看有关该问题的更多信息，请单击“事件管理器问题详细信息”页面上的以下子页面：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>“事件”子页面包含有关问题的各个事件的信息。</p>
                                 </li>
                                 <li>
                                    <p>My Oracle Support Knowledge子页面提供对My Oracle Support的访问，以获取有关该问题的更多信息。</p>
                                 </li>
                                 <li>
                                    <p>“更新”子页面显示有关问题的所有更新。</p>
                                 </li>
                                 <li>
                                    <p>“相关问题”子页面显示与当前问题具有相同问题关键字的其他打开问题。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>请执行以下操作之一：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要查看与您正在调查的严重错误警报相关的问题的详细信息，请继续执行<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" title="您可以从“事件管理器问题详细信息”页面继续调查。">任务2：查看问题详细信息</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果存在多个相关问题，并且您想要查看有关它们的更多信息，请完成以下步骤：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>查看<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">使用Support Workbench查看问题</a> ”中</span>所述的问题和事件。
                                          </p>
                                       </li>
                                       <li>
                                          <p>选择单个问题并查看问题详细信息，如<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workbench的问题</a> ”中所述</span> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p>继续<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" title="您可以执行以下活动来收集问题的其他诊断信息。然后，此附加信息将自动包含在上载到Oracle Support的诊断数据中。如果您不确定是否要执行这些活动，请咨询Oracle支持代表。">任务3 :(可选）收集其他诊断信息</a> ”</span> 。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12570"></a><a id="ADMIN12293"></a><div class="props_rev_3"><a id="GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" name="GUID-153C0784-056D-45C7-9DE5-BF0781A46C15"></a><h4 id="ADMIN-GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" class="sect4"><span class="enumeration_section">9.2.3</span>任务2：查看问题详细信息</h4>
                  <div>
                     <p>您可以从“事件管理器问题详细信息”页面继续调查。</p>
                     <div class="section">
                        <p>要查看问题详细信息：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在“事件管理器问题详细信息”页面的“常规”子页面上，单击“诊断”子部分中的“ <span class="bold">支持工作台：问题详细信息</span> ”。</span><div>
                              <p>将显示“支持工作台问题详细信息”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）完成以下一个或多个操作：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在“调查和解决”部分的“诊断”下，单击“跨拓扑的相关问题”。</p>
                                    <p>将显示一个页面，显示本地Oracle自动存储管理（Oracle ASM）实例或Oracle Real Application Clusters环境中其他节点上的数据库或Oracle ASM实例中的任何相关问题。如果云控制数据库主页的“相关警报”部分中显示任何严重警报，则建议执行此步骤。</p>
                                    <p>有关详细信息，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="对于数据库实例中发现的任何问题，可诊断性框架可以识别Oracle数据库安装拓扑中的相关问题。">拓扑中的相关问题</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>要查看事件详细信息，请在“事件”子页面中选择一个事件，然后单击“ <span class="bold">查看”</span> 。
                                    </p>
                                    <p>将出现“事件详细信息”页面，其中显示“转储文件”子页面。</p>
                                 </li>
                                 <li>
                                    <p>在“事件详细信息”页面上，选择“ <span class="bold">检查器查找”</span>以查看“检查器查找”子页面。
                                    </p>
                                    <p>此页面显示检测到严重错误时自动运行的任何运行状况检查的结果。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12294"></a><div class="props_rev_3"><a id="GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" name="GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8"></a><h4 id="ADMIN-GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" class="sect4"><span class="enumeration_section">9.2.4</span>任务3 :(可选）收集其他诊断信息</h4>
                  <div>
                     <p>您可以执行以下活动来收集问题的其他诊断信息。然后，此附加信息将自动包含在上载到Oracle Support的诊断数据中。如果您不确定是否要执行这些活动，请咨询Oracle支持代表。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>手动调用其他运行状况检查。</p>
                              <p>请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="您可以使用Health Monitor对数据库运行诊断检查。">使用Health Monitor主动识别问题</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>调用SQL Test Case Builder。</p>
                              <p>请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder是一种自动收集在不同数据库实例中重现问题所需信息的工具。">使用SQL测试用例构建器创建测试用例</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12571"></a><a id="ADMIN12295"></a><div class="props_rev_3"><a id="GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B" name="GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B"></a><h4 id="ADMIN-GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B" class="sect4"><span class="enumeration_section">9.2.5</span>任务4 :(可选）创建服务请求</h4>
                  <div>
                     <p>此时，您可以创建Oracle支持服务请求并使用问题信息记录服务请求编号。</p>
                     <div class="section">
                        <p>如果您选择跳过此任务，那么Support Workbench将在<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="对于此任务，您可以使用Support Workbench的快速打包过程将问题的诊断信息打包并上载到Oracle Support。">任务5：将诊断数据打包并上载到Oracle支持</a> ”中</span>自动为您创建草稿服务请求。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要创建服务请求：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>从Enterprise菜单中，选择<span class="bold">My Oracle Support</span> ，然后选择<span class="bold">Service Requests</span> 。
                              </p>
                              <p>将显示“My Oracle Support登录和注册”页面。</p>
                           </li>
                           <li>
                              <p>登录My Oracle Support并以常规方式创建服务请求。</p>
                              <p>（可选）记住下一步的服务请求编号（SR＃）。</p>
                           </li>
                           <li>
                              <p>（可选）返回“问题详细信息”页面，然后执行以下操作：</p>
                              <ol type="a">
                                 <li>
                                    <p>在“摘要”部分中，单击与SR＃标签相邻的“ <span class="bold">编辑”</span>按钮。
                                    </p>
                                 </li>
                                 <li>
                                    <p>输入SR＃，然后单击“ <span class="bold">确定”</span> 。</p>
                                 </li>
                              </ol>
                              <p>SR＃记录在“问题详细信息”页面中。这仅供您参考。有关返回“问题详细信息”页面的信息，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch</a></span>的问题”。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12572"></a><a id="ADMIN12296"></a><div class="props_rev_3"><a id="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" name="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1"></a><h4 id="ADMIN-GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" class="sect4"><span class="enumeration_section">9.2.6</span>任务5：将诊断数据打包并上载到Oracle支持</h4>
                  <div>
                     <p>对于此任务，您可以使用Support Workbench的快速打包过程将问题的诊断信息打包并上载到Oracle Support。</p>
                     <div class="section">
                        <p>快速打包具有最少的步骤，在指导工作流程（向导）中进行组织。该向导可帮助您为单个问题创建事件包（包），从包中创建zip文件以及上载文件。通过快速打包，您无法编辑或以其他方式自定义上载的诊断信息。但是，快速打包是打包和上传诊断数据的更直接，直接的方法。</p>
                        <p>要在诊断信息中编辑或删除敏感数据，附上其他用户文件（例如应用程序配置文件或脚本），或在上载之前执行其他自定义，您必须使用自定义打包过程，这是一个更加手动的过程，并且有更多步骤。有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a> ”</span> 。如果您选择按照这些说明而不是任务5中的说明进行操作，请立即执行此操作，然后继续完成<a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" title="将诊断信息上载到Oracle Support后，您可以执行各种活动来跟踪服务请求，收集其他诊断信息以及实施修复。">任务6：跟踪服务请求并实施任何修复</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1__GUID-AE2DA6C0-42AA-4EAC-94CF-DF50246E5F2E">
                           <p class="notep1">注意：</p>
                           <p>Support Workbench使用Oracle Configuration Manager上载诊断数据。如果未安装或未正确配置Oracle Configuration Manager，则上载可能会失败。在这种情况下，将显示一条消息，其中包含您手动将文件上载到Oracle Support的请求。您可以使用My Oracle Support手动上载。</p>
                           <p>有关Oracle Configuration Manager的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CCRIA" target="_blank"><span class="italic">Oracle Configuration Manager安装和管理指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要将诊断数据打包并上载到Oracle Support：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在Support Workbench问题详细信息页面的“调查和解决”部分中，单击“ <span class="bold">快速打包”</span> 。</span><div>
                              <p>将出现“快速打包”向导的“创建新包”页面。</p>
                              <div class="infoboxnote" id="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1__GUID-F5A8493C-E97D-499D-A4AF-80E692930311">
                                 <p class="notep1">注意：</p>
                                 <p>有关返回“问题详细信息”页面的说明（如果您尚未访问），请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch</a></span>的问题”。
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）输入包名称和描述。</span></li>
                        <li class="stepexpand"><span>填写页面上的任何剩余字段。如果您已为此问题创建了服务请求，请选择“创建新服务请求（SR）”的“ <span class="bold">否”</span>选项按钮。</span><div>
                              <p>如果为“创建新服务请求（SR）”选择“ <span class="bold">是”</span>选项按钮，则“快速打包”向导将代表您创建草稿服务请求。您必须稍后登录My Oracle Support并填写服务请求的详细信息。</p>
                              <p>单击<span class="bold">下一步</span> 。
                              </p>
                              <p>快速打包向导显示一个页面，指示它正在处理创建新包的命令。完成后，将显示“快速打包：查看内容”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>查看“查看内容”页面上的内容，记下创建的包的大小，然后单击“ <span class="bold">下一步”</span> 。</span><div>
                              <p>将显示“快速打包：查看清单”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>查看此页面上的信息，记下清单的位置（列在标题路径旁边）。查看完信息后，单击“ <span class="bold">下一步”</span> 。</span><div>
                              <p>将出现“快速打包：计划”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择<span class="bold">立即</span>或<span class="bold">稍后</span> 。如果选择“ <span class="bold">稍后”</span> ，则提供有关将程序包提交给My Oracle Support的时间的其他信息。在做出选择并提供任何必要信息后，单击“ <span class="bold">提交”</span> 。</span><div>
                              <p>将显示“处理：打包和发送包进度”页面。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>快速打包向导完成后，如果创建了新的草稿服务请求，则确认消息中包含My Control Support in Cloud Control中草稿服务请求的链接。您可以通过单击链接查看和编辑服务请求。</p>
                        <p>快速打包向导创建的包仍可在Support Workbench中使用。然后，您可以使用自定义打包操作（例如添加新事件）对其进行修改，并在以后再次上载。请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13028"></a><a id="ADMIN12297"></a><div class="props_rev_3"><a id="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" name="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4"></a><h4 id="ADMIN-GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" class="sect4"><span class="enumeration_section">9.2.7</span>任务6：跟踪服务请求并实施任何维修</h4>
                  <div>
                     <p>将诊断信息上载到Oracle Support后，您可以执行各种活动来跟踪服务请求，收集其他诊断信息以及实施修复。</p>
                     <div class="section">
                        <p>这些活动包括以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在问题信息中添加Oracle错误号。</p>
                              <p>为此，请在“问题详细信息”页面上，单击与Bug＃标签相邻的“ <span class="bold">编辑”</span>按钮。这仅供您参考。
                              </p>
                           </li>
                           <li>
                              <p>在问题活动日志中添加注释。</p>
                              <p>您可能希望这样做以与组织中的其他DBA共享问题状态或历史记录信息。例如，您可以使用Oracle Support记录对话的结果。要添加注释，请完成以下步骤：</p>
                              <ol>
                                 <li>
                                    <p>访问“问题详细信息”页面以查找问题，如<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch的问题</a> ”中所述</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击“ <span class="bold">活动日志”</span>以显示“活动日志”子页面。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“注释”字段中，输入注释，然后单击“ <span class="bold">添加注释”</span> 。
                                    </p>
                                    <p>您的评论将记录在活动日志中。</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>当新事件发生时，将它们添加到包中并重新上载。</p>
                              <p>对于此活动，您必须使用<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a> ”中</span>描述的自定义打包方法。
                              </p>
                           </li>
                           <li>
                              <p>运行健康检查。</p>
                              <p>请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="您可以使用Health Monitor对数据库运行诊断检查。">使用Health Monitor主动识别问题</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>运行建议的Oracle顾问程序以实施修复。</p>
                              <p>通过以下方式之一访问建议的顾问：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">“问题详细信息”页面</span> - 在“调查和解决”部分的“自助服务”选项卡中</p>
                                 </li>
                                 <li>
                                    <p><span class="bold">支持Workbench主页</span> - 在Checker Findings子<span class="bold">页面</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">“事件详细信息”页面</span> - 在Checker Findings子<span class="bold">页面中</span></p>
                                 </li>
                              </ul>
                              <p><a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4__CHDJJCIJ" title="此表包含两列：顾问名称和目的。它有两行：一行用于Data Recovery Advisor，另一行用于SQL Repair Advisor">表9-5</a>列出了有助于修复严重错误的顾问程序。
                              </p>
                              <div class="tblformalwide" id="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4__CHDJJCIJ">
                                 <p class="titleintable">表9-5帮助修复严重错误的Oracle顾问程序</p>
                                 <table cellpadding="4" cellspacing="0" class="FormalWide" title="帮助修复严重错误的Oracle顾问" width="90%" border="1" summary="This table contains two columns: Advisor Name and Purpose. It has two rows: one for the Data Recovery Advisor and one for the SQL Repair Advisor" frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="26%" id="d116652e2641">顾问</th>
                                          <th align="left" valign="bottom" width="42%" id="d116652e2644">解决了严重错误</th>
                                          <th align="left" valign="bottom" width="32%" id="d116652e2647">看到</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="26%" id="d116652e2652" headers="d116652e2641 ">
                                             <p>数据恢复顾问</p>
                                          </td>
                                          <td align="left" valign="top" width="42%" headers="d116652e2652 d116652e2644 ">
                                             <p>损坏的块，损坏或丢失的文件以及其他数据故障</p>
                                          </td>
                                          <td align="left" valign="top" width="32%" headers="d116652e2652 d116652e2647 ">
                                             <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2" title="您可以使用Data Recovery Advisor修复数据块损坏，撤消损坏，数据字典损坏等。">使用Data Recovery Advisor修复数据损坏</a> ”</span></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="26%" id="d116652e2667" headers="d116652e2641 ">
                                             <p>SQL修复顾问</p>
                                          </td>
                                          <td align="left" valign="top" width="42%" headers="d116652e2667 d116652e2644 ">
                                             <p>SQL语句失败</p>
                                          </td>
                                          <td align="left" valign="top" width="32%" headers="d116652e2667 d116652e2647 ">
                                             <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。">使用SQL修复顾问修复SQL失败</a> ”</span></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4__GUID-C1B3C5FF-49D0-4B31-AFA2-280B35EA4853">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch的问题</a> ”，</span>了解有关查看“事件详细信息”页面的“检查器查找<span class="q">”</span>子页面的说明</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" name="GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC"></a><h3 id="ADMIN-GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" class="sect3"><span class="enumeration_section">9.3</span>诊断问题</h3>
               <p>本节介绍诊断Oracle数据库中的问题的各种方法。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E">反应性地识别问题</a><br>本节介绍如何反应性地识别Oracle数据库问题。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1">使用Health Monitor主动识别问题</a><br>您可以使用Health Monitor对数据库运行诊断检查。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-DE439094-782F-40CB-8FD0-EBA143F23526">收集其他诊断数据</a><br>本节介绍如何使用警报日志和跟踪文件收集其他诊断数据。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6">使用SQL Test Case Builder创建测试用例</a><br><strong class="term">SQL Test Case Builder</strong>是一种自动收集在不同数据库实例中重现问题所需信息的工具。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" name="GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E"></a><h4 id="ADMIN-GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" class="sect4"><span class="enumeration_section">9.3.1积极</span>识别问题</h4>
                  <p>本节介绍如何反应性地识别Oracle数据库问题。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8">查看Support Workbench的问题</a><br>您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-AC066346-E437-4914-95E2-2177EA5DDD88">手动向自动诊断信息库添加问题</a><br>您可以使用Cloud Control中的Support Workbench手动将问题添加到ADR。</li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8575196D-2754-4E10-9CDB-D2228FB428AF">手动创建事件</a><br>您可以使用自动诊断存储库命令解释程序（ADRCI）实用程序手动创建事件。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="本节介绍诊断Oracle数据库中的问题的各种方法。">诊断问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13029"></a><a id="ADMIN12574"></a><a id="ADMIN13160"></a><a id="ADMIN12575"></a><a id="ADMIN12299"></a><div class="props_rev_3"><a id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" name="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8"></a><h5 id="ADMIN-GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" class="sect5"><span class="enumeration_section">9.3.1.1</span>查看Support Workbench的问题</h5>
                     <div>
                        <p>您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。</p>
                        <div class="section">
                           <div class="figure" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__CHDIEFFF">
                              <p class="titleinfigure">图9-4云控制中的Support Workbench主页</p><img src="img/support_workbench_home.gif" alt="下面是图9-4的描述" title="下面是图9-4的描述" longdesc="img_text/support_workbench_home.html"><br><a href="img_text/support_workbench_home.html">“图9-4云控制中的Support Workbench主页”的说明</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-7BB939A2-EF45-4DF0-A213-8DA081FA5984">要访问Support Workbench主页（数据库或Oracle ASM）：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>访问Cloud Control中的数据库主页。</p>
                              </li>
                              <li>
                                 <p>从Oracle Database菜单中，选择<span class="bold">Diagnostics</span> ，然后选择<span class="bold">Support Workbench</span> 。
                                 </p>
                                 <p>将显示数据库实例的Support Workbench主页，其中显示了Problems子页面。默认情况下，显示过去24小时内的问题。</p>
                              </li>
                              <li>
                                 <p><a id="d116652e2895" class="indexterm-anchor"></a>要查看Oracle ASM实例的Support Workbench主页，请单击Related Links部分中的<span class="bold">Support Workbench（+ ASM_</span> <span class="italic"><span class="bold">hostname</span></span> <span class="bold">）</span>链接。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-6C5C6C28-BADB-4A20-889D-6D1EA0D99E15">查看问题和事件：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>在Support Workbench主页上，从“查看”列表中选择所需的时间段。要查看所有问题，请选择<span class="bold">全部</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>（可选）如果隐藏了“性能和严重错误时间轴”部分，请单击部分标题旁边的“ <span class="bold">显示/隐藏”</span>图标以显示该部分。
                                 </p>
                                 <p>通过此部分，您可以查看性能更改和事件发生之间的任何关联。</p>
                              </li>
                              <li>
                                 <p>（可选）在“详细信息”列下，单击“ <span class="bold">显示”</span>以显示问题的所有事件的列表，然后单击事件ID以显示“事件详细信息”页面。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-88663F20-31E7-49CC-8FBD-075585AEB4C0">要查看特定问题的详细信息：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>在Support Workbench主页上，选择问题，然后单击“ <span class="bold">查看”</span> 。</span><div>
                                 <p>出现“问题详细信息”页面，显示“事件”子页面。事件子页面显示所有打开的事件和生成的转储 - 即未受洪水控制的事件。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>（可选）要查看正常事件和洪水控制事件，请在“数据转储”列表中选择“ <span class="bold">全部</span> ”。</span></li>
                           <li class="stepexpand"><span>（可选）要查看事件的详细信息，请选择该事件，然后单击“ <span class="bold">查看”</span> 。</span><div>
                                 <p>出现“事件详细信息”页面</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>（可选）在“事件详细信息”页面上，要查看事件的<span class="bold">检查器结果</span> ，请单击“ <span class="bold">检查器</span>查找”。</span></li>
                           <li class="stepexpand"><span>（可选）在“突发事件详细信息”页面上，要查看可用于事件的用户操作，请单击“ <span class="bold">其他诊断”</span> 。每个用户操作都为您提供了一种方法，可以针对事件或其问题收集其他诊断信息。</span></li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-237AEB10-5444-45E7-B464-929328172D31">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-8120A824-8A37-4291-87AA-D029C91EE6E2" title="可以想象，问题可能在短时间内产生数十次或数百次事故。这会产生过多的诊断数据，这会在ADR中占用太多空间，并可能减慢您诊断和解决问题的速度。由于这些原因，故障可诊断性基础设施在达到某些阈值之后将洪水控制应用于事件生成。">事故洪水控制</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" title="本节介绍如何反应性地识别Oracle数据库问题。">反应性地识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12576"></a><a id="ADMIN12323"></a><div class="props_rev_3"><a id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88" name="GUID-AC066346-E437-4914-95E2-2177EA5DDD88"></a><h5 id="ADMIN-GUID-AC066346-E437-4914-95E2-2177EA5DDD88" class="sect5"><span class="enumeration_section">9.3.1.2</span>手动向自动诊断信息库添加问题</h5>
                     <div>
                        <p>您可以使用Cloud Control中的Support Workbench手动将问题添加到ADR。</p>
                        <div class="section">
                           <p>系统生成的问题（例如，数据库内部生成的严重错误）会自动添加到自动诊断信息库（ADR）中，并在Support Workbench中进行跟踪。</p>
                           <p>在Support Workbench中，您可以收集有关这些问题的其他诊断数据，将诊断数据上传到Oracle支持，并在某些情况下解决问题，所有这些都通过<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a " roadma="=" ="">关于调查，报告，</a> ”中</span>介绍的易于使用的工作流程解决<span class="q"><a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">。并解决问题</a> “</span> 。
                           </p>
                           <p>在某些情况下，您可能需要手动将注意到的问题添加到ADR中，以便可以将该问题通过同一工作流程。这种情况的一个示例可能是自动诊断数据库监视器（ADDM）未诊断的全局数据库性能问题。Support Workbench包含一种机制，供您创建和处理此类用户报告的问题。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88__GUID-B9A4FCFE-05F3-474F-8392-E7F5A94CE736">要创建用户报告的问题：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>访问Support Workbench主页。</span><div>
                                 <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch的问题</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“相关链接”下，单击“ <span class="bold">创建用户报告的问题”</span> 。</span><div>
                                 <p>将出现“创建用户报告的问题”页面。</p>
                                 <div class="figure" id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88__GUID-6D894C98-BF88-41EF-8F18-A7BE12BFE487"><img src="img/create_user_reported_prob.gif" alt="下面是create_user_reported_prob.gif的描述" title="下面是create_user_reported_prob.gif的描述" longdesc="img_text/create_user_reported_prob.html"><br><a href="img_text/create_user_reported_prob.html">插图描述create_user_reported_prob.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>如果您的问题与列出的问题类型之一匹配，请选择问题类型，然后单击<span class="bold">“运行推荐的顾问”</span>以尝试使用Oracle顾问程序解决问题。</span></li>
                           <li class="stepexpand"><span>如果推荐的顾问没有解决问题，或者您没有运行顾问，请执行以下操作之一：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果您的问题与列出的问题类型之一匹配，请选择问题类型，然后单击“ <span class="bold">继续创建问题”</span> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>如果您的问题与列出的问题类型之一不匹配，请选择问题类型“ <span class="bold">其他”</span> ，然后单击“ <span class="bold">继续创建问题”</span> 。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>出现“问题详细信息”页</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>按照问题详细信息页面上的说明进行操作</span><div>
                                 <p>有关详细信息<span class="q"><a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a " roadma="=" ="">，</a></span>请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88__GUID-35DECBF1-BEF5-4BB5-AE8A-72CE03B084DB">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障可诊断性基础结构</a> ”</span> ，了解有关问题和ADR的更多信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" title="本节介绍如何反应性地识别Oracle数据库问题。">反应性地识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF" name="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF"></a><h5 id="ADMIN-GUID-8575196D-2754-4E10-9CDB-D2228FB428AF" class="sect5"><span class="enumeration_section">9.3.1.3</span>手动创建事件</h5>
                     <div>
                        <p>您可以使用自动诊断存储库命令解释程序（ADRCI）实用程序手动创建事件。</p>
                        <div class="section" id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF__TOCREATEANINCIDENTMANUALLYBYUSINGTH-A4B9BA10">
                           <p class="subhead3" id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF__GUID-B4CB868F-C587-4189-809C-859A0730D368">要使用ADRCI实用程序手动创建事件：</p>
                           <ol>
                              <li>
                                 <p>确保正确设置了<code class="codeph">ORACLE_HOME</code>和<code class="codeph">PATH</code>环境变量。<code class="codeph">PATH</code>环境变量必须包含<code class="codeph"><span class="codeinlineitalic">ORACLE_HOME</span> /bin</code>目录。
                                 </p>
                              </li>
                              <li>
                                 <p>通过在操作系统命令提示符处运行以下命令来启动ADRCI实用程序：</p><pre class="pre codeblock"><code>ADRCI</code></pre><p>ADRCI实用程序启动并显示以下提示：</p><pre class="pre codeblock"><code>ADRCI&gt;</code></pre></li>
                              <li>
                                 <p>运行具有以下语法的ADRCI命令以手动创建事件：</p><pre class="pre codeblock"><code>adrci&gt; dde创建事件类型<span class="italic">incident_type</span></code></pre><p>为要创建的事件类型指定<span class="italic">incident_type</span>值。要查看支持的事件类型，请运行以下ADRCI命令：</p><pre class="pre codeblock"><code>adrci&gt; dde用户事件类型</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF__ORACLEDATABASEUTILITIES-A4BCB46C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关ADRCI实用<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL-GUID-DC5744C7-FAC0-436B-99D5-DBD45B66930B" target="_blank"><span class="italic">程序</span></a>的详细信息，请参见<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL-GUID-DC5744C7-FAC0-436B-99D5-DBD45B66930B" target="_blank"><span class="italic">Oracle数据库实用</span></a>程序</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" title="本节介绍如何反应性地识别Oracle数据库问题。">反应性地识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11269"></a><div class="props_rev_3"><a id="GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" name="GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1"></a><h4 id="ADMIN-GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" class="sect4"><span class="enumeration_section">9.3.2</span>主动识别健康监测问题</h4>
                  <p>您可以使用Health Monitor对数据库运行诊断检查。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE">关于Health Monitor</a><br>Oracle数据库包含一个名为Health Monitor的框架，用于对数据库运行诊断检查。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-C9061FE5-C991-4960-AA31-C660296DF8D5">手动运行健康检查</a><br>Health Monitor可以通过使用<code class="codeph">DBMS_HM</code> PL / SQL程序包或使用<span class="wintitle">Advisor Central</span>页面的<span class="wintitle">Checkers</span>子页面上的Cloud Control界面手动运行运行状况检查。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E">查看检查器报告</a><br>运行检查程序后，您可以查看其执行情况的报告。该报告包含调查结果，建议和其他信息。您可以使用Cloud Control，ADRCI实用程序或<code class="codeph">DBMS_HM</code> PL / SQL包查看报告。下表显示了每种查看方法可用的报告格式。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE">健康监测视图</a><br>您可以通过直接查询创建报告的ADR数据来查看特定检查程序运行的结果，而不是请求检查程序报告。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34">健康检查参数参考</a><br>一些健康检查需要参数。默认值为<code class="codeph">(none)</code>是必需的。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="本节介绍诊断Oracle数据库中的问题的各种方法。">诊断问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11270"></a><div class="props_rev_3"><a id="GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" name="GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE"></a><h5 id="ADMIN-GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" class="sect5"><span class="enumeration_section">9.3.2.1</span>关于Health Monitor</h5>
                     <p>Oracle数据库包含一个名为Health Monitor的框架，用于对数据库运行诊断检查。</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720">关于Health Monitor检查</a><br>Health Monitor检查（也称为检查程序，运行状况检查或检查）检查数据库的各个层和组件。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2">健康检查的类型</a><br>健康监视器运行几种不同类型的检查。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="您可以使用Health Monitor对数据库运行诊断检查。">主动使用Health Monitor识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11271"></a><div class="props_rev_3"><a id="GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720" name="GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720"></a><h6 id="ADMIN-GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720" class="sect6"><span class="enumeration_section">9.3.2.1.1</span>关于Health Monitor检查</h6>
                        <div>
                           <p>Health Monitor检查（也称为检查程序，运行状况检查或检查）检查数据库的各个层和组件。</p>
                           <p>运行状况检查可检测文件损坏，物理和逻辑块损坏，撤消和重做损坏，数据字典损坏等。健康检查会生成他们的调查结果报告，并在许多情况下生成解决问题的建议。健康检查可以通过两种方式运行：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">反应性</span> - 故障可诊断性基础架构可以自动运行运行状况检查以响应严重错误。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">手册</span> - 作为DBA，您可以使用<code class="codeph">DBMS_HM</code> PL / SQL包或Cloud Control界面手动运行运行状况检查。如果需要，您可以定期运行检查程序，或者Oracle支持部门可能会要求您在与服务请求合作时运行检查程序。</p>
                              </li>
                           </ul>
                           <p>Health Monitor检查自动诊断信息库（ADR）中的存储结果，建议和其他信息。</p>
                           <p>健康检查可以以两种模式运行：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">DB-online</span>模式意味着可以在数据库打开时运行检查（即，在<code class="codeph">OPEN</code>模式或<code class="codeph">MOUNT</code>模式下）。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">数据库脱机</span>模式意味着可以在实例可用但数据库本身已关闭（即处于<code class="codeph">NOMOUNT</code>模式）时运行检查。
                                 </p>
                              </li>
                           </ul>
                           <p>所有运行状况检查都可以在DB-online模式下运行。只有重做完整性检查和数据库结构完整性检查才能在数据库脱机模式下使用。</p>
                           <div class="infoboxnote" id="GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720__GUID-622F2D90-2511-4409-B46D-5D0F7F0607FF">
                              <p class="notep1">注意：</p>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" title="ADR是基于文件的数据库诊断数据存储库，例如跟踪，转储，警报日志，运行状况监视器报告等。它具有跨多个实例和多个产品的统一目录结构。">自动诊断信息库（ADR）</a> ”</span></p>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" title="Oracle数据库包含一个名为Health Monitor的框架，用于对数据库运行诊断检查。">关于Health Monitor</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11272"></a><div class="props_rev_3"><a id="GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2" name="GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2"></a><h6 id="ADMIN-GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2" class="sect6"><span class="enumeration_section">9.3.2.1.2</span>健康检查的类型</h6>
                        <div>
                           <p>健康监视器运行几种不同类型的检查。</p>
                           <p>运行状况监视器运行以下检查：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">数据库结构完整性检查</span> - 如果这些文件不可访问，损坏或不一致，则此检查将验证数据库文件的完整性并报告失败。如果数据库处于装入或打开模式，则此检查将检查控制文件中列出的日志文件和数据文件。如果数据库处于<code class="codeph">NOMOUNT</code>模式，则仅检查控制文件。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">数据块完整性检查</span> - 此检查检测磁盘映像块损坏，例如校验和失败，磁头/尾部不匹配以及块内的逻辑不一致。可以使用Block Media Recovery修复大多数损坏。在<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图中也捕获损坏的块信息。此检查不会检测块间或段间损坏。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">重做完整性检查</span> - 此检查会扫描重做日志的内容以获取可访问性和损坏，以及存档日志（如果有）。重做完整性检查报告存档日志或重做损坏等故障。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">撤消段完整性检查</span> - 此检查发现逻辑撤消损坏。找到撤消损坏后，此检查使用PMON和SMON尝试恢复损坏的事务。如果此恢复失败，则Health Monitor会在<code class="codeph">V$CORRUPT_XID_LIST</code>存储有关损坏的信息。大多数撤消损坏都可以通过强制提交来解决。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">事务完整性检查</span> - 此检查与撤消段完整性检查相同，只是它仅检查一个特定事务。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">字典完整性检查</span> - 此检查检查核心字典对象的完整性，例如<code class="codeph">tab$</code>和<code class="codeph">col$</code> 。它执行以下操作：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>验证每个字典对象的字典条目的内容。</p>
                                    </li>
                                    <li>
                                       <p>执行跨行级别检查，该检查验证是否强制执行字典中行的逻辑约束。</p>
                                    </li>
                                    <li>
                                       <p>执行对象关系检查，该检查验证是否强制执行字典对象之间的父子关系。</p>
                                    </li>
                                 </ul>
                                 <p>字典完整性检查对以下字典对象进行操作：</p>
                                 <p><code class="codeph">tab$</code> ， <code class="codeph">clu$</code> ， <code class="codeph">fet$</code> ， <code class="codeph">uet$</code> ， <code class="codeph">seg$</code> ， <code class="codeph">undo$</code> ， <code class="codeph">ts$</code> ， <code class="codeph">file$</code> ， <code class="codeph">obj$</code> ， <code class="codeph">ind$</code> ， <code class="codeph">icol$</code> ， <code class="codeph">col$</code> ， <code class="codeph">user$</code> ， <code class="codeph">con$</code> ， <code class="codeph">cdef$</code> ， <code class="codeph">ccol$</code> ， <code class="codeph">bootstrap$</code> ， <code class="codeph">objauth$</code> ， <code class="codeph">ugroup$</code> ， <code class="codeph">tsq$</code> ， <code class="codeph">syn$</code> ， <code class="codeph">view$</code> ， <code class="codeph">typed_view$</code> ， <code class="codeph">superobj$</code> ， <code class="codeph">seq$</code> ， <code class="codeph">lob$</code> ， <code class="codeph">coltype$</code> ， <code class="codeph">subcoltype$</code> ， <code class="codeph">ntab$</code> ， <code class="codeph">refcon$</code> ， <code class="codeph">opqtype$</code> ， <code class="codeph">dependency$</code> ， <code class="codeph">access$</code> ， <code class="codeph">viewcon$</code> ， <code class="codeph">icoldep$</code> ， <code class="codeph">dual$</code> ， <code class="codeph">sysauth$</code> ， <code class="codeph">objpriv$</code> ， <code class="codeph">defrole$</code>和<code class="codeph">defrole$</code> <code class="codeph">ecol$</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" title="Oracle数据库包含一个名为Health Monitor的框架，用于对数据库运行诊断检查。">关于Health Monitor</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11273"></a><div class="props_rev_3"><a id="GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" name="GUID-C9061FE5-C991-4960-AA31-C660296DF8D5"></a><h5 id="ADMIN-GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" class="sect5"><span class="enumeration_section">9.3.2.2</span>手动运行健康检查</h5>
                     <p>Health Monitor可以通过使用<code class="codeph">DBMS_HM</code> PL / SQL程序包或使用<span class="wintitle">Advisor Central</span>页面的<span class="wintitle">Checkers</span>子页面上的Cloud Control界面手动运行运行状况检查。
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7">使用DBMS_HM PL / SQL包运行运行状况检查</a><br>用于运行运行状况检查的<code class="codeph">DBMS_HM</code>过程称为<code class="codeph">RUN_CHECK</code> 。</li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148">使用云控制运行运行状况检查</a><br>Cloud Control提供了运行Health Monitor检查程序的界面。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="您可以使用Health Monitor对数据库运行诊断检查。">主动使用Health Monitor识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11274"></a><div class="props_rev_3"><a id="GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7" name="GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7"></a><h6 id="ADMIN-GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7" class="sect6"><span class="enumeration_section">9.3.2.2.1</span>使用DBMS_HM PL / SQL包运行运行状况检查</h6>
                        <div>
                           <p>用于运行运行状况检查的<code class="codeph">DBMS_HM</code>过程称为<code class="codeph">RUN_CHECK</code> 。</p>
                           <div class="section">
                              <ol>
                                 <li>
                                    <p>要调用<code class="codeph">RUN_CHECK</code> ，请提供检查的名称和运行的名称，如下所示：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_HM.RUN_CHECK（'字典完整性检查'，'my_run'）;结束; /</pre></li>
                                 <li>
                                    <p>要获取运行状况检查名称列表，请运行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM v $ hm_check WHERE internal_check ='N';</pre><p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - --------------- DB结构完整性检查数据块完整性检查重做完整性检查事务完整性检查撤消段完整性检查字典完整性检查</pre></li>
                              </ol>
                              <p>大多数健康检查接受输入参数。您可以使用<code class="codeph">V$HM_CHECK_PARAM</code>视图查看参数名称和描述。某些参数是必需的，而其他参数是可选的如果省略可选参数，则使用默认值。以下查询显示所有运行状况检查的参数信息：</p><pre class="oac_no_warn" dir="ltr">SELECT c.name check_name，p.name parameter_name，p.type，p.default_value，p.description FROM v $ hm_check_param p，v $ hm_check c WHERE p.check_id = c.id and c.internal_check ='N'ORDER BY c.name;</pre><p>输入参数在<code class="codeph">input_params</code>参数中作为由分号（;）分隔的名称/值对传递。以下示例说明如何将事务ID作为参数传递给事务完整性检查：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_HM.RUN_CHECK（check_name =&gt;'Transaction Integrity Check'，run_name =&gt;'my_run'，input_params =&gt;'TXN_ID = 7.33.2'）;结束; /</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7__GUID-961AA5CC-6CD5-4C42-A782-99DAE7B2CFD8">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34" title="一些健康检查需要参数。默认值为（none）的参数是必需的。">健康检查参数参考</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p> 有关使用<code class="codeph">DBMS_HM</code>更多示例，请<code class="codeph">DBMS_HM</code> <a href="../arpls/DBMS_HM.html#ARPLS144" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。</p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" title="Health Monitor可以通过使用DBMS_HM PL / SQL程序包或使用Advisor Central页面的Checkers子页面上的Cloud Control界面手动运行运行状况检查。">手动运行运行状况检查</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12582"></a><a id="ADMIN11275"></a><div class="props_rev_3"><a id="GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148" name="GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148"></a><h6 id="ADMIN-GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148" class="sect6"><span class="enumeration_section">9.3.2.2.2</span>使用云控制运行运行状况检查</h6>
                        <div>
                           <p>Cloud Control提供了运行Health Monitor检查程序的界面。</p>
                           <div class="section">
                              <p>使用Cloud Control运行Health Monitor Checker：</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>访问数据库主页。</span></li>
                              <li><span>从“性能”菜单中，选择“ <span class="bold">顾问主页”</span> 。</span></li>
                              <li><span>点击<span class="bold">跳棋</span>查看跳棋子页面。</span></li>
                              <li><span>在“检查器”部分中，单击要运行的检查程序。</span></li>
                              <li><span>输入输入参数的值，或者对于可选参数，将它们留空以接受默认值。</span></li>
                              <li><span>单击“ <span class="bold">确定”</span> ，确认参数，然后再次单击“ <span class="bold">确定”</span> 。</span></li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" title="Health Monitor可以通过使用DBMS_HM PL / SQL程序包或使用Advisor Central页面的Checkers子页面上的Cloud Control界面手动运行运行状况检查。">手动运行运行状况检查</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11276"></a><div class="props_rev_3"><a id="GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" name="GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E"></a><h5 id="ADMIN-GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" class="sect5"><span class="enumeration_section">9.3.2.3</span>查看检查报告</h5>
                     <p>运行检查程序后，您可以查看其执行情况的报告。该报告包含调查结果，建议和其他信息。您可以使用Cloud Control，ADRCI实用程序或<code class="codeph">DBMS_HM</code> PL / SQL包查看报告。下表显示了每种查看方法可用的报告格式。
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0">关于查看检查器报告</a><br>检查器运行的结果（结果，建议和其他信息）存储在ADR中，但不会立即生成报告。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237">使用云控制查看报告</a><br>您还可以使用Cloud Control查看特定检查器运行的Health Monitor报告和结果。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2">使用DBMS_HM查看报告</a><br>您可以使用<code class="codeph">DBMS_HM</code>包函数<code class="codeph">GET_RUN_REPORT</code>查看Health Monitor检查器报告。</li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259">使用ADRCI实用程序查看报告</a><br>您可以使用ADRCI实用程序创建和查看Health Monitor检查程序报告。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="您可以使用Health Monitor对数据库运行诊断检查。">主动使用Health Monitor识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0" name="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0"></a><h6 id="ADMIN-GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0" class="sect6"><span class="enumeration_section">9.3.2.3.1</span>关于查看检查器报告</h6>
                        <div>
                           <p>检查器运行的结果（结果，建议和其他信息）存储在ADR中，但不会立即生成报告。</p>
                           <div class="tblformal" id="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0__GUID-DDC2FC2D-7D86-44EE-99ED-0B81E7F866C6">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the report viewing methods and the report formats available for each method." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d116652e4031">报告查看方法</th>
                                       <th align="left" valign="bottom" width="20%" id="d116652e4034">报告格式可用</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d116652e4039" headers="d116652e4031 ">
                                          <p>云控制</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d116652e4039 d116652e4034 ">
                                          <p>HTML</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d116652e4046" headers="d116652e4031 ">
                                          <p><code class="codeph">DBMS_HM</code> PL / SQL包</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d116652e4046 d116652e4034 ">
                                          <p>HTML，XML和文本</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d116652e4055" headers="d116652e4031 ">
                                          <p>ADRCI实用程序</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d116652e4055 d116652e4034 ">
                                          <p>XML</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>当您使用<code class="codeph">DBMS_HM</code> PL / SQL包或Cloud Control请求报告时，如果报告尚不存在，则首先从ADR中的检查器运行数据生成报告，该报告文件以XML格式存储在HM子目录中当前实例的ADR主页，然后显示。如果报告文件已存在，则仅显示该文件。使用ADRCI实用程序时，必须首先运行命令以生成报告文件（如果该文件不存在），然后运行另一个命令以显示其内容。
                           </p>
                           <p>查看检查器报告的首选方法是使用Cloud Control。</p>
                           <div class="infoboxnote" id="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0__GUID-199300FA-D103-4D92-AAE8-AC3EC41E4962">
                              <p class="notep1">注意：</p>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" title="ADR是基于文件的数据库诊断数据存储库，例如跟踪，转储，警报日志，运行状况监视器报告等。它具有跨多个实例和多个产品的统一目录结构。">自动诊断信息库（ADR）</a> ”</span></p>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="运行检查程序后，您可以查看其执行情况的报告。该报告包含调查结果，建议和其他信息。您可以使用Cloud Control，ADRCI实用程序或DBMS_HM PL / SQL包查看报告。下表显示了每种查看方法可用的报告格式。">查看检查器报告</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12583"></a><a id="ADMIN12300"></a><div class="props_rev_3"><a id="GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237" name="GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237"></a><h6 id="ADMIN-GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237" class="sect6"><span class="enumeration_section">9.3.2.3.2</span>使用云控制查看报告</h6>
                        <div>
                           <p>您还可以使用Cloud Control查看特定检查器运行的Health Monitor报告和结果。</p>
                           <div class="section">
                              <p>要使用Cloud Control查看运行结果：</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>访问数据库主页。</span></li>
                              <li class="stepexpand"><span>从“性能”菜单中，选择“ <span class="bold">顾问主页”</span> 。</span></li>
                              <li class="stepexpand"><span>点击<span class="bold">跳棋</span>查看跳棋子页面。</span></li>
                              <li class="stepexpand"><span>单击要查看的检查器运行的运行名称。</span><div>
                                    <p>将显示“运行详细信息”页面，其中显示该检查器运行的“查找”子页面。</p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>单击“ <span class="bold">运行”</span>以显示“运行”子页面。</span><div>
                                    <p>Cloud Control显示有关检查器运行的更多信息。</p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>单击“ <span class="bold">查看报告”</span>以查看检查器运行的报告。</span><div>
                                    <p>报告显示在新的浏览器窗口中。</p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="运行检查程序后，您可以查看其执行情况的报告。该报告包含调查结果，建议和其他信息。您可以使用Cloud Control，ADRCI实用程序或DBMS_HM PL / SQL包查看报告。下表显示了每种查看方法可用的报告格式。">查看检查器报告</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11278"></a><div class="props_rev_3"><a id="GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2" name="GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2"></a><h6 id="ADMIN-GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2" class="sect6"><span class="enumeration_section">9.3.2.3.3</span>使用DBMS_HM查看报告</h6>
                        <div>
                           <p>您可以使用<code class="codeph">DBMS_HM</code>包函数<code class="codeph">GET_RUN_REPORT</code>查看Health Monitor检查器报告。</p>
                           <div class="section">
                              <p>此功能使您可以请求HTML，XML或文本格式。默认格式为text，如以下SQL * Plus示例所示：</p><pre class="oac_no_warn" dir="ltr">SET LONG 100000 SET LONGCHUNKSIZE 1000 SET PAGESIZE 1000 SET LINESIZE 512 SELECT DBMS_HM.GET_RUN_REPORT（'HM_RUN_1061'）FROM DUAL; DBMS_HM.GET_RUN_REPORT（'HM_RUN_1061'）------------------------------------------ -----------------------------运行名称：HM_RUN_1061运行ID：1061检查名称：数据块完整性检查模式：REACTIVE状态：已完成开始时间：2007-05-12 22：11：02.032292 -07：00结束时间：2007-05-12 22：11：20.835135 -07：00遇到错误：0来源事件ID：7418创建的事件数：0输入运行BLC_DF_NUM = 1的参数BLC_BL_NUM = 64349运行结果和建议查找查找名称：介质块损坏查找ID：1065类型：FAILURE状态：OPEN优先级：HIGH消息：数据文件1中的块64349：'/ u01 / app / oracle / dbs / t_db1.f'是媒体损坏消息：SYS拥有的对象BMRTEST1可能不可用查找查找名称：媒体块损坏查找ID：1071类型：FAILURE状态：OPEN优先级：HIGH消息：数据文件1中的块64351：'/ u01 /app/oracle/dbs/t_db1.f'是媒体损坏消息：SYS拥有的对象BMRTEST2可能不可用</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2__GUID-189F4B23-B712-4615-89E1-C0A1F04FDCE8">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">DBMS_HM</code>程序包的详细信息，请<code class="codeph">DBMS_HM</code> <a href="../arpls/DBMS_HM.html#ARPLS144" target="_blank"><span class="italic">Oracle Database PL / SQL程序包和类型参考</span></a> 。
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="运行检查程序后，您可以查看其执行情况的报告。该报告包含调查结果，建议和其他信息。您可以使用Cloud Control，ADRCI实用程序或DBMS_HM PL / SQL包查看报告。下表显示了每种查看方法可用的报告格式。">查看检查器报告</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12584"></a><a id="ADMIN11277"></a><div class="props_rev_3"><a id="GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259" name="GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259"></a><h6 id="ADMIN-GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259" class="sect6"><span class="enumeration_section">9.3.2.3.4</span>使用ADRCI实用程序查看报告</h6>
                        <div>
                           <p>您可以使用ADRCI实用程序创建和查看Health Monitor检查程序报告。</p>
                           <div class="section">
                              <p>要使用ADRCI创建和查看检查器报告，请执行以下操作：</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>确保正确设置了<code class="codeph">ORACLE_HOME</code>和<code class="codeph">PATH</code>环境变量，然后通过在操作系统命令提示符处运行以下命令来启动ADRCI实用程序：</span><div><pre class="oac_no_warn" dir="ltr">ADRCI</pre><p>ADRCI实用程序启动并显示以下提示：</p><pre class="oac_no_warn" dir="ltr">ADRCI&gt;</pre><p>（可选）您可以更改当前的ADR主页。使用<code class="codeph">SHOW HOMES</code>命令列出所有ADR主页，使用<code class="codeph">SET HOMEPATH</code>命令更改当前ADR主目录。有关更多信息，请参见<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle数据库实用程序</span></a>
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>输入以下命令：</span><div><pre class="oac_no_warn" dir="ltr">显示hm_run</pre><p>此命令列出ADR中注册的所有检查器运行（存储在<code class="codeph">V$HM_RUN</code> ）。</p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>找到要为其创建报告的检查器运行，并记下检查器运行名称。如果此检查器运行已存在报告，则<code class="codeph">REPORT_FILE</code>字段包含文件名。否则，使用以下命令生成报告：</span><div><pre class="oac_no_warn" dir="ltr">创建报告hm_run <span class="italic">run_name</span>
</pre></div>
                              </li>
                              <li class="stepexpand"><span>要查看报告，请输入以下命令：</span><div><pre class="oac_no_warn" dir="ltr">显示报告hm_run <span class="italic">run_name</span></pre></div>
                              </li>
                           </ol>
                           <div class="section">
                              <div class="infoboxnote" id="GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259__GUID-0CCE724F-1C95-4CEA-84FD-AF8CB16BCC3E">
                                 <p class="notep1">注意：</p>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" title="ADR是基于文件的数据库诊断数据存储库，例如跟踪，转储，警报日志，运行状况监视器报告等。它具有跨多个实例和多个产品的统一目录结构。">自动诊断信息库（ADR）</a> ”</span></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="运行检查程序后，您可以查看其执行情况的报告。该报告包含调查结果，建议和其他信息。您可以使用Cloud Control，ADRCI实用程序或DBMS_HM PL / SQL包查看报告。下表显示了每种查看方法可用的报告格式。">查看检查器报告</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN12485"></a><div class="props_rev_3"><a id="GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE" name="GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE"></a><h5 id="ADMIN-GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE" class="sect5"><span class="enumeration_section">9.3.2.4</span>健康监视器视图</h5>
                     <div>
                        <p>您可以通过直接查询创建报告的ADR数据来查看特定检查程序运行的结果，而不是请求检查程序报告。</p>
                        <p>此数据可通过视图<code class="codeph">V$HM_RUN</code> ， <code class="codeph">V$HM_FINDING</code>和<code class="codeph">V$HM_RECOMMENDATION</code> 。</p>
                        <p>以下示例查询<code class="codeph">V$HM_RUN</code>视图以确定检查器运行的历史记录：</p><pre class="oac_no_warn" dir="ltr">SELECT run_id，name，check_name，run_mode，src_incident FROM v $ hm_run; RUN_ID名称CHECK_NAME RUN_MODE SRC_INCIDENT ---------- ------------ ----------------------- ----------- -------- ------------ 1 HM_RUN_1 DB结构完整性检查REACTIVE 0 101 HM_RUN_101事务完整性检查REACTIVE 6073 121 TXNCHK事务完整性检查MANUAL 0 181 HMR_tab $字典完整性检查手册0。。。981 Proct_ts $字典完整性检查MANUAL 0 1041 HM_RUN_1041 DB结构完整性检查REACTIVE 0 1061 HM_RUN_1061数据块完整性检查REACTIVE 7418</pre><p>下一个示例查询<code class="codeph">V$HM_FINDING</code>视图以获取使用<code class="codeph">RUN_ID</code> 1061检测反应数据块的查找详细信息：</p><pre class="oac_no_warn" dir="ltr">SELECT类型，描述FROM v $ hm_finding WHERE run_id = 1061;类型说明------------- ----------------------------------- ------ FAILURE数据文件1中的块64349：'/ u01 / app / orac le / dbs / t_db1.f'是媒体损坏数据文件1中的FAILURE块64351：'/ u01 / app / orac le / dbs / t_db1 .f'是媒体腐败</pre></div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE__GUID-F12E37E5-2988-4A6E-959A-05BEB9E2E8B3">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2" title="健康监视器运行几种不同类型的检查。">健康检查的类型</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">V$HM_*</code>视图的更多信息，请<a href="../refrn/index.html" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="您可以使用Health Monitor对数据库运行诊断检查。">主动使用Health Monitor识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13030"></a><a id="ADMIN13031"></a><a id="ADMIN13032"></a><a id="ADMIN13033"></a><a id="ADMIN13034"></a><a id="ADMIN12486"></a><div class="props_rev_3"><a id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34" name="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34"></a><h5 id="ADMIN-GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34" class="sect5"><span class="enumeration_section">9.3.2.5</span>健康检查参数参考</h5>
                     <div>
                        <p>一些健康检查需要参数。默认值为<code class="codeph">(none)</code>是必需的。
                        </p>
                        <div class="section">
                           <p></p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-98C9E366-5B01-4352-955B-56E3FD85082C">
                           <p class="titleintable">表9-6数据块完整性检查的参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="数据块完整性检查的参数" width="100%" border="1" summary="This table contains 4 columns: parameter name, type, default value, description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4476">参数名称</th>
                                    <th align="left" valign="bottom" width="23%" id="d116652e4479">类型</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4482">默认值</th>
                                    <th align="left" valign="bottom" width="34%" id="d116652e4485">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4490" headers="d116652e4476 ">
                                       <p><code class="codeph">BLC_DF_NUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4490 d116652e4479 ">
                                       <p>数</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4490 d116652e4482 ">
                                       <p>（没有）</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d116652e4490 d116652e4485 ">
                                       <p>阻止数据文件编号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4504" headers="d116652e4476 ">
                                       <p><code class="codeph">BLC_BL_NUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4504 d116652e4479 ">
                                       <p>数</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4504 d116652e4482 ">
                                       <p>（没有）</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d116652e4504 d116652e4485 ">
                                       <p>数据块编号</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-6775D063-EFD7-441B-9DE8-BC460B5163F5">
                           <p class="titleintable">表9-7重做完整性检查的参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="重做完整性检查的参数" width="100%" border="1" summary="This table contains 4 columns: parameter name, type, default value, description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4529">参数名称</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4532">类型</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4535">默认值</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4538">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4543" headers="d116652e4529 ">
                                       <p><code class="codeph">SCN_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4543 d116652e4532 ">
                                       <p>文本</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4543 d116652e4535 ">
                                       <p>0</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4543 d116652e4538 ">
                                       <p>SCN最新的好重做（如果知道的话）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-2C4CEA75-7E28-4474-9CCC-B54A11DD55C0">
                           <p class="titleintable">表9-8撤消段完整性检查的参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="撤消段完整性检查的参数" width="100%" border="1" summary="This table contains 4 columns: parameter name, type, default value, description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4568">参数名称</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4571">类型</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4574">默认值</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4577">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4582" headers="d116652e4568 ">
                                       <p><code class="codeph">USN_NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4582 d116652e4571 ">
                                       <p>文本</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4582 d116652e4574 ">
                                       <p>（没有）</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4582 d116652e4577 ">
                                       <p>撤消段号</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-906ED6BD-2C5A-43FD-AC54-105E18955B63">
                           <p class="titleintable">表9-9事务完整性检查的参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="事务完整性检查的参数" width="100%" border="1" summary="This table contains 4 columns: parameter name, type, default value, description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4607">参数名称</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4610">类型</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4613">默认值</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4616">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4621" headers="d116652e4607 ">
                                       <p><code class="codeph">TXN_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4621 d116652e4610 ">
                                       <p>文本</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4621 d116652e4613 ">
                                       <p>（没有）</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4621 d116652e4616 ">
                                       <p>交易ID</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-E7BFA8AE-1536-4D7D-9A04-A2181E4790EE">
                           <p class="titleintable">表9-10字典完整性检查参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="字典完整性检查的参数" width="100%" border="1" summary="This table contains 4 columns: parameter name, type, default value, description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4646">参数名称</th>
                                    <th align="left" valign="bottom" width="23%" id="d116652e4649">类型</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4652">默认值</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4655">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4660" headers="d116652e4646 ">
                                       <p><code class="codeph">CHECK_MASK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4660 d116652e4649 ">
                                       <p>文本</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4660 d116652e4652 ">
                                       <p><code class="codeph">所有</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4660 d116652e4655 ">
                                       <p>可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">COLUMN_CHECKS</code>仅<code class="codeph">COLUMN_CHECKS</code>列检查。验证核心表中的列级约束。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ROW_CHECKS</code>仅<code class="codeph">ROW_CHECKS</code>行检查。验证核心表中的行级约束。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REFERENTIAL_CHECKS</code>仅限运行参考检查。验证核心表中的引用约束。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>所有检查。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4696" headers="d116652e4646 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4696 d116652e4649 ">
                                       <p>文本</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4696 d116652e4652 ">
                                       <p><code class="codeph">ALL_CORE_TABLES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4696 d116652e4655 ">
                                       <p>要检查的单个核心表的名称。如果省略，则检查所有核心表。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="您可以使用Health Monitor对数据库运行诊断检查。">主动使用Health Monitor识别问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-DE439094-782F-40CB-8FD0-EBA143F23526" name="GUID-DE439094-782F-40CB-8FD0-EBA143F23526"></a><h4 id="ADMIN-GUID-DE439094-782F-40CB-8FD0-EBA143F23526" class="sect4"><span class="enumeration_section">9.3.3</span>收集其他诊断数据</h4>
                  <p>本节介绍如何使用警报日志和跟踪文件收集其他诊断数据。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922">查看警报日志</a><br>您可以使用文本编辑器，Cloud Control或ADRCI实用程序查看警报日志。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-34137402-19A6-4134-93AE-D6DD02242F61">查找跟踪文件</a><br>跟踪文件存储在自动诊断存储库（ADR）中，位于每个ADR主目录下的<code class="codeph">trace</code>目录中。为了帮助您在此目录中查找单个跟踪文件，您可以使用数据字典视图。例如，您可以找到当前会话的跟踪文件或每个Oracle数据库进程的跟踪文件的路径。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="本节介绍诊断Oracle数据库中的问题的各种方法。">诊断问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12577"></a><a id="ADMIN12578"></a><a id="ADMIN11267"></a><div class="props_rev_3"><a id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" name="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922"></a><h5 id="ADMIN-GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" class="sect5"><span class="enumeration_section">9.3.3.1</span>查看警报日志</h5>
                     <div>
                        <p>您可以使用文本编辑器，Cloud Control或ADRCI实用程序查看警报日志。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922__GUID-0D3F1254-4FF9-44D5-BDA2-2C3ED0988554">要使用Cloud Control查看警报日志：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>访问Cloud Control中的数据库主页。</p>
                              </li>
                              <li>
                                 <p>从Oracle Database菜单中，选择<span class="bold">Diagnostics</span> ，然后选择<span class="bold">Support Workbench</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在相关链接下，单击<span class="bold">警报日志内容</span> 。
                                 </p>
                                 <p>将显示“查看警报日志内容”页面。</p>
                              </li>
                              <li>
                                 <p>选择要查看的条目数，然后单击<span class="bold">“执行”</span> 。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922__GUID-0801CB7C-1D36-4CD4-ABD0-8CF6F7CE2638">要使用文本编辑器查看警报日志：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>使用SQL * Plus或其他查询工具（如SQL Developer）连接到数据库。</p>
                              </li>
                              <li>
                                 <p>查询<code class="codeph">V$DIAG_INFO</code>视图，如<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJBHBJ">使用V $ DIAG_INFO视图查看ADR位置</a> ”中所示</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>要查看不带XML标记的纯文本警报日志，请完成以下步骤：</p>
                                 <ol type="a">
                                    <li>
                                       <p>在<code class="codeph">V$DIAG_INFO</code>查询结果中，记下与<code class="codeph">Diag</code> <code class="codeph">Trace</code>条目对应的路径，并将目录更改为该路径。
                                       </p>
                                    </li>
                                    <li>
                                       <p>使用文本编辑器打开文件alert_ <span class="italic">SID</span> .log。
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>要查看XML格式的警报日志，请完成以下步骤：</p>
                                 <ol type="a">
                                    <li>
                                       <p>在<code class="codeph">V$DIAG_INFO</code>查询结果中，记下与<code class="codeph">Diag</code> <code class="codeph">Alert</code>条目对应的路径，并将目录更改为该路径。
                                       </p>
                                    </li>
                                    <li>
                                       <p>使用文本编辑器打开文件log.xml。</p>
                                    </li>
                                 </ol>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922__GUID-55320D2B-CEFB-4E05-AE6B-C9666BD25089">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle数据库实用程序，</span></a>以获取有关使用ADRCI实用程序查看警报日志的文本版本（剥离XML标记）以及针对警报日志运行查询的信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-DE439094-782F-40CB-8FD0-EBA143F23526" title="本节介绍如何使用警报日志和跟踪文件收集其他诊断数据。">收集其他诊断数据</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12579"></a><a id="ADMIN12580"></a><a id="ADMIN12581"></a><a id="ADMIN12484"></a><div class="props_rev_3"><a id="GUID-34137402-19A6-4134-93AE-D6DD02242F61" name="GUID-34137402-19A6-4134-93AE-D6DD02242F61"></a><h5 id="ADMIN-GUID-34137402-19A6-4134-93AE-D6DD02242F61" class="sect5"><span class="enumeration_section">9.3.3.2</span>查找跟踪文件</h5>
                     <div>
                        <p>跟踪文件存储在自动诊断存储库（ADR）中，位于每个ADR主目录下的<code class="codeph">trace</code>目录中。为了帮助您在此目录中查找单个跟踪文件，您可以使用数据字典视图。例如，您可以找到当前会话的跟踪文件或每个Oracle数据库进程的跟踪文件的路径。
                        </p>
                        <div class="section">
                           <p></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-21917CFB-A2B6-4D01-9F65-E31803E5FB85">要查找当前会话的跟踪文件：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>提交以下查询：</p><pre class="oac_no_warn" dir="ltr">从V $ DIAG_INFO中选择值，其中NAME ='默认跟踪文件';</pre><p>返回跟踪文件的完整路径。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-9E3C3029-5F78-4CEB-97C3-C24B6DF3D141">要查找当前实例的所有跟踪文件：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>提交以下查询：</p><pre class="oac_no_warn" dir="ltr">从V $ DIAG_INFO中选择值，其中NAME ='Diag Trace';</pre><p>返回当前实例的ADR跟踪目录的路径。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-190BDC17-04B8-47EC-A082-A9572844952A">要确定每个Oracle数据库进程的跟踪文件：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>提交以下查询：</p><pre class="oac_no_warn" dir="ltr">从V $ PROCESS中选择PID，PROGRAM，TRACEFILE;</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-9C8540E2-2D0A-49B8-BBEE-CC485AEBC00D">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" title="自动诊断存储库（ADR）是存储在数据库外部的目录结构。因此，当数据库关闭时，它可用于问题诊断。">自动诊断信息库的结构，内容和位置</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle数据库实用程序中</span></a>的ADRCI <code class="codeph">SHOW</code> <code class="codeph">TRACEFILE</code>命令</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-DE439094-782F-40CB-8FD0-EBA143F23526" title="本节介绍如何使用警报日志和跟踪文件收集其他诊断数据。">收集其他诊断数据</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" name="GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6"></a><h4 id="ADMIN-GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" class="sect4"><span class="enumeration_section">9.3.4</span>使用SQL Test Case Builder创建测试用例</h4>
                  <div>
                     <p><strong class="term">SQL Test Case Builder</strong>是一种自动收集在不同数据库实例中重现问题所需信息的工具。
                     </p>
                     <p><strong class="term">SQL测试用例</strong>是一组信息，使开发人员能够为遇到性能问题的特定SQL语句重现执行计划。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC">SQL测试用例生成器的用途</a><br>SQL Test Case Builder自动化收集和再现有关问题及其发生环境的信息的过程。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987">SQL Test Case Builder的概念</a><br>SQL Test Case Builder的关键概念包括SQL事件，记录的信息类型以及输出的形式。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD">SQL Test Case Builder的用户界面</a><br>您可以通过Cloud Control或在命令行上使用PL / SQL来访问SQL Test Case Builder。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE">运行SQL测试用例生成器</a><br>您可以使用Cloud Control运行SQL Test Case Builder。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="本节介绍诊断Oracle数据库中的问题的各种方法。">诊断问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TGSQL94868"></a><div class="props_rev_3"><a id="GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC" name="GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC"></a><h5 id="ADMIN-GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC" class="sect5"><span class="enumeration_section">9.3.4.1</span> SQL测试用例生成器的用途</h5>
                     <div>
                        <p>SQL Test Case Builder自动化收集和再现有关问题及其发生环境的信息的过程。</p>
                        <p>对于大多数SQL组件，获取可重现的测试用例是错误解决速度的最重要因素。这也是用户最长也最痛苦的一步。SQL Test Case Builder的目标是尽可能多地收集与SQL事件相关的信息，然后将其打包，使Oracle员工能够在不同的系统上重现问题。</p>
                        <p>SQL Test Case Builder的输出是预定义目录中的一组脚本。这些脚本包含在另一个数据库实例上重新创建所有必需对象和环境所需的命令。测试用例准备就绪后，您可以创建目录的zip文件并将其移动到另一个数据库，或将该文件上载到Oracle Support。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder是一种自动收集在不同数据库实例中重现问题所需信息的工具。">使用SQL Test Case Builder创建测试用例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TGSQL94869"></a><div class="props_rev_3"><a id="GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" name="GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987"></a><h5 id="ADMIN-GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" class="sect5"><span class="enumeration_section">9.3.4.2</span> SQL测试用例生成器的概念</h5>
                     <div>
                        <p>SQL Test Case Builder的关键概念包括SQL事件，记录的信息类型以及输出的形式。</p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E">SQL事件</a><br>在Oracle数据库的故障可诊断性基础结构中， <strong class="term">事件</strong>只发生一次问题。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66">SQL测试用例生成器捕获的内容</a><br>SQL Test Case Builder捕获有关SQL查询及其环境的永久信息。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3E77892C-9259-4361-93FC-0C643AA51A88">SQL Test Case Builder的输出</a><br>SQL Test Case Builder的输出是一组文件，其中包含重新创建环境所需的命令以及所有必需的对象。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder是一种自动收集在不同数据库实例中重现问题所需信息的工具。">使用SQL Test Case Builder创建测试用例</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="TGSQL94870"></a><div class="props_rev_3"><a id="GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E" name="GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E"></a><h6 id="ADMIN-GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E" class="sect6"><span class="enumeration_section">9.3.4.2.1</span> SQL事件</h6>
                        <div>
                           <p>在Oracle数据库的故障可诊断性基础结构中， <strong class="term">事件</strong>只发生一次问题。
                           </p>
                           <p>SQL事件是与SQL相关的问题。当多次出现问题（严重错误）时，数据库会为每次出现创建一个事件。事件在自动诊断信息库（ADR）中加上时间戳并进行跟踪。每个事件都有一个数字事件ID，在ADR中是唯一的。</p>
                           <p>可以在命令行上随时访问SQL Test Case Builder。在Oracle Enterprise Manager云控制（云控制）中，SQL测试用例页面仅在找到SQL事件后才可用。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" title="SQL Test Case Builder的关键概念包括SQL事件，记录的信息类型以及输出的形式。">SQL Test Case Builder的概念</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL94871"></a><div class="props_rev_3"><a id="GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66" name="GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66"></a><h6 id="ADMIN-GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66" class="sect6"><span class="enumeration_section">9.3.4.2.2</span> SQL测试用例生成器捕获的内容</h6>
                        <div>
                           <p>SQL Test Case Builder捕获有关SQL查询及其环境的永久信息。</p>
                           <p>该信息包括正在执行的查询，表和索引定义（但不包括实际数据），PL / SQL包和程序单元，优化程序统计信息，SQL计划基准和初始化参数设置。从Oracle Database 12c开始，SQL Test Case Builder还捕获并重放瞬态信息，包括仅作为语句执行的一部分提供的信息。</p>
                           <p>SQL Test Case Builder支持以下内容：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>适应性计划</p>
                                 <p>SQL Test Case Builder捕获有关自适应计划的决策的输入，并在每个决策点重放它们。对于自适应计划，每个缓冲统计信息收集器的最终统计值足以决定最终计划。</p>
                              </li>
                              <li>
                                 <p>自动内存管理</p>
                                 <p>数据库自动处理每个SQL操作请求的内存。排序等操作会显着影响性能。SQL Test Case Builder会跟踪内存活动，例如，数据库分配内存的位置以及分配的内存量。</p>
                              </li>
                              <li>
                                 <p>动态统计</p>
                                 <p>动态统计是一种优化技术，其中数据库执行递归SQL语句以扫描表块的小随机样本以估计谓词选择性。在不同数据库上重新收集动态统计信息并不总是生成相同的结果，例如，缺少数据时。要重现该问题，SQL Test Case Builder将从源数据库导出动态统计结果。在测试数据库中，SQL Test Case Builder重用从源数据库捕获的相同值，而不是重新收集动态统计信息。</p>
                              </li>
                              <li>
                                 <p>多个执行支持</p>
                                 <p>SQL Test Case Builder可以捕获在多次执行查询期间累积的动态信息。此功能对于自动重新优化非常重要。</p>
                              </li>
                              <li>
                                 <p>编译环境和绑定值重放</p>
                                 <p>编译环境设置是查询优化上下文的重要部分。SQL Test Case Builder捕获在源数据库中运行问题查询时由用户更改的非默认设置。如果使用任何非默认参数值，SQL Test Case Builder会在运行查询之前重新建立相同的值。</p>
                              </li>
                              <li>
                                 <p>对象统计历史</p>
                                 <p>对象的统计历史记录有助于确定计划更改是否由统计值更改引起。<code class="codeph">DBMS_STATS</code>将历史记录存储在数据字典中。SQL测试用例构建器在导出期间将此统计数据存储到临时表中。在导入期间，SQL Test Case Builder会自动将统计历史数据从登台表重新加载到目标数据库中。
                                 </p>
                              </li>
                              <li>
                                 <p>陈述历史</p>
                                 <p>语句历史记录对于诊断与自适应游标共享，统计信息反馈和游标共享错误相关的问题非常重要。历史记录包括执行计划以及编译和执行统计信息。</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66__GUID-C7361FF5-20C7-4948-B5DD-AF9F1C7B4DC8">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关自适应查询计划，补充动态统计信息，自动重新优化和SQL计划基准的详细信息，请参阅<a href="../tgsql/introduction-to-sql-tuning.html#TGSQL-GUID-B653E5F3-F078-4BBC-9516-B892960046A2" target="_blank"><span class="italic">“Oracle数据库SQL调优指南”</span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考，</span></a>以了解<code class="codeph">DBMS_STATS</code>包</p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" title="SQL Test Case Builder的关键概念包括SQL事件，记录的信息类型以及输出的形式。">SQL Test Case Builder的概念</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL94872"></a><div class="props_rev_3"><a id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88" name="GUID-3E77892C-9259-4361-93FC-0C643AA51A88"></a><h6 id="ADMIN-GUID-3E77892C-9259-4361-93FC-0C643AA51A88" class="sect6"><span class="enumeration_section">9.3.4.2.3</span> SQL测试用例生成器的输出</h6>
                        <div>
                           <p>SQL Test Case Builder的输出是一组文件，其中包含重新创建环境所需的命令以及所有必需的对象。</p>
                           <p>默认情况下，SQL Test Case Builder将文件存储在以下目录中，其中<span class="italic">incnum</span>表示事件编号， <span class="italic">runnum</span>表示运行编号：</p><pre class="pre codeblock"><code>$ ADR_HOME / incident / incdir_ <span class="italic">incnum</span> / SQLTCB_ <span class="italic">runnum</span>
</code></pre><p>例如，有效的输出文件名可能如下所示：</p><pre class="pre codeblock"><code>$ ORACLE_HOME /日志/诊断/ RDBMS / DBSA / DBSA /事件/ incdir_2657 / SQLTCB_1</code></pre><p>您还可以通过创建名为<code class="codeph">SQL_TCB_DIR</code>的目录对象并运行<code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code>过程来指定用于存储SQL测试用例构建器文件的特定目录，如以下示例所示：</p><pre class="pre codeblock"><code>创建或替换目录SQL_TCB_DIR'/ tmp'; DECLARE tc CLOB; BEGIN DBMS_SQLDIAG.EXPORT_SQL_TESTCASE（directory =&gt;'SQL_TCB_DIR'，sql_text =&gt;'select * from hr_table'，testcase =&gt; tc）;结束;</code></pre><div class="infoboxnote" id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88__GUID-02229BDB-64C9-4462-87E4-570562FE3D2E">
                              <p class="notep1">注意：</p>
                              <p>数据库管理员必须具有对目录对象<code class="codeph">SQL_TCB_DIR</code>指定的操作系统目录的读写访问权限。</p>
                           </div>
                           <p>您还可以使用<code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code>过程的<code class="codeph">testcase_name</code>参数为<code class="codeph">testcase_name</code>指定名称。测试用例名称用作SQL Test Case Builder生成的所有文件的前缀。
                           </p>
                           <p>如果未指定测试用例名称，则SQL Test Case Builder将使用具有以下格式的缺省测试用例名称：</p><pre class="pre codeblock"><code>oratcb_ <span class="italic">connectionId</span> _ <span class="italic">sqlId</span> _ <span class="italic">sequenceNumber</span> _ <span class="italic">sessionId</span></code></pre><p>这里， <span class="italic">connectionId</span>是数据库连接ID， <span class="italic">sqlId</span>是SQL语句ID， <span class="italic">sequenceNumber</span>是内部序列号， <span class="italic">sessionId</span>是数据库会话ID。</p>
                           <p>您还可以使用<code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code>过程的<code class="codeph">ctrlOptions</code>参数指定要包含在SQL Test Case Builder输出中的任何其他信息。以下是您可以在<code class="codeph">ctrlOptions</code>参数中指定的一些选项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">compress</code> ：此选项用于将SQL Test Case Builder输出文件压缩为zip文件。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">diag_event</code> ：此选项用于指定要包含在SQL Test Case Builder输出中的跟踪信息的级别。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">problem_type</code> ：此选项用于为SQL Test Case Builder测试用例分配问题类型。例如，如果测试用例与性能回归问题相关，则可以将<code class="codeph">PERFORMANCE</code>的值分配给<code class="codeph">problem_type</code>选项。
                                 </p>
                              </li>
                           </ul>
                           <p>您可以通过查询<code class="codeph">V$SQL_TESTCASES</code>视图来查看有关SQL Test Case Builder生成的所有测试用例的信息，如以下示例所示：</p><pre class="pre codeblock"><code>从v $ sql_testcases中选择testcase_name，sql_text; TESTCASE_NAME SQL_TEXT ------------------------------------- ----------- ----------- oratcb_0_am8q8kudm02v9_1_00244CC50001 select * from hr_table</code></pre><div class="infoboxnote" id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88__GUID-A21F6FDB-D621-45C0-B70C-505967C11055">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">V$SQL_TESTCASES</code>视图需要存在名为<code class="codeph">SQL_TCB_DIR</code>的SQL Test Case Builder根目录对象。在Oracle自治数据库环境中，在配置期间会在每个POD上自动创建此目录对象。对于本地数据库，必须显式创建SQL测试用例构建器根目录对象<code class="codeph">SQL_TCB_DIR</code> ，否则<code class="codeph">V$SQL_TESTCASES</code>视图将不显示任何信息。数据库管理员必须具有对目录对象<code class="codeph">SQL_TCB_DIR</code>指定的操作系统目录的读写访问权限。</p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88__GUID-CFDC8A99-E396-4AF5-A4D3-2FD4413D5EC5">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关<code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code>过程的更多信息，请<a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">V$SQL_TESTCASES</code>视图的更多信息，请<a href="../refrn/V-SQL_TESTCASES.html#REFRN-GUID-BFF605B2-49FA-44B1-880D-8928F5395184" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" title="SQL Test Case Builder的关键概念包括SQL事件，记录的信息类型以及输出的形式。">SQL Test Case Builder的概念</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="TGSQL94873"></a><div class="props_rev_3"><a id="GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" name="GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD"></a><h5 id="ADMIN-GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" class="sect5"><span class="enumeration_section">9.3.4.3</span> SQL测试用例生成器的用户界面</h5>
                     <div>
                        <p>您可以通过Cloud Control或在命令行上使用PL / SQL来访问SQL Test Case Builder。</p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A">SQL测试用例生成器的图形界面</a><br>在Cloud Control中，您可以从“事件管理器”页面或“支持工作台”页面访问SQL测试用例构建器。
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB">SQL Test Case Builder的命令行界面</a><br><code class="codeph">DBMS_SQLDIAG</code>包执行与SQL Test Case Builder相关的任务。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder是一种自动收集在不同数据库实例中重现问题所需信息的工具。">使用SQL Test Case Builder创建测试用例</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="TGSQL94874"></a><div class="props_rev_3"><a id="GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" name="GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A"></a><h6 id="ADMIN-GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" class="sect6"><span class="enumeration_section">9.3.4.3.1</span> SQL测试用例生成器的图形界面</h6>
                        <div>
                           <p>在Cloud Control中，您可以从“事件管理器”页面或“支持工作台”页面访问SQL测试用例构建器。</p>
                           <p>本节包含以下主题：</p>
                        </div>
                        <div>
                           <ul class="ullinks">
                              <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C">访问事件管理器</a><br>从“数据库主页”上的“事件和问题”部分，您可以导航到事件管理器。
                              </li>
                              <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-82F02C36-11DC-486B-B299-E242E4B10490">访问Support Workbench</a><br>从Oracle Database菜单中，您可以导航到Support Workbench。
                              </li>
                           </ul>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" title="您可以通过Cloud Control或在命令行上使用PL / SQL来访问SQL Test Case Builder。">SQL Test Case Builder的用户界面</a></p>
                              </div>
                           </div>
                        </div>
                        <a id="TGSQL94837"></a><div class="props_rev_3"><a id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C" name="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C"></a><h6 id="ADMIN-GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C" class="sect6"><span class="enumeration_section">9.3.4.3.1.1</span>访问事件管理器</h6>
                           <div>
                              <p>从“数据库主页”上的“事件和问题”部分，您可以导航到事件管理器。</p>
                              <div class="section">
                                 <p class="subhead3" id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C__GUID-40ADF328-61A7-4759-903B-2EDC5B729DBF">要访问事件管理器：</p>
                                 <ol>
                                    <li>
                                       <p>使用适当的凭据登录Cloud Control。</p>
                                    </li>
                                    <li>
                                       <p>在“ <span class="bold">目标”</span>菜单下，选择“ <span class="bold">数据库”</span> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>在数据库目标列表中，选择要管理的Oracle数据库实例的目标。</p>
                                    </li>
                                    <li>
                                       <p>如果系统提示您输入数据库凭据，请输入您要执行的任务所需的最低凭据。</p>
                                    </li>
                                    <li>
                                       <p>在“事件和问题”部分中，找到要调查的SQL事件。</p>
                                       <p>在以下示例中， <code class="codeph">ORA 600</code>错误是SQL事件。
                                       </p>
                                       <div class="figure" id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C__GUID-591D2F54-1C35-48BD-BD9A-8D2EDADE3115"><img src="img/incidents_and_problems.gif" alt="incidents_and_problems.gif的描述如下" title="incidents_and_problems.gif的描述如下" longdesc="img_text/incidents_and_problems.html"><br><a href="img_text/incidents_and_problems.html">插图描述incidents_and_problems.gif</a></div>
                                       <!-- class="figure" -->
                                    </li>
                                    <li>
                                       <p>单击事件摘要。</p>
                                       <p>出现事件管理器的“问题详细信息”页面。</p>
                                       <div class="figure" id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C__GUID-7A952FA8-0358-40B0-8D8D-6F11BF57909C"><img src="img/problem_details.gif" alt="problem_details.gif的描述如下" title="problem_details.gif的描述如下" longdesc="img_text/problem_details.html"><br><a href="img_text/problem_details.html">插图描述problem_details.gif</a></div>
                                       <!-- class="figure" -->
                                       <p>将显示“支持工作台”页面，其中列出了事件。</p>
                                    </li>
                                 </ol>
                              </div>
                              <!-- class="section" -->
                           </div>
                           <div>
                              <div class="familylinks">
                                 <div class="parentlink">
                                    <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" title="在Cloud Control中，您可以从“事件管理器”页面或“支持工作台”页面访问SQL测试用例构建器。">SQL测试用例生成器的图形界面</a></p>
                                 </div>
                              </div>
                           </div>
                           
                        </div><a id="TGSQL94875"></a><div class="props_rev_3"><a id="GUID-82F02C36-11DC-486B-B299-E242E4B10490" name="GUID-82F02C36-11DC-486B-B299-E242E4B10490"></a><h6 id="ADMIN-GUID-82F02C36-11DC-486B-B299-E242E4B10490" class="sect6"><span class="enumeration_section">9.3.4.3.1.2</span>访问支持工作台</h6>
                           <div>
                              <p>从Oracle Database菜单中，您可以导航到Support Workbench。</p>
                              <div class="section">
                                 <p class="subhead3" id="GUID-82F02C36-11DC-486B-B299-E242E4B10490__GUID-85D8EDDE-533B-44F7-A027-2CB5FF9C2A79">要访问Support Workbench：</p>
                                 <ol>
                                    <li>
                                       <p>使用适当的凭据登录Cloud Control。</p>
                                    </li>
                                    <li>
                                       <p>在“ <span class="bold">目标”</span>菜单下，选择“ <span class="bold">数据库”</span> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>在数据库目标列表中，选择要管理的Oracle数据库实例的目标。</p>
                                    </li>
                                    <li>
                                       <p>如果系统提示您输入数据库凭据，请输入您要执行的任务所需的最低凭据。</p>
                                    </li>
                                    <li>
                                       <p>从<span class="bold">Oracle Database</span>菜单中，选择<span class="bold">Diagnostics</span> ，然后选择<span class="bold">Support Workbench</span> 。
                                       </p>
                                       <p>将显示“支持工作台”页面，其中列出了事件。</p>
                                    </li>
                                 </ol>
                              </div>
                              <!-- class="section" -->
                           </div>
                           <div>
                              <div class="familylinks">
                                 <div class="parentlink">
                                    <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" title="在Cloud Control中，您可以从“事件管理器”页面或“支持工作台”页面访问SQL测试用例构建器。">SQL测试用例生成器的图形界面</a></p>
                                 </div>
                              </div>
                           </div>
                           
                        </div>
                     </div><a id="TGSQL94877"></a><a id="TGSQL94876"></a><div class="props_rev_3"><a id="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB" name="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB"></a><h6 id="ADMIN-GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB" class="sect6"><span class="enumeration_section">9.3.4.3.2</span> SQL测试用例生成器的命令行界面</h6>
                        <div>
                           <p><code class="codeph">DBMS_SQLDIAG</code>包执行与SQL Test Case Builder相关的任务。
                           </p>
                           <div class="section">
                              <p>该软件包由SQL Test Case Builder的各种子程序组成，其中一些子程序列在下表中。</p>
                              <div class="tblformal" id="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB__BABHBBHG">
                                 <p class="titleintable">表9-11 DBMS_SQLDIAG包中的SQL测试用例函数</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG包中的SQL测试用例函数" width="100%" border="1" summary="This table lists some of the SQL Test Case functions present in the DBMS_SQLDIAG package." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="42%" id="d116652e5907">程序</th>
                                          <th align="left" valign="bottom" width="58%" id="d116652e5910">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5915" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPORT_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5915 d116652e5910 ">
                                             <p>将SQL测试用例导出到用户指定的目录</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5923" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPORT_SQL_TESTCASE_DIR_BY_INC</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5923 d116652e5910 ">
                                             <p>导出与作为参数传递的事件ID相对应的SQL测试用例</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5931" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPORT_SQL_TESTCASE_DIR_BY_TXT</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5931 d116652e5910 ">
                                             <p>导出与作为参数传递的SQL文本对应的SQL测试用例</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5939" headers="d116652e5907 ">
                                             <p><code class="codeph">IMPORT_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5939 d116652e5910 ">
                                             <p>将SQL测试用例导入模式</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5947" headers="d116652e5907 ">
                                             <p><code class="codeph">REPLAY_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5947 d116652e5910 ">
                                             <p>自动复制SQL测试用例</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5955" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPLAIN_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5955 d116652e5910 ">
                                             <p>解释SQL测试用例</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB__GUID-8BC887CC-119B-4A4A-A30E-CB553A23A1E2">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../arpls/DBMS_SQLDIAG.html#ARPLS203" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解有关<code class="codeph">DBMS_SQLDIAG</code>包的更多信息</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" title="您可以通过Cloud Control或在命令行上使用PL / SQL来访问SQL Test Case Builder。">SQL Test Case Builder的用户界面</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="TGSQL94879"></a><a id="TGSQL94878"></a><div class="props_rev_3"><a id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE" name="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE"></a><h5 id="ADMIN-GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE" class="sect5"><span class="enumeration_section">9.3.4.4</span>运行SQL测试用例生成器</h5>
                     <div>
                        <p>您可以使用Cloud Control运行SQL Test Case Builder。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-3651A53A-1B0B-4CE1-ABBC-20DE9F28C858">假设</p>
                           <p>本教程假设以下内容：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您以用户<code class="codeph">sh</code>运行以下<code class="codeph">EXPLAIN PLAN</code>语句，这会导致内部错误：</p><pre class="pre codeblock"><code>EXPLAIN PLAN FOR SELECT unit_cost，售出成本c，（SELECT / * + merge * / p.prod_id，SUM（quantity_sold）AS FROM FROM products p，sales s WHERE p.prod_id = s.prod_id GROUP BY p.prod_id）v WHERE c.prod_id = v.prod_id;</code></pre></li>
                              <li>
                                 <p>在“数据库主页”的“事件和问题”部分中，将显示由内部错误生成的SQL事件。</p>
                              </li>
                              <li>
                                 <p>您可以访问“事件详细信息”页面，如<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C" title="从“数据库主页”上的“事件和问题”部分，您可以导航到事件管理器。">访问事件管理器</a> ”中所述</span> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-8A4E526C-E064-4BC8-92AB-C6C47617BAF8">要运行SQL Test Case Builder：</p>
                           <ol>
                              <li>
                                 <p>单击“事件”选项卡。</p>
                                 <p>出现“问题详细信息”页</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-A4AEE60C-E98A-47E3-BA6D-FB2BB02335D4"><img src="img/problem_details_summary.gif" alt="problem_details_summary.gif的描述如下" title="problem_details_summary.gif的描述如下" longdesc="img_text/problem_details_summary.html"><br><a href="img_text/problem_details_summary.html">插图问题描述problem_details_summary.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>单击事件摘要。</p>
                                 <p>出现“事件详细信息”页面</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-879564EF-C896-4291-A3AA-A77C7AB3434D"><img src="img/incident_details.gif" alt="incident_details.gif的描述如下" title="incident_details.gif的描述如下" longdesc="img_text/incident_details.html"><br><a href="img_text/incident_details.html">插图描述incident_details.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>在“引导分辨率”中，单击“ <span class="bold">查看诊断数据”</span> 。
                                 </p>
                                 <p>将显示“事件详细信息： <span class="italic">incident_number”</span>页面。
                                 </p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-D74DAA7C-5D91-4BED-BA98-4BCD687F3E31"><img src="img/incident_details_num.gif" alt="具体事件如下：incident_details_num.gif" title="具体事件如下：incident_details_num.gif" longdesc="img_text/incident_details_num.html"><br><a href="img_text/incident_details_num.html">插图描述incident_details_num.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>在“应用程序信息”部分中，单击“ <span class="bold">其他诊断”</span> 。
                                 </p>
                                 <p>将显示“其他诊断”子页面。</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-21292F72-13C3-46C2-BFA5-FE3233FBC06E"><img src="img/additional_diagnostics.gif" alt="additional_diagnostics.gif的描述如下" title="additional_diagnostics.gif的描述如下" longdesc="img_text/additional_diagnostics.html"><br><a href="img_text/additional_diagnostics.html">附图说明additional_diagnostics.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>选择“ <span class="bold">SQL测试用例生成器”</span> ，然后单击<span class="bold">“运行”</span> 。
                                 </p>
                                 <p>将出现“运行用户操作”页面。</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-1FEB47A1-98AC-422F-BAC0-EC53D791A7A5"><img src="img/run_user_action.gif" alt="下面是run_user_action.gif的描述" title="下面是run_user_action.gif的描述" longdesc="img_text/run_user_action.html"><br><a href="img_text/run_user_action.html">run_user_action.gif插图的描述</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>选择采样百分比（可选），然后单击“ <span class="bold">提交”</span> 。
                                 </p>
                                 <p>处理完成后，将显示“确认”页面。</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-09B3E1CB-BC3C-4FB6-8348-4F278BC98AD1"><img src="img/sqltcb_confirmation.gif" alt="下面是sqltcb_confirmation.gif的描述" title="下面是sqltcb_confirmation.gif的描述" longdesc="img_text/sqltcb_confirmation.html"><br><a href="img_text/sqltcb_confirmation.html">插图说明sqltcb_confirmation.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>在<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-3E77892C-9259-4361-93FC-0C643AA51A88" title="SQL Test Case Builder的输出是一组文件，其中包含重新创建环境所需的命令以及所有必需的对象。">SQL测试用例生成器的输出</a> ”中</span>描述的位置访问SQL测试用例文件。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder是一种自动收集在不同数据库实例中重现问题所需信息的工具。">使用SQL Test Case Builder创建测试用例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" name="GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73"></a><h3 id="ADMIN-GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" class="sect3"><span class="enumeration_section">9.4</span>报告问题</h3>
               <div>
                  <p>使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7">事件包</a><br>您可以将诊断数据收集到称为事件包（包）的中间逻辑结构中。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-10A2054C-B9FD-4A32-B269-11079B149627">自定义包装的包装和上传问题</a><br>您可以使用Support Workbench（Support Workbench）来创建和上载自定义事件包（包）。在上载之前，您可以手动添加，编辑和删除软件包中的诊断数据文件。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3">查看和修改事件包</a><br>使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241">创建，编辑和上传相关包</a><br>将程序包上载到Oracle Support后，您可以创建并上载一个或多个相关程序包。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-742151DE-0BE6-41BD-AAA2-D63774836293">删除相关包</a><br>您使用Support Workbench删除了为您创建包的目标的相关包。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74">设置事件包装首选项</a><br>您可以设置事件包装首选项。事件打包首选项的示例包括保留事件信息的天数，以及每个问题包括在包中的前导和尾随事件的数量。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73__GUID-E54EED2D-2C76-471B-ABA4-9247C4BA62E8">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障诊断基础架构</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-E133F190-DDB2-409E-9912-A53A835241C7" name="GUID-E133F190-DDB2-409E-9912-A53A835241C7"></a><h4 id="ADMIN-GUID-E133F190-DDB2-409E-9912-A53A835241C7" class="sect4"><span class="enumeration_section">9.4.1</span>事件包</h4>
                  <p>您可以将诊断数据收集到称为事件包（包）的中间逻辑结构中。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B">关于事件包</a><br>对于将诊断数据上载到Oracle Support的自定义方法，首先将数据收集到称为事件包（包）的中间逻辑结构中。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-073680D2-2087-4409-9002-217E9BF022F7">关于事件包中的相关诊断数据</a><br>为了诊断问题，有时需要不仅检查与问题直接相关的诊断数据，还检查与直接相关数据<span class="italic">相关的</span>诊断数据。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B">关于快速包装和定制包装</a><br>Support Workbench提供了两种创建和上传事件包的方法：快速打包方法和自定义打包方法。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410">关于相关包</a><br>相关软件包提供了一种打包和上传相关问题的诊断数据的方法。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12303"></a><div class="props_rev_3"><a id="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" name="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B"></a><h5 id="ADMIN-GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" class="sect5"><span class="enumeration_section">9.4.1.1</span>关于事件包</h5>
                     <div>
                        <p>对于将诊断数据上载到Oracle Support的自定义方法，首先将数据收集到称为事件包（包）的中间逻辑结构中。</p>
                        <p><span class="bold">包</span>是一组元数据，存储在自动诊断存储库（ADR）中，指向ADR内外的诊断数据文件和其他文件。创建包时，选择要添加到包中的一个或多个问题。然后，Support Workbench会自动将与所选问题相关的问题信息，事件信息和诊断数据（如跟踪文件和转储）添加到软件包中。由于问题可能包含许多事件（多次出现相同问题），因此默认情况下，每个问题的前三个事件和最后三个事件都会添加到包中，不包括任何超过90天的事件。您可以在Support Workbench的“事件包装配置”页面上更改这些默认号码。
                        </p>
                        <p>创建包后，您可以向包中添加任何类型的外部文件，从包中删除所选文件，或编辑包中的选定文件以删除敏感数据。在添加和删除包内容时，仅修改包元数据。</p>
                        <p>准备好将诊断数据上载到Oracle Support时，首先要创建一个zip文件，其中包含程序包元数据引用的所有文件。然后，您可以通过Oracle Configuration Manager上载zip文件。</p>
                        <div class="infoboxnote" id="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B__GUID-2B5D58A3-A0B4-4199-A37A-AF25DAFC772C">
                           <p class="notep1">注意：</p>
                           <p>如果未安装并正确配置Oracle Configuration Manager，则必须通过My Oracle Support手动上载zip文件。</p>
                           <p>有关Oracle Configuration Manager的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CCRIA" target="_blank"><span class="italic">Oracle Configuration Manager安装和管理指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B__GUID-19AC7EF7-2C02-4250-BE34-45994FE26007">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-10A2054C-B9FD-4A32-B269-11079B149627" title="您可以使用Support Workbench（Support Workbench）来创建和上载自定义事件包（包）。在上载之前，您可以手动添加，编辑和删除软件包中的诊断数据文件。">定制包装的包装和上传问题</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="您可以将诊断数据收集到称为事件包（包）的中间逻辑结构中。">突发事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12304"></a><div class="props_rev_3"><a id="GUID-073680D2-2087-4409-9002-217E9BF022F7" name="GUID-073680D2-2087-4409-9002-217E9BF022F7"></a><h5 id="ADMIN-GUID-073680D2-2087-4409-9002-217E9BF022F7" class="sect5"><span class="enumeration_section">9.4.1.2</span>关于事件包中的相关诊断数据</h5>
                     <div>
                        <p>为了诊断问题，有时需要不仅检查与问题直接相关的诊断数据，还检查与直接相关数据<span class="italic">相关的</span>诊断数据。
                        </p>
                        <p>诊断数据可以按时间，进程ID或其他标准进行关联。例如，在检查事件时，检查原始事件发生后五分钟发生的事件可能会有所帮助。同样，虽然很明显事件的诊断数据应该包括事件发生时运行的Oracle数据库进程的跟踪文件，但是为原始进程相关的其他进程包含跟踪文件可能会有所帮助。 。</p>
                        <p>因此，当问题及其相关事件添加到包中时，会同时添加任何相关事件及其关联的跟踪文件。</p>
                        <p>在为包创建物理文件的过程中，Support Workbench会调用事件包装服务来完成包。<span class="bold">最终化</span>意味着向包中添加任何其他跟踪文件，这些跟踪文件按时间与包中的事件相关联，并添加其他诊断信息，如警报日志，运行状况检查程序报告，SQL测试用例，配置信息等。因此，zip文件中的文件数可能大于Support Workbench先前显示为包内容的文件数。
                        </p>
                        <p>事件打包服务遵循一组规则来确定ADR中与现有包数据相关的跟踪文件。您可以在Cloud Control的“事件包装配置”页面中修改其中一些规则。</p>
                        <p>由于初始包数据和添加的相关数据都可能包含敏感信息，因此在上载到Oracle Support之前，有机会删除或编辑包含此信息的文件。因此，通过Support Workbench，您可以运行将程序包最终化为单独操作的命令。手动完成程序包后，您可以检查程序包内容，删除或编辑文件，然后生成并上载zip文件。</p>
                        <div class="infoboxnote" id="GUID-073680D2-2087-4409-9002-217E9BF022F7__GUID-D9484D65-1775-4E03-8E4D-F029CE00C5F3">
                           <p class="notep1">注意：</p>
                           <p>最终确定包并不意味着将其关闭以进行进一步修改。您可以继续将诊断数据添加到已完成的包中。您也可以多次敲定同一个包。每次最终确定时，都会添加任何新的相关数据。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-073680D2-2087-4409-9002-217E9BF022F7__GUID-AC0522F9-FC62-4550-A5A3-3B39EBCCFC99">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74" title="您可以设置事件包装首选项。事件打包首选项的示例包括保留事件信息的天数，以及每个问题包括在包中的前导和尾随事件的数量。">设置事件包装首选项</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="您可以将诊断数据收集到称为事件包（包）的中间逻辑结构中。">突发事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12305"></a><div class="props_rev_3"><a id="GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B" name="GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B"></a><h5 id="ADMIN-GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B" class="sect5"><span class="enumeration_section">9.4.1.3</span>关于快速包装和定制包装</h5>
                     <div>
                        <p>Support Workbench提供了两种创建和上传事件包的方法：快速打包方法和自定义打包方法。</p>
                        <p><span class="bold">快速打包</span> - 这是一种采用最少步骤的自动化方法，在指导工作流程（向导）中进行组织。您选择单个问题，提供包名称和描述，然后立即或在指定的日期和时间安排包内容的上载。Support Workbench自动将与问题相关的诊断数据放入包中，最终确定包，创建zip文件，然后上载文件。使用此方法，您无法添加，编辑或删除包文件或添加其他诊断数据（如SQL测试用例）。但是，这是向Oracle支持部门提供首次故障诊断数据的最简单，最快捷的方法。快速打包是<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a> ”中</span>描述的工作流程中使用的方法。
                        </p>
                        <p>快速打包完成后，向导创建的包仍然存在。然后，您可以在以后使用自定义打包操作修改包并手动重新上载。</p>
                        <p><span class="bold">自定义包装</span> - 这是更手动的方法，有更多的步骤。它适用于希望更好地控制打包过程的专家Support Workbench用户。使用自定义打包，您可以创建包含一个或多个问题的新包，或者可以向现有包添加一个或多个问题。然后，您可以对新的或更新的包执行各种操作，包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>添加或删除问题或事件</p>
                           </li>
                           <li>
                              <p>添加，编辑或删除包中的跟踪文件</p>
                           </li>
                           <li>
                              <p>添加或删除任何类型的外部文件</p>
                           </li>
                           <li>
                              <p>添加其他诊断数据，例如SQL测试用例</p>
                           </li>
                           <li>
                              <p>手动完成程序包，然后查看程序包内容以确定是否必须编辑或删除敏感数据或删除文件以减小程序包大小。</p>
                           </li>
                        </ul>
                        <p>在决定您有足够的诊断信息发送给Oracle支持之前，您可以在几天内执行这些操作。</p>
                        <p>使用自定义打包，您可以创建zip文件并请求上载到Oracle Support作为两个单独的步骤。这些步骤中的每一步都可以立即执行或安排在将来的日期和时间。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B__GUID-BDB974BF-A6A9-4A44-8699-0A5926BDA20D">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="对于此任务，您可以使用Support Workbench的快速打包过程将问题的诊断信息打包并上载到Oracle Support。">任务5：将诊断数据打包并上载到Oracle支持</a> ”</span>以获取快速打包方法的说明</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="您可以将诊断数据收集到称为事件包（包）的中间逻辑结构中。">突发事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13161"></a><div class="props_rev_3"><a id="GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" name="GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410"></a><h5 id="ADMIN-GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" class="sect5"><span class="enumeration_section">9.4.1.4</span>关于相关包</h5>
                     <div>
                        <p>相关软件包提供了一种打包和上传相关问题的诊断数据的方法。</p>
                        <p>数据库实例问题可能在其他数据库实例或Oracle自动存储管理实例中<span class="q"><a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="For any problem identified in a database instance, the diagnosability framework can identify related problems across the topology of your Oracle Database installation.">存在相关问题</a></span> ，如<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="对于数据库实例中发现的任何问题，可诊断性框架可以识别Oracle数据库安装拓扑中的相关问题。">拓扑中的相关问题”中所述</a></span> 。在为一个或多个数据库实例问题（“主程序包”）创建和上载程序包之后，您可以创建并上载一个或多个相关程序包，每个程序包都有一个或多个相关问题。您只能使用Support Workbench中的自定义打包工作流程来完成此操作。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410__GUID-37D677FB-B574-42D9-AF82-A48021ADDA8F">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" title="将程序包上载到Oracle Support后，您可以创建并上载一个或多个相关程序包。">创建，编辑和上传相关包</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="您可以将诊断数据收集到称为事件包（包）的中间逻辑结构中。">突发事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12587"></a><a id="ADMIN13035"></a><a id="ADMIN13036"></a><a id="ADMIN12306"></a><div class="props_rev_3"><a id="GUID-10A2054C-B9FD-4A32-B269-11079B149627" name="GUID-10A2054C-B9FD-4A32-B269-11079B149627"></a><h4 id="ADMIN-GUID-10A2054C-B9FD-4A32-B269-11079B149627" class="sect4"><span class="enumeration_section">9.4.2</span>自定义包装的包装和上传问题</h4>
                  <div>
                     <p>您可以使用Support Workbench（Support Workbench）来创建和上载自定义事件包（包）。在上载之前，您可以手动添加，编辑和删除软件包中的诊断数据文件。</p>
                     <div class="section">
                        <p>使用自定义包装打包和上传问题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>访问Support Workbench主页。</p>
                              <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch的问题</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>（可选）对于要包含在包中的每个问题，请指明与问题相关的服务请求编号（SR＃）（如果有）。为此，请针对每个问题完成以下步骤：</p>
                              <ol type="a">
                                 <li>
                                    <p>在Support Workbench主页底部的Problems子页面中，选择问题，然后单击<span class="bold">View</span> 。
                                    </p>
                                    <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-C9E83E60-9835-4D03-9881-19076B0CEF8E">
                                       <p class="notep1">注意：</p>
                                       <p>如果在问题列表中没有看到所需的问题，或者滚动问题太多，请从“视图”列表中选择一个时间段，然后单击<span class="bold">“执行”</span> 。然后，您可以选择所需的问题并单击“ <span class="bold">查看”</span> 。
                                       </p>
                                    </div>
                                    <p>出现“问题详细信息”页</p>
                                 </li>
                                 <li>
                                    <p>在SR＃标签旁边，单击“ <span class="bold">编辑”</span> ，输入服务请求编号，然后单击“ <span class="bold">确定”</span> 。</p>
                                    <p>服务请求编号显示在“问题详细信息”页面上。</p>
                                 </li>
                                 <li>
                                    <p>通过点击页面顶部的定位链接<span class="bold">支持工作台</span>返回到支持工作台主页。
                                    </p>
                                    <div class="figure" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-683D03E1-B890-4166-AF80-E06752A64A36"><img src="img/problem_details_breadcrumb.gif" width="324" alt="problem_details_breadcrumb.gif的描述如下" title="problem_details_breadcrumb.gif的描述如下" longdesc="img_text/problem_details_breadcrumb.html"><br><a href="img_text/problem_details_breadcrumb.html">插图问题描述problem_details_breadcrumb.gif</a></div>
                                    <!-- class="figure" -->
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>在Support Workbench主页上，选择要打包的问题，然后单击“ <span class="bold">包”</span> 。
                              </p>
                              <p>将出现“选择包装模式”页面。</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-5A114ECF-336E-4E3E-B41F-CCFE06A1D80D">
                                 <p class="notep1">注意：</p>
                                 <p>打包过程可以自动选择要添加到包中的其他相关问题。相关问题的一个例子是在所选问题的几分钟内发生的问题。有关详细信息，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-073680D2-2087-4409-9002-217E9BF022F7" title="为了诊断问题，有时需要不仅检查与问题直接相关的诊断数据，还检查与直接相关数据相关的诊断数据。">关于事件包中的相关诊断数据</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>选择“ <span class="bold">自定义打包”</span>选项，然后单击“ <span class="bold">继续”</span> 。
                              </p>
                              <p>将出现“选择包”页面。</p>
                              <div class="figure" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-33F59EF6-6595-4F64-B5E3-BA79BAEC8A18"><img src="img/package_create_select.gif" alt="package_create_select.gif的描述如下" title="package_create_select.gif的描述如下" longdesc="img_text/package_create_select.html"><br><a href="img_text/package_create_select.html">插图描述package_create_select.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>执行以下操作之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要创建新包，请选择“ <span class="bold">创建新包”</span>选项，输入包名称和描述，然后单击“ <span class="bold">确定”</span> 。</p>
                                 </li>
                                 <li>
                                    <p>要将所选问题添加到现有包中，请选择“ <span class="bold">从现有包中</span>选择”选项，选择要更新的包，然后单击“ <span class="bold">确定”</span> 。</p>
                                 </li>
                              </ul>
                              <p>将出现“自定义包”页面。它显示包中包含的问题和事件，以及可供选择的一系列打包任务。您可以针对新包或更新的现有包运行这些任务。</p>
                              <div class="figure" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__CHDEGHHB"><img src="img/package_details.gif" alt="package_details.gif的描述如下" title="package_details.gif的描述如下" longdesc="img_text/package_details.html"><br><a href="img_text/package_details.html">插图描述package_details.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>（可选）在“打包任务”部分中，单击链接以执行一个或多个打包任务。或者，使用“自定义包”页面及其子页面上的其他控件来操作包。完成后返回“自定义包”页面。</p>
                              <p>有关一些最常见的打包任务的说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改突发事件包</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“自定义程序包”页面的“打包任务”部分的“发送到Oracle支持”标题下，单击“ <span class="bold">完成内容准备”</span>以完成程序包。
                              </p>
                              <p>显示包中包含的文件的列表（或部分列表）。（可能还要等一下。）该列表包括确定包含相关诊断信息并由最终确定过程添加的文件。</p>
                              <p>有关包完成的定义，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-073680D2-2087-4409-9002-217E9BF022F7" title="为了诊断问题，有时需要不仅检查与问题直接相关的诊断数据，还检查与直接相关数据相关的诊断数据。">关于事件包中的相关诊断数据</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">文件”</span>以查看包中的所有文件。检查列表以查看是否存在可能包含您不希望公开的敏感数据的文件。如果找到此类文件，则排除（删除）或编辑它们。
                              </p>
                              <p>有关编辑和删除文件的说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-27E3B493-0994-4757-A960-509397BF2CDC" title="通过Support Workbench，您可以编辑事件包中的一个或多个文件。">编辑事件包文件（复制和输入）</a> ”</span>和<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8" title="您可以从事件包中删除任何类型的一个或多个文件。">删除事件包文件</a> ”</span> 。
                              </p>
                              <p>要查看文件的内容，请单击文件列表最右侧列中的眼镜图标。如果出现提示，请输入主机凭据</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-6DD62402-2216-4E36-BF73-0B5601C3BF2A">
                                 <p class="notep1">注意：</p>
                                 <p>跟踪文件通常仅供Oracle内部使用。</p>
                              </div>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">生成上载文件”</span> 。
                              </p>
                              <p>将出现“生成上载文件”页面。</p>
                           </li>
                           <li>
                              <p>选择“ <span class="bold">完整”</span>或“ <span class="bold">增量”</span>选项以生成完整的包zip文件或增量包zip文件。
                              </p>
                              <p>对于完整的包zip文件，包的所有内容（原始内容和所有相关数据）始终添加到zip文件中。</p>
                              <p>对于增量包zip文件，只有自上次为同一包创建zip文件以来新增或修改的诊断信息才会添加到zip文件中。例如，如果跟踪文件附加到跟踪文件，因为该文件最后包含在生成的包的物理文件中，则跟踪文件将添加到增量包zip文件中。相反，如果自上次为包上载以来未对跟踪文件进行任何更改，则该跟踪文件不会包含在增量包zip文件中。</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-0B13F126-ECBB-437C-8D7A-38DE0A646874">
                                 <p class="notep1">注意：</p>
                                 <p>如果从未为包创建上载文件，则“增量”选项将变暗（不可用）。</p>
                              </div>
                           </li>
                           <li>
                              <p>立即或在将来的日期和时间安排文件创建（选择“ <span class="bold">立即”</span>或“ <span class="bold">稍后”</span> ），然后单击“ <span class="bold">提交”</span> 。
                              </p>
                              <p>文件创建可以使用大量系统资源，因此建议将其安排在系统使用率较低的时段。</p>
                              <p>将出现“处理”页面，并继续创建zip文件。处理完成后会出现确认页面。</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-847B41A8-8FB0-4221-BD7D-AAE251906139">
                                 <p class="notep1">注意：</p>
                                 <p>创建zip文件时，程序包将自动完成。</p>
                              </div>
                           </li>
                           <li>
                              <p>单击<span class="bold">确定</span> 。</p>
                              <p>“自定义包”页面返回。</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">发送到Oracle”</span> 。
                              </p>
                              <p>将显示“查看/发送上载文件”页面。</p>
                           </li>
                           <li>
                              <p>（可选）单击“ <span class="bold">发送相关包”</span>链接以创建相关包并将其发送到Oracle。
                              </p>
                              <p>请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" title="将程序包上载到Oracle Support后，您可以创建并上载一个或多个相关程序包。">创建，编辑和上载相关包</a> ”</span> 。使用完相关软件包后，通过单击页面顶部的“ <span class="bold">软件包详细信息”</span>链接，单击“ <span class="bold">自定义软件包”</span> ，再单击“再次<span class="bold">发送到Oracle”</span> ，返回“查看/发送上载文件”页面。
                              </p>
                           </li>
                           <li>
                              <p>选择要上载的zip文件，然后单击“ <span class="bold">发送到Oracle”</span> 。
                              </p>
                              <p>将显示“发送到Oracle”页面。所选的zip文件列在表中。</p>
                           </li>
                           <li>
                              <p>填写所需的My Oracle Support信息。在“创建新服务请求（SR）”旁边，选择“ <span class="bold">是”</span>或“ <span class="bold">否”</span> 。如果选择“是”，则会为您创建草稿服务请求。您必须稍后登录My Oracle Support并填写服务请求详细信息。如果选择“否”，请输入现有服务请求编号。
                              </p>
                           </li>
                           <li>
                              <p>安排上传立即或在将来的日期和时间进行，然后单击“ <span class="bold">提交”</span> 。
                              </p>
                              <p>出现“处理”页面。如果上载成功完成，则会显示确认页面。如果无法完成上传，则会显示错误页面。错误页面可能包含一条消息，要求您手动将zip文件上载到Oracle。如果是，请与Oracle支持代表联系以获取相关说明。</p>
                           </li>
                           <li>
                              <p>单击<span class="bold">确定</span> 。</p>
                              <p>“查看/发送上载文件”页面将返回。在“已发送时间”列下，检查您尝试上载的文件的状态。</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-715DFC19-C24B-48AA-AD80-6507A1C5B37A">
                                 <p class="notep1">注意：</p>
                                 <p>Support Workbench使用Oracle Configuration Manager上载物理文件。如果未安装或未正确配置Oracle Configuration Manager，则上载可能会失败。在这种情况下，将显示一条消息，其中包含程序包zip文件的路径以及您手动将文件上载到Oracle Support的请求。您可以使用My Oracle Support手动上载。</p>
                                 <p>有关Oracle Configuration Manager的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CCRIA" target="_blank"><span class="italic">Oracle Configuration Manager安装和管理指南”</span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>（可选）创建并上载相关包。</p>
                              <p>有关说明<span class="q"><a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" title="After you upload a package to Oracle Support, you can create and upload one or more correlated packages.">，</a></span>请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" title="将程序包上载到Oracle Support后，您可以创建并上载一个或多个相关程序包。">创建，编辑和上载相关软件包</a> ”</span> 。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-C469CF64-18B8-4690-9DD8-084C84C05044">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" title="为了便于诊断和解决关键错误，故障诊断基础架构为Oracle数据库引入了两个概念：问题和事件。">关于事故和问题</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" title="对于将诊断数据上载到Oracle Support的自定义方法，首先将数据收集到称为事件包（包）的中间逻辑结构中。">关于事件包</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B" title="Support Workbench提供了两种创建和上传事件包的方法：快速打包方法和自定义打包方法。">关于快速包装和定制包装</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12307"></a><div class="props_rev_3"><a id="GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" name="GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3"></a><h4 id="ADMIN-GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" class="sect4"><span class="enumeration_section">9.4.3</span>查看和修改事件包</h4>
                  <div>
                     <p>使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。</p>
                     <p>此外，在使用快速打包方法打包和上载诊断数据后，您可以查看或修改Support Workbench创建的包的内容，然后重新上载包。要修改包，您可以从一系列<span class="italic">包装任务</span>中进行选择，其中大部分可从“自定义包”页面获得。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1">查看包详细信息</a><br>“ <span class="wintitle">包详细信息”</span>页面包含有关<span class="wintitle">包中</span>的事件，跟踪文件和其他文件的信息，使您可以查看和添加到包活动日志。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1">访问自定义程序包页面</a><br>Customize Package页面用于执行各种打包任务，例如添加和删除问题;添加，删除和清理（编辑）包文件;并生成和上传包zip文件。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-27E3B493-0994-4757-A960-509397BF2CDC">编辑事件包文件（复制和输入）</a><br>通过Support Workbench，您可以编辑事件包中的一个或多个文件。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-436B232C-6E37-4478-B629-5D396F1F242E">将外部文件添加到事件包</a><br>您可以将任何类型的外部文件添加到事件包中。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8">删除事件包文件</a><br>您可以从事件包中删除任何类型的一个或多个文件。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3">查看和更新事件包活动日志</a><br>Support Workbench维护每个事件包的活动日志。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3__GUID-51E06201-5B23-4026-BB51-E167512099BE">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" title="对于将诊断数据上载到Oracle Support的自定义方法，首先将数据收集到称为事件包（包）的中间逻辑结构中。">关于事件包</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-10A2054C-B9FD-4A32-B269-11079B149627" title="您可以使用Support Workbench（Support Workbench）来创建和上载自定义事件包（包）。在上载之前，您可以手动添加，编辑和删除软件包中的诊断数据文件。">定制包装的包装和上传问题</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12588"></a><a id="ADMIN12488"></a><div class="props_rev_3"><a id="GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" name="GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1"></a><h5 id="ADMIN-GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" class="sect5"><span class="enumeration_section">9.4.3.1</span>查看包详细信息</h5>
                     <div>
                        <p>“ <span class="wintitle">包详细信息”</span>页面包含有关<span class="wintitle">包中</span>的事件，跟踪文件和其他文件的信息，使您可以查看和添加到包活动日志。
                        </p>
                        <div class="section">
                           <p>要查看包裹详细信息：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>访问Support Workbench主页。</span><div>
                                 <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch的问题</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击“ <span class="bold">包”</span>以查看“包”子页面。</span><div>
                                 <p>将显示当前位于自动诊断信息库（ADR）中的软件包列表。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>（可选）要减少显示的包数，请在列表上方的“ <span class="bold">搜索”</span>字段中输入文本，然后单击<span class="bold">“执行”</span> 。</span><div>
                                 <p>将显示包名称中包含搜索文本的所有包。要查看完整的软件包列表，请从“ <span class="bold">搜索”</span>字段中删除该文本，然后再次单击“ <span class="bold">转到”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“包名称”列下，单击所需包的链接。</span><div>
                                 <p>将显示“包详细信息”页面</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12589"></a><a id="ADMIN12489"></a><div class="props_rev_3"><a id="GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" name="GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1"></a><h5 id="ADMIN-GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" class="sect5"><span class="enumeration_section">9.4.3.2</span>访问自定义包页面</h5>
                     <div>
                        <p>Customize Package页面用于执行各种打包任务，例如添加和删除问题;添加，删除和清理（编辑）包文件;并生成和上传包zip文件。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1__GUID-AF74545D-A9BF-4BF6-BC4B-32FB619F0B02"></p>
                           <p>要访问“自定义包”页面：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>访问所需包的<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" title="The Package Details page contains information about the incidents, trace files, and other files in a package, and enables you to view and add to the package activity log.">包详细信息</a> ”</span>页面，如<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" title="“包详细信息”页面包含有关包中的事件，跟踪文件和其他文件的信息，使您可以查看和添加到包活动日志。">查看包详细信息</a> ”中所述</span> 。</span></li>
                           <li class="stepexpand"><span>单击“ <span class="bold">自定义包”</span> 。</span><div>
                                 <p>将出现“自定义包”页面。</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12590"></a><a id="ADMIN12309"></a><div class="props_rev_3"><a id="GUID-27E3B493-0994-4757-A960-509397BF2CDC" name="GUID-27E3B493-0994-4757-A960-509397BF2CDC"></a><h5 id="ADMIN-GUID-27E3B493-0994-4757-A960-509397BF2CDC" class="sect5"><span class="enumeration_section">9.4.3.3</span>编辑事件包文件（复制和输入）</h5>
                     <div>
                        <p>通过Support Workbench，您可以编辑事件包中的一个或多个文件。</p>
                        <div class="section">
                           <p>您可能希望这样做以删除或覆盖文件中的敏感数据。要编辑包文件，必须首先将包中的文件复制到指定的目录中，使用文本编辑器或其他实用程序编辑文件，然后将文件复制回包中，覆盖原始包文件。</p>
                           <p>以下过程假定已创建包并包含诊断数据。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>要编辑事件包文件：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>访问所需事件包的“自定义包”页面。</p>
                                 <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" title="Customize Package页面用于执行各种打包任务，例如添加和删除问题;添加，删除和清理（编辑）包文件;并生成和上传包zip文件。">访问自定义程序包页面</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在“打包任务”部分的“清理用户数据”标题下，单击“ <span class="bold">复制文件以编辑内容”</span> 。
                                 </p>
                                 <p>如果提示输入主机凭据，请输入凭据，然后单击“ <span class="bold">确定”</span> 。</p>
                                 <p>出现“复制文件”页面。它显示可以将文件复制到的主机的名称。</p>
                              </li>
                              <li>
                                 <p>执行以下操作之一以指定文件的目标目录：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>在“ <span class="bold">目标文件夹”</span>字段中输入目录路径。
                                       </p>
                                    </li>
                                    <li>
                                       <p>单击“ <span class="bold">目标文件夹”</span>字段旁边的放大镜图标，然后完成以下步骤：</p>
                                       <ol type="a">
                                          <li>
                                             <p>如果系统提示您输入主机凭据，请输入要将文件复制到的主机的凭据，然后单击“ <span class="bold">确定”</span> 。 （选择“ <span class="bold">另存为首选凭据”</span>以避免下次提示凭据。）
                                             </p>
                                             <p>将出现“浏览并选择：文件或目录”窗口。</p>
                                          </li>
                                          <li>
                                             <p>选择所需的目标目录，然后单击“ <span class="bold">选择”</span> 。
                                             </p>
                                             <p>“浏览并选择：文件或目录”窗口将关闭，所选目录的路径将显示在“复制文件”页面的“目标文件夹”字段中。</p>
                                          </li>
                                       </ol>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>在“要复制的文件”下，选择所需的文件，然后单击“ <span class="bold">确定”</span> 。</p>
                                 <div class="infoboxnote" id="GUID-27E3B493-0994-4757-A960-509397BF2CDC__GUID-1C213D7D-9EEA-4BE4-8149-D278CA6C7F6F">
                                    <p class="notep1">注意：</p>
                                    <p>如果您没有看到所需的文件，则它们可能位于另一页上。单击“ <span class="bold">下一步”</span>链接以查看下一页。继续单击“ <span class="bold">下一步”</span> ，或从文件编号列表中选择（在“下一个”链接的左侧），直到看到所需的文件。然后，您可以选择文件并单击“ <span class="bold">确定”</span> 。</p>
                                 </div>
                                 <p>“自定义包”页面将返回，显示一条确认消息，其中列出了已复制的文件。</p>
                              </li>
                              <li>
                                 <p>使用文本编辑器或其他实用程序编辑文件。</p>
                              </li>
                              <li>
                                 <p>在“自定义包”页上的“打包任务”部分的“清理用户数据”标题下，单击<span class="bold">“在文件中复制”以替换“内容”</span> 。
                                 </p>
                                 <p>将出现“在文件中复制”页面。它显示您复制的文件。</p>
                              </li>
                              <li>
                                 <p>选择要复制的文件，然后单击“ <span class="bold">确定”</span> 。</p>
                                 <p>文件将复制到包中，覆盖现有文件。“自定义包”页面将返回，显示一条确认消息，其中列出了已复制的文件。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12591"></a><a id="ADMIN12310"></a><div class="props_rev_3"><a id="GUID-436B232C-6E37-4478-B629-5D396F1F242E" name="GUID-436B232C-6E37-4478-B629-5D396F1F242E"></a><h5 id="ADMIN-GUID-436B232C-6E37-4478-B629-5D396F1F242E" class="sect5"><span class="enumeration_section">9.4.3.4</span>向事件包添加外部文件</h5>
                     <div>
                        <p>您可以将任何类型的外部文件添加到事件包中。</p>
                        <div class="section">
                           <p>要将外部文件添加到事件包：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>访问所需事件包的“自定义包”页面。</p>
                                 <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" title="Customize Package页面用于执行各种打包任务，例如添加和删除问题;添加，删除和清理（编辑）包文件;并生成和上传包zip文件。">访问自定义程序包页面</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">文件”</span>链接以查看“文件”子页面。
                                 </p>
                                 <p>在此页面中，您可以在包中添加和删除文件。</p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">添加外部文件</span> 。
                                 </p>
                                 <p>将出现“添加外部文件”页面。它显示您可以从中选择文件的主机名。</p>
                              </li>
                              <li>
                                 <p>执行以下操作之一以指定要添加的文件：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>在“ <span class="bold">文件名”</span>字段中输入文件的完整路径。
                                       </p>
                                    </li>
                                    <li>
                                       <p>单击“ <span class="bold">文件名”</span>字段旁边的放大镜图标，然后完成以下步骤：</p>
                                       <ol type="a">
                                          <li>
                                             <p>如果系统提示您输入主机凭据，请输入外部文件所在主机的凭据，然后单击“ <span class="bold">确定”</span> 。 （选择“ <span class="bold">另存为首选凭据”</span>以避免下次提示凭据。）
                                             </p>
                                          </li>
                                          <li>
                                             <p>在“浏览并选择：文件或目录”窗口中，选择所需的文件，然后单击“ <span class="bold">选择”</span> 。
                                             </p>
                                             <p>“浏览”和“选择”窗口将关闭，所选文件的路径将显示在“添加外部文件”页面的“文件名”字段中。</p>
                                          </li>
                                       </ol>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>单击<span class="bold">确定</span> 。</p>
                                 <p>“自定义包”页面返回，显示“文件”子页面。现在，所选文件显示在文件列表中。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12592"></a><a id="ADMIN12311"></a><div class="props_rev_3"><a id="GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8" name="GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8"></a><h5 id="ADMIN-GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8" class="sect5"><span class="enumeration_section">9.4.3.5</span>删除事件包文件</h5>
                     <div>
                        <p>您可以从事件包中删除任何类型的一个或多个文件。</p>
                        <div class="section">
                           <p>要删除事件包文件：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>访问所需事件包的“自定义包”页面。</span><div>
                                 <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" title="Customize Package页面用于执行各种打包任务，例如添加和删除问题;添加，删除和清理（编辑）包文件;并生成和上传包zip文件。">访问自定义程序包页面</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击“ <span class="bold">文件”</span>链接以查看“文件”子页面。</span><div>
                                 <p>显示包中的文件列表。</p>
                                 <p>如果尚未为此程序包生成物理文件，则所有程序包文件都将显示在列表中。如果您已生成物理文件，则视图列表将显示在文件列表上方。它使您可以选择仅查看增量包内容或完整包内容。默认选择是增量包内容。此默认选择仅显示自上次为包生成物理文件以来创建或修改的包文件。从“视图”列表中选择“ <span class="bold">完整包内容</span> ”以查看所有包文件。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>选择要删除的文件，然后单击“ <span class="bold">排除”</span> 。</span><div>
                                 <div class="infoboxnote" id="GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8__GUID-E82FA9F0-D673-417D-B848-70FC0332E048">
                                    <p class="notep1">注意：</p>
                                    <p>如果您没有看到所需的文件，则它们可能位于另一页上。单击“ <span class="bold">下一步”</span>链接以查看下一页。继续单击“ <span class="bold">下一步”</span> ，或从文件编号列表中选择（在“下一个”链接的左侧），直到看到所需的文件。然后，您可以选择文件并单击“ <span class="bold">删除”</span> 。
                                    </p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12593"></a><a id="ADMIN12312"></a><div class="props_rev_3"><a id="GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3" name="GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3"></a><h5 id="ADMIN-GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3" class="sect5"><span class="enumeration_section">9.4.3.6</span>查看和更新事件包活动日志</h5>
                     <div>
                        <p>Support Workbench维护每个事件包的活动日志。</p>
                        <div class="section">
                           <p>您在程序包上执行的大多数活动（例如添加或删除文件或创建程序包zip文件）都记录在日志中。您还可以将自己的注释添加到日志中。如果多个数据库管理员正在使用包，这尤其有用。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>要查看和更新事件包活动日志：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>访问所需事件包的“包详细信息”页面。</span><div>
                                 <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" title="“包详细信息”页面包含有关包中的事件，跟踪文件和其他文件的信息，使您可以查看和添加到包活动日志。">查看包详细信息</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击“ <span class="bold">活动日志”</span>链接以查看“活动日志”子页面。</span><div>
                                 <p>将显示活动日志。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>要将自己的注释添加到活动日志，请在“ <span class="bold">注释”</span>字段中输入文本，然后单击“ <span class="bold">添加注释”</span> 。</span><div>
                                 <p>您的评论将附加到列表中。</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13163"></a><a id="ADMIN13162"></a><div class="props_rev_3"><a id="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" name="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241"></a><h4 id="ADMIN-GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" class="sect4"><span class="enumeration_section">9.4.4</span>创建，编辑和上传相关软件包</h4>
                  <div>
                     <p>将程序包上载到Oracle Support后，您可以创建并上载一个或多个相关程序包。</p>
                     <div class="section">
                        <p>如果数据库主页的“相关警报”部分中出现严重警报，则建议使用此选项。相关包与原始包相关联，也称为<span class="bold">主包</span> 。主程序包包含数据库实例中发生的问题。相关软件包包含在其他实例（Oracle ASM实例或其他数据库实例）上发生的问题，以及主要软件包中的问题的相关问题。每个相关实例只能有一个相关的包。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要创建，编辑和上传相关包：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>查看主程序包的“程序包详细信息”页面。</p>
                              <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" title="“包详细信息”页面包含有关包中的事件，跟踪文件和其他文件的信息，使您可以查看和添加到包活动日志。">查看包详细信息</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“包详细信息”页面上，单击“ <span class="bold">自定义包”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“自定义包”页上的“打包任务”部分的“其他诊断数据”下，单击“ <span class="bold">创建/更新相关包”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“关联的包”页上的“关联的包”下，选择一个或多个包含事件的实例，然后单击“ <span class="bold">创建”</span> 。
                              </p>
                              <p>将显示一条确认消息，新创建的相关包的包ID将显示在ID列中。</p>
                           </li>
                           <li>
                              <p>选择您在其上创建相关包的实例，然后单击“ <span class="bold">完成内容准备”</span> 。
                              </p>
                              <p>出现确认消息。</p>
                           </li>
                           <li>
                              <p>（可选）通过完成以下步骤来查看和编辑相关包：</p>
                              <ol type="a">
                                 <li>
                                    <p>单击包ID以查看包。</p>
                                    <p>如果提示输入凭据，请输入凭据并单击“ <span class="bold">登录”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“包详细信息”页面上，单击“ <span class="bold">文件”</span>以查看包中的文件。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击“ <span class="bold">自定义程序包”</span>并执行任何所需的自定义任务，如<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="使用自定义打包方法创建事件包后，可以在将包上载到Oracle Support之前查看或修改包的内容。">查看和修改事件包</a> ”中所述</span> 。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>对于要上载的每个相关包，请单击“ <span class="bold">生成上载文件”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>对于要发送到Oracle的每个相关包，请选择该包，然后单击“ <span class="bold">发送到Oracle”</span> 。
                              </p>
                              <div class="infoboxnote" id="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241__GUID-5C99FF74-A3CB-4023-A48E-47486A8247CE">
                                 <p class="notep1">注意：</p>
                                 <p>如果<span class="bold">Send to Oracle</span>不可用（变暗），则该实例没有相关事件。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241__GUID-D2F901D3-4447-4FC7-9517-494D9177BD4E">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" title="相关软件包提供了一种打包和上传相关问题的诊断数据的方法。">关于相关包</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="对于数据库实例中发现的任何问题，可诊断性框架可以识别Oracle数据库安装拓扑中的相关问题。">拓扑中的相关问题</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13165"></a><a id="ADMIN13164"></a><div class="props_rev_3"><a id="GUID-742151DE-0BE6-41BD-AAA2-D63774836293" name="GUID-742151DE-0BE6-41BD-AAA2-D63774836293"></a><h4 id="ADMIN-GUID-742151DE-0BE6-41BD-AAA2-D63774836293" class="sect4"><span class="enumeration_section">9.4.5</span>删除相关包</h4>
                  <div>
                     <p>您使用Support Workbench删除了为您创建包的目标的相关包。</p>
                     <div class="section">
                        <p>例如，如果您为Oracle ASM实例目标创建了相关包，请访问该Oracle ASM实例的Support Workbench。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要删除相关包：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>访问Support Workbench以获取您创建相关包的目标。</span><div>
                              <div class="infobox-tip" id="GUID-742151DE-0BE6-41BD-AAA2-D63774836293__GUID-643AD2C1-D560-4256-9E53-E42E914F7D55">
                                 <p class="notep1">小费：</p>
                                 <p>请参阅任何Support Workbench页面底部的Related Links部分。或者，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workbench的问题</a> ”</span></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">包”</span>以查看“包”子页面。</span></li>
                        <li class="stepexpand"><span>在列表中找到相关的包。通过查看包描述来验证它是否是相关包。</span></li>
                        <li class="stepexpand"><span>选择包，然后单击“ <span class="bold">删除”</span> 。</span></li>
                        <li class="stepexpand"><span>在确认页面上，单击“ <span class="bold">是”</span> 。</span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-742151DE-0BE6-41BD-AAA2-D63774836293__GUID-FE99CD56-76C1-4685-8964-D510B0500A2B">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" title="相关软件包提供了一种打包和上传相关问题的诊断数据的方法。">关于相关包</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="对于数据库实例中发现的任何问题，可诊断性框架可以识别Oracle数据库安装拓扑中的相关问题。">拓扑中的相关问题</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12594"></a><a id="ADMIN12313"></a><div class="props_rev_3"><a id="GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74" name="GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74"></a><h4 id="ADMIN-GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74" class="sect4"><span class="enumeration_section">9.4.6</span>设置事件包装首选项</h4>
                  <div>
                     <p>您可以设置事件包装首选项。事件打包首选项的示例包括保留事件信息的天数，以及每个问题包括在包中的前导和尾随事件的数量。</p>
                     <div class="section">
                        <p>默认情况下，如果问题包含许多事件，则仅打包前三个和后三个事件。您可以使用Cloud Control或ADRCI实用程序更改这些和其他事件打包首选项。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用Cloud Control设置事件打包首选项：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>访问Support Workbench主页。</span><div>
                              <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch的问题</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在页面底部的“相关链接”部分中，单击“ <span class="bold">事件包装配置”</span> 。</span><div>
                              <p>将显示“查看事件包装配置”页面。单击“ <span class="bold">帮助”</span>以查看此页面上的设置说明。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">编辑</span> 。</span><div>
                              <p>将显示“编辑事件包装配置”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>编辑设置，然后单击“ <span class="bold">确定”</span>以应用更改。</span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74__GUID-8E4899E5-A04E-40AF-9CF0-517B64132428">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" title="对于将诊断数据上载到Oracle Support的自定义方法，首先将数据收集到称为事件包（包）的中间逻辑结构中。">关于事件包</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" title="为了便于诊断和解决关键错误，故障诊断基础架构为Oracle数据库引入了两个概念：问题和事件。">关于事故和问题</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="对于此任务，您可以使用Support Workbench的快速打包过程将问题的诊断信息打包并上载到Oracle Support。">任务5：将诊断数据打包并上传到Oracle支持</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关ADRCI的信息，请参见<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle数据库实用程序</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="使用企业管理器支持工作台（Support Workbench），您可以创建，编辑和上载自定义事件包。使用自定义事件包，您可以很好地控制发送给Oracle Support的诊断数据。">报告问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-315E87F5-84B4-4E0C-B00A-88C280803219" name="GUID-315E87F5-84B4-4E0C-B00A-88C280803219"></a><h3 id="ADMIN-GUID-315E87F5-84B4-4E0C-B00A-88C280803219" class="sect3"><span class="enumeration_section">9.5</span>解决问题</h3>
               <p>本节介绍如何使用顾问工具（如SQL Repair Advisor和Data Recovery Advisor）以及资源管理工具（如资源管理器和相关API）解决数据库问题。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F">使用SQL Repair Advisor修复SQL失败</a><br>在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2">使用Data Recovery Advisor修复数据损坏</a><br>您可以使用Data Recovery Advisor修复数据块损坏，撤消损坏，数据字典损坏等。
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51">SQL语句执行计划的隔离，消耗过多的系统资源</a><br>从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12301"></a><div class="props_rev_3"><a id="GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" name="GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F"></a><h4 id="ADMIN-GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" class="sect4"><span class="enumeration_section">9.5.1</span>使用SQL Repair Advisor修复SQL失败</h4>
                  <p>在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D280872D-C4BF-4175-A68D-1B000E8DE868">关于SQL修复顾问</a><br>在SQL语句失败并出现严重错误后运行SQL Repair Advisor。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6189BB38-5195-4B13-9F56-7950E7B2073F">使用Cloud Control运行SQL Repair Advisor</a><br>您可以从Cloud Control的Support Workbench的Problem Details页面运行SQL Repair Advisor。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE">使用DBMS_SQLDIAG包子程序运行SQL修复顾问</a><br>您可以使用<code class="codeph">DBMS_SQLDIAG</code>包子程序运行SQL Repair Advisor。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3">使用云控件查看，禁用或删除SQL修补程序</a><br>使用SQL修复顾问应用SQL修补程序后，您可以查看它以确认其存在，禁用它，或使用Cloud Control将其删除。禁用或删除修补程序的一个原因是，如果安装更高版本的Oracle数据库，则修复导致修补的SQL语句失败的错误。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774">使用DBMS_SQLDIAG包子程序禁用或删除SQL修补程序</a><br>使用SQL Repair Advisor应用SQL修补程序后，可以使用<code class="codeph">DBMS_SQLDIAG</code>程序包子程序禁用或删除它。禁用或删除修补程序的一个原因是，如果安装更高版本的Oracle数据库，则修复导致修补的SQL语句失败的错误。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7">使用DBMS_SQLDIAG包子程序导出和导入修补程序</a><br>使用SQL Repair Advisor创建的补丁可以从一个系统导出，并使用<code class="codeph">DBMS_SQLDIAG</code>包子程序导入另一个系统。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219" title="本节介绍如何使用顾问工具（如SQL Repair Advisor和Data Recovery Advisor）以及资源管理工具（如资源管理器和相关API）解决数据库问题。">解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12324"></a><div class="props_rev_3"><a id="GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" name="GUID-D280872D-C4BF-4175-A68D-1B000E8DE868"></a><h5 id="ADMIN-GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" class="sect5"><span class="enumeration_section">9.5.1.1</span>关于SQL Repair Advisor</h5>
                     <div>
                        <p>在SQL语句失败并出现严重错误后运行SQL Repair Advisor。</p>
                        <p>顾问分析该陈述，并在许多情况下建议修补该陈述的补丁。如果实施建议，则应用的SQL修补程序会通过使查询优化器为将来的执行选择备用执行计划来绕过失败。</p>
                        <p>您可以使用Cloud Control或<code class="codeph">DBMS_SQLDIAG</code>程序包子程序运行SQL Repair Advisor。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。">使用SQL Repair Advisor修复SQL失败</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12585"></a><a id="ADMIN12325"></a><div class="props_rev_3"><a id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F" name="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F"></a><h5 id="ADMIN-GUID-6189BB38-5195-4B13-9F56-7950E7B2073F" class="sect5"><span class="enumeration_section">9.5.1.2</span>使用Cloud Control运行SQL Repair Advisor</h5>
                     <div>
                        <p>您可以从Cloud Control的Support Workbench的Problem Details页面运行SQL Repair Advisor。</p>
                        <div class="section">
                           <p>通常，当您已收到SQL语句导致的严重错误以及您遵循<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a> ”中</span>所述的工作流程时，您会这样做。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-D833C4B8-3757-44F1-8AF7-764E977B717E">使用Cloud Control运行SQL Repair Advisor：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>访问“问题详细信息”页面，查找与失败的SQL语句有关的问题。</p>
                                 <p>有关说明，请参阅<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="您可以使用Cloud Control中的Support Workbench主页查看特定时间段内的所有问题或问题。">查看Support Workchch的问题</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在“调查和解决”部分的“解决”标题下，单击“ <span class="bold">SQL修复顾问”</span> 。
                                 </p>
                                 <div class="figure" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-5A6DBF34-DDE2-4361-9564-D969A0117A7C"><img src="img/advisor_access1.gif" width="501" alt="以下是advisor_access1.gif的说明" title="以下是advisor_access1.gif的说明" longdesc="img_text/advisor_access1.html"><br><a href="img_text/advisor_access1.html">插图说明advisor_access1.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>在SQL Repair Advisor页面上，完成以下步骤：</p>
                                 <ol type="a">
                                    <li>
                                       <p>根据需要修改预设任务名称，可选择输入任务描述，修改或清除顾问程序任务的可选时间限制，并调整设置以安排顾问程序立即运行或在将来的日期和时间运行。</p>
                                    </li>
                                    <li>
                                       <p>单击“ <span class="bold">提交”</span>
                                       </p>
                                    </li>
                                 </ol>
                                 <p>将出现“正在处理”页面。短暂延迟后，将显示“SQL修复结果”页面。</p>
                                 <div class="figure" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-E2C4B092-17DC-4797-938A-A5CCC0F51CE5"><img src="img/sql_repair_advisor_results.gif" width="489" alt="下面是sql_repair_advisor_results.gif的描述" title="下面是sql_repair_advisor_results.gif的描述" longdesc="img_text/sql_repair_advisor_results.html"><br><a href="img_text/sql_repair_advisor_results.html">插图说明sql_repair_advisor_results.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>SQL Patch列中的复选标记表示存在建议。此列中没有复选标记表示SQL Repair Advisor无法为SQL语句设计补丁。</p>
                                 <div class="infoboxnote" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-E6448D71-C5F4-4C89-BFB0-BB8BD2CDB5B0">
                                    <p class="notep1">注意：</p>
                                    <p>如果“SQL修复结果”页面无法显示，请完成以下步骤以显示它：</p>
                                    <ol type="a">
                                       <li>
                                          <p>转到数据库主页。</p>
                                       </li>
                                       <li>
                                          <p>从“性能”菜单中，选择“ <span class="bold">顾问主页”</span> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p>在Advisor Central页面的Results列表中，找到SQL Repair Advisor的最新条目。</p>
                                       </li>
                                       <li>
                                          <p>选择条目，然后单击“ <span class="bold">查看结果”</span> 。
                                          </p>
                                       </li>
                                    </ol>
                                 </div>
                              </li>
                              <li>
                                 <p>如果存在建议（SQL Patch列中有复选标记），则单击“ <span class="bold">查看”</span>以查看建议。
                                 </p>
                                 <p>将出现“修复建议”页面，其中显示了该语句的建议修补程序。</p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">实施</span> 。
                                 </p>
                                 <p>SQL修复结果页面返回，显示确认消息。</p>
                              </li>
                              <li>
                                 <p>（可选）单击“ <span class="bold">使用SQL工作表验证”以在SQL工作表</span>中运行该语句，并验证该修补程序是否已成功修复该语句。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。">使用SQL Repair Advisor修复SQL失败</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE" name="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE"></a><h5 id="ADMIN-GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE" class="sect5"><span class="enumeration_section">9.5.1.3</span>使用DBMS_SQLDIAG <span class="enumeration_section">包子程序</span>运行SQL Repair Advisor</h5>
                     <div>
                        <p>您可以使用<code class="codeph">DBMS_SQLDIAG</code>包子程序运行SQL Repair Advisor。
                        </p>
                        <div class="section">
                           <p>通常，当您收到SQL语句导致的严重错误以及遵循<span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="您可以使用企业管理器支持工作台（Support Workbench）来调查和报告问题（严重错误），并在某些情况下解决问题。你可以使用" roadma="=" ="">关于调查，报告和解决问题</a> ”中</span>所述的工作流程的通知时，您会这样做。
                           </p>
                           <p>您可以通过分别使用<code class="codeph">DBMS_SQLDIAG</code>程序包子程序<code class="codeph">CREATE_DIAGNOSIS_TASK</code>和<code class="codeph">EXECUTE_DIAGNOSIS_TASK</code>创建和执行诊断任务来运行SQL Repair Advisor。SQL修复顾问首先重现严重错误，然后尝试以SQL补丁的形式生成一种解决方法，您可以使用<code class="codeph">ACCEPT_SQL_PATCH</code>子程序来应用该<code class="codeph">ACCEPT_SQL_PATCH</code> 。
                           </p>
                           <div class="infoboxnote" id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE__GUID-DCA4CF37-D238-4C52-BCA1-078033848BF0">
                              <p class="notep1">注意：</p>
                              <p>从Oracle Database 19c开始，您还可以使用单个子程序<code class="codeph">SQL_DIAGNOSE_AND_REPAIR</code>来创建诊断任务，执行它，并接受给定SQL语句的SQL修补程序建议。因此， <code class="codeph">SQL_DIAGNOSE_AND_REPAIR</code>子程序实现了以下所有子程序的功能 - <code class="codeph">CREATE_DIAGNOSIS_TASK</code> ， <code class="codeph">EXECUTE_DIAGNOSIS_TASK</code>和<code class="codeph">ACCEPT_SQL_PATCH</code> 。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE__GUID-D833C4B8-3757-44F1-8AF7-764E977B717E">使用DBMS_SQLDIAG包子程序运行SQL Repair Advisor：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p><span class="bold">确定有问题的SQL语句</span></p>
                                 <p>考虑提供严重错误的SQL语句：</p><pre class="oac_no_warn" dir="ltr">DELETE FROM t t1 WHERE t1.a ='a'AND ROWID &lt;&gt;（SELECT MAX（ROWID）FROM t t2 WHERE t1.a = t2.a AND t1.b = t2.b AND t1.d = t2.d）</pre><p>您使用SQL修复顾问来修复此严重错误。</p>
                              </li>
                              <li>
                                 <p><span class="bold">创建诊断任务</span></p>
                                 <p>运行<code class="codeph">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK</code> 。您可以指定可选任务名称，顾问程序任务的可选时间限制以及问题类型。在下面的示例中，我们指定SQL文本，任务名称为“ <code class="codeph">error_task</code> ”，问题类型为“ <code class="codeph">DBMS_SQLDIAG.PROBLEM_TYPE_COMPILATION_ERROR</code> ”。
                                 </p><pre class="oac_no_warn" dir="ltr">DECLARE rep_out CLOB; t_id VARCHAR2（50）; BEGIN t_id：= DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK（sql_text =&gt;'DELETE FROM t t1 WHERE t1.a =''a''AND ROWID &lt;&gt;（SELECT MAX（ROWID）FROM t t2 WHERE t1.a = t2.a AND t1。 b = t2.b AND t1.d = t2.d）'，task_name =&gt;'error_task'，problem_type =&gt; DBMS_SQLDIAG.PROBLEM_TYPE_COMPILATION_ERROR）;</pre></li>
                              <li>
                                 <p><span class="bold">执行诊断任务</span></p>
                                 <p>要执行SQL Repair Advisor的变通方法生成和分析阶段，请使用<code class="codeph">CREATE_DIAGNOSIS_TASK</code>返回的任务ID运行<code class="codeph">DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK</code> 。短暂延迟后，SQL Repair Advisor返回。作为其执行的一部分，SQL Repair Advisor会记录其结果，可以通过SQL Repair Advisor的报告工具进行访问。
                                 </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK（t_id）;</pre></li>
                              <li>
                                 <p><span class="bold">生成诊断任务的报告</span></p>
                                 <p>使用<code class="codeph">DBMS_SQLDIAG.REPORT_DIAGNOSIS_TASK</code>访问诊断任务的分析。如果SQL修复顾问能够找到解决方法，则建议使用SQL修补程序。SQL修补程序类似于SQL配置文件，但与SQL配置文件不同，它用于解决编译或执行错误。
                                 </p><pre class="oac_no_warn" dir="ltr">rep_out：= DBMS_SQLDIAG.REPORT_DIAGNOSIS_TASK（t_id，DBMS_SQLDIAG.TYPE_TEXT）; DBMS_OUTPUT.PUT_LINE（'Report：'|| rep_out）;结束; /</pre></li>
                              <li>
                                 <p><span class="bold">应用补丁</span></p>
                                 <p>如果报告中存在修补程序建议，则可以运行<code class="codeph">DBMS_SQLDIAG.ACCEPT_SQL_PATCH</code>以接受修补程序。此过程将任务名称作为参数。
                                 </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SQLDIAG.ACCEPT_SQL_PATCH（task_name =&gt;'error_task'，task_owner =&gt;'SYS'，replace =&gt; TRUE）;</pre></li>
                              <li>
                                 <p><span class="bold">测试补丁</span></p>
                                 <p>现在您已经接受了补丁，您可以重新运行SQL语句。这一次，它不会给你带来严重错误。如果您为此语句运行<span class="italic">说明计划</span> ，您将看到使用SQL修补程序生成计划。
                                 </p><pre class="oac_no_warn" dir="ltr">DELETE FROM t t1 WHERE t1.a ='a'AND ROWID &lt;&gt;（SELECT max（rowid）FROM t t2 WHERE t1.a = t2.a AND t1.b = t2.b AND t1.d = t2.d） ;</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_SQLDIAG</code>包子程序的更多信息，请<a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。">使用SQL Repair Advisor修复SQL失败</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12586"></a><a id="ADMIN12326"></a><div class="props_rev_3"><a id="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3" name="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3"></a><h5 id="ADMIN-GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3" class="sect5"><span class="enumeration_section">9.5.1.4</span>使用Cloud Control查看，禁用或删除SQL修补程序</h5>
                     <div>
                        <p>使用SQL修复顾问应用SQL修补程序后，您可以查看它以确认其存在，禁用它，或使用Cloud Control将其删除。禁用或删除修补程序的一个原因是，如果安装更高版本的Oracle数据库，则修复导致修补的SQL语句失败的错误。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3__GUID-2B53D1FB-FB78-434E-80D1-7D570B71A60E">要使用Cloud Control查看，禁用或删除SQL修补程序，请执行以下操作：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>访问Cloud Control中的数据库主页。</span></li>
                           <li class="stepexpand"><span>从Performance菜单中，选择<span class="bold">SQL</span> ，然后选择<span class="bold">SQL Plan Control</span> 。</span><div>
                                 <p>将出现“SQL计划控制”页面。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击<span class="bold">SQL Patch</span>以显示SQL Patch子页面。</span><div>
                                 <p>SQL Patch子页面显示数据库中的所有SQL修补程序。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>通过检查关联的SQL文本找到所需的修补程序。</span><div>
                                 <p>单击SQL文本以查看语句的完整文本。查看SQL文本后，单击“ <span class="bold">返回”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>要在SQL Patch子页面上禁用该修补程序，请选择该修补程序，然后单击“ <span class="bold">禁用”</span> 。</span><div>
                                 <p>将显示一条确认消息，并且修补程序状态将更改为<code class="codeph">DISABLED</code> 。您可以稍后通过选择它并单击“ <span class="bold">启用”</span>来重新启用该修补程序。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>要删除修补程序，请选择它，然后单击“ <span class="bold">删除”</span> 。</span><div>
                                 <p>出现确认消息。</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" title="在SQL语句失败并出现严重错误后运行SQL Repair Advisor。">关于SQL修复顾问</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。">使用SQL Repair Advisor修复SQL失败</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774" name="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774"></a><h5 id="ADMIN-GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774" class="sect5"><span class="enumeration_section">9.5.1.5</span>使用DBMS_SQLDIAG <span class="enumeration_section">包子程序</span>禁用或删除SQL修补程序</h5>
                     <div>
                        <p>使用SQL Repair Advisor应用SQL修补程序后，可以使用<code class="codeph">DBMS_SQLDIAG</code>程序包子程序禁用或删除它。禁用或删除修补程序的一个原因是，如果安装更高版本的Oracle数据库，则修复导致修补的SQL语句失败的错误。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774__TODISABLEASQLPATCHUSINGDBMS_SQLDIAG-9FE8BF60">要使用DBMS_SQLDIAG包子程序禁用SQL修补程序：</p>
                           <p>通过指定要禁用的修补程序名称以及状态值<code class="codeph">DISABLED</code>来运行<code class="codeph">DBMS_SQLDIAG.ALTER_SQL_PATCH</code>过程。</p>
                           <p>以下示例禁用SQL修补程序<code class="codeph">sql_patch_12345</code> 。
                           </p><pre class="pre codeblock"><code>EXEC DBMS_SQLDIAG.ALTER_SQL_PATCH（'sql_patch_12345'，'STATUS'，'DISABLED'）;</code></pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774__TOREMOVEASQLPATCHUSINGDBMS_SQLDIAGP-9FE8C256">要使用DBMS_SQLDIAG包子程序删除SQL修补程序：</p>
                           <p>通过指定要删除的修补程序名称来运行<code class="codeph">DBMS_SQLDIAG.DROP_SQL_PATCH</code>过程。可以从说明计划部分或通过查询视图<code class="codeph">DBA_SQL_PATCHES</code>获取补丁名称。</p>
                           <p>以下示例删除SQL修补程序<code class="codeph">sql_patch_12345</code> 。
                           </p><pre class="pre codeblock"><code>EXEC DBMS_SQLDIAG.DROP_SQL_PATCH（'sql_patch_12345'）;</code></pre></div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" title="在SQL语句失败并出现严重错误后运行SQL Repair Advisor。">关于SQL修复顾问</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_SQLDIAG</code>包子程序的更多信息，请<a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。">使用SQL Repair Advisor修复SQL失败</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7" name="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7"></a><h5 id="ADMIN-GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7" class="sect5"><span class="enumeration_section">9.5.1.6</span>使用DBMS_SQLDIAG <span class="enumeration_section">包子程序</span>导出和导入修补程序</h5>
                     <div>
                        <p>使用SQL Repair Advisor创建的补丁可以从一个系统导出，并使用<code class="codeph">DBMS_SQLDIAG</code>包子程序导入另一个系统。
                        </p>
                        <div class="section">
                           <p>可以使用登台表将修补程序导出到一个系统中并导入另一个系统。与SQL诊断集一样，插入登台表的操作称为“pack”，从登台表数据创建补丁的操作称为“解包”。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7__GUID-D833C4B8-3757-44F1-8AF7-764E977B717E">要使用DBMS_SQLDIAG包子程序导出和导入修补程序，请执行以下操作：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>通过调用<code class="codeph">DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH</code>创建用户' <code class="codeph">SH</code> '拥有的临时表：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH（table_name =&gt;'STAGING_TABLE'，schema_name =&gt;'SH'）;</pre></li>
                              <li>
                                 <p>调用<code class="codeph">DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH</code>一次或多次将SQL补丁数据写入登台表。在这种情况下，将<code class="codeph">DEFAULT</code>类别中所有SQL修补程序的数据复制到当前架构所有者拥有的登台表中：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH（staging_table_name =&gt;'STAGING_TABLE'）;</pre></li>
                              <li>
                                 <p>在这种情况下，只有一个SQL补丁<code class="codeph">SP_FIND_EMPLOYEE</code>被复制到当前架构所有者拥有的登台表中：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH（patch_name =&gt;'SP_FIND_EMPLOYEE'，staging_table_name =&gt;'STAGING_TABLE'）;</pre><p>然后，可以使用数据泵，导入/导出命令或使用数据库链接将登台表移动到另一个系统。</p>
                              </li>
                              <li>
                                 <p>调用<code class="codeph">DBMS_SQLDIAG.UNPACK_STGTAB_SQLPATCH</code>以从登台表中的修补程序数据在新系统上创建SQL修补程序。在这种情况下，将存储在临时表中的<code class="codeph">SP_FIND_EMPLOYEE</code>修补程序的数据名称更改为“ <code class="codeph">SP_FIND_EMP_PROD</code> ”：</p><pre class="oac_no_warn" dir="ltr">exec dbms_sqldiag.remap_stgtab_sqlpatch（old_patch_name =&gt;'SP_FIND_EMPLOYEE'，new_patch_name =&gt;'SP_FIND_EMP_PROD'，</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_SQLDIAG</code>包子程序的更多信息，请<a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor来尝试修复失败的语句。">使用SQL Repair Advisor修复SQL失败</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12487"></a><div class="props_rev_3"><a id="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2" name="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2"></a><h4 id="ADMIN-GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2" class="sect4"><span class="enumeration_section">9.5.2</span>使用Data Recovery Advisor修复数据损坏</h4>
                  <div>
                     <p>您可以使用Data Recovery Advisor修复数据块损坏，撤消损坏，数据字典损坏等。</p>
                     <div class="section">
                        <p>Data Recovery Advisor与企业管理器支持工作台（Support Workbench），Health Monitor以及RMAN实用程序集成，以显示数据损坏问题，评估每个问题的严重程度（严重，高优先级，低优先级），描述问题的影响，建议修理选项，对客户选择的选项进行可行性检查，并自动化修复过程。</p>
                        <p>Cloud Control联机帮助提供了有关如何使用Data Recovery Advisor的详细信息。本节介绍如何从Support Workbench访问顾问程序。</p>
                        <p>当您查看与数据损坏或其他数据故障相关的运行状况检查结果时，Data Recovery Advisor将自动由Support Workbench推荐并可从Support Workbench访问。Data Recovery Advisor也可从Advisor Central页面获得。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要在Cloud Control中访问Data Recovery Advisor，请执行以下操作：</p>
                        <ol>
                           <li>
                              <p>访问Cloud Control中的数据库主页。</p>
                              <p>仅当您以<code class="codeph">SYSDBA</code>身份连接时，Data Recovery Advisor才可<code class="codeph">SYSDBA</code> 。</p>
                           </li>
                           <li>
                              <p>从Oracle Database菜单中，选择<span class="bold">Diagnostics</span> ，然后选择<span class="bold">Support Workbench</span> 。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">Checker Findings</span> 。
                              </p>
                              <p>出现Checker Findings子页面。</p>
                              <div class="figure" id="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2__GUID-A4E3CCCF-088C-4C44-879A-11010A7ABA8E"><img src="img/dra_access_2.gif" alt="dra_access_2.gif的描述如下" title="dra_access_2.gif的描述如下" longdesc="img_text/dra_access_2.html"><br><a href="img_text/dra_access_2.html">插图描述dra_access_2.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>选择一个或多个数据损坏结果，然后单击“ <span class="bold">启动Recovery Advisor”</span> 。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2__GUID-B9F5026E-C20C-4835-B4A4-77B056AA1340">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Data Recovery Advisor的详细信息，请<a href="../admqs/performing-backup-and-recovery.html#ADMQS098" target="_blank"><span class="italic">参见Oracle数据库2天DBA</span></a>和<a href="../bradv/diagnosing-repairing-failures-dra.html#BRADV246" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219" title="本节介绍如何使用顾问工具（如SQL Repair Advisor和Data Recovery Advisor）以及资源管理工具（如资源管理器和相关API）解决数据库问题。">解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" name="GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51"></a><h4 id="ADMIN-GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" class="sect4"><span class="enumeration_section">9.5.3</span> SQL语句执行计划的隔离采用过多的系统资源</h4>
                  <p>从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9B3EC88E-E330-4B7E-BF98-617803A24092">关于SQL语句执行计划的隔离</a><br>您可以使用SQL隔离基础结构（SQL隔离）来隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。不允许再次运行此类SQL语句的隔离执行计划，从而防止数据库性能下降。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1D48BAE6-D085-497D-8B7C-28B304E05090">为SQL语句的执行计划创建隔离配置</a><br>您可以使用以下任何<code class="codeph">DBMS_SQLQ</code>包函数创建SQL语句执行计划的隔离配置 - <code class="codeph">CREATE_QUARANTINE_BY_SQL_ID</code>或<code class="codeph">CREATE_QUARANTINE_BY_SQL_TEXT</code> 。</li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-743C3FAA-0CA0-406E-9AC7-51160543B095">在隔离区配置中指定隔离阈值</a><br>为SQL语句的执行计划创建隔离配置后，可以使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程为其指定隔离阈值。当任何资源管理器阈值等于或小于SQL语句的隔离配置中指定的隔离阈值时，如果SQL语句使用其隔离配置中指定的执行计划，则不允许运行SQL语句。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-138E9175-A847-441E-9C3C-DB919BE594B1">启用和禁用隔离配置</a><br>您可以使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程启用或禁用隔离配置。创建隔离配置时，默认情况下会启用隔离配置。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62">查看隔离配置的详细信息</a><br>您可以查询<code class="codeph">DBA_SQL_QUARANTINE</code>视图以获取所有隔离配置的详细信息。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-670BA87F-786A-4428-AE43-E6614BF175E1">删除隔离配置</a><br>53周后，将自动清除或删除未使用的隔离配置。您还可以使用<code class="codeph">DBMS_SQLQ.DROP_QUARANTINE</code>过程删除隔离配置。您可以使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程禁用隔离配置的自动删除。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F">查看SQL语句的隔离执行计划的详细信息</a><br>您可以查询<code class="codeph">V$SQL</code>和<code class="codeph">GV$SQL</code>视图以获取有关SQL语句的隔离执行计划的详细信息。
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7">将隔离配置从一个数据库传输到另一个数据库</a><br>您可以使用<code class="codeph">DBMS_SQLQ</code>程序包子程序 - <code class="codeph">CREATE_STGTAB_QUARANTINE</code> ， <code class="codeph">PACK_STGTAB_QUARANTINE</code>和<code class="codeph">UNPACK_STGTAB_QUARANTINE</code>将隔离配置从一个数据库传输到另一个数据库。</li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5E9499E1-AF15-465A-814F-110343AAEDF6">示例：对包含过多系统资源的SQL语句的执行计划进行隔离</a><br>此示例显示了SQL语句的执行计划超过使用资源管理器配置的资源消耗限制时如何隔离。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219" title="本节介绍如何使用顾问工具（如SQL Repair Advisor和Data Recovery Advisor）以及资源管理工具（如资源管理器和相关API）解决数据库问题。">解决问题</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092" name="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092"></a><h5 id="ADMIN-GUID-9B3EC88E-E330-4B7E-BF98-617803A24092" class="sect5"><span class="enumeration_section">9.5.3.1</span>关于SQL语句执行计划的隔离</h5>
                     <div>
                        <p>您可以使用SQL隔离基础结构（SQL隔离）来隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。不允许再次运行此类SQL语句的隔离执行计划，从而防止数据库性能下降。</p>
                        <p>使用资源管理器，您可以配置SQL语句的限制以消耗系统资源（ <span class="italic">资源管理器阈值</span> ）。资源管理器终止超出资源管理器阈值的SQL语句。在早期的Oracle数据库发行版中，如果资源管理器终止的SQL语句再次运行，则资源管理器允许它再次运行，并在超过资源管理器阈值时再次终止它。因此，允许此类SQL语句再次运行是浪费系统资源。
                        </p>
                        <p>从Oracle Database 19c开始，您可以使用SQL Quarantine自动隔离资源管理器终止的SQL语句的执行计划，以便不允许它们再次运行。</p>
                        <p>此外，SQL Quarantine还可用于通过使用<code class="codeph">DBMS_SQLQ</code>程序包子程序指定使用各种系统资源（类似于资源管理器阈值）的阈值来为SQL语句的执行计划创建<span class="italic">隔离配置</span> 。这些阈值称为<span class="italic">隔离阈值</span> 。如果任何Resource Manager阈值等于或小于SQL语句的隔离配置中指定的隔离阈值，则如果SQL语句使用其隔离配置中指定的执行计划，则不允许运行SQL语句。
                        </p>
                        <p>以下是使用<code class="codeph">DBMS_SQLQ</code>程序包子程序为SQL语句的执行计划手动设置隔离阈值的步骤：</p>
                        <ol id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__OL_IJQ_BJG_VGB">
                           <li>为SQL语句的执行计划创建隔离配置</li>
                           <li>在隔离配置中指定隔离阈值</li>
                        </ol>
                        <p>您还可以使用<code class="codeph">DBMS_SQLQ</code>程序包子程序执行与隔离配置相关的以下操作：</p>
                        <ul id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__UL_EM5_TKG_VGB" style="list-style-type:disc">
                           <li>启用或禁用隔离配置</li>
                           <li>删除隔离配置</li>
                           <li>将隔离配置从一个数据库传输到另一个数据库</li>
                        </ul>
                        <div class="infoboxnote" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__GUID-B8178B9A-2222-4BAD-B015-20A3806FA403">
                           <p class="notep1">注意：</p>
                           <ul id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__UL_KNT_K5R_SGB" style="list-style-type:disc">
                              <li>
                                 <p>隔离配置特定于SQL语句的执行计划。如果两个不同的SQL语句使用相同的执行计划，则它们不共享相同的隔离配置。</p>
                              </li>
                              <li>
                                 <p>执行计划将被隔离，该计划特定于由资源管理器终止的SQL语句。因此，不会为资源管理器尚未终止的其他SQL语句隔离针对SQL语句隔离的执行计划。</p>
                              </li>
                              <li>
                                 <p>如果没有为SQL语句的执行计划创建隔离配置，或者在隔离配置中未指定隔离阈值，则SQL语句的执行计划仍将自动隔离，如果资源管理器终止它超过任何资源管理器阈值。</p>
                              </li>
                           </ul>
                        </div>
                        <p>例如，考虑资源管理器的资源计划，该计划将SQL语句的执行时间限制为10秒（资源管理器阈值）。考虑一个SQL语句Q1，该资源计划是应用程序。当Q1超过10秒的执行时间时，它将被资源管理器终止。然后，SQL Quarantine为特定于该执行计划的Q1创建隔离配置，并将此执行时间10秒存储为隔离配置中的隔离阈值。</p>
                        <p>如果使用相同的执行计划再次执行Q1并且资源管理器阈值仍为10秒，则SQL隔离区不允许Q1执行，因为它指的是10秒的隔离阈值，以确定Q1最终将被终止资源管理器作为Q1至少需要10秒才能执行。</p>
                        <p>如果资源管理器阈值更改为5秒并且Q1使用相同的执行计划再次执行，则SQL隔离区不允许Q1执行，因为它引用了10秒的隔离阈值以确定Q1最终将被终止资源管理器作为Q1至少需要10秒才能执行。</p>
                        <p>如果资源管理器阈值更改为15秒并且Q1使用相同的执行计划再次执行，则SQL隔离允许Q1执行，因为它引用了10秒的隔离阈值以确定Q1执行至少需要10秒，但Q1有可能在15秒内完成执行。</p>
                        <div class="infoboxnote" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__GUID-A629187D-2FFB-4F23-B404-34C18BA54F4F">
                           <p class="notep1">注意：</p>
                           <p>隔离阈值特定于SQL语句的执行计划，它由SQL隔离区根据SQL语句及其执行计划超出的资源管理器阈值自动设置。您还可以使用<code class="codeph">DBMS_SQLQ</code>程序包子程序为SQL语句的特定执行计划手动设置隔离阈值。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__GUID-53CC9AB3-4CB6-4DC2-971B-D3F8083CE7D3">
                           <p class="notep1">也可以看看：</p>
                           <ul id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__UL_JVB_5KK_PGB" style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1D48BAE6-D085-497D-8B7C-28B304E05090" title="您可以使用以下任何DBMS_SQLQ包函数创建SQL语句执行计划的隔离配置 -  CREATE_QUARANTINE_BY_SQL_ID或CREATE_QUARANTINE_BY_SQL_TEXT。">为SQL语句的执行计划创建隔离配置</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" title="为SQL语句的执行计划创建隔离配置后，可以使用DBMS_SQLQ.ALTER_QUARANTINE过程为其指定隔离阈值。当任何资源管理器阈值等于或小于SQL语句的隔离配置中指定的隔离阈值时，如果SQL语句使用其隔离配置中指定的执行计划，则不允许运行SQL语句。">在隔离区配置中指定隔离阈值</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-138E9175-A847-441E-9C3C-DB919BE594B1" title="您可以使用DBMS_SQLQ.ALTER_QUARANTINE过程启用或禁用隔离配置。创建隔离配置时，默认情况下会启用隔离配置。">启用和禁用隔离配置</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62" title="您可以查询DBA_SQL_QUARANTINE视图以获取所有隔离配置的详细信息。">查看隔离配置的详细信息</a> ”</span></p>
                              </li>
                              <li><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-670BA87F-786A-4428-AE43-E6614BF175E1" title="53周后，将自动清除或删除未使用的隔离配置。您还可以使用DBMS_SQLQ.DROP_QUARANTINE过程删除隔离配置。您可以使用DBMS_SQLQ.ALTER_QUARANTINE过程禁用隔离配置的自动删除。">删除隔离配置</a> ”</span></li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" title="您可以管理超出指定限制的使用CPU，物理I / O或逻辑I / O资源的失控会话或调用。失控会话是SQL查询，而失控调用是PL / SQL调用。">通过设置资源限制指定自动切换</a> ”，</span>以获取有关如何使用资源管理器配置SQL语句的资源消耗限制的信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-1D48BAE6-D085-497D-8B7C-28B304E05090" name="GUID-1D48BAE6-D085-497D-8B7C-28B304E05090"></a><h5 id="ADMIN-GUID-1D48BAE6-D085-497D-8B7C-28B304E05090" class="sect5"><span class="enumeration_section">9.5.3.2</span>为SQL语句的执行计划创建隔离配置</h5>
                     <div>
                        <p>您可以使用以下任何<code class="codeph">DBMS_SQLQ</code>包函数创建SQL语句执行计划的隔离配置 - <code class="codeph">CREATE_QUARANTINE_BY_SQL_ID</code>或<code class="codeph">CREATE_QUARANTINE_BY_SQL_TEXT</code> 。</p>
                        <div class="section">
                           <p>以下示例为具有SQL ID为<code class="codeph">8vu7s907prbgr</code>的SQL语句的哈希值为<code class="codeph">3488063716</code>的执行计划创建隔离配置：</p><pre class="pre codeblock"><code>DECLARE quarantine_config VARCHAR2（30）; BEGIN quarantine_config：= DBMS_SQLQ.CREATE_QUARANTINE_BY_SQL_ID（SQL_ID =&gt;'8vu7s907prbgr'，PLAN_HASH_VALUE =&gt;'3488063716'）;结束; /</code></pre><p>如果未指定执行计划或将其指定为<code class="codeph">NULL</code> ，则隔离配置将应用于SQL语句的所有执行计划，但已为其创建了特定于执行计划的隔离配置的执行计划除外。
                           </p>
                           <p>以下示例为SQL ID为<code class="codeph">152sukb473gsk</code>的SQL语句的所有执行计划创建隔离配置：</p><pre class="pre codeblock"><code>DECLARE quarantine_config VARCHAR2（30）; BEGIN quarantine_config：= DBMS_SQLQ.CREATE_QUARANTINE_BY_SQL_ID（SQL_ID =&gt;'152sukb473gsk'）;结束; /</code></pre><p>以下示例为SQL语句<code class="codeph">'select count(*) from emp'</code>所有执行计划创建隔离配置：</p><pre class="pre codeblock"><code>DECLARE quarantine_config VARCHAR2（30）; BEGIN quarantine_config：= DBMS_SQLQ.CREATE_QUARANTINE_BY_SQL_TEXT（SQL_TEXT =&gt; to_clob（'从emp选择计数（*）））;结束; /</code></pre><p><code class="codeph">CREATE_QUARANTINE_BY_SQL_ID</code>和<code class="codeph">CREATE_QUARANTINE_BY_SQL_TEXT</code>函数返回隔离配置的名称，该名称可用于使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程为SQL语句的执行计划指定<span class="italic">隔离阈值</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1D48BAE6-D085-497D-8B7C-28B304E05090__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" title="为SQL语句的执行计划创建隔离配置后，可以使用DBMS_SQLQ.ALTER_QUARANTINE过程为其指定隔离阈值。当任何资源管理器阈值等于或小于SQL语句的隔离配置中指定的隔离阈值时，如果SQL语句使用其隔离配置中指定的执行计划，则不允许运行SQL语句。">在隔离区配置中指定隔离阈值</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_SQLQ</code>包子程序的更多信息，请<a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-C9CEBBEA-9543-42B2-B318-465BAA4F832F" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" name="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095"></a><h5 id="ADMIN-GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" class="sect5"><span class="enumeration_section">9.5.3.3</span>在隔离区配置中指定隔离阈值</h5>
                     <div>
                        <p>为SQL语句的执行计划创建隔离配置后，可以使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程为其指定隔离阈值。当任何资源管理器阈值等于或小于SQL语句的隔离配置中指定的隔离阈值时，如果SQL语句使用其隔离配置中指定的执行计划，则不允许运行SQL语句。
                        </p>
                        <div class="section">
                           <p>您可以使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程为隔离配置中的以下资源指定隔离阈值：</p>
                           <ul id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__UL_OM2_FHN_SGB" style="list-style-type:disc">
                              <li>
                                 <p>CPU时间</p>
                              </li>
                              <li>
                                 <p>经过的时间</p>
                              </li>
                              <li>
                                 <p>I / O，以兆字节为单位</p>
                              </li>
                              <li>
                                 <p>物理I / O请求数</p>
                              </li>
                              <li>
                                 <p>逻辑I / O请求数</p>
                              </li>
                           </ul>
                           <p>在以下示例中，为CPU时间指定的隔离阈值为5秒，隔离配置<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>已用时间为10秒。
                           </p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.ALTER_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'CPU_TIME'，PARAMETER_VALUE =&gt;'5'）; DBMS_SQLQ.ALTER_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'ELAPSED_TIME'，PARAMETER_VALUE =&gt;'10'）;结束; /</code></pre><p>使用此隔离配置中指定的执行计划执行SQL语句时，如果CPU时间的资源管理器阈值为5秒或更短，或者经过时间为10秒或更短，则不允许运行SQL语句。</p>
                           <div class="infoboxnote" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-03E5B500-6A1B-4917-A85C-747E36D6673B">
                              <p class="notep1">注意：</p>
                              <p>如果任何Resource Manager阈值等于或小于SQL语句的隔离配置中指定的隔离阈值，则如果该SQL语句使用其隔离配置中指定的执行计划，则不允许该SQL语句运行。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-6736477E-D27E-40E6-83CD-073156FB63B0">查询隔离配置的隔离阈值</p>
                           <p>您可以使用<code class="codeph">DBMS_SQLQ.GET_PARAM_VALUE_QUARANTINE</code>函数查询隔离配置的隔离阈值。以下示例返回隔离配置<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code> CPU时间消耗的隔离阈值：</p><pre class="pre codeblock"><code>DECLARE quarantine_config_setting_value VARCHAR2（30）; BEGIN quarantine_config_setting_value：= DBMS_SQLQ.GET_PARAM_VALUE_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'CPU_TIME'）;结束; /</code></pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-3240556E-4CE7-44CC-8D46-0277A1C1F753">从隔离配置中删除隔离阈值</p>
                           <p>您可以通过将<code class="codeph">DBMS_SQLQ.DROP_THRESHOLD</code>指定为<code class="codeph">PARAMETER_VALUE</code>的值来从隔离配置中删除隔离阈值。以下示例从隔离配置<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>删除CPU时间消耗的隔离阈值：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.ALTER_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'CPU_TIME'，PARAMETER_VALUE =&gt; DBMS_SQLQ.DROP_THRESHOLD）;结束; /</code></pre></div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-EE9697BC-34C8-4582-BDD4-8D492B3FD5F8">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程的详细信息，请<a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-442813C4-07F7-4795-90AA-B6BF904FDA18" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-138E9175-A847-441E-9C3C-DB919BE594B1" name="GUID-138E9175-A847-441E-9C3C-DB919BE594B1"></a><h5 id="ADMIN-GUID-138E9175-A847-441E-9C3C-DB919BE594B1" class="sect5"><span class="enumeration_section">9.5.3.4</span>启用和禁用隔离配置</h5>
                     <div>
                        <p>您可以使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程启用或禁用隔离配置。创建隔离配置时，默认情况下会启用隔离配置。
                        </p>
                        <div class="section">
                           <p>以下示例禁用名为<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>的隔离配置：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.ALTER_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'ENABLED'，PARAMETER_VALUE =&gt;'NO'）;结束; /</code></pre><p>以下示例启用名为<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>的隔离配置：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.ALTER_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'ENABLED'，PARAMETER_VALUE =&gt;'YES'）;结束; /</code></pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-138E9175-A847-441E-9C3C-DB919BE594B1__GUID-DFFB7FFA-D21A-4E06-9497-58EFB415176A">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程的详细信息，请<a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-442813C4-07F7-4795-90AA-B6BF904FDA18" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62" name="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62"></a><h5 id="ADMIN-GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62" class="sect5"><span class="enumeration_section">9.5.3.5</span>查看隔离区配置的详细信息</h5>
                     <div>
                        <p>您可以查询<code class="codeph">DBA_SQL_QUARANTINE</code>视图以获取所有隔离配置的详细信息。
                        </p>
                        <div class="section">
                           <p><code class="codeph">DBA_SQL_QUARANTINE</code>视图包含有关每个隔离配置的以下信息：</p>
                           <ul id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62__UL_DXM_BVH_CGB" style="list-style-type:disc">
                              <li>隔离配置名称</li>
                              <li>隔离配置适用的SQL语句</li>
                              <li>隔离配置适用的执行计划的哈希值</li>
                              <li>隔离配置的状态（启用或禁用）</li>
                              <li>自动清除隔离配置的状态（是或否）</li>
                              <li>为隔离配置指定的隔离阈值：<ul id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62__UL_OR2_WVH_CGB" style="list-style-type:disc">
                                    <li>CPU时间</li>
                                    <li>经过的时间</li>
                                    <li>I / O，以兆字节为单位</li>
                                    <li>物理I / O请求数</li>
                                    <li>逻辑I / O请求数</li>
                                 </ul>
                              </li>
                              <li>创建隔离配置的日期和时间</li>
                              <li>上次执行隔离配置的日期和时间</li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62__GUID-C0EC4284-3421-4A6A-AF0F-27F1841DE758">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBA_SQL_QUARANTINE</code>视图的详细信息，请<code class="codeph">DBA_SQL_QUARANTINE</code> <a href="../refrn/DBA_SQL_QUARANTINE.html#REFRN-GUID-ADAD10B6-04B3-44B6-B8E0-98C503D9EF61" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-670BA87F-786A-4428-AE43-E6614BF175E1" name="GUID-670BA87F-786A-4428-AE43-E6614BF175E1"></a><h5 id="ADMIN-GUID-670BA87F-786A-4428-AE43-E6614BF175E1" class="sect5"><span class="enumeration_section">9.5.3.6</span>删除隔离配置</h5>
                     <div>
                        <p>53周后，将自动清除或删除未使用的隔离配置。您还可以使用<code class="codeph">DBMS_SQLQ.DROP_QUARANTINE</code>过程删除隔离配置。您可以使用<code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code>过程禁用隔离配置的自动删除。
                        </p>
                        <div class="section" id="GUID-670BA87F-786A-4428-AE43-E6614BF175E1__INCLUDINGASQLQUERYFORQUARANTINE-B7A803D0">
                           <p>以下示例禁用自动删除隔离配置<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code> ：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.ALTER_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'AUTOPURGE'，PARAMETER_VALUE =&gt;'NO'）;结束; /</code></pre><p>以下示例启用了自动删除隔离配置<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code> ：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.ALTER_QUARANTINE（QUARANTINE_NAME =&gt;'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'，PARAMETER_NAME =&gt;'AUTOPURGE'，PARAMETER_VALUE =&gt;'是'）;结束; /</code></pre><p>以下示例删除隔离配置<code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code> ：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.DROP_QUARANTINE（'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4'）;结束; /</code></pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-670BA87F-786A-4428-AE43-E6614BF175E1__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_SQLQ</code>包子程序的更多信息，请<a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-C07258CB-4706-4722-AE5B-85184173B70B" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F" name="GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F"></a><h5 id="ADMIN-GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F" class="sect5"><span class="enumeration_section">9.5.3.7</span>查看SQL语句的隔离执行计划的详细信息</h5>
                     <div>
                        <p>您可以查询<code class="codeph">V$SQL</code>和<code class="codeph">GV$SQL</code>视图以获取有关SQL语句的隔离执行计划的详细信息。
                        </p>
                        <div class="section">
                           <p><code class="codeph">V$SQL</code>和<code class="codeph">GV$SQL</code>视图的以下列显示了SQL语句执行计划的隔离信息：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SQL_QUARANTINE</code> ：此列显示SQL语句执行计划的隔离配置的名称。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">AVOIDED_EXECUTIONS</code> ：此列显示SQL语句的执行计划在隔离后无法运行的次数。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">V$SQL</code>和<code class="codeph">GV$SQL</code>视图的详细信息，请参阅<a href="../refrn/V-SQL.html#REFRN-GUID-2B9340D7-4AA8-4894-94C0-D5990F67BE75" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7" name="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7"></a><h5 id="ADMIN-GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7" class="sect5"><span class="enumeration_section">9.5.3.8</span>将隔离配置从一个数据库传输到另一个数据库</h5>
                     <div>
                        <p>您可以使用<code class="codeph">DBMS_SQLQ</code>程序包子程序 - <code class="codeph">CREATE_STGTAB_QUARANTINE</code> ， <code class="codeph">PACK_STGTAB_QUARANTINE</code>和<code class="codeph">UNPACK_STGTAB_QUARANTINE</code>将隔离配置从一个数据库传输到另一个数据库。</p>
                        <div class="section">
                           <p>例如，您可能已在<span class="italic">测试</span>数据库上测试了隔离配置，并确认它们已经运行良好。然后，您可能希望将这些隔离配置加载到<span class="italic">生产</span>数据库中。
                           </p>
                           <p>以下示例描述了使用<code class="codeph">DBMS_SQLQ</code>程序包子程序将隔离配置从一个数据库<span class="italic">（源数据库）</span>传输到另一个数据库<span class="italic">（目标数据库）</span>的步骤：</p>
                           <ol id="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7__OL_WYT_WFZ_BGB">
                              <li>
                                 <p>使用SQL * Plus，以具有管理权限的用户身份连接到源数据库，并使用<code class="codeph">DBMS_SQLQ.CREATE_STGTAB_QUARANTINE</code>过程创建临时表。
                                 </p>
                                 <p>以下示例创建名为<code class="codeph">TBL_STG_QUARANTINE</code>的临时表：</p><pre class="pre codeblock"><code>BEGIN DBMS_SQLQ.CREATE_STGTAB_QUARANTINE（staging_table_name =&gt;'TBL_STG_QUARANTINE'）;结束; /</code></pre></li>
                              <li>
                                 <p>将隔离配置添加到要传输到目标数据库的临时表中。</p>
                                 <p>下面的示例将所有先从名检疫配置<code class="codeph">QUARANTINE_CONFIG_</code>到临时表<code class="codeph">TBL_STG_QUARANTINE</code> ：</p><pre class="pre codeblock"><code>DECLARE quarantine_configs NUMBER; BEGIN quarantine_configs：= DBMS_SQLQ.PACK_STGTAB_QUARANTINE（staging_table_name =&gt;'TBL_STG_QUARANTINE'，name =&gt;'QUARANTINE_CONFIG_％'）;结束; /</code></pre><p><code class="codeph">DBMS_SQLQ.PACK_STGTAB_QUARANTINE</code>函数返回添加到登台表的隔离配置数。
                                 </p>
                              </li>
                              <li>
                                 <p>使用Oracle Data Pump Export实用程序将登台表<code class="codeph">TBL_STG_QUARANTINE</code>导出到转储文件。
                                 </p>
                              </li>
                              <li>
                                 <p>将转储文件从源数据库系统传输到目标数据库系统。</p>
                              </li>
                              <li>
                                 <p>在目标数据库系统上，使用Oracle Data Pump Import实用程序将转储表<code class="codeph">TBL_STG_QUARANTINE</code>从转储文件导入目标数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>使用SQL * Plus，以具有管理权限的用户身份连接到目标数据库，并从导入的登台表创建隔离配置。</p>
                                 <p>以下示例基于导入的临时表<code class="codeph">TBL_STG_QUARANTINE</code>存储的所有隔离配置在目标数据库上创建隔离配置：</p><pre class="pre codeblock"><code>DECLARE quarantine_configs NUMBER; BEGIN quarantine_configs：= DBMS_SQLQ.UNPACK_STGTAB_QUARANTINE（staging_table_name =&gt;'TBL_STG_QUARANTINE'）;结束; /</code></pre><p><code class="codeph">DBMS_SQLQ.UNPACK_STGTAB_QUARANTINE</code>函数返回在目标数据库中创建的隔离配置数。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7__GUID-B98F1E52-956F-4F62-AA81-A63A413C23CE">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_SQLQ</code>包子程序的更多信息，请<a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-C07258CB-4706-4722-AE5B-85184173B70B" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6" name="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6"></a><h5 id="ADMIN-GUID-5E9499E1-AF15-465A-814F-110343AAEDF6" class="sect5"><span class="enumeration_section">9.5.3.9</span>示例：对SQL语句的执行计划进行隔离，以消耗过多的系统资源</h5>
                     <div>
                        <p>此示例显示了SQL语句的执行计划超过使用资源管理器配置的资源消耗限制时如何隔离。</p>
                        <div class="section">
                           <ol id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__OL_WYT_WFZ_BGB">
                              <li>
                                 <p>使用资源管理器，为用户<code class="codeph">HR</code>执行的SQL语句指定3秒的执行时间限制。</p>
                                 <p>以下代码通过使用<code class="codeph">DBMS_RESOURCE_MANAGER</code>包子程序创建复杂资源计划来执行这些操作：</p>
                                 <ul id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__UL_A21_VQB_MGB" style="list-style-type:disc">
                                    <li>创建一个消费者组<code class="codeph">TEST_RUNAWAY_GROUP</code> 。</li>
                                    <li>将用户<code class="codeph">HR</code>分配给<code class="codeph">TEST_RUNAWAY_GROUP</code>使用者组。
                                    </li>
                                    <li>创建一个资源计划<code class="codeph">LIMIT_RESOURCE</code> ，当它超过3秒的执行时间时终止SQL语句。
                                    </li>
                                    <li>将<code class="codeph">LIMIT_RESOURCE</code>资源计划分配给<code class="codeph">TEST_RUNAWAY_GROUP</code>使用者组。
                                    </li>
                                 </ul><pre class="pre codeblock"><code>connect / as sysdba begin  - 创建一个挂起区域dbms_resource_manager.create_pending_area（）; - 创建一个使用者组'TEST_RUNAWAY_GROUP'dbms_resource_manager.create_consumer_group（consumer_group =&gt;'TEST_RUNAWAY_GROUP'，comment =&gt;'此使用者组限制SQL语句的执行时间'）; - 将用户'HR'的会话映射到消费者组'TEST_RUNAWAY_GROUP'dbms_resource_manager.set_consumer_group_mapping（attribute =&gt; DBMS_RESOURCE_MANAGER.ORACLE_USER，value =&gt;'HR'，consumer_group =&gt;'TEST_RUNAWAY_GROUP'）; - 创建资源计划'LIMIT_RESOURCE'dbms_resource_manager.create_plan（plan =&gt;'LIMIT_RESOURCE'，comment =&gt;'超过总执行时间后终止SQL语句'）; - 通过将“LIMIT_RESOURCE”计划分配给 - “TEST_RUNAWAY_GROUP”使用者组来创建资源计划指令 - 为属于“TEST_RUNAWAY_GROUP”组的SQL语句指定3秒的执行时间限制dbms_resource_manager.create_plan_directive（计划&gt;'LIMIT_RESOURCE'，group_or_subplan =&gt;'TEST_RUNAWAY_GROUP'，comment =&gt;'当超过'||'执行时间为3秒时终止SQL语句'，switch_group =&gt;'CANCEL_SQL'，switch_time =&gt; 3，switch_estimate =&gt;错误的）; - 根据OTHER_GROUPS指令dbms_resource_Manager.create_plan_directive（plan =&gt;'LIMIT_RESOURCE'，group_or_subplan =&gt;'OTHER_GROUPS'，comment =&gt;'忽略'），将资源分配给当前活动计划未涵盖的会话 - ; - 验证并提交待定区域dbms_resource_manager.validate_pending_area（）; dbms_resource_manager.submit_pending_area（）; - 授予'HR'用户切换权限以切换到'TEST_RUNAWAY_GROUP' - 消费者组dbms_resource_manager_privs.grant_switch_consumer_group（'HR'，'TEST_RUNAWAY_GROUP'，false）; - 将'HR'用户的初始消费者组设置为'TEST_RUNAWAY_GROUP'dbms_resource_manager.set_initial_consumer_group（'HR'，'TEST_RUNAWAY_GROUP'）;结束; /  - 将“LIMIT_RESOURCE”计划设置为资源管理器更改系统集的顶层计划RESOURCE_MANAGER_PLAN ='LIMIT_RESOURCE'cope = memory; - 解锁HR用户并为其分配由<span class="italic">hr_user_password</span>帐户解锁标识的用户hr的DBA角色;授予dba到hr; - 刷新共享池alter system flush shared_pool;</code></pre></li>
                              <li>
                                 <p>以<code class="codeph">HR</code>用户身份连接到Oracle数据库，并运行超过3秒执行时间限制的SQL语句：</p><pre class="pre codeblock"><code>从员工emp1，员工emp2，员工emp3，员工emp4，员工emp5，员工emp7，员工emp8，员工emp9，员工emp10，rownum &lt;= 100000000;中选择count（*）</code></pre><p>SQL语句由资源管理器终止，因为它超过了3秒的执行时间限制，并显示以下错误消息：</p><pre class="pre codeblock"><code>ORA-00040：超出活动时间限制 - 呼叫中止</code></pre><p>现在，SQL语句的执行计划已添加到隔离列表中，因此不允许再次运行。</p>
                              </li>
                              <li>
                                 <p>再次运行SQL语句。</p>
                                 <p>现在，SQL语句应立即终止，并显示以下错误消息，因为其执行计划已被隔离：</p><pre class="pre codeblock"><code>ORA-56955：使用了隔离计划</code></pre></li>
                              <li>
                                 <p>通过查询<code class="codeph">v$sql</code>和<code class="codeph">dba_sql_quarantine</code>视图查看SQL语句的隔离执行计划的详细信息。
                                 </p>
                                 <ul id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__UL_QLT_HNX_NGB" style="list-style-type:disc">
                                    <li>
                                       <p>查询<code class="codeph">v$sql</code>视图。<code class="codeph">v$sql</code>视图包含有关SQL语句的各种统计信息（包括隔离区统计信息）的信息。
                                       </p><pre class="pre codeblock"><code>从v $ sql中选择sql_text，plan_hash_value，avoid_executions，sql_quarantine，其中sql_quarantine不为null;</code></pre><p>此查询的输出类似于以下内容：</p><pre class="pre codeblock"><code>SQL_TEXT PLAN_HASH_VALUE AVOIDED_EXECUTIONS SQL_QUARANTINE ------------------------------------ ---------- ----- ------------------ --------------------------- ---------选择计数（*）3719017987 1来自员工emp1的SQL_QUARANTINE_3uuhv1u5day0yf6ed7f0c，员工emp2，员工emp3，员工emp4，员工emp5，员工emp6，员工emp7，员工emp8，员工emp9，员工emp10，其中rownum &lt; = 100000000;</code></pre><p><code class="codeph">sql_quarantine</code>列显示SQL语句执行计划的隔离配置的自动生成名称。
                                       </p>
                                    </li>
                                    <li>
                                       <p>查询<code class="codeph">dba_sql_quarantine</code>视图。<code class="codeph">dba_sql_quarantine</code>视图包含有关SQL语句的执行计划的隔离配置的信息。
                                       </p><pre class="pre codeblock"><code>选择sql_text，name，plan_hash_value，last_executed，从dba_sql_quarantine启用;</code></pre><p>此查询的输出类似于以下内容：</p><pre class="pre codeblock"><code>SQL_TEXT名称PLAN_HASH_VALUE LAST_EXECUTED ENABLED ------------------------------------ --------- --------------------------- --------------- -------- -------------------- ------- select count（*）SQL_QUARANTINE_3uuhv1u5day0yf6ed7f0c 3719017987 14-JAN-19 02.19.01.000000 AM是来自员工emp1，员工emp2 ，员工emp3，员工emp4，员工emp5，员工emp6，员工emp7，员工emp8，员工emp9，员工emp10，rownum &lt;= 1亿;</code></pre><p><code class="codeph">name</code>列显示SQL语句执行计划的隔离配置的自动生成名称。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>清理示例环境。</p>
                                 <p>以下代码删除为此示例创建的所有数据库对象：</p><pre class="pre codeblock"><code>connect / as sysdba begin for quarantineObj in（select name from dba_sql_quarantine）loop sys.dbms_sqlq.drop_quarantine（quarantineObj.name）;结束循环;结束; / alter system set RESOURCE_MANAGER_PLAN =''scope = memory;执行dbms_resource_manager.clear_pending_area（）;执行dbms_resource_manager.create_pending_area（）;执行dbms_resource_manager.delete_plan（'LIMIT_RESOURCE'）;执行dbms_resource_manager.delete_consumer_group（'TEST_RUNAWAY_GROUP'）;执行dbms_resource_manager.validate_pending_area（）;执行dbms_resource_manager.submit_pending_area（）;</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__GUID-B98F1E52-956F-4F62-AA81-A63A413C23CE">
                           <p class="notep1">也可以看看：</p>
                           <ul id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__UL_HVX_QYJ_NGB" style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a> ”</span>以获取有关使用<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包子程序创建复杂资源计划的更多信息</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包子程序的详细信息，请<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS-GUID-9876C289-99E4-416B-AB6F-D8318642053E" target="_blank"><span><cite>参见Oracle Database PL / SQL程序包和类型参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">V$SQL</code>视图的更多信息，请<a href="../refrn/V-SQL.html#REFRN-GUID-2B9340D7-4AA8-4894-94C0-D5990F67BE75" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">SQL语句的执行计划的隔离，消耗过多的系统资源</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>