<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">
      <meta name="description" content="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">
      <title>Diagnosing and Resolving Problems</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="monitoring-the-database.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-database-structure-and-storage.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-the-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-database-structure-and-storage.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="basic-database-administration.html" property="item" typeof="WebPage"><span property="name">Basic Database Administration</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Diagnosing and Resolving Problems</li>
            </ol>
            <a id="GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" name="GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3"></a><a id="ADMIN11007"></a>
            
            <h2 id="ADMIN-GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" class="sect2"><span class="enumeration_chapter">9 </span>Diagnosing and Resolving Problems
            </h2>
         </header>
         <div class="ind">
            <p>Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. <span class="bold">Diagnostic data</span> includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.
            </p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257">About the Oracle Database Fault Diagnosability Infrastructure</a><br>Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619">About Investigating, Reporting, and Resolving a Problem</a><br>You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC">Diagnosing Problems</a><br>This section describes various methods to diagnose problems in an Oracle database.
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73">Reporting Problems</a><br>Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.
                  </li>
                  <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219">Resolving Problems</a><br>This section describes how to resolve database problems using advisor tools, such as SQL Repair Advisor and Data Recovery Advisor, and the resource management tools, such as the Resource Manager and related APIs.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="basic-database-administration.html#GUID-1DF51F9B-86E9-4E40-A30E-00714E7C0003" title="Database administrators have specific responsibilities and must understand how to complete database administration tasks.">Basic Database Administration</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11257"></a><div class="props_rev_3"><a id="GUID-43A0C671-CE6F-492F-9032-A010E96DC257" name="GUID-43A0C671-CE6F-492F-9032-A010E96DC257"></a><h3 id="ADMIN-GUID-43A0C671-CE6F-492F-9032-A010E96DC257" class="sect3"><span class="enumeration_section">9.1 </span>About the Oracle Database Fault Diagnosability Infrastructure
               </h3>
               <p>Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30">Fault Diagnosability Infrastructure Overview</a><br>The fault diagnosability infrastructure aids in preventing, detecting, diagnosing, and resolving problems. The problems that are targeted in particular are critical errors such as those caused by code bugs, metadata corruption, and customer data corruption.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A">Incidents and Problems</a><br>A <span class="bold">problem</span> is a critical error in a database instance, Oracle Automatic Storage Management (Oracle ASM) instance, or other Oracle product or component. An <span class="bold">incident</span> is a single occurrence of a problem. 
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8">Fault Diagnosability Infrastructure Components</a><br>The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33">Structure, Contents, and Location of the Automatic Diagnostic Repository</a><br>The Automatic Diagnostic Repository (ADR) is a directory structure that is stored outside of the database. It is therefore available for problem diagnosis when the database is down.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">Diagnosing and Resolving Problems</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11258"></a><div class="props_rev_3"><a id="GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30" name="GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30"></a><h4 id="ADMIN-GUID-C78CCAD4-732B-4B14-9C6B-D47AC2A99E30" class="sect4"><span class="enumeration_section">9.1.1 </span>Fault Diagnosability Infrastructure Overview
                  </h4>
                  <div>
                     <p>The fault diagnosability infrastructure aids in preventing, detecting, diagnosing, and resolving problems. The problems that are targeted in particular are critical errors such as those caused by code bugs, metadata corruption, and customer data corruption.</p>
                     <p>When a critical error occurs, it is assigned an incident number, and diagnostic data for the error (such as trace files) are immediately captured and tagged with this number. The data is then stored in the Automatic Diagnostic Repository (ADR)—a file-based repository outside the database—where it can later be retrieved by incident number and analyzed.</p>
                     <p>The goals of the fault diagnosability infrastructure are the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>First-failure diagnosis</p>
                        </li>
                        <li>
                           <p>Problem prevention</p>
                        </li>
                        <li>
                           <p>Limiting damage and interruptions after a problem is detected</p>
                        </li>
                        <li>
                           <p>Reducing problem diagnostic time</p>
                        </li>
                        <li>
                           <p>Reducing problem resolution time</p>
                        </li>
                        <li>
                           <p>Simplifying customer interaction with Oracle Support</p>
                        </li>
                     </ul>
                     <p>The keys to achieving these goals are the following technologies:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Automatic capture of diagnostic data upon first failure</span>—For critical errors, the ability to capture error information at first-failure greatly increases the chance of a quick problem resolution and reduced downtime. An always-on memory-based tracing system proactively collects diagnostic data from many database components, and can help isolate root causes of problems. Such proactive diagnostic data is similar to the data collected by airplane "black box" flight recorders. When a problem is detected, alerts are generated and the fault diagnosability infrastructure is activated to capture and store diagnostic data. The data is stored in a repository that is outside the database (and therefore available when the database is down), and is easily accessible with command line utilities and Oracle Enterprise Manager Cloud Control (Cloud Control).
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Standardized trace formats</span>—Standardizing trace formats across all database components enables DBAs and Oracle Support personnel to use a single set of tools for problem analysis. Problems are more easily diagnosed, and downtime is reduced.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Health checks</span>—<a id="d116652e229" class="indexterm-anchor"></a>Upon detecting a critical error, the fault diagnosability infrastructure can run one or more health checks to perform deeper analysis of a critical error. Health check results are then added to the other diagnostic data collected for the error. Individual health checks look for data block corruptions, undo and redo corruption, data dictionary corruption, and more. As a DBA, you can manually invoke these health checks, either on a regular basis or as required.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Incident packaging service (IPS) and incident packages</span>—<a id="d116652e237" class="indexterm-anchor"></a><a id="d116652e241" class="indexterm-anchor"></a><a id="d116652e243" class="indexterm-anchor"></a>The IPS enables you to automatically and easily gather the diagnostic data—traces, dumps, health check reports, and more—pertaining to a critical error and package the data into a zip file for transmission to Oracle Support. Because all diagnostic data relating to a critical error are tagged with that error's incident number, you do not have to search through trace files and other files to determine the files that are required for analysis; the incident packaging service identifies the required files automatically and adds them to the zip file. Before creating the zip file, the IPS first collects diagnostic data into an intermediate logical structure called an incident package (package). Packages are stored in the Automatic Diagnostic Repository. If you choose to, you can access this intermediate logical structure, view and modify its contents, add or remove additional diagnostic data at any time, and when you are ready, create the zip file from the package. After these steps are completed, the zip file is ready to be uploaded to Oracle Support.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Data Recovery Advisor</span>—<a id="d116652e251" class="indexterm-anchor"></a><a id="d116652e253" class="indexterm-anchor"></a>The Data Recovery Advisor integrates with database health checks and RMAN to display data corruption problems, assess the extent of each problem (critical, high priority, low priority), describe the impact of a problem, recommend repair options, conduct a feasibility check of the customer-chosen option, and automate the repair process.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">SQL Test Case Builder</span>—<a id="d116652e263" class="indexterm-anchor"></a><a id="d116652e265" class="indexterm-anchor"></a>For many SQL-related problems, obtaining a reproducible test case is an important factor in problem resolution speed. The SQL Test Case Builder automates the sometimes difficult and time-consuming process of gathering as much information as possible about the problem and the environment in which it occurred. After quickly gathering this information, you can upload it to Oracle Support to enable support personnel to easily and accurately reproduce the problem.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">About the Oracle Database Fault Diagnosability Infrastructure</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" name="GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A"></a><h4 id="ADMIN-GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" class="sect4"><span class="enumeration_section">9.1.2 </span>Incidents and Problems
                  </h4>
                  <p>A <span class="bold">problem</span> is a critical error in a database instance, Oracle Automatic Storage Management (Oracle ASM) instance, or other Oracle product or component. An <span class="bold">incident</span> is a single occurrence of a problem. 
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F">About Incidents and Problems</a><br>To facilitate diagnosis and resolution of critical errors, the fault diagnosability infrastructure introduces two concepts for Oracle Database: problems and incidents.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8120A824-8A37-4291-87AA-D029C91EE6E2">Incident Flood Control</a><br>It is conceivable that a problem could generate dozens or perhaps hundreds of incidents in a short period of time. This would generate too much diagnostic data, which would consume too much space in the ADR and could possibly slow down your efforts to diagnose and resolve the problem. For these reasons, the fault diagnosability infrastructure applies <span class="italic">flood control</span> to incident generation after certain thresholds are reached.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF">Related Problems Across the Topology</a><br>For any problem identified in a database instance, the diagnosability framework can identify related problems across the topology of your Oracle Database installation.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">About the Oracle Database Fault Diagnosability Infrastructure</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11259"></a><div class="props_rev_3"><a id="GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" name="GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F"></a><h5 id="ADMIN-GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" class="sect5"><span class="enumeration_section">9.1.2.1 </span>About Incidents and Problems
                     </h5>
                     <div>
                        <p>To facilitate diagnosis and resolution of critical errors, the fault diagnosability infrastructure introduces two concepts for Oracle Database: problems and incidents.</p>
                        <p>A <span class="bold">problem</span> is a critical error in a database instance, Oracle Automatic Storage Management (Oracle ASM) instance, or other Oracle product or component. Critical errors manifest as internal errors, such as <code class="codeph">ORA-00600</code>, or other severe errors, such as <code class="codeph">ORA-07445</code> (operating system exception) or <code class="codeph">ORA-04031</code> (out of memory in the shared pool). Problems are tracked in the ADR. Each problem has a <span class="italic">problem key</span>, which is a text string that describes the problem. It includes an error code (such as <code class="codeph">ORA</code> <code class="codeph">600</code>) and in some cases, one or more error parameters.
                        </p>
                        <p>An <span class="bold">incident</span> is a single occurrence of a problem. When a problem (critical error) occurs multiple times, an incident is created for each occurrence. Incidents are timestamped and tracked in the Automatic Diagnostic Repository (ADR). Each incident is identified by a numeric incident ID, which is unique within the ADR. When an incident occurs, the database:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Makes an entry in the alert log.</p>
                           </li>
                           <li>
                              <p>Sends an <span class="italic">incident alert</span> to Cloud Control.
                              </p>
                           </li>
                           <li>
                              <p>Gathers first-failure diagnostic data about the incident in the form of dump files (incident dumps).</p>
                           </li>
                           <li>
                              <p>Tags the incident dumps with the incident ID.</p>
                           </li>
                           <li>
                              <p>Stores the incident dumps in an ADR subdirectory created for that incident.</p>
                           </li>
                        </ul>
                        <p>Diagnosis and resolution of a critical error usually starts with an incident alert. Incident alerts are displayed on the Cloud Control Database Home page or Oracle Automatic Storage Management Home page. The Database Home page also displays in its Related Alerts section any critical alerts in the Oracle ASM instance or other Oracle products or components. After viewing an alert, you can then view the problem and its associated incidents with Cloud Control or with the ADRCI command-line utility.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F__GUID-5077648F-05EB-4F84-A618-B5FF7B139501">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" title="The ADR Command Interpreter (ADRCI) is a utility that enables you to investigate problems, view health check reports, and package first-failure diagnostic data, all within a command-line environment.">ADRCI Command-Line Utility</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" title="A problem is a critical error in a database instance, Oracle Automatic Storage Management (Oracle ASM) instance, or other Oracle product or component. An incident is a single occurrence of a problem.">Incidents and Problems</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13157"></a><div class="props_rev_3"><a id="GUID-8120A824-8A37-4291-87AA-D029C91EE6E2" name="GUID-8120A824-8A37-4291-87AA-D029C91EE6E2"></a><h5 id="ADMIN-GUID-8120A824-8A37-4291-87AA-D029C91EE6E2" class="sect5"><span class="enumeration_section">9.1.2.2 </span>Incident Flood Control
                     </h5>
                     <div>
                        <p>It is conceivable that a problem could generate dozens or perhaps hundreds of incidents in a short period of time. This would generate too much diagnostic data, which would consume too much space in the ADR and could possibly slow down your efforts to diagnose and resolve the problem. For these reasons, the fault diagnosability infrastructure applies <span class="italic">flood control</span> to incident generation after certain thresholds are reached.
                        </p>
                        <p>A <span class="bold">flood-controlled incident</span> is an incident that generates an alert log entry, is recorded in the ADR, but does not generate incident dumps. Flood-controlled incidents provide a way of informing you that a critical error is ongoing, without overloading the system with diagnostic data. You can choose to view or hide flood-controlled incidents when viewing incidents with Cloud Control or the ADRCI command-line utility. 
                        </p>
                        <p>Threshold levels for incident flood control are predetermined and cannot be changed. They are defined as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>After five incidents occur for the same problem key in one hour, subsequent incidents for this problem key are flood-controlled. Normal (non-flood-controlled) recording of incidents for that problem key begins again in the next hour.</p>
                           </li>
                           <li>
                              <p>After 25 incidents occur for the same problem key in one day, subsequent incidents for this problem key are flood-controlled. Normal recording of incidents for that problem key begins again on the next day.</p>
                           </li>
                        </ul>
                        <p>In addition, after 50 incidents for the same problem key occur in one hour, or 250 incidents for the same problem key occur in one day, subsequent incidents for this problem key are not recorded at all in the ADR. In these cases, the database writes a message to the alert log indicating that no further incidents will be recorded. As long as incidents continue to be generated for this problem key, this message is added to the alert log every ten minutes until the hour or the day expires. Upon expiration of the hour or day, normal recording of incidents for that problem key begins again.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" title="A problem is a critical error in a database instance, Oracle Automatic Storage Management (Oracle ASM) instance, or other Oracle product or component. An incident is a single occurrence of a problem.">Incidents and Problems</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13158"></a><div class="props_rev_3"><a id="GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" name="GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF"></a><h5 id="ADMIN-GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" class="sect5"><span class="enumeration_section">9.1.2.3 </span>Related Problems Across the Topology
                     </h5>
                     <div>
                        <p>For any problem identified in a database instance, the diagnosability framework can identify related problems across the topology of your Oracle Database installation.</p>
                        <p>In a single instance environment, a related problem could be identified in the local Oracle ASM instance. In an Oracle RAC environment, a related problem could be identified in any database instance or Oracle ASM instance on any other node. When investigating problems, you are able to view and gather information on any related problems.</p>
                        <p>A problem is related to the original problem if it occurs within a designated time period or shares the same execution context identifier. An <span class="bold">execution context identifier (ECID)</span> is a globally unique identifier used to tag and track a single call through the Oracle software stack, for example, a call to Oracle Fusion Middleware that then calls into Oracle Database to retrieve data. The ECID is typically generated in the middle tier and is passed to the database as an Oracle Call Interface (OCI) attribute. When a single call has failures on multiple tiers of the Oracle software stack, problems that are generated are tagged with the same ECID so that they can be correlated. You can then determine the tier on which the originating problem occurred.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-410B666A-F26D-4032-AC5B-B7BF4F061A1A" title="A problem is a critical error in a database instance, Oracle Automatic Storage Management (Oracle ASM) instance, or other Oracle product or component. An incident is a single occurrence of a problem.">Incidents and Problems</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11260"></a><div class="props_rev_3"><a id="GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" name="GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8"></a><h4 id="ADMIN-GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" class="sect4"><span class="enumeration_section">9.1.3 </span>Fault Diagnosability Infrastructure Components
                  </h4>
                  <p>The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748">Automatic Diagnostic Repository (ADR)</a><br>The ADR is a file-based repository for database diagnostic data such as traces, dumps, the alert log, health monitor reports, and more. It has a unified directory structure across multiple instances and multiple products.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7">Alert Log</a><br>The alert log is an XML file that is a chronological log of messages and errors.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73">Trace Files, Dumps, and Core Files</a><br>Trace files, dumps, and core files contain diagnostic data that are used to investigate problems. They are stored in the ADR.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8BDEED51-F282-4479-8939-B017232BAED2">DDL Log</a><br>The data definition language (DDL) log is a file that has the same format and basic behavior as the alert log, but it only contains the DDL statements issued by the database.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB">Debug Log</a><br>An Oracle Database component can detect conditions, states, or events that are unusual, but which do not inhibit correct operation of the detecting component.  The component can issue a warning about these conditions, states, or events. The debug log is a file that records these warnings.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498">Other ADR Contents</a><br>In addition to files mentioned in the previous sections, the ADR contains health monitor reports, data repair records, SQL test cases, incident packages, and more. These components are described later in the chapter.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164">Enterprise Manager Support Workbench</a><br>The Enterprise Manager Support Workbench (Support Workbench) is a facility that enables you to investigate, report, and in some cases, repair problems (critical errors), all with an easy-to-use graphical interface. 
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6">ADRCI Command-Line Utility</a><br>The ADR Command Interpreter (ADRCI) is a utility that enables you to investigate problems, view health check reports, and package first-failure diagnostic data, all within a command-line environment.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">About the Oracle Database Fault Diagnosability Infrastructure</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11261"></a><div class="props_rev_3"><a id="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" name="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748"></a><h5 id="ADMIN-GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" class="sect5"><span class="enumeration_section">9.1.3.1 </span>Automatic Diagnostic Repository (ADR)
                     </h5>
                     <div>
                        <p>The ADR is a file-based repository for database diagnostic data such as traces, dumps, the alert log, health monitor reports, and more. It has a unified directory structure across multiple instances and multiple products.</p>
                        <p>The database, Oracle Automatic Storage Management (Oracle ASM), the listener, Oracle Clusterware, and other Oracle products or components store all diagnostic data in the ADR. Each instance of each product stores diagnostic data underneath its own home directory within the ADR. For example, in an Oracle Real Application Clusters environment with shared storage and Oracle ASM, each database instance and each Oracle ASM instance has an ADR home directory. ADR's unified directory structure, consistent diagnostic data formats across products and instances, and a unified set of tools enable customers and Oracle Support to correlate and analyze diagnostic data across multiple instances. With Oracle Clusterware, each host node in the cluster has an ADR home directory.</p>
                        <div class="infoboxnote" id="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748__GUID-89A3F23B-0DA3-48FE-B3DF-77C3F6BC61B5">
                           <p class="notep1">Note:</p>
                           <p>Because all diagnostic data, including the alert log, are stored in the ADR, the initialization parameters <code class="codeph">BACKGROUND_DUMP_DEST</code> and <code class="codeph">USER_DUMP_DEST</code> are deprecated. They are replaced by the initialization parameter <code class="codeph">DIAGNOSTIC_DEST</code>, which identifies the location of the ADR.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748__GUID-5AAE95AE-2653-4997-B931-EA8DC5D45D08">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" title="The Automatic Diagnostic Repository (ADR) is a directory structure that is stored outside of the database. It is therefore available for problem diagnosis when the database is down.">Structure, Contents, and Location of the Automatic Diagnostic Repository</a>"</span> for more information on the <code class="codeph">DIAGNOSTIC_DEST</code> parameter and on ADR homes.
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11262"></a><div class="props_rev_3"><a id="GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7" name="GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7"></a><h5 id="ADMIN-GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7" class="sect5"><span class="enumeration_section">9.1.3.2 </span>Alert Log
                     </h5>
                     <div>
                        <p>The alert log is an XML file that is a chronological log of messages and errors.</p>
                        <p>There is one alert log in each ADR home. Each alert log is specific to its component type, such as database, Oracle ASM, listener, and Oracle Clusterware.</p>
                        <p>For the database, the alert log includes messages about the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Critical errors (incidents)</p>
                           </li>
                           <li>
                              <p>Administrative operations, such as starting up or shutting down the database, recovering the database, creating or dropping a tablespace, and others.</p>
                           </li>
                           <li>
                              <p>Errors during automatic refresh of a materialized view</p>
                           </li>
                           <li>
                              <p>Other database events</p>
                           </li>
                        </ul>
                        <p>You can view the alert log in text format (with the XML tags stripped) with Cloud Control and with the ADRCI utility. There is also a text-formatted version of the alert log stored in the ADR for backward compatibility. However, Oracle recommends that any parsing of the alert log contents be done with the XML-formatted version, because the text format is unstructured and may change from release to release.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7__GUID-E74090B6-D3E4-4321-AF32-C35D47885A08">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" title="The ADR Command Interpreter (ADRCI) is a utility that enables you to investigate problems, view health check reports, and package first-failure diagnostic data, all within a command-line environment.">ADRCI Command-Line Utility</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" title="You can view the alert log with a text editor, with Cloud Control, or with the ADRCI utility.">Viewing the Alert Log</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11263"></a><div class="props_rev_3"><a id="GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" name="GUID-B66E06CC-9E2A-450E-8447-087E65E63C73"></a><h5 id="ADMIN-GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" class="sect5"><span class="enumeration_section">9.1.3.3 </span>Trace Files, Dumps, and Core Files
                     </h5>
                     <p>Trace files, dumps, and core files contain diagnostic data that are used to investigate problems. They are stored in the ADR.</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-ED66812F-83DF-4793-8FCE-29C519C734A3">Trace Files</a><br>Each server and background process can write to an associated trace file. Trace files are updated periodically over the life of the process and can contain information on the process environment, status, activities, and errors. In addition, when a process detects a critical error, it writes information about the error to its trace file.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4">Dumps</a><br>A dump is a specific type of trace file. A dump is typically a one-time output of diagnostic data in response to an event (such as an incident), whereas a trace tends to be continuous output of diagnostic data. 
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7">Core Files</a><br>A core file contains a memory dump, in an all-binary, port-specific format.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN12320"></a><div class="props_rev_3"><a id="GUID-ED66812F-83DF-4793-8FCE-29C519C734A3" name="GUID-ED66812F-83DF-4793-8FCE-29C519C734A3"></a><h6 id="ADMIN-GUID-ED66812F-83DF-4793-8FCE-29C519C734A3" class="sect6"><span class="enumeration_section">9.1.3.3.1 </span>Trace Files
                        </h6>
                        <div>
                           <p>Each server and background process can write to an associated trace file. Trace files are updated periodically over the life of the process and can contain information on the process environment, status, activities, and errors. In addition, when a process detects a critical error, it writes information about the error to its trace file.</p>
                           <p>The SQL trace facility also creates trace files, which provide performance information on individual SQL statements. You can enable SQL tracing for a session or an instance.</p>
                           <p>Trace file names are platform-dependent. Typically, database background process trace file names contain the Oracle SID, the background process name, and the operating system process number, while server process trace file names contain the Oracle SID, the string "ora", and the operating system process number. The file extension is <code class="codeph">.trc</code>. An example of a server process trace file name is orcl_ora_344.trc. Trace files are sometimes accompanied by corresponding trace metadata (<code class="codeph">.trm</code>) files, which contain structural information about trace files and are used for searching and navigation.
                           </p>
                           <p>Oracle Database includes tools that help you analyze trace files. For more information on application tracing, SQL tracing, and tracing tools, see <a href="../tgsql/performing-application-tracing.html#TGSQL791" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a>.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-ED66812F-83DF-4793-8FCE-29C519C734A3__GUID-70651F7A-1FCC-42A9-B691-99F856116C45">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-34137402-19A6-4134-93AE-D6DD02242F61" title="Trace files are stored in the Automatic Diagnostic Repository (ADR), in the trace directory under each ADR home. To help you locate individual trace files within this directory, you can use data dictionary views. For example, you can find the path to your current session's trace file or to the trace file for each Oracle Database process.">Finding Trace Files</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" title="Trace files, dumps, and core files contain diagnostic data that are used to investigate problems. They are stored in the ADR.">Trace Files, Dumps, and Core Files</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12321"></a><div class="props_rev_3"><a id="GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4" name="GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4"></a><h6 id="ADMIN-GUID-5B1F417B-4F2B-4610-8FF5-18A4A2E39DE4" class="sect6"><span class="enumeration_section">9.1.3.3.2 </span>Dumps
                        </h6>
                        <div>
                           <p>A dump is a specific type of trace file. A dump is typically a one-time output of diagnostic data in response to an event (such as an incident), whereas a trace tends to be continuous output of diagnostic data. </p>
                           <p>When an incident occurs, the database writes one or more dumps to the incident directory created for the incident. Incident dumps also contain the incident number in the file name.</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" title="Trace files, dumps, and core files contain diagnostic data that are used to investigate problems. They are stored in the ADR.">Trace Files, Dumps, and Core Files</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12322"></a><div class="props_rev_3"><a id="GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7" name="GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7"></a><h6 id="ADMIN-GUID-1EB66C56-490B-4A05-B5EB-5351D2D861C7" class="sect6"><span class="enumeration_section">9.1.3.3.3 </span>Core Files
                        </h6>
                        <div>
                           <p>A core file contains a memory dump, in an all-binary, port-specific format.</p>
                           <p>Core file names include the string "core" and the operating system process ID. Core files are useful to Oracle Support engineers only. Core files are not found on all platforms.</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-B66E06CC-9E2A-450E-8447-087E65E63C73" title="Trace files, dumps, and core files contain diagnostic data that are used to investigate problems. They are stored in the ADR.">Trace Files, Dumps, and Core Files</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN14021"></a><div class="props_rev_3"><a id="GUID-8BDEED51-F282-4479-8939-B017232BAED2" name="GUID-8BDEED51-F282-4479-8939-B017232BAED2"></a><h5 id="ADMIN-GUID-8BDEED51-F282-4479-8939-B017232BAED2" class="sect5"><span class="enumeration_section">9.1.3.4 </span>DDL Log
                     </h5>
                     <div>
                        <p>The data definition language (DDL) log is a file that has the same format and basic behavior as the alert log, but it only contains the DDL statements issued by the database.</p>
                        <p>The DDL log is created only for the RDBMS component and only if the <code class="codeph">ENABLE_DDL_LOGGING</code> initialization parameter is set to <code class="codeph">TRUE</code>. When this parameter is set to <code class="codeph">FALSE</code>, DDL statements are not included in any log.
                        </p>
                        <p>The DDL log contains one log record for each DDL statement issued by the database. The DDL log is included in IPS incident packages.</p>
                        <p>There are two DDL logs that contain the same information. One is an XML file, and the other is a text file. The DDL log is stored in the log/ddl subdirectory of the ADR home.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8BDEED51-F282-4479-8939-B017232BAED2__GUID-52470BE6-53BE-4AEE-97B6-C3B4EBCFEAD5">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/ENABLE_DDL_LOGGING.html#REFRN10302" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">ENABLE_DDL_LOGGING</code> initialization parameter
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14022"></a><div class="props_rev_3"><a id="GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB" name="GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB"></a><h5 id="ADMIN-GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB" class="sect5"><span class="enumeration_section">9.1.3.5 </span>Debug Log
                     </h5>
                     <div>
                        <p>An Oracle Database component can detect conditions, states, or events that are unusual, but which do not inhibit correct operation of the detecting component.  The component can issue a warning about these conditions, states, or events. The debug log is a file that records these warnings.</p>
                        <p>These warnings recorded in the debug log are not serious enough to warrant an incident or a write to the alert log. They do warrant a record in a log file because they might be needed to diagnose a future problem.</p>
                        <p>The debug log has the same format and basic behavior as the alert log, but it only contains information about possible problems that might need to be corrected.</p>
                        <p>The debug log reduces the amount of information in the alert log and trace files. It also improves the visibility of debug information.</p>
                        <p>The debug log is included in IPS incident packages. The debug log's contents are intended for Oracle Support. Database administrators should not use the debug log directly.</p>
                        <div class="infoboxnote" id="GUID-9C1E54BB-A699-418F-A486-01FA35DB03EB__GUID-AAAFBB05-BCBB-452C-86C6-067A800A42CE">
                           <p class="notep1">Note:</p>
                           <p>Because there is a separate debug log starting with Oracle Database 12<span class="italic">c</span>, the alert log and the trace files are streamlined. They now contain fewer warnings of the type that are recorded in the debug log.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11264"></a><div class="props_rev_3"><a id="GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498" name="GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498"></a><h5 id="ADMIN-GUID-D8FBBCAF-F463-4518-8391-3EF05D1EF498" class="sect5"><span class="enumeration_section">9.1.3.6 </span>Other ADR Contents
                     </h5>
                     <p>In addition to files mentioned in the previous sections, the ADR contains health monitor reports, data repair records, SQL test cases, incident packages, and more. These components are described later in the chapter.</p>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11265"></a><div class="props_rev_3"><a id="GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164" name="GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164"></a><h5 id="ADMIN-GUID-6D2BC1F4-AE26-40F2-858E-4E87C0519164" class="sect5"><span class="enumeration_section">9.1.3.7 </span>Enterprise Manager Support Workbench
                     </h5>
                     <div>
                        <p>The Enterprise Manager Support Workbench (Support Workbench) is a facility that enables you to investigate, report, and in some cases, repair problems (critical errors), all with an easy-to-use graphical interface. </p>
                        <p>The Support Workbench provides a self-service means for you to gather first-failure diagnostic data, obtain a support request number, and upload diagnostic data to Oracle Support with a minimum of effort and in a very short time, thereby reducing time-to-resolution for problems. The Support Workbench also recommends and provides easy access to Oracle advisors that help you repair SQL-related problems, data corruption problems, and more.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11266"></a><div class="props_rev_3"><a id="GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" name="GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6"></a><h5 id="ADMIN-GUID-EA97EEF6-9207-4536-B808-3B91DACA7AD6" class="sect5"><span class="enumeration_section">9.1.3.8 </span>ADRCI Command-Line Utility
                     </h5>
                     <div>
                        <p>The ADR Command Interpreter (ADRCI) is a utility that enables you to investigate problems, view health check reports, and package first-failure diagnostic data, all within a command-line environment.</p>
                        <p>You can then upload the package to Oracle Support. ADRCI also enables you to view the names of the trace files in the ADR, and to view the alert log with XML tags stripped, with and without content filtering.</p>
                        <p>For more information on ADRCI, see <a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle Database Utilities</span></a>.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8C269A03-BED5-4612-B7C1-21F23805C2A8" title="The fault diagnosability infrastructure consists of several components, including the Automatic Diagnostic Repository (ADR), various logs, trace files, the Enterprise Manager Support Workbench, and the ADRCI Command-Line Utility.">Fault Diagnosability Infrastructure Components</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13159"></a><a id="ADMIN13022"></a><a id="ADMIN12566"></a><a id="ADMIN13023"></a><a id="ADMIN13024"></a><a id="ADMIN14238"></a><a id="ADMIN12567"></a><a id="ADMIN13276"></a><a id="ADMIN12568"></a><a id="ADMIN13025"></a><a id="ADMIN13483"></a><a id="ADMIN13484"></a><a id="ADMIN11008"></a><div class="props_rev_3"><a id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" name="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33"></a><h4 id="ADMIN-GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" class="sect4"><span class="enumeration_section">9.1.4 </span>Structure, Contents, and Location of the Automatic Diagnostic Repository
                  </h4>
                  <div>
                     <p>The Automatic Diagnostic Repository (ADR) is a directory structure that is stored outside of the database. It is therefore available for problem diagnosis when the database is down.</p>
                     <p>The ADR root directory is known as <span class="bold">ADR base</span>. Its location is set by the <code class="codeph">DIAGNOSTIC_DEST</code> initialization parameter. If this parameter is omitted or left null, the database sets <code class="codeph">DIAGNOSTIC_DEST</code> upon startup as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If environment variable <code class="codeph">ORACLE_BASE</code> is set, <code class="codeph">DIAGNOSTIC_DEST</code> is set to the directory designated by <code class="codeph">ORACLE_BASE</code>.
                           </p>
                        </li>
                        <li>
                           <p>If environment variable <code class="codeph">ORACLE_BASE</code> is not set, <code class="codeph">DIAGNOSTIC_DEST</code> is set to <span class="italic">ORACLE_HOME</span>/log.
                           </p>
                        </li>
                     </ul>
                     <p>Within ADR base, there can be multiple ADR homes, where each ADR home is the root directory for all diagnostic data—traces, dumps, the alert log, and so on—for a particular instance of a particular Oracle product or component. For example, in an Oracle Real Application Clusters environment with Oracle ASM, each database instance, Oracle ASM instance, and listener has an ADR home.</p>
                     <p>ADR homes reside in ADR base subdirectories that are named according to the product or component type. <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__BHCDHHGB">Figure 9-1</a> illustrates these top-level subdirectories.
                     </p>
                     <div class="figure" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__BHCDHHGB">
                        <p class="titleinfigure">Figure 9-1 Product/Component Type Subdirectories in the ADR</p><img src="img/admin082.png" width="449" alt="Description of Figure 9-1 follows" title="Description of Figure 9-1 follows" longdesc="img_text/admin082.html"><br><a href="img_text/admin082.html">Description of "Figure 9-1 Product/Component Type Subdirectories in the ADR"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnote" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-B1E6FECB-85B9-4733-B6DF-7AA6ADA15C01">
                        <p class="notep1">Note:</p>
                        <p>Additional subdirectories might be created in the ADR depending on your configuration. Some products automatically purge expired diagnostic data from ADR. For other products, you can use the ADRCI utility <code class="codeph">PURGE</code> command at regular intervals to purge expired diagnostic data.
                        </p>
                     </div>
                     <p>The location of each ADR home is given by the following path, which starts at the ADR base directory:</p><pre class="oac_no_warn" dir="ltr">diag/<span class="italic">product_type</span>/<span class="italic">product_id</span>/<span class="italic">instance_id</span>
</pre><p>As an example, <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDBHGDB" title="This table contains 2 columns and 3 rows. The first column lists a component of the path to an ADR home, and the 2nd column lists that component’s value for the Oracle Database product.">Table 9-1</a> lists the values of the various path components for an Oracle Database instance.
                     </p>
                     <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDBHGDB">
                        <p class="titleintable">Table 9-1 ADR Home Path Components for Oracle Database</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ADR Home Path Components for Oracle Database" summary="This table contains 2 columns and 3 rows. The first column lists a component of the path to an ADR home, and the 2nd column lists that component’s value for the Oracle Database product." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d116652e1418">Path Component</th>
                                 <th align="left" valign="bottom" width="66%" id="d116652e1421">Value for Oracle Database</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d116652e1426" headers="d116652e1418 ">
                                    <p>product_type</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d116652e1426 d116652e1421 ">
                                    <p>rdbms</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d116652e1433" headers="d116652e1418 ">
                                    <p>product_id</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d116652e1433 d116652e1421 ">
                                    <p><span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d116652e1442" headers="d116652e1418 ">
                                    <p>instance_id</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d116652e1442 d116652e1421 ">
                                    <p><span class="italic">SID</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>For example, for a database with a SID and database unique name both equal to <code class="codeph">orclbi</code>, the ADR home would be in the following location:
                     </p><pre class="oac_no_warn" dir="ltr"><span class="italic">ADR_base</span>/diag/rdbms/orclbi/orclbi/
</pre><p>Similarly, the ADR home path for the Oracle ASM instance in a single-instance environment would be:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ADR_base</span>/diag/asm/+asm/+asm/</pre><div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-44CBEAEB-4EFF-4CB9-B6F2-8BDAAB8A0ADD">ADR Home Subdirectories</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Within each ADR home directory are subdirectories that contain the diagnostic data. <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJCCGC" title="This table contains 2 columns and 4 rows. The first column lists the name of a subdirectory within ADR home, and the second column describes the subdirectory contents.">Table 9-2</a> lists some of these subdirectories and their contents.
                        </p>
                        <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJCCGC">
                           <p class="titleintable">Table 9-2 ADR Home Subdirectories</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADR Home Subdirectories" summary="This table contains 2 columns and 4 rows. The first column lists the name of a subdirectory within ADR home, and the second column describes the subdirectory contents." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d116652e1486">Subdirectory Name</th>
                                    <th align="left" valign="bottom" width="76%" id="d116652e1489">Contents</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1494" headers="d116652e1486 ">
                                       <p>alert</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1494 d116652e1489 ">
                                       <p>The XML-formatted alert log</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1501" headers="d116652e1486 ">
                                       <p>cdump</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1501 d116652e1489 ">
                                       <p>Core files</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1508" headers="d116652e1486 ">
                                       <p>incident</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1508 d116652e1489 ">
                                       <p>Multiple subdirectories, where each subdirectory is named for a particular incident, and where each contains dumps pertaining only to that incident</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1515" headers="d116652e1486 ">
                                       <p>trace</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1515 d116652e1489 ">
                                       <p>Background and server process trace files, SQL trace files, and the text-formatted alert log</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d116652e1522" headers="d116652e1486 ">
                                       <p>(others)</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d116652e1522 d116652e1489 ">
                                       <p>Other subdirectories of ADR home, which store incident packages, health monitor reports, logs other than the alert log (such as the DDL log and the debug log), and other information</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDHDIDD">Figure 9-2</a> illustrates the complete directory hierarchy of the ADR for a database instance.
                        </p>
                        <div class="figure" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDHDIDD">
                           <p class="titleinfigure">Figure 9-2 ADR Directory Structure for a Database Instance</p><img src="img/admin077.gif" width="358" alt="Description of Figure 9-2 follows" title="Description of Figure 9-2 follows" longdesc="img_text/admin077.html"><br><a href="img_text/admin077.html">Description of "Figure 9-2 ADR Directory Structure for a Database Instance"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CEGIGCCG">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-F9B8B8E4-D20F-4BE1-A15C-03C00D4B127D">ADR in an Oracle Clusterware Environment</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle Clusterware uses ADR and has its own Oracle home and Oracle base. The ADR directory structure for Oracle Clusterware is different from that of a database instance. There is only one instance of Oracle Clusterware on a system, so Clusterware ADR homes use only a system's host name as a differentiator.</p>
                        <p>When Oracle Clusterware is configured, the ADR home uses <code class="codeph">crs</code> for both the product type and the instance ID, and the system host name is used for the product ID. Thus, on a host named <code class="codeph">dbprod01</code>, the CRS ADR home would be:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">ADR_base</span>/diag/crs/dbprod01/crs/</pre><div class="infoboxnotealso" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-0B6479D1-0B8D-4ADD-ACF1-BC2C7C4DA596">
                           <p class="notep1">See Also:</p>
                           <p><a href="../cwadd/troubleshooting-oracle-clusterware.html#CWADD91091" target="_blank"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-EB319695-32BD-4A95-B048-4B361E02D3E9">ADR in an Oracle Real Application Clusters Environment</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In an Oracle Real Application Clusters (Oracle RAC) environment, each node can have ADR base on its own local storage, or ADR base can be set to a location on shared storage. You can use ADRCI to view aggregated diagnostic data from all instances on a single report.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-411E789D-9220-4118-A15D-BBEC6F472EF9">ADR in Oracle Client</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Each installation of Oracle Client includes an ADR for diagnostic data associated with critical failures in any of the Oracle Client components. The ADRCI utility is installed with Oracle Client so that you can examine diagnostic data and package it to enable it for upload to Oracle Support.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJBHBJ">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-0B88370C-DA92-4EFA-902C-13BD8CB8538A">Viewing ADR Locations with the V$DIAG_INFO View</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d116652e1578" class="indexterm-anchor"></a>The <code class="codeph">V$DIAG_INFO</code> view lists all important ADR locations for the current Oracle Database instance.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V$DIAG_INFO;

INST_ID NAME                  VALUE
------- --------------------- -------------------------------------------------------------
      1 Diag Enabled          TRUE
      1 ADR Base              /u01/oracle
      1 ADR Home              /u01/oracle/diag/rdbms/orclbi/orclbi
      1 Diag Trace            /u01/oracle/diag/rdbms/orclbi/orclbi/trace
      1 Diag Alert            /u01/oracle/diag/rdbms/orclbi/orclbi/alert
      1 Diag Incident         /u01/oracle/diag/rdbms/orclbi/orclbi/incident
      1 Diag Cdump            /u01/oracle/diag/rdbms/orclbi/orclbi/cdump
      1 Health Monitor        /u01/oracle/diag/rdbms/orclbi/orclbi/hm
      1 Default Trace File    /u01/oracle/diag/rdbms/orclbi/orclbi/trace/orcl_ora_22769.trc
      1 Active Problem Count  8
      1 Active Incident Count 20
</pre><p>The following table describes some of the information displayed by this view.</p>
                        <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-AF51062F-5E02-49DF-BD1E-6A05E5792C67">
                           <p class="titleintable">Table 9-3 Data in the V$DIAG_INFO View</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Data in the V$DIAG_INFO View" summary="This table has 2 columns: Name and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d116652e1598">Name</th>
                                    <th align="left" valign="bottom" width="80%" id="d116652e1601">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1606" headers="d116652e1598 ">
                                       <p>ADR Base</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1606 d116652e1601 ">
                                       <p>Path of ADR base</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1613" headers="d116652e1598 ">
                                       <p>ADR Home</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1613 d116652e1601 ">
                                       <p>Path of ADR home for the current database instance</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1620" headers="d116652e1598 ">
                                       <p>Diag Trace</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1620 d116652e1601 ">
                                       <p>Location of background process trace files, server process trace files, SQL trace files, and the text-formatted version of the alert log</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1627" headers="d116652e1598 ">
                                       <p>Diag Alert</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1627 d116652e1601 ">
                                       <p>Location of the XML-formatted version of the alert log</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d116652e1634" headers="d116652e1598 ">
                                       <p>Default Trace File</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d116652e1634 d116652e1601 ">
                                       <p>Path to the trace file for the current session</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-2BECA4F4-A267-4168-8D1F-A8AC6D507579">Viewing Critical Errors with the V$DIAG_CRITICAL_ERROR View</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d116652e1645" class="indexterm-anchor"></a>The <code class="codeph">V$DIAG_CRITICAL_ERROR</code> view lists all of the non-internal errors designated as critical errors for the current Oracle Database release. The view does not list internal errors because internal errors are always designated as critical errors.
                        </p>
                        <p>The following example shows the output for the <code class="codeph">V$DIAG_CRITICAL_ERROR</code> view:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V$DIAG_CRITICAL_ERROR;

FACILITY   ERROR
---------- ----------------------------------------------------------------
ORA        7445
ORA        4030
ORA        4031
ORA        29740
ORA        255
ORA        355
ORA        356
ORA        239
ORA        240
ORA        494
ORA        3137
ORA        227
ORA        353
ORA        1578
ORA        32701
ORA        32703
ORA        29770
ORA        29771
ORA        445
ORA        25319
OCI        3106
OCI        3113
OCI        3135
</pre><p>The following table describes the information displayed by this view.</p>
                        <div class="tblformal" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-DA4086BB-F32F-4CAD-806B-7FCFB22E3260">
                           <p class="titleintable">Table 9-4 Data in the V$DIAG_CRITICAL_ERROR View</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Data in the V$DIAG_CRITICAL_ERROR View" summary="This table has 2 columns: Column and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d116652e1670">Column</th>
                                    <th align="left" valign="bottom" width="79%" id="d116652e1673">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d116652e1678" headers="d116652e1670 ">
                                       <p><code class="codeph">FACILITY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d116652e1678 d116652e1673 ">
                                       <p>The facility that can report the error, such as Oracle Database (ORA) or Oracle Call Interface (OCI)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d116652e1686" headers="d116652e1670 ">
                                       <p><code class="codeph">ERROR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d116652e1686 d116652e1673 ">
                                       <p>The error number</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__GUID-86D60572-DFCB-4544-8B8B-582F9F25F46B">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" title="To facilitate diagnosis and resolution of critical errors, the fault diagnosability infrastructure introduces two concepts for Oracle Database: problems and incidents.">About Incidents and Problems</a>"</span> for more information about internal errors
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">About the Oracle Database Fault Diagnosability Infrastructure</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12290"></a><div class="props_rev_3"><a id="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" name="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619"></a><h3 id="ADMIN-GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" class="sect3"><span class="enumeration_section">9.2 </span>About Investigating, Reporting, and Resolving a Problem
               </h3>
               <div>
                  <p>You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.</p>
                  <div class="infoboxnote" id="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619__GUID-12C07902-22E2-4119-8384-9C1938FB5EF7">
                     <p class="notep1">Note:</p>
                     <p>The tasks described in this section are all Cloud Control&#x2013;based. You can also accomplish all of these tasks (or their equivalents) with the <code class="codeph">ADRCI</code> command-line utility, with PL/SQL packages such as <code class="codeph">DBMS_HM</code> and <code class="codeph">DBMS_SQLDIAG</code>, and with other software tools. See <a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information on the <code class="codeph">ADRCI</code> utility, and see <a href="../arpls/index.html" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on PL/SQL packages.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FE7F979C-5C6D-4824-931A-03A9339623F5">Roadmap — Investigating, Reporting, and Resolving a Problem</a><br>You can begin investigating a problem by starting from the Support Workbench home page in Cloud Control. However, the more typical workflow begins with a critical error alert on the Database Home page. 
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A">Task 1: View Critical Error Alerts in Cloud Control</a><br>You begin the process of investigating problems (critical errors) by reviewing critical error alerts on the Database Home page or Oracle Automatic Storage Management Home page.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-153C0784-056D-45C7-9DE5-BF0781A46C15">Task 2: View Problem Details</a><br>You continue your investigation from the Incident Manager Problem Details page.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8">Task 3: (Optional) Gather Additional Diagnostic Information</a><br>You can perform the following activities to gather additional diagnostic information for a problem. This additional information is then automatically included in the diagnostic data uploaded to Oracle Support. If you are unsure about performing these activities, then check with your Oracle Support representative.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B">Task 4: (Optional) Create a Service Request</a><br>At this point, you can create an Oracle Support service request and record the service request number with the problem information.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1">Task 5: Package and Upload Diagnostic Data to Oracle Support</a><br>For this task, you use the quick packaging process of the Support Workbench to package and upload the diagnostic information for the problem to Oracle Support.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4">Task 6: Track the Service Request and Implement Any Repairs</a><br>After uploading diagnostic information to Oracle Support, you might perform various activities to track the service request, to collect additional diagnostic information, and to implement repairs. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6A62DB22-0376-4522-A7A6-CBC078B38619__GUID-BBA3EB84-DF86-4203-B055-F67A9EBA5F02">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">About the Oracle Database Fault Diagnosability Infrastructure</a>"</span> for more information on problems and their diagnostic data
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">Diagnosing and Resolving Problems</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13026"></a><a id="ADMIN12291"></a><div class="props_rev_3"><a id="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5" name="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5"></a><h4 id="ADMIN-GUID-FE7F979C-5C6D-4824-931A-03A9339623F5" class="sect4"><span class="enumeration_section">9.2.1 </span>Roadmap — Investigating, Reporting, and Resolving a Problem
                  </h4>
                  <div>
                     <p>You can begin investigating a problem by starting from the Support Workbench home page in Cloud Control. However, the more typical workflow begins with a critical error alert on the Database Home page. </p>
                     <p><a href="diagnosing-and-resolving-problems.html#GUID-FE7F979C-5C6D-4824-931A-03A9339623F5__CHDDIIEG">Figure 9-3</a> illustrates the tasks that you complete to investigate, report, and in some cases, resolve a problem.
                     </p>
                     <div class="figure" id="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5__CHDDIIEG">
                        <p class="titleinfigure">Figure 9-3 Workflow for Investigating, Reporting, and Resolving a Problem</p><img src="img/admin106.png" width="388" alt="Description of Figure 9-3 follows" title="Description of Figure 9-3 follows" longdesc="img_text/admin106.html"><br><a href="img_text/admin106.html">Description of "Figure 9-3 Workflow for Investigating, Reporting, and Resolving a Problem"</a></div>
                     <!-- class="figure" -->
                     <p>The following are task descriptions. Subsequent sections provide details for each task.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A" title="You begin the process of investigating problems (critical errors) by reviewing critical error alerts on the Database Home page or Oracle Automatic Storage Management Home page.">Task 1: View Critical Error Alerts in Cloud Control</a></span></p>
                           <p>Start by accessing the Database Home page in Cloud Control and reviewing critical error alerts. Select an alert for which to view details, and then go to the Problem Details page.</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" title="You continue your investigation from the Incident Manager Problem Details page.">Task 2: View Problem Details</a></span></p>
                           <p>Examine the problem details and view a list of all incidents that were recorded for the problem. Display findings from any health checks that were automatically run.</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" title="You can perform the following activities to gather additional diagnostic information for a problem. This additional information is then automatically included in the diagnostic data uploaded to Oracle Support. If you are unsure about performing these activities, then check with your Oracle Support representative.">Task 3: (Optional) Gather Additional Diagnostic Information</a></span></p>
                           <p>Optionally run additional health checks or other diagnostics. For SQL-related errors, optionally invoke the SQL Test Case Builder, which gathers all required data related to a SQL problem and packages the information in a way that enables the problem to be reproduced at Oracle Support.</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B" title="At this point, you can create an Oracle Support service request and record the service request number with the problem information.">Task 4: (Optional) Create a Service Request</a></span></p>
                           <p>Optionally create a service request with My Oracle Support and record the service request number with the problem information. If you skip this step, you can create a service request later, or the Support Workbench can create one for you.</p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="For this task, you use the quick packaging process of the Support Workbench to package and upload the diagnostic information for the problem to Oracle Support.">Task 5: Package and Upload Diagnostic Data to Oracle Support</a></span></p>
                           <p>Invoke a guided workflow (a <span class="italic">wizard</span>) that automatically packages the gathered diagnostic data for a problem and uploads the data to Oracle Support.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" title="After uploading diagnostic information to Oracle Support, you might perform various activities to track the service request, to collect additional diagnostic information, and to implement repairs.">Task 6: Track the Service Request and Implement Any Repairs</a></span></p>
                           <p>Optionally maintain an activity log for the service request in the Support Workbench. Run Oracle advisors to help repair SQL failures or corrupted data.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FE7F979C-5C6D-4824-931A-03A9339623F5__GUID-A5861660-D6B4-48CB-8A04-9BA187B77CCB">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12569"></a><a id="ADMIN14158"></a><a id="ADMIN12292"></a><div class="props_rev_3"><a id="GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A" name="GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A"></a><h4 id="ADMIN-GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A" class="sect4"><span class="enumeration_section">9.2.2 </span>Task 1: View Critical Error Alerts in Cloud Control
                  </h4>
                  <div>
                     <p>You begin the process of investigating problems (critical errors) by reviewing critical error alerts on the Database Home page or Oracle Automatic Storage Management Home page.</p>
                     <div class="section">
                        <p>To view critical error alerts:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Access the Database Home page in Cloud Control.</span></li>
                        <li class="stepexpand"><span>View the alerts in the Incidents and Problems section.</span><div>
                              <p>If necessary, click the hide/show icon next to the Alerts heading to display the alerts.</p>
                              <p>Also, in the Category list, you can select a particular category to view alerts for only that category.</p>
                              <div class="figure" id="GUID-D7667A48-779D-4BE0-8CFB-23724F1CB19A__GUID-65028338-754A-40FE-9723-4D6D4DA5B762"><img src="img/diag_incidents_and_problems.gif" width="498" alt="Description of diag_incidents_and_problems.gif follows" title="Description of diag_incidents_and_problems.gif follows" longdesc="img_text/diag_incidents_and_problems.html"><br><a href="img_text/diag_incidents_and_problems.html">Description of the illustration diag_incidents_and_problems.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the Summary column, click the message of the critical error alert that you want to investigate.</span><div>
                              <p>The General subpage of the Incident Manager Problem Details page appears. This page includes:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Problem details</p>
                                 </li>
                                 <li>
                                    <p>Controls that allow you to acknowledge, clear, or record a comment about the alert in the Tracking section</p>
                                 </li>
                                 <li>
                                    <p>Links that enable you to diagnose the problem using Support Workbench and package the diagnostics in the Guided Resolution section.</p>
                                 </li>
                              </ul>
                              <p>Other sections might appear depending on the type of problem you are investigating.</p>
                              <p>To view more information about the problem, click the following subpages on the Incident Manager Problem Details page:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The Incidents subpage contains information about individual incidents for the problem.</p>
                                 </li>
                                 <li>
                                    <p>The My Oracle Support Knowledge subpage provides access to My Oracle Support for more information about the problem.</p>
                                 </li>
                                 <li>
                                    <p>The Updates subpage shows any updates entered about the problem.</p>
                                 </li>
                                 <li>
                                    <p>The Related Problems subpage shows other open problems with the same problem key as the current problem.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Perform one of the following actions:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To view the details of the problem associated with the critical error alert that you are investigating, proceed with <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" title="You continue your investigation from the Incident Manager Problem Details page.">Task 2: View Problem Details</a>"</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If there are several related problems and you want to view more information about them, then complete these steps:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>View problems and incidents as described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span>.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Select a single problem and view problem details, as described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span>.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Continue with <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" title="You can perform the following activities to gather additional diagnostic information for a problem. This additional information is then automatically included in the diagnostic data uploaded to Oracle Support. If you are unsure about performing these activities, then check with your Oracle Support representative.">Task 3: (Optional) Gather Additional Diagnostic Information</a>"</span>.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12570"></a><a id="ADMIN12293"></a><div class="props_rev_3"><a id="GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" name="GUID-153C0784-056D-45C7-9DE5-BF0781A46C15"></a><h4 id="ADMIN-GUID-153C0784-056D-45C7-9DE5-BF0781A46C15" class="sect4"><span class="enumeration_section">9.2.3 </span>Task 2: View Problem Details
                  </h4>
                  <div>
                     <p>You continue your investigation from the Incident Manager Problem Details page.</p>
                     <div class="section">
                        <p>To view problem details:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>On the General subpage of the Incident Manager Problem Details page, click <span class="bold">Support Workbench: Problem Details</span> in the Diagnostics subsection.</span><div>
                              <p>The Support Workbench Problem Details page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Optional) Complete one or more of the following actions:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>In the Investigate and Resolve section, under Diagnose, click Related Problems Across Topology.</p>
                                    <p>A page appears showing any related problems in the local Oracle Automatic Storage Management (Oracle ASM) instance, or in the database or Oracle ASM instances on other nodes in an Oracle Real Application Clusters environment. This step is recommended if any critical alerts appear in the Related Alerts section on the Cloud Control Database Home page.</p>
                                    <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="For any problem identified in a database instance, the diagnosability framework can identify related problems across the topology of your Oracle Database installation.">Related Problems Across the Topology</a>"</span> for more information.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To view incident details, in the Incidents subpage, select an incident, and then click <span class="bold">View</span>.
                                    </p>
                                    <p>The Incident Details page appears, showing the Dump Files subpage.</p>
                                 </li>
                                 <li>
                                    <p>On the Incident Details page, select <span class="bold">Checker Findings</span> to view the Checker Findings subpage.
                                    </p>
                                    <p>This page displays findings from any health checks that were automatically run when the critical error was detected.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12294"></a><div class="props_rev_3"><a id="GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" name="GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8"></a><h4 id="ADMIN-GUID-B66727A1-C037-4373-8932-C5BFF5FF3DD8" class="sect4"><span class="enumeration_section">9.2.4 </span>Task 3: (Optional) Gather Additional Diagnostic Information
                  </h4>
                  <div>
                     <p>You can perform the following activities to gather additional diagnostic information for a problem. This additional information is then automatically included in the diagnostic data uploaded to Oracle Support. If you are unsure about performing these activities, then check with your Oracle Support representative.</p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Manually invoke additional health checks.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="You can run diagnostic checks on a database with Health Monitor.">Identifying Problems Proactively with Health Monitor</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Invoke the SQL Test Case Builder.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder is a tool that automatically gathers information needed to reproduce the problem in a different database instance.">Creating Test Cases with SQL Test Case Builder</a>"</span>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12571"></a><a id="ADMIN12295"></a><div class="props_rev_3"><a id="GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B" name="GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B"></a><h4 id="ADMIN-GUID-402123BC-5B38-46D8-BDBB-EAB36D86FC9B" class="sect4"><span class="enumeration_section">9.2.5 </span>Task 4: (Optional) Create a Service Request
                  </h4>
                  <div>
                     <p>At this point, you can create an Oracle Support service request and record the service request number with the problem information.</p>
                     <div class="section">
                        <p>If you choose to skip this task, then the Support Workbench will automatically create a draft service request for you in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="For this task, you use the quick packaging process of the Support Workbench to package and upload the diagnostic information for the problem to Oracle Support.">Task 5: Package and Upload Diagnostic Data to Oracle Support</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To create a service request:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>From the Enterprise menu, select <span class="bold">My Oracle Support</span>, then <span class="bold">Service Requests</span>.
                              </p>
                              <p>The My Oracle Support Login and Registration page appears.</p>
                           </li>
                           <li>
                              <p>Log in to My Oracle Support and create a service request in the usual manner.</p>
                              <p>(Optional) Remember the service request number (SR#) for the next step.</p>
                           </li>
                           <li>
                              <p>(Optional) Return to the Problem Details page, and then do the following:</p>
                              <ol type="a">
                                 <li>
                                    <p>In the Summary section, click the <span class="bold">Edit</span> button that is adjacent to the SR# label.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Enter the SR#, and then click <span class="bold">OK</span>.
                                    </p>
                                 </li>
                              </ol>
                              <p>The SR# is recorded in the Problem Details page. This is for your reference only. See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for information about returning to the Problem Details page.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12572"></a><a id="ADMIN12296"></a><div class="props_rev_3"><a id="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" name="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1"></a><h4 id="ADMIN-GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" class="sect4"><span class="enumeration_section">9.2.6 </span>Task 5: Package and Upload Diagnostic Data to Oracle Support
                  </h4>
                  <div>
                     <p>For this task, you use the quick packaging process of the Support Workbench to package and upload the diagnostic information for the problem to Oracle Support.</p>
                     <div class="section">
                        <p>Quick packaging has a minimum of steps, organized in a guided workflow (a wizard). The wizard assists you with creating an incident package (package) for a single problem, creating a zip file from the package, and uploading the file. With quick packaging, you are not able to edit or otherwise customize the diagnostic information that is uploaded. However, quick packaging is the more direct, straightforward method to package and upload diagnostic data.</p>
                        <p>To edit or remove sensitive data from the diagnostic information, enclose additional user files (such as application configuration files or scripts), or perform other customizations before uploading, you must use the custom packaging process, which is a more manual process and has more steps. See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a>"</span> for instructions. If you choose to follow those instructions instead of the instructions here in Task 5, do so now and then continue with <a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" title="After uploading diagnostic information to Oracle Support, you might perform various activities to track the service request, to collect additional diagnostic information, and to implement repairs.">Task 6: Track the Service Request and Implement Any Repairs</a> when you are finished.
                        </p>
                        <div class="infoboxnote" id="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1__GUID-AE2DA6C0-42AA-4EAC-94CF-DF50246E5F2E">
                           <p class="notep1">Note:</p>
                           <p>The Support Workbench uses Oracle Configuration Manager to upload the diagnostic data. If Oracle Configuration Manager is not installed or properly configured, the upload may fail. In this case, a message is displayed with a request that you upload the file to Oracle Support manually. You can upload manually with My Oracle Support.</p>
                           <p>For more information about Oracle Configuration Manager, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CCRIA" target="_blank"><span class="italic">Oracle Configuration Manager Installation and Administration Guide</span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To package and upload diagnostic data to Oracle Support:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>On the Support Workbench Problem Details page, in the Investigate and Resolve section, click <span class="bold">Quick Package</span>.</span><div>
                              <p>The Create New Package page of the Quick Packaging wizard appears.</p>
                              <div class="infoboxnote" id="GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1__GUID-F5A8493C-E97D-499D-A4AF-80E692930311">
                                 <p class="notep1">Note:</p>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for instructions for returning to the Problem Details page if you are not already there.
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Optional) Enter a package name and description.</span></li>
                        <li class="stepexpand"><span>Fill in any remaining fields on the page. If you have created a service request for this problem, then select the <span class="bold">No</span> option button for Create new Service Request (SR).</span><div>
                              <p>If you select the <span class="bold">Yes</span> option button for Create new Service Request (SR), then the Quick Packaging wizard creates a draft service request on your behalf. You must later log in to My Oracle Support and fill in the details of the service request.
                              </p>
                              <p>Click <span class="bold">Next</span>.
                              </p>
                              <p>The Quick Packaging wizard displays a page indicating that it is processing the command to create a new package. When it finished, the Quick Packaging: View Contents page is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Review the contents on the View Contents page, making a note of the size of the created package, then click <span class="bold">Next</span>.</span><div>
                              <p>The Quick Packaging: View Manifest page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Review the information on this page, making a note of the location of the manifest (listed next to the heading Path). After you have reviewed the information, click <span class="bold">Next</span>.</span><div>
                              <p>The Quick Packaging: Schedule page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Choose either <span class="bold">Immediately</span>, or <span class="bold">Later</span>. If you select <span class="bold">Later</span>, then you provide additional information about the time the package should be submitted to My Oracle Support. After you have made your choice and provided any necessary information, click <span class="bold">Submit</span>.</span><div>
                              <p>The Processing: Packaging and Sending the Package progress page appears.</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>When the Quick Packaging wizard is complete, if a new draft service request was created, then the confirmation message contains a link to the draft service request in My Oracle Support in Cloud Control. You can review and edit the service request by clicking the link.</p>
                        <p>The package created by the Quick Packaging wizard remains available in the Support Workbench. You can then modify it with custom packaging operations (such as adding new incidents) and upload again at a later time. See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13028"></a><a id="ADMIN12297"></a><div class="props_rev_3"><a id="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" name="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4"></a><h4 id="ADMIN-GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4" class="sect4"><span class="enumeration_section">9.2.7 </span>Task 6: Track the Service Request and Implement Any Repairs
                  </h4>
                  <div>
                     <p>After uploading diagnostic information to Oracle Support, you might perform various activities to track the service request, to collect additional diagnostic information, and to implement repairs. </p>
                     <div class="section">
                        <p>Among these activities are the following:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Adding an Oracle bug number to the problem information.</p>
                              <p>To do so, on the Problem Details page, click the <span class="bold">Edit</span> button that is adjacent to the Bug# label. This is for your reference only.
                              </p>
                           </li>
                           <li>
                              <p>Adding comments to the problem activity log.</p>
                              <p>You may want to do this to share problem status or history information with other DBAs in your organization. For example, you could record the results of your conversations with Oracle Support. To add comments, complete the following steps:</p>
                              <ol>
                                 <li>
                                    <p>Access the Problem Details page for the problem, as described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Activity Log</span> to display the Activity Log subpage.
                                    </p>
                                 </li>
                                 <li>
                                    <p>In the Comment field, enter a comment, and then click <span class="bold">Add Comment</span>.
                                    </p>
                                    <p>Your comment is recorded in the activity log.</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>As new incidents occur, adding them to the package and reuploading.</p>
                              <p>For this activity, you must use the custom packaging method described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Running health checks.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="You can run diagnostic checks on a database with Health Monitor.">Identifying Problems Proactively with Health Monitor</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Running a suggested Oracle advisor to implement repairs.</p>
                              <p>Access the suggested advisor in one of the following ways:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Problem Details page</span>—In the Self-Service tab of the Investigate and Resolve section
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Support Workbench home page</span>—on the Checker Findings subpage
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Incident Details page</span>—on the Checker Findings subpage
                                    </p>
                                 </li>
                              </ul>
                              <p><a href="diagnosing-and-resolving-problems.html#GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4__CHDJJCIJ" title="This table contains two columns: Advisor Name and Purpose. It has two rows: one for the Data Recovery Advisor and one for the SQL Repair Advisor">Table 9-5</a> lists the advisors that help repair critical errors.
                              </p>
                              <div class="tblformalwide" id="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4__CHDJJCIJ">
                                 <p class="titleintable">Table 9-5 Oracle Advisors that Help Repair Critical Errors</p>
                                 <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Advisors that Help Repair Critical Errors" summary="This table contains two columns: Advisor Name and Purpose. It has two rows: one for the Data Recovery Advisor and one for the SQL Repair Advisor" width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="26%" id="d116652e2641">Advisor</th>
                                          <th align="left" valign="bottom" width="42%" id="d116652e2644">Critical Errors Addressed</th>
                                          <th align="left" valign="bottom" width="32%" id="d116652e2647">See</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="26%" id="d116652e2652" headers="d116652e2641 ">
                                             <p>Data Recovery Advisor</p>
                                          </td>
                                          <td align="left" valign="top" width="42%" headers="d116652e2652 d116652e2644 ">
                                             <p>Corrupted blocks, corrupted or missing files, and other data failures</p>
                                          </td>
                                          <td align="left" valign="top" width="32%" headers="d116652e2652 d116652e2647 ">
                                             <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2" title="You use the Data Recovery Advisor to repair data block corruptions, undo corruptions, data dictionary corruptions, and more.">Repairing Data Corruptions with the Data Recovery Advisor</a>"</span></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="26%" id="d116652e2667" headers="d116652e2641 ">
                                             <p>SQL Repair Advisor</p>
                                          </td>
                                          <td align="left" valign="top" width="42%" headers="d116652e2667 d116652e2644 ">
                                             <p>SQL statement failures</p>
                                          </td>
                                          <td align="left" valign="top" width="32%" headers="d116652e2667 d116652e2647 ">
                                             <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">Repairing SQL Failures with the SQL Repair Advisor</a>"</span></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2534309E-BEF2-454E-BC8F-5C2454D451B4__GUID-C1B3C5FF-49D0-4B31-AFA2-280B35EA4853">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for instructions for viewing the Checker Findings subpage of the Incident Details page
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" name="GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC"></a><h3 id="ADMIN-GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" class="sect3"><span class="enumeration_section">9.3 </span>Diagnosing Problems
               </h3>
               <p>This section describes various methods to diagnose problems in an Oracle database.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E">Identifying Problems Reactively</a><br>This section describes how to identify Oracle database problems reactively.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1">Identifying Problems Proactively with Health Monitor</a><br>You can run diagnostic checks on a database with Health Monitor.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-DE439094-782F-40CB-8FD0-EBA143F23526">Gathering Additional Diagnostic Data</a><br>This section describes how to gather additional diagnostic data using alert log and trace files.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6">Creating Test Cases with SQL Test Case Builder</a><br><strong class="term">SQL Test Case Builder</strong> is a tool that automatically gathers information needed to reproduce the problem in a different database instance. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">Diagnosing and Resolving Problems</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" name="GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E"></a><h4 id="ADMIN-GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" class="sect4"><span class="enumeration_section">9.3.1 </span>Identifying Problems Reactively
                  </h4>
                  <p>This section describes how to identify Oracle database problems reactively.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8">Viewing Problems with the Support Workbench</a><br>You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-AC066346-E437-4914-95E2-2177EA5DDD88">Adding Problems Manually to the Automatic Diagnostic Repository</a><br>You can use Support Workbench in Cloud Control to manually add a problem to the ADR.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-8575196D-2754-4E10-9CDB-D2228FB428AF">Creating Incidents Manually</a><br>You can create incidents manually by using the Automatic Diagnostic Repository Command Interpreter (ADRCI) utility.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="This section describes various methods to diagnose problems in an Oracle database.">Diagnosing Problems</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13029"></a><a id="ADMIN12574"></a><a id="ADMIN13160"></a><a id="ADMIN12575"></a><a id="ADMIN12299"></a><div class="props_rev_3"><a id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" name="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8"></a><h5 id="ADMIN-GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" class="sect5"><span class="enumeration_section">9.3.1.1 </span>Viewing Problems with the Support Workbench
                     </h5>
                     <div>
                        <p>You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.</p>
                        <div class="section">
                           <div class="figure" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__CHDIEFFF">
                              <p class="titleinfigure">Figure 9-4 Support Workbench Home Page in Cloud Control</p><img src="img/support_workbench_home.gif" alt="Description of Figure 9-4 follows" title="Description of Figure 9-4 follows" longdesc="img_text/support_workbench_home.html"><br><a href="img_text/support_workbench_home.html">Description of "Figure 9-4 Support Workbench Home Page in Cloud Control"</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-7BB939A2-EF45-4DF0-A213-8DA081FA5984">To access the Support Workbench home page (database or Oracle ASM):</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>Access the Database Home page in Cloud Control.</p>
                              </li>
                              <li>
                                 <p>From the Oracle Database menu, select <span class="bold">Diagnostics</span>, then <span class="bold">Support Workbench</span>.
                                 </p>
                                 <p>The Support Workbench home page for the database instance appears, showing the Problems subpage. By default the problems from the last 24 hours are displayed.</p>
                              </li>
                              <li>
                                 <p><a id="d116652e2895" class="indexterm-anchor"></a>To view the Support Workbench home page for the Oracle ASM instance, click the link <span class="bold">Support Workbench (+ASM_</span><span class="italic"><span class="bold">hostname</span></span><span class="bold">)</span> in the Related Links section.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-6C5C6C28-BADB-4A20-889D-6D1EA0D99E15">To view problems and incidents:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>On the Support Workbench home page, select the desired time period from the View list. To view all problems, select <span class="bold">All</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>(Optional) If the Performance and Critical Error Timeline section is hidden, click the <span class="bold">Show/Hide</span> icon adjacent to the section heading to show the section.
                                 </p>
                                 <p>This section enables you to view any correlation between performance changes and incident occurrences.</p>
                              </li>
                              <li>
                                 <p>(Optional) Under the Details column, click <span class="bold">Show</span> to display a list of all incidents for a problem, and then click an incident ID to display the Incident Details page.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-88663F20-31E7-49CC-8FBD-075585AEB4C0">To view details for a particular problem:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>On the Support Workbench home page, select the problem, and then click <span class="bold">View</span>.</span><div>
                                 <p>The Problem Details page appears, showing the Incidents subpage. The incidents subpage shows all incidents that are open and that generated dumps—that is, that were not flood-controlled.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>(Optional) To view both normal and flood-controlled incidents, select <span class="bold">All</span> in the Data Dumped list.</span></li>
                           <li class="stepexpand"><span>(Optional) To view details for an incident, select the incident, and then click <span class="bold">View</span>.</span><div>
                                 <p>The Incident Details page appears.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>(Optional) On the Incident Details page, to view checker findings for the incident, click <span class="bold">Checker Findings</span>.</span></li>
                           <li class="stepexpand"><span>(Optional) On the Incident Details page, to view the user actions that are available to you for the incident, click <span class="bold">Additional Diagnostics</span>. Each user action provides a way for you to gather additional diagnostics for the incident or its problem.</span></li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8__GUID-237AEB10-5444-45E7-B464-929328172D31">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-8120A824-8A37-4291-87AA-D029C91EE6E2" title="It is conceivable that a problem could generate dozens or perhaps hundreds of incidents in a short period of time. This would generate too much diagnostic data, which would consume too much space in the ADR and could possibly slow down your efforts to diagnose and resolve the problem. For these reasons, the fault diagnosability infrastructure applies flood control to incident generation after certain thresholds are reached.">Incident Flood Control</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" title="This section describes how to identify Oracle database problems reactively.">Identifying Problems Reactively</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12576"></a><a id="ADMIN12323"></a><div class="props_rev_3"><a id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88" name="GUID-AC066346-E437-4914-95E2-2177EA5DDD88"></a><h5 id="ADMIN-GUID-AC066346-E437-4914-95E2-2177EA5DDD88" class="sect5"><span class="enumeration_section">9.3.1.2 </span>Adding Problems Manually to the Automatic Diagnostic Repository
                     </h5>
                     <div>
                        <p>You can use Support Workbench in Cloud Control to manually add a problem to the ADR.</p>
                        <div class="section">
                           <p>System-generated problems, such as critical errors generated internally to the database are automatically added to the Automatic Diagnostic Repository (ADR) and tracked in the Support Workbench. </p>
                           <p>From the Support Workbench, you can gather additional diagnostic data on these problems, upload diagnostic data to Oracle Support, and in some cases, resolve the problems, all with the easy-to-use workflow that is explained in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a>"</span>.
                           </p>
                           <p>There may be a situation in which you want to manually add a problem that you noticed to the ADR, so that you can put that problem through that same workflow. An example of such a situation might be a global database performance problem that was not diagnosed by Automatic Diagnostic Database Monitor (ADDM). The Support Workbench includes a mechanism for you to create and work with such a user-reported problem.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88__GUID-B9A4FCFE-05F3-474F-8392-E7F5A94CE736">To create a user-reported problem:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Access the Support Workbench home page.</span><div>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for instructions.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Under Related Links, click <span class="bold">Create User-Reported Problem</span>.</span><div>
                                 <p>The Create User-Reported Problem page appears.</p>
                                 <div class="figure" id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88__GUID-6D894C98-BF88-41EF-8F18-A7BE12BFE487"><img src="img/create_user_reported_prob.gif" alt="Description of create_user_reported_prob.gif follows" title="Description of create_user_reported_prob.gif follows" longdesc="img_text/create_user_reported_prob.html"><br><a href="img_text/create_user_reported_prob.html">Description of the illustration create_user_reported_prob.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>If your problem matches one of the listed issue types, select the issue type, and then click <span class="bold">Run Recommended Advisor</span> to attempt to solve the problem with an Oracle advisor.</span></li>
                           <li class="stepexpand"><span>If the recommended advisor did not solve the problem, or if you did not run an advisor, do one of the following:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If your problem matches one of the listed issue types, select the issue type, and then click <span class="bold">Continue with Creation of Problem</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If your problem does not match one of the listed issue types, select the issue type <span class="bold">Other</span> and then click <span class="bold">Continue with Creation of Problem</span>.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>The Problem Details page appears.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Follow the instructions on the Problem Details page.</span><div>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a>"</span> for more information.
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-AC066346-E437-4914-95E2-2177EA5DDD88__GUID-35DECBF1-BEF5-4BB5-AE8A-72CE03B084DB">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">About the Oracle Database Fault Diagnosability Infrastructure</a>"</span> for more information on problems and the ADR
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" title="This section describes how to identify Oracle database problems reactively.">Identifying Problems Reactively</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF" name="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF"></a><h5 id="ADMIN-GUID-8575196D-2754-4E10-9CDB-D2228FB428AF" class="sect5"><span class="enumeration_section">9.3.1.3 </span>Creating Incidents Manually
                     </h5>
                     <div>
                        <p>You can create incidents manually by using the Automatic Diagnostic Repository Command Interpreter (ADRCI) utility.</p>
                        <div class="section" id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF__TOCREATEANINCIDENTMANUALLYBYUSINGTH-A4B9BA10">
                           <p class="subhead3" id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF__GUID-B4CB868F-C587-4189-809C-859A0730D368">To create an incident manually by using the ADRCI utility:</p>
                           <ol>
                              <li>
                                 <p>Ensure that the <code class="codeph">ORACLE_HOME</code> and <code class="codeph">PATH</code> environment variables are set properly. The <code class="codeph">PATH</code> environment variable must include <code class="codeph"><span class="codeinlineitalic">ORACLE_HOME</span>/bin</code> directory.
                                 </p>
                              </li>
                              <li>
                                 <p>Start the ADRCI utility by running the following command at the operating system command prompt:</p><pre class="pre codeblock"><code>ADRCI</code></pre><p>The ADRCI utility starts and displays the following prompt:</p><pre class="pre codeblock"><code>adrci&gt;</code></pre></li>
                              <li>
                                 <p>Run the ADRCI command having the following syntax to create an incident manually:</p><pre class="pre codeblock"><code>adrci&gt; dde create incident type <span class="italic">incident_type</span></code></pre><p>Specify <span class="italic">incident_type</span> value for the type of incident that you want to create. To view the supported incident types, run the following ADRCI command:
                                 </p><pre class="pre codeblock"><code>adrci&gt; dde user incident type</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8575196D-2754-4E10-9CDB-D2228FB428AF__ORACLEDATABASEUTILITIES-A4BCB46C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL-GUID-DC5744C7-FAC0-436B-99D5-DBD45B66930B" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information about the ADRCI utility
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D82CB4E7-B3DD-4C29-9F94-E80B4E859D1E" title="This section describes how to identify Oracle database problems reactively.">Identifying Problems Reactively</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11269"></a><div class="props_rev_3"><a id="GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" name="GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1"></a><h4 id="ADMIN-GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" class="sect4"><span class="enumeration_section">9.3.2 </span>Identifying Problems Proactively with Health Monitor
                  </h4>
                  <p>You can run diagnostic checks on a database with Health Monitor.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE">About Health Monitor</a><br>Oracle Database includes a framework called Health Monitor for running diagnostic checks on the database.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-C9061FE5-C991-4960-AA31-C660296DF8D5">Running Health Checks Manually</a><br>Health Monitor can run health checks manually either by using the <code class="codeph">DBMS_HM</code> PL/SQL package or by using the Cloud Control interface, found on the <span class="wintitle">Checkers</span> subpage of the <span class="wintitle">Advisor Central</span> page.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E">Viewing Checker Reports</a><br>After a checker has run, you can view a report of its execution. The report contains findings, recommendations, and other information. You can view reports using Cloud Control, the ADRCI utility, or the <code class="codeph">DBMS_HM</code> PL/SQL package. The following table indicates the report formats available with each viewing method.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE">Health Monitor Views</a><br>Instead of requesting a checker report, you can view the results of a specific checker run by directly querying the ADR data from which reports are created.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34">Health Check Parameters Reference</a><br>Some health checks require parameters. Parameters with a default value of <code class="codeph">(none)</code> are mandatory.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="This section describes various methods to diagnose problems in an Oracle database.">Diagnosing Problems</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11270"></a><div class="props_rev_3"><a id="GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" name="GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE"></a><h5 id="ADMIN-GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" class="sect5"><span class="enumeration_section">9.3.2.1 </span>About Health Monitor
                     </h5>
                     <p>Oracle Database includes a framework called Health Monitor for running diagnostic checks on the database.</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720">About Health Monitor Checks</a><br>Health Monitor checks (also known as checkers, health checks, or checks) examine various layers and components of the database.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2">Types of Health Checks</a><br>Health monitor runs several different types of checks.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="You can run diagnostic checks on a database with Health Monitor.">Identifying Problems Proactively with Health Monitor</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11271"></a><div class="props_rev_3"><a id="GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720" name="GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720"></a><h6 id="ADMIN-GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720" class="sect6"><span class="enumeration_section">9.3.2.1.1 </span>About Health Monitor Checks
                        </h6>
                        <div>
                           <p>Health Monitor checks (also known as checkers, health checks, or checks) examine various layers and components of the database.</p>
                           <p>Health checks detect file corruptions, physical and logical block corruptions, undo and redo corruptions, data dictionary corruptions, and more. The health checks generate reports of their findings and, in many cases, recommendations for resolving problems. Health checks can be run in two ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">Reactive</span>—The fault diagnosability infrastructure can run health checks automatically in response to a critical error.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Manual</span>—As a DBA, you can manually run health checks using either the <code class="codeph">DBMS_HM</code> PL/SQL package or the Cloud Control interface. You can run checkers on a regular basis if desired, or Oracle Support may ask you to run a checker while working with you on a service request.
                                 </p>
                              </li>
                           </ul>
                           <p>Health Monitor checks store findings, recommendations, and other information in the Automatic Diagnostic Repository (ADR).</p>
                           <p>Health checks can run in two modes:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">DB-online</span> mode means the check can be run while the database is open (that is, in <code class="codeph">OPEN</code> mode or <code class="codeph">MOUNT</code> mode).
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">DB-offline</span> mode means the check can be run when the instance is available but the database itself is closed (that is, in <code class="codeph">NOMOUNT</code> mode).
                                 </p>
                              </li>
                           </ul>
                           <p>All the health checks can be run in DB-online mode. Only the Redo Integrity Check and the DB Structure Integrity Check can be used in DB-offline mode. </p>
                           <div class="infoboxnote" id="GUID-6A22AFA0-4C34-4C45-87BB-E0B328493720__GUID-622F2D90-2511-4409-B46D-5D0F7F0607FF">
                              <p class="notep1">Note:</p>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" title="The ADR is a file-based repository for database diagnostic data such as traces, dumps, the alert log, health monitor reports, and more. It has a unified directory structure across multiple instances and multiple products.">Automatic Diagnostic Repository (ADR)</a>"</span></p>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" title="Oracle Database includes a framework called Health Monitor for running diagnostic checks on the database.">About Health Monitor</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11272"></a><div class="props_rev_3"><a id="GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2" name="GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2"></a><h6 id="ADMIN-GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2" class="sect6"><span class="enumeration_section">9.3.2.1.2 </span>Types of Health Checks
                        </h6>
                        <div>
                           <p>Health monitor runs several different types of checks.</p>
                           <p>Health monitor runs the following checks:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">DB Structure Integrity Check</span>—This check verifies the integrity of database files and reports failures if these files are inaccessible, corrupt or inconsistent. If the database is in mount or open mode, this check examines the log files and data files listed in the control file. If the database is in <code class="codeph">NOMOUNT</code> mode, only the control file is checked.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Data Block Integrity Check</span>—This check detects disk image block corruptions such as checksum failures, head/tail mismatch, and logical inconsistencies within the block. Most corruptions can be repaired using Block Media Recovery. Corrupted block information is also captured in the <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code> view. This check does not detect inter-block or inter-segment corruption.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Redo Integrity Check</span>—This check scans the contents of the redo log for accessibility and corruption, as well as the archive logs, if available. The Redo Integrity Check reports failures such as archive log or redo corruption.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Undo Segment Integrity Check</span>—This check finds logical undo corruptions. After locating an undo corruption, this check uses PMON and SMON to try to recover the corrupted transaction. If this recovery fails, then Health Monitor stores information about the corruption in <code class="codeph">V$CORRUPT_XID_LIST</code>. Most undo corruptions can be resolved by forcing a commit.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Transaction Integrity Check</span>—This check is identical to the Undo Segment Integrity Check except that it checks only one specific transaction.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Dictionary Integrity Check</span>—This check examines the integrity of core dictionary objects, such as <code class="codeph">tab$</code> and <code class="codeph">col$</code>. It performs the following operations:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Verifies the contents of dictionary entries for each dictionary object.</p>
                                    </li>
                                    <li>
                                       <p>Performs a cross-row level check, which verifies that logical constraints on rows in the dictionary are enforced.</p>
                                    </li>
                                    <li>
                                       <p>Performs an object relationship check, which verifies that parent-child relationships between dictionary objects are enforced.</p>
                                    </li>
                                 </ul>
                                 <p>The Dictionary Integrity Check operates on the following dictionary objects:</p>
                                 <p><code class="codeph">tab$</code>, <code class="codeph">clu$</code>, <code class="codeph">fet$</code>, <code class="codeph">uet$</code>, <code class="codeph">seg$</code>, <code class="codeph">undo$</code>, <code class="codeph">ts$</code>, <code class="codeph">file$</code>, <code class="codeph">obj$</code>, <code class="codeph">ind$</code>, <code class="codeph">icol$</code>, <code class="codeph">col$</code>, <code class="codeph">user$</code>, <code class="codeph">con$</code>, <code class="codeph">cdef$</code>, <code class="codeph">ccol$</code>, <code class="codeph">bootstrap$</code>, <code class="codeph">objauth$</code>, <code class="codeph">ugroup$</code>, <code class="codeph">tsq$</code>, <code class="codeph">syn$</code>, <code class="codeph">view$</code>, <code class="codeph">typed_view$</code>, <code class="codeph">superobj$</code>, <code class="codeph">seq$</code>, <code class="codeph">lob$</code>, <code class="codeph">coltype$</code>, <code class="codeph">subcoltype$</code>, <code class="codeph">ntab$</code>, <code class="codeph">refcon$</code>, <code class="codeph">opqtype$</code>, <code class="codeph">dependency$</code>, <code class="codeph">access$</code>, <code class="codeph">viewcon$</code>, <code class="codeph">icoldep$</code>, <code class="codeph">dual$</code>, <code class="codeph">sysauth$</code>, <code class="codeph">objpriv$</code>, <code class="codeph">defrole$</code>, and <code class="codeph">ecol$</code>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3A5BA670-AB15-4199-8F67-C4CCD22144AE" title="Oracle Database includes a framework called Health Monitor for running diagnostic checks on the database.">About Health Monitor</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11273"></a><div class="props_rev_3"><a id="GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" name="GUID-C9061FE5-C991-4960-AA31-C660296DF8D5"></a><h5 id="ADMIN-GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" class="sect5"><span class="enumeration_section">9.3.2.2 </span>Running Health Checks Manually
                     </h5>
                     <p>Health Monitor can run health checks manually either by using the <code class="codeph">DBMS_HM</code> PL/SQL package or by using the Cloud Control interface, found on the <span class="wintitle">Checkers</span> subpage of the <span class="wintitle">Advisor Central</span> page.
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7">Running Health Checks Using the DBMS_HM PL/SQL Package</a><br>The <code class="codeph">DBMS_HM</code> procedure for running a health check is called <code class="codeph">RUN_CHECK</code>. 
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148">Running Health Checks Using Cloud Control</a><br>Cloud Control provides an interface for running Health Monitor checkers.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="You can run diagnostic checks on a database with Health Monitor.">Identifying Problems Proactively with Health Monitor</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11274"></a><div class="props_rev_3"><a id="GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7" name="GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7"></a><h6 id="ADMIN-GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7" class="sect6"><span class="enumeration_section">9.3.2.2.1 </span>Running Health Checks Using the DBMS_HM PL/SQL Package
                        </h6>
                        <div>
                           <p>The <code class="codeph">DBMS_HM</code> procedure for running a health check is called <code class="codeph">RUN_CHECK</code>. 
                           </p>
                           <div class="section">
                              <ol>
                                 <li>
                                    <p>To call <code class="codeph">RUN_CHECK</code>, supply the name of the check and a name for the run, as follows:
                                    </p><pre class="oac_no_warn" dir="ltr">BEGIN
&nbsp;&nbsp;DBMS_HM.RUN_CHECK('Dictionary Integrity Check', 'my_run');
END;
/
</pre></li>
                                 <li>
                                    <p>To obtain a list of health check names, run the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM v$hm_check WHERE internal_check='N';
</pre><p>Your output is similar to the following:</p><pre class="oac_no_warn" dir="ltr">NAME
----------------------------------------------------------------
DB Structure Integrity Check
Data Block Integrity Check
Redo Integrity Check
Transaction Integrity Check
Undo Segment Integrity Check
Dictionary Integrity Check
</pre></li>
                              </ol>
                              <p>Most health checks accept input parameters. You can view parameter names and descriptions with the <code class="codeph">V$HM_CHECK_PARAM</code> view. Some parameters are mandatory while others are optional. If optional parameters are omitted, defaults are used. The following query displays parameter information for all health checks:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT c.name check_name, p.name parameter_name, p.type,
p.default_value, p.description
FROM v$hm_check_param p, v$hm_check c
WHERE p.check_id = c.id and c.internal_check = 'N'
ORDER BY c.name;
</pre><p>Input parameters are passed in the <code class="codeph">input_params</code> argument as name/value pairs separated by semicolons (;). The following example illustrates how to pass the transaction ID as a parameter to the Transaction Integrity Check:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_HM.RUN_CHECK (
   check_name   =&gt; 'Transaction Integrity Check',
   run_name     =&gt; 'my_run',
   input_params =&gt; 'TXN_ID=7.33.2');
END;
/</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-56A48A80-64EC-4C5F-90A8-8AAA4030BFF7__GUID-961AA5CC-6CD5-4C42-A782-99DAE7B2CFD8">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34" title="Some health checks require parameters. Parameters with a default value of (none) are mandatory.">Health Check Parameters Reference</a>"</span></p>
                                 </li>
                                 <li>
                                    <p> <a href="../arpls/DBMS_HM.html#ARPLS144" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more examples of using <code class="codeph">DBMS_HM</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" title="Health Monitor can run health checks manually either by using the DBMS_HM PL/SQL package or by using the Cloud Control interface, found on the Checkers subpage of the Advisor Central page.">Running Health Checks Manually</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12582"></a><a id="ADMIN11275"></a><div class="props_rev_3"><a id="GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148" name="GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148"></a><h6 id="ADMIN-GUID-B7F20245-81AF-4C90-A2A4-DC2A710D6148" class="sect6"><span class="enumeration_section">9.3.2.2.2 </span>Running Health Checks Using Cloud Control
                        </h6>
                        <div>
                           <p>Cloud Control provides an interface for running Health Monitor checkers.</p>
                           <div class="section">
                              <p>To run a Health Monitor Checker using Cloud Control:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>Access the Database Home page.</span></li>
                              <li><span>From the Performance menu, select <span class="bold">Advisors Home</span>.</span></li>
                              <li><span>Click <span class="bold">Checkers</span> to view the Checkers subpage.</span></li>
                              <li><span>In the Checkers section, click the checker you want to run.</span></li>
                              <li><span>Enter values for input parameters or, for optional parameters, leave them blank to accept the defaults.</span></li>
                              <li><span>Click <span class="bold">OK</span>, confirm your parameters, and click <span class="bold">OK</span> again.</span></li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C9061FE5-C991-4960-AA31-C660296DF8D5" title="Health Monitor can run health checks manually either by using the DBMS_HM PL/SQL package or by using the Cloud Control interface, found on the Checkers subpage of the Advisor Central page.">Running Health Checks Manually</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11276"></a><div class="props_rev_3"><a id="GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" name="GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E"></a><h5 id="ADMIN-GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" class="sect5"><span class="enumeration_section">9.3.2.3 </span>Viewing Checker Reports
                     </h5>
                     <p>After a checker has run, you can view a report of its execution. The report contains findings, recommendations, and other information. You can view reports using Cloud Control, the ADRCI utility, or the <code class="codeph">DBMS_HM</code> PL/SQL package. The following table indicates the report formats available with each viewing method.
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0">About Viewing Checker Reports</a><br>Results of checker runs (findings, recommendations, and other information) are stored in the ADR, but reports are not generated immediately.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237">Viewing Reports Using Cloud Control</a><br>You can also view Health Monitor reports and findings for a given checker run using Cloud Control.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2">Viewing Reports Using DBMS_HM</a><br>You can view Health Monitor checker reports with the <code class="codeph">DBMS_HM</code> package function <code class="codeph">GET_RUN_REPORT</code>.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259">Viewing Reports Using the ADRCI Utility</a><br>You can create and view Health Monitor checker reports using the ADRCI utility.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="You can run diagnostic checks on a database with Health Monitor.">Identifying Problems Proactively with Health Monitor</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0" name="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0"></a><h6 id="ADMIN-GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0" class="sect6"><span class="enumeration_section">9.3.2.3.1 </span>About Viewing Checker Reports
                        </h6>
                        <div>
                           <p>Results of checker runs (findings, recommendations, and other information) are stored in the ADR, but reports are not generated immediately.</p>
                           <div class="tblformal" id="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0__GUID-DDC2FC2D-7D86-44EE-99ED-0B81E7F866C6">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the report viewing methods and the report formats available for each method." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d116652e4031">Report Viewing Method</th>
                                       <th align="left" valign="bottom" width="20%" id="d116652e4034">Report Formats Available</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d116652e4039" headers="d116652e4031 ">
                                          <p>Cloud Control</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d116652e4039 d116652e4034 ">
                                          <p>HTML</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d116652e4046" headers="d116652e4031 ">
                                          <p><code class="codeph">DBMS_HM</code> PL/SQL package
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d116652e4046 d116652e4034 ">
                                          <p>HTML, XML, and text</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d116652e4055" headers="d116652e4031 ">
                                          <p>ADRCI utility</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d116652e4055 d116652e4034 ">
                                          <p>XML</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>When you request a report with the <code class="codeph">DBMS_HM</code> PL/SQL package or with Cloud Control, if the report does not yet exist, it is first generated from the checker run data in the ADR, stored as a report file in XML format in the HM subdirectory of the ADR home for the current instance, and then displayed. If the report file already exists, it is just displayed. When using the ADRCI utility, you must first run a command to generate the report file if it does not exist, and then run another command to display its contents.
                           </p>
                           <p>The preferred method to view checker reports is with Cloud Control.</p>
                           <div class="infoboxnote" id="GUID-18B9CFBA-20A5-4822-93F9-86517F1489A0__GUID-199300FA-D103-4D92-AAE8-AC3EC41E4962">
                              <p class="notep1">Note:</p>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" title="The ADR is a file-based repository for database diagnostic data such as traces, dumps, the alert log, health monitor reports, and more. It has a unified directory structure across multiple instances and multiple products.">Automatic Diagnostic Repository (ADR)</a>"</span></p>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="After a checker has run, you can view a report of its execution. The report contains findings, recommendations, and other information. You can view reports using Cloud Control, the ADRCI utility, or the DBMS_HM PL/SQL package. The following table indicates the report formats available with each viewing method.">Viewing Checker Reports</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12583"></a><a id="ADMIN12300"></a><div class="props_rev_3"><a id="GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237" name="GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237"></a><h6 id="ADMIN-GUID-1B4F79FB-FC33-4F42-AE63-D1A000513237" class="sect6"><span class="enumeration_section">9.3.2.3.2 </span>Viewing Reports Using Cloud Control
                        </h6>
                        <div>
                           <p>You can also view Health Monitor reports and findings for a given checker run using Cloud Control.</p>
                           <div class="section">
                              <p>To view run findings using Cloud Control:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>Access the Database Home page.</span></li>
                              <li class="stepexpand"><span>From the Performance menu, select <span class="bold">Advisors Home</span>.</span></li>
                              <li class="stepexpand"><span>Click <span class="bold">Checkers</span> to view the Checkers subpage.</span></li>
                              <li class="stepexpand"><span>Click the run name for the checker run that you want to view.</span><div>
                                    <p>The Run Detail page appears, showing the Findings subpage for that checker run.</p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Click <span class="bold">Runs</span> to display the Runs subpage.</span><div>
                                    <p>Cloud Control displays more information about the checker run.</p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Click <span class="bold">View Report</span> to view the report for the checker run.</span><div>
                                    <p>The report is displayed in a new browser window.</p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="After a checker has run, you can view a report of its execution. The report contains findings, recommendations, and other information. You can view reports using Cloud Control, the ADRCI utility, or the DBMS_HM PL/SQL package. The following table indicates the report formats available with each viewing method.">Viewing Checker Reports</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11278"></a><div class="props_rev_3"><a id="GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2" name="GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2"></a><h6 id="ADMIN-GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2" class="sect6"><span class="enumeration_section">9.3.2.3.3 </span>Viewing Reports Using DBMS_HM
                        </h6>
                        <div>
                           <p>You can view Health Monitor checker reports with the <code class="codeph">DBMS_HM</code> package function <code class="codeph">GET_RUN_REPORT</code>.
                           </p>
                           <div class="section">
                              <p>This function enables you to request HTML, XML, or text formatting. The default format is text, as shown in the following SQL*Plus example:</p><pre class="oac_no_warn" dir="ltr">SET LONG 100000
SET LONGCHUNKSIZE 1000
SET PAGESIZE 1000
SET LINESIZE 512
SELECT DBMS_HM.GET_RUN_REPORT('HM_RUN_1061') FROM DUAL;

DBMS_HM.GET_RUN_REPORT('HM_RUN_1061')
-----------------------------------------------------------------------
 
 Run Name                     : HM_RUN_1061
 Run Id                       : 1061
 Check Name                   : Data Block Integrity Check
 Mode                         : REACTIVE
 Status                       : COMPLETED
 Start Time                   : 2007-05-12 22:11:02.032292 -07:00
 End Time                     : 2007-05-12 22:11:20.835135 -07:00
 Error Encountered            : 0
 Source Incident Id           : 7418
 Number of Incidents Created  : 0
 
Input Parameters for the Run
 BLC_DF_NUM=1
 BLC_BL_NUM=64349
 
Run Findings And Recommendations
 Finding
 Finding Name  : Media Block Corruption
 Finding ID    : 1065
 Type          : FAILURE
 Status        : OPEN
 Priority      : HIGH
 Message       : Block 64349 in datafile 1:
               '/u01/app/oracle/dbs/t_db1.f' is media corrupt
 Message       : Object BMRTEST1 owned by SYS might be unavailable
 Finding
 Finding Name  : Media Block Corruption
 Finding ID    : 1071
 Type          : FAILURE
 Status        : OPEN
 Priority      : HIGH
 Message       : Block 64351 in datafile 1:
               '/u01/app/oracle/dbs/t_db1.f' is media corrupt
 Message       : Object BMRTEST2 owned by SYS might be unavailable</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-293321E4-05D7-44C7-AFF5-009D89F9BEE2__GUID-189F4B23-B712-4615-89E1-C0A1F04FDCE8">
                              <p class="notep1">See Also:</p>
                              <p><a href="../arpls/DBMS_HM.html#ARPLS144" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details on the <code class="codeph">DBMS_HM</code> package.
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="After a checker has run, you can view a report of its execution. The report contains findings, recommendations, and other information. You can view reports using Cloud Control, the ADRCI utility, or the DBMS_HM PL/SQL package. The following table indicates the report formats available with each viewing method.">Viewing Checker Reports</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12584"></a><a id="ADMIN11277"></a><div class="props_rev_3"><a id="GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259" name="GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259"></a><h6 id="ADMIN-GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259" class="sect6"><span class="enumeration_section">9.3.2.3.4 </span>Viewing Reports Using the ADRCI Utility
                        </h6>
                        <div>
                           <p>You can create and view Health Monitor checker reports using the ADRCI utility.</p>
                           <div class="section">
                              <p>To create and view a checker report using ADRCI:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>Ensure that the <code class="codeph">ORACLE_HOME</code> and <code class="codeph">PATH</code> environment variables are set properly, and then start the ADRCI utility by running the following command at the operating system command prompt:</span><div><pre class="oac_no_warn" dir="ltr">ADRCI
</pre><p>The ADRCI utility starts and displays the following prompt:</p><pre class="oac_no_warn" dir="ltr">adrci&gt;
</pre><p>Optionally, you can change the current ADR home. Use the <code class="codeph">SHOW HOMES</code> command to list all ADR homes, and the <code class="codeph">SET HOMEPATH</code> command to change the current ADR home. See <a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information.
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Enter the following command:</span><div><pre class="oac_no_warn" dir="ltr">show hm_run
</pre><p>This command lists all the checker runs (stored in <code class="codeph">V$HM_RUN</code>) registered in the ADR.
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Locate the checker run for which you want to create a report and note the checker run name. The <code class="codeph">REPORT_FILE</code> field contains a file name if a report already exists for this checker run. Otherwise, generate the report with the following command:</span><div><pre class="oac_no_warn" dir="ltr">create report hm_run <span class="italic">run_name</span>
</pre></div>
                              </li>
                              <li class="stepexpand"><span>To view the report, enter the following command:</span><div><pre class="oac_no_warn" dir="ltr">show report hm_run <span class="italic">run_name</span></pre></div>
                              </li>
                           </ol>
                           <div class="section">
                              <div class="infoboxnote" id="GUID-6C071BBB-C74F-4D0B-8134-5CD44F6F3259__GUID-0CCE724F-1C95-4CEA-84FD-AF8CB16BCC3E">
                                 <p class="notep1">Note:</p>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-3E3E2CC7-C7CD-480C-AC6C-7A9786739748" title="The ADR is a file-based repository for database diagnostic data such as traces, dumps, the alert log, health monitor reports, and more. It has a unified directory structure across multiple instances and multiple products.">Automatic Diagnostic Repository (ADR)</a>"</span></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-84AA4FBE-51A7-4823-8FDB-3C760C109F4E" title="After a checker has run, you can view a report of its execution. The report contains findings, recommendations, and other information. You can view reports using Cloud Control, the ADRCI utility, or the DBMS_HM PL/SQL package. The following table indicates the report formats available with each viewing method.">Viewing Checker Reports</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN12485"></a><div class="props_rev_3"><a id="GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE" name="GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE"></a><h5 id="ADMIN-GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE" class="sect5"><span class="enumeration_section">9.3.2.4 </span>Health Monitor Views
                     </h5>
                     <div>
                        <p>Instead of requesting a checker report, you can view the results of a specific checker run by directly querying the ADR data from which reports are created.</p>
                        <p>This data is available through the views <code class="codeph">V$HM_RUN</code>, <code class="codeph">V$HM_FINDING</code>, and <code class="codeph">V$HM_RECOMMENDATION</code>. 
                        </p>
                        <p>The following example queries the <code class="codeph">V$HM_RUN</code> view to determine a history of checker runs:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT run_id, name, check_name, run_mode, src_incident FROM v$hm_run;

    RUN_ID NAME         CHECK_NAME                         RUN_MODE SRC_INCIDENT
---------- ------------ ---------------------------------- -------- ------------
         1 HM_RUN_1     DB Structure Integrity Check       REACTIVE            0
       101 HM_RUN_101   Transaction Integrity Check        REACTIVE         6073
       121 TXNCHK       Transaction Integrity Check        MANUAL              0
       181 HMR_tab$     Dictionary Integrity Check         MANUAL              0
          .
          .
          .
       981 Proct_ts$    Dictionary Integrity Check         MANUAL              0
      1041 HM_RUN_1041  DB Structure Integrity Check       REACTIVE            0
      1061 HM_RUN_1061  Data Block Integrity Check         REACTIVE         7418
</pre><p>The next example queries the <code class="codeph">V$HM_FINDING</code> view to obtain finding details for the reactive data block check with <code class="codeph">RUN_ID</code> 1061:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT type, description FROM v$hm_finding WHERE run_id = 1061;

TYPE          DESCRIPTION
------------- -----------------------------------------
FAILURE       Block 64349 in datafile 1: '/u01/app/orac
              le/dbs/t_db1.f' is media corrupt
 
FAILURE       Block 64351 in datafile 1: '/u01/app/orac
              le/dbs/t_db1.f' is media corrupt</pre></div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FADCD96C-DB5D-41C8-937C-399D4CEC87EE__GUID-F12E37E5-2988-4A6E-959A-05BEB9E2E8B3">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-4AA5AE76-88DB-4820-80A7-27A45280D1F2" title="Health monitor runs several different types of checks.">Types of Health Checks</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information on the <code class="codeph">V$HM_*</code> views
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="You can run diagnostic checks on a database with Health Monitor.">Identifying Problems Proactively with Health Monitor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13030"></a><a id="ADMIN13031"></a><a id="ADMIN13032"></a><a id="ADMIN13033"></a><a id="ADMIN13034"></a><a id="ADMIN12486"></a><div class="props_rev_3"><a id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34" name="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34"></a><h5 id="ADMIN-GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34" class="sect5"><span class="enumeration_section">9.3.2.5 </span>Health Check Parameters Reference
                     </h5>
                     <div>
                        <p>Some health checks require parameters. Parameters with a default value of <code class="codeph">(none)</code> are mandatory.
                        </p>
                        <div class="section">
                           <p></p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-98C9E366-5B01-4352-955B-56E3FD85082C">
                           <p class="titleintable">Table 9-6 Parameters for Data Block Integrity Check</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Parameters for Data Block Integrity Check" summary="This table contains 4 columns: parameter name, type, default value, description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4476">Parameter Name</th>
                                    <th align="left" valign="bottom" width="23%" id="d116652e4479">Type</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4482">Default Value</th>
                                    <th align="left" valign="bottom" width="34%" id="d116652e4485">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4490" headers="d116652e4476 ">
                                       <p><code class="codeph">BLC_DF_NUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4490 d116652e4479 ">
                                       <p>Number</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4490 d116652e4482 ">
                                       <p>(none)</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d116652e4490 d116652e4485 ">
                                       <p>Block data file number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4504" headers="d116652e4476 ">
                                       <p><code class="codeph">BLC_BL_NUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4504 d116652e4479 ">
                                       <p>Number</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4504 d116652e4482 ">
                                       <p>(none)</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d116652e4504 d116652e4485 ">
                                       <p>Data block number</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-6775D063-EFD7-441B-9DE8-BC460B5163F5">
                           <p class="titleintable">Table 9-7 Parameters for Redo Integrity Check</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Parameters for Redo Integrity Check" summary="This table contains 4 columns: parameter name, type, default value, description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4529">Parameter Name</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4532">Type</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4535">Default Value</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4538">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4543" headers="d116652e4529 ">
                                       <p><code class="codeph">SCN_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4543 d116652e4532 ">
                                       <p>Text</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4543 d116652e4535 ">
                                       <p>0</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4543 d116652e4538 ">
                                       <p>SCN of the latest good redo (if known)</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-2C4CEA75-7E28-4474-9CCC-B54A11DD55C0">
                           <p class="titleintable">Table 9-8 Parameters for Undo Segment Integrity Check</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Parameters for Undo Segment Integrity Check" summary="This table contains 4 columns: parameter name, type, default value, description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4568">Parameter Name</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4571">Type</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4574">Default Value</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4577">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4582" headers="d116652e4568 ">
                                       <p><code class="codeph">USN_NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4582 d116652e4571 ">
                                       <p>Text</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4582 d116652e4574 ">
                                       <p>(none)</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4582 d116652e4577 ">
                                       <p>Undo segment number</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-906ED6BD-2C5A-43FD-AC54-105E18955B63">
                           <p class="titleintable">Table 9-9 Parameters for Transaction Integrity Check</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Parameters for Transaction Integrity Check" summary="This table contains 4 columns: parameter name, type, default value, description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4607">Parameter Name</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4610">Type</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4613">Default Value</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4616">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4621" headers="d116652e4607 ">
                                       <p><code class="codeph">TXN_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4621 d116652e4610 ">
                                       <p>Text</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4621 d116652e4613 ">
                                       <p>(none)</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4621 d116652e4616 ">
                                       <p>Transaction ID</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-3819926C-C1D0-42E5-9364-BC288B5C2C34__GUID-E7BFA8AE-1536-4D7D-9A04-A2181E4790EE">
                           <p class="titleintable">Table 9-10 Parameters for Dictionary Integrity Check</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Parameters for Dictionary Integrity Check" summary="This table contains 4 columns: parameter name, type, default value, description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d116652e4646">Parameter Name</th>
                                    <th align="left" valign="bottom" width="23%" id="d116652e4649">Type</th>
                                    <th align="left" valign="bottom" width="22%" id="d116652e4652">Default Value</th>
                                    <th align="left" valign="bottom" width="33%" id="d116652e4655">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4660" headers="d116652e4646 ">
                                       <p><code class="codeph">CHECK_MASK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4660 d116652e4649 ">
                                       <p>Text</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4660 d116652e4652 ">
                                       <p><code class="codeph">ALL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4660 d116652e4655 ">
                                       <p>Possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">COLUMN_CHECKS</code>—Run column checks only. Verify column-level constraints in the core tables.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ROW_CHECKS</code>—Run row checks only. Verify row-level constraints in the core tables.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REFERENTIAL_CHECKS</code>—Run referential checks only. Verify referential constraints in the core tables.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>—Run all checks.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d116652e4696" headers="d116652e4646 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d116652e4696 d116652e4649 ">
                                       <p>Text</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d116652e4696 d116652e4652 ">
                                       <p><code class="codeph">ALL_CORE_TABLES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d116652e4696 d116652e4655 ">
                                       <p>Name of a single core table to check. If omitted, all core tables are checked.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-ED93B6C3-F35B-4E9A-8460-28EAB28E01E1" title="You can run diagnostic checks on a database with Health Monitor.">Identifying Problems Proactively with Health Monitor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-DE439094-782F-40CB-8FD0-EBA143F23526" name="GUID-DE439094-782F-40CB-8FD0-EBA143F23526"></a><h4 id="ADMIN-GUID-DE439094-782F-40CB-8FD0-EBA143F23526" class="sect4"><span class="enumeration_section">9.3.3 </span>Gathering Additional Diagnostic Data
                  </h4>
                  <p>This section describes how to gather additional diagnostic data using alert log and trace files.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922">Viewing the Alert Log</a><br>You can view the alert log with a text editor, with Cloud Control, or with the ADRCI utility.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-34137402-19A6-4134-93AE-D6DD02242F61">Finding Trace Files</a><br>Trace files are stored in the Automatic Diagnostic Repository (ADR), in the <code class="codeph">trace</code> directory under each ADR home. To help you locate individual trace files within this directory, you can use data dictionary views. For example, you can find the path to your current session's trace file or to the trace file for each Oracle Database process.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="This section describes various methods to diagnose problems in an Oracle database.">Diagnosing Problems</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12577"></a><a id="ADMIN12578"></a><a id="ADMIN11267"></a><div class="props_rev_3"><a id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" name="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922"></a><h5 id="ADMIN-GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" class="sect5"><span class="enumeration_section">9.3.3.1 </span>Viewing the Alert Log
                     </h5>
                     <div>
                        <p>You can view the alert log with a text editor, with Cloud Control, or with the ADRCI utility.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922__GUID-0D3F1254-4FF9-44D5-BDA2-2C3ED0988554">To view the alert log with Cloud Control:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>Access the Database Home page in Cloud Control.</p>
                              </li>
                              <li>
                                 <p>From the Oracle Database menu, select <span class="bold">Diagnostics</span>, then <span class="bold">Support Workbench</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Related Links, click <span class="bold">Alert Log Contents</span>.
                                 </p>
                                 <p>The View Alert Log Contents page appears.</p>
                              </li>
                              <li>
                                 <p>Select the number of entries to view, and then click <span class="bold">Go</span>.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922__GUID-0801CB7C-1D36-4CD4-ABD0-8CF6F7CE2638">To view the alert log with a text editor:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>Connect to the database with SQL*Plus or another query tool, such as SQL Developer.</p>
                              </li>
                              <li>
                                 <p>Query the <code class="codeph">V$DIAG_INFO</code> view as shown in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJBHBJ">Viewing ADR Locations with the V$DIAG_INFO View</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>To view the text-only alert log, without the XML tags, complete these steps:</p>
                                 <ol type="a">
                                    <li>
                                       <p>In the <code class="codeph">V$DIAG_INFO</code> query results, note the path that corresponds to the <code class="codeph">Diag</code> <code class="codeph">Trace</code> entry, and change directory to that path.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Open file alert_<span class="italic">SID</span>.log with a text editor.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>To view the XML-formatted alert log, complete these steps:</p>
                                 <ol type="a">
                                    <li>
                                       <p>In the <code class="codeph">V$DIAG_INFO</code> query results, note the path that corresponds to the <code class="codeph">Diag</code> <code class="codeph">Alert</code> entry, and change directory to that path.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Open the file log.xml with a text editor.</p>
                                    </li>
                                 </ol>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922__GUID-55320D2B-CEFB-4E05-AE6B-C9666BD25089">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using the ADRCI utility to view a text version of the alert log (with XML tags stripped) and to run queries against the alert log
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-DE439094-782F-40CB-8FD0-EBA143F23526" title="This section describes how to gather additional diagnostic data using alert log and trace files.">Gathering Additional Diagnostic Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12579"></a><a id="ADMIN12580"></a><a id="ADMIN12581"></a><a id="ADMIN12484"></a><div class="props_rev_3"><a id="GUID-34137402-19A6-4134-93AE-D6DD02242F61" name="GUID-34137402-19A6-4134-93AE-D6DD02242F61"></a><h5 id="ADMIN-GUID-34137402-19A6-4134-93AE-D6DD02242F61" class="sect5"><span class="enumeration_section">9.3.3.2 </span>Finding Trace Files
                     </h5>
                     <div>
                        <p>Trace files are stored in the Automatic Diagnostic Repository (ADR), in the <code class="codeph">trace</code> directory under each ADR home. To help you locate individual trace files within this directory, you can use data dictionary views. For example, you can find the path to your current session's trace file or to the trace file for each Oracle Database process.
                        </p>
                        <div class="section">
                           <p></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-21917CFB-A2B6-4D01-9F65-E31803E5FB85">To find the trace file for your current session:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Submit the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT VALUE FROM V$DIAG_INFO WHERE NAME = 'Default Trace File';
</pre><p>The full path to the trace file is returned.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-9E3C3029-5F78-4CEB-97C3-C24B6DF3D141">To find all trace files for the current instance:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Submit the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT VALUE FROM V$DIAG_INFO WHERE NAME = 'Diag Trace';
</pre><p>The path to the ADR trace directory for the current instance is returned.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-190BDC17-04B8-47EC-A082-A9572844952A">To determine the trace file for each Oracle Database process:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Submit the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT PID, PROGRAM, TRACEFILE FROM V$PROCESS;</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-34137402-19A6-4134-93AE-D6DD02242F61__GUID-9C8540E2-2D0A-49B8-BBEE-CC485AEBC00D">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33" title="The Automatic Diagnostic Repository (ADR) is a directory structure that is stored outside of the database. It is therefore available for problem diagnosis when the database is down.">Structure, Contents, and Location of the Automatic Diagnostic Repository</a>"</span></p>
                              </li>
                              <li>
                                 <p>The ADRCI <code class="codeph">SHOW</code> <code class="codeph">TRACEFILE</code> command in <a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle Database Utilities</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-DE439094-782F-40CB-8FD0-EBA143F23526" title="This section describes how to gather additional diagnostic data using alert log and trace files.">Gathering Additional Diagnostic Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" name="GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6"></a><h4 id="ADMIN-GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" class="sect4"><span class="enumeration_section">9.3.4 </span>Creating Test Cases with SQL Test Case Builder
                  </h4>
                  <div>
                     <p><strong class="term">SQL Test Case Builder</strong> is a tool that automatically gathers information needed to reproduce the problem in a different database instance. 
                     </p>
                     <p>A <strong class="term">SQL test case</strong> is a set of information that enables a developer to reproduce the execution plan for a specific SQL statement that has encountered a performance problem.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC">Purpose of SQL Test Case Builder</a><br>SQL Test Case Builder automates the process of gathering and reproducing information about a problem and the environment in which it occurred.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987">Concepts for SQL Test Case Builder</a><br>Key concepts for SQL Test Case Builder include SQL incidents, types of information recorded, and the form of the output.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD">User Interfaces for SQL Test Case Builder</a><br>You can access SQL Test Case Builder either through Cloud Control or using PL/SQL on the command line.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE">Running SQL Test Case Builder</a><br>You can run SQL Test Case Builder using Cloud Control.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-2F2E3F4B-ECE3-4AF0-91B0-4CB437FB21CC" title="This section describes various methods to diagnose problems in an Oracle database.">Diagnosing Problems</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TGSQL94868"></a><div class="props_rev_3"><a id="GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC" name="GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC"></a><h5 id="ADMIN-GUID-F4A2878D-311C-45F0-8747-81E4398F2BDC" class="sect5"><span class="enumeration_section">9.3.4.1 </span>Purpose of SQL Test Case Builder
                     </h5>
                     <div>
                        <p>SQL Test Case Builder automates the process of gathering and reproducing information about a problem and the environment in which it occurred.</p>
                        <p>For most SQL components, obtaining a reproducible test case is the most important factor in bug resolution speed. It is also the longest and most painful step for users. The goal of SQL Test Case Builder is to gather as much as information related to an SQL incident as possible, and then package it in a way that enables Oracle staff to reproduce the problem on a different system.</p>
                        <p>The output of SQL Test Case Builder is a set of scripts in a predefined directory. These scripts contain the commands required to re-create all the necessary objects and the environment on another database instance. After the test case is ready, you can create a zip file of the directory and move it to another database, or upload the file to Oracle Support.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder is a tool that automatically gathers information needed to reproduce the problem in a different database instance.">Creating Test Cases with SQL Test Case Builder</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TGSQL94869"></a><div class="props_rev_3"><a id="GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" name="GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987"></a><h5 id="ADMIN-GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" class="sect5"><span class="enumeration_section">9.3.4.2 </span>Concepts for SQL Test Case Builder
                     </h5>
                     <div>
                        <p>Key concepts for SQL Test Case Builder include SQL incidents, types of information recorded, and the form of the output.</p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E">SQL Incidents</a><br>In the fault diagnosability infrastructure of Oracle Database, an <strong class="term">incident</strong> is a single occurrence of a problem.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66">What SQL Test Case Builder Captures</a><br>SQL Test Case Builder captures permanent information about a SQL query and its environment.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3E77892C-9259-4361-93FC-0C643AA51A88">Output of SQL Test Case Builder</a><br>The output of SQL Test Case Builder is a set of files that contains commands required to re-create the environment and all necessary objects.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder is a tool that automatically gathers information needed to reproduce the problem in a different database instance.">Creating Test Cases with SQL Test Case Builder</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="TGSQL94870"></a><div class="props_rev_3"><a id="GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E" name="GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E"></a><h6 id="ADMIN-GUID-1FA91A0F-ACC1-4849-845D-86AB312A866E" class="sect6"><span class="enumeration_section">9.3.4.2.1 </span>SQL Incidents
                        </h6>
                        <div>
                           <p>In the fault diagnosability infrastructure of Oracle Database, an <strong class="term">incident</strong> is a single occurrence of a problem.
                           </p>
                           <p>A SQL incident is a SQL-related problem. When a problem (critical error) occurs multiple times, the database creates an incident for each occurrence. Incidents are timestamped and tracked in the Automatic Diagnostic Repository (ADR). Each incident has a numeric incident ID, which is unique within the ADR.</p>
                           <p>SQL Test Case Builder is accessible any time on the command line. In Oracle Enterprise Manager Cloud Control (Cloud Control), the SQL Test Case pages are only available after a SQL incident is found.</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" title="Key concepts for SQL Test Case Builder include SQL incidents, types of information recorded, and the form of the output.">Concepts for SQL Test Case Builder</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL94871"></a><div class="props_rev_3"><a id="GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66" name="GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66"></a><h6 id="ADMIN-GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66" class="sect6"><span class="enumeration_section">9.3.4.2.2 </span>What SQL Test Case Builder Captures
                        </h6>
                        <div>
                           <p>SQL Test Case Builder captures permanent information about a SQL query and its environment.</p>
                           <p>The information includes the query being executed, table and index definitions (but not the actual data), PL/SQL packages and program units, optimizer statistics, SQL plan baselines, and initialization parameter settings. Starting with Oracle Database 12c, SQL Test Case Builder also captures and replays transient information, including information only available as part of statement execution. </p>
                           <p>SQL Test Case Builder supports the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Adaptive plans</p>
                                 <p>SQL Test Case Builder captures inputs to the decisions made regarding adaptive plans, and replays them at each decision point. For adaptive plans, the final statistics value at each buffering statistics collector is sufficient to decide on the final plan.</p>
                              </li>
                              <li>
                                 <p>Automatic memory management</p>
                                 <p>The database automatically handles the memory requested for each SQL operation. Actions such as sorting can affect performance significantly. SQL Test Case Builder keeps track of the memory activities, for example, where the database allocated memory and how much it allocated.</p>
                              </li>
                              <li>
                                 <p>Dynamic statistics</p>
                                 <p>Dynamic statistics is an optimization technique in which the database executes a recursive SQL statement to scan a small random sample of a table's blocks to estimate predicate selectivities. Regathering dynamic statistics on a different database does not always generate the same results, for example, when data is missing. To reproduce the problem, SQL Test Case Builder exports the dynamic statistics result from the source database. In the testing database, SQL Test Case Builder reuses the same values captured from the source database instead of regathering dynamic statistics.</p>
                              </li>
                              <li>
                                 <p>Multiple execution support</p>
                                 <p>SQL Test Case Builder can capture dynamic information accumulated during multiple executions of the query. This capability is important for automatic reoptimization.</p>
                              </li>
                              <li>
                                 <p>Compilation environment and bind values replay</p>
                                 <p>The compilation environment setting is an important part of the query optimization context. SQL Test Case Builder captures nondefault settings altered by the user when running the problem query in the source database. If any nondefault parameter values are used, SQL Test Case Builder re-establishes the same values before running the query.</p>
                              </li>
                              <li>
                                 <p>Object statistics history</p>
                                 <p>The statistics history for objects is helpful to determine whether a plan change was caused by a change in statistics values. <code class="codeph">DBMS_STATS</code> stores the history in the data dictionary. SQL Test Case Builder stores this statistics data into a staging table during export. During import, SQL Test Case Builder automatically reloads the statistics history data into the target database from the staging table.
                                 </p>
                              </li>
                              <li>
                                 <p>Statement history</p>
                                 <p>The statement history is important for diagnosing problems related to adaptive cursor sharing, statistics feedback, and cursor sharing bugs. The history includes execution plans and compilation and execution statistics.</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-0D666C9D-8B0E-4FC5-8EC1-6FBC65475C66__GUID-C7361FF5-20C7-4948-B5DD-AF9F1C7B4DC8">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../tgsql/introduction-to-sql-tuning.html#TGSQL-GUID-B653E5F3-F078-4BBC-9516-B892960046A2" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about adaptive query plans, supplemental dynamic statistics, automatic reoptimization, and SQL plan baselines
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> to learn about the <code class="codeph">DBMS_STATS</code> package
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" title="Key concepts for SQL Test Case Builder include SQL incidents, types of information recorded, and the form of the output.">Concepts for SQL Test Case Builder</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL94872"></a><div class="props_rev_3"><a id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88" name="GUID-3E77892C-9259-4361-93FC-0C643AA51A88"></a><h6 id="ADMIN-GUID-3E77892C-9259-4361-93FC-0C643AA51A88" class="sect6"><span class="enumeration_section">9.3.4.2.3 </span>Output of SQL Test Case Builder
                        </h6>
                        <div>
                           <p>The output of SQL Test Case Builder is a set of files that contains commands required to re-create the environment and all necessary objects.</p>
                           <p>By default, SQL Test Case Builder stores the files in the following directory, where <span class="italic">incnum</span> refers to the incident number and <span class="italic">runnum</span> refers to the run number:
                           </p><pre class="pre codeblock"><code>$ADR_HOME/incident/incdir_<span class="italic">incnum</span>/SQLTCB_<span class="italic">runnum</span>
</code></pre><p>For example, a valid output file name could be as follows:</p><pre class="pre codeblock"><code>$ORACLE_HOME/log/diag/rdbms/dbsa/dbsa/incident/incdir_2657/SQLTCB_1
</code></pre><p>You can also specify a particular directory for storing the SQL Test Case Builder files by creating a directory object with the name <code class="codeph">SQL_TCB_DIR</code> and running the procedure <code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code> as shown in the following example:
                           </p><pre class="pre codeblock"><code>CREATE OR REPLACE DIRECTORY SQL_TCB_DIR '/tmp';

DECLARE  
tc CLOB;
BEGIN 
  DBMS_SQLDIAG.EXPORT_SQL_TESTCASE (
    directory =&gt; 'SQL_TCB_DIR',   
    sql_text  =&gt; 'select * from hr_table',   
    testcase  =&gt; tc);
END;</code></pre><div class="infoboxnote" id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88__GUID-02229BDB-64C9-4462-87E4-570562FE3D2E">
                              <p class="notep1">Note:</p>
                              <p>The database administrator must have read and write access permissions to the operating system directory specified in the directory object <code class="codeph">SQL_TCB_DIR</code>.
                              </p>
                           </div>
                           <p>You can also specify a name for a test case using the <code class="codeph">testcase_name</code> parameter of the <code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code> procedure. A test case name is used as a prefix for all the files generated by SQL Test Case Builder.
                           </p>
                           <p>If you do not specify a test case name, then a default test case name having the following format is used by SQL Test Case Builder:</p><pre class="pre codeblock"><code>oratcb_<span class="italic">connectionId</span>_<span class="italic">sqlId</span>_<span class="italic">sequenceNumber</span>_<span class="italic">sessionId</span></code></pre><p>Here, <span class="italic">connectionId</span> is the database connection ID, <span class="italic">sqlId</span> is the SQL statement ID, <span class="italic">sequenceNumber</span> is the internal sequence number, and <span class="italic">sessionId</span> is the database session ID.
                           </p>
                           <p>You can also specify any additional information to include in the output of SQL Test Case Builder using the <code class="codeph">ctrlOptions</code> parameter of the <code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code> procedure. The following are some of the options that you can specify in the <code class="codeph">ctrlOptions</code> parameter:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">compress</code>: This option is used to compress the SQL Test Case Builder output files into a zip file.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">diag_event</code>: This option is used to specify the level of trace information to include in the SQL Test Case Builder output.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">problem_type</code>: This option is used to assign an issue type for a SQL Test Case Builder test case. For example, if a test case is related to performance regression issue, then you can assign the value of <code class="codeph">PERFORMANCE</code> to the <code class="codeph">problem_type</code> option.
                                 </p>
                              </li>
                           </ul>
                           <p>You can view the information about all the test cases generated by SQL Test Case Builder by querying the <code class="codeph">V$SQL_TESTCASES</code> view as shown in the following example:
                           </p><pre class="pre codeblock"><code>
select testcase_name, sql_text from v$sql_testcases;

TESTCASE_NAME                           SQL_TEXT
-------------------------------------   ----------------------
oratcb_0_am8q8kudm02v9_1_00244CC50001   select * from hr_table
</code></pre><div class="infoboxnote" id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88__GUID-A21F6FDB-D621-45C0-B70C-505967C11055">
                              <p class="notep1">Note:</p>
                              <p>The <code class="codeph">V$SQL_TESTCASES</code> view requires the existence of a SQL Test Case Builder root directory object named <code class="codeph">SQL_TCB_DIR</code>. In Oracle Autonomous Database environments, this directory object is created automatically on each POD during provisioning. For on-premises databases, you must explicitly create the SQL Test Case Builder root directory object <code class="codeph">SQL_TCB_DIR</code>, otherwise the <code class="codeph">V$SQL_TESTCASES</code> view will not display any information. The database administrator must have read and write access permissions to the operating system directory specified in the directory object <code class="codeph">SQL_TCB_DIR</code>.
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-3E77892C-9259-4361-93FC-0C643AA51A88__GUID-CFDC8A99-E396-4AF5-A4D3-2FD4413D5EC5">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE</code> procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../refrn/V-SQL_TESTCASES.html#REFRN-GUID-BFF605B2-49FA-44B1-880D-8928F5395184" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$SQL_TESTCASES</code> view
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-78C2FCFC-FA60-4E86-A5F0-DA7CCC1AD987" title="Key concepts for SQL Test Case Builder include SQL incidents, types of information recorded, and the form of the output.">Concepts for SQL Test Case Builder</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="TGSQL94873"></a><div class="props_rev_3"><a id="GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" name="GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD"></a><h5 id="ADMIN-GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" class="sect5"><span class="enumeration_section">9.3.4.3 </span>User Interfaces for SQL Test Case Builder
                     </h5>
                     <div>
                        <p>You can access SQL Test Case Builder either through Cloud Control or using PL/SQL on the command line.</p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A">Graphical Interface for SQL Test Case Builder</a><br>Within Cloud Control, you can access SQL Test Case Builder from the Incident Manager page or the Support Workbench page.
                           </li>
                           <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB">Command-Line Interface for SQL Test Case Builder</a><br>The <code class="codeph">DBMS_SQLDIAG</code> package performs tasks relating to SQL Test Case Builder.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder is a tool that automatically gathers information needed to reproduce the problem in a different database instance.">Creating Test Cases with SQL Test Case Builder</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="TGSQL94874"></a><div class="props_rev_3"><a id="GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" name="GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A"></a><h6 id="ADMIN-GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" class="sect6"><span class="enumeration_section">9.3.4.3.1 </span>Graphical Interface for SQL Test Case Builder
                        </h6>
                        <div>
                           <p>Within Cloud Control, you can access SQL Test Case Builder from the Incident Manager page or the Support Workbench page.</p>
                           <p>This section contains the following topics:</p>
                        </div>
                        <div>
                           <ul class="ullinks">
                              <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C">Accessing the Incident Manager</a><br>From the Incidents and Problems section on the Database Home page, you can navigate to the Incident Manager.
                              </li>
                              <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-82F02C36-11DC-486B-B299-E242E4B10490">Accessing the Support Workbench</a><br>From the Oracle Database menu, you can navigate to the Support Workbench.
                              </li>
                           </ul>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" title="You can access SQL Test Case Builder either through Cloud Control or using PL/SQL on the command line.">User Interfaces for SQL Test Case Builder</a></p>
                              </div>
                           </div>
                        </div>
                        <a id="TGSQL94837"></a><div class="props_rev_3"><a id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C" name="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C"></a><h6 id="ADMIN-GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C" class="sect6"><span class="enumeration_section">9.3.4.3.1.1 </span>Accessing the Incident Manager
                           </h6>
                           <div>
                              <p>From the Incidents and Problems section on the Database Home page, you can navigate to the Incident Manager.</p>
                              <div class="section">
                                 <p class="subhead3" id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C__GUID-40ADF328-61A7-4759-903B-2EDC5B729DBF">To access the Incident Manager:</p>
                                 <ol>
                                    <li>
                                       <p>Log in to Cloud Control with the appropriate credentials.</p>
                                    </li>
                                    <li>
                                       <p>Under the <span class="bold">Targets</span> menu, select <span class="bold">Databases</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the list of database targets, select the target for the Oracle Database instance that you want to administer.</p>
                                    </li>
                                    <li>
                                       <p>If prompted for database credentials, then enter the minimum credentials necessary for the tasks you intend to perform.</p>
                                    </li>
                                    <li>
                                       <p>In the Incidents and Problems section, locate the SQL incident to be investigated.</p>
                                       <p>In the following example, the <code class="codeph">ORA 600</code> error is a SQL incident.
                                       </p>
                                       <div class="figure" id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C__GUID-591D2F54-1C35-48BD-BD9A-8D2EDADE3115"><img src="img/incidents_and_problems.gif" alt="Description of incidents_and_problems.gif follows" title="Description of incidents_and_problems.gif follows" longdesc="img_text/incidents_and_problems.html"><br><a href="img_text/incidents_and_problems.html">Description of the illustration incidents_and_problems.gif</a></div>
                                       <!-- class="figure" -->
                                    </li>
                                    <li>
                                       <p>Click the summary of the incident.</p>
                                       <p>The Problem Details page of the Incident Manager appears.</p>
                                       <div class="figure" id="GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C__GUID-7A952FA8-0358-40B0-8D8D-6F11BF57909C"><img src="img/problem_details.gif" alt="Description of problem_details.gif follows" title="Description of problem_details.gif follows" longdesc="img_text/problem_details.html"><br><a href="img_text/problem_details.html">Description of the illustration problem_details.gif</a></div>
                                       <!-- class="figure" -->
                                       <p>The Support Workbench page appears, with the incidents listed in a table.</p>
                                    </li>
                                 </ol>
                              </div>
                              <!-- class="section" -->
                           </div>
                           <div>
                              <div class="familylinks">
                                 <div class="parentlink">
                                    <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" title="Within Cloud Control, you can access SQL Test Case Builder from the Incident Manager page or the Support Workbench page.">Graphical Interface for SQL Test Case Builder</a></p>
                                 </div>
                              </div>
                           </div>
                           
                        </div><a id="TGSQL94875"></a><div class="props_rev_3"><a id="GUID-82F02C36-11DC-486B-B299-E242E4B10490" name="GUID-82F02C36-11DC-486B-B299-E242E4B10490"></a><h6 id="ADMIN-GUID-82F02C36-11DC-486B-B299-E242E4B10490" class="sect6"><span class="enumeration_section">9.3.4.3.1.2 </span>Accessing the Support Workbench
                           </h6>
                           <div>
                              <p>From the Oracle Database menu, you can navigate to the Support Workbench.</p>
                              <div class="section">
                                 <p class="subhead3" id="GUID-82F02C36-11DC-486B-B299-E242E4B10490__GUID-85D8EDDE-533B-44F7-A027-2CB5FF9C2A79">To access the Support Workbench:</p>
                                 <ol>
                                    <li>
                                       <p>Log in to Cloud Control with the appropriate credentials.</p>
                                    </li>
                                    <li>
                                       <p>Under the <span class="bold">Targets</span> menu, select <span class="bold">Databases</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the list of database targets, select the target for the Oracle Database instance that you want to administer.</p>
                                    </li>
                                    <li>
                                       <p>If prompted for database credentials, then enter the minimum credentials necessary for the tasks you intend to perform.</p>
                                    </li>
                                    <li>
                                       <p>From the <span class="bold">Oracle Database</span> menu, select <span class="bold">Diagnostics</span>, then <span class="bold">Support Workbench</span>.
                                       </p>
                                       <p>The Support Workbench page appears, with the incidents listed in a table.</p>
                                    </li>
                                 </ol>
                              </div>
                              <!-- class="section" -->
                           </div>
                           <div>
                              <div class="familylinks">
                                 <div class="parentlink">
                                    <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-3B9C9026-DD36-44FA-A346-C84C2E30779A" title="Within Cloud Control, you can access SQL Test Case Builder from the Incident Manager page or the Support Workbench page.">Graphical Interface for SQL Test Case Builder</a></p>
                                 </div>
                              </div>
                           </div>
                           
                        </div>
                     </div><a id="TGSQL94877"></a><a id="TGSQL94876"></a><div class="props_rev_3"><a id="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB" name="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB"></a><h6 id="ADMIN-GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB" class="sect6"><span class="enumeration_section">9.3.4.3.2 </span>Command-Line Interface for SQL Test Case Builder
                        </h6>
                        <div>
                           <p>The <code class="codeph">DBMS_SQLDIAG</code> package performs tasks relating to SQL Test Case Builder.
                           </p>
                           <div class="section">
                              <p>This package consists of various subprograms for the SQL Test Case Builder, some of which are listed in the following table.</p>
                              <div class="tblformal" id="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB__BABHBBHG">
                                 <p class="titleintable">Table 9-11 SQL Test Case Functions in the DBMS_SQLDIAG Package</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="SQL Test Case Functions in the DBMS_SQLDIAG Package" summary="This table lists some of the SQL Test Case functions present in the DBMS_SQLDIAG package." width="100%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="42%" id="d116652e5907">Procedure</th>
                                          <th align="left" valign="bottom" width="58%" id="d116652e5910">Description</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5915" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPORT_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5915 d116652e5910 ">
                                             <p>Exports a SQL test case to a user-specified directory</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5923" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPORT_SQL_TESTCASE_DIR_BY_INC</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5923 d116652e5910 ">
                                             <p>Exports a SQL test case corresponding to the incident ID passed as an argument</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5931" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPORT_SQL_TESTCASE_DIR_BY_TXT</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5931 d116652e5910 ">
                                             <p>Exports a SQL test case corresponding to the SQL text passed as an argument</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5939" headers="d116652e5907 ">
                                             <p><code class="codeph">IMPORT_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5939 d116652e5910 ">
                                             <p>Imports a SQL test case into a schema</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5947" headers="d116652e5907 ">
                                             <p><code class="codeph">REPLAY_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5947 d116652e5910 ">
                                             <p>Automates reproduction of a SQL test case</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="42%" id="d116652e5955" headers="d116652e5907 ">
                                             <p><code class="codeph">EXPLAIN_SQL_TESTCASE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="58%" headers="d116652e5955 d116652e5910 ">
                                             <p>Explains a SQL test case</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-BE5ECC60-8033-40B5-BB0A-5803A78416DB__GUID-8BC887CC-119B-4A4A-A30E-CB553A23A1E2">
                              <p class="notep1">See Also:</p>
                              <p><a href="../arpls/DBMS_SQLDIAG.html#ARPLS203" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about the <code class="codeph">DBMS_SQLDIAG</code> package
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-C28E1EFD-3F92-4BF1-AE92-9230581712BD" title="You can access SQL Test Case Builder either through Cloud Control or using PL/SQL on the command line.">User Interfaces for SQL Test Case Builder</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="TGSQL94879"></a><a id="TGSQL94878"></a><div class="props_rev_3"><a id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE" name="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE"></a><h5 id="ADMIN-GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE" class="sect5"><span class="enumeration_section">9.3.4.4 </span>Running SQL Test Case Builder
                     </h5>
                     <div>
                        <p>You can run SQL Test Case Builder using Cloud Control.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-3651A53A-1B0B-4CE1-ABBC-20DE9F28C858">Assumptions</p>
                           <p>This tutorial assumes the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You ran the following <code class="codeph">EXPLAIN PLAN</code> statement as user <code class="codeph">sh</code>, which causes an internal error:
                                 </p><pre class="pre codeblock"><code>EXPLAIN PLAN FOR
  SELECT unit_cost, sold
  FROM   costs c,
         ( SELECT /*+ merge */ p.prod_id, SUM(quantity_sold) AS sold
           FROM   products p, sales s
           WHERE  p.prod_id = s.prod_id
           GROUP BY p.prod_id ) v
  WHERE  c.prod_id = v.prod_id;
</code></pre></li>
                              <li>
                                 <p>In the Incidents and Problems section on the Database Home page, a SQL incident generated by the internal error appears.</p>
                              </li>
                              <li>
                                 <p>You access the Incident Details page, as explained in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-355F7C1F-42B6-47E9-B8E6-BE47DD587A8C" title="From the Incidents and Problems section on the Database Home page, you can navigate to the Incident Manager.">Accessing the Incident Manager</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-8A4E526C-E064-4BC8-92AB-C6C47617BAF8">To run SQL Test Case Builder:</p>
                           <ol>
                              <li>
                                 <p>Click the Incidents tab.</p>
                                 <p>The Problem Details page appears.</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-A4AEE60C-E98A-47E3-BA6D-FB2BB02335D4"><img src="img/problem_details_summary.gif" alt="Description of problem_details_summary.gif follows" title="Description of problem_details_summary.gif follows" longdesc="img_text/problem_details_summary.html"><br><a href="img_text/problem_details_summary.html">Description of the illustration problem_details_summary.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Click the summary for the incident.</p>
                                 <p>The Incident Details page appears.</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-879564EF-C896-4291-A3AA-A77C7AB3434D"><img src="img/incident_details.gif" alt="Description of incident_details.gif follows" title="Description of incident_details.gif follows" longdesc="img_text/incident_details.html"><br><a href="img_text/incident_details.html">Description of the illustration incident_details.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>In Guided Resolution, click <span class="bold">View Diagnostic Data</span>.
                                 </p>
                                 <p>The Incident Details: <span class="italic">incident_number</span> page appears.
                                 </p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-D74DAA7C-5D91-4BED-BA98-4BCD687F3E31"><img src="img/incident_details_num.gif" alt="Description of incident_details_num.gif follows" title="Description of incident_details_num.gif follows" longdesc="img_text/incident_details_num.html"><br><a href="img_text/incident_details_num.html">Description of the illustration incident_details_num.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>In the Application Information section, click <span class="bold">Additional Diagnostics</span>.
                                 </p>
                                 <p>The Additional Diagnostics subpage appears.</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-21292F72-13C3-46C2-BFA5-FE3233FBC06E"><img src="img/additional_diagnostics.gif" alt="Description of additional_diagnostics.gif follows" title="Description of additional_diagnostics.gif follows" longdesc="img_text/additional_diagnostics.html"><br><a href="img_text/additional_diagnostics.html">Description of the illustration additional_diagnostics.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Select <span class="bold">SQL Test Case Builder</span>, and then click <span class="bold">Run</span>.
                                 </p>
                                 <p>The Run User Action page appears.</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-1FEB47A1-98AC-422F-BAC0-EC53D791A7A5"><img src="img/run_user_action.gif" alt="Description of run_user_action.gif follows" title="Description of run_user_action.gif follows" longdesc="img_text/run_user_action.html"><br><a href="img_text/run_user_action.html">Description of the illustration run_user_action.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Select a sampling percentage (optional), and then click <span class="bold">Submit</span>.
                                 </p>
                                 <p>After processing completes, the Confirmation page appears.</p>
                                 <div class="figure" id="GUID-0880A048-4B85-49AE-B9B3-3BFA37F2F2EE__GUID-09B3E1CB-BC3C-4FB6-8348-4F278BC98AD1"><img src="img/sqltcb_confirmation.gif" alt="Description of sqltcb_confirmation.gif follows" title="Description of sqltcb_confirmation.gif follows" longdesc="img_text/sqltcb_confirmation.html"><br><a href="img_text/sqltcb_confirmation.html">Description of the illustration sqltcb_confirmation.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Access the SQL Test Case files in the location described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-3E77892C-9259-4361-93FC-0C643AA51A88" title="The output of SQL Test Case Builder is a set of files that contains commands required to re-create the environment and all necessary objects.">Output of SQL Test Case Builder</a>"</span>.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-FD25C083-28CE-4D3E-84F2-AB224FD8FDD6" title="SQL Test Case Builder is a tool that automatically gathers information needed to reproduce the problem in a different database instance.">Creating Test Cases with SQL Test Case Builder</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" name="GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73"></a><h3 id="ADMIN-GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" class="sect3"><span class="enumeration_section">9.4 </span>Reporting Problems
               </h3>
               <div>
                  <p>Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7">Incident Packages</a><br>You can collect diagnostic data into an intermediate logical structure called an incident package (package).
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-10A2054C-B9FD-4A32-B269-11079B149627">Packaging and Uploading Problems with Custom Packaging</a><br>You use Support Workbench (Support Workbench) to create and upload custom incident packages (packages). Before uploading, you can manually add, edit, and remove diagnostic data files from the package.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3">Viewing and Modifying Incident Packages</a><br>After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241">Creating, Editing, and Uploading Correlated Packages</a><br>After you upload a package to Oracle Support, you can create and upload one or more correlated packages. 
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-742151DE-0BE6-41BD-AAA2-D63774836293">Deleting Correlated Packages</a><br>You delete a correlated package with the Support Workbench for the target for which you created the package.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74">Setting Incident Packaging Preferences</a><br>You can set incident packaging preferences. Examples of incident packaging preferences include the number of days to retain incident information, and the number of leading and trailing incidents to include in a package for each problem.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73__GUID-E54EED2D-2C76-471B-ABA4-9247C4BA62E8">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">About the Oracle Database Fault Diagnosability Infrastructure</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">Diagnosing and Resolving Problems</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-E133F190-DDB2-409E-9912-A53A835241C7" name="GUID-E133F190-DDB2-409E-9912-A53A835241C7"></a><h4 id="ADMIN-GUID-E133F190-DDB2-409E-9912-A53A835241C7" class="sect4"><span class="enumeration_section">9.4.1 </span>Incident Packages
                  </h4>
                  <p>You can collect diagnostic data into an intermediate logical structure called an incident package (package).</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B">About Incident Packages</a><br>For the customized approach to uploading diagnostic data to Oracle Support, you first collect the data into an intermediate logical structure called an incident package (package). 
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-073680D2-2087-4409-9002-217E9BF022F7">About Correlated Diagnostic Data in Incident Packages</a><br>To diagnose problem, it is sometimes necessary to examine not only diagnostic data that is directly related to the problem, but also diagnostic data that is <span class="italic">correlated</span> with the directly related data.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B">About Quick Packaging and Custom Packaging</a><br>The Support Workbench provides two methods for creating and uploading an incident package: the quick packaging method and the custom packaging method.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410">About Correlated Packages</a><br>Correlated packages provide a means of packaging and uploading diagnostic data for related problems.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12303"></a><div class="props_rev_3"><a id="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" name="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B"></a><h5 id="ADMIN-GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" class="sect5"><span class="enumeration_section">9.4.1.1 </span>About Incident Packages
                     </h5>
                     <div>
                        <p>For the customized approach to uploading diagnostic data to Oracle Support, you first collect the data into an intermediate logical structure called an incident package (package). </p>
                        <p>A <span class="bold">package</span> is a collection of metadata that is stored in the Automatic Diagnostic Repository (ADR) and that points to diagnostic data files and other files both in and out of the ADR. When you create a package, you select one or more problems to add to the package. The Support Workbench then automatically adds to the package the problem information, incident information, and diagnostic data (such as trace files and dumps) associated with the selected problems. Because a problem can have many incidents (many occurrences of the same problem), by default only the first three and last three incidents for each problem are added to the package, excluding any incidents that are over 90 days old. You can change these default numbers on the Incident Packaging Configuration page of the Support Workbench.
                        </p>
                        <p>After the package is created, you can add any type of external file to the package, remove selected files from the package, or edit selected files in the package to remove sensitive data. As you add and remove package contents, only the package metadata is modified.</p>
                        <p>When you are ready to upload the diagnostic data to Oracle Support, you first create a zip file that contains all the files referenced by the package metadata. You then upload the zip file through Oracle Configuration Manager.</p>
                        <div class="infoboxnote" id="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B__GUID-2B5D58A3-A0B4-4199-A37A-AF25DAFC772C">
                           <p class="notep1">Note:</p>
                           <p>If you do not have Oracle Configuration Manager installed and properly configured, then you must upload the zip file manually through My Oracle Support.</p>
                           <p>For more information about Oracle Configuration Manager, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CCRIA" target="_blank"><span class="italic">Oracle Configuration Manager Installation and Administration Guide</span></a>.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B__GUID-19AC7EF7-2C02-4250-BE34-45994FE26007">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-10A2054C-B9FD-4A32-B269-11079B149627" title="You use Support Workbench (Support Workbench) to create and upload custom incident packages (packages). Before uploading, you can manually add, edit, and remove diagnostic data files from the package.">Packaging and Uploading Problems with Custom Packaging</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="You can collect diagnostic data into an intermediate logical structure called an incident package (package).">Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12304"></a><div class="props_rev_3"><a id="GUID-073680D2-2087-4409-9002-217E9BF022F7" name="GUID-073680D2-2087-4409-9002-217E9BF022F7"></a><h5 id="ADMIN-GUID-073680D2-2087-4409-9002-217E9BF022F7" class="sect5"><span class="enumeration_section">9.4.1.2 </span>About Correlated Diagnostic Data in Incident Packages
                     </h5>
                     <div>
                        <p>To diagnose problem, it is sometimes necessary to examine not only diagnostic data that is directly related to the problem, but also diagnostic data that is <span class="italic">correlated</span> with the directly related data.
                        </p>
                        <p>Diagnostic data can be correlated by time, by process ID, or by other criteria. For example, when examining an incident, it may be helpful to also examine an incident that occurred five minutes after the original incident. Similarly, while it is clear that the diagnostic data for an incident should include the trace file for the Oracle Database process that was running when the incident occurred, it might be helpful to also include trace files for other processes that are related to the original process.</p>
                        <p>Thus, when problems and their associated incidents are added to a package, any correlated incidents are added at the same time, with their associated trace files.</p>
                        <p>During the process of creating the physical file for a package, the Support Workbench calls upon the Incident Packaging Service to finalize the package. <span class="bold">Finalizing</span> means adding to the package any additional trace files that are correlated by time to incidents in the package, and adding other diagnostic information such as the alert log, health checker reports, SQL test cases, configuration information, and so on. Therefore, the number of files in the zip file may be greater than the number of files that the Support Workbench had previously displayed as the package contents.
                        </p>
                        <p>The Incident Packaging Service follows a set of rules to determine the trace files in the ADR that are correlated to existing package data. You can modify some of those rules in the Incident Packaging Configuration page in Cloud Control.</p>
                        <p>Because both initial package data and added correlated data may contain sensitive information, it is important to have an opportunity to remove or edit files that contain this information before uploading to Oracle Support. For this reason, the Support Workbench enables you to run a command that finalizes the package as a separate operation. After manually finalizing a package, you can examine the package contents, remove or edit files, and then generate and upload a zip file.</p>
                        <div class="infoboxnote" id="GUID-073680D2-2087-4409-9002-217E9BF022F7__GUID-D9484D65-1775-4E03-8E4D-F029CE00C5F3">
                           <p class="notep1">Note:</p>
                           <p>Finalizing a package does not mean closing it to further modifications. You can continue to add diagnostic data to a finalized package. You can also finalize the same package multiple times. Each time that you finalize, any new correlated data is added.</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-073680D2-2087-4409-9002-217E9BF022F7__GUID-AC0522F9-FC62-4550-A5A3-3B39EBCCFC99">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74" title="You can set incident packaging preferences. Examples of incident packaging preferences include the number of days to retain incident information, and the number of leading and trailing incidents to include in a package for each problem.">Setting Incident Packaging Preferences</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="You can collect diagnostic data into an intermediate logical structure called an incident package (package).">Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12305"></a><div class="props_rev_3"><a id="GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B" name="GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B"></a><h5 id="ADMIN-GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B" class="sect5"><span class="enumeration_section">9.4.1.3 </span>About Quick Packaging and Custom Packaging
                     </h5>
                     <div>
                        <p>The Support Workbench provides two methods for creating and uploading an incident package: the quick packaging method and the custom packaging method.</p>
                        <p><span class="bold">Quick Packaging</span>—This is the more automated method with a minimum of steps, organized in a guided workflow (a wizard). You select a single problem, provide a package name and description, and then schedule upload of the package contents, either immediately or at a specified date and time. The Support Workbench automatically places diagnostic data related to the problem into the package, finalizes the package, creates the zip file, and then uploads the file. With this method, you do not have the opportunity to add, edit, or remove package files or add other diagnostic data such as SQL test cases. However, it is the simplest and quickest way to get first-failure diagnostic data to Oracle Support. Quick packaging is the method used in the workflow described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a>"</span>.
                        </p>
                        <p>When quick packaging is complete, the package that was created by the wizard remains. You can then modify the package with custom packaging operations at a later time and manually reupload.</p>
                        <p><span class="bold">Custom Packaging</span>—This is the more manual method, with more steps. It is intended for expert Support Workbench users who want more control over the packaging process. With custom packaging, you can create a new package with one or more problems, or you can add one or more problems to an existing package. You can then perform a variety of operations on the new or updated package, including:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Adding or removing problems or incidents</p>
                           </li>
                           <li>
                              <p>Adding, editing, or removing trace files in the package</p>
                           </li>
                           <li>
                              <p>Adding or removing external files of any type</p>
                           </li>
                           <li>
                              <p>Adding other diagnostic data such as SQL test cases</p>
                           </li>
                           <li>
                              <p>Manually finalizing the package and then viewing package contents to determine if you must edit or remove sensitive data or remove files to reduce package size.</p>
                           </li>
                        </ul>
                        <p>You might conduct these operations over several days, before deciding that you have enough diagnostic information to send to Oracle Support.</p>
                        <p>With custom packaging, you create the zip file and request the upload to Oracle Support as two separate steps. Each of these steps can be performed immediately or scheduled for a future date and time.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B__GUID-BDB974BF-A6A9-4A44-8699-0A5926BDA20D">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="For this task, you use the quick packaging process of the Support Workbench to package and upload the diagnostic information for the problem to Oracle Support.">Task 5: Package and Upload Diagnostic Data to Oracle Support</a>"</span> for instructions for the Quick Packaging method
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="You can collect diagnostic data into an intermediate logical structure called an incident package (package).">Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13161"></a><div class="props_rev_3"><a id="GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" name="GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410"></a><h5 id="ADMIN-GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" class="sect5"><span class="enumeration_section">9.4.1.4 </span>About Correlated Packages
                     </h5>
                     <div>
                        <p>Correlated packages provide a means of packaging and uploading diagnostic data for related problems.</p>
                        <p>A database instance problem can have related problems in other database instances or in Oracle Automatic Storage Management instances, as described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="For any problem identified in a database instance, the diagnosability framework can identify related problems across the topology of your Oracle Database installation.">Related Problems Across the Topology</a>"</span>. After you create and upload a package for one or more database instance problems (the "main package"), you can create and upload one or more correlated packages, each with one or more related problems. You can accomplish this only with the custom packaging workflow in Support Workbench.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410__GUID-37D677FB-B574-42D9-AF82-A48021ADDA8F">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" title="After you upload a package to Oracle Support, you can create and upload one or more correlated packages.">Creating, Editing, and Uploading Correlated Packages</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-E133F190-DDB2-409E-9912-A53A835241C7" title="You can collect diagnostic data into an intermediate logical structure called an incident package (package).">Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12587"></a><a id="ADMIN13035"></a><a id="ADMIN13036"></a><a id="ADMIN12306"></a><div class="props_rev_3"><a id="GUID-10A2054C-B9FD-4A32-B269-11079B149627" name="GUID-10A2054C-B9FD-4A32-B269-11079B149627"></a><h4 id="ADMIN-GUID-10A2054C-B9FD-4A32-B269-11079B149627" class="sect4"><span class="enumeration_section">9.4.2 </span>Packaging and Uploading Problems with Custom Packaging
                  </h4>
                  <div>
                     <p>You use Support Workbench (Support Workbench) to create and upload custom incident packages (packages). Before uploading, you can manually add, edit, and remove diagnostic data files from the package.</p>
                     <div class="section">
                        <p>To package and upload problems with custom packaging: </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>Access the Support Workbench home page.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for instructions.
                              </p>
                           </li>
                           <li>
                              <p>(Optional) For each problem that you want to include in the package, indicate the service request number (SR#) associated with the problem, if any. To do so, complete the following steps for each problem:</p>
                              <ol type="a">
                                 <li>
                                    <p>In the Problems subpage at the bottom of the Support Workbench home page, select the problem, and then click <span class="bold">View</span>.
                                    </p>
                                    <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-C9E83E60-9835-4D03-9881-19076B0CEF8E">
                                       <p class="notep1">Note:</p>
                                       <p>If you do not see the desired problem in the list of problems, or if there are too many problems to scroll through, select a time period from the View list and click <span class="bold">Go</span>. You can then select the desired problem and click <span class="bold">View</span>.
                                       </p>
                                    </div>
                                    <p>The Problem Details page appears.</p>
                                 </li>
                                 <li>
                                    <p>Next to the SR# label, click <span class="bold">Edit</span>, enter a service request number, and then click <span class="bold">OK</span>.
                                    </p>
                                    <p>The service request number is displayed on the Problem Details page.</p>
                                 </li>
                                 <li>
                                    <p>Return to the Support Workbench home page by clicking <span class="bold">Support Workbench</span> in the locator links at the top of the page.
                                    </p>
                                    <div class="figure" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-683D03E1-B890-4166-AF80-E06752A64A36"><img src="img/problem_details_breadcrumb.gif" width="324" alt="Description of problem_details_breadcrumb.gif follows" title="Description of problem_details_breadcrumb.gif follows" longdesc="img_text/problem_details_breadcrumb.html"><br><a href="img_text/problem_details_breadcrumb.html">Description of the illustration problem_details_breadcrumb.gif</a></div>
                                    <!-- class="figure" -->
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>On the Support Workbench home page, select the problems that you want to package, and then click <span class="bold">Package</span>.
                              </p>
                              <p>The Select Packaging Mode page appears.</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-5A114ECF-336E-4E3E-B41F-CCFE06A1D80D">
                                 <p class="notep1">Note:</p>
                                 <p>The packaging process may automatically select additional correlated problems to add to the package. An example of a correlated problem is one that occurs within a few minutes of the selected problem. See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-073680D2-2087-4409-9002-217E9BF022F7" title="To diagnose problem, it is sometimes necessary to examine not only diagnostic data that is directly related to the problem, but also diagnostic data that is correlated with the directly related data.">About Correlated Diagnostic Data in Incident Packages</a>"</span> for more information.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Select the <span class="bold">Custom packaging</span> option, and then click <span class="bold">Continue</span>.
                              </p>
                              <p>The Select Package page appears.</p>
                              <div class="figure" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-33F59EF6-6595-4F64-B5E3-BA79BAEC8A18"><img src="img/package_create_select.gif" alt="Description of package_create_select.gif follows" title="Description of package_create_select.gif follows" longdesc="img_text/package_create_select.html"><br><a href="img_text/package_create_select.html">Description of the illustration package_create_select.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Do one of the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To create a new package, select the <span class="bold">Create new package</span> option, enter a package name and description, and then click <span class="bold">OK</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To add the selected problems to an existing package, select the <span class="bold">Select from existing packages</span> option, select the package to update, and then click <span class="bold">OK</span>.
                                    </p>
                                 </li>
                              </ul>
                              <p>The Customize Package page appears. It displays the problems and incidents that are contained in the package, plus a selection of packaging tasks to choose from. You run these tasks against the new package or the updated existing package.</p>
                              <div class="figure" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__CHDEGHHB"><img src="img/package_details.gif" alt="Description of package_details.gif follows" title="Description of package_details.gif follows" longdesc="img_text/package_details.html"><br><a href="img_text/package_details.html">Description of the illustration package_details.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>(Optional) In the Packaging Tasks section, click links to perform one or more packaging tasks. Or, use other controls on the Customize Package page and its subpages to manipulate the package. Return to the Customize Package page when you are finished.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a>"</span> for instructions for some of the most common packaging tasks.
                              </p>
                           </li>
                           <li>
                              <p>In the Packaging Tasks section of the Customize Package page, under the heading Send to Oracle Support, click <span class="bold">Finish Contents Preparation</span> to finalize the package.
                              </p>
                              <p>A list (or partial list) of files included in the package is displayed. (This may take a while.) The list includes files that were determined to contain correlated diagnostic information and added by the finalization process.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-073680D2-2087-4409-9002-217E9BF022F7" title="To diagnose problem, it is sometimes necessary to examine not only diagnostic data that is directly related to the problem, but also diagnostic data that is correlated with the directly related data.">About Correlated Diagnostic Data in Incident Packages</a>"</span> for a definition of package finalization.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Files</span> to view all the files in the package. Examine the list to see if there are any files that might contain sensitive data that you do not want to expose. If you find such files, then exclude (remove) or edit them.
                              </p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-27E3B493-0994-4757-A960-509397BF2CDC" title="The Support Workbench enables you to edit one or more files in an incident package.">Editing Incident Package Files (Copying Out and In)</a>"</span> and <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8" title="You can remove one or more files of any type from the incident package.">Removing Incident Package Files</a>"</span> for instructions for editing and removing files.
                              </p>
                              <p>To view the contents of a file, click the eyeglasses icon in the rightmost column in the table of files. Enter host credentials, if prompted.</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-6DD62402-2216-4E36-BF73-0B5601C3BF2A">
                                 <p class="notep1">Note:</p>
                                 <p>Trace files are generally for Oracle internal use only.</p>
                              </div>
                           </li>
                           <li>
                              <p>Click <span class="bold">Generate Upload File</span>.
                              </p>
                              <p>The Generate Upload File page appears.</p>
                           </li>
                           <li>
                              <p>Select the <span class="bold">Full</span> or <span class="bold">Incremental</span> option to generate a full package zip file or an incremental package zip file.
                              </p>
                              <p>For a full package zip file, all the contents of the package (original contents and all correlated data) are always added to the zip file.</p>
                              <p>For an incremental package zip file, only the diagnostic information that is new or modified since the last time that you created a zip file for the same package is added to the zip file. For example, if trace information was appended to a trace file since that file was last included in the generated physical file for a package, the trace file is added to the incremental package zip file. Conversely, if no changes were made to a trace file since it was last uploaded for a package, that trace file is not included in the incremental package zip file.</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-0B13F126-ECBB-437C-8D7A-38DE0A646874">
                                 <p class="notep1">Note:</p>
                                 <p>The Incremental option is dimmed (unavailable) if an upload file was never created for the package.</p>
                              </div>
                           </li>
                           <li>
                              <p>Schedule file creation either immediately or at a future date and time (select <span class="bold">Immediately</span> or <span class="bold">Later</span>), and then click <span class="bold">Submit</span>. 
                              </p>
                              <p>File creation can use significant system resources, so it may be advisable to schedule it for a period of low system usage.</p>
                              <p>A Processing page appears, and creation of the zip file proceeds. A confirmation page appears when processing is complete.</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-847B41A8-8FB0-4221-BD7D-AAE251906139">
                                 <p class="notep1">Note:</p>
                                 <p>The package is automatically finalized when the zip file is created.</p>
                              </div>
                           </li>
                           <li>
                              <p>Click <span class="bold">OK</span>.
                              </p>
                              <p>The Customize Package page returns.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Send to Oracle</span>.
                              </p>
                              <p>The View/Send Upload Files page appears.</p>
                           </li>
                           <li>
                              <p>(Optional) Click the <span class="bold">Send Correlated Packages</span> link to create correlated packages and send them to Oracle.
                              </p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" title="After you upload a package to Oracle Support, you can create and upload one or more correlated packages.">Creating, Editing, and Uploading Correlated Packages</a>"</span>. When you are finished working with correlated packages, return to the View/Send Upload Files page by clicking the <span class="bold">Package Details</span> link at the top of the page, clicking <span class="bold">Customize Package</span>, and then clicking <span class="bold">Send to Oracle</span> again.
                              </p>
                           </li>
                           <li>
                              <p>Select the zip files to upload, and then click <span class="bold">Send to Oracle</span>.
                              </p>
                              <p>The Send to Oracle page appears. The selected zip files are listed in a table.</p>
                           </li>
                           <li>
                              <p>Fill in the requested My Oracle Support information. Next to Create new Service Request (SR), select <span class="bold">Yes</span> or <span class="bold">No</span>. If you select Yes, a draft service request is created for you. You must later log in to My Oracle Support and fill in the service request details. If you select No, enter an existing service request number.
                              </p>
                           </li>
                           <li>
                              <p>Schedule the upload to take place immediately or at a future date and time, and then click <span class="bold">Submit</span>.
                              </p>
                              <p>A Processing page appears. If the upload is completed successfully, a confirmation page appears. If the upload could not complete, an error page appears. The error page may include a message that requests that you upload the zip file to Oracle manually. If so, contact your Oracle Support representative for instructions.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">OK</span>.
                              </p>
                              <p>The View/Send Upload Files page returns. Under the Time Sent column, check the status of the files that you attempted to upload.</p>
                              <div class="infoboxnote" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-715DFC19-C24B-48AA-AD80-6507A1C5B37A">
                                 <p class="notep1">Note:</p>
                                 <p>The Support Workbench uses Oracle Configuration Manager to upload the physical files. If Oracle Configuration Manager is not installed or properly configured, the upload may fail. In this case, a message is displayed with a path to the package zip file and a request that you upload the file to Oracle Support manually. You can upload manually with My Oracle Support.</p>
                                 <p>For more information about Oracle Configuration Manager, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CCRIA" target="_blank"><span class="italic">Oracle Configuration Manager Installation and Administration Guide</span></a>.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>(Optional) Create and upload correlated packages.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" title="After you upload a package to Oracle Support, you can create and upload one or more correlated packages.">Creating, Editing, and Uploading Correlated Packages</a>"</span> for instructions.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-10A2054C-B9FD-4A32-B269-11079B149627__GUID-C469CF64-18B8-4690-9DD8-084C84C05044">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" title="To facilitate diagnosis and resolution of critical errors, the fault diagnosability infrastructure introduces two concepts for Oracle Database: problems and incidents.">About Incidents and Problems</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" title="For the customized approach to uploading diagnostic data to Oracle Support, you first collect the data into an intermediate logical structure called an incident package (package).">About Incident Packages</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-2641BC68-9F97-4059-B7A1-B8908304CD2B" title="The Support Workbench provides two methods for creating and uploading an incident package: the quick packaging method and the custom packaging method.">About Quick Packaging and Custom Packaging</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12307"></a><div class="props_rev_3"><a id="GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" name="GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3"></a><h4 id="ADMIN-GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" class="sect4"><span class="enumeration_section">9.4.3 </span>Viewing and Modifying Incident Packages
                  </h4>
                  <div>
                     <p>After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.</p>
                     <p> In addition, after using the quick packaging method to package and upload diagnostic data, you can view or modify the contents of the package that the Support Workbench created, and then reupload the package. To modify a package, you choose from among a selection of <span class="italic">packaging tasks</span>, most of which are available from the Customize Package page.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1">Viewing Package Details</a><br>The <span class="wintitle">Package Details</span> page contains information about the incidents, trace files, and other files in a package, and enables you to view and add to the package activity log.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1">Accessing the Customize Package Page</a><br>The Customize Package page is used to perform various packaging tasks, such as adding and removing problems; adding, removing, and scrubbing (editing) package files; and generating and uploading the package zip file.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-27E3B493-0994-4757-A960-509397BF2CDC">Editing Incident Package Files (Copying Out and In)</a><br>The Support Workbench enables you to edit one or more files in an incident package. 
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-436B232C-6E37-4478-B629-5D396F1F242E">Adding an External File to an Incident Package</a><br>You can add any type of external file to an incident package.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8">Removing Incident Package Files</a><br>You can remove one or more files of any type from the incident package.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3">Viewing and Updating the Incident Package Activity Log</a><br>The Support Workbench maintains an activity log for each incident package. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3__GUID-51E06201-5B23-4026-BB51-E167512099BE">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" title="For the customized approach to uploading diagnostic data to Oracle Support, you first collect the data into an intermediate logical structure called an incident package (package).">About Incident Packages</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-10A2054C-B9FD-4A32-B269-11079B149627" title="You use Support Workbench (Support Workbench) to create and upload custom incident packages (packages). Before uploading, you can manually add, edit, and remove diagnostic data files from the package.">Packaging and Uploading Problems with Custom Packaging</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12588"></a><a id="ADMIN12488"></a><div class="props_rev_3"><a id="GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" name="GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1"></a><h5 id="ADMIN-GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" class="sect5"><span class="enumeration_section">9.4.3.1 </span>Viewing Package Details
                     </h5>
                     <div>
                        <p>The <span class="wintitle">Package Details</span> page contains information about the incidents, trace files, and other files in a package, and enables you to view and add to the package activity log.
                        </p>
                        <div class="section">
                           <p>To view package details: </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Access the Support Workbench home page.</span><div>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for instructions.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Click <span class="bold">Packages</span> to view the Packages subpage.</span><div>
                                 <p>A list of packages that are currently in the Automatic Diagnostic Repository (ADR) is displayed.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>(Optional) To reduce the number of packages displayed, enter text into the <span class="bold">Search</span> field above the list, and then click <span class="bold">Go</span>.</span><div>
                                 <p>All packages that contain the search text anywhere in the package name are displayed. To view the full list of packages, remove the text from the <span class="bold">Search</span> field and click <span class="bold">Go</span> again.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Under the Package Name column, click the link for the desired package.</span><div>
                                 <p>The Package Details page appears.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12589"></a><a id="ADMIN12489"></a><div class="props_rev_3"><a id="GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" name="GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1"></a><h5 id="ADMIN-GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" class="sect5"><span class="enumeration_section">9.4.3.2 </span>Accessing the Customize Package Page
                     </h5>
                     <div>
                        <p>The Customize Package page is used to perform various packaging tasks, such as adding and removing problems; adding, removing, and scrubbing (editing) package files; and generating and uploading the package zip file.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1__GUID-AF74545D-A9BF-4BF6-BC4B-32FB619F0B02"></p>
                           <p>To access the Customize Package page: </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Access the Package Details page for the desired package, as described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" title="The Package Details page contains information about the incidents, trace files, and other files in a package, and enables you to view and add to the package activity log.">Viewing Package Details</a>"</span>.</span></li>
                           <li class="stepexpand"><span>Click <span class="bold">Customize Package</span>.</span><div>
                                 <p>The Customize Package page appears.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12590"></a><a id="ADMIN12309"></a><div class="props_rev_3"><a id="GUID-27E3B493-0994-4757-A960-509397BF2CDC" name="GUID-27E3B493-0994-4757-A960-509397BF2CDC"></a><h5 id="ADMIN-GUID-27E3B493-0994-4757-A960-509397BF2CDC" class="sect5"><span class="enumeration_section">9.4.3.3 </span>Editing Incident Package Files (Copying Out and In)
                     </h5>
                     <div>
                        <p>The Support Workbench enables you to edit one or more files in an incident package. </p>
                        <div class="section">
                           <p>You may want to do this to delete or overwrite sensitive data in the files. To edit package files, you must first copy the files out of the package into a designated directory, edit the files with a text editor or other utility, and then copy the files back into the package, overwriting the original package files.</p>
                           <p>The following procedure assumes that the package is already created and contains diagnostic data.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>To edit incident package files:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>Access the Customize Package page for the desired incident package.</p>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" title="The Customize Package page is used to perform various packaging tasks, such as adding and removing problems; adding, removing, and scrubbing (editing) package files; and generating and uploading the package zip file.">Accessing the Customize Package Page</a>"</span> for instructions.
                                 </p>
                              </li>
                              <li>
                                 <p>In the Packaging Tasks section, under the Scrub User Data heading, click <span class="bold">Copy out Files to Edit contents</span>.
                                 </p>
                                 <p>If prompted for host credentials, enter credentials and then click <span class="bold">OK</span>.
                                 </p>
                                 <p>The Copy Out Files page appears. It displays the name of the host to which you can copy files.</p>
                              </li>
                              <li>
                                 <p>Do one of the following to specify a destination directory for the files:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Enter a directory path in the <span class="bold">Destination Folder</span> field.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click the magnifying glass icon next to the <span class="bold">Destination Folder</span> field, and then complete the following steps:
                                       </p>
                                       <ol type="a">
                                          <li>
                                             <p>If prompted for host credentials, enter credentials for the host to which you want to copy out the files, and then click <span class="bold">OK</span>. (Select <span class="bold">Save as Preferred Credential</span> to avoid the prompt for credentials next time.)
                                             </p>
                                             <p>The Browse and Select: File or Directory window appears.</p>
                                          </li>
                                          <li>
                                             <p>Select the desired destination directory, and then click <span class="bold">Select</span>.
                                             </p>
                                             <p>The Browse and Select: File or Directory window closes, and the path to the selected directory appears in the Destination Folder field of the Copy Out Files page.</p>
                                          </li>
                                       </ol>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Under Files to Copy Out, select the desired files, and then click <span class="bold">OK</span>.
                                 </p>
                                 <div class="infoboxnote" id="GUID-27E3B493-0994-4757-A960-509397BF2CDC__GUID-1C213D7D-9EEA-4BE4-8149-D278CA6C7F6F">
                                    <p class="notep1">Note:</p>
                                    <p>If you do not see the desired files, then they may be on another page. Click the <span class="bold">Next</span> link to view the next page. Continue clicking <span class="bold">Next</span>, or select from the list of file numbers (to the left of the Next link) until you see the desired files. You can then select the files and click <span class="bold">OK</span>.
                                    </p>
                                 </div>
                                 <p>The Customize Package page returns, displaying a confirmation message that lists the files that were copied out.</p>
                              </li>
                              <li>
                                 <p>Using a text editor or other utility, edit the files.</p>
                              </li>
                              <li>
                                 <p>On the Customize Package page, in the Packaging Tasks section, under the Scrub User Data heading, click <span class="bold">Copy in Files to Replace Contents</span>.
                                 </p>
                                 <p>The Copy In Files page appears. It displays the files that you copied out.</p>
                              </li>
                              <li>
                                 <p>Select the files to copy in, and then click <span class="bold">OK</span>.
                                 </p>
                                 <p>The files are copied into the package, overwriting the existing files. The Customize Package page returns, displaying a confirmation message that lists the files that were copied in.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12591"></a><a id="ADMIN12310"></a><div class="props_rev_3"><a id="GUID-436B232C-6E37-4478-B629-5D396F1F242E" name="GUID-436B232C-6E37-4478-B629-5D396F1F242E"></a><h5 id="ADMIN-GUID-436B232C-6E37-4478-B629-5D396F1F242E" class="sect5"><span class="enumeration_section">9.4.3.4 </span>Adding an External File to an Incident Package
                     </h5>
                     <div>
                        <p>You can add any type of external file to an incident package.</p>
                        <div class="section">
                           <p>To add an external file to an incident package: </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>Access the Customize Package page for the desired incident package.</p>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" title="The Customize Package page is used to perform various packaging tasks, such as adding and removing problems; adding, removing, and scrubbing (editing) package files; and generating and uploading the package zip file.">Accessing the Customize Package Page</a>"</span> for instructions.
                                 </p>
                              </li>
                              <li>
                                 <p>Click the <span class="bold">Files</span> link to view the Files subpage.
                                 </p>
                                 <p>From this page, you can add and remove files to and from the package.</p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Add external files</span>.
                                 </p>
                                 <p>The Add External File page appears. It displays the host name from which you may select a file.</p>
                              </li>
                              <li>
                                 <p>Do one of the following to specify a file to add:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Enter the full path to the file in the <span class="bold">File Name</span> field.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click the magnifying glass icon next to the <span class="bold">File Name</span> field, and then complete the following steps:
                                       </p>
                                       <ol type="a">
                                          <li>
                                             <p>If prompted for host credentials, enter credentials for the host on which the external file resides, and then click <span class="bold">OK</span>. (Select <span class="bold">Save as Preferred Credential</span> to avoid the prompt for credentials next time.)
                                             </p>
                                          </li>
                                          <li>
                                             <p>In the Browse and Select: File or Directory window, select the desired file and then click <span class="bold">Select</span>.
                                             </p>
                                             <p>The Browse and Select window closes, and the path to the selected file appears in the File Name field of the Add External File page.</p>
                                          </li>
                                       </ol>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Click <span class="bold">OK</span>.
                                 </p>
                                 <p>The Customize Package page returns, displaying the Files subpage. The selected file is now shown in the list of files.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12592"></a><a id="ADMIN12311"></a><div class="props_rev_3"><a id="GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8" name="GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8"></a><h5 id="ADMIN-GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8" class="sect5"><span class="enumeration_section">9.4.3.5 </span>Removing Incident Package Files
                     </h5>
                     <div>
                        <p>You can remove one or more files of any type from the incident package.</p>
                        <div class="section">
                           <p>To remove incident package files: </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Access the Customize Package page for the desired incident package.</span><div>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-24ACE312-D707-4DCF-9EF4-8AF507B18BE1" title="The Customize Package page is used to perform various packaging tasks, such as adding and removing problems; adding, removing, and scrubbing (editing) package files; and generating and uploading the package zip file.">Accessing the Customize Package Page</a>"</span> for instructions.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Click the <span class="bold">Files</span> link to view the Files subpage.</span><div>
                                 <p>A list of files in the package is displayed.</p>
                                 <p>If you have not yet generated a physical file for this package, all package files are displayed in the list. If you have already generated a physical file, then a View list appears above the files list. It enables you to choose between viewing only incremental package contents or the full package contents. The default selection is incremental package contents. This default selection displays only those package files that were created or modified since the last time that a physical file was generated for the package. Select <span class="bold">Full package contents</span> from the View list to view all package files.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Select the files to remove, and then click <span class="bold">Exclude</span>.</span><div>
                                 <div class="infoboxnote" id="GUID-9AD402C8-ADD6-46BA-80A3-E7A0572838F8__GUID-E82FA9F0-D673-417D-B848-70FC0332E048">
                                    <p class="notep1">Note:</p>
                                    <p>If you do not see the desired files, then they may be on another page. Click the <span class="bold">Next</span> link to view the next page. Continue clicking <span class="bold">Next</span>, or select from the list of file numbers (to the left of the Next link) until you see the desired files. You can then select the files and click <span class="bold">Remove</span>.
                                    </p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12593"></a><a id="ADMIN12312"></a><div class="props_rev_3"><a id="GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3" name="GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3"></a><h5 id="ADMIN-GUID-E6FEDBCE-F7B9-49BD-A27B-A81CB00217F3" class="sect5"><span class="enumeration_section">9.4.3.6 </span>Viewing and Updating the Incident Package Activity Log
                     </h5>
                     <div>
                        <p>The Support Workbench maintains an activity log for each incident package. </p>
                        <div class="section">
                           <p>Most activities that you perform on a package, such as adding or removing files or creating a package zip file, are recorded in the log. You can also add your own notes to the log. This is especially useful if multiple database administrators are working with packages.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>To view and update the incident package activity log: </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Access the Package Details page for the desired incident package.</span><div>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" title="The Package Details page contains information about the incidents, trace files, and other files in a package, and enables you to view and add to the package activity log.">Viewing Package Details</a>"</span> for instructions.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Click the <span class="bold">Activity Log</span> link to view the Activity Log subpage.</span><div>
                                 <p>The activity log is displayed.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>To add your own comment to the activity log, enter text into the <span class="bold">Comment</span> field, and then click <span class="bold">Add Comment</span>.</span><div>
                                 <p>Your comment is appended to the list.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13163"></a><a id="ADMIN13162"></a><div class="props_rev_3"><a id="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" name="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241"></a><h4 id="ADMIN-GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241" class="sect4"><span class="enumeration_section">9.4.4 </span>Creating, Editing, and Uploading Correlated Packages
                  </h4>
                  <div>
                     <p>After you upload a package to Oracle Support, you can create and upload one or more correlated packages. </p>
                     <div class="section">
                        <p>This is recommended if critical alerts appeared in the Related Alerts section of the Database Home page. The correlated packages are associated with the original package, also known as the <span class="bold">main package</span>. The main package contains problems that occurred in a database instance. Correlated packages contain problems that occurred on other instances (Oracle ASM instances or other database instances) and that are related problems for the problems in the main package. There can be only one correlated package for each related instance.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To create, edit, and upload a correlated package:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>View the Package Details page for the main package.</p>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1EAC4EAC-90E3-491C-91F9-932D4A882AB1" title="The Package Details page contains information about the incidents, trace files, and other files in a package, and enables you to view and add to the package activity log.">Viewing Package Details</a>"</span> for instructions.
                              </p>
                           </li>
                           <li>
                              <p>On the Package Details page, click <span class="bold">Customize Package</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the Customize Package page, in the Packaging Tasks section, under Additional Diagnostic Data, click <span class="bold">Create/Update Correlated Packages</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the Correlated Packages page, under Correlated Packages, select one or more instances that have incidents and click <span class="bold">Create</span>.
                              </p>
                              <p>A confirmation message appears, and the package IDs of the newly created correlated packages appear in the ID column.</p>
                           </li>
                           <li>
                              <p>Select the instance on which you created the correlated package, and click <span class="bold">Finish Contents Preparation</span>.
                              </p>
                              <p>A confirmation message appears.</p>
                           </li>
                           <li>
                              <p>(Optional) View and edit a correlated package by completing these steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>Click the package ID to view the package.</p>
                                    <p>If prompted for credentials, enter them and click <span class="bold">Login</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>On the Package Details page, click <span class="bold">Files</span> to view the files in the package.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Customize Package</span> and perform any desired customization tasks, as described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-7F100D4E-CD86-45FD-ADD8-94B125D30CB3" title="After creating an incident package with the custom packaging method, you can view or modify the contents of the package before uploading the package to Oracle Support.">Viewing and Modifying Incident Packages</a>"</span>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>For each correlated package to upload, click <span class="bold">Generate Upload File</span>.
                              </p>
                           </li>
                           <li>
                              <p>For each correlated package to send to Oracle, select the package and click <span class="bold">Send to Oracle</span>.
                              </p>
                              <div class="infoboxnote" id="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241__GUID-5C99FF74-A3CB-4023-A48E-47486A8247CE">
                                 <p class="notep1">Note:</p>
                                 <p>If <span class="bold">Send to Oracle</span> is unavailable (dimmed), then there were no correlated incidents for the instance.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AFD57F6E-3795-4B70-8EE1-E24644F4F241__GUID-D2F901D3-4447-4FC7-9517-494D9177BD4E">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" title="Correlated packages provide a means of packaging and uploading diagnostic data for related problems.">About Correlated Packages</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="For any problem identified in a database instance, the diagnosability framework can identify related problems across the topology of your Oracle Database installation.">Related Problems Across the Topology</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13165"></a><a id="ADMIN13164"></a><div class="props_rev_3"><a id="GUID-742151DE-0BE6-41BD-AAA2-D63774836293" name="GUID-742151DE-0BE6-41BD-AAA2-D63774836293"></a><h4 id="ADMIN-GUID-742151DE-0BE6-41BD-AAA2-D63774836293" class="sect4"><span class="enumeration_section">9.4.5 </span>Deleting Correlated Packages
                  </h4>
                  <div>
                     <p>You delete a correlated package with the Support Workbench for the target for which you created the package.</p>
                     <div class="section">
                        <p>For example, if you created a correlated package for an Oracle ASM instance target, access the Support Workbench for that Oracle ASM instance.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To delete a correlated package:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Access the Support Workbench for the target on which you created the correlated package.</span><div>
                              <div class="infobox-tip" id="GUID-742151DE-0BE6-41BD-AAA2-D63774836293__GUID-643AD2C1-D560-4256-9E53-E42E914F7D55">
                                 <p class="notep1">Tip:</p>
                                 <p>See the Related Links section at the bottom of any Support Workbench page. Or, see <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Packages</span> to view the Packages subpage.</span></li>
                        <li class="stepexpand"><span>Locate the correlated package in the list. Verify that it is a correlated package by viewing the package description.</span></li>
                        <li class="stepexpand"><span>Select the package and click <span class="bold">Delete</span>.</span></li>
                        <li class="stepexpand"><span>On the confirmation page, click <span class="bold">Yes</span>.</span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-742151DE-0BE6-41BD-AAA2-D63774836293__GUID-FE99CD56-76C1-4685-8964-D510B0500A2B">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-961E094B-63E6-4825-BC2A-FBE3FC01B410" title="Correlated packages provide a means of packaging and uploading diagnostic data for related problems.">About Correlated Packages</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1A0AB609-355D-4EEB-85A0-82A3AEB5F3FF" title="For any problem identified in a database instance, the diagnosability framework can identify related problems across the topology of your Oracle Database installation.">Related Problems Across the Topology</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12594"></a><a id="ADMIN12313"></a><div class="props_rev_3"><a id="GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74" name="GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74"></a><h4 id="ADMIN-GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74" class="sect4"><span class="enumeration_section">9.4.6 </span>Setting Incident Packaging Preferences
                  </h4>
                  <div>
                     <p>You can set incident packaging preferences. Examples of incident packaging preferences include the number of days to retain incident information, and the number of leading and trailing incidents to include in a package for each problem.</p>
                     <div class="section">
                        <p>By default, if a problem has many incidents, only the first three and last three incidents are packaged. You can change these and other incident packaging preferences with Cloud Control or with the ADRCI utility.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To set incident packaging preferences with Cloud Control:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Access the Support Workbench home page.</span><div>
                              <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for instructions.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the Related Links section at the bottom of the page, click <span class="bold">Incident Packaging Configuration</span>.</span><div>
                              <p>The View Incident Packaging Configuration page appears. Click <span class="bold">Help</span> to view descriptions of the settings on this page.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Edit</span>.</span><div>
                              <p>The Edit Incident Packaging Configuration page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Edit settings, and then click <span class="bold">OK</span> to apply changes.</span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4F149C57-A13B-4ED2-9291-CB2CB9DD8A74__GUID-8E4899E5-A04E-40AF-9CF0-517B64132428">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-9C4194C0-511F-4896-9F1F-77B8E4DEDA6B" title="For the customized approach to uploading diagnostic data to Oracle Support, you first collect the data into an intermediate logical structure called an incident package (package).">About Incident Packages</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-A73FEA4C-FD95-43D7-9798-CF726E831A8F" title="To facilitate diagnosis and resolution of critical errors, the fault diagnosability infrastructure introduces two concepts for Oracle Database: problems and incidents.">About Incidents and Problems</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-918A2D4A-AF9B-43B1-B317-945F0E6F24C1" title="For this task, you use the quick packaging process of the Support Workbench to package and upload the diagnostic information for the problem to Oracle Support.">Task 5: Package and Upload Diagnostic Data to Oracle Support</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information on ADRCI
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-F5B2DCF0-B376-4E99-8F3B-C58690D59C73" title="Using the Enterprise Manager Support Workbench (Support Workbench), you can create, edit, and upload custom incident packages. With custom incident packages, you have fine control over the diagnostic data that you send to Oracle Support.">Reporting Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-315E87F5-84B4-4E0C-B00A-88C280803219" name="GUID-315E87F5-84B4-4E0C-B00A-88C280803219"></a><h3 id="ADMIN-GUID-315E87F5-84B4-4E0C-B00A-88C280803219" class="sect3"><span class="enumeration_section">9.5 </span>Resolving Problems
               </h3>
               <p>This section describes how to resolve database problems using advisor tools, such as SQL Repair Advisor and Data Recovery Advisor, and the resource management tools, such as the Resource Manager and related APIs.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F">Repairing SQL Failures with the SQL Repair Advisor</a><br>In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2">Repairing Data Corruptions with the Data Recovery Advisor</a><br>You use the Data Recovery Advisor to repair data block corruptions, undo corruptions, data dictionary corruptions, and more.
                     </li>
                     <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a><br>Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data, so as to diagnose and resolve database problems. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively.">Diagnosing and Resolving Problems</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12301"></a><div class="props_rev_3"><a id="GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" name="GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F"></a><h4 id="ADMIN-GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" class="sect4"><span class="enumeration_section">9.5.1 </span>Repairing SQL Failures with the SQL Repair Advisor
                  </h4>
                  <p>In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-D280872D-C4BF-4175-A68D-1B000E8DE868">About the SQL Repair Advisor</a><br>You run the SQL Repair Advisor after a SQL statement fails with a critical error.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6189BB38-5195-4B13-9F56-7950E7B2073F">Running the SQL Repair Advisor Using Cloud Control</a><br>You can run the SQL Repair Advisor from the Problem Details page of the Support Workbench of Cloud Control.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE">Running the SQL Repair Advisor Using the DBMS_SQLDIAG Package Subprograms</a><br>You can run the SQL Repair Advisor using the <code class="codeph">DBMS_SQLDIAG</code> package subprograms.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3">Viewing, Disabling, or Removing a SQL Patch Using Cloud Control</a><br>After you apply a SQL patch with the SQL Repair Advisor, you can view it to confirm its presence, disable it, or remove it using Cloud Control. One reason to disable or remove a patch is if you install a later release of Oracle Database that fixes the bug that caused the failure in the patched SQL statement.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774">Disabling or Removing a SQL Patch Using DBMS_SQLDIAG Package Subprograms</a><br>After you apply a SQL patch with the SQL Repair Advisor, you can disable or remove it using the <code class="codeph">DBMS_SQLDIAG</code> package subprograms. One reason to disable or remove a patch is if you install a later release of Oracle Database that fixes the bug that caused the failure in the patched SQL statement.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7">Exporting and Importing a Patch Using DBMS_SQLDIAG Package Subprograms</a><br>A patch created using the SQL Repair Advisor can be exported out of one system and imported into another system using <code class="codeph">DBMS_SQLDIAG</code> package subprograms.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219" title="This section describes how to resolve database problems using advisor tools, such as SQL Repair Advisor and Data Recovery Advisor, and the resource management tools, such as the Resource Manager and related APIs.">Resolving Problems</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12324"></a><div class="props_rev_3"><a id="GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" name="GUID-D280872D-C4BF-4175-A68D-1B000E8DE868"></a><h5 id="ADMIN-GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" class="sect5"><span class="enumeration_section">9.5.1.1 </span>About the SQL Repair Advisor
                     </h5>
                     <div>
                        <p>You run the SQL Repair Advisor after a SQL statement fails with a critical error.</p>
                        <p>The advisor analyzes the statement and in many cases recommends a patch to repair the statement. If you implement the recommendation, the applied SQL patch circumvents the failure by causing the query optimizer to choose an alternate execution plan for future executions.</p>
                        <p>You can run the SQL Repair Advisor using either Cloud Control or <code class="codeph">DBMS_SQLDIAG</code> package subprograms.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">Repairing SQL Failures with the SQL Repair Advisor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12585"></a><a id="ADMIN12325"></a><div class="props_rev_3"><a id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F" name="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F"></a><h5 id="ADMIN-GUID-6189BB38-5195-4B13-9F56-7950E7B2073F" class="sect5"><span class="enumeration_section">9.5.1.2 </span>Running the SQL Repair Advisor Using Cloud Control
                     </h5>
                     <div>
                        <p>You can run the SQL Repair Advisor from the Problem Details page of the Support Workbench of Cloud Control.</p>
                        <div class="section">
                           <p>Typically, you do so when you were already notified of a critical error caused by your SQL statement and that you followed the workflow described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a>"</span>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-D833C4B8-3757-44F1-8AF7-764E977B717E">To run the SQL Repair Advisor using Cloud Control:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>Access the Problem Details page for the problem that pertains to the failed SQL statement.</p>
                                 <p>See <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-CD3CB35D-969B-4976-B7E3-D3F4E537E1B8" title="You can use the Support Workbench home page in Cloud Control to view all the problems or the problems in a specific time period.">Viewing Problems with the Support Workbench</a>"</span> for instructions.
                                 </p>
                              </li>
                              <li>
                                 <p>In the Investigate and Resolve section, under the Resolve heading, click <span class="bold">SQL Repair Advisor</span>.
                                 </p>
                                 <div class="figure" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-5A6DBF34-DDE2-4361-9564-D969A0117A7C"><img src="img/advisor_access1.gif" width="501" alt="Description of advisor_access1.gif follows" title="Description of advisor_access1.gif follows" longdesc="img_text/advisor_access1.html"><br><a href="img_text/advisor_access1.html">Description of the illustration advisor_access1.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>On the SQL Repair Advisor page, complete these steps:</p>
                                 <ol type="a">
                                    <li>
                                       <p>Modify the preset task name if desired, optionally enter a task description, modify or clear the optional time limit for the advisor task, and adjust settings to schedule the advisor to run either immediately or at a future date and time.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Submit</span>.
                                       </p>
                                    </li>
                                 </ol>
                                 <p>A "Processing" page appears. After a short delay, the SQL Repair Results page appears.</p>
                                 <div class="figure" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-E2C4B092-17DC-4797-938A-A5CCC0F51CE5"><img src="img/sql_repair_advisor_results.gif" width="489" alt="Description of sql_repair_advisor_results.gif follows" title="Description of sql_repair_advisor_results.gif follows" longdesc="img_text/sql_repair_advisor_results.html"><br><a href="img_text/sql_repair_advisor_results.html">Description of the illustration sql_repair_advisor_results.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>A check mark in the SQL Patch column indicates that a recommendation is present. The absence of a check mark in this column means that the SQL Repair Advisor was unable to devise a patch for the SQL statement.</p>
                                 <div class="infoboxnote" id="GUID-6189BB38-5195-4B13-9F56-7950E7B2073F__GUID-E6448D71-C5F4-4C89-BFB0-BB8BD2CDB5B0">
                                    <p class="notep1">Note:</p>
                                    <p>If the SQL Repair Results page fails to appear, then complete these steps to display it:</p>
                                    <ol type="a">
                                       <li>
                                          <p>Go to the Database Home page.</p>
                                       </li>
                                       <li>
                                          <p>From the Performance menu, select <span class="bold">Advisors Home</span>.
                                          </p>
                                       </li>
                                       <li>
                                          <p>On the Advisor Central page, in the Results list, locate the most recent entry for the SQL Repair Advisor.</p>
                                       </li>
                                       <li>
                                          <p>Select the entry and click <span class="bold">View Result</span>.
                                          </p>
                                       </li>
                                    </ol>
                                 </div>
                              </li>
                              <li>
                                 <p>If a recommendation is present (there is a check mark in the SQL Patch column), then click <span class="bold">View</span> to view the recommendation.
                                 </p>
                                 <p>The Repair Recommendations page appears, showing the recommended patch for the statement.</p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Implement</span>.
                                 </p>
                                 <p>The SQL Repair Results page returns, showing a confirmation message.</p>
                              </li>
                              <li>
                                 <p>(Optional) Click <span class="bold">Verify using SQL Worksheet</span> to run the statement in the SQL worksheet and verify that the patch successfully repaired the statement.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">Repairing SQL Failures with the SQL Repair Advisor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE" name="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE"></a><h5 id="ADMIN-GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE" class="sect5"><span class="enumeration_section">9.5.1.3 </span>Running the SQL Repair Advisor Using the DBMS_SQLDIAG Package Subprograms
                     </h5>
                     <div>
                        <p>You can run the SQL Repair Advisor using the <code class="codeph">DBMS_SQLDIAG</code> package subprograms.
                        </p>
                        <div class="section">
                           <p>Typically, you do so when you are notified of a critical error caused by your SQL statement and that you followed the workflow described in <span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-6A62DB22-0376-4522-A7A6-CBC078B38619" title="You can use the Enterprise Manager Support Workbench (Support Workbench) to investigate and report a problem (critical error), and in some cases, resolve the problem. You can use a "roadmap" that summarizes the typical set of tasks that you must perform.">About Investigating, Reporting, and Resolving a Problem</a>"</span>.
                           </p>
                           <p>You run the SQL Repair Advisor by creating and executing a diagnostic task using the <code class="codeph">DBMS_SQLDIAG</code> package subprograms <code class="codeph">CREATE_DIAGNOSIS_TASK</code> and <code class="codeph">EXECUTE_DIAGNOSIS_TASK</code> respectively. The SQL Repair Advisor first reproduces the critical error and then tries to produce a workaround in the form of a SQL patch, which you can apply using the <code class="codeph">ACCEPT_SQL_PATCH</code> subprogram.
                           </p>
                           <div class="infoboxnote" id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE__GUID-DCA4CF37-D238-4C52-BCA1-078033848BF0">
                              <p class="notep1">Note:</p>
                              <p>Starting with Oracle Database 19c, you can also use a single subprogram <code class="codeph">SQL_DIAGNOSE_AND_REPAIR</code> to create a diagnostic task, execute it, and accept SQL patch recommendation for a given SQL statement. Thus, the <code class="codeph">SQL_DIAGNOSE_AND_REPAIR</code> subprogram achieves the functionality of all the following subprograms &#x2013; <code class="codeph">CREATE_DIAGNOSIS_TASK</code>, <code class="codeph">EXECUTE_DIAGNOSIS_TASK</code>, and <code class="codeph">ACCEPT_SQL_PATCH</code>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE__GUID-D833C4B8-3757-44F1-8AF7-764E977B717E">To run the SQL Repair Advisor using the DBMS_SQLDIAG package subprograms:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p><span class="bold">Identify the problematic SQL statement</span></p>
                                 <p>Consider the SQL statement that gives a critical error:</p><pre class="oac_no_warn" dir="ltr">DELETE FROM t t1
WHERE t1.a = 'a' AND
      ROWID &lt;&gt; (SELECT MAX(ROWID)
                FROM t t2
                WHERE t1.a = t2.a AND
                      t1.b = t2.b AND
                      t1.d = t2.d)
</pre><p>You use the SQL Repair Advisor to repair this critical error. </p>
                              </li>
                              <li>
                                 <p><span class="bold">Create a diagnosis task</span></p>
                                 <p>Run <code class="codeph">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK</code>. You can specify an optional task name, an optional time limit for the advisor task, and problem type. In the example below, we specify the SQL text, the task name as '<code class="codeph">error_task</code>' and a problem type as '<code class="codeph">DBMS_SQLDIAG.PROBLEM_TYPE_COMPILATION_ERROR</code>'.
                                 </p><pre class="oac_no_warn" dir="ltr">DECLARE
  rep_out   CLOB;
  t_id      VARCHAR2(50);
BEGIN
  t_id := DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK (
           sql_text =&gt; 'DELETE FROM t t1
                        WHERE t1.a = ''a'' AND
                              ROWID &lt;&gt; (SELECT MAX(ROWID)
                                        FROM t t2
                                        WHERE t1.a = t2.a AND
                                              t1.b = t2.b AND
                                              t1.d = t2.d)',
           task_name =&gt; 'error_task',
           problem_type =&gt; DBMS_SQLDIAG.PROBLEM_TYPE_COMPILATION_ERROR);
</pre></li>
                              <li>
                                 <p><span class="bold">Execute the diagnosis task</span></p>
                                 <p>To execute the workaround generation and analysis phase of the SQL Repair Advisor, you run <code class="codeph">DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK</code> with the task ID returned by the <code class="codeph">CREATE_DIAGNOSIS_TASK</code>. After a short delay, the SQL Repair Advisor returns. As part of its execution, the SQL Repair Advisor keeps a record of its findings which can be accessed through the reporting facilities of SQL Repair Advisor.
                                 </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK (t_id);
</pre></li>
                              <li>
                                 <p><span class="bold">Generate a report for the diagnosis task</span></p>
                                 <p>The analysis of the diagnosis task is accessed using <code class="codeph">DBMS_SQLDIAG.REPORT_DIAGNOSIS_TASK</code>. If the SQL Repair Advisor was able to find a workaround, it recommends a SQL Patch. A SQL Patch is similar to a SQL profile, but unlike the SQL Profile, it is used to workaround compilation or execution errors.
                                 </p><pre class="oac_no_warn" dir="ltr">rep_out := DBMS_SQLDIAG.REPORT_DIAGNOSIS_TASK (t_id, DBMS_SQLDIAG.TYPE_TEXT);
DBMS_OUTPUT.PUT_LINE ('Report : ' ||  rep_out);
END;
/
</pre></li>
                              <li>
                                 <p><span class="bold">Apply the patch</span></p>
                                 <p>If a patch recommendation is present in the report, you can run <code class="codeph">DBMS_SQLDIAG.ACCEPT_SQL_PATCH</code> to accept the patch. This procedure takes task name as an argument.
                                 </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SQLDIAG.ACCEPT_SQL_PATCH(task_name =&gt; 'error_task', task_owner =&gt; 'SYS', replace =&gt; TRUE);
</pre></li>
                              <li>
                                 <p><span class="bold">Test the patch</span></p>
                                 <p>Now that you have accepted the patch, you can rerun the SQL statement. This time, it will not give you the critical error. If you run <span class="italic">explain plan</span> for this statement, you will see that a SQL patch was used to generate the plan.
                                 </p><pre class="oac_no_warn" dir="ltr">DELETE FROM t t1
WHERE t1.a = 'a' AND
      ROWID &lt;&gt; (SELECT max(rowid)
                FROM t t2
                WHERE t1.a = t2.a AND
                      t1.b = t2.b AND
                      t1.d = t2.d);
</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CC012879-5DF8-4A7E-908D-114BB84C56DE__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SQLDIAG</code> package subprograms
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">Repairing SQL Failures with the SQL Repair Advisor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12586"></a><a id="ADMIN12326"></a><div class="props_rev_3"><a id="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3" name="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3"></a><h5 id="ADMIN-GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3" class="sect5"><span class="enumeration_section">9.5.1.4 </span>Viewing, Disabling, or Removing a SQL Patch Using Cloud Control
                     </h5>
                     <div>
                        <p>After you apply a SQL patch with the SQL Repair Advisor, you can view it to confirm its presence, disable it, or remove it using Cloud Control. One reason to disable or remove a patch is if you install a later release of Oracle Database that fixes the bug that caused the failure in the patched SQL statement.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3__GUID-2B53D1FB-FB78-434E-80D1-7D570B71A60E">To view, disable, or remove a SQL patch using Cloud Control:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Access the Database Home page in Cloud Control.</span></li>
                           <li class="stepexpand"><span>From the Performance menu, select <span class="bold">SQL</span>, then <span class="bold">SQL Plan Control</span>.</span><div>
                                 <p>The SQL Plan Control page appears.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Click <span class="bold">SQL Patch</span> to display the SQL Patch subpage.</span><div>
                                 <p>The SQL Patch subpage displays all SQL patches in the database.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Locate the desired patch by examining the associated SQL text.</span><div>
                                 <p>Click the SQL text to view the complete text of the statement. After viewing the SQL text, click <span class="bold">Return</span>.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>To disable the patch on the SQL Patch subpage, select it, and then click <span class="bold">Disable</span>.</span><div>
                                 <p>A confirmation message appears, and the patch status changes to <code class="codeph">DISABLED</code>. You can later reenable the patch by selecting it and clicking <span class="bold">Enable</span>.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>To remove the patch, select it, and then click <span class="bold">Drop</span>.</span><div>
                                 <p>A confirmation message appears.</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-BA9A0C41-91BD-4728-83FE-48FE2D04C9B3__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" title="You run the SQL Repair Advisor after a SQL statement fails with a critical error.">About the SQL Repair Advisor</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">Repairing SQL Failures with the SQL Repair Advisor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774" name="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774"></a><h5 id="ADMIN-GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774" class="sect5"><span class="enumeration_section">9.5.1.5 </span>Disabling or Removing a SQL Patch Using DBMS_SQLDIAG Package Subprograms
                     </h5>
                     <div>
                        <p>After you apply a SQL patch with the SQL Repair Advisor, you can disable or remove it using the <code class="codeph">DBMS_SQLDIAG</code> package subprograms. One reason to disable or remove a patch is if you install a later release of Oracle Database that fixes the bug that caused the failure in the patched SQL statement.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774__TODISABLEASQLPATCHUSINGDBMS_SQLDIAG-9FE8BF60">To disable a SQL patch using DBMS_SQLDIAG package subprogram:</p>
                           <p>Run the procedure <code class="codeph">DBMS_SQLDIAG.ALTER_SQL_PATCH</code> by specifying the patch name to disable with the status value of <code class="codeph">DISABLED</code>.
                           </p>
                           <p>The following example disables the SQL patch <code class="codeph">sql_patch_12345</code>.
                           </p><pre class="pre codeblock"><code>EXEC DBMS_SQLDIAG.ALTER_SQL_PATCH('sql_patch_12345', 'STATUS', 'DISABLED');</code></pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774__TOREMOVEASQLPATCHUSINGDBMS_SQLDIAGP-9FE8C256">To remove a SQL patch using DBMS_SQLDIAG package subprogram:</p>
                           <p>Run the procedure <code class="codeph">DBMS_SQLDIAG.DROP_SQL_PATCH</code> by specifying the patch name to remove. The patch name can be obtained from the explain plan section or by querying the view <code class="codeph">DBA_SQL_PATCHES</code>.
                           </p>
                           <p>The following example removes the SQL patch <code class="codeph">sql_patch_12345</code>.
                           </p><pre class="pre codeblock"><code>EXEC DBMS_SQLDIAG.DROP_SQL_PATCH('sql_patch_12345');</code></pre></div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5032EBC6-AEC6-4AA2-A352-E39A967A8774__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-D280872D-C4BF-4175-A68D-1B000E8DE868" title="You run the SQL Repair Advisor after a SQL statement fails with a critical error.">About the SQL Repair Advisor</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SQLDIAG</code> package subprograms
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">Repairing SQL Failures with the SQL Repair Advisor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7" name="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7"></a><h5 id="ADMIN-GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7" class="sect5"><span class="enumeration_section">9.5.1.6 </span>Exporting and Importing a Patch Using DBMS_SQLDIAG Package Subprograms
                     </h5>
                     <div>
                        <p>A patch created using the SQL Repair Advisor can be exported out of one system and imported into another system using <code class="codeph">DBMS_SQLDIAG</code> package subprograms.
                        </p>
                        <div class="section">
                           <p>Patches can be exported out of one system and imported into another by using a staging table. Like with SQL diagnosis sets, the operation of inserting into the staging table is called as "pack", and the operation of creating patches from staging table data is called as "unpack".</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7__GUID-D833C4B8-3757-44F1-8AF7-764E977B717E">To export and import a patch using the DBMS_SQLDIAG package subprograms:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>Create a staging table owned by user '<code class="codeph">SH</code>' by calling <code class="codeph">DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH(
    table_name          =&gt;  'STAGING_TABLE',
    schema_name         =&gt;  'SH'); 
</pre></li>
                              <li>
                                 <p>Call <code class="codeph">DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH</code> one or more times to write SQL patch data into the staging table. In this case, copy data for all SQL patches in the <code class="codeph">DEFAULT</code> category into a staging table owned by the current schema owner: 
                                 </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH(
    staging_table_name  =&gt;  'STAGING_TABLE'); 
</pre></li>
                              <li>
                                 <p>In this case, only a single SQL patch <code class="codeph">SP_FIND_EMPLOYEE</code> is copied into a staging table owned by the current schema owner:
                                 </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH(
    patch_name          =&gt;  'SP_FIND_EMPLOYEE',
    staging_table_name  =&gt;  'STAGING_TABLE'); 
</pre><p>The staging table can then be moved to another system using either data pump, import/export commands or using a database link.</p>
                              </li>
                              <li>
                                 <p>Call <code class="codeph">DBMS_SQLDIAG.UNPACK_STGTAB_SQLPATCH</code> to create SQL patches on the new system from the patch data in the staging table. In this case, change the name in the data for the <code class="codeph">SP_FIND_EMPLOYEE</code> patch stored in the staging table to '<code class="codeph">SP_FIND_EMP_PROD</code>': 
                                 </p><pre class="oac_no_warn" dir="ltr">exec dbms_sqldiag.remap_stgtab_sqlpatch(
   old_patch_name      =&gt;  'SP_FIND_EMPLOYEE',
   new_patch_name      =&gt;  'SP_FIND_EMP_PROD', </pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-BFE3A28A-6CC1-4A63-BE8F-860DCF6CDAF7__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_SQLDIAG.html#ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SQLDIAG</code> package subprograms
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" title="In the rare case that a SQL statement fails with a critical error, you can run the SQL Repair Advisor to try to repair the failed statement.">Repairing SQL Failures with the SQL Repair Advisor</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12487"></a><div class="props_rev_3"><a id="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2" name="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2"></a><h4 id="ADMIN-GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2" class="sect4"><span class="enumeration_section">9.5.2 </span>Repairing Data Corruptions with the Data Recovery Advisor
                  </h4>
                  <div>
                     <p>You use the Data Recovery Advisor to repair data block corruptions, undo corruptions, data dictionary corruptions, and more.</p>
                     <div class="section">
                        <p>The Data Recovery Advisor integrates with the Enterprise Manager Support Workbench (Support Workbench), with the Health Monitor, and with the RMAN utility to display data corruption problems, assess the extent of each problem (critical, high priority, low priority), describe the impact of a problem, recommend repair options, conduct a feasibility check of the customer-chosen option, and automate the repair process.</p>
                        <p>The Cloud Control online help provides details on how to use the Data Recovery Advisor. This section describes how to access the advisor from the Support Workbench.</p>
                        <p>The Data Recovery Advisor is automatically recommended by and accessible from the Support Workbench when you are viewing health checker findings that are related to a data corruption or other data failure. The Data Recovery Advisor is also available from the Advisor Central page.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To access the Data Recovery Advisor in Cloud Control:</p>
                        <ol>
                           <li>
                              <p>Access the Database Home page in Cloud Control.</p>
                              <p>The Data Recovery Advisor is available only when you are connected as <code class="codeph">SYSDBA</code>.
                              </p>
                           </li>
                           <li>
                              <p>From the Oracle Database menu, select <span class="bold">Diagnostics</span>, then <span class="bold">Support Workbench</span>.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Checker Findings</span>.
                              </p>
                              <p>The Checker Findings subpage appears.</p>
                              <div class="figure" id="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2__GUID-A4E3CCCF-088C-4C44-879A-11010A7ABA8E"><img src="img/dra_access_2.gif" alt="Description of dra_access_2.gif follows" title="Description of dra_access_2.gif follows" longdesc="img_text/dra_access_2.html"><br><a href="img_text/dra_access_2.html">Description of the illustration dra_access_2.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Select one or more data corruption findings and then click <span class="bold">Launch Recovery Advisor</span>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05EF3FB6-B10D-4FD8-BF05-911789D12DA2__GUID-B9F5026E-C20C-4835-B4A4-77B056AA1340">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admqs/performing-backup-and-recovery.html#ADMQS098" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a href="../bradv/diagnosing-repairing-failures-dra.html#BRADV246" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about the Data Recovery Advisor
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219" title="This section describes how to resolve database problems using advisor tools, such as SQL Repair Advisor and Data Recovery Advisor, and the resource management tools, such as the Resource Manager and related APIs.">Resolving Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" name="GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51"></a><h4 id="ADMIN-GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" class="sect4"><span class="enumeration_section">9.5.3 </span>Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources
                  </h4>
                  <p>Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-9B3EC88E-E330-4B7E-BF98-617803A24092">About Quarantine for Execution Plans for SQL Statements</a><br>You can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. The quarantined execution plans for such SQL statements are not allowed to run again, thus preventing database performance degradation.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-1D48BAE6-D085-497D-8B7C-28B304E05090">Creating a Quarantine Configuration for an Execution Plan of a SQL Statement</a><br>You can create a quarantine configuration for an execution plan of a SQL statement using any of these <code class="codeph">DBMS_SQLQ</code> package functions &#x2013; <code class="codeph">CREATE_QUARANTINE_BY_SQL_ID</code> or <code class="codeph">CREATE_QUARANTINE_BY_SQL_TEXT</code>.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-743C3FAA-0CA0-406E-9AC7-51160543B095">Specifying Quarantine Thresholds in a Quarantine Configuration</a><br>After creating a quarantine configuration for an execution plan for a SQL statement, you can specify quarantine thresholds for it using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure. When any of the Resource Manager thresholds is equal to or less than a quarantine threshold specified in a SQL statement's quarantine configuration, then the SQL statement is not allowed to run, if it uses the execution plan specified in its quarantine configuration.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-138E9175-A847-441E-9C3C-DB919BE594B1">Enabling and Disabling a Quarantine Configuration</a><br>You can enable or disable a quarantine configuration using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure. A quarantine configuration is enabled by default when it is created.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62">Viewing the Details of a Quarantine Configuration</a><br>You can query the <code class="codeph">DBA_SQL_QUARANTINE</code> view to get details of all the quarantine configurations.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-670BA87F-786A-4428-AE43-E6614BF175E1">Deleting a Quarantine Configuration</a><br>The unused quarantine configurations are automatically purged or deleted after 53 weeks. You can also delete a quarantine configuration using the <code class="codeph">DBMS_SQLQ.DROP_QUARANTINE</code> procedure. You can disable automatic deletion of a quarantine configuration using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure. 
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F">Viewing the Details of Quarantined Execution Plans of SQL Statements</a><br>You can query the <code class="codeph">V$SQL</code> and <code class="codeph">GV$SQL</code> views to get details about the quarantined execution plans of SQL statements.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7">Transferring Quarantine Configurations from One Database to Another Database</a><br>You can transfer quarantine configurations from one database to another database using the <code class="codeph">DBMS_SQLQ</code> package subprograms &#x2013; <code class="codeph">CREATE_STGTAB_QUARANTINE</code>, <code class="codeph">PACK_STGTAB_QUARANTINE</code>, and <code class="codeph">UNPACK_STGTAB_QUARANTINE</code>.
                        </li>
                        <li class="ulchildlink"><a href="diagnosing-and-resolving-problems.html#GUID-5E9499E1-AF15-465A-814F-110343AAEDF6">Example: Quarantine for an Execution Plan of a SQL Statement Consuming Excessive System Resources</a><br>This example shows how an execution plan of a SQL statement is quarantined when it exceeds a resource consumption limit configured using the Resource Manager.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-315E87F5-84B4-4E0C-B00A-88C280803219" title="This section describes how to resolve database problems using advisor tools, such as SQL Repair Advisor and Data Recovery Advisor, and the resource management tools, such as the Resource Manager and related APIs.">Resolving Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092" name="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092"></a><h5 id="ADMIN-GUID-9B3EC88E-E330-4B7E-BF98-617803A24092" class="sect5"><span class="enumeration_section">9.5.3.1 </span>About Quarantine for Execution Plans for SQL Statements
                     </h5>
                     <div>
                        <p>You can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. The quarantined execution plans for such SQL statements are not allowed to run again, thus preventing database performance degradation.</p>
                        <p>Using the Resource Manager, you can configure limits for SQL statements for consuming system resources (<span class="italic">Resource Manager thresholds</span>). The Resource Manager terminates SQL statements that exceed the Resource Manager thresholds. In the earlier Oracle Database releases, if a SQL statement that is terminated by the Resource Manager runs again, the Resource Manager allows it to run again and terminates it again when it exceeds the Resource Manager thresholds. Thus, it is a waste of system resources to allow such SQL statements to run again.
                        </p>
                        <p>Starting with Oracle Database 19c, you can use SQL Quarantine to automatically quarantine execution plans of SQL statements terminated by the Resource Manager, so that they are not allowed to run again.</p>
                        <p>Additionally, SQL Quarantine can also be used to create <span class="italic">quarantine configurations</span> for execution plans of SQL statements by specifying thresholds for consuming various system resources (similar to the Resource Manager thresholds) using the <code class="codeph">DBMS_SQLQ</code> package subprograms. These thresholds are known as <span class="italic">quarantine thresholds</span>. If any of the Resource Manager thresholds is equal to or less than a quarantine threshold specified in a SQL statement's quarantine configuration, then the SQL statement is not allowed to run, if it uses the execution plan specified in its quarantine configuration.
                        </p>
                        <p>The following are the steps to manually set quarantine thresholds for an execution plan for a SQL statement using the <code class="codeph">DBMS_SQLQ</code> package subprograms:
                        </p>
                        <ol id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__OL_IJQ_BJG_VGB">
                           <li>Create a quarantine configuration for an execution plan for a SQL statement</li>
                           <li>Specify quarantine thresholds in the quarantine configuration</li>
                        </ol>
                        <p>You can also perform the following operations related to quarantine configurations using the <code class="codeph">DBMS_SQLQ</code> package subprograms:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__UL_EM5_TKG_VGB">
                           <li>Enable or disable a quarantine configuration</li>
                           <li>Delete a quarantine configuration</li>
                           <li>Transfer quarantine configurations from one database to another</li>
                        </ul>
                        <div class="infoboxnote" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__GUID-B8178B9A-2222-4BAD-B015-20A3806FA403">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__UL_KNT_K5R_SGB">
                              <li>
                                 <p>A quarantine configuration is specific to an execution plan for a SQL statement. If two different SQL statements use the same execution plan, they do not share the same quarantine configuration.</p>
                              </li>
                              <li>
                                 <p>An execution plan is quarantined specific to a SQL statement that is terminated by the Resource Manager. Thus, an execution plan that is quarantined for a SQL statement will not be quarantined for a different SQL statement that is not yet terminated by the Resource Manager.</p>
                              </li>
                              <li>
                                 <p>If there is no quarantine configuration created for an execution plan for a SQL statement, or if no quarantine thresholds are specified in its quarantine configuration, the execution plan for a SQL statement still gets automatically quarantined, if the Resource Manager terminates it for exceeding any of the Resource Manager thresholds.</p>
                              </li>
                           </ul>
                        </div>
                        <p>For example, consider a resource plan of the Resource Manager that limits execution time for SQL statements to be 10 seconds (Resource Manager threshold). Consider a SQL statement Q1 for which this resource plan is application. When Q1 exceeds execution time of 10 seconds, it gets terminated by the Resource Manager. SQL Quarantine then creates a quarantine configuration for Q1 specific to that execution plan and stores this execution time of 10 seconds as a quarantine threshold in the quarantine configuration.</p>
                        <p>If Q1 is executed again with the same execution plan and the Resource Manager threshold is still 10 seconds, then SQL Quarantine does not allow Q1 to execute, because it refers to the quarantine threshold of 10 seconds to determine that Q1 will be eventually terminated by the Resource Manager as Q1 takes at least 10 seconds to execute.</p>
                        <p>If the Resource Manager threshold is changed to 5 seconds and Q1 is executed again with the same execution plan, then SQL Quarantine does not allow Q1 to execute, because it refers to the quarantine threshold of 10 seconds to determine that Q1 will be eventually terminated by the Resource Manager as Q1 takes at least 10 seconds to execute.</p>
                        <p>If the Resource Manager threshold is changed to 15 seconds and Q1 is executed again with the same execution plan, then SQL quarantine allows Q1 to execute, because it refers to the quarantine threshold of 10 seconds to determine that Q1 takes at least 10 seconds to execute, but there is a possibility that Q1 may complete its execution within 15 seconds.</p>
                        <div class="infoboxnote" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__GUID-A629187D-2FFB-4F23-B404-34C18BA54F4F">
                           <p class="notep1">Note:</p>
                           <p>A quarantine threshold is specific to an execution plan for a SQL statement, and it is automatically set by SQL Quarantine based on the Resource Manager threshold that is exceeded by the SQL statement and its execution plan. You can also manually set a quarantine threshold for a specific execution plan for a SQL statement by using the <code class="codeph">DBMS_SQLQ</code> package subprograms.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__GUID-53CC9AB3-4CB6-4DC2-971B-D3F8083CE7D3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-9B3EC88E-E330-4B7E-BF98-617803A24092__UL_JVB_5KK_PGB">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1D48BAE6-D085-497D-8B7C-28B304E05090" title="You can create a quarantine configuration for an execution plan of a SQL statement using any of these DBMS_SQLQ package functions &#x2013; CREATE_QUARANTINE_BY_SQL_ID or CREATE_QUARANTINE_BY_SQL_TEXT.">Creating a Quarantine Configuration for an Execution Plan of a SQL Statement</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" title="After creating a quarantine configuration for an execution plan for a SQL statement, you can specify quarantine thresholds for it using the DBMS_SQLQ.ALTER_QUARANTINE procedure. When any of the Resource Manager thresholds is equal to or less than a quarantine threshold specified in a SQL statement's quarantine configuration, then the SQL statement is not allowed to run, if it uses the execution plan specified in its quarantine configuration.">Specifying Quarantine Thresholds in a Quarantine Configuration</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-138E9175-A847-441E-9C3C-DB919BE594B1" title="You can enable or disable a quarantine configuration using the DBMS_SQLQ.ALTER_QUARANTINE procedure. A quarantine configuration is enabled by default when it is created.">Enabling and Disabling a Quarantine Configuration</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62" title="You can query the DBA_SQL_QUARANTINE view to get details of all the quarantine configurations.">Viewing the Details of a Quarantine Configuration</a>"</span></p>
                              </li>
                              <li><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-670BA87F-786A-4428-AE43-E6614BF175E1" title="The unused quarantine configurations are automatically purged or deleted after 53 weeks. You can also delete a quarantine configuration using the DBMS_SQLQ.DROP_QUARANTINE procedure. You can disable automatic deletion of a quarantine configuration using the DBMS_SQLQ.ALTER_QUARANTINE procedure.">Deleting a Quarantine Configuration</a>"</span></li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" title="You can manage runaway sessions or calls that use CPU, physical I/O, or logical I/O resources beyond a specified limit. A runaway session is a SQL query, while a runaway call is a PL/SQL call.">Specifying Automatic Switching by Setting Resource Limits</a>"</span> for information about how to configure resource consumption limits for SQL statements using the Resource Manager
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-1D48BAE6-D085-497D-8B7C-28B304E05090" name="GUID-1D48BAE6-D085-497D-8B7C-28B304E05090"></a><h5 id="ADMIN-GUID-1D48BAE6-D085-497D-8B7C-28B304E05090" class="sect5"><span class="enumeration_section">9.5.3.2 </span>Creating a Quarantine Configuration for an Execution Plan of a SQL Statement
                     </h5>
                     <div>
                        <p>You can create a quarantine configuration for an execution plan of a SQL statement using any of these <code class="codeph">DBMS_SQLQ</code> package functions &#x2013; <code class="codeph">CREATE_QUARANTINE_BY_SQL_ID</code> or <code class="codeph">CREATE_QUARANTINE_BY_SQL_TEXT</code>.
                        </p>
                        <div class="section">
                           <p>The following example creates a quarantine configuration for an execution plan having the hash value of <code class="codeph">3488063716</code> for a SQL statement having the SQL ID of <code class="codeph">8vu7s907prbgr</code>:
                           </p><pre class="pre codeblock"><code>DECLARE
    quarantine_config VARCHAR2(30);
BEGIN
    quarantine_config := DBMS_SQLQ.CREATE_QUARANTINE_BY_SQL_ID(
                            SQL_ID =&gt; '8vu7s907prbgr', 
                            PLAN_HASH_VALUE =&gt; '3488063716');
END;
/</code></pre><p>If you do not specify an execution plan or specify it as <code class="codeph">NULL</code>, then the quarantine configuration is applied to all the execution plans of a SQL statement, except for those execution plans for which the execution plan-specific quarantine configurations are already created.
                           </p>
                           <p>The following example creates a quarantine configuration for all the execution plans for a SQL statement having the SQL ID of <code class="codeph">152sukb473gsk</code>:
                           </p><pre class="pre codeblock"><code>DECLARE
    quarantine_config VARCHAR2(30);
BEGIN
    quarantine_config := DBMS_SQLQ.CREATE_QUARANTINE_BY_SQL_ID(
                            SQL_ID =&gt; '152sukb473gsk');
END;
/</code></pre><p>The following example creates a quarantine configuration for all the execution plans for a SQL statement <code class="codeph">'select count(*) from emp'</code>:
                           </p><pre class="pre codeblock"><code>DECLARE
    quarantine_config VARCHAR2(30);
BEGIN
    quarantine_config := DBMS_SQLQ.CREATE_QUARANTINE_BY_SQL_TEXT(
                            SQL_TEXT =&gt; to_clob('select count(*) from emp'));
END;
/</code></pre><p>The <code class="codeph">CREATE_QUARANTINE_BY_SQL_ID</code> and <code class="codeph">CREATE_QUARANTINE_BY_SQL_TEXT</code> functions return the name for the quarantine configuration, which can be used for specifying <span class="italic">quarantine thresholds</span> for an execution plan for a SQL statement using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1D48BAE6-D085-497D-8B7C-28B304E05090__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" title="After creating a quarantine configuration for an execution plan for a SQL statement, you can specify quarantine thresholds for it using the DBMS_SQLQ.ALTER_QUARANTINE procedure. When any of the Resource Manager thresholds is equal to or less than a quarantine threshold specified in a SQL statement's quarantine configuration, then the SQL statement is not allowed to run, if it uses the execution plan specified in its quarantine configuration.">Specifying Quarantine Thresholds in a Quarantine Configuration</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-C9CEBBEA-9543-42B2-B318-465BAA4F832F" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_SQLQ</code>  package subprograms
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" name="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095"></a><h5 id="ADMIN-GUID-743C3FAA-0CA0-406E-9AC7-51160543B095" class="sect5"><span class="enumeration_section">9.5.3.3 </span>Specifying Quarantine Thresholds in a Quarantine Configuration
                     </h5>
                     <div>
                        <p>After creating a quarantine configuration for an execution plan for a SQL statement, you can specify quarantine thresholds for it using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure. When any of the Resource Manager thresholds is equal to or less than a quarantine threshold specified in a SQL statement's quarantine configuration, then the SQL statement is not allowed to run, if it uses the execution plan specified in its quarantine configuration.
                        </p>
                        <div class="section">
                           <p>You can specify quarantine thresholds for the following resources in a quarantine configuration using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure:
                           </p>
                           <ul style="list-style-type: disc;" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__UL_OM2_FHN_SGB">
                              <li>
                                 <p>CPU time</p>
                              </li>
                              <li>
                                 <p>Elapsed time</p>
                              </li>
                              <li>
                                 <p>I/O in megabytes</p>
                              </li>
                              <li>
                                 <p>Number of physical I/O requests</p>
                              </li>
                              <li>
                                 <p>Number of logical I/O requests</p>
                              </li>
                           </ul>
                           <p>In the following example, the quarantine threshold specified for CPU time is 5 seconds and elapsed time is 10 seconds for the quarantine configuration <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>.
                           </p><pre class="pre codeblock"><code>BEGIN
    DBMS_SQLQ.ALTER_QUARANTINE(
       QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
       PARAMETER_NAME  =&gt; 'CPU_TIME',
       PARAMETER_VALUE =&gt; '5');

    DBMS_SQLQ.ALTER_QUARANTINE(
       QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
       PARAMETER_NAME  =&gt; 'ELAPSED_TIME',
       PARAMETER_VALUE =&gt; '10');
END;
/</code></pre><p>When the SQL statement is executed using the execution plan specified in this quarantine configuration, and if the Resource Manager threshold for CPU time is 5 seconds or less, or elapsed time is 10 seconds or less, then the SQL statement is not allowed to run.</p>
                           <div class="infoboxnote" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-03E5B500-6A1B-4917-A85C-747E36D6673B">
                              <p class="notep1">Note:</p>
                              <p>If any of the Resource Manager thresholds is equal to or less than a quarantine threshold specified in a SQL statement's quarantine configuration, then that SQL statement is not allowed to run, if it uses the execution plan specified in its quarantine configuration.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-6736477E-D27E-40E6-83CD-073156FB63B0">Querying quarantine thresholds for a quarantine configuration</p>
                           <p>You can query a quarantine threshold for a quarantine configuration using the <code class="codeph">DBMS_SQLQ.GET_PARAM_VALUE_QUARANTINE</code> function. The following example returns the quarantine threshold for CPU time consumption for the quarantine configuration <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>:
                           </p><pre class="pre codeblock"><code>DECLARE
    quarantine_config_setting_value VARCHAR2(30);
BEGIN
    quarantine_config_setting_value := 
        DBMS_SQLQ.GET_PARAM_VALUE_QUARANTINE(
              QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
              PARAMETER_NAME  =&gt; 'CPU_TIME');
END;
/</code></pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-3240556E-4CE7-44CC-8D46-0277A1C1F753">Deleting quarantine thresholds from a quarantine configuration</p>
                           <p>You can delete a quarantine threshold from a quarantine configuration by specifying <code class="codeph">DBMS_SQLQ.DROP_THRESHOLD</code> as the value for <code class="codeph">PARAMETER_VALUE</code>. The following example deletes the quarantine threshold for CPU time consumption from the quarantine configuration <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>:
                           </p><pre class="pre codeblock"><code>BEGIN
    DBMS_SQLQ.ALTER_QUARANTINE(
       QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
       PARAMETER_NAME  =&gt; 'CPU_TIME',
       PARAMETER_VALUE =&gt; DBMS_SQLQ.DROP_THRESHOLD);
END;
/</code></pre></div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-743C3FAA-0CA0-406E-9AC7-51160543B095__GUID-EE9697BC-34C8-4582-BDD4-8D492B3FD5F8">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-442813C4-07F7-4795-90AA-B6BF904FDA18" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-138E9175-A847-441E-9C3C-DB919BE594B1" name="GUID-138E9175-A847-441E-9C3C-DB919BE594B1"></a><h5 id="ADMIN-GUID-138E9175-A847-441E-9C3C-DB919BE594B1" class="sect5"><span class="enumeration_section">9.5.3.4 </span>Enabling and Disabling a Quarantine Configuration
                     </h5>
                     <div>
                        <p>You can enable or disable a quarantine configuration using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure. A quarantine configuration is enabled by default when it is created.
                        </p>
                        <div class="section">
                           <p>The following example disables the quarantine configuration having the name <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>:
                           </p><pre class="pre codeblock"><code>BEGIN
    DBMS_SQLQ.ALTER_QUARANTINE(
       QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
       PARAMETER_NAME  =&gt; 'ENABLED',
       PARAMETER_VALUE =&gt; 'NO');
END;
/</code></pre><p>The following example enables the quarantine configuration having the name <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>:
                           </p><pre class="pre codeblock"><code>BEGIN
    DBMS_SQLQ.ALTER_QUARANTINE(
       QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
       PARAMETER_NAME  =&gt; 'ENABLED',
       PARAMETER_VALUE =&gt; 'YES');
END;
/</code></pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-138E9175-A847-441E-9C3C-DB919BE594B1__GUID-DFFB7FFA-D21A-4E06-9497-58EFB415176A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-442813C4-07F7-4795-90AA-B6BF904FDA18" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62" name="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62"></a><h5 id="ADMIN-GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62" class="sect5"><span class="enumeration_section">9.5.3.5 </span>Viewing the Details of a Quarantine Configuration
                     </h5>
                     <div>
                        <p>You can query the <code class="codeph">DBA_SQL_QUARANTINE</code> view to get details of all the quarantine configurations.
                        </p>
                        <div class="section">
                           <p>The <code class="codeph">DBA_SQL_QUARANTINE</code> view contains the following information about each quarantine configuration:
                           </p>
                           <ul style="list-style-type: disc;" id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62__UL_DXM_BVH_CGB">
                              <li>Quarantine configuration name</li>
                              <li>SQL statement for which the quarantine configuration is applicable</li>
                              <li>Hash value of the execution plan for which the quarantine configuration is applicable</li>
                              <li>Status of the quarantine configuration (enabled or disabled)</li>
                              <li>Status of automatic purging of the quarantine configuration (yes or no)</li>
                              <li>Quarantine thresholds specified for the quarantine configuration:
                                 <ul style="list-style-type: disc;" id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62__UL_OR2_WVH_CGB">
                                    <li>CPU time</li>
                                    <li>Elapsed time</li>
                                    <li>I/O in megabytes</li>
                                    <li>Number of physical I/O requests</li>
                                    <li>Number of logical I/O requests</li>
                                 </ul>
                              </li>
                              <li>Date and time when the quarantine configuration was created</li>
                              <li>Date and time when the quarantine configuration was last executed</li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FE44CF4D-C848-4FEA-BBD3-10D136F73C62__GUID-C0EC4284-3421-4A6A-AF0F-27F1841DE758">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/DBA_SQL_QUARANTINE.html#REFRN-GUID-ADAD10B6-04B3-44B6-B8E0-98C503D9EF61" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for details of the <code class="codeph">DBA_SQL_QUARANTINE</code> view
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-670BA87F-786A-4428-AE43-E6614BF175E1" name="GUID-670BA87F-786A-4428-AE43-E6614BF175E1"></a><h5 id="ADMIN-GUID-670BA87F-786A-4428-AE43-E6614BF175E1" class="sect5"><span class="enumeration_section">9.5.3.6 </span>Deleting a Quarantine Configuration
                     </h5>
                     <div>
                        <p>The unused quarantine configurations are automatically purged or deleted after 53 weeks. You can also delete a quarantine configuration using the <code class="codeph">DBMS_SQLQ.DROP_QUARANTINE</code> procedure. You can disable automatic deletion of a quarantine configuration using the <code class="codeph">DBMS_SQLQ.ALTER_QUARANTINE</code> procedure. 
                        </p>
                        <div class="section" id="GUID-670BA87F-786A-4428-AE43-E6614BF175E1__INCLUDINGASQLQUERYFORQUARANTINE-B7A803D0">
                           <p>The following example disables automatic deletion of the quarantine configuration <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>:
                           </p><pre class="pre codeblock"><code>BEGIN
    DBMS_SQLQ.ALTER_QUARANTINE(
       QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
       PARAMETER_NAME  =&gt; 'AUTOPURGE',
       PARAMETER_VALUE =&gt; 'NO');
END;
/</code></pre><p>The following example enables automatic deletion of the quarantine configuration <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>:
                           </p><pre class="pre codeblock"><code>BEGIN
    DBMS_SQLQ.ALTER_QUARANTINE(
       QUARANTINE_NAME =&gt; 'SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4',
       PARAMETER_NAME  =&gt; 'AUTOPURGE',
       PARAMETER_VALUE =&gt; 'YES');
END;
/</code></pre><p> The following example deletes the quarantine configuration <code class="codeph">SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4</code>:
                           </p><pre class="pre codeblock"><code>BEGIN
    DBMS_SQLQ.DROP_QUARANTINE('SQL_QUARANTINE_3z0mwuq3aqsm8cfe7a0e4');
END;
/</code></pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-670BA87F-786A-4428-AE43-E6614BF175E1__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-C07258CB-4706-4722-AE5B-85184173B70B" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_SQLQ</code> package subprograms
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F" name="GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F"></a><h5 id="ADMIN-GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F" class="sect5"><span class="enumeration_section">9.5.3.7 </span>Viewing the Details of Quarantined Execution Plans of SQL Statements
                     </h5>
                     <div>
                        <p>You can query the <code class="codeph">V$SQL</code> and <code class="codeph">GV$SQL</code> views to get details about the quarantined execution plans of SQL statements.
                        </p>
                        <div class="section">
                           <p>The following columns of the <code class="codeph">V$SQL</code> and <code class="codeph">GV$SQL</code> views show the quarantine information of execution plans of SQL statements:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">SQL_QUARANTINE</code>: This column shows the name of the quarantine configuration for an execution plan of a SQL statement.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">AVOIDED_EXECUTIONS</code>: This column shows the number of times an execution plan of a SQL statement was prevented from running after it was quarantined.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6A27A168-8A15-4F96-872B-9C45DC3C881F__GUID-D83962AA-410B-4912-811B-664263D82790">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/V-SQL.html#REFRN-GUID-2B9340D7-4AA8-4894-94C0-D5990F67BE75" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for details of the <code class="codeph">V$SQL</code> and <code class="codeph">GV$SQL</code> views
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7" name="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7"></a><h5 id="ADMIN-GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7" class="sect5"><span class="enumeration_section">9.5.3.8 </span>Transferring Quarantine Configurations from One Database to Another Database
                     </h5>
                     <div>
                        <p>You can transfer quarantine configurations from one database to another database using the <code class="codeph">DBMS_SQLQ</code> package subprograms &#x2013; <code class="codeph">CREATE_STGTAB_QUARANTINE</code>, <code class="codeph">PACK_STGTAB_QUARANTINE</code>, and <code class="codeph">UNPACK_STGTAB_QUARANTINE</code>.
                        </p>
                        <div class="section">
                           <p>For example, you may have tested the quarantine configurations on a <span class="italic">test</span> database and confirmed that they have performed well. You may then want to load these quarantine configurations into a <span class="italic">production</span> database.
                           </p>
                           <p>The following example describes the steps to transfer quarantine configurations from one database <span class="italic">(source database)</span> to another database <span class="italic">(destination database)</span> using the <code class="codeph">DBMS_SQLQ</code> package subprograms:
                           </p>
                           <ol id="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7__OL_WYT_WFZ_BGB">
                              <li>
                                 <p>Using SQL*Plus, connect to the source database as a user with the administrative privileges, and create a staging table using the <code class="codeph">DBMS_SQLQ.CREATE_STGTAB_QUARANTINE</code> procedure.
                                 </p>
                                 <p>The following example creates a staging table named <code class="codeph">TBL_STG_QUARANTINE</code>:
                                 </p><pre class="pre codeblock"><code>BEGIN
  DBMS_SQLQ.CREATE_STGTAB_QUARANTINE (
    staging_table_name =&gt; 'TBL_STG_QUARANTINE');
END;
/
</code></pre></li>
                              <li>
                                 <p>Add the quarantine configurations into the staging table, which you want to transfer to the destination database.</p>
                                 <p>The following example adds all the quarantine configurations starting with the name <code class="codeph">QUARANTINE_CONFIG_</code> into the staging table <code class="codeph">TBL_STG_QUARANTINE</code>:
                                 </p><pre class="pre codeblock"><code>DECLARE
  quarantine_configs NUMBER;
BEGIN
  quarantine_configs := DBMS_SQLQ.PACK_STGTAB_QUARANTINE(
                            staging_table_name =&gt; 'TBL_STG_QUARANTINE',
                            name =&gt; 'QUARANTINE_CONFIG_%');
END;
/</code></pre><p>The <code class="codeph">DBMS_SQLQ.PACK_STGTAB_QUARANTINE</code> function returns the number of quarantine configurations added to the staging table.
                                 </p>
                              </li>
                              <li>
                                 <p>Export the staging table <code class="codeph">TBL_STG_QUARANTINE</code> to a dump file using the Oracle Data Pump Export utility.
                                 </p>
                              </li>
                              <li>
                                 <p>Transfer the dump file from the source database system to the destination database system.</p>
                              </li>
                              <li>
                                 <p>On the destination database system, import the staging table <code class="codeph">TBL_STG_QUARANTINE</code> from the dump file into the destination database using the Oracle Data Pump Import utility.
                                 </p>
                              </li>
                              <li>
                                 <p>Using SQL*Plus, connect to the destination database as a user with the administrative privileges, and create the quarantine configurations from the imported staging table.</p>
                                 <p>The following example creates the quarantine configurations on the destination database based on all the quarantine configurations stored in the imported staging table <code class="codeph">TBL_STG_QUARANTINE</code>:
                                 </p><pre class="pre codeblock"><code>DECLARE
  quarantine_configs NUMBER;
BEGIN
  quarantine_configs := DBMS_SQLQ.UNPACK_STGTAB_QUARANTINE(
                            staging_table_name =&gt; 'TBL_STG_QUARANTINE');
END;
/</code></pre><p>The <code class="codeph">DBMS_SQLQ.UNPACK_STGTAB_QUARANTINE</code> function returns the number of quarantine configurations created in the destination database.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5A334611-8F4B-4294-B4A8-ECAB0F8669C7__GUID-B98F1E52-956F-4F62-AA81-A63A413C23CE">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_SQLQ.html#ARPLS-GUID-C07258CB-4706-4722-AE5B-85184173B70B" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_SQLQ</code> package subprograms
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6" name="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6"></a><h5 id="ADMIN-GUID-5E9499E1-AF15-465A-814F-110343AAEDF6" class="sect5"><span class="enumeration_section">9.5.3.9 </span>Example: Quarantine for an Execution Plan of a SQL Statement Consuming Excessive System Resources
                     </h5>
                     <div>
                        <p>This example shows how an execution plan of a SQL statement is quarantined when it exceeds a resource consumption limit configured using the Resource Manager.</p>
                        <div class="section">
                           <ol id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__OL_WYT_WFZ_BGB">
                              <li>
                                 <p>Using the Resource Manager, specify the execution time limit of 3 seconds for SQL statements executed by the user <code class="codeph">HR</code>.
                                 </p>
                                 <p>The following code performs these operations by creating a complex resource plan using the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package subprograms:
                                 </p>
                                 <ul style="list-style-type: disc;" id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__UL_A21_VQB_MGB">
                                    <li>creates a consumer group <code class="codeph">TEST_RUNAWAY_GROUP</code>.
                                    </li>
                                    <li>assigns the user <code class="codeph">HR</code> to the <code class="codeph">TEST_RUNAWAY_GROUP</code> consumer group.
                                    </li>
                                    <li>creates a resource plan <code class="codeph">LIMIT_RESOURCE</code> that terminates SQL statements when they exceed the execution time of 3 seconds.
                                    </li>
                                    <li>assigns the <code class="codeph">LIMIT_RESOURCE</code> resource plan to the <code class="codeph">TEST_RUNAWAY_GROUP</code> consumer group.
                                    </li>
                                 </ul><pre class="pre codeblock"><code>connect / as sysdba

begin

  -- Create a pending area
  dbms_resource_manager.create_pending_area();

  -- Create a consumer group 'TEST_RUNAWAY_GROUP'
  dbms_resource_manager.create_consumer_group (
    consumer_group =&gt; 'TEST_RUNAWAY_GROUP',
    comment        =&gt; 'This consumer group limits execution time for SQL statements'
  );

  -- Map the sessions of the user 'HR' to the consumer group 'TEST_RUNAWAY_GROUP' 
  dbms_resource_manager.set_consumer_group_mapping(
    attribute      =&gt; DBMS_RESOURCE_MANAGER.ORACLE_USER,
    value          =&gt; 'HR',
    consumer_group =&gt; 'TEST_RUNAWAY_GROUP'
  );

  -- Create a resource plan 'LIMIT_RESOURCE'
  dbms_resource_manager.create_plan(
    plan    =&gt; 'LIMIT_RESOURCE',
    comment =&gt; 'Terminate SQL statements after exceeding total execution time'
  );

  -- Create a resource plan directive by assigning the 'LIMIT_RESOURCE' plan to 
  -- the 'TEST_RUNAWAY_GROUP' consumer group
  -- Specify the execution time limit of 3 seconds for SQL statements belonging to 
  -- the 'TEST_RUNAWAY_GROUP' group
  dbms_resource_manager.create_plan_directive(
    plan             =&gt; 'LIMIT_RESOURCE',
    group_or_subplan =&gt; 'TEST_RUNAWAY_GROUP',
    comment          =&gt; 'Terminate SQL statements when they exceed the' || 
                        'execution time of 3 seconds',
    switch_group     =&gt; 'CANCEL_SQL',
    switch_time      =&gt; 3,
    switch_estimate  =&gt; false
  );

  -- Allocate resources to the sessions not covered by the currently active plan 
  -- according to the OTHER_GROUPS directive
  dbms_resource_Manager.create_plan_directive(
    plan              =&gt; 'LIMIT_RESOURCE',
    group_or_subplan  =&gt; 'OTHER_GROUPS',
    comment           =&gt; 'Ignore'
  );

  -- Validate and submit the pending area
  dbms_resource_manager.validate_pending_area();
  dbms_resource_manager.submit_pending_area();

  -- Grant switch privilege to the 'HR' user to switch to the 'TEST_RUNAWAY_GROUP' 
  -- consumer group
  dbms_resource_manager_privs.grant_switch_consumer_group('HR',
                                                          'TEST_RUNAWAY_GROUP',
                                                          false);
  
  -- Set the initial consumer group of the 'HR' user to 'TEST_RUNAWAY_GROUP'
  dbms_resource_manager.set_initial_consumer_group('HR',
                                                   'TEST_RUNAWAY_GROUP');

end;
/

-- Set the 'LIMIT_RESOURCE' plan as the top plan for the Resource Manager
alter system set RESOURCE_MANAGER_PLAN = 'LIMIT_RESOURCE' scope = memory;

-- Unlock the HR user and assign it the DBA role
alter user hr identified by <span class="italic">hr_user_password</span> account unlock;
grant dba to hr;

-- Flush the shared pool
alter system flush shared_pool;</code></pre></li>
                              <li>
                                 <p>Connect to the Oracle database as the <code class="codeph">HR</code> user and run the SQL statement that exceeds the execution time limit of 3 seconds:
                                 </p><pre class="pre codeblock"><code>select count(*)
from employees emp1, employees emp2,
     employees emp3, employees emp4,
     employees emp5, employees emp6, 
     employees emp7, employees emp8,
     employees emp9, employees emp10
where rownum &lt;= 100000000;</code></pre><p>The SQL statement is terminated by the Resource Manager as it exceeds the execution time limit of 3 seconds and the following error message is displayed:</p><pre class="pre codeblock"><code>ORA-00040: active time limit exceeded - call aborted</code></pre><p>The execution plan for the SQL statement is now added to the quarantine list, so that it is not allowed to run again.</p>
                              </li>
                              <li>
                                 <p>Run the SQL statement again.</p>
                                 <p>Now the SQL statement should terminate immediately with the following error message, because its execution plan is quarantined:</p><pre class="pre codeblock"><code>ORA-56955: quarantined plan used</code></pre></li>
                              <li>
                                 <p>View the details of the quarantined execution plan of the SQL statement by querying the <code class="codeph">v$sql</code> and <code class="codeph">dba_sql_quarantine</code> views.
                                 </p>
                                 <ul style="list-style-type: disc;" id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__UL_QLT_HNX_NGB">
                                    <li>
                                       <p>Query the <code class="codeph">v$sql</code> view. The <code class="codeph">v$sql</code> view contains information about various statistics of the SQL statements including the quarantine statistics.
                                       </p><pre class="pre codeblock"><code>select sql_text, plan_hash_value, avoided_executions, sql_quarantine 
from v$sql 
where sql_quarantine is not null;</code></pre><p>The output of this query is similar to the following:</p><pre class="pre codeblock"><code>
SQL_TEXT                               PLAN_HASH_VALUE   AVOIDED_EXECUTIONS   SQL_QUARANTINE
------------------------------------   ---------------   ------------------   ------------------------------------
select count(*)                        3719017987        1                    SQL_QUARANTINE_3uuhv1u5day0yf6ed7f0c
from employees emp1, employees emp2, 
     employees emp3, employees emp4, 
     employees emp5, employees emp6,
     employees emp7, employees emp8, 
     employees emp9, employees emp10
where rownum &lt;= 100000000;</code></pre><p>The <code class="codeph">sql_quarantine</code> column shows the auto-generated name for the quarantine configuration for the execution plan of the SQL statement.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Query the <code class="codeph">dba_sql_quarantine</code> view. The <code class="codeph">dba_sql_quarantine</code> view contains information about the quarantine configurations of execution plans of the SQL statements.
                                       </p><pre class="pre codeblock"><code>select sql_text, name, plan_hash_value, last_executed, enabled 
from dba_sql_quarantine;</code></pre><p>The output of this query is similar to the following:</p><pre class="pre codeblock"><code>
SQL_TEXT                               NAME                                   PLAN_HASH_VALUE   LAST_EXECUTED                  ENABLED
------------------------------------   ------------------------------------   ---------------   ----------------------------   -------
select count(*)                        SQL_QUARANTINE_3uuhv1u5day0yf6ed7f0c   3719017987        14-JAN-19 02.19.01.000000 AM   YES
from employees emp1, employees emp2, 
     employees emp3, employees emp4, 
     employees emp5, employees emp6,
     employees emp7, employees emp8, 
     employees emp9, employees emp10
where rownum &lt;= 100000000;</code></pre><p>The <code class="codeph">name</code> column shows the auto-generated name for the quarantine configuration for the execution plan of the SQL statement.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Clean up the example environment.</p>
                                 <p>The following code deletes all the database objects created for this example:</p><pre class="pre codeblock"><code>connect / as sysdba

begin
  for quarantineObj in (select name from dba_sql_quarantine) loop
    sys.dbms_sqlq.drop_quarantine(quarantineObj.name);
  end loop;
end;
/

alter system set RESOURCE_MANAGER_PLAN = '' scope = memory;

execute dbms_resource_manager.clear_pending_area();
execute dbms_resource_manager.create_pending_area();
execute dbms_resource_manager.delete_plan('LIMIT_RESOURCE');
execute dbms_resource_manager.delete_consumer_group('TEST_RUNAWAY_GROUP');
execute dbms_resource_manager.validate_pending_area();
execute dbms_resource_manager.submit_pending_area();</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__GUID-B98F1E52-956F-4F62-AA81-A63A413C23CE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-5E9499E1-AF15-465A-814F-110343AAEDF6__UL_HVX_QYJ_NGB">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a>"</span> for more information about creating a complex resource plan using the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package subprograms
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS-GUID-9876C289-99E4-416B-AB6F-D8318642053E" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package subprograms
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/V-SQL.html#REFRN-GUID-2B9340D7-4AA8-4894-94C0-D5990F67BE75" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$SQL</code> view
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>