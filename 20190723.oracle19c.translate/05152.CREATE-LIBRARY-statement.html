<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The CREATE LIBRARY statement creates a library, which is a schema object associated with an operating-system shared library."></meta>
      <meta name="description" content="The CREATE LIBRARY statement creates a library, which is a schema object associated with an operating-system shared library."></meta>
      <title>CREATE LIBRARY语句</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database PL/SQL Language Reference "></meta>
      <meta property="og:description" content="The CREATE LIBRARY statement creates a library, which is a schema object associated with an operating-system shared library."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database PL/SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96448-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-FUNCTION-statement.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-PACKAGE-statement.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="LNPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-FUNCTION-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-PACKAGE-statement.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-statements-for-stored-plsql-units.html" property="item" typeof="WebPage"><span property="name">存储的PL / SQL单元的SQL语句</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE LIBRARY语句</li>
            </ol>
            <a id="GUID-869376E5-013B-4853-8278-0133C97BB233" name="GUID-869376E5-013B-4853-8278-0133C97BB233"></a><a id="LNPLS1949"></a><a id="LNPLS2179"></a><a id="LNPLS1950"></a><a id="LNPLS1951"></a><a id="LNPLS1952"></a><a id="LNPLS1953"></a><a id="LNPLS1954"></a><a id="LNPLS1955"></a><a id="LNPLS1956"></a><a id="LNPLS1957"></a><a id="LNPLS1958"></a><a id="LNPLS1959"></a><a id="LNPLS1960"></a><a id="LNPLS99948"></a>
            
            <h2 id="LNPLS-GUID-869376E5-013B-4853-8278-0133C97BB233" class="sect2"><span class="enumeration_section">14.8</span> CREATE LIBRARY语句</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>语句创建一个<span class="bold">库</span> ，该<span class="bold">库</span>是与操作系统共享库关联的模式对象。
               </p>
               <div class="section">
                  <div class="infoboxnote" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-198801F7-957A-4588-BF7A-77FC1BF4D3A5">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>语句仅在支持共享库和动态链接的平台上有效。
                     </p>
                  </div>
                  <p>有关创建操作系统共享库或DLL的说明，请参阅“ <a href="../adfns/external-procedures.html#ADFNS1404" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
                  <p>您可以在<code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code>或<code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>语句的<span class="italic"><code class="codeph">call_spec</code></span>中使用库模式对象的名称，或者在包或类型中声明函数或过程时使用，以便SQL和PL / SQL可以调用第三代语言（3GL） ）功能和程序。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-A65AF7A5-3A1D-4290-B84C-188804A897CE">话题</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="CREATE-LIBRARY-statement.html#GUID-869376E5-013B-4853-8278-0133C97BB233__BABHFIBH">先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-LIBRARY-statement.html#GUID-869376E5-013B-4853-8278-0133C97BB233__BABJFDBG">句法</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-LIBRARY-statement.html#GUID-869376E5-013B-4853-8278-0133C97BB233__BABGBGAE">语义</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-LIBRARY-statement.html#GUID-869376E5-013B-4853-8278-0133C97BB233__BABIDJHG">例子</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-LIBRARY-statement.html#GUID-869376E5-013B-4853-8278-0133C97BB233__BABBHJAA">相关话题</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-869376E5-013B-4853-8278-0133C97BB233__BABHFIBH">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-45412018-F3EA-498B-942B-198AE8FD5788">先决条件</p>
                  <p>要在架构中创建库，您必须具有<code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>系统特权。要在另一个用户的模式中创建库，您必须具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">LIBRARY</code>系统特权。
                  </p>
                  <p>要创建与目录对象中的DLL关联的库，您必须对目录对象具有<code class="codeph">EXECUTE</code>对象特权。
                  </p>
                  <p>要创建与凭据名称关联的库，您必须具有凭据名称的<code class="codeph">EXECUTE</code>对象特权。
                  </p>
                  <p>要在<code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code>语句的<span class="italic"><code class="codeph">call_spec</code></span>中使用库，或者在声明包或类型中的函数时，必须具有库的<code class="codeph">EXECUTE</code>对象特权和<code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code>系统特权。
                  </p>
                  <p>要在<code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>语句的<span class="italic"><code class="codeph">call_spec</code></span>中使用库，或者在声明包或类型中的过程时，必须具有库的<code class="codeph">EXECUTE</code>对象特权和<code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>系统特权。
                  </p>
                  <p>要执行使用<span class="italic"><code class="codeph">call_spec</code></span>定义的过程或函数（包括在包或类型中定义的过程或函数），您必须对过程或函数具有<code class="codeph">EXECUTE</code>对象特权（但您不需要对库具有<code class="codeph">EXECUTE</code>对象特权） 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-869376E5-013B-4853-8278-0133C97BB233__BABJFDBG">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-EC9522E5-6B61-4716-B1AA-505B5356FA23">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-71DE6741-1D71-4AAC-905F-5F36D88F8DE6"><span class="italic">create_library</span> :: =</p>
                  <div class="figure" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-590ADDC2-DB1C-4981-8999-F1A6321FDCB9"><img src="img/create_library.gif" alt="下面是create_library.eps的描述" title="下面是create_library.eps的描述" longdesc="img_text/create_library.html"><br><a href="img_text/create_library.html">插图描述create_library.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-ACB050D7-82FE-40E7-867A-DEFE575120FA"><span class="italic">plsql_library_source</span> :: =</p>
                  <div class="figure" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-E4E7D23D-B53D-401A-800B-6CFAD7DE8231"><img src="img/plsql_library_source.gif" alt="下面是plsql_library_source.eps的描述" title="下面是plsql_library_source.eps的描述" longdesc="img_text/plsql_library_source.html"><br><a href="img_text/plsql_library_source.html">插图描述plsql_library_source.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="SHARING-clause.html#GUID-3C830338-8B7E-43C0-9EA0-4E292AA1A97B__SHARING_CLAUSE-5ADB7CDA">sharing_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-869376E5-013B-4853-8278-0133C97BB233__BABGBGAE">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-6E019541-3336-409A-89C5-AD35BE5F38C4">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-D2B1508E-432C-4A1D-B8C2-DD394D0FF664"><span class="italic">create_library</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">或替换</span></p>
                  <p>如果库存在，则重新创建库，然后重新编译它。</p>
                  <p>在重新定义库之前被授予权限的用户仍然可以访问它而无需重新授予权限。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[版权所有|不可挽回的]</span></p>
                  <p>指定库是否为editioned或noneditioned对象，如果editioning为架构对象类型启用<code class="codeph">LIBRARY</code>的<span class="italic"><code class="codeph">schema</code></span> 。<span class="bold">默认值：</span> <code class="codeph">EDITIONABLE</code> 。有关已编辑和未编辑的对象的信息，请参见“ <a href="../adfns/editions.html#ADFNS99923" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-31B46FB2-C058-43AF-ADE8-392F3FFAC1A6"><span class="italic">plsql_library_source</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>包含库的架构的名称。<span class="bold">默认值：</span>您的架构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">LIBRARY_NAME</span></span></p>
                  <p>当用户使用<span class="italic"><code class="codeph">call_spec</code></span>声明函数或过程时，表示此库的名称。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">' <span class="italic">full_path_name</span> '</span></p>
                  <p>字符串文字用单引号括起来，操作系统将其值视为共享库的完整路径名。</p>
                  <p>在执行<code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>语句期间不解释<span class="italic"><code class="codeph">full_path_name</code></span> 。当有人调用其中一个子程序时，将检查共享库的存在。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">' <span class="italic">file_name'IN</span> <span class="italic">directory_object</span></span></p>
                  <p><span class="italic"><code class="codeph">file_name</code></span>是用单引号括起来的字符串文字，其值是<span class="italic"><code class="codeph">directory_object</code></span>动态链接库（DLL）的名称。字符串文字不能超过2,000个字节，并且不能包含路径分隔符。编译器忽略<span class="italic"><code class="codeph">file_name</code></span> ，但在运行时，将检查<span class="italic"><code class="codeph">file_name</code></span>的路径分隔符。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic"><code class="codeph">directory_object</code></span></span></p>
                  <p><span class="italic"><code class="codeph">directory_object</code></span>是一个目录对象，使用<code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code>语句创建（在<a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span class="italic">Oracle数据库SQL语言参考中</span></a>描述）。如果<span class="italic"><code class="codeph">directory_object</code></span>不存在或者您对<span class="italic"><code class="codeph">directory_object</code></span>没有<code class="codeph">EXECUTE</code>对象特权，则会创建包含错误的库。如果随后创建了<span class="italic"><code class="codeph">directory_object</code></span> ，则库变为无效。库可能变为无效的其他原因是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">directory_object</code></span>被删除。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">directory_object</code></span>变为无效。
                        </p>
                     </li>
                     <li>
                        <p>您的<span class="italic"><code class="codeph">directory_object</code></span>上的<code class="codeph">EXECUTE</code>对象权限已被撤销。
                        </p>
                     </li>
                  </ul>
                  <p>如果在具有预定义<code class="codeph">PATH_PREFIX</code>的PDB中创建库对象，则库必须使用目录对象。目录对象将强制执行库对象的<code class="codeph">PATH_PREFIX</code>规则。如果未在库对象中使用目录对象，则会引发编译错误。
                  </p>
                  <p>如果数据库作为具有预定义<code class="codeph">PATH_PREFIX</code>的PDB插入CDB，则尝试使用不使用目录对象的库对象会导致ORA-65394错误。库对象不会失效，但要使其可用，必须使用目录对象重新创建它。有关CDB管理的详细信息，请参阅“ <a href="../multi/administering-a-cdb-with-sql-plus.html#MULTI-GUID-375E10F7-BCC4-4365-B1BD-DB87EF3ECCC3" target="_blank"><span class="italic">Oracle Multitenant管理员指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">代理' <span class="italic">agent_dblink</span> '</span></p>
                  <p>导致外部过程从服务器以外的数据库链接运行。Oracle数据库使用<span class="italic"><code class="codeph">agent_dblink</code></span>指定的数据库链接来运行外部过程。如果省略此子句，则服务器上的默认代理（ <code class="codeph">extproc</code> ）将运行外部过程。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">CREDENTIAL [ <span class="italic">schema</span> 。] <span class="italic">credential_name</span></span></p>
                  <p>指定<code class="codeph">extproc</code>代理在运行指定库的外部子程序时模拟的操作系统用户的凭据。<span class="bold">默认值：</span> Oracle数据库安装的所有者。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">credential_name</code></span>不存在或您对<span class="italic"><code class="codeph">credential_name</code></span>没有<code class="codeph">EXECUTE</code>对象特权，则会创建包含错误的库。如果随后创建了<span class="italic"><code class="codeph">credential_name</code></span> ，则库将变为无效。库可能变为无效的其他原因是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">credential_name</code></span>被删除。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">credential_name</code></span>变为无效。
                        </p>
                     </li>
                     <li>
                        <p>您的<span class="italic"><code class="codeph">credential_name</code></span>名称的<code class="codeph">EXECUTE</code>对象权限已被撤销。
                        </p>
                     </li>
                  </ul>
                  <p>有关使用凭据的信息，请参见“ <a href="../dbseg/managing-security-for-application-developers.html#DBSEG755" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-869376E5-013B-4853-8278-0133C97BB233__BABIDJHG">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-FDCBE98B-9EF0-4C0F-9F5B-C641234425CE">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-869376E5-013B-4853-8278-0133C97BB233__BABEEEDD">
                  <p class="titleinexample">示例14-17创建库</p>
                  <p>以下语句使用目录对象创建库<code class="codeph">ext_lib</code> ：</p><pre class="oac_no_warn" dir="ltr">创建库ext_lib AS'ddl_1'IN ddl_dir; /</pre><p>以下语句使用目录对象和凭证重新创建库<code class="codeph">ext_lib</code> ：</p><pre class="oac_no_warn" dir="ltr">在ddl_dir CREDENTIAL中创建或替换库ext_lib AS'ddl_1'ddl_cred; /</pre><p>以下语句使用显式路径创建库<code class="codeph">ext_lib</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE LIBRARY \ text_lib AS'/OR/lib/ext_lib.so'; /</pre><p>以下语句使用显式路径重新创建库<code class="codeph">ext_lib</code> ：</p><pre class="oac_no_warn" dir="ltr">创建或替换库ext_lib IS'/OR/newlib/ext_lib.so'; /</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-03B25481-1B90-4A4A-BA90-61C5B7247255">
                  <p class="titleinexample">示例14-18指定外部过程代理</p>
                  <p>以下示例创建库<code class="codeph">app_lib</code> （使用显式路径）并指定从公共数据库<code class="codeph">sales.hq.example.com</code>运行外部过程：</p><pre class="oac_no_warn" dir="ltr">创建LIBRARY app_lib为'$ {ORACLE_HOME} /lib/app_lib.so'AGENT'sales.hq.example.com'; /</pre><div class="infoboxnotealso" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-FB375D78-E8D0-4C79-AAD0-0FD8472A33BE">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建数据库链接的信息，请<a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF01205" target="_blank"><span class="italic">参见“Oracle数据库SQL语言</span></a></p>
                  </div>
               </div>
               <!-- class="example" -->
               <div class="section" id="GUID-869376E5-013B-4853-8278-0133C97BB233__BABBHJAA">
                  <p class="subhead1" id="GUID-869376E5-013B-4853-8278-0133C97BB233__GUID-727451DE-0FCA-4766-811D-508DE2178A8F">相关话题</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="ALTER-LIBRARY-statement.html#GUID-8F479CDD-5D74-48C6-9508-6AA19B210627" title="ALTER LIBRARY语句显式重新编译库。">ALTER LIBRARY声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="DROP-LIBRARY-statement.html#GUID-F892A88E-DCEE-4FB7-9FF9-57B449172F8C" title="DROP LIBRARY语句从数据库中删除外部过程库。">DROP LIBRARY声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="CREATE-FUNCTION-statement.html#GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2" title="CREATE FUNCTION语句创建或替换独立函数或调用规范。">创造功能声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="CREATE-PROCEDURE-statement.html#GUID-5F84DB47-B5BE-4292-848F-756BF365EC54" title="CREATE PROCEDURE语句创建或替换独立过程或调用规范。">CREATE PROCEDURE声明</a> ”</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>