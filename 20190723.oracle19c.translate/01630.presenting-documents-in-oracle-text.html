<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Text provides various methods for presenting documents in results for query applications."></meta>
      <meta name="description" content="Oracle Text provides various methods for presenting documents in results for query applications."></meta>
      <title>在Oracle Text中呈现文档</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Application Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle Text provides various methods for presenting documents in results for query applications."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Application Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96275-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="working-with-CONTEXT-and-CTXCAT-grammars-in-oracle-text.html" title="Previous" type="text/html"></link>
      <link rel="next" href="classifying-documents-in-oracle-text.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="CCAPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="working-with-CONTEXT-and-CTXCAT-grammars-in-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="classifying-documents-in-oracle-text.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在Oracle Text中呈现文档</li>
            </ol>
            <a id="GUID-F4081D3C-0057-4C55-A178-D8608704699F" name="GUID-F4081D3C-0057-4C55-A178-D8608704699F"></a><a id="CCAPP0700"></a>
            
            <h2 id="CCAPP-GUID-F4081D3C-0057-4C55-A178-D8608704699F" class="sect2"><span class="enumeration_chapter">8</span>在Oracle Text中呈现文档</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Text提供了各种方法，用于在查询应用程序的结果中显示文档。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="presenting-documents-in-oracle-text.html#GUID-30DA7E8C-A718-4F17-AFC1-286B208C5E86">突出显示查询条款</a></p>
                  </li>
                  <li>
                     <p><a href="presenting-documents-in-oracle-text.html#GUID-CFB27531-DF84-4E28-9D19-BDC148B0F6C5">获取文档的词性信息</a></p>
                  </li>
                  <li>
                     <p><a href="presenting-documents-in-oracle-text.html#GUID-7E4094C7-2835-400E-B13D-830D39C4C8AD">获取主题，Gists和主题摘要列表</a></p>
                  </li>
                  <li>
                     <p><a href="presenting-documents-in-oracle-text.html#GUID-9D0E630D-8AA7-4DCD-9D99-10BB71E76B7A">文件介绍和突出显示</a></p>
                  </li>
               </ul>
            </div><a id="CCAPP9192"></a><div class="props_rev_3"><a id="GUID-30DA7E8C-A718-4F17-AFC1-286B208C5E86" name="GUID-30DA7E8C-A718-4F17-AFC1-286B208C5E86"></a><h3 id="CCAPP-GUID-30DA7E8C-A718-4F17-AFC1-286B208C5E86" class="sect3"><span class="enumeration_section">8.1</span>突出显示查询条款</h3>
               <div>
                  <p>在文本查询应用程序中，您可以显示所选文档，其中突出显示用于文本查询的查询词语或突出显示<code class="codeph">ABOUT</code>查询的主题。
                  </p>
                  <p>您可以生成与突出显示相关的三种输出类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>该文档的标记版本</p>
                     </li>
                     <li>
                        <p>查询文档的偏移量信息</p>
                     </li>
                     <li>
                        <p>文档的一致性，其中查询术语的出现与其周围文本一起返回</p>
                     </li>
                  </ul>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="presenting-documents-in-oracle-text.html#GUID-920CB350-7264-4D83-8CC7-4E277F4E3EEA">文字突出显示</a></p>
                     </li>
                     <li>
                        <p><a href="presenting-documents-in-oracle-text.html#GUID-29EA1AE1-6E73-4906-930B-51DEB794D00B">主题突出显示</a></p>
                     </li>
                     <li>
                        <p><a href="presenting-documents-in-oracle-text.html#GUID-7095CF02-8B41-4F0E-ADBA-19D3E8D49BF9">CTX_DOC突出显示程序</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9193"></a><div class="props_rev_3"><a id="GUID-920CB350-7264-4D83-8CC7-4E277F4E3EEA" name="GUID-920CB350-7264-4D83-8CC7-4E277F4E3EEA"></a><h4 id="CCAPP-GUID-920CB350-7264-4D83-8CC7-4E277F4E3EEA" class="sect4"><span class="enumeration_section">8.1.1</span>文本突出显示</h4>
                  <div>
                     <p>对于文本突出显示，您提供查询，Oracle Text突出显示满足查询的文档中的单词。您可以获得纯文本或HTML突出显示。</p>
                  </div>
               </div><a id="CCAPP9194"></a><div class="props_rev_3"><a id="GUID-29EA1AE1-6E73-4906-930B-51DEB794D00B" name="GUID-29EA1AE1-6E73-4906-930B-51DEB794D00B"></a><h4 id="CCAPP-GUID-29EA1AE1-6E73-4906-930B-51DEB794D00B" class="sect4"><span class="enumeration_section">8.1.2</span>主题突出显示</h4>
                  <div>
                     <p>对于<code class="codeph">ABOUT</code>查询， <code class="codeph">CTX_DOC</code>过程突出显示并标记最能代表<code class="codeph">ABOUT</code>查询的单词或短语。
                     </p>
                  </div>
               </div><a id="CCAPP9195"></a><div class="props_rev_3"><a id="GUID-7095CF02-8B41-4F0E-ADBA-19D3E8D49BF9" name="GUID-7095CF02-8B41-4F0E-ADBA-19D3E8D49BF9"></a><h4 id="CCAPP-GUID-7095CF02-8B41-4F0E-ADBA-19D3E8D49BF9" class="sect4"><span class="enumeration_section">8.1.3</span> CTX_DOC突出显示程序</h4>
                  <div>
                     <p>这些是<code class="codeph">CTX_DOC</code>中的突出显示程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.MARKUP</code>和<code class="codeph">CTX_DOC.POLICY_MARKUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.HIGHLIGHT</code>和<code class="codeph">CTX_DOC.POLICY_HIGHLIGHT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SNIPPET</code>和<code class="codeph">CTX_DOC.POLICY_SNIPPET</code></p>
                        </li>
                     </ul>
                     <p>除了<code class="codeph">POLICY</code>版本不需要索引之外，这些过程的<code class="codeph">POLICY</code>和非<code class="codeph">POLICY</code>版本是等效的。
                     </p>
                     <div class="infoboxnote" id="GUID-7095CF02-8B41-4F0E-ADBA-19D3E8D49BF9__GUID-DF207712-80FE-4069-91E5-617A4B52693C">
                        <p class="notep1">注意：</p>
                        <p>也可以使用结果集界面生成<code class="codeph">SNIPPET</code> 。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7095CF02-8B41-4F0E-ADBA-19D3E8D49BF9__GUID-EFFF5C1D-5B73-4772-BAE1-5D35B650B6FE">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">CTX_QUERY.RESULT_SET</code>信息，请<code class="codeph">CTX_QUERY.RESULT_SET</code> <a href="../ccref/CTX_QUERY-package.html#CCREF24104" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                     </div>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="presenting-documents-in-oracle-text.html#GUID-C1856378-9769-4D5A-8839-5699EC0D6F94">标记过程</a></p>
                        </li>
                        <li>
                           <p><a href="presenting-documents-in-oracle-text.html#GUID-909E8E44-5B0F-4FC2-8685-38DEAA4E0C1D">突出程序</a></p>
                        </li>
                        <li>
                           <p><a href="presenting-documents-in-oracle-text.html#GUID-EB1024E5-7E65-43D9-9878-A4DF4F324D2B">和谐</a></p>
                        </li>
                     </ul>
                  </div><a id="CCAPP9687"></a><a id="CCAPP9196"></a><div class="props_rev_3"><a id="GUID-C1856378-9769-4D5A-8839-5699EC0D6F94" name="GUID-C1856378-9769-4D5A-8839-5699EC0D6F94"></a><h5 id="CCAPP-GUID-C1856378-9769-4D5A-8839-5699EC0D6F94" class="sect5"><span class="enumeration_section">8.1.3.1</span>标记过程</h5>
                     <div>
                        <p><code class="codeph">CTX_DOC.MARKUP</code>和<code class="codeph">CTX_DOC.POLICY_MARKUP</code>过程采用文档引用和查询，并返回文档的标记版本。输出可以是标记的纯文本或标记的HTML。例如，指定返回带有尖括号（ <span class="italic">&lt;&lt;&lt; tansu &gt;&gt;&gt;</span> ）或HTML（ <span class="italic">&lt;b&gt; tansu &lt;/ b&gt;</span> ）的查询词的标记文档。
                        </p>
                        <p>除了<code class="codeph">CTX_DOC.POLICY_MARKUP</code>不需要索引外， <code class="codeph">CTX_DOC.MARKUP</code>和<code class="codeph">CTX_DOC.POLICY_MARKUP</code>是等效的。
                        </p>
                        <p>您可以自定义HTML导航的标记序列。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-C1856378-9769-4D5A-8839-5699EC0D6F94__GUID-B00E7180-791E-4F70-B3B1-11518640BDEB">CTX_DOC.MARKUP示例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例取自<a href="CONTEXT-query-application.html#GUID-1F1B44E8-ACCA-446A-84EA-67FA692476BA">上下文查询应用</a>程序中描述的Web应用<a href="CONTEXT-query-application.html#GUID-1F1B44E8-ACCA-446A-84EA-67FA692476BA">程序</a> 。<code class="codeph">showDoc</code>过程采用HTML文档和查询，创建高亮标记 - 在这种情况下，查询术语以红色显示 - 并将结果输出到内存缓冲区。然后使用htp.print在浏览器中显示它。
                           </p><pre class="oac_no_warn" dir="ltr">过程showDoc（varchar2中的p_id，varchar2中的p_query）是v_clob_selected CLOB; v_read_amount整数; v_read_offset整数; v_buffer varchar2（32767）; v_query varchar（2000）; v_cursor整数;开始htp.p（'&lt;html&gt; &lt;title&gt;带有突出显示的术语&lt;/ title&gt;'的HTML版本）; htp.p（'&lt;body bgcolor =“＃ffffff”&gt;'）; htp.p（'&lt;b&gt;带有突出显示的术语的HTML版本&lt;/ b&gt;'）;开始ctx_doc.markup（index_name =&gt;'idx_search_table'，textkey =&gt; p_id，text_query =&gt; p_query，restab =&gt; v_clob_selected，starttag =&gt;'&lt;i&gt; &lt;font color = red&gt;'，endtag =&gt;'&lt;/ font&gt; &lt;/ i&gt;的'）; v_read_amount：= 32767; v_read_offset：= 1; begin loop dbms_lob.read（v_clob_selected，v_read_amount，v_read_offset，v_buffer）; htp.print（v_buffer）; v_read_offset：= v_read_offset + v_read_amount; v_read_amount：= 32767;结束循环;当no_data_found为null时异常;结束;当别人为空时的异常; --showHTMLdoc（P_ID）;结束;结束showDoc;结束; / show errors set define on</pre><div class="infoboxnotealso" id="GUID-C1856378-9769-4D5A-8839-5699EC0D6F94__GUID-E636A4FA-74C5-4A9A-810A-116FA8CBFD67">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">CTX_DOC.MARKUP</code>和<code class="codeph">CTX_DOC.POLICY_SNIPPET</code>详细信息，请<code class="codeph">CTX_DOC.MARKUP</code> <a href="../ccref/CTX_DOC-package.html#CCREF0710" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9198"></a><div class="props_rev_3"><a id="GUID-909E8E44-5B0F-4FC2-8685-38DEAA4E0C1D" name="GUID-909E8E44-5B0F-4FC2-8685-38DEAA4E0C1D"></a><h5 id="CCAPP-GUID-909E8E44-5B0F-4FC2-8685-38DEAA4E0C1D" class="sect5"><span class="enumeration_section">8.1.3.2</span>突出显示程序</h5>
                     <div>
                        <p><code class="codeph">CTX_DOC.HIGHLIGHT</code>和<code class="codeph">CTX_DOC.POLICY_HIGHLIGHT</code>获取查询和文档，并以纯文本或HTML格式返回查询的偏移量信息。您可以使用此偏移信息编写自己的自定义例程来显示文档。
                        </p>
                        <p>除了<code class="codeph">CTX_DOC.POLICY_HIGHLIGHT</code>不需要索引外， <code class="codeph">CTX_DOC.HIGHLIGHT</code>和<code class="codeph">CTX_DOC.POLICY_HIGHLIGHT</code>是等效的。
                        </p>
                        <p>使用偏移信息，您可以显示文档的突出显示版本（例如不同的字体类型或颜色），而不是从<code class="codeph">CTX_DOC.MARKUP.</code>获得的标准纯文本标记<code class="codeph">CTX_DOC.MARKUP.</code></p>
                        <div class="infoboxnotealso" id="GUID-909E8E44-5B0F-4FC2-8685-38DEAA4E0C1D__GUID-DD4FF4F5-B97F-4113-8969-828420605B9C">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用<code class="codeph">CTX_DOC.HIGHLIGHT</code>和<code class="codeph">CTX_DOC.POLICY_HIGHLIGHT</code>更多信息，请<code class="codeph">CTX_DOC.POLICY_HIGHLIGHT</code> <a href="../ccref/CTX_DOC-package.html#CCREF0706" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                        </div>
                     </div>
                  </div><a id="CCAPP9199"></a><div class="props_rev_3"><a id="GUID-EB1024E5-7E65-43D9-9878-A4DF4F324D2B" name="GUID-EB1024E5-7E65-43D9-9878-A4DF4F324D2B"></a><h5 id="CCAPP-GUID-EB1024E5-7E65-43D9-9878-A4DF4F324D2B" class="sect5"><span class="enumeration_section">8.1.3.3</span>一致性</h5>
                     <div>
                        <p><code class="codeph">CTX_DOC.SNIPPET</code>和<code class="codeph">CTX_DOC.POLICY_SNIPPET</code>生成文档的<span class="italic">一致性</span> ，其中查询术语的出现与其周围文本一起返回。此结果有时称为上下文中的关键字（KWIC），因为它不是返回整个文档（有或没有突出显示查询词），而是返回文本片段中的查询词，允许用户在上下文中查看它。您可以控制在返回的片段中突出显示查询字词的方式。
                        </p>
                        <p>除了<code class="codeph">CTX_DOC.POLICY_SNIPPET</code>不需要索引外， <code class="codeph">CTX_DOC.SNIPPET</code>和<code class="codeph">CTX_DOC.POLICY_SNIPPET</code>是等效的。<code class="codeph">CTX_DOC.POLICY_SNIPPET</code>和<code class="codeph">CTX_DOC.SNIPPET</code>包括两个新属性： <code class="codeph">radius</code>指定每个段的近似所需长度，而<code class="codeph">max_length</code>则为所有段总和的长度上限。
                        </p>
                        <div class="infoboxnotealso" id="GUID-EB1024E5-7E65-43D9-9878-A4DF4F324D2B__GUID-83FA341B-6DAD-4F16-9328-E4068AB4A1D1">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">CTX_DOC.SNIPPET</code>和<code class="codeph">CTX_DOC.POLICY_SNIPPET</code>详细信息，请<code class="codeph">CTX_DOC.SNIPPET</code> <a href="../ccref/CTX_DOC-package.html#CCREF0702" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="CCAPP9661"></a><div class="props_rev_3"><a id="GUID-CFB27531-DF84-4E28-9D19-BDC148B0F6C5" name="GUID-CFB27531-DF84-4E28-9D19-BDC148B0F6C5"></a><h3 id="CCAPP-GUID-CFB27531-DF84-4E28-9D19-BDC148B0F6C5" class="sect3"><span class="enumeration_section">8.2</span>获取文档的词性信息</h3>
               <div>
                  <p><code class="codeph">CTX_DOC</code>包中包含创建用于获取给定文档的词性信息的策略的过程。这种方法下所述<code class="codeph">POLICY_NOUN_PHRASES</code>中<a href="../ccref/CTX_DOC-package.html#CCREF99027" target="_blank"><span class="italic">的Oracle Text参考</span></a>和<code class="codeph">POLICY_PART_OF_SPEECH</code>中<a href="../ccref/CTX_DOC-package.html#CCREF99028" target="_blank"><span class="italic">的Oracle Text参考</span></a> 。
                  </p>
               </div>
            </div><a id="CCAPP9506"></a><a id="CCAPP9200"></a><div class="props_rev_3"><a id="GUID-7E4094C7-2835-400E-B13D-830D39C4C8AD" name="GUID-7E4094C7-2835-400E-B13D-830D39C4C8AD"></a><h3 id="CCAPP-GUID-7E4094C7-2835-400E-B13D-830D39C4C8AD" class="sect3"><span class="enumeration_section">8.3</span>获取主题，要点和主题摘要列表</h3>
               <div>
                  <p>下表描述了主题，要点和主题摘要的列表。</p>
                  <div class="tblformal" id="GUID-7E4094C7-2835-400E-B13D-830D39C4C8AD__GUID-15B3D69D-549C-406A-8374-04018B255DEB">
                     <p class="titleintable">表8-1主题，列表和主题摘要列表</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="主题，要点和主题摘要列表" width="100%" border="1" summary="This table describes lists of themes, gists, and theme summaries." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d21685e967">输出类型</th>
                              <th align="left" valign="bottom" width="79%" id="d21685e970">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d21685e975" headers="d21685e967 ">
                                 <p>主题列表<a id="d21685e978" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="79%" headers="d21685e975 d21685e970 ">
                                 <p>文档主要概念列表。</p>
                                 <p>每个主题都是单个单词，单个短语或父主题的分层列表。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d21685e988" headers="d21685e967 ">
                                 <p>要旨<a id="d21685e991" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="79%" headers="d21685e988 d21685e970 ">
                                 <p>文档中的文本最能代表文档的整体内容。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d21685e999" headers="d21685e967 ">
                                 <p>主题摘要<a id="d21685e1002" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="79%" headers="d21685e999 d21685e970 ">
                                 <p>文档中的文本最能代表文档中的给定主题。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>要获取主题，要点和主题摘要的列表，请使用<code class="codeph">CTX_DOC</code>包中的过程：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>除主键外，还通过<code class="codeph">ROWID</code>识别文档</p>
                     </li>
                     <li>
                        <p>将结果存储在内存中以提高性能</p>
                     </li>
                  </ul>
               </div><a id="CCAPP9201"></a><div class="props_rev_3"><a id="GUID-72BF3726-37E0-4AE2-8A24-6D329913FD13" name="GUID-72BF3726-37E0-4AE2-8A24-6D329913FD13"></a><h4 id="CCAPP-GUID-72BF3726-37E0-4AE2-8A24-6D329913FD13" class="sect4"><span class="enumeration_section">8.3.1</span>主题列表</h4>
                  <div>
                     <p>主题列表是文档中的主要概念列表。使用<code class="codeph">CTX_DOC.THEMES</code>过程生成主题列表。
                     </p>
                     <div class="infoboxnotealso" id="GUID-72BF3726-37E0-4AE2-8A24-6D329913FD13__GUID-7D0F6ABF-96CF-42E9-9F6A-AEFB188F5783">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ccref/CTX_DOC-package.html#CCREF0716" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关<code class="codeph">CTX_DOC.THEMES</code>命令语法的更多信息</p>
                     </div>
                     <p>以下内存中的主题示例为文档1生成前10个主题，并将它们存储在名为<code class="codeph">the_themes.</code>的内存表中<code class="codeph">the_themes.</code> 然后，该示例循环遍历表以显示文档主题。
                     </p><pre class="oac_no_warn" dir="ltr">声明the_themes ctx_doc.theme_tab;开始ctx_doc.themes（'myindex'，'1'，the_themes，numthemes =&gt; 10）; for in in 1..the_themes.count loop dbms_output.put_line（the_themes（i）.theme ||'：'|| the_themes（i）.weight）;结束循环;结束;</pre><p>以下示例创建结果表主题：</p><pre class="oac_no_warn" dir="ltr">create table ctx_themes（query_id number，theme varchar2（2000），weight number）;</pre><p>在这个例子中，你<a id="d21685e1119" class="indexterm-anchor"></a>获取主题列表，其中列表中的每个元素都是一个主题：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.themes（'newsindex'，'34'，'CTX_THEMES'，1，full_themes =&gt; FALSE）;结束;</pre><p>在这个例子中，你<a id="d21685e1128" class="indexterm-anchor"></a>获取主题列表，其中列表中的每个元素都是父主题的分层列表：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.themes（'newsindex'，'34'，'CTX_THEMES'，1，full_themes =&gt; TRUE）;结束;</pre></div>
               </div><a id="CCAPP9206"></a><div class="props_rev_3"><a id="GUID-0A39D418-0955-470B-9CC1-1CD4B054B8F6" name="GUID-0A39D418-0955-470B-9CC1-1CD4B054B8F6"></a><h4 id="CCAPP-GUID-0A39D418-0955-470B-9CC1-1CD4B054B8F6" class="sect4"><span class="enumeration_section">8.3.2</span>要点和主题总结</h4>
                  <div>
                     <p>要点是文档中的文本，它最能代表文档的整体内容。主题摘要是文档中最能代表文档中单个主题的文本。</p>
                     <p>使用<code class="codeph">CTX_DOC.GIST</code>过程生成<code class="codeph">CTX_DOC.GIST</code>和主题摘要。调用过程时，可以指定要点或主题摘要的大小。
                     </p>
                     <div class="infoboxnotealso" id="GUID-0A39D418-0955-470B-9CC1-1CD4B054B8F6__GUID-BDBD8701-7213-47E9-B3E2-1004F6D43F63">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ccref/CTX_DOC-package.html#CCREF0704" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解<code class="codeph">CTX_DOC.GIST</code>的命令语法</p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-0A39D418-0955-470B-9CC1-1CD4B054B8F6__GUID-B3CA5A6B-9BDB-4712-8076-A3769DE94D25">内存中的要点示例</p>
                        <p>以下示例生成最多10个段落的非默认大小通用要点。结果存储在<code class="codeph">CLOB</code>定位器的内存中。然后代码在使用它之后取消分配返回的<code class="codeph">CLOB</code>定位符。
                        </p><pre class="oac_no_warn" dir="ltr">宣布gklob clob; amt number：= 40; line varchar2（80）;开始ctx_doc.gist（'newsindex'，'34'，'gklob'，1，glevel =&gt;'P'，pov =&gt;'GENERIC'，numParagraphs =&gt; 10）; - 传入时gklob为NULL，因此ctx-doc.gist将为我们分配一个临时的CLOB并将结果放在那里。dbms_lob.read（gklob，amt，1，line）; dbms_output.put_line（'FIRST 40 CHARS ARE：'|| line）; - 必须取消分配temp lob dbms_lob.freetemporary（gklob）;结束;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A39D418-0955-470B-9CC1-1CD4B054B8F6__GUID-9EC965EE-DFB5-4DF5-AA0F-4353326B365E">结果表Gists示例</p>
                        <p>要创建gist表，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">create table ctx_gist（query_id number，pov varchar2（80），gist CLOB）;</pre><p>以下示例返回文档34的默认大小的段落要点：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，'PARAGRAPH'，pov =&gt;'GENERIC'）;结束;</pre><p>以下示例生成10个段落的非默认大小要点：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，'PARAGRAPH'，pov =&gt;'GENERIC'，numParagraphs =&gt; 10）;结束;</pre><p>以下示例生成一个gist，其段落数为文档中总段落的10％：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，'PARAGRAPH'，pov =&gt;'GENERIC'，maxPercent =&gt; 10）;结束;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A39D418-0955-470B-9CC1-1CD4B054B8F6__GUID-95E409DC-7439-4D4A-B036-40AE01B203FC">主题摘要示例</p>
                        <p>以下示例使用textkey 34返回有关文档的<span class="italic">昆虫</span>主题的主题摘要。返回默认的gist大小。
                        </p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，'PARAGRAPH'，pov =&gt;'昆虫'）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CCAPP9507"></a><a id="CCAPP9508"></a><a id="CCAPP9210"></a><div class="props_rev_3"><a id="GUID-9D0E630D-8AA7-4DCD-9D99-10BB71E76B7A" name="GUID-9D0E630D-8AA7-4DCD-9D99-10BB71E76B7A"></a><h3 id="CCAPP-GUID-9D0E630D-8AA7-4DCD-9D99-10BB71E76B7A" class="sect3"><span class="enumeration_section">8.4</span>展示和突出文件</h3>
               <div>
                  <p>通常，查询应用程序使用户能够查看查询返回的文档。用户从命中列表中选择文档，然后应用程序以某种形式呈现文档。</p>
                  <p>使用Oracle Text，您可以以不同的方式显示文档，例如突出显示单词查询的单词或英语的<code class="codeph">ABOUT</code>查询的主题。
                  </p>
                  <p>您还可以使用<code class="codeph">CTX_DOC</code> PL / SQL包从文档中获取gist（文档摘要）和主题信息。
                  </p>
                  <p><a href="presenting-documents-in-oracle-text.html#GUID-9D0E630D-8AA7-4DCD-9D99-10BB71E76B7A__G1007640" title="此表显示CTX_DOC输出。">表8-2说明</a>了可以获取的不同输出以及用于获取每种类型的过程。
                  </p>
                  <div class="tblformal" id="GUID-9D0E630D-8AA7-4DCD-9D99-10BB71E76B7A__G1007640">
                     <p class="titleintable">表8-2 CTX_DOC输出</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="CTX_DOC输出" width="100%" border="1" summary="This table shows CTX_DOC output." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="58%" id="d21685e1377">产量</th>
                              <th align="left" valign="bottom" width="42%" id="d21685e1380">程序</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1385" headers="d21685e1377 ">
                                 <p>纯文本版，没有亮点</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1385 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.FILTER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1393" headers="d21685e1377 ">
                                 <p>HTML版文档，没有亮点</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1393 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.FILTER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1401" headers="d21685e1377 ">
                                 <p>突出显示的文档，纯文本版本</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1401 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.MARKUP</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1409" headers="d21685e1377 ">
                                 <p>突出显示的文档，HTML版本</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1409 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.MARKUP</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1417" headers="d21685e1377 ">
                                 <p>纯文本版本的突出显示的偏移信息</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1417 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.HIGHLIGHT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1425" headers="d21685e1377 ">
                                 <p>HTML版本的突出显示的偏移信息</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1425 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.HIGHLIGHT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1433" headers="d21685e1377 ">
                                 <p>主题摘要和文件要点</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1433 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.GIST</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d21685e1441" headers="d21685e1377 ">
                                 <p>文件中的主题清单</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d21685e1441 d21685e1380 ">
                                 <p><code class="codeph">CTX_DOC.THEMES</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-9D0E630D-8AA7-4DCD-9D99-10BB71E76B7A__GUID-6211CB06-3351-43AC-99AF-7953BCBD92EA">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../ccref/CTX_DOC-package.html#CCREF0700" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>