<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The physical database structures of an Oracle database are viewable at the operating system level."></meta>
      <meta name="description" content="The physical database structures of an Oracle database are viewable at the operating system level."></meta>
      <title>物理存储结构</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Concepts"></meta>
      <meta property="og:description" content="The physical database structures of an Oracle database are viewable at the operating system level."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Concepts"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00"></meta>
      <meta name="dcterms.title" content="Database Concepts"></meta>
      <meta name="dcterms.dateCopyrighted" content="1993, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96138-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-database-storage-structures.html" title="Previous" type="text/html"></link>
      <link rel="next" href="logical-storage-structures.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-storage-structures.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="logical-storage-structures.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库概念</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-storage-structures.html" property="item" typeof="WebPage"><span property="name">Oracle数据库存储结构</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">物理存储结构</li>
            </ol>
            <a id="GUID-FFA872E1-7F63-4DC5-8A35-F21394AB4595" name="GUID-FFA872E1-7F63-4DC5-8A35-F21394AB4595"></a>
            
            <h2 id="CNCPT-GUID-FFA872E1-7F63-4DC5-8A35-F21394AB4595" class="sect2"><span class="enumeration_chapter">11</span>物理存储结构</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle数据库的物理数据库结构可在操作系统级别查看。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC" title="RDBMS的一个特征是逻辑数据结构（例如表，视图和索引）与物理存储结构的独立性。">物理存储结构简介</a></p>
                  </li>
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4" title="在操作系统级别，Oracle数据库将数据库数据存储在称为数据文件的结构中。每个Oracle数据库必须至少有一个数据文件。">数据文件概述</a></p>
                  </li>
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" title="数据库控制文件是仅与一个数据库关联的小型二进制文件。尽管允许多个相同的副本，但每个数据库都有一个唯一的控制文件。">控制文件概述</a></p>
                  </li>
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-47557C86-E551-46B5-B28E-28D6C500694E" title="最重要的恢复结构是联机重做日志，它由两个或多个预分配文件组成，这些文件在数据库发生变化时存储更改。联机重做日志记录对数据文件的更改。">在线重做日志概述</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT88985"></a><a id="CNCPT401"></a><div class="props_rev_3"><a id="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC" name="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC"></a><h3 id="CNCPT-GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC" class="sect3">物理存储结构简介</h3>
               <div>
                  <p>RDBMS的一个特征是逻辑数据结构（例如表，视图和索引）与物理存储结构的独立性。</p>
                  <p>由于物理和逻辑结构是分开的，因此您可以管理数据的物理存储，而不会影响对逻辑结构的访问。例如，重命名数据库文件不会重命名存储在其中的表。</p>
                  <p>Oracle数据库是一组将Oracle数据存储在永久磁盘存储中的文件。本节讨论发出<code class="codeph">CREATE DATABASE</code>语句时生成的数据库文件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据文件和临时文件</p>
                        <p><a href="glossary.html#GUID-C93C8397-3433-4A72-B9CE-040FE01A7EE8"><span class="xrefglossterm">数据文件</span></a>是磁盘上的物理文件，由Oracle数据库创建，包含表和索引等数据结构。<a href="glossary.html#GUID-5760E541-E0BB-4246-A423-E725E599A9D0"><span class="xrefglossterm">临时文件</span></a>是属于临时表空间的数据文件。数据库以Oracle专有格式将数据写入这些文件，其他程序无法读取。
                        </p>
                     </li>
                     <li>
                        <p>控制文件</p>
                        <p><a href="glossary.html#GUID-DF498605-D186-451B-87AA-73DF396AD599"><span class="xrefglossterm">控制文件</span></a>是跟踪数据库物理组件的根文件。
                        </p>
                     </li>
                     <li>
                        <p>在线重做日志文件</p>
                        <p><a href="glossary.html#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">联机重做日志</span></a>是一组文件，包含对数据所做更改的记录。
                        </p>
                     </li>
                  </ul>
                  <p><a href="glossary.html#GUID-CFB1A30E-76B6-44EA-839E-9E63C8DA31AC"><span class="xrefglossterm">数据库实例</span></a>是一组管理数据库文件的内存结构。下图显示了实例与其管理的文件之间的关系。
                  </p>
                  <div class="figure" id="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC__CHDECCFJ">
                     <p class="titleinfigure">图11-1数据库实例和数据库文件</p><img src="img/cncpt223.gif" alt="下面是图11-1的描述" title="下面是图11-1的描述" longdesc="img_text/cncpt223.html"><br><a href="img_text/cncpt223.html">“图11-1数据库实例和数据库文件”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC__GUID-AACFBBA5-BA79-4CDA-9308-9E40A796B1D4">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN002" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何创建数据库</p>
                        </li>
                        <li>
                           <p>用于<code class="codeph">CREATE DATABASE</code>语义和语法的<a href="../sqlrf/CREATE-DATABASE.html#SQLRF01204" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT88986"></a><div class="props_rev_3"><a id="GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577" name="GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577"></a><h4 id="CNCPT-GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577" class="sect4">存储数据库文件的机制</h4>
                  <div>
                     <p>有几种机制可用于分配和管理这些文件的存储。</p>
                     <p>最常见的机制包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle自动存储管理（Oracle ASM）</p>
                           <p>Oracle ASM包含专为Oracle数据库使用而设计的文件系统。</p>
                        </li>
                        <li>
                           <p>操作系统文件系统</p>
                           <p>大多数Oracle数据库将文件存储在<a href="glossary.html#GUID-42D41D4D-C3AC-4D24-AC60-674A872EA211"><span class="xrefglossterm">文件系统中</span></a> ，该<a href="glossary.html#GUID-42D41D4D-C3AC-4D24-AC60-674A872EA211"><span class="xrefglossterm">文件系统</span></a>是在连续磁盘地址空间内构建的数据结构。所有操作系统都有文件管理器，可以将磁盘空间分配和释放到文件系统中的文件中。
                           </p>
                           <p>文件系统允许将磁盘空间分配给许多文件。每个文件都有一个名称，并使其显示为Oracle数据库等应用程序的连续地址空间。数据库可以创建，读取，写入，调整大小和删除文件。</p>
                           <p>文件系统通常构建在由称为<a href="glossary.html#GUID-EA829FC2-5C9F-4455-B85C-78103EF28531"><span class="xrefglossterm">逻辑卷管理器（LVM）的</span></a>软件包构建的<a href="glossary.html#GUID-F8C2E256-9271-43EC-B8CC-DD2B114EB270"><span class="xrefglossterm">逻辑卷</span></a>之上。LVM可以将多个物理磁盘组合成一个连续的地址空间，该地址空间作为一个磁盘显示在更高层的软件上。
                           </p>
                        </li>
                        <li>
                           <p>集群文件系统</p>
                           <p><a href="glossary.html#GUID-1D41A705-62A5-4DC1-A1C9-96781B91492A"><span class="xrefglossterm">集群文件系统</span></a>是一个分布式文件系统，它是一组服务器，它们协作以向其客户端提供高性能服务。在Oracle RAC环境中，群集文件系统使共享存储显示为群集环境中许多计算机共享的文件系统。使用群集文件系统时，群集中计算机的故障不会使文件系统不可用。但是，在操作系统文件系统中，如果通过NFS或其他方式共享文件的计算机出现故障，则文件系统不可用。
                           </p>
                        </li>
                     </ul>
                     <p>数据库采用前述存储机制的组合。例如，数据库可以将控制文件和联机重做日志文件存储在传统文件系统中，原始分区上的一些用户数据文件，Oracle ASM中的剩余数据文件以及将重做日志文件存档到群集文件系统。</p>
                     <div class="infoboxnotealso" id="GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577__GUID-090744D1-87C6-4661-92F7-9D8B6EA16F2A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="physical-storage-structures.html#GUID-7FEC2249-4A21-4967-B951-8979D72030AF" title="Oracle ASM是一种针对Oracle数据库文件的高性能，易于管理的存储解决方案。Oracle ASM是一个卷管理器，它提供专门供数据库使用的文件系统。">Oracle自动存储管理（Oracle ASM）</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admqs/managing-database-storage-structures.html#ADMQS12062" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a> ，了解如何使用Oracle Enterprise Manager Database Express（EM Express）查看数据库存储结构</p>
                           </li>
                           <li>
                              <p><a href="../admin/oracle-database-structure-and-storage.html#ADMIN12595" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，通过查询数据库视图来查看数据库存储结构</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1389"></a><div class="props_rev_3"><a id="GUID-7FEC2249-4A21-4967-B951-8979D72030AF" name="GUID-7FEC2249-4A21-4967-B951-8979D72030AF"></a><h4 id="CNCPT-GUID-7FEC2249-4A21-4967-B951-8979D72030AF" class="sect4">Oracle自动存储管理（Oracle ASM）</h4>
                  <div>
                     <p><span class="bold">Oracle ASM</span>是一种针对Oracle数据库文件的高性能，易于管理的存储解决方案。Oracle ASM是一个卷管理器，它提供专门供数据库使用的文件系统。
                     </p>
                     <p>与传统文件系统和存储管理器相比，Oracle ASM具有以下优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>简化与存储相关的任务，例如创建和布局数据库以及管理磁盘空间</p>
                        </li>
                        <li>
                           <p>跨物理磁盘分配数据以消除热点并在磁盘上提供统一的性能</p>
                        </li>
                        <li>
                           <p>存储配置更改后自动重新平衡数据</p>
                        </li>
                     </ul>
                     <p>要使用Oracle ASM，可以为Oracle数据库分配带有条带化和镜像首选项的分区磁盘。Oracle ASM管理磁盘空间，在所有可用资源之间分配I / O负载，以优化性能，同时无需手动I / O调整。例如，您可以增加数据库的磁盘大小，或者将数据库的某些部分移动到新设备，而无需关闭数据库。</p>
                  </div><a id="CNCPT88988"></a><a id="CNCPT1401"></a><a id="CNCPT1407"></a><a id="CNCPT1403"></a><a id="CNCPT1405"></a><a id="CNCPT88987"></a><div class="props_rev_3"><a id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0" name="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0"></a><h5 id="CNCPT-GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0" class="sect5">Oracle ASM存储组件</h5>
                     <div>
                        <p>Oracle数据库可以将数据文件存储为Oracle ASM磁盘组中的Oracle ASM文件。在磁盘组中，Oracle ASM公开数据库文件的文件系统接口。</p>
                        <p>下图显示了使用Oracle ASM的数据库中的存储组件之间的关系。该图描绘了Oracle ASM文件和数据文件之间的关系，尽管Oracle ASM可以存储其他类型的文件。乌鸦的足迹代表了一对多的关系。</p>
                        <div class="figure" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__CHDDFHJC">
                           <p class="titleinfigure">图11-2 Oracle ASM组件</p><img src="img/cncpt267.gif" alt="下面是图11-2的描述" title="下面是图11-2的描述" longdesc="img_text/cncpt267.html"><br><a href="img_text/cncpt267.html">“图11-2 Oracle ASM组件”的说明</a></div>
                        <!-- class="figure" -->
                        <p><a href="physical-storage-structures.html#GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__CHDDFHJC">图11-2</a>说明了以下Oracle ASM概念：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle ASM磁盘</p>
                              <p><a href="glossary.html#GUID-952316A5-5254-42D0-9915-1A05C6808B3D"><span class="xrefglossterm">Oracle ASM磁盘</span></a>是配置到Oracle ASM磁盘组的存储设备。Oracle ASM磁盘可以是物理磁盘或分区，来自存储阵列的逻辑单元号（LUN），逻辑卷或网络附加文件。
                              </p>
                              <p>在数据库运行时，可以从磁盘组添加或删除Oracle ASM磁盘。将磁盘添加到磁盘组时，可以指定磁盘名称，也可以自动为磁盘指定Oracle ASM磁盘名称。</p>
                           </li>
                           <li>
                              <p>Oracle ASM磁盘组</p>
                              <p><a href="glossary.html#GUID-85D5EEA3-5127-4F08-AC1C-A2C660F21D92"><span class="xrefglossterm">Oracle ASM磁盘组</span></a>是作为逻辑单元管理的Oracle ASM磁盘的集合。磁盘组中的数据结构是自包含的，并占用磁盘组中的一些磁盘空间。
                              </p>
                              <p>在磁盘组中，Oracle ASM公开Oracle数据库文件的文件系统接口。存储在磁盘组中的文件内容均匀分布或条带化，以消除热点并在磁盘上提供统一的性能。</p>
                           </li>
                           <li>
                              <p>Oracle ASM文件</p>
                              <p><a href="glossary.html#GUID-321EBEC0-62F7-4E6C-B850-F3B4CCC70692"><span class="xrefglossterm">Oracle ASM文件</span></a>是存储在Oracle ASM磁盘组中的文件。Oracle数据库在文件方面与Oracle ASM进行通信。数据库可以将数据文件，控制文件，联机重做日志文件和其他类型的文件存储为Oracle ASM文件。当数据库请求时，Oracle ASM会创建一个Oracle ASM文件，并为其指定一个名称，以加号（ <code class="codeph">+</code> ）开头，后跟磁盘组名称，如<code class="codeph">+DISK1</code> 。
                              </p>
                              <div class="infoboxnote" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__GUID-0E85DB04-0128-4213-B825-6F2BFDA24833">
                                 <p class="notep1">注意：</p>
                                 <p>Oracle ASM文件可以与其他存储管理选项共存，例如第三方文件系统。此功能简化了Oracle ASM与预先存在的环境的集成。</p>
                              </div>
                           </li>
                           <li>
                              <p>Oracle ASM Extents</p>
                              <p><a href="glossary.html#GUID-66437E19-5BD1-4596-966B-49585960F7AB"><span class="xrefglossterm">Oracle ASM范围</span></a>是Oracle ASM文件的一部分。Oracle ASM文件由一个或多个文件范围组成。每个Oracle ASM扩展区包含特定磁盘上的一个或多个分配单元。
                              </p>
                              <div class="infoboxnote" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__GUID-ADAAF9A4-4246-4E6B-B770-F0EF9D6BF63D">
                                 <p class="notep1">注意：</p>
                                 <p>Oracle ASM范围与用于在<a href="glossary.html#GUID-EC12AA68-8C89-43B3-B1F9-3AABF7CAEB9F"><span class="xrefglossterm">段中</span></a>存储数据的<a href="glossary.html#GUID-C56D833A-B3D3-4B85-AAB4-334F7CF3F5E9"><span class="xrefglossterm">范围</span></a>不同。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Oracle ASM分配单元</p>
                              <p><a href="glossary.html#GUID-4FB19E48-1098-49B9-AC9D-6B33D1E6E950"><span class="xrefglossterm">Oracle ASM分配单元</span></a>是磁盘组中的基本<a href="glossary.html#GUID-4FB19E48-1098-49B9-AC9D-6B33D1E6E950"><span class="xrefglossterm">分配单元</span></a> 。分配单元是Oracle ASM分配的最小连续磁盘空间。一个或多个分配单元形成Oracle ASM范围。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__GUID-71B3F897-7E3C-491E-BA0D-B744C2AE4FA9">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a> ，了解有关Oracle ASM的更多信息</p>
                        </div>
                     </div>
                  </div><a id="CNCPT88990"></a><a id="CNCPT88989"></a><div class="props_rev_3"><a id="GUID-65165176-D495-4B44-AE0D-0686349826EB" name="GUID-65165176-D495-4B44-AE0D-0686349826EB"></a><h5 id="CNCPT-GUID-65165176-D495-4B44-AE0D-0686349826EB" class="sect5">Oracle ASM实例</h5>
                     <div>
                        <p><span class="bold">Oracle ASM实例</span>是管理Oracle ASM磁盘的特殊Oracle实例。
                        </p>
                        <p>Oracle ASM和数据库实例都需要对Oracle ASM磁盘组中的磁盘进行共享访问。Oracle ASM实例管理磁盘组的元数据，并向数据库实例提供文件布局信息。数据库实例将I / O定向到Oracle ASM磁盘，而无需通过Oracle ASM实例。</p>
                        <p>Oracle ASM实例基于与数据库实例相同的技术构建。例如，Oracle ASM实例具有<a href="glossary.html#GUID-78C0E867-233A-4857-B9FE-A3852A9B7BDF"><span class="xrefglossterm">系统全局区域（SGA）</span></a>和与数据库实例类似的后台进程。但是，Oracle ASM实例无法装入数据库，并且执行的任务少于数据库实例。
                        </p>
                        <p><a href="physical-storage-structures.html#GUID-65165176-D495-4B44-AE0D-0686349826EB__CHDBEEGI">图11-3</a>显示了具有一个Oracle ASM实例和两个数据库实例的单节点配置，每个实例与不同的单实例数据库相关联。Oracle ASM实例管理元数据，并为存储两个数据库的数据的Oracle ASM文件提供空间分配。一个Oracle ASM磁盘组具有四个Oracle ASM磁盘，另一个具有两个磁盘。两个数据库实例都可以访问磁盘组。
                        </p>
                        <div class="figure" id="GUID-65165176-D495-4B44-AE0D-0686349826EB__CHDBEEGI">
                           <p class="titleinfigure">图11-3 Oracle ASM实例和数据库实例</p><img src="img/cncpt266.gif" alt="下面是图11-3的描述" title="下面是图11-3的描述" longdesc="img_text/cncpt266.html"><br><a href="img_text/cncpt266.html">“图11-3 Oracle ASM实例和数据库实例”的说明</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnotealso" id="GUID-65165176-D495-4B44-AE0D-0686349826EB__GUID-75403EBA-6DDA-4B71-B37E-1477C247641C">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../ostmg/asm-intro.html#GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a> ，了解有关Oracle ASM的更多信息</p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88991"></a><div class="props_rev_3"><a id="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D" name="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D"></a><h4 id="CNCPT-GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D" class="sect4">Oracle托管文件和用户管理文件</h4>
                  <div>
                     <p><span class="bold">Oracle Managed Files</span>是一种文件命名策略，使您可以根据数据库对象而不是文件名来指定操作。例如，您可以创建表空间而不指定其数据文件的名称。
                     </p>
                     <p>Oracle Managed Files使管理员无需直接管理数据库中的操作系统文件。Oracle ASM需要Oracle Managed Files。</p>
                     <div class="infoboxnote" id="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D__GUID-9CCE3754-0A6F-4649-B6E4-5BFEA2155328">
                        <p class="notep1">注意：</p>
                        <p>此功能不会影响管理文件（如跟踪文件，审核文件和警报日志）的创建或命名。</p>
                     </div>
                     <p>使用用户管理的文件，您可以直接管理数据库中的操作系统文件。您可以做出有关文件结构和命名的决定。例如，在创建表空间时，可以设置表空间数据文件的名称和路径。</p>
                     <p>通过初始化参数，可以为特定类型的文件指定文件系统目录。Oracle Managed Files功能可确保数据库创建唯一文件，并在不再需要时将其删除。数据库在内部使用标准文件系统接口来创建和删除存储在<a href="glossary.html#GUID-0F4B1B3D-4831-42FA-A53B-E34BA9D1BBB0"><span class="xrefglossterm">快速恢复区域</span></a>中的数据文件和临时文件，控制文件以及与恢复相关的文件的文件。
                     </p>
                     <p>Oracle Managed Files不会消除现有功能。您可以在手动管理旧文件时创建新文件。因此，数据库可以混合使用Oracle托管文件和用户管理的文件。</p>
                     <div class="infoboxnotealso" id="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D__GUID-85D0723E-F3FD-4BFF-A781-6D215DF9F788">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oracle-database-instance.html#GUID-E329D228-F334-4506-84C1-EC030032C228" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。问题包括严重错误，例如代码错误，元数据损坏和客户数据损坏。">诊断文件概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN003" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何使用Oracle托管文件</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT403"></a><div class="props_rev_3"><a id="GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4" name="GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4"></a><h3 id="CNCPT-GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4" class="sect3">数据文件概述</h3>
               <div>
                  <p>在操作系统级别，Oracle数据库将数据库数据存储在称为<span class="bold">数据文件的</span>结构中。每个Oracle数据库必须至少有一个数据文件。
                  </p>
               </div><a id="CNCPT88992"></a><a id="CNCPT1109"></a><div class="props_rev_3"><a id="GUID-A878011D-2E59-45F6-A529-F60383AAE945" name="GUID-A878011D-2E59-45F6-A529-F60383AAE945"></a><h4 id="CNCPT-GUID-A878011D-2E59-45F6-A529-F60383AAE945" class="sect4">使用数据文件</h4>
                  <div>
                     <p>Oracle数据库将表空间数据物理存储在数据文件中。</p>
                     <p>每个非分区的<span class="bold">模式对象</span>和<span class="bold">对象的</span>每个分区都存储在它自己的<span class="bold">段中</span> ，该<span class="bold">段</span>只属于一个表空间。例如，非分区表的数据存储在单个段中，而该段又存储在一个表空间中。表空间和数据文件密切相关，但有重要区别：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>每个表空间由一个或多个数据文件组成，这些文件符合运行Oracle数据库的操作系统。</p>
                        </li>
                        <li>
                           <p>数据库的数据共同存储在位于数据库的每个表空间中的数据文件中。</p>
                        </li>
                        <li>
                           <p>段可以跨越一个或多个数据文件，但不能跨越多个表空间。</p>
                        </li>
                        <li>
                           <p>数据库必须具有<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间。在数据库创建期间，Oracle数据库会自动为<code class="codeph">SYSTEM</code>表空间分配任何数据库的第一个数据文件。
                           </p>
                           <p><code class="codeph">SYSTEM</code>表空间包含<a href="glossary.html#GUID-D6A3934F-BA6D-464F-9612-C683E20514A4"><span class="xrefglossterm">数据字典</span></a> ，一组包含数据库元数据的表。通常，数据库还具有<a href="glossary.html#GUID-78A7FBF2-2EB5-4BD6-AECC-D61A5AEF1158"><span class="xrefglossterm">撤消表空间</span></a>和临时表空间（通常名为<code class="codeph">TEMP</code> ）。
                           </p>
                        </li>
                     </ul>
                     <p>下图显示了表空间，数据文件和段之间的关系。</p>
                     <div class="figure" id="GUID-A878011D-2E59-45F6-A529-F60383AAE945__CHDICEFG">
                        <p class="titleinfigure">图11-4数据文件和表空间</p><img src="img/cncpt037.gif" alt="下面是图11-4的描述" title="下面是图11-4的描述" longdesc="img_text/cncpt037.html"><br><a href="img_text/cncpt037.html">“图11-4数据文件和表空间”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-A878011D-2E59-45F6-A529-F60383AAE945__GUID-D50FF118-EB65-45B5-8B58-8C5BBE55DE54">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="logical-storage-structures.html#GUID-3502CA78-FBC9-4927-B455-0ECB22E53066" title="表空间是段的逻辑存储容器。段是消耗存储空间的数据库对象，例如表和索引。在物理级别，表空间将数据存储在一个或多个数据文件或临时文件中。">表空间概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN012" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理数据文件</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1112"></a><div class="props_rev_3"><a id="GUID-D59095AD-F79B-4C54-BBED-798E510B049E" name="GUID-D59095AD-F79B-4C54-BBED-798E510B049E"></a><h4 id="CNCPT-GUID-D59095AD-F79B-4C54-BBED-798E510B049E" class="sect4">永久和临时数据文件</h4>
                  <div>
                     <p><span class="bold">永久表空间</span>包含持久模式对象。永久表空间中的对象存储在数据文件中。
                     </p>
                     <p><a href="glossary.html#GUID-D49FAC9A-79CC-436C-9656-4A1C94A50A2D"><span class="xrefglossterm">临时表空间</span></a>仅在会话期间包含架构对象。本地管理的临时表空间具有临时文件（临时文件），这些文件是用于在哈希，排序和其他操作中存储数据的特殊文件。当内存中存在的空间不足时，临时文件还会存储结果集数据。
                     </p>
                     <p>临时文件类似于永久数据文件，但以下情况除外：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>永久数据库对象（如表）永远不会存储在临时文件中。</p>
                        </li>
                        <li>
                           <p>临时文件始终设置为<code class="codeph">NOLOGGING</code>模式，这意味着它们永远不会为它们生成重做。介质恢复无法识别临时文件。
                           </p>
                        </li>
                        <li>
                           <p>您无法将临时文件设置为只读。</p>
                        </li>
                        <li>
                           <p>您无法使用<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>语句创建临时文件。
                           </p>
                        </li>
                        <li>
                           <p>创建或调整临时文件大小时，并不总是保证为指定的文件大小分配磁盘空间。在Linux和UNIX等文件系统上，临时文件创建为<span class="italic">稀疏文件</span> 。在这种情况下，磁盘块不是在创建文件或调整大小时分配的，而是在第一次访问块时分配。
                           </p>
                           <div class="infoboxnote" id="GUID-D59095AD-F79B-4C54-BBED-798E510B049E__GUID-D48E7BC4-E41D-4BED-8620-E8C233C04123">
                              <p class="notep1">注意：</p>
                              <p>稀疏文件可以创建快速临时文件和调整大小;但是，访问临时文件后，磁盘可能会耗尽空间。</p>
                           </div>
                        </li>
                        <li>
                           <p>临时文件的信息被示出在数据字典视图<code class="codeph">DBA_TEMP_FILES</code>和动态性能视图<code class="codeph">V$TEMPFILE</code> ，但不是在<code class="codeph">DBA_DATA_FILES</code>或<code class="codeph">V$DATAFILE</code>视图。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-D59095AD-F79B-4C54-BBED-798E510B049E__GUID-DBBA98FB-7532-438B-808B-6574A9211837">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="logical-storage-structures.html#GUID-93848D41-A32B-494F-87A0-A090FF1B2E9A" title="临时表空间包含仅在会话期间保留的临时数据。永久模式对象不能驻留在临时表空间中。临时文件存储临时表空间数据。">临时表空间</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN11504" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理临时文件</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88993"></a><div class="props_rev_3"><a id="GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D" name="GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D"></a><h4 id="CNCPT-GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D" class="sect4">在线和离线数据文件</h4>
                  <div>
                     <p>每个数据文件都是在线（可用）或脱机（不可用）。</p>
                     <p>您可以通过使其脱机或使其联机来更改单个数据文件或临时文件的可用性。数据库在联机之前无法访问脱机数据文件。</p>
                     <p>您可能出于多种原因使数据文件脱机，包括执行脱机备份或阻止损坏。如果数据库无法写入数据库，则数据库会自动使数据文件脱机。</p>
                     <p>与数据文件一样，表空间本身也是脱机或联机的。在联机表空间中使数据文件脱机时，表空间本身仍保持联机状态。您可以通过使表空间本身脱机来使表空间的所有数据文件暂时不可用。</p>
                     <p>从<span>Oracle Database 12c开始</span> ，您可以使用<code class="codeph">ALTER DATABASE MOVE DATAFILE</code>语句在数据库打开并访问该文件时将在线数据文件从一个物理文件移动到另一个物理文件。您可以使用此技术来实现以下目标：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将表空间从一种存储移动到另一种存储</p>
                        </li>
                        <li>
                           <p>将不经常访问的数据文件移动到较低成本的存储</p>
                        </li>
                        <li>
                           <p>将表空间设置为只读并将其数据文件移动到一次写入存储，例如一次写入多次读取（WORM）驱动器</p>
                        </li>
                        <li>
                           <p>将数据库移动到Oracle ASM</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D__GUID-5E4BC456-280F-4E7B-A42D-8BA3D660C21F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="logical-storage-structures.html#GUID-DBE61726-0DE6-4A85-A49B-9F5587234A87" title="每当数据库打开时，表空间都可以在线（可访问）或脱机（不可访问）。">在线和离线表空间</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN11426" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何更改数据文件的可用性</p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN13837" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何移动在线数据文件</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，了解<code class="codeph">ALTER DATABASE . . .移动数据文件</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88994"></a><a id="CNCPT1082"></a><div class="props_rev_3"><a id="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7" name="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7"></a><h4 id="CNCPT-GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7" class="sect4">数据文件结构</h4>
                  <div>
                     <p>Oracle数据库通过分配指定数量的磁盘空间加上数据文件头的开销来为表空间创建数据文件。运行Oracle数据库的操作系统负责在将文件分配给数据库之前从文件中清除旧信息和授权。</p>
                     <p>数据文件头包含有关数据文件的元数据，例如其大小和<a href="glossary.html#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">检查点</span></a> <a href="glossary.html#GUID-4B14A746-A8B3-4123-A02A-3FC1C293042C"><span class="xrefglossterm">SCN</span></a> 。每个标头包含一个绝对文件号，用于唯一标识数据库中的数据文件，以及一个相对文件号，用于唯一标识表空间中的数据文件。
                     </p>
                     <p>当Oracle数据库首次创建数据文件时，已分配的磁盘空间已格式化，但不包含用户数据。但是，数据库保留用于保存关联表空间的未来段的数据的空间。随着数据在表空间中的增长，Oracle数据库使用数据文件中的可用空间来为该段分配扩展区。</p>
                     <p>下图说明了数据文件中不同类型的空间。使用范围，这意味着它们包含段数据，或者是空闲的，这意味着它们可以重复使用。随着时间的推移，表空间中对象的更新和删除可能会产生一些空白空间，这些空间单独地不够大，无法重新用于新数据。这种类型的空白空间称为<span class="italic">碎片自由空间</span> 。
                     </p>
                     <div class="figure" id="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7__CHDHIADI">
                        <p class="titleinfigure">图11-5数据文件中的空格</p><img src="img/cncpt273.gif" alt="下面是图11-5的描述" title="下面是图11-5的描述" longdesc="img_text/cncpt273.html"><br><a href="img_text/cncpt273.html">“图11-5数据文件中的空格”的描述</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7__GUID-35B66B82-AC3C-4F32-A906-BA1458FAFF46">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN11459" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何查看数据文件信息</p>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT404"></a><div class="props_rev_3"><a id="GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" name="GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0"></a><h3 id="CNCPT-GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" class="sect3">控制文件概述</h3>
               <div>
                  <p>数据库<span class="bold">控制文件</span>是仅与一个数据库关联的小型二进制文件。尽管允许多个相同的副本，但每个数据库都有一个唯一的控制文件。
                  </p>
               </div><a id="CNCPT1113"></a><div class="props_rev_3"><a id="GUID-8C6BE183-D423-4417-9B40-2129513886EA" name="GUID-8C6BE183-D423-4417-9B40-2129513886EA"></a><h4 id="CNCPT-GUID-8C6BE183-D423-4417-9B40-2129513886EA" class="sect4">使用控制文件</h4>
                  <div>
                     <p>Oracle数据库使用控制文件来定位数据库文件并通常管理数据库的状态。</p>
                     <p>控制文件包含以下信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库名称和数据库唯一标识符（DBID）</p>
                        </li>
                        <li>
                           <p>数据库创建的时间戳</p>
                        </li>
                        <li>
                           <p>有关数据文件，联机重做日志文件和归档重做日志文件的信息</p>
                        </li>
                        <li>
                           <p>表空间信息</p>
                        </li>
                        <li>
                           <p>RMAN备份</p>
                        </li>
                     </ul>
                     <p>控制文件用于以下目的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>它包含有关打开数据库所需的数据文件，联机重做日志文件等信息。</p>
                           <p>控制文件跟踪数据库的结构更改。例如，当管理员添加，重命名或删除数据文件或联机重做日志文件时，数据库会更新控制文件以反映此更改。</p>
                        </li>
                        <li>
                           <p>它包含在数据库未打开时必须可访问的元数据。</p>
                           <p>例如，控制文件包含恢复数据库所需的信息，包括检查点。<a href="glossary.html#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">检查点</span></a>指示重做流中的<a href="glossary.html#GUID-4B14A746-A8B3-4123-A02A-3FC1C293042C"><span class="xrefglossterm">SCN</span></a> ，其中需要开始实例恢复。检查点SCN之前的每个已提交的更改都保证保存在数据文件的磁盘上。检查点进程至少每三秒在控制文件中记录有关联机重做日志中检查点位置的信息。
                           </p>
                        </li>
                     </ul>
                     <p>Oracle数据库在数据库使用期间不断读取和写入控制文件，并且只要数据库处于打开状态，就必须可以写入。例如，恢复数据库涉及从控制文件中读取数据库中包含的所有数据文件的名称。其他操作，例如添加数据文件，更新存储在控制文件中的信息。</p>
                     <div class="infoboxnotealso" id="GUID-8C6BE183-D423-4417-9B40-2129513886EA__GUID-7E4B6476-814D-4EF9-9C92-1102A95819DD">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <span class="q">“ <a href="oracle-database-instance.html#GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" title="实例恢复是将联机重做日志中的记录应用于数据文件以重建最近检查点之后所做更改的过程。">实例恢复概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" title="检查点进程（CKPT）使用检查点信息更新控制文件和数据文件头，并向DBW发送信号以将块写入磁盘。检查点信息包括检查点位置，SCN和联机重做日志中的位置以开始恢复。">检查点流程（CKPT）</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-control-files.html#ADMIN006" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理控制文件</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1114"></a><div class="props_rev_3"><a id="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E" name="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E"></a><h4 id="CNCPT-GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E" class="sect4">多个控制文件</h4>
                  <div>
                     <p>Oracle数据库允许多个相同的控制文件同时打开并写入同一数据库。通过在不同磁盘上复用控制文件，数据库可以实现冗余，从而避免单点故障。</p>
                     <p></p>
                     <div class="infoboxnote" id="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E__GUID-6960CFAA-6C6B-4A52-A8FB-ED9EB19D56B4">
                        <p class="notep1">注意：</p>
                        <p>Oracle建议您在不同的磁盘上维护多个控制文件副本。</p>
                     </div>
                     <p>如果控制文件变得不可用，则数据库实例在尝试访问损坏的控制文件时会失败。当存在其他当前控制文件副本时，您可以重新装入数据库并在没有<a href="glossary.html#GUID-938A3E7D-CC65-496C-9DB3-3CFC45AFA8DD"><span class="xrefglossterm">介质恢复的</span></a>情况下打开它。但是，如果数据库的<span class="italic">所有</span>控制文件都丢失，则数据库实例将失败并需要进行介质恢复。如果必须使用较旧的控制文件备份，因为当前副本不可用，则介质恢复并不简单。
                     </p>
                     <div class="infoboxnotealso" id="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E__GUID-CE9A5C71-C5A7-41F8-A535-C069088EADA2">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../admin/managing-control-files.html#ADMIN10064" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何维护多个控制文件</p>
                           </li>
                           <li>
                              <p><a href="../bradv/rman-recovery-advanced.html#BRADV154" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a> ，了解如何备份和还原控制文件</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88995"></a><div class="props_rev_3"><a id="GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32" name="GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32"></a><h4 id="CNCPT-GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32" class="sect4">控制文件结构</h4>
                  <div>
                     <p>有关数据库的信息存储在控制文件的不同部分中。每个部分都是一组关于数据库方面的记录。</p>
                     <p>例如，控制文件中的一个部分跟踪数据文件并包含一组记录，每个记录对应一个数据文件。每个部分都存储在多个逻辑控制文件块中。记录可以跨越一个部分中的块。</p>
                     <p>控制文件包含以下类型的记录：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>循环重用记录</p>
                           <p><a href="glossary.html#GUID-BC76F728-0DBE-4E79-8145-E70F2880FBAA"><span class="xrefglossterm">循环重用记录</span></a>包含非关键信息，如果需要，可以覆盖这些信息。当所有可用记录槽已满时，数据库会扩展控制文件以为新记录腾出空间或覆盖最旧记录。示例包括有关归档重做日志文件和RMAN备份的记录。
                           </p>
                        </li>
                        <li>
                           <p>非圆重用记录</p>
                           <p><a href="glossary.html#GUID-ADD6541A-2F2A-4DCE-A881-9B7F7A0499ED"><span class="xrefglossterm">非圆形重用记录</span></a>包含不会经常更改且无法覆盖的关键信息。信息示例包括表空间，数据文件，联机重做日志文件和重做线程。除非从表空间中删除相应的对象，否则Oracle数据库永远不会重用这些记录。
                           </p>
                        </li>
                     </ul>
                     <p>您可以查询动态性能视图（也称为<code class="codeph">V$</code>视图）以查看存储在控制文件中的信息。例如，您可以查询<code class="codeph">V$DATABASE</code>以获取数据库名称和DBID。但是，只有数据库可以修改控制文件中的信息。
                     </p>
                     <p>读取和写入控制文件块不同于读取和写入数据块。对于控制文件，Oracle数据库直接从磁盘读取和写入程序全局区域（PGA）。每个进程为控制文件块分配一定量的PGA内存。</p>
                     <div class="infoboxnotealso" id="GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32__GUID-58131FCA-10FF-493B-9C10-25AAD9332AAA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="data-dictionary-and-dynamic-performance-views.html#GUID-4093F62A-CA16-4054-B441-279D15CE03B3" title="在整个操作过程中，Oracle数据库维护一组记录当前数据库活动的虚拟表。">动态性能视图概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-CONTROLFILE_RECORD_SECTION.html#REFRN30044" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">V$CONTROLFILE_RECORD_SECTION</code>视图</p>
                           </li>
                           <li>
                              <p><a href="../refrn/CONTROL_FILE_RECORD_KEEP_TIME.html#REFRN10020" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">CONTROL_FILE_RECORD_KEEP_TIME</code>初始化参数</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT11302"></a><div class="props_rev_3"><a id="GUID-47557C86-E551-46B5-B28E-28D6C500694E" name="GUID-47557C86-E551-46B5-B28E-28D6C500694E"></a><h3 id="CNCPT-GUID-47557C86-E551-46B5-B28E-28D6C500694E" class="sect3">在线重做日志概述</h3>
               <div>
                  <p>最重要的恢复结构是<span class="bold">联机重做日志</span> ，它由两个或多个预分配文件组成，这些文件在数据库发生变化时存储更改。联机重做日志记录对数据文件的更改。
                  </p>
               </div><a id="CNCPT88996"></a><div class="props_rev_3"><a id="GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D" name="GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D"></a><h4 id="CNCPT-GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D" class="sect4">使用在线重做日志</h4>
                  <div>
                     <p>数据库维护联机重做日志文件以防止数据丢失。具体而言，在实例发生故障后，联机重做日志文件使Oracle数据库能够恢复尚未写入数据文件的已提交数据。</p>
                     <p>服务器进程将每个事务同步写入<a href="glossary.html#GUID-BADF3CFF-08C6-42E8-A05E-DEB83502572A"><span class="xrefglossterm">重做日志缓冲区</span></a> ，然后LGWR进程将其写入联机重做日志。联机重做日志的内容包括未提交的事务以及架构和对象管理语句。
                     </p>
                     <p>当数据库对还原段进行更改时，数据库还会将这些更改写入联机重做日志。因此，联机重做日志始终包含永久对象的撤消数据。您可以将数据库配置为在临时<a href="glossary.html#GUID-E374AF09-977A-43CB-B3A2-39EC9818BD0B"><span class="xrefglossterm">还原段中</span></a>存储临时对象的所有还原数据，从而节省空间并提高性能，或允许数据库在联机重做日志中存储永久和临时撤消数据。
                     </p>
                     <p>Oracle数据库仅使用联机重做日志进行恢复。但是，管理员可以通过Oracle LogMiner实用程序中的SQL界面查询联机重做日志文件（请参阅<span class="q">“ <a href="concepts-for-database-administrators.html#GUID-D2E36A56-0571-4857-8D41-BBCC833403E5" title="Oracle LogMiner使您可以通过SQL接口查询重做日志文件。">Oracle LogMiner</a> ”</span> ）。重做日志文件是有关数据库活动的有用历史信息源。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D__GUID-0FC5850E-DB4D-4EFD-BA6A-497776775AAD">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oracle-database-instance.html#GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" title="实例恢复是将联机重做日志中的记录应用于数据文件以重建最近检查点之后所做更改的过程。">实例恢复概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="logical-storage-structures.html#GUID-311EBE7D-F01F-4E52-9B8B-DBF84116207D" title="临时undo段是一个可选的空间管理容器，仅用于临时undo数据。">临时撤消段</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-85D9852E-5BF1-4AC0-9E5A-49F0570DBD7A" title="本章讨论Oracle数据库中的过程。">流程架构</a> ”</span> ，了解Oracle流程</p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-undo.html#ADMIN13740" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解临时还原段</p>
                           </li>
                           <li>
                              <p><a href="../refrn/TEMP_UNDO_ENABLED.html#REFRN10326" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">TEMP_UNDO_ENABLED</code>初始化参数</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT11305"></a><div class="props_rev_3"><a id="GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1" name="GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1"></a><h4 id="CNCPT-GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1" class="sect4">Oracle数据库如何写入联机重做日志</h4>
                  <div>
                     <p>数据库实例的联机重做日志称为<span class="bold">重做线程</span> 。
                     </p>
                     <p>在单实例配置中，只有一个实例访问数据库，因此只存在一个重做线程。但是，在Oracle Real Application Clusters（Oracle RAC）配置中，多个实例同时访问数据库，每个实例都有自己的重做线程。每个实例的单独重做线程可避免争用一组联机重做日志文件。</p>
                     <p>联机重做日志包含两个或多个联机重做日志文件。Oracle数据库至少需要两个文件，以保证一个文件始终可用于写入，以防另一个文件正在被清除或存档。</p>
                     <div class="infoboxnotealso" id="GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1__GUID-AC1F8EFE-AEA0-43A7-BD81-404054A45E47">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../racad/administering-storage-in-oracle-rac.html#RACAD704" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a>了解Oracle RAC中的联机重做日志组</p>
                     </div>
                  </div><a id="CNCPT88998"></a><a id="CNCPT88997"></a><div class="props_rev_3"><a id="GUID-26BC209A-999D-4606-84F4-D408A9809232" name="GUID-26BC209A-999D-4606-84F4-D408A9809232"></a><h5 id="CNCPT-GUID-26BC209A-999D-4606-84F4-D408A9809232" class="sect5">在线重做日志开关</h5>
                     <div>
                        <p>Oracle数据库一次只使用一个联机重做日志文件来存储从重做日志缓冲区写入的记录。</p>
                        <p><a href="glossary.html#GUID-E96BC851-0B78-4250-8EAB-26EBDF4FE5A6"><span class="xrefglossterm">日志写入器进程（LGWR）</span></a>进程正在主动写入的<a href="glossary.html#GUID-B9F8AD18-CFA3-44C3-A945-5649EC90911C"><span class="xrefglossterm">联机重做日志文件</span></a>称为<a href="glossary.html#GUID-B9F8AD18-CFA3-44C3-A945-5649EC90911C"><span class="xrefglossterm">当前联机重做日志文件</span></a> 。
                        </p>
                        <p>当数据库停止写入一个联机重做日志文件并开始写入另一个时，会发生<a href="glossary.html#GUID-1A479613-DF95-469C-9C3B-D7DBA54F77F7"><span class="xrefglossterm">日志切换</span></a> 。通常，当前联机重做日志文件已满并且必须继续写入时会发生切换。但是，您可以将日志切换配置为定期发生，无论当前联机重做日志文件是否已填满，并手动强制日志切换。
                        </p>
                        <p>日志编写器循环写入联机重做日志文件。当日志写入器填充最后一个可用的联机重做日志文件时，该进程会写入第一个日志文件，然后重新启动该循环。<a href="physical-storage-structures.html#GUID-26BC209A-999D-4606-84F4-D408A9809232__I1006202">图11-6</a>说明了重做日志的循环写入。
                        </p>
                        <div class="figure" id="GUID-26BC209A-999D-4606-84F4-D408A9809232__I1006202">
                           <p class="titleinfigure">图11-6重新使用联机重做日志文件</p><img src="img/admin054.gif" alt="下面是图11-6的描述" title="下面是图11-6的描述" longdesc="img_text/admin054.html"><br><a href="img_text/admin054.html">“图11-6重新使用联机重做日志文件”的说明</a></div>
                        <!-- class="figure" -->
                        <p><a href="physical-storage-structures.html#GUID-26BC209A-999D-4606-84F4-D408A9809232__I1006202">图11-6</a>中的数字显示了LGWR写入每个联机重做日志文件的顺序。当日志切换和日志编写器开始写入时，数据库会为每个文件分配一个新的<a href="glossary.html#GUID-BD3B74B9-51B3-4E09-AAAD-76D0EA6FDE25"><span class="xrefglossterm">日志序列号</span></a> 。当数据库重用联机重做日志文件时，此文件将接收下一个可用的日志序列号。
                        </p>
                        <p>根据存档模式，填充的在线重做日志文件可供重复使用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果禁用归档（这意味着数据库处于<code class="codeph">NOARCHIVELOG</code>模式），则在其中记录的更改已由<a href="glossary.html#GUID-C27AAA54-E60B-49BC-AB04-7B3848EBAFD6"><span class="xrefglossterm">数据库写入程序（DBW）</span></a>检查（写入）到磁盘后，可以使用填充的联机重做日志文件。
                              </p>
                           </li>
                           <li>
                              <p>如果启用了归档（这意味着数据库处于<a href="glossary.html#GUID-1AA9F015-FD15-4A08-BE06-04F0A6797782"><span class="xrefglossterm">ARCHIVELOG模式）</span></a> ，则在将更改写入数据文件<span class="italic">并且</span>文件已归档后，可以使用填充的联机重做日志文件来记录编写器。
                              </p>
                           </li>
                        </ul>
                        <p>在某些情况下，可能会阻止日志写入程序重用现有的联机重做日志文件。实例恢复需要<a href="glossary.html#GUID-9D5700D2-31F3-4FA9-AB62-9D2ED0D67DE4"><span class="xrefglossterm">活动的联机重做日志文件</span></a> ，其中实例恢复不需要<a href="glossary.html#GUID-A47F1A1B-4332-4B13-BD18-AB3EB62A0EE5"><span class="xrefglossterm">非活动的联机重做日志文件</span></a> 。此外，可能正在清除联机重做日志文件。
                        </p>
                        <div class="infoboxnotealso" id="GUID-26BC209A-999D-4606-84F4-D408A9809232__GUID-F2872D3A-AFA4-4116-856B-05BA451080B5">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="process-architecture.html#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="后台进程是多进程Oracle数据库使用的其他进程。后台进程执行操作数据库所需的维护任务，并最大限度地提高多个用户的性能。">背景过程概述</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-the-redo-log.html#ADMIN007" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理联机重做日志</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88999"></a><a id="CNCPT11309"></a><div class="props_rev_3"><a id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1" name="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1"></a><h5 id="CNCPT-GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1" class="sect5">在线重做日志文件的多个副本</h5>
                     <div>
                        <p>Oracle数据库可以在不同位置自动维护两个或多个相同的联机重做日志副本。</p>
                        <p><a href="glossary.html#GUID-E9B9AD20-B224-4631-8654-D91DEBEAEB0A"><span class="xrefglossterm">联机重做日志组</span></a>由联机重做日志文件及其冗余副本组成。每个相同的副本都是联机重做日志组的成员。每个组由一个数字定义，例如组1，组2等。
                        </p>
                        <p>维护联机重做日志组的多个成员可防止丢失重做日志。理想情况下，成员的位置应位于不同的磁盘上，以便一个磁盘的故障不会导致丢失整个联机重做日志。</p>
                        <p>在<a href="physical-storage-structures.html#GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__I1006259">图11-7中</a> ， <code class="codeph">A_LOG1</code>和<code class="codeph">B_LOG1</code>是组1的相同成员，而<code class="codeph">A_LOG2</code>和<code class="codeph">B_LOG2</code>是组2的相同成员。组中的每个成员必须具有相同的大小。LGWR同时写入组1（成员<code class="codeph">A_LOG1</code>和<code class="codeph">B_LOG1</code> ），然后同时写入组2（成员<code class="codeph">A_LOG2</code>和<code class="codeph">B_LOG2</code> ），然后写入组1，依此类推。LGWR从不同时写入不同组的成员。
                        </p>
                        <div class="figure" id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__I1006259">
                           <p class="titleinfigure">图11-7联机重做日志文件的多个副本</p><img src="img/cncpt270.gif" alt="下面是图11-7的描述" title="下面是图11-7的描述" longdesc="img_text/cncpt270.html"><br><a href="img_text/cncpt270.html">“图11-7在线重做日志文件的多个副本”的说明</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__GUID-D9D233F4-EDD4-4A4C-B496-FF2106B05645">
                           <p class="notep1">注意：</p>
                           <p>Oracle建议您复用联机重做日志。如果需要恢复，丢失日志文件可能是灾难性的。多路复用联机重做日志时，数据库必须增加其执行的I / O量。根据您的系统，此额外I / O可能会影响整体数据库性能。</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__GUID-AF0B80FC-7648-4AA3-BA3E-E618563EA8FC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../admin/managing-the-redo-log.html#ADMIN11309" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何维护联机重做日志文件的多个副本</p>
                              </li>
                              <li>
                                 <p><a href="../sbydb/oracle-data-guard-redo-transport-services.html#SBYDB00400" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a> ，了解Data Guard配置成员之间的重做数据自动传输</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT928"></a><div class="props_rev_3"><a id="GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E" name="GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E"></a><h5 id="CNCPT-GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E" class="sect5">存档的重做日志文件</h5>
                     <div>
                        <p><span class="bold">归档重做日志文件</span>是联机重做日志组的已填充成员的副本。该文件不被视为数据库的一部分，而是由数据库创建并写入用户指定位置的联机重做日志文件的脱机副本。
                        </p>
                        <p>归档重做日志文件是备份和恢复策略的重要组成部分。您可以使用存档的重做日志文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>恢复数据库备份</p>
                           </li>
                           <li>
                              <p>更新<a href="glossary.html#GUID-728D4956-0F56-4D39-A63A-2E3FF5CCEDE4"><span class="xrefglossterm">备用数据库</span></a></p>
                           </li>
                           <li>
                              <p>使用Oracle LogMiner实用程序获取有关数据库历史记录的信息</p>
                           </li>
                        </ul>
                        <p>生成归档重做日志文件的操作称为<a href="glossary.html#GUID-193831AB-AC65-4926-A9CC-76F05CA25BFF"><span class="xrefglossterm">归档</span></a> 。此操作可以是自动或手动操作。只有在数据库处于<code class="codeph">ARCHIVELOG</code>模式时才可以。
                        </p>
                        <p>归档重做日志文件包括重做条目和联机重做日志组的相同成员的日志序列号。在<span class="q">“ <a href="physical-storage-structures.html#GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1" title="Oracle数据库可以在不同位置自动维护两个或多个相同的联机重做日志副本。">在线重做日志文件的多个副本</a> ”中</span> ，文件<code class="codeph">A_LOG1</code>和<code class="codeph">B_LOG1</code>是组1的相同成员。如果数据库处于<code class="codeph">ARCHIVELOG</code>模式，并且启用了自动存档，则<a href="glossary.html#GUID-EB5F3C2A-5046-4301-96CC-ADD66DD13167"><span class="xrefglossterm">存档程序进程（ARCn）</span></a>将存档其中一个文件。如果<code class="codeph">A_LOG1</code>已损坏，则该进程可以归档<code class="codeph">B_LOG1</code> 。归档重做日志包含从您启用归档时开始存在的每个重做日志组的副本。
                        </p>
                        <div class="infoboxnotealso" id="GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E__GUID-FA73A6C3-BE1B-478C-AFC5-EA4DEBAD751C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-D2E36A56-0571-4857-8D41-BBCC833403E5" title="Oracle LogMiner使您可以通过SQL接口查询重做日志文件。">Oracle LogMiner</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-7F5703F9-CAE5-4736-895B-B45A51974A7C" title="数据文件恢复修复丢失或损坏的当前数据文件或控制文件。它还可以恢复在没有OFFLINE NORMAL选项的情况下表空间脱机时丢失的更改。">数据文件恢复</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-archived-redo-log-files.html#ADMIN008" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理归档重做日志</p>
                              </li>
                              <li>
                                 <p><a href="../sbydb/oracle-data-guard-redo-transport-services.html#SBYDB4752" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a> ，了解如何配置备用重做日志存档</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT11304"></a><div class="props_rev_3"><a id="GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7" name="GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7"></a><h4 id="CNCPT-GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7" class="sect4">在线重做日志的结构</h4>
                  <div>
                     <p>联机重做日志文件包含重做记录。</p>
                     <p>重做记录由一组变化向量组成，每个变量向量描述对<a href="glossary.html#GUID-2141C31D-6752-4260-91CE-99B4CC557247"><span class="xrefglossterm">数据块</span></a>的变化。例如， <code class="codeph">employees</code>表中对薪水的更新会生成一个重做记录，该记录描述对表的<a href="glossary.html#GUID-2CDB4221-D152-4C89-BB2B-4A7FC6DA340B"><span class="xrefglossterm">数据段</span></a>块，还原段数据块和还原段的<a href="glossary.html#GUID-BFF71130-2760-4C64-8829-7772C803FBE7"><span class="xrefglossterm">事务表</span></a>的更改。
                     </p>
                     <p>重做记录包含更改的所有相关元数据，包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SCN和更改的时间戳</p>
                        </li>
                        <li>
                           <p>生成更改的事务的事务ID</p>
                        </li>
                        <li>
                           <p>提交事务时的SCN和时间戳（如果已提交）</p>
                        </li>
                        <li>
                           <p>进行更改的操作类型</p>
                        </li>
                        <li>
                           <p>修改后的数据段的名称和类型</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7__GUID-CF2EB5D8-EDDB-47A1-A59A-E478D439B914">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="logical-storage-structures.html#GUID-1AED5140-E820-436C-BEB7-2A985524911E" title="Oracle数据库在称为数据块的单元（也称为Oracle块或页面）中管理数据库的数据文件中的逻辑存储空间。数据块是数据库I / O的最小单位。">数据块概述</a> ”</span></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>