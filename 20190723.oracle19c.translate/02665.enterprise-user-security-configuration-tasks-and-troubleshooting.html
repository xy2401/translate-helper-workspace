<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>企业用户安全配置任务和故障排除</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="enterprise-user-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:14:01-08:00"></meta>
      <meta name="dcterms.title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2000, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96086-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuration-and-administration-tools-overview.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-enterprise-user-security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DBIMI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuration-and-administration-tools-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-enterprise-user-security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">企业用户安全管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">企业用户安全配置任务和故障排除</li>
            </ol>
            <a id="GUID-C88D3DC6-3956-4728-B04B-764D28760F19" name="GUID-C88D3DC6-3956-4728-B04B-764D28760F19"></a><a id="DBIMI150"></a>
            
            <h2 id="DBIMI-GUID-C88D3DC6-3956-4728-B04B-764D28760F19" class="sect2"><span class="enumeration_chapter">4</span>企业用户安全配置任务和故障排除</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何使用一系列步骤配置Enterprise User Security。它们包括通过以企业用户身份连接到数据库的初始数据库和目录准备，其中身份验证可以使用密码，Kerberos票证或SSL。在测试企业用户安全性实施时，故障排除部分可以帮助您。</p>
               <div class="p">本章包含以下主题：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040">企业用户安全配置概述</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC">企业用户安全配置路线图</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备企业用户安全目录（第一阶段）</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">在数据库和目录中配置企业用户安全对象（第二阶段）</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-80ED2984-6B82-4E8E-A21B-3C853455B412">为您需要的身份验证方法配置企业用户安全性（第三阶段）</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27">启用当前用户数据库链接</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">排除企业用户安全</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBIMI576"></a><a id="DBIMI254"></a><div class="props_rev_3"><a id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040" name="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040"></a><h3 id="DBIMI-GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040" class="sect3">企业用户安全配置概述</h3>
               <div>
                  <p>配置企业用户安全性意味着在您希望企业用户可访问的数据库中创建共享模式和全局角色。您可以在目录中配置身份管理领域以反映这些数据库角色和模式，然后将目录用户与它们相关联。无论您选择哪种身份验证方法，这些步骤都适用：密码，Kerberos或SSL。</p>
                  <p>身份验证类型之间的主要配置差异在于网络连接配置。您必须考虑以下三种连接类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>客户机到数据库</p>
                     </li>
                     <li>
                        <p>数据库到目录</p>
                     </li>
                     <li>
                        <p>数据库到数据库（当前用户数据库链接只能通过SSL保护）</p>
                     </li>
                  </ul>
                  <p>Enterprise User Security支持数据库，目录和客户端之间的许多身份验证类型组合。本章中描述的三种最常见的企业用户安全实现使用以下身份验证方法进行客户端数据库和数据库目录连接：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>两个连接的密码</p>
                     </li>
                     <li>
                        <p>两个连接的SSL</p>
                     </li>
                     <li>
                        <p>用于客户端 - 数据库连接的Kerberos和用于数据库目录连接的密码</p>
                     </li>
                  </ul>
                  <p>您可以根据网络环境决定选择哪一种，因为企业数据的安全性和完整性取决于创建安全的网络连接。典型的网络环境可以使所有客户端，数据库和目录驻留在防火墙后面的同一网络中，或者分布在多个网络中并且可能暴露给Internet。不同的环境可以指定您选择的身份验证类型，以保护您的Enterprise User Security网络连接。</p>
                  <p>进行此类选择的第二个考虑因素是更严格的身份验证类型（如SSL和Kerberos）需要更高的配置复杂性，额外的软件和持续的维护。</p>
                  <p>企业用户安全的配置过程<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__I1010104">如图4-1</a>所示。这是一个循序渐进的过程，其中包含基于您的实施以及用户身份验证方式的决策点。用虚线表示的配置步骤是可选的。
                  </p>
                  <div class="figure" id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__I1010104">
                     <p class="titleinfigure">图4-1企业用户安全配置流程图</p><img src="img/asoag034.gif" width="615" alt="下面是图4-1的描述" title="下面是图4-1的描述" longdesc="img_text/asoag034.html"><br><a href="img_text/asoag034.html">“图4-1企业用户安全配置流程图”的说明</a></div>
                  <!-- class="figure" -->
                  <p>为简洁起见，本流程图中缩写了一些产品名称和功能。下表列出了使用的缩写和每个缩写的含义：</p>
                  <div class="tblformal" id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__GUID-482501B8-63E5-424D-9EFB-926764C45FBC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the product name abbreviations used in Figure 11-1 and provides their meanings." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d14512e264">缩写</th>
                              <th align="left" valign="bottom" width="71%" id="d14512e268">含义</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e273" headers="d14512e264 ">
                                 <p>DBCA</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e273 d14512e268 ">
                                 <p>数据库配置助手</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e280" headers="d14512e264 ">
                                 <p>EM</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e280 d14512e268 ">
                                 <p>Oracle企业管理器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e287" headers="d14512e264 ">
                                 <p>IM领域</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e287 d14512e268 ">
                                 <p>身份管理领域</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e294" headers="d14512e264 ">
                                 <p>Netmgr</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e294 d14512e268 ">
                                 <p>Oracle Net Manager</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e301" headers="d14512e264 ">
                                 <p>ODM</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e301 d14512e268 ">
                                 <p>Oracle目录管理器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e308" headers="d14512e264 ">
                                 <p>OID</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e308 d14512e268 ">
                                 <p>Oracle Internet Directory</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e315" headers="d14512e264 ">
                                 <p>OID DAS</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e315 d14512e268 ">
                                 <p>Oracle Internet Directory委派管理服务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e322" headers="d14512e264 ">
                                 <p>OWM</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e322 d14512e268 ">
                                 <p>Oracle钱包管理器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e329" headers="d14512e264 ">
                                 <p>SQL</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e329 d14512e268 ">
                                 <p>在SQL * Plus</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__GUID-F409ADFE-C3CE-4252-9970-3D67D5C87072">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="introducing-enterprise-user-security.html#GUID-080DE6BD-8D54-49EC-BAC4-4EC5CC6A25BF">介绍企业用户安全性，</a>以获取有关领域Oracle Context，其管理组以及与企业用户安全性相关的条目的信息</p>
                  </div>
               </div>
            </div><a id="DBIMI255"></a><div class="props_rev_3"><a id="GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC" name="GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC"></a><h3 id="DBIMI-GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC" class="sect3">企业用户安全配置路线图</h3>
               <div>
                  <p>本节提供了<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__I1010104">图4-1</a>所示配置步骤的详细说明。它们应按以下顺序执行：</p>
                  <ol>
                     <li>
                        <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">为企业用户安全准备目录（第一阶段）</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">在数据库和目录中配置企业用户安全对象（第二阶段）</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-80ED2984-6B82-4E8E-A21B-3C853455B412">为您需要的身份验证方法配置企业用户安全性（第三阶段）</a> ”</span> ，通过将您选择的身份验证方法设置为以下三种身份之一来完成企业用户安全性配置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5">为密码身份验证配置企业用户安全性</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F">为Kerberos身份验证配置企业用户安全性</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199">为SSL身份验证配置企业用户安全性</a> ”</span></p>
                           </li>
                        </ul>
                     </li>
                  </ol>
               </div>
            </div><a id="DBIMI577"></a><a id="DBIMI578"></a><a id="DBIMI579"></a><a id="DBIMI580"></a><a id="DBIMI581"></a><a id="DBIMI582"></a><a id="DBIMI583"></a><a id="DBIMI584"></a><a id="DBIMI585"></a><a id="DBIMI586"></a><a id="DBIMI120"></a><div class="props_rev_3"><a id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F" name="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F"></a><h3 id="DBIMI-GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F" class="sect3">准备企业用户安全目录（第一阶段）</h3>
               <div>
                  <div class="section">
                     <p>必须先执行此配置阶段，然后才能配置Enterprise User Security的任何其他部分。</p>
                     <p>12 <span class="italic">c</span>版本1（12.1）的企业用户安全性需要版本9.0.4（或更高版本）的Oracle Internet Directory版本，该版本使用所需的Oracle架构版本进行安装。此架构向后兼容。安装Oracle Internet Directory后，请执行以下目录使用配置任务：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009645">任务1 :(可选）在目录中创建身份管理领域</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009650">任务2 :(可选）设置身份管理领域属性</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009655">任务3：识别目录中的管理用户</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009661">任务4 :(可选）为身份管理领域设置默认的数据库到目录身份验证类型</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009666">任务5 :(可选）配置Oracle主目录以进行目录使用</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009285">任务6：在目录中注册数据库</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009645">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-A060EF7D-FC03-49F3-BB3C-B3A3D10E7C1B">任务1 :(可选）在目录中创建身份管理领域</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如有必要，请使用Oracle Internet Directory自助服务控制台（委派管理服务）在目录中创建身份管理领域。您可以使用Oracle Internet Directory配置助手将Oracle9 <span class="italic">i</span> Oracle Context升级到9.0.4或更高版本的Identity Management Realm。
                     </p>
                     <p>您必须具有9.0.4（或更高版本）身份管理领域才能使用Oracle Database <span class="italic">10g</span>或Oracle Database <span class="italic">11g</span> 。版本9.0.4领域向后兼容Oracle9 <span class="italic">i</span> ，因此您可以在同一领域中注册Oracle9 <span class="italic">i</span>和Oracle Database 12 <span class="italic">c</span>第1版（12.1），并根据需要将它们放在同一个域中。
                     </p>
                     <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-23BC1C87-0C42-46ED-94FA-01B9BB70EDBC">
                        <p class="notep1">也可以看看：</p>
                        <p>有关在Oracle Internet Directory中创建身份管理领域的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIMDA005" target="_blank"><span class="italic">Oracle身份管理指向委派管理</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009650">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-95553F39-B6E3-4937-80F6-0575FECD153A">任务2 :(可选）设置身份管理领域属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__BABFIBCD" title="此表有3列，显示版本9.0.4身份管理领域的默认值。第1列是用户搜索库，第2列是组搜索库，第3列是登录名属性（昵称）。">表4-1</a>显示了9.0.4版本身份管理领域的默认值。
                     </p>
                     <div class="tblformal" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__BABFIBCD">
                        <p class="titleintable">表4-1 Identity Realm默认值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="身份领域默认值" width="100%" border="1" summary="This table has 3 columns and shows the defaults for a version 9.0.4 identity management realm. Column 1 is the user search base, column 2 is the group search base, and column 3 is the logon name attribute (nickname)." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d14512e662">用户搜索库</th>
                                 <th align="left" valign="bottom" width="31%" id="d14512e665">组搜索库</th>
                                 <th align="left" valign="bottom" width="41%" id="d14512e668">登录名属性（昵称）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d14512e673" headers="d14512e662 ">
                                    <p><code class="codeph">cn=Users,</code> <span class="italic"><code class="codeph">realm_DN</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d14512e673 d14512e665 ">
                                    <p><code class="codeph">cn=Groups,</code> <span class="italic"><code class="codeph">realm_DN</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14512e673 d14512e668 ">
                                    <p><span class="italic"><code class="codeph">uid</code></span> ，用户ID</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果需要不同的设置，请使用Oracle Internet Directory自助服务控制台设置用户搜索库，组搜索库和登录名属性（ <a id="d14512e695" class="indexterm-anchor"></a>昵称）。您还可以在计划在目录中使用的身份管理领域中设置必要的上下文管理员。
                     </p>
                     <p>要执行此任务，请参阅<span class="q">“ <a href="administering-enterprise-user-security.html#GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9">设置Identity Management领域的属性</a> ”</span> 。
                     </p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-A91EDC80-CDE6-497F-A652-67F659DF34C4">
                        <p class="notep1">注意：</p>
                        <p>每个身份管理领域都包括一个orcladmin用户，该用户只是该领域的root用户。这些特定于领域的orcladmin用户由目录条目<code class="codeph">cn=orcladmin,cn=Users,&lt;realm_DN&gt;</code> 。请注意，当您以特定于领域的orcladmin用户身份登录Enterprise User Security管理工具时，您只能管理该领域的目录对象。要管理其他领域中的对象，您必须以该领域的orcladmin用户身份登录管理工具。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009655">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-379B302A-0196-4D5E-BB0D-F0EFB33FD39E">任务3：识别目录中的管理用户</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>确定目录中有权执行以下任务的管理用户：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>注册数据库</p>
                        </li>
                        <li>
                           <p>管理数据库安全性</p>
                        </li>
                        <li>
                           <p>创建和管理企业域</p>
                        </li>
                     </ul>
                     <p>如果尚不存在可以执行这些任务的<a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">管理用户</a> ，请参阅<a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">管理企业用户安全性</a>以创建它们。
                     </p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-2C6DA29B-9268-49DD-8678-D6E09D65383B">
                        <p class="notep1">注意：</p>
                        <p>虽然一个管理员可以执行所有企业用户安全管理任务，但您可以创建许多不同类型的管理员，以便可以将安全任务分配给不同的人员。以这种方式分离安全任务可以实现更安全的企业环境，但这需要不同管理员之间的协调。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009661">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-5F327304-8C30-41CC-B8E6-BD13085AC0BA">任务4 :(可选）为身份管理领域设置默认的数据库到目录身份验证类型</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>默认情况下，身份管理领域的数据库到目录身份验证类型设置为密码。如果需要其他默认设置，请使用Oracle Enterprise Manager界面进行更改。例如，如果您使用的是公钥基础结构（PKI），则需要将身份验证类型设置为SSL。请参阅<span class="q">“ <a href="administering-enterprise-user-security.html#GUID-EEDDF2CA-0078-4AF8-A513-438429EEA370">为Identity Management领域设置默认数据库到目录的身份验证类型</a> ”</span> 。
                     </p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-13E67DF2-6C8D-406E-AADA-1D4CCC4D0C6A">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>通过设置<code class="codeph">LDAP_DIRECTORY_ACCESS</code>初始化参数，可以在数据库上覆盖此默认的realmwide设置。有关此参数的详细信息，请参阅<a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>如果您使用的是SSL，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Oracle融合中间件管理员指南（适用于Oracle Internet Directory），</span></a>以获取有关使用Oracle Internet Directory的双向身份验证设置SSL的信息。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009666">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-6E2DDB59-44EF-40FB-AF08-C10B0912E6FE">任务5 :(可选）配置Oracle主目录以进行目录使用</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此步骤是可选的，因为域名系统（DNS）发现（用于在网络上查找目录的自动域名查找）的用户不需要执行此步骤。（有关DNS服务器发现的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2184" target="_blank"><span class="italic">适用于Oracle Internet Directory的Oracle融合中间件管理员指南</span></a> 。）
                     </p>
                     <p>如果您<span class="italic">不</span>使用DNS发现，则<span class="italic">必须</span>使用Oracle Net Configuration Assistant（NetCA）为Oracle主目录创建<code class="codeph">ldap.ora</code>文件。此配置文件指定目录主机和端口信息，以及身份管理领域的位置，以便数据库可以连接到该目录。（请参阅<span class="q">“ <a href="configuration-and-administration-tools-overview.html#GUID-29E799B0-312F-4C00-B395-87E5FC2094EC">启动Oracle Net Configuration Assistant</a> ”</span> ）</p>
                     <p>要为Oracle主目录创建<code class="codeph">ldap.ora</code>文件：</p>
                     <ol>
                        <li>
                           <p>在Oracle Net Configuration Assistant欢迎页面中，选择“ <span class="bold">目录服务使用配置”</span> ，然后单击“ <span class="bold">下一步”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>在“目录使用配置”页面上，选择适合您环境的选项。然后按照向导中的提示进行操作，并参阅联机帮助，为Oracle主目录创建<code class="codeph">ldap.ora</code>文件。
                           </p>
                           <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-B4DA51EF-3E36-46C1-983C-68AF380F3016">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>数据库和目录之间的SSL身份验证要求在<code class="codeph">ldap.ora</code>文件中输入的SSL端口支持双向身份验证，其中客户端和服务器都相互发送证书。因此，您必须获取Oracle Internet Directory的PKI数字证书和钱包，并以SSL相互身份验证模式启动Oracle Internet Directory。<code class="codeph">ldap.ora</code>文件中的第二个端口应具有SSL相互身份验证端口。（请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Oracle Internet Middle Directory管理员指南</span></a> 。）
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果对数据库到目录的连接使用密码身份验证，则在<code class="codeph">ldap.ora</code>文件中输入的SSL端口必须支持SSL而不进行身份验证。Oracle Internet Directory不需要钱包或证书。<code class="codeph">ldap.ora</code>文件中的第二个端口应该具有SSL无身份验证端口。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-C1365335-BE9C-4CA7-BE25-67BC226D2D28">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="getting-started-with-enterprise-user-security.html#GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1">配置数据库以使用目录</a> ”</span>以获取使用NetCA配置目录使用情况的示例</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009285">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-F699EFAA-C79D-4F5F-90D0-873085707047">任务6：在目录中注册数据库</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>为Oracle目录使用配置Oracle主目录后，使用Database Configuration Assistant在目录中注册数据库。注册在目录中创建一个条目，以便数据库可以绑定（登录）它。</p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-15235585-A188-4035-84A7-8434EC4BBF97">
                        <p class="notep1">注意：</p>
                        <p>要执行此任务，您必须是目录超级用户或<code class="codeph">OracleDBCreators</code>组或<code class="codeph">OracleContextAdmins</code>组的成员。
                        </p>
                     </div>
                     <p>在目录中注册数据库时，Database Configuration Assistant将执行以下配置任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建新的数据库服务条目和子树，并在Oracle Context中为您正在使用的身份管理领域为其分配DN。</p>
                        </li>
                        <li>
                           <p>将数据库添加到默认企业域。</p>
                        </li>
                        <li>
                           <p>通过将<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数设置为三个允许设置之一，将数据库的身份验证类型建立到目录： <code class="codeph">NONE</code> ， <code class="codeph">PASSWORD</code>或<code class="codeph">SSL</code> 。 Database Configuration Assistant读取身份管理领域的默认数据库到目录身份验证属性设置，以确定数据库的身份验证类型设置。
                           </p>
                           <p>驻留在数据库初始化参数文件中的<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数确定数据库是否以及如何尝试对目录进行身份验证。管理员可以使用<code class="codeph">ALTER SYSTEM</code>命令更改此身份验证类型设置。
                           </p>
                        </li>
                        <li>
                           <p>创建一个数据库钱包，其中包含以下格式的数据库DN：</p>
                           <p><code class="codeph">cn=</code> <span class="italic"><code class="codeph">short_database_name</code></span> <code class="codeph">,cn=OracleContext,</code> <span class="italic"><code class="codeph">realm_DN</code></span> 
                           </p>
                           <p>其中<span class="italic"><code class="codeph">short_database_name</code></span>是数据库的完全限定域名的第一部分。
                           </p>
                           <p>例如，如果您有一个名为<code class="codeph">db1.us.example.com</code>的数据库，则短数据库名称为<code class="codeph">db1</code> 。
                           </p>
                        </li>
                        <li>
                           <p>随机生成用于目录访问的数据库密码，将其存储在数据库钱包和目录中。</p>
                        </li>
                        <li>
                           <p>创建钱包后，如果存在<code class="codeph">ORACLE_BASE</code>环境变量，Database Configuration Assistant会将其存储在<code class="codeph">$ORACLE_BASE</code> <code class="codeph">/admin/</code> <span class="italic"><code class="codeph">Oracle_SID</code></span> <code class="codeph">/wallet</code> （在UNIX环境中）。如果<code class="codeph">ORACLE_BASE</code>环境变量不存在，则使用<code class="codeph">$ORACLE_HOME/admin/</code> <span class="italic"><code class="codeph">Oracle_SID</code></span> <code class="codeph">/wallet</code>目录。
                           </p>
                           <p>在Windows环境中，使用反斜杠（\）替换斜杠（/）。</p>
                           <p>如果数据库钱包已存在，则Database Configuration Assistant将使用它并更新钱包中的密码。</p>
                        </li>
                        <li>
                           <p>启用数据库钱包的自动登录。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-EFE3524B-0D43-4905-BEEB-57DB47A3B618">
                        <p class="notep1">注意：</p>
                        <p>在Oracle Internet Directory中注册Oracle数据库时，数据库的基于密码的凭据可用于对Oracle Internet Directory进行身份验证。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__CHDDAAFB">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-2C1BF2C4-562B-4319-B265-54F121DA1BB0">要使用以下目录注册数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请参阅<span class="q">“ <a href="configuration-and-administration-tools-overview.html#GUID-F10A7BBD-8658-4B10-B4FD-B6AAEA04B3C0">启动Database Configuration Assistant</a> ”</span>以启动此工具。
                     </p>
                     <ol>
                        <li>
                           <p>启动Database Configuration Assistant后，选择“ <span class="bold">数据库中的配置数据库选项”，</span>然后单击“ <span class="bold">下一步”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>选择数据库并单击“ <span class="bold">下一步”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>要注册数据库，请单击“ <span class="bold">是，注册数据库”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>输入数据库的自定义数据库名称。</p>
                           <p>指定自定义数据库名称的功能是Oracle Database 12 <span class="italic">c</span>第1版（12.1）中的新增功能。默认情况下，目录中的数据库CN（DN的第一部分或可分辨名称）是<span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span> 。您可以将其更改为自定义值。
                           </p>
                        </li>
                        <li>
                           <p>在OracleDBCreators组中输入用户的目录凭据。</p>
                        </li>
                        <li>
                           <p>输入数据库钱包的密码。</p>
                           <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-11357F46-9BD9-4829-81C7-2674AA8DB93C">
                              <p class="notep1">注意：</p>
                              <p>记住您在步骤5中输入的数据库钱包密码。完成数据库注册后无法检索它。如果您不知道密码，则需要多步骤过程来生成新钱包并重新注册数据库。有关详细信息，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220">关于数据库电子钱包和密码</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>如果仅注册数据库，请单击“ <span class="bold">完成</span> ”。如果要配置其他数据库功能，请单击“ <span class="bold">下一步”</span> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-CB6B4051-D7F1-4711-9CB1-7E4F0F9A20C5">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="getting-started-with-enterprise-user-security.html#GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77">使用目录注册数据库</a> ”</span> ，以获取使用DBCA注册数据库的示例</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__CHDHJDIF">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-85BAABA1-2DB0-4D6C-B853-DC4D5E915C0D">要更改数据库的目录密码：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>启动Database Configuration Assistant后，选择“ <span class="bold">数据库中的配置数据库选项”</span> ，然后单击“ <span class="bold">下一步”</span> 。
                     </p>
                     <ol>
                        <li>
                           <p>选择数据库并单击“ <span class="bold">下一步”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>选择“ <span class="bold">重新生成数据库密码”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>输入OracleDBCreators组中用户的目录凭据以及数据库钱包的密码。单击<span class="bold">确定</span> 。</p>
                        </li>
                        <li>
                           <p>如果仅重新生成密码，请单击“ <span class="bold">完成</span> ”。如果要配置其他数据库功能，请单击“ <span class="bold">下一步”</span> 。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-31A9F68B-72B0-4C6D-AA02-756A03B12637">要从目录中取消注册数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请参阅<span class="q">“ <a href="configuration-and-administration-tools-overview.html#GUID-F10A7BBD-8658-4B10-B4FD-B6AAEA04B3C0">启动Database Configuration Assistant</a> ”</span>以启动此工具。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>启动Database Configuration Assistant后，选择“ <span class="bold">数据库中的配置数据库选项”，</span>然后单击“ <span class="bold">下一步”</span> 。</span></li>
                     <li><span>选择数据库并单击“ <span class="bold">下一步”</span> 。</span></li>
                     <li><span>要取消注册数据库，请选择“ <span class="bold">取消注册”</span>选项。</span></li>
                     <li><span>输入具有相应权限的用户的目录凭据。</span></li>
                     <li><span>输入数据库钱包的密码。</span></li>
                  </ol>
                  <div class="section">
                     <p>从目录中取消注册数据库时，Database Configuration Assistant将执行以下配置任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从目录中删除数据库条目和子树。</p>
                        </li>
                        <li>
                           <p>将<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数设置为<code class="codeph">NONE</code> 。</p>
                        </li>
                        <li>
                           <p>从其企业域中删除数据库（如果用户具有足够的权限）。</p>
                           <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-B8D0A49D-9C2A-41E3-8540-8C89C57BEFAF">
                              <p class="notep1">注意：</p>
                              <p>根据用户权限，Database Configuration Assistant可能无法从目录中的域中删除数据库。如果不能，则使用Oracle Enterprise Manager将其从企业域中删除。</p>
                           </div>
                        </li>
                        <li>
                           <p>不删除数据库钱包。</p>
                           <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-BF5E5200-B137-497D-B750-96F20BE3FFAA">
                              <p class="notep1">也可以看看：</p>
                              <p>有关删除钱包的详细信息，请参阅<span class="q">“ <a href="using-oracle-wallet-manager.html#GUID-2341A64C-E24F-444C-A533-52863B5C9001">关于Oracle Wallet Manager</a> ”</span>和<span class="q">“ <a href="using-oracle-wallet-manager.html#GUID-64EF6FB2-E837-49C4-86CD-5AA7F32071F3">删除Oracle Wallet</a> ”</span></p>
                           </div>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-C89F2BA5-50F5-48FE-8172-E3BD5EF44BF6">
                        <p class="notep1">注意：</p>
                        <p>要使用Database Configuration Assistant成功从Oracle Internet Directory取消注册Oracle数据库，您必须是以下之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Context Admin组的成员</p>
                           </li>
                           <li>
                              <p>数据库管理组（对于要取消注册的数据库）和数据库安全管理组的成员</p>
                           </li>
                           <li>
                              <p>数据库管理组（对于要取消注册的数据库）和域管理组（对于包含数据库的企业域）的成员。</p>
                           </li>
                        </ul>
                     </div>
                     <p>本节包括以下主题： <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220">关于数据库钱包和密码</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DBIMI256"></a><div class="props_rev_3"><a id="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220" name="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220"></a><h4 id="DBIMI-GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220" class="sect4">关于数据库钱包和密码</h4>
                  <div>
                     <p>即使没有使用SSL（安全套接字层）来保护数据库和目录之间的连接，数据库也需要钱包。如果使用SSL，则应使用此钱包存储数据库的数字PKI证书。</p>
                     <p>使用Database Configuration Assistant在目录中注册数据库时输入的钱包密码是钱包本身的密码。此密码不是数据库的目录登录凭据。</p>
                     <p>您可以稍后使用Oracle Wallet Manager更改此钱包密码。但是，如果您忘记了此钱包密码，则必须生成一个全新的钱包和密码。为此，您必须首先删除现有数据库钱包，创建一个新钱包（可以为空）并将其放在默认钱包位置<code class="codeph">$ORACLE_HOME/admin/</code> <span class="italic"><code class="codeph">Oracle_SID</code></span> <code class="codeph">/wallet</code> （在UNIX环境中）。接下来，从目录中取消注册数据库，然后在目录中重新注册数据库。在该注册期间，可以生成另一个数据库钱包和密码。
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220__GUID-02727DC7-3510-4C66-B581-4F358DC79DBF">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="using-oracle-wallet-manager.html#GUID-89D18B21-A63B-4A31-BE58-7AF6E4E22519">更改Oracle Wallet密码</a> ”</span> ，了解有关使用Oracle Wallet Manager更改钱包密码的信息，以及通常用于管理公钥基础结构（PKI）凭据的信息</p>
                     </div>
                     <p>准备好企业用户安全性目录后，可以按照<span class="q">“</span>在数据库和目录中<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">配置企业用户安全对象（第二阶段）</a> ”中的说明</span>创建企业用户安全性数据库和目录对象。
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220__GUID-5B09F521-7729-45AC-9D93-4B23663B24F7">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG075" target="_blank"><span class="italic">Oracle融合中间件管理员指南（适用于Oracle Internet Directory），</span></a>以获取有关在目录中配置身份管理领域的信息</p>
                           </li>
                           <li>
                              <p>有关更改<code class="codeph">LDAP_DIRECTORY_ACCESS</code>初始化参数值的信息，请<a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <p>本节包括以下主题： <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-46B64655-632D-4A5E-A745-872F41994E3C">在多个数据库之间共享钱包和sqlnet.ora文件</a> 。
                     </p>
                  </div><a id="DBIMI257"></a><div class="props_rev_3"><a id="GUID-46B64655-632D-4A5E-A745-872F41994E3C" name="GUID-46B64655-632D-4A5E-A745-872F41994E3C"></a><h5 id="DBIMI-GUID-46B64655-632D-4A5E-A745-872F41994E3C" class="sect5">在多个数据库之间共享钱包和sqlnet.ora文件</h5>
                     <div>
                        <p>多个数据库（不是副本）无法共享钱包，因为钱包包含数据库的标识。因此，如果<code class="codeph">sqlnet.ora</code>文件包含钱包位置，则多个数据库无法共享该<code class="codeph">sqlnet.ora</code>文件。
                        </p>
                        <p>为了在多个数据库之间共享单个<code class="codeph">sqlnet.ora</code>文件，需要以下前提条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用户身份验证应使用密码或Kerberos。</p>
                           </li>
                           <li>
                              <p>包含密码的钱包应位于默认钱包位置，这是Database Configuration Assistant创建它的位置。</p>
                           </li>
                        </ul>
                        <p>如果满足上述条件，则多个数据库<span class="italic">可以</span>共享<code class="codeph">sqlnet.ora</code>文件，因为该文件中不存储钱包位置信息。
                        </p>
                        <p>但是，在用户（客户端）和数据库之间使用<span class="italic">SSL</span>身份验证时，必须在数据库服务器的<code class="codeph">sqlnet.ora</code>文件中指定钱包位置。对于经过SSL身份验证的企业用户，多个数据库无法共享此类<code class="codeph">sqlnet.ora</code>文件。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DBIMI587"></a><a id="DBIMI588"></a><a id="DBIMI589"></a><a id="DBIMI590"></a><a id="DBIMI591"></a><a id="DBIMI258"></a><div class="props_rev_3"><a id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352" name="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352"></a><h3 id="DBIMI-GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352" class="sect3">在数据库和目录中配置企业用户安全对象（第二阶段）</h3>
               <div>
                  <div class="section">
                     <p>这是实施企业用户安全性所需的第二阶段配置步骤。本节中的配置步骤采用以下建议设置：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过完成<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备企业用户安全目录（第一阶段）</a> ”中</span>描述的任务，您已准备好数据库和目录。
                           </p>
                        </li>
                        <li>
                           <p>您的用户存储在身份管理领域用户子树中。</p>
                        </li>
                        <li>
                           <p>您使用OracleDefaultDomain，它是Database Configuration Assistant在目录中注册数据库时使用的默认<a href="glossary.html#GUID-54BA3120-94F0-4B48-8A39-7B81DA675240"><span class="xrefglossterm">企业域</span></a> 。
                           </p>
                        </li>
                     </ul>
                     <p>请注意，数据库必须位于身份管理领域中的企业域中，才能使企业用户登录工作。</p>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-EB41479C-5C23-4B1C-9472-47F967BF7DCD">
                        <p class="notep1">也可以看看：</p>
                        <p>如果您不使用OracleDefaultDomain或将用户存储在身份管理领域用户子树中，请参阅以下文档：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG075" target="_blank"><span class="italic">Oracle融合中间件管理员指南（适用于Oracle Internet Directory）</span></a> ，了解有关创建新身份管理领域或修改现有领域的信息，以及有关在目录对象上设置访问控制列表的信息</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-enterprise-user-security.html#GUID-38C395C8-3D91-4177-9A0E-D24A3744080F">创建企业域</a> ”</span>以创建另一个用于放置数据库的域。然后在以下配置步骤中将您的新域名替换为OracleDefaultDomain</p>
                           </li>
                        </ul>
                     </div>
                     <p>要在数据库和目录中配置Enterprise User Security对象，请执行以下任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006748">任务1：在数据库中创建全局模式和全局角色</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1010324">任务2：配置企业域的用户架构映射</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006807">任务3：在企业域中创建企业角色</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009695">任务4：将全局数据库角色添加到企业角色</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009700">任务5：为企业用户授予企业角色以进行数据库访问</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006748">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-B84C7955-51A4-4188-AC5C-A7353F620E3B">任务1：在数据库中创建全局模式和全局角色</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>虽然也可以使用Oracle Enterprise Manager完成此步骤，但以下示例直接使用SQL * Plus：</p>
                     <ol>
                        <li>
                           <p>为企业用户创建共享架构。以下语法示例创建名为guest的共享模式：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE USER guest IDENTIFIED GLOBALLY AS'';</pre><p>如果您不想使用共享架构，请在单引号之间指定用户DN以创建独占架构。</p>
                        </li>
                        <li>
                           <p>将<code class="codeph">CREATE SESSION</code>权限授予在步骤1中创建的共享模式，以便用户可以连接到该模式。以下语法示例将<code class="codeph">CREATE SESSION</code>权限授予guest共享模式：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT为访客创建会话;</pre><p>或者，您可以将<code class="codeph">CREATE SESSION</code>权限授予全局角色，您可以通过<a href="glossary.html#GUID-2038C643-C389-452E-9317-2105E39909A8"><span class="xrefglossterm">企业角色</span></a>向特定用户授予该<a href="glossary.html#GUID-2038C643-C389-452E-9317-2105E39909A8"><span class="xrefglossterm">角色</span></a> 。见步骤3。
                           </p>
                        </li>
                        <li>
                           <p>为数据库创建全局角色以保留相关权限。以下语法示例创建<code class="codeph">emprole</code>和<code class="codeph">custrole</code>全局角色：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE ROLE emprole IDENTIFIED GLOBALLY; SQL&gt; CREATE ROLE custrole IDENTIFIED GLOBALLY;</pre><p>全局角色与稍后创建的企业角色相关联，然后分配给企业用户。</p>
                        </li>
                        <li>
                           <p>为在步骤3中创建的新全局角色授予权限。以下语法示例授予<code class="codeph">SELECT</code>权限以在products表上<code class="codeph">emprole</code>和<code class="codeph">custrole</code>全局角色：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT选择ON产品TO custrole，emprole;</pre><div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-C1EE73EA-2014-47F6-8C1C-D0C9F13B4E90">
                              <p class="notep1">也可以看看：</p>
                              <p>有关创建用户语法的信息，请<a href="../sqlrf/CREATE-USER.html#SQLRF-GUID-F0246961-558F-480B-AC0F-14B50134621C" target="_blank"><span><cite>参见“Oracle数据库SQL语言参考</cite></span></a> ”。
                              </p>
                              <p>有关向用户或角色授予权限的语法的信息，请<a href="../sqlrf/GRANT.html#SQLRF-GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3" target="_blank"><span><cite>参见“Oracle数据库SQL语言参考</cite></span></a> ”。
                              </p>
                              <p>有关创建角色语法的信息，请<a href="../sqlrf/CREATE-ROLE.html#SQLRF-GUID-B2252DC5-5AE7-49B7-9048-98062993E450" target="_blank"><span><cite>参见“Oracle数据库SQL语言参考</cite></span></a> ”。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1010324">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-9043AEFB-FDF6-4196-9FC3-B5DECDD74F80">任务2：配置企业域的用户架构映射</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用Enterprise Manager通过使用以下步骤为OracleDefaultDomain配置用户架构映射：</p>
                     <ol>
                        <li>
                           <p>以管理用户身份登录Enterprise Manager Cloud Control。</p>
                        </li>
                        <li>
                           <p>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。
                           </p>
                        </li>
                        <li>
                           <p>单击出现的列表中的数据库名称。出现数据库页面。</p>
                        </li>
                        <li>
                           <p>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。
                           </p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。
                           </p>
                           <p>将显示“企业用户安全性”页面</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">管理企业域”</span> 。
                           </p>
                           <p>将显示“管理企业域”页面。此页面列出了身份管理领域中的企业域。</p>
                        </li>
                        <li>
                           <p>选择<span class="bold">OracleDefaultDomain</span> 。单击<span class="bold">配置</span> 。
                           </p>
                           <p>将显示“配置域”页面。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">用户架构映射”</span>选项卡。将显示在域级别创建的所有用户架构映射。此处不显示在数据库级别创建的用户架构映射。
                           </p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">创建”</span>以为域创建新的用户架构映射。
                           </p>
                           <p>系统弹出“创建映射”页面。</p>
                        </li>
                        <li>
                           <p>在“发件人”部分下，选择“ <span class="bold">用户”</span>以将单个企业用户映射到数据库模式。或者，选择<span class="bold">“</span>子<span class="bold">树”</span>以映射包含多个用户的目录子树。您可以使用“搜索”图标搜索相应的用户或子树。
                           </p>
                        </li>
                        <li>
                           <p>在“收件人”部分下，输入用户或子树应映射到的<span class="bold">架构</span>的名称。这是您在任务1中创建的架构。
                           </p>
                        </li>
                        <li>
                           <p>在Create Mapping页面中单击<span class="bold">Continue</span> 。
                           </p>
                        </li>
                        <li>
                           <p>在“配置域”页面中单击“ <span class="bold">确定</span> ”。
                           </p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-CA8D799A-D68F-4D06-982B-D86F09376819">
                        <p class="notep1">注意：</p>
                        <p>您还可以为企业域中的单个数据库创建用户架构映射。此类映射仅适用于该特定数据库，而不适用于域中的其他数据库。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-F15724C7-9E0A-4DCA-B997-0D2777076328">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“将<a href="getting-started-with-enterprise-user-security.html#GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4">企业用户映射到共享模式</a> ”</span>以获取有关创建用户模式映射的示例</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006807">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-63127788-995F-468F-A63C-84F1FBBC53EA">任务3：在企业域中创建企业角色</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用Enterprise Manager通过以下步骤在OracleDefaultDomain中创建企业角色：</p>
                     <ol>
                        <li>
                           <p>在Manage Enterprise Domains页面中选择OracleDefaultDomain。单击<span class="bold">配置</span> 。
                           </p>
                           <p>将显示“配置域”页面。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">企业角色”</span>选项卡。
                           </p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">创建”</span>以创建新的企业角色。
                           </p>
                           <p>将显示“ <span class="bold">创建企业角色”</span>页面。
                           </p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">名称”</span>字段中输入企业角色的<span class="bold">名称</span> 。单击<span class="bold">继续</span> 。
                           </p>
                           <p>新角色显示在“配置域”页面中。</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-B0123802-372D-4F29-98A3-81C19AC6786F">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785">使用企业角色</a> ”</span>作为创建和使用企业角色的示例</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009695">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-A1CE70E0-34A8-4A5E-BA2C-3B99F93054DC">任务4：将全局数据库角色添加到企业角色</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用Enterprise Manager通过使用以下步骤将您在任务1中创建的全局数据库角色添加到在任务3中创建的企业角色：</p>
                     <ol>
                        <li>
                           <p>在“配置域”页面中选择刚刚创建的企业角色。单击<span class="bold">编辑</span> 。
                           </p>
                           <p>将显示“编辑企业角色”页面。</p>
                        </li>
                        <li>
                           <p>确保已选中“ <span class="bold">DB全局角色”</span>选项卡。单击“ <span class="bold">添加”</span>以从属于企业域的数据库中添加全局角色。
                           </p>
                           <p>将显示“搜索和选择数据库全局角色”页面。</p>
                        </li>
                        <li>
                           <p>选择包含要添加的全局角色的<span class="bold">数据库</span> 。通过提供<span class="bold">用户名</span>和<span class="bold">密码</span>登录到所选数据库。单击<span class="bold">Go</span> 。</p>
                        </li>
                        <li>
                           <p>选择要添加的全局角色。单击<span class="bold">选择</span> 。
                           </p>
                           <p>所选角色将显示在“编辑企业角色”页面中。</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-43CC9F91-765B-4874-96CB-C01564F31234">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785">使用企业角色</a> ”</span>作为创建和使用企业角色的示例</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009700">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-054398D7-DD34-4D11-9157-12AE30025BB5">任务5：为企业用户授予企业角色以进行数据库访问</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用Enterprise Manager通过使用以下步骤将您在任务3中创建的企业角色授予企业用户：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>单击“编辑企业角色”页面中的“ <span class="bold">受赠者”</span>选项卡。</span></li>
                     <li class="stepexpand"><span>单击<span class="bold">添加</span> 。</span><div>
                           <p>将显示“选择用户或组”页面。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择<span class="bold">搜索库</span>或包含用户或组的子树。如果要向用户授予企业角色，请在“ <span class="bold">查看”</span>下选择“用户”。如果要将角色授予组，请在“ <span class="bold">查看”</span>下选择“组”。（可选）在“ <span class="bold">名称”</span>字段中输入用户或组的公用名。单击<span class="bold">Go</span> 。</span></li>
                     <li class="stepexpand"><span>选择要授予企业角色的用户或组。单击<span class="bold">选择</span> 。</span></li>
                     <li class="stepexpand"><span>单击“编辑企业角色”页面中的“ <span class="bold">继续</span> ”</span></li>
                     <li class="stepexpand"><span>在“配置域”页面中单击“ <span class="bold">确定</span> ”。</span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-E41874B6-50DE-40A2-B64B-11A2271A559E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785">使用企业角色</a> ”</span>作为创建和使用企业角色的示例</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI259"></a><div class="props_rev_3"><a id="GUID-80ED2984-6B82-4E8E-A21B-3C853455B412" name="GUID-80ED2984-6B82-4E8E-A21B-3C853455B412"></a><h3 id="DBIMI-GUID-80ED2984-6B82-4E8E-A21B-3C853455B412" class="sect3">为您需要的身份验证方法配置企业用户安全性（第三阶段）</h3>
               <div>
                  <div class="p">在第三阶段，您将根据您选择的身份验证方法完成企业用户安全配置。转到以下部分之一：<ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5">为密码身份验证配置企业用户安全性</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F">为Kerberos身份验证配置企业用户安全性</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199">为SSL身份验证配置企业用户安全性</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-80ED2984-6B82-4E8E-A21B-3C853455B412__GUID-B255CF6E-6270-4B8C-A68B-02D076A24EB9">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="introducing-enterprise-user-security.html#GUID-7145F4E9-20A7-4387-8D2C-BA0B894071F6__CHDFEJBG" title="此表有3列，并列出了三种可用的企业用户安全身份验证方法提供的好处：第1列是密码身份验证，第2列是SSL身份验证，第3列是Kerberos身份验证。您可以使用此信息为您的实现选择适当的身份验证方法。">表1-1</a>用于比较企业用户安全性的密码，Kerberos和SSL身份验证所带来的好处</p>
                  </div>
               </div><a id="DBIMI592"></a><a id="DBIMI593"></a><a id="DBIMI122"></a><div class="props_rev_3"><a id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5" name="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5"></a><h4 id="DBIMI-GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5" class="sect4">配置密码验证的企业用户安全性</h4>
                  <div>
                     <div class="section">
                        <p>默认情况下，新企业域配置为接受所有支持的用户身份验证类型（密码，Kerberos和SSL）。如果希望通过密码对企业用户进行身份验证，则必须按照以下任务中的说明对其进行配置。</p>
                        <p>本节中的配置步骤假定以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您已通过完成<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备企业用户安全目录（第一阶段）</a> ”中</span>所述的任务来<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备目录</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>您已通过完成“在数据库和目录中<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">配置企业用户安全对象（第二阶段）</a> ”中</span>所述的任务，在数据库和目录中<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">配置了Enterprise User Security对象</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>您已经为Oracle Internet Directory配置了一个没有身份验证的SSL实例，如Oracle Internet <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Middleware管理员指南（适用于Oracle Internet Directory）中所述</span></a> 。如果您使用的是<code class="codeph">ldap.ora</code>文件，那么还要确保将没有身份验证实例的此SSL的端口号列为目录SSL端口。
                              </p>
                           </li>
                        </ul>
                        <p>要配置企业用户安全性以进行密码验证，请执行以下任务：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009712">任务1 :(可选）启用Enterprise Domain以接受密码身份验证</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009722">任务2：作为经过密码验证的企业用户进行连接</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009712">
                        <p class="subhead3" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__GUID-AF718EDD-ED55-4EBA-AA9B-3362664E09AE">任务1 :(可选）启用Enterprise Domain以接受密码身份验证</p>
                        <p>默认情况下，OracleDefaultDomain配置为接受密码身份验证。如果已更改，则使用Oracle Enterprise Manager使用以下步骤为OracleDefaultDomain启用密码身份验证：</p>
                        <ol>
                           <li>以管理用户身份登录Enterprise Manager Cloud Control。</li>
                           <li>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。
                           </li>
                           <li>单击出现的列表中的数据库名称。出现数据库页面。</li>
                           <li>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。
                           </li>
                           <li>
                              <p>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。
                              </p> 
                              <p>将显示“企业用户安全性”页面</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">管理企业域”</span> 。
                              </p> 
                              <p>将显示“管理企业域”页面。此页面列出了身份管理领域中的企业域。</p>
                           </li>
                           <li>
                              <p>选择<span class="bold">OracleDefaultDomain</span> 。单击<span class="bold">配置</span> 。
                              </p> 
                              <p>将显示“配置域”页面。</p>
                           </li>
                           <li>单击“ <span class="bold">配置”</span>选项卡。
                           </li>
                           <li>在“接受的用户验证类型”下，选择“ <span class="bold">密码”</span> 。
                           </li>
                           <li>单击<span class="bold">确定</span> 。</li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009722">
                        <p class="subhead3" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__GUID-E0B8C9D3-2431-4B38-AEBF-C03E8C9B6DA3">任务2：作为经过密码验证的企业用户进行连接</p>
                        <p>对于目录登录名为<code class="codeph">hscortea</code>且密码为<code class="codeph">Easy2rem</code>的企业用户，请输入以下内容以使用SQL * Plus连接到数据库：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; connect hscortea @ &lt; <span class="variable" translate="no">Oracle Net Service Name</span> &gt;输入密码：/ *提示输入密码时输入Easy2rem * /</pre><p>数据库通过验证与此用户关联的目录条目的用户名 - 密码组合来验证企业用户（ <code class="codeph">hscortea</code> ）。然后，它标识正确的模式并检索用户的全局角色。如果成功，则建立与数据库的连接。
                        </p>
                        <p>如果连接成功，则系统响应<code class="codeph">Connected to:...</code>这是成功连接和设置的确认消息。如果显示错误消息，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919">密码验证的企业用户的ORA-n错误</a> ”</span> 。
                        </p>
                        <p>如果连接成功，请通过在SQL * Plus提示符处输入以下内容，检查是否从目录中检索了相应的全局角色：</p><pre class="oac_no_warn" dir="ltr">从session_roles中选择*</pre><p>如果未从目录中检索全局角色，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES核对表</a> ”</span> 。
                        </p>
                        <p>您已完成经过密码验证的企业用户安全配置。</p>
                        <div class="infoboxnotealso" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__GUID-CA6B6287-5EB8-47F1-8C5A-FF68E83D65CE">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">企业用户安全性故障排除</a> ”</span> ，了解有关诊断和解决错误的信息</p>
                              </li>
                              <li>
                                 <p><a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">管理企业用户安全性</a>以获取有关配置身份管理领域以及创建和管理企业域，企业角色和企业用户的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI594"></a><a id="DBIMI595"></a><a id="DBIMI596"></a><a id="DBIMI597"></a><a id="DBIMI598"></a><a id="DBIMI123"></a><div class="props_rev_3"><a id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F" name="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F"></a><h4 id="DBIMI-GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F" class="sect4">为Kerberos身份验证配置企业用户安全性</h4>
                  <div>
                     <div class="section">
                        <p>本节中的配置步骤假定以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您已使用Kerberos身份验证服务器注册了数据库，并按照有关在<a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>Oracle数据库安全指南中</cite></span></a>配置Kerberos身份验证的信息中所述配置了Oracle Net Services。
                              </p>
                           </li>
                           <li>
                              <p>您已通过完成<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备企业用户安全目录（第一阶段）</a> ”中</span>所述的任务来<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备目录</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>您已通过完成“在数据库和目录中<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">配置企业用户安全对象（第二阶段）</a> ”中</span>所述的任务，在数据库和目录中<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">配置了Enterprise User Security对象</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>您已经为Oracle Internet Directory配置了一个没有身份验证的SSL实例，如Oracle Internet <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG075" target="_blank"><span class="italic">Middleware管理员指南（适用于Oracle Internet Directory）中所述</span></a> 。如果您使用的是<code class="codeph">ldap.ora</code> ，那么还要确保此SSL没有身份验证实例的端口号列为目录SSL端口。
                              </p>
                           </li>
                        </ul>
                        <p>要为Kerberos身份验证配置企业用户安全性，请执行以下任务：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009790">任务1：配置Oracle Internet Directory自助服务控制台以显示Kerberos主体名称属性</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009795">任务2 :(可选）为Identity Management领域配置Kerberos主体名称目录属性</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009800">任务3：在krbPrincipalName属性中指定企业用户的Kerberos主体名称</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009805">任务4 :(可选）启用Enterprise Domain以接受Kerberos身份验证</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009810">任务5：作为经过Kerberos身份验证的企业用户进行连接</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009790">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-229A2499-392C-4A7E-9970-FEC34EFDB056">任务1：配置Oracle Internet Directory自助服务控制台以显示Kerberos主体名称属性</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>默认情况下，Oracle Internet Directory自助服务控制台用户界面不显示可以配置Kerberos主体名称的字段。首次在目录中创建经过Kerberos身份验证的用户时，必须使用以下步骤配置此工具以在其“创建用户”页面中显示<code class="codeph">krbPrincipalName</code>属性：</p>
                        <ol>
                           <li>
                              <p>登录Oracle Internet Directory自助服务控制台。</p>
                              <p>在浏览器窗口中输入用于访问Oracle Internet Directory自助服务控制台的URL。例如：</p><pre class="oac_no_warn" dir="ltr">HTTP：// myhost1：7777 / oiddas</pre><p>以<code class="codeph">orcladmin</code>用户身份登录。
                              </p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">配置”</span>选项卡。单击“ <span class="bold">用户条目”</span>子选项卡。
                              </p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">下一步”</span>直到出现“配置用户属性”页面。
                              </p>
                           </li>
                           <li>
                              <p>在“配置用户属性”页面中，单击“ <span class="bold">添加新属性”</span> 。
                              </p>
                              <p>将出现“添加新属性”页面。</p>
                           </li>
                           <li>
                              <p>在添加新属性页，从<span class="bold">目录属性名称</span>框（或已配置的属性选择<span class="bold">krbPrincipalName</span> <code class="codeph">orclCommonKrbPrincipalAttribute</code>在身份管理领域），并执行此页面上执行以下步骤：</p>
                              <ol type="a">
                                 <li>
                                    <p>为<span class="bold">UI标签</span>输入值，例如Kerberos主体名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p>选择<span class="bold">搜索</span>和<span class="bold">查看</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>从<span class="bold">UI类型中</span>选择<span class="bold">单行文本</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击<span class="bold">“完成”</span> 。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">下一步”</span>以导航到“配置属性类别”页面。选择<span class="bold">基本信息</span> ，然后单击<span class="bold">编辑</span> 。
                              </p>
                              <p>将出现“编辑类别”页面。</p>
                           </li>
                           <li>
                              <p>在“ <span class="bold">编辑类别”</span>页面上执行以下步骤：</p>
                              <ol type="a">
                                 <li>
                                    <p>在左侧类别列表中选择<span class="bold">krbPrincipalName</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击“ <span class="bold">移动”，</span>将<span class="bold">krbPrincipalName</span>移动到右侧列表。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击<span class="bold">“完成”</span> 。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">下一步”，</span>直到到达最后一步。单击“ <span class="bold">完成”</span>以保存您的工作。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009795">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-6F05501E-9DB9-47C1-B98D-35048A974396">任务2 :(可选）为Identity Management领域配置Kerberos主体名称目录属性</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用Oracle Internet Directory自助服务控制台输入用于存储您在目录中使用的身份管理域的Kerberos主体名称的目录属性。默认情况下，Kerberos主体名称都存储在<code class="codeph">krbPrincipalName</code>属性，但可以通过改变而改变，以符合您的目录配置<code class="codeph">orclCommonKrbPrincipalAttribute</code>在身份管理领域。有关此任务的详细信息，请参阅<span class="q">“ <a href="administering-enterprise-user-security.html#GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA">设置登录名，Kerberos主体名称，用户搜索库和组搜索基本身份管理领域属性</a> ”</span> 。
                        </p>
                        <div class="infoboxnote" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-CFDB7342-2565-4C63-B215-A863148E384F">
                           <p class="notep1">注意：</p>
                           <p>默认情况下，Oracle Internet Directory自助服务控制台用户界面不显示可以配置Kerberos主体名称的字段。第一次在目录中创建经过Kerberos身份验证的用户时，必须配置控制台以在其“创建用户”窗口中显示<code class="codeph">krbPrincipalName</code>属性。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009800">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-23C4E80A-B621-43AC-93D8-8A3212B7832D">任务3：在krbPrincipalName属性中指定企业用户的Kerberos主体名称</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用Oracle Internet Directory自助服务控制台在企业用户的目录条目的<code class="codeph">krbPrincipalName</code>属性中指定企业用户的Kerberos主体名称（ <code class="codeph">Kerberos_username@Kerberos_realm</code> ）。有关此任务的详细信息，请参阅<span class="q">“ <a href="administering-enterprise-user-security.html#GUID-250B15FC-6A53-4688-9A56-8B08D030EA46">创建新企业用户</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009805">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-BCAB6924-A44C-493E-8528-B0777C26D441">任务4 :(可选）启用Enterprise Domain以接受Kerberos身份验证</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>默认情况下，OracleDefaultDomain配置为接受所有类型的身份验证。如果此更改或您正在使用其他域，请使用Oracle Enterprise Manager通过执行以下步骤为您的企业域启用Kerberos身份验证：</p>
                        <ol>
                           <li>
                              <p>以管理用户身份登录Enterprise Manager Cloud Control。</p>
                           </li>
                           <li>
                              <p>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。
                              </p>
                           </li>
                           <li>
                              <p>单击出现的列表中的数据库名称。出现数据库页面。</p>
                           </li>
                           <li>
                              <p>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。
                              </p>
                           </li>
                           <li>
                              <p>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。
                              </p>
                              <p>将显示“企业用户安全性”页面</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">管理企业域”</span> 。
                              </p>
                              <p>将显示“管理企业域”页面。此页面列出了身份管理领域中的企业域。</p>
                           </li>
                           <li>
                              <p>选择<span class="bold">OracleDefaultDomain</span> 。单击<span class="bold">配置</span> 。
                              </p>
                              <p>将显示“配置域”页面。</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">配置”</span>选项卡。
                              </p>
                           </li>
                           <li>
                              <p>在“用户身份验证类型已接受”下，选择“ <span class="bold">Kerberos”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">确定</span> 。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009810">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-4D354E58-D033-4BF3-8D70-4E031EEE5D5C">任务5：作为经过Kerberos身份验证的企业用户进行连接</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果<a href="glossary.html#GUID-83AB2E95-0933-4F3E-B475-E9AA76C0575C"><span class="xrefglossterm">KDC</span></a>不是操作系统的一部分，例如来自MIT的Kerberos V5，则用户必须使用<code class="codeph">okinit</code>实用程序获取具有<code class="codeph">FORWARDABLE</code>标志的初始票证。有关使用<code class="codeph">okinit</code>实用程序获取初始<code class="codeph">okinit</code>单的信息，请参阅“ <a href="../dbseg/configuring-kerberos-authentication.html#DBSEG062" target="_blank"><span><cite>Oracle数据库安全指南”</cite></span></a> 。
                        </p>
                        <p>如果KDC是操作系统的一部分，例如Windows 2000或某些版本的Linux或UNIX，则操作系统会在用户登录时自动从缓存中获取用户的票证（设置了<code class="codeph">FORWARDABLE</code>标志）。
                        </p>
                        <p>用户通过启动SQL * Plus并在命令行输入以下内容来连接数据库：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; connect / @ &lt;net_service_name&gt;</pre><p>数据库使用Kerberos对用户进行身份验证。数据库通过密码对目录进行身份验证。</p>
                        <p>如果连接成功，则系统响应<code class="codeph">Connected to:...</code>这是成功连接和设置的确认消息。如果显示错误消息，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-E206A3C8-96DA-4F40-9137-452B055AF922">Kerberos身份验证的企业用户的ORA-n错误</a> ”</span> 。
                        </p>
                        <p>如果连接成功，请通过在SQL * Plus提示符处输入以下内容，检查是否从目录中检索了相应的全局角色：</p><pre class="oac_no_warn" dir="ltr">从session_roles中选择*</pre><p>如果未从目录中检索全局角色，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES核对表</a> ”</span> 。
                        </p>
                        <p>您已完成经过Kerberos身份验证的企业用户安全配置。</p>
                        <div class="infoboxnotealso" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-565777F8-1F61-44BB-8D9A-5875DD54E7AF">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">企业用户安全性故障排除</a> ”</span> ，了解有关诊断和解决错误的信息</p>
                              </li>
                              <li>
                                 <p><a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">管理企业用户安全性</a>以获取有关配置身份管理领域的信息，以及有关创建和管理企业域，企业角色和企业用户的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI599"></a><a id="DBIMI600"></a><a id="DBIMI601"></a><a id="DBIMI602"></a><a id="DBIMI260"></a><div class="props_rev_3"><a id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199" name="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199"></a><h4 id="DBIMI-GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199" class="sect4">配置SSL身份验证的企业用户安全性</h4>
                  <div>
                     <div class="section">
                        <p>本节中的配置步骤假定以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您已获得相应的PKI凭据，并使用Oracle Wallet Manager为要包含在Enterprise User Security实施中的目录，数据库和客户端创建钱包。</p>
                           </li>
                           <li>
                              <p>您已确认Oracle Internet Directory中的每个企业用户条目都配置了唯一的PKI凭据。但是，在此版本中，企业用户可以在其PKI证书和Oracle Internet Directory条目中具有不同的DN。此版本中，数据库条目的PKI证书和Oracle Internet Directory条目中也可以具有不同的DN。</p>
                              <p>您必须在各自的Oracle Internet Directory用户条目中设置用户证书，以支持在证书和目录中使用不同的DN。将用户证书提供给用户条目的<code class="codeph">usercertificate</code>属性。如果您不想配置证书，则必须确保证书中的主题DN与目录中的用户DN匹配。
                              </p>
                              <p>Oracle Internet Directory 10 <span class="italic">g</span> Release2（10.1.2）包含证书匹配规则，以支持能够在证书和目录中使用不同DN的新功能。Oracle Internet Directory中的<code class="codeph">orclpkimatchingrule</code>属性确定所使用的匹配类型。
                              </p>
                              <p><code class="codeph">orclpkimatchingrule</code>的默认值为2。这使您可以支持已配置和未配置的用户条目。数据库根据对目录中配置的用户证书的搜索，找出用户的Oracle Internet Directory DN。如果证书搜索失败，则数据库将恢复使用用户证书DN与其Oracle Internet Directory DN之间的完全匹配。</p>
                              <p>如果所有用户都在Oracle Internet Directory中配置了证书，则可以将<code class="codeph">orclpkimatchingrule</code>设置为1。这指示Oracle Internet Directory始终执行证书搜索。例如，如果证书颁发机构不支持证书DN中的两个通用名称，但目录DN使用两个通用名称，则需要将所有用户证书置备到目录中。然后，您可以将<code class="codeph">orclpkimatchingrule</code>设置为1。
                              </p>
                              <p>如果您不想支持在PKI证书和Oracle Internet Directory中使用不同DN的功能，则可以将<code class="codeph">orclpkimatchingrule</code>值设置为0。如果所有证书DN与目录DN匹配，并且您不希望配置证书，则使用此设置。
                              </p>
                              <p>您还可以创建自己的映射规则，以将证书DN映射到Oracle Internet Directory 10g第2版（10.1.2.0.2）中的目录DN。要使用映射规则， <code class="codeph">orclpkimatchingrule</code>设置为3或4。
                              </p>
                              <p>如果要对所有用户使用映射规则，请将<code class="codeph">orclpkimatchingrule</code>设置为3。如果您还需要支持基于证书的搜索和完全匹配，请将<code class="codeph">orclpkimatchingrule</code>设置为4。
                              </p>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__CHDCEJEB" title="此表有2列，列出了可以分配给Oracle Internet Directory中orclpkimatchingrule属性的值。第1列是值，第2列是匹配规则。">表4-2</a>描述了<code class="codeph">orclpkimatchingrule</code>属性的值。
                              </p>
                              <div class="tblformal" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__CHDCEJEB">
                                 <p class="titleintable">表4-2 Oracle Internet目录匹配规则</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Internet目录匹配规则" width="90%" border="1" summary="This tables has 2 columns and lists the values that can be assigned to the orclpkimatchingrule attribute in Oracle Internet Directory. Column 1 is the value and column 2 is the matching rule." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="36%" id="d14512e2991">值</th>
                                          <th align="left" valign="bottom" width="64%" id="d14512e2994">规则</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e2999" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule = 0</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e2999 d14512e2994 ">
                                             <p>完全符合。绑定基于客户端证书的主题DN。将此DN与目录中用户的DN进行比较。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3007" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule = 1</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3007 d14512e2994 ">
                                             <p>证书哈希。绑定基于证书的散列值。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3015" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule = 2</code></p>
                                             <p>（默认）</p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3015 d14512e2994 ">
                                             <p>证书哈希/完全匹配。绑定基于证书的散列值。如果此操作失败，则执行基于客户端证书的主题DN的绑定。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3025" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule = 3</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3025 d14512e2994 ">
                                             <p>仅限映射规则。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3033" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule = 4</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3033 d14512e2994 ">
                                             <p>映射规则/证书散列/完全匹配。绑定基于映射规则。如果此操作失败，则执行基于证书的散列值的绑定。如果此操作失败，则执行基于证书的完全匹配的绑定。</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <div class="infoboxnote" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-0400C6B9-B9D0-445E-8871-9A2000862C57">
                                 <p class="notep1">注意：</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2561" target="_blank"><span class="italic">Oracle融合中间件管理员指南（适用于Oracle Internet Management的Oracle Internet Directory</span></a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIMUR0801" target="_blank"><span class="italic">Oracle融合中间件参考），</span></a>以获取有关如何修改<code class="codeph">orclpkimatchingrule</code>属性的信息</p>
                              </div>
                              <div class="infoboxnote" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-8987C2E5-C215-4B4D-8993-C049991FE651">
                                 <p class="notep1">注意：</p>
                                 <p>如果域的用户搜索库中没有该证书的用户条目，或者您使用的是不支持证书搜索功能的旧版Oracle Internet Directory，则证书搜索将失败。如果证书搜索失败，则数据库将恢复为将用户DN与证书DN匹配以成功连接的旧行为。</p>
                              </div>
                           </li>
                           <li>
                              <p>您已为<a href="../dbseg/configuring-secure-sockets-layer-authentication.html#DBSEG074" target="_blank"><span><cite>Oracle数据库安全指南中</cite></span></a>所述的客户端数据库Oracle Net连接启用了SSL，以获取有关启用SSL的信息。启用SSL时，请确保包括以下步骤：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>为<code class="codeph">TCPS</code>上的数据库侦听器启用SSL并提供相应的TNS名称</p>
                                 </li>
                                 <li>
                                    <p>将数据库PKI凭据存储在Database Configuration Assistant在数据库注册期间自动创建的数据库钱包中</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>您已为Oracle Internet Directory配置了具有双向身份验证的SSL实例，如Oracle Internet <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Middleware管理员指南（适用于Oracle Internet Directory）中所述</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>您已通过完成<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备企业用户安全目录（第一阶段）</a> ”中</span>所述的任务来<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">准备目录</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>您已通过完成“在数据库和目录中<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">配置企业用户安全对象（第二阶段）</a> ”中</span>所述的任务，在数据库和目录中<span class="q"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">配置了Enterprise User Security对象</a></span> 。
                              </p>
                           </li>
                        </ul>
                        <p>要为SSL身份验证配置Enterprise User Security，请执行以下任务：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009819">任务1：启用Enterprise Domain以接受SSL身份验证</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009824">任务2：将LDAP_DIRECTORY_ACCESS初始化参数设置为SSL</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009829">任务3：作为经过SSL身份验证的企业用户进行连接</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009819">
                        <p class="subhead3" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-040A5007-2FC5-4E78-B1CC-31FF1E11C245">任务1：启用Enterprise Domain以接受SSL身份验证</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>默认情况下，OracleDefaultDomain配置为接受所有类型的身份验证。如果已更改此选项或您正在使用其他域，请使用Oracle Enterprise Manager通过执行以下步骤为您的企业域启用SSL身份验证：</p>
                        <ol>
                           <li>
                              <p>以管理用户身份登录Enterprise Manager Cloud Control。</p>
                           </li>
                           <li>
                              <p>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。
                              </p>
                           </li>
                           <li>
                              <p>单击出现的列表中的数据库名称。出现数据库页面。</p>
                           </li>
                           <li>
                              <p>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。
                              </p>
                           </li>
                           <li>
                              <p>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。
                              </p>
                              <p>将显示“企业用户安全性”页面</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">管理企业域”</span> 。
                              </p>
                              <p>将显示“管理企业域”页面。此页面列出了身份管理领域中的企业域。</p>
                           </li>
                           <li>
                              <p>选择<span class="bold">OracleDefaultDomain</span> 。单击<span class="bold">配置</span> 。
                              </p>
                              <p>将显示“配置域”页面。</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">配置”</span>选项卡。
                              </p>
                           </li>
                           <li>
                              <p>在“用户身份验证类型已接受”下，选择“ <span class="bold">SSL”</span> 。</p>
                           </li>
                           <li>
                              <p>单击<span class="bold">确定</span> 。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009824">
                        <p class="subhead3" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-9F29EA77-2520-4492-9D76-4DBF913A7FFD">任务2：将LDAP_DIRECTORY_ACCESS初始化参数设置为SSL</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您可以通过编辑数据库初始化参数文件或通过发出带有<code class="codeph">SET</code>子句的<code class="codeph">ALTER SYSTEM</code> SQL命令来更改此初始化参数。
                        </p>
                        <p>例如，以下<code class="codeph">ALTER SYSTEM</code>命令将<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数值更改为服务器参数文件中的<code class="codeph">SSL</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_ACCESS = SSL SCOPE = SPFILE</pre><div class="infoboxnotealso" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-D5409CB0-9B89-4153-9B14-4F712C0D936B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关编辑初始化参数的信息，请参阅<a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">LDAP_DIRECTORY_ACCESS</code>初始化参数的信息，请<code class="codeph">LDAP_DIRECTORY_ACCESS</code> <a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关将<code class="codeph">ALTER SYSTEM</code>命令与<code class="codeph">SET</code>子句一起使用的信息，请<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>参见“Oracle数据库SQL语言参考</cite></span></a> ”</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009829">
                        <p class="subhead3" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-782577F8-644B-4EF4-A782-901C510C3375">任务3：作为经过SSL身份验证的企业用户进行连接</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>作为SSL身份验证的企业用户进行连接涉及确保您已配置适当的Oracle钱包功能，并且您没有在客户端<code class="codeph">sqlnet.ora</code>文件中指定钱包位置。如果客户端<code class="codeph">sqlnet.ora</code>文件包含钱包位置，则多个用户和数据库无法共享该文件。只有服务器<code class="codeph">sqlnet.ora</code>文件必须具有wallet location参数的值。
                        </p>
                        <div class="infoboxnotealso" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-009055BB-1011-4701-8122-749CAEFBEC6E">
                           <p class="notep1">也可以看看：</p>
                           <p>当用户与数据库之间使用的身份验证为SSL时，将<span class="q">“ <a href="using-oracle-wallet-manager.html#GUID-16134D08-3155-4610-A22C-96A9F36874DA">Oracle Wallet保存到系统默认目录位置</a> ”</span>作为用户钱包的默认位置</p>
                        </div>
                        <p>要以SSL身份验证企业用户身份进行连接，请执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用Oracle Wallet Manager从目录下载用户钱包。请参阅<span class="q">“ <a href="using-oracle-wallet-manager.html#GUID-8D08EBD8-6AEB-43D9-AC20-7613082F50F4">从LDAP目录下载Oracle Wallet</a> ”</span> 。</span></li>
                        <li class="stepexpand"><span>使用Oracle Wallet Manager为用户钱包启用自动登录。启用自动登录会生成单点登录（ <code class="codeph">.sso</code> ）文件，并启用对SSL适配器的身份验证。有关<span class="q"><a href="using-oracle-wallet-manager.html#GUID-C327BEC9-C5AC-4CC0-B8F4-680C0824F31C">使用</a></span> Oracle Wallet Manager的自动登录功能的信息，请参阅<span class="q">“ <a href="using-oracle-wallet-manager.html#GUID-C327BEC9-C5AC-4CC0-B8F4-680C0824F31C">使用自动登录Oracle钱包以启用无人</a></span>为<span class="q"><a href="using-oracle-wallet-manager.html#GUID-C327BEC9-C5AC-4CC0-B8F4-680C0824F31C">干预的访问</a> ”</span> 。</span></li>
                        <li class="stepexpand"><span>如果客户端Oracle主目录指向服务器Oracle主目录，请为客户端设置<code class="codeph">TNS_ADMIN</code>环境变量（指向客户端的<code class="codeph">sqlnet.ora</code>文件）。（因为服务器必须在其<code class="codeph">sqlnet.ora</code>文件中设置钱包位置，并且客户端不能在那里指定钱包位置，所以服务器和客户端不能共享<code class="codeph">sqlnet.ora</code>文件。）</span><div>
                              <p>如果您有一个单独的客户端Oracle主目录，那么您不需要设置<code class="codeph">TNS_ADMIN</code>环境变量。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启动SQL * Plus并在命令行中输入以下内容：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; / @ <span class="variable" translate="no">connect_identifier</span>
</pre><p>其中<code class="codeph">connect_identifer</code>是您为数据库客户端配置SSL时设置的Oracle Net服务名称。
                              </p>
                              <p>如果连接成功，则系统响应<code class="codeph">Connected to:...</code>这是成功连接和设置的确认消息。如果显示错误消息，请参阅<span class="q">“经过<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-B2FE2454-450D-40AD-B165-93BCB151D655">SSL身份验证的企业用户的ORA-n错误</a> ”</span> 。
                              </p>
                              <p>如果连接成功，请通过在SQL * Plus提示符处输入以下内容，检查是否从目录中检索了相应的全局角色：</p><pre class="oac_no_warn" dir="ltr">从session_roles中选择*</pre><p>如果未从目录中检索全局角色，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES核对表</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您已完成SSL身份验证的企业用户安全配置。</p>
                        <div class="infoboxnote" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-3BCB69E0-7839-4C73-A0A2-A05DCCF3BBC4">
                           <p class="notep1">注意：</p>
                           <p>出于安全考虑，请确保在从数据库的企业用户会话中注销后禁用用户钱包的自动登录。如果客户端计算机由多个用户共享，则这一点尤为重要。有关使用Oracle Wallet Manager禁用Oracle钱包的自动登录的信息，请参阅<span class="q">“ <a href="using-oracle-wallet-manager.html#GUID-60513669-FCDD-4154-BE57-0D6DBF332054">禁用Oracle Wallets的自动登录</a> ”</span> 。
                           </p>
                        </div>
                        <p>本节包括以下主题： <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1">在电子钱包和目录中查看数据库DN</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBIMI261"></a><div class="props_rev_3"><a id="GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1" name="GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1"></a><h5 id="DBIMI-GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1" class="sect5">在电子钱包和目录中查看数据库DN</h5>
                     <div>
                        <div class="section">
                           <p>使用Database Configuration Assistant在目录中注册数据库时，此工具会自动为数据库钱包和数据库目录条目创建相同的DN。要查看数据库DN，请使用以下选项之一：</p>
                           <p>使用Oracle Directory Manager查看领域Oracle Context下的目录</p>
                           <p><code class="codeph">cn=&lt;short_database_name&gt;,cn=OracleContext,&lt;</code> <span class="italic"><code class="codeph">realm_DN</code></span> <code class="codeph">&gt;</code> 
                           </p>
                           <p>其中<span class="italic"><code class="codeph">short_database_name</code></span>是数据库的完全限定域名的第一部分。例如，如果您有一个名为<code class="codeph">db1.us.example.com</code>的数据库，则短数据库名称为<code class="codeph">db1</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用以下内容<a id="d14512e3487" class="indexterm-anchor"></a><a id="d14512e3489" class="indexterm-anchor"></a>命令行上的<code class="codeph">mkstore</code>实用程序语法：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt;wallet_location&gt; -viewEntry ORACLE.SECURITY.DN</pre><p><span class="italic"><code class="codeph">wallet_location</code></span>是数据库钱包的路径。
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1__GUID-AD7A09AE-AC0B-41D9-8611-1A2BB3A41DCC">
                                    <p class="notep1">也可以看看：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">企业用户安全性故障排除</a> ”</span> ，了解有关诊断和解决错误的信息</p>
                                       </li>
                                       <li>
                                          <p><a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">管理企业用户安全性</a>以获取有关配置身份管理领域的信息，以及有关创建和管理企业域，企业角色和企业用户的信息</p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="DBIMI262"></a><div class="props_rev_3"><a id="GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27" name="GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27"></a><h3 id="DBIMI-GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27" class="sect3">启用当前用户数据库链接</h3>
               <div>
                  <div class="section">
                     <p>当前用户数据库链接需要数据库之间启用SSL的网络连接。在启用当前用户数据库链接之前，必须启用SSL，创建Oracle钱包，并获取所涉及的所有数据库的PKI凭据。</p>
                     <p>然后，使用Oracle Enterprise Manager通过使用以下步骤在目录中的<a href="glossary.html#GUID-54BA3120-94F0-4B48-8A39-7B81DA675240"><span class="xrefglossterm">企业域内的</span></a>数据库之间启用当前用户数据库链接：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以管理用户身份登录Enterprise Manager Cloud Control。</span></li>
                     <li class="stepexpand"><span>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。</span></li>
                     <li class="stepexpand"><span>单击出现的列表中的数据库名称。出现数据库页面。</span></li>
                     <li class="stepexpand"><span>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。</span></li>
                     <li class="stepexpand"><span>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。</span><div>
                           <p>将显示“企业用户安全性”页面</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击“ <span class="bold">管理企业域”</span> 。</span><div>
                           <p>将显示“管理企业域”页面。此页面列出了身份管理领域中的企业域。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择要配置的企业域。单击<span class="bold">配置</span> 。</span><div>
                           <p>将显示“配置域”页面。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击“ <span class="bold">配置”</span>选项卡。</span></li>
                     <li class="stepexpand"><span>选择<span class="bold">在此域中启用当前用户数据库链接</span> 。</span></li>
                     <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                  </ol>
               </div>
            </div><a id="DBIMI263"></a><div class="props_rev_3"><a id="GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC" name="GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC"></a><h3 id="DBIMI-GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC" class="sect3">排除企业用户安全</h3>
               <div>
                  <div class="p">本节介绍以下主题中的潜在问题和相关纠正措施：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919">密码验证的企业用户的ORA-n错误</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-E206A3C8-96DA-4F40-9137-452B055AF922">Kerberos身份验证的企业用户的ORA-n错误</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-B2FE2454-450D-40AD-B165-93BCB151D655">经过SSL身份验证的企业用户的ORA-n错误</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES清单</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR清单</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR清单</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBIMI264"></a><div class="props_rev_3"><a id="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919" name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919"></a><h4 id="DBIMI-GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919" class="sect4">密码验证的企业用户的ORA-n错误</h4>
                  <div>
                     <div class="section">
                        <p>如果在使用经过密码验证的企业用户安全性时收到ORA-n错误，请在以下部分中找到错误并采取建议的操作。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-909AE5B6-49B7-4D71-B8EE-FE73A04B5A0A"><!-- --></a> ORA-1017：用户名/密码无效;登录被拒绝</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>参见<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR清单</a> ”</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007866"><!-- --></a> ORA-28030：服务器在访问LDAP目录服务时遇到问题</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>表示数据库与目录之间的连接存在问题。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>检查以下内容：</p>
                              <ol>
                                 <li>
                                    <p>如果您没有使用默认钱包位置，请检查数据库的<code class="codeph">sqlnet.ora</code>文件中是否指定了正确的<code class="codeph">wallet_location</code>值。您可以使用Oracle Net Manager输入钱包位置。如果正在使用默认钱包位置，则无需在<code class="codeph">sqlnet.ora</code>文件中指定钱包位置。如果在<code class="codeph">sqlnet.ora</code>文件中指定了钱包位置，则必须确保它是正确的。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果未使用Oracle Internet Directory的域名系统（DNS）服务器发现，请检查<code class="codeph">$LDAP_ADMIN</code> ， <code class="codeph">$ORACLE_HOME/ldap/admin</code> ， <code class="codeph">$TNS_ADMIN</code>或<code class="codeph">$ORACLE_HOME/network/admin</code>是否存在正确的<code class="codeph">ldap.ora</code>文件。（有关DNS服务器发现的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2184" target="_blank"><span class="italic">适用于Oracle Internet Directory的Oracle融合中间件管理员指南</span></a> 。）
                                    </p>
                                 </li>
                                 <li>
                                    <p>检查所使用的SSL端口（通过DNS发现或<code class="codeph">ldap.ora</code>文件）是否支持SSL而不进行身份验证。
                                    </p>
                                 </li>
                                 <li>
                                    <p>检查数据库初始化参数文件中的<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数是否设置为<code class="codeph">PASSWORD</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>使用Database Configuration Assistant将用于对数据库进行身份验证的数据库密码重置为Oracle Internet Directory。这会在数据库钱包中本地重置它，并在Oracle Internet Directory中的数据库条目中远程重置它。</p>
                                 </li>
                                 <li>
                                    <p>检查数据库钱包是否已启用自动登录。使用Oracle Wallet Manager或检查<code class="codeph">$ORACLE_HOME/admin/&lt;ORACLE_SID&gt;/wallet/</code>是否存在<code class="codeph">cwallet.sso</code>文件。
                                    </p>
                                 </li>
                                 <li>
                                    <p>使用存储在数据库钱包中的密码检查数据库是否可以绑定到Oracle Internet Directory：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>使用<code class="codeph">mkstore</code>命令行实用程序通过使用以下语法从钱包中检索数据库密码：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt; <span class="variable" translate="no">database wallet location</span> &gt; -viewEntry ORACLE.SECURITY.PASSWORD</pre></li>
                                       <li>
                                          <p>使用以下<code class="codeph">ldapbind</code>从<code class="codeph">mkstore</code>返回的密码：</p><pre class="oac_no_warn" dir="ltr">ldapbind -h &lt; <span class="variable" translate="no">directory host</span> &gt; -p &lt; <span class="variable" translate="no">non-SSL directory port</span> &gt; -D“&lt; <span class="variable" translate="no">database DN</span> &gt;” -  q请输入绑定密码： <span class="italic">mkstore返回的密码</span>
</pre></li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>检查以确保数据库仅属于一个企业域。</p>
                                    <div class="infoboxnote" id="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-5E4D4D4C-CDCF-446B-A821-65B25AC5A03B">
                                       <p class="notep1">注意：</p>
                                       <p><code class="codeph">mkstore</code>实用程序仅用于故障排除目的。此工具的名称和功能将来可能会更改。
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-4DB46667-5CAE-4126-91CD-2E6AF1C04623"><!-- --></a> ORA-28043：DB / OID连接的绑定凭据无效</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>数据库目录密码不再与目录同步。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>使用Database Configuration Assistant中的“重新生成<span class="bold">密码”</span>按钮为数据库生成新的目录密码，将其与目录同步，并将其存储在数据库钱包中。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007889"><!-- --></a> ORA-28271：无权读取LDAP目录服务中的用户条目</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>检查以下内容：</p>
                              <ol>
                                 <li>
                                    <p>使用Oracle Internet Directory自助服务控制台检查包含此用户的用户搜索库是否列在您正在使用的域的用户搜索库属性中。</p>
                                 </li>
                                 <li>
                                    <p>检查Oracle Internet Directory中用户搜索库上的ACL，以确保<code class="codeph">verifierServices</code>组对用户条目具有读取权限，并且用户搜索库条目与目录树中的用户条目之间的ACL不会阻止此权限。
                                    </p>
                                 </li>
                                 <li>
                                    <p>检查企业域是否位于该域Oracle Context的密码可访问域组中。</p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-8D0D0C53-C866-407C-BCC0-AC6F2092D4FC"><!-- --></a> ORA-28272：域策略限制基于密码的GLOBAL用户身份验证。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>使用Oracle Enterprise Manager界面将此企业域的用户身份验证策略设置为<span class="bold">Password</span>或<span class="bold">ALL</span> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-458AC957-C594-4D2C-992D-2B2ADABA6EEA"><!-- --></a> ORA-28273：不存在用户昵称到LDAP专有名称的映射</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>检查以下内容：</p>
                              <ol>
                                 <li>
                                    <p>检查Oracle Internet Directory中是否存在用户条目。</p>
                                 </li>
                                 <li>
                                    <p>使用Oracle Internet Directory自助服务控制台检查包含此用户的用户搜索库是否列在您正在使用的身份管理域中。</p>
                                 </li>
                                 <li>
                                    <p>检查用户条目是否包含正确的登录名：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>使用Oracle Internet Directory自助服务控制台查找为域中的目录配置的登录名属性，以及</p>
                                       </li>
                                       <li>
                                          <p>检查尝试用户数据库登录期间提供的名称是否是用户目录条目中该属性的值。</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>如果数据库中的全局用户具有独占架构，请检查数据库中的DN是否与Oracle Internet Directory中的用户条目的DN匹配。</p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-81EEA5AD-6EC9-42AB-B342-DA9E67C1A49A"><!-- --></a> ORA-28274：不存在与用户昵称对应的ORACLE密码属性</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>检查以下内容：</p>
                              <ol>
                                 <li>
                                    <p>检查目录中的用户条目是否具有<code class="codeph">orcluser</code>对象类。如果没有，请执行以下步骤：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>使用Oracle Internet Directory自助服务控制台检查新用户创建的默认对象类是否包括<code class="codeph">orcluser</code> ，然后</p>
                                       </li>
                                       <li>
                                          <p>使用Oracle Internet Directory自助服务控制台重新创建用户，或</p>
                                       </li>
                                       <li>
                                          <p>添加<code class="codeph">orcluser</code>和<code class="codeph">orcluserV2</code>对象类。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>检查用户条目中是否存在属性<code class="codeph">orclpassword</code>的值。如果没有值，则重置用户的目录密码（ <code class="codeph">userpassword</code>属性）。这应该提示Oracle Internet Directory为用户重新生成数据库密码验证程序。
                                    </p>
                                 </li>
                                 <li>
                                    <p>使用Oracle Internet Directory自助服务控制台检查包含此用户的用户搜索库是否列在您正在使用的域的用户搜索库属性中。</p>
                                 </li>
                                 <li>
                                    <p>检查用户搜索基础属性上的ACL是否允许<code class="codeph">verifierServices</code>组对<code class="codeph">orclpassword</code>属性进行读取和搜索访问。默认设置正确，但可能已更改。
                                    </p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-6ACDA55D-5281-47EA-9125-081C3B7ED5FA"><!-- --></a> ORA-28275：存在用户昵称到LDAP专有名称的多个映射</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>用户搜索库中的目录中有多个用户DN，其用户的登录名与数据库连接期间提供的登录名相匹配。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>使用Oracle Internet Directory自助服务控制台在与域Oracle上下文关联的所有用户搜索库中使登录名值唯一（没有两个用户共享相同的登录名）。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-F9A4D280-4626-4C55-93D6-3DE83EBE70F8"><!-- --></a> ORA-28277：LDAP搜索在使用密码验证全局用户时失败</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查相关目录实例是否已启动并正在运行。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-DF07CFD8-9BF4-428A-9A93-FD9D1BD4D214"><!-- --></a> ORA-28278：没有为基于密码的GLOBAL用户注册域策略</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>数据库无法读取所需的企业域信息。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR核对表</a> ”</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-363CBACF-8C3C-4428-89CF-6483A4A9FF8D"><!-- --></a> ORA-28862：SSL连接失败</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查您是否使用非SSL连接字符串。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI265"></a><div class="props_rev_3"><a id="GUID-E206A3C8-96DA-4F40-9137-452B055AF922" name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922"></a><h4 id="DBIMI-GUID-E206A3C8-96DA-4F40-9137-452B055AF922" class="sect4">Kerberos身份验证的企业用户的ORA-n错误</h4>
                  <div>
                     <div class="section">
                        <p>如果在使用经过Kerberos身份验证的企业用户安全性时收到ORA-n错误，请在以下部分中找到错误并采取建议的操作。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-380AC4C5-8565-468D-9592-86FF2E3AD511"><!-- --></a> ORA-1017：用户名/密码无效;登录被拒绝</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>参见<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR清单</a> ”</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-03406C44-1A7A-44EA-82A2-205C17EFCF4A"><!-- --></a> ORA-28030：访问LDAP目录服务时出现问题</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>表示数据库与目录之间的连接存在问题。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>有关经过密码验证的企业用户的故障排除部分，请参阅为解决<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007866">“ORA-28030：服务器在访问LDAP目录服务时遇到问题”</a>所列出的操作。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-150FDE1F-F777-4E34-8B0A-206B689B9261"><!-- --></a> ORA-28271：无权读取LDAP目录服务中的用户条目</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>有关经过密码验证的企业用户，请参阅故障排除部分中列出的解决<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007889">“ORA-28271：无权读取LDAP目录服务</a>中的<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007889">用户条目”</a>的操作。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-177CDD67-218F-4746-80CB-41588CF9BEAD"><!-- --></a> ORA-28292：没有为基于Kerberos的身份验证注册域策略</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>执行以下操作：</p>
                              <ol>
                                 <li>
                                    <p>使用Oracle Enterprise Manager将此企业域的用户身份验证策略设置为<span class="bold">KERBEROS</span>或<span class="bold">ALL</span> 。</p>
                                 </li>
                                 <li>
                                    <p>请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR核对表</a> ”</span></p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-E7BE277D-0724-4190-8773-5BA0AFF21741"><!-- --></a> ORA-28290：找到相同Kerberos主体名称的多个条目</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>此用户的Kerberos主体名称在包含此用户的用户搜索库中不是唯一的。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>使用Oracle Internet Directory自助服务控制台更改Kerberos主体名称，或更改其他副本以使其唯一。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-4B01A048-0E2A-45DB-9C33-35F92B6A81DF"><!-- --></a> ORA-28291：未找到Kerberos主体值</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>检查以下内容：</p>
                              <ol>
                                 <li>
                                    <p>检查目录中的用户条目是否具有<code class="codeph">krbprincipalname</code>属性。
                                    </p>
                                    <p>如果它没有<code class="codeph">krbprincipalname</code>属性，请检查以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>检查使用Oracle Internet Directory自助服务控制台创建新用户的默认属性是否包含<code class="codeph">krbprincipalname</code> ，然后</p>
                                       </li>
                                       <li>
                                          <p>使用Oracle Internet Directory自助服务控制台再次创建用户，或</p>
                                       </li>
                                       <li>
                                          <p>添加<code class="codeph">orclcommonattributes</code>对象类。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>检查用户条目中是否存在属性<code class="codeph">krbprincipalname</code>的值。如果没有值，则使用Oracle Internet Directory自助服务控制台输入一个值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>使用Oracle Internet Directory自助服务控制台检查包含此用户的用户搜索库是否列在您正在使用的领域Oracle Context中。</p>
                                 </li>
                                 <li>
                                    <p>检查用户搜索基础属性上的ACL是否允许<code class="codeph">verifierServices</code>组对<code class="codeph">krbprincipalname</code>属性进行读取和搜索访问。默认设置正确，但可能已更改。
                                    </p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-1D08DB96-C67C-4C94-8802-F8A73366A9C2"><!-- --></a> ORA-28293：在任何用户条目中找不到匹配的Kerberos主体。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>检查以下内容：</p>
                              <ol>
                                 <li>
                                    <p>检查Oracle Internet Directory中是否存在用户条目。</p>
                                 </li>
                                 <li>
                                    <p>使用Oracle Internet Directory自助服务控制台或<code class="codeph">ldapsearch</code>检查包含此用户的用户搜索库是否列在您正在使用的身份管理域中。
                                    </p>
                                 </li>
                                 <li>
                                    <p>通过使用以下步骤检查目录中的用户条目是否包含正确的Kerberos主体名称：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>使用Oracle Internet Directory自助服务控制台查找为域中的目录配置的Kerberos主体名称属性，以及</p>
                                       </li>
                                       <li>
                                          <p>检查用户目录条目中该属性中是否显示正确的Kerberos主体名称。</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>如果数据库中的全局用户具有独占架构，请检查数据库中的DN是否与Oracle Internet Directory中的用户条目的DN匹配。</p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-3FF0BBA1-20AC-4F7E-9F7A-79AEA57954E5"><!-- --></a> ORA-28300：无权读取LDAP目录服务中的用户条目</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查数据库钱包是否包含数据库到目录连接的正确凭据。钱包DN应该是Oracle Internet Directory中数据库的DN。要检索凭据，请执行以下步骤：</p>
                              <ol>
                                 <li>
                                    <p>使用<code class="codeph">mkstore</code>命令行实用程序通过使用以下语法检索钱包的数据库密码：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt; <span class="variable" translate="no">database wallet location</span> &gt; -viewEntry ORACLE.SECURITY.PASSWORD -viewEntry ORACLE.SECURITY.DN</pre></li>
                                 <li>
                                    <p>如果这些值不正确，请使用Database Configuration Assistant重置数据库钱包。</p>
                                 </li>
                                 <li>
                                    <p>使用DN和返回的密码<code class="codeph">mkstore</code>在以下<code class="codeph">ldapbind</code> ：</p><pre class="oac_no_warn" dir="ltr">ldapbind -h &lt; <span class="variable" translate="no">directory host</span> &gt; -p &lt; <span class="variable" translate="no">non-SSL directory port</span> &gt; -D“&lt; <span class="variable" translate="no">database DN</span> &gt;” -  q请输入绑定密码： <span class="italic">mkstore返回的密码</span></pre><div class="infoboxnote" id="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-B3866FB7-BBBB-4162-B8B2-366A27D5A183">
                                       <p class="notep1">注意：</p>
                                       <p><code class="codeph">mkstore</code>实用程序仅用于故障排除目的。此工具的名称和功能将来可能会更改。
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-546EEB72-05EA-4749-9649-DDEB48539553"><!-- --></a> ORA-28302：LDAP目录服务中不存在用户</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查目录中是否存在用户条目。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI266"></a><div class="props_rev_3"><a id="GUID-B2FE2454-450D-40AD-B165-93BCB151D655" name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655"></a><h4 id="DBIMI-GUID-B2FE2454-450D-40AD-B165-93BCB151D655" class="sect4">经过SSL身份验证的企业用户的ORA-n错误</h4>
                  <div>
                     <div class="section">
                        <p>如果在使用经过SSL身份验证的企业用户安全性时收到ORA-n错误，请在以下部分中找到错误并执行建议的操作。</p>
                        <dl class="1.00* 2.47* 1.53*">
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-E3C54104-287C-4E92-AE41-2088C0DA6822"><!-- --></a> ORA-1017：用户名/密码无效;登录被拒绝</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>参见<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR清单</a> ”</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-2B8C5FF2-1573-4A81-93A3-0AA9CA024FAD"><!-- --></a> ORA-28030：访问LDAP目录服务时出现问题</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>表示数据库与目录之间的连接存在问题。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>检查以下内容：</p>
                              <ol>
                                 <li>
                                    <p>检查数据库的<code class="codeph">sqlnet.ora</code>文件中是否有正确的<code class="codeph">wallet_location</code>值。如果没有，则使用Oracle Net Manager输入一个。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果未使用Oracle Internet Directory的域名系统（DNS）服务器发现，请检查<code class="codeph">$LDAP_ADMIN</code> ， <code class="codeph">$ORACLE_HOME/ldap/admin</code> ， <code class="codeph">$TNS_ADMIN</code>或<code class="codeph">$ORACLE_HOME/network/admin</code>是否存在正确的<code class="codeph">ldap.ora</code>文件。（有关DNS服务器发现的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2184" target="_blank"><span class="italic">适用于Oracle Internet Directory的Oracle融合中间件管理员指南</span></a> 。）
                                    </p>
                                 </li>
                                 <li>
                                    <p>检查所使用的Oracle Internet Directory SSL端口（通过DNS发现或<code class="codeph">ldap.ora</code>文件）是否支持使用双向身份验证的SSL。
                                    </p>
                                 </li>
                                 <li>
                                    <p>检查数据库初始化参数文件中的<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数是否设置为<code class="codeph">SSL</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>检查数据库钱包是否已启用自动登录。使用Oracle Wallet Manager或检查<code class="codeph">$ORACLE_HOME/admin/&lt;ORACLE_SID&gt;/wallet/.</code>是否存在<code class="codeph">cwallet.sso</code>文件<code class="codeph">$ORACLE_HOME/admin/&lt;ORACLE_SID&gt;/wallet/.</code></p>
                                 </li>
                                 <li>
                                    <p>使用<code class="codeph">mkstore</code>命令行实用程序，使用以下语法检查数据库钱包中是否包含数据库DN：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt;database_wallet_location&gt; -viewEntry ORACLE.SECURITY.DN</pre><p>如果钱包不包含数据库DN，则使用Database Configuration Assistant通过Oracle Internet Directory重新注册数据库。</p>
                                 </li>
                                 <li>
                                    <p>通过使用带有以下<code class="codeph">ldapbind</code>钱包，检查数据库是否可以绑定到Oracle Internet Directory：</p><pre class="oac_no_warn" dir="ltr">ldapbind -h &lt; <span class="variable" translate="no">directory_host</span> &gt; -p &lt; <span class="variable" translate="no">directory_SSLport</span> &gt; -U 3 -W“file：&lt; <span class="variable" translate="no">database wallet_location</span> &gt;” -  Q请输入SSL钱包密码： <span class="italic">wallet_password</span>
</pre></li>
                                 <li>
                                    <p>检查以确保数据库仅属于一个企业域。</p>
                                    <div class="infoboxnote" id="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-99143B20-D0AF-4420-BCC4-DA031039147F">
                                       <p class="notep1">注意：</p>
                                       <p><code class="codeph">mkstore</code>实用程序仅用于故障排除目的。此工具的名称和功能将来可能会更改。
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-E0EE6D68-F4EB-4D63-ABE9-5D03252A85ED"><!-- --></a> ORA-28301：尚未为SSL身份验证注册域策略</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>使用Oracle Enterprise Manager将此企业域的用户身份验证策略设置为包含SSL。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-FE0DA396-FB00-4631-8DD6-5F96DF15BE06"><!-- --></a> ORA-28862：SSL握手失败</dt>
                           <dd>
                              <p><span class="keyword">原因：</span>如错误消息</p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>有关配置SSL连接的信息，请参阅“ <a href="../dbseg/configuring-secure-sockets-layer-authentication.html#DBSEG070" target="_blank"><span><cite>Oracle数据库安全指南”中</cite></span></a>的SSL（安全套接字层）一章。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI267"></a><div class="props_rev_3"><a id="GUID-3EF6F46A-8E91-42BA-844C-E316BB395710" name="GUID-3EF6F46A-8E91-42BA-844C-E316BB395710"></a><h4 id="DBIMI-GUID-3EF6F46A-8E91-42BA-844C-E316BB395710" class="sect4">NO-GLOBAL-ROLES清单</h4>
                  <div>
                     <div class="section">
                        <p>如果企业用户可以连接到数据库，但<code class="codeph">select * from session_roles</code>返回全局角色，请检查以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>检查是否已在数据库中创建了全局角色。要创建全局角色，请使用以下语法：</span><div><pre class="oac_no_warn" dir="ltr">CREATE ROLE &lt; <span class="variable" translate="no">role_name</span> &gt; IDENTIFIED GLOBALLY;</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用Oracle Enterprise Manager检查全局角色是否包含在目录中的企业角色中。</span></li>
                        <li class="stepexpand"><span>使用Oracle Enterprise Manager检查企业角色是否已分配给目录中的用户。</span></li>
                        <li class="stepexpand"><span>如果这些检查没问题，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR核对表</a> ”</span> 。</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI268"></a><div class="props_rev_3"><a id="GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94" name="GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94"></a><h4 id="DBIMI-GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94" class="sect4">USER-SCHEMA ERROR清单</h4>
                  <div>
                     <div class="section">
                        <p>如果您的数据库无法读取用户架构，请检查以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>如果这是一个全局身份验证的管理用户，以<code class="codeph">SYSDBA</code>身份登录以关闭数据库，则数据库将成功关闭，然后是<code class="codeph">ORA-01017: invalid username/password; logon denied</code>错误，然后确保<code class="codeph">sqlnet.ora</code>配置了Database-OID钱包的钱包位置。当<code class="codeph">sqlnet.ora</code>将钱包位置显式设置为Database-OID钱包文件所在的目录时，使用此登录的管理用户登录和数据库关闭以及启动操作确实正常。</span></li>
                        <li class="stepexpand"><span>如果这是经过SSL身份验证的企业用户，请通过检查以下内容确保正在使用正确的用户钱包：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>客户端<code class="codeph">sqlnet.ora</code>文件中没有<code class="codeph">WALLET_LOCATION</code>参数值，和</p>
                                 </li>
                                 <li>
                                    <p>正确设置<code class="codeph">TNS_ADMIN</code>参数，以便使用正确的<code class="codeph">sqlnet.ora</code>文件。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用以下语法检查是否在数据库中以全局用户身份创建了架构：</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER用户名IDENTIFIED GLOBALLY AS'';</pre><p>或者使用以下语法：</p><pre class="oac_no_warn" dir="ltr">CREATE USER用户名全局标识'&lt;DN&gt;';</pre></div>
                        </li>
                        <li class="stepexpand"><span>假设以下情况属实：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>用户架构是一个独占架构（使用<code class="codeph">CREATE USER</code> <span class="italic"><code class="codeph">username</code></span> <code class="codeph">IDENTIFIED GLOBALLY AS '</code> <span class="italic"><code class="codeph">user_DN</code></span> <code class="codeph">';</code>语法创建），以及</p>
                                 </li>
                                 <li>
                                    <p>这是经过SSL身份验证的用户。</p>
                                 </li>
                              </ul>
                              <p>然后，确保用户钱包中的DN与<code class="codeph">CREATE USER</code>语句中使用的DN匹配。
                              </p>
                              <p>使用Oracle Wallet Manager查看用户钱包中的DN。</p>
                              <p>使用以下语法查看与<code class="codeph">CREATE USER</code>语句一起使用的DN：</p><pre class="oac_no_warn" dir="ltr">SELECT EXTERNAL_NAME FROM DBA_USERS WHERE USERNAME =' <span class="italic">schema</span> ';</pre></div>
                        </li>
                        <li class="stepexpand"><span>如果您使用的是共享架构，请检查以下内容：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用Oracle Enterprise Manager确保您已为整个企业域或数据库创建了用户架构映射。</p>
                                 </li>
                                 <li>
                                    <p>如果要将用户架构映射应用于此数据库（而不是整个企业域），请检查数据库是否可以在目录中读取自己的条目和子树。</p>
                                    <p>要检查此项，请为数据库到目录的连接类型输入以下<code class="codeph">ldapsearch</code>命令：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>如果数据库通过SSL连接到目录，则使用</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_SSLport</span> -U 3 -W“file： <span class="italic">database_wallet_path</span> ”-Q -b“ <span class="italic">database_DN</span> ”“objectclass = *”请输入SSL钱包密码： <span class="italic">wallet_password</span>
</pre><p><span class="italic"><code class="codeph">wallet_password</code></span>是钱包的密码，可让您打开或更改钱包。
                                          </p>
                                       </li>
                                       <li>
                                          <p>如果数据库使用密码身份验证连接到目录，则使用</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_port</span> -D <span class="variable" translate="no">database_DN</span> -q -b“ <span class="italic">database_DN</span> ”“objectclass = *”请输入绑定密码： <span class="italic">database_directory_password</span>
</pre><p>其中<span class="italic"><code class="codeph">database_directory_password</code></span>是<code class="codeph">mkstore</code>实用程序返回的数据库绑定密码。
                                          </p>
                                       </li>
                                    </ul>
                                    <p>您应该看到数据库条目和相关映射。</p>
                                 </li>
                                 <li>
                                    <p>如果用户架构映射适用于整个企业域而不是仅适用于此单个数据库，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR核对表</a> ”</span> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DBIMI269"></a><div class="props_rev_3"><a id="GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8" name="GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8"></a><h4 id="DBIMI-GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8" class="sect4">DOMAIN-READ-ERROR清单</h4>
                  <div>
                     <div class="section">
                        <p>如果您的数据库无法在Oracle Internet Directory中读取其企业域信息，请检查以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用Oracle Enterprise Manager检查数据库是否只是一个企业域的成员，如果不是，则将其添加到一个企业域。</span></li>
                        <li class="stepexpand"><span>通过在命令行输入以下内容之一，检查数据库是否可以查看其域：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果数据库通过SSL连接到目录，则使用</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_SSLport</span> -U 3 -W“file： <span class="italic">database_wallet_path</span> ”-Q -b“cn = OracleContext， <span class="italic">realm_DN</span> ”“objectclass = orclDBEnterpriseDomain”请输入SSL钱包密码： <span class="italic">wallet_password</span>
</pre><p><span class="italic"><code class="codeph">wallet_password</code></span>是钱包的密码，可让您打开或更改钱包。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果数据库使用密码身份验证连接到目录，则使用</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_port</span> -D <span class="italic">database_DN</span> -q -b“cn = OracleContext， <span class="italic">realm_DN</span> ”“objectclass = orclDBEnterpriseDomain”请输入绑定密码： <span class="italic">database_directory_password</span>
</pre><p>其中<span class="italic"><code class="codeph">database_directory_password</code></span>是数据库钱包中的密码，它是Oracle Internet Directory的数据库密码。
                                    </p>
                                 </li>
                              </ul>
                              <p><code class="codeph">ldapsearch</code>命令应该只返回一个企业域。
                              </p>
                              <p>如果未返回任何域，并且Oracle Enterprise Manager将数据库显示为域的成员，则重新启动数据库。重新启动数据库会更新企业域的缓存值。</p>
                              <p>如果返回了多个域，则使用Oracle Enterprise Manager从其他域中删除数据库。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>检查数据库是否可以读取企业域子树，从而可以通过在命令行输入以下内容之一来读取其企业角色和映射：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果数据库通过SSL连接到目录，则使用</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_SSLport</span> -U 3 -W“file： <span class="italic">database_wallet_path</span> ”-Q -b“cn = OracleContext， <span class="italic">realm_DN</span> ”“objectclass = orclDBEnterpriseRole”请输入SSL钱包密码： <span class="italic">wallet_password</span>
</pre><p><span class="italic"><code class="codeph">wallet_password</code></span>是钱包的密码，可让您打开或更改钱包。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果数据库使用密码身份验证连接到目录，则使用</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_port</span> -D <span class="italic">database_DN</span> -q -b“cn = OracleContext， <span class="italic">realm_DN</span> ”“objectclass = orclDBEnterpriseRole”请输入绑定密码： <span class="italic">database_directory_password</span>
</pre><p>其中<span class="italic"><code class="codeph">database_directory_password</code></span>是数据库钱包中的密码，它是Oracle Internet Directory的数据库密码。
                                    </p>
                                 </li>
                              </ul>
                              <p>此<code class="codeph">ldapsearch</code>应返回您为此域创建的所有企业角色。如果没有，则使用Oracle Enterprise Manager创建企业角色和映射。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用Oracle Enterprise Manager设置或重置相关企业域的用户身份验证策略。有关为企业域设置用户身份验证策略的信息，请参阅<span class="q">“ <a href="administering-enterprise-user-security.html#GUID-1338F679-CC93-4A46-9676-47248F110393">配置用户身份验证类型和启用当前用户数据库链接</a> ”</span> 。</span></li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>