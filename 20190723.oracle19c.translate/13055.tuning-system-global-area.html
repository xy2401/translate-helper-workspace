<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>调整系统全局区域</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00"></meta>
      <meta name="dcterms.title" content="Database Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96347-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="database-memory-allocation.html" title="Previous" type="text/html"></link>
      <link rel="next" href="tuning-database-buffer-cache.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-memory-allocation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="tuning-database-buffer-cache.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库性能调优指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-III-tuning-database-memory.html" property="item" typeof="WebPage"><span property="name">调整数据库内存</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">调整系统全局区域</li>
            </ol>
            <a id="GUID-934375BF-B850-483F-85E6-790D7BEC55ED" name="GUID-934375BF-B850-483F-85E6-790D7BEC55ED"></a><a id="TGDBA320"></a>
            
            <h2 id="TGDBA-GUID-934375BF-B850-483F-85E6-790D7BEC55ED" class="sect2"><span class="enumeration_chapter">12</span>调整系统全局区域</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何调整系统全局区域（SGA）。如果使用自动内存管理来管理系统上的数据库内存，则无需按本章所述调整SGA。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="tuning-system-global-area.html#GUID-4FD3AFB7-BFC5-49F2-8C6D-917E9B30D045">使用自动共享内存管理</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-system-global-area.html#GUID-41D5D260-3896-4592-A89A-09EDEAD48492">手动调整SGA组件的大小</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-system-global-area.html#GUID-83C52AEF-140D-4AFA-BA07-627783522376">监控共享内存管理</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-system-global-area.html#GUID-8B97AB30-9624-4333-83A0-F0BCFDA8EA2D">使用内存中的列存储提高查询性能</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-system-global-area.html#GUID-9752E93D-55A7-4584-B09B-9623B33B5CCF" title="Memoptimized Rowstore为诸如物联网（IoT）之类的应用程序提供高性能数据流。">使用Memoptimized Rowstore启用高性能数据流</a></p>
                  </li>
               </ul>
            </div><a id="TGDBA513"></a><div class="props_rev_3"><a id="GUID-4FD3AFB7-BFC5-49F2-8C6D-917E9B30D045" name="GUID-4FD3AFB7-BFC5-49F2-8C6D-917E9B30D045"></a><h3 id="TGDBA-GUID-4FD3AFB7-BFC5-49F2-8C6D-917E9B30D045" class="sect3"><span class="enumeration_section">12.1</span>使用自动共享内存管理</h3>
               <div>
                  <p><a id="d36106e127" class="indexterm-anchor"></a><a id="d36106e129" class="indexterm-anchor"></a>自动共享内存管理通过在SGA中为以下内存池自动分配内存来简化SGA的配置：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据库缓冲区缓存（默认池）</p>
                     </li>
                     <li>
                        <p>共享池</p>
                     </li>
                     <li>
                        <p>大型游泳池</p>
                     </li>
                     <li>
                        <p>Java池</p>
                     </li>
                     <li>
                        <p>溪流池</p>
                     </li>
                  </ul>
                  <p>自动共享内存管理由<code class="codeph">SGA_TARGET</code>参数控制。<code class="codeph">SGA_TARGET</code>参数值的更改会自动调整这些内存池的大小。如果这些内存池设置为非零值，则自动共享内存管理将这些值用作最低级别。Oracle建议您根据应用程序组件正常运行所需的最小内存量来设置最小值。
                  </p>
                  <p>以下内存缓存是手动调整大小的组件，不受自动共享内存管理控制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>重做日志缓冲区</p>
                        <p>使用<code class="codeph">LOG_BUFFER</code>初始化参数调整重做日志缓冲区的大小，如<span class="q">“ <a href="tuning-database-buffer-cache.html#GUID-1724C3C8-190E-4DBA-90FC-12B1B40158B1">配置重做日志缓冲区</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>其他缓冲区缓存（例如<code class="codeph">KEEP</code> ， <code class="codeph">RECYCLE</code>和其他非默认块大小）</p>
                        <p>使用<code class="codeph">DB_KEEP_CACHE_SIZE</code>初始化参数调整<code class="codeph">KEEP</code>池的大小，如<span class="q">“ <a href="tuning-database-buffer-cache.html#GUID-DE6B6C6E-D947-45FF-B189-F0271B86DB10">配置KEEP池</a> ”中所述</span> 。
                        </p>
                        <p>使用<code class="codeph">DB_RECYCLE_CACHE_SIZE</code>初始化参数调整<code class="codeph">RECYCLE</code>池的大小，如<span class="q">“ <a href="tuning-database-buffer-cache.html#GUID-D777DE69-8CCD-49AB-8EC9-F5B7E84690FF">配置RECYCLE池</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>修复了SGA和其他内部分配</p>
                        <p>固定SGA和其他内部分配使用<code class="codeph">DB_nK_CACHE_SIZE</code>初始化参数调整大小。
                        </p>
                     </li>
                  </ul>
                  <p>当自动共享内存管理计算自动调整的内存池的值时，分配给这些内存缓存的内存将从<code class="codeph">SGA_TARGET</code>参数的值中扣除。
                  </p>
                  <p>以下部分描述了如何访问和设置<code class="codeph">SGA_TARGET</code>参数的值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-A49BA95E-2AFF-4567-B02F-05DF250EA2BC">用于设置SGA_TARGET参数的用户界面</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-91F8D827-F852-426D-AFC2-23847CDB79DE">设置SGA_TARGET参数</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-4FD3AFB7-BFC5-49F2-8C6D-917E9B30D045__GUID-5B1E6AAE-68F6-4CF8-BA85-FB0290C409C8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../cncpt/memory-architecture.html#CNCPT802" target="_blank"><span class="italic">Oracle数据库概念</span></a> <span class="italic"> </span>有关SGA的信息</p>
                        </li>
                        <li>
                           <p>有关管理SGA的信息，请参见<a href="../admin/managing-memory.html#ADMIN00207" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关使用初始化参数的信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN002" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA323"></a><div class="props_rev_3"><a id="GUID-A49BA95E-2AFF-4567-B02F-05DF250EA2BC" name="GUID-A49BA95E-2AFF-4567-B02F-05DF250EA2BC"></a><h4 id="TGDBA-GUID-A49BA95E-2AFF-4567-B02F-05DF250EA2BC" class="sect4"><span class="enumeration_section">12.1.1</span>用于设置SGA_TARGET参数的用户界面</h4>
                  <div>
                     <p>本节介绍用于设置<code class="codeph">SGA_TARGET</code>参数值的用户界面。
                     </p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-system-global-area.html#GUID-F8174E77-F8AE-4FF3-9D12-DB7CA45CCD0B">在Oracle Enterprise Manager云控制中设置SGA_TARGET参数</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-system-global-area.html#GUID-D82A25BF-9269-44D6-BE84-1A9351DC334F">在命令行界面中设置SGA_TARGET参数</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA324"></a><div class="props_rev_3"><a id="GUID-F8174E77-F8AE-4FF3-9D12-DB7CA45CCD0B" name="GUID-F8174E77-F8AE-4FF3-9D12-DB7CA45CCD0B"></a><h5 id="TGDBA-GUID-F8174E77-F8AE-4FF3-9D12-DB7CA45CCD0B" class="sect5"><span class="enumeration_section">12.1.1.1</span>在Oracle Enterprise Manager云控制中设置SGA_TARGET参数</h5>
                     <div>
                        <div class="section">
                           <p>您可以通过从<span>Memory Parameters SGA</span>页面访问SGA Size Advisor来更改Oracle Enterprise Manager Cloud Control（云控制）中<code class="codeph">SGA_TARGET</code>参数的值。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA330"></a><div class="props_rev_3"><a id="GUID-D82A25BF-9269-44D6-BE84-1A9351DC334F" name="GUID-D82A25BF-9269-44D6-BE84-1A9351DC334F"></a><h5 id="TGDBA-GUID-D82A25BF-9269-44D6-BE84-1A9351DC334F" class="sect5"><span class="enumeration_section">12.1.1.2</span>在命令行界面中设置SGA_TARGET参数</h5>
                     <div>
                        <div class="section">
                           <p>您可以通过查询<code class="codeph">V$SGA_TARGET_ADVICE</code>视图并使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>命令来<code class="codeph">ALTER</code>命令行界面中<code class="codeph">SGA_TARGET</code>参数的值。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TGDBA514"></a><div class="props_rev_3"><a id="GUID-91F8D827-F852-426D-AFC2-23847CDB79DE" name="GUID-91F8D827-F852-426D-AFC2-23847CDB79DE"></a><h4 id="TGDBA-GUID-91F8D827-F852-426D-AFC2-23847CDB79DE" class="sect4"><span class="enumeration_section">12.1.2</span>设置SGA_TARGET参数</h4>
                  <div>
                     <p>本节介绍如何通过设置<code class="codeph">SGA_TARGET</code>参数的值来启用和禁用自动共享内存管理。
                     </p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-system-global-area.html#GUID-90C2A564-2099-47E3-9599-FEC60A9A82C4">启用自动共享内存管理</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-system-global-area.html#GUID-E8984F55-93D4-4250-98A0-E9C21DCBC667">禁用自动共享内存管理</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA515"></a><div class="props_rev_3"><a id="GUID-90C2A564-2099-47E3-9599-FEC60A9A82C4" name="GUID-90C2A564-2099-47E3-9599-FEC60A9A82C4"></a><h5 id="TGDBA-GUID-90C2A564-2099-47E3-9599-FEC60A9A82C4" class="sect5"><span class="enumeration_section">12.1.2.1</span>启用自动共享内存管理</h5>
                     <div>
                        <div class="section">
                           <p>要启用自动共享内存管理，请设置以下初始化参数：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">STATISTICS_LEVEL</code>为<code class="codeph">TYPICAL</code>或<code class="codeph">ALL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SGA_TARGET</code>为非零值</p>
                                 <p><code class="codeph">SGA_TARGET</code>参数可以设置为小于或等于<code class="codeph">SGA_MAX_SIZE</code>初始化参数值的值。将<code class="codeph">SGA_TARGET</code>参数的值设置为您要专门用于SGA的内存量。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA516"></a><div class="props_rev_3"><a id="GUID-E8984F55-93D4-4250-98A0-E9C21DCBC667" name="GUID-E8984F55-93D4-4250-98A0-E9C21DCBC667"></a><h5 id="TGDBA-GUID-E8984F55-93D4-4250-98A0-E9C21DCBC667" class="sect5"><span class="enumeration_section">12.1.2.2</span>禁用自动共享内存管理</h5>
                     <div>
                        <div class="section">
                           <p>要禁用自动共享内存管理，请在实例启动时将<code class="codeph">SGA_TARGET</code>参数的值动态设置为0。
                           </p>
                           <p>这将禁用自动共享内存管理，并且将为每个内存池使用当前自动调整的大小。如有必要，您可以手动调整每个内存池的大小，如<span class="q">“ <a href="tuning-system-global-area.html#GUID-41D5D260-3896-4592-A89A-09EDEAD48492">手动调整SGA组件大小</a> ”中所述</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="TGDBA336"></a><div class="props_rev_3"><a id="GUID-41D5D260-3896-4592-A89A-09EDEAD48492" name="GUID-41D5D260-3896-4592-A89A-09EDEAD48492"></a><h3 id="TGDBA-GUID-41D5D260-3896-4592-A89A-09EDEAD48492" class="sect3"><span class="enumeration_section">12.2</span>手动调整SGA组件的大小</h3>
               <div>
                  <p>如果系统未使用自动内存管理或自动共享内存管理，则必须手动配置以下SGA组件的大小：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据库缓冲缓存</p>
                        <p>使用<code class="codeph">DB_CACHE_SIZE</code>初始化参数调整数据库缓冲区高速缓存的大小，如<span class="q">“ <a href="tuning-database-buffer-cache.html#GUID-76C5DB98-5140-469E-B23D-777EAA8564C1">配置数据库缓冲区高速缓存</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>共享池</p>
                        <p>使用<code class="codeph">SHARED_POOL_SIZE</code>初始化参数调整共享池的大小，如<span class="q">“ <a href="tuning-shared-pool-and-large-pool.html#GUID-5823285C-A728-4006-8813-41BB92928F73">配置共享池</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>大型游泳池</p>
                        <p>使用<code class="codeph">LARGE_POOL_SIZE</code>初始化参数调整大型池的大小，如<span class="q">“ <a href="tuning-shared-pool-and-large-pool.html#GUID-096F2CDD-B3EE-4124-BBE3-F60400600972">配置大型池</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>Java池</p>
                        <p>使用<code class="codeph">JAVA_POOL_SIZE</code>初始化参数调整Java池的大小。
                        </p>
                     </li>
                     <li>
                        <p>溪流池</p>
                        <p>使用<code class="codeph">STREAMS_POOL_SIZE</code>初始化参数调整Streams池的大小。
                        </p>
                     </li>
                     <li>
                        <p>IM专栏商店</p>
                        <p>使用<code class="codeph">INMEMORY_SIZE</code>初始化参数调整IM列存储的大小。
                        </p>
                     </li>
                  </ul>
                  <p>这些参数的值也可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句动态配置。
                  </p>
                  <p>在配置这些SGA组件的大小之前，请考虑以下注意事项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-8059B22B-0F5F-4492-A6D0-256E6FDF1E59">SGA尺寸单位</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-D084867C-D195-4053-BB17-7072F19E70C9">SGA的最大尺寸</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-C893DA69-21EB-4D10-9FFF-CF7BFECF743E">应用注意事项</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-AE5BE48E-51B0-46D7-A833-CD7745F072F1">操作系统内存使用</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-7E9DDB21-F48C-4AE2-A039-27B008466939">配置期间的迭代</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-41D5D260-3896-4592-A89A-09EDEAD48492__GUID-093BD4C3-F701-43D6-B3E1-4627A6ACFAE1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Java内存使用情况和<code class="codeph">JAVA_POOL_SIZE</code>初始化参数的信息，请<code class="codeph">JAVA_POOL_SIZE</code> <a href="../jjdev/about-Java-memory-usage.html#JJDEV-GUID-0E6A9749-5505-4009-AEC6-47C84947DCFA" target="_blank"><span class="italic">“Oracle数据库Java开发人员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">INMEMORY_SIZE</code>初始化参数的信息，请<code class="codeph">INMEMORY_SIZE</code> <a href="../inmem/enabling-the-im-column-store.html#INMEM-GUID-3CC8549A-A394-49CC-A907-AEB471A19CB3" target="_blank"><span class="italic">“Oracle数据库内存指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA517"></a><div class="props_rev_3"><a id="GUID-8059B22B-0F5F-4492-A6D0-256E6FDF1E59" name="GUID-8059B22B-0F5F-4492-A6D0-256E6FDF1E59"></a><h4 id="TGDBA-GUID-8059B22B-0F5F-4492-A6D0-256E6FDF1E59" class="sect4"><span class="enumeration_section">12.2.1</span> SGA尺寸单位</h4>
                  <div>
                     <p>缓冲区缓存，共享池，大型池和Java池的内存以粒度为单位进行分配。如果SGA大小小于1 GB，则颗粒大小为4MB。如果SGA大小大于1 GB，则颗粒大小将更改为16 MB。在数据库实例启动时计算并修复粒度大小。在实例的生命周期中，大小不会更改。</p>
                     <p>要查看当前用于SGA的粒度大小，请使用<code class="codeph">V$SGA_DYNAMIC_COMPONENTS</code>视图。相同的颗粒大小用于SGA中的所有动态组件。</p>
                  </div>
               </div><a id="TGDBA518"></a><div class="props_rev_3"><a id="GUID-D084867C-D195-4053-BB17-7072F19E70C9" name="GUID-D084867C-D195-4053-BB17-7072F19E70C9"></a><h4 id="TGDBA-GUID-D084867C-D195-4053-BB17-7072F19E70C9" class="sect4"><span class="enumeration_section">12.2.2</span> SGA的最大大小</h4>
                  <div>
                     <p>数据库实例可用的最大内存量在实例启动时由<code class="codeph">SGA_MAX_SIZE</code>初始化参数的值确定。您可以将总SGA大小扩展为等于<code class="codeph">SGA_MAX_SIZE</code>参数的值。<code class="codeph">SGA_MAX_SIZE</code>参数的值默认为所有SGA组件的聚合设置。
                     </p>
                     <p>如果未设置<code class="codeph">SGA_MAX_SIZE</code>参数的值，则减小一个高速缓存的大小，并在必要时将该内存重新分配给另一个高速缓存。或者，您可以将<code class="codeph">SGA_MAX_SIZE</code>参数的值设置为大于所有SGA组件的总和，例如缓冲区高速缓存和共享池。这样做可以动态增加缓存大小，而不必减小另一个缓存的大小。
                     </p>
                     <div class="infoboxnote" id="GUID-D084867C-D195-4053-BB17-7072F19E70C9__GUID-9AEE7B66-E8B5-4E3E-88B0-E4753B85B5B9">
                        <p class="notep1">注意：</p>
                        <p>无法动态调整<code class="codeph">SGA_MAX_SIZE</code>参数的值。
                        </p>
                     </div>
                  </div>
               </div><a id="TGDBA519"></a><div class="props_rev_3"><a id="GUID-C893DA69-21EB-4D10-9FFF-CF7BFECF743E" name="GUID-C893DA69-21EB-4D10-9FFF-CF7BFECF743E"></a><h4 id="TGDBA-GUID-C893DA69-21EB-4D10-9FFF-CF7BFECF743E" class="sect4"><span class="enumeration_section">12.2.3</span>应用注意事项</h4>
                  <div>
                     <p>配置内存时，请根据应用程序的需要适当调整内存缓存的大小。相反，调整应用程序对内存缓存的使用可以大大减少资源需求。有效使用内存缓存还可以减少相关资源（如锁存器，CPU和I / O系统）的负载。</p>
                     <p>为获得最佳性能，请考虑以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>设计缓存以最有效的方式使用操作系统和数据库资源。</p>
                        </li>
                        <li>
                           <p>将内存分配给Oracle数据库内存结构，以最好地反映应用程序的需求。</p>
                        </li>
                        <li>
                           <p>如果对现有应用程序进行了更改或添加，请调整Oracle数据库内存结构的大小以满足已修改应用程序的需要。</p>
                        </li>
                        <li>
                           <p>如果应用程序使用Java，请调查是否需要修改Java池的默认配置。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C893DA69-21EB-4D10-9FFF-CF7BFECF743E__GUID-8B651C20-B0F1-4A18-85E0-1A25A814DD8C">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Java内存使用情况的信息，请参见<a href="../jjdev/about-Java-memory-usage.html#JJDEV-GUID-D660F569-3654-4C5F-9D25-5D5A3E05E9AD" target="_blank"><span class="italic">Oracle数据库Java开发人员指南</span></a></p>
                     </div>
                  </div>
               </div><a id="TGDBA520"></a><div class="props_rev_3"><a id="GUID-AE5BE48E-51B0-46D7-A833-CD7745F072F1" name="GUID-AE5BE48E-51B0-46D7-A833-CD7745F072F1"></a><h4 id="TGDBA-GUID-AE5BE48E-51B0-46D7-A833-CD7745F072F1" class="sect4"><span class="enumeration_section">12.2.4</span>操作系统内存使用</h4>
                  <div>
                     <p>对于大多数操作系统，在配置内存时请务必考虑以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-system-global-area.html#GUID-69E5114A-6401-4B75-9F21-BCB84096249B">减少分页</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-system-global-area.html#GUID-81095299-2A62-408F-93FC-62376CBE539D">将SGA安装到主存储器中</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-system-global-area.html#GUID-CB27B1D1-A125-4818-A7F4-0EA4F7975427">为个人用户留出足够的内存</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-AE5BE48E-51B0-46D7-A833-CD7745F072F1__GUID-A5518C91-F4E6-4518-BA0A-0007025B4318">
                        <p class="notep1">也可以看看：</p>
                        <p>有关调整操作系统内存使用情况的详细信息，请参见操作系统硬件和软件文档以及特定于操作系统的Oracle文档</p>
                     </div>
                  </div><a id="TGDBA521"></a><div class="props_rev_3"><a id="GUID-69E5114A-6401-4B75-9F21-BCB84096249B" name="GUID-69E5114A-6401-4B75-9F21-BCB84096249B"></a><h5 id="TGDBA-GUID-69E5114A-6401-4B75-9F21-BCB84096249B" class="sect5"><span class="enumeration_section">12.2.4.1</span>减少寻呼</h5>
                     <div>
                        <p>当操作系统将内存驻留页面仅传输到磁盘以将新页面加载到内存中时，就会发生分页<a id="d36106e1165" class="indexterm-anchor"></a><a id="d36106e1169" class="indexterm-anchor"></a><a id="d36106e1173" class="indexterm-anchor"></a> 。许多操作系统页面可以容纳大量不适合实际内存的信息。在大多数操作系统上，分页会降低性能。
                        </p>
                        <p>要确定主机系统上是否发生了重要分页，请使用操作系统实用程序检查操作系统。如果发生重要的分页，则总系统内存可能不足以容纳为其分配内存的内存高速缓存。考虑增加系统上的总内存，或减少分配的内存量。</p>
                     </div>
                  </div><a id="TGDBA522"></a><div class="props_rev_3"><a id="GUID-81095299-2A62-408F-93FC-62376CBE539D" name="GUID-81095299-2A62-408F-93FC-62376CBE539D"></a><h5 id="TGDBA-GUID-81095299-2A62-408F-93FC-62376CBE539D" class="sect5"><span class="enumeration_section">12.2.4.2</span>将SGA安装到主存储器中</h5>
                     <div>
                        <p><a id="d36106e1230" class="indexterm-anchor"></a><a id="d36106e1232" class="indexterm-anchor"></a>因为SGA的目的是将数据存储在存储器中以便快速访问，所以SGA应该驻留在主存储器中。如果SGA的页面交换到磁盘，则不再可以快速访问数据。在大多数操作系统上，分页的缺点明显超过了大SGA的优势。</p>
                        <p>本节包含以下主题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="tuning-system-global-area.html#GUID-C836F28B-F2D9-4CCB-BF1A-BA3BAB7B5D64">查看SGA内存分配</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-system-global-area.html#GUID-32F3C09D-32E0-4A99-9F0C-7637C41FC225">将SGA锁定到物理内存</a></p>
                           </li>
                        </ul>
                     </div><a id="TGDBA524"></a><a id="TGDBA523"></a><div class="props_rev_3"><a id="GUID-C836F28B-F2D9-4CCB-BF1A-BA3BAB7B5D64" name="GUID-C836F28B-F2D9-4CCB-BF1A-BA3BAB7B5D64"></a><h6 id="TGDBA-GUID-C836F28B-F2D9-4CCB-BF1A-BA3BAB7B5D64" class="sect6"><span class="enumeration_section">12.2.4.2.1</span>查看SGA内存分配</h6>
                        <div>
                           <div class="section">
                              <p>要查看为SGA及其每个内部结构分配了多少内存，请使用SQL * Plus中的<code class="codeph">SHOW SGA</code>语句，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHOW SGA</pre><p>此语句的输出可能如下所示：</p><pre class="oac_no_warn" dir="ltr">系统全局总面积840205000字节固定大小279240字节可变大小520093696字节数据库缓冲区318767104字节重做缓冲区1064960字节</pre></div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="TGDBA525"></a><div class="props_rev_3"><a id="GUID-32F3C09D-32E0-4A99-9F0C-7637C41FC225" name="GUID-32F3C09D-32E0-4A99-9F0C-7637C41FC225"></a><h6 id="TGDBA-GUID-32F3C09D-32E0-4A99-9F0C-7637C41FC225" class="sect6"><span class="enumeration_section">12.2.4.2.2</span>将SGA锁定为物理内存</h6>
                        <div>
                           <p>要防止SGA被分页，请考虑通过启用<code class="codeph">LOCK_SGA</code>参数将SGA锁定到物理内存中。该数据库不使用<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>的参数时<code class="codeph">LOCK_SGA</code>启用参数。
                           </p>
                        </div>
                     </div>
                  </div><a id="TGDBA526"></a><div class="props_rev_3"><a id="GUID-CB27B1D1-A125-4818-A7F4-0EA4F7975427" name="GUID-CB27B1D1-A125-4818-A7F4-0EA4F7975427"></a><h5 id="TGDBA-GUID-CB27B1D1-A125-4818-A7F4-0EA4F7975427" class="sect5"><span class="enumeration_section">12.2.4.3</span>为个人用户提供足够的内存</h5>
                     <div>
                        <p>在调整SGA大小时，请确保为单个服务器进程和系统上运行的任何其他程序提供足够的内存。</p>
                     </div>
                  </div>
               </div><a id="TGDBA527"></a><div class="props_rev_3"><a id="GUID-7E9DDB21-F48C-4AE2-A039-27B008466939" name="GUID-7E9DDB21-F48C-4AE2-A039-27B008466939"></a><h4 id="TGDBA-GUID-7E9DDB21-F48C-4AE2-A039-27B008466939" class="sect4"><span class="enumeration_section">12.2.5</span>配置过程中的迭代</h4>
                  <div>
                     <p>配置内存分配<a id="d36106e1482" class="indexterm-anchor"></a>涉及将可用内存分配给Oracle数据库内存结构，具体取决于应用程序的需要。向Oracle数据库结构分发内存可能会影响Oracle数据库正常运行所需的物理I / O量。具有适当的初始内存配置可指示I / O系统是否有效配置。
                     </p>
                     <p>在初始通过内存配置过程之后，可能需要重复内存分配的步骤。后续传递使您可以根据后续步骤中的更改对先前步骤进行调整。例如，减小缓冲区高速缓存的大小可以增加另一个内存结构的大小，例如共享池。</p>
                  </div>
               </div>
            </div><a id="TGDBA529"></a><a id="TGDBA528"></a><div class="props_rev_3"><a id="GUID-83C52AEF-140D-4AFA-BA07-627783522376" name="GUID-83C52AEF-140D-4AFA-BA07-627783522376"></a><h3 id="TGDBA-GUID-83C52AEF-140D-4AFA-BA07-627783522376" class="sect3"><span class="enumeration_section">12.3</span>监控共享内存管理</h3>
               <div>
                  <p><a href="tuning-system-global-area.html#GUID-83C52AEF-140D-4AFA-BA07-627783522376__BGBEHEID" title="此表列出了提供有关SGA调整大小操作的信息的视图。">表12-1</a>列出了提供有关SGA调整大小操作的信息的视图。
                  </p>
                  <div class="tblformal" id="GUID-83C52AEF-140D-4AFA-BA07-627783522376__BGBEHEID">
                     <p class="titleintable">表12-1共享内存管理视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="共享内存管理视图" width="100%" border="1" summary="This tables lists the views that provide information about resize operations of the SGA." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d36106e1556">视图</th>
                              <th align="left" valign="bottom" width="55%" id="d36106e1559">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d36106e1564" headers="d36106e1556 ">
                                 <p><code class="codeph">V $ SGA_CURRENT_RESIZE_OPS</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d36106e1564 d36106e1559 ">
                                 <p>显示有关当前正在进行的SGA调整大小操作的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d36106e1572" headers="d36106e1556 ">
                                 <p><code class="codeph">V $ SGA_RESIZE_OPS</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d36106e1572 d36106e1559 ">
                                 <p>显示有关最近800个已完成的SGA调整大小操作的信息。这不包括当前正在进行的操作。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d36106e1580" headers="d36106e1556 ">
                                 <p><code class="codeph">V $ SGA_DYNAMIC_COMPONENTS</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d36106e1580 d36106e1559 ">
                                 <p>显示有关SGA中动态组件的信息。此视图总结了实例启动后发生的所有已完成SGA调整大小操作的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d36106e1588" headers="d36106e1556 ">
                                 <p><code class="codeph">V $ SGA_DYNAMIC_FREE_MEMORY</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d36106e1588 d36106e1559 ">
                                 <p>显示有关可用于将来动态SGA调整大小操作的SGA内存量的信息。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-83C52AEF-140D-4AFA-BA07-627783522376__GUID-B3D26B40-CB98-4740-85C2-536CEDEA549E">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a>以获取有关这些视图的信息</p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-8B97AB30-9624-4333-83A0-F0BCFDA8EA2D" name="GUID-8B97AB30-9624-4333-83A0-F0BCFDA8EA2D"></a><h3 id="TGDBA-GUID-8B97AB30-9624-4333-83A0-F0BCFDA8EA2D" class="sect3"><span class="enumeration_section">12.4</span>使用内存中的列存储提高查询性能</h3>
               <div>
                  <p></p>
                  <p>内存中列存储（IM列存储）是系统全局区域（SGA）的可选部分，它以列式格式存储表，分区和其他数据库对象的副本，并且此列式数据针对快速扫描进行了优化。由于IM列存储将数据库对象存储在内存中，因此与对存储在磁盘上的数据执行这些操作相比，Oracle数据库可以更快地对该数据执行扫描，查询，连接和聚合。</p>
                  <div class="infoboxnote" id="GUID-8B97AB30-9624-4333-83A0-F0BCFDA8EA2D__GUID-06D0AA96-4693-4C0B-8142-EF093472B8B4">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>IM列存储和数据库缓冲区缓存存储相同的数据，但格式不同。IM列存储不会替换数据库缓冲区高速缓存中的基于行的存储，而是对其进行补充以实现更好的查询性能。</p>
                        </li>
                        <li>
                           <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始，可以使用IM列存储。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-8B97AB30-9624-4333-83A0-F0BCFDA8EA2D__ORACLEDATABASEIN-MEMORYGUIDEFORINFO-F6B9419A">
                     <p class="notep1">也可以看看：</p>
                     <p>有关IM列存储的详细信息，请参见<a href="../inmem/intro-to-in-memory-column-store.html#INMEM-GUID-BFA53515-7643-41E5-A296-654AB4A9F9E7" target="_blank"><span class="italic">“Oracle数据库内存指南”</span></a></p>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-9752E93D-55A7-4584-B09B-9623B33B5CCF" name="GUID-9752E93D-55A7-4584-B09B-9623B33B5CCF"></a><h3 id="TGDBA-GUID-9752E93D-55A7-4584-B09B-9623B33B5CCF" class="sect3"><span class="enumeration_section">12.5</span>使用Memoptimized Rowstore启用高性能数据流</h3>
               <div>
                  <p>Memoptimized Rowstore为诸如物联网（IoT）之类的应用程序提供高性能数据流。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-C06253F5-9A22-4566-BBB7-399D288CD519" title="Memoptimized Rowstore为诸如物联网（IoT）应用程序之类的应用程序提供高性能数据流，这些应用程序通常同时从大量客户端单行插入少量数据，并且还为客户端查询数据非常高频率。">关于Memoptimized Rowstore</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25" title="快速摄取优化了从物联网（IoT）应用程序等应用程序插入数据库的高频单行数据的处理。">使用快速摄取</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-system-global-area.html#GUID-E46EF11C-E999-4277-950F-E78EEC895ABB" title="快速查找可以从数据库表中快速检索数据，例如物联网（IoT）应用程序。">使用快速查找</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-C06253F5-9A22-4566-BBB7-399D288CD519" name="GUID-C06253F5-9A22-4566-BBB7-399D288CD519"></a><h4 id="TGDBA-GUID-C06253F5-9A22-4566-BBB7-399D288CD519" class="sect4"><span class="enumeration_section">12.5.1</span>关于Memoptimized Rowstore</h4>
                  <div>
                     <p>Memoptimized Rowstore为诸如物联网（IoT）应用程序之类的应用程序提供高性能数据流，这些应用程序通常同时从大量客户端单行插入少量数据，并且还为客户端查询数据非常高频率。</p>
                     <p>Memoptimized Rowstore提供以下功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>快速摄取</p>
                           <p>快速摄取优化了高频，单行数据插入数据库的处理。快速摄取使用大型池在将插件写入磁盘之前缓冲插件，从而提高数据插入性能。</p>
                        </li>
                        <li>
                           <p>快速查找</p>
                           <p>快速查找可以快速从数据库中检索数据，以进行高频查询。快速查找在SGA中使用称为<span class="italic">memoptimize池</span>的单独内存区域来缓冲从表中查询的数据，从而提高查询性能。
                           </p>
                           <div class="infoboxnote" id="GUID-C06253F5-9A22-4566-BBB7-399D288CD519__GUID-6C6CEE5F-962F-43B3-BDE3-4B4AA5B08952">
                              <p class="notep1">注意：</p>
                              <p>要使用快速查找，必须使用<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数为memoptimize池分配适当的内存大小。
                              </p>
                           </div>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C06253F5-9A22-4566-BBB7-399D288CD519__GUID-DE189071-228F-4A75-9CF5-A3F65B4FC0D6">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-C06253F5-9A22-4566-BBB7-399D288CD519__UL_BQ5_MW1_TGB" style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="tuning-system-global-area.html#GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25" title="快速摄取优化了从物联网（IoT）应用程序等应用程序插入数据库的高频单行数据的处理。">使用快速摄取</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="tuning-system-global-area.html#GUID-E46EF11C-E999-4277-950F-E78EEC895ABB" title="快速查找可以从数据库表中快速检索数据，例如物联网（IoT）应用程序。">使用快速查找</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25" name="GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25"></a><h4 id="TGDBA-GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25" class="sect4"><span class="enumeration_section">12.5.2</span>使用快速摄取</h4>
                  <div>
                     <p>快速摄取优化了从物联网（IoT）应用程序等应用程序插入数据库的高频单行数据的处理。</p>
                     <p>快速摄取使用<code class="codeph">MEMOPTIMIZE_WRITE</code>提示将数据插入指定为<code class="codeph">MEMOPTIMIZE FOR WRITE</code>表中。数据库临时将这些插入缓冲在大型池中，并在将这些缓冲的插入写入磁盘时自动提交更改。无法回滚更改。
                     </p>
                     <p>使用快速摄取的插入也称为<span class="italic">延迟插入</span> ，因为它们最初在大型池中缓冲，然后由后台进程异步写入磁盘。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25__GUID-A40F2DB7-2122-4870-AC18-5AD3A15A3732">使用快速摄取将数据插入表中的步骤</p>
                        <p>以下是使用快速摄取将数据插入表中的步骤：</p>
                        <ol>
                           <li>
                              <p>启用快速摄取表</p>
                              <p>通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">MEMOPTIMIZE FOR WRITE</code>子句来实现此任务。
                              </p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="tuning-system-global-area.html#GUID-23778DA4-4F66-4B67-9D32-4D9B1106E1F1" title="您可以通过在CREATE TABLE或ALTER TABLE语句中指定MEMOPTIMIZE FOR WRITE子句来启用快速摄取表。">为快速摄取启用表</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>为插入操作指定使用快速摄取的提示</p>
                              <p>通过在<code class="codeph">INSERT</code>语句中指定<code class="codeph">MEMOPTIMIZE_WRITE</code>提示来实现此任务。
                              </p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="tuning-system-global-area.html#GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6" title="您可以通过在INSERT语句中指定MEMOPTIMIZE_WRITE提示来使用快速摄取来进行数据插入。">为数据插入指定使用快速摄取的提示</a> ”</span> 。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25__GUID-B2F95CD3-1B00-4726-8B5D-FB97E9D227CE">使用快速摄取的限制</p>
                        <p>具有以下特征的表不能使用快速摄取：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>表格：</p>
                              <ul id="GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25__UL_TGX_QDF_TGB" style="list-style-type:disc">
                                 <li>磁盘压缩</li>
                                 <li>内存压缩</li>
                                 <li>列默认值</li>
                                 <li>加密</li>
                                 <li>功能指标</li>
                                 <li>域索引</li>
                                 <li>位图索引</li>
                                 <li>位图连接索引</li>
                                 <li>ref类型</li>
                                 <li>varray类型</li>
                                 <li>OID $类型</li>
                                 <li>子分区统计</li>
                                 <li>未使用的列</li>
                                 <li>虚拟列</li>
                                 <li>的LOB</li>
                                 <li>触发器</li>
                                 <li>二进制列</li>
                                 <li>外键</li>
                                 <li>行档案</li>
                                 <li>隐形列</li>
                              </ul>
                           </li>
                           <li>
                              <p>临时表</p>
                           </li>
                           <li>
                              <p>嵌套表</p>
                           </li>
                           <li>
                              <p>索引组织表</p>
                           </li>
                           <li>
                              <p>外部表格</p>
                           </li>
                           <li>
                              <p>具有按需刷新的物化视图</p>
                           </li>
                        </ul>
                        <p>以下是快速摄取的一些其他注意事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>由于快速摄取缓冲大型池中的数据，因此在系统发生故障时可能会丢失数据。为避免数据丢失，客户端必须在执行插入后保留数据的本地副本，以便在数据写入磁盘之前，它可以在系统出现故障时重放插入。客户端可以使用<code class="codeph">DBMS_MEMOPTIMIZE</code>程序来跟踪插入的持久性。将插入写入磁盘后，客户端可以销毁其插入数据的本地副本。
                              </p>
                           </li>
                           <li>
                              <p>查询不从大型池读取数据，因此在将其写入磁盘之前无法查询使用快速摄取插入的数据。</p>
                           </li>
                           <li>
                              <p>必须同步父子事务以避免错误。例如，如果父数据尚未写入磁盘，则插入大型池的行的外键插入和更新可能会返回错误。</p>
                           </li>
                           <li>
                              <p>快速摄取支持索引操作，类似于常规插入。但是，对于快速摄取，数据库在将数据写入磁盘时执行索引操作，而不是在将数据写入大型池时执行索引操作。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25__GUID-4CACD0A7-F590-48F9-85D6-2C8E5FD2FEA7">
                           <p class="notep1">注意：</p>
                           <p>可以配置表以使用快速摄取和快速查找。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-CFADC9EA-2E2F-4EBB-BA2C-3663291DCC25__GUID-D834C56E-F77B-4FC7-A663-9F3A1D277227">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="tuning-system-global-area.html#GUID-23778DA4-4F66-4B67-9D32-4D9B1106E1F1" title="您可以通过在CREATE TABLE或ALTER TABLE语句中指定MEMOPTIMIZE FOR WRITE子句来启用快速摄取表。">启用快速摄取表</a></p>
                              </li>
                              <li>
                                 <p><a href="tuning-system-global-area.html#GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6" title="您可以通过在INSERT语句中指定MEMOPTIMIZE_WRITE提示来使用快速摄取来进行数据插入。">指定使用快速摄取数据插入的提示</a></p>
                              </li>
                              <li>
                                 <p><a href="tuning-system-global-area.html#GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB" title="您可以使用V $ MEMOPTIMIZE_WRITE_AREA视图查看大型池中的快速摄取数据。您还可以使用软件包DBMS_MEMOPTIMIZE和DBMS_MEMOPTIMIZE_ADMIN的子程序查看和控制大型池中的快速摄取数据。">管理大型池中的快速摄取数据</a></p>
                              </li>
                              <li>
                                 <p><a href="tuning-system-global-area.html#GUID-97036BC5-5407-49AB-AD73-D885AA153CB6" title="您可以通过在ALTER TABLE语句中指定NO MEMOPTIMIZE FOR WRITE子句来禁用快速摄取的表。">禁用快速摄取表</a></p>
                              </li>
                              <li>
                                 <p>有关<span class="italic">延迟插入</span>机制的更多信息，请<span class="italic">参见</span> <a href="../cncpt/memory-architecture.html#CNCPT-GUID-07D4439A-8E4E-4FBC-A403-1B0F0B9E0058" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="props_rev_3"><a id="GUID-23778DA4-4F66-4B67-9D32-4D9B1106E1F1" name="GUID-23778DA4-4F66-4B67-9D32-4D9B1106E1F1"></a><h5 id="TGDBA-GUID-23778DA4-4F66-4B67-9D32-4D9B1106E1F1" class="sect5"><span class="enumeration_section">12.5.2.1</span>启用快速摄取表</h5>
                     <div>
                        <p>您可以通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">MEMOPTIMIZE FOR WRITE</code>子句来启用快速摄取<code class="codeph">ALTER TABLE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-23778DA4-4F66-4B67-9D32-4D9B1106E1F1__GUID-A6FA42FF-BF81-47A2-96F9-972951F2C578">要启用快速摄取表：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有<code class="codeph">ALTER TABLE</code>权限的用户身份登录数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">MEMOPTIMIZE FOR WRITE</code>子句运行<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句。
                                 </p>
                                 <p>以下示例创建一个新表<code class="codeph">test_fast_ingest</code>并启用它以进行快速摄取：</p><pre class="pre codeblock"><code>CREATE TABLE test_fast_ingest（id NUMBER（5）PRIMARY KEY，test_col VARCHAR2（15））MEMOPTIMIZE FOR WRITE;</code></pre><p>以下示例启用现有表<code class="codeph">hr.employees</code>以进行快速摄取：</p><pre class="pre codeblock"><code>ALTER TABLE hr.employees MEMOPTIMIZE FOR WRITE;</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6" name="GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6"></a><h5 id="TGDBA-GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6" class="sect5"><span class="enumeration_section">12.5.2.2</span>为数据插入指定使用快速摄取的提示</h5>
                     <div>
                        <p>您可以通过在<code class="codeph">INSERT</code>语句中指定<code class="codeph">MEMOPTIMIZE_WRITE</code>提示来使用快速摄取来进行数据插入。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6__GUID-C57ED8CE-8CDA-44CE-84BB-30E3C18FA046">先决条件</p>
                           <p>此任务假定已启用快速摄取的表。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6__GUID-A6FA42FF-BF81-47A2-96F9-972951F2C578">要使用快速摄取进行数据插入：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有将数据插入表的权限的用户身份登录数据库。</p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">MEMOPTIMIZE_WRITE</code>提示运行<code class="codeph">INSERT</code>语句，以<code class="codeph">MEMOPTIMIZE_WRITE</code>已启用快速摄取的表。</p>
                                 <p>例如：</p><pre class="pre codeblock"><code>INSERT / * + MEMOPTIMIZE_WRITE * / INTO test_fast_ingest VALUES（1，'test'）;</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-1644CBFB-EFD6-4804-B9A2-2B6F9B5360E6__GUID-9D4FF7D0-1AB4-4481-ACA7-3BBA9154D8D9">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="tuning-system-global-area.html#GUID-23778DA4-4F66-4B67-9D32-4D9B1106E1F1" title="您可以通过在CREATE TABLE或ALTER TABLE语句中指定MEMOPTIMIZE FOR WRITE子句来启用快速摄取表。">启用快速摄取表</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-97036BC5-5407-49AB-AD73-D885AA153CB6" name="GUID-97036BC5-5407-49AB-AD73-D885AA153CB6"></a><h5 id="TGDBA-GUID-97036BC5-5407-49AB-AD73-D885AA153CB6" class="sect5"><span class="enumeration_section">12.5.2.3</span>禁用快速摄取表</h5>
                     <div>
                        <p>您可以通过在<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">NO MEMOPTIMIZE FOR WRITE</code>子句来禁用快速摄取的<code class="codeph">ALTER TABLE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-97036BC5-5407-49AB-AD73-D885AA153CB6__GUID-A6FA42FF-BF81-47A2-96F9-972951F2C578">要禁用快速摄取的表：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有<code class="codeph">ALTER TABLE</code>权限的用户身份登录数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">NO MEMOPTIMIZE FOR WRITE</code>子句运行<code class="codeph">ALTER TABLE</code>语句。
                                 </p>
                                 <p>以下示例禁用表<code class="codeph">hr.employees</code>以进行快速摄取：</p><pre class="pre codeblock"><code>ALTER TABLE hr.employees没有MEMOPTIMIZE FOR WRITE;</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB" name="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB"></a><h5 id="TGDBA-GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB" class="sect5"><span class="enumeration_section">12.5.2.4</span>管理大型池中的快速接收数据</h5>
                     <div>
                        <p>您可以使用<code class="codeph">V$MEMOPTIMIZE_WRITE_AREA</code>视图查看大型池中的快速摄取数据。您还可以使用软件包<code class="codeph">DBMS_MEMOPTIMIZE</code>和<code class="codeph">DBMS_MEMOPTIMIZE_ADMIN</code>的子程序查看和控制大型池中的快速摄取数据。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__GUID-751B491C-D7E5-4A59-A875-8455FB95EE80"><span class="bold">V $ MEMOPTIMIZE_WRITE_AREA视图概述</span></p>
                           <p><code class="codeph">V$MEMOPTIMIZE_WRITE_AREA</code>视图通过快速摄取提供有关大型池中的内存使用情况和数据插入的以下信息：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>为大型池中的快速摄取数据分配的内存总量</p>
                              </li>
                              <li>
                                 <p>大型池中快速摄取数据当前使用的内存总量</p>
                              </li>
                              <li>
                                 <p>当前可用于在大型池中存储快速摄取数据的内存总量</p>
                              </li>
                              <li>
                                 <p>数据仍在大型池中但尚未写入磁盘的快速摄取插入操作数</p>
                              </li>
                              <li>
                                 <p>当前使用快速摄取将数据插入数据库的客户端数</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__NOTE-1314-9D119296">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">V$MEMOPTIMIZE_WRITE_AREA</code>视图的信息，请<a href="../refrn/V-MEMOPTIMIZE_WRITE_AREA.html#REFRN-GUID-C6904827-0F5B-436B-8C2D-0E487EB8BE70" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__GUID-10CED291-4275-493D-A672-182BD124A4DF"><span class="bold">DBMS_MEMOPTIMIZE程序包子程序概述</span></p>
                           <p>您可以使用<code class="codeph">DBMS_MEMOPTIMIZE</code>包的以下子程序来查看和控制大型池中的快速摄取数据：</p>
                           <div class="tblformal" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__TABLE_DBMS_MEMOPTIMIZE_SUBPROGRAMS">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the subprograms of the DBMS_MEMOPTIMIZE package for managing the fast ingest data in the large pool." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d36106e2560">子程序</th>
                                       <th align="left" valign="bottom" id="d36106e2563">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d36106e2568" headers="d36106e2560 ">
                                          <p><code class="codeph">GET_APPLY_HWM_SEQID</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d36106e2568 d36106e2563 ">
                                          <p>返回所有会话成功写入磁盘的数据记录序列号的低水位高（低HWM）。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d36106e2577" headers="d36106e2560 ">
                                          <p><code class="codeph">GET_WRITE_HWM_SEQID</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d36106e2577 d36106e2563 ">
                                          <p>返回写入当前会话的大池的数据记录的高水位线（HWM）序列号。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d36106e2586" headers="d36106e2560 ">
                                          <p><code class="codeph">WRITE_END</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d36106e2586 d36106e2563 ">
                                          <p>将所有快速接收数据从大型池刷新到当前会话的磁盘。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__ORACLEDATABASEPLSQLPACKAGESANDTYPES-9D11F7AA">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">DBMS_MEMOPTIMIZE</code>包的信息，请<code class="codeph">DBMS_MEMOPTIMIZE</code> <a href="../arpls/DBMS_MEMOPTIMIZE.html#ARPLS-GUID-49F0E799-97F0-41E7-9CD3-24AE3CAA8105" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__GUID-E58D73D4-3C6F-466D-A530-20D3771257C6"><span class="bold">DBMS_MEMOPTIMIZE_ADMIN程序包子程序概述</span></p>
                           <p>您可以使用<code class="codeph">DBMS_MEMOPTIMIZE_ADMIN</code>包的以下子程序来控制大型池中的快速摄取数据：</p>
                           <div class="tblformal" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__TABLE_DBMS_MEMOPTIMIZE_ADMIN_SUBPROGRAMS">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The following table lists the subprograms of the DBMS_MEMOPTIMIZE_ADMIN package for managing the fast ingest data in the large pool." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d36106e2625">子程序</th>
                                       <th align="left" valign="bottom" id="d36106e2628">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d36106e2633" headers="d36106e2625 ">
                                          <p><code class="codeph">WRITES_FLUSH</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d36106e2633 d36106e2628 ">
                                          <p>将所有快速接收数据从大池刷新到所有会话的磁盘。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-F9C59F3F-86FC-4C8C-8B8C-595052E041BB__ORACLEDATABASEPLSQLPACKAGESANDTYPES-9D11FB61">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">DBMS_MEMOPTIMIZE_ADMIN</code>包的信息，请<code class="codeph">DBMS_MEMOPTIMIZE_ADMIN</code> <a href="../arpls/DBMS_MEMOPTIMIZE_ADMIN.html#ARPLS-GUID-8D800B44-7360-4C8D-B91A-EBA7466D43B2" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E46EF11C-E999-4277-950F-E78EEC895ABB" name="GUID-E46EF11C-E999-4277-950F-E78EEC895ABB"></a><h4 id="TGDBA-GUID-E46EF11C-E999-4277-950F-E78EEC895ABB" class="sect4"><span class="enumeration_section">12.5.3</span>使用快速查找</h4>
                  <div>
                     <p>快速查找可以从数据库表中快速检索数据，例如物联网（IoT）应用程序。</p>
                     <p>快速查找使用存储在名为<span class="italic">memoptimize池</span>的SGA缓冲区中的哈希索引，以快速访问永久固定在缓冲区缓存中的表块，从而避免磁盘I / O并提高查询性能。
                     </p>
                     <p><span class="bold">使用快速查找表的步骤</span></p>
                     <p>以下是对表使用快速查找的步骤：</p>
                     <ol>
                        <li>
                           <p>启用memoptimize池</p>
                           <p>通过将<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数设置为非零值来实现此任务。
                           </p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="tuning-system-global-area.html#GUID-4434D082-4748-47C3-A410-B7E2B443DD16" title="在使用快速查找之前，必须启用memoptimize池。memoptimize池驻留在SGA中，并存储为快速查找启用的表的数据和哈希索引。">启用Memoptimize池</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>启用表以进行快速查找</p>
                           <p>通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">MEMOPTIMIZE FOR READ</code>子句来实现此任务。
                           </p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="tuning-system-global-area.html#GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1" title="您可以通过在CREATE TABLE或ALTER TABLE语句中指定MEMOPTIMIZE FOR READ子句来启用快速查找表。">启用快速查找表</a> ”</span> 。
                           </p>
                        </li>
                     </ol>
                     <p><span class="bold">使用快速查找的限制</span></p>
                     <p>以下是使用快速查找的限制：</p>
                     <ul id="GUID-E46EF11C-E999-4277-950F-E78EEC895ABB__UL_HZZ_FRM_BHB" style="list-style-type:disc">
                        <li>
                           <p>无法压缩启用快速查找的表。</p>
                        </li>
                        <li>
                           <p>启用快速查找的表必须启用主键约束。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-E46EF11C-E999-4277-950F-E78EEC895ABB__GUID-CC0FF49A-F762-4932-B242-A463FC1400DB">
                        <p class="notep1">注意：</p>
                        <p>可以配置表以使用快速摄取和快速查找。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-E46EF11C-E999-4277-950F-E78EEC895ABB__GUID-F38CBAF9-94F5-4B0F-B530-FEB70502B4FF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="tuning-system-global-area.html#GUID-4434D082-4748-47C3-A410-B7E2B443DD16" title="在使用快速查找之前，必须启用memoptimize池。memoptimize池驻留在SGA中，并存储为快速查找启用的表的数据和哈希索引。">启用Memoptimize池</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-system-global-area.html#GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1" title="您可以通过在CREATE TABLE或ALTER TABLE语句中指定MEMOPTIMIZE FOR READ子句来启用快速查找表。">启用表以进行快速查找</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-system-global-area.html#GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630" title="您可以通过在ALTER TABLE语句中指定NO MEMOPTIMIZE FOR READ子句来禁用快速查找表。">禁用快速查找表</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-system-global-area.html#GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1" title="memoptimize池存储所有启用快速查找的表的数据（快速查找数据）。您可以使用DBMS_MEMOPTIMIZE程序包子程序显式删除或填充memoptimize池中表的快速查找数据。">在Memoptimize池中管理快速查找数据</a></p>
                           </li>
                           <li>
                              <p>有关memoptimize池内存体系结构的信息，请参见<a href="../cncpt/memory-architecture.html#CNCPT-GUID-D58DC90F-0ABB-4B1E-96C1-6094A04A5E12" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数的信息，请<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code> <a href="../refrn/MEMOPTIMIZE_POOL_SIZE.html#REFRN-GUID-D33BB2FE-94A7-475F-B8C8-CC9AC61B502F" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-4434D082-4748-47C3-A410-B7E2B443DD16" name="GUID-4434D082-4748-47C3-A410-B7E2B443DD16"></a><h5 id="TGDBA-GUID-4434D082-4748-47C3-A410-B7E2B443DD16" class="sect5"><span class="enumeration_section">12.5.3.1</span>启用Memoptimize池</h5>
                     <div>
                        <p>在使用快速查找之前，必须启用memoptimize池。memoptimize池驻留在SGA中，并存储为快速查找启用的表的数据和哈希索引。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-4434D082-4748-47C3-A410-B7E2B443DD16__GUID-C57ED8CE-8CDA-44CE-84BB-30E3C18FA046">先决条件</p>
                           <p>此任务假定<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">18.0.0</code>或更高。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4434D082-4748-47C3-A410-B7E2B443DD16__GUID-A6FA42FF-BF81-47A2-96F9-972951F2C578">要启用memoptimize池：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有管理权限的用户身份登录数据库。</p>
                              </li>
                              <li>
                                 <p>将<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数设置为非零值。最小设置为<code class="codeph">100 MB</code> 。使用<code class="codeph">ALTER SYSTEM</code>语句在服务器参数文件（SPFILE）中设置此初始化参数时，必须指定<code class="codeph">SCOPE=SPFILE</code> 。</p>
                                 <p>例如，以下语句将memoptimize池大小设置为10 GB：</p><pre class="pre codeblock"><code>ALTER SYSTEM SET MEMOPTIMIZE_POOL_SIZE = 10G SCOPE = SPFILE;</code></pre></li>
                              <li>
                                 <p>重新启动数据库以使更改生效。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4434D082-4748-47C3-A410-B7E2B443DD16__GUID-0AF80F60-AF82-4598-AFDA-2E3EE77D6877">示例：启用Memoptimize池</p>
                           <p>假设<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数最初设置为0。下面的示例启用通过设置memoptimize池<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>到10 GB：</p><pre class="pre codeblock"><code>SQL&gt; SHOW PARAMETER MEMOPTIMIZE_POOL_SIZE NAME TYPE VALUE --------------------- ----------- ----- memoptimize_pool_size大整数0 SQL &gt; ALTER SYSTEM SET MEMOPTIMIZE_POOL_SIZE = 10G SCOPE = SPFILE;系统改变了。SQL&gt; SHUTDOWN IMMEDIATE数据库已关闭。数据库已卸下。ORACLE实例关闭。SQL&gt; STARTUP ORACLE实例已启动。系统全局总面积1.1832E + 10字节固定大小9010864字节可变大小1.1799E + 10字节数据库缓冲区16777216字节重做缓冲区7766016字节数据库已安装。数据库已打开SQL&gt; SHOW PARAMETER MEMOPTIMIZE_POOL_SIZE NAME TYPE VALUE --------------------- ----------- ----- memoptimize_pool_size大整数10G</code></pre><div class="infoboxnote" id="GUID-4434D082-4748-47C3-A410-B7E2B443DD16__GUID-36795128-4A5E-4E48-85B7-B9F2EDC66CE4">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>值确实计入<code class="codeph">SGA_TARGET</code> ，但数据库不会自动增大和缩小memoptimize池。例如，如果<code class="codeph">SGA_TARGET</code>为10 GB，并且<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>为1 GB，那么除了memoptimize池之外，总共有9 GB可用于SGA内存。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-4434D082-4748-47C3-A410-B7E2B443DD16__GUID-F38CBAF9-94F5-4B0F-B530-FEB70502B4FF">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关memoptimize池内存体系结构的信息，请参见<a href="../cncpt/memory-architecture.html#CNCPT-GUID-D58DC90F-0ABB-4B1E-96C1-6094A04A5E12" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数的信息，请<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code> <a href="../refrn/MEMOPTIMIZE_POOL_SIZE.html#REFRN-GUID-D33BB2FE-94A7-475F-B8C8-CC9AC61B502F" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1" name="GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1"></a><h5 id="TGDBA-GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1" class="sect5"><span class="enumeration_section">12.5.3.2</span>启用快速查找表</h5>
                     <div>
                        <p>您可以通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">MEMOPTIMIZE FOR READ</code>子句来启用快速查找<code class="codeph">ALTER TABLE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1__GUID-C57ED8CE-8CDA-44CE-84BB-30E3C18FA046">先决条件</p>
                           <p>此任务假定已启用memoptimize池。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1__GUID-A6FA42FF-BF81-47A2-96F9-972951F2C578">要启用快速查找表：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有<code class="codeph">ALTER TABLE</code>权限的用户身份登录数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>对于需要启用快速查找的表，使用<code class="codeph">MEMOPTIMIZE FOR READ</code>子句运行<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句。
                                 </p>
                                 <p>以下示例创建一个新表<code class="codeph">test_fast_lookup</code>并启用它以进行快速查找：</p><pre class="pre codeblock"><code>CREATE TABLE test_fast_lookup（id NUMBER（5）PRIMARY KEY，test_col VARCHAR2（15））MEMOPTIMIZE FOR READ;</code></pre><p>以下示例启用现有表<code class="codeph">hr.employees</code>以进行快速查找：</p><pre class="pre codeblock"><code>ALTER TABLE hr.employees MEMOPTIMIZE FOR READ;</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1__GUID-9D4FF7D0-1AB4-4481-ACA7-3BBA9154D8D9">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="tuning-system-global-area.html#GUID-4434D082-4748-47C3-A410-B7E2B443DD16" title="在使用快速查找之前，必须启用memoptimize池。memoptimize池驻留在SGA中，并存储为快速查找启用的表的数据和哈希索引。">启用Memoptimize池</a></p>
                                 </li>
                                 <li>
                                    <p><a href="tuning-system-global-area.html#GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630" title="您可以通过在ALTER TABLE语句中指定NO MEMOPTIMIZE FOR READ子句来禁用快速查找表。">禁用快速查找表</a></p>
                                 </li>
                                 <li>
                                    <p><a href="tuning-system-global-area.html#GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1" title="memoptimize池存储所有启用快速查找的表的数据（快速查找数据）。您可以使用DBMS_MEMOPTIMIZE程序包子程序显式删除或填充memoptimize池中表的快速查找数据。">在Memoptimize池中管理快速查找数据</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630" name="GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630"></a><h5 id="TGDBA-GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630" class="sect5"><span class="enumeration_section">12.5.3.3</span>禁用快速查找表</h5>
                     <div>
                        <p>您可以通过在<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">NO MEMOPTIMIZE FOR READ</code>子句来禁用快速查找<code class="codeph">ALTER TABLE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630__GUID-C57ED8CE-8CDA-44CE-84BB-30E3C18FA046">先决条件</p>
                           <p>此任务假定已启用表以进行快速查找。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630__GUID-A6FA42FF-BF81-47A2-96F9-972951F2C578">要禁用快速查找表：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有<code class="codeph">ALTER TABLE</code>权限的用户身份登录数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>对于需要禁用快速查找的表，使用<code class="codeph">NO MEMOPTIMIZE FOR READ</code>子句运行<code class="codeph">ALTER TABLE</code>语句。
                                 </p>
                                 <p>以下示例禁用<code class="codeph">hr.employees</code>表以进行快速查找：</p><pre class="pre codeblock"><code>ALTER TABLE hr.employees没有MEMOPTIMIZE FOR READ;</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-74E2C7C0-1F33-42D2-B17B-9BDAA8285630__GUID-9D4FF7D0-1AB4-4481-ACA7-3BBA9154D8D9">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="tuning-system-global-area.html#GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1" title="您可以通过在CREATE TABLE或ALTER TABLE语句中指定MEMOPTIMIZE FOR READ子句来启用快速查找表。">启用快速查找表</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1" name="GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1"></a><h5 id="TGDBA-GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1" class="sect5"><span class="enumeration_section">12.5.3.4</span>在Memoptimize池中管理快速查找数据</h5>
                     <div>
                        <p>memoptimize池存储所有启用快速查找的表的数据（ <span class="italic">快速查找数据</span> ）。您可以使用<code class="codeph">DBMS_MEMOPTIMIZE</code>程序<code class="codeph">DBMS_MEMOPTIMIZE</code>程序显式删除或填充memoptimize池中表的快速查找数据。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1__GUID-CA34034D-63FE-4140-8B83-D70BAF59CA23"><span class="bold">DBMS_MEMOPTIMIZE程序包子程序概述</span></p>
                           <p>以下是<code class="codeph">DBMS_MEMOPTIMIZE</code>程序，可用于删除或填充memoptimize池中表的快速查找数据：</p>
                           <div class="tblformal" id="GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1__TABLE_DBMS_MEMOPTIMIZE_ADMIN_SUBPROGRAMS">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the subprograms of the DBMS_MEMOPTIMIZE package for managing fast lookup data for a table in the memoptimize pool." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d36106e3337">子程序</th>
                                       <th align="left" valign="bottom" id="d36106e3340">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d36106e3345" headers="d36106e3337 ">
                                          <p><code class="codeph">DROP_OBJECT</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d36106e3345 d36106e3340 ">
                                          <p>从memoptimize池中删除表的快速查找数据。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d36106e3354" headers="d36106e3337 ">
                                          <p><code class="codeph">填充</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d36106e3354 d36106e3340 ">
                                          <p>为memoptimize池中的表填充快速查找数据。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-CB7F1C81-F027-4537-BC39-29DC2D689BC1__GUID-AAD21751-748C-4517-A205-9B124A38491D">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="tuning-system-global-area.html#GUID-2CF3F838-D11D-4869-B08A-88BD0C7A1BC1" title="您可以通过在CREATE TABLE或ALTER TABLE语句中指定MEMOPTIMIZE FOR READ子句来启用快速查找表。">启用快速查找表</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="tuning-system-global-area.html#GUID-4434D082-4748-47C3-A410-B7E2B443DD16" title="在使用快速查找之前，必须启用memoptimize池。memoptimize池驻留在SGA中，并存储为快速查找启用的表的数据和哈希索引。">启用Memoptimize池</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">DBMS_MEMOPTIMIZE</code>包的信息，请<code class="codeph">DBMS_MEMOPTIMIZE</code> <a href="../arpls/DBMS_MEMOPTIMIZE.html#ARPLS-GUID-49F0E799-97F0-41E7-9CD3-24AE3CAA8105" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关memoptimize池内存体系结构的信息，请参见<a href="../cncpt/memory-architecture.html#CNCPT-GUID-D58DC90F-0ABB-4B1E-96C1-6094A04A5E12" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>