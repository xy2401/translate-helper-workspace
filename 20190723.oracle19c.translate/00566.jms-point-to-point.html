<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Java消息服务点对点</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="jms-basic-operation.html" title="Previous" type="text/html"></link>
      <link rel="next" href="jms-publish-subscribe.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-basic-operation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="jms-publish-subscribe.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Java消息服务点对点</li>
            </ol>
            <a id="GUID-B9B45B9C-86F2-4FCD-8EFE-B24D21451693" name="GUID-B9B45B9C-86F2-4FCD-8EFE-B24D21451693"></a><a id="ADQUE1300"></a>
            
            <h2 id="ADQUE-GUID-B9B45B9C-86F2-4FCD-8EFE-B24D21451693" class="sect2"><span class="enumeration_chapter">13</span> Oracle Java消息服务点对点</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题描述了特定于点对点操作的Oracle数据库高级队列（AQ） <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java消息服务</span></a> （JMS）操作界面的组件。<a href="jms-shared-interfaces.html#GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0">Oracle Java消息服务共享接口</a>中描述了由点对点和发布/订阅<a href="jms-shared-interfaces.html#GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0">共享的组件</a> 。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC">使用用户名/密码创建连接</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD">使用默认ConnectionFactory参数创建连接</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459">使用用户名/密码创建QueueConnection</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B">使用Open JDBC Connection创建QueueConnection</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332">使用默认ConnectionFactory参数创建QueueConnection</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3">使用Open OracleOCIConnectionPool创建QueueConnection</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-B555FE46-E029-4961-8AEE-DA8C3415C192">创建会话</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919">创建QueueSession</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F">创建QueueSender</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B">使用具有默认发送选项的QueueSender发送消息</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA">通过指定发送选项使用QueueSender发送消息</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA">为标准JMS类型消息创建QueueBrowser</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1">为标准JMS类型消息创建QueueBrowser_锁定消息</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9">为Oracle对象类型消息创建QueueBrowser</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9">为Oracle对象类型Messages_锁定消息创建QueueBrowser</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-30DF26F0-8284-4291-9662-1B11968E15AA">为标准JMS类型消息创建QueueReceiver</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1">为Oracle对象类型消息创建QueueReceiver</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3006"></a><div class="props_rev_3"><a id="GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC" name="GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC"></a><h3 id="ADQUE-GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC" class="sect3"><span class="enumeration_section">13.1</span>使用用户名/密码创建连接</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。连接createConnection（java.lang。字符串用户名，java.lang。字符串密码）抛出JMSException</pre><p>此方法使用指定的用户名和密码创建支持点对点和发布/订阅操作的连接。此方法是新方法，支持JMS 1.1版规范。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC__GUID-E1279112-1B51-47CB-A4B6-7543F6CCB6E6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e206">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e209">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e214" headers="d85658e206 ">
                                    <p><code class="codeph">用户名</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e214 d85658e209 ">
                                    <p>连接到数据库以进行排队的用户的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e222" headers="d85658e206 ">
                                    <p><code class="codeph">密码</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e222 d85658e209 ">
                                    <p>用于创建与服务器的连接的密码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3007"></a><div class="props_rev_3"><a id="GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD" name="GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD"></a><h3 id="ADQUE-GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD" class="sect3"><span class="enumeration_section">13.2</span>使用默认ConnectionFactory参数创建连接</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。连接createConnection（）抛出JMSException</pre><p>此方法使用默认的<a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a>参数创建支持点对点和发布/订阅操作的<a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">连接</span></a> 。此方法是新方法，支持JMS 1.1版规范。如果<code class="codeph">ConnectionFactory</code>属性不包含默认用户名和密码，则会抛出JMSException。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3009"></a><a id="ADQUE3008"></a><div class="props_rev_3"><a id="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459" name="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459"></a><h3 id="ADQUE-GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459" class="sect3"><span class="enumeration_section">13.3</span>使用用户名/密码创建QueueConnection</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueConnection createQueueConnection（java.lang。字符串用户名，java.lang。字符串密码）抛出JMSException</pre><p>此方法使用指定的用户名和密码创建<a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">队列</span></a>连接。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459__GUID-DFC0C21C-0FCC-4134-8CA4-2282931C7EAD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e368">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e371">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e376" headers="d85658e368 ">
                                    <p><code class="codeph">用户名</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e376 d85658e371 ">
                                    <p>连接到数据库以进行排队的用户的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e384" headers="d85658e368 ">
                                    <p><code class="codeph">密码</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e384 d85658e371 ">
                                    <p>用于创建与服务器的连接的密码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459__GUID-B394BDC8-2A48-49B9-BEB4-03179EB63ABD">
                     <p class="titleinexample">示例13-1使用用户名/密码创建QueueConnection</p><pre class="oac_no_warn" dir="ltr">QueueConnectionFactory qc_fact = AQjmsFactory.getQueueConnectionFactory（“sun123”，“oratest”，5521，“thin”）; QueueConnection qc_conn = qc_fact.createQueueConnection（“jmsuser”，“jmsuser”）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3011"></a><a id="ADQUE3012"></a><a id="ADQUE3010"></a><div class="props_rev_3"><a id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B" name="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B"></a><h3 id="ADQUE-GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B" class="sect3"><span class="enumeration_section">13.4</span>使用Open JDBC连接创建QueueConnection</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms。QueueConnection createQueueConnection（java.sql。连接jdbc_connection）抛出JMSException</pre><p>此方法使用打开的JDBC连接创建队列连接。它是静态的，具有以下参数：</p>
                     <div class="tblformal" id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__GUID-9B7D30E8-CF9F-499A-A2F8-A4BC0582C886">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e464">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e467">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e472" headers="d85658e464 ">
                                    <p><code class="codeph">jdbc_connection</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e472 d85658e467 ">
                                    <p>与数据库的有效打开连接</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果用户想要使用现有JDBC连接（例如，从连接池）进行JMS操作，则可以使用<a href="jms-point-to-point.html#GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCJCDF">示例13-2中</a>的方法。在这种情况下，JMS不会打开新连接，而是使用提供的JDBC连接来创建JMS <code class="codeph">QueueConnection</code>对象。
                     </p>
                     <p>从数据库内的Java存储过程使用JMS时， <a href="jms-point-to-point.html#GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCHGJJ">示例13-3</a>中的方法是创建JMS <code class="codeph">QueueConnection</code>的唯一方法（JDBC Server驱动程序）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCJCDF">
                     <p class="titleinexample">示例13-2使用Open JDBC连接创建QueueConnection</p><pre class="oac_no_warn" dir="ltr">连接db_conn; / *以前打开的JDBC连接* / QueueConnection qc_conn = AQjmsQueueConnectionFactory.createQueueConnection（db_conn）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCHGJJ">
                     <p class="titleinexample">示例13-3从Java内部数据库过程创建QueueConnection</p><pre class="oac_no_warn" dir="ltr">OracleDriver ora = new OracleDriver（）; QueueConnection qc_conn = AQjmsQueueConnectionFactory.createQueueConnection（ora.defaultConnection（））;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3013"></a><div class="props_rev_3"><a id="GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332" name="GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332"></a><h3 id="ADQUE-GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332" class="sect3"><span class="enumeration_section">13.5</span>使用默认ConnectionFactory参数创建QueueConnection</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueConnection createQueueConnection（）抛出JMSException</pre><p>此方法使用默认的<a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a>参数创建队列连接。如果队列连接工厂属性不包含默认用户名和密码，则会抛出JMSException。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3015"></a><a id="ADQUE3014"></a><div class="props_rev_3"><a id="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3" name="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3"></a><h3 id="ADQUE-GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3" class="sect3"><span class="enumeration_section">13.6</span>使用Open OracleOCIConnectionPool创建QueueConnection</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms。QueueConnection createQueueConnection（oracle.jdbc.pool。OracleOCIConnectionPool cpool）抛出JMSException</pre><p>此方法使用打开的<code class="codeph">OracleOCIConnectionPool</code>创建队列连接。它是静态的，具有以下参数：</p>
                     <div class="tblformal" id="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3__GUID-FF42E8FD-24FA-4F02-A635-8F35219EB082">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e636">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e639">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e644" headers="d85658e636 ">
                                    <p><code class="codeph">CPOOL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e644 d85658e639 ">
                                    <p>有效打开数据库的OCI连接池</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果用户想要使用现有的<code class="codeph">OracleOCIConnectionPool</code>实例进行JMS操作，则可以使用<a href="jms-point-to-point.html#GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3__CHDDFEHD">示例13-4中</a>的方法。在这种情况下，JMS不会打开新的<code class="codeph">OracleOCIConnectionPool</code>实例，而是使用提供的<code class="codeph">OracleOCIConnectionPool</code>实例来创建JMS QueueConnection对象。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3__CHDDFEHD">
                     <p class="titleinexample">示例13-4使用Open OracleOCIConnectionPool创建QueueConnection</p><pre class="oac_no_warn" dir="ltr">OracleOCIConnectionPool cpool; / *以前创建的OracleOCIConnectionPool * / QueueConnection qc_conn = AQjmsQueueConnectionFactory.createQueueConnection（cpool）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3016"></a><div class="props_rev_3"><a id="GUID-B555FE46-E029-4961-8AEE-DA8C3415C192" name="GUID-B555FE46-E029-4961-8AEE-DA8C3415C192"></a><h3 id="ADQUE-GUID-B555FE46-E029-4961-8AEE-DA8C3415C192" class="sect3"><span class="enumeration_section">13.7</span>创建会话</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。Session createSession（boolean transacted，int ack_mode）抛出JMSException</pre><p>此方法创建一个<code class="codeph">Session</code> ，它支持点对点和发布/订阅操作。此方法是新方法，支持JMS 1.1版规范。支持交易和<a href="glossary.html#GUID-D93C8E9C-D211-4780-B671-CBA864C62E5A"><span class="xrefglossterm">非</span></a>交易会话。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-B555FE46-E029-4961-8AEE-DA8C3415C192__GUID-84079F6B-18C0-49B0-95B9-4AFFDFC1B402">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e746">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e749">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e754" headers="d85658e746 ">
                                    <p><code class="codeph">交易</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e754 d85658e749 ">
                                    <p>如果设置为true，则会话是<a href="glossary.html#GUID-4956C594-EE49-498B-A9DD-7371518B4EBA"><span class="xrefglossterm">事务性的</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e765" headers="d85658e746 ">
                                    <p><code class="codeph">ack_mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e765 d85658e749 ">
                                    <p>指示消费者或客户端是否会确认收到的任何消息。如果会话是事务性的，则忽略它。法律价值观是<code class="codeph">Session.AUTO_ACKNOWLEDGE</code> ， <code class="codeph">Session.CLIENT_ACKNOWLEDGE</code>和<code class="codeph">Session.DUPS_OK_ACKNOWLEDGE</code> 。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3018"></a><a id="ADQUE3017"></a><div class="props_rev_3"><a id="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919" name="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919"></a><h3 id="ADQUE-GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919" class="sect3"><span class="enumeration_section">13.8</span>创建QueueSession</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueSession createQueueSession（boolean transacted，int ack_mode）抛出JMSException</pre><p>此方法创建<code class="codeph">QueueSession</code> 。支持交易和非交易会话。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919__GUID-7A0A4285-27BC-45BD-973A-649C137C7087">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e851">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e854">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e859" headers="d85658e851 ">
                                    <p><code class="codeph">交易</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e859 d85658e854 ">
                                    <p>如果设置为true，则会话是<a href="glossary.html#GUID-4956C594-EE49-498B-A9DD-7371518B4EBA"><span class="xrefglossterm">事务性的</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e870" headers="d85658e851 ">
                                    <p><code class="codeph">ack_mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e870 d85658e854 ">
                                    <p>指示消费者或客户端是否会确认收到的任何消息。如果会话是事务性的，则忽略它。法律价值观是<code class="codeph">Session.AUTO_ACKNOWLEDGE</code> ， <code class="codeph">Session.CLIENT_ACKNOWLEDGE</code>和<code class="codeph">Session.DUPS_OK_ACKNOWLEDGE</code> 。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919__GUID-FAEF0774-EB72-4D47-A649-42BE07B8AFD8">
                     <p class="titleinexample">示例13-5创建Transactional QueueSession</p><pre class="oac_no_warn" dir="ltr">QueueConnection qc_conn; QueueSession q_sess = qc_conn.createQueueSession（true，0）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3019"></a><div class="props_rev_3"><a id="GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F" name="GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F"></a><h3 id="ADQUE-GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F" class="sect3"><span class="enumeration_section">13.9</span>创建QueueSender</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueSender createSender（javax.jms。队列队列）抛出JMSException</pre><p>此方法创建<code class="codeph">QueueSender</code> 。如果创建的发件人没有默认队列，则必须在每个<a href="glossary.html#GUID-23702F6A-28F1-42D5-BBF6-CCFAACD2B784"><span class="xrefglossterm">发送</span></a>操作上指定目标队列。它有以下参数：</p>
                     <div class="tblformal" id="GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F__GUID-E54F7FAD-5450-491C-838D-04D2D3EC59AB">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e965">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e968">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e973" headers="d85658e965 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e973 d85658e968 ">
                                    <p>目标队列的名称</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3021"></a><a id="ADQUE3022"></a><a id="ADQUE3020"></a><div class="props_rev_3"><a id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B" name="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B"></a><h3 id="ADQUE-GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B" class="sect3"><span class="enumeration_section">13.10</span>使用具有默认发送选项的QueueSender发送消息</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void send（javax.jms。队列队列，javax.jms。消息消息）抛出JMSException</pre><p>此方法使用具有默认发送选项的<code class="codeph">QueueSender</code>发送<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a> 。此操作使用消息<code class="codeph">priority</code> （ <code class="codeph">1</code> ）和<code class="codeph">timeToLive</code> （ <code class="codeph">infinite</code> ）的默认值。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B__GUID-BEA6A8E4-151B-439F-83D3-FA99696B53C5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1072">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1075">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1080" headers="d85658e1072 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1080 d85658e1075 ">
                                    <p>队列发送此消息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1088" headers="d85658e1072 ">
                                    <p><code class="codeph">信息</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1088 d85658e1075 ">
                                    <p>要发送的消息</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果已使用默认队列创建<code class="codeph">QueueSender</code> ，则可能不一定在<code class="codeph">send()</code>调用中提供队列参数。如果在<code class="codeph">send()</code>操作中指定了队列，则此值将覆盖<code class="codeph">QueueSender</code>的默认队列。
                     </p>
                     <p>如果在没有默认队列的情况下创建了<code class="codeph">QueueSender</code> ，则必须在每次<code class="codeph">send()</code>调用中指定queue参数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B__GUID-D979E279-A2E7-439E-998C-10B7192D1C4F">
                     <p class="titleinexample">示例13-6创建发送消息到任何队列的发件人</p><pre class="oac_no_warn" dir="ltr">/ *创建发件人以将消息发送到任何队列* / QueueSession jms_sess; QueueSender sender1; TextMessage消息; sender1 = jms_sess.createSender（null）; sender1.send（queue，message）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B__GUID-22F5F95F-5274-404A-8D11-32E283EDE8C1">
                     <p class="titleinexample">示例13-7创建发送者以将消息发送到特定队列</p><pre class="oac_no_warn" dir="ltr">/ *创建发送者以将消息发送到特定队列* / QueueSession jms_sess; QueueSender sender2;队列billed_orders_que; TextMessage消息; sender2 = jms_sess.createSender（billed_orders_que）; sender2.send（队列，消息）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3024"></a><a id="ADQUE3025"></a><a id="ADQUE3023"></a><div class="props_rev_3"><a id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA" name="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA"></a><h3 id="ADQUE-GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA" class="sect3"><span class="enumeration_section">13.11</span>通过指定发送选项使用QueueSender发送消息</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void send（javax.jms。队列队列，javax.jms。消息消息，int deliveryMode，int priority，long timeToLive）抛出JMSException</pre><p>此方法通过指定发送选项使用<code class="codeph">QueueSender</code>发送消息。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA__GUID-FCEA11A8-2598-40DE-A30F-C1A87C4D633B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1202">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1205">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1210" headers="d85658e1202 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1210 d85658e1205 ">
                                    <p>队列发送此消息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1218" headers="d85658e1202 ">
                                    <p><code class="codeph">信息</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1218 d85658e1205 ">
                                    <p>要发送的消息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1226" headers="d85658e1202 ">
                                    <p><code class="codeph">deliveryMode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1226 d85658e1205 ">
                                    <p>交货方式使用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1234" headers="d85658e1202 ">
                                    <p><code class="codeph">优先</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1234 d85658e1205 ">
                                    <p>此消息的优先级</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1242" headers="d85658e1202 ">
                                    <p><code class="codeph">传输TimeToLive</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1242 d85658e1205 ">
                                    <p>消息生存期（以毫秒为单位）（零为无限制）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果已使用默认队列创建<code class="codeph">QueueSender</code> ，则可能不一定在<code class="codeph">send()</code>调用中提供队列参数。如果在<code class="codeph">send()</code>操作中指定了队列，则此值将覆盖<code class="codeph">QueueSender</code>的默认队列。
                     </p>
                     <p>如果在没有默认队列的情况下创建了<code class="codeph">QueueSender</code> ，则必须在每次<code class="codeph">send()</code>调用中指定queue参数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA__GUID-3AEB0289-0C5E-4E98-A959-961BA0296F97">
                     <p class="titleinexample">示例13-8通过指定发送选项使用QueueSender发送消息1</p><pre class="oac_no_warn" dir="ltr">/ *创建发送者以将消息发送到任何队列* / / *发送消息到new_orders_que，优先级为2，timetoLive为100000毫秒* / QueueSession jms_sess; QueueSender sender1; TextMessage mesg;队列new_orders_que sender1 = jms_sess.createSender（null）; sender1.send（new_orders_que，mesg，DeliveryMode。PERSISTENT，2,100000）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA__GUID-E63CADAC-B128-42E0-B24A-AF1CAEDC6466">
                     <p class="titleinexample">示例13-9通过指定发送选项使用QueueSender发送消息2</p><pre class="oac_no_warn" dir="ltr">/ *创建发送方以将消息发送到特定队列* / / *发送优先级为1且timetoLive为400000毫秒的消息* / QueueSession jms_sess; QueueSender sender2;队列billed_orders_que; TextMessage mesg; sender2 = jms_sess.createSender（billed_orders_que）; sender2.send（mesg，DeliveryMode。PERSISTENT，1,400000）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3027"></a><a id="ADQUE3028"></a><a id="ADQUE3026"></a><div class="props_rev_3"><a id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA" name="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA"></a><h3 id="ADQUE-GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA" class="sect3"><span class="enumeration_section">13.12</span>为标准JMS类型消息创建QueueBrowser</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueBrowser createBrowser（javax.jms。队列队列，java.lang。String messageSelector）抛出JMSException</pre><p>此方法为具有文本，流，对象，字节或MapMessage消息主体的队列创建<code class="codeph">QueueBrowser</code> 。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-062B77D2-6528-44A6-8602-A50A018E669B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1361">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1364">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1369" headers="d85658e1361 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1369 d85658e1364 ">
                                    <p>队列访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1377" headers="d85658e1361 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1377 d85658e1364 ">
                                    <p>仅传递具有与<code class="codeph">messageSelector</code>表达式匹配的属性的<code class="codeph">messageSelector</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>使用<code class="codeph">java.util.方法<code class="codeph">java.util.Enumeration</code>以查看消息列表。
                     </p>
                     <div class="infoboxnotealso" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-D0A9F9F4-CBD1-4D4A-A666-59EB02188400">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-AB2DA02B-CBD5-44DC-B9BA-B26C459982F3">
                     <p class="titleinexample">示例13-10在没有选择器的情况下创建QueueBrowser</p><pre class="oac_no_warn" dir="ltr">/ *创建一个没有选择器的浏览器* / QueueSession jms_session; QueueBrowser浏览器;队列队列; browser = jms_session.createBrowser（queue）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-0D2568B7-BFBF-4B14-B9A1-135BCA13D28A">
                     <p class="titleinexample">示例13-11使用指定的选择器创建QueueBrowser</p><pre class="oac_no_warn" dir="ltr">/ *为具有指定选择器的队列创建浏览器* / QueueSession jms_session; QueueBrowser浏览器;队列队列; / *创建一个浏览器来查看具有correlationID = RUSH * / browser = jms_session.createBrowser（queue，“JMSCorrelationID ='RUSH'”）的消息;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3030"></a><a id="ADQUE3031"></a><a id="ADQUE3029"></a><div class="props_rev_3"><a id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1" name="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1"></a><h3 id="ADQUE-GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1" class="sect3"><span class="enumeration_section">13.13</span>为标准JMS类型消息创建QueueBrowser，锁定消息</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueBrowser createBrowser（javax.jms。队列队列，java.lang。String messageSelector，boolean locked）抛出JMSException</pre><p>此方法使用TextMessage，StreamMessage，ObjectMessage，BytesMessage或MapMessage消息正文为队列创建<code class="codeph">QueueBrowser</code> ，在浏览时锁定消息。在浏览会话结束事务之前，其他使用者无法删除锁定的消息。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1__GUID-33F620F3-DB9E-415E-8830-402934A35222">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1486">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1489">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1494" headers="d85658e1486 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1494 d85658e1489 ">
                                    <p>队列访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1502" headers="d85658e1486 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1502 d85658e1489 ">
                                    <p>仅传递具有与<code class="codeph">messageSelector</code>表达式匹配的属性的<code class="codeph">messageSelector</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1513" headers="d85658e1486 ">
                                    <p><code class="codeph">锁定</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1513 d85658e1489 ">
                                    <p>如果设置为true，则消息在浏览时被锁定（类似于SELECT for UPDATE）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1__GUID-9BE6F0F4-1B49-497E-BABD-45D4D29BA74C">
                     <p class="titleinexample">示例13-12在没有选择器的情况下创建QueueBrowser，锁定消息</p><pre class="oac_no_warn" dir="ltr">/ *创建一个没有选择器的浏览器* / QueueSession jms_session; QueueBrowser浏览器;队列队列; browser = jms_session.createBrowser（queue，null，true）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1__GUID-F0C3075D-54FA-4008-BA85-D7B7E944B077">
                     <p class="titleinexample">示例13-13使用指定的选择器创建QueueBrowser，锁定消息</p><pre class="oac_no_warn" dir="ltr">/ *为具有指定选择器的队列创建浏览器* / QueueSession jms_session; QueueBrowser浏览器;队列队列; / *创建一个浏览器，以锁定模式查看具有correlationID = RUSH的消息* / browser = jms_session.createBrowser（queue，“JMSCorrelationID ='RUSH'”，true）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3033"></a><a id="ADQUE3032"></a><div class="props_rev_3"><a id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9" name="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9"></a><h3 id="ADQUE-GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9" class="sect3"><span class="enumeration_section">13.14</span>为Oracle对象类型消息创建QueueBrowser</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueBrowser createBrowser（javax.jms。队列队列，java.lang。String messageSelector，java.lang。Object payload_factory）抛出JMSException</pre><p>此方法为Oracle <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">对象类型</span></a>消息的队列创建<code class="codeph">QueueBrowser</code> 。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-9D5F8B62-E9CC-462E-B82B-DB0F4B6FCBF6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1612">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1615">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1620" headers="d85658e1612 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1620 d85658e1615 ">
                                    <p>队列访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1628" headers="d85658e1612 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1628 d85658e1615 ">
                                    <p>仅传递具有与<code class="codeph">messageSelector</code>表达式匹配的属性的<code class="codeph">messageSelector</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1639" headers="d85658e1612 ">
                                    <p>payload_factory</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1639 d85658e1615 ">
                                    <p>用于映射到Oracle ADT的java类的<code class="codeph">CustomDatumFactory</code>或<code class="codeph">ORADataFactory</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>可以使用<code class="codeph">getFactory</code>静态方法获取映射到SQL对象有效内容的特定java类的<code class="codeph">CustomDatumFactory</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-6227EF79-D175-4CFA-BFBC-82FA98A027E4">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">CustomDatum</code>支持将在以后的版本中弃用。请改用<code class="codeph">ORADataFactory</code>有效负载工厂。
                        </p>
                     </div>
                     <p>假设队列<code class="codeph">test_queue</code>具有<code class="codeph">SCOTT.EMPLOYEE</code>类型的有效负载，并且Jpublisher为此Oracle对象类型生成的java类称为Employee。Employee类实现<code class="codeph">CustomDatum</code>接口。可以使用<code class="codeph">Employee.getFactory()</code>方法获取此类的<code class="codeph">CustomDatumFactory</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-DD3835EB-8564-44E5-A86D-36FDB46E3F76">
                        <p class="notep1">注意：</p>
                        <p>分片队列不支持对象类型消息</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-EAA7E16F-405D-4598-B7F0-76E18671DECD">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-A6248E0E-E528-49F0-8B2C-D094964FA627">
                     <p class="titleinexample">示例13-14为ADTMessages创建QueueBrowser</p><pre class="oac_no_warn" dir="ltr">/ *使用类型为EMPLOYEE * / QueueSession jms_session QueueBrowser浏览器的AdtMessage消息为Queue创建浏览器;队列test_queue; browser =（（AQjmsSession）jms_session）.createBrowser（test_queue，“corrid ='EXPRESS'”，Employee.getFactory（））;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3035"></a><a id="ADQUE3034"></a><div class="props_rev_3"><a id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9" name="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9"></a><h3 id="ADQUE-GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9" class="sect3"><span class="enumeration_section">13.15</span>为Oracle对象类型消息创建QueueBrowser，锁定消息</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueBrowser createBrowser（javax.jms。队列队列，java.lang。String messageSelector，java.lang。Object payload_factory，boolean locked）抛出JMSException</pre><p>此方法为Oracle对象类型消息的队列创建<code class="codeph">QueueBrowser</code> ，在浏览时锁定消息。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-37358DBA-102C-468E-A919-00CD73E707AA">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1757">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1760">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1765" headers="d85658e1757 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1765 d85658e1760 ">
                                    <p>队列访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1773" headers="d85658e1757 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1773 d85658e1760 ">
                                    <p>仅传递具有与<code class="codeph">messageSelector</code>表达式匹配的属性的<code class="codeph">messageSelector</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1784" headers="d85658e1757 ">
                                    <p>payload_factory</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1784 d85658e1760 ">
                                    <p>用于映射到Oracle ADT的java类的<code class="codeph">CustomDatumFactory</code>或<code class="codeph">ORADataFactory</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1796" headers="d85658e1757 ">
                                    <p><code class="codeph">锁定</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1796 d85658e1760 ">
                                    <p>如果设置为true，则消息在浏览时被锁定（类似于SELECT for UPDATE）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-4302C9C7-6953-447D-A938-1078E1325C83">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">CustomDatum</code>支持将在以后的版本中弃用。请改用<code class="codeph">ORADataFactory</code>有效负载工厂。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-85CB580A-9432-4816-B271-FB309A9AEDE2">
                        <p class="notep1">注意：</p>
                        <p>分片队列不支持对象类型消息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-63E484AB-3C5A-48A0-AC0F-ADB56A22AC92">
                     <p class="titleinexample">示例13-15为AdtMessages创建QueueBrowser，锁定消息</p><pre class="oac_no_warn" dir="ltr">/ *在锁定模式下使用类型为EMPLOYEE *的AdtMessage消息为Queue创建一个浏览器/ QueueSession jms_session QueueBrowser browser;队列test_queue; browser =（（AQjmsSession）jms_session）.createBrowser（test_queue，null，Employee.getFactory（），true）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3037"></a><a id="ADQUE3038"></a><a id="ADQUE3036"></a><div class="props_rev_3"><a id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA" name="GUID-30DF26F0-8284-4291-9662-1B11968E15AA"></a><h3 id="ADQUE-GUID-30DF26F0-8284-4291-9662-1B11968E15AA" class="sect3"><span class="enumeration_section">13.16</span>为标准JMS类型消息创建QueueReceiver</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueReceiver createReceiver（javax.jms。队列队列，java.lang。String messageSelector）抛出JMSException</pre><p>此方法为标准JMS类型消息的队列创建<code class="codeph">QueueReceiver</code> 。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-6641BC94-7668-42A4-B323-C97F63D9467C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1898">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1901">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1906" headers="d85658e1898 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1906 d85658e1901 ">
                                    <p>队列访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1914" headers="d85658e1898 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1914 d85658e1901 ">
                                    <p>仅传递具有与<code class="codeph">messageSelector</code>表达式匹配的属性的<code class="codeph">messageSelector</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-2834BFB3-74B9-439A-B0AF-1D9CB87C791D">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-5F9C5056-1532-44AE-B760-482FA953D457">
                     <p class="titleinexample">示例13-16在没有选择器的情况下创建QueueReceiver</p><pre class="oac_no_warn" dir="ltr">/ *创建一个没有选择器的接收器* / QueueSession jms_session QueueReceiver接收器;队列队列; receiver = jms_session.createReceiver（queue）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-6A56A071-1686-4A72-897D-F76D7430B1A7">
                     <p class="titleinexample">示例13-17使用指定的选择器创建QueueReceiver</p><pre class="oac_no_warn" dir="ltr">/ *为具有指定选择器的队列创建接收器* / QueueSession jms_session; QueueReceiver接收器;队列队列; / *创建Receiver以接收具有以EXP * / browser = jms_session.createReceiver（queue，“JMSCorrelationID LIKE'EXP％'”）开头的correlationID的消息;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3040"></a><a id="ADQUE3039"></a><div class="props_rev_3"><a id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1" name="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1"></a><h3 id="ADQUE-GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1" class="sect3"><span class="enumeration_section">13.17</span>为Oracle对象类型消息创建QueueReceiver</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。QueueReceiver createReceiver（javax.jms。队列队列，java.lang。String messageSelector，java.lang。Object payload_factory）抛出JMSException</pre><p>此方法为Oracle对象类型消息的队列创建<code class="codeph">QueueReceiver</code> 。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-B2EBD4EA-EFCD-4C42-8FD4-88CFA757D851">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e2017">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e2020">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e2025" headers="d85658e2017 ">
                                    <p><code class="codeph">队列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e2025 d85658e2020 ">
                                    <p>队列访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e2033" headers="d85658e2017 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e2033 d85658e2020 ">
                                    <p>仅传递具有与<code class="codeph">messageSelector</code>表达式匹配的属性的<code class="codeph">messageSelector</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e2044" headers="d85658e2017 ">
                                    <p>payload_factory</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e2044 d85658e2020 ">
                                    <p>用于映射到Oracle ADT的java类的<code class="codeph">CustomDatumFactory</code>或<code class="codeph">ORADataFactory</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>可以使用<code class="codeph">getFactory</code>静态方法获取映射到SQL对象类型有效内容的特定Java类的<code class="codeph">CustomDatumFactory</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-671EB893-CD4E-4A0F-8875-33130FFA5687">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">CustomDatum</code>支持将在以后的版本中弃用。请改用<code class="codeph">ORADataFactory</code>有效负载工厂。
                        </p>
                     </div>
                     <p>假设队列<code class="codeph">test_queue</code>具有<code class="codeph">SCOTT.EMPLOYEE</code>类型的有效负载，并且Jpublisher为此Oracle对象类型生成的java类称为Employee。Employee类实现<code class="codeph">CustomDatum</code>接口。可以使用Employee.getFactory（）方法获取此类的<code class="codeph">ORADataFactory</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-BC2EC1B6-976A-4F7A-93C4-C2E61921AE7A">
                        <p class="notep1">注意：</p>
                        <p>分片队列不支持对象类型消息</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-290D7279-638C-4836-8ACC-30589DC29610">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-2E809BD2-CC37-46D5-9459-3156515FC566">
                     <p class="titleinexample">示例13-18为AdtMessage消息创建QueueReceiver</p><pre class="oac_no_warn" dir="ltr">/ *使用EMPLOYEE * / QueueSession jms_session QueueReceiver接收器类型的AdtMessage消息为队列创建接收器;队列test_queue; browser =（（AQjmsSession）jms_session）.createReceiver（test_queue，“JMSCorrelationID ='MANAGER'，Employee.getFactory（））;</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>