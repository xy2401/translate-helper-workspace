<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="With the DBMS_STATS package you can view and modify optimizer statistics gathered for database objects."></meta>
      <meta name="description" content="With the DBMS_STATS package you can view and modify optimizer statistics gathered for database objects."></meta>
      <title>DBMS_STATS</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="With the DBMS_STATS package you can view and modify optimizer statistics gathered for database objects."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_STAT_FUNCS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_STORAGE_MAP.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  <script src="/en/dcommon/js/global.js" defer=""></script>
    <script id="doceng-ajax-disclaimer" src="/en/dcommon/js/disclaimer.js" defer=""></script>
    </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_STAT_FUNCS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_STORAGE_MAP.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_STATS</li>
            </ol>
            <a id="GUID-01FAB8ED-E4A3-4C3E-8FE2-88717DCDDA06" name="GUID-01FAB8ED-E4A3-4C3E-8FE2-88717DCDDA06"></a><a id="ARPLS059"></a><a id="ARPLS059"></a>
            
            <h2 id="ARPLS-GUID-01FAB8ED-E4A3-4C3E-8FE2-88717DCDDA06" class="sect2"><span class="enumeration_chapter">165</span> DBMS_STATS</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用<code class="codeph">DBMS_STATS</code>包，您可以查看和修改为数据库对象收集的优化程序统计信息。
               </p>
               <p>用户还可以使用DBMS_STATS包收集有关全局临时表（GTT）的统计信息。但是， <code class="codeph">DBMS_STATS</code>无法收集有关私有临时表（PTT）的统计信息。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_STATS.html#GUID-A405E9B8-B8C8-400D-A838-F7DA161BE1A2" title="为了提高性能，数据库使您可以收集优化程序统计信息。">DBMS_STATS概述</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STATS.html#GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" title="Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。">DBMS_STATS已弃用的子程序</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STATS.html#GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2">DBMS_STATS类型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STATS.html#GUID-7BA4CA2E-013E-403B-9AB7-7AB62FE61FEE" title="DBMS_STATS包定义了几个用于指定参数值的常量。">DBMS_STATS常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2" title="使用DBMS_STATS程序包时，请遵守这些操作说明。">DBMS_STATS操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STATS.html#GUID-400FBE93-89CF-4596-BBCC-06A279D7CDFD" title="DBMS_STATS包定义了RECORD类型。">DBMS_STATS数据结构</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_STATS.html#GUID-B930CE9B-7461-4691-8AA9-7E424C3C2C8C" title="该表列出了DBMS_STATS子程序并简要描述了它们。">DBMS_STATS子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-01FAB8ED-E4A3-4C3E-8FE2-88717DCDDA06__GUID-E6E5C744-74F5-455D-BBB3-0ACC97173C04">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../tgsql/optimizer-statistics-concepts.html#TGSQL-GUID-C0E74ACE-2706-48A1-97A2-33F52207166A" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                     </li>
                     <li>
                        <p><a href="../admin/managing-tables.html#ADMIN-GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS68487"></a><a id="ARPLS68487"></a><div class="props_rev_3"><a id="GUID-A405E9B8-B8C8-400D-A838-F7DA161BE1A2" name="GUID-A405E9B8-B8C8-400D-A838-F7DA161BE1A2"></a><h3 id="ARPLS-GUID-A405E9B8-B8C8-400D-A838-F7DA161BE1A2" class="sect3"><span class="enumeration_section">165.1</span> DBMS_STATS概述</h3>
               <div>
                  <p>为了提高性能，数据库使您可以收集优化程序统计信息。</p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-A405E9B8-B8C8-400D-A838-F7DA161BE1A2__GUID-09A17BEA-4389-4C16-8A58-6957BFBA7CAC">
                        <p class="notep1">注意：</p>
                        <p>默认情况下，数据库会自动收集统计信息，因此此程序包仅适用于特殊情况。</p>
                     </div>
                     <p>优化程序统计信息可以驻留在数据字典中，也可以驻留在用户模式中创建的表中。您还可以使用此包收集和管理表和域索引的用户定义统计信息。例如，如果在已定义关联的列上调用<code class="codeph">DELETE_COLUMN_STATS</code>过程，则数据库将删除此列的用户定义和标准统计信息。
                     </p>
                     <p>只有存储在数据字典中的优化程序统计信息才会对基于开销的优化程序产生影响。您还可以使用<code class="codeph">DBMS_STATS</code>并行收集统计信息。
                     </p>
                     <p>Optimizer Statistics Advisor检查统计信息收集过程，自动诊断现有实践中的问题以收集统计信息，然后生成结果和建议报告。顾问程序任务在维护窗口中自动运行。但是，您也可以按需运行作业。</p>
                     <div class="infoboxnotealso" id="GUID-A405E9B8-B8C8-400D-A838-F7DA161BE1A2__GUID-8F128877-FE1B-4D91-A183-E2041D0E2571">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tgsql/gathering-optimizer-statistics.html#TGSQL389" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理优化程序统计信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74989"></a><a id="ARPLS74989"></a><div class="props_rev_3"><a id="GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" name="GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878"></a><h3 id="ARPLS-GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" class="sect3"><span class="enumeration_section">165.2</span> DBMS_STATS已弃用的子程序</h3>
               <div>
                  <p>Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。</p>
                  <div class="section">
                     <p>从Oracle Database <span class="italic">11g</span>第2版（11.2）开始，以下子程序已过时：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68" title="此函数返回DBMS_STATS过程的参数的默认值。">GET_PARAM函数</a></p>
                           <p>而是使用<a href="DBMS_STATS.html#GUID-2C00FE80-1553-404C-85B6-220895561FE8" title="此函数返回指定首选项的默认值。">GET_PREFS函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE" title="不推荐使用的过程为DBMS_STATS过程的参数设置默认值。">SET_PARAM过程</a></p>
                           <p>而是使用<a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-51912684-43BB-47FE-B7FD-9B4FCF700D48" title="不推荐使用的过程会将所有参数的默认值重置为Oracle建议值。">RESET_PARAM_DEFAULTS过程</a></p>
                           <p>而是使用<a href="DBMS_STATS.html#GUID-292AF183-B036-4068-8023-852BC170AD9A" title="此过程将全局首选项（例如CASCADE，ESTIMATE_PERCENT和GRANULARITY）设置为默认值。">RESET_GLOBAL_PREF_DEFAULTS过程</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Oracle Database 12 <span class="italic">c</span>及更高版本不推荐使用以下子程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">GENERATE_STATS</code> 
                           </p>
                           <p>此过程由<code class="codeph">GATHER_INDEX_STAT</code>过程替换。
                           </p>
                           <div class="infoboxnotealso" id="GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878__GUID-40C9AC5E-DBB5-43B3-82A6-A6C92FEEADE7">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS程序</a> ”</span></p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68488"></a><a id="ARPLS68488"></a><div class="props_rev_3"><a id="GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2" name="GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2"></a><h3 id="ARPLS-GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2" class="sect3"><span class="enumeration_section">165.3</span> DBMS_STATS类型</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2__GUID-746EBAD6-DC09-4E99-AFFB-A4759461C386">直方图</p>
                     <p>最小值和最大值以及直方图端点的类型包括以下内容：</p><pre class="oac_no_warn" dir="ltr">TYPE numarray IS VARRAY（2050）OF NUMBER; TYD日期阵列IS VARRAY（2050）日期; TYPE chararray IS VARRAY（2050）OF VARCHAR2（4000）; TYPE rawarray IS VARRAY（2050）OF RAW（2000）; BLEARY_FLOAT的TYR fltarray IS VARRAY（2050）; TYPE dblarray IS VARRAY（2050）OF BINARY_DOUBLE;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2__GUID-5DEDA16B-4E23-4CC1-B8D3-E885E8F3AB52">陈旧表</p>
                     <p>列出陈旧表的类型包括以下内容：</p><pre class="oac_no_warn" dir="ltr">TYPE ObjectElem IS RECORD（ownname VARCHAR2（30）， -  owner objtype VARCHAR2（6）， - 'TABLE'或'INDEX'objname VARCHAR2（30）， -  table / index partname VARCHAR2（30）， -  partition subpartname VARCHAR2（30））; - 子分区TYPE ObjectTab IS TABLE OF ObjectElem;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2__GUID-FC267EFC-E809-43D9-BB60-B11E990E01B4">统计差异报告</p>
                     <p>使用以下类型显示统计差异报告：</p><pre class="oac_no_warn" dir="ltr">TYPE DiffRepElem IS RECORD（报告CLOB， - 统计差异报告maxdiffpct NUMBER）; - 最大统计差异（百分比）TYPE DiffRepTab IS表的DiffRepElem;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2__GUID-C3CB6563-F12F-465B-B40B-B7C4FB2E3F78">优化器统计顾问</p>
                     <p>以下类型表示可以为其收集统计信息的数据库对象：</p><pre class="pre codeblock"><code>TYPE ObjectElem IS RECORD（ownname dbms_quoted_id， -  owner objtype VARCHAR2（6）， - 'TABLE'或'INDEX'objname dbms_quoted_id， -  table / index partname dbms_quoted_id， -  partition subpartname dbms_quoted_id  -  subpartition）; TYPE ObjectTab是Object of ObjectElem;</code></pre><div class="infoboxnote" id="GUID-977A03B6-7089-4DA4-BDA4-C37592558DC2__GUID-6814DF43-5AD1-4BE5-B942-B15E8700E569">
                        <p class="notep1">注意：</p>
                        <p>确保在更改<code class="codeph">ObjectElem</code>类型时保持<code class="codeph">satisfy_obj_filter</code></p>
                     </div>
                     <p>以下类型表示操作：</p><pre class="pre codeblock"><code>TYPE StatsAdvOpr IS RECORD（名称VARCHAR2（64）， - 操作参数VARCHAR2（4000）的名称）; - 包含参数及其值的XML TYPE StatsAdvOprTab IS TABLE of StatsAdvOpr;</code></pre><p>以下类型表示筛选器列表：</p><pre class="pre codeblock"><code>TYPE StatsAdvFilter IS RECORD（rulename VARCHAR2（64）， -  rule name objlist ObjectTab， -  object filter list oprlist StatsAdvOprTab， -  operation filter list include BOOLEAN）; - 列表中的包含/排除元素TYPE StatsAdvFilterTab IS TABLE of StatsAdvFilter;</code></pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68489"></a><a id="ARPLS68490"></a><a id="ARPLS68490"></a><a id="ARPLS68489"></a><div class="props_rev_3"><a id="GUID-7BA4CA2E-013E-403B-9AB7-7AB62FE61FEE" name="GUID-7BA4CA2E-013E-403B-9AB7-7AB62FE61FEE"></a><h3 id="ARPLS-GUID-7BA4CA2E-013E-403B-9AB7-7AB62FE61FEE" class="sect3"><span class="enumeration_section">165.4</span> DBMS_STATS常量</h3>
               <div>
                  <p><code class="codeph">DBMS_STATS</code>包定义了几个用于指定参数值的常量。
                  </p>
                  <div class="tblformal" id="GUID-7BA4CA2E-013E-403B-9AB7-7AB62FE61FEE__CHDEBFCE">
                     <p class="titleintable">表165-1 DBMS_STATS常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_STATS常量" width="100%" border="1" summary="This table describes constants used by DBMS_STATS subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="32%" id="d960973e695">名称</th>
                              <th align="left" valign="bottom" width="27%" id="d960973e698">类型</th>
                              <th align="left" valign="bottom" width="41%" id="d960973e701">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d960973e706" headers="d960973e695 ">
                                 <p><code class="codeph">ADD_GLOBAL_PREFS</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d960973e706 d960973e698 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d960973e706 d960973e701 ">
                                 <p>复制全局首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d960973e718" headers="d960973e695 ">
                                 <p><code class="codeph">AUTO_CASCADE</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d960973e718 d960973e698 ">
                                 <p><code class="codeph">布尔</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d960973e718 d960973e701 ">
                                 <p>让Oracle决定是否收集索引的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d960973e730" headers="d960973e695 ">
                                 <p><code class="codeph">AUTO_DEGREE</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d960973e730 d960973e698 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d960973e730 d960973e701 ">
                                 <p>让Oracle根据对象的大小，CPU的数量和初始化参数选择并行度</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d960973e742" headers="d960973e695 ">
                                 <p><code class="codeph">AUTO_INVALIDATE</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d960973e742 d960973e698 ">
                                 <p><code class="codeph">布尔</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d960973e742 d960973e701 ">
                                 <p>让Oracle决定何时使相关游标无效</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d960973e754" headers="d960973e695 ">
                                 <p><code class="codeph">AUTO_SAMPLE_SIZE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d960973e754 d960973e698 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d960973e754 d960973e701 ">
                                 <p>表示应使用自动样本大小算法</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d960973e767" headers="d960973e695 ">
                                 <p><code class="codeph">PURGE_ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d960973e767 d960973e698 ">
                                 <p><code class="codeph">TIMESTAMP与时区</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d960973e767 d960973e701 ">
                                 <p>可以传递给<a href="DBMS_STATS.html#GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C" title="此过程将清除保存在字典中的旧版统计信息。">PURGE_STATS过程的</a>标志，并无条件地删除所有历史统计信息。删除在包含统计信息历史记录的各种字典统计信息表上使用<code class="codeph">TRUNCATE</code>语句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d960973e788" headers="d960973e695 ">
                                 <p><code class="codeph">RECLAIM_SYNOPSIS</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d960973e788 d960973e698 ">
                                 <p><code class="codeph">TIMESTAMP与时区</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d960973e788 d960973e701 ">
                                 <p>用于回收概要表空间的常量。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS68491"></a><a id="ARPLS68491"></a><div class="props_rev_3"><a id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2" name="GUID-F04388AD-E984-42C9-8489-05B84CD050E2"></a><h3 id="ARPLS-GUID-F04388AD-E984-42C9-8489-05B84CD050E2" class="sect3"><span class="enumeration_section">165.5</span> DBMS_STATS操作说明</h3>
               <div>
                  <p>使用<code class="codeph">DBMS_STATS</code>程序包时，请遵守这些操作说明。
                  </p>
                  <div class="section">
                     <p><code class="codeph">DBMS_STATS</code>子程序执行以下常规操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I996857">收集优化程序统计信息</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__CIHEGDBJ">设置或获取统计信息</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I1044993">删除统计信息</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I996835">转移统计数据</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I1045149">锁定或解锁统计信息</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I1045150">恢复和清除统计历史记录</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__CIHGCEAA">用户定义的统计信息</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__BABJFHJJ">待定统计</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__BABIIEJA">比较统计</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__BABDGGEE">扩展统计</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-F04388AD-E984-42C9-8489-05B84CD050E2__OPTIMIZERSTATISTICSADVISOR-14AC0F11">优化器统计顾问</a></p>
                        </li>
                     </ul>
                     <p>大多数<code class="codeph">DBMS_STATS</code>过程包括三个参数<code class="codeph">statown</code> ， <code class="codeph">stattab</code>和<code class="codeph">statid</code> 。这些参数使您可以将统计信息存储在您自己的表中（在字典之外），这不会影响优化程序。因此，您可以维护和试验一<span class="italic">组</span>统计信息。
                     </p>
                     <p><code class="codeph">stattab</code>参数指定要在其中保存统计信息的表的名称，并假定它与收集统计信息的对象驻留在同一模式中（除非指定了<code class="codeph">statown</code>参数）。您可以创建具有不同<code class="codeph">stattab</code>标识符的多个表，以<code class="codeph">stattab</code>单独的统计信息集。
                     </p>
                     <p>此外，您可以使用<code class="codeph">statid</code>参数在单个<code class="codeph">stattab</code>维护不同的统计信息集，从而避免混乱用户的架构。
                     </p>
                     <p>对于<code class="codeph">SET</code>和<code class="codeph">GET</code>过程，如果未提供<code class="codeph">stattab</code> （即<code class="codeph">NULL</code> ），则该操作直接对字典统计信息起作用;因此，如果他们只打算直接修改字典，则无需创建这些统计表。但是，如果<code class="codeph">stattab</code>不为<code class="codeph">NULL</code> ，则<code class="codeph">SET</code>或<code class="codeph">GET</code>操作适用于指定的用户统计信息表，而不是字典。
                     </p>
                     <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改<code class="codeph">DBMS_STATS</code>过程的某些参数的缺省值。
                     </p>
                     <p>此包中的大多数过程提交当前事务，执行操作，然后再次提交。</p>
                     <p>大多数过程都有一个<code class="codeph">force</code>参数，使您可以覆盖统计信息的锁定。每当修改字典中的统计信息时，将自动保存旧版本的统计信息以供将来恢复。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I996857">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-21236C1B-3829-4D83-83B9-EC114800B043">收集优化程序统计信息</p>
                     <p>使用以下子程序来收集某些类的优化程序统计信息，并且可能会比<code class="codeph">ANALYZE</code>命令提高性能：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1" title="此过程收集数据库中所有对象的统计信息。">GATHER_DATABASE_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-867989C7-ADFC-4464-8981-437CEA7F331E" title="此过程收集字典模式SYS，SYSTEM和RDBMS组件模式的统计信息。">GATHER_DICTIONARY_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-EAD4C693-4F03-45DE-9704-1466C8E35232" title="此过程收集所有固定对象（动态性能表）的统计信息。">GATHER_FIXED_OBJECTS_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F" title="此过程收集模式中所有对象的统计信息。">GATHER_SCHEMA_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-257CDCB8-3595-464B-8337-43EF23A6068D" title="此过程收集系统统计信息。">GATHER_SYSTEM_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS程序</a></li>
                     </ul>
                     <p><code class="codeph">GATHER_*</code>过程还收集用户定义的列和域索引的统计信息。
                     </p>
                     <p><code class="codeph">statown</code> ， <code class="codeph">stattab</code>和<code class="codeph">statid</code>参数指示程序包在收集新统计信息之前备份指定表中的当前统计信息。
                     </p>
                     <p>当您有足够的相关对象统计信息时，Oracle还提供以下过程来生成派生对象的统计信息：</p>
                     <p><a href="DBMS_STATS.html#GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD" title="此弃用过程从先前收集的相关对象统计信息生成对象统计信息。当前支持的对象是b树和位图索引。">GENERATE_STATS程序</a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__CIHEGDBJ">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-FB938461-9317-48D3-B699-4762D538BF0C">设置或获取统计信息</p>
                     <p>使用以下子程序存储和检索单个列相关，索引相关和表相关的统计信息：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731" title="这些过程使用SET_COLUMN_STATS将用户指定的最小，最大和直方图端点实际值转换为Oracle的内部表示，以便将来存储。">PREPARE_COLUMN_VALUES程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4" title="此过程使用SET_COLUMN_STATS过程将用户指定的最小，最大和直方图端点实际值转换为Oracle的内部表示，以供将来存储使用。">PREPARE_COLUMN_VALUES_NVARCHAR过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-2CB8B736-345B-4999-856C-659E32DF4D13" title="此过程使用SET_COLUMN_STATS将用户指定的最小，最大和直方图端点数据类型特定值转换为Oracle的内部表示，以供将来存储使用。">PREPARE_COLUMN_VALUES_ROWID过程</a></li>
                     </ul>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6" title="这些过程设置与索引相关的统计信息">SET_INDEX_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED" title="此过程设置系统统计信息。">SET_SYSTEM_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2" title="此过程为测试目的创建人工表统计信息。">SET_TABLE_STATS程序</a></li>
                     </ul>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71" title="这些重载过程获取与列相关的统计信息。在用户定义的统计信息版本中，该过程返回存储的统计信息的类型。">GET_COLUMN_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F" title="此重载过程获取所有与索引相关的统计信息。在处理用户定义的统计信息的此过程的形式中，返回的统计类型是存储的类型，以及用户定义的统计信息。">GET_INDEX_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86" title="此过程从stattab获取系统统计信息，如果stattab为NULL，则从字典获取。">GET_SYSTEM_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3" title="这个重载过程获取所有与表相关的统计信息。">GET_TABLE_STATS程序</a></li>
                     </ul>
                     <p>在用于设置用户定义统计信息的<code class="codeph">SET_*_STATS</code>过程的特殊版本中，以下（如果提供）存储在字典或用户统计信息表中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用户定义的统计信息</p>
                        </li>
                        <li>
                           <p>统计类型的所有者</p>
                        </li>
                        <li>
                           <p>统计类型的名称</p>
                        </li>
                     </ul>
                     <p>用户定义的统计信息和相应的统计信息类型将插入<code class="codeph">USTATS$</code>字典表中。您可以指定用户定义的统计信息，而无需指定统计信息类型名称
                     </p>
                     <p><code class="codeph">GET_*_STATS</code>过程的特殊版本返回用户定义的统计信息，统计类型所有者和名称作为与指定的模式对象对应的<code class="codeph">OUT</code>参数。如果未收集用户定义的统计信息，则返回<code class="codeph">NULL</code>值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I1044993">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-D4F32FF0-D2CA-4F6C-AF57-BC153994008B">删除统计信息</p>
                     <p><code class="codeph">DELETE_*</code>过程删除用户定义的统计信息和给定模式对象的标准统计信息。
                     </p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21" title="此过程将删除与列相关的统计信息。">DELETE_COLUMN_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229" title="此过程将删除数据库中所有表的统计信息。">DELETE_DATABASE_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244" title="此过程将删除所有字典模式（&#39;SYS&#39;，&#39;SYSTEM&#39;和RDBMS组件模式）的统计信息。">DELETE_DICTIONARY_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106" title="此过程删除所有固定表的统计信息。">DELETE_FIXED_OBJECTS_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6" title="此过程将删除与索引相关的统计信息。">DELETE_INDEX_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43" title="此过程将删除整个架构的统计信息。">DELETE_SCHEMA_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC" title="如果未指定stattab，此过程将删除工作负载统计信息（使用&#39;INTERVAL&#39;或&#39;START&#39;和&#39;STOP&#39;选项收集）并将默认值重置为noworkload统计信息（使用&#39;NOWORKLOAD&#39;选项收集）。如果指定了stattab，则子程序将从stattab中删除具有关联statid的所有系统统计信息。">DELETE_SYSTEM_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843" title="此过程将删除与表相关的统计信息。">DELETE_TABLE_STATS程序</a></li>
                        <li>请注意， <code class="codeph">DELETE_TABLE_STATS</code> ， <code class="codeph">DELETE_DICTIONARY_STATS</code> ， <code class="codeph">DELETE_DATABASE_STATS</code>和<code class="codeph">DELETE_SCHEMA_STATS</code>都有一个参数<code class="codeph">stat_category</code> ，用于指定要删除的统计信息。该参数接受以逗号分隔的多个值。支持的值为<code class="codeph">'OBJECT_STATS'</code> （表统计信息，列统计信息和索引统计信息）和<code class="codeph">'SYNOPSES'</code> （在逐步维护统计信息时创建的辅助统计信息）。默认为<code class="codeph">'OBJECT_STATS, SYNOPSES'</code> 。
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I996835">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-BC046EEC-A008-4DE4-BEAD-6D04F5BDD567">转移统计数据</p>
                     <p>使用以下过程创建和删除用户统计信息表。</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF" title="此过程在ownname的架构中创建一个名为stattab的表，该表能够保存统计信息。组成此表的列和类型不相关，因为它应该仅通过此包中的过程访问。">CREATE_STAT_TABLE过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-3F929C42-8AFC-4725-AD28-97547128143A" title="此过程将删除用户统计信息表。">DROP_STAT_TABLE过程</a></li>
                     </ul>
                     <p>使用以下过程传输统计信息</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从字典到用户统计表（ <code class="codeph">EXPORT_</code> *）</p>
                        </li>
                        <li>
                           <p>从用户统计表到字典（ <code class="codeph">IMPORT_</code> *）</p>
                        </li>
                     </ul>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1" title="此过程导出指定列的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_COLUMN_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-CE0A8C67-2EC6-422F-A311-16083A07110D" title="此过程导出数据库中所有对象的统计信息，并将它们存储在statown.stattab标识的用户统计信息表中。">EXPORT_DATABASE_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-EF23796D-311E-472F-8175-B4BB6D64B862" title="此过程导出所有数据字典模式（SYS，SYSTEM和RDBMS组件模式）的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_DICTIONARY_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D" title="此过程导出固定表的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_FIXED_OBJECTS_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9" title="此过程检索特定索引的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_INDEX_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F" title="此过程导出由ownname标识的模式中的所有对象的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_SCHEMA_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1" title="此过程检索系统统计信息并将其存储在由stattab标识的用户统计信息表中。">EXPORT_SYSTEM_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81" title="此过程导出指定表的统计信息（包括关联的索引统计信息），并将它们存储在stattab标识的用户统计信息表中。">EXPORT_TABLE_STATS程序</a></li>
                     </ul>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4" title="此过程从stattab标识的用户统计信息表中检索特定列的统计信息，并将它们存储在字典中。">IMPORT_COLUMN_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16" title="此过程从用户统计信息表导入数据库中所有对象的统计信息，并将它们存储在数据字典中。">IMPORT_DATABASE_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB" title="此过程从用户统计信息表导入所有数据字典模式（SYS，SYSTEM和RDBMS组件模式）的统计信息，并将它们存储在字典中。">IMPORT_DICTIONARY_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-70EFDDC9-6FBF-419F-955A-BA953816788F" title="此过程从用户统计信息表导入固定表的统计信息，并将它们存储在数据字典中。">IMPORT_FIXED_OBJECTS_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52" title="此过程从stattab标识的用户统计信息表中检索特定索引的统计信息，并将它们存储在字典中。">IMPORT_INDEX_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-848450BE-056A-42A4-9946-B6289EAAAE0E" title="此过程从用户统计信息表中导入由ownname标识的模式中的所有对象的统计信息，并将它们存储在数据字典中。">IMPORT_SCHEMA_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D" title="此过程从stattab标识的用户统计信息表中检索系统统计信息，并将统计信息存储在字典中。">IMPORT_SYSTEM_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D" title="此过程从stattab标识的用户统计信息表导入指定表的统计信息，并将它们存储在数据字典中。">IMPORT_TABLE_STATS程序</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-71666763-315D-4DB8-BBB8-B6DAE0725026">
                        <p class="notep1">注意：</p>
                        <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I1045149">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-9631BC2E-3AF1-49FF-958D-F0BF3ABEA004">锁定或解锁统计信息</p>
                     <p>使用以下过程锁定和解锁对象的统计信息。</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="此过程使用户可以锁定分区的统计信息。">LOCK_PARTITION_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-5213B65D-A7F4-4CA7-B939-650B46F58890" title="此过程将锁定架构的所有表的统计信息。">LOCK_SCHEMA_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" title="此过程将锁定表上的统计信息。">LOCK_TABLE_STATS程序</a></li>
                     </ul>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9" title="此过程使用户可以解锁分区的统计信息。">UNLOCK_PARTITION_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" title="此过程将解锁模式中所有表的统计信息。">UNLOCK_SCHEMA_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-690DF3FA-E225-4959-8836-5458F17217D5" title="此过程将解锁表中的统计信息。">UNLOCK_TABLE_STATS程序</a></li>
                     </ul>
                     <p><code class="codeph">LOCK_*</code>过程要么冻结当前的统计信息集，要么保持统计信息不变。当锁定表的统计信息时，所有依赖于表的统计信息（包括表统计信息，列统计信息，直方图和所有相关索引的统计信息）都被视为已锁定。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__I1045150">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-72208489-B123-4C9B-A8C0-D58EA79F9AE9">恢复和清除统计历史记录</p>
                     <p>使用以下过程从指定的时间戳恢复统计信息。这在新收集的统计信息导致某些次优执行计划并且管理员希望恢复到先前的统计信息集的情况下非常有用。</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="DBMS_STATS.html#GUID-292AF183-B036-4068-8023-852BC170AD9A" title="此过程将全局首选项（例如CASCADE，ESTIMATE_PERCENT和GRANULARITY）设置为默认值。">RESET_GLOBAL_PREF_DEFAULTS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-65DED154-3D0A-4C99-847E-F001B9B5C231" title="此过程从指定的时间戳（as_of_timestamp）恢复数据库的所有表的统计信息。">RESTORE_DATABASE_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071" title="此过程从指定的时间戳（as_of_timestamp）恢复所有字典表（“SYS”，“SYSTEM”和RDBMS组件模式的表）的统计信息。">RESTORE_DICTIONARY_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-A927FF36-4A73-43BA-B638-6627779CFC52" title="此过程从指定的时间戳（as_of_timestamp）恢复所有固定表的统计信息。">RESTORE_FIXED_OBJECTS_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7" title="此过程将恢复指定时间戳（as_of_timestamp）的架构的所有表的统计信息。">RESTORE_SCHEMA_STATS程序</a></li>
                        <li><a href="DBMS_STATS.html#GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49" title="此过程从指定的时间戳（as_of_timestamp）恢复系统统计信息。">RESTORE_SYSTEM_STATS过程</a></li>
                        <li><a href="DBMS_STATS.html#GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F" title="此过程从指定的时间戳（as_of_timestamp）恢复表的统计信息。它还恢复关联索引和列的统计信息。">RESTORE_TABLE_STATS过程</a></li>
                     </ul>
                     <p>每当修改字典中的统计信息时，将自动保存旧版本的统计信息以供将来恢复。根据统计历史记录保留设置和系统中最近收集的统计信息的时间，定期自动清除旧统计信息。可以使用<a href="DBMS_STATS.html#GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2" title="此过程更改统计信息历史记录保留值。">ALTER_STATS_HISTORY_RETENTION过程</a>配置保留。
                     </p>
                     <p>与恢复统计信息相关的其他<code class="codeph">DBMS_STATS</code>过程是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C" title="此过程将清除保存在字典中的旧版统计信息。">PURGE_STATS过程</a> ：此过程允许您手动清除时间戳之外的旧版本。
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-03065EEA-54F1-4B69-9D3E-EB9EEAD27103" title="此函数返回当前统计历史记录保留值。">GET_STATS_HISTORY_RETENTION函数</a> ：此函数获取当前统计历史记录保留值。
                           </p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-0C8D362B-9DE1-4048-A5B2-195EE987A11D" title="此函数返回统计信息历史记录可用的最旧时间戳。用户无法将统计信息还原到早于此时间戳的时间戳。">GET_STATS_HISTORY_AVAILABILITY功能</a> ：此函数获取统计历史可用的最早时间戳。用户无法将统计信息还原到早于最早时间戳的时间戳。
                           </p>
                        </li>
                     </ul>
                     <p>用户定义的统计信息不支持<code class="codeph">RESTORE_*</code>操作。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__CIHGCEAA">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-6D147D5A-4841-46FE-B424-A1180420BFD7">用户定义的统计信息</p>
                     <p><code class="codeph">DBMS_STATS</code>包支持对用户定义的统计信息的操作。当域索引或列与统计信息类型<code class="codeph">associate</code> （使用<code class="codeph">associate</code>语句）时，对索引或列的操作将操纵用户定义的统计信息。例如，使用<a href="DBMS_STATS.html#GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F" title="此重载过程获取所有与索引相关的统计信息。在处理用户定义的统计信息的此过程的形式中，返回的统计类型是存储的类型，以及用户定义的统计信息。">GET_INDEX_STATS过程</a>收集域索引（与统计类型存在关联）的统计信息将调用关联统计类型的用户定义统计信息收集方法。同样，删除，传输，导入和导出操作也会操纵用户定义的统计信息。
                     </p>
                     <p>还使用特殊版本的列和索引的<code class="codeph">SET</code>和<code class="codeph">GET</code>接口支持用户定义统计信息的<code class="codeph">SET_*</code>和<code class="codeph">GET_*</code>操作。
                     </p>
                     <p>用户定义的统计信息不支持<code class="codeph">EXPORT_*</code> ， <code class="codeph">IMPORT_*</code>和<code class="codeph">RESTORE_*</code>操作。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__BABJFHJJ">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-43DAE2E6-AD20-402E-B650-AC4E89A9B6F3">待定统计</p>
                     <p>该程序包默认收集统计信息并将其存储在字典中。通过使用<code class="codeph">SET*PREFS</code>过程将<code class="codeph">PUBLISH</code>选项设置为<code class="codeph">FALSE</code>用户可以将这些统计信息存储在系统的专用区域而不是字典中。<code class="codeph">PUBLISH</code>的默认值为<code class="codeph">TRUE</code> 。除非参数<code class="codeph">optimizer_use_pending_statistics</code>设置为<code class="codeph">TRUE</code>否则基于成本的优化程序不会使用存储在专用区域中的统计信息。此参数的默认值为<code class="codeph">FALSE</code> ，此布尔参数可以在会话/系统级别设置。用户可以使用会话中的挂起统计信息来验证新统计信息对查询计划的影响。
                     </p>
                     <p>待定统计数据提供了一种机制，可以在将新统计信息用于一般用途之前验证新统计信息对查询计划的影响。验证查询计划有两种方案：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将挂起的统计信息（使用<a href="DBMS_STATS.html#GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056" title="此过程用于导出收集的统计信息并将其存储为挂起。">EXPORT_PENDING_STATS过程</a> ）导出到测试系统，然后运行查询工作负载并检查性能或计划。
                           </p>
                        </li>
                        <li>
                           <p>在已收集挂起统计信息的系统上的会话中将<code class="codeph">optimizer_use_pending_statistics</code>设置为<code class="codeph">TRUE</code> ，运行工作负载并检查性能或计划。
                           </p>
                        </li>
                     </ul>
                     <p>验证性能或查询计划后，如果性能可接受，则可以使用<a href="DBMS_STATS.html#GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9" title="此过程用于发布收集的统计信息并将其存储为挂起。">PUBLISH_PENDING_STATS过程</a>发布挂起的统计信息，或者如果不是，则使用<a href="DBMS_STATS.html#GUID-7C22A990-4A36-402E-8367-352400D8BDC0" title="此过程用于删除已收集但尚未发布的待处理统计信息。">DELETE_PENDING_STATS过程</a>删除挂起的统计信息。
                     </p>
                     <p>可以发布，导出或删除待定统计信息。提供以下过程来管理挂起的统计信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-7C22A990-4A36-402E-8367-352400D8BDC0" title="此过程用于删除已收集但尚未发布的待处理统计信息。">DELETE_PENDING_STATS程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056" title="此过程用于导出收集的统计信息并将其存储为挂起。">EXPORT_PENDING_STATS程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9" title="此过程用于发布收集的统计信息并将其存储为挂起。">PUBLISH_PENDING_STATS程序</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__BABIIEJA">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-C1A4DAD6-B295-45AD-92FA-82B13C52690F">比较统计</p>
                     <p>您可以使用<code class="codeph">DIFF_TABLE_STATS_</code> *统计信息来比较来自两个不同来源的表的统计信息。统计数据可以来自：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>两个不同的用户统计表</p>
                        </li>
                        <li>
                           <p>单个用户统计信息表，包含可使用<code class="codeph">statids</code>识别的两组统计信息</p>
                        </li>
                        <li>
                           <p>用户统计信息表和字典历史记录</p>
                        </li>
                        <li>
                           <p>待定统计</p>
                        </li>
                     </ul>
                     <p>这些函数还比较了依赖对象（索引，列，分区）的统计信息。如果这些统计信息之间的差异超过某个阈值，它们将显示来自两个来源的对象的统计信息。阈值可以指定为函数的参数，默认值为10％。数据库使用与第一个源（ <code class="codeph">stattab1</code>或<code class="codeph">time1</code> ）对应的统计信息作为计算差异百分比的基础。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__BABDGGEE">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-58C24B5C-6822-4B9A-9D2A-1DC112E43410">扩展统计</p>
                     <p>通过此程序包，您可以收集列组和表达式的统计信息。为列组和表达式收集的统计信息称为“扩展统计信息”。</p>
                     <p>优化程序使用列组的统计信息来计算列之间的会计相关性。例如，如果查询具有谓词c1 = 1和c2 = 1，并且列组（c1，c2）上有统计信息，则优化程序使用这些统计信息来估计谓词的组合基数。优化程序使用表达式统计信息来估计这些表达式上谓词的基数。扩展统计信息与列统计信息类似。采用列名称的过程接受扩展统计信息名称来代替列名称。</p>
                     <p>相关子程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F" title="此函数在系统中为用户指定的列组或表中的表达式创建列统计信息条目。">CREATE_EXTENDED_STATS函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1" title="此函数删除为用户指定的扩展创建的统计信息条目。">DROP_EXTENDED_STATS程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988" title="此函数返回为用户指定的扩展创建的统计条目的名称。如果没有创建扩展，则会引发错误。">SHOW_EXTENDED_STATS_NAME功能</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D" title="此功能报告记录的列（组）使用信息。">REPORT_COL_USAGE函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F" title="此过程删除记录的列（组）使用信息。">RESET_COL_USAGE过程</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__OPTIMIZERSTATISTICSADVISOR-14AC0F11">
                     <p class="subhead2" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-E5851597-2EE8-44A1-922A-8AA79D88C88F">优化器统计顾问</p>
                     <p>Optimizer Statistics Advisor是内置的诊断软件，可帮助您使用最佳实践来管理优化程序统计信息。顾问程序分析您当前如何收集统计信息（使用手动脚本，显式设置参数等），现有统计信息收集作业的有效性以及收集的统计信息的质量。顾问会针对发现的任何问题生成调查结果。根据这些调查结果，顾问会提供建议，并将其存储在<code class="codeph">DBA_ADVISOR_RECOMMENDATIONS</code> 。</p>
                     <p>顾问将规则组织到以下类中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>系统</p>
                           <p>此类检查统计信息收集的首选项，自动统计信息收集作业的状态，SQL计划指令的使用等。此类中的规则在<code class="codeph">V$STATS_ADVISOR_RULES.RULE_TYPE</code>具有值<code class="codeph">SYSTEM</code> 。</p>
                        </li>
                        <li>
                           <p>手术</p>
                           <p>此类检查统计信息收集是否使用默认值，使用<code class="codeph">SET_ <span class="codeinlineitalic">*</span> _STATS</code>过程创建测试统计信息，等等。此类中的规则在<code class="codeph">V$STATS_ADVISOR_RULES.RULE_TYPE</code>的值为<code class="codeph">OPERATION</code> 。</p>
                        </li>
                        <li>
                           <p>宾语</p>
                           <p>此类检查统计信息的质量，统计信息的陈旧性，不必要的统计信息收集等。此类中的规则在<code class="codeph">V$STATS_ADVISOR_RULES.RULE_TYPE</code>具有值<code class="codeph">OBJECT</code> 。</p>
                        </li>
                     </ul>
                     <p>所有Optimizer Statistics Advisor子程序都需要<code class="codeph">ADVISOR</code>权限。所有过程和函数都使用调用者的操作权限而不是任务所有者的权限来执行。例如，如果没有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户创建任务<code class="codeph">t1</code> ，并且DBA然后执行此任务，则任务执行将检查<code class="codeph">SYS</code>对象。另一个示例是由<code class="codeph">user1</code>执行，中断，然后由<code class="codeph">user2</code>恢复的任务。在这种情况下，恢复执行的检查基于<code class="codeph">user2</code>而不是<code class="codeph">user1</code>的特权。
                     </p>
                     <p>您可以使用以下子程序来管理Optimizer Statistics Advisor：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4" title="此过程取消Optimizer Statistics Advisor执行。顾问程序从任务中删除当前执行的所有中间结果。">CANCEL_ADVISOR_TASK程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-2CDAC271-16FD-461D-AB06-15E2455A498F" title="此函数配置Optimizer Statistics Advisor任务的筛选器列表。过滤器可用于从报告中排除不相关的结果。">CONFIGURE_ADVISOR_FILTER函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F" title="此函数为Optimizer Statistics Advisor任务配置对象过滤器。">CONFIGURE_ADVISOR_OBJ_FILTER函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-0BD07210-825E-4971-87B5-EE453B354EC7" title="此重载函数为Optimizer Statistics Advisor任务配置操作筛选器。">CONFIGURE_ADVISOR_OPR_FILTER函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-803BDC00-F667-4DBA-9398-3F42B758943D" title="此函数为Optimizer Statistics Advisor任务配置规则过滤器。">CONFIGURE_ADVISOR_RULE_FILTER功能</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-FD355A10-E6FA-47A3-9228-A269905A156D" title="此函数为Optimizer Statistics Advisor创建顾问任务。">CREATE_ADVISOR_TASK函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080" title="此过程将删除指定的Optimizer Statistics Advisor任务。">DROP_ADVISOR_TASK程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764" title="此函数执行先前创建的Optimizer Statistics Advisor任务。">EXECUTE_ADVISOR_TASK功能</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1" title="此过程为Optimizer Statistics Advisor任务创建操作筛选器。">GET_ADVISOR_OPR_FILTER程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96" title="此函数为指定的项生成推荐报告。">GET_ADVISOR_RECS功能</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-CE9043F5-2150-46FA-9C94-79521102DB55" title="此函数实现Optimizer Statistics Advisor提出的建议。">IMPLEMENT_ADVISOR_TASK功能</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2" title="此过程将中断当前正在执行的Optimizer Statistics Advisor任务。">INTERRUPT_ADVISOR_TASK程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A" title="此函数报告Optimizer Statistics Advisor任务的结果。">REPORT_ADVISOR_TASK功能</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25" title="此过程将Optimizer Statistics Advisor任务执行重置为其初始状态。仅重置当前未执行的任务。">RESET_ADVISOR_TASK程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-B7A36011-D795-458B-9A2B-930491111D8E" title="此过程恢复中断的任务。它只恢复最近中断的执行。">RESUME_ADVISOR_TASK程序</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-884B1285-E212-4C6A-864C-D4881B237356" title="检索实现针对Optimizer Statistics Advisor发现的问题的建议操作的脚本。">SCRIPT_ADVISOR_TASK功能</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53" title="此过程将更新Optimizer Statistics Advisor任务参数的值。">SET_ADVISOR_TASK_PARAMETER过程</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-F04388AD-E984-42C9-8489-05B84CD050E2__GUID-451DE6B5-EF56-4B9E-88C6-8EF4DD9448D3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-6D8831EA-B478-4641-B84B-C341BB4D0799" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何使用Optimizer Statistics Advisor分析统计信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74850"></a><a id="ARPLS74850"></a><div class="props_rev_3"><a id="GUID-400FBE93-89CF-4596-BBCC-06A279D7CDFD" name="GUID-400FBE93-89CF-4596-BBCC-06A279D7CDFD"></a><h3 id="ARPLS-GUID-400FBE93-89CF-4596-BBCC-06A279D7CDFD" class="sect3"><span class="enumeration_section">165.6</span> DBMS_STATS数据结构</h3>
               <div>
                  <p><code class="codeph">DBMS_STATS</code>包定义了<code class="codeph">RECORD</code>类型。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-400FBE93-89CF-4596-BBCC-06A279D7CDFD__GUID-891FE39A-F47B-42E9-AEBF-B3DE5D736A02">记录类型</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_STATS.html#GUID-7B96C505-14A0-4A70-AF62-9259A40C5B9A" title="如果用户想要手动设置列统计信息，则会为用户提供此记录类型。其字段允许指定列最小/最大值，以及列的直方图。">STAT_REC记录类型</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS74851"></a><a id="ARPLS74851"></a><div class="props_rev_3"><a id="GUID-7B96C505-14A0-4A70-AF62-9259A40C5B9A" name="GUID-7B96C505-14A0-4A70-AF62-9259A40C5B9A"></a><h4 id="ARPLS-GUID-7B96C505-14A0-4A70-AF62-9259A40C5B9A" class="sect4"><span class="enumeration_section">165.6.1</span> DBMS_STATS STAT_REC记录类型</h4>
                  <div>
                     <p>如果用户想要手动设置列统计信息，则会为用户提供此记录类型。其字段允许指定列最小/最大值，以及列的直方图。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7B96C505-14A0-4A70-AF62-9259A40C5B9A__GUID-F9B3C7A2-D564-4447-B36D-39745F26FB70">句法</p><pre class="oac_no_warn" dir="ltr">TYPE STATREC是记录（epc NUMBER，minval RAW（2000），maxval RAW（2000），bkvals NUMARRAY，novals NUMARRAY，chvals CHARARRAY，eavals RAWARRAY，rpcnts NUMARRAY，eavs NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B96C505-14A0-4A70-AF62-9259A40C5B9A__GUID-230089FC-B87D-403D-BDD0-1F2AE0987A70">记录类型COMPARISON_TYPE（STAT_REC属性）的字段</p>
                        <div class="tblformal" id="GUID-7B96C505-14A0-4A70-AF62-9259A40C5B9A__GUID-BCB89CBE-719A-497F-B054-29E0EDB153D2">
                           <p class="titleintable">表165-2 STAT_REC属性</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STAT_REC属性" width="100%" border="1" summary="This table describes the fields of the Record type COMPARISON_TYPE and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e2374">领域</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e2377">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2382" headers="d960973e2374 ">
                                       <p><code class="codeph">EPC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2382 d960973e2377 ">
                                       <p>直方图中的桶数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2390" headers="d960973e2374 ">
                                       <p><code class="codeph">MINVAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2390 d960973e2377 ">
                                       <p>最低价值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2398" headers="d960973e2374 ">
                                       <p><code class="codeph">MAXVAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2398 d960973e2377 ">
                                       <p>最大价值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2406" headers="d960973e2374 ">
                                       <p><code class="codeph">bkvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2406 d960973e2377 ">
                                       <p>一堆桶号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2414" headers="d960973e2374 ">
                                       <p><code class="codeph">novals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2414 d960973e2377 ">
                                       <p>标准化终点值的数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2422" headers="d960973e2374 ">
                                       <p><code class="codeph">chvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2422 d960973e2377 ">
                                       <p>转储终点值的数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2430" headers="d960973e2374 ">
                                       <p><code class="codeph">eavals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2430 d960973e2377 ">
                                       <p>终点实际值的数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2438" headers="d960973e2374 ">
                                       <p><code class="codeph">rpcnts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2438 d960973e2377 ">
                                       <p>终点值频率数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e2446" headers="d960973e2374 ">
                                       <p><code class="codeph">EAVS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e2446 d960973e2377 ">
                                       <p>一个数字，指示直方图中是否需要实际终点值。如果使用<a href="DBMS_STATS.html#GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731" title="这些过程使用SET_COLUMN_STATS将用户指定的最小，最大和直方图端点实际值转换为Oracle的内部表示，以便将来存储。">PREPARE_COLUMN_VALUES过程</a> ，则会自动填写此字段。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-B930CE9B-7461-4691-8AA9-7E424C3C2C8C" name="GUID-B930CE9B-7461-4691-8AA9-7E424C3C2C8C"></a><h3 id="ARPLS-GUID-B930CE9B-7461-4691-8AA9-7E424C3C2C8C" class="sect3"><span class="enumeration_section">165.7</span> DBMS_STATS子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_STATS</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-B930CE9B-7461-4691-8AA9-7E424C3C2C8C__GUID-572A8EF9-7621-4838-8C8A-74B615B44C74">
                     <p class="titleintable">表165-3 <span class="italic"><span class="bold">DBMS_STATS</span></span>包子<span class="italic"><span class="bold">程序</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_STATS包子程序" width="100%" border="1" summary="This table lists the DBMS_STATS subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d960973e2561">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d960973e2564">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2569" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2" title="此过程更改统计信息历史记录保留值。">ALTER_STATS_HISTORY_RETENTION过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2569 d960973e2564 ">
                                 <p>更改统计信息历史记录保留值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2580" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4" title="此过程取消Optimizer Statistics Advisor执行。顾问程序从任务中删除当前执行的所有中间结果。">CANCEL_ADVISOR_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2580 d960973e2564 ">
                                 <p>取消优化程序统计顾问执行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2591" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-2CDAC271-16FD-461D-AB06-15E2455A498F" title="此函数配置Optimizer Statistics Advisor任务的筛选器列表。过滤器可用于从报告中排除不相关的结果。">CONFIGURE_ADVISOR_FILTER函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2591 d960973e2564 ">
                                 <p>配置Optimizer Statistics Advisor任务的筛选器列表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2602" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F" title="此函数为Optimizer Statistics Advisor任务配置对象过滤器。">CONFIGURE_ADVISOR_OBJ_FILTER函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2602 d960973e2564 ">
                                 <p>为Optimizer Statistics Advisor任务配置对象过滤器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2613" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-0BD07210-825E-4971-87B5-EE453B354EC7" title="此重载函数为Optimizer Statistics Advisor任务配置操作筛选器。">CONFIGURE_ADVISOR_OPR_FILTER函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2613 d960973e2564 ">
                                 <p>为Optimizer Statistics Advisor任务配置操作筛选器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2624" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-803BDC00-F667-4DBA-9398-3F42B758943D" title="此函数为Optimizer Statistics Advisor任务配置规则过滤器。">CONFIGURE_ADVISOR_RULE_FILTER功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2624 d960973e2564 ">
                                 <p>为Optimizer Statistics Advisor任务配置规则筛选器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2635" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-FD355A10-E6FA-47A3-9228-A269905A156D" title="此函数为Optimizer Statistics Advisor创建顾问任务。">CREATE_ADVISOR_TASK函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2635 d960973e2564 ">
                                 <p>为Optimizer Statistics Advisor创建顾问程序任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2646" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A" title="此过程将最小值，最大值或直方图端点实际值的内部表示转换为特定于数据类型的值。">CONVERT_RAW_VALUE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2646 d960973e2564 ">
                                 <p>将最小值，最大值或直方图端点实际值的内部表示转换为特定于数据类型的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2657" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-66BC411E-F530-4560-B6B1-85D8C6659027" title="此过程转换最小值，最大值或直方图终点实际值的内部表示。">CONVERT_RAW_VALUE_NVARCHAR过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2657 d960973e2564 ">
                                 <p>将最小值，最大值或直方图端点实际值的内部表示转换为特定于数据类型的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2668" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40" title="此过程转换最小值，最大值或直方图终点实际值的内部表示。">CONVERT_RAW_VALUE_ROWID过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2668 d960973e2564 ">
                                 <p>将最小值，最大值或直方图端点实际值的内部表示转换为特定于数据类型的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2679" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB" title="此过程复制所有依赖对象（如列和本地索引）的统计信息。如果源的统计信息不可用，则不会复制任何内容。它可以根据给定的scale_factor选择性地缩放统计数据（例如blks数或行数）。">COPY_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2679 d960973e2564 ">
                                 <p>在缩放后将源[sub]分区的统计信息复制到目标[sub]分区</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2697" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F" title="此函数在系统中为用户指定的列组或表中的表达式创建列统计信息条目。">CREATE_EXTENDED_STATS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2697 d960973e2564 ">
                                 <p>为用户指定的列组或表中的表达式创建虚拟列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2708" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF" title="此过程在ownname的架构中创建一个名为stattab的表，该表能够保存统计信息。组成此表的列和类型不相关，因为它应该仅通过此包中的过程访问。">CREATE_STAT_TABLE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2708 d960973e2564 ">
                                 <p>在<code class="codeph">ownname</code>的架构中创建一个名为<code class="codeph">stattab</code>的表，该表能够保存统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2731" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21" title="此过程将删除与列相关的统计信息。">DELETE_COLUMN_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2731 d960973e2564 ">
                                 <p>删除与列相关的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2742" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-6429FC41-52D7-4541-9242-2AC015266D6F" title="此过程将删除为所有非系统表设置的统计信息首选项。您可以通过为add_sys参数传递TRUE来包含系统表。">DELETE_DATABASE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2742 d960973e2564 ">
                                 <p>删除所有表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2759" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229" title="此过程将删除数据库中所有表的统计信息。">DELETE_DATABASE_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2759 d960973e2564 ">
                                 <p>删除整个数据库的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2770" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244" title="此过程将删除所有字典模式（&#39;SYS&#39;，&#39;SYSTEM&#39;和RDBMS组件模式）的统计信息。">DELETE_DICTIONARY_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2770 d960973e2564 ">
                                 <p>删除所有字典模式的统计信息（' <code class="codeph">SYS</code> '，' <code class="codeph">SYSTEM</code> '和数据库组件模式）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2793" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106" title="此过程删除所有固定表的统计信息。">DELETE_FIXED_OBJECTS_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2793 d960973e2564 ">
                                 <p>删除所有固定表的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2804" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6" title="此过程将删除与索引相关的统计信息。">DELETE_INDEX_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2804 d960973e2564 ">
                                 <p>删除与索引相关的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2815" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-7C22A990-4A36-402E-8367-352400D8BDC0" title="此过程用于删除已收集但尚未发布的待处理统计信息。">DELETE_PENDING_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2815 d960973e2564 ">
                                 <p>删除已收集但尚未发布的私有统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2826" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF" title="此过程将删除给定统计信息源的处理速率。如果未指定源，则会删除所有源的统计信息。">DELETE_PROCESSING_RATE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2826 d960973e2564 ">
                                 <p>删除给定统计信息源的处理速率。如果未指定源，则会删除所有源的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2837" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5" title="此过程用于删除指定所有者名称所拥有的所有表的统计信息首选项。">DELETE_SCHEMA_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2837 d960973e2564 ">
                                 <p>删除指定所有者名称拥有的所有表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2849" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43" title="此过程将删除整个架构的统计信息。">DELETE_SCHEMA_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2849 d960973e2564 ">
                                 <p>删除与架构相关的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2860" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC" title="如果未指定stattab，此过程将删除工作负载统计信息（使用&#39;INTERVAL&#39;或&#39;START&#39;和&#39;STOP&#39;选项收集）并将默认值重置为noworkload统计信息（使用&#39;NOWORKLOAD&#39;选项收集）。如果指定了stattab，则子程序将从stattab中删除具有关联statid的所有系统统计信息。">DELETE_SYSTEM_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2860 d960973e2564 ">
                                 <p>删除系统统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2899" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47" title="此过程将删除指定模式中指定表的优化程序统计信息首选项。">DELETE_TABLE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2899 d960973e2564 ">
                                 <p>删除指定模式中指定表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2910" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843" title="此过程将删除与表相关的统计信息。">DELETE_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2910 d960973e2564 ">
                                 <p>删除与表相关的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2921" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7" title="此函数比较两个指定时间戳的表的统计信息。">DIFF_TABLE_STATS_IN_HISTORY功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2921 d960973e2564 ">
                                 <p>比较过去两个时间戳的表的统计信息，并比较该时间戳的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2932" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-9F59AD8E-33C9-4059-917D-9524F36A9651" title="此函数将挂起的统计信息与数据字典中的当前统计信息或用户指定的历史统计信息进行比较。">DIFF_TABLE_STATS_IN_PENDING功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2932 d960973e2564 ">
                                 <p>比较时间戳或字典中的统计信息的待定统计信息和统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2943" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4" title="此函数比较两个来源的表统计信息。">DIFF_TABLE_STATS_IN_STATTAB功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2943 d960973e2564 ">
                                 <p>比较来自两个不同来源的表的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2954" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080" title="此过程将删除指定的Optimizer Statistics Advisor任务。">DROP_ADVISOR_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2954 d960973e2564 ">
                                 <p>删除指定的Optimizer Statistics Advisor任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2965" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1" title="此函数删除为用户指定的扩展创建的统计信息条目。">DROP_EXTENDED_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2965 d960973e2564 ">
                                 <p>删除为用户指定的扩展创建的统计信息条目</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2976" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-3F929C42-8AFC-4725-AD28-97547128143A" title="此过程将删除用户统计信息表。">DROP_STAT_TABLE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2976 d960973e2564 ">
                                 <p>删除<code class="codeph">CREATE_STAT_TABLE</code>创建的用户统计表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e2989" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764" title="此函数执行先前创建的Optimizer Statistics Advisor任务。">EXECUTE_ADVISOR_TASK功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e2989 d960973e2564 ">
                                 <p>执行以前创建的Optimizer Statistics Advisor任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3001" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1" title="此过程导出指定列的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_COLUMN_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3001 d960973e2564 ">
                                 <p>检索特定列的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3018" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-4D474BA6-9A62-43C9-A049-43FF38153557" title="此过程用于导出所有表的统计信息首选项，不包括Oracle拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">EXPORT_DATABASE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3018 d960973e2564 ">
                                 <p>导出所有表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3035" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-CE0A8C67-2EC6-422F-A311-16083A07110D" title="此过程导出数据库中所有对象的统计信息，并将它们存储在statown.stattab标识的用户统计信息表中。">EXPORT_DATABASE_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3035 d960973e2564 ">
                                 <p>检索数据库中所有对象的统计信息，并将它们存储在<code class="codeph">statown</code>标识的用户统计信息表中。 <code class="codeph">stattab</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3055" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-EF23796D-311E-472F-8175-B4BB6D64B862" title="此过程导出所有数据字典模式（SYS，SYSTEM和RDBMS组件模式）的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_DICTIONARY_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3055 d960973e2564 ">
                                 <p>检索所有字典模式（' <code class="codeph">SYS</code> '，' <code class="codeph">SYSTEM</code> '和RDBMS组件模式）的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3084" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D" title="此过程导出固定表的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_FIXED_OBJECTS_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3084 d960973e2564 ">
                                 <p>检索固定表的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3101" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9" title="此过程检索特定索引的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_INDEX_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3101 d960973e2564 ">
                                 <p>检索特定索引的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3117" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056" title="此过程用于导出收集的统计信息并将其存储为挂起。">EXPORT_PENDING_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3117 d960973e2564 ">
                                 <p>导出收集的统计信息并将其存储为待处理</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3128" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-8431DF7A-830D-41BF-9A39-750A64EB1881" title="此过程用于导出指定所有者名称所拥有的所有表的统计信息首选项。">EXPORT_SCHEMA_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3128 d960973e2564 ">
                                 <p>导出指定所有者名称所拥有的所有表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3139" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F" title="此过程导出由ownname标识的模式中的所有对象的统计信息，并将它们存储在stattab标识的用户统计信息表中。">EXPORT_SCHEMA_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3139 d960973e2564 ">
                                 <p>检索由<code class="codeph">ownname</code>标识的模式中的所有对象的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3162" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1" title="此过程检索系统统计信息并将其存储在由stattab标识的用户统计信息表中。">EXPORT_SYSTEM_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3162 d960973e2564 ">
                                 <p>检索系统统计信息并将其存储在用户统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3176" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC" title="此过程用于将指定模式中指定表的统计信息首选项导出到指定的统计信息表中。">EXPORT_TABLE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3176 d960973e2564 ">
                                 <p>将指定模式中指定表的统计信息首选项导出到指定的统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3188" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81" title="此过程导出指定表的统计信息（包括关联的索引统计信息），并将它们存储在stattab标识的用户统计信息表中。">EXPORT_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3188 d960973e2564 ">
                                 <p>检索特定表的统计信息并将其存储在用户统计信息表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3203" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-CA79C291-B7B4-4B35-8507-454366D83A03" title="此过程保存字典中所有表的监视信息。数据库立即更新* _TAB_MODIFICATIONS，* _TAB_STATISTICS和* _IND_STATISTICS视图中的相应条目。">FLUSH_DATABASE_MONITORING_INFO过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3203 d960973e2564 ">
                                 <p>将所有表的内存中监视信息刷新到字典</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3223" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1" title="此过程收集数据库中所有对象的统计信息。">GATHER_DATABASE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3223 d960973e2564 ">
                                 <p>收集数据库中所有对象的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3234" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-867989C7-ADFC-4464-8981-437CEA7F331E" title="此过程收集字典模式SYS，SYSTEM和RDBMS组件模式的统计信息。">GATHER_DICTIONARY_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3234 d960973e2564 ">
                                 <p>收集字典模式' <code class="codeph">SYS</code> '，' <code class="codeph">SYSTEM</code> '和RDBMS组件模式的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3257" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-EAD4C693-4F03-45DE-9704-1466C8E35232" title="此过程收集所有固定对象（动态性能表）的统计信息。">GATHER_FIXED_OBJECTS_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3257 d960973e2564 ">
                                 <p>收集固定对象的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3268" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3268 d960973e2564 ">
                                 <p>收集索引统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3279" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41" title="此过程开始收集以分钟定义的间隔后结束的处理速率的工作。">GATHER_PROCESSING_RATE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3279 d960973e2564 ">
                                 <p>开始收集以分钟定义的<code class="codeph">interval</code>结束的处理速率的工作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3296" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F" title="此过程收集模式中所有对象的统计信息。">GATHER_SCHEMA_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3296 d960973e2564 ">
                                 <p>收集模式中所有对象的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3307" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-257CDCB8-3595-464B-8337-43EF23A6068D" title="此过程收集系统统计信息。">GATHER_SYSTEM_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3307 d960973e2564 ">
                                 <p>收集系统统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3318" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3318 d960973e2564 ">
                                 <p>收集表和列（和索引）统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3329" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD" title="此弃用过程从先前收集的相关对象统计信息生成对象统计信息。当前支持的对象是b树和位图索引。">GENERATE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3329 d960973e2564 ">
                                 <p>从先前收集的相关对象统计信息生成对象统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3344" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1" title="此过程为Optimizer Statistics Advisor任务创建操作筛选器。">GET_ADVISOR_OPR_FILTER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3344 d960973e2564 ">
                                 <p>为Optimizer Statistics Advisor操作创建操作筛选器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3355" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96" title="此函数为指定的项生成推荐报告。">GET_ADVISOR_RECS功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3355 d960973e2564 ">
                                 <p>生成指定项目的推荐报告</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3366" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71" title="这些重载过程获取与列相关的统计信息。在用户定义的统计信息版本中，该过程返回存储的统计信息的类型。">GET_COLUMN_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3366 d960973e2564 ">
                                 <p>获取所有与列相关的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3377" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F" title="此重载过程获取所有与索引相关的统计信息。在处理用户定义的统计信息的此过程的形式中，返回的统计类型是存储的类型，以及用户定义的统计信息。">GET_INDEX_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3377 d960973e2564 ">
                                 <p>获取所有与索引相关的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3388" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68" title="此函数返回DBMS_STATS过程的参数的默认值。">GET_PARAM函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3388 d960973e2564 ">
                                 <p>获取<code class="codeph">DBMS_STATS</code>过程的参数的默认值（请参阅<a href="DBMS_STATS.html#GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" title="Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。">DBMS_STATS已弃用的子程序</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3411" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-2C00FE80-1553-404C-85B6-220895561FE8" title="此函数返回指定首选项的默认值。">GET_PREFS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3411 d960973e2564 ">
                                 <p>获取指定首选项的默认值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3422" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-0C8D362B-9DE1-4048-A5B2-195EE987A11D" title="此函数返回统计信息历史记录可用的最旧时间戳。用户无法将统计信息还原到早于此时间戳的时间戳。">GET_STATS_HISTORY_AVAILABILITY函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3422 d960973e2564 ">
                                 <p>获取统计信息历史记录可用的最早时间戳</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3433" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-03065EEA-54F1-4B69-9D3E-EB9EEAD27103" title="此函数返回当前统计历史记录保留值。">GET_STATS_HISTORY_RETENTION功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3433 d960973e2564 ">
                                 <p>返回当前统计信息历史记录保留值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3444" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86" title="此过程从stattab获取系统统计信息，如果stattab为NULL，则从字典获取。">GET_SYSTEM_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3444 d960973e2564 ">
                                 <p>从<code class="codeph">stattab</code>获取系统统计信息，如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则从字典<code class="codeph">stattab</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3472" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3" title="这个重载过程获取所有与表相关的统计信息。">GET_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3472 d960973e2564 ">
                                 <p>获取所有与表相关的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3483" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-CE9043F5-2150-46FA-9C94-79521102DB55" title="此函数实现Optimizer Statistics Advisor提出的建议。">IMPLEMENT_ADVISOR_TASK功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3483 d960973e2564 ">
                                 <p>实现Optimizer Statistics Advisor提出的建议</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3495" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4" title="此过程从stattab标识的用户统计信息表中检索特定列的统计信息，并将它们存储在字典中。">IMPORT_COLUMN_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3495 d960973e2564 ">
                                 <p>从<code class="codeph">stattab</code>标识的用户统计信息表中检索特定列的统计信息，并将它们存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3512" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7" title="此过程用于导入所有表的统计信息首选项，不包括Oracle拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">IMPORT_DATABASE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3512 d960973e2564 ">
                                 <p>导入所有表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3529" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16" title="此过程从用户统计信息表导入数据库中所有对象的统计信息，并将它们存储在数据字典中。">IMPORT_DATABASE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3529 d960973e2564 ">
                                 <p>从用户统计信息表中检索数据库中所有对象的统计信息，并将它们存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3541" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB" title="此过程从用户统计信息表导入所有数据字典模式（SYS，SYSTEM和RDBMS组件模式）的统计信息，并将它们存储在字典中。">IMPORT_DICTIONARY_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3541 d960973e2564 ">
                                 <p>从用户统计信息表中检索所有字典模式（' <code class="codeph">SYS</code> '，' <code class="codeph">SYSTEM</code> '和RDBMS组件模式）的统计信息，并将它们存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3565" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-70EFDDC9-6FBF-419F-955A-BA953816788F" title="此过程从用户统计信息表导入固定表的统计信息，并将它们存储在数据字典中。">IMPORT_FIXED_OBJECTS_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3565 d960973e2564 ">
                                 <p>从<code class="codeph">stattab</code>标识的用户统计信息表中检索固定表的统计信息，并将它们存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3580" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52" title="此过程从stattab标识的用户统计信息表中检索特定索引的统计信息，并将它们存储在字典中。">IMPORT_INDEX_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3580 d960973e2564 ">
                                 <p>从<code class="codeph">stattab</code>标识的用户统计信息表中检索特定索引的统计信息，并将它们存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3597" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-09496B77-DBD5-4091-8C06-E2F61B252277" title="此过程用于导入指定所有者名称所拥有的所有表的统计信息首选项。">IMPORT_SCHEMA_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3597 d960973e2564 ">
                                 <p>导入指定所有者名称所拥有的所有表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3608" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-848450BE-056A-42A4-9946-B6289EAAAE0E" title="此过程从用户统计信息表中导入由ownname标识的模式中的所有对象的统计信息，并将它们存储在数据字典中。">IMPORT_SCHEMA_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3608 d960973e2564 ">
                                 <p>从用户统计信息表中检索由<code class="codeph">ownname</code>标识的模式中的所有对象的统计信息，并将它们存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3626" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D" title="此过程从stattab标识的用户统计信息表中检索系统统计信息，并将统计信息存储在字典中。">IMPORT_SYSTEM_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3626 d960973e2564 ">
                                 <p>从用户统计信息表中检索系统统计信息并将其存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3640" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-28A085E2-1D40-482F-B01F-01ED25262320" title="此过程用于设置指定模式中指定表的统计信息首选项。">IMPORT_TABLE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3640 d960973e2564 ">
                                 <p>设置指定模式中指定表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3651" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D" title="此过程从stattab标识的用户统计信息表导入指定表的统计信息，并将它们存储在数据字典中。">IMPORT_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3651 d960973e2564 ">
                                 <p>从<code class="codeph">stattab</code>标识的用户统计信息表中检索特定表的统计信息，并将它们存储在字典中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3670" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2" title="此过程将中断当前正在执行的Optimizer Statistics Advisor任务。">INTERRUPT_ADVISOR_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3670 d960973e2564 ">
                                 <p>中断当前正在执行的Optimizer Statistics Advisor任务。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3681" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="此过程使用户可以锁定分区的统计信息。">LOCK_PARTITION_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3681 d960973e2564 ">
                                 <p>锁定分区的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3692" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-5213B65D-A7F4-4CA7-B939-650B46F58890" title="此过程将锁定架构的所有表的统计信息。">LOCK_SCHEMA_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3692 d960973e2564 ">
                                 <p>锁定模式的所有表的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3703" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" title="此过程将锁定表上的统计信息。">LOCK_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3703 d960973e2564 ">
                                 <p>锁定表上的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3714" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C" title="此过程通过dblink将源数据库中的列使用信息合并到本地数据库中。">MERGE_COL_USAGE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3714 d960973e2564 ">
                                 <p>通过<code class="codeph">dblink</code>将源数据库中的列使用信息合并到本地数据库中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3731" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731" title="这些过程使用SET_COLUMN_STATS将用户指定的最小，最大和直方图端点实际值转换为Oracle的内部表示，以便将来存储。">PREPARE_COLUMN_VALUES程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3731 d960973e2564 ">
                                 <p>使用<a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE过程</a>将用户指定的最小，最大和直方图端点数据类型特定值转换为Oracle的内部表示，以便将来存储</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3750" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4" title="此过程使用SET_COLUMN_STATS过程将用户指定的最小，最大和直方图端点实际值转换为Oracle的内部表示，以供将来存储使用。">PREPARE_COLUMN_VALUES_NVARCHAR过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3750 d960973e2564 ">
                                 <p>使用<a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE过程</a>将用户指定的最小，最大和直方图端点数据类型特定值转换为Oracle的内部表示，以便将来存储</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3766" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-2CB8B736-345B-4999-856C-659E32DF4D13" title="此过程使用SET_COLUMN_STATS将用户指定的最小，最大和直方图端点数据类型特定值转换为Oracle的内部表示，以供将来存储使用。">PREPARE_COLUMN_VALUES_ROWID过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3766 d960973e2564 ">
                                 <p>使用<a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE过程</a>将用户指定的最小，最大和直方图端点数据类型特定值转换为Oracle的内部表示，以便将来存储</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3785" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9" title="此过程用于发布收集的统计信息并将其存储为挂起。">PUBLISH_PENDING_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3785 d960973e2564 ">
                                 <p>发布收集的统计信息并将其存储为待处理</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3796" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C" title="此过程将清除保存在字典中的旧版统计信息。">PURGE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3796 d960973e2564 ">
                                 <p>清除保存在字典中的旧版统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3807" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0" title="此过程将重新映射用户统计信息表中的对象名称。它允许您将统计信息导入具有相同定义但名称不同的对象。">REMAP_STAT_TABLE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3807 d960973e2564 ">
                                 <p>重新映射用户统计信息表中的对象名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3819" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A" title="此函数报告Optimizer Statistics Advisor任务的结果。">REPORT_ADVISOR_TASK功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3819 d960973e2564 ">
                                 <p>报告Optimizer Advisor任务的结果。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3830" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D" title="此功能报告记录的列（组）使用信息。">REPORT_COL_USAGE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3830 d960973e2564 ">
                                 <p>报告记录的列（组）使用信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3841" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-2019707A-7591-4002-BF66-788ADDB09BF7" title="此功能在报告模式下运行自动统计信息收集作业。也就是说，实际上并未收集统计信息，但会报告在调用自动统计信息收集时将受影响的所有对象。">REPORT_GATHER_AUTO_STATS功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3841 d960973e2564 ">
                                 <p>在报告模式下运行自动统计信息收集作业</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3852" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-F8850DEF-3CF3-4D91-9127-861B821F4772" title="此函数在报告模式下运行GATHER_DATABASE_STATS函数。">REPORT_GATHER_DATABASE_STATS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3852 d960973e2564 ">
                                 <p>在报告模式下运行<a href="DBMS_STATS.html#GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1" title="此过程收集数据库中所有对象的统计信息。">GATHER_DATABASE_STATS过程</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3872" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6" title="此函数在报告模式下运行GATHER_DICTIONARY_STATS过程。">REPORT_GATHER_DICTIONARY_STATS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3872 d960973e2564 ">
                                 <p>在报告模式下运行<a href="DBMS_STATS.html#GUID-867989C7-ADFC-4464-8981-437CEA7F331E" title="此过程收集字典模式SYS，SYSTEM和RDBMS组件模式的统计信息。">GATHER_DICTIONARY_STATS过程</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3898" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37" title="此函数在报告模式下运行GATHER_FIXED_OBJECTS_STATS过程。">REPORT_GATHER_FIXED_OBJ_STATS功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3898 d960973e2564 ">
                                 <p>在报告模式下运行<a href="DBMS_STATS.html#GUID-EAD4C693-4F03-45DE-9704-1466C8E35232" title="此过程收集所有固定对象（动态性能表）的统计信息。">GATHER_FIXED_OBJECTS_STATS过程</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3915" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03" title="此函数在报告模式下运行GATHER_SCHEMA_STATS过程。">REPORT_GATHER_SCHEMA_STATS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3915 d960973e2564 ">
                                 <p>在报告模式下运行<a href="DBMS_STATS.html#GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F" title="此过程收集模式中所有对象的统计信息。">GATHER_SCHEMA_STATS过程</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3935" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB" title="此过程在报告模式下运行GATHER_TABLE_STATS过程。">REPORT_GATHER_TABLE_STATS功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3935 d960973e2564 ">
                                 <p>在报告模式下运行<a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS过程</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3952" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-2D32C917-535B-4B69-839D-B86956503A2D" title="此函数生成在两个时间戳之间发生的所有统计操作的报告，这两个时间戳可能已提供，也可能未提供。">REPORT_STATS_OPERATIONS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3952 d960973e2564 ">
                                 <p>生成在两个时间戳之间发生的所有统计操作的报告，这两个时间戳可能已提供，也可能未提供</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3963" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25" title="此过程将Optimizer Statistics Advisor任务执行重置为其初始状态。仅重置当前未执行的任务。">RESET_ADVISOR_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3963 d960973e2564 ">
                                 <p>将Optimizer Statistics Advisor任务执行重置为其初始状态。仅重置当前未执行的任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3974" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F" title="此过程删除记录的列（组）使用信息。">RESET_COL_USAGE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3974 d960973e2564 ">
                                 <p>重置记录的列（组）使用信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e3986" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-292AF183-B036-4068-8023-852BC170AD9A" title="此过程将全局首选项（例如CASCADE，ESTIMATE_PERCENT和GRANULARITY）设置为默认值。">RESET_GLOBAL_PREF_DEFAULTS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e3986 d960973e2564 ">
                                 <p>将所有参数的默认值重置为Oracle建议值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4006" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-51912684-43BB-47FE-B7FD-9B4FCF700D48" title="不推荐使用的过程会将所有参数的默认值重置为Oracle建议值。">RESET_PARAM_DEFAULTS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4006 d960973e2564 ">
                                 <p>将全局首选项重置为默认值（请参阅<a href="DBMS_STATS.html#GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" title="Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。">DBMS_STATS不推荐使用的子程序</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4023" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071" title="此过程从指定的时间戳（as_of_timestamp）恢复所有字典表（“SYS”，“SYSTEM”和RDBMS组件模式的表）的统计信息。">RESTORE_DICTIONARY_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4023 d960973e2564 ">
                                 <p>从指定的时间戳恢复所有字典表（“ <code class="codeph">SYS</code> ”，“ <code class="codeph">SYSTEM</code> ”和RDBMS组件模式的表）的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4049" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A927FF36-4A73-43BA-B638-6627779CFC52" title="此过程从指定的时间戳（as_of_timestamp）恢复所有固定表的统计信息。">RESTORE_FIXED_OBJECTS_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4049 d960973e2564 ">
                                 <p>从指定的时间戳恢复所有固定表的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4063" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7" title="此过程将恢复指定时间戳（as_of_timestamp）的架构的所有表的统计信息。">RESTORE_SCHEMA_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4063 d960973e2564 ">
                                 <p>从指定的时间戳恢复架构的所有表的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4077" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49" title="此过程从指定的时间戳（as_of_timestamp）恢复系统统计信息。">RESTORE_SYSTEM_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4077 d960973e2564 ">
                                 <p>从指定的时间戳恢复架构的所有表的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4091" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F" title="此过程从指定的时间戳（as_of_timestamp）恢复表的统计信息。它还恢复关联索引和列的统计信息。">RESTORE_TABLE_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4091 d960973e2564 ">
                                 <p>从指定的时间戳（ <code class="codeph">as_of_timestamp</code> ）恢复表的统计信息，以及关联索引和列的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4108" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-B7A36011-D795-458B-9A2B-930491111D8E" title="此过程恢复中断的任务。它只恢复最近中断的执行。">RESUME_ADVISOR_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4108 d960973e2564 ">
                                 <p>恢复中断的任务。它只恢复最近中断的执行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4119" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-884B1285-E212-4C6A-864C-D4881B237356" title="检索实现针对Optimizer Statistics Advisor发现的问题的建议操作的脚本。">SCRIPT_ADVISOR_TASK功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4119 d960973e2564 ">
                                 <p>检索实现针对Optimizer Statistics Advisor发现的问题的建议操作的脚本</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4130" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4130 d960973e2564 ">
                                 <p>迭代指定SQL调优集中的SQL语句，编译它们并为这些语句中出现的列播种列使用信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4141" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53" title="此过程将更新Optimizer Statistics Advisor任务参数的值。">SET_ADVISOR_TASK_PARAMETER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4141 d960973e2564 ">
                                 <p>更新Optimizer Statistics Advisor任务参数的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4153" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27" title="此过程设置与列相关的信息。">SET_COLUMN_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4153 d960973e2564 ">
                                 <p>设置与列相关的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4164" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4164 d960973e2564 ">
                                 <p>设置所有表的统计首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4181" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4181 d960973e2564 ">
                                 <p>设置全局统计首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4192" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6" title="这些过程设置与索引相关的统计信息">SET_INDEX_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4192 d960973e2564 ">
                                 <p>设置与索引相关的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4203" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE" title="不推荐使用的过程为DBMS_STATS过程的参数设置默认值。">SET_PARAM过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4203 d960973e2564 ">
                                 <p>设置<code class="codeph">DBMS_STATS</code>过程参数的默认值（请参阅<a href="DBMS_STATS.html#GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" title="Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。">DBMS_STATS不推荐使用的子程序</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4226" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC" title="此过程设置给定操作的处理速率值。">SET_PROCESSING_RATE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4226 d960973e2564 ">
                                 <p>设置给定操作的处理速率值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4237" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4237 d960973e2564 ">
                                 <p>设置指定所有者名称拥有的所有表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4248" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED" title="此过程设置系统统计信息。">SET_SYSTEM_STATS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4248 d960973e2564 ">
                                 <p>设置系统统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4259" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4259 d960973e2564 ">
                                 <p>设置指定模式中指定表的统计信息首选项</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4270" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2" title="此过程为测试目的创建人工表统计信息。">SET_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4270 d960973e2564 ">
                                 <p>设置与表相关的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4281" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988" title="此函数返回为用户指定的扩展创建的统计条目的名称。如果没有创建扩展，则会引发错误。">SHOW_EXTENDED_STATS_NAME功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4281 d960973e2564 ">
                                 <p>返回为用户指定的扩展创建的虚拟列的名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4293" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E" title="此过程将指定表的统计信息从dblink指定的远程数据库传输到本地数据库。">TRANSFER_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4293 d960973e2564 ">
                                 <p>将指定表的统计信息从<code class="codeph">dblink</code>指定的远程数据库传输到本地数据库</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4310" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9" title="此过程使用户可以解锁分区的统计信息。">UNLOCK_PARTITION_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4310 d960973e2564 ">
                                 <p>解锁分区的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4321" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" title="此过程将解锁模式中所有表的统计信息。">UNLOCK_SCHEMA_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4321 d960973e2564 ">
                                 <p>解锁模式中所有表的统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4332" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-690DF3FA-E225-4959-8836-5458F17217D5" title="此过程将解锁表中的统计信息。">UNLOCK_TABLE_STATS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4332 d960973e2564 ">
                                 <p>解锁表格上的统计数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d960973e4343" headers="d960973e2561 ">
                                 <p><a href="DBMS_STATS.html#GUID-3375B74A-7322-4243-BEA9-603951F9363C" title="此过程从旧版本升级用户统计信息表。">UPGRADE_STAT_TABLE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d960973e4343 d960973e2564 ">
                                 <p>升级旧表上的用户统计信息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="props_rev_3"><a id="GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2" name="GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2"></a><h4 id="ARPLS-GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2" class="sect4"><span class="enumeration_section">165.7.1</span> ALTER_STATS_HISTORY_RETENTION过程</h4>
                  <div>
                     <p>此过程更改统计信息历史记录保留值。</p>
                     <div class="section">
                        <p>统计历史记录保留由自动清除和<a href="DBMS_STATS.html#GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C" title="此过程将清除保存在字典中的旧版统计信息。">PURGE_STATS过程使用</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2__GUID-0C4C305C-55E0-4C1E-B07D-7709D601EF49">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.ALTER_STATS_HISTORY_RETENTION（保留在数字中）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2__GUID-7BB6E30A-91D3-46D0-B042-5D61BF738C58">参数</p>
                        <div class="tblformal" id="GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2__GUID-0D9D5733-5101-4F39-A298-6EB55245E7B0">
                           <p class="titleintable">表165-4 ALTER_STATS_HISTORY_RETENTION过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_STATS_HISTORY_RETENTION过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.ALTER_STATS_HISTORY_RETENTION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e4469">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e4472">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e4477" headers="d960973e4469 ">
                                       <p><code class="codeph">保留</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e4477 d960973e4472 ">
                                       <p>保留时间（天）。统计历史记录将至少保留这么多天。有效范围是[1,365000]。您还可以将以下值用于特殊目的：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>-1：自动清除永远不会清除统计历史记录</p>
                                          </li>
                                          <li>
                                             <p>0：永远不会保存旧统计信息。自动清除将删除所有统计历史记录</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> ：将统计信息历史记录保留更改为默认值</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2__GUID-2B888C42-3D16-4B4A-A60F-10473A55F31A">使用说明</p>
                        <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A04AE1C0-5DE1-4AFC-91F8-D35D41DF98A2__GUID-17133B7B-6895-4339-A5B1-8E8E27EA426B">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4" name="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4"></a><h4 id="ARPLS-GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4" class="sect4"><span class="enumeration_section">165.7.2</span> CANCEL_ADVISOR_TASK程序</h4>
                  <div>
                     <p>此过程取消Optimizer Statistics Advisor执行。顾问程序从任务中删除当前执行的所有中间结果。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-C38ACDE5-B098-402C-84AA-858B1CCCE42F">句法</p><pre class="pre codeblock"><code>DBMS_STATS.CANCEL_ADVISOR_TASK（task_name IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-40E05CD1-C14F-47DB-8D4E-FA43EC997E41">参数</p>
                        <div class="tblformal" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-1524F91D-D562-4F51-814E-9E0DAA647A05">
                           <p class="titleintable">表165-5 CANCEL_ADVISOR_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CANCEL_ADVISOR_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.CANCEL_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e4634">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e4637">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e4642" headers="d960973e4634 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e4642 d960973e4637 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-D77550C6-6F8B-4879-B4A3-CEC36506D97A">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                        <p>考虑一个任务由一个用户执行，中断，然后由另一个用户恢复的情况。在这种情况下，Optimizer Statistics Advisor将恢复执行的检查基于恢复任务的用户的权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-898F7765-C06D-4534-824F-FA4A8C4583B3">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-A2CFC07C-6BF0-46D4-94F2-6A98D33EB650">使用说明</p>
                        <p>要取消或中断，指定的任务必须当前正在执行。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-A46EB0CF-3902-4F1D-8EB2-E9E2068A4DDA">
                        <p class="titleinexample">示例165-1取消优化程序统计顾问</p>
                        <p>在此示例中，您启动SQL * Plus会话，然后创建并执行名为<code class="codeph">my_task</code>的顾问程序任务：</p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（128）：='my_task'; v_ename VARCHAR2（128）：= NULL; BEGIN  - 创建任务v_tname：= DBMS_STATS.CREATE_ADVISOR_TASK（v_tname）; - 执行任务v_ename：= DBMS_STATS.EXECUTE_ADVISOR_TASK（v_tname）;结束; /</code></pre><p>在单独的终端中，启动第二个SQL * Plus会话，然后执行以下程序：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.CANCEL_ADVISOR_TASK（'my_task'）;</code></pre><p>第一个会话返回<code class="codeph">ORA-13632</code>以指示取消任务：</p><pre class="pre codeblock"><code>ORA-13632：用户取消了当前操作。</code></pre><div class="See Also" id="GUID-9E998EBB-BF93-4931-BD5C-EB131A2449F4__GUID-42F18C48-67F3-4962-BD87-5B6595F90496">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/options-for-optimizer-statistics-gathering.html#GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F" name="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F"></a><h4 id="ARPLS-GUID-2CDAC271-16FD-461D-AB06-15E2455A498F" class="sect4"><span class="enumeration_section">165.7.3</span> CONFIGURE_ADVISOR_FILTER功能</h4>
                  <div>
                     <p>此函数配置Optimizer Statistics Advisor任务的筛选器列表。过滤器可用于从报告中排除不相关的结果。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-0A6C98B1-9FE0-48FF-8C7A-06012FF938FC">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.CONFIGURE_ADVISOR_FILTER（task_name IN VARCHAR2，stats_adv_opr_type IN VARCHAR2，configuration_type IN VARCHAR2，filter IN StatsAdvFilterTab：= NULL）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-C9EAB410-61D2-4F21-9DFD-7EF583F34D47">参数</p>
                        <div class="tblformal" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-299033CC-C99D-4270-9DFD-E4856EE17E09">
                           <p class="titleintable">表165-6 CONFIGURE_ADVISOR_FILTER函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONFIGURE_ADVISOR_FILTER函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.CONFIGURE_ADVISOR_FILTER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e4828">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e4831">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e4836" headers="d960973e4828 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e4836 d960973e4831 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e4844" headers="d960973e4828 ">
                                       <p><code class="codeph">stats_adv_opr_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e4844 d960973e4831 ">
                                       <p>要配置的操作类型。可能的值是<code class="codeph">EXECUTE</code> ， <code class="codeph">REPORT</code> ， <code class="codeph">SCRIPT</code>和<code class="codeph">IMPLEMENT</code> 。该函数允许您使用加号（ <code class="codeph">+</code> ）运算符指定操作类型的组合，例如， <code class="codeph">EXECUTE +REPORT</code> 。如果此参数为null，则过滤器适用于所有类型的顾问程序操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e4871" headers="d960973e4828 ">
                                       <p><code class="codeph">configuration_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e4871 d960973e4831 ">
                                       <p>配置类型。可能的值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SET</code> ：设置指定的筛选器列表值。提交的过滤器会覆盖现有过滤器值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CLEAR</code> ：清除指定过滤器的现有值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SHOW</code> ：显示指定过滤器的当前值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e4895" headers="d960973e4828 ">
                                       <p><code class="codeph">过滤</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e4895 d960973e4831 ">
                                       <p>脚本的过滤器项列表。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-6B3D637B-D984-4A92-BFE2-07838CE66295">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-178D5CC6-F853-474A-BFEE-9EA4A2FA5DE4">返回值</p>
                        <p>此函数返回一个CLOB，其中包含XML格式的提供过滤器的配置。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-506CD1CE-0177-483A-A05D-CA3B88D6C723">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-A981746B-8D9E-4691-B20C-A3B2C7409D98">使用说明</p>
                        <p>为了在所有过程中提供细粒度控制和统一接口， <code class="codeph">DBMS_STATS</code>提供<code class="codeph">StatsAdvFilter</code>类型。您可以使用此数据类型来实例化和构建过滤器表。然后，您可以将<code class="codeph">StatsAdvFilter</code>类型的参数传递给<code class="codeph">CONFIGURE_ADVISOR_FILTER</code>以及指定以下任一项的布尔变量：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>包含列表</p>
                              <p>仅在检查中包含这些对象。</p>
                           </li>
                           <li>
                              <p>排除清单</p>
                              <p>请勿在支票中包含这些对象。</p>
                           </li>
                        </ul>
                        <p>您还可以传入一个参数，指定是否替换现有列表。此列表仅过滤对象级和操作级项。顾问程序始终检查系统级规则。</p>
                        <p>您可以创建以下类型的过滤器：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>规则过滤器</p>
                              <p>此过滤器将规则名称作为输入。从<code class="codeph">V$STATS_ADVISOR_RULES</code>视图中获取规则名称。
                              </p>
                           </li>
                           <li>
                              <p>操作过滤器</p>
                              <p>此过滤器是精确匹配过滤器，它接受操作的名称以及调用中所有参数值的XML字符串表示形式。要获取XML，请参阅<code class="codeph">DBA_OPTSTAT_OPERATIONS</code>视图的notes部分。要获取操作的过滤器，请使用<code class="codeph">DBMS_STATS.GET_ADVISOR_OPR_FILTER</code> 。</p>
                           </li>
                           <li>
                              <p>对象过滤器</p>
                              <p>此过滤器接受所有者名称和对象名称。所有者名称和对象名称支持通配符（ <code class="codeph">%</code> ）。当对象名称为null或<code class="codeph">%</code> ，它表示指定模式中所有对象的过滤器。如果所有者名称也为null或<code class="codeph">%</code> ，则表示系统中所有对象的默认过滤器。
                              </p>
                           </li>
                        </ul>
                        <p>如果未指定任何过滤器，则该函数将过滤器识别为设置过滤的全局默认值（包括或排除）。在检查期间，如果没有为规则，操作或对象指定过滤器，则该函数使用默认值来确定是包含还是排除它。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-468C2EFB-BBE0-44A6-B9FD-EF4679E5DE41">
                        <p class="titleinexample">示例165-2启用和禁用规则</p>
                        <p>您可能希望关闭除特定规则之外的所有规则的检查。在此示例中，您要检查是否已禁用SQL计划指令。</p><pre class="pre codeblock"><code>DECLARE v_task_name VARCHAR2（128）：='my_task'; v_ret VARCHAR2（128）; filter DBMS_STATS.StatsAdvFilter：= null; filterTab DBMS_STATS.StatsAdvFilterTab：= null; v_counter NUMBER：= 0; v_filterReport CLOB; BEGIN  - 创建顾问任务v_ret：= DBMS_STATS.CREATE_ADVISOR_TASK（v_task_name）; - 初始化过滤器表filterTab：= DBMS_STATS.StatsAdvFilterTab（）; - 第一个过滤器：默认情况下将过滤器设置为FALSE filter.include：= FALSE; - 将此过滤器添加到过滤器表v_counter：= v_counter + 1; filterTab.extend; filterTab（v_counter）：= filter; - 第二个过滤器：为一个规则过滤器打开过滤器。包括：= TRUE; filter.rulename：='TurnOnSQLPlanDirective'; - 将SQL计划指令过滤器添加到过滤器表v_counter：= v_counter + 1; filterTab.extend; filterTab（v_counter）：= filter; v_filterReport：= DBMS_STATS.CONFIGURE_ADVISOR_FILTER（task_name =&gt; v_task_name，stats_adv_opr_type =&gt; NULL，configuration_type =&gt;'SET'，filter =&gt; filterTab）; - 删除任务DBMS_STATS.DROP_ADVISOR_TASK（v_task_name）;结束;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-916FDB58-4F99-47EC-9499-14EC63DF3B6D">
                        <p class="titleinexample">示例165-3配置操作筛选器</p>
                        <p>在此示例中，您的商店使用自定义脚本来收集表的统计信息。如果您不希望在报表中看到特定的统计信息操作，则可以指定操作过滤器。</p><pre class="pre codeblock"><code>DECLARE v_task_name VARCHAR2（128）：='my_task'; v_ret VARCHAR2（128）; filter DBMS_STATS.StatsAdvFilter：= null; filterTab DBMS_STATS.StatsAdvFilterTab：= null; opr DBMS_STATS.StatsAdvOpr; oprTab DBMS_STATS.StatsAdvOprTab; v_oprCnt NUMBER：= 0; TYPE numTab是数字表; opr_tab numTab; v_filterReport CLOB; BEGIN  - 创建顾问任务v_ret：= DBMS_STATS.CREATE_ADVISOR_TASK（v_task_name）; - 初始化过滤器表filterTab：= DBMS_STATS.StatsAdvFilterTab（）; - 初始化操作过滤器oprTab：= DBMS_STATS.StatsAdvOprTab（）; SELECT ID BULK收集到来自WRI的opr_tab $ _OPTSTAT_OPR WHERE OPERATION ='set_table_stats'AND TARGET ='HR.EMPLOYEES'; - 填充操作表FOR i IN 1..opr_tab.count LOOP  - 使用过程GET_ADVISOR_OPR_FILTER构造 - 操作过滤器DBMS_STATS.GET_ADVISOR_OPR_FILTER（opr_tab（i），opr）; v_oprCnt：= v_oprCnt + 1; oprTab.extend; oprTab（v_oprCnt）：= opr;结束循环; filter.include：= FALSE; filter.oprlist：= oprTab; - 添加到过滤器表filterTab.extend; filterTab（1）：= filter; v_filterReport：= DBMS_STATS.CONFIGURE_ADVISOR_FILTER（task_name =&gt; v_task_name，stats_adv_opr_type =&gt; NULL，configuration_type =&gt;'SET'，filter =&gt; filterTab）; - 删除任务DBMS_STATS.DROP_ADVISOR_TASK（v_task_name）;结束;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-FD80A1F4-B814-4345-BEC9-CA4857632C47">
                        <p class="titleinexample">示例165-4报告特定架构</p>
                        <p>在此示例中，您只想为<code class="codeph">sh</code>架构生成报告。此外，您想跳过<code class="codeph">sh.products</code>表。您创建一个对象过滤器，如下所示：</p><pre class="pre codeblock"><code>DECLARE v_task_name VARCHAR2（128）：='my_task'; v_ret VARCHAR2（128）; filter DBMS_STATS.StatsAdvFilter：= null; filterTab DBMS_STATS.StatsAdvFilterTab：= null; v_filterReport CLOB; v_counter NUMBER：= 0; obj DBMS_STATS.ObjectElem; objTab DBMS_STATS.ObjectTab; v_objCnt NUMBER：= 0; BEGIN  - 创建顾问任务v_ret：= DBMS_STATS.CREATE_ADVISOR_TASK（v_task_name）; - 初始化过滤器表filterTab：= DBMS_STATS.StatsAdvFilterTab（）; - 默认情况下，将对象过滤器设置为关闭.include：= FALSE; objTab：= DBMS_STATS.ObjectTab（）; obj.ownname：= NULL; obj.objname：= NULL; - 添加到对象表v_objCnt：= v_objCnt + 1; objTab.extend; objTab（v_objCnt）：= obj; filter.objlist：= objTab; - 将对象过滤器添加到过滤器表v_counter：= v_counter + 1; filterTab.extend; filterTab（v_counter）：= filter; - 在过滤器1中，仅打开模式SH过滤器的检查。包括：= TRUE; objTab：= DBMS_STATS.ObjectTab（）; v_objCnt：= 0; obj.ownname：='SH'; obj.objname：= NULL; - 添加到对象表v_objCnt：= v_objCnt + 1; objTab.extend; objTab（v_objCnt）：= obj; filter.objlist：= objTab; - 将对象过滤器添加到过滤器表v_counter：= v_counter + 1; filterTab.extend; filterTab（v_counter）：= filter; - 在过滤器2中，排除检查对象sh.products filter.include：= FALSE; objTab：= dbms_stats。ObjectTab（）; v_objCnt：= 0; - 为sh.products指定另一个对象过滤器obj.ownname：='SH'; obj.objname：='产品'; - 添加到对象表v_objCnt：= v_objCnt + 1; objTab.extend; objTab（v_objCnt）：= obj; filter.objlist：= objTab; - 将对象过滤器添加到过滤器表v_counter：= v_counter + 1; filterTab.extend; filterTab（v_counter）：= filter; v_filterReport：= DBMS_STATS.CONFIGURE_ADVISOR_FILTER（task_name =&gt; v_task_name，stats_adv_opr_type =&gt; NULL，configuration_type =&gt;'SET'，filter =&gt; filterTab）; - 删除任务DBMS_STATS.DROP_ADVISOR_TASK（v_task_name）;结束;</code></pre><div class="See Also" id="GUID-2CDAC271-16FD-461D-AB06-15E2455A498F__GUID-22B6366B-230D-4EEF-90C8-4BB181DE0813">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> ，了解如何配置Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F" name="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F"></a><h4 id="ARPLS-GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F" class="sect4"><span class="enumeration_section">165.7.4</span> CONFIGURE_ADVISOR_OBJ_FILTER函数</h4>
                  <div>
                     <p>此函数为Optimizer Statistics Advisor任务配置对象过滤器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F__GUID-ADB8FE82-B24D-4838-8349-0EC52A284394">句法</p><pre class="pre codeblock"><code>DBMS_STATS.CONFIGURE_ADVISOR_OBJ_FILTER（task_name IN VARCHAR2，stats_adv_opr_type IN VARCHAR2，rule_name IN VARCHAR2，ownname IN VARCHAR2，tabname IN VARCHAR2，action IN VARCHAR2）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F__GUID-9B645B13-6A2E-4148-A04B-031FAE8D12D8">参数</p>
                        <div class="tblformal" id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F__GUID-E24535C9-D7C6-42C5-B835-24C26E5E6CAC">
                           <p class="titleintable">表165-7 CONFIGURE_ADVISOR_OBJ_FILTER函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONFIGURE_ADVISOR_OBJ_FILTER函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.CONFIGURE_ADVISOR_OBJ_FILTER subprograms." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e5153">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e5156">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5161" headers="d960973e5153 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5161 d960973e5156 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5169" headers="d960973e5153 ">
                                       <p><code class="codeph">stats_adv_opr_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5169 d960973e5156 ">
                                       <p>要配置的操作类型。可能的值是<code class="codeph">EXECUTE</code> ， <code class="codeph">REPORT</code> ， <code class="codeph">SCRIPT</code>和<code class="codeph">IMPLEMENT</code> 。请参见<span class="q">“ <a href="DBMS_STATS.html#GUID-803BDC00-F667-4DBA-9398-3F42B758943D" title="此函数为Optimizer Statistics Advisor任务配置规则过滤器。">CONFIGURE_ADVISOR_RULE_FILTER函数</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5196" headers="d960973e5153 ">
                                       <p><code class="codeph">RULE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5196 d960973e5156 ">
                                       <p>要配置的规则的名称。如果为null，则该函数将过滤器应用于所有操作级规则。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5204" headers="d960973e5153 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5204 d960973e5156 ">操作目标的所有者名称。如果为null，则该函数将过滤器应用于所有所有者名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5211" headers="d960973e5153 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5211 d960973e5156 ">操作目标的表名。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5218" headers="d960973e5153 ">
                                       <p><code class="codeph">行动</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5218 d960973e5156 ">
                                       <p>要对指定规则执行的配置操作。请参见<span class="q">“ <a href="DBMS_STATS.html#GUID-803BDC00-F667-4DBA-9398-3F42B758943D" title="此函数为Optimizer Statistics Advisor任务配置规则过滤器。">CONFIGURE_ADVISOR_RULE_FILTER函数</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F__GUID-21E280CE-2049-4279-B95A-62835DA628C9">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F__GUID-839C8927-FC97-4C83-9D69-91742A990185">返回值</p>
                        <p>此函数返回包含过滤器更新值的XML CLOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F__GUID-F49D86FD-CD00-4F80-AC5F-DBBA0D9DE011">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                        <div class="See Also" id="GUID-49467DAF-2E98-4D8E-8FF7-C183CE46CF5F__GUID-8E7FF8FF-72DC-4C47-97B7-B0FE92099266">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7" name="GUID-0BD07210-825E-4971-87B5-EE453B354EC7"></a><h4 id="ARPLS-GUID-0BD07210-825E-4971-87B5-EE453B354EC7" class="sect4"><span class="enumeration_section">165.7.5</span> CONFIGURE_ADVISOR_OPR_FILTER函数</h4>
                  <div>
                     <p>此重载函数为Optimizer Statistics Advisor任务配置操作筛选器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-FE34A338-B390-43A0-972F-9553E9EC0F54">句法</p><pre class="pre codeblock"><code>DBMS_STATS.CONFIGURE_ADVISOR_OPR_FILTER（task_name IN VARCHAR2，stats_adv_opr_type IN VARCHAR2，rule_name IN VARCHAR2，operation_name IN VARCHAR2，action IN VARCHAR2）RETURN CLOB;</code></pre><pre class="pre codeblock"><code>DBMS_STATS.CONFIGURE_ADVISOR_OPR_FILTER（task_name IN VARCHAR2，stats_adv_opr_type IN VARCHAR2，rule_name IN VARCHAR2，operation_name IN VARCHAR2，ownname IN VARCHAR2，tabname IN VARCHAR2，action IN VARCHAR2）RETURN CLOB;</code></pre><pre class="pre codeblock"><code>DBMS_STATS.CONFIGURE_ADVISOR_OPR_FILTER（task_name IN VARCHAR2，stats_adv_opr_type IN VARCHAR2，rule_name IN VARCHAR2，operation_id IN NUMBER，action IN VARCHAR2）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-A6EBE73D-384E-4962-9F03-7143F58C8F64">参数</p>
                        <div class="tblformal" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-1B45C7FF-F5F9-4B96-A06D-80E89A49F044">
                           <p class="titleintable">表165-8 CONFIGURE_ADVISOR_OPR_FILTER函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONFIGURE_ADVISOR_OPR_FILTER函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.CONFIGURE_ADVISOR_OPR_FILTER subprograms." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e5393">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e5396">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5401" headers="d960973e5393 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5401 d960973e5396 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5409" headers="d960973e5393 ">
                                       <p><code class="codeph">stats_adv_opr_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5409 d960973e5396 ">
                                       <p>要配置的操作类型。可能的值是<code class="codeph">EXECUTE</code> ， <code class="codeph">REPORT</code> ， <code class="codeph">SCRIPT</code>和<code class="codeph">IMPLEMENT</code> 。请参见<span class="q">“ <a href="DBMS_STATS.html#GUID-803BDC00-F667-4DBA-9398-3F42B758943D" title="此函数为Optimizer Statistics Advisor任务配置规则过滤器。">CONFIGURE_ADVISOR_RULE_FILTER函数</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5436" headers="d960973e5393 ">
                                       <p><code class="codeph">RULE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5436 d960973e5396 ">
                                       <p>要配置的规则的名称。如果为null，则该函数将过滤器应用于所有操作级规则。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5444" headers="d960973e5393 ">
                                       <p><code class="codeph">OPERATION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5444 d960973e5396 ">
                                       <p>操作的名称。例如，操作名称可以是<code class="codeph">gather_table_stats</code> 。<span>该值不能为空。</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5457" headers="d960973e5393 ">
                                       <p><code class="codeph">operation_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5457 d960973e5396 ">
                                       <p>要配置的操作的ID。过滤器适用于与指定操作ID具有相同签名的任何操作。如果两个操作具有相同的签名，则它们对于每个参数具有相同的值。在<code class="codeph">DBA_OPSTAT_OPERATIONS.ID</code>查看操作ID。 <span>该值不能为空。</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5470" headers="d960973e5393 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5470 d960973e5396 ">操作目标的所有者名称。<span>该值不能为空。</span></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5479" headers="d960973e5393 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5479 d960973e5396 ">操作目标的表名。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5486" headers="d960973e5393 ">
                                       <p><code class="codeph">行动</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5486 d960973e5396 ">
                                       <p>要对指定规则执行的配置操作。请参见<span class="q">“ <a href="DBMS_STATS.html#GUID-803BDC00-F667-4DBA-9398-3F42B758943D" title="此函数为Optimizer Statistics Advisor任务配置规则过滤器。">CONFIGURE_ADVISOR_RULE_FILTER函数</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-0826C916-73DA-4467-BEEC-E0503561882A">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-51122E37-7CD0-4B8C-B5D5-D7C4AB16135F">返回值</p>
                        <p>此函数返回包含过滤器更新值的XML CLOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-AB47321D-47E7-4449-9D9D-23C3B50E4A72">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-0964F1CB-4578-4EF3-B510-BE39CF29344B">
                        <p class="titleinexample">示例165-5排除收集表统计信息的操作</p>
                        <p>在此示例中，您的目标是排除在<code class="codeph">hr</code>模式中收集表统计信息的操作。用户帐户<code class="codeph">stats</code>已被授予<code class="codeph">DBA</code>角色， <code class="codeph">ADVISOR</code>权限和<code class="codeph">SELECT ON DBA_OPTSTAT_OPERATIONS</code>权限。您执行以下步骤：</p>
                        <ol>
                           <li>
                              <p>以<code class="codeph">stats</code>登录数据库。
                              </p>
                           </li>
                           <li>
                              <p>删除任何名为<code class="codeph">opt_adv_task1</code>现有任务。
                              </p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（32767）; BEGIN v_tname：='opt_adv_task1'; DBMS_STATS.DROP_ADVISOR_TASK（v_tname）;结束; /</code></pre></li>
                           <li>
                              <p>创建一个名为<code class="codeph">opr_filter</code>的过程，该过程将任务配置为建议<span class="italic">除了</span>收集<code class="codeph">hr</code>模式中表的统计信息<span class="italic">之外的</span>所有操作。
                              </p><pre class="pre codeblock"><code>创建或替换过程opr_filter（p_tname IN VARCHAR2）是v_retc CLOB; BEGIN  - 对于所有规则，阻止顾问操作 - 在以下查询中选择的操作FOR rec IN（SELECT ID FROM DBA_OPTSTAT_OPERATIONS WHERE OPERATION ='gather_table_stats'和TARGET LIKE'HR。％'）LOOP v_retc：= DBMS_STATS .CONFIGURE_ADVISOR_OPR_FILTER（task_name =&gt; p_tname，stats_adv_opr_type =&gt; NULL，rule_name =&gt; NULL，operation_id =&gt; rec.id，action =&gt;'DISABLE'）;结束循环;结束; /显示错误</code></pre></li>
                           <li>
                              <p>创建名为<code class="codeph">opt_adv_task1</code>的任务，然后为此任务执行<code class="codeph">opr_filter</code>过程。
                              </p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（32767）; v_ret VARCHAR2（32767）; BEGIN v_tname：='opt_adv_task1'; v_ret：= DBMS_STATS.CREATE_ADVISOR_TASK（v_tname）; opr_filter（v_tname）;结束; /</code></pre></li>
                           <li>
                              <p>执行任务<code class="codeph">opt_adv_task1</code> 。
                              </p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（32767）; v_ret VARCHAR2（32767）; begin v_tname：='opt_adv_task1'; v_ret：= DBMS_STATS.EXECUTE_ADVISOR_TASK（v_tname）;结束; /</code></pre></li>
                           <li>
                              <p>打印报告。</p><pre class="pre codeblock"><code>SPOOL /tmp/rep.txt SET LONG 1000000 COLUMN报告格式A200 SET LINESIZE 250 SET PAGESIZE 1000 SELECT DBMS_STATS.REPORT_ADVISOR_TASK（task_name =&gt;'opt_adv_task1'，execution_name =&gt; NULL，type =&gt;'TEXT'，section =&gt;'ALL' ）AS DUAL报告; SPOOL OFF</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0BD07210-825E-4971-87B5-EE453B354EC7__GUID-22C2087C-3365-4174-9F5E-9E72C0312DC7">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../refrn/DBA_OPTSTAT_OPERATIONS.html#REFRN-GUID-3D13B3C5-C1D1-47E7-B852-CD1563719402" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解有关<code class="codeph">DBA_OPTSTAT_OPERATIONS</code>更多信息</p>
                              </li>
                              <li>
                                 <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D" name="GUID-803BDC00-F667-4DBA-9398-3F42B758943D"></a><h4 id="ARPLS-GUID-803BDC00-F667-4DBA-9398-3F42B758943D" class="sect4"><span class="enumeration_section">165.7.6</span> CONFIGURE_ADVISOR_RULE_FILTER功能</h4>
                  <div>
                     <p>此函数为Optimizer Statistics Advisor任务配置规则过滤器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D__GUID-1ADFCA81-2496-4CBB-9E12-8F7D0261B0EF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.CONFIGURE_ADVISOR_RULE_FILTER（task_name IN VARCHAR2，stats_adv_opr_Type IN VARCHAR2，rule_name IN VARCHAR2，action IN VARCHAR2）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D__GUID-7D5CD0ED-7A9E-4FC9-AEF6-4549055A41D8">参数</p>
                        <div class="tblformal" id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D__GUID-91367543-4F3C-44BC-82BF-361C86C9C258">
                           <p class="titleintable">表165-9 SCRIPT_ADVISOR_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SCRIPT_ADVISOR_TASK函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.CONFIGURE_ADVISOR_RULE_FILTER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e5742">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e5745">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5750" headers="d960973e5742 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5750 d960973e5745 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5758" headers="d960973e5742 ">
                                       <p><code class="codeph">stats_adv_opr_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5758 d960973e5745 ">
                                       <p>要配置的操作类型。可能的值是<code class="codeph">EXECUTE</code> ， <code class="codeph">REPORT</code> ， <code class="codeph">SCRIPT</code>和<code class="codeph">IMPLEMENT</code> 。您可以指定操作类型的组合，例如， <code class="codeph">EXECUTE +REPORT</code> 。如果此参数为null，则筛选器适用于所有类型的Optimizer Statistics Advisor操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5781" headers="d960973e5742 ">
                                       <p><code class="codeph">RULE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5781 d960973e5745 ">
                                       <p>要配置的规则的名称。如果为null，则该函数将过滤器应用于所有规则。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e5789" headers="d960973e5742 ">
                                       <p><code class="codeph">行动</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e5789 d960973e5745 ">
                                       <p>要对指定规则执行的配置操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ENABLE</code> ：启用过滤器</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DISABLE</code> ：禁用过滤器</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DELETE</code> ：删除过滤器</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SHOW</code> ：显示当前过滤器值</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D__GUID-0358268C-6F8F-4313-81D8-5AA510880CF6">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D__GUID-435743AC-B3E3-43EE-9F5C-E06CB3938D7B">返回值</p>
                        <p>此函数返回包含过滤器更新值的XML CLOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D__GUID-1BC6B49B-2061-4CF6-8B7E-B6D7225BD0E4">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                        <div class="See Also" id="GUID-803BDC00-F667-4DBA-9398-3F42B758943D__GUID-14C29664-27A4-404B-9A00-AC06F7BE9D34">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A" name="GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A"></a><h4 id="ARPLS-GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A" class="sect4"><span class="enumeration_section">165.7.7</span> CONVERT_RAW_VALUE过程</h4>
                  <div>
                     <p>此过程将最小值，最大值或直方图端点实际值的内部表示转换为特定于数据类型的值。</p>
                     <div class="section">
                        <p>由<code class="codeph">GET_COLUMN_STATS</code>或<code class="codeph">PREPARE_COLUMN_VALUES</code>填充的<code class="codeph">StatRec</code>结构的<code class="codeph">minval</code> ， <code class="codeph">maxval</code>和<code class="codeph">eavals</code>字段是输入的适当值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A__GUID-80C6C7B3-09C6-45DF-B1E7-950CB36DA26C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.CONVERT_RAW_VALUE（rawval RAW，resval OUT BINARY_FLOAT）; DBMS_STATS.CONVERT_RAW_VALUE（rawval RAW，resval OUT BINARY_DOUBLE）; DBMS_STATS.CONVERT_RAW_VALUE（rawval RAW，resval OUT DATE）; DBMS_STATS.CONVERT_RAW_VALUE（rawval RAW，resval OUT NUMBER）; DBMS_STATS.CONVERT_RAW_VALUE（rawval RAW，resval OUT VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A__GUID-8BB013F2-C38F-4275-9D74-8E789B451783">参数</p>
                        <div class="tblformal" id="GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A__GUID-90428A69-82FA-4207-9025-F7881C3AF3C5">
                           <p class="titleintable">表165-10 CONVERT_RAW_VALUE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONVERT_RAW_VALUE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.CONVERT_RAW_VALUE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e5995">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e5998">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e6003" headers="d960973e5995 ">
                                       <p><code class="codeph">rawval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e6003 d960973e5998 ">
                                       <p>列最小，最大，直方图终点实际值的原始表示</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e6011" headers="d960973e5995 ">
                                       <p><code class="codeph">resval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e6011 d960973e5998 ">
                                       <p>转换的，特定于类型的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-580F9809-2689-4E8D-A7DA-BE1BCC7F320A__GUID-71646BD5-5249-4F06-A1E6-4019DB989ED3">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-66BC411E-F530-4560-B6B1-85D8C6659027" name="GUID-66BC411E-F530-4560-B6B1-85D8C6659027"></a><h4 id="ARPLS-GUID-66BC411E-F530-4560-B6B1-85D8C6659027" class="sect4"><span class="enumeration_section">165.7.8</span> CONVERT_RAW_VALUE_NVARCHAR过程</h4>
                  <div>
                     <p>此过程转换最小值，最大值或直方图终点实际值的内部表示。</p>
                     <div class="section">
                        <p>由<code class="codeph">GET_COLUMN_STATS</code>或<code class="codeph">PREPARE_COLUMN_VALUES</code>填充的<code class="codeph">StatRec</code>结构的<code class="codeph">minval</code> ， <code class="codeph">maxval</code>和<code class="codeph">eavals</code>字段是输入的适当值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66BC411E-F530-4560-B6B1-85D8C6659027__GUID-EE1EFFDF-6C15-4980-B38B-436189D47A39">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.CONVERT_RAW_VALUE_NVARCHAR（rawval RAW，resval OUT NVARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66BC411E-F530-4560-B6B1-85D8C6659027__GUID-B68E26A6-0F86-4715-8B6A-5EA62E036D83">参数</p>
                        <div class="tblformal" id="GUID-66BC411E-F530-4560-B6B1-85D8C6659027__GUID-9615A08D-8171-4CDB-B607-4B255F3FD446">
                           <p class="titleintable">表165-11 CONVERT_RAW_VALUE_NVARCHAR过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONVERT_RAW_VALUE_NVARCHAR过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.CONVERT_RAW_VALUE_NVARCHAR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e6152">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e6155">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e6160" headers="d960973e6152 ">
                                       <p><code class="codeph">rawval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e6160 d960973e6155 ">
                                       <p>列最小或最大数据类型特定输出参数的原始表示形式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e6168" headers="d960973e6152 ">
                                       <p><code class="codeph">resval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e6168 d960973e6155 ">
                                       <p>转换后的特定于类型的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66BC411E-F530-4560-B6B1-85D8C6659027__GUID-418CE5F2-AF24-4B6C-B613-2ECB2B13C2F9">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40" name="GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40"></a><h4 id="ARPLS-GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40" class="sect4"><span class="enumeration_section">165.7.9</span> CONVERT_RAW_VALUE_ROWID过程</h4>
                  <div>
                     <p>此过程转换最小值，最大值或直方图终点实际值的内部表示。</p>
                     <div class="section">
                        <p>由<code class="codeph">GET_COLUMN_STATS</code>或<code class="codeph">PREPARE_COLUMN_VALUES</code>填充的<code class="codeph">StatRec</code>结构的<code class="codeph">minval</code> ， <code class="codeph">maxval</code>和<code class="codeph">eavals</code>字段是输入的适当值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40__GUID-4EF01865-04A1-481D-94E2-F8C8507355C3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.CONVERT_RAW_VALUE_ROWID（rawval RAW，resval OUT ROWID）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40__GUID-E71CBFF2-D947-4AB1-96F1-1AD277C5E08B">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（convert_raw_value_rowid，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40__GUID-FEB72AF6-E26D-4CEE-8643-7E79FFF9491E">参数</p>
                        <div class="tblformal" id="GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40__GUID-12C85BDF-2144-4ADD-81C6-85AB766E8716">
                           <p class="titleintable">表165-12 CONVERT_RAW_VALUE_ROWID过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONVERT_RAW_VALUE_ROWID过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.CONVERT_RAW_VALUE_ROWID subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e6313">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e6316">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e6321" headers="d960973e6313 ">
                                       <p><code class="codeph">rawval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e6321 d960973e6316 ">
                                       <p>列最小或最大数据类型特定输出参数的原始表示形式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e6329" headers="d960973e6313 ">
                                       <p><code class="codeph">resval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e6329 d960973e6316 ">
                                       <p>转换后的特定于类型的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC8B6CEE-5EB9-43B6-808C-C871CE45BA40__GUID-01838A87-7672-4E48-A0A9-CB0FE3891E7F">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB" name="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB"></a><h4 id="ARPLS-GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB" class="sect4"><span class="enumeration_section">165.7.10</span> COPY_TABLE_STATS程序</h4>
                  <div>
                     <p>此过程复制所有依赖对象（如列和本地索引）的统计信息。如果源的统计信息不可用，则不会复制任何内容。它可任选地缩放所述统计资料（例如数量<code class="codeph">blks</code>基于给定，或行数） <code class="codeph">scale_factor</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB__GUID-24819F9E-2D61-491C-846C-AA8B5D9FA086">句法</p><pre class="pre codeblock"><code>DBMS_STATS.COPY_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，srcpartname VARCHAR2，dstpartname VARCHAR2，scale_factor VARCHAR2 DEFAULT 1，标记NUMBER DEFAULT NULL，强制BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB__GUID-8433C338-0385-4CF3-9860-5F3C298694F7">参数</p>
                        <div class="tblformal" id="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB__GUID-D592F4E5-84AD-431F-A5FE-A3CB01049386">
                           <p class="titleintable">表165-13 COPY_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COPY_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.COPY_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e6453">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e6456">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6461" headers="d960973e6453 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6461 d960973e6456 ">
                                       <p>源和目标[sub]分区表的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6469" headers="d960973e6453 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6469 d960973e6456 ">
                                       <p>源和目标[sub]分区的表名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6477" headers="d960973e6453 ">
                                       <p><code class="codeph">srcpartname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6477 d960973e6456 ">
                                       <p>源[sub]分区</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6485" headers="d960973e6453 ">
                                       <p><code class="codeph">dtspartname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6485 d960973e6456 ">
                                       <p>目的地[sub]分区</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6493" headers="d960973e6453 ">
                                       <p><code class="codeph">比例因子</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6493 d960973e6456 ">
                                       <p>缩放因子以在<code class="codeph">dstpartname</code>缩放<code class="codeph">nblks</code> ， <code class="codeph">nrows</code>等</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6509" headers="d960973e6453 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6509 d960973e6456 ">
                                       <p>对于内部Oracle使用（应保留为<code class="codeph">NULL</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6520" headers="d960973e6453 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6520 d960973e6456 ">
                                       <p>当此参数的值为<code class="codeph">TRUE</code>即使目标[sub]分区被锁定，也会复制统计信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB__GUID-CEE24FB1-F78A-4F62-BA27-C799F99D2B95">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB__GUID-20D659FD-1D55-4B04-9EEF-92D90E6908CA">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：无效的[sub]分区名称</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A866E81A-2E60-43D5-8EF9-C6E33499EFBB__GUID-C6B40AB7-9FFC-466B-B784-B9C85D812B21">使用说明</p>
                        <p>此过程更新第一个分区列的目标分区的最小值和最大值，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果分区类型是<code class="codeph">HASH</code> ，则目标分区的最小值和最大值与源分区的最小值和最大值相同。
                              </p>
                           </li>
                           <li>
                              <p>如果分区类型是<code class="codeph">LIST</code> ，则行为取决于目标分区的设置：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果目标分区是<code class="codeph">NOT DEFAULT</code>分区，则以下语句为真：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>目标分区的最小值设置为描述目标分区的值列表的最小值。</p>
                                       </li>
                                       <li>
                                          <p>目标分区的最大值设置为描述目标分区的值列表的最大值。</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>或者，如果目标分区是<code class="codeph">DEFAULT</code>分区，则以下语句为真：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>目标分区的最小值设置为源分区的最小值。</p>
                                       </li>
                                       <li>
                                          <p>目标分区的最大值设置为源分区的最大值。</p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>如果分区类型为<code class="codeph">RANGE</code> ，则以下陈述为真：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>除非目标分区是第一个分区，否则目标分区的最小值将设置为上一个分区的上限。对于第一个分区，最小值设置为目标分区的上限。</p>
                                 </li>
                                 <li>
                                    <p>除非目标分区的上限为<code class="codeph">MAXVALUE</code> ，否则目标分区的最大值将设置为目标分区的上限，在这种情况下，目标分区的最大值将设置为前一个分区的上限。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果源分区列的最小值等于其最大值，并且如果它们都等于源分区的下限，并且它具有单个不同的值，则目标分区列的最小值和最大值都设置为目标分区的下限。这是针对所有分区列完成的。</p>
                                    <p>如果上述条件不适用，则第二个和后续分区列将更新如下。目标分区列的最大值设置为目标分区上限和源分区列的最大值中的较大值，但有一个例外。如果目标分区是<code class="codeph">D</code>和其前面的分区是<code class="codeph">D-1</code>和键列进行调整时<code class="codeph">Cn</code> ，为最大值<code class="codeph">Cn</code>被设定为上限的<code class="codeph">D</code> （忽略源分区列的最大值），条件是前一个键列<code class="codeph">Cn-1</code>的上限在分区<code class="codeph">D</code>和<code class="codeph">D-1</code>中是相同的。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>如果修改后的列的最小值和最大值不同，并且如果不同值的数量小于1，则不同值的数量将更新为2。</p>
                           </li>
                           <li>
                              <p>如果源或目标是复合分区表的分区，则此过程不会复制基础子分区的统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D" name="GUID-FD355A10-E6FA-47A3-9228-A269905A156D"></a><h4 id="ARPLS-GUID-FD355A10-E6FA-47A3-9228-A269905A156D" class="sect4"><span class="enumeration_section">165.7.11</span> CREATE_ADVISOR_TASK函数</h4>
                  <div>
                     <p>此函数为Optimizer Statistics Advisor创建顾问任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__SYNTAX-1326508E">句法</p><pre class="pre codeblock"><code>DBMS_STATS.CREATE_ADVISOR_TASK（task_name IN VARCHAR2：= NULL）RETURN VARCHAR2;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__GUID-FF8E1695-83E7-4A61-9BE4-DE3473A1736F">参数</p>
                        <div class="tblformal" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__GUID-E24AE061-935C-408B-97D2-57ECAD912F7D">
                           <p class="titleintable">表165-14 CREATE_ADVISOR_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_ADVISOR_TASK函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.CREATE_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e6772">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e6775">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e6780" headers="d960973e6772 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e6780 d960973e6775 ">
                                       <p>任务名称。如果已指定任务名称，则该函数使用指定的任务名称。否则，该函数会自动生成新的任务名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__GUID-AEF36516-ACB1-473B-B5C2-26DDEE9145C2">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__GUID-9648AEDC-CB58-42AD-A721-1B5360FB4513">返回值</p>
                        <p>此函数返回Optimizer Statistics Advisor任务的唯一名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__GUID-A91BC709-2268-41EF-9A55-C8055B24D501">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：不支持权限不足/创建扩展</p>
                        <p><code class="codeph">ORA-20001</code> ：处理扩展时出错</p>
                        <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__GUID-E784869C-02EF-40FC-BB0C-106922E15FC9">
                        <p class="titleinexample">示例165-6创建和执行任务</p>
                        <p>此示例创建名为<code class="codeph">my_task</code>的Optimizer Statistics Advisor任务，然后执行它。
                        </p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（128）：='my_task'; BEGIN  - 创建任务v_tname：= DBMS_STATS.CREATE_ADVISOR_TASK（v_tname）; - 执行任务v_tname：= DBMS_STATS.EXECUTE_ADVISOR_TASK（v_tname）;结束;</code></pre><div class="infoboxnote" id="GUID-FD355A10-E6FA-47A3-9228-A269905A156D__ALSOP">
                           <p class="notep1">注意：</p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F" name="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F"></a><h4 id="ARPLS-GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F" class="sect4"><span class="enumeration_section">165.7.12</span> CREATE_EXTENDED_STATS函数</h4>
                  <div>
                     <p>此函数在系统中为用户指定的列组或表中的表达式创建列统计信息条目。</p>
                     <div class="section">当用户启动或自动统计信息收集作业收集表的统计信息时，数据库会收集此扩展的统计信息。此类<span class="italic">扩展的统计信息</span>称为<span class="italic">扩展统计信息</span> 。此函数返回此新创建的扩展条目的名称。
                        <p>此函数的第二种形式基于<a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE过程</a>记录的列组使用情况创建统计信息扩展。此函数返回已创建的扩展的报告。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F__GUID-48B8A66C-B43B-42A9-BC2B-B0F5C4055651">句法</p><pre class="pre codeblock"><code>DBMS_STATS.CREATE_EXTENDED_STATS（ownname VARCHAR2，tabname VARCHAR2，extension VARCHAR2）RETURN VARCHAR2; DBMS_STATS.CREATE_EXTENDED_STATS（ownname VARCHAR2，tabname VARCHAR2）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F__GUID-4F323469-9026-47CD-AB60-1A1895CD10B1">参数</p>
                        <div class="tblformal" id="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F__GUID-08A7615C-05FB-4318-9CBA-DF5081316AE2">
                           <p class="titleintable">表165-15 CREATE_EXTENDED_STATS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_EXTENDED_STATS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.CREATE_EXTENDED_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e6958">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e6961">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e6966" headers="d960973e6958 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e6966 d960973e6961 ">
                                       <p>表的所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e6974" headers="d960973e6958 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e6974 d960973e6961 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e6982" headers="d960973e6958 ">
                                       <p><code class="codeph">延期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e6982 d960973e6961 ">
                                       <p>可以是列组也可以是表达式。假设指定的表有两列<code class="codeph">c1</code> ， <code class="codeph">c2</code> 。示例列组是“（ <code class="codeph">c1</code> ， <code class="codeph">c2</code> ）”。示例表达式是“（ <code class="codeph">c1</code> + <code class="codeph">c2</code> ）”。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F__GUID-9648AEDC-CB58-42AD-A721-1B5360FB4513">返回值</p>
                        <p>此函数返回此新创建的扩展条目的名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F__GUID-A91BC709-2268-41EF-9A55-C8055B24D501">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：不支持权限不足/创建扩展</p>
                        <p><code class="codeph">ORA-20001</code> ：处理扩展时出错</p>
                        <p><code class="codeph">ORA-20007</code> ：扩展已经存在</p>
                        <p><code class="codeph">ORA-20008</code> ：达到了扩展数量的上限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F__GUID-3D73E3EF-82F0-491B-A08B-50F2272A2EF3">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                        <p>扩展有九个限制：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>扩展名不能包含虚拟列。</p>
                           </li>
                           <li>
                              <p>无法在<code class="codeph">SYS.</code>拥有的表上创建扩展<code class="codeph">SYS.</code></p>
                           </li>
                           <li>
                              <p>无法在群集表，索引组织表，临时表或外部表上创建扩展。</p>
                           </li>
                           <li>
                              <p>表中的扩展总数不能大于（表中的非虚拟列数的20％，10％）。</p>
                           </li>
                           <li>
                              <p>列组中的列数必须在[2,32]范围内。</p>
                           </li>
                           <li>
                              <p>列不能在列组中出现多次。</p>
                           </li>
                           <li>
                              <p>列组不能包含表达式。</p>
                           </li>
                           <li>
                              <p>表达式必须至少包含一列。</p>
                           </li>
                           <li>
                              <p>表达式不能包含子查询。</p>
                           </li>
                           <li>
                              <p><code class="codeph">COMPATIBLE</code>参数必须为11.0.0.0.0或更高版本。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF" name="GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF"></a><h4 id="ARPLS-GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF" class="sect4"><span class="enumeration_section">165.7.13</span> CREATE_STAT_TABLE过程</h4>
                  <div>
                     <p>此过程在<code class="codeph">ownname</code>的架构中创建一个名为<code class="codeph">stattab</code>的表，该表能够保存统计信息。组成此表的列和类型不相关，因为它应该仅通过此包中的过程访问。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF__GUID-9738AC2C-AD5C-4EAA-B1FE-E64E313488E5">句法</p><pre class="pre codeblock"><code>DBMS_STATS.CREATE_STAT_TABLE（ownname VARCHAR2，stattab VARCHAR2，tblspace VARCHAR2 DEFAULT NULL，global_temporary BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF__GUID-1098A0CA-50FD-41AD-9EAF-F10D22AD768C">参数</p>
                        <div class="tblformal" id="GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF__GUID-767526A2-F46E-4B8F-A182-32B8F13D6A43">
                           <p class="titleintable">表165-16 CREATE_STAT_TABLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_STAT_TABLE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.CREATE_STAT_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e7199">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e7202">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7207" headers="d960973e7199 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e7207 d960973e7202 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7215" headers="d960973e7199 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e7215 d960973e7202 ">
                                       <p>要创建的表的名称。当用户不想直接修改字典统计信息时，此值应作为<code class="codeph">stattab</code>参数传递给其他过程。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7226" headers="d960973e7199 ">
                                       <p><code class="codeph">的tblspace</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e7226 d960973e7202 ">
                                       <p>用于创建统计信息表的表空间。如果未指定，则在用户的默认表空间中创建它们。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7234" headers="d960973e7199 ">
                                       <p><code class="codeph">global_temporary</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e7234 d960973e7202 ">
                                       <p>是否应将表创建为全局临时表</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF__GUID-179E05C0-ABA5-48CD-95C3-40650E7674A6">安全模型</p>
                        <p>要调用此过程，您需要在指定模式中创建表所需的任何特权。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A323DD4F-1A05-4247-BEC6-1A7103660DAF__GUID-897F9557-028B-4C41-8B39-2A99D99B67CA">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：表已存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：表空间不存在</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21" name="GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21"></a><h4 id="ARPLS-GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21" class="sect4"><span class="enumeration_section">165.7.14</span> DELETE_COLUMN_STATS过程</h4>
                  <div>
                     <p>此过程将删除与列相关的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21__GUID-ECD26AFC-136C-4DC3-B1D5-D614C76C7D51">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_COLUMN_STATS（ownname VARCHAR2，tabname VARCHAR2，colname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，cascade_parts BOOLEAN DEFAULT TRUE，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）） ，强制BOOLEAN DEFAULT FALSE，col_stat_type VARCHAR2 DEFAULT'ALL'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21__GUID-C1DE98AA-7899-4CEF-AC0F-E56396EED690">参数</p>
                        <div class="tblformal" id="GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21__GUID-446837F5-3E46-412A-8077-796352DFEDB1">
                           <p class="titleintable">表165-17 DELETE_COLUMN_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_COLUMN_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_COLUMN_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d960973e7364">参数</th>
                                    <th align="left" valign="bottom" id="d960973e7367">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7372" headers="d960973e7364 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7372 d960973e7367 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7380" headers="d960973e7364 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7380 d960973e7367 ">
                                       <p>此列所属的表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7388" headers="d960973e7364 ">
                                       <p><code class="codeph">colname的</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7388 d960973e7367 ">
                                       <p>列或扩展名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7396" headers="d960973e7364 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7396 d960973e7367 ">
                                       <p>要删除统计信息的表分区的名称。如果表已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则删除全局列统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7410" headers="d960973e7364 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7410 d960973e7367 ">
                                       <p>用户统计信息表标识符，用于描述从哪里删除统计信息如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则直接从字典中删除统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7424" headers="d960973e7364 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7424 d960973e7367 ">
                                       <p>标识符（可选）与<code class="codeph">stattab</code>这些统计信息相关联（仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时才相关）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7441" headers="d960973e7364 ">
                                       <p><code class="codeph">cascade_parts</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7441 d960973e7367 ">
                                       <p>如果表已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则将此设置为true会导致删除所有基础分区的此列的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7455" headers="d960973e7364 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7455 d960973e7367 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7469" headers="d960973e7364 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7469 d960973e7367 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7524" headers="d960973e7364 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7524 d960973e7367 ">
                                       <p>当此参数的值为<code class="codeph">TRUE</code> ，即使已锁定，也会删除列统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e7535" headers="d960973e7364 ">
                                       <p><code class="codeph">col_stat_type</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e7535 d960973e7367 ">
                                       <p>要删除的列统计信息的类型。此参数采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">HISTOGRAM</code> - 仅删除列直方图</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> - 删除基本列统计信息和直方图</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21__GUID-0F609B44-FFD7-4464-8BCB-56C07E1FEDE2">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC7EA349-B3D0-472A-B3F2-BB4DF4BACC21__GUID-439BEA1F-A836-4577-A361-B35A1A334D89">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F" name="GUID-6429FC41-52D7-4541-9242-2AC015266D6F"></a><h4 id="ARPLS-GUID-6429FC41-52D7-4541-9242-2AC015266D6F" class="sect4"><span class="enumeration_section">165.7.15</span> DELETE_DATABASE_PREFS过程</h4>
                  <div>
                     <p>此过程将删除为所有非系统表设置的统计信息首选项。您可以通过为<code class="codeph">add_sys</code>参数传递<code class="codeph">TRUE</code>来包含系统表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-6E40A6A2-74CB-4F1B-A1E3-BFFC2AA6CE1B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_DATABASE_PREFS（pname IN VARCHAR2，add_sys IN BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-3B198A0B-2426-4363-8262-18468158930D">参数</p>
                        <div class="tblformal" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-E247263C-1E90-4F3B-BF9C-0CF41AE3A6F3">
                           <p class="titleintable">表165-18 DELETE_DATABASE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_DATABASE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_DATABASE_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e7703">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e7706">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e7711" headers="d960973e7703 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e7711 d960973e7706 ">
                                       <p>偏好名称。可以删除以下首选项的现有值，并使用默认首选项值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STAT_CATEGORY</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e7793" headers="d960973e7703 ">
                                       <p><code class="codeph">add_sys</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e7793 d960973e7706 ">
                                       <p>确定是否包含<code class="codeph">SYS</code>表。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-C96767AF-5E08-4BC8-AAFB-762DBBACE714">
                           <p class="titleintable">表165-19统计信息首选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="统计偏好" border="1" summary="This table describes the database statistics preferences that you can delete." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e7813">偏爱</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e7815">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7819" headers="d960973e7813 ">
                                       <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7819 d960973e7815 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以指定以下首选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。当现有性能可接受时，此方法很有吸引力，并且您不希望产生重新格式化旧内容的性能成本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。这是最保守的选择。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。与动态采样相比，HyperLogLog算法使用随机化技术。HyperLogLog优于自适应采样的优点是：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>新算法的准确性与原算法类似。</p>
                                                </li>
                                                <li>
                                                   <p>所需的内存显着降低，这通常会导致概要大小的大幅减少。</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7858" headers="d960973e7813 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7858 d960973e7815 ">
                                       <p>在收集数据库统计信息时控制自动创建扩展。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 如果适用，SQL计划指令可以根据工作负载中谓词中列的使用情况触发列组统计信息的创建。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 数据库不会自动创建列组统计信息。只有在执行<code class="codeph">CREATE_EXTENDED_STATS</code>函数时，或者在<code class="codeph">DBMS_STATS</code>的<code class="codeph">METHOD_OPT</code>子句中明确指定了扩展统计信息时，数据库才会创建它们。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7888" headers="d960973e7813 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7888 d960973e7815 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7896" headers="d960973e7813 ">
                                       <p><code class="codeph">学位</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7896 d960973e7815 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7905" headers="d960973e7813 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7905 d960973e7815 ">
                                       <p>确定要估计的行的百分比。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7913" headers="d960973e7813 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7913 d960973e7815 ">
                                       <p>控制是否应将为全局临时表收集的统计信息存储为共享统计信息或会话统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7921" headers="d960973e7813 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7921 d960973e7815 ">
                                       <p>确定要收集的统计信息的粒度。该值仅与分区表相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7929" headers="d960973e7813 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7929 d960973e7815 ">
                                       <p>确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7937" headers="d960973e7813 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7937 d960973e7815 ">
                                       <p>控制当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时要收集的<code class="codeph">INCREMENTAL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e7951" headers="d960973e7813 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e7951 d960973e7815 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT,USE_LOCKED_STATS,ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>允许共存采样概要和HyperLogLog概要共存。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）;</code></pre><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8061" headers="d960973e7813 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8061 d960973e7815 ">
                                       <p>控制列统计信息收集和直方图创建。在全局，模式，数据库或字典级别设置首选项时，仅允许<code class="codeph">'FOR ALL'</code>语法。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8073" headers="d960973e7813 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8073 d960973e7815 ">
                                       <p>控制正在为其收集统计信息的表的从属游标的失效。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8081" headers="d960973e7813 ">
                                       <p><code class="codeph">OPTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8081 d960973e7815 ">
                                       <p>确定<a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS过程中</a>使用的<code class="codeph">options</code>参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8098" headers="d960973e7813 ">
                                       <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8098 d960973e7815 ">
                                       <p>确定是否使用该参数的首选项值覆盖参数的输入值以进行统计操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略输入参数值，并使用相应首选项的值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -  Obeys输入参数值。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>指定此首选项不会更改table，global和default的优先顺序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8119" headers="d960973e7813 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8119 d960973e7815 ">
                                       <p>确定数据库是否在收集作业完成后发布新收集的统计信息。</p>
                                       <p>您可以收集统计信息而无需立即发布。此技术使您可以在发布之前测试新统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8129" headers="d960973e7813 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8129 d960973e7815 ">
                                       <p>确定表中的行的百分比，在该表上的统计信息被视为过时并且应该被恢复之前必须更改。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8137" headers="d960973e7813 ">
                                       <p><code class="codeph">STAT_CATEGORY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8137 d960973e7815 ">
                                       <p>指定要导入或导出的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>值<code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e8161" headers="d960973e7813 ">
                                       <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e8161 d960973e7815 ">
                                       <p>指定在计算索引聚类因子时假定缓存在缓冲区高速缓存中的平均块数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-29774335-5A03-4B53-92D3-26D333760620">安全模型</p>
                        <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>角色或同时具有<code class="codeph">ANALYZE ANY DICTIONARY</code>和<code class="codeph">ANALYZE ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-A1D1B184-6A2C-46E0-83E1-DEFDC1FFF1FA">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-B030F280-0736-43E4-A462-1D6B46A9F1A2">使用说明</p>
                        <p>所有<code class="codeph">pname</code>参数都是<code class="codeph">VARCHAR2</code>类型，并且值用引号括起来，即使它们代表数字也是如此。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-76B3B2BB-AE6D-4035-A24E-D080551A21AF">
                        <p class="titleinexample">例165-7例子</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_DATABASE_PREFS（'CASCADE'，FALSE）; DBMS_STATS.DELETE_DATABASE_PREFS（'ESTIMATE_PERCENT'，TRUE）;</code></pre><div class="infoboxnotealso" id="GUID-6429FC41-52D7-4541-9242-2AC015266D6F__GUID-0B691DDC-B811-4B09-975D-BB6915E43C5F">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/options-for-optimizer-statistics-gathering.html#GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229" name="GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229"></a><h4 id="ARPLS-GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229" class="sect4"><span class="enumeration_section">165.7.16</span> DELETE_DATABASE_STATS过程</h4>
                  <div>
                     <p>此过程将删除数据库中所有表的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229__GUID-9DDB1A46-8AD1-40A2-BBC7-99A063703B54">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_DATABASE_STATS（stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE，stat_category VARCHAR2 DEFAULT DEFAULT_DEL_STAT_CATEGORY）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229__GUID-0D897804-4545-4A87-988B-588493922A3C">参数</p>
                        <div class="tblformal" id="GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229__GUID-39A56913-95C5-4379-A8A3-C9D5E9890B50">
                           <p class="titleintable">表165-20 DELETE_DATABASE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_DATABASE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_DATABASE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d960973e8323">参数</th>
                                    <th align="left" valign="bottom" id="d960973e8326">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8331" headers="d960973e8323 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8331 d960973e8326 ">
                                       <p>用户统计信息表标识符，用于描述从哪里删除统计信息如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则直接在字典中删除统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8345" headers="d960973e8323 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8345 d960973e8326 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）（仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时才相关）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8362" headers="d960973e8323 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8362 d960973e8326 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8373" headers="d960973e8323 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8373 d960973e8326 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8428" headers="d960973e8323 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8428 d960973e8326 ">
                                       <p>当此参数的值为<code class="codeph">TRUE</code> ，即使它们被锁定，也会删除数据库中表的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8439" headers="d960973e8323 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8439 d960973e8326 ">
                                       <p>统计删除。它接受以逗号分隔的多个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>默认为<code class="codeph">'OBJECT_STATS, SYNOPSES'</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229__GUID-C75CCE59-09AF-459C-9F5F-F82A19A8D580">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8BBCB28-800A-463E-8C15-0D0EA68A9229__GUID-2670EE98-8149-4B20-A9AF-7E3B2070556C">使用说明</p>
                        <p>要运行此过程，您需要具有<code class="codeph">SYSDBA</code>角色或同时具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244" name="GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244"></a><h4 id="ARPLS-GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244" class="sect4"><span class="enumeration_section">165.7.17</span> DELETE_DICTIONARY_STATS程序</h4>
                  <div>
                     <p>此过程将删除所有字典模式（' <code class="codeph">SYS</code> '，' <code class="codeph">SYSTEM</code> '和RDBMS组件模式）的统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244__GUID-E5A3A7E3-D8C6-4548-B3FB-36CC9DF49049">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_DICTIONARY_STATS（stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），stattype VARCHAR2 DEFAULT'ALL'，强制BOOLEAN DEFAULT FALSE，stat_category VARCHAR2 DEFAULT DEFAULT_DEL_STAT_CATEGORY）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244__GUID-5D93A473-4A54-4316-BB4F-EE884E88AC4A">参数</p>
                        <div class="tblformal" id="GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244__GUID-0C0EF5A4-B7E9-4DE0-A4A4-091F1C7FF377">
                           <p class="titleintable">表165-21 DELETE_DICTIONARY_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_DICTIONARY_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_DICTIONARY_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d960973e8605">参数</th>
                                    <th align="left" valign="bottom" id="d960973e8608">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8613" headers="d960973e8605 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8613 d960973e8608 ">
                                       <p>用户统计信息表标识符，用于描述从哪里删除统计信息如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则直接在字典中删除统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8627" headers="d960973e8605 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8627 d960973e8608 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）（仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时才相关）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8644" headers="d960973e8605 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8644 d960973e8608 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8655" headers="d960973e8605 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8655 d960973e8608 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8709" headers="d960973e8605 ">
                                       <p><code class="codeph">StatType标识</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8709 d960973e8608 ">
                                       <p>统计类型</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8717" headers="d960973e8605 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8717 d960973e8608 ">
                                       <p>当此参数的值为<code class="codeph">TRUE</code> ，即使它们被锁定，也会删除数据库中表的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e8728" headers="d960973e8605 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e8728 d960973e8608 ">
                                       <p>统计删除。它接受以逗号分隔的多个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>默认为<code class="codeph">'OBJECT_STATS, SYNOPSES'</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244__GUID-2C56AA52-0EF5-4C00-A60B-0F7F422163C1">使用说明</p>
                        <p>您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权才能执行此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E6C48F5-D9A3-40F2-8E12-915E9EA8F244__GUID-D7BEB23B-8C8A-4567-929D-3384AF715778">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106" name="GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106"></a><h4 id="ARPLS-GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106" class="sect4"><span class="enumeration_section">165.7.18</span> DELETE_FIXED_OBJECTS_STATS程序</h4>
                  <div>
                     <p>此过程删除所有固定表的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106__GUID-00BD0581-96D7-4173-B21C-6EC897D3AA05">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_FIXED_OBJECTS_STATS（stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106__GUID-BA88B18B-66FA-4342-B5AB-F994B940D71C">参数</p>
                        <div class="tblformal" id="GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106__GUID-ADFB3392-D2FD-4978-8187-029174EB962D">
                           <p class="titleintable">表165-22 DELETE_FIXED_OBJECTS_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_FIXED_OBJECTS_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_FIXED_OBJECTS_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e8891">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e8894">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e8899" headers="d960973e8891 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e8899 d960973e8894 ">
                                       <p>用户统计信息表标识符，用于描述从何处删除当前统计信息。如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则将直接在字典中删除统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e8913" headers="d960973e8891 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e8913 d960973e8894 ">
                                       <p>要在<code class="codeph">stattab</code>中与这些统计信息关联的（可选）标识符。这仅适用于<code class="codeph">stattab</code>不为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e8930" headers="d960973e8891 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e8930 d960973e8894 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e8941" headers="d960973e8891 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e8941 d960973e8894 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e8995" headers="d960973e8891 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e8995 d960973e8894 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则忽略对象的统计锁定并删除统计信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106__GUID-52A73F32-912E-4E2E-96AE-ABFD0895EE7B">使用说明</p>
                        <p>您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>系统特权才能执行此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8E6FEBC-16A8-40DE-A76C-0445D3B28106__GUID-02E1A54B-EA83-4720-ACC8-D1C3A077EDDA">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6" name="GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6"></a><h4 id="ARPLS-GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6" class="sect4"><span class="enumeration_section">165.7.19</span> DELETE_INDEX_STATS过程</h4>
                  <div>
                     <p>此过程将删除与索引相关的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6__GUID-464C0C5C-3727-41DC-9349-5FC7D0300E2E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，cascade_parts BOOLEAN DEFAULT TRUE，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），stattype VARCHAR2默认'全部'，强制布尔的默认错误）; stat_category VARCHAR2 DEFAULT DEFAULT_DEL_STAT_CATEGORY）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6__GUID-6BA321B7-885F-4882-A394-853A38D58B7C">参数</p>
                        <div class="tblformal" id="GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6__GUID-4990445D-03B6-4757-8F36-C8FF4023C571">
                           <p class="titleintable">表165-23 DELETE_INDEX_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_INDEX_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_INDEX_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e9138">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e9141">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9146" headers="d960973e9138 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9146 d960973e9141 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9154" headers="d960973e9138 ">
                                       <p><code class="codeph">indname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9154 d960973e9141 ">
                                       <p>索引的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9162" headers="d960973e9138 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9162 d960973e9141 ">
                                       <p>要删除统计信息的索引分区的名称。如果索引已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则在全局级别删除索引统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9176" headers="d960973e9138 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9176 d960973e9141 ">
                                       <p>用户统计信息表标识符，用于描述从哪里删除统计信息如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则直接从字典中删除统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9190" headers="d960973e9138 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9190 d960973e9141 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）（仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时才相关）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9207" headers="d960973e9138 ">
                                       <p><code class="codeph">cascade_parts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9207 d960973e9141 ">
                                       <p>如果索引已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则将此设置为<code class="codeph">TRUE</code>会导致删除所有基础分区的此索引的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9224" headers="d960973e9138 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9224 d960973e9141 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9238" headers="d960973e9138 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9238 d960973e9141 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9293" headers="d960973e9138 ">
                                       <p><code class="codeph">StatType标识</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9293 d960973e9141 ">
                                       <p>统计类型</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9301" headers="d960973e9138 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9301 d960973e9141 ">
                                       <p>当此参数的值为<code class="codeph">TRUE</code> ，即使已锁定，也会删除索引统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9312" headers="d960973e9138 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9312 d960973e9141 ">
                                       <p>统计删除。它接受以逗号分隔的多个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>默认为<code class="codeph">'OBJECT_STATS, SYNOPSES'</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6__GUID-A55F902B-0A93-43B3-8454-8C9F263F1462">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7136B3A7-0C74-4C81-A6F0-E78422DEF8D6__GUID-D0386BE6-4E8A-4D20-8372-50CE2E4F5486">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0" name="GUID-7C22A990-4A36-402E-8367-352400D8BDC0"></a><h4 id="ARPLS-GUID-7C22A990-4A36-402E-8367-352400D8BDC0" class="sect4"><span class="enumeration_section">165.7.20</span> DELETE_PENDING_STATS程序</h4>
                  <div>
                     <p>此过程用于删除已收集但尚未发布的待处理统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0__GUID-1DA4AA09-20FD-45BA-856F-B0B4EAD79DB7">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_PENDING_STATS（拥有IN VARCHAR2 DEFAULT USER，tabname IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0__GUID-568C6E7F-93D4-4E83-B8D3-690ED4EDB7C3">参数</p>
                        <div class="tblformal" id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0__GUID-FBB8715E-9721-441B-B83D-2700E5684A5C">
                           <p class="titleintable">表165-24 DELETE_PENDING_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_PENDING_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_PENDING_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e9479">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e9482">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e9487" headers="d960973e9479 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e9487 d960973e9482 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e9495" headers="d960973e9479 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e9495 d960973e9482 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0__GUID-4257FD06-1E94-4050-8E2A-DCE5ECB6F354">安全模型</p>
                        <p>要运行此过程，您需要具有相同的权限，以收集将受此过程影响的表的统计信息。默认所有者是运行该过程的用户。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0__GUID-30BC425B-A700-4E96-8B26-341288150A74">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0__GUID-3507E482-E337-4C1A-8F2F-14C92B5B5B7D">使用说明</p>
                        <p>如果参数<code class="codeph">tabname</code>为<code class="codeph">NULL</code> delete将应用于指定模式的所有表。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C22A990-4A36-402E-8367-352400D8BDC0__GUID-90CC81A1-CEF6-4074-AAB2-6E0118FA1822">例子</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_PENDING_STATS（'SH'，'SALES'）;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF" name="GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF"></a><h4 id="ARPLS-GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF" class="sect4"><span class="enumeration_section">165.7.21</span> DELETE_PROCESSING_RATE过程</h4>
                  <div>
                     <p>此过程将删除给定统计信息源的处理速率。如果未指定源，则会删除所有源的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF__GUID-E74B6EA3-4760-4820-BDF6-6202B5738986">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_PROCESSING_RATE（stat_source IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF__GUID-78DAEE83-F4CF-43B8-8C55-64F7B697695B">参数</p>
                        <div class="tblformal" id="GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF__GUID-C39D9028-28DE-47A6-9F43-13E6B3BDC9BA">
                           <p class="titleintable">表165-25 DELETE_PROCESSING_RATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_PROCESSING_RATE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_PROCESSING_RATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e9636">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e9639">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e9644" headers="d960973e9636 ">
                                       <p><code class="codeph">stat_source</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e9644 d960973e9639 ">
                                       <p>处理率来源：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'MANUAL'</code> ：用户使用<a href="DBMS_STATS.html#GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC" title="此过程设置给定操作的处理速率值。">SET_PROCESSING_RATE过程</a>手动设置的值</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'CALIBRATION'</code> ：校准<a href="DBMS_STATS.html#GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41" title="此过程开始收集以分钟定义的间隔后结束的处理速率的工作。">GATHER_PROCESSING_RATE过程</a>收集的值由用户明确运行</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'FEEDBACK'</code> ：通过时间反馈获得的值</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF__GUID-F0374FF6-6252-499B-9EF0-78EFA612542A">使用说明</p>
                        <p>您需要<code class="codeph">OPTIMIZER_PROCESSING_RATE</code>角色才能运行此过程，因为<code class="codeph">AUTO</code> <code class="codeph">DOP</code>使用处理速率来确定SQL语句的最佳并行度。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A5D225F-30F1-4F4D-8698-0D96EBB432CF__GUID-D6CF2634-F25E-462A-BFBA-B92A71332743">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5" name="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5"></a><h4 id="ARPLS-GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5" class="sect4"><span class="enumeration_section">165.7.22</span> DELETE_SCHEMA_PREFS过程</h4>
                  <div>
                     <p>此过程用于删除指定所有者名称所拥有的所有表的统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-57262087-816A-4A41-96E8-63A086136377">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_SCHEMA_PREFS（拥有IN VARCHAR2，pname IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-1C02F3F3-881F-43FB-A83E-DA7D9DF8CEC7">参数</p>
                        <div class="tblformal" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-39C7D202-A320-4CF6-9C91-8BA86ABFF32A">
                           <p class="titleintable">表165-26 DELETE_SCHEMA_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_SCHEMA_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_SCHEMA_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e9814">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e9817">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e9822" headers="d960973e9814 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e9822 d960973e9817 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e9830" headers="d960973e9814 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e9830 d960973e9817 ">
                                       <p>偏好名称。可以删除以下首选项的现有值，并使用默认首选项值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-7F42E9C1-21E2-43B8-8809-571BFCA5C8D2">
                           <p class="titleintable">表165-27统计信息首选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="统计偏好" border="1" summary="This table describes the statistics preferences that you can delete" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e9917">偏爱</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e9919">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e9923" headers="d960973e9917 ">
                                       <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e9923 d960973e9919 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。您可以将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e9955" headers="d960973e9917 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e9955 d960973e9919 ">
                                       <p>在收集数据库统计信息时控制自动创建扩展。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 如果适用，SQL计划指令可以根据工作负载中谓词中列的使用情况触发列组统计信息的创建。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 数据库不会自动创建列组统计信息。只有在执行<code class="codeph">CREATE_EXTENDED_STATS</code>函数时，或者在<code class="codeph">DBMS_STATS</code>的<code class="codeph">METHOD_OPT</code>子句中明确指定了扩展统计信息时，数据库才会创建它们。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e9985" headers="d960973e9917 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e9985 d960973e9919 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e9993" headers="d960973e9917 ">
                                       <p><code class="codeph">COORDINATOR_TRIGGER_SHARD</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e9993 d960973e9919 ">
                                       <p>每个分片的用户使用此首选项来确定是否允许分片协调器与每个分片中的统计信息收集进行交互。</p>
                                       <p>在分片协调器中收集统计信息时，如果其中一个分片中的统计信息不是最新的，则分片协调器将尝试触发该分片中的统计信息收集。通过使用此首选项，用户可以从分片协调器执行或忽略该命令。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code>如果本地分片上的统计信息是陈旧的，则允许分片协调器触发本地分片中分片表上的统计信息收集。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code>忽略从分片协调器触发的统计信息收集命令。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10021" headers="d960973e9917 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10021 d960973e9919 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10029" headers="d960973e9917 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10029 d960973e9919 ">
                                       <p>该值确定要估计的行的百分比。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10037" headers="d960973e9917 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10037 d960973e9919 ">
                                       <p>控制列统计信息收集和直方图创建。在全局，模式，数据库或字典级别设置首选项时，仅允许<code class="codeph">FOR ALL</code>语法。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10048" headers="d960973e9917 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10048 d960973e9919 ">
                                       <p>该值控制正在收集统计信息的表的从属游标的无效。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10056" headers="d960973e9917 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10056 d960973e9919 ">
                                       <p>该值确定要收集的统计信息的粒度（仅在表被分区时才相关）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10064" headers="d960973e9917 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10064 d960973e9919 ">
                                       <p>此值确定收集作业完成后是否将发布新收集的统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10072" headers="d960973e9917 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10072 d960973e9919 ">
                                       <p>此值确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10081" headers="d960973e9917 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10081 d960973e9919 ">
                                       <p>当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时，此值控制要收集的概要。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10095" headers="d960973e9917 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10095 d960973e9919 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT,USE_LOCKED_STATS,ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>允许共存采样概要和HyperLogLog概要共存。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）;</code></pre><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10205" headers="d960973e9917 ">
                                       <p><code class="codeph">ROOT_TRIGGER_PDB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10205 d960973e9919 ">
                                       <p>应用程序PDB用户使用此首选项来确定是否允许应用程序根与PDB中的静态收集进行交互。</p>
                                       <p>在应用程序根目录中的元数据链接表的统计信息收集期间，如果PDB中的统计信息处于失效状态，则应用程序根将触发特定PDB的统计信息收集。使用此首选项，用户可以执行或忽略来自应用程序根目录的命令。</p>
                                       <div class="p">您可以设置以下值：<ul style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph">TRUE</code>如果PDB上的统计信息是陈旧的，则允许应用程序根触发应用程序PDB中元数据链接表上的统计信息收集。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">FALSE</code>忽略从应用程序根触发的统计信息收集命令。
                                                </p>
                                             </li>
                                          </ul>
                                       </div>
                                       <p>默认值为<code class="codeph">FALSE</code> 。</p>
                                       <div class="infoboxnote" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-4030B6CC-36D8-4FAF-BE36-EED4F42517E0">
                                          <p class="notep1">注意：</p>
                                          <p>与应用程序根目录不同的CDB根目录永远不会触发PDB上的统计信息收集，并且不受此首选项的控制。</p>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10236" headers="d960973e9917 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10236 d960973e9919 ">
                                       <p>此值确定表中的行的百分比，在该表上的统计信息被视为过时并且应该被恢复之前必须更改。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10244" headers="d960973e9917 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10244 d960973e9919 ">
                                       <p>这可以控制是否应将为全局临时表收集的统计信息存储为共享统计信息或会话统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10252" headers="d960973e9917 ">
                                       <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10252 d960973e9919 ">
                                       <p>我们在收集索引聚类因子时可以假设的缓冲区缓存中缓存的平均块数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e10260" headers="d960973e9917 ">
                                       <p><code class="codeph">OPTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e10260 d960973e9919 ">
                                       <p>确定<a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS过程中</a>使用的<code class="codeph">options</code>参数。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-86DA6405-50C4-4B45-B790-C1DA331600D6">安全模型</p>
                        <p>要运行此过程，您必须是对象所有者，或具有<code class="codeph">SYSDBA</code>权限，或具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-533F004D-22E0-4874-9FB2-AB1C2E04F5CE">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足/架构“&lt;schema&gt;”不存在</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-FFAFD71E-F48A-4A20-BA34-8D594790B77B">使用说明</p>
                        <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，并且值用引号括起来，即使它们代表数字也是如此。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-27F01DDC-8831-4D48-A1B3-C7F666F1F34A">例子</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_SCHEMA_PREFS（'SH'，'CASCADE'）; DBMS_STATS.DELETE_SCHEMA_PREFS（'SH'，'ESTIMATE_PERCENT'）; DBMS_STATS.DELETE_SCHEMA_PREFS（'SH'，'DEGREE'）;</code></pre><div class="infoboxnotealso" id="GUID-9761DFB9-8710-45D9-9ACE-A4FD37FD69F5__GUID-1AD38EC0-B48F-439C-B81E-111C0730A5B9">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/options-for-optimizer-statistics-gathering.html#GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span class="italic">Oracle数据库SQL调优指南</span></a> ，了解如何管理优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43" name="GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43"></a><h4 id="ARPLS-GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43" class="sect4"><span class="enumeration_section">165.7.23</span> DELETE_SCHEMA_STATS程序</h4>
                  <div>
                     <p>此过程将删除整个架构的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43__GUID-60FA1EA5-191B-459F-833E-93B3A62979C4">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_SCHEMA_STATS（ownname VARCHAR2，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43__GUID-1AFE08E4-94F6-4A6E-93E9-F9A8ED7D0E78">参数</p>
                        <div class="tblformal" id="GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43__GUID-FBE4C7CD-C757-41BE-BB0B-6D9EF67FA2FF">
                           <p class="titleintable">表165-28 DELETE_SCHEMA_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_SCHEMA_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e10428">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e10431">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e10436" headers="d960973e10428 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e10436 d960973e10431 ">
                                       <p>指定架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e10444" headers="d960973e10428 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e10444 d960973e10431 ">
                                       <p>标识存储统计信息的表。如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则该过程直接从数据字典中删除统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e10458" headers="d960973e10428 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e10458 d960973e10431 ">
                                       <p>指定与<code class="codeph">stattab</code>这些统计信息关联的标识符（可选）。仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>此参数才有意义。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e10475" headers="d960973e10428 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e10475 d960973e10431 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果不同于<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e10489" headers="d960973e10428 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e10489 d960973e10431 ">
                                       <p>指示是否使相关游标无效。如果此参数设置为<code class="codeph">TRUE</code> ，则该过程不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                       <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e10538" headers="d960973e10428 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e10538 d960973e10431 ">
                                       <p>指示是否强制删除锁定的统计信息。当值为<code class="codeph">TRUE</code> ，即使已锁定，此过程也会删除表统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e10549" headers="d960973e10428 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e10549 d960973e10431 ">
                                       <p>指定要处理的统计信息。支持以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 指定表统计信息，列统计信息和索引统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 指定增量统计的元数据。
                                             </p>
                                          </li>
                                          <li><code class="codeph">REALTIME_STATS</code> - 仅指定<span>实时统计信息</span> 。
                                          </li>
                                       </ul>
                                       <p>您可以指定逗号分隔值的列表。例如， <code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。默认值为<code class="codeph">'OBJECT_STATS, REALTIME_STATS'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43__GUID-0FDD164A-5E52-4E7F-92D4-66D754D35D94">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58F8A69D-6A1B-4CC1-8E1A-D77948620E43__GUID-10562DD1-C26E-4072-9A8F-CD4E5BDC50C4">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC" name="GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC"></a><h4 id="ARPLS-GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC" class="sect4"><span class="enumeration_section">165.7.24</span> DELETE_SYSTEM_STATS程序</h4>
                  <div>
                     <p>此过程将删除工作量统计（使用“采集<code class="codeph">INTERVAL</code> ”或“ <code class="codeph">START</code> ”和“ <code class="codeph">STOP</code> ”选项），重置默认<code class="codeph">noworkload</code>统计数据（使用“收集<code class="codeph">NOWORKLOAD</code> ”选项），如果<code class="codeph">stattab</code>未指定。如果<code class="codeph">stattab</code>指定，子程序删除与相关联的所有系统统计<code class="codeph">statid</code>从<code class="codeph">stattab</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC__GUID-0D66D77A-06D5-4378-8BF1-2ED3601F619E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_SYSTEM_STATS（stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC__GUID-CA887CE5-E7D1-4021-B373-F5968BEC58DA">参数</p>
                        <div class="tblformal" id="GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC__GUID-CE048FAA-3414-4E4B-8E8C-5CA0DF220824">
                           <p class="titleintable">表165-29 DELETE_SYSTEM_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_SYSTEM_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_SYSTEM_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e10740">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e10743">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e10748" headers="d960973e10740 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e10748 d960973e10743 ">
                                       <p>用于保存统计信息的用户统计信息表的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e10756" headers="d960973e10740 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e10756 d960973e10743 ">
                                       <p>与<code class="codeph">stattab</code>保存的统计信息关联的可选标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e10766" headers="d960973e10740 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e10766 d960973e10743 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC__GUID-F864A60E-6C0D-4188-B97A-664766A2D8A1">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DC84A3-704B-4E48-8C17-7C7E01A368EC__GUID-DA996A60-E94B-4003-B566-7B1D7C21186A">使用说明</p>
                        <p>要运行此过程，您需要<code class="codeph">GATHER_SYSTEM_STATISTICS</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47" name="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47"></a><h4 id="ARPLS-GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47" class="sect4"><span class="enumeration_section">165.7.25</span> DELETE_TABLE_PREFS过程</h4>
                  <div>
                     <p>此过程将删除指定模式中指定表的优化程序统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-6DAB4853-D1C5-4812-98EE-FC93585CE19F">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_TABLE_PREFS（ownname IN VARCHAR2，tabname IN VARCHAR2，pname IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-BCA9BDF6-1608-40E4-9D28-C29776DBB9C3">参数</p>
                        <div class="tblformal" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-D3A10913-0446-4B3A-9D19-AB2AB57C844D">
                           <p class="titleintable">表165-30 DELETE_TABLE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_TABLE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_TABLE_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e10901">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e10904">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e10909" headers="d960973e10901 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e10909 d960973e10904 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e10917" headers="d960973e10901 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e10917 d960973e10904 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e10925" headers="d960973e10901 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e10925 d960973e10904 ">
                                       <p>偏好名称。可以删除以下首选项的现有值，并使用默认首选项值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL_TEMP_STATS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STAT_CATEGORY</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-FF3433C0-366B-438D-BA65-658EE2B7D5A3">
                           <p class="titleintable">表165-31统计信息首选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="统计偏好" border="1" summary="This table describes the statistics preferences that you can delete" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e11016">偏爱</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e11018">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11022" headers="d960973e11016 ">
                                       <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11022 d960973e11018 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以指定以下首选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。当现有性能可接受时，此方法很有吸引力，并且您不希望产生重新格式化旧内容的性能成本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。这是最保守的选择。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。与动态采样相比，HyperLogLog算法使用随机化技术。HyperLogLog优于自适应采样的优点是：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>新算法的准确性与原算法类似。</p>
                                                </li>
                                                <li>
                                                   <p>所需的内存显着降低，这通常会导致概要大小的大幅减少。</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11061" headers="d960973e11016 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11061 d960973e11018 ">
                                       <p>在收集数据库统计信息时控制自动创建扩展。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 如果适用，SQL计划指令可以根据工作负载中谓词中列的使用情况触发列组统计信息的创建。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 数据库不会自动创建列组统计信息。只有在执行<code class="codeph">CREATE_EXTENDED_STATS</code>函数时，或者在<code class="codeph">DBMS_STATS</code>的<code class="codeph">METHOD_OPT</code>子句中明确指定了扩展统计信息时，数据库才会创建它们。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11091" headers="d960973e11016 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11091 d960973e11018 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11099" headers="d960973e11016 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11099 d960973e11018 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11107" headers="d960973e11016 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11107 d960973e11018 ">
                                       <p>确定要估计的行的百分比。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11115" headers="d960973e11016 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11115 d960973e11018 ">
                                       <p>确定要收集的统计信息的粒度。该值仅与分区表相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11123" headers="d960973e11016 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11123 d960973e11018 ">
                                       <p>控制是否应将为全局临时表收集的统计信息存储为共享统计信息或会话统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11131" headers="d960973e11016 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11131 d960973e11018 ">
                                       <p>此值确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11139" headers="d960973e11016 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11139 d960973e11018 ">
                                       <p>当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时，此值控制要收集的概要。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11153" headers="d960973e11016 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11153 d960973e11018 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT,USE_LOCKED_STATS,ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>允许共存采样概要和HyperLogLog概要共存。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）;</code></pre><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11263" headers="d960973e11016 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11263 d960973e11018 ">
                                       <p>控制列统计信息收集和直方图创建。在全局，模式，数据库或字典级别设置首选项时，仅允许<code class="codeph">'FOR ALL'</code>语法。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11275" headers="d960973e11016 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11275 d960973e11018 ">
                                       <p>该值控制正在收集统计信息的表的从属游标的无效。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11283" headers="d960973e11016 ">
                                       <p><code class="codeph">OPTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11283 d960973e11018 ">
                                       <p>确定<a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS过程中</a>使用的<code class="codeph">options</code>参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11300" headers="d960973e11016 "><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11300 d960973e11018 ">
                                       <p>确定是否使用该参数的首选项值覆盖参数的输入值以进行统计操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略输入参数值，并使用相应首选项的值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -  Obeys输入参数值。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>指定此首选项不会更改table，global和default的优先顺序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11320" headers="d960973e11016 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11320 d960973e11018 ">
                                       <p>确定在统计信息收集作业完成后是否将发布新收集的统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11328" headers="d960973e11016 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11328 d960973e11018 ">
                                       <p>确定表中的行的百分比，在该表上的统计信息被视为过时并且应该被恢复之前必须更改。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11336" headers="d960973e11016 ">
                                       <p><code class="codeph">STAT_CATEGORY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11336 d960973e11018 ">
                                       <p>指定要导入或导出的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>值<code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11360" headers="d960973e11016 ">
                                       <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e11360 d960973e11018 ">
                                       <p>指定在计算索引聚类因子时假定在缓冲区高速缓存中的平均块数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-F9130FBE-A522-4E04-9B4F-8E5FAE7092ED">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-4B1C1ABD-0841-40A8-9CB0-51EBE9C67A67">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您需要以表的所有者身份进行连接，在表上授予<code class="codeph">ANALYZE</code>权限，或者<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统权限。
                              </p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，并且值用引号括起来，即使它们代表数字也是如此。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-FAD3CFDC-D3AB-498B-AE75-D1A6F7C3E894">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DELETE_TABLE_PREFS（'SH'，'SALES'，'CASCADE'）; DBMS_STATS.DELETE_TABLE_PREFS（'SH'，'SALES'，'DEGREE'）;</pre><div class="infoboxnotealso" id="GUID-F0A7D68D-4C82-472A-9E65-B0A9E43B3E47__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/options-for-optimizer-statistics-gathering.html#GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span class="italic">Oracle数据库SQL调优指南</span></a> ，了解如何管理优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843" name="GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843"></a><h4 id="ARPLS-GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843" class="sect4"><span class="enumeration_section">165.7.26</span> DELETE_TABLE_STATS程序</h4>
                  <div>
                     <p>此过程将删除与表相关的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843__GUID-DA0CC049-E22A-4537-AA50-F068D290203A">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DELETE_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，cascade_parts BOOLEAN DEFAULT TRUE，cascade_columns BOOLEAN DEFAULT TRUE，cascade_indexes BOOLEAN DEFAULT TRUE，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（ get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843__GUID-B20624E2-E2B3-4888-98FA-D433C41FAB7C">参数</p>
                        <div class="tblformal" id="GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843__GUID-120DF6BB-E274-4D49-8F56-1B1F352B6C80">
                           <p class="titleintable">表165-32 DELETE_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DELETE_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e11519">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e11522">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11527" headers="d960973e11519 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11527 d960973e11522 ">
                                       <p>指定架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11535" headers="d960973e11519 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11535 d960973e11522 ">
                                       <p>指定此列所属的表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11543" headers="d960973e11519 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11543 d960973e11522 ">
                                       <p>指定从中获取统计信息的表分区或子分区的名称。如果表已分区，并且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则从全局表级别检索统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11557" headers="d960973e11519 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11557 d960973e11522 ">
                                       <p>标识将检索统计信息的用户统计信息表。如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则该过程直接从字典中检索统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11571" headers="d960973e11519 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11571 d960973e11522 ">
                                       <p>指定与<code class="codeph">stattab</code>这些统计信息关联的标识符（可选）。仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>此参数才有意义。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11588" headers="d960973e11519 ">
                                       <p><code class="codeph">cascade_parts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11588 d960973e11522 ">
                                       <p>指定过程是否应在底层分区上运行。如果表已分区，并且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则指定<code class="codeph">TRUE</code>删除基础分区的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11605" headers="d960973e11519 ">
                                       <p><code class="codeph">cascade_columns</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11605 d960973e11522 ">
                                       <p>指示是否调用<code class="codeph">DELETE_COLUMN_STATS</code>过程。如果为<code class="codeph">TRUE</code> ，则此过程为所有基础列调用<code class="codeph">DELETE_COLUMN_STATS</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11622" headers="d960973e11519 ">
                                       <p><code class="codeph">cascade_indexes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11622 d960973e11522 ">
                                       <p>指示是否调用<code class="codeph">DELETE_INDEX_STATS</code>过程。如果为<code class="codeph">TRUE</code> ，则此过程为所有基础列调用<code class="codeph">DELETE_INDEX_STATS</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11639" headers="d960973e11519 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11639 d960973e11522 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果不同于<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11653" headers="d960973e11519 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11653 d960973e11522 ">
                                       <p>指示是否使相关游标无效。如果此参数设置为<code class="codeph">TRUE</code> ，则该过程不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                       <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11702" headers="d960973e11519 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11702 d960973e11522 ">
                                       <p>指示是否强制删除锁定的统计信息。当值为<code class="codeph">TRUE</code> ，即使已锁定，此过程也会删除表统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e11714" headers="d960973e11519 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e11714 d960973e11522 ">
                                       <p>指定要处理的统计信息。支持以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 指定表统计信息，列统计信息和索引统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 指定增量统计的元数据。
                                             </p>
                                          </li>
                                          <li><code class="codeph">REALTIME_STATS</code> - 仅指定<span>实时统计信息</span> 。
                                          </li>
                                       </ul>
                                       <p>您可以指定逗号分隔值的列表。例如， <code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。默认值为<code class="codeph">'OBJECT_STATS, REALTIME_STATS'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843__GUID-F5929B8D-BD9B-4F7F-90B5-331780E31FCA">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-055D5736-FA8E-41A7-9F67-82A0D5EBE843__GUID-D87ED18B-58FC-4975-9756-F0A12A05A744">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7" name="GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7"></a><h4 id="ARPLS-GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7" class="sect4"><span class="enumeration_section">165.7.27</span> DIFF_TABLE_STATS_IN_HISTORY函数</h4>
                  <div>
                     <p>此函数比较两个指定时间戳的表的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7__GUID-9B11E1F7-B48D-4E3C-947D-EE4BD70EDE2D">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DIFF_TABLE_STATS_IN_HISTORY（自己的名称IN VARCHAR2，tabname IN VARCHAR2，time1 IN TIMESTAMP WITH TIME ZONE，time2 IN TIMESTAMP WITH TIME ZONE DEFAULT NULL，pctthreshold IN NUMBER DEFAULT 10）RETURN DiffRepTab pipelined;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7__GUID-3E5C7B35-7B5E-4086-BFE5-DF97C250D8C9">参数</p>
                        <div class="tblformal" id="GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7__GUID-927607FB-1AEF-4E5E-9D7E-BCC70A2D88C8">
                           <p class="titleintable">表165-33 DIFF_TABLE_STATS_IN_HISTORY函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DIFF_TABLE_STATS_IN_HISTORY函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DIFF_TABLE_STATS_IN_HISTORY subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e11885">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e11888">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11893" headers="d960973e11885 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e11893 d960973e11888 ">
                                       <p>指定表的所有者。为当前架构指定<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11904" headers="d960973e11885 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e11904 d960973e11888 ">
                                       <p>指定要与其进行统计的表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11912" headers="d960973e11885 ">
                                       <p><code class="codeph">时间1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e11912 d960973e11888 ">
                                       <p>指定用于比较的第一个时间戳。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11920" headers="d960973e11885 ">
                                       <p><code class="codeph">时间2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e11920 d960973e11888 ">
                                       <p>指定用于比较的第二个时间戳。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e11928" headers="d960973e11885 ">
                                       <p><code class="codeph">PCTTHRESHOLD</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e11928 d960973e11888 ">
                                       <p>指定阈值限制。仅当更改百分比超出此限制时，此功能才会报告统计信息的差异。默认值为<code class="codeph">10</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7__GUID-1DFC8206-D8BF-4E73-9D7A-91ECD7E52795">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-95A0E654-CA5B-40EE-BFE4-20E85C4531C7__GUID-8679CA12-10F7-43F5-A978-743E1B5700BE">使用说明</p>
                        <p>如果第二个时间戳为<code class="codeph">NULL</code> ，则该函数将数据字典中的当前统计信息与第一个时间戳的统计信息进行比较。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9F59AD8E-33C9-4059-917D-9524F36A9651" name="GUID-9F59AD8E-33C9-4059-917D-9524F36A9651"></a><h4 id="ARPLS-GUID-9F59AD8E-33C9-4059-917D-9524F36A9651" class="sect4"><span class="enumeration_section">165.7.28</span> DIFF_TABLE_STATS_IN_PENDING函数</h4>
                  <div>
                     <p>此函数将挂起的统计信息与数据字典中的当前统计信息或用户指定的历史统计信息进行比较。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9F59AD8E-33C9-4059-917D-9524F36A9651__GUID-45DDEC90-3AF4-426E-863C-38CE30F06066">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DIFF_TABLE_STATS_IN_PENDING（自己的名称IN VARCHAR2，tabname IN VARCHAR2，时间戳IN TIMESTAMP WITH TIME ZONE，pctthreshold IN NUMBER DEFAULT 10）返回DiffRepTab流水线;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F59AD8E-33C9-4059-917D-9524F36A9651__GUID-ECA32B9C-D85C-4171-96E3-DFE677D22BD8">参数</p>
                        <div class="tblformal" id="GUID-9F59AD8E-33C9-4059-917D-9524F36A9651__GUID-4CD89FF8-3268-4685-9AB0-A028FE768ED9">
                           <p class="titleintable">表165-34 DIFF_TABLE_STATS_IN_PENDING函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DIFF_TABLE_STATS_IN_PENDING函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DIFF_TABLE_STATS_IN_PENDING subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e12069">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e12072">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e12077" headers="d960973e12069 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e12077 d960973e12072 ">
                                       <p>表的所有者。为当前架构指定<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e12088" headers="d960973e12069 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e12088 d960973e12072 ">
                                       <p>要比较统计数据的表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e12096" headers="d960973e12069 ">
                                       <p><code class="codeph">时间戳</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e12096 d960973e12072 ">
                                       <p>统计信息历史记录中与所需统计信息对应的时间戳。如果时间戳为<code class="codeph">NULL</code> ，则此函数将字典中的当前统计信息与挂起的统计信息进行比较（默认值）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e12107" headers="d960973e12069 ">
                                       <p><code class="codeph">PCTTHRESHOLD</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e12107 d960973e12072 ">
                                       <p>报告限制。仅当函数超出指定的限制时，该函数才会报告统计信息的差异。默认值为<code class="codeph">10</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F59AD8E-33C9-4059-917D-9524F36A9651__GUID-371B4722-2944-4266-973F-3DBAA5C12691">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者，或者您必须具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者，或者您必须具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4" name="GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4"></a><h4 id="ARPLS-GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4" class="sect4"><span class="enumeration_section">165.7.29</span> DIFF_TABLE_STATS_IN_STATTAB函数</h4>
                  <div>
                     <p>此函数比较两个来源的表统计信息。</p>
                     <div class="section">
                        <p>该函数可以从以下来源获取统计信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>两个用户统计表</p>
                           </li>
                           <li>
                              <p>单个用户统计信息表，包含可使用<code class="codeph">statids</code>识别的两组统计信息</p>
                           </li>
                           <li>
                              <p>用户统计表和字典</p>
                           </li>
                        </ul>
                        <p>该函数还会比较依赖对象的统计信息：索引，列和分区。当这些统计信息之间的差异超过某个阈值（％）时，它会显示来自两个来源的对象的统计信息。您可以将此阈值指定为函数的参数。该函数使用与第一个源（ <code class="codeph">stattab1</code>或<code class="codeph">time1</code> ）对应的统计信息作为计算差异百分比的基础。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4__GUID-F1C66A0B-E8F0-433B-B1F0-62867B3D51D0">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DIFF_TABLE_STATS_IN_STATTAB（ownname IN VARCHAR2，tabname IN VARCHAR2，stattab1 IN VARCHAR2 DEFAULT NULL，pctthreshold IN NUMBER DEFAULT 10，statid1 IN VARCHAR2 DEFAULT NULL，statid2 IN VARCHAR2 DEFAULT NULL，stattab1own IN VARCHAR2 DEFAULT NULL，stattab2own IN VARCHAR2 DEFAULT NULL）RETURN DiffRepTab流水线;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4__GUID-6EF719A2-AB13-4515-86C8-FB224E618FA3">参数</p>
                        <div class="tblformal" id="GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4__GUID-E42B3233-F379-4FC3-B062-FAB7B4C06CB3">
                           <p class="titleintable">表165-35 DIFF_TABLE_STATS_IN_STATTAB函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DIFF_TABLE_STATS_IN_STATTAB函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DIFF_TABLE_STATS_IN_STATTAB subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e12264">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e12267">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12272" headers="d960973e12264 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12272 d960973e12267 ">
                                       <p>指定表的所有者。为当前架构指定<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12283" headers="d960973e12264 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12283 d960973e12267 ">
                                       <p>指定要与其进行统计的表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12291" headers="d960973e12264 ">
                                       <p><code class="codeph">stattab1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12291 d960973e12267 ">
                                       <p>指定用户统计表1。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12299" headers="d960973e12264 ">
                                       <p><code class="codeph">stattab2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12299 d960973e12267 ">
                                       <p>指定用户统计表2。如果为<code class="codeph">NULL</code> ，则该函数将<code class="codeph">stattab1</code>统计信息与数据字典中的当前统计信息进行比较。这是默认值。要比较统计表中的两个集，请指定与<code class="codeph">stattab1</code>相同的表（请参阅下面的<code class="codeph">statid</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12319" headers="d960973e12264 ">
                                       <p><code class="codeph">PCTTHRESHOLD</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12319 d960973e12267 ">
                                       <p>指定比较的百分比阈值。仅当超过此限制时，该功能才会报告统计信息的差异。默认值为<code class="codeph">10</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12330" headers="d960973e12264 ">
                                       <p><code class="codeph">stadid1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12330 d960973e12267 ">
                                       <p>（可选）标识<code class="codeph">stattab1</code>设置的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12341" headers="d960973e12264 ">
                                       <p><code class="codeph">stadid2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12341 d960973e12267 ">
                                       <p>（可选）标识<code class="codeph">stattab2</code>设置的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12352" headers="d960973e12264 ">
                                       <p><code class="codeph">stattab1own</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12352 d960973e12267 ">
                                       <p>指定包含<code class="codeph">stattab1</code>的架构（如果不是<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e12366" headers="d960973e12264 ">
                                       <p><code class="codeph">stattab2own</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e12366 d960973e12267 ">
                                       <p>指定包含<code class="codeph">stattab2</code>的架构（如果不是<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-088CB581-87CA-47F0-8CC5-7EEF8F1287B4__GUID-4E4E8C20-24AC-4566-85F9-464F0CE71E4E">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080" name="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080"></a><h4 id="ARPLS-GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080" class="sect4"><span class="enumeration_section">165.7.30</span> DROP_ADVISOR_TASK程序</h4>
                  <div>
                     <p>此过程将删除指定的Optimizer Statistics Advisor任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080__GUID-10A9AE60-7AD6-4960-9BEB-37F5D197F2A4">句法</p><pre class="pre codeblock"><code>DBMS_STATS.DROP_ADVISOR_TASK（task_name IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080__GUID-032C20E7-34FE-457B-8DFA-CF3AE421734D">参数</p>
                        <div class="tblformal" id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080__GUID-1524F91D-D562-4F51-814E-9E0DAA647A05">
                           <p class="titleintable">表165-36 DROP_ADVISOR_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_ADVISOR_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.DROP_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e12502">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e12505">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e12510" headers="d960973e12502 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e12510 d960973e12505 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080__GUID-4D17B73D-B7BA-4FBE-AF09-1090A779752D">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080__GUID-6712CACD-DF4C-44D4-B6D2-501345269D5B">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080__GUID-E3E379D8-BAE2-4278-8457-33D8D7D2898F">
                        <p class="titleinexample">示例165-8删除Optimizer Statistics Advisor任务</p>
                        <p>此示例删除名为<code class="codeph">my_task</code>的Optimizer Statistics Advisor任务：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.DROP_ADVISOR_TASK（'my_task'）;</code></pre><div class="See Also" id="GUID-46C3DC92-71E4-4DE3-AB3A-7D7CDF173080__GUID-4D874F6E-DB42-4C97-9DDC-D488EEDD4388">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1" name="GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1"></a><h4 id="ARPLS-GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1" class="sect4"><span class="enumeration_section">165.7.31</span> DROP_EXTENDED_STATS程序</h4>
                  <div>
                     <p>此函数删除为用户指定的扩展创建的统计信息条目。</p>
                     <div class="section">
                        <p>这取消了<a href="DBMS_STATS.html#GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F" title="此函数在系统中为用户指定的列组或表中的表达式创建列统计信息条目。">CREATE_EXTENDED_STATS函数</a>的效果。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1__GUID-0C4637DE-1FF1-4609-A4F4-D712D54A858A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DROP_EXTENDED_STATS（拥有名称VARCHAR2，tabname VARCHAR2，扩展名VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1__GUID-CF238057-7019-4B25-91B0-C57628E5C97E">参数</p>
                        <div class="tblformal" id="GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1__GUID-89C793D5-E160-4DE2-9B3F-B69B5C52C64F">
                           <p class="titleintable">表165-37 DROP_EXTENDED_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_EXTENDED_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DROP_EXTENDED_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e12688">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e12691">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e12696" headers="d960973e12688 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e12696 d960973e12691 ">
                                       <p>表的所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e12704" headers="d960973e12688 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e12704 d960973e12691 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e12712" headers="d960973e12688 ">
                                       <p><code class="codeph">延期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e12712 d960973e12691 ">
                                       <p>可以是列组也可以是表达式。假设指定的表有两列<code class="codeph">c1</code> ， <code class="codeph">c2</code> 。示例列组可以是“（ <code class="codeph">c1</code> ， <code class="codeph">c2</code> ）”，示例表达式可以是“（ <code class="codeph">c1</code> + <code class="codeph">c2</code> ）”。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1__GUID-E6FCC847-F368-4383-B9FF-6867B2EEE7C9">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：不存在不足的权限或扩展名</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：处理扩展时出错</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-64714B2B-E5CE-4C10-9F1E-25A9F254F6B1__GUID-1E073E70-EABB-4BFA-8161-89955B56B5C9">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>如果没有为扩展创建扩展统计信息集，则此函数会引发错误。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3F929C42-8AFC-4725-AD28-97547128143A" name="GUID-3F929C42-8AFC-4725-AD28-97547128143A"></a><h4 id="ARPLS-GUID-3F929C42-8AFC-4725-AD28-97547128143A" class="sect4"><span class="enumeration_section">165.7.32</span> DROP_STAT_TABLE过程</h4>
                  <div>
                     <p>此过程将删除用户统计信息表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3F929C42-8AFC-4725-AD28-97547128143A__GUID-B482E145-E80C-4F92-8814-F86B3418E8C1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.DROP_STAT_TABLE（ownname VARCHAR2，stattab VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3F929C42-8AFC-4725-AD28-97547128143A__GUID-521043D4-3B9B-4592-B151-5F55CF1BAC0C">参数</p>
                        <div class="tblformal" id="GUID-3F929C42-8AFC-4725-AD28-97547128143A__GUID-C68DB8D3-0C3E-4C01-9F9F-74EC368E8CFE">
                           <p class="titleintable">表165-38 DROP_STAT_TABLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_STAT_TABLE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.DROP_STAT_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e12891">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e12894">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e12899" headers="d960973e12891 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e12899 d960973e12894 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e12907" headers="d960973e12891 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e12907 d960973e12894 ">
                                       <p>用户统计表标识符</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3F929C42-8AFC-4725-AD28-97547128143A__GUID-AB49DA6D-B397-4D87-949A-2496884C6F51">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：表不存在或权限不足。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3F929C42-8AFC-4725-AD28-97547128143A__GUID-3B6F363D-BEDC-4B29-A1C6-E2099649921C">使用说明</p>
                        <p>要调用此过程，您需要具有删除指定表的权限。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764" name="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764"></a><h4 id="ARPLS-GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764" class="sect4"><span class="enumeration_section">165.7.33</span> EXECUTE_ADVISOR_TASK功能</h4>
                  <div>
                     <p>此函数执行先前创建的Optimizer Statistics Advisor任务。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-EA811D6D-7E70-4D5D-9C6F-338689EC0230">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXECUTE_ADVISOR_TASK（task_name IN VARCHAR2，execution_name IN VARCHAR2：= NULL）RETURN VARCHAR2;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-B697BD56-27C2-4367-8214-C218AB8DC342">参数</p>
                        <div class="tblformal" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-38317A16-2ED5-4345-8214-8828C94C97F2">
                           <p class="titleintable">表165-39 EXECUTE_ADVISOR_TASK参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXECUTE_ADVISOR_TASK参数" border="1" summary="This table describes the parameters of the DBMS_STATS.EXECUTE_ADVISOR_TASK function." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d960973e13033">参数</th>
                                    <th align="left" valign="bottom" id="d960973e13035">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e13039" headers="d960973e13033 "><span class="parmname" translate="no">任务名称</span></td>
                                    <td align="left" valign="top" headers="d960973e13039 d960973e13035 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e13046" headers="d960973e13033 "><span class="parmname" translate="no">execution_name</span></td>
                                    <td align="left" valign="top" headers="d960973e13046 d960973e13035 ">
                                       <p>用于限定和标识顾问程序执行的名称。如果未指定，则顾问程序会自动生成它。</p>
                                       <p>如果指定的执行与现有执行的名称冲突，则该函数返回错误。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-CF3E8926-F464-4005-A5F1-9CA8A6EAA01A">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>您可以为<code class="codeph">AUTO_STATS_ADVISOR_TASK</code>执行此子程序，该子程序是预定义的。
                              </p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                        <p>执行此任务的结果取决于正在执行的用户的权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SYSTEM</code>级别</p>
                              <p>只有具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户才能在系统级规则上执行此任务。
                              </p>
                           </li>
                           <li>
                              <p>操作级别</p>
                              <p>结果取决于以下特权：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以为所有统计操作执行此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以执行与除<code class="codeph">SYS</code>之外的任何模式相关的统计操作的此任务。</p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY</code>权限的用户可以执行与其自己的架构和<code class="codeph">SYS</code>架构相关的统计操作的此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>既没有<code class="codeph">ANALYZE ANY</code>也没有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户只能对与其自己的架构相关的统计操作执行此操作。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>对象级别</p>
                              <p>用户可以为具有统计信息收集权限的任何对象执行此任务。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-7784BB7F-6C62-41CC-8491-CB6B538D7B79">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-E2938600-2E32-4F2A-BE20-5390AA3C7811">返回</p>
                        <p>此函数返回新执行的名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-710D3999-714A-4AA1-8ABA-6880348419D5">使用说明</p>
                        <p>执行结果取决于用户权限和规则类型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>系统</p>
                              <p>要对系统级规则执行操作，您必须同时具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>手术</p>
                              <p>如果您具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限，则可以对所有操作执行此功能。如果您只有<code class="codeph">ANALYZE ANY</code>权限，则可以执行此功能以执行与<code class="codeph">SYS</code>之外的任何模式相关的操作。如果您只具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限，则可以对与任何模式（包括<code class="codeph">SYS</code>相关的操作执行此功能。如果既没有<code class="codeph">ANALYZE ANY</code>也没有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限，那么只能对自己的模式中的操作执行此功能。
                              </p>
                           </li>
                           <li>
                              <p>宾语</p>
                              <p>如果您有权收集对象的统计信息，则可以为该对象执行此功能。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-E784869C-02EF-40FC-BB0C-106922E15FC9">
                        <p class="titleinexample">示例165-9创建和执行任务</p>
                        <p>此示例创建名为<code class="codeph">my_task</code>的Optimizer Statistics Advisor任务，然后执行它。
                        </p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（128）：='my_task'; BEGIN  - 创建任务v_tname：= DBMS_STATS.CREATE_ADVISOR_TASK（v_tname）; - 执行任务v_tname：= DBMS_STATS.EXECUTE_ADVISOR_TASK（v_tname）;结束;</code></pre><div class="See Also" id="GUID-8B3FFF0C-9FB5-46CF-BBFC-966A5EF45764__GUID-74A3E562-A78B-43C9-B8CD-504A6AAA0C3E">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1" name="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1"></a><h4 id="ARPLS-GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1" class="sect4"><span class="enumeration_section">165.7.34</span> EXPORT_COLUMN_STATS过程</h4>
                  <div>
                     <p><span>此过程导出指定列的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1__GUID-7A5D3FDF-274D-40F2-BC5B-5342365AB5BF">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXPORT_COLUMN_STATS（ownname VARCHAR2，tabname VARCHAR2，colname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1__GUID-437AC466-23B7-4BDB-8421-B80FC043AE8E">参数</p>
                        <div class="tblformal" id="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1__GUID-0BD8B409-1AFB-4846-97BA-7A672B7EB339">
                           <p class="titleintable">表165-40 EXPORT_COLUMN_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_COLUMN_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_COLUMN_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e13357">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e13360">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13365" headers="d960973e13357 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13365 d960973e13360 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13373" headers="d960973e13357 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13373 d960973e13360 ">
                                       <p>此列所属的表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13381" headers="d960973e13357 ">
                                       <p><code class="codeph">colname的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13381 d960973e13360 ">
                                       <p>列或扩展名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13389" headers="d960973e13357 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13389 d960973e13360 ">
                                       <p>表分区的名称。如果表已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则导出全局和分区列统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13403" headers="d960973e13357 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13403 d960973e13360 ">
                                       <p>用户统计信息表标识符，描述存储统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13411" headers="d960973e13357 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13411 d960973e13360 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13421" headers="d960973e13357 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13421 d960973e13360 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1__GUID-8329C7BA-96F9-4BD3-8548-B564164DE1A2">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1__GUID-7539ABD9-98AD-43B8-B276-98BC9D4224CE">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C00A53-5BEB-4D45-9035-C45394CC75F1__GUID-BD217D2A-98DB-4AB9-84C6-F822339BEB23">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4D474BA6-9A62-43C9-A049-43FF38153557" name="GUID-4D474BA6-9A62-43C9-A049-43FF38153557"></a><h4 id="ARPLS-GUID-4D474BA6-9A62-43C9-A049-43FF38153557" class="sect4"><span class="enumeration_section">165.7.35</span> EXPORT_DATABASE_PREFS过程</h4>
                  <div>
                     <p>此过程用于导出所有表的统计信息首选项，不包括Oracle拥有的表。可以通过为<code class="codeph">add_sys</code>参数传递<code class="codeph">TRUE</code>来包含这些表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4D474BA6-9A62-43C9-A049-43FF38153557__GUID-3BC2CE3F-A0AC-4CEC-A1B3-3ABB6BC88761">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_DATABASE_PREFS（stattab IN VARCHAR2，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL add_sys IN BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D474BA6-9A62-43C9-A049-43FF38153557__GUID-DBCCD5C4-7FDC-41F3-9B19-CE38B9A790EF">参数</p>
                        <div class="tblformal" id="GUID-4D474BA6-9A62-43C9-A049-43FF38153557__GUID-57EDFAE3-792E-4F7B-9435-69666F6DE5D8">
                           <p class="titleintable">表165-41 EXPORT_DATABASE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_DATABASE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_DATABASE_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e13577">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e13580">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e13585" headers="d960973e13577 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e13585 d960973e13580 ">
                                       <p>要导出统计信息的统计信息表名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e13593" headers="d960973e13577 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e13593 d960973e13580 ">
                                       <p>（可选）在<code class="codeph">stattab</code>中与这些统计信息关联的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e13603" headers="d960973e13577 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e13603 d960973e13580 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不是<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e13617" headers="d960973e13577 ">
                                       <p><code class="codeph">add_sys</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e13617 d960973e13580 ">
                                       <p>值<code class="codeph">TRUE</code>将包括Oracle拥有的表</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D474BA6-9A62-43C9-A049-43FF38153557__GUID-0CE13CD0-FCE9-4B17-8F77-B9A240228710">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D474BA6-9A62-43C9-A049-43FF38153557__GUID-45CE4358-D00F-470C-B464-497B9A4082A7">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您需要具有<code class="codeph">SYSDBA</code>角色，或同时具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，值用引号括起来。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D474BA6-9A62-43C9-A049-43FF38153557__GUID-7552D9CF-4BF6-49EE-9790-8E2EBBF56BB3">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_DATABASE_PREFS（'STATTAB'，statown =&gt;'SH'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D" name="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D"></a><h4 id="ARPLS-GUID-CE0A8C67-2EC6-422F-A311-16083A07110D" class="sect4"><span class="enumeration_section">165.7.36</span> EXPORT_DATABASE_STATS过程</h4>
                  <div>
                     <p><span>此过程导出数据库中所有对象的统计信息，并将它们存储在<code class="codeph">statown.stattab</code>标识的用户统计信息表中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D__GUID-379CFDE4-FA9F-4EBA-BECF-4B11C703754E">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXPORT_DATABASE_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D__GUID-E28094AD-ACE1-41A8-BD4B-BF9E1F058218">参数</p>
                        <div class="tblformal" id="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D__GUID-E356067E-561D-48A2-8517-933304CF8672">
                           <p class="titleintable">表165-42 EXPORT_DATABASE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_DATABASE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_DATABASE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e13784">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e13787">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13792" headers="d960973e13784 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13792 d960973e13787 ">
                                       <p>用户统计信息表标识符，描述存储统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13800" headers="d960973e13784 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13800 d960973e13787 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13810" headers="d960973e13784 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13810 d960973e13787 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13821" headers="d960973e13784 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13821 d960973e13787 ">
                                       <p>指定要导入的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>如果指定了<code class="codeph">'OBJECT_STATS, SYNOPSES'</code> ，则删除表统计信息，列统计信息，索引统计信息和概要。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D__GUID-557F63AB-899D-459B-B4FB-D672808F157C">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D__GUID-789F2834-0DB5-49F9-A3AA-19FC10D73D50">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE0A8C67-2EC6-422F-A311-16083A07110D__GUID-FF25BEC2-E54D-42A7-8E2F-4691DA30BFCB">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-EF23796D-311E-472F-8175-B4BB6D64B862" name="GUID-EF23796D-311E-472F-8175-B4BB6D64B862"></a><h4 id="ARPLS-GUID-EF23796D-311E-472F-8175-B4BB6D64B862" class="sect4"><span class="enumeration_section">165.7.37</span> EXPORT_DICTIONARY_STATS程序</h4>
                  <div>
                     <p><span>此过程导出所有数据字典模式（ <code class="codeph">SYS</code> ， <code class="codeph">SYSTEM</code>和RDBMS组件模式）的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EF23796D-311E-472F-8175-B4BB6D64B862__GUID-32B0DD96-FDAB-42AA-8C98-51DB04BF787A">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXPORT_DICTIONARY_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF23796D-311E-472F-8175-B4BB6D64B862__GUID-6FA606AC-96B1-41C0-932C-E353CF9F4468">参数</p>
                        <div class="tblformal" id="GUID-EF23796D-311E-472F-8175-B4BB6D64B862__GUID-98005FDA-7895-49CE-994E-A1711AF596F6">
                           <p class="titleintable">表165-43 EXPORT_DICTIONARY_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_DICTIONARY_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_DICTIONARY_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e13990">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e13993">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e13998" headers="d960973e13990 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e13998 d960973e13993 ">
                                       <p>用户统计信息表标识符，描述存储统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e14006" headers="d960973e13990 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e14006 d960973e13993 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e14016" headers="d960973e13990 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e14016 d960973e13993 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e14027" headers="d960973e13990 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e14027 d960973e13993 ">
                                       <p>指定要导入的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>如果指定了<code class="codeph">'OBJECT_STATS, SYNOPSES'</code> ，则删除表统计信息，列统计信息，索引统计信息和概要。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF23796D-311E-472F-8175-B4BB6D64B862__GUID-587D06D9-FC4F-4B43-8159-57EC163A158C">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF23796D-311E-472F-8175-B4BB6D64B862__GUID-307B8DB6-62EB-430B-BCFC-B001A9036E24">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF23796D-311E-472F-8175-B4BB6D64B862__GUID-F00E4AE1-9A02-4740-B782-D5E9A13477ED">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D" name="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D"></a><h4 id="ARPLS-GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D" class="sect4"><span class="enumeration_section">165.7.38</span> EXPORT_FIXED_OBJECTS_STATS过程</h4>
                  <div>
                     <p><span>此过程导出固定表的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D__GUID-08E5A889-3087-45E0-8CCF-FEBBEA7A2145">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXPORT_FIXED_OBJECTS_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D__GUID-35FB937A-A46B-449F-A153-C9617B099BAF">参数</p>
                        <div class="tblformal" id="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D__GUID-5037C1F6-2B5B-497C-9374-2C4922109A97">
                           <p class="titleintable">表165-44 EXPORT_FIXED_OBJECTS_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_FIXED_OBJECTS_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_FIXED_OBJECTS_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e14195">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e14198">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e14203" headers="d960973e14195 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e14203 d960973e14198 ">
                                       <p>用户统计信息表标识符，描述存储统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e14211" headers="d960973e14195 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e14211 d960973e14198 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e14221" headers="d960973e14195 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e14221 d960973e14198 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D__GUID-C560CB5C-1413-4CB0-9217-08D10C90461C">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D__GUID-36FD28EF-650E-4F0B-A651-E3036B8AB6FF">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6E13CF4E-87B9-4A46-92EE-34C95039BD8D__GUID-A7849C4C-C009-468D-8292-4C3DF0ACA5E1">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9" name="GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9"></a><h4 id="ARPLS-GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9" class="sect4"><span class="enumeration_section">165.7.39</span> EXPORT_INDEX_STATS过程</h4>
                  <div>
                     <p>此过程检索特定索引的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9__GUID-0DB0969C-EC6B-4D80-9822-43BA41324C9C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9__GUID-1DC25CF2-F51F-49DF-A005-F200236CFA0D">参数</p>
                        <div class="tblformal" id="GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9__GUID-25D6DD54-D518-4AF4-8A6F-A289BAB3B4DC">
                           <p class="titleintable">表165-45 EXPORT_INDEX_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_INDEX_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_INDEX_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e14374">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e14377">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14382" headers="d960973e14374 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14382 d960973e14377 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14390" headers="d960973e14374 ">
                                       <p><code class="codeph">indname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14390 d960973e14377 ">
                                       <p>索引的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14398" headers="d960973e14374 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14398 d960973e14377 ">
                                       <p>索引分区的名称。如果索引已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则导出全局和分区索引统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14412" headers="d960973e14374 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14412 d960973e14377 ">
                                       <p>用户统计信息表标识符，描述存储统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14420" headers="d960973e14374 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14420 d960973e14377 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14430" headers="d960973e14374 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14430 d960973e14377 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9__GUID-8DCD625C-317C-48D2-83E3-C396497E6DB1">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C9DF65-A24F-4C43-8084-69FE688249E9__GUID-35FDF71F-A827-4A44-B292-54C174852526">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056" name="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056"></a><h4 id="ARPLS-GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056" class="sect4"><span class="enumeration_section">165.7.40</span> EXPORT_PENDING_STATS过程</h4>
                  <div>
                     <p>此过程用于导出收集的统计信息并将其存储为挂起。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056__GUID-E21ACF1E-1848-4B77-B959-2760760FD163">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_PENDING_STATS（ownname IN VARCHAR2 DEFAULT USER，tabname IN VARCHAR2，stattab IN VARCHAR2，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT USER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056__GUID-17EEB724-DF7E-4935-8ACB-614153AA55C8">参数</p>
                        <div class="tblformal" id="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056__GUID-8E9C93AA-B81B-44CD-9F38-5331B6902086">
                           <p class="titleintable">表165-46 EXPORT_PENDING_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_PENDING_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_PENDING_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e14588">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e14591">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14596" headers="d960973e14588 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14596 d960973e14591 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14604" headers="d960973e14588 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14604 d960973e14591 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14612" headers="d960973e14588 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14612 d960973e14591 ">
                                       <p>统计表名称到导出统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14620" headers="d960973e14588 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14620 d960973e14591 ">
                                       <p>（可选）在<code class="codeph">stattab</code>中与这些统计信息关联的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14630" headers="d960973e14588 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14630 d960973e14591 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不是<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056__GUID-A35C7CBF-A1B6-4E28-9D67-CC9223701204">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056__GUID-92C449E3-AFEB-4B2C-9999-82C3A43A0D05">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果参数<code class="codeph">tabname</code>为<code class="codeph">NULL</code>则export将应用于指定模式的所有表。
                              </p>
                           </li>
                           <li>
                              <p>默认所有者/架构是运行该过程的用户。</p>
                           </li>
                           <li>
                              <p>要运行此过程，您需要具有相同的权限，以收集此过程将触及的表的统计信息。</p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，值用引号括起来。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A0C2E278-F5AC-4840-B4E9-150E1DA51056__GUID-373E0508-021D-4FFE-90CD-93359B52371B">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_PENDING_STATS（NULL，NULL，'MY_STAT_TABLE'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881" name="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881"></a><h4 id="ARPLS-GUID-8431DF7A-830D-41BF-9A39-750A64EB1881" class="sect4"><span class="enumeration_section">165.7.41</span> EXPORT_SCHEMA_PREFS过程</h4>
                  <div>
                     <p>此过程用于导出指定所有者名称所拥有的所有表的统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881__GUID-0B05670E-44C5-41A3-8366-7D311167D6BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_SCHEMA_PREFS（自己的名称IN VARCHAR2，stattab IN VARCHAR2，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881__GUID-1F91306B-B298-4F05-ACC3-8B3640644292">参数</p>
                        <div class="tblformal" id="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881__GUID-36E742C3-6041-4754-90D9-F8ED4D079C7B">
                           <p class="titleintable">表165-47 EXPORT_SCHEMA_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SCHEMA_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_SCHEMA_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e14790">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e14793">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14798" headers="d960973e14790 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14798 d960973e14793 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14806" headers="d960973e14790 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14806 d960973e14793 ">
                                       <p>统计表名称到导出统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14814" headers="d960973e14790 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14814 d960973e14793 ">
                                       <p>（可选）在<code class="codeph">stattab</code>中与这些统计信息关联的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e14824" headers="d960973e14790 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e14824 d960973e14793 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881__GUID-F99B4D61-F353-489A-ABBA-19C23721CFA2">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881__GUID-2525C2E9-04A9-4245-AAF6-866EBBC54AF5">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您需要以所有者身份连接，或具有<code class="codeph">SYSDBA</code>权限，或具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，值用引号括起来。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8431DF7A-830D-41BF-9A39-750A64EB1881__GUID-8E4ABE6C-F930-4BBE-8F23-48D7DAEF4FA0">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_SCHEMA_PREFS（'SH'，'STAT'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F" name="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F"></a><h4 id="ARPLS-GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F" class="sect4"><span class="enumeration_section">165.7.42</span> EXPORT_SCHEMA_STATS程序</h4>
                  <div>
                     <p><span>此过程导出由<code class="codeph">ownname</code>标识的模式中的所有对象的统计信息，并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F__GUID-03F19364-ED82-4BD0-850B-83DD1CC67C78">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXPORT_SCHEMA_STATS（ownname VARCHAR2，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F__GUID-F7AA34CA-0FBE-4A51-8116-45BBB7BE718E">参数</p>
                        <div class="tblformal" id="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F__GUID-F3DF3B26-298D-4DFE-825F-8D3431BA25F1">
                           <p class="titleintable">表165-48 EXPORT_SCHEMA_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SCHEMA_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e14987">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e14990">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e14995" headers="d960973e14987 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e14995 d960973e14990 ">
                                       <p>指定架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e15003" headers="d960973e14987 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e15003 d960973e14990 ">
                                       <p>标识用于存储导出的统计信息的用户统计信息表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e15011" headers="d960973e14987 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e15011 d960973e14990 ">
                                       <p>指定与<code class="codeph">stattab</code>这些统计信息关联的标识符（可选）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e15022" headers="d960973e14987 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e15022 d960973e14990 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果不同于<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e15036" headers="d960973e14987 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e15036 d960973e14990 ">
                                       <p>指定要处理的统计信息。支持以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 指定表统计信息，列统计信息和索引统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 指定增量统计的元数据。
                                             </p>
                                          </li>
                                          <li><code class="codeph">REALTIME_STATS</code> - 仅指定<span>实时统计信息</span> 。
                                          </li>
                                       </ul>
                                       <p>您可以指定逗号分隔值的列表。例如， <code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。默认值为<code class="codeph">'OBJECT_STATS, REALTIME_STATS'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F__GUID-0FDD164A-5E52-4E7F-92D4-66D754D35D94">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F__GUID-14857A8E-6BEF-43A3-862F-D48D7161C28B">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-743570BF-0C1F-47E3-800C-4286C8FBF69F__GUID-D7350399-726B-48F7-BD1E-2883B39FB83B">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1" name="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1"></a><h4 id="ARPLS-GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1" class="sect4"><span class="enumeration_section">165.7.43</span> EXPORT_SYSTEM_STATS过程</h4>
                  <div>
                     <p>此过程检索系统统计信息并将其存储在由<code class="codeph">stattab</code>标识的用户统计信息表中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1__GUID-61E30358-B366-41E3-88B4-229A13390F1E">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXPORT_SYSTEM_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1__GUID-BF0C574E-1FD5-45B7-992A-6095D5D4D8AD">参数</p>
                        <div class="tblformal" id="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1__GUID-0863E72E-5F2C-46D0-8A71-8FF451872EE1">
                           <p class="titleintable">表165-49 EXPORT_SYSTEM_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SYSTEM_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_SYSTEM_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e15208">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e15211">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e15216" headers="d960973e15208 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e15216 d960973e15211 ">
                                       <p>用户统计信息表的标识符，用于描述统计信息的存储位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e15224" headers="d960973e15208 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e15224 d960973e15211 ">
                                       <p>与<code class="codeph">stattab</code>存储的统计信息关联的可选标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e15234" headers="d960973e15208 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e15234 d960973e15211 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1__GUID-9B259554-4E6A-426F-8686-C3B452A73D5D">安全模型</p>
                        <p>要运行此过程，您必须具有<code class="codeph">GATHER_SYSTEM_STATISTICS</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1__GUID-2F2010BB-5DD0-429A-803D-D3E7198D5DF7">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级</p>
                        <p><code class="codeph">ORA-20003</code> ：无法导出系统统计信息</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A0CBF93-433F-4045-9FA3-D252D9BA62E1__GUID-2700A486-E4A3-4684-90E1-82FE22512F9A">使用说明</p>
                        <p>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC" name="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC"></a><h4 id="ARPLS-GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC" class="sect4"><span class="enumeration_section">165.7.44</span> EXPORT_TABLE_PREFS过程</h4>
                  <div>
                     <p>此过程用于将指定模式中指定表的统计信息首选项导出到指定的统计信息表中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC__GUID-1B5B02C2-1EE9-46E0-B2B3-BD15A4E4E2D1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_TABLE_PREFS（ownname IN VARCHAR2，tabname IN VARCHAR2，stattab IN VARCHAR2，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC__GUID-38D3E396-9B47-4035-90AA-7DEB3DE6B44E">参数</p>
                        <div class="tblformal" id="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC__GUID-126D8E4A-7265-4D00-BB1E-E8D2C7B61534">
                           <p class="titleintable">表165-50 EXPORT_TABLE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_TABLE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_TABLE_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e15379">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e15382">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e15387" headers="d960973e15379 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e15387 d960973e15382 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e15395" headers="d960973e15379 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e15395 d960973e15382 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e15403" headers="d960973e15379 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e15403 d960973e15382 ">
                                       <p>统计表名称导出统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e15411" headers="d960973e15379 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e15411 d960973e15382 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的可选标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e15421" headers="d960973e15379 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e15421 d960973e15382 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不是<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC__GUID-356A8DDD-1ED8-40E5-AF80-8F72ECB34283">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC__GUID-18656220-E530-46D7-A22A-5DE34107CF6B">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您需要以表的所有者身份进行连接，或者具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，值用引号括起来。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF3AB7E6-D8CA-4649-9372-B186EB1A2CCC__GUID-C05101EB-7E6C-4280-B42E-754ADEFC4FD9">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.EXPORT_TABLE_PREFS（'SH'，'SALES'，'STAT'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81" name="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81"></a><h4 id="ARPLS-GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81" class="sect4"><span class="enumeration_section">165.7.45</span> EXPORT_TABLE_STATS程序</h4>
                  <div>
                     <p><span>此过程导出指定表的统计信息（包括关联的索引统计信息），并将它们存储在<code class="codeph">stattab</code>标识的用户统计信息表中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81__GUID-B4EDD993-4EB5-4342-8043-118F9109FB17">句法</p><pre class="pre codeblock"><code>DBMS_STATS.EXPORT_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，cascade BOOLEAN DEFAULT TRUE，statown VARCHAR2 DEFAULT NULL，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81__GUID-8773A719-DB22-4809-8DC1-969ED51F694C">参数</p>
                        <div class="tblformal" id="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81__GUID-F1561C38-6366-4D54-8F57-CE7B669D3039">
                           <p class="titleintable">表165-51 EXPORT_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.EXPORT_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e15578">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e15581">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15586" headers="d960973e15578 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15586 d960973e15581 ">
                                       <p>指定架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15594" headers="d960973e15578 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15594 d960973e15581 ">
                                       <p>指定表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15602" headers="d960973e15578 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15602 d960973e15581 ">
                                       <p>指定表分区的名称。如果表已分区，并且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则该过程将导出全局和分区统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15616" headers="d960973e15578 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15616 d960973e15581 ">
                                       <p>指定与<code class="codeph">stattab</code>这些统计信息关联的标识符（可选）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15627" headers="d960973e15578 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15627 d960973e15581 ">
                                       <p>指定与<code class="codeph">stattab</code>这些统计信息关联的标识符（可选）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15638" headers="d960973e15578 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15638 d960973e15581 ">
                                       <p>指示是否导出列和索引统计信息。如果为<code class="codeph">TRUE</code> ，则过程导出指定表的列和索引统计信息。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15649" headers="d960973e15578 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15649 d960973e15581 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果不同于<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15663" headers="d960973e15578 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15663 d960973e15581 ">
                                       <p>指定要处理的统计信息。支持以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 指定表统计信息，列统计信息和索引统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 指定增量统计的元数据。
                                             </p>
                                          </li>
                                          <li><code class="codeph">REALTIME_STATS</code> - 仅指定<span>实时统计信息</span> 。
                                          </li>
                                       </ul>
                                       <p>您可以指定逗号分隔值的列表。例如， <code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。默认值为<code class="codeph">'OBJECT_STATS, REALTIME_STATS'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81__GUID-0FDD164A-5E52-4E7F-92D4-66D754D35D94">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81__GUID-2516ADDC-3E10-4E80-9822-0A7057620773">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-57FE8E3C-C897-450C-92E1-4AFF8E444D81__GUID-0116B40C-E667-4B5E-83A5-4A3C861F4CE2">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CA79C291-B7B4-4B35-8507-454366D83A03" name="GUID-CA79C291-B7B4-4B35-8507-454366D83A03"></a><h4 id="ARPLS-GUID-CA79C291-B7B4-4B35-8507-454366D83A03" class="sect4"><span class="enumeration_section">165.7.46</span> FLUSH_DATABASE_MONITORING_INFO过程</h4>
                  <div>
                     <p>此过程保存字典中所有表的监视信息。数据库立即更新<code class="codeph">*_TAB_MODIFICATIONS</code> ， <code class="codeph">*_TAB_STATISTICS</code>和<code class="codeph">*_IND_STATISTICS</code>视图中的相应条目。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CA79C291-B7B4-4B35-8507-454366D83A03__GUID-D7D205E8-13B1-43CE-AF16-BCB1E16390B0">句法</p><pre class="pre codeblock"><code>DBMS_STATS.FLUSH_DATABASE_MONITORING_INFO;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA79C291-B7B4-4B35-8507-454366D83A03__GUID-3F04FF0B-CDBE-4B9E-881A-369928B4F161">安全模型</p>
                        <p>运行此过程需要<code class="codeph">ANALYZE_ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA79C291-B7B4-4B35-8507-454366D83A03__GUID-42A7FB05-43A5-4CEA-8C87-B00F96A37D1D">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA79C291-B7B4-4B35-8507-454366D83A03__GUID-4D06EC82-CCCC-4F5A-BB21-AA69A327EF9D">使用说明</p>
                        <p>从Oracle Database 12c第2版（12.2）开始，您无需调用<code class="codeph">FLUSH_DATABASE_MONITORING_ <code class="codeph">INFO</code></code>来查看<code class="codeph">*_TAB_STATISTICS</code>和<code class="codeph">*_IND_STATISTICS</code>的最新信息，因为这些视图显示在SGA中缓存并存储在磁盘上的统计信息。由于<code class="codeph">GATHER_*_STATS</code>过程在内部将监视信息保存到磁盘，因此在收集统计信息之前无需运行此过程。
                        </p>
                        <div class="infoboxnotealso" id="GUID-CA79C291-B7B4-4B35-8507-454366D83A03__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/gathering-optimizer-statistics.html#GUID-33C8239F-53A9-4FCB-969B-4772041317AA" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何设置优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1" name="GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1"></a><h4 id="ARPLS-GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1" class="sect4"><span class="enumeration_section">165.7.47</span> GATHER_DATABASE_STATS程序</h4>
                  <div>
                     <p>此过程收集数据库中所有对象的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1__GUID-07B06DA1-70CC-4398-9A11-8C3CB1F033D6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_DATABASE_STATS（estimate_percent NUMBER DEFAULT to_estimate_percent_type（get_param（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT get_param（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（get_param（'DEGREE'）），granularity VARCHAR2 DEFAULT GET_PARAM（ 'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（get_param（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，选项VARCHAR2 DEFAULT'GATHER'，objlist OUT ObjectTab，statown VARCHAR2 DEFAULT NULL，gather_sys BOOLEAN DEFAULT TRUE，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），obj_filter_list ObjectTab DEFAULT NULL）; DBMS_STATS.GATHER_DATABASE_STATS（estimate_percent NUMBER DEFAULT to_estimate_percent_type（get_param（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT get_param（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（get_param（'DEGREE'）），granularity VARCHAR2 DEFAULT GET_PARAM（ 'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（get_param（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，options VARCHAR2 DEFAULT'GATHER'，statown VARCHAR2 DEFAULT NULL，gather_sys BOOLEAN DEFAULT TRUE，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（ get_param（'NO_INVALIDATE'）），obj_filter_list ObjectTab DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1__GUID-38646A6A-CD85-4212-A588-5447CB9FB638">参数</p>
                        <div class="tblformal" id="GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1__GUID-C382F9AC-E469-4654-8CE6-8526DC395F4F">
                           <p class="titleintable">表165-52 GATHER_DATABASE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_DATABASE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_DATABASE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e15977">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e15980">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e15985" headers="d960973e15977 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e15985 d960973e15980 ">
                                       <p>确定要采样的行的百分比。</p>
                                       <p>有效范围介于0.000001和100之间。使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>使数据库能够确定适当的样本大小以获得最佳统计信息。这是默认值。
                                       </p>
                                       <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16030" headers="d960973e15977 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16030 d960973e15980 ">
                                       <p>确定数据库是使用随机块采样（ <code class="codeph">TRUE</code> ）还是随机行采样（ <code class="codeph">FALSE</code> ）。默认值为<code class="codeph">FALSE</code> 。</p>
                                       <p>随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。此参数仅在估计统计数据时相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16049" headers="d960973e15977 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16049 d960973e15980 ">
                                       <p>在全局，模式，数据库或字典级别设置首选项时，仅允许<code class="codeph">'FOR ALL'</code>语法：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图。
                                          </li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改该值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16126" headers="d960973e15977 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16126 d960973e15980 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                       <p><code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。 <code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用<code class="codeph">SET_DATABASE_PREFS</code> ， <code class="codeph">SET_GLOBAL_PREFS</code> ， <code class="codeph">SET_SCHEMA_PREFS</code>和<code class="codeph">SET_TABLE_PREFS</code>过程更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。
                                       </p>
                                       <p>使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，程度介于<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt; <span class="codeinlineitalic">n</span></code>或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，当对象的大小不保证并行执行时， <code class="codeph">DBMS_STATS</code>的当前实现可以使用串行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16209" headers="d960973e15977 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16209 d960973e15980 ">
                                       <p>要收集的统计数据的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级别的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16252" headers="d960973e15977 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16252 d960973e15980 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                       <p>指定此选项相当于在表的每个索引上运行<code class="codeph">GATHER_INDEX_STATS</code>过程。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>使数据库能够确定是否需要收集索引统计信息。这是默认值。您可以使用<code class="codeph">SET_DATABASE_PREFS</code> ， <code class="codeph">SET_GLOBAL_PREFS</code> ， <code class="codeph">SET_SCHEMA_PREFS</code>和<code class="codeph">SET_TABLE_PREFS</code>过程更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16281" headers="d960973e15977 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16281 d960973e15980 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                       <p>假定统计信息表与被分析的对象驻留在同一模式中，因此每个模式中必须有一个这样的表才能使用此选项。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16291" headers="d960973e15977 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16291 d960973e15980 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16302" headers="d960973e15977 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16302 d960973e15980 ">
                                       <p>指定哪些对象需要收集统计信息。有效值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集数据库中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。
                                             </p>
                                             <p>数据库隐式确定哪些对象需要新的统计信息，并确定如何收集这些统计信息。指定<code class="codeph">GATHER AUTO</code> ，唯一的附加有效参数是<code class="codeph">comp_id</code> ， <code class="codeph">no_invalidate</code> ， <code class="codeph">stattab</code> ， <code class="codeph">statid</code>和<code class="codeph">statown</code> ;所有其他参数设置将被忽略。此外，数据库返回已处理对象的列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER STALE</code> - 通过查询<code class="codeph"><span class="codeinlineitalic">*</span> _TAB_MODIFICATIONS</code>视图收集陈旧对象的统计信息。此外，数据库返回发现过时的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER EMPTY</code> - 收集当前没有统计信息的对象的统计信息。此外，数据库返回找不到统计信息的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST AUTO</code> - 返回要使用<code class="codeph">GATHER AUTO</code>处理的对象列表。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST STALE</code> - 返回通过查看<code class="codeph"><span class="codeinlineitalic">*</span> _TAB_MODIFICATIONS</code>视图确定的陈旧对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST EMPTY</code> - 返回当前没有统计信息的对象列表。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16380" headers="d960973e15977 ">
                                       <p><code class="codeph">objlist</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16380 d960973e15980 ">
                                       <p>发现陈旧或空的对象列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16388" headers="d960973e15977 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16388 d960973e15980 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16400" headers="d960973e15977 ">
                                       <p><code class="codeph">gather_sys</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16400 d960973e15980 ">
                                       <p>收集有关<code class="codeph">SYS</code>用户拥有的对象的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16411" headers="d960973e15977 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16411 d960973e15980 ">
                                       <p>控制正在为其收集统计信息的表的从属游标的失效。默认值为<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code> ，这意味着数据库决定何时使相关游标无效。
                                       </p>
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则数据库不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16430" headers="d960973e15977 ">
                                       <p><code class="codeph">obj_filter_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16430 d960973e15980 ">
                                       <p>对象过滤器列表。提供时， <code class="codeph">GATHER_DATABASE_STATS</code>将仅根据需要收集满足列表中至少一个对象过滤器的对象的统计信息。在单个对象过滤器中，我们可以指定对象属性的约束。除非双引号，否则对象过滤器中指定的属性值不区分大小写。属性值中允许使用通配符。假设在一个对象过滤器中为属性a1，a2，...指定了非<code class="codeph">NULL</code>值s1，s2，....如果（o.a1喜欢s1）或（o.a2喜欢s2）或......为真，则称对象o满足该对象过滤器。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1__GUID-C71F56D1-2AE3-4170-A7B3-32A6413C5A68">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7D7442B5-B060-40E9-AA18-2085E527C3B1__GUID-C8A1F6EE-6D89-41D5-AD6F-A964665AB79B">使用说明</p>
                        <p>要运行此过程，您需要具有<code class="codeph">SYSDBA</code>角色或同时具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                        </p>
                        <p>如果使用<code class="codeph">GATHER AUTO</code>选项，则将使用样本而不是完整扫描创建频率直方图。以下方案显示了<code class="codeph">GATHER AUTO</code>的使用位置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>像这样创建一个表： <code class="codeph">CREATE TABLE NEWTAB as SELECT * FROM ....</code>
                              </p>
                              <p>这将创建<code class="codeph">NEWTAB</code>统计数据但没有直方图。
                              </p>
                           </li>
                           <li>
                              <p>接下来，DBA使用<code class="codeph">gather_table_stats</code>上的<code class="codeph">GATHER AUTO</code>创建直方图。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NEWTAB</code>上的<code class="codeph">FREQUENCY</code>直方图将使用样本而不是全表扫描创建。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-867989C7-ADFC-4464-8981-437CEA7F331E" name="GUID-867989C7-ADFC-4464-8981-437CEA7F331E"></a><h4 id="ARPLS-GUID-867989C7-ADFC-4464-8981-437CEA7F331E" class="sect4"><span class="enumeration_section">165.7.48</span> GATHER_DICTIONARY_STATS程序</h4>
                  <div>
                     <p>此过程收集字典模式<code class="codeph">SYS</code> ， <code class="codeph">SYSTEM</code>和RDBMS组件模式的统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-867989C7-ADFC-4464-8981-437CEA7F331E__GUID-F3593710-FEC6-4105-9961-AB8BCE6044D4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_DICTIONARY_STATS（comp_id VARCHAR2 DEFAULT NULL，estimate_percent NUMBER DEFAULT to_estimate_percent_type（get_param（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT get_param（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（get_param（'DEGREE'）），粒度VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（get_param（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，选项VARCHAR2 DEFAULT'GATHER AUTO'，objlist OUT ObjectTab，statown VARCHAR2 DEFAULT NULL， no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），obj_filter_list ObjectTab DEFAULT NULL）; DBMS_STATS.GATHER_DICTIONARY_STATS（comp_id VARCHAR2 DEFAULT NULL，estimate_percent NUMBER DEFAULT to_estimate_percent_type（GET_PARAM（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT GET_PARAM（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（GET_PARAM（'DEGREE'）），粒度VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（GET_PARAM（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，选项VARCHAR2 DEFAULT'GATHER AUTO'，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type （get_param（'NO_INVALIDATE'）），obj_filter_list ObjectTab DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-867989C7-ADFC-4464-8981-437CEA7F331E__GUID-579BA33F-DA80-4DD7-AB38-54B8C6F8B7AA">参数</p>
                        <div class="tblformal" id="GUID-867989C7-ADFC-4464-8981-437CEA7F331E__GUID-074DF030-5E29-4224-8A7C-BB51489D83E6">
                           <p class="titleintable">表165-53 GATHER_DICTIONARY_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_DICTIONARY_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_DICTIONARY_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e16628">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e16631">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16636" headers="d960973e16628 ">
                                       <p><code class="codeph">comp_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16636 d960973e16631 ">
                                       <p>要分析的模式的组件ID。<code class="codeph">NULL</code>导致分析所有RDBMS组件的模式。请参阅<code class="codeph">DBA_REGISTRY</code>视图的<code class="codeph">COMP_ID</code>列。无论此参数如何，该过程始终会收集有关<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>模式的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16659" headers="d960973e16628 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16659 d960973e16631 ">
                                       <p>要估计的行的百分比（ <code class="codeph">NULL</code>表示计算）。有效范围是<code class="codeph">[0.000001,100]</code> 。使用常量<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_SAMPLE_SIZE</code>让Oracle确定适当的样本大小以获得良好的统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值<code class="codeph">.</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16711" headers="d960973e16628 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16711 d960973e16631 ">
                                       <p>确定是否使用随机块采样而不是随机行采样。随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。仅在执行估算统计时相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16719" headers="d960973e16628 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16719 d960973e16631 ">
                                       <p>方法选项。此参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图。
                                          </li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16793" headers="d960973e16628 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16793 d960973e16631 ">
                                       <p>并行度。<code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，这在<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt;n</code> ，或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，目前执行的<code class="codeph">DBMS_STATS</code>可以使用串行执行，如果对象的尺寸不保证并行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16876" headers="d960973e16628 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16876 d960973e16631 ">
                                       <p>要收集的统计数据的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16919" headers="d960973e16628 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16919 d960973e16631 ">
                                       <p>收集索引的统计数据。索引统计信息收集不会并行化。除了收集表和列统计信息之外，使用此选项等效于在架构中的每个索引上运行<a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS过程</a> 。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>让Oracle确定是否要收集索引统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16967" headers="d960973e16628 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16967 d960973e16631 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16975" headers="d960973e16628 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16975 d960973e16631 ">
                                       <p>要在<code class="codeph">stattab</code>中与这些统计信息关联的（可选）标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e16985" headers="d960973e16628 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e16985 d960973e16631 ">
                                       <p>指定哪些对象需要收集统计信息。有效值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。这是默认值。
                                             </p>
                                             <p id="GUID-867989C7-ADFC-4464-8981-437CEA7F331E__d5e1093">数据库隐式确定哪些对象需要新的统计信息，并确定如何收集这些统计信息。指定<code class="codeph">GATHER AUTO</code> ，唯一的附加有效参数是<code class="codeph">comp_id</code> ， <code class="codeph">no_invalidate</code> ， <code class="codeph">stattab</code> ， <code class="codeph">statid</code>和<code class="codeph">statown</code> ;所有其他参数设置将被忽略。此外，数据库返回已处理对象的列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集相关模式中所有对象的统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER STALE</code> - 通过查询<code class="codeph"><span class="codeinlineitalic">*</span> _TAB_MODIFICATIONS</code>视图收集陈旧对象的统计信息。此外，数据库返回发现过时的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER EMPTY</code> - 收集当前没有统计信息的对象的统计信息。此外，数据库返回找不到统计信息的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST AUTO</code> - 返回要使用<code class="codeph">GATHER AUTO</code>处理的对象列表。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST STALE</code> - 返回通过查看<code class="codeph"><span class="codeinlineitalic">*</span> _TAB_MODIFICATIONS</code>视图确定的陈旧对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST EMPTY</code> - 返回当前没有统计信息的对象列表。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e17063" headers="d960973e16628 ">
                                       <p><code class="codeph">objlist</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e17063 d960973e16631 ">
                                       <p>发现陈旧或空的对象列表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e17072" headers="d960973e16628 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e17072 d960973e16631 ">
                                       <p>包含<code class="codeph">stattab</code>模式，如果与当前模式不同。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e17083" headers="d960973e16628 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e17083 d960973e16631 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e17131" headers="d960973e16628 ">
                                       <p><code class="codeph">obj_filter_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e17131 d960973e16631 ">
                                       <p>对象过滤器列表。提供时，这将仅根据需要收集满足列表中至少一个对象过滤器的对象的统计信息。在单个对象过滤器中，我们可以指定对象属性的约束。除非双引号，否则对象过滤器中指定的属性值不区分大小写。属性值中允许使用通配符。假设在一个对象过滤器中为属性a1，a2，...指定了非<code class="codeph">NULL</code>值s1，s2，....如果（o.a1喜欢s1）和（o.a2喜欢s2）和...是真，则称对象o满足该对象过滤器。请参阅<a href="DBMS_STATS.html#GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__BABBFCJG">应用对象过滤器列表</a> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-867989C7-ADFC-4464-8981-437CEA7F331E__GUID-29A3EC69-4661-4274-B670-6B590E8597C9">使用说明</p>
                        <p>您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权才能执行此过程。
                        </p>
                        <p>如果使用<code class="codeph">GATHER AUTO</code>选项，则将使用样本而不是完整扫描创建频率直方图。以下方案显示了<code class="codeph">GATHER AUTO</code>的使用位置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>像这样创建一个表： <code class="codeph">CREATE TABLE NEWTAB as SELECT * FROM ....</code>
                              </p>
                              <p>这将创建<code class="codeph">NEWTAB</code>统计数据但没有直方图。
                              </p>
                           </li>
                           <li>
                              <p>接下来，DBA使用<code class="codeph">gather_table_stats</code>上的<code class="codeph">GATHER AUTO</code>创建直方图。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NEWTAB</code>上的<code class="codeph">FREQUENCY</code>直方图将使用样本而不是全表扫描创建。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-867989C7-ADFC-4464-8981-437CEA7F331E__GUID-8EB1EAF0-F729-4615-B0B4-225D842E8088">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：索引不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-EAD4C693-4F03-45DE-9704-1466C8E35232" name="GUID-EAD4C693-4F03-45DE-9704-1466C8E35232"></a><h4 id="ARPLS-GUID-EAD4C693-4F03-45DE-9704-1466C8E35232" class="sect4"><span class="enumeration_section">165.7.49</span> GATHER_FIXED_OBJECTS_STATS程序</h4>
                  <div>
                     <p>此过程收集所有固定对象（动态性能表）的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EAD4C693-4F03-45DE-9704-1466C8E35232__GUID-5A2BED53-F0BF-489D-8D5A-B9A27FD1FB2F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_FIXED_OBJECTS_STATS（stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAD4C693-4F03-45DE-9704-1466C8E35232__GUID-BB439DB0-B335-4791-A33E-7547724ADF1A">参数</p>
                        <div class="tblformal" id="GUID-EAD4C693-4F03-45DE-9704-1466C8E35232__GUID-341F611D-D7A0-46A4-8C6E-00C31510F87C">
                           <p class="titleintable">表165-54 GATHER_FIXED_OBJECTS_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_FIXED_OBJECTS_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_FIXED_OBJECTS_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d960973e17327">参数</th>
                                    <th align="left" valign="bottom" id="d960973e17330">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17335" headers="d960973e17327 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17335 d960973e17330 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17343" headers="d960973e17327 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17343 d960973e17330 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17354" headers="d960973e17327 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17354 d960973e17330 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17365" headers="d960973e17327 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17365 d960973e17330 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAD4C693-4F03-45DE-9704-1466C8E35232__GUID-9A3AD001-26B5-42D6-A5E9-08F138A01D26">使用说明</p>
                        <p>您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>系统特权才能执行此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAD4C693-4F03-45DE-9704-1466C8E35232__GUID-DE7E31A2-CD08-48CA-8C9A-19BE1A2BFE33">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9D01B268-734F-45C0-9620-1478F5A1B261" name="GUID-9D01B268-734F-45C0-9620-1478F5A1B261"></a><h4 id="ARPLS-GUID-9D01B268-734F-45C0-9620-1478F5A1B261" class="sect4"><span class="enumeration_section">165.7.50</span> GATHER_INDEX_STATS程序</h4>
                  <div>
                     <p>此过程收集索引统计信息。它试图尽可能多地并行化工作。</p>
                     <div class="section">
                        <p>限制在各个参数中描述。此操作不会与某些类型的索引并行，包括群集索引，域索引和位图连接索引。<code class="codeph">granularity</code>和<code class="codeph">no_invalidate</code>参数与这些类型的索引无关。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D01B268-734F-45C0-9620-1478F5A1B261__GUID-CABFB031-CC2D-485D-8BAA-3E0C3B879A52">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，estimate_percent NUMBER DEFAULT to_estimate_percent_type（GET_PARAM（'ESTIMATE_PERCENT'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，degree NUMBER DEFAULT to_degree_type（get_param（ 'DEGREE'）），粒度VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（GET_PARAM（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D01B268-734F-45C0-9620-1478F5A1B261__GUID-B84DE7E6-4303-4463-B7B6-5960BAF32AEB">参数</p>
                        <div class="tblformal" id="GUID-9D01B268-734F-45C0-9620-1478F5A1B261__GUID-98708BFB-8718-4651-BEE6-552E05417CC2">
                           <p class="titleintable">表165-55 GATHER_INDEX_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_INDEX_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_INDEX_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d960973e17567">参数</th>
                                    <th align="left" valign="bottom" id="d960973e17570">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17575" headers="d960973e17567 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17575 d960973e17570 ">
                                       <p>要分析的索引模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17583" headers="d960973e17567 ">
                                       <p><code class="codeph">indname</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17583 d960973e17570 ">
                                       <p>索引名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17591" headers="d960973e17567 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17591 d960973e17570 ">
                                       <p>分区名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17599" headers="d960973e17567 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17599 d960973e17570 ">
                                       <p>要估计的行的百分比（ <code class="codeph">NULL</code>表示计算）。有效范围是<code class="codeph">[0.000001,100]</code> 。使用常量<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_SAMPLE_SIZE</code>让Oracle确定适当的样本大小以获得良好的统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17654" headers="d960973e17567 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17654 d960973e17570 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17662" headers="d960973e17567 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17662 d960973e17570 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17672" headers="d960973e17567 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17672 d960973e17570 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17686" headers="d960973e17567 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17686 d960973e17570 ">
                                       <p>并行度。<code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，这在<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt;n</code> ，或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，目前执行的<code class="codeph">DBMS_STATS</code>可以使用串行执行，如果对象的尺寸不保证并行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17773" headers="d960973e17567 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17773 d960973e17570 ">
                                       <p>要收集的统计数据的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级别的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17816" headers="d960973e17567 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17816 d960973e17570 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d960973e17871" headers="d960973e17567 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d960973e17871 d960973e17570 ">
                                       <p>即使对象被锁定，也要收集对象的统计信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D01B268-734F-45C0-9620-1478F5A1B261__GUID-BFE2E44D-19D1-41CC-A681-939566FC8504">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：索引不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D01B268-734F-45C0-9620-1478F5A1B261__GUID-54D6A884-35FE-4E13-9B40-8DBA94E53B5B">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41" name="GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41"></a><h4 id="ARPLS-GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41" class="sect4"><span class="enumeration_section">165.7.51</span> GATHER_PROCESSING_RATE过程</h4>
                  <div>
                     <p>此过程开始收集以分钟定义的<code class="codeph">interval</code>后结束的处理速率的工作。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41__GUID-86D0E70F-8C11-46B1-A210-24FB6324CADE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_PROCESSING_RATE（gather_mode IN VARCHAR2 DEFAULT'START'，间隔IN NUMBER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41__GUID-05884D35-4909-43EC-910C-ECC3D2021127">参数</p>
                        <div class="tblformal" id="GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41__GUID-AABE9621-3C20-45BD-A306-8791CB52CB3C">
                           <p class="titleintable">表165-56 GATHER_PROCESSING_RATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_PROCESSING_RATE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_PROCESSING_RATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e18025">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e18028">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e18033" headers="d960973e18025 ">
                                       <p><code class="codeph">gathering_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e18033 d960973e18028 ">
                                       <p>模式： <code class="codeph">'START'</code>或<code class="codeph">'END'</code> 。该模式基于使用<code class="codeph">'START'</code>选项调用时的活动会话历史记录（ASH）数据。使用<code class="codeph">'END'</code>选项调用时，它会停止收集。使用<code class="codeph">'START'</code>调用时，可以选择指定'interval'选项。如果未指定<code class="codeph">interval</code> ，则其默认值设置为60分钟。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e18060" headers="d960973e18025 ">
                                       <p><code class="codeph">间隔</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e18060 d960973e18028 ">
                                       <p>必须收集处理的时间间隔（分钟数）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41__GUID-28D3D514-7F85-4165-8F1D-A151423AA588">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您需要<code class="codeph">OPTIMIZER_PROCESSING_RATE</code>角色才能运行此过程。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">AUTO</code> <code class="codeph">DOP</code>使用处理速率来确定SQL语句的最佳并行度。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B1F004EA-0E69-47CF-A357-C8BCE0A23C41__GUID-F4CA528D-C795-42FE-89E4-BC8691C451FF">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F" name="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F"></a><h4 id="ARPLS-GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F" class="sect4"><span class="enumeration_section">165.7.52</span> GATHER_SCHEMA_STATS程序</h4>
                  <div>
                     <p>此过程收集模式中所有对象的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F__GUID-9F04CAAE-07EA-444F-A8F0-6F781229CD25">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_SCHEMA_STATS（ownname VARCHAR2，estimate_percent NUMBER DEFAULT to_estimate_percent_type（get_param（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT get_param（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（get_param（'DEGREE'）），粒度VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（get_param（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，选项VARCHAR2 DEFAULT'GATHER'，objlist OUT ObjectTab，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE，obj_filter_list ObjectTab DEFAULT NULL）; DBMS_STATS.GATHER_SCHEMA_STATS（ownname VARCHAR2，estimate_percent NUMBER DEFAULT to_estimate_percent_type（get_param（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT get_param（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（get_param（'DEGREE'）），粒度VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（get_param（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，options VARCHAR2 DEFAULT'GATHER'，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（ 'NO_INVALIDATE'），强制BOOLEAN DEFAULT FALSE，obj_filter_list ObjectTab DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F__GUID-32565729-0BCB-48BD-9DD1-F1E138E83150">参数</p>
                        <div class="tblformal" id="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F__GUID-15C134B3-9CBF-4077-8168-C9D9BA408B34">
                           <p class="titleintable">表165-57 GATHER_SCHEMA_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_SCHEMA_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e18202">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e18205">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18210" headers="d960973e18202 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18210 d960973e18205 ">
                                       <p>要分析的模式（ <code class="codeph">NULL</code>表示当前模式）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18221" headers="d960973e18202 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18221 d960973e18205 ">
                                       <p>确定要采样的行的百分比。</p>
                                       <p>有效范围介于0.000001和100之间。使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>使数据库能够确定适当的样本大小以获得最佳统计信息。这是默认值。
                                       </p>
                                       <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18266" headers="d960973e18202 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18266 d960973e18205 ">
                                       <p>是否使用随机块采样而不是随机行采样。随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。仅在进行估算统计时才适用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18274" headers="d960973e18202 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18274 d960973e18205 ">
                                       <p>接受：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图</li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18348" headers="d960973e18202 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18348 d960973e18205 ">
                                       <p>并行度。<code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，这在<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt;n</code> ，或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，目前执行的<code class="codeph">DBMS_STATS</code>可以使用串行执行，如果对象的尺寸不保证并行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18431" headers="d960973e18202 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18431 d960973e18205 ">
                                       <p>要收集的统计数据的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级别的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18474" headers="d960973e18202 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18474 d960973e18205 ">
                                       <p>收集有关索引的统计信息。除了收集表和列统计信息之外，使用此选项等效于在架构中的每个索引上运行<a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS过程</a> 。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>让Oracle确定是否要收集索引统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18522" headers="d960973e18202 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18522 d960973e18205 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18530" headers="d960973e18202 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18530 d960973e18205 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18540" headers="d960973e18202 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18540 d960973e18205 ">
                                       <p>指定哪些对象需要收集统计信息。有效值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集模式中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。
                                             </p>
                                             <p>数据库隐式确定哪些对象需要新的统计信息，并确定如何收集这些统计信息。指定<code class="codeph">GATHER AUTO</code> ，唯一的附加有效参数是<code class="codeph">comp_id</code> ， <code class="codeph">no_invalidate</code> ， <code class="codeph">stattab</code> ， <code class="codeph">statid</code>和<code class="codeph">statown</code> ;所有其他参数设置将被忽略。此外，数据库返回已处理对象的列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER STALE</code> - 通过查询<code class="codeph"><span class="codeinlineitalic">*</span> _TAB_MODIFICATIONS</code>视图收集陈旧对象的统计信息。此外，数据库返回发现过时的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER EMPTY</code> - 收集当前没有统计信息的对象的统计信息。此外，数据库返回找不到统计信息的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST AUTO</code> - 返回要使用<code class="codeph">GATHER AUTO</code>处理的对象列表。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST STALE</code> - 返回通过查看<code class="codeph"><span class="codeinlineitalic">*</span> _TAB_MODIFICATIONS</code>视图确定的陈旧对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LIST EMPTY</code> - 返回当前没有统计信息的对象列表。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18618" headers="d960973e18202 ">
                                       <p><code class="codeph">objlist</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18618 d960973e18205 ">
                                       <p>发现陈旧或空的对象列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18627" headers="d960973e18202 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18627 d960973e18205 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18641" headers="d960973e18202 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18641 d960973e18205 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18692" headers="d960973e18202 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18692 d960973e18205 ">
                                       <p>即使对象被锁定，也要收集对象的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e18700" headers="d960973e18202 ">
                                       <p><code class="codeph">obj_filter_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e18700 d960973e18205 ">
                                       <p>对象过滤器列表。提供时， <code class="codeph">GATHER_SCHEMA_STATS</code>将仅根据需要收集满足列表中至少一个对象过滤器的对象的统计信息。在单个对象过滤器中，我们可以指定对象属性的约束。除非双引号，否则对象过滤器中指定的属性值不区分大小写。属性值中允许使用通配符。假设在一个对象过滤器中为属性a1，a2，...指定了非<code class="codeph">NULL</code>值s1，s2，....如果（o.a1喜欢s1）和（o.a2喜欢s2）和...是真，则称对象o满足该对象过滤器。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F__GUID-839CBD5F-44AA-4EE4-87D9-52EF43F1912E">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                        <p>如果使用<code class="codeph">GATHER AUTO</code>选项，则将使用样本而不是完整扫描创建频率直方图。以下方案显示了<code class="codeph">GATHER AUTO</code>的使用位置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>像这样创建一个表： <code class="codeph">CREATE TABLE NEWTAB as SELECT * FROM ....</code>
                              </p>
                              <p>这将创建<code class="codeph">NEWTAB</code>统计数据但没有直方图。
                              </p>
                           </li>
                           <li>
                              <p>接下来，DBA使用<code class="codeph">gather_table_stats</code>上的<code class="codeph">GATHER AUTO</code>创建直方图。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NEWTAB</code>上的<code class="codeph">FREQUENCY</code>直方图将使用样本而不是全表扫描创建。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F__GUID-5963A485-B6CF-4942-82D7-A6F1D7176562">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：架构不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B3AE30F-1A34-4BFE-A326-15048F7E904F__GUID-C1B1DAE6-56C6-4661-8AFD-E48AEAC567F6">例子</p>
                        <p>应用对象过滤器列表</p>
                        <p>以下示例指定表<code class="codeph">SH.SALES</code>和<code class="codeph">SH.COSTS</code> （如果过时）将收集统计信息。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE filter_lst DBMS_STATS.OBJECTTAB：= DBMS_STATS.OBJECTTAB（）; BEGIN filter_lst.extend（2）; filter_lst（1）.ownname：='SH'; filter_lst（1）.objname：='SALES'; filter_lst（2）.ownname：='SH'; filter_lst（2）.objname：='COSTS'; DBMS_STATS.GATHER_SCHEMA_STATS（ownname =&gt; 'SH'，obj_filter_list =&gt; filter_lst）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-257CDCB8-3595-464B-8337-43EF23A6068D" name="GUID-257CDCB8-3595-464B-8337-43EF23A6068D"></a><h4 id="ARPLS-GUID-257CDCB8-3595-464B-8337-43EF23A6068D" class="sect4"><span class="enumeration_section">165.7.53</span> GATHER_SYSTEM_STATS程序</h4>
                  <div>
                     <p>此过程收集系统统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-257CDCB8-3595-464B-8337-43EF23A6068D__GUID-9359305F-1D00-4A81-9769-487C43BF063E">句法</p><pre class="pre codeblock"><code>DBMS_STATS.GATHER_SYSTEM_STATS（gather_mode VARCHAR2 DEFAULT'NOWORKLOAD'，interval INTEGER DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-257CDCB8-3595-464B-8337-43EF23A6068D__GUID-132C0D5B-8184-4C66-B5FE-7459E66E0424">参数</p>
                        <div class="tblformal" id="GUID-257CDCB8-3595-464B-8337-43EF23A6068D__GUID-867B0B97-B3AF-4378-B6EF-69B00273786A">
                           <p class="titleintable">表165-58 GATHER_SYSTEM_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_SYSTEM_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_SYSTEM_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e18901">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e18904">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e18909" headers="d960973e18901 ">
                                       <p><code class="codeph">gathering_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e18909 d960973e18904 ">
                                       <p>指定数据库收集系统统计信息的模式。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">NOWORKLOAD</code></p>
                                             <p>该数据库捕获I / O系统的性能特征。收集可能需要几分钟，具体取决于数据库的大小。在此期间，数据库估计I / O系统的平均读取寻道时间和传输速度。此模式适用于所有工作负载。</p>
                                             <p>要微调工作负载的系统统计信息，请使用<code class="codeph">START</code>和<code class="codeph">STOP</code>或<code class="codeph">INTERVAL</code>选项。如果同时收集<code class="codeph">NOWORKLOAD</code>和工作负载特定的统计信息（使用<code class="codeph">INTERVAL</code>或<code class="codeph">START</code>和<code class="codeph">STOP</code>收集的统计信息），优化程序将使用工作负载统计信息。收集的组件包括<code class="codeph">cpuspeednw</code> ， <code class="codeph">ioseektim</code>和<code class="codeph">iotfrspeed</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">间隔</code></p>
                                             <p>数据库以指定的时间间隔（以分钟为单位）捕获系统活动。此参数与<code class="codeph">interval</code>参数结合使用。数据库在字典或<code class="codeph">stattab</code>创建或更新系统统计信息。您可以使用<code class="codeph">GATHER_SYSTEM_STATS (gathering_mode=&gt;'STOP')</code>停止早于计划的收集。收集的组件包括<code class="codeph">maxthr</code> ， <code class="codeph">slavethr</code> ， <code class="codeph">cpuspeed</code> ， <code class="codeph">sreadtim</code> ， <code class="codeph">mreadtim</code>和<code class="codeph">mbrc</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">START</code> | <code class="codeph">STOP</code></p>
                                             <p>数据库在指定的开始和停止时间内捕获系统活动，并使用经过时间段的统计信息刷新字典或<code class="codeph">stattab</code> 。数据库忽略<code class="codeph">INTERVAL</code>值。收集的组件包括<code class="codeph">maxthr</code> ， <code class="codeph">slavethr</code> ， <code class="codeph">cpuspeed</code> ， <code class="codeph">sreadtim</code> ， <code class="codeph">mreadtim</code>和<code class="codeph">mbrc</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXADATA</code></p>
                                             <p>在此模式下，收集的系统统计信息会考虑Oracle Exadata的独特功能，例如大I / O大小和高I / O吞吐量。数据库设置多块读取计数和I / O吞吐量统计信息以及CPU速度。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e19031" headers="d960973e18901 ">
                                       <p><code class="codeph">间隔</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e19031 d960973e18904 ">
                                       <p>指定收集系统统计信息的分钟数。此参数仅在<code class="codeph">gathering_mode='INTERVAL'</code>时适用。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e19042" headers="d960973e18901 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e19042 d960973e18904 ">
                                       <p>指定数据库存储统计信息的表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e19050" headers="d960973e18901 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e19050 d960973e18904 ">
                                       <p>指定与<code class="codeph">stattab</code>保存的统计信息关联的可选标识符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e19061" headers="d960973e18901 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e19061 d960973e18904 ">
                                       <p>如果与当前架构不同，则指定包含<code class="codeph">stattab</code>的架构。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-257CDCB8-3595-464B-8337-43EF23A6068D__GUID-606E96F7-E213-4FB5-9E55-3BBFEBF5B051">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级</p>
                        <p><code class="codeph">ORA-20003</code> ：无法收集系统统计信息</p>
                        <p><code class="codeph">ORA-20004</code> ： <code class="codeph">INTERVAL</code>模式出错：系统参数<code class="codeph">job_queue_processes</code>必须&gt; 0</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-257CDCB8-3595-464B-8337-43EF23A6068D__GUID-F1F01024-0EB4-4389-B87E-69E6F3BEE5A5">使用说明</p>
                        <p>要运行此过程，您必须具有<code class="codeph">GATHER_SYSTEM_STATISTICS</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-257CDCB8-3595-464B-8337-43EF23A6068D__GUID-143411CC-5807-4C46-8BB3-5697765E34D1">例子</p>
                        <p>假设您希望在白天执行数据库应用程序处理OLTP事务并在晚上运行报告。</p>
                        <p>要收集日间系统统计信息，请收集720分钟的统计信息。将统计信息存储在<code class="codeph">MYSTATS</code>表中。
                        </p><pre class="pre codeblock"><code>BEGIN DBMS_STATS.GATHER_SYSTEM_STATS（interval =&gt; 720，stattab =&gt;'mystats'，statid =&gt;'OLTP'）;结束;</code></pre><p>要收集夜间系统统计信息，请收集720分钟的统计信息。将统计信息存储在<code class="codeph">MYSTATS</code>表中。
                        </p><pre class="pre codeblock"><code>BEGIN DBMS_STATS.GATHER_SYSTEM_STATS（interval =&gt; 720，stattab =&gt;'mystats'，statid =&gt;'OLAP'）;结束;</code></pre><p>使用收集的统计信息更新字典。</p><pre class="pre codeblock"><code>VARIABLE jobno number; BEGIN DBMS_JOB.SUBMIT（：jobno，'DBMS_STATS.IMPORT_SYSTEM_STATS（''mystats''，''OLTP''）;'sysdate，'sysdate + 1'）;承诺;结束; BEGIN DBMS_JOB.SUBMIT（：jobno，'DBMS_STATS.IMPORT_SYSTEM_STATS（''mystats''，''OLAP''）;'sysdate + 0.5，'sysdate + 1'）;承诺;结束;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" name="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C"></a><h4 id="ARPLS-GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" class="sect4"><span class="enumeration_section">165.7.54</span> GATHER_TABLE_STATS程序</h4>
                  <div>
                     <p>此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C__GUID-5F83AAC6-E5D4-478A-B412-95C1481D62EF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，estimate_percent NUMBER DEFAULT to_estimate_percent_type（get_param（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT get_param（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（get_param（ 'DEGREE'）），粒度VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（get_param（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param （'NO_INVALIDATE'）），stattype VARCHAR2 DEFAULT'DATA'，强制BOOLEAN DEFAULT FALSE，上下文DBMS_STATS.CCONTEXT DEFAULT NULL， - 非操作选项VARCHAR2 DEFAULT get_param（'OPTIONS'））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C__GUID-4994C0D2-8463-42E2-ADEB-B3175F2DFC1C">参数</p>
                        <div class="tblformal" id="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C__GUID-33522628-D352-4E31-92CF-EE4E6E7AA871">
                           <p class="titleintable">表165-59 GATHER_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GATHER_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e19237">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e19240">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19245" headers="d960973e19237 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19245 d960973e19240 ">
                                       <p>包含表的模式。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19253" headers="d960973e19237 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19253 d960973e19240 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19261" headers="d960973e19237 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19261 d960973e19240 ">
                                       <p>分区的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19269" headers="d960973e19237 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19269 d960973e19240 ">
                                       <p>确定要采样的行的百分比。</p>
                                       <p>有效范围介于0.000001和100之间。使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>使数据库能够确定适当的样本大小以获得最佳统计信息。这是默认值。
                                       </p>
                                       <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19314" headers="d960973e19237 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19314 d960973e19240 ">
                                       <p>确定数据库是使用随机块采样（ <code class="codeph">TRUE</code> ）还是随机行采样（ <code class="codeph">FALSE</code> ）。默认值为<code class="codeph">FALSE</code> 。</p>
                                       <p>随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。此参数仅在估计统计数据时相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19333" headers="d960973e19237 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19333 d960973e19240 ">
                                       <p><code class="codeph">METHOD_OPT</code> - 在全局，模式，数据库或字典级别设置首选项时，仅允许<code class="codeph">'FOR ALL'</code>语法。除此之外，method_opt接受以下任一选项，或两者结合使用：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FOR COLUMNS [column_clause] [size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <p><code class="codeph">column_clause</code>定义为<code class="codeph">column_clause := column_name | extension name | extension</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图</li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                          <li>- <code class="codeph">column_name</code> ：列的名称</li>
                                          <li>- <code class="codeph">extension :</code>可以是（ <code class="codeph">column_name</code> ， <code class="codeph">Colume_name</code> [，...]）格式的列组或表达式</li>
                                       </ul>
                                       <p>默认为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19438" headers="d960973e19237 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19438 d960973e19240 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                       <p><code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。 <code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用<code class="codeph">SET_DATABASE_PREFS</code> ， <code class="codeph">SET_GLOBAL_PREFS</code> ， <code class="codeph">SET_SCHEMA_PREFS</code>和<code class="codeph">SET_TABLE_PREFS</code>过程更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。
                                       </p>
                                       <p>使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，程度介于<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt; <span class="codeinlineitalic">n</span></code>或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，当对象的大小不保证并行执行时， <code class="codeph">DBMS_STATS</code>的当前实现可以使用串行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19521" headers="d960973e19237 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19521 d960973e19240 ">
                                       <p>要收集的统计数据的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'APPROX_GLOBAL AND PARTITION'</code> - 类似于<code class="codeph">'GLOBAL AND PARTITION'</code>但在这种情况下，全局统计信息是从分区级统计信息聚合而来的。此选项将聚合所有统计信息，但列的不同值的数量和索引的不同键的数量除外。表级别的列的现有直方图也被聚合。聚合将仅使用具有统计信息的分区，因此要获得准确的全局统计信息，用户应确保拥有所有分区的统计信息。如果<code class="codeph">partname</code>为<code class="codeph">NULL</code>或者无法执行聚合（例如，如果缺少其中一个分区的统计信息），则会收集全局统计信息。
                                       </p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级别的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19577" headers="d960973e19237 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19577 d960973e19240 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                       <p>指定此选项相当于在表的每个索引上运行<code class="codeph">GATHER_INDEX_STATS</code>过程。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>使数据库能够确定是否需要收集索引统计信息。这是默认值。您可以使用<code class="codeph">SET_DATABASE_PREFS</code> ， <code class="codeph">SET_GLOBAL_PREFS</code> ， <code class="codeph">SET_SCHEMA_PREFS</code>和<code class="codeph">SET_TABLE_PREFS</code>过程更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19606" headers="d960973e19237 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19606 d960973e19240 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19614" headers="d960973e19237 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19614 d960973e19240 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19625" headers="d960973e19237 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19625 d960973e19240 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19639" headers="d960973e19237 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19639 d960973e19240 ">
                                       <p>控制正在为其收集统计信息的表的从属游标的失效。默认值为<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code> ，这意味着数据库决定何时使相关游标无效。
                                       </p>
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则数据库不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19658" headers="d960973e19237 ">
                                       <p><code class="codeph">StatType标识</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19658 d960973e19240 ">
                                       <p>统计类型。唯一允许的值是<code class="codeph">DATA</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19669" headers="d960973e19237 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19669 d960973e19240 ">
                                       <p>即使表被锁定，也要收集表的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19677" headers="d960973e19237 ">
                                       <p><code class="codeph">上下文</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19677 d960973e19240 ">
                                       <p>不曾用过。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e19685" headers="d960973e19237 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e19685 d960973e19240 ">
                                       <p>确定<code class="codeph">GATHER_TABLE_STATS</code>过程中使用的<code class="codeph">options</code>参数。首选项采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集表中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。Oracle建议对进行收集统计信息的批量加载操作的表设置<code class="codeph">GATHER AUTO</code> 。此选项仅适用于未启用<code class="codeph">INCREMENTAL</code>表。使用<code class="codeph">GATHER AUTO</code>选项在这些表上运行<code class="codeph">GATHER_TABLE_STATS</code>过程会跳过重新收集已经新鲜的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C__GUID-309B89E1-EB01-4D4E-9623-8505FAB3CA50">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                        <p>除了群集，域和连接索引之外，可以对索引统计信息收集进行分析。</p>
                        <p>如果使用<code class="codeph">GATHER AUTO</code>选项，则将使用样本而不是完整扫描创建频率直方图。以下方案显示了<code class="codeph">GATHER AUTO</code>的使用位置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>像这样创建一个表： <code class="codeph">CREATE TABLE NEWTAB as SELECT * FROM ....</code>
                              </p>
                              <p>这将创建<code class="codeph">NEWTAB</code>统计数据但没有直方图。
                              </p>
                           </li>
                           <li>
                              <p>接下来，DBA使用<code class="codeph">gather_table_stats</code>上的<code class="codeph">GATHER AUTO</code>创建直方图。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NEWTAB</code>上的<code class="codeph">FREQUENCY</code>直方图将使用样本而不是全表扫描创建。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C__GUID-21EC654B-434E-4385-A30C-EF385E1102AD">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：表不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C__GUID-8D9B9FA0-F7E8-4889-938E-09AC9138D3B2">例子</p>
                        <p>扩展可以是列组（参见示例1）或表达式（参见示例2）。</p>
                        <p>例1</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_TABLE_STATS（'SH'，'SALES'，method_opt =&gt;'FOR COLUMNS（empno，deptno）'）;</pre><p>例2</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GATHER_TABLE_STATS（'SH'，'SALES'，method_opt =&gt;'FOR COLUMNS（sal + comm）'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD" name="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD"></a><h4 id="ARPLS-GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD" class="sect4"><span class="enumeration_section">165.7.55</span> GENERATE_STATS程序</h4>
                  <div>
                     <p>此<span class="bold">弃用过程</span>从先前收集的相关对象统计信息生成对象统计信息。当前支持的对象是b树和位图索引。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD__GUID-12AC8407-59D0-4772-995A-A581E222DB56">
                           <p class="notep1">注意：</p>
                           <p>该子程序已被弃用，并由改进的技术取代。仅为了向后兼容性而维护它。或者，使用<code class="codeph">GATHER_INDEX_STAT</code>过程。请参阅<span class="q">“ <a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS过程</a> ”</span> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD__GUID-D7405DF3-72ED-459A-8173-5647EE5BE1D5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GENERATE_STATS（ownname VARCHAR2，objname VARCHAR2，组织NUMBER DEFAULT 7，强制BOOLEAN默认为FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD__GUID-793C1F46-411B-421E-9EF8-E6190C1014F5">参数</p>
                        <div class="tblformal" id="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD__GUID-63DB3D7E-1663-47EE-8491-7D62E2A8A77C">
                           <p class="titleintable">表165-60 GENERATE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GENERATE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GENERATE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e19936">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e19939">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e19944" headers="d960973e19936 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e19944 d960973e19939 ">
                                       <p>对象的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e19952" headers="d960973e19936 ">
                                       <p><code class="codeph">objname表</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e19952 d960973e19939 ">
                                       <p>对象名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e19960" headers="d960973e19936 ">
                                       <p><code class="codeph">有组织的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e19960 d960973e19939 ">
                                       <p>索引与其基础表之间关联的排序量。一个组织严密的索引将有连续的索引键引用表的磁盘上的连续行（相同的块）。严重无序的索引将具有引用磁盘上不同表块的连续键。</p>
                                       <p>此参数仅用于b树索引。数字可以在0-10的范围内，0表示完全有组织的索引，10表示完全无组织的索引。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e19970" headers="d960973e19936 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e19970 d960973e19939 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则生成目标对象的统计信息，即使它已被锁定</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD__GUID-ECC95BCD-654C-4A76-ABED-A188394AC01F">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于SYS拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或SYSDBA特权。
                        </p>
                        <p>对于完全填充的模式，当需要更准确的统计信息时，应使用收集过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2515DEB-505A-44A8-B570-74BD6793BAFD__GUID-8B8262A2-0956-4810-93F0-28B4BF56E96A">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：不支持对象的对象类型不存在</p>
                        <p><code class="codeph">ORA-20001</code> ：无效选项或无效统计信息</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1" name="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1"></a><h4 id="ARPLS-GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1" class="sect4"><span class="enumeration_section">165.7.56</span> GET_ADVISOR_OPR_FILTER程序</h4>
                  <div>
                     <p>此过程为Optimizer Statistics Advisor任务创建操作筛选器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1__GUID-9FB715F2-3253-4F20-AFDC-58FEE29BD41B">句法</p><pre class="pre codeblock"><code>DBMS_STATS.GET_ADVISOR_OPR_FILTER（opr_id IN NUMBER，opr_filter IN OUT NOCOPY StatsAdvOpr）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1__GUID-D713546E-885D-47A4-8865-7137F8142EA4">参数</p>
                        <div class="tblformal" id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1__GUID-9B49BF06-CDE6-4D99-B24C-FD1D7FCEF43A">
                           <p class="titleintable">表165-61 GET_ADVISOR_OPR_FILTER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_ADVISOR_OPR_FILTER过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.GET_ADVISOR_OPR_FILTER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e20120">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e20123">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20128" headers="d960973e20120 ">
                                       <p><code class="codeph">opr_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20128 d960973e20123 ">
                                       <p>存储在<code class="codeph">DBA_OPTSTAT_OPERATIONS</code>视图中的统计信息操作的ID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20139" headers="d960973e20120 ">
                                       <p><code class="codeph">opr_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20139 d960973e20123 ">
                                       <p>根据指定的统计信息操作生成的Optimizer Statistics Advisor筛选器。</p>
                                       <p></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1__GUID-3728D362-E076-432B-9D9D-ABD455A0F351">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1__GUID-2A9EDB74-98A1-45E2-AE01-2FCF67A80392">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1__GUID-8884109D-5A99-4B2C-B36F-B27DB71F07EA">使用说明</p>
                        <p>您可以使用操作ID或过滤器ID指定过滤器，但不能同时指定两者。</p>
                        <div class="See Also" id="GUID-FB89380B-064D-47C3-97B1-68846A4CA7F1__GUID-E8F1BCB7-06DC-4FF7-9CC6-8FDB268A6D97">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96" name="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96"></a><h4 id="ARPLS-GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96" class="sect4"><span class="enumeration_section">165.7.57</span> GET_ADVISOR_RECS功能</h4>
                  <div>
                     <p>此函数为指定的项生成推荐报告。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96__GUID-5FD02026-FBC5-408C-A940-D4E8FFD944C5">句法</p><pre class="pre codeblock"><code>DBMS_STATS.GET_ADVISOR_RECS（ownname IN VARCHAR2，tabname IN VARCHAR2，rec IN VARCHAR2，type IN VARCHAR2：='TEXT'）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96__GUID-C88DC8B0-C52E-4762-A59C-CFE11B5426EB">参数</p>
                        <div class="tblformal" id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96__GUID-19D17750-2C1A-4866-8AFD-C4AC57E38B42">
                           <p class="titleintable">表165-62 GET_ADVISOR_RECS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_ADVISOR_RECS函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.GET_ADVISOR_RECS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e20303">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e20306">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20311" headers="d960973e20303 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20311 d960973e20306 ">
                                       <p>表的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20319" headers="d960973e20303 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20319 d960973e20306 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20327" headers="d960973e20303 ">
                                       <p><code class="codeph">REC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20327 d960973e20306 ">
                                       <p>Optimizer Statistics Advisor建议。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                             <p>仅修改少量范围分区时，此选项可显着提高统计信息收集的性能。但是，它需要额外的空间来存储概要以维护增量统计信息。该报告分析了这种权衡。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">同时</code></p>
                                             <p>该报告建议设置<code class="codeph">CONCURRENT</code>首选项，或为各个表指定<code class="codeph">AUTO_DEGREE</code> 。如果系统资源和使用情况满足条件，则顾问程序始终建议首先设置<code class="codeph">CONCURRENT</code> 。当在单个表上收集统计信息需要很长时间并且已设置<code class="codeph">CONCURRENT</code>首选项时，顾问程序仅建议<code class="codeph">AUTO_DEGREE</code> 。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20363" headers="d960973e20303 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20363 d960973e20306 ">
                                       <p>报告类型： <code class="codeph">TEXT</code> ， <code class="codeph">HTML</code>或<code class="codeph">XML</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96__GUID-08BB0D17-8C4C-45C8-85A6-854A75C907E4">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须具有收集生成建议的对象的统计信息的权限。</p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96__GUID-0B78D8E0-FC04-454B-9D53-EF43E68E82E1">使用说明</p>
                        <p>顾问不会为手动统计数据收集提出建议。数据库仅为自动统计信息收集作业提供建议，主要目标是在维护窗口内完成作业。只要自动作业完成，数据库就不会提出进一步的建议。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96__GUID-7A72CB70-3D73-464D-A18E-62781C633938">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                        <div class="See Also" id="GUID-FC7FA8D0-FBC2-430B-857C-90BAE454CB96__GUID-45387912-7D50-44BD-91B8-8E1337CFAFE6">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71" name="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71"></a><h4 id="ARPLS-GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71" class="sect4"><span class="enumeration_section">165.7.58</span> GET_COLUMN_STATS程序</h4>
                  <div>
                     <p>这些重载过程获取与列相关的统计信息。在用户定义的统计信息版本中，该过程返回存储的统计信息的类型。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71__GUID-EB087125-8FC5-47C4-BDA4-AE34E8EC6D28">句法</p><pre class="pre codeblock"><code>DBMS_STATS.GET_COLUMN_STATS（拥有名称VARCHAR2，tabname VARCHAR2，colname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，distcnt OUT NUMBER，密度OUT NUMBER，nullcnt OUT NUMBER，srec OUT StatRec，avgclen OUT NUMBER，statown VARCHAR2 DEFAULT NULL，realtime_stats BOOLEAN iDEFAULT TRUE）;</code></pre><p>将以下内容用于用户定义的统计信息：</p><pre class="pre codeblock"><code>DBMS_STATS.GET_COLUMN_STATS（ownname VARCHAR2，tabname VARCHAR2，colname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，ext_stats OUT RAW，stattypown OUT VARCHAR2 DEFAULT NULL，stattypname OUT VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71__GUID-E659ED1C-E54E-407F-823C-E4E49B0EE27F">参数</p>
                        <div class="tblformal" id="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71__GUID-FC0CD410-D260-4B7C-85E5-EF82181E16C1">
                           <p class="titleintable">表165-63 GET_COLUMN_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_COLUMN_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GET_COLUMN_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e20542">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e20545">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20550" headers="d960973e20542 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20550 d960973e20545 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20558" headers="d960973e20542 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20558 d960973e20545 ">
                                       <p>指定此列所属的表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20566" headers="d960973e20542 ">
                                       <p><code class="codeph">colname的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20566 d960973e20545 ">
                                       <p>指定列或扩展名。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20574" headers="d960973e20542 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20574 d960973e20545 ">
                                       <p>指定从中获取统计信息的表分区的名称。如果表已分区，并且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则该过程将在全局表级别检索统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20588" headers="d960973e20542 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20588 d960973e20545 ">
                                       <p>指定描述统计信息检索位置的统计信息表ID。如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则该过程直接从数据字典中检索统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20602" headers="d960973e20542 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20602 d960973e20545 ">
                                       <p>指定与<code class="codeph">stattab</code>这些统计信息关联的可选标识符。仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时，此参数才有意义。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20619" headers="d960973e20542 ">
                                       <p><code class="codeph">ext_stats</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20619 d960973e20545 ">
                                       <p>指定用户定义的统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20627" headers="d960973e20542 ">
                                       <p><code class="codeph">stattypown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20627 d960973e20545 ">
                                       <p>指定统计信息类型的模式。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20635" headers="d960973e20542 ">
                                       <p><code class="codeph">stattypname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20635 d960973e20545 ">
                                       <p>指定统计类型的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20643" headers="d960973e20542 ">
                                       <p><code class="codeph">distcnt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20643 d960973e20545 ">
                                       <p>指定不同值的数量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20651" headers="d960973e20542 ">
                                       <p><code class="codeph">密度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20651 d960973e20545 ">
                                       <p>指定列密度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20660" headers="d960973e20542 ">
                                       <p><code class="codeph">nullcnt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20660 d960973e20545 ">
                                       <p>指定<code class="codeph">NULL</code>值的数量。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20671" headers="d960973e20542 ">
                                       <p><code class="codeph">SREC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20671 d960973e20545 ">
                                       <p>指定保存列最小值，最大值和直方图值的内部表示的结构。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20679" headers="d960973e20542 ">
                                       <p><code class="codeph">avgclen</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20679 d960973e20545 ">
                                       <p>指定列的平均长度（以字节为单位）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20687" headers="d960973e20542 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20687 d960973e20545 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果不同于<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e20701" headers="d960973e20542 ">
                                       <p><code class="codeph">realtime_stats</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e20701 d960973e20545 ">
                                       <p>指定<span>是否包含实时统计信息。默认值为<code class="codeph">TRUE</code> 。当<code class="codeph">realtime_stats</code>为<code class="codeph">FALSE</code> ，数据库仅包含<code class="codeph">GATHER_ <span class="codeinlineitalic">*</span> _STATS</code>过程收集的优化程序统计信息。</span></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71__GUID-9385693C-73D3-454E-85CB-189A715D32D2">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者，或者具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71__GUID-53E36A34-2588-4C55-80F9-C00E9476641F">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足或没有为请求的对象存储统计信息</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B8C338E-243D-486C-B6A8-A71B843AAF71__GUID-68699792-2853-434A-A695-5BD2A63C8CC8">使用说明</p>
                        <p>在调用此过程之前，请确保该表存在。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F" name="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F"></a><h4 id="ARPLS-GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F" class="sect4"><span class="enumeration_section">165.7.59</span> GET_INDEX_STATS程序</h4>
                  <div>
                     <p>此重载过程获取所有与索引相关的统计信息。在处理用户定义的统计信息的此过程的形式中，返回的统计类型是存储的类型，以及用户定义的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F__GUID-E0B02799-6580-4F9C-89D7-B6067A7107E9">句法</p><pre class="pre codeblock"><code>DBMS_STATS.GET_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，numrows OUT NUMBER，numlblks OUT NUMBER，numdist OUT NUMBER，avglblk OUT NUMBER，avgdblk OUT NUMBER，clstfct OUT NUMBER，indlevel OUT NUMBER，statown VARCHAR2 DEFAULT NULL）; DBMS_STATS.GET_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，numrows OUT NUMBER，numlblks OUT NUMBER，numdist OUT NUMBER，avglblk OUT NUMBER，avgdblk OUT NUMBER，clstfct OUT NUMBER，indlevel OUT NUMBER，statown VARCHAR2 DEFAULT NULL，guessq OUT NUMBER）;</code></pre><p>对用户定义的统计信息使用以下过程形式：</p><pre class="pre codeblock"><code>DBMS_STATS.GET_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，ext_stats OUT RAW，stattypown OUT VARCHAR2 DEFAULT NULL，stattypname OUT VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F__GUID-A93A9034-BC7E-4718-AB92-55CFD76F1306">参数</p>
                        <div class="tblformal" id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F__GUID-03B1D35B-08B5-42DE-8945-4DA1FA6AEBE6">
                           <p class="titleintable">表165-64 GET_INDEX_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_INDEX_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GET_INDEX_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e20865">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e20868">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20873" headers="d960973e20865 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20873 d960973e20868 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20881" headers="d960973e20865 ">
                                       <p><code class="codeph">indname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20881 d960973e20868 ">
                                       <p>索引的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20889" headers="d960973e20865 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20889 d960973e20868 ">
                                       <p>要获取统计信息的索引分区的名称。如果索引已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则检索全局索引级别的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20903" headers="d960973e20865 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20903 d960973e20868 ">
                                       <p>用户统计信息表标识符，用于描述从哪里检索统计信息如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则直接从字典中检索统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20917" headers="d960973e20865 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20917 d960973e20868 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）（仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时才相关）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20934" headers="d960973e20865 ">
                                       <p><code class="codeph">ext_stats</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20934 d960973e20868 ">
                                       <p>用户定义的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20942" headers="d960973e20865 ">
                                       <p><code class="codeph">stattypown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20942 d960973e20868 ">
                                       <p>统计类型的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20950" headers="d960973e20865 ">
                                       <p><code class="codeph">stattypname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20950 d960973e20868 ">
                                       <p>统计类型的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20958" headers="d960973e20865 ">
                                       <p><code class="codeph">numRows行</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20958 d960973e20868 ">
                                       <p>索引中的行数（分区）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20966" headers="d960973e20865 ">
                                       <p><code class="codeph">numlblks</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20966 d960973e20868 ">
                                       <p>索引中的叶块数（分区）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20974" headers="d960973e20865 ">
                                       <p><code class="codeph">numdist</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20974 d960973e20868 ">
                                       <p>索引（分区）中的不同键的数量</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20983" headers="d960973e20865 ">
                                       <p><code class="codeph">avglblk</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20983 d960973e20868 ">
                                       <p>为此索引（分区）显示每个不同键的叶块的平均整数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20991" headers="d960973e20865 ">
                                       <p><code class="codeph">avgdblk</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20991 d960973e20868 ">
                                       <p>表中数据块的平均整数个数由此索引（分区）的不同键指向</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e20999" headers="d960973e20865 ">
                                       <p><code class="codeph">clstfct</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e20999 d960973e20868 ">
                                       <p>索引的聚类因子（分区）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e21007" headers="d960973e20865 ">
                                       <p><code class="codeph">indlevel</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e21007 d960973e20868 ">
                                       <p>索引的高度（分区）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e21015" headers="d960973e20865 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e21015 d960973e20868 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e21029" headers="d960973e20865 ">
                                       <p><code class="codeph">guessq</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e21029 d960973e20868 ">
                                       <p>猜猜索引的质量（分区）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F__GUID-4704513A-21FA-47B7-B88E-9A1D1140014B">安全模型</p>
                        <p>在调用此过程之前，请确保该表存在。要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F__GUID-7F7FDAF8-01E1-4585-8654-BA9C3B7FAAF6">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足或没有为请求的对象存储统计信息</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F__GUID-72E00E82-2513-4FF4-A425-FD29203595DC">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>优化程序使用缓存的数据来估计索引或统计信息表访问的缓存块数。数据库通过组合从磁盘读取非缓存块的I / O开销，从缓冲区缓存获取缓存块的CPU成本以及处理数据的CPU成本来计算操作的总成本。</p>
                           </li>
                           <li>
                              <p>数据库始终维护<code class="codeph">cachedblk</code>和<code class="codeph">cachehit</code> 。然而，数据库使用用于优化的相应缓存统计信息表和索引的统计信息的一部分，只有当用户呼叫<code class="codeph">DBMS_STATS.GATHER_[TABLE/INDEX/SCHEMA/DATABASE]_STATS</code>程序自动模式或<code class="codeph">DBMS_STATS.GATHER_SYSTEM_STATS</code>为手动模式。为了防止用户使用不准确和不可靠的数据，优化器为每个<code class="codeph">cachehit</code>和每个对象的<code class="codeph">cachedblk</code>计算“置信因子”。如果值的置信因子满足置信度标准，则数据库使用此值;否则，数据库使用默认值。
                              </p>
                           </li>
                           <li>
                              <p>对象缓存统计信息的自动维护算法假定只存在一个主要数据库工作负载。该算法将统计信息调整为此工作负载，忽略其他“次要”工作负载。如果此假设为假，则必须使用手动模式来维护对象缓存统计信息。</p>
                           </li>
                           <li>
                              <p>自动模式的对象缓存统计信息维护算法会阻止您在以下情况下使用统计信息：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当分析的数据不足时，例如最近创建对象时</p>
                                 </li>
                                 <li>
                                    <p>当系统没有一个主要工作负载时，导致平均值与实际值不对应</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-1193FA16-6496-480B-9DC8-F3DA01684E7F__GUID-DFA58F28-35D3-4A03-B2E1-93FA92411943">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/gathering-optimizer-statistics.html#GUID-245F23B2-24AF-44D8-9F12-99FD1215E878" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理优化程序统计信息</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68" name="GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68"></a><h4 id="ARPLS-GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68" class="sect4"><span class="enumeration_section">165.7.60</span> GET_PARAM函数</h4>
                  <div>
                     <p>此函数返回<code class="codeph">DBMS_STATS</code>过程的参数的默认值。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68__GUID-4E9952EA-83C9-467D-8E8F-41C04C29B1C0">
                           <p class="notep1">注意：</p>
                           <p>该子程序已被改进的技术所取代，仅为了向后兼容而维护。在这种情况下，请使用<a href="DBMS_STATS.html#GUID-2C00FE80-1553-404C-85B6-220895561FE8" title="此函数返回指定首选项的默认值。">GET_PREFS函数</a> 。
                           </p>
                           <p>另请参见<a href="DBMS_STATS.html#GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" title="Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。">DBMS_STATS不推荐使用的子程序</a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68__GUID-8DBC1E49-EB27-4DFC-A8D0-C1F73A68A713">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GET_PARAM（pname IN VARCHAR2）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68__GUID-A1954B71-934D-49C2-B1BB-540C32F4A638">参数</p>
                        <div class="tblformal" id="GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68__GUID-1442FA21-0C9F-49FB-A98E-A7668B8814A4">
                           <p class="titleintable">表165-65 GET_PARAM函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_PARAM函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GET_PARAM subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e21247">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e21250">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e21255" headers="d960973e21247 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e21255 d960973e21250 ">
                                       <p>参数名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15417427-F7E3-410F-BD65-3DE07C4AAA68__GUID-2F3DC99E-FEAD-4907-95FF-64027A457E45">例外</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2C00FE80-1553-404C-85B6-220895561FE8" name="GUID-2C00FE80-1553-404C-85B6-220895561FE8"></a><h4 id="ARPLS-GUID-2C00FE80-1553-404C-85B6-220895561FE8" class="sect4"><span class="enumeration_section">165.7.61</span> GET_PREFS函数</h4>
                  <div>
                     <p>此函数返回指定首选项的默认值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-08D2A817-3BDD-4BF7-B34A-9E8F160D7ED8">句法</p><pre class="pre codeblock"><code>DBMS_STATS.GET_PREFS（pname IN VARCHAR2，ownname IN VARCHAR2 DEFAULT NULL，tabname IN VARCHAR2 DEFAULT NULL）RETURN VARCHAR2;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-A886B8E3-FB0A-4097-A98C-0F5AAFC722D7">参数</p>
                        <div class="tblformal" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-4A533AA0-793E-4CBD-996B-3C87732F9238">
                           <p class="titleintable">表165-66 GET_PREFS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_PREFS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GET_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d960973e21375">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d960973e21378">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d960973e21383" headers="d960973e21375 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d960973e21383 d960973e21378 ">
                                       <p>偏好名称。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_TASK_STATUS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_TASK_MAX_RUN_TIME</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_TASK_INTERVAL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">同时</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STAT_CATEGORY</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">WAIT_TIME_TO_UPDATE_STATUS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d960973e21486" headers="d960973e21375 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d960973e21486 d960973e21378 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d960973e21494" headers="d960973e21375 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d960973e21494 d960973e21378 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-D1B986D7-3921-42B2-8289-3FFC60035A3C">
                           <p class="titleintable">表165-67首选项描述</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="偏好描述" border="1" summary="This table describes the various preferences." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e21511">偏好名称</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e21513">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21517" headers="d960973e21511 ">
                                       <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21517 d960973e21513 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以指定以下首选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。当现有性能可接受时，此方法很有吸引力，并且您不希望产生重新格式化旧内容的性能成本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。这是最保守的选择。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。与动态采样相比，HyperLogLog算法使用随机化技术。HyperLogLog优于自适应采样的优点是：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>新算法的准确性与原算法类似。</p>
                                                </li>
                                                <li>
                                                   <p>所需的内存显着降低，这通常会导致概要大小的大幅减少。</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21556" headers="d960973e21511 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21556 d960973e21513 ">
                                       <p>在收集数据库统计信息时控制自动创建扩展。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 如果适用，SQL计划指令可以根据工作负载中谓词中列的使用情况触发列组统计信息的创建。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 数据库不会自动创建列组统计信息。只有在执行<code class="codeph">CREATE_EXTENDED_STATS</code>函数时，或者在<code class="codeph">DBMS_STATS</code>的<code class="codeph">METHOD_OPT</code>子句中明确指定了扩展统计信息时，数据库才会创建它们。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21586" headers="d960973e21511 ">
                                       <p><code class="codeph">AUTO_TASK_STATUS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21586 d960973e21513 ">
                                       <p>启用或禁用<span>高频自动优化程序统计信息收集</span> 。价值观是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 启用<span>高频自动优化器统计信息收集</span> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 禁用<span>高频自动优化器统计信息收集</span> 。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21614" headers="d960973e21511 ">
                                       <p><code class="codeph">AUTO_TASK_MAX_RUN_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21614 d960973e21513 ">
                                       <p>配置执行<span>高频自动优化器统计信息收集</span>的最长运行时间（以秒为单位）。最大值为<code class="codeph">3600</code> （等于1小时），这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21628" headers="d960973e21511 ">
                                       <p><code class="codeph">AUTO_TASK_INTERVAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21628 d960973e21513 ">
                                       <p>指定执行<span>高频自动优化程序统计信息收集</span>之间的间隔（秒）。最小值为<code class="codeph">60</code> 。默认值为<code class="codeph">900</code> （等于15分钟）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21645" headers="d960973e21511 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21645 d960973e21513 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21653" headers="d960973e21511 ">
                                       <p><code class="codeph">同时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21653 d960973e21513 ">
                                       <p>确定是在多个对象上同时收集统计信息，还是一次串行收集一个对象。有效值为：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">MANUAL</code> - 仅对手动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTOMATIC</code> - 仅为自动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> - 为手动和自动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 手动和自动统计信息均禁用并发。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21682" headers="d960973e21511 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21682 d960973e21513 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21690" headers="d960973e21511 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21690 d960973e21513 ">
                                       <p>确定要采样的行的百分比。</p>
                                       <p>有效范围介于0.000001和100之间。使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>使数据库能够确定适当的样本大小以获得最佳统计信息。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21703" headers="d960973e21511 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21703 d960973e21513 ">
                                       <p>控制是否应将为全局临时表收集的统计信息存储为共享统计信息或会话统计信息。此首选项有两个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SHARED</code> - 所有会话都看到同一组统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SESSION</code> - <code class="codeph">GATHER_TABLE_STATS</code>过程在全局临时表上收集的统计信息是特定于会话的。因此，数据库仅将它们用于与统计信息收集过程在同一会话中发出的查询。会话终止时，数据库会删除特定于会话的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21725" headers="d960973e21511 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21725 d960973e21513 ">
                                       <p>确定要收集的统计信息的粒度。此首选项仅与分区表相关。</p>
                                       <p>以下值有效：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ALL</code> - 收集所有统计信息：子分区，分区和全局。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO</code> - 根据分区类型确定粒度。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。使用<code class="codeph">GLOBAL AND PARTITION</code>来实现此功能。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL</code> - 收集全球统计数据。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL AND PARTITION</code> - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SUBPARTITION</code> - 收集子分区级统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21775" headers="d960973e21511 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21775 d960973e21513 ">
                                       <p>确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。</p>
                                       <p>对表进行分区时，应用程序通常会将数据加载到新分区中。随着新分区的添加和数据的加载，全局表统计信息必须保持最新。如果满足以下条件，则数据库通过仅扫描已更改的分区而不是整个表来更新全局表统计信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">TRUE</code> 。</p>
                                          </li>
                                          <li>
                                             <p>分区表的<code class="codeph">PUBLISH</code>值设置为<code class="codeph">TRUE</code> 。</p>
                                          </li>
                                          <li>
                                             <p>用户指定<code class="codeph">AUTO_SAMPLE_SIZE</code>为<code class="codeph">ESTIMATE_PERCENT</code>和<code class="codeph">AUTO</code>用于<code class="codeph">GRANULARITY</code>收集表的统计信息时。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>如果分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">FALSE</code> （默认值），则数据库使用全表扫描来维护全局统计信息。对于大型表，此技术是一种更加资源密集且耗时的操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21827" headers="d960973e21511 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21827 d960973e21513 ">
                                       <p>控制当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时要收集的<code class="codeph">INCREMENTAL</code> 。它采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级别的提要。
                                             </p>
                                             <p>这是默认值。如果在非分区表上设置<code class="codeph">PARTITION</code> ，则数据库不会收集概要。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE</code> - 收集表级别概要。
                                             </p>
                                             <p>如果要将此表与分区交换，请指定此值。在交换之前，您可以在此表上运行<code class="codeph">GATHER_TABLE_STATS</code> ，其中<code class="codeph">INCREMENTAL</code>设置为<code class="codeph">TRUE</code> ， <code class="codeph">INCREMENTAL_LEVEL</code>设置为<code class="codeph">TABLE</code> 。结果是数据库在此表上收集表级别的概要。在交换之后，分区具有来自交换之前表的表级概要的概要。您只能在<code class="codeph">SET_TABLE_PREFS</code>过程中使用首选项值：其他<code class="codeph">SET_ <span class="codeinlineitalic">*</span> _PREFS</code>过程中不允许使用此值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21884" headers="d960973e21511 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21884 d960973e21513 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT,USE_LOCKED_STATS,ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>允许共存采样概要和HyperLogLog概要共存。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）;</code></pre><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e21994" headers="d960973e21511 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e21994 d960973e21513 ">
                                       <p>控制列统计信息收集和直方图创建。在全局，模式，数据库或字典级别设置首选项时，仅允许<code class="codeph">FOR ALL</code>语法：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">integer</code> - 指定直方图桶的数量。数字必须介于1到2048之间。
                                          </li>
                                          <li><code class="codeph">REPEAT</code> - 仅在已有直方图的列上收集直方图。
                                          </li>
                                          <li><code class="codeph">AUTO</code> - 根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">SKEWONLY</code> - 根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改该值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22072" headers="d960973e21511 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22072 d960973e21513 ">
                                       <p>控制正在为其收集统计信息的表的从属游标的失效。默认值为<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code> ，这意味着数据库决定何时使相关游标无效。
                                       </p>
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则数据库不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22091" headers="d960973e21511 ">
                                       <p><code class="codeph">OPTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22091 d960973e21513 ">
                                       <p>确定<code class="codeph">GATHER_TABLE_STATS</code>过程中使用的<code class="codeph">options</code>参数。首选项采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集表中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。Oracle建议对进行收集统计信息的批量加载操作的表设置<code class="codeph">GATHER AUTO</code> 。此选项仅适用于未启用<code class="codeph">INCREMENTAL</code>表。使用<code class="codeph">GATHER AUTO</code>选项在这些表上运行<code class="codeph">GATHER_TABLE_STATS</code>过程会跳过重新收集已经新鲜的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22128" headers="d960973e21511 ">
                                       <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22128 d960973e21513 ">
                                       <p>确定是否使用该参数的首选项值覆盖参数的输入值以进行统计操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略输入参数值，并使用相应首选项的值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -  Obeys输入参数值。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>指定此首选项不会更改table，global和default的优先顺序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22149" headers="d960973e21511 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22149 d960973e21513 ">
                                       <p>确定数据库是否在收集作业完成后发布新收集的统计信息。</p>
                                       <p>您可以收集统计信息而无需立即发布。此技术使您可以在发布之前测试新统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22159" headers="d960973e21511 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22159 d960973e21513 ">
                                       <p>确定表中的行的百分比，该表必须在该表上的统计信息过时且需要恢复之前更改。</p>
                                       <p><code class="codeph">stale_percent</code>的有效域是非负数。默认值为<code class="codeph">10</code> ，这意味着具有超过10％更改的表被视为过时。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22175" headers="d960973e21511 ">
                                       <p><code class="codeph">STAT_CATEGORY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22175 d960973e21513 ">
                                       <p>指定要导入或导出的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>值<code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22199" headers="d960973e21511 ">
                                       <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22199 d960973e21513 ">
                                       <p>指定在计算索引聚类因子时假定缓存在缓冲区高速缓存中的平均块数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e22208" headers="d960973e21511 ">
                                       <p><code class="codeph">WAIT_TIME_TO_UPDATE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e22208 d960973e21513 ">
                                       <p>指定更新统计信息所需的锁和引脚超时之前的分钟数。它接受<code class="codeph">0</code>到<code class="codeph">65535</code>范围内的值。默认值为<code class="codeph">15</code>分钟。值<code class="codeph">0</code>在无等待模式下获得锁和引脚。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-D9534EBB-DD93-4E5E-9EF0-E3BFB6500179">安全模型</p>
                        <p>调用此过程不需要特殊权限或角色。但是，要同时收集统计信息，您必须具有DBA角色，或者除了收集统计信息所需的权限之外还具有以下权限： <code class="codeph">CREATE JOB</code> ， <code class="codeph">MANAGE SCHEDULER</code>和<code class="codeph">MANAGE ANY QUEUE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-758C2A6B-243D-4045-AD76-ED0F8494FD7F">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：无法同时收集统计信息：未启用资源管理器。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-5439EED0-6274-4A69-AF99-32F5FB3C84D0">使用说明</p>
                        <p>请注意以下准则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CONCURRENT</code>首选项确定在用户发出<code class="codeph">GATHER_*_STATS</code>过程时是否同时收集<code class="codeph">GATHER_*_STATS</code> 。<code class="codeph">DBMS_STATS</code>可以根据<code class="codeph">DEGREE</code>参数的值并行收集单个对象的统计信息。但是，并行性仅限于一个对象。<code class="codeph">CONCURRENT</code>首选项将并行范围扩展到多个数据库对象。此方法主要用于多CPU系统，可能不适用于单CPU计算机上的小型数据库。
                              </p>
                              <p>要同时收集统计信息，必须启用资源管理器，并且<code class="codeph">JOB_QUEUE_PROCESSES</code>初始化参数的设置必须至少为<code class="codeph">4</code> 。
                              </p>
                           </li>
                           <li>
                              <p>如果提供了<code class="codeph">ownname</code>和<code class="codeph">tabname</code> ，并且已为表输入首选项，则该函数将返回为表指定的首选项。在所有其他情况下，如果已指定全局首选项，则返回全局首选项，否则返回默认值。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-2C00FE80-1553-404C-85B6-220895561FE8__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/options-for-optimizer-statistics-gathering.html#GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何获取优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0C8D362B-9DE1-4048-A5B2-195EE987A11D" name="GUID-0C8D362B-9DE1-4048-A5B2-195EE987A11D"></a><h4 id="ARPLS-GUID-0C8D362B-9DE1-4048-A5B2-195EE987A11D" class="sect4"><span class="enumeration_section">165.7.62</span> GET_STATS_HISTORY_AVAILABILITY函数</h4>
                  <div>
                     <p>此函数返回统计信息历史记录可用的最旧时间戳。用户无法将统计信息还原到早于此时间戳的时间戳。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0C8D362B-9DE1-4048-A5B2-195EE987A11D__GUID-40A2AE1B-5A72-471C-B749-77C12492727F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GET_STATS_HISTORY_AVAILABILITY返回带时区的TIMESTAMP;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C8D362B-9DE1-4048-A5B2-195EE987A11D__GUID-0E71AD39-8710-410C-A39C-AAFF4FCAC388">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-03065EEA-54F1-4B69-9D3E-EB9EEAD27103" name="GUID-03065EEA-54F1-4B69-9D3E-EB9EEAD27103"></a><h4 id="ARPLS-GUID-03065EEA-54F1-4B69-9D3E-EB9EEAD27103" class="sect4"><span class="enumeration_section">165.7.63</span> GET_STATS_HISTORY_RETENTION功能</h4>
                  <div>
                     <p>此函数返回当前统计历史记录保留值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-03065EEA-54F1-4B69-9D3E-EB9EEAD27103__GUID-F17F2209-7DD9-47F8-B105-6641383A665D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GET_STATS_HISTORY_RETENTION返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03065EEA-54F1-4B69-9D3E-EB9EEAD27103__GUID-9F6B5242-24C1-4C25-99E7-1566B509E16C">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86" name="GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86"></a><h4 id="ARPLS-GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86" class="sect4"><span class="enumeration_section">165.7.64</span> GET_SYSTEM_STATS程序</h4>
                  <div>
                     <p>此过程从<code class="codeph">stattab</code>获取系统统计信息，如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则从字典<code class="codeph">stattab</code> 。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86__GUID-FC7C2B11-61EF-4327-A521-25320412D072">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.GET_SYSTEM_STATS（状态OUT VARCHAR2，dstart OUT DATE，dstop OUT DATE，pname IN VARCHAR2，pvalue OUT NUMBER，stattab IN VARCHAR2 DEFAULT NULL，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86__GUID-54980CAF-1C01-4699-AE0C-CEA3EFB7E26B">参数</p>
                        <div class="tblformal" id="GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86__GUID-25FF02D1-454B-46AB-AF52-A217ED23E98E">
                           <p class="titleintable">表165-68 GET_SYSTEM_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_SYSTEM_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GET_SYSTEM_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e22616">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e22619">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22624" headers="d960973e22616 ">
                                       <p><code class="codeph">状态</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22624 d960973e22619 ">
                                       <p>输出是以下之一：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">已完成：</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTOGATHERING：</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MANUALGATHERING：</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BADSTATS：</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22649" headers="d960973e22616 ">
                                       <p><code class="codeph">DSTART</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22649 d960973e22619 ">
                                       <p>统计数据收集开始的日期。</p>
                                       <p>如果<code class="codeph">status</code> = <code class="codeph">MANUALGATHERING</code> ，则返回开始日期。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22665" headers="d960973e22616 ">
                                       <p><code class="codeph">DSTOP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22665 d960973e22619 ">
                                       <p>统计信息收集停止的日期。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>如果<code class="codeph">status</code> = <code class="codeph">COMPLETE</code> ，则返回完成日期。
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果<code class="codeph">status</code> = <code class="codeph">AUTOGATHERING</code> ，则返回将来的完成日期。
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果<code class="codeph">status</code> = <code class="codeph">BADSTATS</code> ，则返回必须完成的日期。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22701" headers="d960973e22616 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22701 d960973e22619 ">
                                       <p>要获取的参数名称，可以具有以下值之一：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">iotfrspeed</code> - 每毫秒的I / O传输速度，以字节为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ioseektim</code> - 寻找时间+延迟时间+操作系统开销时间，以毫秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">sreadtim</code> - 读取单个块的平均时间（随机读取），以毫秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">mreadtim</code> - 一次读取mbrc块的平均时间（顺序读取），以毫秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">cpuspeed</code> - 为工作负载捕获的每秒CPU平均周期数（以百万计）（使用“ <code class="codeph">INTERVAL</code> ”或“ <code class="codeph">START</code> ”和“ <code class="codeph">STOP</code> ”选项收集的统计信息）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">cpuspeednw</code> - 为无工作负载捕获的每秒CPU平均周期数（以百万计）（使用' <code class="codeph">NOWORKLOAD</code> '选项收集的统计数据）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">mbrc</code> - 顺序读取的平均多块读取计数，以块为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">maxthr</code> - 最大I / O系统吞吐量，以字节/秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">slavethr</code> - 平均从属I / O吞吐量，以字节/秒为单位</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22767" headers="d960973e22616 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22767 d960973e22619 ">
                                       <p>要获取的参数值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22775" headers="d960973e22616 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22775 d960973e22619 ">
                                       <p>将获取统计信息的用户统计信息表的标识符。如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则将从字典中获取统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22789" headers="d960973e22616 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22789 d960973e22619 ">
                                       <p>与<code class="codeph">stattab</code>保存的统计信息关联的可选标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e22799" headers="d960973e22616 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e22799 d960973e22619 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86__GUID-B6FB067B-5EC9-41BD-A90D-9C9399E5095F">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级</p>
                        <p><code class="codeph">ORA-20003</code> ：无法收集系统统计信息</p>
                        <p><code class="codeph">ORA-20004</code> ：参数不存在</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5319C65D-5367-4049-B6AA-8C24FF2BFB86__GUID-CF51396F-BFF4-40D8-B964-CAF09A89A905">使用说明</p>
                        <p>要运行此过程，您需要<code class="codeph">GATHER_SYSTEM_STATISTICS</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3" name="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3"></a><h4 id="ARPLS-GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3" class="sect4"><span class="enumeration_section">165.7.65</span> GET_TABLE_STATS程序</h4>
                  <div>
                     <p>这个重载过程获取所有与表相关的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3__GUID-EF6042D6-9689-4AD4-B315-A6965F5C4BDE">句法</p><pre class="pre codeblock"><code>DBMS_STATS.GET_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，numrows OUT NUMBER，numblks OUT NUMBER，avgrlen OUT NUMBER，statown VARCHAR2 DEFAULT NULL，realtime_stats BOOLEAN DEFAULT TRUE）;</code></pre><pre class="pre codeblock"><code>DBMS_STATS.GET_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，numrows OUT NUMBER，numblks OUT NUMBER，avgrlen OUT NUMBER，statown VARCHAR2 DEFAULT NULL，im_imcu_count OUT NUMBER，im_block_count OUT NUMBER，扫描OUT NUMBER，realtime_stats BOOLEAN DEFAULT TRUE）;</code></pre><pre class="pre codeblock"><code>DBMS_STATS.GET_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，numrows OUT NUMBER，numblks OUT NUMBER，avgrlen OUT NUMBER，cachedblk OUT NUMBER，cachehit OUT NUMBER，realtime_stats BOOLEAN DEFAULT TRUE） ;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3__GUID-BC455A5F-5EC5-4267-8440-2F79F251DAC4">参数</p>
                        <div class="tblformal" id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3__GUID-BB7CA459-A22F-4174-9D37-9C2BE454D047">
                           <p class="titleintable">表165-69 GET_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GET_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d960973e22947">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d960973e22950">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e22955" headers="d960973e22947 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e22955 d960973e22950 ">
                                       <p>指定架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e22963" headers="d960973e22947 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e22963 d960973e22950 ">
                                       <p>指定此列所属的表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e22971" headers="d960973e22947 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e22971 d960973e22950 ">
                                       <p>指定从中获取统计信息的表分区的名称。如果表已分区，并且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则从全局表级别检索统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e22985" headers="d960973e22947 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e22985 d960973e22950 ">
                                       <p>指定用户统计信息表ID。此ID描述了检索统计信息的位置。如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则该过程直接从数据字典收集统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e22999" headers="d960973e22947 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e22999 d960973e22950 ">
                                       <p>指定与<code class="codeph">stattab</code>这些统计信息关联的可选ID。仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时，此ID才有意义。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23016" headers="d960973e22947 ">
                                       <p><code class="codeph">numRows行</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23016 d960973e22950 ">
                                       <p>指定表或分区中的行数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23024" headers="d960973e22947 ">
                                       <p><code class="codeph">NUMBLKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23024 d960973e22950 ">
                                       <p>指定表或分区中的块数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23032" headers="d960973e22947 ">
                                       <p><code class="codeph">avgrlen</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23032 d960973e22950 ">
                                       <p>指定表或分区的平均行长度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23040" headers="d960973e22947 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23040 d960973e22950 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果与<code class="codeph">ownname</code>不同）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23054" headers="d960973e22947 ">
                                       <p><code class="codeph">im_imcu_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23054 d960973e22950 ">
                                       <p>指定表或分区中的内存中压缩单元（IMCU）的数量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23062" headers="d960973e22947 ">
                                       <p><code class="codeph">im_block_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23062 d960973e22950 ">
                                       <p>指定表或分区中的内存中块数。</p>
                                       <p>内存中的块对应于磁盘上的特定数据块。如果表在IM列存储中完全填充，则In-Memory块的数量等于数据块的数量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23073" headers="d960973e22947 ">
                                       <p><code class="codeph">scanrate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23073 d960973e22950 ">
                                       <p>指定数据库扫描外部表的速率（以MB / s为单位）。此参数仅与外部表相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23081" headers="d960973e22947 ">
                                       <p><code class="codeph">realtime_stats</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23081 d960973e22950 ">
                                       <p>指定<span>是否包含实时统计信息。默认值为<code class="codeph">TRUE</code> 。当<code class="codeph">realtime_stats</code>为<code class="codeph">FALSE</code> ，数据库仅包含<code class="codeph">GATHER_ <span class="codeinlineitalic">*</span> _STATS</code>过程收集的优化程序统计信息。</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23106" headers="d960973e22947 ">
                                       <p><code class="codeph">cachedblk</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23106 d960973e22950 ">
                                       <p>仅限内部使用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d960973e23114" headers="d960973e22947 ">
                                       <p><code class="codeph">cachehit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d960973e23114 d960973e22950 ">
                                       <p>仅限内部使用。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3__GUID-A94B3EF4-FE32-44CB-A9F6-99B1436B3B0B">安全模型</p>
                        <p>在调用此过程之前，请确保该表存在。要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者，或者具有<code class="codeph">ANALYZE ANY DICTIONARY</code>或<code class="codeph">SYSDBA</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3__GUID-BDE3B92A-7BC8-4723-93CC-5F8453D15DDB">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足或没有为请求的对象存储统计信息</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3__GUID-627A2286-B086-47F7-BFB9-EE7E9C496EFF">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>优化程序使用缓存的数据来估计索引或统计信息表访问的缓存块数。数据库通过组合从磁盘读取非缓存块的I / O开销，从缓冲区缓存获取缓存块的CPU成本以及处理数据的CPU成本来计算操作的总成本。</p>
                           </li>
                           <li>
                              <p>数据库始终维护<code class="codeph">cachedblk</code>和<code class="codeph">cachehit</code> 。然而，数据库使用用于优化的相应缓存统计信息表和索引的统计信息的一部分，只有当用户呼叫<code class="codeph">DBMS_STATS.GATHER_ <span class="codeinlineitalic">*</span> _STATS</code>程序自动模式或<code class="codeph">DBMS_STATS.GATHER_SYSTEM_STATS</code>为手动模式。为了防止用户使用不准确和不可靠的数据，优化器为每个<code class="codeph">cachehit</code>和每个对象的<code class="codeph">cachedblk</code>计算“置信因子”。如果值的置信因子满足置信度标准，则数据库使用此值;否则，数据库使用默认值。
                              </p>
                           </li>
                           <li>
                              <p>对象缓存统计信息的自动维护算法假定只存在一个主要数据库工作负载。该算法将统计信息调整为此工作负载，忽略其他“次要”工作负载。如果此假设为假，则必须使用手动模式来维护对象缓存统计信息。</p>
                           </li>
                           <li>
                              <p>自动模式的对象缓存统计信息维护算法会阻止您在以下情况下使用统计信息</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当分析的数据不足时，例如最近创建对象时</p>
                                 </li>
                                 <li>
                                    <p>当系统没有一个主要工作负载时，导致平均值与实际值不对应</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>数据库不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-17645D4E-279E-4C6F-9FF5-6AC909EDBCD3__GUID-ED08D32C-4A71-4D56-9440-001BEA7B984B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/options-for-optimizer-statistics-gathering.html#GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55" name="GUID-CE9043F5-2150-46FA-9C94-79521102DB55"></a><h4 id="ARPLS-GUID-CE9043F5-2150-46FA-9C94-79521102DB55" class="sect4"><span class="enumeration_section">165.7.66</span> IMPLEMENT_ADVISOR_TASK功能</h4>
                  <div>
                     <p>此函数实现Optimizer Statistics Advisor提出的建议。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-62029459-9230-45D2-A55C-EC9F5915FC6F">句法</p><pre class="pre codeblock"><code>DBMS_STATS.IMPLEMENT_ADVISOR_TASK（task_name IN VARCHAR2，execution_name IN VARCHAR2：= NULL，level IN VARCHAR2：='TYPICAL'）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-5E1FC7D2-0472-4B8D-BBE7-989C482A2152">参数</p>
                        <div class="tblformal" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-20A0A032-D1B4-4CA3-B4FE-7325F31234DC">
                           <p class="titleintable">表165-70 IMPLEMENT_ADVISOR_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPLEMENT_ADVISOR_TASK函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.IMPLEMENT_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e23311">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e23314">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e23319" headers="d960973e23311 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e23319 d960973e23314 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e23327" headers="d960973e23311 ">
                                       <p><code class="codeph">execution_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e23327 d960973e23314 ">
                                       <p>用于限定和标识顾问程序执行的名称。如果未指定，则顾问程序会自动生成它。</p>
                                       <p>如果指定的执行与现有执行的名称冲突，则该函数返回错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e23337" headers="d960973e23311 ">
                                       <p><code class="codeph">水平</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e23337 d960973e23314 ">
                                       <p>实施的水平。可能的值是</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ALL</code> ：忽略过滤器并实施所有建议。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：根据适当的过滤器实施建议。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-5688A446-4AA0-4416-94A1-7F67D4864721">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>您可以为<code class="codeph">AUTO_STATS_ADVISOR_TASK</code>执行此子程序，该子程序是预定义的。
                              </p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                        <p>执行此任务的结果取决于正在执行的用户的权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SYSTEM</code>级别</p>
                              <p>只有具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户才能在系统级规则上执行此任务。
                              </p>
                           </li>
                           <li>
                              <p>操作级别</p>
                              <p>结果取决于以下特权：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以为所有统计操作执行此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以执行与除<code class="codeph">SYS</code>之外的任何模式相关的统计操作的此任务。</p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY</code>权限的用户可以执行与其自己的架构和<code class="codeph">SYS</code>架构相关的统计操作的此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>既没有<code class="codeph">ANALYZE ANY</code>也没有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户只能对与其自己的架构相关的统计操作执行此操作。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>对象级别</p>
                              <p>用户可以为具有统计信息收集权限的任何对象执行此任务。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-8F911523-AB17-400B-8FCA-555FC4AD9D57">返回值</p>
                        <p>此函数返回一个XML CLOB，指示哪些建议已成功实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-4B9E4ADB-BD86-4295-8624-24930F880F58">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-0BE85F92-DF41-464B-80F2-26D35DAC0B08">
                        <p class="titleinexample">示例165-10实现Optimizer Statistics Advisor建议</p>
                        <p>此脚本说明了基本的Optimizer Statistics Advisor会话。它创建任务，执行任务，生成报告，然后实施建议。</p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（128）：='my_task'; v_ename VARCHAR2（128）：= NULL; v_report CLOB：= null; v_script CLOB：= null; v_imp_result CLOB; BEGIN  - 创建任务v_tname：= DBMS_STATS.CREATE_ADVISOR_TASK（v_tname）; - 执行任务v_ename：= DBMS_STATS.EXECUTE_ADVISOR_TASK（v_tname）; - 查看任务报告v_report：= DBMS_STATS.REPORT_ADVISOR_TASK（v_tname）; DBMS_OUTPUT.PUT_LINE（v_report）; - 实施所有建议v_imp_result：= DBMS_STATS.IMPLEMENT_ADVISOR_TASK（v_tname）;结束;</code></pre><div class="See Also" id="GUID-CE9043F5-2150-46FA-9C94-79521102DB55__GUID-CB9C0CD5-FD70-4AC7-AFA2-9F835E00D92C">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4" name="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4"></a><h4 id="ARPLS-GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4" class="sect4"><span class="enumeration_section">165.7.67</span> IMPORT_COLUMN_STATS程序</h4>
                  <div>
                     <p>此过程从<code class="codeph">stattab</code>标识的用户统计信息表中检索特定列的统计信息，并将它们存储在字典中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4__GUID-BB88D44B-1600-45B0-9858-7026348B74E1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_COLUMN_STATS（ownname VARCHAR2，tabname VARCHAR2，colname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4__GUID-9550218D-13DB-45B5-9258-F48D9CB152EC">参数</p>
                        <div class="tblformal" id="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4__GUID-9F785E5B-52BD-4B7C-8C5B-80EDC4BBB136">
                           <p class="titleintable">表165-71 IMPORT_COLUMN_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_COLUMN_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_COLUMN_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e23602">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e23605">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23610" headers="d960973e23602 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23610 d960973e23605 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23618" headers="d960973e23602 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23618 d960973e23605 ">
                                       <p>此列所属的表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23626" headers="d960973e23602 ">
                                       <p><code class="codeph">colname的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23626 d960973e23605 ">
                                       <p>列或扩展名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23634" headers="d960973e23602 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23634 d960973e23605 ">
                                       <p>表分区的名称。如果表已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则导入全局和分区列统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23648" headers="d960973e23602 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23648 d960973e23605 ">
                                       <p>用户统计信息表标识符，用于描述从哪里检索统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23656" headers="d960973e23602 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23656 d960973e23605 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23667" headers="d960973e23602 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23667 d960973e23605 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23681" headers="d960973e23602 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23681 d960973e23605 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23736" headers="d960973e23602 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23736 d960973e23605 ">
                                       <p>如果设置为<code class="codeph">TRUE</code> ，即使统计信息已锁定，也会导入统计信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4__GUID-C9EF680D-0B61-4C2C-AA1B-6D68A1153BFF">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4__GUID-A7D819FA-C605-427E-BC01-1EE4471F6B26">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7029CF67-F3D8-4159-9B17-3A574436ECB4__GUID-4650EC08-634F-4F53-8985-F0CCF7C4C143">使用说明</p>
                        <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7" name="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7"></a><h4 id="ARPLS-GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7" class="sect4"><span class="enumeration_section">165.7.68</span> IMPORT_DATABASE_PREFS过程</h4>
                  <div>
                     <p>此过程用于导入所有表的统计信息首选项，不包括Oracle拥有的表。可以通过为<code class="codeph">add_sys</code>参数传递<code class="codeph">TRUE</code>来包含这些表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7__GUID-21E12831-0D82-4A92-AE3F-8A1C5BB6482C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_DATABASE_PREFS（stattab IN VARCHAR2，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL add_sys IN BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7__GUID-5E3382A6-F1B5-498B-BCCB-5B3E39399628">参数</p>
                        <div class="tblformal" id="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7__GUID-5CF9341D-06AA-45FF-BED7-078DB9095578">
                           <p class="titleintable">表165-72 IMPORT_DATABASE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_DATABASE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_DATABASE_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e23906">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e23909">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23914" headers="d960973e23906 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23914 d960973e23909 ">
                                       <p>统计表名称导入统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23922" headers="d960973e23906 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23922 d960973e23909 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的可选标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23932" headers="d960973e23906 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23932 d960973e23909 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e23946" headers="d960973e23906 ">
                                       <p><code class="codeph">add_sys</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e23946 d960973e23909 ">
                                       <p>值<code class="codeph">TRUE</code>将包括Oracle拥有的表</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7__GUID-5B37BDDA-AC65-455A-9D1F-58CFECC5B168">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7__GUID-D81BD9BF-AA63-48E4-9AD1-9A1A0B396907">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您需要具有SYSDBA角色，或同时具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8D54EE5-9C30-4F4B-A4D9-2BE31D3E8EE7__GUID-1BC4427D-9A01-484A-A8A7-34439C7B8B6A">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_DATABASE_PREFS（'STATTAB'，statown =&gt;'SH'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16" name="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16"></a><h4 id="ARPLS-GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16" class="sect4"><span class="enumeration_section">165.7.69</span> IMPORT_DATABASE_STATS程序</h4>
                  <div>
                     <p><span>此过程从用户统计信息表导入数据库中所有对象的统计信息，并将它们存储在数据字典中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16__GUID-7856C4D6-7CC3-4C5D-B2AC-32123F878DDB">句法</p><pre class="pre codeblock"><code>DBMS_STATS.IMPORT_DATABASE_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16__GUID-6EAC5201-A5AC-4F09-87BD-A79D31F41442">参数</p>
                        <div class="tblformal" id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16__GUID-3C87D107-9809-467E-801E-70DD9AADC824">
                           <p class="titleintable">表165-73 IMPORT_DATABASE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_DATABASE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_DATABASE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e24100">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e24103">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24108" headers="d960973e24100 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24108 d960973e24103 ">
                                       <p>指定包含要导入的统计信息的统计信息表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24116" headers="d960973e24100 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24116 d960973e24103 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24126" headers="d960973e24100 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24126 d960973e24103 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24137" headers="d960973e24100 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24137 d960973e24103 ">
                                       <p>指示是否使相关游标无效。如果此参数设置为<code class="codeph">TRUE</code> ，则该过程不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                       <p>可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24186" headers="d960973e24100 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24186 d960973e24103 ">
                                       <p>覆盖在对象（表）级别锁定的统计信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略统计信息锁定并导入统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> - 仅在未锁定统计信息时才导入统计信息</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24205" headers="d960973e24100 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24205 d960973e24103 ">
                                       <p>指定要导入的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16__GUID-E1D69C14-D7CD-40E7-8552-F411CA803EB6">安全模型</p>
                        <p><span id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16__d5e4873">您必须具有<code class="codeph">SYSDBA</code>权限，或者具有<code class="codeph">ANALYZE ANY DICTIONARY</code>和<code class="codeph">ANALYZE ANY</code>系统权限。</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16__GUID-DA0A733C-ADE0-4B7D-8617-0D5935F1D622">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0244C71F-40E4-4CC5-A1D3-08C96B8B9E16__GUID-EDFD33C2-5F17-4E32-A8D0-9D885FFF9B37">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB" name="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB"></a><h4 id="ARPLS-GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB" class="sect4"><span class="enumeration_section">165.7.70</span> IMPORT_DICTIONARY_STATS程序</h4>
                  <div>
                     <p><span>此过程从用户统计信息表导入所有数据字典模式（ <code class="codeph">SYS</code> ， <code class="codeph">SYSTEM</code>和RDBMS组件模式）的统计信息，并将它们存储在字典中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB__GUID-D7FE4576-C789-4306-8A65-54AF205EB837">句法</p><pre class="pre codeblock"><code>DBMS_STATS.IMPORT_DICTIONARY_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB__GUID-51ABD2C3-A4B1-43EC-BE05-3ABDD6269B17">参数</p>
                        <div class="tblformal" id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB__GUID-D5726A2E-36A2-4C38-A79E-1833A1328156">
                           <p class="titleintable">表165-74 IMPORT_DICTIONARY_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_DICTIONARY_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_DICTIONARY_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e24368">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e24371">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24376" headers="d960973e24368 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24376 d960973e24371 ">
                                       <p>用户统计信息表标识符，用于描述从哪里检索统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24384" headers="d960973e24368 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24384 d960973e24371 ">
                                       <p>要在<code class="codeph">stattab</code>中与这些统计信息关联的（可选）标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24394" headers="d960973e24368 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24394 d960973e24371 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24405" headers="d960973e24368 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24405 d960973e24371 ">
                                       <p>指示是否使相关游标无效。如果此参数设置为<code class="codeph">TRUE</code> ，则该过程不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                       <p>可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24454" headers="d960973e24368 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24454 d960973e24371 ">
                                       <p>覆盖对象（表）级别的统计信息锁定：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略统计信息锁定并导入统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> - 仅在没有锁定时才导入统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24473" headers="d960973e24368 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24473 d960973e24371 ">
                                       <p>指定要导入的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB__GUID-93C2790C-346B-47FE-8EA1-B644C4BEC48F">安全模型</p>
                        <p><span id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB__d5e4873">您必须具有<code class="codeph">SYSDBA</code>权限，或者具有<code class="codeph">ANALYZE ANY DICTIONARY</code>和<code class="codeph">ANALYZE ANY</code>系统权限。</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB__GUID-35BC6678-AC68-4452-90FC-3DCF86CB7EF4">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D644A27F-74F4-4228-A905-5AD295ADC6EB__GUID-69CAADE1-56B4-476D-9CEE-C53C15D979C9">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F" name="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F"></a><h4 id="ARPLS-GUID-70EFDDC9-6FBF-419F-955A-BA953816788F" class="sect4"><span class="enumeration_section">165.7.71</span> IMPORT_FIXED_OBJECTS_STATS程序</h4>
                  <div>
                     <p><span>此过程从用户统计信息表导入固定表的统计信息，并将它们存储在数据字典中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F__GUID-17555B3D-06E3-4B74-9066-FD76E9DD56F7">句法</p><pre class="pre codeblock"><code>DBMS_STATS.IMPORT_FIXED_OBJECTS_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F__GUID-89392E3F-3466-41E3-AB41-1C138F52F429">参数</p>
                        <div class="tblformal" id="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F__GUID-8C692AF1-DEA3-40D0-A2F6-1ED8B4D754CE">
                           <p class="titleintable">表165-75 IMPORT_FIXED_OBJECTS_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_FIXED_OBJECTS_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_FIXED_OBJECTS_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e24635">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e24638">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24643" headers="d960973e24635 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24643 d960973e24638 ">
                                       <p>用户统计信息表标识符，用于描述从哪里检索统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24651" headers="d960973e24635 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24651 d960973e24638 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24661" headers="d960973e24635 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24661 d960973e24638 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24672" headers="d960973e24635 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24672 d960973e24638 ">
                                       <p>指示是否使相关游标无效。如果此参数设置为<code class="codeph">TRUE</code> ，则该过程不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                       <p>可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e24721" headers="d960973e24635 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e24721 d960973e24638 ">
                                       <p>覆盖统计锁定：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略统计信息锁定并导入统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> - 仅在没有锁定时才导入统计信息</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F__GUID-32D4A06D-0E71-44A7-B340-413365AC75E9">安全模型</p>
                        <p>您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE ANY DICTIONARY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F__GUID-6D0018D9-44E7-4B8F-9DAB-FBA91AB3DC26">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EFDDC9-6FBF-419F-955A-BA953816788F__GUID-477E1236-2F91-4DD0-B221-3093D8D2CC79">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52" name="GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52"></a><h4 id="ARPLS-GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52" class="sect4"><span class="enumeration_section">165.7.72</span> IMPORT_INDEX_STATS程序</h4>
                  <div>
                     <p>此过程从<code class="codeph">stattab</code>标识的用户统计信息表中检索特定索引的统计信息，并将它们存储在字典中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52__GUID-CD09FBF8-8423-4E5A-847C-F821165B8681">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52__GUID-A332CC92-A004-4537-901B-6EF84839EFF3">参数</p>
                        <div class="tblformal" id="GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52__GUID-137EFE21-BDBC-428F-BF57-D2086320CB11">
                           <p class="titleintable">表165-76 IMPORT_INDEX_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_INDEX_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_INDEX_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e24880">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e24883">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e24888" headers="d960973e24880 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e24888 d960973e24883 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e24896" headers="d960973e24880 ">
                                       <p><code class="codeph">indname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e24896 d960973e24883 ">
                                       <p>索引的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e24904" headers="d960973e24880 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e24904 d960973e24883 ">
                                       <p>索引分区的名称。如果索引已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则导入全局和分区索引统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e24918" headers="d960973e24880 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e24918 d960973e24883 ">
                                       <p>用户统计信息表标识符，用于描述从哪里检索统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e24926" headers="d960973e24880 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e24926 d960973e24883 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e24936" headers="d960973e24880 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e24936 d960973e24883 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e24950" headers="d960973e24880 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e24950 d960973e24883 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25005" headers="d960973e24880 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25005 d960973e24883 ">
                                       <p>即使索引统计信息已锁定，也会导入统计信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52__GUID-F00F4D3A-D819-4B72-9E86-36BFD6ACAB71">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BC45E52-69AD-4FD4-B66E-9807A9080E52__GUID-D0D108CF-B067-4494-BFB5-AF5DBAC89B95">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                        <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-09496B77-DBD5-4091-8C06-E2F61B252277" name="GUID-09496B77-DBD5-4091-8C06-E2F61B252277"></a><h4 id="ARPLS-GUID-09496B77-DBD5-4091-8C06-E2F61B252277" class="sect4"><span class="enumeration_section">165.7.73</span> IMPORT_SCHEMA_PREFS过程</h4>
                  <div>
                     <p>此过程用于导入指定所有者名称所拥有的所有表的统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-09496B77-DBD5-4091-8C06-E2F61B252277__GUID-4BB912E5-684F-465D-842C-D891886F4724">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_SCHEMA_PREFS（ownname IN VARCHAR2，stattab IN VARCHAR2，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09496B77-DBD5-4091-8C06-E2F61B252277__GUID-91517022-1C12-4B3F-A557-A1F8A7FF233A">参数</p>
                        <div class="tblformal" id="GUID-09496B77-DBD5-4091-8C06-E2F61B252277__GUID-B9BED726-C8AF-432A-9625-F19DF5535EFB">
                           <p class="titleintable">表165-77 IMPORT_SCHEMA_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_SCHEMA_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_SCHEMA_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e25162">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e25165">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25170" headers="d960973e25162 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25170 d960973e25165 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25178" headers="d960973e25162 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25178 d960973e25165 ">
                                       <p>统计表名称从何处导入统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25186" headers="d960973e25162 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25186 d960973e25165 ">
                                       <p>（可选）在<code class="codeph">stattab</code>中与这些统计信息关联的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25196" headers="d960973e25162 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25196 d960973e25165 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不是<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09496B77-DBD5-4091-8C06-E2F61B252277__GUID-17D2D490-BBAA-44A7-9221-6F6F9366D62B">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09496B77-DBD5-4091-8C06-E2F61B252277__GUID-61BCC121-CA0A-44EC-A1FE-1764865DDFA2">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您需要以所有者身份连接，或具有<code class="codeph">SYSDBA</code>权限，或具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，值用引号括起来。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09496B77-DBD5-4091-8C06-E2F61B252277__GUID-7713E4A1-C18B-42D9-8B45-E1FBAA73820E">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_SCHEMA_PREFS（'SH'，'STAT'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E" name="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E"></a><h4 id="ARPLS-GUID-848450BE-056A-42A4-9946-B6289EAAAE0E" class="sect4"><span class="enumeration_section">165.7.74</span> IMPORT_SCHEMA_STATS程序</h4>
                  <div>
                     <p><span>此过程从用户统计信息表中<code class="codeph">ownname</code>由<code class="codeph">ownname</code>标识的模式中的所有对象的统计信息，并将它们存储在数据字典中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E__GUID-3A00319D-3699-44EE-80A5-3404AB78ABE9">句法</p><pre class="pre codeblock"><code>DBMS_STATS.IMPORT_SCHEMA_STATS（ownname VARCHAR2，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E__GUID-96ADD677-E744-4A2F-9F50-BFC945E4B884">参数</p>
                        <div class="tblformal" id="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E__GUID-3DE9500B-3771-40AE-9E2A-AE0E8C1DBD3F">
                           <p class="titleintable">表165-78 IMPORT_SCHEMA_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_SCHEMA_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e25357">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e25360">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e25365" headers="d960973e25357 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e25365 d960973e25360 ">
                                       <p>指定架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e25373" headers="d960973e25357 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e25373 d960973e25360 ">
                                       <p>标识用于存储要导入的统计信息的用户表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e25381" headers="d960973e25357 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e25381 d960973e25360 ">
                                       <p>指定<code class="codeph">stattab</code>中与这些统计信息关联的ID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e25392" headers="d960973e25357 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e25392 d960973e25360 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果不同于<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e25406" headers="d960973e25357 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e25406 d960973e25360 ">
                                       <p>指示是否使相关游标无效。如果此参数设置为<code class="codeph">TRUE</code> ，则该过程不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                       <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e25455" headers="d960973e25357 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e25455 d960973e25360 ">
                                       <p>指定是否覆盖在对象级别锁定的统计信息。可能的值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略统计信息锁定并导入统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> - 仅在没有锁定时导入统计信息。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e25474" headers="d960973e25357 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e25474 d960973e25360 ">
                                       <p>指定要处理的统计信息。支持以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 指定表统计信息，列统计信息和索引统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 指定增量统计的元数据。
                                             </p>
                                          </li>
                                          <li><code class="codeph">REALTIME_STATS</code> - 仅指定<span>实时统计信息</span> 。
                                          </li>
                                       </ul>
                                       <p>您可以指定逗号分隔值的列表。例如， <code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。默认值为<code class="codeph">'OBJECT_STATS, REALTIME_STATS'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E__GUID-0FDD164A-5E52-4E7F-92D4-66D754D35D94">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E__GUID-683A8E96-2531-4A4F-A4AE-FA0CFDA4EC69">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-848450BE-056A-42A4-9946-B6289EAAAE0E__GUID-EE441A4C-F569-4858-A268-5180A7233F30">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D" name="GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D"></a><h4 id="ARPLS-GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D" class="sect4"><span class="enumeration_section">165.7.75</span> IMPORT_SYSTEM_STATS程序</h4>
                  <div>
                     <p>此过程从<code class="codeph">stattab</code>标识的用户统计信息表中检索系统统计信息，并将统计信息存储在字典中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D__GUID-D6F55CEA-DA99-4B06-98D9-1C655A64FD1E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_SYSTEM_STATS（stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D__GUID-EC51EE80-E008-482C-AB7D-45845E8CD8B1">参数</p>
                        <div class="tblformal" id="GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D__GUID-0BB33DDF-C001-4203-9F51-AB43D7034052">
                           <p class="titleintable">表165-79 IMPORT_SYSTEM_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_SYSTEM_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_SYSTEM_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e25650">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e25653">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25658" headers="d960973e25650 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25658 d960973e25653 ">
                                       <p>将检索统计信息的用户统计信息表的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25666" headers="d960973e25650 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25666 d960973e25653 ">
                                       <p>与从<code class="codeph">stattab</code>检索的统计信息关联的可选标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25676" headers="d960973e25650 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25676 d960973e25653 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D__GUID-53FA87F1-4D73-4371-A509-06B8F5DEC713">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级</p>
                        <p><code class="codeph">ORA-20003</code> ：无法导入系统统计信息</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-543242B8-513C-4F28-8E12-7E665BDBBA3D__GUID-357C6CFE-0089-464C-96B2-D5D4F30F07AB">使用说明</p>
                        <p>要运行此过程，您需要<code class="codeph">GATHER_SYSTEM_STATISTICS</code>角色。
                        </p>
                        <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-28A085E2-1D40-482F-B01F-01ED25262320" name="GUID-28A085E2-1D40-482F-B01F-01ED25262320"></a><h4 id="ARPLS-GUID-28A085E2-1D40-482F-B01F-01ED25262320" class="sect4"><span class="enumeration_section">165.7.76</span> IMPORT_TABLE_PREFS过程</h4>
                  <div>
                     <p>此过程用于设置指定模式中指定表的统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-28A085E2-1D40-482F-B01F-01ED25262320__GUID-4552E823-0846-4406-905C-6E048ECFCF7D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_TABLE_PREFS（ownname IN VARCHAR2，tabname IN VARCHAR2，stattab IN VARCHAR2，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28A085E2-1D40-482F-B01F-01ED25262320__GUID-73C8B2B6-668C-4AAB-964E-F41950DB7787">参数</p>
                        <div class="tblformal" id="GUID-28A085E2-1D40-482F-B01F-01ED25262320__GUID-D1608CE6-366F-4FFC-8A9C-02DDF3212B2D">
                           <p class="titleintable">表165-80 IMPORT_TABLE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_TABLE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_TABLE_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e25821">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e25824">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25829" headers="d960973e25821 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25829 d960973e25824 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25837" headers="d960973e25821 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25837 d960973e25824 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25845" headers="d960973e25821 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25845 d960973e25824 ">
                                       <p>统计表名称从何处导入统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25853" headers="d960973e25821 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25853 d960973e25824 ">
                                       <p>（可选）在stattab中与这些统计信息关联的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e25861" headers="d960973e25821 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e25861 d960973e25824 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不是<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28A085E2-1D40-482F-B01F-01ED25262320__GUID-2CAB7357-BDBF-4053-B368-70E56EE7EE9D">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28A085E2-1D40-482F-B01F-01ED25262320__GUID-A4B1D34A-C4E9-4B75-BE1F-103D74976CFE">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您需要以表的所有者身份进行连接，或者具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，值用引号括起来。
                              </p>
                           </li>
                           <li>
                              <p>Oracle不支持跨不同字符集的数据库导出或导入统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28A085E2-1D40-482F-B01F-01ED25262320__GUID-9160D4BB-B68A-4230-AE46-124D6C4AB8E4">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_TABLE_PREFS（'SH'，'SALES'，'STAT'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D" name="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D"></a><h4 id="ARPLS-GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D" class="sect4"><span class="enumeration_section">165.7.77</span> IMPORT_TABLE_STATS程序</h4>
                  <div>
                     <p><span>此过程从<code class="codeph">stattab</code>标识的用户统计信息表导入指定表的统计信息，并将它们存储在数据字典中。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D__GUID-3D06C9EF-4765-4141-9B7A-03A1E8697F4B">句法</p><pre class="pre codeblock"><code>DBMS_STATS.IMPORT_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2，statid VARCHAR2 DEFAULT NULL，cascade BOOLEAN DEFAULT TRUE，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE ，stat_category VARCHAR2 DEFAULT DEFAULT_STAT_CATEGORY）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D__GUID-B065EABD-1DF0-465C-A128-3C2F17A6B16A">参数</p>
                        <div class="tblformal" id="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D__GUID-36885E22-A2E0-4C23-B045-A4166D0BDC75">
                           <p class="titleintable">表165-81 IMPORT_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.IMPORT_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e26019">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e26022">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26027" headers="d960973e26019 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26027 d960973e26022 ">
                                       <p>指定架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26035" headers="d960973e26019 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26035 d960973e26022 ">
                                       <p>指定表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26043" headers="d960973e26019 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26043 d960973e26022 ">
                                       <p>表分区的名称。如果表已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则导入全局和分区表统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26057" headers="d960973e26019 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26057 d960973e26022 ">
                                       <p>标识用户统计信息表，该表描述了检索统计信息的位置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26065" headers="d960973e26019 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26065 d960973e26022 ">
                                       <p>指定<code class="codeph">stattab</code>中与这些统计信息关联的ID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26076" headers="d960973e26019 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26076 d960973e26022 ">
                                       <p>指示是否导入此表的列和索引统计信息。默认值为<code class="codeph">TRUE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26087" headers="d960973e26019 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26087 d960973e26022 ">
                                       <p>指定包含<code class="codeph">stattab</code>的架构（如果不同于<code class="codeph">ownname</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26101" headers="d960973e26019 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26101 d960973e26022 ">
                                       <p>指示是否使相关游标无效。如果此参数设置为<code class="codeph">TRUE</code> ，则该过程不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code>让Oracle数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                       <p>您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26153" headers="d960973e26019 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26153 d960973e26022 ">
                                       <p>指定是否覆盖在对象级别锁定的统计信息。可能的值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略统计信息锁定并导入统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> - 仅在没有锁定时导入统计信息。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e26172" headers="d960973e26019 ">
                                       <p><code class="codeph">stat_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e26172 d960973e26022 ">
                                       <p>指定要处理的统计信息。支持以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 指定表统计信息，列统计信息和索引统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 指定增量统计的元数据。
                                             </p>
                                          </li>
                                          <li><code class="codeph">REALTIME_STATS</code> - 仅指定<span>实时统计信息</span> 。
                                          </li>
                                       </ul>
                                       <p>您可以指定逗号分隔值的列表。例如， <code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。默认值为<code class="codeph">'OBJECT_STATS, REALTIME_STATS'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D__GUID-0FDD164A-5E52-4E7F-92D4-66D754D35D94">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者或具有<code class="codeph">ANALYZE ANY DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D__GUID-C8981A4A-8D9C-4211-8AD2-DED6A61CF485">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：用户统计信息表中的值无效或不一致</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3FF95A6-ECAE-41B9-90CB-95A68A86AE2D__GUID-72BFDAA7-3D83-4E35-AFDF-75C224B46776">使用说明</p>
                        <p><span>Oracle数据库不支持跨不同字符集的数据库导出或导入统计信息。</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2" name="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2"></a><h4 id="ARPLS-GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2" class="sect4"><span class="enumeration_section">165.7.78</span> INTERRUPT_ADVISOR_TASK程序</h4>
                  <div>
                     <p>此过程将中断当前正在执行的Optimizer Statistics Advisor任务。</p>
                     <div class="section">
                        <p>任务在正常退出时结束其操作，此时您可以访问中间结果。您也可以使用<span class="q">“ <a href="DBMS_STATS.html#GUID-B7A36011-D795-458B-9A2B-930491111D8E" title="此过程恢复中断的任务。它只恢复最近中断的执行。">RESUME_ADVISOR_TASK过程</a> ”</span>恢复任务。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2__GUID-F07B6AA8-45DE-402B-A931-4497814E9104">句法</p><pre class="pre codeblock"><code>DBMS_STATS.INTERRUPT_ADVISOR_TASK（task_name IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2__GUID-3FEC8376-95C7-416C-945C-C0A5A058E365">参数</p>
                        <div class="tblformal" id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2__GUID-B4AA0DD0-1A0C-4275-8640-A14A7771C38C">
                           <p class="titleintable">表165-82 INTERRUPT_ADVISOR_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INTERRUPT_ADVISOR_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.INTERRUPT_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e26355">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e26358">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e26363" headers="d960973e26355 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e26363 d960973e26358 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2__GUID-84F8B771-248A-4F33-96FF-75AF246A38E1">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                        <p>考虑一个任务由一个用户执行，中断，然后由另一个用户恢复的情况。在这种情况下，Optimizer Statistics Advisor将恢复执行的检查基于恢复任务的用户的权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2__GUID-6B3712E6-E1A4-4E32-AD6F-8B4C476B50B2">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2__GUID-A8FE5424-30AA-41B3-9AE9-9C0D47C94F9B">
                        <p class="titleinexample">示例165-11中断优化程序统计顾问任务</p>
                        <p>在此示例中，您启动SQL * Plus会话，然后创建并执行名为<code class="codeph">my_task</code>的顾问程序任务：</p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（128）：='my_task'; v_ename VARCHAR2（128）：= NULL; BEGIN  - 创建任务v_tname：= DBMS_STATS.CREATE_ADVISOR_TASK（v_tname）; - 执行任务v_ename：= DBMS_STATS.EXECUTE_ADVISOR_TASK（v_tname）;结束; /</code></pre><p>在单独的终端中，启动第二个SQL * Plus会话，然后执行以下程序：</p><pre class="pre codeblock"><code>XEC DBMS_STATS.INTERRUPT_ADVISOR_TASK（'my_task'）;</code></pre><p>第一个会话返回<code class="codeph">ORA-13632</code>以指示取消任务：</p><pre class="pre codeblock"><code>ORA-13638：用户中断了当前操作。</code></pre><div class="See Also" id="GUID-B8624A0C-D6AE-43F5-9D4E-27C2CDA85BB2__GUID-9FC3112B-4EAA-4CF2-B7F0-223522DFEB98">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" name="GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E"></a><h4 id="ARPLS-GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" class="sect4"><span class="enumeration_section">165.7.79</span> LOCK_PARTITION_STATS程序</h4>
                  <div>
                     <p>此过程使用户可以锁定分区的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E__GUID-030CB900-F42F-4214-B69F-0C77518352DB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.LOCK_PARTITION_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E__GUID-313764F6-7E3A-4DCD-BEF7-6CC7C7B98D12">参数</p>
                        <div class="tblformal" id="GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E__GUID-177564DC-2EB1-4402-A8B5-514E6DA51B22">
                           <p class="titleintable">表165-83 LOCK_PARTITION_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOCK_PARTITION_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.LOCK_PARTITION_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e26543">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e26546">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e26551" headers="d960973e26543 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e26551 d960973e26546 ">
                                       <p>要锁定的架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e26559" headers="d960973e26543 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e26559 d960973e26546 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e26567" headers="d960973e26543 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e26567 d960973e26546 ">
                                       <p>[Sub]分区名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E__GUID-74EBDE4F-EB38-4475-A102-32B28F28956A">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-5213B65D-A7F4-4CA7-B939-650B46F58890" name="GUID-5213B65D-A7F4-4CA7-B939-650B46F58890"></a><h4 id="ARPLS-GUID-5213B65D-A7F4-4CA7-B939-650B46F58890" class="sect4"><span class="enumeration_section">165.7.80</span> LOCK_SCHEMA_STATS程序</h4>
                  <div>
                     <p>此过程将锁定架构的所有表的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5213B65D-A7F4-4CA7-B939-650B46F58890__GUID-070C38D3-8422-4A68-8EF8-4A8F57F72D7B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.LOCK_SCHEMA_STATS（ownname VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5213B65D-A7F4-4CA7-B939-650B46F58890__GUID-4F41A2FB-CA5C-4ABC-8B7E-013F67A296D7">参数</p>
                        <div class="tblformal" id="GUID-5213B65D-A7F4-4CA7-B939-650B46F58890__GUID-5C75A744-BA84-49CF-9BC1-56E28B2CC6F7">
                           <p class="titleintable">表165-84 LOCK_SCHEMA_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOCK_SCHEMA_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.LOCK_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e26708">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e26711">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e26716" headers="d960973e26708 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e26716 d960973e26711 ">
                                       <p>要锁定的架构的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5213B65D-A7F4-4CA7-B939-650B46F58890__GUID-26F808AB-3411-4C3A-8326-1958C31789A1">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>当锁定表的统计信息时，所有依赖于表的统计信息（包括表统计信息，列统计信息，直方图和所有相关索引的统计信息）都被视为已锁定。</p>
                           </li>
                           <li>
                              <p>如果对象的统计信息被锁定，则修改单个表，索引或列的字典中的统计信息的<code class="codeph">SET_*,</code> <code class="codeph">DELETE_*,</code> <code class="codeph">IMPORT_*,</code> <code class="codeph">GATHER_*</code>过程将引发错误。
                              </p>
                           </li>
                           <li>
                              <p>对多个对象（例如<code class="codeph">GATHER_SCHEMA_STATS</code> ）进行操作的过程将跳过修改对象的统计信息（如果它已被锁定）。许多过程都有强制参数来覆盖锁。
                              </p>
                           </li>
                           <li>
                              <p>此过程要么冻结当前的统计信息集，要么将统计信息保持为空（未收集）以使用动态统计信息。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">EXPORT_*_STATS</code>过程时，锁定或未锁定状态不会与表统计信息一起导出。
                              </p>
                           </li>
                           <li>
                              <p>无论是<a href="DBMS_STATS.html#GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" title="此过程将解锁模式中所有表的统计信息。">UNLOCK_SCHEMA_STATS过程</a>也不<a href="DBMS_STATS.html#GUID-690DF3FA-E225-4959-8836-5458F17217D5" title="此过程将解锁表中的统计信息。">UNLOCK_TABLE_STATS程序</a>被设计来解锁相应的分区的统计信息。当您调用<a href="DBMS_STATS.html#GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" title="此过程将锁定表上的统计信息。">LOCK_TABLE_STATS过程时</a> ，它会在表级别设置统计锁定位。在这种情况下，您无法收集有关依赖对象（如分区和索引）的统计信息。<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="This procedure enables the user to lock statistics for a partition.">出于</a>同样的原因，如果表统计信息被锁定，则依赖项将被锁定，您无需显式调用<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="此过程使用户可以锁定分区的统计信息。">LOCK_PARTITION_STATS过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" name="GUID-77225DE6-28D1-4064-9531-87BB1CFB4405"></a><h4 id="ARPLS-GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" class="sect4"><span class="enumeration_section">165.7.81</span> LOCK_TABLE_STATS程序</h4>
                  <div>
                     <p>此过程将锁定表上的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-77225DE6-28D1-4064-9531-87BB1CFB4405__GUID-41E60979-1C5F-4D3E-AE7C-6A1060BEB3A9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.LOCK_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77225DE6-28D1-4064-9531-87BB1CFB4405__GUID-F45D6710-F1ED-44EB-8F84-7052E94D8D55">参数</p>
                        <div class="tblformal" id="GUID-77225DE6-28D1-4064-9531-87BB1CFB4405__GUID-8064867E-5ED3-4C93-B684-53CC6C767D44">
                           <p class="titleintable">表165-85 LOCK_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOCK_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.LOCK_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e26922">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e26925">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e26930" headers="d960973e26922 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e26930 d960973e26925 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e26938" headers="d960973e26922 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e26938 d960973e26925 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77225DE6-28D1-4064-9531-87BB1CFB4405__GUID-457DB7BD-0422-489A-8357-EE1E66DF100E">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>当锁定表的统计信息时，所有依赖于表的统计信息（包括表统计信息，列统计信息，直方图和所有相关索引的统计信息）都被视为已锁定。</p>
                           </li>
                           <li>
                              <p>如果对象的统计信息被锁定，则修改单个表，索引或列的字典中的统计信息的<code class="codeph">SET_*,</code> <code class="codeph">DELETE_*,</code> <code class="codeph">IMPORT_*,</code> <code class="codeph">GATHER_*</code>过程将引发错误。
                              </p>
                           </li>
                           <li>
                              <p>对多个对象（例如<code class="codeph">GATHER_SCHEMA_STATS</code> ）进行操作的过程将跳过修改对象的统计信息（如果它已被锁定）。许多过程都有强制参数来覆盖锁。
                              </p>
                           </li>
                           <li>
                              <p>此过程要么冻结当前的统计信息集，要么将统计信息保持为空（未收集）以使用动态统计信息。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">EXPORT_*_STATS</code>过程时，锁定或未锁定状态不会与表统计信息一起导出。
                              </p>
                           </li>
                           <li>
                              <p>无论是<a href="DBMS_STATS.html#GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" title="此过程将解锁模式中所有表的统计信息。">UNLOCK_SCHEMA_STATS过程</a>也不<a href="DBMS_STATS.html#GUID-690DF3FA-E225-4959-8836-5458F17217D5" title="此过程将解锁表中的统计信息。">UNLOCK_TABLE_STATS程序</a>被设计来解锁相应的分区的统计信息。当您调用<a href="DBMS_STATS.html#GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" title="此过程将锁定表上的统计信息。">LOCK_TABLE_STATS过程时</a> ，它会在表级别设置统计锁定位。在这种情况下，您无法收集有关依赖对象（如分区和索引）的统计信息。<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="This procedure enables the user to lock statistics for a partition.">出于</a>同样的原因，如果表统计信息被锁定，则依赖项将被锁定，您无需显式调用<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="此过程使用户可以锁定分区的统计信息。">LOCK_PARTITION_STATS过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C" name="GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C"></a><h4 id="ARPLS-GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C" class="sect4"><span class="enumeration_section">165.7.82</span> MERGE_COL_USAGE程序</h4>
                  <div>
                     <p>此过程通过<code class="codeph">dblink</code>将源数据库中的列使用信息合并到本地数据库中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C__GUID-3A8D69CC-187F-40B8-99D0-26F6B2DAE457">句法</p>
                        <p>如果已存在给定表或列的列使用信息， <code class="codeph">MERGE_COL_USAGE</code>将组合本地和远程信息。
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.MERGE_COL_USAGE（dblink IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C__GUID-D9940B12-8612-4CDD-98EE-87F4A0FD10EE">参数</p>
                        <div class="tblformal" id="GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C__GUID-76AAF130-E2EE-4921-9051-683C0FE08964">
                           <p class="titleintable">表165-86 MERGE_COL_USAGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MERGE_COL_USAGE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.MERGE_COL_USAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e27152">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e27155">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27160" headers="d960973e27152 ">
                                       <p><code class="codeph">DBLINK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27160 d960973e27155 ">
                                       <p><code class="codeph">dblink</code>名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C__GUID-4C3049D4-019A-4645-920A-56A8E5C99478">使用说明</p>
                        <p>用户必须是<code class="codeph">SYS</code>才能执行此过程。此外，在创建<code class="codeph">dblink</code>期间指定的用户应具有从<code class="codeph">SYS</code>模式中的表中进行选择的权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8292BE31-4867-4245-97CB-7AA3AC510C7C__GUID-C5915421-5B67-4889-BF32-182D023526B3">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：参数<code class="codeph">dblink</code>不能为<code class="codeph">NULL</code></p>
                        <p><code class="codeph">ORA-20002</code> ：无法创建<code class="codeph">TEMP</code>表</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731" name="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731"></a><h4 id="ARPLS-GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731" class="sect4"><span class="enumeration_section">165.7.83</span> PREPARE_COLUMN_VALUES程序</h4>
                  <div>
                     <p>这些过程使用<code class="codeph">SET_COLUMN_STATS</code>将用户指定的最小，最大和直方图端点实际值转换为Oracle的内部表示，以便将来存储。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__GUID-13189964-A845-434E-AE85-CAC1128033DA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.PREPARE_COLUMN_VALUES（srec IN OUT StatRec，charvals CHARARRAY）; DBMS_STATS.PREPARE_COLUMN_VALUES（srec IN OUT StatRec，datevals DATEARRAY）; DBMS_STATS.PREPARE_COLUMN_VALUES（srec IN OUT StatRec，dblvals DBLARRAY）; DBMS_STATS.PREPARE_COLUMN_VALUES（srec IN OUT StatRec，fltvals FLTARRAY）; DBMS_STATS.PREPARE_COLUMN_VALUES（srec IN OUT StatRec，numvals NUMARRAY）; DBMS_STATS.PREPARE_COLUMN_VALUES（srec IN OUT StatRec，rawvals RAWARRAY）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__GUID-AEE2324D-CA9F-425F-B1CC-7AB1393FED8E">参数</p>
                        <div class="tblformal" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__GUID-7AE402D9-873E-447E-81CE-BE8492EEDFF2">
                           <p class="titleintable">表165-87 PREPARE_COLUMN_VALUES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_COLUMN_VALUES过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.PREPARE_COLUMN_VALUES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e27318">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e27321">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27326" headers="d960973e27318 ">
                                       <p><code class="codeph">srec.epc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27326 d960973e27321 ">
                                       <p>在<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">dblvals</code> ， <code class="codeph">fltvals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的值的数量。此值必须介于2和2050之间（包括2和2050），对于不允许直方图信息（ <code class="codeph">nvarchar</code>和<code class="codeph">rowid</code> ）的过程，该值应设置为<code class="codeph">2</code> 。
                                       </p>
                                       <p>第一个对应的数组条目应保持列的最小值，最后一个条目应保持最大值。如果有两个以上的条目，则所有其他条目保持剩余的高度平衡或频率直方图端点值（中间值从下一个最小到下一个最大）。可以调整此值以考虑压缩，因此返回的值应保留为对<code class="codeph">SET_COLUMN_STATS</code>的调用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27367" headers="d960973e27318 ">
                                       <p><code class="codeph">srec.bkvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27367 d960973e27321 ">
                                       <p>如果需要频率或混合直方图，此数组包含<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">dblvals</code> ， <code class="codeph">fltvals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的每个不同值的出现次数。否则，它只是一个输出参数，并且在调用此过程时必须将其设置为<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27397" headers="d960973e27318 ">
                                       <p><code class="codeph">srec.rpcnts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27397 d960973e27321 ">
                                       <p>如果需要混合直方图，则此数组包含的值的总频率小于或等于<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的每个不同值。否则，它只是一个输出参数，在调用此过程时必须设置为<code class="codeph">NULL</code> 。
                                       </p>
                                       <p>例如，对于具有<code class="codeph">numvals(i)=4, rpcnts(i)=13</code>的给定数组<code class="codeph">numvals</code> <code class="codeph">numvals(i)=4, rpcnts(i)=13</code>意味着列中有13行小于或等于4。
                                       </p>
                                       <p>注意：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>每当<code class="codeph">srec.rpcnts</code>填充， <code class="codeph">srec.bkvals</code>如上所述必须填充。
                                             </p>
                                          </li>
                                          <li>
                                             <p>每当<code class="codeph">bkvals</code>和/或<code class="codeph">rpcnts</code> ， <code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>不应有任何重复。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>数据类型特定的输入参数（使用一个）如<a href="DBMS_STATS.html#GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__CIHHIFHE" title="此表描述了PREPARE_COLUMN_VALUES子程序使用的数据类型特定的输入参数。">表165-88</a>所示。
                        </p>
                        <div class="tblformal" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__CIHHIFHE">
                           <p class="titleintable">表165-88数据类型特定的输入参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="数据类型特定的输入参数" width="100%" border="1" summary="This table describes Datatype-Specific Input Parameters used by the PREPARE_COLUMN_VALUES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e27478">类型</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e27481">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27486" headers="d960973e27478 ">
                                       <p><code class="codeph">charvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27486 d960973e27481 ">
                                       <p>列类型基于字符时的值数组。应提供每个字符串的前64个字节。数组必须包含2到2050个条目。如果数据类型是固定的<code class="codeph">CHAR</code> ，则必须将字符串空格填充为15个字符以进行正确的规范化。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27497" headers="d960973e27478 ">
                                       <p><code class="codeph">datevals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27497 d960973e27481 ">
                                       <p>列类型基于日期时的值数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27505" headers="d960973e27478 ">
                                       <p><code class="codeph">dblvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27505 d960973e27481 ">
                                       <p>列类型基于double时的值数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27513" headers="d960973e27478 ">
                                       <p><code class="codeph">fltvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27513 d960973e27481 ">
                                       <p>列类型基于浮点数时的值数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27521" headers="d960973e27478 ">
                                       <p><code class="codeph">numvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27521 d960973e27481 ">
                                       <p>列类型基于数字时的值数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27529" headers="d960973e27478 ">
                                       <p><code class="codeph">rawvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27529 d960973e27481 ">
                                       <p>列类型为<code class="codeph">RAW</code>时的值数组。应提供每个值的前64个字节。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27540" headers="d960973e27478 ">
                                       <p><code class="codeph">nvmin，nvmax</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27540 d960973e27481 ">
                                       <p>列类型为基于国家字符集时的最小值和最大值。不能为此类列提供直方图信息。如果数据类型是固定的<code class="codeph">CHAR</code> ，则必须将字符串空格填充为15个字符以进行正确的规范化。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27551" headers="d960973e27478 ">
                                       <p><code class="codeph">rwmin，rwmax</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27551 d960973e27481 ">
                                       <p>列类型为<code class="codeph">rowid</code>时的最小值和最大值。没有为此类列提供直方图信息。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__GUID-75D97FD2-7B5A-4520-82A8-FB037729750D">输出参数</p>
                        <div class="tblformal" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__GUID-05C3F4F7-BBFE-41C5-9220-F984E48C024E">
                           <p class="titleintable">表165-89 PREPARE_COLUMN_VALUES过程输出参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_COLUMN_VALUES过程输出参数" width="100%" border="1" summary="This table describes Output Parameters used by the PREPARE_COLUMN_VALUES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e27574">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e27577">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27582" headers="d960973e27574 ">
                                       <p><code class="codeph">srec.minval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27582 d960973e27577 ">
                                       <p>适用于<code class="codeph">SET_COLUMN_STATS</code>调用的最小内部表示</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27592" headers="d960973e27574 ">
                                       <p><code class="codeph">srec.maxval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27592 d960973e27577 ">
                                       <p>最大内部表示适合在调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27602" headers="d960973e27574 ">
                                       <p><code class="codeph">srec.bkvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27602 d960973e27577 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27612" headers="d960973e27574 ">
                                       <p><code class="codeph">srec.novals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27612 d960973e27577 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27622" headers="d960973e27574 ">
                                       <p><code class="codeph">srec.eavals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27622 d960973e27577 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27632" headers="d960973e27574 ">
                                       <p><code class="codeph">srec.rpcnts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27632 d960973e27577 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__GUID-1810765A-1248-4EAA-8F2D-B539270D34B4">例外</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或不一致</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__GUID-FCF78AEA-47F1-489A-9F72-6E763ECFC454">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4" name="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4"></a><h4 id="ARPLS-GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4" class="sect4"><span class="enumeration_section">165.7.84</span> PREPARE_COLUMN_VALUES_NVARCHAR过程</h4>
                  <div>
                     <p>此过程使用SET_COLUMN_STATS过程将用户指定的最小，最大和直方图端点实际值转换为Oracle的内部表示，以供将来存储使用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-90FBD488-13AE-4895-9FBE-E9D828D13AC7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.PREPARE_COLUMN_VALUES_NVARCHAR（srec IN OUT StatRec，nvmin NVARCHAR2，nvmax NVARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-EA98479B-B284-403E-8861-9A8CA2B07334">参数</p>
                        <div class="tblformal" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-3FE7C1FC-A5E6-4496-82FA-B3B496EBC7DF">
                           <p class="titleintable">表165-90 PREPARE_COLUMN_VALUES_NVARCHAR过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_COLUMN_VALUES_NVARCHAR过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.PREPARE_COLUMN_VALUES_NVARCHAR2 subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e27759">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e27762">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27767" headers="d960973e27759 ">
                                       <p><code class="codeph">srec.epc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27767 d960973e27762 ">
                                       <p>在<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">dblvals</code> ， <code class="codeph">fltvals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的值的数量。此值必须介于2和2050之间（包括2和2050），对于不允许直方图信息（ <code class="codeph">nvarchar</code>和<code class="codeph">rowid</code> ）的过程，该值应设置为<code class="codeph">2</code> 。
                                       </p>
                                       <p>第一个对应的数组条目应保持列的最小值，最后一个条目应保持最大值。如果有两个以上的条目，则所有其他条目保持剩余的高度平衡或频率直方图端点值（中间值从下一个最小到下一个最大）。可以调整此值以考虑压缩，因此返回的值应保留为对<code class="codeph">SET_COLUMN_STATS</code>的调用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27808" headers="d960973e27759 ">
                                       <p><code class="codeph">srec.bkvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27808 d960973e27762 ">
                                       <p>如果需要频率或混合直方图，则此数组包含<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">dblvals</code> ， <code class="codeph">fltvals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的每个不同值的出现次数。否则，它只是一个输出参数，并且在调用此过程时必须将其设置为<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27838" headers="d960973e27759 ">
                                       <p><code class="codeph">srec.rpcnts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27838 d960973e27762 ">
                                       <p>如果需要混合直方图，则此数组包含的值的总频率小于或等于<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的每个不同值。否则，它只是一个输出参数，在调用此过程时必须设置为<code class="codeph">NULL</code> 。
                                       </p>
                                       <p>例如，对于具有<code class="codeph">numvals(i)=4, rpcnts(i)=13</code>的给定数组<code class="codeph">numvals</code> <code class="codeph">numvals(i)=4, rpcnts(i)=13</code>意味着列中有13行小于或等于4。
                                       </p>
                                       <p>注意：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>每当<code class="codeph">srec.rpcnts</code>填充， <code class="codeph">srec.bkvals</code>如上所述必须填充。
                                             </p>
                                          </li>
                                          <li>
                                             <p>每当<code class="codeph">bkvals</code>和/或<code class="codeph">rpcnts</code> ， <code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>不应有任何重复。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>数据类型特定的输入参数（使用一个）如<a href="DBMS_STATS.html#GUID-6655B26A-8F80-4E66-BD9B-BDCC0A24C731__CIHHIFHE" title="此表描述了PREPARE_COLUMN_VALUES子程序使用的数据类型特定的输入参数。">表165-88</a>所示。
                        </p>
                        <div class="tblformal" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-1A9F9C5B-21F1-4C85-9886-6060BA9C6625">
                           <p class="titleintable">表165-91 PREPARE_COLUMN_VALUES_NVARCHAR特定于数据类型的输入参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_COLUMN_VALUES_NVARCHAR特定于数据类型的输入参数" width="100%" border="1" summary="This table describes Datatype-Specific Input Parameters used by the PREPARE_COLUMN_VALUES_NVARCHAR2 subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e27919">类型</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e27922">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27927" headers="d960973e27919 ">
                                       <p><code class="codeph">nvmin，nvmax</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27927 d960973e27922 ">
                                       <p>列类型为基于国家字符集时的最小值和最大值。不能为此类列提供直方图信息。如果数据类型是固定的<code class="codeph">CHAR</code> ，则必须将字符串空格填充为15个字符以进行正确的规范化。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-BA0E80E3-910C-4791-9FCB-038C5FC06892">输出参数</p>
                        <div class="tblformal" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-32AE63E6-344E-492A-8561-4FC200D19F18">
                           <p class="titleintable">表165-92 PREPARE_COLUMN_VALUES_NVARCHAR过程输出参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_COLUMN_VALUES_NVARCHAR过程输出参数" width="100%" border="1" summary="This table describes Output Parameters used by the PREPARE_COLUMN_VALUES_NVARCHAR2 subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e27950">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e27953">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27958" headers="d960973e27950 ">
                                       <p><code class="codeph">srec.minval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27958 d960973e27953 ">
                                       <p>适用于<code class="codeph">SET_COLUMN_STATS</code>调用的最小内部表示</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27968" headers="d960973e27950 ">
                                       <p><code class="codeph">srec.maxval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27968 d960973e27953 ">
                                       <p>最大内部表示适合在调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27978" headers="d960973e27950 ">
                                       <p><code class="codeph">srec.bkvals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27978 d960973e27953 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27989" headers="d960973e27950 ">
                                       <p><code class="codeph">srec.novals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27989 d960973e27953 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e27999" headers="d960973e27950 ">
                                       <p><code class="codeph">srec.eavals</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e27999 d960973e27953 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28009" headers="d960973e27950 ">
                                       <p><code class="codeph">srec.rpcnts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28009 d960973e27953 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-9BBC292D-3BC0-4328-80B2-F0F51630C9CD">例外</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或不一致</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F9AAB61-9148-40B4-B3E1-D57A1EBD61A4__GUID-98B836C5-0979-4F1F-BF15-23BFCABC3669">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_STATS.html#GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27" title="此过程设置与列相关的信息。">SET_COLUMN_STATS程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2CB8B736-345B-4999-856C-659E32DF4D13" name="GUID-2CB8B736-345B-4999-856C-659E32DF4D13"></a><h4 id="ARPLS-GUID-2CB8B736-345B-4999-856C-659E32DF4D13" class="sect4"><span class="enumeration_section">165.7.85</span> PREPARE_COLUMN_VALUES_ROWID过程</h4>
                  <div>
                     <p>此过程使用<code class="codeph">SET_COLUMN_STATS</code>将用户指定的最小，最大和直方图端点数据类型特定值转换为Oracle的内部表示，以供将来存储使用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2CB8B736-345B-4999-856C-659E32DF4D13__GUID-F167BE35-E042-4B99-9320-413CA9985ECD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.PREPARE_COLUMN_VALUES_ROWID（srec IN OUT StatRec，rwmin ROWID，rwmax ROWID）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CB8B736-345B-4999-856C-659E32DF4D13__GUID-D193E9CD-D314-4C3A-B9AE-763AF2479483">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（prepare_column_values_rowid，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CB8B736-345B-4999-856C-659E32DF4D13__GUID-67EE524D-74E2-453B-807E-D37F2E364346">参数</p>
                        <div class="tblformal" id="GUID-2CB8B736-345B-4999-856C-659E32DF4D13__GUID-5BCD7180-72BB-4B7B-AD10-FDB62385F749">
                           <p class="titleintable">表165-93 PREPARE_COLUMN_VALUES_ROWID过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_COLUMN_VALUES_ROWID过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.PREPARE_COLUMN_VALUES_ROWID subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e28152">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e28155">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28160" headers="d960973e28152 ">
                                       <p>SREC</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28160 d960973e28155 ">
                                       <p>值（ <code class="codeph">IN</code> ）：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">EPC</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">bkvals</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">rpcnts</code></p>
                                          </li>
                                       </ul>
                                       <p>值（ <code class="codeph">OUT</code> ）：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">MINVAL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAXVAL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">bkvals</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">novals</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">eavals</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">rpcnts</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28213" headers="d960973e28152 ">
                                       <p>rwmin</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28213 d960973e28155 ">
                                       <p>列类型为<code class="codeph">rowid</code>时的最小值。没有为此类列提供直方图信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28223" headers="d960973e28152 ">
                                       <p>rwmax</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28223 d960973e28155 ">
                                       <p>列类型为<code class="codeph">rowid</code>时的最大值。没有为此类列提供直方图信息。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-2CB8B736-345B-4999-856C-659E32DF4D13__GUID-D735ABA0-45A2-4E7D-A508-511F2AF98CA9">
                           <p class="titleintable">表165-94 StatRec记录类型字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="StatRec记录类型字段" width="100%" border="1" summary="This table describes the Statrec record type fields." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e28242">领域</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e28245">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28250" headers="d960973e28242 ">
                                       <p><code class="codeph">epc</code> （ <code class="codeph">IN)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28250 d960973e28245 ">
                                       <p>在<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">dblvals</code> ， <code class="codeph">fltvals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的值的数量。此值必须介于2和2050之间（包括2和2050），对于不允许直方图信息（ <code class="codeph">nvarchar</code>和<code class="codeph">rowid</code> ）的过程，该值应设置为<code class="codeph">2</code> 。
                                       </p>
                                       <p>第一个对应的数组条目应保持列的最小值，最后一个条目应保持最大值。如果有两个以上的条目，则所有其他条目保持剩余的高度平衡或频率直方图端点值（中间值从下一个最小到下一个最大）。可以调整此值以考虑压缩，因此返回的值应保留为对<code class="codeph">SET_COLUMN_STATS</code>的调用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28294" headers="d960973e28242 ">
                                       <p><code class="codeph">bkvals</code> （ <code class="codeph">IN</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28294 d960973e28245 ">
                                       <p>如果需要频率或混合直方图，此数组包含<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">dblvals</code> ， <code class="codeph">fltvals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的每个不同值的出现次数。否则，它只是一个输出参数，并且在调用此过程时必须将其设置为<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28328" headers="d960973e28242 ">
                                       <p><code class="codeph">rpcnts</code> （ <code class="codeph">IN</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28328 d960973e28245 ">
                                       <p>如果需要混合直方图，则此数组包含的值的总频率小于或等于<code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>指定的每个不同值。否则，它只是一个输出参数，在调用此过程时必须设置为<code class="codeph">NULL</code> 。
                                       </p>
                                       <p>例如，对于具有<code class="codeph">numvals(i)=4, rpcnts(i)=13</code>的给定数组<code class="codeph">numvals</code> <code class="codeph">numvals(i)=4, rpcnts(i)=13</code>意味着列中有13行小于或等于4。
                                       </p>
                                       <p>注意：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>每当<code class="codeph">srec.rpcnts</code>填充， <code class="codeph">srec.bkvals</code>如上所述必须填充。
                                             </p>
                                          </li>
                                          <li>
                                             <p>每当<code class="codeph">bkvals</code>和/或<code class="codeph">rpcnts</code> ， <code class="codeph">charvals</code> ， <code class="codeph">datevals</code> ， <code class="codeph">numvals</code>或<code class="codeph">rawvals</code>不应有任何重复。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28397" headers="d960973e28242 ">
                                       <p><code class="codeph">minval</code> （ <code class="codeph">OUT</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28397 d960973e28245 ">
                                       <p>适用于<code class="codeph">SET_COLUMN_STATS</code>调用的最小内部表示。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28412" headers="d960973e28242 ">
                                       <p><code class="codeph">maxval</code> （ <code class="codeph">OUT</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28412 d960973e28245 ">
                                       <p>最大内部表示适合在调用<code class="codeph">SET_COLUMN_STATS</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28427" headers="d960973e28242 ">
                                       <p><code class="codeph">bkvals</code> （ <code class="codeph">OUT</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28427 d960973e28245 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28442" headers="d960973e28242 ">
                                       <p><code class="codeph">novals</code> （ <code class="codeph">OUT</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28442 d960973e28245 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28457" headers="d960973e28242 ">
                                       <p><code class="codeph">eavals</code> （ <code class="codeph">OUT</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28457 d960973e28245 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28471" headers="d960973e28242 ">
                                       <p><code class="codeph">rpcnts</code> （ <code class="codeph">OUT</code> ）</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28471 d960973e28245 ">
                                       <p>适合用于调用<code class="codeph">SET_COLUMN_STATS</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CB8B736-345B-4999-856C-659E32DF4D13__GUID-3AB95EE8-E77D-4056-8BAD-F49392F51E77">使用说明</p>
                        <p>调用此过程不需要特殊权限或角色。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9" name="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9"></a><h4 id="ARPLS-GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9" class="sect4"><span class="enumeration_section">165.7.86</span> PUBLISH_PENDING_STATS程序</h4>
                  <div>
                     <p>此过程用于发布收集的统计信息并将其存储为挂起。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9__GUID-FE74465D-B6F4-46B8-A84E-F567D03ED1DE">句法</p><pre class="pre codeblock"><code>DBMS_STATS.PUBLISH_PENDING_STATS（ownname IN VARCHAR2 DEFAULT USER，tabname IN VARCHAR2，no_invalidate BOOLEAN DEFAULT TO_NO_INVALIDATE_TYPE（GET_PARAM（'NO_INVALIDATE'）），强制IN BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9__GUID-B1CEA468-E7F8-4370-A692-9F4F91989D5D">参数</p>
                        <div class="tblformal" id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9__GUID-6BD85413-31E4-4877-BD9C-F5C4553D80E2">
                           <p class="titleintable">表165-95 PUBLISH_PENDING_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUBLISH_PENDING_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.PUBLISH_PENDING_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e28596">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e28599">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e28604" headers="d960973e28596 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e28604 d960973e28599 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e28612" headers="d960973e28596 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e28612 d960973e28599 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e28620" headers="d960973e28596 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e28620 d960973e28599 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不要使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code>让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e28671" headers="d960973e28596 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e28671 d960973e28599 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，将覆盖锁定</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9__GUID-854FBF78-CE0B-4292-8F2E-876F80A8865E">安全模型</p>
                        <p>要运行此过程，您必须具有相同的权限才能收集此过程将触及的表的统计信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9__GUID-D6B95F52-22D0-40E8-916B-47CC6E093AC2">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9__GUID-FFD95EB4-A5B9-4811-9F60-602A8A804A57">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果参数<code class="codeph">tabname</code>为<code class="codeph">NULL</code>则publish将应用于指定模式的所有表。
                              </p>
                           </li>
                           <li>
                              <p>默认所有者/架构是运行该过程的用户。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C01A96E9-B5F4-4A1D-B2B7-77FDDBBBA4E9__GUID-A86336DF-09D5-47AC-9AB4-1A989AAAEE4F">例子</p><pre class="pre codeblock"><code>DBMS_STATS.PUBLISH_PENDING_STATS（'SH'，null）;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C" name="GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C"></a><h4 id="ARPLS-GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C" class="sect4"><span class="enumeration_section">165.7.87</span> PURGE_STATS程序</h4>
                  <div>
                     <p>此过程将清除保存在字典中的旧版统计信息。</p>
                     <div class="section">
                        <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C__GUID-B9E60247-C6F3-4BCA-854C-7B1D3D3BB921">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.PURGE_STATS（before_timestamp TIMESTAMP WITH TIME ZONE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C__GUID-E0DB894A-64DF-46A1-B414-48F13E76144C">参数</p>
                        <div class="tblformal" id="GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C__GUID-E8A81AE4-6C8B-4F2B-9841-F15C9525A489">
                           <p class="titleintable">表165-96 PURGE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.PURGE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e28842">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e28845">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e28850" headers="d960973e28842 ">
                                       <p><code class="codeph">before_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e28850 d960973e28845 ">
                                       <p>清除此时间戳之前保存的统计信息版本。如果为<code class="codeph">NULL</code> ，则使用自动清除使用的清除策略。自动清除将删除早于旧版本（当前时间 - 统计历史记录保留）和（系统中最近分析的时间 -  1）的所有历史记录。可以使用<code class="codeph">ALTER_STATS_HISTORY_RETENTION</code>过程更改统计历史记录保留值。默认值为31天。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C__GUID-0F1245F6-E9BE-40A4-8681-F67482733864">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：值无效或不一致</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E6413D5-F827-4F57-9FAD-7EC56362A98C__GUID-03D13E40-CE01-4DC0-A20F-785A2F76938B">使用说明</p>
                        <p>要调用此过程，您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0" name="GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0"></a><h4 id="ARPLS-GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0" class="sect4"><span class="enumeration_section">165.7.88</span> REMAP_STAT_TABLE程序</h4>
                  <div>
                     <p>此过程将重新映射用户统计信息表中的对象名称。它允许您将统计信息导入具有相同定义但名称不同的对象。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0__GUID-52368AB4-2473-48D7-A1AC-F277989B00EA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REMAP_STAT_TABLE（自己的名称IN VARCHAR2，stattab IN VARCHAR2，src_own IN VARCHAR2，src_tab IN VARCHAR2，tgt_own IN VARCHAR2，tgt_tab IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0__GUID-EFB8D037-F6A1-41E6-9D75-61E0927ECCDE">参数</p>
                        <div class="tblformal" id="GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0__GUID-E389DDEC-4350-4540-8DFF-C32546B462F2">
                           <p class="titleintable">表165-97 REMAP_STAT_TABLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMAP_STAT_TABLE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REMAP_STAT_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e29000">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e29003">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29008" headers="d960973e29000 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29008 d960973e29003 ">
                                       <p>统计表的所有者。<code class="codeph">NULL</code>表示当前架构。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29019" headers="d960973e29000 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29019 d960973e29003 ">
                                       <p>用户统计表标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29027" headers="d960973e29000 ">
                                       <p><code class="codeph">src_own</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29027 d960973e29003 ">
                                       <p>要重命名的表的所有者。此参数不能为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29038" headers="d960973e29000 ">
                                       <p><code class="codeph">src_tab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29038 d960973e29003 ">
                                       <p>要重命名的表的名称。如果为<code class="codeph">NULL</code> ，则所有表都由<code class="codeph">src_own</code>拥有。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29052" headers="d960973e29000 ">
                                       <p><code class="codeph">tgt_own</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29052 d960973e29003 ">
                                       <p>表的所有者的新名称。还会为依赖对象（如列和索引）更新所有者名称。请注意，不重命名<code class="codeph">src_tab</code>不属于<code class="codeph">src_own</code>的索引。此参数不能为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29069" headers="d960973e29000 ">
                                       <p><code class="codeph">tgt_tab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29069 d960973e29003 ">
                                       <p>表的新名称。仅当<code class="codeph">src_tab</code>不为<code class="codeph">NULL</code>此参数才有效。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0__GUID-3FDDFA99-B132-4E24-BF59-18657ADC2418">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入无效</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B204AAAA-6C9E-4129-988A-229DF90F08D0__GUID-556C97A9-37A1-405D-9DCC-0EF544D6EC49">例子</p>
                        <p>下面的语句重新映射的所有对象<code class="codeph">sh</code>到<code class="codeph">shsave</code>在用户统计表<code class="codeph">sh.ustat</code> ：</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REMAP_STAT_TABLE（'sh'，'ustat'，'sh'，NULL，'shsave'，NULL）;</pre><p>完成前面的重映射过程后，可以使用以下语句将统计信息导入<code class="codeph">shsave</code>对象：</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.IMPORT_SCHEMA_STATS（'shsave'，'ustat'，statown =&gt;'sh'）;</pre><p>下面的语句重新映射<code class="codeph">sh.customers</code>到<code class="codeph">shsave.customers_sav</code> ：</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REMAP_STAT_TABLE（'sh'，'ustat'，'sh'，'customers'，'shsave'，'customers_sav'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A" name="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A"></a><h4 id="ARPLS-GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A" class="sect4"><span class="enumeration_section">165.7.89</span> REPORT_ADVISOR_TASK功能</h4>
                  <div>
                     <p>此函数报告Optimizer Statistics Advisor任务的结果。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-CE4C9144-523C-4C52-8F67-602A3346420A">句法</p><pre class="pre codeblock"><code>DBMS_STATS.REPORT_ADVISOR_TASK（task_name IN VARCHAR2，execution_name IN VARCHAR2：= NULL，type IN VARCHAR2：='TEXT'，section IN VARCHAR2：='ALL'，level IN VARCHAR2：='TYPICAL'）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-70E5EA5A-3E58-444B-8956-916CB3C96B62">参数</p>
                        <div class="tblformal" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-C4EA8AED-1289-4B15-892B-ABDAFC8C9F31">
                           <p class="titleintable">表165-98 REPORT_ADVISOR_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_ADVISOR_TASK函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.REPORT_ADVISOR_TASK function." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e29233">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e29235">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e29239" headers="d960973e29233 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e29239 d960973e29235 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e29247" headers="d960973e29233 ">
                                       <p><code class="codeph">execution_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e29247 d960973e29235 ">
                                       <p>用于限定和标识顾问程序任务执行的名称。如果未指定，则该函数使用指定任务的最新执行。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e29255" headers="d960973e29233 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e29255 d960973e29235 ">
                                       <p>Optimizer Statistics Advisor报告的类型。可能的值是<code class="codeph">TEXT</code> ， <code class="codeph">HTML</code>和<code class="codeph">XML</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e29272" headers="d960973e29233 ">
                                       <p><code class="codeph">部分</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e29272 d960973e29235 ">
                                       <p>报告中的一节。可能的值包括<code class="codeph">SUMMARY</code> ， <code class="codeph">FINDINGS</code> ， <code class="codeph">ERRORS</code>和<code class="codeph">ALL</code> 。您可以使用加号（ <code class="codeph">+</code> ）和减号（ <code class="codeph">-</code> ）运算符指定不同值的组合，如<code class="codeph">'SUMMARY +FINDINGS +ERRORS'</code> <code class="codeph">'ALL -ERRORS'</code> <code class="codeph">'SUMMARY +FINDINGS +ERRORS'</code>和<code class="codeph">'ALL -ERRORS'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e29305" headers="d960973e29233 ">
                                       <p><code class="codeph">水平</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e29305 d960973e29235 ">
                                       <p>报告的格式。可能的值有<code class="codeph">BASIC</code> ， <code class="codeph">TYPICAL</code> ， <code class="codeph">ALL</code>和<code class="codeph">SHOW_HIDDEN</code> 。您可以将<code class="codeph">SHOW_HIDDEN</code>与其他三个输入值一起指定，如<code class="codeph">'BASIC +SHOW_HIDDEN'</code>和<code class="codeph">'TYPICAL +SHOW_HIDDEN'</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-ED90BE11-F346-4430-8769-C9EE6603E862">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p></p>
                              <p>您可以为<code class="codeph">AUTO_STATS_ADVISOR_TASK</code>执行此子程序，该子程序是预定义的。
                              </p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                        <p>执行此任务的结果取决于正在执行的用户的权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SYSTEM</code>级别</p>
                              <p>只有具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户才能在系统级规则上执行此任务。
                              </p>
                           </li>
                           <li>
                              <p>操作级别</p>
                              <p>结果取决于以下特权：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以为所有统计操作执行此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以执行与除<code class="codeph">SYS</code>之外的任何模式相关的统计操作的此任务。</p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY</code>权限的用户可以执行与其自己的架构和<code class="codeph">SYS</code>架构相关的统计操作的此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>既没有<code class="codeph">ANALYZE ANY</code>也没有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户只能对与其自己的架构相关的统计操作执行此操作。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>对象级别</p>
                              <p>用户可以为具有统计信息收集权限的任何对象执行此任务。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-C0A0A460-8E1B-464A-931C-572BC944D873">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：用户输入错误</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-F31AD910-E6E6-4373-8EDD-770DB74641A9">返回</p>
                        <p>此函数返回包含报告的CLOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-E03599DD-F151-4EFD-B2BB-3C1056387DCB">例子</p>
                        <p>（可选）列出并简要描述在此处使用API或子程序的示例。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-A2DC2579-570A-4F05-9DE0-069550FF566D">
                        <p class="titleinexample">示例165-12生成HTML报告</p>
                        <p>此示例创建名为<code class="codeph">myrep</code>的过程，然后调用此过程以生成HTML报告。
                        </p><pre class="pre codeblock"><code>在SET SERVEROUTPUT上设置反馈设置设置TRIRS ON SET LINESIZE 300 EXECUTE DBMS_OUTPUT.ENABLE（buffer_size =&gt; 10000000）;创建或替换过程myrep（p_tname VARCHAR2，p_ftype VARCHAR2，其中VARCHAR2）是v_report CLOB：= null; v_script CLOB：= null; v_ftype VARCHAR2（400）：= p_ftype; v_tname VARCHAR2（400）：= p_tname; v_len NUMBER（10）; v_ps NUMBER（10）：= 10000; v_pn NUMBER（10）：= 1; v_ret VARCHAR2（32767）; BEGIN IF ='REPORT'那么 - 生成报告v_report：= DBMS_STATS.REPORT_ADVISOR_TASK（task_name =&gt; v_tname，type =&gt; v_ftype，section =&gt;'ALL'，level =&gt;'ALL'）; v_len：= DBMS_LOB.getlength（v_report）; WHILE（v_pn &lt;v_len）LOOP DBMS_OUTPUT.PUT_LINE（DBMS_LOB.SUBSTR（v_report，v_ps，v_pn））; v_pn：= v_pn + v_ps;结束循环; ELSE  - 生成脚本v_script：= DBMS_STATS.SCRIPT_ADVISOR_TASK（v_tname）; v_len：= DBMS_LOB.getlength（v_script）; WHILE（v_pn &lt;v_len）LOOP DBMS_OUTPUT.PUT_LINE（DBMS_LOB.SUBSTR（v_script，v_ps，v_pn））; v_pn：= v_pn + v_ps;结束循环;万一;结束; / SHOW ERRORS SPOOL report.txt EXECUTE myrep（'my_task'，'HTML'，'REPORT'）; SPOOL OFF</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-C77A4FAC-1D8A-45CA-9FF4-59D62494B83B">
                        <p class="titleinexample">示例165-13为AUTO_STATS_ADVISOR_TASK生成文本报告</p>
                        <p>以下示例调用前面示例中为<code class="codeph">AUTO_STATS_ADVISOR_TASK</code>创建的<code class="codeph">myrep</code>过程：</p><pre class="pre codeblock"><code>EXEC myrep（'AUTO_STATS_ADVISOR_TASK'，'TEXT'，'REPORT'）;</code></pre><p>以下示例输出显示了报告的一部分：</p><pre class="pre codeblock"><code>一般信息  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -------------------------------任务名称：AUTO_STATS_ADVISOR_TASK执行名称：EXEC_97创建时间：07-08-16 10:18： 10最后修改日期：07-11-16 03:02:30 ------------------------------------ -------------------------------------------汇总------ -------------------------------------------------- -----------------------对于任务AUTO_STATS_ADVISOR_TASK的执行EXEC_97，Statistics Advisor有10个查找。该研究结果与以下规则有关：COMPLETEAUTOJOB，MAINTAINSTATSHISTORY，USEDEFAULTPFERFER，AVOIDSETPROCEDURES，USEDEFAULTPARAMS，USEGATHERSCHEMASTATS，AVOIDSTALESTATS，UNLOCKNONVOLATILETABLE，USEINCREMENTAL，AVOIDANALYZETABLE。有关详细信息，请参阅查找部分。-------------------------------------------------- -  -  -  -  -  -  -  -  -  -  -  -  -  - - 发现  -  -  -  -  -  -  -  -  -  - -------------------------------------------------- ---------规则名称：MaintainStatsHistory规则描述：维护统计信息历史记录查找：统计信息历史表太大。建议：检查此规则的其他结果，以及规则AvoidFrequentStatsCollection，UseDefaultPreference，UseDefaultParams的可能原因和建议的结果。理由：由于违反其他规则，统计历史表的大小可能很大。-------------------------------------------------- - 规则名称：UseDefaultPreference规则描述：使用统计信息收集的默认首选项查找：全局首选项SYS_FLAGS设置为非默认值“1”。建议：将首选项SYS_FLAGS的值设置为“0”。示例： - 将首选项级联设置为默认值：dbms_stats.set_global_prefs（'CASCADE'，NULL）;基本原理：首选项SYS_FLAGS仅供Oracle内部使用，将其设置为非默认值“1”可能会导致无法预料的后果。。。。</code></pre><div class="See Also" id="GUID-926DA751-6261-40B0-89C7-CA3DE5C5434A__GUID-97FC0356-F5F5-4DF2-A602-9994A21CC2AD">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D" name="GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D"></a><h4 id="ARPLS-GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D" class="sect4"><span class="enumeration_section">165.7.90</span> REPORT_COL_USAGE功能</h4>
                  <div>
                     <p>此功能报告记录的列（组）使用信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D__GUID-C483BC7C-F3A0-4823-B1E6-7FC79B4B84DB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REPORT_COL_USAGE（ownname IN VARCHAR2，tabname IN VARCHAR2）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D__GUID-38C85D96-6FE0-4747-B6D0-F7AF755071A0">参数</p>
                        <div class="tblformal" id="GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D__GUID-80CC88B3-8FE5-4281-B077-C8A24AD81779">
                           <p class="titleintable">表165-99 REPORT_COL_USAGE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_COL_USAGE函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_COL_USAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e29603">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e29606">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29611" headers="d960973e29603 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29611 d960973e29606 ">
                                       <p>所有者名称。如果为<code class="codeph">NULL</code>则报告数据库中所有模式中的表的列使用信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29622" headers="d960973e29603 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29622 d960973e29606 ">
                                       <p>表名。如果<code class="codeph">NULL</code>它将报告的所有表列使用信息<code class="codeph">ownname</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D3952E0-CEC8-408D-9E02-79E666A5D78D__GUID-59F4CBE3-196B-415B-A164-1EADCF6DFCA0">使用说明</p>
                        <p>要运行此过程，您需要具有<code class="codeph">SYSDBA</code>管理权限，或者具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2019707A-7591-4002-BF66-788ADDB09BF7" name="GUID-2019707A-7591-4002-BF66-788ADDB09BF7"></a><h4 id="ARPLS-GUID-2019707A-7591-4002-BF66-788ADDB09BF7" class="sect4"><span class="enumeration_section">165.7.91</span> REPORT_GATHER_AUTO_STATS功能</h4>
                  <div>
                     <p>此功能在报告模式下运行自动统计信息收集作业。也就是说，实际上并未收集统计信息，但会报告在调用自动统计信息收集时将受影响的所有对象。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2019707A-7591-4002-BF66-788ADDB09BF7__GUID-71E130E3-52E9-4E67-B53F-AAF776FB0F6E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REPORT_GATHER_AUTO_STATS（detail_level VARCHAR2 DEFAULT'TYPICAL'，格式VARCHAR2 DEFAULT'TEXT'）返回CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2019707A-7591-4002-BF66-788ADDB09BF7__GUID-B3FBC8B9-4F32-48DB-AC6B-9DCC7E8C396F">参数</p>
                        <div class="tblformal" id="GUID-2019707A-7591-4002-BF66-788ADDB09BF7__GUID-3A58A626-E8F9-4FCE-98FD-397CE926073E">
                           <p class="titleintable">表165-100 REPORT_GATHER_AUTO_STATS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_GATHER_AUTO_STATS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_GATHER_AUTO_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e29765">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e29768">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29773" headers="d960973e29765 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29773 d960973e29768 ">
                                       <p>报告内容的详细级别</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：该报告包括</p>
                                             <p>- 操作ID</p>
                                             <p>- 操作名称</p>
                                             <p>- 操作目标对象</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态（例如：成功，失败）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">BASIC</code>级别提供的信息外，该报告还包括在此操作中收集统计信息的各个目标对象。具体来说，关于操作相关的细节：</p>
                                             <p>- 目标对象的总数</p>
                                             <p>- 成功完成的对象总数</p>
                                             <p>- 失败对象的总数</p>
                                             <p>- 超时对象总数（仅适用于自动统计信息收集）</p>
                                             <p>关于目标对象：</p>
                                             <p>- 每个目标对象的所有者和名称</p>
                                             <p>- 目标对象类型（例如：表，索引）</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：除了<code class="codeph">TYPICAL</code>级别提供的信息外，该报告还包含有关每个目标对象的更多信息。具体而言，关于与操作相关的细节：</p>
                                             <p>- 工作名称</p>
                                             <p>- 会话ID</p>
                                             <p>- 参数值</p>
                                             <p>- 操作失败时出现错误消息</p>
                                             <p>关于目标对象：</p>
                                             <p>- 工作名称</p>
                                             <p>- 批处理细节</p>
                                             <p>- 估计费用</p>
                                             <p>- 在目标列表中排名</p>
                                             <p>- 收集直方图的列</p>
                                             <p>- 收集的扩展统计数据列表（如果有）</p>
                                             <p>- 将对象包含在目标列表中的原因</p>
                                             <p>- 任务失败时的其他错误详细信息。</p>
                                          </li>
                                       </ul>
                                       <p>请注意，仅当并发执行操作时才会填充报表中的多个字段（例如作业名称，估计任务成本）（启用了<code class="codeph">CONCURRENT</code>首选项）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e29867" headers="d960973e29765 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e29867 d960973e29768 ">
                                       <p>报告格式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>XML</p>
                                          </li>
                                          <li>
                                             <p>HTML</p>
                                          </li>
                                          <li>
                                             <p>文字（默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2019707A-7591-4002-BF66-788ADDB09BF7__GUID-DB7908D7-E5A2-41AB-A5C4-E552735BBD9A">使用说明</p>
                        <p>只有用户<code class="codeph">SYS</code>才能运行<code class="codeph">REPORT_GATHER_AUTO_STATS</code>功能。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772" name="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772"></a><h4 id="ARPLS-GUID-F8850DEF-3CF3-4D91-9127-861B821F4772" class="sect4"><span class="enumeration_section">165.7.92</span> REPORT_GATHER_DATABASE_STATS函数</h4>
                  <div>
                     <p>此函数在报告模式下运行<code class="codeph">GATHER_DATABASE_STATS</code>函数。
                     </p>
                     <div class="section">
                        <p>数据库不收集统计信息，但报告调用<code class="codeph">GATHER_DATABASE_STATS</code>时将受影响的所有对象。输入参数集与<code class="codeph">GATHER_DATABASE_STATS</code>的相同，带有两个额外参数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772__GUID-E01682DA-13A0-46A4-950F-D329C062FF9E">句法</p><pre class="pre codeblock"><code>DBMS_STATS.REPORT_GATHER_DATABASE_STATS（estimate_percent IN NUMBER DEFAULT to_estimate_percent_type（GET_PARAM（'ESTIMATE_PERCENT'）），block_sample IN BOOLEAN DEFAULT FALSE，method_opt IN VARCHAR2 DEFAULT GET_PARAM（'METHOD_OPT'），度数为DEFAULT TO_DEGREE_TYPE（GET_PARAM（'DEGREE'）），粒度IN VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），级联IN BOOLEAN DEFAULT to_cascade_type（GET_PARAM（'CASCADE'）），stattab IN VARCHAR2 DEFAULT NULL，statid IN VARCHAR2 DEFAULT NULL，选项IN VARCHAR2 DEFAULT'GATHER'，statown IN VARCHAR2 DEFAULT NULL， gather_sys IN BOOLEAN DEFAULT TRUE，no_invalidate IN BOOLEAN DEFAULT TO_NO_INVALIDATE_TYPE（GET_PARAM（'NO_INVALIDATE'）），gather_temp IN BOOLEAN DEFAULT FALSE，gather_fixed IN BOOLEAN DEFAULT FALSE，stattype IN VARCHAR2 DEFAULT DATA，obj_filter_list IN ObjectTab DEFAULT NULL，detail_level IN VARCHAR2 DEFAULT'TYPICAL '，格式IN VARCHAR2 DEFAULT'文字'）返回CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772__GUID-0CFD517F-3997-4F89-9F28-213966BD3D15">参数</p>
                        <div class="tblformal" id="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772__GUID-92BC6DD0-E519-436B-A166-F889201D4F23">
                           <p class="titleintable">表165-101 REPORT_GATHER_DATABASE_STATS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_GATHER_DATABASE_STATS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_GATHER_DATABASE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e30014">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e30017">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30022" headers="d960973e30014 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30022 d960973e30017 ">
                                       <p>用于样本大小的行百分比。有效范围介于0.000001和100之间。空值意味着计算。</p>
                                       <p>使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>使数据库能够确定适当的样本大小以获得良好的统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30065" headers="d960973e30014 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30065 d960973e30017 ">
                                       <p>是否使用随机块采样而不是随机行采样。随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。此参数仅在估计统计数据时相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30073" headers="d960973e30014 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30073 d960973e30017 ">
                                       <p>方法选项。此参数接受以下值： <code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code> 。
                                       </p>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图。
                                          </li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改该值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30145" headers="d960973e30014 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30145 d960973e30017 ">
                                       <p>并行度。<code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，这在<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt;n</code> ，或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，目前执行的<code class="codeph">DBMS_STATS</code>可以使用串行执行，如果对象的尺寸不保证并行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30228" headers="d960973e30014 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30228 d960973e30017 ">
                                       <p>确定要收集的统计信息的粒度。此首选项仅与分区表相关。</p>
                                       <p>以下值有效：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ALL</code> - 收集所有统计信息：子分区，分区和全局。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO</code> - 根据分区类型确定粒度。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。使用<code class="codeph">GLOBAL AND PARTITION</code>来实现此功能。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL</code> - 收集全球统计数据。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL AND PARTITION</code> - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SUBPARTITION</code> - 收集子分区级统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30277" headers="d960973e30014 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30277 d960973e30017 ">
                                       <p>收集有关索引的统计信息。除了收集表和列统计信息之外，使用此选项等效于对数据库中的每个索引运行<a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS过程</a> 。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>让Oracle确定是否要收集索引统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30325" headers="d960973e30014 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30325 d960973e30017 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                       <p>数据库假定统计信息表与所分析的对象位于相同的模式中。因此，要使用此选项，每个模式中必须存在一个此类表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30335" headers="d960973e30014 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30335 d960973e30017 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30346" headers="d960973e30014 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30346 d960973e30017 ">
                                       <p>进一步说明收集统计信息的对象：</p>
                                       <p><code class="codeph">GATHER</code> ：收集模式中所有对象的统计信息。
                                       </p>
                                       <p><code class="codeph">GATHER</code> <code class="codeph">AUTO</code> ： <code class="codeph">AUTO</code>收集所有必要的统计信息。Oracle隐式确定哪些对象需要新的统计信息，并确定如何收集这些统计信息。当指定<code class="codeph">GATHER AUTO</code> ，唯一的附加有效参数是<code class="codeph">stattab</code> ， <code class="codeph">statid</code> ， <code class="codeph">objlist</code>和<code class="codeph">statown</code> ;忽略所有其他参数设置。返回已处理对象的列表。
                                       </p>
                                       <p><code class="codeph">GATHER</code> <code class="codeph">STALE</code> ：通过查看* <code class="codeph">_tab_modifications</code>视图确定收集过时对象的统计信息。此外，返回发现过时的对象列表。
                                       </p>
                                       <p><code class="codeph">GATHER</code> <code class="codeph">EMPTY</code> ：收集当前没有统计信息的对象的统计信息。返回找不到统计信息的对象列表。
                                       </p>
                                       <p><code class="codeph">LIST AUTO</code> ：返回要使用<code class="codeph">GATHER AUTO</code>处理的对象列表</p>
                                       <p><code class="codeph">LIST</code> <code class="codeph">STALE</code> ：返回通过查看* <code class="codeph">_tab_modifications</code>视图确定的陈旧对象列表</p>
                                       <p><code class="codeph">LIST</code> <code class="codeph">EMPTY</code> ：返回当前没有统计信息的对象列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30421" headers="d960973e30014 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30421 d960973e30017 ">
                                       <p>包含<code class="codeph">stattab</code>模式，如果与当前模式不同。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30432" headers="d960973e30014 ">
                                       <p><code class="codeph">gather_sys</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30432 d960973e30017 ">
                                       <p>收集有关<code class="codeph">SYS</code>用户拥有的对象的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30444" headers="d960973e30014 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30444 d960973e30017 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30495" headers="d960973e30014 ">
                                       <p><code class="codeph">gather_temp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30495 d960973e30017 ">
                                       <p>当为<code class="codeph">TRUE</code>时收集有关全局临时表的统计信息。默认值为<code class="codeph">FALSE</code> 。</p>
                                       <p>必须使用<code class="codeph">ON COMMIT PRESERVE ROWS</code>子句创建临时表。此外，收集的统计信息基于运行此过程的会话中的数据，但它们在所有会话中共享。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30514" headers="d960973e30014 ">
                                       <p><code class="codeph">gather_fixed</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30514 d960973e30017 ">
                                       <p><code class="codeph">TRUE</code>时收集有关固定表的统计信息。默认值为<code class="codeph">FALSE</code> 。</p>
                                       <p>只有用户<code class="codeph">SYS</code>才能收集固定表的统计信息。自己的<code class="codeph">ownname</code>必须是<code class="codeph">SYS</code>或null。收集固定表的统计信息时，数据库会忽略以下参数的指定值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">block_sample</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">stattab</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">statid</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">statown</code></p>
                                          </li>
                                       </ul>
                                       <p>数据库不会使收集统计信息的固定表上的从属游标无效。此选项仅供内部使用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30562" headers="d960973e30014 ">
                                       <p><code class="codeph">StatType标识</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30562 d960973e30017 ">
                                       <p>统计类型：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">DATA</code> - 仅限数据统计</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CACHE</code> - 仅限缓存统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> - 所有统计数据</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30586" headers="d960973e30014 ">
                                       <p><code class="codeph">obj_filter_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30586 d960973e30017 ">
                                       <p>对象过滤器列表。除非双引号，否则对象过滤器中指定的属性值不区分大小写。属性值中允许使用通配符。</p>
                                       <p>指定时， <code class="codeph">GATHER_DATABASE_STATS</code>仅根据<code class="codeph">GATHER_DATABASE_STATS</code>收集满足列表中至少一个对象过滤器的对象的统计信息。在单对象过滤器中，数据库可以指定对象属性的约束。例如，在一个对象过滤器中为属性<code class="codeph">a1</code>和<code class="codeph">a2</code>指定非<code class="codeph">NULL</code>值<code class="codeph">s1</code>和<code class="codeph">s2</code> 。当<code class="codeph">(o.a1 LIKE s1) AND (o.a2 LIKE s2)</code>为真时，对象<code class="codeph">o</code>被称为满足该对象过滤器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30621" headers="d960973e30014 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30621 d960973e30017 ">
                                       <p>报告内容的详细程度。有效值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：该报告包括</p>
                                             <p>- 操作ID</p>
                                             <p>- 操作名称</p>
                                             <p>- 操作目标对象</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态（例如：成功，失败）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">BASIC</code>级别提供的信息外，该报告还包括在此操作中收集统计信息的各个目标对象。具体来说，关于操作相关的细节：</p>
                                             <p>- 目标对象的总数</p>
                                             <p>- 成功完成的对象总数</p>
                                             <p>- 失败对象的总数</p>
                                             <p>- 超时对象总数（仅适用于自动统计信息收集）</p>
                                             <p>关于目标对象：</p>
                                             <p>- 每个目标对象的所有者和名称</p>
                                             <p>- 目标对象类型（例如：表，索引）</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：除了<code class="codeph">TYPICAL</code>级别提供的信息外，该报告还包含有关每个目标对象的更多信息。具体而言，关于与操作相关的细节：</p>
                                             <p>- 工作名称</p>
                                             <p>- 会话ID</p>
                                             <p>- 参数值</p>
                                             <p>- 操作失败时出现错误消息</p>
                                             <p>关于目标对象：</p>
                                             <p>- 工作名称</p>
                                             <p>- 批处理细节</p>
                                             <p>- 估计费用</p>
                                             <p>- 在目标列表中排名</p>
                                             <p>- 收集直方图的列</p>
                                             <p>- 收集的扩展统计数据列表（如果有）</p>
                                             <p>- 任务失败时的其他错误详细信息。</p>
                                          </li>
                                       </ul>
                                       <p>请注意，仅当并发执行操作时才会填充报表中的多个字段（例如作业名称，估计任务成本）（启用了<code class="codeph">CONCURRENT</code>首选项）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30713" headers="d960973e30014 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30713 d960973e30017 ">
                                       <p>报告的格式。有效值为：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">XML</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TEXT</code> （默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772__GUID-7FAA4031-BDFB-45F6-BE95-6822A9E7F9F3">返回值</p>
                        <p>包含报告的<code class="codeph">CLOB</code>对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772__GUID-52579AB4-F70F-4D5E-B06C-D9704F7BD78D">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F8850DEF-3CF3-4D91-9127-861B821F4772__GUID-1B2C2EF6-528C-453A-84AB-E0735AC2BFE5">使用说明</p>
                        <p>要运行此过程，您需要具有<code class="codeph">SYSDBA</code>角色或同时具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6" name="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6"></a><h4 id="ARPLS-GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6" class="sect4"><span class="enumeration_section">165.7.93</span> REPORT_GATHER_DICTIONARY_STATS函数</h4>
                  <div>
                     <p>此函数在报告模式下运行<code class="codeph">GATHER_DICTIONARY_STATS</code>过程。
                     </p>
                     <div class="section">
                        <p>数据库不收集统计信息，但会在调用<code class="codeph">GATHER_DICTIONARY_STATS</code>时报告受影响的所有对象。报告的详细级别由<code class="codeph">detail_level</code>输入参数定义。请参阅<a href="DBMS_STATS.html#GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6" title="此函数在报告模式下运行GATHER_DICTIONARY_STATS过程。">REPORT_GATHER_DICTIONARY_STATS函数中</a>的<code class="codeph">detail_level</code>和<code class="codeph">format</code>的说明。对于所有其他输入参数，请参阅<a href="DBMS_STATS.html#GUID-867989C7-ADFC-4464-8981-437CEA7F331E" title="此过程收集字典模式SYS，SYSTEM和RDBMS组件模式的统计信息。">GATHER_DICTIONARY_STATS过程</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6__GUID-6E645FBC-F589-4C10-9FBE-E2766DE2B1E0">句法</p><pre class="pre codeblock"><code>DBMS_STATS.REPORT_GATHER_DICTIONARY_STATS（comp_id IN VARCHAR2 DEFAULT NULL，estimate_percent IN NUMBER DEFAULT TO_ESTIMATE_PERCENT_TYPE（GET_PARAM（'ESTIMATE_PERCENT'）），block_sample IN BOOLEAN DEFAULT FALSE，method_opt IN VARCHAR2 DEFAULT GET_PARAM（'METHOD_OPT'），degree IN NUMBER DEFAULT TO_DEGREE_TYPE（GET_PARAM（' DEGREE'）），粒度IN VARCHAR2 DEFAULT GET_PARAM（'粒度'），级联IN BOOLEAN DEFAULT TO_CASCADE_TYPE（GET_PARAM（'CASCADE'）），stattab IN VARCHAR2 DEFAULT NULL，选项IN VARCHAR2 DEFAULT'GATHER AUTO'，no_invalidate IN BOOLEAN DEFAULT TO_NO_INVALIDATE_TYPE （GET_PARAM（'NO_INVALIDATE'）），stattype IN VARCHAR2 DEFAULT'DATA'，obj_filter_list IN ObjectTab DEFAULT NULL，detail_level IN VARCHAR2 DEFAULT'TYPICAL'，格式IN VARCHAR2 DEFAULT'TEXT'）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6__GUID-AECC30D7-197E-4E0B-B123-1D6FC1FDAB44">参数</p>
                        <div class="tblformal" id="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6__GUID-292E3D72-33DD-4922-A0DF-C9959AE56662">
                           <p class="titleintable">表165-102 REPORT_GATHER_DICTIONARY_STATS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_GATHER_DICTIONARY_STATS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_GATHER_DICTIONARY_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e30923">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e30926">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30931" headers="d960973e30923 ">
                                       <p><code class="codeph">comp_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30931 d960973e30926 ">
                                       <p>要分析的架构的组件ID。<code class="codeph">NULL</code>导致分析所有RDBMS组件的模式。请参阅<code class="codeph">DBA_REGISTRY</code>视图的<code class="codeph">COMP_ID</code>列。无论此参数如何，该过程始终会收集有关<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>模式的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e30954" headers="d960973e30923 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e30954 d960973e30926 ">
                                       <p>要采样的行的百分比（ <code class="codeph">NULL</code>表示计算）。有效范围介于<code class="codeph">0.000001</code>和<code class="codeph">100</code>之间。使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>让数据库确定适当的样本大小以获得良好的统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值<code class="codeph">.</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31006" headers="d960973e30923 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31006 d960973e30926 ">
                                       <p>确定是否使用随机块采样而不是随机行采样。随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。仅在执行估算统计时相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31014" headers="d960973e30923 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31014 d960973e30926 ">
                                       <p>方法选项。此参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图。
                                          </li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31088" headers="d960973e30923 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31088 d960973e30926 ">
                                       <p>并行度。<code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。
                                       </p>
                                       <p>使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，这在<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt;n</code> ，或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，目前执行的<code class="codeph">DBMS_STATS</code>可以使用串行执行，如果对象的尺寸不保证并行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31172" headers="d960973e30923 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31172 d960973e30926 ">
                                       <p>确定要收集的统计信息的粒度。此首选项仅与分区表相关。</p>
                                       <p>以下值有效：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ALL</code> - 收集所有统计信息：子分区，分区和全局。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO</code> - 根据分区类型确定粒度。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。使用<code class="codeph">GLOBAL AND PARTITION</code>来实现此功能。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL</code> - 收集全球统计数据。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL AND PARTITION</code> - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SUBPARTITION</code> - 收集子分区级统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31221" headers="d960973e30923 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31221 d960973e30926 ">
                                       <p>收集索引的统计数据。索引统计信息收集不会并行化。除了收集表和列统计信息之外，使用此选项等效于在架构中的每个索引上运行<a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS过程</a> 。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>让Oracle确定是否要收集索引统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31269" headers="d960973e30923 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31269 d960973e30926 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31277" headers="d960973e30923 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31277 d960973e30926 ">
                                       <p>要收集统计信息的对象的进一步规范：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>' <code class="codeph">GATHER</code> ' - 收集模式中所有对象的统计信息</p>
                                          </li>
                                          <li>
                                             <p>' <code class="codeph">GATHER</code> <code class="codeph">AUTO</code> ' - <code class="codeph">AUTO</code>收集所有必要的统计信息。Oracle隐式确定哪些对象需要新的统计信息，并确定如何收集这些统计信息。当指定' <code class="codeph">GATHER</code> <code class="codeph">AUTO</code> '时，唯一的附加有效参数是<code class="codeph">comp_id</code> ， <code class="codeph">stattab</code> ， <code class="codeph">statid</code>和<code class="codeph">statown</code> ;所有其他参数设置将被忽略。此外，返回已处理的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p>' <code class="codeph">GATHER</code> <code class="codeph">STALE</code> ' - 通过查看<code class="codeph">*_tab</code> _modifications视图确定收集过时对象的统计信息。此外，返回发现过时的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p>' <code class="codeph">GATHER</code> <code class="codeph">EMPTY</code> ' - 收集目前没有统计数据的对象的统计数据。此外，返回找不到统计信息的对象列表。
                                             </p>
                                          </li>
                                          <li>
                                             <p>' <code class="codeph">LIST</code> <code class="codeph">AUTO</code> ' - 返回' <code class="codeph">GATHER</code> <code class="codeph">AUTO</code> '要处理的对象列表</p>
                                          </li>
                                          <li>
                                             <p>' <code class="codeph">LIST</code> <code class="codeph">STALE</code> ' - 返回通过查看<code class="codeph">*_tab</code> _modifications视图确定的陈旧对象列表</p>
                                          </li>
                                          <li>
                                             <p>' <code class="codeph">LIST</code> <code class="codeph">EMPTY</code> ' - 返回当前没有统计信息的对象列表</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31377" headers="d960973e30923 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31377 d960973e30926 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31428" headers="d960973e30923 ">
                                       <p><code class="codeph">StatType标识</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31428 d960973e30926 ">
                                       <p>统计类型：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">DATA</code> - 仅限数据统计</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CACHE</code> - 仅限缓存统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> - 所有统计数据</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31453" headers="d960973e30923 ">
                                       <p><code class="codeph">obj_filter_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31453 d960973e30926 ">
                                       <p>对象过滤器列表。提供时，这将仅根据需要收集满足列表中至少一个对象过滤器的对象的统计信息。在单个对象过滤器中，我们可以指定对象属性的约束。除非双引号，否则对象过滤器中指定的属性值不区分大小写。属性值中允许使用通配符。假设在一个对象过滤器中为属性a1，a2，...指定了非<code class="codeph">NULL</code>值s1，s2，....如果（o.a1喜欢s1）和（o.a2喜欢s2）和...是真，则称对象o满足该对象过滤器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31464" headers="d960973e30923 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31464 d960973e30926 ">
                                       <p>请参阅<a href="DBMS_STATS.html#GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6" title="此函数在报告模式下运行GATHER_DICTIONARY_STATS过程。">REPORT_GATHER_DICTIONARY_STATS函数中</a>的说明。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e31481" headers="d960973e30923 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e31481 d960973e30926 ">
                                       <p>请参阅<a href="DBMS_STATS.html#GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6" title="此函数在报告模式下运行GATHER_DICTIONARY_STATS过程。">REPORT_GATHER_DICTIONARY_STATS函数中</a>的说明。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6__GUID-BA68096F-9685-4554-B2AE-39C1FE786567">返回值</p>
                        <p>包含报告的<code class="codeph">CLOB</code>对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6__GUID-441DC624-A550-4E5E-B769-B292214AD2CE">使用说明</p>
                        <p>您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权才能执行此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-787D6094-0BEF-405B-A3B2-11FEB77193E6__GUID-07E577DD-F4F9-4B07-A086-18B2D8C95147">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：索引不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37" name="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37"></a><h4 id="ARPLS-GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37" class="sect4"><span class="enumeration_section">165.7.94</span> REPORT_GATHER_FIXED_OBJ_STATS功能</h4>
                  <div>
                     <p>此函数在报告模式下运行GATHER_FIXED_OBJECTS_STATS过程。</p>
                     <div class="section">
                        <p>也就是说，实际上并未收集统计信息，但会报告在调用<code class="codeph">GATHER_FIXED_OBJ_STATS</code>时将受影响的所有对象。输入参数集与<code class="codeph">GATHER_FIXED_OBJ_STATS</code>中的两个额外参数完全相同。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37__GUID-EDF7B05C-D593-4725-BF20-AD2DF8C308B9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REPORT_GATHER_FIXED_OBJ_STATS（stattab IN VARCHAR2 DEFAULT NULL，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL，no_invalidate IN BOOLEAN DEFAULT TO_NO_INVALIDATE_TYPE（GET_PARAM（'NO_INVALIDATE'）），detail_level IN VARCHAR2 DEFAULT'TYPICAL'，format IN VARCHAR2 DEFAULT'Text '）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37__GUID-19054EAA-9598-457A-9ACD-81BE479B05D7">参数</p>
                        <div class="tblformal" id="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37__GUID-CE663694-7325-4C98-9D45-0374D549E304">
                           <p class="titleintable">表165-103 REPORT_GATHER_FIXED_OBJ_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_GATHER_FIXED_OBJ_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_GATHER_FIXED_OBJ_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e31659">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e31662">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e31667" headers="d960973e31659 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e31667 d960973e31662 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e31675" headers="d960973e31659 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e31675 d960973e31662 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e31686" headers="d960973e31659 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e31686 d960973e31662 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e31697" headers="d960973e31659 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e31697 d960973e31662 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e31752" headers="d960973e31659 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e31752 d960973e31662 ">
                                       <p>报告内容的详细级别</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：该报告包括</p>
                                             <p>- 操作ID</p>
                                             <p>- 操作名称</p>
                                             <p>- 操作目标对象</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态（例如：成功，失败）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">BASIC</code>级别提供的信息外，该报告还包括在此操作中收集统计信息的各个目标对象。具体来说，关于操作相关的细节：</p>
                                             <p>- 目标对象的总数</p>
                                             <p>- 成功完成的对象总数</p>
                                             <p>- 失败对象的总数</p>
                                             <p>- 超时对象总数（仅适用于自动统计信息收集）</p>
                                             <p>关于目标对象：</p>
                                             <p>- 每个目标对象的所有者和名称</p>
                                             <p>- 目标对象类型（例如：表，索引）</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：除了<code class="codeph">TYPICAL</code>级别提供的信息外，该报告还包含有关每个目标对象的更多信息。具体而言，关于与操作相关的细节：</p>
                                             <p>- 工作名称</p>
                                             <p>- 会话ID</p>
                                             <p>- 参数值</p>
                                             <p>- 操作失败时出现错误消息</p>
                                             <p>关于目标对象：</p>
                                             <p>- 工作名称</p>
                                             <p>- 批处理细节</p>
                                             <p>- 估计费用</p>
                                             <p>- 在目标列表中排名</p>
                                             <p>- 收集直方图的列</p>
                                             <p>- 收集的扩展统计数据列表（如果有）</p>
                                             <p>- 任务失败时的其他错误详细信息。</p>
                                          </li>
                                       </ul>
                                       <p>请注意，仅当并发执行操作时才会填充报表中的多个字段（例如作业名称，估计任务成本）（启用了<code class="codeph">CONCURRENT</code>首选项）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e31844" headers="d960973e31659 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e31844 d960973e31662 ">
                                       <p>报告格式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>XML</p>
                                          </li>
                                          <li>
                                             <p>HTML</p>
                                          </li>
                                          <li>
                                             <p>文字（默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37__GUID-3CA1A172-153F-4EB4-B2D4-214CF708784B">返回值</p>
                        <p>包含报告的<code class="codeph">CLOB</code>对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37__GUID-8AC0A903-06F5-4BB8-B49F-6C27880186A2">使用说明</p>
                        <p>您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>系统特权才能执行此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBBABE7A-000A-46C4-9A42-6D07E5DAAE37__GUID-68041367-8BC2-4E13-8A3A-BC00FCDB769C">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表，可能需要升级它</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_STATS.html#GUID-EAD4C693-4F03-45DE-9704-1466C8E35232" title="此过程收集所有固定对象（动态性能表）的统计信息。">GATHER_FIXED_OBJECTS_STATS程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03" name="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03"></a><h4 id="ARPLS-GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03" class="sect4"><span class="enumeration_section">165.7.95</span> REPORT_GATHER_SCHEMA_STATS函数</h4>
                  <div>
                     <p>此函数在报告模式下运行<code class="codeph">GATHER_SCHEMA_STATS</code>过程。
                     </p>
                     <div class="section">
                        <p>数据库实际上不会收集统计信息，但会报告在调用<code class="codeph">GATHER_SCHEMA_STATS</code>时会受到影响的所有对象。输入参数集与<code class="codeph">GATHER_SCHEMA_STATS</code>的参数集完全相同，带有两个额外参数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__GUID-BE63A724-7123-405E-9D84-54F1C4BAB6EF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REPORT_GATHER_SCHEMA_STATS（ownname IN VARCHAR2，estimate_percent IN NUMBER DEFAULT TO_ESTIMATE_PERCENT_TYPE（GET_PARAM（'ESTIMATE_PERCENT'）），block_sample IN BOOLEAN DEFAULT FALSE，method_opt IN VARCHAR2 DEFAULT GET_PARAM（'METHOD_OPT'），degree IN NUMBER DEFAULT TO_DEGREE_TYPE（GET_PARAM（'DEGREE'） ）），粒度IN VARCHAR2 DEFAULT GET_PARAM（'粒度'），级联IN BOOLEAN DEFAULT TO_CASCADE_TYPE（GET_PARAM（'CASCADE'）），stattab IN VARCHAR2 DEFAULT NULL，statid IN VARCHAR2 DEFAULT NULL，选项IN VARCHAR2 DEFAULT'GATHER'，statown IN VARCHAR2 DEFAULT NULL，no_invalidate IN BOOLEAN DEFAULT TO_NO_INVALIDATE_TYPE（GET_PARAM（'NO_INVALIDATE'）），强制IN BOOLEAN DEFAULT FALSE，obj_filter_list IN ObjectTab DEFAULT NULL，detail_level IN VARCHAR2 DEFAULT'TYPICAL'，格式IN VARCHAR2 DEFAULT'TEXT'）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__GUID-9635AF08-7B0E-4BFE-B11C-314FAC3F74F3">参数</p>
                        <div class="tblformal" id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__GUID-7389B3C3-A12E-4096-AEA4-26923CAC1216">
                           <p class="titleintable">表165-104 REPORT_GATHER_SCHEMA_STATS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_GATHER_SCHEMA_STATS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.GATHER_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e32028">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e32031">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32036" headers="d960973e32028 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32036 d960973e32031 ">
                                       <p>要分析的模式（ <code class="codeph">NULL</code>表示当前模式）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32047" headers="d960973e32028 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32047 d960973e32031 ">
                                       <p>要估计的行的百分比（ <code class="codeph">NULL</code>表示计算）：有效范围是[0.000001,100]。使用常量<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_SAMPLE_SIZE</code>让Oracle确定适当的样本大小以获得良好的统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32099" headers="d960973e32028 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32099 d960973e32031 ">
                                       <p>是否使用随机块采样而不是随机行采样。随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。仅在进行估算统计时才适用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32107" headers="d960973e32028 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32107 d960973e32031 ">
                                       <p>接受：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图</li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32185" headers="d960973e32028 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32185 d960973e32031 ">
                                       <p>并行度。<code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，这在<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt;n</code> ，或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，目前执行的<code class="codeph">DBMS_STATS</code>可以使用串行执行，如果对象的尺寸不保证并行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32272" headers="d960973e32028 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32272 d960973e32031 ">
                                       <p>要收集的统计数据的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级别的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32315" headers="d960973e32028 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32315 d960973e32031 ">
                                       <p>收集有关索引的统计信息。除了收集表和列统计信息之外，使用此选项等效于在架构中的每个索引上运行<a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS过程</a> 。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>让Oracle确定是否要收集索引统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32368" headers="d960973e32028 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32368 d960973e32031 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32376" headers="d960973e32028 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32376 d960973e32031 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32386" headers="d960973e32028 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32386 d960973e32031 ">
                                       <p>进一步说明收集统计信息的对象：</p>
                                       <p><code class="codeph">GATHER</code> ：收集模式中所有对象的统计信息。
                                       </p>
                                       <p><code class="codeph">GATHER</code> <code class="codeph">AUTO</code> ： <code class="codeph">AUTO</code>收集所有必要的统计信息。Oracle隐式确定哪些对象需要新的统计信息，并确定如何收集这些统计信息。当指定<code class="codeph">GATHER AUTO</code> ，唯一的附加有效参数是<code class="codeph">ownname</code> ， <code class="codeph">stattab</code> ， <code class="codeph">statid</code> ， <code class="codeph">objlist</code>和<code class="codeph">statown</code> ;忽略所有其他参数设置。返回已处理对象的列表。
                                       </p>
                                       <p><code class="codeph">GATHER</code> <code class="codeph">STALE</code> ：通过查看* <code class="codeph">_tab_modifications</code>视图确定收集过时对象的统计信息。此外，返回发现过时的对象列表。
                                       </p>
                                       <p><code class="codeph">GATHER</code> <code class="codeph">EMPTY</code> ：收集当前没有统计信息的对象的统计信息。同样，返回一个没有统计信息的对象列表。
                                       </p>
                                       <p><code class="codeph">LIST AUTO</code> ：返回要使用<code class="codeph">GATHER AUTO</code>处理的对象列表。</p>
                                       <p><code class="codeph">LIST</code> <code class="codeph">STALE</code> ：返回通过查看* <code class="codeph">_tab_modifications</code>视图确定的陈旧对象列表。
                                       </p>
                                       <p><code class="codeph">LIST</code> <code class="codeph">EMPTY</code> ：返回当前没有统计信息的对象列表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32465" headers="d960973e32028 ">
                                       <p><code class="codeph">objlist</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32465 d960973e32031 ">
                                       <p>发现陈旧或空的对象列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32474" headers="d960973e32028 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32474 d960973e32031 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32488" headers="d960973e32028 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32488 d960973e32031 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32543" headers="d960973e32028 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32543 d960973e32031 ">
                                       <p>即使对象被锁定，也要收集对象的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32551" headers="d960973e32028 ">
                                       <p><code class="codeph">obj_filter_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32551 d960973e32031 ">
                                       <p>对象过滤器列表。提供时， <code class="codeph">GATHER_SCHEMA_STATS</code>将仅根据需要收集满足列表中至少一个对象过滤器的对象的统计信息。在单个对象过滤器中，我们可以指定对象属性的约束。除非双引号，否则对象过滤器中指定的属性值不区分大小写。属性值中允许使用通配符。假设在一个对象过滤器中为属性a1，a2，...指定了非<code class="codeph">NULL</code>值s1，s2，....如果（o.a1喜欢s1）和（o.a2喜欢s2）和...是真，则称对象o满足该对象过滤器。请参阅<a href="DBMS_STATS.html#GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__BABBFCJG">应用对象过滤器列表</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32568" headers="d960973e32028 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32568 d960973e32031 ">
                                       <p>报告内容的详细级别</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：该报告包括</p>
                                             <p>- 操作ID</p>
                                             <p>- 操作名称</p>
                                             <p>- 操作目标对象</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态（例如：成功，失败）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">BASIC</code>级别提供的信息外，该报告还包括在此操作中收集统计信息的各个目标对象。具体来说，关于操作相关的细节：</p>
                                             <p>- 目标对象的总数</p>
                                             <p>- 成功完成的对象总数</p>
                                             <p>- 失败对象的总数</p>
                                             <p>- 超时对象总数（仅适用于自动统计信息收集）</p>
                                             <p>关于目标对象：</p>
                                             <p>- 每个目标对象的所有者和名称</p>
                                             <p>- 目标对象类型（例如：表，索引）</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：除了<code class="codeph">TYPICAL</code>级别提供的信息外，该报告还包含有关每个目标对象的更多信息。具体而言，关于与操作相关的细节：</p>
                                             <p>- 工作名称</p>
                                             <p>- 会话ID</p>
                                             <p>- 参数值</p>
                                             <p>- 操作失败时出现错误消息</p>
                                             <p>关于目标对象：</p>
                                             <p>- 工作名称</p>
                                             <p>- 批处理细节</p>
                                             <p>- 估计费用</p>
                                             <p>- 在目标列表中排名</p>
                                             <p>- 收集直方图的列</p>
                                             <p>- 收集的扩展统计数据列表（如果有）</p>
                                             <p>- 任务失败时的其他错误详细信息。</p>
                                          </li>
                                       </ul>
                                       <p>请注意，仅当并发执行操作时才会填充报表中的多个字段（例如作业名称，估计任务成本）（启用了<code class="codeph">CONCURRENT</code>首选项）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e32660" headers="d960973e32028 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e32660 d960973e32031 ">
                                       <p>报告格式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>XML</p>
                                          </li>
                                          <li>
                                             <p>HTML</p>
                                          </li>
                                          <li>
                                             <p>文字（默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__GUID-2BC21221-81DF-4174-B7D5-CF854144B51A">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__GUID-8A5955F5-3A28-4EAC-85C8-AC96AEDC003D">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：架构不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值不正确</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__GUID-83642E7C-1A01-4508-9AB2-C496CFD244A2">例子</p>
                        <p id="GUID-97A76F3E-2BEC-4772-A0F6-908B61C1BB03__BABBFCJG">应用对象过滤器列表</p>
                        <p>以下示例指定<code class="codeph">SAMPLE</code>模式中具有“ <code class="codeph">T</code> ”前缀的任何表或<code class="codeph">SYS</code>模式中的任何表（如果过时）将在其上收集统计信息。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE filter_lst DBMS_STATS.OBJECTTAB：= DBMS_STATS.OBJECTTAB（）; BEGIN filter_lst.extend（2）; filter_lst（1）.ownname：='SAMPLE'; filter_lst（1）.objname：='T％'; filter_lst（2）.ownname：='SYS'; DBMS_STATS.GATHER_SCHEMA_STATS（NULL，obj_filter_list =&gt; filter_lst，options =&gt;'GATHER STALE'）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB" name="GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB"></a><h4 id="ARPLS-GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB" class="sect4"><span class="enumeration_section">165.7.96</span> REPORT_GATHER_TABLE_STATS功能</h4>
                  <div>
                     <p>此过程在报告模式下运行GATHER_TABLE_STATS过程。</p>
                     <div class="section">
                        <p>也就是说，实际上并未收集统计信息，但会报告在调用<code class="codeph">GATHER_TABLE_STATS</code>时将受影响的所有对象。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB__GUID-48476226-97CD-4CFC-BFA2-6C5A5204E02F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REPORT_GATHER_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，estimate_percent NUMBER DEFAULT to_estimate_percent_type（get_param（'ESTIMATE_PERCENT'）），block_sample BOOLEAN DEFAULT FALSE，method_opt VARCHAR2 DEFAULT get_param（'METHOD_OPT'），degree NUMBER DEFAULT to_degree_type（get_param（ 'DEGREE'）），粒度VARCHAR2 DEFAULT GET_PARAM（'GRANULARITY'），级联BOOLEAN DEFAULT to_cascade_type（get_param（'CASCADE'）），stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param （'NO_INVALIDATE'）），stattype VARCHAR2 DEFAULT'DATA'，强制BOOLEAN DEFAULT FALSE）detail_level VARCHAR2 DEFAULT'TYPICAL'，格式VARCHAR2 DEFAULT'TEXT'）返回CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB__GUID-9AE6C8CF-08B5-4E37-856B-552D2EE7FD59">参数</p>
                        <div class="tblformal" id="GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB__GUID-A40CDCC9-603C-4289-9079-9867D052AECD">
                           <p class="titleintable">表165-105 REPORT_GATHER_TABLE_STATS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_GATHER_TABLE_STATS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_GATHER_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e32845">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e32848">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e32853" headers="d960973e32845 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e32853 d960973e32848 ">
                                       <p>要分析的表的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e32861" headers="d960973e32845 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e32861 d960973e32848 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e32869" headers="d960973e32845 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e32869 d960973e32848 ">
                                       <p>分区名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e32877" headers="d960973e32845 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e32877 d960973e32848 ">
                                       <p>要估计的行的百分比（ <code class="codeph">NULL</code>表示计算）有效范围是[0.000001,100]。使用常量<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_SAMPLE_SIZE</code>让Oracle确定适当的样本大小以获得良好的统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e32929" headers="d960973e32845 ">
                                       <p><code class="codeph">block_sample</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e32929 d960973e32848 ">
                                       <p>是否使用随机块采样而不是随机行采样。随机块采样更有效，但如果数据不是随机分布在磁盘上，则样本值可能有些相关。仅在进行估算统计时才适用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e32937" headers="d960973e32845 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e32937 d960973e32848 ">
                                       <p>接受以下任一选项，或两者结合使用：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FOR COLUMNS [column_clause] [size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <p><code class="codeph">column_clause</code>定义为<code class="codeph">column_clause := column_name | extension name | extension</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图</li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列。
                                          </li>
                                          <li>- <code class="codeph">column_name</code> ：列的名称</li>
                                          <li>- <code class="codeph">extension :</code>可以是（ <code class="codeph">column_name</code> ， <code class="codeph">Colume_name</code> [，...]）格式的列组或表达式</li>
                                       </ul>
                                       <p>默认为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33041" headers="d960973e32845 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33041 d960973e32848 ">
                                       <p>并行度。<code class="codeph">degree</code>的默认值为<code class="codeph">NULL</code> 。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。<code class="codeph">NULL</code>表示使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中<code class="codeph">DEGREE</code>子句指定的表缺省值。使用常量<code class="codeph">DBMS_STATS.DEFAULT_DEGREE</code>根据初始化参数指定默认值。<code class="codeph">AUTO_DEGREE</code>值自动确定并行度。根据对象的大小，这在<code class="codeph">1</code> （串行执行）和<code class="codeph">DEFAULT_DEGREE</code> （基于CPU数和初始化参数的系统默认值）之间。当使用<code class="codeph">DEGREE=&gt;NULL</code> ， <code class="codeph">DEGREE=&gt;n</code> ，或<code class="codeph">DEGREE=&gt;DBMS_STATS.DEFAULT_DEGREE</code> ，目前执行的<code class="codeph">DBMS_STATS</code>可以使用串行执行，如果对象的尺寸不保证并行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33128" headers="d960973e32845 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33128 d960973e32848 ">
                                       <p>要收集的统计数据的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'APPROX_GLOBAL AND PARTITION'</code> - 类似于<code class="codeph">'GLOBAL AND PARTITION'</code>但在这种情况下，全局统计信息是从分区级统计信息聚合而来的。此选项将聚合所有统计信息，但列的不同值的数量和索引的不同键的数量除外。表级别的列的现有直方图也被聚合。聚合将仅使用具有统计信息的分区，因此要获得准确的全局统计信息，用户应确保拥有所有分区的统计信息。如果<code class="codeph">partname</code>为<code class="codeph">NULL</code>或者无法执行聚合（例如，如果缺少其中一个分区的统计信息），则会收集全局统计信息。
                                       </p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级别的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33184" headers="d960973e32845 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33184 d960973e32848 ">
                                       <p>收集有关此表的索引的统计信息。使用此选项相当于在每个表的索引上运行<a href="DBMS_STATS.html#GUID-9D01B268-734F-45C0-9620-1478F5A1B261" title="此过程收集索引统计信息。它试图尽可能多地并行化工作。">GATHER_INDEX_STATS过程</a> 。使用常量<code class="codeph">DBMS_STATS.AUTO_CASCADE</code>让Oracle确定是否要收集索引统计信息。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值<code class="codeph">.</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33238" headers="d960973e32845 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33238 d960973e32848 ">
                                       <p>用户统计信息表标识符，描述保存当前统计信息的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33246" headers="d960973e32845 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33246 d960973e32848 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33257" headers="d960973e32845 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33257 d960973e32848 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33271" headers="d960973e32845 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33271 d960973e32848 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33326" headers="d960973e32845 ">
                                       <p><code class="codeph">StatType标识</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33326 d960973e32848 ">
                                       <p>统计类型。唯一允许的值是<code class="codeph">DATA</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33337" headers="d960973e32845 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33337 d960973e32848 ">
                                       <p>即使表被锁定，也要收集表的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33345" headers="d960973e32845 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33345 d960973e32848 ">
                                       <p>报告内容的详细级别</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：该报告包括</p>
                                             <p>- 操作ID</p>
                                             <p>- 操作名称</p>
                                             <p>- 操作目标对象</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态（例如：成功，失败）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">BASIC</code>级别提供的信息外，该报告还包括在此操作中收集统计信息的各个目标对象。具体来说，关于操作相关的细节：</p>
                                             <p>- 目标对象的总数</p>
                                             <p>- 成功完成的对象总数</p>
                                             <p>- 失败对象的总数</p>
                                             <p>- 超时对象总数（仅适用于自动统计信息收集）</p>
                                             <p>关于目标对象：</p>
                                             <p>- 每个目标对象的所有者和名称</p>
                                             <p>- 目标对象类型（例如：表，索引）</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：除了<code class="codeph">TYPICAL</code>级别提供的信息外，该报告还包含有关每个目标对象的更多信息。具体而言，关于与操作相关的细节：</p>
                                             <p>- 工作名称</p>
                                             <p>- 会话ID</p>
                                             <p>- 参数值</p>
                                             <p>- 操作失败时出现错误消息</p>
                                             <p>关于目标对象：</p>
                                             <p>- 工作名称</p>
                                             <p>- 批处理细节</p>
                                             <p>- 估计费用</p>
                                             <p>- 在目标列表中排名</p>
                                             <p>- 收集直方图的列</p>
                                             <p>- 收集的扩展统计数据列表（如果有）</p>
                                             <p>- 任务失败时的其他错误详细信息。</p>
                                          </li>
                                       </ul>
                                       <p>请注意，仅当并发执行操作时才会填充报表中的多个字段（例如作业名称，估计任务成本）（启用了<code class="codeph">CONCURRENT</code>首选项）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33437" headers="d960973e32845 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33437 d960973e32848 ">
                                       <p>报告格式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>XML</p>
                                          </li>
                                          <li>
                                             <p>HTML</p>
                                          </li>
                                          <li>
                                             <p>文字（默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB__GUID-21E08287-08C6-48BA-86BC-3B5CACBB4517">返回值</p>
                        <p>包含报告的<code class="codeph">CLOB</code>对象</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D3C57BDF-2F25-476F-BE05-4893209F9DAB__GUID-4199C723-14E1-40EC-9D40-87A79D31F3FE">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-831121B3-3C8C-406A-AE2A-D0488E4689D2" name="GUID-831121B3-3C8C-406A-AE2A-D0488E4689D2"></a><h4 id="ARPLS-GUID-831121B3-3C8C-406A-AE2A-D0488E4689D2" class="sect4"><span class="enumeration_section">165.7.97</span> REPORT_SINGLE_STATS_OPERATION功能</h4>
                  <div>
                     <p>此函数可选地在多租户环境中的特定可插拔数据库（PDB）中生成所提供操作的报告。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-831121B3-3C8C-406A-AE2A-D0488E4689D2__GUID-CEC35187-A934-4CA4-9BDA-BD54242D9326">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REPORT_SINGLE_STATS_OPERATIONS（opid NUMBER，detail_level VARCHAR2 DEFAULT'TYPICAL'，format VARCHAR2 DEFAULT'TEXT'container_id NUMBER DEFAULT NULL）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-831121B3-3C8C-406A-AE2A-D0488E4689D2__GUID-8FBABA1D-87A7-4BB6-968A-C81E63B64D15">参数</p>
                        <div class="tblformal" id="GUID-831121B3-3C8C-406A-AE2A-D0488E4689D2__GUID-DC394B69-7A2D-43CE-9FB4-10960F336771">
                           <p class="titleintable">表165-106 REPORT_SINGLE_STATS_OPERATION函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_SINGLE_STATS_OPERATION函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_STATS_OPERATIONS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e33603">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e33606">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33611" headers="d960973e33603 ">
                                       <p><code class="codeph">OPID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33611 d960973e33606 ">
                                       <p>操作ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33619" headers="d960973e33603 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33619 d960973e33606 ">
                                       <p>报告内容的详细级别</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：该报告包括</p>
                                             <p>- 操作ID</p>
                                             <p>- 操作名称</p>
                                             <p>- 操作目标对象</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态（例如：成功，失败）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">BASIC</code>级别提供的信息外，该报告还包括在此操作中收集统计信息的各个目标对象。具体来说，关于操作相关的细节：</p>
                                             <p>- 目标对象的总数</p>
                                             <p>- 成功完成的对象总数</p>
                                             <p>- 失败对象的总数</p>
                                             <p>- 超时对象总数（仅适用于自动统计信息收集）</p>
                                             <p>关于目标对象：</p>
                                             <p>- 每个目标对象的所有者和名称</p>
                                             <p>- 目标对象类型（例如：表，索引）</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：除了<code class="codeph">TYPICAL</code>级别提供的信息外，该报告还包含有关每个目标对象的更多信息。具体而言，关于与操作相关的细节：</p>
                                             <p>- 工作名称</p>
                                             <p>- 会话ID</p>
                                             <p>- 参数值</p>
                                             <p>- 操作失败时出现错误消息</p>
                                             <p>关于目标对象：</p>
                                             <p>- 工作名称</p>
                                             <p>- 批处理细节</p>
                                             <p>- 估计费用</p>
                                             <p>- 在目标列表中排名</p>
                                             <p>- 收集直方图的列</p>
                                             <p>- 收集的扩展统计数据列表（如果有）</p>
                                             <p>- 将对象包含在目标列表中的原因（仅适用于自动统计信息收集操作任务）</p>
                                             <p>- 任务失败时的其他错误详细信息。</p>
                                          </li>
                                       </ul>
                                       <p>请注意，仅当并发执行操作时才会填充报表中的多个字段（例如作业名称，估计任务成本）（启用了<code class="codeph">CONCURRENT</code>首选项）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33713" headers="d960973e33603 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33713 d960973e33606 ">
                                       <p>报告格式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">XML</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TEXT</code> （默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33735" headers="d960973e33603 ">
                                       <p><code class="codeph">CONTAINER_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33735 d960973e33606 ">
                                       <p>执行此操作的可插拔数据库（PDB）的ID。请注意，在多租户环境中，操作ID不能唯一标识操作。也就是说，来自不同PDB的不同操作可以具有相同的操作ID。因此，在多租户环境中，如果未提供PDB ID，则报告可以包含多个操作。在典型（非CDB）数据库环境中，操作ID对于每个操作是唯一的。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-831121B3-3C8C-406A-AE2A-D0488E4689D2__GUID-645A2B37-2B9E-4FDD-A5B7-A97869871AB2">使用说明</p>
                        <p>要调用此过程，您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2D32C917-535B-4B69-839D-B86956503A2D" name="GUID-2D32C917-535B-4B69-839D-B86956503A2D"></a><h4 id="ARPLS-GUID-2D32C917-535B-4B69-839D-B86956503A2D" class="sect4"><span class="enumeration_section">165.7.98</span> REPORT_STATS_OPERATIONS函数</h4>
                  <div>
                     <p>此函数生成在两个时间戳之间发生的所有统计操作的报告，这两个时间戳可能已提供，也可能未提供。</p>
                     <div class="section">
                        <p>它允许缩小报告的范围，以便报告仅包括自动统计信息收集运行。此外，在多租户环境中，用户可以可选地提供一组可插拔数据库（PDB）ID，以便仅报告来自指定可插拔数据库的统计操作。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D32C917-535B-4B69-839D-B86956503A2D__GUID-E6353850-B131-4B69-9BAD-4F112DA798BF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.REPORT_STATS_OPERATIONS（detail_level VARCHAR2 DEFAULT'TYPICAL'，格式VARCHAR2 DEFAULT'TEXT'，latestN NUMBER DEFAULT NULL，因为TIMESTAMP WITH TIME ZONE DEFAULT NULL，直到TIMESTAMP WITH TIME ZONE DEFAULT NULl，auto_only BOOLEAN DEFAULT FALSE，container_ids DBMS_UTILITY.NUMBER_ARRAY DEFAULT DBMS_STATS .NULL_NUMTAB）返回CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D32C917-535B-4B69-839D-B86956503A2D__GUID-84345182-3E17-4CA2-B31F-DF69AFF6FF0D">参数</p>
                        <div class="tblformal" id="GUID-2D32C917-535B-4B69-839D-B86956503A2D__GUID-55FDA08A-0F09-4EEA-A71F-F2140B23CFC5">
                           <p class="titleintable">表165-107 REPORT_STATS_OPERATIONS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_STATS_OPERATIONS函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.REPORT_STATS_OPERATIONS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e33872">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e33875">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33880" headers="d960973e33872 ">
                                       <p><code class="codeph">detail_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33880 d960973e33875 ">
                                       <p>报告内容的详细级别</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：该报告包括</p>
                                             <p>- 操作ID</p>
                                             <p>- 操作名称</p>
                                             <p>- 操作目标对象</p>
                                             <p>- 开始时间</p>
                                             <p>- 时间结束</p>
                                             <p>- 完成状态（例如：成功，失败）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">BASIC</code>级别提供的信息外，该报告还包括在此操作中收集统计信息的各个目标对象。具体来说，关于操作相关的细节：</p>
                                             <p>- 目标对象的总数</p>
                                             <p>- 成功完成的对象总数</p>
                                             <p>- 失败对象的总数</p>
                                             <p>- 定时超出对象的总数（仅适用于自动统计信息收集）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：除了<code class="codeph">TYPICAL</code>级别提供的信息外，该报告还包含有关每个目标对象的更多信息。具体而言，关于与操作相关的细节：</p>
                                             <p>- 作业名称（如果操作在作业中运行）</p>
                                             <p>- 会话ID</p>
                                             <p>- 参数值</p>
                                             <p>- 操作失败时的其他错误详细信息</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33938" headers="d960973e33872 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33938 d960973e33875 ">
                                       <p>报告格式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>XML</p>
                                          </li>
                                          <li>
                                             <p>HTML</p>
                                          </li>
                                          <li>
                                             <p>文字（默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33956" headers="d960973e33872 ">
                                       <p><code class="codeph">latestN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33956 d960973e33875 ">
                                       <p>限制报告以仅包含在提供的时间点（从和之后）之间发生的最新N次操作。默认值为<code class="codeph">NULL</code> ，表示将报告所有符合条件的操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33967" headers="d960973e33872 ">
                                       <p><code class="codeph">以来</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33967 d960973e33875 ">
                                       <p>该报告将仅包括在此时间戳之后开始的统计操作。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33975" headers="d960973e33872 ">
                                       <p><code class="codeph">直到</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33975 d960973e33875 ">
                                       <p>该报告将仅包括此时间戳之前的统计操作。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33983" headers="d960973e33872 ">
                                       <p><code class="codeph">auto_only</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33983 d960973e33875 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则报告将仅包含自动统计信息收集作业运行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e33994" headers="d960973e33872 ">
                                       <p><code class="codeph">container_ids</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e33994 d960973e33875 ">
                                       <p>多租户环境包含一个或多个可插拔数据库（PDB）。 <code class="codeph">container_ids</code>表示一组PDB ID，以便仅报告来自指定PDB的统计信息操作（仅适用于多租户环境）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D32C917-535B-4B69-839D-B86956503A2D__GUID-2C8133BD-6FBC-474A-8B7A-7999DE5878F4">使用说明</p>
                        <p>要调用此过程，您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D32C917-535B-4B69-839D-B86956503A2D__GUID-BCF1FF10-DF51-4C09-8DF1-C3ACFFDD867E">例子</p>
                        <p>请注意， <code class="codeph">container_ids</code>输入参数的类型是<code class="codeph">DBMS_UTILITY.NUMBER_ARRAY</code> ，它是一个关联的PL / SQL数组集合。虽然关联数组类型允许更灵活的<code class="codeph">harvals</code>表条目组织，但此函数将<code class="codeph">container_ids</code>视为常规表集合，其中第一个ID位于索引1，最后一个ID位于索引<code class="codeph">container_ids.count</code>没有任何空数组插槽任何两个ID。提供了3个容器ID的示例。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE conid_tab DBMS_UTILITY.NUMBER_ARRAY;报告clob; BEGIN conid_tab（1）：= 124; conid_tab（2）：= 63; conid_tab（3）：= 98; report：= DBMS_STATS.REPORT_STATS_OPERATIONS（container_ids =&gt; conid_tab）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25" name="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25"></a><h4 id="ARPLS-GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25" class="sect4"><span class="enumeration_section">165.7.99</span> RESET_ADVISOR_TASK程序</h4>
                  <div>
                     <p>此过程将Optimizer Statistics Advisor任务执行重置为其初始状态。仅重置当前未执行的任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25__GUID-B04A80EB-64CD-4DF9-91A7-E2EA602AF39E">句法</p><pre class="pre codeblock"><code>DBMS_STATS.RESET_ADVISOR_TASK（task_name IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25__GUID-F4CDD791-D418-4625-BBB4-EC1AFB9C59D1">参数</p>
                        <div class="tblformal" id="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25__GUID-FA673550-C052-4955-A51A-C2F4F929F2A4">
                           <p class="titleintable">表165-108 RESET_ADVISOR_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESET_ADVISOR_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.RESET_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e34152">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e34155">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e34160" headers="d960973e34152 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e34160 d960973e34155 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25__GUID-F90C1F75-8640-4E84-9615-DA91390072EC">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25__GUID-E560E054-CC2B-4B62-98A5-294E722C3B0A">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                        <div class="See Also" id="GUID-E3A36C34-A480-48CF-85A8-87AA7FF76C25__GUID-D42EEEA5-9747-4502-85C1-08B8A08968D7">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F" name="GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F"></a><h4 id="ARPLS-GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F" class="sect4"><span class="enumeration_section">165.7.100</span> RESET_COL_USAGE过程</h4>
                  <div>
                     <p>此过程删除记录的列（组）使用信息。</p>
                     <div class="section">
                        <p>只有在需要初始化种子列使用情况时，才应在极少数情况下使用此过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F__SYNTAX-02471CB9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESET_COL_USAGE（拥有IN VARCHAR2，tabname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F__PARAMETERS-02472037">参数</p>
                        <div class="tblformal" id="GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F__RESET_COL_USAGEPROCEDUREPARAMETERS-02472417">
                           <p class="titleintable">表165-109 RESET_COL_USAGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESET_COL_USAGE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.RESET_COL_USAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e34320">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e34323">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34328" headers="d960973e34320 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34328 d960973e34323 ">
                                       <p>所有者名称。如果为<code class="codeph">NULL</code>则删除数据库中所有模式中的表的列使用信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34339" headers="d960973e34320 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34339 d960973e34323 ">
                                       <p>表名。如果为<code class="codeph">NULL</code>则删除所有<code class="codeph">ownname</code>表的列使用信息。如果owner和tabname都为<code class="codeph">NULL</code> ，则在适用的情况下停止种子列使用。有关详细信息，请参阅： <a href="DBMS_STATS.html#GUID-E1A288AB-A057-478E-865A-A84766DD470A" title="此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。">SEED_COL_USAGE过程</a> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0ED25A41-8642-46E4-AB5C-AAC08E622A8F__USAGENOTES-02472C3B">使用说明</p>
                        <p>要运行此过程，您需要具有<code class="codeph">SYSDBA</code>管理权限，或者具有<code class="codeph">ANALYZE ANY DICTIONARY</code>和<code class="codeph">ANALYZE ANY</code>系统权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-292AF183-B036-4068-8023-852BC170AD9A" name="GUID-292AF183-B036-4068-8023-852BC170AD9A"></a><h4 id="ARPLS-GUID-292AF183-B036-4068-8023-852BC170AD9A" class="sect4"><span class="enumeration_section">165.7.101</span> RESET_GLOBAL_PREF_DEFAULTS过程</h4>
                  <div>
                     <p>此过程将全局首选项（例如<code class="codeph">CASCADE</code> ， <code class="codeph">ESTIMATE_PERCENT</code>和<code class="codeph">GRANULARITY</code> ）设置为默认值。
                     </p>
                     <div class="section">
                        <p>这会反转<a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a>设置的全局首选项。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-292AF183-B036-4068-8023-852BC170AD9A__GUID-4ABA7220-E2B3-489B-9E37-3D2E1FE51AD2">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESET_GLOBAL_PREF_DEFAULTS;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-292AF183-B036-4068-8023-852BC170AD9A__GUID-7BC0161C-47E9-44D1-9537-A3F6B2E6D930">使用说明</p>
                        <p>要调用此过程，您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-51912684-43BB-47FE-B7FD-9B4FCF700D48" name="GUID-51912684-43BB-47FE-B7FD-9B4FCF700D48"></a><h4 id="ARPLS-GUID-51912684-43BB-47FE-B7FD-9B4FCF700D48" class="sect4"><span class="enumeration_section">165.7.102</span> RESET_PARAM_DEFAULTS过程</h4>
                  <div>
                     <p>不推荐使用的过程会将所有参数的默认值重置为Oracle建议值。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-51912684-43BB-47FE-B7FD-9B4FCF700D48__GUID-1DCA0928-BC37-4064-A49A-D92360D58F56">
                           <p class="notep1">注意：</p>
                           <p>该子程序已被改进的技术所取代，仅为了向后兼容而维护。而不是此过程，使用<a href="DBMS_STATS.html#GUID-292AF183-B036-4068-8023-852BC170AD9A" title="此过程将全局首选项（例如CASCADE，ESTIMATE_PERCENT和GRANULARITY）设置为默认值。">RESET_GLOBAL_PREF_DEFAULTS过程</a> 。
                           </p>
                           <p>也可以看看 。<a href="DBMS_STATS.html#GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" title="Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。">DBMS_STATS已弃用的子程序</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51912684-43BB-47FE-B7FD-9B4FCF700D48__GUID-1B8941DE-1C4A-4D89-92F6-03B0D10D9880">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESET_PARAM_DEFAULTS;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-65DED154-3D0A-4C99-847E-F001B9B5C231" name="GUID-65DED154-3D0A-4C99-847E-F001B9B5C231"></a><h4 id="ARPLS-GUID-65DED154-3D0A-4C99-847E-F001B9B5C231" class="sect4"><span class="enumeration_section">165.7.103</span> RESTORE_DATABASE_STATS过程</h4>
                  <div>
                     <p>此过程从指定的时间戳（ <code class="codeph">as_of_timestamp</code> ）恢复数据库的所有表的统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-65DED154-3D0A-4C99-847E-F001B9B5C231__GUID-E972F9DA-CF10-4FBE-911B-C4C34789BFAA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESTORE_DATABSE_STATS（as_of_timestamp TIMESTAMP WITH TIME ZONE，强制BOOLEAN DEFAULT FALSE，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（GET_PARAM（'NO_INVALIDATE'）））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-65DED154-3D0A-4C99-847E-F001B9B5C231__GUID-C067CD1F-8D83-4421-A684-A0D0847780E8">参数</p>
                        <div class="tblformal" id="GUID-65DED154-3D0A-4C99-847E-F001B9B5C231__GUID-F3EDA081-0B5D-4698-B2FF-A518F1AFAE00">
                           <p class="titleintable">表165-110 RESTORE_DATABASE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESTORE_DATABASE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.RESTORE_DATBASE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e34738">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e34741">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34746" headers="d960973e34738 ">
                                       <p><code class="codeph">as_of_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34746 d960973e34741 ">
                                       <p>要恢复统计信息的时间戳</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34754" headers="d960973e34738 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34754 d960973e34741 ">
                                       <p>即使统计信息已锁定，也会恢复统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34762" headers="d960973e34738 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34762 d960973e34741 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-65DED154-3D0A-4C99-847E-F001B9B5C231__GUID-482D794C-9BC1-4960-B424-CAD7CB027393">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：值无效或不一致</p>
                        <p><code class="codeph">ORA-20006</code> ：无法恢复统计信息，统计信息历史记录不可用</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071" name="GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071"></a><h4 id="ARPLS-GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071" class="sect4"><span class="enumeration_section">165.7.104</span> RESTORE_DICTIONARY_STATS过程</h4>
                  <div>
                     <p>此过程从指定的时间戳（ <code class="codeph">as_of_timestamp</code> ）恢复所有字典表（“ <code class="codeph">SYS</code> ”，“ <code class="codeph">SYSTEM</code> ”和RDBMS组件模式的<code class="codeph">as_of_timestamp</code> ）的统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071__GUID-8E18BABE-45B8-4D2C-9655-F4D4F2C345C4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESTORE_DICTIONARY_STATS（as_of_timestamp TIMESTAMP WITH TIME ZONE，强制BOOLEAN DEFAULT FALSE，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（GET_PARAM（'NO_INVALIDATE'）））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071__GUID-AD0A6C62-E7B0-43A6-8A6E-5AFEA57DCDA5">参数</p>
                        <div class="tblformal" id="GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071__GUID-3E687947-8A1A-462C-87CB-1D769F630851">
                           <p class="titleintable">表165-111 RESTORE_DICTIONARY_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESTORE_DICTIONARY_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.RESTORE_DICTIONARY_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e34947">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e34950">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34955" headers="d960973e34947 ">
                                       <p><code class="codeph">as_of_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34955 d960973e34950 ">
                                       <p>要恢复统计信息的时间戳</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34963" headers="d960973e34947 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34963 d960973e34950 ">
                                       <p>即使统计信息已锁定，也会恢复统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e34971" headers="d960973e34947 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e34971 d960973e34950 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071__GUID-7618AA56-EBCD-476A-B656-1571DB1488A9">使用说明</p>
                        <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12E7C906-6321-49B8-A5E6-B5F1C27D8071__GUID-798C6763-6C7B-44C9-961F-658E1FAAC741">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：值无效或不一致</p>
                        <p><code class="codeph">ORA-20006</code> ：无法恢复统计信息，统计信息历史记录不可用</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A927FF36-4A73-43BA-B638-6627779CFC52" name="GUID-A927FF36-4A73-43BA-B638-6627779CFC52"></a><h4 id="ARPLS-GUID-A927FF36-4A73-43BA-B638-6627779CFC52" class="sect4"><span class="enumeration_section">165.7.105</span> RESTORE_FIXED_OBJECTS_STATS程序</h4>
                  <div>
                     <p>此过程从指定的时间戳（ <code class="codeph">as_of_timestamp</code> ）恢复所有固定表的统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A927FF36-4A73-43BA-B638-6627779CFC52__GUID-54534DB0-863F-4395-B614-BCB068534B38">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESTORE_FIXED_OBJECTS_STATS（as_of_timestamp TIMESTAMP WITH TIME ZONE，强制BOOLEAN DEFAULT FALSE，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（GET_PARAM（'NO_INVALIDATE'）））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A927FF36-4A73-43BA-B638-6627779CFC52__GUID-FB510955-A24D-4B92-89F4-AEC059DDD28F">参数</p>
                        <div class="tblformal" id="GUID-A927FF36-4A73-43BA-B638-6627779CFC52__GUID-AAB8FC99-A372-4CDB-B889-65B982EC679F">
                           <p class="titleintable">表165-112 RESTORE_FIXED_OBJECTS_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESTORE_FIXED_OBJECTS_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.RESTORE_FIXED_OBJECTS_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e35173">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e35176">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35181" headers="d960973e35173 ">
                                       <p><code class="codeph">as_of_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35181 d960973e35176 ">
                                       <p>要恢复统计信息的时间戳</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35189" headers="d960973e35173 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35189 d960973e35176 ">
                                       <p>即使统计信息已锁定，也会恢复统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35197" headers="d960973e35173 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35197 d960973e35176 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A927FF36-4A73-43BA-B638-6627779CFC52__GUID-515DD30D-CA81-4769-92C7-395DBC60940D">使用说明</p>
                        <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A927FF36-4A73-43BA-B638-6627779CFC52__GUID-C285AC54-72AE-416E-A03F-A6357983E7CF">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：值无效或不一致</p>
                        <p><code class="codeph">ORA-20006</code> ：无法恢复统计信息，统计信息历史记录不可用</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7" name="GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7"></a><h4 id="ARPLS-GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7" class="sect4"><span class="enumeration_section">165.7.106</span> RESTORE_SCHEMA_STATS过程</h4>
                  <div>
                     <p>此过程将恢复指定时间戳（ <code class="codeph">as_of_timestamp</code> ）的架构的所有表的统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7__GUID-920FD80F-1DDD-4329-915D-7B16821C225C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESTORE_SCHEMA_STATS（ownname VARCHAR2，as_of_timestamp TIMESTAMP WITH TIME ZONE，强制BOOLEAN DEFAULT FALSE，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（GET_PARAM（'NO_INVALIDATE'）））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7__GUID-45505783-B632-484E-BDF4-45BD55B7726D">参数</p>
                        <div class="tblformal" id="GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7__GUID-217C212B-8109-4391-97BB-C01BEBCB1E9F">
                           <p class="titleintable">表165-113 RESTORE_SCHEMA_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESTORE_SCHEMA_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.RESTORE_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e35392">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e35395">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35400" headers="d960973e35392 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35400 d960973e35395 ">
                                       <p>要为其恢复统计信息的表的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35408" headers="d960973e35392 ">
                                       <p><code class="codeph">as_of_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35408 d960973e35395 ">
                                       <p>要恢复统计信息的时间戳</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35416" headers="d960973e35392 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35416 d960973e35395 ">
                                       <p>即使统计信息已锁定，也会恢复统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35424" headers="d960973e35392 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35424 d960973e35395 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7__GUID-16425C64-EF5B-4C0F-AD79-E8B2CA8E77BB">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：值无效或不一致</p>
                        <p><code class="codeph">ORA-20006</code> ：无法恢复统计信息，统计信息历史记录不可用</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7CFA0BD4-B303-4AB5-96C4-D549734148C7__GUID-C042B02E-97D8-4D32-BAC2-74841BA96C14">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49" name="GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49"></a><h4 id="ARPLS-GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49" class="sect4"><span class="enumeration_section">165.7.107</span> RESTORE_SYSTEM_STATS过程</h4>
                  <div>
                     <p>此过程从指定的时间戳（ <code class="codeph">as_of_timestamp</code> ）恢复系统统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49__GUID-C3F16F1C-8FAD-4BA8-BE39-D255BDBC75ED">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESTORE_SCHEMA_STATS（as_of_timestamp TIMESTAMP WITH TIME ZONE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49__GUID-4725C842-D4D2-48AA-90C8-AE5D12513F92">参数</p>
                        <div class="tblformal" id="GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49__GUID-04B47A98-6D87-4CE8-9356-C090C9E37791">
                           <p class="titleintable">表165-114 RESTORE_SYSTEM_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESTORE_SYSTEM_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.RESTORE_SYSTEM_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e35630">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e35633">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35638" headers="d960973e35630 ">
                                       <p><code class="codeph">as_of_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35638 d960973e35633 ">
                                       <p>要恢复统计信息的时间戳</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49__GUID-D39456AE-0732-45E2-AA65-7C915E24DE96">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：值无效或不一致</p>
                        <p><code class="codeph">ORA-20006</code> ：无法恢复统计信息，统计信息历史记录不可用</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB7A85EF-3A20-48D3-9291-ABFF70E60B49__GUID-2A35EB52-52A3-406F-9C5C-6E79EB2B8C45">使用说明</p>
                        <p>要运行此过程，您需要<code class="codeph">GATHER_SYSTEM_STATISTICS</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F" name="GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F"></a><h4 id="ARPLS-GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F" class="sect4"><span class="enumeration_section">165.7.108</span> RESTORE_TABLE_STATS过程</h4>
                  <div>
                     <p>此过程从指定的时间戳（ <code class="codeph">as_of_timestamp</code> ）恢复表的统计信息。它还恢复关联索引和列的统计信息。
                     </p>
                     <div class="section">
                        <p>如果表统计信息已锁定在指定的时间戳，则该过程将锁定统计信息。该过程不会还原用户定义的统计信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F__GUID-51B70089-3399-4961-B827-955FEE4EFF7A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.RESTORE_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，as_of_timestamp TIMESTAMP WITH TIME ZONE，restore_cluster_index BOOLEAN DEFAULT FALSE，强制BOOLEAN DEFAULT FALSE，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（GET_PARAM（'NO_INVALIDATE'）））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F__GUID-BC2B674A-07AB-4FBE-88E4-F77CED9A2E5A">参数</p>
                        <div class="tblformal" id="GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F__GUID-5DE04004-BC8B-41EC-B5D5-9DC89BD9CD6D">
                           <p class="titleintable">表165-115 RESTORE_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESTORE_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.RESTORE_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e35780">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e35783">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35788" headers="d960973e35780 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35788 d960973e35783 ">
                                       <p>要为其恢复统计信息的表的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35796" headers="d960973e35780 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35796 d960973e35783 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35804" headers="d960973e35780 ">
                                       <p><code class="codeph">as_of_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35804 d960973e35783 ">
                                       <p>要恢复统计信息的时间戳</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35812" headers="d960973e35780 ">
                                       <p><code class="codeph">restore_cluster_index</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35812 d960973e35783 ">
                                       <p>如果该表是群集的一部分，则如果设置为<code class="codeph">TRUE</code> ，则还原群集索引的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35822" headers="d960973e35780 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35822 d960973e35783 ">
                                       <p>即使表统计信息已锁定，也会恢复统计信息。如果表统计信息未锁定在指定的时间戳，则会解锁统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e35830" headers="d960973e35780 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e35830 d960973e35783 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F__GUID-5FA93CC2-0E65-4D9E-BC83-3C8ECA0E67D4">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：值无效或不一致</p>
                        <p><code class="codeph">ORA-20006</code> ：无法恢复统计信息，统计信息历史记录不可用</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAF4653C-2C8F-462E-9509-6BA3E6AE768F__GUID-3EF9EF1D-FEF0-4CDC-8097-6B0A49DE5506">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B7A36011-D795-458B-9A2B-930491111D8E" name="GUID-B7A36011-D795-458B-9A2B-930491111D8E"></a><h4 id="ARPLS-GUID-B7A36011-D795-458B-9A2B-930491111D8E" class="sect4"><span class="enumeration_section">165.7.109</span> RESUME_ADVISOR_TASK程序</h4>
                  <div>
                     <p>此过程恢复中断的任务。它只恢复最近中断的执行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B7A36011-D795-458B-9A2B-930491111D8E__GUID-2E62E4D7-1D47-4898-98F1-1208B60F70A4">句法</p><pre class="pre codeblock"><code>DBMS_STATS.RESUME_ADVISOR_TASK（task_name IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B7A36011-D795-458B-9A2B-930491111D8E__GUID-BA6D30FB-CC0D-4187-A7AF-65A28D2FE41A">参数</p>
                        <div class="tblformal" id="GUID-B7A36011-D795-458B-9A2B-930491111D8E__GUID-55DD301F-7646-475A-B941-BC76D12AA9DC">
                           <p class="titleintable">表165-116 RESUME_ADVISOR_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESUME_ADVISOR_TASK过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.RESUME_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e36032">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e36035">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36040" headers="d960973e36032 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36040 d960973e36035 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B7A36011-D795-458B-9A2B-930491111D8E__GUID-3E284703-49DC-4275-A919-525C0C7AEC6D">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                        <p>考虑一个任务由一个用户执行，中断，然后由另一个用户恢复的情况。在这种情况下，Optimizer Statistics Advisor将恢复执行的检查基于恢复任务的用户的权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B7A36011-D795-458B-9A2B-930491111D8E__GUID-9AB82DBD-B123-4A7E-B8BA-AD28235E378D">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B7A36011-D795-458B-9A2B-930491111D8E__GUID-C344D430-EFB7-4EE4-9196-CE7F61C45DC3">
                        <p class="titleinexample">示例165-14恢复中断的任务</p>
                        <p>在此示例中，您启动SQL * Plus会话，然后创建并执行名为<code class="codeph">my_task</code>的顾问程序任务：</p><pre class="pre codeblock"><code>DECLARE v_tname VARCHAR2（128）：='my_task'; v_ename VARCHAR2（128）：= NULL; BEGIN  - 创建任务v_tname：= DBMS_STATS.CREATE_ADVISOR_TASK（v_tname）; - 执行任务v_ename：= DBMS_STATS.EXECUTE_ADVISOR_TASK（v_tname）;结束; /</code></pre><p>在单独的终端中，启动第二个SQL * Plus会话，然后执行以下程序：</p><pre class="pre codeblock"><code>XEC DBMS_STATS.INTERRUPT_ADVISOR_TASK（'my_task'）;</code></pre><p>第一个会话返回<code class="codeph">ORA-13632</code>以指示取消任务：</p><pre class="pre codeblock"><code>ORA-13638：用户中断了当前操作。</code></pre><p>在第二个SQL * Plus会话中，您将按如下方式恢复任务执行：</p><pre class="pre codeblock"><code>XEC DBMS_STATS.RESUME_ADVISOR_TASK（'my_task'）;</code></pre><div class="See Also" id="GUID-B7A36011-D795-458B-9A2B-930491111D8E__GUID-7E0E819E-AD81-48B9-A7C5-6A4FD7D4ED1C">
                           <p class="notep1">注意：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-884B1285-E212-4C6A-864C-D4881B237356" name="GUID-884B1285-E212-4C6A-864C-D4881B237356"></a><h4 id="ARPLS-GUID-884B1285-E212-4C6A-864C-D4881B237356" class="sect4"><span class="enumeration_section">165.7.110</span> SCRIPT_ADVISOR_TASK功能</h4>
                  <div>
                     <p>检索实现针对Optimizer Statistics Advisor发现的问题的建议操作的脚本。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-D645B1E9-555D-4A2F-A7CC-D5B857E22497"></p>
                        <p>生成的脚本包含可以选择执行的PL / SQL语句。在每个动作之前的命令是列出潜在副作用的注释。您可以查看注释，并选择仅执行所需的部分。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-8EE2C1F1-E8E1-4DDE-87D5-D13A182780EE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SCRIPT_ADVISOR_TASK（task_name IN VARCHAR2，execution_name IN VARCHAR2：= NULL，dir_name IN VARCHAR2：= NULL，level IN VARCHAR2：='TYPICAL'）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-5CEA1157-14DE-4F4D-8E03-B36AC6B02467">参数</p>
                        <div class="tblformal" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-434A0A7A-52E9-4DC1-A93A-306D33A0550A">
                           <p class="titleintable">表165-117 SCRIPT_ADVISOR_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SCRIPT_ADVISOR_TASK函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.SCRIPT_ADVISOR_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e36229">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e36232">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36237" headers="d960973e36229 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36237 d960973e36232 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36245" headers="d960973e36229 ">
                                       <p><code class="codeph">execution_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36245 d960973e36232 ">
                                       <p>用于限定和标识顾问程序执行的名称。如果未指定，则顾问程序会自动生成它。</p>
                                       <p>如果指定的执行与现有执行的名称冲突，则该函数返回错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36255" headers="d960973e36229 ">
                                       <p><code class="codeph">DIR_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36255 d960973e36232 ">
                                       <p>要写入生成的脚本的目录名称。如果未指定名称（NULL），则该函数在返回的CLOB中包含脚本。如果指定了名称，则该函数将脚本作为CLOB和指定目录中的新文件返回。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36263" headers="d960973e36229 ">
                                       <p><code class="codeph">水平</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36263 d960973e36232 ">
                                       <p>要生成的脚本级别。可能的值是</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ALL</code> ：忽略过滤器并为所有结果生成脚本</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：根据过滤器生成脚本</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-D8C6A07E-8A4B-4942-B239-1F98775134ED">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>您可以为<code class="codeph">AUTO_STATS_ADVISOR_TASK</code>执行此子程序，该子程序是预定义的。
                              </p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                        <p>执行此任务的结果取决于正在执行的用户的权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SYSTEM</code>级别</p>
                              <p>只有具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户才能在系统级规则上执行此任务。
                              </p>
                           </li>
                           <li>
                              <p>操作级别</p>
                              <p>结果取决于以下特权：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>和<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以为所有统计操作执行此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户可以执行与除<code class="codeph">SYS</code>之外的任何模式相关的统计操作的此任务。</p>
                                 </li>
                                 <li>
                                    <p>具有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限但<span class="italic">不</span>具有<code class="codeph">ANALYZE ANY</code>权限的用户可以执行与其自己的架构和<code class="codeph">SYS</code>架构相关的统计操作的此任务。
                                    </p>
                                 </li>
                                 <li>
                                    <p>既没有<code class="codeph">ANALYZE ANY</code>也没有<code class="codeph">ANALYZE ANY DICTIONARY</code>权限的用户只能对与其自己的架构相关的统计操作执行此操作。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>对象级别</p>
                              <p>用户可以为具有统计信息收集权限的任何对象执行此任务。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-895DA4D2-0734-42F9-9AA6-C57905785727">返回值</p>
                        <p>此函数返回包含脚本的CLOB。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-29E1556C-EC79-476D-9B08-DA909101D741">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-331E87F0-4B04-4F80-A7CB-CD6125BE13E4">
                        <p class="titleinexample">示例165-15创建Optimizer Statistics Advisor脚本</p>
                        <p>此示例创建名为<code class="codeph">myrep</code>的过程，然后调用此过程以打印实现建议的脚本。
                        </p><pre class="pre codeblock"><code>在SET SERVEROUTPUT上设置反馈设置设置TRIRS ON SET LINESIZE 300 EXECUTE DBMS_OUTPUT.ENABLE（buffer_size =&gt; 10000000）;创建或替换过程myrep（p_tname VARCHAR2，p_ftype VARCHAR2，其中VARCHAR2）是v_report CLOB：= null; v_script CLOB：= null; v_ftype VARCHAR2（400）：= p_ftype; v_tname VARCHAR2（400）：= p_tname; v_len NUMBER（10）; v_ps NUMBER（10）：= 10000; v_pn NUMBER（10）：= 1; v_ret VARCHAR2（32767）; BEGIN IF ='REPORT'那么 - 生成报告v_report：= DBMS_STATS.REPORT_ADVISOR_TASK（task_name =&gt; v_tname，type =&gt; v_ftype，section =&gt;'ALL'，level =&gt;'ALL'）; v_len：= DBMS_LOB.getlength（v_report）; WHILE（v_pn &lt;v_len）LOOP DBMS_OUTPUT.PUT_LINE（DBMS_LOB.SUBSTR（v_report，v_ps，v_pn））; v_pn：= v_pn + v_ps;结束循环; ELSE  - 生成脚本v_script：= DBMS_STATS.SCRIPT_ADVISOR_TASK（v_tname）; v_len：= DBMS_LOB.getlength（v_script）; WHILE（v_pn &lt;v_len）LOOP DBMS_OUTPUT.PUT_LINE（DBMS_LOB.SUBSTR（v_script，v_ps，v_pn））; v_pn：= v_pn + v_ps;结束循环;万一;结束; / SHOW ERRORS SPOOL report.txt EXECUTE myrep（'my_task'，' - '，'SCRIPT'）; SPOOL OFF</code></pre><div class="infoboxnotealso" id="GUID-884B1285-E212-4C6A-864C-D4881B237356__GUID-E6FD38EA-3819-4226-83FF-48942AA01B2B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E1A288AB-A057-478E-865A-A84766DD470A" name="GUID-E1A288AB-A057-478E-865A-A84766DD470A"></a><h4 id="ARPLS-GUID-E1A288AB-A057-478E-865A-A84766DD470A" class="sect4"><span class="enumeration_section">165.7.111</span> SEED_COL_USAGE程序</h4>
                  <div>
                     <p>此过程从指定的SQL调优集或数据库中的语句中查找列使用信息。</p>
                     <div class="section">
                        <p>该过程迭代SQL语句，编译它们，然后为这些语句中出现的列播种列使用信息。您可以在给定的时间内监视系统上的工作负载，并根据监视窗口期间执行的语句中出现的列对种子使用信息进行播种和播种。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E1A288AB-A057-478E-865A-A84766DD470A__GUID-3DC397AC-982E-4BA5-B13C-62D24CC57B37">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SEED_COL_USAGE（sqlset_name IN VARCHAR2，owner_name IN VARCHAR2，time_limit IN POSITIVE DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E1A288AB-A057-478E-865A-A84766DD470A__GUID-964AA6E0-B089-43E7-94B6-8EDEBE59A310">参数</p>
                        <div class="tblformal" id="GUID-E1A288AB-A057-478E-865A-A84766DD470A__GUID-DD23CE73-6E8A-4367-9C03-9DABE86EAB11">
                           <p class="titleintable">表165-118 SEED_COL_USAGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEED_COL_USAGE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SEED_COL_USAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e36530">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e36533">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e36538" headers="d960973e36530 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e36538 d960973e36533 ">
                                       <p>包含要监视的语句的SQL调整集的名称。</p>
                                       <p>如果此参数和<code class="codeph">owner_name</code>都为null，则过程将监视数据库中所有语句的指定时间限制。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e36551" headers="d960973e36530 ">
                                       <p><code class="codeph">OWNER_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e36551 d960973e36533 ">
                                       <p>SQL调优集的所有者，其中包含要监视的语句。</p>
                                       <p>如果此参数和<code class="codeph">sqlset_name</code>都为null，则过程将监视数据库中的所有语句达到指定的时间限制。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e36564" headers="d960973e36530 ">
                                       <p><code class="codeph">时限</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e36564 d960973e36533 ">
                                       <p>时间限制（以秒为单位）。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E1A288AB-A057-478E-865A-A84766DD470A__GUID-9BD793A0-668C-44DF-B79A-3F292FC0D3F7">安全模型</p>
                        <p>要调用此过程，您必须具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E1A288AB-A057-478E-865A-A84766DD470A__GUID-F698021B-11A6-4D7C-B6E2-E5AAF8D0D03C">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E1A288AB-A057-478E-865A-A84766DD470A__GUID-C28159C4-F64B-46CC-BB64-B12DE63693A2">使用说明</p>
                        <p>此过程还记录了一组列。您可以使用<a href="DBMS_STATS.html#GUID-69DB77A6-D13A-49C8-A2B7-4DBAEE62557F" title="此函数在系统中为用户指定的列组或表中的表达式创建列统计信息条目。">CREATE_EXTENDED_STATS函数</a>过程为记录的列组创建扩展。如果<code class="codeph">sqlset_name</code>和<code class="codeph">owner_name</code>为<code class="codeph">NULL</code> ，则该过程将在<code class="codeph">time_limit</code>秒内记录系统中执行的语句的列（组）用法信息。
                        </p>
                        <p>此监视过程记录了<code class="codeph">SYS.COL_USAGE$</code>可见的传统列使用信息的不同信息。该过程将信息存储在<code class="codeph">SYS.COL_GROUP_USAGE$</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E1A288AB-A057-478E-865A-A84766DD470A__GUID-1065FB44-2D9C-4AA0-82CC-E4B05DB05AFF">例子</p>
                        <p>以下示例将打开监视5分钟或300秒。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_STATS.SEED_COL_USAGE（null，null，300）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53" name="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53"></a><h4 id="ARPLS-GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53" class="sect4"><span class="enumeration_section">165.7.112</span> SET_ADVISOR_TASK_PARAMETER过程</h4>
                  <div>
                     <p>此过程将更新Optimizer Statistics Advisor任务参数的值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53__GUID-F2FB0F02-165C-45A6-AD16-428890AFFFDC">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_ADVISOR_TASK_PARAMETER（task_name IN VARCHAR2，参数IN VARCHAR2，值IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53__GUID-3B362045-D250-4412-8933-CA3DC883C2EF">参数</p>
                        <div class="tblformal" id="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53__GUID-9774D081-FE5E-4832-8529-E040DB49DB0B">
                           <p class="titleintable">表165-119 SET_ADVISOR_TASK_PARAMETER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ADVISOR_TASK_PARAMETER过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_STATS.SET_ADVISOR_TASK_PARAMETER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e36743">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e36746">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36751" headers="d960973e36743 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36751 d960973e36746 ">
                                       <p>Optimizer Statistics Advisor任务的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36759" headers="d960973e36743 ">
                                       <p><code class="codeph">参数</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36759 d960973e36746 ">
                                       <p>要设置的参数的名称。如果指定的参数不存在，则该函数返回错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e36767" headers="d960973e36743 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e36767 d960973e36746 ">
                                       <p>参数的新值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53__GUID-5254F08D-16D3-4AE9-A76C-9D94BC52FAE5">安全模型</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要执行此子程序，您必须具有<code class="codeph">ADVISOR</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>您必须是该任务的所有者。</p>
                           </li>
                           <li>
                              <p>该子程序使用调用者的权限执行。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53__GUID-7EF5601E-AD62-41F8-8DB3-78FDA51825ED">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-20012</code> ：优化程序统计顾问错误</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-975F9280-3F3B-4A44-A3E5-E30B3BC90E53__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/optimizer-statistics-advisor.html#GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何管理Optimizer Statistics Advisor</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27" name="GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27"></a><h4 id="ARPLS-GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27" class="sect4"><span class="enumeration_section">165.7.113</span> SET_COLUMN_STATS程序</h4>
                  <div>
                     <p>此过程设置与列相关的信息。</p>
                     <div class="section">
                        <p>在处理用户定义的统计信息的此过程的版本中，除了实际的用户定义统计信息之外，指定的统计信息类型是要存储在字典中的类型。如果此统计信息类型为<code class="codeph">NULL</code> ，则存储与索引或列关联的统计信息类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27__GUID-6C98A895-5EF9-4A40-9641-CAB3B1F7C775">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_COLUMN_STATS（拥有名称VARCHAR2，tabname VARCHAR2，colname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，distcnt NUMBER DEFAULT NULL，密度NUMBER DEFAULT NULL，nullcnt NUMBER DEFAULT NULL，srec StatRec DEFAULT NULL，avgclen NUMBER DEFAULT NULL，标志NUMBER DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</pre><p>将以下内容用于用户定义的统计信息：</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_COLUMN_STATS（拥有名称VARCHAR2，tabname VARCHAR2，colname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，ext_stats RAW，stattypown VARCHAR2 DEFAULT NULL，stattypname VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type （get_param（'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27__GUID-CF7A5598-F8B3-4A4A-BBBF-6C3A5AE26507">参数</p>
                        <div class="tblformal" id="GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27__GUID-CA3A2F3D-924B-40A5-A8F4-EEF7F3BA2F59">
                           <p class="titleintable">表165-120 SET_COLUMN_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_COLUMN_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_COLUMN_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e36936">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e36939">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e36944" headers="d960973e36936 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e36944 d960973e36939 ">
                                       <p>架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e36952" headers="d960973e36936 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e36952 d960973e36939 ">
                                       <p>此列所属的表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e36960" headers="d960973e36936 ">
                                       <p><code class="codeph">colname的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e36960 d960973e36939 ">
                                       <p>列或扩展名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e36968" headers="d960973e36936 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e36968 d960973e36939 ">
                                       <p>用于存储统计信息的表分区的名称。如果表已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则统计信息将存储在全局表级别。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e36982" headers="d960973e36936 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e36982 d960973e36939 ">
                                       <p>用户统计信息表标识符，描述存储统计信息的位置如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则统计信息将直接存储在字典中。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e36996" headers="d960973e36936 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e36996 d960973e36939 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）（仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时才相关）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37013" headers="d960973e36936 ">
                                       <p><code class="codeph">ext_stats</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37013 d960973e36939 ">
                                       <p>用户定义的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37021" headers="d960973e36936 ">
                                       <p><code class="codeph">stattypown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37021 d960973e36939 ">
                                       <p>统计类型的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37029" headers="d960973e36936 ">
                                       <p><code class="codeph">stattypname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37029 d960973e36939 ">
                                       <p>统计类型的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37037" headers="d960973e36936 ">
                                       <p><code class="codeph">distcnt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37037 d960973e36939 ">
                                       <p>不同值的数量</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37045" headers="d960973e36936 ">
                                       <p><code class="codeph">密度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37045 d960973e36939 ">
                                       <p>柱密度。如果此值为<code class="codeph">NULL</code>并且<code class="codeph">distcnt</code>不为<code class="codeph">NULL</code> ，则密度从<code class="codeph">distcnt</code>派生。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37066" headers="d960973e36936 ">
                                       <p><code class="codeph">nullcnt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37066 d960973e36939 ">
                                       <p><code class="codeph">NULLs</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37076" headers="d960973e36936 ">
                                       <p><code class="codeph">SREC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37076 d960973e36939 ">
                                       <p>通过调用<code class="codeph">PREPARE_COLUMN_VALUES</code>或<code class="codeph">GET_COLUMN_STATS</code>填充<code class="codeph">StatRec</code>结构</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37091" headers="d960973e36936 ">
                                       <p><code class="codeph">avgclen</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37091 d960973e36939 ">
                                       <p>列的平均长度（以字节为单位）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37099" headers="d960973e36936 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37099 d960973e36939 ">
                                       <p>对于内部Oracle使用（应保留为<code class="codeph">NULL</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37110" headers="d960973e36936 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37110 d960973e36939 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37124" headers="d960973e36936 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37124 d960973e36939 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e37179" headers="d960973e36936 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e37179 d960973e36939 ">
                                       <p>即使列的统计信息被锁定，也要设置值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27__GUID-436B9DD2-68FE-4B56-A59F-C56D23AE0D29">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或不一致</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F2B76946-0641-4514-B79D-DE5BC53C7C27__GUID-7ABD4053-021F-410C-9607-2C02E5425B93">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" name="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2"></a><h4 id="ARPLS-GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" class="sect4"><span class="enumeration_section">165.7.114</span> SET_DATABASE_PREFS过程</h4>
                  <div>
                     <p>此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为<code class="codeph">add_sys</code>参数传递<code class="codeph">TRUE</code>来包含这些表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-7103D356-EA7F-4D45-8B41-40D417316C8A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_DATABASE_PREFS（pname IN VARCHAR2，pvalue IN VARCHAR2，add_sys IN BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-E05981E8-10A2-458A-A623-8DDEFD8E26C3">参数</p>
                        <div class="tblformal" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-9F561D7F-B52D-4A6A-AC2D-93085C756C17">
                           <p class="titleintable">表165-121 SET_DATABASE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_DATABASE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_SCHEMA_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e37340">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e37343">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e37348" headers="d960973e37340 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e37348 d960973e37343 ">
                                       <p>偏好名称。可以删除以下首选项的现有值，并使用默认首选项值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STAT_CATEGORY</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e37430" headers="d960973e37340 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e37430 d960973e37343 ">
                                       <p>偏好值。如果指定<code class="codeph">NULL</code> ，则将设置Oracle默认值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e37441" headers="d960973e37340 ">
                                       <p><code class="codeph">add_sys</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e37441 d960973e37343 ">
                                       <p>值<code class="codeph">TRUE</code>将包括Oracle拥有的表</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-9F6A34F0-B4AD-4F61-80B2-C73FA10669E1">
                           <p class="titleintable">表165-122统计信息首选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="统计偏好" border="1" summary="This table describes the preferences that you can set." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e37461">偏爱</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e37463">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37467" headers="d960973e37461 ">
                                       <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37467 d960973e37463 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以指定以下首选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。当现有性能可接受时，此方法很有吸引力，并且您不希望产生重新格式化旧内容的性能成本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。这是最保守的选择。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。与动态采样相比，HyperLogLog算法使用随机化技术。HyperLogLog优于自适应采样的优点是：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>新算法的准确性与原算法类似。</p>
                                                </li>
                                                <li>
                                                   <p>所需的内存显着降低，这通常会导致概要大小的大幅减少。</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37506" headers="d960973e37461 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37506 d960973e37463 ">
                                       <p>在收集数据库统计信息时控制自动创建扩展。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 如果适用，SQL计划指令可以根据工作负载中谓词中列的使用情况触发列组统计信息的创建。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 数据库不会自动创建列组统计信息。只有在执行<code class="codeph">CREATE_EXTENDED_STATS</code>函数时，或者在<code class="codeph">DBMS_STATS</code>的<code class="codeph">METHOD_OPT</code>子句中明确指定了扩展统计信息时，数据库才会创建它们。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37536" headers="d960973e37461 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37536 d960973e37463 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37544" headers="d960973e37461 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37544 d960973e37463 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37552" headers="d960973e37461 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37552 d960973e37463 ">
                                       <p>确定要采样的行的百分比。</p>
                                       <p>有效范围介于0.000001和100之间。使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>使数据库能够确定适当的样本大小以获得最佳统计信息。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37565" headers="d960973e37461 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37565 d960973e37463 ">
                                       <p>控制是否应将为全局临时表收集的统计信息存储为共享统计信息或会话统计信息。此首选项有两个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SHARED</code> - 所有会话都看到同一组统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SESSION</code> - <code class="codeph">GATHER_TABLE_STATS</code>过程在全局临时表上收集的统计信息是特定于会话的。因此，数据库仅将它们用于与统计信息收集过程在同一会话中发出的查询。会话终止时，数据库会删除特定于会话的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37587" headers="d960973e37461 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37587 d960973e37463 ">
                                       <p>确定要收集的统计信息的粒度。此首选项仅与分区表相关。</p>
                                       <p>以下值有效：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ALL</code> - 收集所有统计信息：子分区，分区和全局。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO</code> - 根据分区类型确定粒度。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。使用<code class="codeph">GLOBAL AND PARTITION</code>来实现此功能。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL</code> - 收集全球统计数据。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL AND PARTITION</code> - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SUBPARTITION</code> - 收集子分区级统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37636" headers="d960973e37461 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37636 d960973e37463 ">
                                       <p>确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。</p>
                                       <p>对表进行分区时，应用程序通常会将数据加载到新分区中。随着新分区的添加和数据的加载，全局表统计信息必须保持最新。如果满足以下条件，则数据库通过仅扫描已更改的分区而不是整个表来更新全局表统计信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">TRUE</code> 。</p>
                                          </li>
                                          <li>
                                             <p>分区表的<code class="codeph">PUBLISH</code>值设置为<code class="codeph">TRUE</code> 。</p>
                                          </li>
                                          <li>
                                             <p>用户指定<code class="codeph">AUTO_SAMPLE_SIZE</code>为<code class="codeph">ESTIMATE_PERCENT</code>和<code class="codeph">AUTO</code>用于<code class="codeph">GRANULARITY</code>收集表的统计信息时。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>如果分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">FALSE</code> （默认值），则数据库使用全表扫描来维护全局统计信息。对于大型表，此技术是一种更加资源密集且耗时的操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37688" headers="d960973e37461 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37688 d960973e37463 ">
                                       <p>控制当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时要收集的<code class="codeph">INCREMENTAL</code> 。它采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级别的提要。
                                             </p>
                                             <p>这是默认值。如果在非分区表上设置<code class="codeph">PARTITION</code> ，则数据库不会收集概要。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE</code> - 收集表级别概要。
                                             </p>
                                             <p>如果要将此表与分区交换，请指定此值。在交换之前，您可以在此表上运行<code class="codeph">GATHER_TABLE_STATS</code> ，其中<code class="codeph">INCREMENTAL</code>设置为<code class="codeph">TRUE</code> ， <code class="codeph">INCREMENTAL_LEVEL</code>设置为<code class="codeph">TABLE</code> 。结果是数据库在此表上收集表级别的概要。在交换之后，分区具有来自交换之前表的表级概要的概要。您只能在<code class="codeph">SET_TABLE_PREFS</code>过程中使用首选项值：其他<code class="codeph">SET_ <span class="codeinlineitalic">*</span> _PREFS</code>过程中不允许使用此值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37745" headers="d960973e37461 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37745 d960973e37463 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT,USE_LOCKED_STATS,ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>允许共存采样概要和HyperLogLog概要共存。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）;</code></pre><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37855" headers="d960973e37461 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37855 d960973e37463 ">
                                       <p>控制列统计信息收集和直方图创建。在全局，模式，数据库或字典级别设置首选项时，仅允许<code class="codeph">FOR ALL</code>语法：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">integer</code> - 指定直方图桶的数量。数字必须介于1到2048之间。
                                          </li>
                                          <li><code class="codeph">REPEAT</code> - 仅在已有直方图的列上收集直方图。
                                          </li>
                                          <li><code class="codeph">AUTO</code> - 根据数据分布和列的工作负载确定要收集直方图的列。
                                          </li>
                                          <li><code class="codeph">SKEWONLY</code> - 根据列的数据分布确定要收集直方图的列。
                                          </li>
                                       </ul>
                                       <p>默认为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改该值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37934" headers="d960973e37461 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37934 d960973e37463 ">
                                       <p>控制正在为其收集统计信息的表的从属游标的失效。默认值为<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code> ，这意味着数据库决定何时使相关游标无效。
                                       </p>
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则数据库不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37953" headers="d960973e37461 ">
                                       <p><code class="codeph">OPTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37953 d960973e37463 ">
                                       <p>指定哪些对象需要收集统计信息。有效值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集数据库中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。这是默认值。
                                             </p>
                                             <p id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__d5e1093">数据库隐式确定哪些对象需要新的统计信息，并确定如何收集这些统计信息。指定<code class="codeph">GATHER AUTO</code> ，唯一的附加有效参数是<code class="codeph">comp_id</code> ， <code class="codeph">no_invalidate</code> ， <code class="codeph">stattab</code> ， <code class="codeph">statid</code>和<code class="codeph">statown</code> ;所有其他参数设置将被忽略。此外，数据库返回已处理对象的列表。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e37993" headers="d960973e37461 ">
                                       <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e37993 d960973e37463 ">
                                       <p>确定是否使用该参数的首选项值覆盖参数的输入值以进行统计操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略输入参数值，并使用相应首选项的值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -  Obeys输入参数值。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>指定此首选项不会更改table，global和default的优先顺序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38014" headers="d960973e37461 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38014 d960973e37463 ">
                                       <p>确定数据库是否在收集作业完成后发布新收集的统计信息。</p>
                                       <p>您可以收集统计信息而无需立即发布。此技术使您可以在发布之前测试新统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38024" headers="d960973e37461 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38024 d960973e37463 ">
                                       <p>确定表中的行的百分比，该表必须在该表上的统计信息过时且需要恢复之前更改。</p>
                                       <p><code class="codeph">stale_percent</code>的有效域是非负数。默认值为<code class="codeph">10</code> ，这意味着具有超过10％更改的表被视为过时。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38040" headers="d960973e37461 ">
                                       <p><code class="codeph">STAT_CATEGORY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38040 d960973e37463 ">
                                       <p>指定要导入或导出的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>值<code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38064" headers="d960973e37461 ">
                                       <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38064 d960973e37463 ">
                                       <p>指定在计算索引聚类因子时假定缓存在缓冲区高速缓存中的平均块数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-B7A6BD69-9EF3-4E94-88AD-2B95718D6A1B">安全模型</p>
                        <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>角色或同时具有<code class="codeph">ANALYZE ANY DICTIONARY</code>和<code class="codeph">ANALYZE ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-3834C733-DE84-4BD7-A135-B16C70D3529E">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-2EFF90D2-48F3-4F9A-AE25-6B2E97EF0199">使用说明</p>
                        <p>两个参数都是<code class="codeph">VARCHAR2</code>类型，并且值用引号括起来，即使它们代表数字也是如此。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-6C982627-928E-4779-BD99-CD5DE57ABF2D">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_DATABASE_PREFS（'CASCADE'，'DBMS_STATS.AUTO_CASCADE'）; DBMS_STATS.SET_DATABASE_PREFS（ 'ESTIMATE_PERCENT'， '9'）; DBMS_STATS.SET_DATABASE_PREFS（ '度'， '99'）;</pre><div class="infoboxnotealso" id="GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/options-for-optimizer-statistics-gathering.html#GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何设置优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" name="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13"></a><h4 id="ARPLS-GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" class="sect4"><span class="enumeration_section">165.7.115</span> SET_GLOBAL_PREFS过程</h4>
                  <div>
                     <p>此过程在全局级别设置统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-082E8317-20AC-4A90-8536-74F575AC0E61">句法</p><pre class="pre codeblock"><code>DBMS_STATS.SET_GLOBAL_PREFS（pname IN VARCHAR2，pvalue IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-D46389F9-4CB2-4621-A2D0-1C9B27DA17D9">参数</p>
                        <div class="tblformal" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-F7D9BAAE-A541-4411-9831-48FA84EE5798">
                           <p class="titleintable">表165-123 SET_GLOBAL_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_GLOBAL_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_GLOBAL_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e38223">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e38226">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e38231" headers="d960973e38223 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e38231 d960973e38226 ">
                                       <p>偏好名称。可以设置以下首选项的默认值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_TASK_STATUS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_TASK_MAX_RUN_TIME</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_TASK_INTERVAL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTOSTATS_TARGET</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">同时</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STAT_CATEGORY</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">WAIT_TIME_TO_UPDATE_STATS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e38338" headers="d960973e38223 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e38338 d960973e38226 ">
                                       <p>偏好值。如果指定<code class="codeph">NULL</code> ，则将设置Oracle默认值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-638ECF6C-E0A4-4E31-9763-31964E9F8557">
                           <p class="titleintable">表165-124全局统计信息首选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="全球统计偏好" border="1" summary="This table describes the global statistics preferences that you can set." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e38358">偏爱</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e38360">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38364" headers="d960973e38358 ">
                                       <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38364 d960973e38360 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以指定以下首选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。当现有性能可接受时，此方法很有吸引力，并且您不希望产生重新格式化旧内容的性能成本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。这是最保守的选择。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。与动态采样相比，HyperLogLog算法使用随机化技术。HyperLogLog优于自适应采样的优点是：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>新算法的准确性与原算法类似。</p>
                                                </li>
                                                <li>
                                                   <p>所需的内存显着降低，这通常会导致概要大小的大幅减少。</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38403" headers="d960973e38358 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38403 d960973e38360 ">
                                       <p>在收集数据库统计信息时控制自动创建扩展。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 如果适用，SQL计划指令可以根据工作负载中谓词中列的使用情况触发列组统计信息的创建。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 数据库不会自动创建列组统计信息。只有在执行<code class="codeph">CREATE_EXTENDED_STATS</code>函数时，或者在<code class="codeph">DBMS_STATS</code>的<code class="codeph">METHOD_OPT</code>子句中明确指定了扩展统计信息时，数据库才会创建它们。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38433" headers="d960973e38358 ">
                                       <p><code class="codeph">AUTO_TASK_STATUS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38433 d960973e38360 ">
                                       <p>启用或禁用<span>高频自动优化程序统计信息收集</span> 。价值观是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 启用<span>高频自动优化器统计信息收集</span> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 禁用<span>高频自动优化器统计信息收集</span> 。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38461" headers="d960973e38358 ">
                                       <p><code class="codeph">AUTO_TASK_MAX_RUN_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38461 d960973e38360 ">
                                       <p>配置执行<span>高频自动优化器统计信息收集</span>的最长运行时间（以秒为单位）。最大值为<code class="codeph">3600</code> （等于1小时），这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38475" headers="d960973e38358 ">
                                       <p><code class="codeph">AUTO_TASK_INTERVAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38475 d960973e38360 ">
                                       <p>指定执行<span>高频自动优化程序统计信息收集</span>之间的间隔（秒）。最小值为<code class="codeph">60</code> 。默认值为<code class="codeph">900</code> （等于15分钟）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38492" headers="d960973e38358 ">
                                       <p><code class="codeph">AUTOSTATS_TARGET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38492 d960973e38360 ">
                                       <p>控制为统计信息收集考虑的对象。它采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'ALL'</code> - 为系统中的所有对象收集的统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'ORACLE'</code> - 为所有Oracle拥有的对象收集的统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'AUTO'</code> -  Oracle决定收集统计信息的对象</p>
                                          </li>
                                       </ul>
                                       <p>此首选项仅适用于自动统计信息收集。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38518" headers="d960973e38358 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38518 d960973e38360 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38526" headers="d960973e38358 ">
                                       <p><code class="codeph">同时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38526 d960973e38360 ">
                                       <p>确定是在多个对象上同时收集统计信息，还是一次串行收集一个对象。有效值为：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">MANUAL</code> - 仅对手动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTOMATIC</code> - 仅为自动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> - 为手动和自动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 手动和自动统计信息均禁用并发。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38555" headers="d960973e38358 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38555 d960973e38360 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38563" headers="d960973e38358 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38563 d960973e38360 ">
                                       <p>确定要采样的行的百分比。</p>
                                       <p>有效范围介于0.000001和100之间。使用常量<code class="codeph">DBMS_STATS.AUTO_SAMPLE_SIZE</code>使数据库能够确定适当的样本大小以获得最佳统计信息。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38576" headers="d960973e38358 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38576 d960973e38360 ">
                                       <p>控制是否应将为全局临时表收集的统计信息存储为共享统计信息或会话统计信息。此首选项有两个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SHARED</code> - 所有会话都看到同一组统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SESSION</code> - <code class="codeph">GATHER_TABLE_STATS</code>过程在全局临时表上收集的统计信息是特定于会话的。因此，数据库仅将它们用于与统计信息收集过程在同一会话中发出的查询。会话终止时，数据库会删除特定于会话的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38599" headers="d960973e38358 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38599 d960973e38360 ">
                                       <p>确定要收集的统计信息的粒度。此首选项仅与分区表相关。</p>
                                       <p>以下值有效：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ALL</code> - 收集所有统计信息：子分区，分区和全局。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO</code> - 根据分区类型确定粒度。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。使用<code class="codeph">GLOBAL AND PARTITION</code>来实现此功能。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL</code> - 收集全球统计数据。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL AND PARTITION</code> - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SUBPARTITION</code> - 收集子分区级统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38648" headers="d960973e38358 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38648 d960973e38360 ">
                                       <p>确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。</p>
                                       <p>对表进行分区时，应用程序通常会将数据加载到新分区中。随着新分区的添加和数据的加载，全局表统计信息必须保持最新。如果满足以下条件，则数据库通过仅扫描已更改的分区而不是整个表来更新全局表统计信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">TRUE</code> 。</p>
                                          </li>
                                          <li>
                                             <p>分区表的<code class="codeph">PUBLISH</code>值设置为<code class="codeph">TRUE</code> 。</p>
                                          </li>
                                          <li>
                                             <p>用户指定<code class="codeph">AUTO_SAMPLE_SIZE</code>为<code class="codeph">ESTIMATE_PERCENT</code>和<code class="codeph">AUTO</code>用于<code class="codeph">GRANULARITY</code>收集表的统计信息时。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>如果分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">FALSE</code> （默认值），则数据库使用全表扫描来维护全局统计信息。对于大型表，此技术是一种更加资源密集且耗时的操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38700" headers="d960973e38358 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38700 d960973e38360 ">
                                       <p>控制当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时要收集的<code class="codeph">INCREMENTAL</code> 。它采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级别的提要。
                                             </p>
                                             <p>这是默认值。如果在非分区表上设置<code class="codeph">PARTITION</code> ，则数据库不会收集概要。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE</code> - 收集表级别概要。
                                             </p>
                                             <p>如果要将此表与分区交换，请指定此值。在交换之前，您可以在此表上运行<code class="codeph">GATHER_TABLE_STATS</code> ，其中<code class="codeph">INCREMENTAL</code>设置为<code class="codeph">TRUE</code> ， <code class="codeph">INCREMENTAL_LEVEL</code>设置为<code class="codeph">TABLE</code> 。结果是数据库在此表上收集表级别的概要。在交换之后，分区具有来自交换之前表的表级概要的概要。您只能在<code class="codeph">SET_TABLE_PREFS</code>过程中使用首选项值：其他<code class="codeph">SET_ <span class="codeinlineitalic">*</span> _PREFS</code>过程中不允许使用此值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38757" headers="d960973e38358 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38757 d960973e38360 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT,USE_LOCKED_STATS,ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>允许共存采样概要和HyperLogLog概要共存。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）;</code></pre><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38867" headers="d960973e38358 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38867 d960973e38360 ">
                                       <p>控制列统计信息收集和直方图创建。它接受以下任一选项，或两者结合使用：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图</li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列</li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列</li>
                                          <li>- <code class="codeph">column_name</code> ：列的名称</li>
                                          <li>- <code class="codeph">extension :</code>可以是<code class="codeph">(column_name, colume_name [, ...])</code>格式的列组或表达式</li>
                                       </ul>
                                       <p>默认为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38924" headers="d960973e38358 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38924 d960973e38360 ">
                                       <p>控制正在为其收集统计信息的表的从属游标的失效。默认值为<code class="codeph">DBMS_STATS.AUTO_INVALIDATE</code> ，这意味着数据库决定何时使相关游标无效。
                                       </p>
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则数据库不会使相关游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38943" headers="d960973e38358 ">
                                       <p><code class="codeph">OPTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38943 d960973e38360 ">
                                       <p>确定<code class="codeph">GATHER_TABLE_STATS</code>过程中使用的<code class="codeph">options</code>参数。首选项采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集表中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。Oracle建议对进行收集统计信息的批量加载操作的表设置<code class="codeph">GATHER AUTO</code> 。此选项仅适用于未启用<code class="codeph">INCREMENTAL</code>表。使用<code class="codeph">GATHER AUTO</code>选项在这些表上运行<code class="codeph">GATHER_TABLE_STATS</code>过程会跳过重新收集已经新鲜的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e38980" headers="d960973e38358 ">
                                       <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e38980 d960973e38360 ">
                                       <p>确定是否使用该参数的首选项值覆盖参数的输入值以进行统计操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略输入参数值，并使用相应首选项的值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -  Obeys输入参数值。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>指定此首选项不会更改table，global和default的优先顺序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e39001" headers="d960973e38358 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e39001 d960973e38360 ">
                                       <p>确定数据库是否在收集作业完成后发布新收集的统计信息。</p>
                                       <p>您可以收集统计信息而无需立即发布。此技术使您可以在发布之前测试新统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e39011" headers="d960973e38358 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e39011 d960973e38360 ">
                                       <p>确定表中的行的百分比，该表必须在该表上的统计信息过时且需要恢复之前更改。</p>
                                       <p><code class="codeph">stale_percent</code>的有效域是非负数。默认值为<code class="codeph">10</code> ，这意味着具有超过10％更改的表被视为过时。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e39027" headers="d960973e38358 ">
                                       <p><code class="codeph">STAT_CATEGORY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e39027 d960973e38360 ">
                                       <p>指定要导入或导出的统计信息，接受以逗号分隔的多个值。支持的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OBJECT_STATS</code> - 表统计信息，列统计信息和索引统计信息（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYNOPSES</code> - 支持增量统计的信息</p>
                                          </li>
                                       </ul>
                                       <p>值<code class="codeph">'OBJECT_STATS, SYNOPSES'</code>指定表统计信息，列统计信息，索引统计信息和概要。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e39052" headers="d960973e38358 ">
                                       <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e39052 d960973e38360 ">
                                       <p>指定在计算索引聚类因子时假定缓存在缓冲区高速缓存中的平均块数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e39060" headers="d960973e38358 ">
                                       <p><code class="codeph">WAIT_TIME_TO_UPDATE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e39060 d960973e38360 ">
                                       <p>指定更新统计信息所需的锁和引脚超时之前的分钟数。它接受<code class="codeph">0</code>到<code class="codeph">65535</code>范围内的值。默认值为<code class="codeph">15</code>分钟。值<code class="codeph">0</code>在无等待模式下获得锁和引脚。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-5045489E-B636-47DB-B0A5-3570AA62018A">安全模型</p>
                        <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE ANY DICTIONARY</code>和<code class="codeph">ANALYZE ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-3BA49A18-83F7-45A3-832A-37F503B3C830">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-2588DBA5-F276-47DB-A42B-C9AD66941C4F">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>仅当没有为要分析的表指定首选项时，才会遵循此设置。</p>
                           </li>
                           <li>
                              <p>两个参数都是<code class="codeph">VARCHAR2</code>类型，并且值用引号括起来，即使它们代表数字也是如此。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-C7FA455E-23D9-4BBE-AE65-E3E4A2CAE837">
                        <p class="titleinexample">示例165-16在全局级别覆盖统计信息首选项</p>
                        <p>对于没有设置表首选项集的数据库中的每个表，使用<code class="codeph">SET_GLOBAL_PREFS</code>过程将<code class="codeph">ESTIMATE_PERCENT</code>首选项设置为<code class="codeph">5</code> 。由于<code class="codeph">sh.costs</code>没有首选项集，因此全局设置适用于此表。
                        </p><pre class="pre codeblock"><code>SQL&gt; EXEC DBMS_STATS.SET_GLOBAL_PREFS（'ESTIMATE_PERCENT'，'5'）; PL / SQL过程成功完成。</code></pre><p>使用<code class="codeph">SET_TABLE_PREFS</code>仅为<code class="codeph">sh.sales</code>表将<code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code>首选项设置为true。
                        </p><pre class="pre codeblock"><code>SQL&gt; EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'PREFERENCE_OVERRIDES_PARAMETER'，'TRUE'）; PL / SQL过程成功完成。</code></pre><p>在收集<code class="codeph">sh.sales</code>统计信息时，脚本会尝试将<code class="codeph">ESTIMATE_PERCENT</code>设置为<code class="codeph">10</code> 。但是，由于此表的<code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code>为<code class="codeph">TRUE</code> ，并且由于定义了全局首选项，因此Oracle数据库使用全局设置<code class="codeph">5</code>而不是指定的<code class="codeph">10</code>设置收集统计信息：</p><pre class="pre codeblock"><code>SQL&gt; EXEC DBMS_STATS.GATHER_TABLE_STATS（'sh'，'cost'，ESTIMATE_PERCENT =&gt; 10）; PL / SQL过程成功完成。</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-C4197481-B0DD-4576-9794-2286C957600F">
                        <p class="titleinexample">示例165-17配置<span>高频自动优化器统计信息收集</span></p>
                        <p><span id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__d5e5258"><span>Oracle Database 19c</span>引入了<span>高频自动优化器统计信息收集</span> 。此轻量级任务定期收集陈旧对象的统计信息。默认时间间隔为15分钟。与自动统计信息收集作业相反，高频任务不执行诸如清除不存在的对象的统计信息或调用Optimizer Statistics Advisor等操作。</span></p>
                        <p>在此示例中，您启用高频收集，将其最长运行时间设置为半小时，然后将频率间隔设置为10分钟：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_GLOBAL_PREFS（'AUTO_TASK_STATUS'，'ON'）; EXEC DBMS_STATS.SET_GLOBAL_PREFS（'AUTO_TASK_MAX_RUN_TIME'，'1800'）; EXEC DBMS_STATS.SET_GLOBAL_PREFS（'AUTO_TASK_INTERVAL'，'600'）;</code></pre><div class="infoboxnotealso" id="GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span class="italic">Oracle数据库SQL调优指南</span></a> ，了解如何设置优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6" name="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6"></a><h4 id="ARPLS-GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6" class="sect4"><span class="enumeration_section">165.7.116</span> SET_INDEX_STATS程序</h4>
                  <div>
                     <p>这些过程设置与索引相关的统计信息</p>
                     <div class="section">
                        <p>接受<code class="codeph">ext_stats</code>的此过程的版本设置用于域索引的统计信息。除了实际的用户定义统计信息之外，指定的统计类型是要存储在字典中的类型。如果此统计信息类型为null，则数据库将存储与索引或列关联的统计信息类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6__GUID-69C377F4-3C9B-4D6A-9053-B1DE3F0BED7B">句法</p><pre class="pre codeblock"><code>DBMS_STATS.SET_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，numrows NUMBER DEFAULT NULL，numlblks NUMBER DEFAULT NULL，numdist NUMBER DEFAULT NULL，avglblk NUMBER DEFAULT NULL，avgdblk NUMBER DEFAULT NULL， clstfct NUMBER DEFAULT NULL，indlevel NUMBER DEFAULT NULL，flags NUMBER DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），guessq NUMBER DEFAULT NULL，cachedblk NUMBER DEFAULT NULL，cachehit NUMBER DEFUALT NULL，强制BOOLEAN默认错误）;</code></pre><p>对用户定义的域索引统计信息使用以下语法：</p><pre class="pre codeblock"><code>DBMS_STATS.SET_INDEX_STATS（ownname VARCHAR2，indname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，ext_stats RAW，stattypown VARCHAR2 DEFAULT NULL，stattypname VARCHAR2 DEFAULT NULL，statown VARCHAR2 DEFAULT NULL，no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（ 'NO_INVALIDATE'）），强制BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6__GUID-49576513-AE3D-42C4-930F-4984ECC72B83">参数</p>
                        <div class="tblformal" id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6__GUID-2B1D400C-634F-48B8-A36A-653102E588A8">
                           <p class="titleintable">表165-125 SET_INDEX_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_INDEX_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_INDEX_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d960973e39316">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d960973e39319">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39324" headers="d960973e39316 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39324 d960973e39319 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39332" headers="d960973e39316 ">
                                       <p><code class="codeph">indname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39332 d960973e39319 ">
                                       <p>索引的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39340" headers="d960973e39316 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39340 d960973e39319 ">
                                       <p>用于存储统计信息的索引分区的名称。如果索引已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则统计信息将存储在全局索引级别。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39354" headers="d960973e39316 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39354 d960973e39319 ">
                                       <p>用户统计信息表标识符，描述存储统计信息的位置如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则统计信息将直接存储在字典中。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39368" headers="d960973e39316 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39368 d960973e39319 ">
                                       <p>在<code class="codeph">stattab</code>中与这些统计信息关联的标识符（可选）（仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>时才相关）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39385" headers="d960973e39316 ">
                                       <p><code class="codeph">ext_stats</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39385 d960973e39319 ">
                                       <p>用户定义的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39393" headers="d960973e39316 ">
                                       <p><code class="codeph">stattypown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39393 d960973e39319 ">
                                       <p>统计类型的模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39401" headers="d960973e39316 ">
                                       <p><code class="codeph">stattypname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39401 d960973e39319 ">
                                       <p>统计类型的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39409" headers="d960973e39316 ">
                                       <p><code class="codeph">numRows行</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39409 d960973e39319 ">
                                       <p>索引中的行数（分区）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39417" headers="d960973e39316 ">
                                       <p><code class="codeph">numlblks</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39417 d960973e39319 ">
                                       <p>索引中的叶块数（分区）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39425" headers="d960973e39316 ">
                                       <p><code class="codeph">numdist</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39425 d960973e39319 ">
                                       <p>索引（分区）中的不同键的数量</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39434" headers="d960973e39316 ">
                                       <p><code class="codeph">avglblk</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39434 d960973e39319 ">
                                       <p>叶块的平均整数，其中每个不同的键出现在此索引（分区）中。如果未提供，则此值派生自<code class="codeph">numlblks</code>和<code class="codeph">numdist</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39448" headers="d960973e39316 ">
                                       <p><code class="codeph">avgdblk</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39448 d960973e39319 ">
                                       <p>表中数据块的平均整数数由该索引（分区）的不同键指向。如果未提供，则此值派生自<code class="codeph">clstfct</code>和<code class="codeph">numdist</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39462" headers="d960973e39316 ">
                                       <p><code class="codeph">clstfct</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39462 d960973e39319 ">
                                       <p>有关说明，请参阅<code class="codeph">all_indexes</code>视图的<code class="codeph">clustering_factor</code>列</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39476" headers="d960973e39316 ">
                                       <p><code class="codeph">indlevel</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39476 d960973e39319 ">
                                       <p>索引的高度（分区）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39484" headers="d960973e39316 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39484 d960973e39319 ">
                                       <p>对于内部Oracle使用（应保留为<code class="codeph">NULL</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39495" headers="d960973e39316 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39495 d960973e39319 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果不同于<code class="codeph">ownname</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39509" headers="d960973e39316 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39509 d960973e39319 ">
                                       <p>如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code> 。让Oracle决定何时使相关游标无效。这是默认值。可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39560" headers="d960973e39316 ">
                                       <p><code class="codeph">guessq</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39560 d960973e39319 ">
                                       <p>猜猜质量。有关说明，请参阅<code class="codeph">all_indexes</code>视图的<code class="codeph">pct_direct_access</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39574" headers="d960973e39316 ">
                                       <p><code class="codeph">cachedblk</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39574 d960973e39319 ">
                                       <p>限内部使用。不要设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39582" headers="d960973e39316 ">
                                       <p><code class="codeph">cachehit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39582 d960973e39319 ">
                                       <p>限内部使用。不要设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d960973e39590" headers="d960973e39316 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d960973e39590 d960973e39319 ">
                                       <p>即使锁定了索引的统计信息，也要设置值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6__GUID-180397CC-B9FD-4B77-86B0-D1E082FA9949">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6__GUID-BA897AFD-5B85-4416-B6D8-4442FF6E7D05">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6__GUID-587E6B56-7241-4169-8E4A-D3EDBDBBC58D">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>优化程序使用缓存的数据来估计索引或统计表访问的缓存块数。操作的总成本将从读取的I / O成本和来自磁盘的高速缓存块，从缓冲区高速缓存获取高速缓存块的CPU成本以及处理数据的CPU成本中得出。</p>
                           </li>
                           <li>
                              <p>Oracle始终维护<code class="codeph">cachedblk</code>和<code class="codeph">cachehit</code> ，但仅当用户为自动模式调用<code class="codeph">DBMS_STATS.GATHER_[TABLE/INDEX/SCHEMA/DATABASE]_STATS</code>过程或<code class="codeph">DBMS_STATS.GATHER_SYSTEM_STATS</code>时，才使用对应的缓存统计信息作为表和索引统计信息的一部分进行优化手动模式。为了防止用户使用不准确和不可靠的数据，优化器将为每个<code class="codeph">cachehit</code>和每个对象的<code class="codeph">cachedblk</code>计算“置信因子”。如果该值的“置信因子”符合置信度标准，则将使用此值，否则将使用默认值。
                              </p>
                           </li>
                           <li>
                              <p>对象缓存统计信息的自动维护算法假定系统只有一个主要工作负载，并调整此工作负载的统计信息，忽略其他“次要”工作负载。如果不是这种情况，则必须使用手动模式来维护对象缓存统计信息。</p>
                           </li>
                           <li>
                              <p>自动模式的对象缓存统计信息维护算法会阻止您在以下情况下使用统计信息</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当分析的数据不足时，例如最近创建对象时</p>
                                 </li>
                                 <li>
                                    <p>当系统没有一个主要工作负载时，导致平均值与实际值不对应。</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-E2488D68-30F2-4A43-B704-06B6CE57EAD6__GUID-8B4F7886-12DE-4533-A76B-D2865516708E">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=GUID-D73DB2F4-46C1-4C5B-94DD-DE1F1DD5BBCC" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何设置人工统计数据</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE" name="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE"></a><h4 id="ARPLS-GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE" class="sect4"><span class="enumeration_section">165.7.117</span> SET_PARAM过程</h4>
                  <div>
                     <p>不推荐使用的过程为<code class="codeph">DBMS_STATS</code>过程的参数设置默认值。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE__GUID-258F2D6A-CE31-4B28-8557-A2F91512C2B7">
                           <p class="notep1">注意：</p>
                           <p>该子程序已被改进的技术所取代，仅为了向后兼容而维护。在这种情况下，请使用<a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> 。
                           </p>
                           <p>另请参见<a href="DBMS_STATS.html#GUID-A8F7CC05-2881-4E84-83F7-2DFCEB0E4878" title="Oracle建议您不要使用已弃用的子程序。对不推荐使用的功能的支持仅用于向后兼容。">DBMS_STATS不推荐使用的子程序</a> 。
                           </p>
                        </div>
                        <p>您可以使用<code class="codeph">GET_PARAM</code> <code class="codeph">Function</code>来获取参数的当前默认值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE__GUID-A05A8A92-76FB-4393-ABAA-CC8FFD69F234">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_PARAM（pname IN VARCHAR2，pval IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE__GUID-A5F7B351-F99B-4D9D-B871-EBF549A8141D">参数</p>
                        <div class="tblformal" id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE__GUID-02A81AEA-1F30-4E3F-8B11-962ED6CCB56C">
                           <p class="titleintable">表165-126 SET_PARAM过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_PARAM过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_PARAM subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e39826">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e39829">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e39834" headers="d960973e39826 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e39834 d960973e39829 ">
                                       <p>参数名称可以设置以下参数的默认值。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">CASCADE</code> -为缺省值<code class="codeph">CASCADE</code>通过设置<code class="codeph">SET_PARAM</code>不使用出口/进口手续。它仅用于收集程序。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTOSTATS_TARGET</code> - 此参数仅适用于自动统计信息收集。此参数的值控制用于统计信息收集的对象（请参阅<code class="codeph">pval</code> ）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e39882" headers="d960973e39826 ">
                                       <p><code class="codeph">PVAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e39882 d960973e39829 ">
                                       <p>参数值。如果指定<code class="codeph">NULL</code> ，则将设置Oracle确定的默认值。当<code class="codeph">pname</code>是<code class="codeph">AUTOSTATS_TARGET</code> ，以下是有效值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'ALL'</code> - 为系统中的所有对象收集统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'ORACLE'</code> - 为所有Oracle拥有的对象收集统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'AUTO'</code> -  Oracle决定收集统计信息的对象</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE__GUID-B4FB476C-17DF-4D56-9EF8-B0C63702EE68">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您必须具有<code class="codeph">SYSDBA</code>或<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>和<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>请注意，这两个参数都是<code class="codeph">VARCHAR2</code>类型，即使它们表示数字，也需要用引号括起来。
                              </p>
                           </li>
                           <li>
                              <p>另请注意<code class="codeph">NULL</code>和<code class="codeph">'NULL'</code>之间的区别：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果<code class="codeph">NULL</code>未加引号，则将参数设置为Oracle建议的值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在引用的<code class="codeph">'NULL'</code>的情况下，这将参数的值设置为<code class="codeph">NULL</code> 。</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE__GUID-2E28D96A-FFBD-489F-A51A-E7ED6B360BC7">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A62A7B9A-8B55-4A77-AC89-D7FE914009CE__GUID-BEDBCA7D-079A-4180-9553-CACE2CA21C5D">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_PARAM（ 'CASCADE'， 'DBMS_STATS.AUTO_CASCADE'）; DBMS_STATS.SET_PARAM（ 'ESTIMATE_PERCENT'， '5'）; DBMS_STATS.SET_PARAM（ '度'， 'NULL'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC" name="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC"></a><h4 id="ARPLS-GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC" class="sect4"><span class="enumeration_section">165.7.118</span> SET_PROCESSING_RATE过程</h4>
                  <div>
                     <p>此过程设置给定操作的处理速率值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC__GUID-F246F5F1-5765-4227-904B-61F5B4556052">句法</p><pre class="pre codeblock"><code>DBMS_STATS.SET_PROCESSING_RATE（opname IN VARCHAR2，procrate IN NUMBER）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC__GUID-4552B1CC-515E-4BF8-8119-2961DCD9788A">参数</p>
                        <div class="tblformal" id="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC__GUID-A45CF9C4-2115-4B6D-A367-DB34F6F20859">
                           <p class="titleintable">表165-127 SET_PROCESSING_RATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_PROCESSING_RATE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_PROCESSING_RATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e40093">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d960973e40096">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40101" headers="d960973e40093 ">
                                       <p><code class="codeph">opname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e40101 d960973e40096 ">
                                       <p>操作名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40109" headers="d960973e40093 ">
                                       <p><code class="codeph">procrate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d960973e40109 d960973e40096 ">
                                       <p>处理率。有效值如下：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">汇聚</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">所有</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">中央处理器</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_ACCESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_AGGR</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_BYTES_PER_SEC</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_FILTER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_GBY</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_HASH_JOIN</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_JOIN</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_NL_JOIN</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_RANDOM_ACCESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_SEQUENTIAL_ACCESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_SM_JOIN</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CPU_SORT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HASH</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IO</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IO_ACCESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IO_BYTES_PER_SEC</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IO_RANDOM_ACCESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IO_SEQUENTIAL_ACCESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MEMCMP</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MEMCPY</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC__GUID-34475762-EF1E-4617-9030-53B7D82EB80F">安全模型</p>
                        <p>您必须具有<code class="codeph">OPTIMIZER_PROCESSING_RATE</code>角色才能运行此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC__GUID-326C07FB-C0EA-4DE5-8847-D5BB3185B2E9">使用说明</p>
                        <p><code class="codeph">AUTO DOP</code>使用处理速率来确定SQL语句的最佳并行度。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3327934B-3C66-4F02-AA30-37CB4E5236DC__GUID-5037AE75-37EA-44DC-8D1A-25D240B8EB7F">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" name="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A"></a><h4 id="ARPLS-GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" class="sect4"><span class="enumeration_section">165.7.119</span> SET_SCHEMA_PREFS过程</h4>
                  <div>
                     <p>此过程设置指定用户拥有的所有表的统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-13052D23-848E-4C8C-800F-BB3F3A05021E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_SCHEMA_PREFS（自己的名称IN VARCHAR2，pname IN VARCHAR2，pvalue IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-DFD1343F-07C2-4F04-B404-3C5DAA92B583">参数</p>
                        <div class="tblformal" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-42145BC1-A875-4610-87F2-53D27429B70E">
                           <p class="titleintable">表165-128 SET_SCHEMA_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_SCHEMA_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_SCHEMA_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e40344">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e40347">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e40352" headers="d960973e40344 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e40352 d960973e40347 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e40360" headers="d960973e40344 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e40360 d960973e40347 ">
                                       <p>偏好名称。您可以为以下首选项设置默认值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e40434" headers="d960973e40344 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e40434 d960973e40347 ">
                                       <p>偏好值。如果指定<code class="codeph">NULL</code> ，则设置数据库默认值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-9F6A34F0-B4AD-4F61-80B2-C73FA10669E1">
                           <p class="titleintable">表165-129统计信息首选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="统计偏好" border="1" summary="This table describes the preferences that you can set." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e40454">偏爱</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e40456">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40460" headers="d960973e40454 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40460 d960973e40456 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。您可以将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以设置以下首选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。当现有性能可接受时，此方法很有吸引力，并且您不希望产生重新格式化旧内容的性能成本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。这是最保守的选择。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。与动态采样相比，HyperLogLog算法使用随机化技术。HyperLogLog算法优于自适应采样的优点是：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>新算法的准确性与原算法类似。</p>
                                                </li>
                                                <li>
                                                   <p>所需的内存显着降低，这通常会导致概要大小的大幅减少。</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40499" headers="d960973e40454 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40499 d960973e40456 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40507" headers="d960973e40454 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40507 d960973e40456 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40515" headers="d960973e40454 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40515 d960973e40456 ">
                                       <p>确定要估计的行的百分比。有效范围是[0.000001,100]。使用常量<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_SAMPLE_SIZE</code>让Oracle确定适当的样本大小以获得良好的统计信息。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40529" headers="d960973e40454 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40529 d960973e40456 ">
                                       <p>此首选项采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SHARED</code> - 所有会话都看到同一组统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SESSION</code> - <a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS过程</a>在全局临时表上收集的统计信息是特定于会话的，因此仅在与统计信息收集过程相同的会话中发出的查询中使用。会话结束时删除特定于会话的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40554" headers="d960973e40454 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40554 d960973e40456 ">
                                       <p>确定要收集的统计信息的粒度（仅在表被分区时才相关）。可能的值是：</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40597" headers="d960973e40454 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40597 d960973e40456 ">
                                       <p>确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。对于分区表，将新数据加载到新分区中非常常见。在添加新分区并加载数据时，全局表统计信息需要保持最新。如果满足以下条件，Oracle将通过仅扫描已更改的分区而不是整个表来更新全局表统计信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">TRUE</code></p>
                                          </li>
                                          <li>
                                             <p>分区表的<code class="codeph">PUBLISH</code>值设置为<code class="codeph">TRUE</code> ;</p>
                                          </li>
                                          <li>
                                             <p>用户指定<code class="codeph">AUTO_SAMPLE_SIZE</code>为<code class="codeph">ESTIMATE_PERCENT</code>和<code class="codeph">AUTO</code>用于<code class="codeph">GRANULARITY</code>在桌子上收集统计信息时</p>
                                          </li>
                                       </ul>
                                       <p>如果分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">FALSE</code> （默认值），则使用全表扫描来维护全局统计信息，这对于大型表来说是一个更加耗费资源且耗时的操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40644" headers="d960973e40454 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40644 d960973e40456 ">
                                       <p>控制当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时要收集的<code class="codeph">INCREMENTAL</code>它需要两个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TABLE</code> - 收集表级别概要。当您想要将此表与分区交换时，可以使用此方法。您可以在此表上运行<code class="codeph">GATHER_TABLE_STATS</code> ，并在交换之前将<code class="codeph">INCREMENTAL</code>为<code class="codeph">TRUE</code>并将<code class="codeph">INCREMENTAL_LEVEL</code>为<code class="codeph">TABLE</code> 。结果是在此表上收集了表级别概要（当前Oracle仅支持非预定义表上的表级别概要）。一旦交换发生，分区将具有在交换之前来自表的表级概要的概要。此首选项值只能在<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程中使用</a> 。<code class="codeph">SET_GLOBAL/DATABASE/SCHEMA_PREFS</code>过程中不允许使用它。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级别概要。这是默认值。如果在非分区表上设置PARTITION，则不会收集任何提要。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40694" headers="d960973e40454 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40694 d960973e40456 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT, USE_LOCKED_STATS, ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>是<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>即使<code class="codeph">APPROXIMATE_NDV_ALGORITHM</code>首选项设置为<code class="codeph">HYPERLOGLOG</code> ，自适应采样格式的概要分区也不会被视为过时。数据库使用现有的概要来推导全球NDV。这是默认设置。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）; EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40808" headers="d960973e40454 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40808 d960973e40456 ">
                                       <p>控制列统计信息收集和直方图创建。它接受以下任一选项，或两者结合使用：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图</li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列</li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列</li>
                                          <li>- <code class="codeph">column_name</code> ：列的名称</li>
                                          <li>- <code class="codeph">extension :</code>可以是<code class="codeph">(column_name, colume_name [, ...])</code>格式的列组或表达式</li>
                                       </ul>
                                       <p>默认为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40865" headers="d960973e40454 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40865 d960973e40456 ">
                                       <p>控制收集统计信息的表的从属游标的失效。如果设置为<code class="codeph">TRUE</code> ，则此参数不会使从属游标无效。如果设置为<code class="codeph">FALSE</code> ，则此过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code>让数据库决定何时使相关游标无效。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40886" headers="d960973e40454 "><code class="codeph">OPTIONS</code></td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40886 d960973e40456 ">
                                       <p>确定<code class="codeph">GATHER_TABLE_STATS</code>过程中使用的<code class="codeph">options</code>参数。首选项采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集表中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。Oracle建议对进行收集统计信息的批量加载操作的表设置<code class="codeph">GATHER AUTO</code> 。此选项仅适用于未启用<code class="codeph">INCREMENTAL</code>表。使用<code class="codeph">GATHER AUTO</code>选项在这些表上运行<code class="codeph">GATHER_TABLE_STATS</code>过程会跳过重新收集已经新鲜的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40922" headers="d960973e40454 ">
                                       <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40922 d960973e40456 ">
                                       <p>确定是否使用该参数的首选项值覆盖参数的输入值以进行统计操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略输入参数值，并使用相应首选项的值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -  Obeys输入参数值。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>指定此首选项不会更改table，global和default的优先顺序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40943" headers="d960973e40454 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40943 d960973e40456 ">
                                       <p>确定在统计信息收集作业完成后是否将发布新收集的统计信息。在Oracle Database <span class="italic">11g</span>第1版（11.1）之前的版本中，当统计信息收集作业完成时，新的统计信息将自动发布到字典表中。在后续版本中，您可以收集统计信息而无需立即发布。因此，您可以在发布之前测试新的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40954" headers="d960973e40454 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40954 d960973e40456 ">
                                       <p>确定表中的行的百分比，在该表上的统计信息被视为过时并且应该被恢复之前必须更改。<code class="codeph">stale_percent</code>的有效域是非负数。默认值为10％。请注意，如果将<code class="codeph">stale_percent</code>设置为零，则每次修改表中的行时， <code class="codeph">AUTO</code> <code class="codeph">STATS</code>收集作业将收集此表的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e40974" headers="d960973e40454 ">
                                       <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e40974 d960973e40456 ">
                                       <p>指定计算索引聚类因子时任何表的缓冲区高速缓存中缓存的平均块数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-ACEC3E8C-0F21-4F6C-A63D-2006BDBE47D9">安全模型</p>
                        <p>要运行此过程，您必须是架构所有者，或具有<code class="codeph">SYSDBA</code>权限，或具有<code class="codeph">ANALYZE ANY</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-8243102E-7ADD-4A8E-98F1-542C3F766BFB">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-8873BB4F-9EBC-4C42-80A8-B009D87BC3F2">使用说明</p>
                        <p>两个参数都是<code class="codeph">VARCHAR2</code>类型，并且值用引号括起来，即使它们代表数字也是如此。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-F6065C89-93E8-4F8A-85C9-D9355E5B1DCA">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_SCHEMA_PREFS（'SH'，'CASCADE'，'DBMS_STATS.AUTO_CASCADE'）; DBMS_STATS.SET_SCHEMA_PREFS（'SH''ESTIMATE_PERCENT'，'9'）; DBMS_STATS.SET_SCHEMA_PREFS（'SH'，'DEGREE'，'99'）;</pre><div class="infoboxnotealso" id="GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span class="italic">Oracle数据库SQL调优指南</span></a> ，了解如何设置优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED" name="GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED"></a><h4 id="ARPLS-GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED" class="sect4"><span class="enumeration_section">165.7.120</span> SET_SYSTEM_STATS过程</h4>
                  <div>
                     <p>此过程设置系统统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED__GUID-B61F3A84-C5DB-4CED-8C43-74780A48CB8D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_SYSTEM_STATS（pname VARCHAR2，pvalue NUMBER，stattab IN VARCHAR2 DEFAULT NULL，statid IN VARCHAR2 DEFAULT NULL，statown IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED__GUID-83A06A8B-1ACE-4179-9B71-FFAC4C92B121">参数</p>
                        <div class="tblformal" id="GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED__GUID-3E028572-5661-4240-8FFB-7FA20F8E97CB">
                           <p class="titleintable">表165-130 SET_SYSTEM_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_SYSTEM_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_SYSTEM_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e41129">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e41132">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e41137" headers="d960973e41129 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e41137 d960973e41132 ">
                                       <p>要获取的参数名称，可以具有以下值之一：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">iotfrspeed</code> -I / O传输速度，以毫秒为单位，每毫秒</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ioseektim</code> - 寻求时间+延迟时间+操作系统开销时间，以毫秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">sreadtim</code> - 读取单个块的平均时间（随机读取），以毫秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">mreadtim</code> - 一次读取mbrc块的平均时间（顺序读取），以毫秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">cpuspeed</code> - 为工作负载捕获的每秒CPU平均周期数（以百万计）（使用“ <code class="codeph">INTERVAL</code> ”或“ <code class="codeph">START</code> ”和“ <code class="codeph">STOP</code> ”选项收集的统计信息）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">cpuspeednw</code> - 为无工作负载捕获的每秒CPU平均周期数（以百万计）（使用' <code class="codeph">NOWORKLOAD</code> '选项收集的统计信息）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">mbrc</code> - 顺序读取的平均多块读取计数，以块为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">maxthr</code> - 最大I / O系统吞吐量，以字节/秒为单位</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">slavethr</code> - 平均从站I / O吞吐量，以字节/秒为单位</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e41203" headers="d960973e41129 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e41203 d960973e41132 ">
                                       <p>要获取的参数值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e41211" headers="d960973e41129 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e41211 d960973e41132 ">
                                       <p>将获取统计信息的用户统计信息表的标识符。如果<code class="codeph">stattab</code>为null，则将从字典中获取统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e41222" headers="d960973e41129 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e41222 d960973e41132 ">
                                       <p>与<code class="codeph">stattab</code>保存的统计信息关联的可选标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e41232" headers="d960973e41129 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e41232 d960973e41132 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与当前模式不同）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED__GUID-0DA09685-5B80-46EE-82C9-3F84C0E82F21">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级</p>
                        <p><code class="codeph">ORA-20003</code> ：无法设置系统统计信息</p>
                        <p><code class="codeph">ORA-20004</code> ：参数不存在</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DEF7837F-3D9A-4777-9BCA-FE16E433C7ED__GUID-7E2396C2-A46F-424A-A4E6-A1EF89D05215">使用说明</p>
                        <p>要运行此过程，您需要<code class="codeph">GATHER_SYSTEM_STATISTICS</code>角色。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" name="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F"></a><h4 id="ARPLS-GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" class="sect4"><span class="enumeration_section">165.7.121</span> SET_TABLE_PREFS过程</h4>
                  <div>
                     <p>此过程设置指定模式中指定表的统计信息首选项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-1478043C-38AC-4D2E-8381-3134DDC4A55F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_TABLE_PREFS（ownname IN VARCHAR2，tabname IN VARCHAR2，pname IN VARCHAR2，pvalue IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-C3422482-E0F6-44D1-BB65-42BF8CA99457">参数</p>
                        <div class="tblformal" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-0DF22077-3B5F-4414-A175-EAD268D2469E">
                           <p class="titleintable">表165-131 SET_TABLE_PREFS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_TABLE_PREFS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SET_TABLE_PREFS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e41379">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e41382">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e41387" headers="d960973e41379 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e41387 d960973e41382 ">
                                       <p>所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e41395" headers="d960973e41379 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e41395 d960973e41382 ">
                                       <p>表名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e41403" headers="d960973e41379 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e41403 d960973e41382 ">
                                       <p>偏好名称。您可以为以下首选项设置默认值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">级联</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">学位</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">粒度</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">增加的</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">了method_opt</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_INVALIDATE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OPTIONS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">发布</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STALE_PERCENT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLE_CACHED_BLOCKS</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e41477" headers="d960973e41379 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e41477 d960973e41382 ">
                                       <p>偏好值。如果指定<code class="codeph">NULL</code> ，则将设置Oracle默认值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-13C14B48-B0D9-49D4-AF0D-223E5E669EE7">
                           <p class="titleintable">表165-132统计信息首选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="统计偏好" border="1" summary="This table describes the table statistics preferences that you can set." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d960973e41497">偏爱</th>
                                    <th align="left" valign="bottom" width="20%" id="d960973e41499">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41503" headers="d960973e41497 ">
                                       <p><code class="codeph">APPROXIMATE_NDV_ALGORITHM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41503 d960973e41499 ">
                                       <p>指定概要生成算法。概要是一种特殊类型的统计信息，用于跟踪分区中每列的不同值（NDV）的数量。将概要视为内部管理结构，对不同的值进行采样。</p>
                                       <p>您可以指定以下首选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">重复或HYPERLOGLOG</code></p>
                                             <p>这是默认值。如果在表上启用了<code class="codeph">INCREMENTAL</code> ，则数据库将保留使用自适应采样算法的任何现有概要的格式。但是，数据库会以HyperLogLog格式创建任何新的概要。当现有性能可接受时，此方法很有吸引力，并且您不希望产生重新格式化旧内容的性能成本。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">自适应采样</code></p>
                                             <p>数据库对所有概要使用自适应采样算法。这是最保守的选择。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HYPERLOGLOG</code></p>
                                             <p>数据库使用HyperLogLog算法来处理所有新的和过时的概要。与动态采样相比，HyperLogLog算法使用随机化技术。HyperLogLog优于自适应采样的优点是：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>新算法的准确性与原算法类似。</p>
                                                </li>
                                                <li>
                                                   <p>所需的内存显着降低，这通常会导致概要大小的大幅减少。</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41542" headers="d960973e41497 ">
                                       <p><code class="codeph">AUTO_STAT_EXTENSIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41542 d960973e41499 ">
                                       <p>在收集数据库统计信息时控制自动创建扩展。</p>
                                       <p>您可以设置以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ON</code> - 如果适用，SQL计划指令可以根据工作负载中谓词中列的使用情况触发列组统计信息的创建。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OFF</code> - 数据库不会自动创建列组统计信息。只有在执行<code class="codeph">CREATE_EXTENDED_STATS</code>函数时，或者在<code class="codeph">DBMS_STATS</code>的<code class="codeph">METHOD_OPT</code>子句中明确指定了扩展统计信息时，数据库才会创建它们。这是默认值。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41572" headers="d960973e41497 ">
                                       <p><code class="codeph">级联</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41572 d960973e41499 ">
                                       <p>确定是否收集索引统计信息作为收集表统计信息的一部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41580" headers="d960973e41497 ">
                                       <p><code class="codeph">同时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41580 d960973e41499 ">
                                       <p>此首选项确定是在多个对象上同时收集统计信息，还是一次一个对象地串行收集统计信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'MANUAL'</code> - 仅为手动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'AUTOMATIC'</code> ：仅为自动统计信息收集启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'ALL'</code> ：手动和自动统计信息收集将启用并发。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'OFF'</code> ：手动和自动统计将关闭并发</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41609" headers="d960973e41497 ">
                                       <p><code class="codeph">学位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41609 d960973e41499 ">
                                       <p>确定用于收集统计信息的并行度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41617" headers="d960973e41497 ">
                                       <p><code class="codeph">ESTIMATE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41617 d960973e41499 ">
                                       <p>确定要估计的行的百分比。有效范围是[0.000001,100]。使用常量<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_SAMPLE_SIZE</code>让Oracle确定适当的样本大小以获得良好的统计信息。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41631" headers="d960973e41497 ">
                                       <p><code class="codeph">GLOBAL_TEMP_TABLE_STATS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41631 d960973e41499 ">
                                       <p>这可以控制是否应将为全局临时表收集的统计信息存储为共享统计信息或会话统计信息。它需要两个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SHARED</code> - 所有会话都看到同一组统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SESSION</code> - <a href="DBMS_STATS.html#GUID-CA6A56B9-0540-45E9-B1D7-D78769B7714C" title="此过程收集表，列和索引统计信息。它试图尽可能多地并行化工作，但是存在一些限制，这些限制在各个参数中描述。">GATHER_TABLE_STATS过程</a>在全局临时表上收集的统计信息是特定于会话的，因此仅在与统计信息收集过程相同的会话中发出的查询中使用。会话结束时删除特定于会话的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41656" headers="d960973e41497 ">
                                       <p><code class="codeph">粒度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41656 d960973e41499 ">
                                       <p>确定要收集的统计信息的粒度（仅在表被分区时才相关）。</p>
                                       <p><code class="codeph">'ALL'</code> - 收集所有（子分区，分区和全局）统计信息</p>
                                       <p><code class="codeph">'AUTO'</code> - 根据分区类型确定粒度。这是默认值。
                                       </p>
                                       <p><code class="codeph">'DEFAULT'</code> - 收集全局和分区级统计信息。此选项已过时，虽然目前受支持，但仅出于遗留原因，它才包含在文档中。您应该使用' <code class="codeph">GLOBAL AND PARTITION</code> '来实现此功能。请注意，默认值现在为“ <code class="codeph">AUTO</code> ”。
                                       </p>
                                       <p><code class="codeph">'GLOBAL'</code> - 收集全球统计数据</p>
                                       <p>' <code class="codeph">GLOBAL AND PARTITION</code> ' - 收集全局和分区级统计信息。即使它是复合分区对象，也不会收集子分区级别统计信息。
                                       </p>
                                       <p><code class="codeph">'PARTITION</code> ' - 收集分区级统计信息</p>
                                       <p><code class="codeph">'SUBPARTITION'</code> - 收集子分区级别的统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41699" headers="d960973e41497 ">
                                       <p><code class="codeph">增加的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41699 d960973e41499 ">
                                       <p>确定是否在不执行全表扫描的情况下维护分区表的全局统计信息。对于分区表，将新数据加载到新分区中非常常见。在添加新分区并加载数据时，全局表统计信息需要保持最新。如果满足以下条件，Oracle将通过仅扫描已更改的分区而不是整个表来更新全局表统计信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">TRUE</code> ;</p>
                                          </li>
                                          <li>
                                             <p>分区表的<code class="codeph">PUBLISH</code>值设置为<code class="codeph">TRUE</code> ;</p>
                                          </li>
                                          <li>
                                             <p>用户指定<code class="codeph">AUTO_SAMPLE_SIZE</code>为<code class="codeph">ESTIMATE_PERCENT</code>和<code class="codeph">AUTO</code>用于<code class="codeph">GRANULARITY</code>收集表的统计信息时。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>如果分区表的<code class="codeph">INCREMENTAL</code>值设置为<code class="codeph">FALSE</code> （默认值），则使用全表扫描来维护全局统计信息，这对于大型表来说是一个更加耗费资源且耗时的操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41747" headers="d960973e41497 ">
                                       <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41747 d960973e41499 ">
                                       <p>当<code class="codeph">INCREMENTAL</code>首选项设置为<code class="codeph">TRUE</code>时，此值控制要收集的概要它需要两个值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TABLE</code> - 收集表级别概要。当您想要将此表与分区交换时，可以使用此方法。您可以在此表上运行<code class="codeph">GATHER_TABLE_STATS</code> ，并在交换之前将<code class="codeph">INCREMENTAL</code>为<code class="codeph">TRUE</code>并将<code class="codeph">INCREMENTAL_LEVEL</code>为<code class="codeph">TABLE</code> 。结果是在此表上收集了表级别概要（当前Oracle仅支持非预定义表上的表级别概要）。一旦交换发生，分区将具有在交换之前来自表的表级概要的概要。此首选项值只能在<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程中使用</a> 。<code class="codeph">SET_GLOBAL/DATABASE/SCHEMA_PREFS</code>过程中不允许使用它。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - 收集分区级别概要。这是默认值。如果在非分区表上设置PARTITION，则不会收集任何提要。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41797" headers="d960973e41497 ">
                                       <p><code class="codeph">INCREMENTAL_STALENESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41797 d960973e41499 ">
                                       <p>指定何时将分区或子分区视为过时。此参数采用值的枚举，例如<code class="codeph">'USE_STALE_PERCENT'</code>和<code class="codeph">'USE_LOCKED_STATS'</code> 。您还可以指定多个值，例如<code class="codeph">'USE_STALE_PERCENT,USE_LOCKED_STATS,ALLOW_MIXED_FORMAT'</code> 。
                                       </p>
                                       <p>该参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USE_STALE_PERCENT</code> - 当DML更改低于<code class="codeph">STALE_PERCENT</code>首选项设置的阈值时，分区或子分区不会被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。该分区有5％的DML更改。数据库不会重新收集统计信息。
                                             </p>
                                             <p>假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code>的不同情况。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定<code class="codeph">USE_STALE_PERCEMENT</code> 。但是，在这种情况下，分区被锁定并且有20％的DML更改。由于分区已锁定，因此数据库不会重新收集统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USE_LOCKED_STATS</code> -Locked分区或子分区统计信息永远不会被视为过时，无论DML更改如何。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您指定<code class="codeph">'USE_LOCKED_STATS, USE_STALE_PERCENT'</code> 。锁定的分区具有20％的DML更改。该分区不被视为陈旧。数据库使用现有统计信息来派生全局统计信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLOW_MIXED_FORMAT</code>允许共存采样概要和HyperLogLog概要共存。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> -A分区或子分区在有任何DML更改时被视为过时。
                                             </p>
                                             <p>例如，假设<code class="codeph">STALE_PERCENT</code>为<code class="codeph">10</code> 。您为<code class="codeph">INCREMENTAL_STALENESS</code>指定值<code class="codeph">'NULL'</code> 。该分区有5％的DML更改。数据库重新统计数据。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>请注意，以下两个执行是不同的：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，'NULL'）;</code></pre><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'sales'，'INCREMENTAL_STALENESS'，null）;</code></pre><p>第一次执行使用单引号将首选项设置为值<code class="codeph">NULL</code> ，而第二次执行将首选项设置为默认值，即<code class="codeph">ALLOW_MIXED_FORMAT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41908" headers="d960973e41497 ">
                                       <p><code class="codeph">了method_opt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41908 d960973e41499 ">
                                       <p>该值控制列统计信息收集和直方图创建。它接受以下任一选项，或两者结合使用：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FOR ALL [INDEXED | HIDDEN] COLUMNS</code> <code class="codeph">[size_clause]</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">size_clause</code>定义为<code class="codeph">size_clause := SIZE {integer | REPEAT | AUTO | SKEWONLY}</code></p>
                                       <ul class="simple" style="list-style-type:none;padding-left:0">
                                          <li><code class="codeph">- integer</code> ：直方图桶的数量。必须在[1,2048]范围内。
                                          </li>
                                          <li><code class="codeph">- REPEAT</code> ：仅在已有直方图的列上收集直方图</li>
                                          <li><code class="codeph">- AUTO</code> ：Oracle根据数据分布和列的工作负载确定要收集直方图的列</li>
                                          <li><code class="codeph">- SKEWONLY</code> ：Oracle根据列的数据分布确定要收集直方图的列</li>
                                          <li>- <code class="codeph">column_name</code> ：列的名称</li>
                                          <li>- <code class="codeph">extension :</code>可以是<code class="codeph">(column_name, colume_name [, ...])</code>格式的列组或表达式</li>
                                       </ul>
                                       <p>默认为<code class="codeph">FOR ALL COLUMNS SIZE AUTO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41965" headers="d960973e41497 ">
                                       <p><code class="codeph">NO_INVALIDATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41965 d960973e41499 ">
                                       <p>该值控制正在收集统计信息的表的从属游标的无效。如果设置为<code class="codeph">TRUE</code>则不会使从属游标无效。如果设置为<code class="codeph">FALSE</code>则该过程会立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code>让Oracle决定何时使相关游标无效。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e41985" headers="d960973e41497 ">
                                       <p><code class="codeph">OPTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e41985 d960973e41499 ">
                                       <p>确定<code class="codeph">GATHER_TABLE_STATS</code>过程中使用的<code class="codeph">options</code>参数。首选项采用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GATHER</code> - 收集表中所有对象的统计信息。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">GATHER AUTO</code> - <code class="codeph">GATHER AUTO</code>收集所有必要的统计信息。Oracle建议对进行收集统计信息的批量加载操作的表设置<code class="codeph">GATHER AUTO</code> 。此选项仅适用于未启用<code class="codeph">INCREMENTAL</code>表。使用<code class="codeph">GATHER AUTO</code>选项在这些表上运行<code class="codeph">GATHER_TABLE_STATS</code>过程会跳过重新收集已经新鲜的统计信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e42022" headers="d960973e41497 ">
                                       <p><code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e42022 d960973e41499 ">
                                       <p>确定是否使用该参数的首选项值覆盖参数的输入值以进行统计操作。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 忽略输入参数值，并使用相应首选项的值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -  Obeys输入参数值。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>指定此首选项不会更改table，global和default的优先顺序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e42043" headers="d960973e41497 ">
                                       <p><code class="codeph">发布</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e42043 d960973e41499 ">
                                       <p>确定数据库是否在收集作业完成后发布新收集的统计信息。</p>
                                       <p>您可以收集统计信息而无需立即发布。此技术使您可以在发布之前测试新统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d960973e42053" headers="d960973e41497 ">
                                       <p><code class="codeph">STALE_PERCENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d960973e42053 d960973e41499 ">
                                       <p>确定表中的行的百分比，该表必须在该表上的统计信息过时且需要恢复之前更改。</p>
                                       <p><code class="codeph">stale_percent</code>的有效域是非负数。默认值为<code class="codeph">10</code> ，这意味着具有超过10％更改的表被视为过时。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-B3E99E95-CE23-438B-9817-56019395B240">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效或非法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-7017EF53-9D44-4D32-835B-73DE62136AB5">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要运行此过程，您必须以表的所有者身份连接或具有<code class="codeph">ANALYZE ANY</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>所有参数都是<code class="codeph">VARCHAR2</code>类型，并且值用引号括起来，即使它们代表数字也是如此。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-3180C932-9388-419E-BCC3-DF56B7D3F098">例子</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SET_TABLE_PREFS（'SH'，'SALES'，'CASCADE'，'DBMS_STATS.AUTO_CASCADE'）; DBMS_STATS.SET_TABLE_PREFS（'SH'，'SALES'，'ESTIMATE_PERCENT'，'9'）; DBMS_STATS.SET_TABLE_PREFS（'SH'，'SALES'，'DEGREE'，'99'）;</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-C1E7CDD8-7E67-4C04-AD99-A2A5D8C655D0">
                        <p class="titleinexample">示例165-18覆盖统计信息首选项</p>
                        <p>在此示例中，旧脚本显式设置<code class="codeph">ESTIMATE_PERCENT</code>而不是使用推荐的<code class="codeph">AUTO_SAMPLE_SIZE</code> 。您的目标是阻止用户使用这些脚本在<code class="codeph">sh.costs</code>表上设置首选项。
                        </p>
                        <p>没有为<code class="codeph">sh.costs</code>或全局级别设置<code class="codeph">ESTIMATE_PERCENT</code>的首选项，因此首选项默认为<code class="codeph">AUTO_SAMPLE_SIZE</code> ：</p><pre class="pre codeblock"><code>SELECT DBMS_STATS.GET_PREFS（'ESTIMATE_PERCENT'，'sh'，'cost'）AS“STAT_PREFS”FROM DUAL; STAT_PREFS ---------- DBMS_STATS.AUTO_SAMPLE_SIZE</code></pre><p>默认情况下，Oracle数据库接受传递给统计信息收集过程的首选项。要覆盖这些参数，请使用<code class="codeph">SET_TABLE_PREFS</code>仅为<code class="codeph">costs</code>表将<code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code>首选项设置为<code class="codeph">TRUE</code> ：</p><pre class="pre codeblock"><code>EXEC DBMS_STATS.SET_TABLE_PREFS（'sh'，'cost'，'PREFERENCE_OVERRIDES_PARAMETER'，'TRUE'）;</code></pre><p>用户创建的脚本在收集<code class="codeph">sh.costs</code>统计信息时会尝试将<code class="codeph">estimate_percent</code>设置为<code class="codeph">100</code> 。
                        </p><pre class="pre codeblock"><code>EXEC DBMS_STATS.GATHER_TABLE_STATS（'sh'，'cost'，ESTIMATE_PERCENT =&gt; 100）;</code></pre><p>但是，由于此表的<code class="codeph">PREFERENCE_OVERRIDES_PARAMETER</code>为<code class="codeph">TRUE</code> ，因此Oracle数据库使用<code class="codeph">AUTO_SAMPLE_SIZE</code>收集统计信息，这是默认值，而不是指定的值<code class="codeph">100</code> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-CDAA4742-5398-4A64-B871-E39F38D0021F__GUID-F817FF57-EB1C-4386-9192-9FB35486A841">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=GUID-4FDDBCB2-1DA1-4697-9F07-5AB7DE01D682" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何设置优化程序统计信息首选项</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2" name="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2"></a><h4 id="ARPLS-GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2" class="sect4"><span class="enumeration_section">165.7.122</span> SET_TABLE_STATS程序</h4>
                  <div>
                     <p>此过程为测试目的创建人工表统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-AB2D48E3-BC06-4AC8-B4BF-5CF50248941C">句法</p><pre class="pre codeblock"><code>DBMS_STATS.SET_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2 DEFAULT NULL，stattab VARCHAR2 DEFAULT NULL，statid VARCHAR2 DEFAULT NULL，numrows NUMBER DEFAULT NULL，numblks NUMBER DEFAULT NULL，avgrlen NUMBER DEFAULT NULL，flags NUMBER DEFAULT NULL，statown VARCHAR2 DEFAULT NULL， no_invalidate BOOLEAN DEFAULT to_no_invalidate_type（get_param（'NO_INVALIDATE'）），cachedblk NUMBER DEFAULT NULL，cachehit NUMBER DEFAULT NULL，强制BOOLEAN DEFAULT FALSE，im_imcu_count NUMBER DEFAULT NULL，im_block_count NUMBER DEFAULT NULL，scanrate NUMBER DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-C99712FA-1AA8-4361-A0DA-CD74A412DFCD">参数</p>
                        <div class="tblformal" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-8D50EA64-73FA-475D-A2B3-4865376DED15">
                           <p class="titleintable">表165-133 SET_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_STATS.SET_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d960973e42285">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d960973e42288">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42293" headers="d960973e42285 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42293 d960973e42288 ">
                                       <p>架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42301" headers="d960973e42285 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42301 d960973e42288 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42309" headers="d960973e42285 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42309 d960973e42288 ">
                                       <p>用于存储统计信息的表分区的名称。如果表已分区且<code class="codeph">partname</code>为<code class="codeph">NULL</code> ，则统计信息将存储在全局表级别。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42323" headers="d960973e42285 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42323 d960973e42288 ">
                                       <p>用于存储统计信息的表。如果<code class="codeph">stattab</code>为<code class="codeph">NULL</code> ，则数据库将统计信息存储在数据字典中。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42337" headers="d960973e42285 ">
                                       <p><code class="codeph">statid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42337 d960973e42288 ">
                                       <p>标识符（可选），用于在<code class="codeph">stattab</code>中与这些统计信息<code class="codeph">stattab</code> 。仅当<code class="codeph">stattab</code>不为<code class="codeph">NULL</code>此标识符才相关。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42354" headers="d960973e42285 ">
                                       <p><code class="codeph">numRows行</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42354 d960973e42288 ">
                                       <p>表或分区中的行数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42362" headers="d960973e42285 ">
                                       <p><code class="codeph">NUMBLKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42362 d960973e42288 ">
                                       <p>表或分区占用的块数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42370" headers="d960973e42285 ">
                                       <p><code class="codeph">avgrlen</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42370 d960973e42288 ">
                                       <p>表或分区的平均行长度。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42378" headers="d960973e42285 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42378 d960973e42288 ">
                                       <p>仅限内部使用。不要设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42386" headers="d960973e42285 ">
                                       <p><code class="codeph">statown</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42386 d960973e42288 ">
                                       <p>包含<code class="codeph">stattab</code>模式（如果与<code class="codeph">ownname</code>不同）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42400" headers="d960973e42285 ">
                                       <p><code class="codeph">no_invalidate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42400 d960973e42288 ">
                                       <p>依赖游标的验证设置。如果设置为<code class="codeph">TRUE</code> ，则该过程不会使从属游标无效。如果设置为<code class="codeph">FALSE</code> ，则该过程立即使相关游标无效。使用<code class="codeph">DBMS_STATS</code> 。 <code class="codeph">AUTO_INVALIDATE</code>让数据库决定何时使相关游标无效。这是默认值。您可以使用<a href="DBMS_STATS.html#GUID-A3D8F8F3-207C-47DB-8733-BCA6873617C2" title="此过程设置所有表的统计信息首选项，不包括数据库拥有的表。可以通过为add_sys参数传递TRUE来包含这些表。">SET_DATABASE_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-A17C466D-1DC0-422E-9E63-063CBAFFBC13" title="此过程在全局级别设置统计信息首选项。">SET_GLOBAL_PREFS过程</a> ， <a href="DBMS_STATS.html#GUID-6F9A5D56-9F06-412D-8218-D92CDA07180A" title="此过程设置指定用户拥有的所有表的统计信息首选项。">SET_SCHEMA_PREFS过程</a>和<a href="DBMS_STATS.html#GUID-CDAA4742-5398-4A64-B871-E39F38D0021F" title="此过程设置指定模式中指定表的统计信息首选项。">SET_TABLE_PREFS过程</a>更改缺省值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42452" headers="d960973e42285 ">
                                       <p><code class="codeph">cachedblk</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42452 d960973e42288 ">
                                       <p>仅限内部使用。不要设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42460" headers="d960973e42285 ">
                                       <p><code class="codeph">cachehit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42460 d960973e42288 ">
                                       <p>仅限内部使用。不要设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42468" headers="d960973e42285 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42468 d960973e42288 ">
                                       <p>确定统计信息锁定时的行为的标志。如果为<code class="codeph">TRUE</code> ，则即使表统计信息已锁定，该过程也会设置值。默认情况下，该设置为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42482" headers="d960973e42285 ">
                                       <p><code class="codeph">im_imcu_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42482 d960973e42288 ">
                                       <p>表或分区中的内存中压缩单元（IMCU）的数量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42490" headers="d960973e42285 ">
                                       <p><code class="codeph">im_block_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42490 d960973e42288 ">
                                       <p>表或分区中的内存中块数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d960973e42498" headers="d960973e42285 ">
                                       <p><code class="codeph">scanrate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d960973e42498 d960973e42288 ">
                                       <p>数据库扫描外部表的速率（MB / s）。此参数仅与外部表相关。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-DC32D103-7FB3-418D-A67D-8469A417D447">安全模型</p>
                        <p>要调用此过程，您必须是表的所有者，或具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您必须是表的所有者，或者具有<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-76F1C9D9-8A9A-4D2C-B0D3-0D08AC0E5B30">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：输入值无效</p>
                        <p><code class="codeph">ORA-20002</code> ：错误的用户统计表;可能需要升级它</p>
                        <p><code class="codeph">ORA-20005</code> ：对象统计信息被锁定</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-11D22579-5AE1-49D6-8269-A51CEFAA4726">使用说明</p>
                        <p>出于测试目的，您可以使用<code class="codeph">DBMS_STATS.SET_*_STATS</code>过程手动为表，索引或系统创建人工统计信息。这些过程将人工统计信息直接插入到数据字典中（当<code class="codeph">stattab</code>为null时）或者插入到用户创建的表中。
                        </p>
                        <div class="infoboxnote" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-03C4C513-50BC-4A5F-A01F-4A1D11E83B87">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">DBMS_STATS.SET_*_STATS</code>过程仅用于开发测试。不要在生产数据库中使用它们。如果在数据字典中设置统计信息，则Oracle数据库会将设置的统计信息视为“真实”统计信息，这意味着统计信息收集作业在不符合过时条件时可能无法重新收集人工统计信息。
                           </p>
                        </div>
                        <p><code class="codeph">DBMS_STATS.SET_*_STATS</code>过程的最典型用例是显示执行计划如何随表中行或块的数量更改而更改，或者为临时表创建实际统计信息。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>优化程序使用缓存的数据来估计索引或统计信息表访问的缓存块数。数据库通过组合从磁盘读取非缓存块的I / O开销，从缓冲区缓存获取缓存块的CPU成本以及处理数据的CPU成本来计算操作的总成本。</p>
                           </li>
                           <li>
                              <p>数据库始终维护<code class="codeph">cachedblk</code>和<code class="codeph">cachehit</code> 。然而，数据库使用用于优化的相应缓存统计信息表和索引的统计信息的一部分，只有当用户呼叫<code class="codeph">DBMS_STATS.GATHER_[TABLE/INDEX/SCHEMA/DATABASE]_STATS</code>程序自动模式或<code class="codeph">DBMS_STATS.GATHER_SYSTEM_STATS</code>为手动模式。为了防止用户使用不准确和不可靠的数据，优化器为每个<code class="codeph">cachehit</code>和每个对象的<code class="codeph">cachedblk</code>计算“置信因子”。如果值的置信因子满足置信度标准，则数据库使用此值;否则，数据库使用默认值。
                              </p>
                           </li>
                           <li>
                              <p>对象缓存统计信息的自动维护算法假定只存在一个主要数据库工作负载。该算法将统计信息调整为此工作负载，忽略其他“次要”工作负载。如果此假设为假，则必须使用手动模式来维护对象缓存统计信息。</p>
                           </li>
                           <li>
                              <p>自动模式的对象缓存统计信息维护算法会阻止您在以下情况下使用统计信息：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当分析的数据不足时，例如最近创建对象时</p>
                                 </li>
                                 <li>
                                    <p>当数据库没有一个主要工作负载时，导致平均值与实际值不对应</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-F993ADFE-85A9-4939-84D1-CC7A6E5C56D2__GUID-6FAB31D2-E0A4-4555-93ED-E9A2AACAE770">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=GUID-D73DB2F4-46C1-4C5B-94DD-DE1F1DD5BBCC" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何设置人工统计数据</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988" name="GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988"></a><h4 id="ARPLS-GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988" class="sect4"><span class="enumeration_section">165.7.123</span> SHOW_EXTENDED_STATS_NAME功能</h4>
                  <div>
                     <p>此函数返回为用户指定的扩展创建的统计条目的名称。如果没有创建扩展，则会引发错误。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988__GUID-E974F9EA-8870-4EBD-A815-C089B19EF154">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.SHOW_EXTENDED_STATS_NAME（拥有名称VARCHAR2，tabname VARCHAR2，扩展名VARCHAR2）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988__GUID-39EFF27A-54D3-49CD-864F-ACE8DA4DAF24">参数</p>
                        <div class="tblformal" id="GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988__GUID-BBAF7274-44D4-4977-AB2F-869286FA58EB">
                           <p class="titleintable">表165-134 SHOW_EXTENDED_STATS_NAME函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SHOW_EXTENDED_STATS_NAME函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.SHOW_EXTENDED_STATS_NAME subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e42726">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e42729">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e42734" headers="d960973e42726 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e42734 d960973e42729 ">
                                       <p>表的所有者名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e42742" headers="d960973e42726 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e42742 d960973e42729 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e42750" headers="d960973e42726 ">
                                       <p><code class="codeph">延期</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e42750 d960973e42729 ">
                                       <p>可以是列组也可以是表达式。假设指定的表有两列<code class="codeph">c1</code> ， <code class="codeph">c2</code> 。示例列组可以是“（ <code class="codeph">c1</code> ， <code class="codeph">c2</code> ）”，示例表达式可以是“（ <code class="codeph">c1</code> + <code class="codeph">c2</code> ）”。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988__GUID-CD2C79F2-9E3A-486D-8550-1F306FD29F0F">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：对象不存在或权限不足</p>
                        <p><code class="codeph">ORA-20001</code> ：处理扩展时出错</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-45029036-3FFC-4B7E-BFDC-A624D42C0988__GUID-0A0E7FB7-86B1-4979-A925-E156F3B1D4C6">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E" name="GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E"></a><h4 id="ARPLS-GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E" class="sect4"><span class="enumeration_section">165.7.124</span> TRANSFER_STATS程序</h4>
                  <div>
                     <p>此过程将指定表的统计信息从<code class="codeph">dblink</code>指定的远程数据库传输到本地数据库。
                     </p>
                     <div class="section">
                        <p>源数据库中的统计信息将保留。它同样传递与统计相关的结构，如概要和DML监测信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E__GUID-BAEC8FB0-E002-445D-8E43-41DB041F1B97">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.TRANSFER_STATS（ownname IN VARCHAR2，tabname IN VARCHAR2，dblink IN VARCHAR2，options IN NUMBER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E__GUID-07F98770-E925-45DB-B3CA-8DF3D13FA7C7">参数</p>
                        <div class="tblformal" id="GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E__GUID-9FCF6D47-1F12-438F-9DB4-958F89AD6309">
                           <p class="titleintable">表165-135 TRANSFER_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TRANSFER_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.TRANSFER_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e42926">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e42929">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e42934" headers="d960973e42926 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e42934 d960973e42929 ">
                                       <p>表的所有者名称。如果为<code class="codeph">NULL</code>则数据库中的所有模式。如果为<code class="codeph">NULL</code> ，则该过程也将传输全局首选项。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e42948" headers="d960973e42926 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e42948 d960973e42929 ">
                                       <p>表的名称。如果为<code class="codeph">NULL</code> ， <code class="codeph">OWNNAME</code>所有表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e42962" headers="d960973e42926 ">
                                       <p><code class="codeph">DBLINK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e42962 d960973e42929 ">
                                       <p>数据库链接名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e42970" headers="d960973e42926 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e42970 d960973e42929 ">
                                       <p>默认情况下，该过程不会传输全局首选项。指定<code class="codeph">ADD_GLOBAL_PREFS</code>复制全局首选项。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C22235-9FB2-4817-A3E6-5CF373856A6E__GUID-813B1A14-20A2-4F28-A6A8-7016B0457BF9">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9" name="GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9"></a><h4 id="ARPLS-GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9" class="sect4"><span class="enumeration_section">165.7.125</span> UNLOCK_PARTITION_STATS程序</h4>
                  <div>
                     <p>此过程使用户可以解锁分区的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9__GUID-BB2EA036-A054-4ECB-AE63-7E0405F004D8">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.UNLOCK_PARTITION_STATS（ownname VARCHAR2，tabname VARCHAR2，partname VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9__GUID-435A61C2-21D7-4215-A914-2CE9F760E001">参数</p>
                        <div class="tblformal" id="GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9__GUID-A6A67597-864A-4C1C-B1EC-31DBF924A992">
                           <p class="titleintable">表165-136 UNLOCK_PARTITION_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNLOCK_PARTITION_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.UNLOCK_PARTITION_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e43114">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e43117">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43122" headers="d960973e43114 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43122 d960973e43117 ">
                                       <p>要解锁的架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43130" headers="d960973e43114 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43130 d960973e43117 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43138" headers="d960973e43114 ">
                                       <p><code class="codeph">零件名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43138 d960973e43117 ">
                                       <p>[Sub]分区名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4AB1862-71AB-4F9F-9949-0D04B7CAE3F9__GUID-4F11218D-66CB-4449-B344-8B992FACC7A0">使用说明</p>
                        <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" name="GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B"></a><h4 id="ARPLS-GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" class="sect4"><span class="enumeration_section">165.7.126</span> UNLOCK_SCHEMA_STATS程序</h4>
                  <div>
                     <p>此过程将解锁模式中所有表的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B__GUID-6462EDBD-2A60-423F-8602-002275E85584">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.UNLOCK_SCHEMA_STATS（ownname VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B__GUID-BD473951-CD11-40DC-AFC4-0AB6B7C17DB9">参数</p>
                        <div class="tblformal" id="GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B__GUID-67352FE8-7494-43B6-B09A-585A0353A848">
                           <p class="titleintable">表165-137 UNLOCK_SCHEMA_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNLOCK_SCHEMA_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.UNLOCK_SCHEMA_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e43278">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e43281">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43286" headers="d960973e43278 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43286 d960973e43281 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B__GUID-0330DEA9-9EB0-4005-BE67-6E38B5DAC139">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>当锁定表的统计信息时，所有依赖于表的统计信息（包括表统计信息，列统计信息，直方图和所有相关索引的统计信息）都被视为已锁定。</p>
                           </li>
                           <li>
                              <p>如果对象的统计信息被锁定，则修改单个表，索引或列的字典中的统计信息的<code class="codeph">SET_*,</code> <code class="codeph">DELETE_*,</code> <code class="codeph">IMPORT_*,</code> <code class="codeph">GATHER_*</code>过程将引发错误。
                              </p>
                           </li>
                           <li>
                              <p>对多个对象（例如<code class="codeph">GATHER_SCHEMA_STATS</code> ）进行操作的过程将跳过修改对象的统计信息（如果它已被锁定）。许多过程都有强制参数来覆盖锁。
                              </p>
                           </li>
                           <li>
                              <p>无论是<a href="DBMS_STATS.html#GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" title="此过程将解锁模式中所有表的统计信息。">UNLOCK_SCHEMA_STATS过程</a>也不<a href="DBMS_STATS.html#GUID-690DF3FA-E225-4959-8836-5458F17217D5" title="此过程将解锁表中的统计信息。">UNLOCK_TABLE_STATS程序</a>被设计来解锁相应的分区的统计信息。当您调用<a href="DBMS_STATS.html#GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" title="此过程将锁定表上的统计信息。">LOCK_TABLE_STATS过程时</a> ，它会在表级别设置统计锁定位。在这种情况下，您无法收集有关依赖对象（如分区和索引）的统计信息。<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="This procedure enables the user to lock statistics for a partition.">出于</a>同样的原因，如果表统计信息被锁定，则依赖项将被锁定，您无需显式调用<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="此过程使用户可以锁定分区的统计信息。">LOCK_PARTITION_STATS过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-690DF3FA-E225-4959-8836-5458F17217D5" name="GUID-690DF3FA-E225-4959-8836-5458F17217D5"></a><h4 id="ARPLS-GUID-690DF3FA-E225-4959-8836-5458F17217D5" class="sect4"><span class="enumeration_section">165.7.127</span> UNLOCK_TABLE_STATS程序</h4>
                  <div>
                     <p>此过程将解锁表中的统计信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-690DF3FA-E225-4959-8836-5458F17217D5__GUID-D2A25177-EE73-4DCF-903D-E9C07F5F3616">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.UNLOCK_TABLE_STATS（ownname VARCHAR2，tabname VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-690DF3FA-E225-4959-8836-5458F17217D5__GUID-10A3F49B-F424-40B5-B2E7-100EEA43B7C7">参数</p>
                        <div class="tblformal" id="GUID-690DF3FA-E225-4959-8836-5458F17217D5__GUID-BEEC860F-6426-4D2A-8A87-6C96D76526C5">
                           <p class="titleintable">表165-138 UNLOCK_TABLE_STATS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNLOCK_TABLE_STATS过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.UNLOCK_TABLE_STATS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e43483">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e43486">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43491" headers="d960973e43483 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43491 d960973e43486 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43499" headers="d960973e43483 ">
                                       <p><code class="codeph">TABNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43499 d960973e43486 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-690DF3FA-E225-4959-8836-5458F17217D5__GUID-7A890A0F-D677-457A-8C73-F95D32D0AEE9">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要调用此过程，您必须是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code>权限。对于<code class="codeph">SYS</code>拥有的对象，您需要是表的所有者，或者您需要<code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> <code class="codeph">DICTIONARY</code>特权或<code class="codeph">SYSDBA</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>当锁定表的统计信息时，所有依赖于表的统计信息（包括表统计信息，列统计信息，直方图和所有相关索引的统计信息）都被视为已锁定。</p>
                           </li>
                           <li>
                              <p>如果对象的统计信息被锁定，则修改单个表，索引或列的字典中的统计信息的<code class="codeph">SET_*,</code> <code class="codeph">DELETE_*,</code> <code class="codeph">IMPORT_*,</code> <code class="codeph">GATHER_*</code>过程将引发错误。
                              </p>
                           </li>
                           <li>
                              <p>对多个对象（例如<code class="codeph">GATHER_SCHEMA_STATS</code> ）进行操作的过程将跳过修改对象的统计信息（如果它已被锁定）。许多过程都有强制参数来覆盖锁。
                              </p>
                           </li>
                           <li>
                              <p>无论是<a href="DBMS_STATS.html#GUID-D0D4EEDC-A930-4844-9584-9DF0C235461B" title="此过程将解锁模式中所有表的统计信息。">UNLOCK_SCHEMA_STATS过程</a>也不<a href="DBMS_STATS.html#GUID-690DF3FA-E225-4959-8836-5458F17217D5" title="此过程将解锁表中的统计信息。">UNLOCK_TABLE_STATS程序</a>被设计来解锁相应的分区的统计信息。当您调用<a href="DBMS_STATS.html#GUID-77225DE6-28D1-4064-9531-87BB1CFB4405" title="此过程将锁定表上的统计信息。">LOCK_TABLE_STATS过程时</a> ，它会在表级别设置统计锁定位。在这种情况下，您无法收集有关依赖对象（如分区和索引）的统计信息。<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="This procedure enables the user to lock statistics for a partition.">出于</a>同样的原因，如果表统计信息被锁定，则依赖项将被锁定，您无需显式调用<a href="DBMS_STATS.html#GUID-C8437383-8D09-4BB1-936A-0B620E0B6A0E" title="此过程使用户可以锁定分区的统计信息。">LOCK_PARTITION_STATS过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3375B74A-7322-4243-BEA9-603951F9363C" name="GUID-3375B74A-7322-4243-BEA9-603951F9363C"></a><h4 id="ARPLS-GUID-3375B74A-7322-4243-BEA9-603951F9363C" class="sect4"><span class="enumeration_section">165.7.128</span> UPGRADE_STAT_TABLE程序</h4>
                  <div>
                     <p>此过程从旧版本升级用户统计信息表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3375B74A-7322-4243-BEA9-603951F9363C__GUID-E64181A2-2348-468D-B92A-59074FB36622">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_STATS.UPGRADE_STAT_TABLE（ownname VARCHAR2，stattab VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3375B74A-7322-4243-BEA9-603951F9363C__GUID-F4481064-19F6-4337-8EAA-126E6CDB8874">参数</p>
                        <div class="tblformal" id="GUID-3375B74A-7322-4243-BEA9-603951F9363C__GUID-48A96222-168B-4AA5-A8FF-D7789CA9B0DA">
                           <p class="titleintable">表165-139 UPGRADE_STAT_TABLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UPGRADE_STAT_TABLE过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_STATS.UPGRADE_STAT_TABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d960973e43697">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d960973e43700">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43705" headers="d960973e43697 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43705 d960973e43700 ">
                                       <p>架构的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d960973e43713" headers="d960973e43697 ">
                                       <p><code class="codeph">stattab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d960973e43713 d960973e43700 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3375B74A-7322-4243-BEA9-603951F9363C__GUID-9978360B-8958-4E13-958A-B3858A8F2896">例外</p>
                        <p><code class="codeph">ORA-20000</code> ：无法升级表</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3375B74A-7322-4243-BEA9-603951F9363C__GUID-EBFD837A-7DA0-4AB2-A53A-9230B1FD5EA2">使用说明</p>
                        <p>要调用此过程，您需要具有删除和创建表的权限。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>