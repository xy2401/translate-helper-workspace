<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle provides guidelines for using Oracle Data Redaction.">
      <meta name="description" content="Oracle provides guidelines for using Oracle Data Redaction.">
      <title>Security Considerations for Oracle Data Redaction</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Security Guide ">
      <meta property="og:description" content="Oracle provides guidelines for using Oracle Data Redaction.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="advanced-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-13T09:26:12-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96301-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-data-redaction-use-with-oracle-database-features.html" title="Previous" type="text/html">
      <link rel="next" href="glossary.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Advanced Security Guide">
    <meta name="dcterms.isVersionOf" content="ASOAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-redaction-use-with-oracle-database-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="glossary.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asopart2.html" property="item" typeof="WebPage"><span property="name">Using Oracle Data Redaction</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Security Considerations for Oracle Data Redaction</li>
            </ol>
            <a id="GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" name="GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37"></a><a id="ASOAG10498"></a>
            
            <h2 id="ASOAG-GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" class="sect2"><span class="enumeration_chapter">16 </span>Security Considerations for Oracle Data Redaction
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle provides guidelines for using Oracle Data Redaction. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA">Oracle Data Redaction General Security Guidelines</a><br>It is important to understand general security guidelines for using Oracle Data Redaction.
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-49898C42-C978-4872-A3B5-EE58AA0698D2">Restriction of Administrative Access to Oracle Data Redaction Policies</a><br>You can restrict the list of users who can create, view and edit Data Redaction policies. 
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772">How Oracle Data Redaction Affects the SYS, SYSTEM, and Default Schemas</a><br>Both users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> automatically have the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege.
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A">Policy Expressions That Use SYS_CONTEXT Attributes</a><br>Be careful when writing a policy expression that depends on a <code class="codeph">SYS_CONTEXT</code> attribute that is populated by an application.
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-38318C24-8327-48B4-A5DD-D8382E562FD8">Oracle Data Redaction Policies on Materialized Views</a><br>You can create Oracle Data Redaction policies on materialized views and on their base tables. 
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-18E46EB7-1535-44A0-8F3E-902C67197933">REDACTION_COLUMNS Data Dictionary View Behavior When a View Is Invalid</a><br>When an Oracle Data Redaction policy exists on a column of a view, and the view becomes invalid, the Data Redaction policy remains visible in the <code class="codeph">REDACTION_COLUMNS</code> data dictionary view.
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820">Dropped Oracle Data Redaction Policies When the Recycle Bin Is Enabled</a><br>You should check if the recycle bin is enabled before you drop Oracle Data Redaction policies.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="asopart2.html" title="Part II describes how to use Oracle Data Redaction.">Using Oracle Data Redaction</a></p>
                  </div>
               </div>
            </div>
            <a id="ASOAG10535"></a><div class="props_rev_3"><a id="GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA" name="GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA"></a><h3 id="ASOAG-GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA" class="sect3">Oracle Data Redaction General Security Guidelines</h3>
               <div>
                  <p>It is important to understand general security guidelines for using Oracle Data Redaction.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Data Redaction is not intended to protect against attacks by regular and privileged database users who run ad hoc queries directly against the database. If the user can issue arbitrary SQL or PL/SQL statements, then he or she will be able to access the actual value.</p>
                     </li>
                     <li>
                        <p>Oracle Data Redaction is not intended to protect against users who run ad hoc SQL queries that attempt to determine the actual values by <a href="glossary.html#GUID-AB8FF26D-8152-4E11-8C0B-4AC74B58C410"><span class="xrefglossterm">inference</span></a>. 
                        </p>
                     </li>
                     <li>
                        <p>Oracle Data Redaction relies on the database and application context values. For applications, it is the responsibility of the application to properly initialize the context value. </p>
                     </li>
                     <li>
                        <p>Oracle Data Redaction is not enforced for users who are logged in using the <code class="codeph">SYSDBA</code> administrative privilege. 
                        </p>
                     </li>
                     <li>
                        <p>Certain DDL statements that attempt to copy the <a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">actual data</span></a> out from under the control of a data redaction policy (that is, <code class="codeph">CREATE TABLE AS SELECT</code>, <code class="codeph">INSERT AS SELECT</code>) are blocked by default, but you can disable this behavior by granting the user the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege.
                        </p>
                     </li>
                     <li>
                        <p>Oracle Data Redaction does not affect day-to-day database operations, such as backup and recovery, Oracle Data Pump exports and imports, Oracle Data Guard operations, and replication. </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle provides guidelines for using Oracle Data Redaction.">Security Considerations for Oracle Data Redaction</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG748"></a><div class="props_rev_3"><a id="GUID-49898C42-C978-4872-A3B5-EE58AA0698D2" name="GUID-49898C42-C978-4872-A3B5-EE58AA0698D2"></a><h3 id="ASOAG-GUID-49898C42-C978-4872-A3B5-EE58AA0698D2" class="sect3">Restriction of Administrative Access to Oracle Data Redaction Policies</h3>
               <div>
                  <p>You can restrict the list of users who can create, view and edit Data Redaction policies. </p>
                  <p>To accomplish this, you can limit who has the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_REDACT</code> package and by limiting who has the <code class="codeph">SELECT</code> privilege on the <code class="codeph">REDACTION_POLICIES</code> and <code class="codeph">REDACTION_COLUMNS</code> views.
                  </p>
                  <p>You also can restrict who is exempted from redaction by limiting the <code class="codeph">EXEMPT REDACTION POLICY</code> privilege. If you use Oracle Database Vault to restrict privileged user access, then you can use realms to restrict granting of <code class="codeph">EXEMPT REDACTION POLICY</code>.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884" title="You can use Oracle Data Redaction in an Oracle Database Vault environment.">Oracle Data Redaction and Oracle Database Vault</a></li>
                        <li><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="You can exempt users from having Oracle Data Redaction policies applied to the data they access.">Exemption of Users from Oracle Data Redaction Policies</a></li>
                        <li><a href="../dvadm/introduction-to-oracle-database-vault.html#DVADM-GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" target="_blank">Introduction to Oracle Database Vault</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle provides guidelines for using Oracle Data Redaction.">Security Considerations for Oracle Data Redaction</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ASOAG360"></a><div class="props_rev_3"><a id="GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772" name="GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772"></a><h3 id="ASOAG-GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772" class="sect3">How Oracle Data Redaction Affects the SYS, SYSTEM, and Default Schemas</h3>
               <div>
                  <p>Both users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> automatically have the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege.
                  </p>
                  <p><code class="codeph">SYSTEM</code> has the <code class="codeph">EXP_FULL_DATABASE</code> role, which includes the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege.
                  </p>
                  <p>This means that the <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> users can always bypass any existing Oracle Data Redaction policies, and will always be able to view data from tables (or views) that have Data Redaction policies defined on them.
                  </p>
                  <p>Follow these guidelines:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Do not create Data Redaction policies on the default Oracle Database schemas, including the <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> schemas. 
                        </p>
                     </li>
                     <li>
                        <p>Be aware that granting the <code class="codeph">EXEMPT DATA REDACTION</code> system privilege to additional roles may enable users to bypass Oracle Data Redaction, because the grantee role may have been granted to additional roles. 
                        </p>
                     </li>
                     <li>
                        <p>Do not revoke the <code class="codeph">EXEMPT DATA REDACTION</code> system privilege from the roles that it was granted to by default. 
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle provides guidelines for using Oracle Data Redaction.">Security Considerations for Oracle Data Redaction</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10536"></a><div class="props_rev_3"><a id="GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A" name="GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A"></a><h3 id="ASOAG-GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A" class="sect3">Policy Expressions That Use SYS_CONTEXT Attributes</h3>
               <div>
                  <p>Be careful when writing a policy expression that depends on a <code class="codeph">SYS_CONTEXT</code> attribute that is populated by an application.
                  </p>
                  <p>The application might not always populate that attribute. </p>
                  <p>If the user somehow connects directly (rather than through the application), then the <code class="codeph">SYS_CONTEXT</code> attribute would not have been populated. If you do not handle this <code class="codeph">NULL</code> scenario in your policy expression, you could unintentionally reveal <a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">actual data</span></a> to the querying user.
                  </p>
                  <p>For example, suppose you wanted to create a policy expression that intends to redact the query results for everyone except users who have the client identifier value of <code class="codeph">SUPERVISOR</code>. The following expression unintentionally enables querying users who have <code class="codeph">NULL</code> as the value for their <code class="codeph">CLIENT_IDENTIFIER</code> to see the real data:
                  </p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV', 'CLIENT_IDENTIFIER') IS NOT 'SUPERVISOR'
</pre><p>A more rigorous policy expression redacts the result of the query if the client identifier is not set, that is, it has a <code class="codeph">NULL</code> value.
                  </p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV', 'CLIENT_IDENTIFIER') IS NOT 'SUPERVISOR' OR IS NULL
</pre><p>Remember that in SQL, comparisons with <code class="codeph">NULL</code> are undefined, and are thus <code class="codeph">FALSE</code>, but redaction only takes place when the policy expression evaluates to <code class="codeph">TRUE</code>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle provides guidelines for using Oracle Data Redaction.">Security Considerations for Oracle Data Redaction</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10537"></a><div class="props_rev_3"><a id="GUID-38318C24-8327-48B4-A5DD-D8382E562FD8" name="GUID-38318C24-8327-48B4-A5DD-D8382E562FD8"></a><h3 id="ASOAG-GUID-38318C24-8327-48B4-A5DD-D8382E562FD8" class="sect3">Oracle Data Redaction Policies on Materialized Views</h3>
               <div>
                  <p>You can create Oracle Data Redaction policies on materialized views and on their base tables. </p>
                  <p>However, ensure that the creator of the materialized view, or the user who performs the refresh of the materialized view, is not blocked by any Data Redaction policies. In other words, the user performing the materialized view creation or refresh operations should be exempt from the Data Redaction policy. As a best practice, when you create a new materalized view, treat it as a copy of the actual table, and then create a separate Data Redaction policy to protect it.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle provides guidelines for using Oracle Data Redaction.">Security Considerations for Oracle Data Redaction</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-18E46EB7-1535-44A0-8F3E-902C67197933" name="GUID-18E46EB7-1535-44A0-8F3E-902C67197933"></a><h3 id="ASOAG-GUID-18E46EB7-1535-44A0-8F3E-902C67197933" class="sect3">REDACTION_COLUMNS Data Dictionary View Behavior When a View Is Invalid</h3>
               <div>
                  <p>When an Oracle Data Redaction policy exists on a column of a view, and the view becomes invalid, the Data Redaction policy remains visible in the <code class="codeph">REDACTION_COLUMNS</code> data dictionary view.
                  </p>
                  <p>For example, a view can become invalid if one of its columns refers to a column that was dropped from a table upon which the view depends. </p>
                  <p>The column continues to be visible in the <code class="codeph">REDACTION_COLUMNS</code> data dictionary view because the Data Redaction policy is not automatically dropped when the view becomes invalid. 
                  </p>
                  <p>Instead, the decision on whether to drop the Data Redaction policy is taken when the view is subsequently altered. </p>
                  <p>This approach was chosen in preference to automatically dropping the Data Redaction policy when the view becomes invalid because it is less error-prone and presents less risk of accidentally displaying actual data from the underlying table. </p>
                  <p>By deferring the decision to when the view is being altered, it allows the view to be recompiled after the column is restored to the table. After the column is restored to the table and the view is recompiled, then the view becomes valid and still has its Data Redaction policy in place. </p>
                  <p>On the other hand, if the invalid view definition was subsequently replaced with a valid view definition which no longer contains the column that the Data Redaction policy was previously defined on, it is at that point that the Data Redaction policy is automatically dropped. The <code class="codeph">REDACTION_COLUMNS</code> data dictionary view is then updated to no longer show the column (since it is no longer part of the new view's definition). 
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle provides guidelines for using Oracle Data Redaction.">Security Considerations for Oracle Data Redaction</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10538"></a><div class="props_rev_3"><a id="GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820" name="GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820"></a><h3 id="ASOAG-GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820" class="sect3">Dropped Oracle Data Redaction Policies When the Recycle Bin Is Enabled</h3>
               <div>
                  <p>You should check if the recycle bin is enabled before you drop Oracle Data Redaction policies.</p>
                  <p>If you drop a table or view that has an Oracle Data Redaction policy defined on it when the recycle bin feature is enabled, and if you query the <code class="codeph">REDACTION_COLUMNS</code> or <code class="codeph">REDACTION_POLICIES</code> data dictionary views before you purge the recycle bin, then you will see object names such as <code class="codeph">BIN$...</code> (for example, <code class="codeph">BIN$1Xu5PSW5VaPgQxGS5AoAEA==$0</code>). 
                  </p>
                  <p>This is normal behavior. These policies are removed when you purge the recycle bin.</p>
                  <p>To find if the recycle bin is enabled, you can run the <code class="codeph">SHOW PARAMETER RECYCLEBIN</code> command in SQL*Plus.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820__GUID-3D4F9815-5C69-4F78-B9FC-A83916A3D891">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/managing-tables.html#ADMIN11682" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about purging objects from the recycle bin
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle provides guidelines for using Oracle Data Redaction.">Security Considerations for Oracle Data Redaction</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>