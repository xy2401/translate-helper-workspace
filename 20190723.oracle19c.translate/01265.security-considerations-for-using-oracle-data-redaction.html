<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle provides guidelines for using Oracle Data Redaction."></meta>
      <meta name="description" content="Oracle provides guidelines for using Oracle Data Redaction."></meta>
      <title>Oracle Data Redaction的安全注意事项</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Security Guide "></meta>
      <meta property="og:description" content="Oracle provides guidelines for using Oracle Data Redaction."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="advanced-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-13T09:26:12-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96301-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-data-redaction-use-with-oracle-database-features.html" title="Previous" type="text/html"></link>
      <link rel="next" href="glossary.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Advanced Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ASOAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-redaction-use-with-oracle-database-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="glossary.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asopart2.html" property="item" typeof="WebPage"><span property="name">使用Oracle Data Redaction</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Data Redaction的安全注意事项</li>
            </ol>
            <a id="GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" name="GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37"></a><a id="ASOAG10498"></a>
            
            <h2 id="ASOAG-GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" class="sect2"><span class="enumeration_chapter">16</span> Oracle数据编辑的安全注意事项</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle提供了使用Oracle Data Redaction的指南。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA">Oracle Data Redaction一般安全准则</a><br>了解使用Oracle Data Redaction的一般安全准则非常重要。
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-49898C42-C978-4872-A3B5-EE58AA0698D2">对Oracle Data Redaction策略的管理访问限制</a><br>您可以限制可以创建，查看和编辑数据编辑策略的用户列表。
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772">Oracle数据编辑如何影响SYS，SYSTEM和默认架构</a><br>用户<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>自动拥有<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A">使用SYS_CONTEXT属性的策略表达式</a><br>编写依赖于应用程序填充的<code class="codeph">SYS_CONTEXT</code>属性的策略表达式时要小心。
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-38318C24-8327-48B4-A5DD-D8382E562FD8">物化视图上的Oracle数据编校策略</a><br>您可以在物化视图及其基表上创建Oracle Data Redaction策略。
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-18E46EB7-1535-44A0-8F3E-902C67197933">当视图无效时，REDACTION_COLUMNS数据字典查看行为</a><br>当视图的列上存在Oracle数据编辑策略，并且视图变为无效时，数据编辑策略在<code class="codeph">REDACTION_COLUMNS</code>数据字典视图中仍然可见。
                  </li>
                  <li class="ulchildlink"><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820">启用回收站时删除Oracle数据编校策略</a><br>在删除Oracle Data Redaction策略之前，应检查是否已启用回收站。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="asopart2.html" title="第II部分介绍了如何使用Oracle Data Redaction。">使用Oracle Data Redaction</a></p>
                  </div>
               </div>
            </div>
            <a id="ASOAG10535"></a><div class="props_rev_3"><a id="GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA" name="GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA"></a><h3 id="ASOAG-GUID-8AAB65A3-56F7-48A2-8CD6-5D9D556835AA" class="sect3">Oracle Data Redaction一般安全准则</h3>
               <div>
                  <p>了解使用Oracle Data Redaction的一般安全准则非常重要。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle Data Redaction并非旨在防止直接针对数据库运行即席查询的常规和特权数据库用户的攻击。如果用户可以发出任意SQL或PL / SQL语句，那么他或她将能够访问实际值。</p>
                     </li>
                     <li>
                        <p>Oracle Data Redaction并非旨在防止运行临时SQL查询的用户尝试通过<a href="glossary.html#GUID-AB8FF26D-8152-4E11-8C0B-4AC74B58C410"><span class="xrefglossterm">推理</span></a>确定实际值。
                        </p>
                     </li>
                     <li>
                        <p>Oracle Data Redaction依赖于数据库和应用程序上下文值。对于应用程序，应用程序有责任正确初始化上下文值。</p>
                     </li>
                     <li>
                        <p>对于使用<code class="codeph">SYSDBA</code>管理权限登录的用户，不强制使用Oracle Data Redaction。
                        </p>
                     </li>
                     <li>
                        <p>某些尝试从数据编校策略控制下复制<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据的</span></a> DDL语句（即<code class="codeph">CREATE TABLE AS SELECT</code> ， <code class="codeph">INSERT AS SELECT</code> ）在默认情况下被阻止，但您可以通过向用户授予<code class="codeph">EXEMPT REDACTION POLICY</code>来禁用此行为<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。
                        </p>
                     </li>
                     <li>
                        <p>Oracle Data Redaction不会影响日常数据库操作，例如备份和恢复，Oracle Data Pump导出和导入，Oracle Data Guard操作和复制。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle提供了使用Oracle Data Redaction的指南。">Oracle数据编辑的安全注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG748"></a><div class="props_rev_3"><a id="GUID-49898C42-C978-4872-A3B5-EE58AA0698D2" name="GUID-49898C42-C978-4872-A3B5-EE58AA0698D2"></a><h3 id="ASOAG-GUID-49898C42-C978-4872-A3B5-EE58AA0698D2" class="sect3">对Oracle Data Redaction策略的管理访问限制</h3>
               <div>
                  <p>您可以限制可以创建，查看和编辑数据编辑策略的用户列表。</p>
                  <p>要做到这一点，你可以限制谁拥有<code class="codeph">EXECUTE</code>的特权<code class="codeph">DBMS_REDACT</code>包并通过限制谁拥有<code class="codeph">SELECT</code>上的特权<code class="codeph">REDACTION_POLICIES</code>和<code class="codeph">REDACTION_COLUMNS</code>意见。
                  </p>
                  <p>您还可以通过限制<code class="codeph">EXEMPT REDACTION POLICY</code>权限来限制谁免于编辑。如果使用Oracle Database Vault限制特权用户访问权限，则可以使用领域来限制授予<code class="codeph">EXEMPT REDACTION POLICY</code> 。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884" title="您可以在Oracle Database Vault环境中使用Oracle Data Redaction。">Oracle Data Redaction和Oracle Database Vault</a></li>
                        <li><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="您可以免除用户将Oracle Data Redaction策略应用于他们访问的数据。">从Oracle数据编辑策略中豁免用户</a></li>
                        <li><a href="../dvadm/introduction-to-oracle-database-vault.html#DVADM-GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" target="_blank">Oracle Database Vault简介</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle提供了使用Oracle Data Redaction的指南。">Oracle数据编辑的安全注意事项</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ASOAG360"></a><div class="props_rev_3"><a id="GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772" name="GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772"></a><h3 id="ASOAG-GUID-5DF99B37-7BF1-4ED7-8483-9E293588D772" class="sect3">Oracle数据编辑如何影响SYS，SYSTEM和默认架构</h3>
               <div>
                  <p>用户<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>自动拥有<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。
                  </p>
                  <p><code class="codeph">SYSTEM</code>具有<code class="codeph">EXP_FULL_DATABASE</code>角色，其中包括<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。
                  </p>
                  <p>这意味着<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>用户始终可以绕过任何现有的Oracle Data Redaction策略，并始终能够查看在其上定义了数据编辑策略的表（或视图）中的数据。
                  </p>
                  <p>请遵循以下准则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>不要在默认Oracle数据库模式上创建数据编辑策略，包括<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>模式。
                        </p>
                     </li>
                     <li>
                        <p>请注意，将<code class="codeph">EXEMPT DATA REDACTION</code>系统特权授予其他角色可以使用户绕过Oracle Data Redaction，因为可能已将授予者角色授予其他角色。
                        </p>
                     </li>
                     <li>
                        <p>请勿从默认授予的角色中撤消<code class="codeph">EXEMPT DATA REDACTION</code>系统特权。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle提供了使用Oracle Data Redaction的指南。">Oracle数据编辑的安全注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10536"></a><div class="props_rev_3"><a id="GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A" name="GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A"></a><h3 id="ASOAG-GUID-AA3AF99C-7A20-4333-981B-7088B5ECB05A" class="sect3">使用SYS_CONTEXT属性的策略表达式</h3>
               <div>
                  <p>编写依赖于应用程序填充的<code class="codeph">SYS_CONTEXT</code>属性的策略表达式时要小心。
                  </p>
                  <p>应用程序可能并不总是填充该属性。</p>
                  <p>如果用户以某种方式直接连接（而不是通过应用程序），则不会填充<code class="codeph">SYS_CONTEXT</code>属性。如果您未在策略表达式中处理此<code class="codeph">NULL</code>方案，则可能会无意中向查询用户显示<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据</span></a> 。
                  </p>
                  <p>例如，假设您要创建一个策略表达式，该表达式旨在为除客户标识符值为<code class="codeph">SUPERVISOR</code>用户之外的所有人编辑查询结果。以下表达式无意中启用查询具有<code class="codeph">NULL</code>作为其<code class="codeph">CLIENT_IDENTIFIER</code>值的用户来查看实际数据：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CLIENT_IDENTIFIER'）不是'主管'</pre><p>如果未设置客户端标识符，则更严格的策略表达式会对查询结果进行编辑，即它具有<code class="codeph">NULL</code>值。
                  </p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CLIENT_IDENTIFIER'）不是'SUPERVISOR'或者是NULL</pre><p>请记住，在SQL中，与<code class="codeph">NULL</code>比较是未定义的，因此为<code class="codeph">FALSE</code> ，但只有在策略表达式求值为<code class="codeph">TRUE</code>时才会进行编校。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle提供了使用Oracle Data Redaction的指南。">Oracle数据编辑的安全注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10537"></a><div class="props_rev_3"><a id="GUID-38318C24-8327-48B4-A5DD-D8382E562FD8" name="GUID-38318C24-8327-48B4-A5DD-D8382E562FD8"></a><h3 id="ASOAG-GUID-38318C24-8327-48B4-A5DD-D8382E562FD8" class="sect3">物化视图上的Oracle数据编校策略</h3>
               <div>
                  <p>您可以在物化视图及其基表上创建Oracle Data Redaction策略。</p>
                  <p>但是，请确保实体化视图的创建者或执行物化视图刷新的用户未被任何数据编辑策略阻止。换句话说，执行物化视图创建或刷新操作的用户应免于数据编辑策略。作为最佳实践，在创建新的materalized视图时，将其视为实际表的副本，然后创建单独的Data Redaction策略以保护它。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle提供了使用Oracle Data Redaction的指南。">Oracle数据编辑的安全注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-18E46EB7-1535-44A0-8F3E-902C67197933" name="GUID-18E46EB7-1535-44A0-8F3E-902C67197933"></a><h3 id="ASOAG-GUID-18E46EB7-1535-44A0-8F3E-902C67197933" class="sect3">当视图无效时，REDACTION_COLUMNS数据字典查看行为</h3>
               <div>
                  <p>当视图的列上存在Oracle数据编辑策略，并且视图变为无效时，数据编辑策略在<code class="codeph">REDACTION_COLUMNS</code>数据字典视图中仍然可见。
                  </p>
                  <p>例如，如果某个列的某个列引用从视图所依赖的表中删除的列，则该视图可能会变为无效。</p>
                  <p>该列继续在<code class="codeph">REDACTION_COLUMNS</code>数据字典视图中可见，因为当视图变为无效时，不会自动删除数据编辑策略。
                  </p>
                  <p>相反，在随后更改视图时，将决定是否删除数据编辑策略。</p>
                  <p>选择此方法时优先选择在视图变为无效时自动删除数据编辑策略，因为它不易出错，并且从基础表中意外显示实际数据的风险较小。</p>
                  <p>通过将决定推迟到视图被更改的时间，它允许在将列还原到表之后重新编译视图。将列还原到表并重新编译视图后，该视图将变为有效并且仍具有其数据编辑策略。</p>
                  <p>另一方面，如果随后将无效视图定义替换为不再包含先前已定义数据编校策略的列的有效视图定义，则此时将自动删除数据编辑策略。然后更新<code class="codeph">REDACTION_COLUMNS</code>数据字典视图以不再显示该列（因为它不再是新视图定义的一部分）。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle提供了使用Oracle Data Redaction的指南。">Oracle数据编辑的安全注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10538"></a><div class="props_rev_3"><a id="GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820" name="GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820"></a><h3 id="ASOAG-GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820" class="sect3">启用回收站时删除Oracle数据编校策略</h3>
               <div>
                  <p>在删除Oracle Data Redaction策略之前，应检查是否已启用回收站。</p>
                  <p>如果在启用回收站功能时删除已在其上定义Oracle Data Redaction策略的表或视图，并且在清除回收站之前查询<code class="codeph">REDACTION_COLUMNS</code>或<code class="codeph">REDACTION_POLICIES</code>数据字典视图，则会看到对象名称作为<code class="codeph">BIN$...</code> （例如， <code class="codeph">BIN$1Xu5PSW5VaPgQxGS5AoAEA==$0</code> ）。
                  </p>
                  <p>这是正常行为。清除回收站时将删除这些策略。</p>
                  <p>要查找是否已启用回收站，可以在SQL * Plus中运行<code class="codeph">SHOW PARAMETER RECYCLEBIN</code>命令。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820__GUID-3D4F9815-5C69-4F78-B9FC-A83916A3D891">
                     <p class="notep1">也可以看看：</p>
                     <p>有关从回收站中清除对象的信息，请参见<a href="../admin/managing-tables.html#ADMIN11682" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="security-considerations-for-using-oracle-data-redaction.html#GUID-1D2850E8-2485-4C3D-BBF2-75E2CFAC3F37" title="Oracle提供了使用Oracle Data Redaction的指南。">Oracle数据编辑的安全注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>