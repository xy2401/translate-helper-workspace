<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>管理Oracle ASM实例</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="init-params-asm-instance.html" title="Previous" type="text/html"></link>
      <link rel="next" href="upgrade-patch-asm.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="init-params-asm-instance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="upgrade-patch-asm.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asm-instance.html" property="item" typeof="WebPage"><span property="name">管理Oracle ASM实例</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理Oracle ASM实例</li>
            </ol>
            <a id="GUID-477BB93D-539D-463C-ADA7-72EBEA76D31A" name="GUID-477BB93D-539D-463C-ADA7-72EBEA76D31A"></a><a id="OSTMG94084"></a>
            
            <h2 id="OSTMG-GUID-477BB93D-539D-463C-ADA7-72EBEA76D31A" class="sect2">管理Oracle ASM实例</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle ASM通常安装在与Oracle数据库主目录分开的Oracle Grid Infrastructure主目录中。标准配置中的服务器仅支持一个Oracle ASM实例;但是，Oracle Flex ASM提供了其他配置选项。</p>
               <p>管理Oracle ASM实例时，应在Oracle Grid Infrastructure主目录中执行管理活动。</p>
               <p>本节介绍如何在以下主题下管理Oracle ASM实例：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-742EE243-14E1-45E2-9651-B40DEA4A5A2A" title="用于独立服务器的Oracle Grid Infrastructure（Oracle Restart）可提高Oracle数据库的可用性。">将Oracle Grid Infrastructure用于独立服务器</a></p>
                  </li>
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-E485B808-B78F-4E52-95A5-7FE353C1AE5F" title="您启动Oracle ASM实例的方式与启动Oracle数据库实例的方式类似，但有一些细微差别。">关于启动Oracle ASM实例</a></p>
                  </li>
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-9C2208C8-B436-4A18-A5D7-0CE854751529" title="您可以通过在SQL * Plus中运行SHUTDOWN命令来启动Oracle ASM关闭过程。">关于关闭Oracle ASM实例</a></p>
                  </li>
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-C63CFD09-7A2A-4467-B877-E46F2EEAD20F">关于使用服务器控制实用程序管理Oracle ASM实例</a></p>
                  </li>
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-F58807EB-6096-4B03-BABC-997155007B08">关于不合适的升级</a></p>
                  </li>
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-CDA5E872-E669-4C19-A6DB-F9C4C306526E">关于使用配置向导配置Oracle Grid Infrastructure</a></p>
                  </li>
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-CF805B90-B454-4306-B91E-9A9080CF679D">关于Oracle ASM的活动会话历史记录采样</a></p>
                  </li>
                  <li>
                     <p><a href="admin-asm-instance.html#GUID-49AF9A25-E86E-4F89-91B4-86F07BEF0CAD">关于Windows上的Oracle Home用户</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-477BB93D-539D-463C-ADA7-72EBEA76D31A__GUID-B4AEC3F0-0E4C-422F-9AEB-C89BEDB25AB2">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" title="Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。">管理Oracle ASM的Flex</a>有关甲骨文Flex的ASM信息</p>
                     </li>
                     <li>
                        <p><a href="create-db-asm-sqlplus.html#GUID-321251DC-DC32-4461-940D-0C513A3CEC30" title="可以使用SQL * Plus部署Oracle自动存储管理（Oracle ASM）。">在Oracle ASM中创建数据库文件使用SQL * Plus</a>获取有关Oracle ASM和创建数据库文件的信息</p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG94086"></a><div class="props_rev_3"><a id="GUID-742EE243-14E1-45E2-9651-B40DEA4A5A2A" name="GUID-742EE243-14E1-45E2-9651-B40DEA4A5A2A"></a><h3 id="OSTMG-GUID-742EE243-14E1-45E2-9651-B40DEA4A5A2A" class="sect3">将Oracle Grid Infrastructure用于独立服务器</h3>
               <div>
                  <p>用于独立服务器的Oracle Grid Infrastructure（Oracle Restart）可提高Oracle数据库的可用性。</p>
                  <p>为独立服务器安装Oracle Grid Infrastructure时，它包括Oracle ASM和Oracle Restart。用于独立服务器的Oracle Grid Infrastructure（Oracle Restart）运行在Oracle Grid Infrastructure主目录之外，该主目录是从Oracle数据库主目录单独安装的。</p>
                  <p>Oracle Restart提供单实例（非群集）Oracle数据库，Oracle ASM实例，服务，侦听器以及服务器上运行的任何其他进程的托管启动和重新启动。如果在硬件或软件故障后发生服务中断，Oracle Restart将自动采取必要步骤重新启动组件。</p>
                  <p>使用服务器控制实用程序（SRVCTL），您可以向Oracle Restart添加组件，例如Oracle ASM实例。然后，为Oracle ASM实例启用Oracle Restart保护。使用SRVCTL，您还可以删除或禁用Oracle Restart保护。</p>
                  <div class="infoboxnotealso" id="GUID-742EE243-14E1-45E2-9651-B40DEA4A5A2A__GUID-38CC1D10-22D8-449E-810E-AEC6CAF7F79C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关配置和管理Oracle Restart的信息，请参见<a href="../admin/configuring-automatic-restart-of-an-oracle-database.html#ADMIN12708" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”，</cite></span></a>以获取有关自动重新启动驻留在Oracle RAC节点上的单实例数据库的信息</p>
                        </li>
                        <li>
                           <p>有关安装Oracle Grid Infrastructure的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG13630"></a><div class="props_rev_3"><a id="GUID-E485B808-B78F-4E52-95A5-7FE353C1AE5F" name="GUID-E485B808-B78F-4E52-95A5-7FE353C1AE5F"></a><h3 id="OSTMG-GUID-E485B808-B78F-4E52-95A5-7FE353C1AE5F" class="sect3">关于启动Oracle ASM实例</h3>
               <div>
                  <p>本节介绍如何在以下主题下启动Oracle ASM实例：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="admin-asm-instance.html#GUID-00ABDCF7-F6D3-44CD-AA34-089CA252CFCD" title="您启动Oracle ASM实例的方式与启动Oracle数据库实例的方式类似，但有一些细微差别。">连接并启动Oracle ASM实例</a></p>
                     </li>
                     <li>
                        <p><a href="admin-asm-instance.html#GUID-CB032864-CA1B-4C78-B0E5-D24EDD7B8E94">使用不正确的SPFILE路径启动Oracle ASM实例</a></p>
                     </li>
                     <li>
                        <p><a href="admin-asm-instance.html#GUID-42A450CF-67A7-4D83-83A7-879E0D6537C5">关于在启动时挂载磁盘组</a></p>
                     </li>
                     <li>
                        <p><a href="admin-asm-instance.html#GUID-74FA4067-04D2-477B-A09C-40150BBCD702">关于受限模式</a></p>
                     </li>
                  </ul>
               </div><a id="OSTMG94087"></a><div class="props_rev_3"><a id="GUID-00ABDCF7-F6D3-44CD-AA34-089CA252CFCD" name="GUID-00ABDCF7-F6D3-44CD-AA34-089CA252CFCD"></a><h4 id="OSTMG-GUID-00ABDCF7-F6D3-44CD-AA34-089CA252CFCD" class="sect4">连接并启动Oracle ASM实例</h4>
                  <div>
                     <p>您启动Oracle ASM实例的方式与启动Oracle数据库实例的方式类似，但有一些细微差别。</p>
                     <p>使用SQL * Plus启动Oracle ASM实例时，请注意以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要使用SQL * Plus连接到本地Oracle ASM实例，请将<code class="codeph">ORACLE_SID</code>环境变量设置为Oracle ASM系统标识符（SID）。
                           </p>
                           <p>单实例数据库的默认Oracle ASM SID是<code class="codeph">+ASM</code> ，Oracle RAC节点的Oracle ASM的默认SID是<code class="codeph">+ASM</code> <span class="italic"><code class="codeph">node_number</code></span> ，其中<span class="italic"><code class="codeph">node_number</code></span>是节点的编号。必须将<code class="codeph">ORACLE_HOME</code>环境变量设置为安装了Oracle ASM的Grid Infrastructure主目录。
                           </p>
                           <div class="infoboxnote" id="GUID-00ABDCF7-F6D3-44CD-AA34-089CA252CFCD__GUID-A71AB723-F36E-4601-BE2F-EF634E9FF4FD">
                              <p class="notep1">注意：</p>
                              <p>Oracle建议您不要更改默认的Oracle ASM SID名称。</p>
                           </div>
                        </li>
                        <li>
                           <p>初始化参数文件必须包含以下条目：</p>
                           <p><code class="codeph">INSTANCE_TYPE = ASM</code></p>
                           <p>此参数指示正在启动Oracle ASM实例，而不是数据库实例。</p>
                        </li>
                        <li>
                           <p>运行<code class="codeph">STARTUP</code>命令时，此命令尝试装入Oracle ASM磁盘组，而不是尝试装入和打开数据库。
                           </p>
                           <p>Oracle ASM实例启动后，您可以使用<code class="codeph">ALTER DISKGROUP...挂载磁盘组<code class="codeph">ALTER DISKGROUP...MOUNT</code>命令。
                           </p>
                        </li>
                        <li>
                           <p>启动关联的Oracle ASM实例时，不必运行关联的Oracle数据库实例。</p>
                        </li>
                     </ul>
                     <p>以下列表描述了Oracle ASM如何解释SQL * Plus <code class="codeph">STARTUP</code>命令参数。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">FORCE</code>参数</p>
                           <p>在重新启动之前向Oracle ASM实例发出<code class="codeph">SHUTDOWN ABORT</code> 。
                           </p>
                           <p>如果Oracle ADVM卷上当前安装了Oracle自动存储管理群集文件系统（Oracle ACFS）文件系统，则应首先卸载文件系统。否则，应用程序会遇到I / O错误，并且在封装Oracle ASM存储之前，可能无法将Oracle ACFS用户数据和元数据写入存储。</p>
                        </li>
                        <li>
                           <p><code class="codeph">MOUNT</code>或<code class="codeph">OPEN</code>参数</p>
                           <p>安装<code class="codeph">ASM_DISKGROUPS</code>初始化参数中指定的磁盘组。如果未指定命令参数，则这是默认值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NOMOUNT</code>参数</p>
                           <p>在不挂载任何磁盘组的情况下启动Oracle ASM实例。</p>
                        </li>
                        <li>
                           <p><code class="codeph">RESTRICT</code>参数</p>
                           <p>以受限模式启动实例，该实例仅允许具有<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>和<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的用户访问。您可以将<code class="codeph">RESTRICT</code>子句与<code class="codeph">MOUNT</code> ， <code class="codeph">NOMOUNT</code>和<code class="codeph">OPEN</code>子句结合使用。
                           </p>
                           <p>在受限模式下，数据库实例无法使用磁盘组。换句话说，数据库无法打开该磁盘组中的文件。此外，群集中的任何其他实例都无法装入磁盘组。以受限模式挂载磁盘组只允许一个Oracle ASM实例装入磁盘组。此模式对于装入磁盘组以修复配置问题很有用。</p>
                        </li>
                     </ul>
                     <p>以下是用于启动Oracle ASM实例的示例SQL * Plus会话。</p><pre class="oac_no_warn" dir="ltr">SQLPLUS / NOLOG SQL&gt; CONNECT SYS AS SYSASM输入密码： <span class="italic">sys_password</span>连接到空闲实例。SQL&gt; STARTUP ASM实例已启动总系统全局区域71303168字节固定大小1069292字节可变大小45068052字节ASM高速缓存25165824字节已装入ASM磁盘组</pre><div class="infoboxnotealso" id="GUID-00ABDCF7-F6D3-44CD-AA34-089CA252CFCD__GUID-A7F171FD-CE39-4C94-A0D5-B390F150D5ED">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关卸载<a href="steps-manage-acfs.html#GUID-824B567D-A538-4EF2-8A2D-96D83A1E6284" title="This topic discusses the operations to deregister or dismount a file system and disable a volume.">Oracle ACFS文件系统</a>的信息<a href="steps-manage-acfs.html#GUID-824B567D-A538-4EF2-8A2D-96D83A1E6284" title="本主题讨论取消注册或卸载文件系统以及禁用卷的操作。">，请取消注册，卸载和禁用卷和</a> Oracle ACFS文件系统</p>
                           </li>
                           <li>
                              <p><a href="authenticate-access-asm-instance.html#GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" title="以SYSASM身份登录Oracle ASM实例时，可以使用CREATE USER和GRANT SQL语句的组合来创建具有SYSASM权限的用户。Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">有关访问Oracle ASM实例的身份验证，以获取</a>有关用户身份验证的更多信</p>
                           </li>
                           <li>
                              <p><a href="asmcmd-instance-commands.html#GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84">启动</a>以获取有关使用ASMCMD <code class="codeph">startup</code>命令<code class="codeph">startup</code> Oracle ASM实例的信息</p>
                           </li>
                           <li>
                              <p><a href="admin-asm-instance.html#GUID-74FA4067-04D2-477B-A09C-40150BBCD702">关于限制模式</a>有关<a href="admin-asm-instance.html#GUID-74FA4067-04D2-477B-A09C-40150BBCD702">受限模式</a>的信息</p>
                           </li>
                           <li>
                              <p><a href="admin-asm-instance.html#GUID-42A450CF-67A7-4D83-83A7-879E0D6537C5">关于在启动时挂载磁盘组，</a>以获取有关在启动时<a href="admin-asm-instance.html#GUID-42A450CF-67A7-4D83-83A7-879E0D6537C5">挂载的磁盘组</a>的信息</p>
                           </li>
                           <li>
                              <p>有关装入磁盘组的信息，请<a href="maintain-diskgroups.html#GUID-4782D609-766B-4686-B5E4-90A8EFC10DEA">装入和卸载磁盘组</a></p>
                           </li>
                           <li>
                              <p>有关使用环境变量选择实例的详细信息，请<a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>参见“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关启动和关闭Oracle实例的详细信息，请参见<a href="../admin/starting-up-and-shutting-down.html#ADMIN004" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”，</cite></span></a>以获取有关在Oracle RAC中使用<code class="codeph">SRVCTL</code>启动Oracle ASM实例的信息</p>
                           </li>
                           <li>
                              <p>有关Oracle Clusterware Cluster子组件进程和后台进程的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD1111" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/process-architecture.html#CNCPT1249" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> ，了解有关Oracle数据库后台进程的信息</p>
                           </li>
                           <li>
                              <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle Database Reference，</cite></span></a>用于描述Oracle后台进程</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="OSTMG94088"></a><div class="props_rev_3"><a id="GUID-CB032864-CA1B-4C78-B0E5-D24EDD7B8E94" name="GUID-CB032864-CA1B-4C78-B0E5-D24EDD7B8E94"></a><h4 id="OSTMG-GUID-CB032864-CA1B-4C78-B0E5-D24EDD7B8E94" class="sect4">使用不正确的SPFILE路径启动Oracle ASM实例</h4>
                  <div>
                     <div class="section">
                        <p><a id="d18873e1109" class="indexterm-anchor"></a><a id="d18873e1113" class="indexterm-anchor"></a>如果GPnP配置文件中的SPFILE路径不正确，则可以按如下方式启动Oracle ASM实例：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建一个PFILE，其中包含一行，用于标识SPFILE的路径。</span><div>
                              <p>例如：</p>
                              <p>创建包含以下内容的<code class="codeph">/oracle/dbs/spfileasm_init.ora</code>文件：</p>
                              <p><code class="codeph">SPFILE = '+ DATA / ASM / asmparameterfile / asmspfile.ora'</code></p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用初始化参数文件启动实例。</span><div>
                              <p>例如：</p>
                              <p><code class="codeph">SQL&gt;</code> <code class="codeph">STARTUP</code> <code class="codeph">PFILE=/oracle/dbs/spfileasm_init.ora</code></p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>实例运行后，使用ASMCMD <code class="codeph">spset</code>命令更新GPnP配置文件中的SPFILE路径。请参阅<a href="asmcmd-instance-commands.html#GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7">spset</a> 。</span><div>
                              <p>例如：</p>
                              <p><code class="codeph">ASMCMD&gt;</code> <code class="codeph">spset</code> <code class="codeph">+DATA/asm/asmparameterfile/asmspfile.ora</code></p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-CB032864-CA1B-4C78-B0E5-D24EDD7B8E94__GUID-A68AD5D7-1C51-4703-8AE3-93369811266A">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将<code class="codeph">STARTUP</code>与非默认服务器参数文件一起使用的详细信息，请<code class="codeph">STARTUP</code> <a href="../admin/starting-up-and-shutting-down.html#ADMIN12828" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OSTMG94089"></a><div class="props_rev_3"><a id="GUID-42A450CF-67A7-4D83-83A7-879E0D6537C5" name="GUID-42A450CF-67A7-4D83-83A7-879E0D6537C5"></a><h4 id="OSTMG-GUID-42A450CF-67A7-4D83-83A7-879E0D6537C5" class="sect4">关于在启动时挂载磁盘组</h4>
                  <div>
                     <p><a id="d18873e1319" class="indexterm-anchor"></a><a id="d18873e1323" class="indexterm-anchor"></a>启动时，Oracle ASM实例尝试装入以下磁盘组：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ASM_DISKGROUPS</code>初始化参数中指定的磁盘组</p>
                        </li>
                        <li>
                           <p>群集同步服务（CSS）用于投票文件的磁盘组</p>
                        </li>
                        <li>
                           <p>Oracle Clusterware for Oracle Cluster Registry（OCR）使用的磁盘组</p>
                        </li>
                        <li>
                           <p>Oracle ASM实例用于存储ASM服务器参数文件（SPFILE）的磁盘组</p>
                        </li>
                     </ul>
                     <p>如果在上一个列表中找不到磁盘组，则Oracle ASM实例在启动时不会装入任何磁盘组。Oracle ASM实例启动后，您可以使用<code class="codeph">ALTER DISKGROUP...挂载磁盘组<code class="codeph">ALTER DISKGROUP...MOUNT</code>命令。有关更多信息，请参阅<a href="maintain-diskgroups.html#GUID-4782D609-766B-4686-B5E4-90A8EFC10DEA">装入和卸载磁盘组</a> 。
                     </p>
                  </div>
               </div><a id="OSTMG94090"></a><div class="props_rev_3"><a id="GUID-74FA4067-04D2-477B-A09C-40150BBCD702" name="GUID-74FA4067-04D2-477B-A09C-40150BBCD702"></a><h4 id="OSTMG-GUID-74FA4067-04D2-477B-A09C-40150BBCD702" class="sect4">关于受限模式</h4>
                  <div>
                     <p>在执行维护时，可以使用<code class="codeph">STARTUP</code> <code class="codeph">RESTRICT</code>命令控制对Oracle ASM实例的访问。当Oracle ASM实例在此模式下处于活动状态时， <code class="codeph">ASM_DISKGROUPS</code>参数中定义的所有磁盘组都将以<code class="codeph">RESTRICTED</code>模式挂载。这可以防止数据库连接到Oracle ASM实例。此外，对Oracle ASM实例禁用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句的restricted子句。扩展<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <span class="italic"><code class="codeph">diskgroup</code></span> <code class="codeph">MOUNT</code>语句以使Oracle ASM能够以受限模式挂载磁盘组。
                     </p>
                     <p>在<code class="codeph">RESTRICTED</code>模式下装入磁盘组时，磁盘组只能由一个实例装入。当磁盘组以<code class="codeph">RESTRICTED</code>模式挂载时，该节点上的Oracle ASM客户端无法访问该磁盘组。<code class="codeph">RESTRICTED</code>模式使您可以在Oracle ASM实例中的磁盘组上执行维护任务，而不会受到客户端的干扰。
                     </p>
                     <p>磁盘组处于<code class="codeph">RESTRICTED</code>模式时发生的重新平衡操作将消除Oracle RAC环境中Oracle ASM实例之间发生的锁定和解锁范围映射消息传递。这提高了整体再平衡吞吐量。在维护期结束时，您必须明确卸载磁盘组并在正常模式下重新安装。
                     </p>
                  </div>
               </div>
            </div><a id="OSTMG13640"></a><div class="props_rev_3"><a id="GUID-9C2208C8-B436-4A18-A5D7-0CE854751529" name="GUID-9C2208C8-B436-4A18-A5D7-0CE854751529"></a><h3 id="OSTMG-GUID-9C2208C8-B436-4A18-A5D7-0CE854751529" class="sect3">关于关闭Oracle ASM实例</h3>
               <div>
                  <p>您可以通过在SQL * Plus中运行<code class="codeph">SHUTDOWN</code>命令来启动Oracle ASM关闭过程。
                  </p>
                  <p>在运行此命令之前，请确保将<code class="codeph">ORACLE_SID</code>环境变量设置为Oracle ASM SID，以便可以连接到本地Oracle ASM实例。单实例数据库的默认Oracle ASM SID是<code class="codeph">+ASM</code> ，Oracle RAC节点的Oracle ASM的默认SID是<code class="codeph">+ASM</code> <span class="italic"><code class="codeph">node_number</code></span> ，其中<span class="italic"><code class="codeph">node_number</code></span>是节点的编号。必须将<code class="codeph">ORACLE_HOME</code>环境变量设置为安装了Oracle ASM的Grid Infrastructure主目录。
                  </p>
                  <p>如果您未使用Oracle Flex ASM，Oracle强烈建议您在尝试关闭Oracle ASM之前关闭使用Oracle ASM实例的所有数据库实例并卸载挂载在Oracle ASM Dynamic Volume Manager（Oracle ADVM）卷上的所有文件系统实例。如果您使用的是Oracle Flex ASM，则在关闭Oracle ASM实例时，Oracle Flex ASM客户端将转移到其他正在运行的Oracle ASM实例。</p>
                  <p>如果Oracle Cluster Registry（OCR）或投票文件存储在磁盘组中，则只能通过在关闭节点上的集群件时关闭Oracle ASM实例来卸载磁盘组。要关闭集群件，请运行<code class="codeph">crsctl</code> <code class="codeph">stop</code> <code class="codeph">crs</code> 。
                  </p>
                  <p>要关闭Oracle ASM实例，请执行以下步骤：</p><pre class="oac_no_warn" dir="ltr">SQLPLUS / NOLOG SQL&gt; CONNECT SYS AS SYSASM输入密码： <span class="italic">sys_password</span>已连接。SQL&gt; SHUTDOWN NORMAL</pre><p>以下列表描述了<code class="codeph">SHUTDOWN</code>模式以及每种模式下Oracle ASM实例的行为。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">NORMAL</code>条款</p>
                        <p>在执行所有磁盘组的有序卸载并关闭Oracle ASM实例之前，Oracle ASM会等待任何正在进行的SQL完成。在关闭实例之前，Oracle ASM会等待所有当前连接的用户与实例断开连接。如果任何数据库实例连接到Oracle ASM实例，则<code class="codeph">SHUTDOWN</code>命令将返回错误并使Oracle ASM实例保持运行。<code class="codeph">NORMAL</code>是默认关闭模式。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">IMMEDIATE</code>或<code class="codeph">TRANSACTIONAL</code>条款</p>
                        <p>在执行所有磁盘组的有序卸载并关闭Oracle ASM实例之前，Oracle ASM会等待任何正在进行的SQL完成。Oracle ASM不会等待当前连接到该实例的用户断开连接。如果任何数据库实例连接到Oracle ASM实例，则<code class="codeph">SHUTDOWN</code>命令将返回错误并使Oracle ASM实例保持运行。由于Oracle ASM实例不包含任何事务，因此<code class="codeph">TRANSACTIONAL</code>模式的行为与<code class="codeph">IMMEDIATE</code>模式相同。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ABORT</code>条款</p>
                        <p>Oracle ASM实例会在没有有序卸载磁盘组的情况下立即关闭。这会导致在下一次Oracle ASM启动时进行恢复。</p>
                        <p>如果任何数据库实例连接到Oracle ASM实例，则数据库实例将中止。</p>
                        <p>如果Oracle ADVM卷上当前安装了任何Oracle自动存储管理群集文件系统（Oracle ACFS）文件系统，则应首先卸载这些文件系统。否则，应用程序会遇到I / O错误，并且在封装Oracle ASM存储之前，可能无法将Oracle ACFS用户数据和元数据写入存储。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-9C2208C8-B436-4A18-A5D7-0CE854751529__GUID-65BA5DA6-F518-41CF-B523-31BC62B5DCE1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="authenticate-access-asm-instance.html#GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" title="以SYSASM身份登录Oracle ASM实例时，可以使用CREATE USER和GRANT SQL语句的组合来创建具有SYSASM权限的用户。Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">有关访问Oracle ASM实例的身份验证，以获取</a>有关用户身份验证的更多信</p>
                        </li>
                        <li>
                           <p>有关卸载<a href="steps-manage-acfs.html#GUID-824B567D-A538-4EF2-8A2D-96D83A1E6284" title="This topic discusses the operations to deregister or dismount a file system and disable a volume.">Oracle ACFS文件系统</a>的信息<a href="steps-manage-acfs.html#GUID-824B567D-A538-4EF2-8A2D-96D83A1E6284" title="本主题讨论取消注册或卸载文件系统以及禁用卷的操作。">，请取消注册，卸载和禁用卷和</a> Oracle ACFS文件系统</p>
                        </li>
                        <li>
                           <p><a href="authenticate-access-asm-instance.html#GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" title="以SYSASM身份登录Oracle ASM实例时，可以使用CREATE USER和GRANT SQL语句的组合来创建具有SYSASM权限的用户。Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">有关访问Oracle ASM实例的身份验证，以获取</a>有关Oracle ASM实例上的用户身份验证的更多信息</p>
                        </li>
                        <li>
                           <p>有关使用环境变量选择实例的详细信息，请<a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>参见“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关启动和关闭Oracle实例的详细信息，请参见<a href="../admin/starting-up-and-shutting-down.html#ADMIN004" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关管理投票文件，Oracle Cluster Registry（OCR）和Oracle Local Registry（OLR）的信息，请参阅<a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD70700" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94085"></a><div class="props_rev_3"><a id="GUID-C63CFD09-7A2A-4467-B877-E46F2EEAD20F" name="GUID-C63CFD09-7A2A-4467-B877-E46F2EEAD20F"></a><h3 id="OSTMG-GUID-C63CFD09-7A2A-4467-B877-E46F2EEAD20F" class="sect3">关于使用服务器控制实用程序管理Oracle ASM实例</h3>
               <div>
                  <p>除了本节介绍的Oracle ASM管理过程之外，您还可以在集群Oracle ASM环境中使用服务器控制实用程序（SRVCTL）来执行以下Oracle ASM管理任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在Oracle Cluster Registry（OCR）中添加和删除Oracle ASM Oracle Clusterware（CRS）资源</p>
                     </li>
                     <li>
                        <p>启用，禁用，启动和停止Oracle ASM实例</p>
                     </li>
                     <li>
                        <p>显示Oracle ASM实例配置和状态</p>
                     </li>
                     <li>
                        <p>添加，修改和删除Oracle ASM网络资源</p>
                     </li>
                     <li>
                        <p>添加，修改，删除，启用，禁用，启动和停止Oracle ASM侦听器资源</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C63CFD09-7A2A-4467-B877-E46F2EEAD20F__GUID-D201E4D6-04B4-450E-8C4D-B41AC593D6C7">
                     <p class="notep1">也可以看看：</p>
                     <p>有关SRVCTL命令的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD826" target="_blank"><span><cite>“</cite></span></a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware管理和部署指南”</cite></span></a>和“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD826" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                  </div>
               </div>
            </div><a id="OSTMG53000"></a><div class="props_rev_3"><a id="GUID-F58807EB-6096-4B03-BABC-997155007B08" name="GUID-F58807EB-6096-4B03-BABC-997155007B08"></a><h3 id="OSTMG-GUID-F58807EB-6096-4B03-BABC-997155007B08" class="sect3">关于不合适的升级</h3>
               <div>
                  <p>通过不合适的升级，安装程序会在单独的Oracle Grid Infrastructure主目录中安装较新版本的Oracle Grid Infrastructure。</p>
                  <p>不支持Oracle Grid Infrastructure <span class="italic">11g</span>第2版（11.2）的就地升级。例如，Oracle网格基础架构<span class="italic">11克</span> 2版（11.2.0.1），以Oracle网格基础架构<span class="italic">11克</span> 2版（11.2.0.2）的升级必须是出就地升级。
                  </p>
                  <div class="infoboxnotealso" id="GUID-F58807EB-6096-4B03-BABC-997155007B08__GUID-95665966-3AF5-4769-9724-CDF370FDD6DB">
                     <p class="notep1">也可以看看：</p>
                     <p> <a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a> ，了解有关安装Oracle Grid Infrastructure，不合适的升级以及执行Oracle Grid Infrastructure和Oracle ASM的滚动升级的信息</p>
                  </div>
               </div>
            </div><a id="OSTMG13670"></a><div class="props_rev_3"><a id="GUID-CDA5E872-E669-4C19-A6DB-F9C4C306526E" name="GUID-CDA5E872-E669-4C19-A6DB-F9C4C306526E"></a><h3 id="OSTMG-GUID-CDA5E872-E669-4C19-A6DB-F9C4C306526E" class="sect3">关于使用配置向导配置Oracle Grid Infrastructure</h3>
               <div>
                  <p>安装软件后，Oracle Grid Infrastructure配置向导可以更新Oracle Grid Infrastructure环境的配置。配置向导接受您的输入，验证输入，并将配置数据填充到<code class="codeph">CRSCONFIG_PARAMS</code>文件中。如果必须运行其他脚本，配置向导会指示您运行这些脚本。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CDA5E872-E669-4C19-A6DB-F9C4C306526E__GUID-1662796E-C630-46FA-9B12-7DAB2A554646">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD92094" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”，</span></a>以获取有关Oracle Grid Infrastructure配置向导的信息。
                     </p>
                  </div>
               </div>
            </div><a id="OSTMG94091"></a><div class="props_rev_3"><a id="GUID-CF805B90-B454-4306-B91E-9A9080CF679D" name="GUID-CF805B90-B454-4306-B91E-9A9080CF679D"></a><h3 id="OSTMG-GUID-CF805B90-B454-4306-B91E-9A9080CF679D" class="sect3">关于Oracle ASM的活动会话历史记录采样</h3>
               <div>
                  <p><a id="d18873e2492" class="indexterm-anchor"></a><a id="d18873e2496" class="indexterm-anchor"></a>现在，Oracle ASM实例上提供了活动会话历史记录采样。此活动在动态<code class="codeph">V$ACTIVE_SESSION_HISTORY</code>视图中公开。活动会话历史记录采样需要Oracle ASM实例的诊断包许可证。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CF805B90-B454-4306-B91E-9A9080CF679D__GUID-1AC7B394-427D-4ADD-8835-D49D126EE913">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关收集性能统计信息的详细信息，请参阅<a href="../tgdba/measuring-database-performance.html#TGDBA145" target="_blank"><span class="italic">Oracle数据库性能调整指</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">V$ACTIVE_SESSION_HISTORY</code>视图的说明，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=REFRN30299" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG107"></a><div class="props_rev_3"><a id="GUID-49AF9A25-E86E-4F89-91B4-86F07BEF0CAD" name="GUID-49AF9A25-E86E-4F89-91B4-86F07BEF0CAD"></a><h3 id="OSTMG-GUID-49AF9A25-E86E-4F89-91B4-86F07BEF0CAD" class="sect3">关于Windows上的Oracle Home用户</h3>
               <div>
                  <p><a id="d18873e2662" class="indexterm-anchor"></a> Oracle数据库支持使用Oracle主用户，可以在安装时指定。Oracle主用户与Oracle主目录关联，安装后无法更改。系统上的不同Oracle主目录可以共享同一个Oracle主目录用户，也可以使用不同的Oracle主目录用户名。
                  </p>
                  <p>在Windows操作系统的早期版本中，Oracle服务需要作为<code class="codeph">Local</code> <code class="codeph">System</code>特权运行，这些特权是完全特权的。此功能使数据库，侦听器和作业计划程序服务能够以低管理用户权限和非管理用户权限运行，以便更严格地控制安全性。Oracle主用户可以是内置帐户或Windows用户帐户。Windows用户帐户应该是低权限（非管理员）帐户，以确保Oracle主用户具有有限的权限集，从而确保Oracle数据库服务仅具有运行Oracle产品所需的权限。Windows用户帐户通常可以是本地用户，域用户或托管服务帐户。但是，Oracle RAC，Oracle Restart和Oracle Grid Infrastructure安装需要将域用户用作Oracle主用户，因为需要群集范围的身份。
                  </p>
                  <div class="infoboxnotealso" id="GUID-49AF9A25-E86E-4F89-91B4-86F07BEF0CAD__GUID-DAE7407F-CCE0-49A8-80D9-0F390694E1F4">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=NTQRF673" target="_blank"><span class="italic">适用于Microsoft Windows的Oracle数据库平台指南，</span></a>了解有关在Windows平台和不同类型的Windows用户帐户上运行Oracle服务的信息</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>