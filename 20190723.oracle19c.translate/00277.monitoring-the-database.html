<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="It is important that you monitor the operation of your database on a regular basis. Doing so not only informs you of errors that have not yet come to your attention but also gives you a better understanding of the normal operation of your database. Being familiar with normal behavior in turn helps you recognize when something is wrong."></meta>
      <meta name="description" content="It is important that you monitor the operation of your database on a regular basis. Doing so not only informs you of errors that have not yet come to your attention but also gives you a better understanding of the normal operation of your database. Being familiar with normal behavior in turn helps you recognize when something is wrong."></meta>
      <title>监控数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="It is important that you monitor the operation of your database on a regular basis. Doing so not only informs you of errors that have not yet come to your attention but also gives you a better understanding of the normal operation of your database. Being familiar with normal behavior in turn helps you recognize when something is wrong."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-users-and-securing-the-database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="diagnosing-and-resolving-problems.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-users-and-securing-the-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="diagnosing-and-resolving-problems.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="basic-database-administration.html" property="item" typeof="WebPage"><span property="name">基础数据库管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">监控数据库</li>
            </ol>
            <a id="GUID-62D13052-02B4-4667-8739-C8B96C18054C" name="GUID-62D13052-02B4-4667-8739-C8B96C18054C"></a><a id="ADMIN005"></a>
            
            <h2 id="ADMIN-GUID-62D13052-02B4-4667-8739-C8B96C18054C" class="sect2"><span class="enumeration_chapter">8</span>监控数据库</h2>
         </header>
         <div class="ind">
            <p>定期监视数据库的操作非常重要。这样做不仅可以告知您尚未引起注意的错误，还可以让您更好地了解数据库的正常运行。熟悉正常行为反过来可以帮助您识别出错的时间。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7">监控错误和警报</a><br>您可以监视数据库错误和警报，以防止，检测和解决问题。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-901CA77F-A241-45C6-940F-6CA68E6D45CC">监控绩效</a><br>监控性能包括监控锁和等待事件以及查询一组数据字典视图。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-7AB7A507-E33A-4967-A84A-AA21B0478C0B">监视隔离的对象</a><br>即使存在损坏的不可恢复对象，对象隔离也可使Oracle数据库正常运行。<code class="codeph">V$QUARANTINE</code>视图包含有关隔离对象的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="basic-database-administration.html#GUID-1DF51F9B-86E9-4E40-A30E-00714E7C0003" title="数据库管理员具有特定的职责，必须了解如何完成数据库管理任务。">基本数据库管理</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11242"></a><div class="props_rev_3"><a id="GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" name="GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7"></a><h3 id="ADMIN-GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" class="sect3"><span class="enumeration_section">8.1</span>监控错误和警报</h3>
               <div>
                  <p>您可以监视数据库错误和警报，以防止，检测和解决问题。</p>
                  <div class="infoboxnote" id="GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7__GUID-B2655160-83DB-42E6-A0DB-3A496992F57F">
                     <p class="notep1">注意：</p>
                     <p>监视数据库是否存在错误和警报的最简单，最好的方法是使用Oracle企业管理器云控制（云控制）中的数据库主页。有关更多信息，请参阅Cloud Control联机帮助。本节提供了使用数据字典视图，PL / SQL包和其他命令行工具进行监视的备用方法。</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84">使用跟踪文件和警报日志监视错误</a><br>跟踪文件是包含用于调查问题的诊断数据的文件。警报日志是一个文件，它提供数据库消息和错误的时间顺序日志。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24">使用服务器生成的警报监视数据库</a><br>服务器生成的警报是来自Oracle数据库服务器的即将发生的问题的通知。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-62D13052-02B4-4667-8739-C8B96C18054C" title="定期监视数据库的操作非常重要。这样做不仅可以告知您尚未引起注意的错误，还可以让您更好地了解数据库的正常运行。熟悉正常行为反过来可以帮助您识别出错的时间。">监视数据库</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84" name="GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84"></a><h4 id="ADMIN-GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84" class="sect4"><span class="enumeration_section">8.1.1</span>使用跟踪文件和警报日志监控错误</h4>
                  <p>跟踪文件是包含用于调查问题的诊断数据的文件。警报日志是一个文件，它提供数据库消息和错误的时间顺序日志。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314">关于使用跟踪文件和警报日志监控错误</a><br>跟踪文件和警报日志包含有关错误的信息。
                        </li>
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-F44B5794-2180-417C-84F5-F63890AF7DA0">控制警报日志的大小</a><br>要控制警报日志的大小，必须在不再需要时手动删除该文件。否则，数据库将继续附加到该文件。
                        </li>
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-9A01312C-DA8F-4E03-AA4D-EF7F76CDA08C">控制跟踪文件的大小</a><br>您可以使用初始化参数<code class="codeph">MAX_DUMP_FILE_SIZE</code>控制所有跟踪文件的最大大小（不包括警报日志）。</li>
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-58C19B6C-AB5F-46A6-82D6-EBAC5F1DF0F0">Oracle数据库写入跟踪文件时的控制</a><br>后台进程始终在适当时写入跟踪文件。
                        </li>
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-C5D99681-39FD-4F95-AA90-E2E733AC0DD6">读取共享服务器会话的跟踪文件</a><br>如果启用了共享服务器，则使用调度程序的每个会话都将路由到共享服务器进程，并且仅当会话启用了跟踪（或者遇到错误时），才会将跟踪信息写入服务器跟踪文件。因此，要跟踪使用调度程序连接的特定会话的跟踪，您可能必须浏览多个共享服务器跟踪文件。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" title="您可以监视数据库错误和警报，以防止，检测和解决问题。">监视错误和警报</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11243"></a><div class="props_rev_3"><a id="GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314" name="GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314"></a><h5 id="ADMIN-GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314" class="sect5"><span class="enumeration_section">8.1.1.1</span>关于使用跟踪文件和警报日志监控错误</h5>
                     <div>
                        <p>跟踪文件和警报日志包含有关错误的信息。</p>
                        <p>每个服务器和后台进程都可以写入关联的<span class="bold">跟踪文件</span> 。当进程检测到内部错误时，它会将有关错误的信息转储到其跟踪文件中。写入跟踪文件的某些信息适用于数据库管理员，其他信息适用于Oracle支持服务。跟踪文件信息还用于调整应用程序和实例。
                        </p>
                        <div class="infoboxnote" id="GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314__GUID-C0F49864-5CB2-452F-AB79-C83EEA5D10C3">
                           <p class="notep1">注意：</p>
                           <p>严重错误还会在自动诊断信息库中创建事件和事件转储。有关详细信息，请参阅<a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a> 。
                           </p>
                        </div>
                        <p><span class="bold">警报日志</span>是消息和错误的时间顺序日志，包括以下各项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>发生的所有内部错误（ <code class="codeph">ORA-00600</code> ），块损坏错误（ <code class="codeph">ORA-01578</code> ）和死锁错误（ <code class="codeph">ORA-00060</code> ）</p>
                           </li>
                           <li>
                              <p>管理操作，例如一些<code class="codeph">CREATE</code> ， <code class="codeph">ALTER</code>和<code class="codeph">DROP</code>语句以及<code class="codeph">STARTUP</code> ， <code class="codeph">SHUTDOWN</code>和<code class="codeph">ARCHIVELOG</code>语句</p>
                           </li>
                           <li>
                              <p>与共享服务器和调度程序进程的功能相关的消息和错误</p>
                           </li>
                           <li>
                              <p>在物化视图的自动刷新期间发生的错误</p>
                           </li>
                           <li>
                              <p>在数据库和实例启动时具有非默认值的所有初始化参数的值</p>
                           </li>
                        </ul>
                        <p>Oracle数据库使用警报日志记录这些操作，作为在操作员控制台上显示信息的替代方法（尽管某些系统还在控制台上显示信息）。如果操作成功，则会在警报日志中写入“已完成”消息以及时间戳。</p>
                        <p>警报日志作为XML格式的文件和文本格式的文件进行维护。您可以使用任何文本编辑器查看警报日志的任一格式，也可以使用ADRCI实用程序查看剥离了XML标记的XML格式的文件版本。</p>
                        <p>定期检查警报日志和跟踪实例的文件，以了解后台进程是否遇到错误。例如，当日志写入器进程（LGWR）无法写入日志组的成员时，会将指示问题性质的错误消息写入LGWR跟踪文件和警报日志。此类错误消息表示已发生媒体或I / O问题，应立即更正。</p>
                        <p>除了其他重要的统计信息之外，Oracle数据库还会将初始化参数的值写入警报日志。</p>
                        <p>后台和服务器进程的警报日志和所有跟踪文件将写入自动诊断存储库，其位置由<code class="codeph">DIAGNOSTIC_DEST</code>初始化参数指定。跟踪文件的名称是特定于操作系统的，但每个文件通常包括写入文件的进程的名称（例如LGWR和RECO）。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314__GUID-6A959FDC-0404-43FA-B734-D2819B226972">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关自动诊断信息库（ADR）的信息， <span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-39CD6AD3-58D6-44E6-8A6C-0165252674D7" title="警报日志是一个XML文件，它是消息和错误的时间顺序日志。">警报日志</a> ”</span>以获取有关警报日志的其他信息。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" title="您可以使用文本编辑器，Cloud Control或ADRCI实用程序查看警报日志。">查看警报日志</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关ADRCI实用<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">程序</span></a>的信息，请参见<a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span class="italic">Oracle数据库实用</span></a>程序。
                                 </p>
                              </li>
                              <li>
                                 <p>有关跟踪文件名称的信息，请参见特定于操作系统的Oracle文档</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84" title="跟踪文件是包含用于调查问题的诊断数据的文件。警报日志是一个文件，它提供数据库消息和错误的时间顺序日志。">使用跟踪文件和警报日志监视错误</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14019"></a><div class="props_rev_3"><a id="GUID-F44B5794-2180-417C-84F5-F63890AF7DA0" name="GUID-F44B5794-2180-417C-84F5-F63890AF7DA0"></a><h5 id="ADMIN-GUID-F44B5794-2180-417C-84F5-F63890AF7DA0" class="sect5"><span class="enumeration_section">8.1.1.2</span>控制警报日志的大小</h5>
                     <div>
                        <p>要控制警报日志的大小，必须在不再需要时手动删除该文件。否则，数据库将继续附加到该文件。</p>
                        <div class="section">
                           <p>您可以在实例运行时安全地删除警报日志，但您应该考虑首先制作它的存档副本。如果您的未来问题需要调查实例的历史记录，则此归档副本可能会很有价值。</p>
                           <p>要控制警报日志的大小：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>删除警报日志文件。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84" title="跟踪文件是包含用于调查问题的诊断数据的文件。警报日志是一个文件，它提供数据库消息和错误的时间顺序日志。">使用跟踪文件和警报日志监视错误</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14020"></a><a id="ADMIN11244"></a><div class="props_rev_3"><a id="GUID-9A01312C-DA8F-4E03-AA4D-EF7F76CDA08C" name="GUID-9A01312C-DA8F-4E03-AA4D-EF7F76CDA08C"></a><h5 id="ADMIN-GUID-9A01312C-DA8F-4E03-AA4D-EF7F76CDA08C" class="sect5"><span class="enumeration_section">8.1.1.3</span>控制跟踪文件的大小</h5>
                     <div>
                        <p>您可以使用初始化参数<code class="codeph">MAX_DUMP_FILE_SIZE</code>控制所有跟踪文件的最大大小（不包括警报日志）。</p>
                        <div class="section">
                           <p>您可以通过以下方式设置此参数：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>数值指定操作系统块中的最大大小。将指定的值乘以块大小以获取限制。</p>
                              </li>
                              <li>
                                 <p>后跟K，M或G后缀的数字指定文件大小，以千字节，兆字节或千兆字节为单位。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">UNLIMITED</code> （默认值）指定无限制。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-0E69CF63-39A3-41C5-B4EE-6A53BC9521E9">跟踪文件分段和MAX_DUMP_FILE_SIZE</a><br>Oracle数据库可以根据您使用<code class="codeph">MAX_DUMP_FILE_SIZE</code>初始化参数指定的限制自动分段跟踪文件。达到限制时，数据库使用序号重命名当前跟踪文件，并使用原始名称创建空文件。
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-9A01312C-DA8F-4E03-AA4D-EF7F76CDA08C__GUID-AA1E46E4-FF67-4037-8F4F-C36CFA4CC1C7">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">MAX_DUMP_FILE_SIZE</code>初始化参数的详细信息，请<code class="codeph">MAX_DUMP_FILE_SIZE</code> <a href="../refrn/MAX_DUMP_FILE_SIZE.html#REFRN10103" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关IPS的更多信息，请<span class="q"><a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems.">参见</a> “ <a href="diagnosing-and-resolving-problems.html#GUID-43A0C671-CE6F-492F-9032-A010E96DC257" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。">关于Oracle数据库故障可诊断性基础结构</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84" title="跟踪文件是包含用于调查问题的诊断数据的文件。警报日志是一个文件，它提供数据库消息和错误的时间顺序日志。">使用跟踪文件和警报日志监视错误</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-0E69CF63-39A3-41C5-B4EE-6A53BC9521E9" name="GUID-0E69CF63-39A3-41C5-B4EE-6A53BC9521E9"></a><h6 id="ADMIN-GUID-0E69CF63-39A3-41C5-B4EE-6A53BC9521E9" class="sect6"><span class="enumeration_section">8.1.1.3.1</span>跟踪文件分段和MAX_DUMP_FILE_SIZE</h6>
                        <div>
                           <p>Oracle数据库可以根据您使用<code class="codeph">MAX_DUMP_FILE_SIZE</code>初始化参数指定的限制自动分段跟踪文件。达到限制时，数据库使用序号重命名当前跟踪文件，并使用原始名称创建空文件。
                           </p>
                           <p>下表描述了如何根据<code class="codeph">MAX_DUMP_FILE_SIZE</code>设置对跟踪文件进行分段。
                           </p>
                           <div class="tblformal" id="GUID-0E69CF63-39A3-41C5-B4EE-6A53BC9521E9__BABIEBCH">
                              <p class="titleintable">表8-1 MAX_DUMP_FILE_SIZE参数和跟踪文件分段</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="MAX_DUMP_FILE_SIZE参数和跟踪文件分段" width="100%" border="1" summary="This table lists the trace file segmentation behavior for various MAX_DUMP_FILE_SIZE parameter settings." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d113657e567">MAX_DUMP_FILE_SIZE设置</th>
                                       <th align="left" valign="bottom" width="72%" id="d113657e570">跟踪文件分段</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d113657e575" headers="d113657e567 ">
                                          <p><code class="codeph">无限</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d113657e575 d113657e570 ">
                                          <p>跟踪文件未分段。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d113657e583" headers="d113657e567 ">
                                          <p>大于<code class="codeph">15M</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d113657e583 d113657e570 ">
                                          <p>跟踪文件在<code class="codeph">MAX_DUMP_FILE_SIZE</code>设置的1/5的边界上进行分段。尺寸小于此边界的跟踪文件不会被分段。例如，如果<code class="codeph">MAX_DUMP_FILE_SIZE</code>设置为<code class="codeph">100M</code> ，则边界为20 MB（100 MB的1/5）。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d113657e601" headers="d113657e567 ">
                                          <p><code class="codeph">15M</code>或更少</p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d113657e601 d113657e570 ">
                                          <p>跟踪文件未分段。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>最多可以有五个段，但段的总组合大小不能超过<code class="codeph">MAX_DUMP_FILE_SIZE</code>限制。当跟踪文件的所有段的组合大小超过指定的限制时，将删除第一个段之后的最旧段，并创建一个新的空段。因此，跟踪文件始终包含最新的跟踪信息。不会删除第一个段，因为它可能包含有关进程初始状态的相关信息。
                           </p>
                           <p>分段可改善跟踪文件的空间管理。具体而言，分段使您可以通过以下方式管理跟踪文件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可以在不再需要时清除旧跟踪文件。</p>
                              </li>
                              <li>
                                 <p>您可以使用较小的跟踪文件诊断问题，并隔离必须为事件打包服务（IPS）打包的跟踪文件。</p>
                              </li>
                           </ul>
                           <div class="p">
                              <div class="infoboxnote" id="GUID-0E69CF63-39A3-41C5-B4EE-6A53BC9521E9__GUID-E4382963-0DCE-4644-AABD-8DED63057CEA">
                                 <p class="notep1">注意：</p>
                                 <p>任何涵盖事件的时间范围的段都不会被删除。它除了五个默认段之外还保留。</p>
                              </div>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-9A01312C-DA8F-4E03-AA4D-EF7F76CDA08C" title="您可以使用初始化参数MAX_DUMP_FILE_SIZE控制所有跟踪文件的最大大小（不包括警报日志）。">控制跟踪文件的大小</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11245"></a><div class="props_rev_3"><a id="GUID-58C19B6C-AB5F-46A6-82D6-EBAC5F1DF0F0" name="GUID-58C19B6C-AB5F-46A6-82D6-EBAC5F1DF0F0"></a><h5 id="ADMIN-GUID-58C19B6C-AB5F-46A6-82D6-EBAC5F1DF0F0" class="sect5"><span class="enumeration_section">8.1.1.4</span> Oracle数据库写入跟踪文件时的控制</h5>
                     <div>
                        <p>后台进程始终在适当时写入跟踪文件。</p>
                        <div class="section">
                           <p>在ARC <span class="italic">n</span>后台进程的情况下，可以通过<code class="codeph">LOG_ARCHIVE_TRACE</code>初始化参数来控制生成的跟踪信息的数量和类型。为此：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>按照<span class="q">“ <a href="managing-archived-redo-log-files.html#GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25" title="后台进程始终在适当时写入跟踪文件。对于archivelog进程，您可以控制生成到跟踪文件的输出。">控制Archivelog进程生成的跟踪输出</a> ”</span>一节中的说明进行操作。
                                 </p>
                              </li>
                           </ul>
                           <p>其他后台进程没有这种灵活性。</p>
                           <p>每当发生严重错误时，都会代表服务器进程写入跟踪文件。此外，设置初始化参数<code class="codeph">SQL_TRACE = TRUE</code>会导致SQL跟踪工具生成性能统计信息，以处理实例的所有SQL语句，并将其写入自动诊断信息库。
                           </p>
                           <p>（可选）您可以请求为服务器进程生成跟踪文件。无论<code class="codeph">SQL_TRACE</code>初始化参数的当前值如何，每个会话都可以使用SQL语句<code class="codeph">ALTER SESSION SET SQL_TRACE</code>代表关联的服务器进程启用或禁用跟踪日志记录。此示例为特定会话启用SQL跟踪工具：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET SQL_TRACE TRUE;</pre><p>使用<code class="codeph">DBMS_SESSION</code>或<code class="codeph">DBMS_MONITOR</code>包来控制会话的SQL跟踪。
                           </p>
                           <div class="infoboxnote" id="GUID-58C19B6C-AB5F-46A6-82D6-EBAC5F1DF0F0__GUID-874B67C3-56C0-4463-8896-3EE364AFC89C">
                              <p class="notep1">注意：</p>
                              <p>服务器进程的SQL跟踪工具可能会导致严重的系统开销，从而导致严重的性能影响，因此您应该仅在收集统计信息时启用此功能。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-58C19B6C-AB5F-46A6-82D6-EBAC5F1DF0F0__GUID-816BAA94-3306-4DEA-ACCE-D9CD92254E59">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle数据库包括用于收集和管理诊断数据的高级故障诊断基础结构，以便诊断和解决数据库问题。诊断数据包括先前版本中也存在的跟踪文件，转储和核心文件，以及新类型的诊断数据，使客户和Oracle支持人员能够快速有效地识别，调查，跟踪和解决问题。">诊断和解决问题</a> ”</span>以获取有关数据库如何处理严重错误（有时也称为<span class="italic">事件）的</span>更多信息。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84" title="跟踪文件是包含用于调查问题的诊断数据的文件。警报日志是一个文件，它提供数据库消息和错误的时间顺序日志。">使用跟踪文件和警报日志监视错误</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11246"></a><div class="props_rev_3"><a id="GUID-C5D99681-39FD-4F95-AA90-E2E733AC0DD6" name="GUID-C5D99681-39FD-4F95-AA90-E2E733AC0DD6"></a><h5 id="ADMIN-GUID-C5D99681-39FD-4F95-AA90-E2E733AC0DD6" class="sect5"><span class="enumeration_section">8.1.1.5</span>读取共享服务器会话的跟踪文件</h5>
                     <div>
                        <p>如果启用了共享服务器，则使用调度程序的每个会话都将路由到共享服务器进程，并且仅当会话启用了跟踪（或者遇到错误时），才会将跟踪信息写入服务器跟踪文件。因此，要跟踪使用调度程序连接的特定会话的跟踪，您可能必须浏览多个共享服务器跟踪文件。</p>
                        <p>为了帮助您，Oracle提供了一个命令行实用程序<code class="codeph">trcsess</code> ，它在一个地方整合了与用户会话相关的所有跟踪信息， <code class="codeph">trcsess</code>时间对信息进行<code class="codeph">trcsess</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C5D99681-39FD-4F95-AA90-E2E733AC0DD6__GUID-69E6F0CB-0084-4371-8475-A23B64A888F0">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用SQL跟踪工具并使用<code class="codeph">TKPROF</code>和<code class="codeph">trcsess</code>解释生成的跟踪文件的信息，请参阅<a href="../tgsql/performing-application-tracing.html#TGSQL791" target="_blank"><span class="italic">“Oracle数据库SQL调优指南”</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-B4D1E84B-107C-42AE-82F6-7A2D603B6C84" title="跟踪文件是包含用于调查问题的诊断数据的文件。警报日志是一个文件，它提供数据库消息和错误的时间顺序日志。">使用跟踪文件和警报日志监视错误</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24" name="GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24"></a><h4 id="ADMIN-GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24" class="sect4"><span class="enumeration_section">8.1.2</span>使用服务器生成的警报监视数据库</h4>
                  <p>服务器生成的警报是来自Oracle数据库服务器的即将发生的问题的通知。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-2A91AF1F-A4FF-4D67-928B-BBCE09342331">关于使用服务器生成的警报监视数据库</a><br>服务器生成的警报可能包含纠正问题的建议。当问题条件被清除时，也会提供通知。
                        </li>
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF">设置和检索服务器生成的警报的阈值</a><br>您可以使用<code class="codeph">DBMS_SERVER_ALERT</code> PL / SQL包的<code class="codeph">SET_THRESHOLD</code>和<code class="codeph">GET_THRESHOLD</code>过程查看和更改服务器警报度量标准的阈值设置。
                        </li>
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-436ACDED-ACB2-436D-806F-8A55C57999E0">查看服务器生成的警报</a><br>查看服务器生成的警报的最简单方法是访问Cloud Control的数据库主页，但还有其他方法可以查看这些警报。
                        </li>
                        <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-865789BF-8011-45D6-8866-E9DA154E66B1">服务器生成的警报数据字典视图</a><br>您可以查询数据字典视图，以获取有关服务器生成的警报的信息
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" title="您可以监视数据库错误和警报，以防止，检测和解决问题。">监视错误和警报</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11247"></a><div class="props_rev_3"><a id="GUID-2A91AF1F-A4FF-4D67-928B-BBCE09342331" name="GUID-2A91AF1F-A4FF-4D67-928B-BBCE09342331"></a><h5 id="ADMIN-GUID-2A91AF1F-A4FF-4D67-928B-BBCE09342331" class="sect5"><span class="enumeration_section">8.1.2.1</span>关于使用服务器生成的警报监视数据库</h5>
                     <div>
                        <p>服务器生成的警报可能包含纠正问题的建议。当问题条件被清除时，也会提供通知。</p>
                        <p>发生问题或数据与指标的预期值不匹配时会自动生成警报，例如：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>每秒物理读数</p>
                           </li>
                           <li>
                              <p>用户每秒提交</p>
                           </li>
                           <li>
                              <p>SQL服务响应时间</p>
                           </li>
                        </ul>
                        <p>服务器生成的警报可以基于阈值级别，也可以仅因为事件发生而发出。可以在阈值警告和关键级别触发基于阈值的警报。这些级别的值可以是客户定义的值或内部值，某些警报具有默认阈值级别，您可以根据需要进行更改。例如，默认情况下，当空间使用百分比超过85％警告或97％严重阈值级别时，将为表空间空间使用生成服务器生成的警报。不基于阈值级别的警报示例如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">快照太旧了</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">可恢复会话暂停</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">恢复区空间使用情况</code></p>
                           </li>
                        </ul>
                        <p>警报消息被发送到用户<code class="codeph">SYS</code>拥有的预定义持久队列<code class="codeph">ALERT_QUE</code> 。 Cloud Control读取此队列并提供有关未完成的服务器警报的通知，有时还会建议纠正问题的操作。警报显示在Cloud Control Database主页上，可配置为向选定的管理员发送电子邮件或寻呼机通知。如果无法将警报写入警报队列，则会将有关警报的消息写入Oracle数据库警报日志。
                        </p>
                        <p>后台进程定期将数据刷新到自动工作负载存储库以捕获度量值的历史记录。系统会定期自动清除警报历史记录表和<code class="codeph">ALERT_QUE</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24" title="服务器生成的警报是来自Oracle数据库服务器的即将发生的问题的通知。">使用服务器生成的警报监视数据库</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11248"></a><div class="props_rev_3"><a id="GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF" name="GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF"></a><h5 id="ADMIN-GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF" class="sect5"><span class="enumeration_section">8.1.2.2</span>设置和检索服务器生成的警报的阈值</h5>
                     <div>
                        <p>您可以使用<code class="codeph">DBMS_SERVER_ALERT</code> PL / SQL包的<code class="codeph">SET_THRESHOLD</code>和<code class="codeph">GET_THRESHOLD</code>过程查看和更改服务器警报度量标准的阈值设置。
                        </p>
                        <div class="infoboxnote" id="GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF__GUID-40E72534-5EB3-471B-AE73-38BA46E2B4A0">
                           <p class="notep1">注意：</p>
                           <p><a id="d113657e1005" class="indexterm-anchor"></a>设置和检索阈值的最方便方法是使用Cloud Control的图形界面。有关管理警报的说明，请参阅Cloud Control联机帮助。
                           </p>
                        </div>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-FB3B3E45-B3CF-4C5C-97A7-C139A644F554">设置阈值级别</a><br><code class="codeph">DBMS_SERVER_ALERT</code>包中的<code class="codeph">SET_THRESHOLD</code>过程可以设置阈值级别。
                           </li>
                           <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-F8D68BDE-3512-416B-917B-26DF7FCD4A90">检索阈值信息</a><br><code class="codeph">DBMS_SERVER_ALERT</code>包中的<code class="codeph">GET_THRESHOLD</code>过程可以检索阈值信息。
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF__GUID-228609EB-E7B7-485F-8B85-8A22A417D0A0">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_SERVER_ALERT</code>包的信息，请<code class="codeph">DBMS_SERVER_ALERT</code> <a href="../arpls/DBMS_SERVER_ALERT.html#ARPLS016" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24" title="服务器生成的警报是来自Oracle数据库服务器的即将发生的问题的通知。">使用服务器生成的警报监视数据库</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11249"></a><div class="props_rev_3"><a id="GUID-FB3B3E45-B3CF-4C5C-97A7-C139A644F554" name="GUID-FB3B3E45-B3CF-4C5C-97A7-C139A644F554"></a><h6 id="ADMIN-GUID-FB3B3E45-B3CF-4C5C-97A7-C139A644F554" class="sect6"><span class="enumeration_section">8.1.2.2.1</span>设置阈值级别</h6>
                        <div>
                           <p><code class="codeph">DBMS_SERVER_ALERT</code>包中的<code class="codeph">SET_THRESHOLD</code>过程可以设置阈值级别。
                           </p>
                           <div class="section">
                              <p>要设置阈值级别：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在<code class="codeph">DBMS_SERVER_ALERT</code>包中运行<code class="codeph">SET_THRESHOLD</code>过程，并指定适当的参数。
                                    </p>
                                 </li>
                              </ul>
                              <p>以下示例显示如何使用<code class="codeph">SET_THRESHOLD</code>过程为实例的每个用户调用设置CPU时间的阈值：</p><pre class="oac_no_warn" dir="ltr">DBMS_SERVER_ALERT.SET_THRESHOLD（DBMS_SERVER_ALERT.CPU_TIME_PER_CALL，DBMS_SERVER_ALERT.OPERATOR_GE，'8000'，DBMS_SERVER_ALERT.OPERATOR_GE，'10000'，1,2，'inst1'，DBMS_SERVER_ALERT.OBJECT_TYPE_SERVICE，'main.regress.rdbms.dev.us.example.com “）;</pre><p>在此示例中，当每个用户调用的CPU时间超过8000微秒时发出警告警报，并且当每个用户调用的CPU时间超过10,000微秒时发出严重警报。论点包括：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">CPU_TIME_PER_CALL</code>指定度量标识符。有关支持度量标准的列表，请参阅<a href="../arpls/DBMS_SERVER_ALERT.html#ARPLS016" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>观察期设定为1分钟。此期间指定在发出警报之前条件必须偏离阈值的分钟数。</p>
                                 </li>
                                 <li>
                                    <p>连续出现的次数设置为2。此数字指定在生成警报之前度量标准值必须违反阈值的次数。</p>
                                 </li>
                                 <li>
                                    <p>实例的名称设置为<code class="codeph">inst1</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>常量<code class="codeph">DBMS_ALERT.OBJECT_TYPE_SERVICE</code>指定设置阈值的对象类型。在此示例中，服务名称为<code class="codeph">main.regress.rdbms.dev.us.example.com</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF" title="您可以使用DBMS_SERVER_ALERT PL / SQL包的SET_THRESHOLD和GET_THRESHOLD过程查看和更改服务器警报度量标准的阈值设置。">设置和检索服务器生成的警报的阈值</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11250"></a><div class="props_rev_3"><a id="GUID-F8D68BDE-3512-416B-917B-26DF7FCD4A90" name="GUID-F8D68BDE-3512-416B-917B-26DF7FCD4A90"></a><h6 id="ADMIN-GUID-F8D68BDE-3512-416B-917B-26DF7FCD4A90" class="sect6"><span class="enumeration_section">8.1.2.2.2</span>检索阈值信息</h6>
                        <div>
                           <p><code class="codeph">DBMS_SERVER_ALERT</code>包中的<code class="codeph">GET_THRESHOLD</code>过程可以检索阈值信息。
                           </p>
                           <div class="section">
                              <p>要检索阈值：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在<code class="codeph">DBMS_SERVER_ALERT</code>包中运行<code class="codeph">GET_THRESHOLD</code>过程并指定适当的参数。
                                    </p>
                                 </li>
                              </ul>
                              <p>以下示例检索阈值：</p><pre class="oac_no_warn" dir="ltr">DECLARE warning_operator BINARY_INTEGER; warning_value VARCHAR2（60）; critical_operator BINARY_INTEGER; critical_value VARCHAR2（60）; observation_period BINARY_INTEGER; consecutive_occurrences BINARY_INTEGER; BEGIN DBMS_SERVER_ALERT.GET_THRESHOLD（DBMS_SERVER_ALERT.CPU_TIME_PER_CALL，warning_operator，warning_value，critical_operator，critical_value，observation_period，consecutive_occurrences，'inst1'，DBMS_SERVER_ALERT.OBJECT_TYPE_SERVICE，'main.regress.rdbms.dev.us.example.com'）; DBMS_OUTPUT.PUT_LINE（'警告运算符：'|| warning_operator）; DBMS_OUTPUT.PUT_LINE（'警告值：'|| warning_value）; DBMS_OUTPUT.PUT_LINE（'Critical operator：'|| critical_operator）; DBMS_OUTPUT.PUT_LINE（'临界值：'|| critical_value）; DBMS_OUTPUT.PUT_LINE（'observation_period：'|| observation_period）; DBMS_OUTPUT.PUT_LINE（'连续出现：'|| consecutive_occurrences）;结束; /</pre><p>您还可以使用<code class="codeph">DBA_THRESHOLDS</code>视图检查特定阈值设置。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT metrics_name，warning_value，critical_value，consecutive_occurrences FROM DBA_THRESHOLDS WHERE metrics_name LIKE'％CPU Time％';</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-3B999A58-21A7-40FB-A36E-2A113A83F2CF" title="您可以使用DBMS_SERVER_ALERT PL / SQL包的SET_THRESHOLD和GET_THRESHOLD过程查看和更改服务器警报度量标准的阈值设置。">设置和检索服务器生成的警报的阈值</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11251"></a><div class="props_rev_3"><a id="GUID-436ACDED-ACB2-436D-806F-8A55C57999E0" name="GUID-436ACDED-ACB2-436D-806F-8A55C57999E0"></a><h5 id="ADMIN-GUID-436ACDED-ACB2-436D-806F-8A55C57999E0" class="sect5"><span class="enumeration_section">8.1.2.3</span>查看服务器生成的警报</h5>
                     <div>
                        <p>查看服务器生成的警报的最简单方法是访问Cloud Control的数据库主页，但还有其他方法可以查看这些警报。</p>
                        <div class="section">
                           <p>如果您使用自己的工具而不是Cloud Control来显示警报，请完成以下步骤以查看服务器生成的警报：</p>
                           <ol>
                              <li>
                                 <p>订阅<code class="codeph">ALERT_QUE</code> 。</p>
                              </li>
                              <li>
                                 <p>阅读<code class="codeph">ALERT_QUE</code> 。</p>
                              </li>
                              <li>
                                 <p>在设置警报的阈值级别后显示警报通知</p>
                              </li>
                           </ol>
                           <p>要创建代理并将代理订阅到<code class="codeph">ALERT_QUE</code> ，请完成以下步骤：</p>
                           <ol>
                              <li>
                                 <p>运行<code class="codeph">DBMS_AQADM</code>程序包的<code class="codeph">CREATE_AQ_AGENT</code>过程。
                                 </p>
                              </li>
                              <li>
                                 <p>运行<code class="codeph">ADD_SUBSCRIBER</code>中的程序<code class="codeph">DBMS_AQADM</code>包。
                                 </p>
                              </li>
                              <li>
                                 <p>将数据库用户与订阅代理关联，因为只有与订阅代理关联的用户才能访问安全<code class="codeph">ALERT_QUE</code>中的排队消息。</p>
                              </li>
                              <li>
                                 <p>通过运行分配排队特权用户<code class="codeph">ENABLE_DB_ACCESS</code>和<code class="codeph">GRANT_QUEUE_PRIVILEGE</code>的程序<code class="codeph">DBMS_AQADM</code>包。
                                 </p>
                              </li>
                              <li>
                                 <p>注册<code class="codeph">DBMS_AQ.REGISTER</code>过程，以在警报排入<code class="codeph">ALERT_QUE</code>时接收异步通知。通知可以采用电子邮件，HTTP发布或PL / SQL过程的形式。
                                 </p>
                              </li>
                           </ol>
                           <p>要阅读警报消息，请完成以下步骤：</p>
                           <ol>
                              <li>
                                 <p>使用<code class="codeph">DBMS_AQ.DEQUEUE</code>过程或<code class="codeph">OCIAQDeq</code>调用。
                                 </p>
                              </li>
                              <li>
                                 <p>消息出列后，使用<code class="codeph">DBMS_SERVER_ALERT.EXPAND_MESSAGE</code>过程展开消息的文本。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-436ACDED-ACB2-436D-806F-8A55C57999E0__GUID-19123E8D-C27A-4E03-AB1D-AD1A628F588E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">DBMS_AQ</code>包的信息，请<code class="codeph">DBMS_AQ</code> <a href="../arpls/DBMS_AQ.html#ARPLS004" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_AQADM</code>程序包的信息，请<code class="codeph">DBMS_AQADM</code> <a href="../arpls/DBMS_AQADM.html#ARPLS005" target="_blank"><span class="italic">Oracle Database PL / SQL程序包和类型参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24" title="服务器生成的警报是来自Oracle数据库服务器的即将发生的问题的通知。">使用服务器生成的警报监视数据库</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11252"></a><div class="props_rev_3"><a id="GUID-865789BF-8011-45D6-8866-E9DA154E66B1" name="GUID-865789BF-8011-45D6-8866-E9DA154E66B1"></a><h5 id="ADMIN-GUID-865789BF-8011-45D6-8866-E9DA154E66B1" class="sect5"><span class="enumeration_section">8.1.2.4</span>服务器生成的警报数据字典视图</h5>
                     <div>
                        <p>您可以查询数据字典视图，以获取有关服务器生成的警报的信息</p>
                        <div class="tblformal" id="GUID-865789BF-8011-45D6-8866-E9DA154E66B1__GUID-21D9EECF-B0AC-4BF9-9C8B-954025B03B2D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The table lists the data dictionary views that pertain to server-generated alerts." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d113657e1409">视图</th>
                                    <th align="left" valign="bottom" width="66%" id="d113657e1412">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d113657e1417" headers="d113657e1409 ">
                                       <p><code class="codeph"><a href="../refrn/DBA_THRESHOLDS.html#REFRN23476" target="_blank">DBA_THRESHOLDS</a></code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d113657e1417 d113657e1412 ">
                                       <p>列出为实例定义的阈值设置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d113657e1427" headers="d113657e1409 ">
                                       <p><code class="codeph"><a href="../refrn/DBA_OUTSTANDING_ALERTS.html#REFRN23464" target="_blank">DBA_OUTSTANDING_ALERTS</a></code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d113657e1427 d113657e1412 ">
                                       <p>描述数据库中的未完成警报</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d113657e1437" headers="d113657e1409 ">
                                       <p><code class="codeph"><a href="../refrn/DBA_ALERT_HISTORY.html#REFRN23392" target="_blank">DBA_ALERT_HISTORY</a></code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d113657e1437 d113657e1412 ">
                                       <p>列出已清除的警报历史记录</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d113657e1447" headers="d113657e1409 ">
                                       <p><code class="codeph"><a href="../refrn/V-ALERT_TYPES.html#REFRN30328" target="_blank">V $ ALERT_TYPES</a></code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d113657e1447 d113657e1412 ">
                                       <p>提供每个警报的组和类型等信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d113657e1457" headers="d113657e1409 ">
                                       <p><code class="codeph"><a href="../refrn/V-METRICNAME.html#REFRN30336" target="_blank">V $ METRICNAME</a></code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d113657e1457 d113657e1412 ">
                                       <p>包含有关系统指标的名称，标识符和其他信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d113657e1467" headers="d113657e1409 ">
                                       <p><code class="codeph"><a href="../refrn/V-METRIC.html#REFRN30357" target="_blank">V $公制</a></code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d113657e1467 d113657e1412 ">
                                       <p>包含系统级度量标准值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d113657e1477" headers="d113657e1409 ">
                                       <p><code class="codeph"><a href="../refrn/V-METRIC_HISTORY.html#REFRN30358" target="_blank">V $ METRIC_HISTORY</a></code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d113657e1477 d113657e1412 ">
                                       <p>包含系统级度量标准值的历史记录</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-5B03BE52-E0FD-4BC0-9B4C-1C55BDEACE24" title="服务器生成的警报是来自Oracle数据库服务器的即将发生的问题的通知。">使用服务器生成的警报监视数据库</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN11253"></a><div class="props_rev_3"><a id="GUID-901CA77F-A241-45C6-940F-6CA68E6D45CC" name="GUID-901CA77F-A241-45C6-940F-6CA68E6D45CC"></a><h3 id="ADMIN-GUID-901CA77F-A241-45C6-940F-6CA68E6D45CC" class="sect3"><span class="enumeration_section">8.2</span>监测绩效</h3>
               <div>
                  <p>监控性能包括监控锁和等待事件以及查询一组数据字典视图。</p>
                  <p>“ <a href="../tgdba/part-II-diagnosing-and-tuning-database-performance.html#TGDBA-GUID-E0EEBB00-000C-48EA-9F81-6BD867B78405" target="_blank"><span class="italic">Oracle数据库性能调整指南”</span></a>和“ <a href="../tgsql/monitoring-and-tracing-sql.html#TGSQL-GUID-CA494EFF-53D7-4345-9576-8FED65F35AAE" target="_blank"><span class="italic">Oracle数据库SQL调优指南”</span></a>中详细介绍了监视数据库性能。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-D6146406-ADA2-443A-A843-137FA427ABED">监控锁</a><br>锁是防止访问相同资源的事务之间的破坏性交互的机制。资源可以是用户对象（如表和行），也可以是用户不可见的系统对象，例如内存和数据字典行中的共享数据结构。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-3B2C208E-6BD8-460E-89E4-A744171B5588">关于监控等待事件</a><br>等待事件是由服务器进程递增的统计信息，表示必须等待事件完成才能继续处理。会话可能会等待各种原因，包括等待更多输入，等待操作系统完成诸如磁盘写入之类的服务，或者它可能等待锁定或锁存。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-93C0C7B2-33E1-4733-909F-1CDCAC636791">性能监控数据字典视图</a><br>您可以查询一组数据字典视图以监视Oracle数据库实例。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-62D13052-02B4-4667-8739-C8B96C18054C" title="定期监视数据库的操作非常重要。这样做不仅可以告知您尚未引起注意的错误，还可以让您更好地了解数据库的正常运行。熟悉正常行为反过来可以帮助您识别出错的时间。">监视数据库</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11254"></a><div class="props_rev_3"><a id="GUID-D6146406-ADA2-443A-A843-137FA427ABED" name="GUID-D6146406-ADA2-443A-A843-137FA427ABED"></a><h4 id="ADMIN-GUID-D6146406-ADA2-443A-A843-137FA427ABED" class="sect4"><span class="enumeration_section">8.2.1</span>监控锁</h4>
                  <div>
                     <p>锁是防止访问相同资源的事务之间的破坏性交互的机制。资源可以是用户对象（如表和行），也可以是用户不可见的系统对象，例如内存和数据字典行中的共享数据结构。</p>
                     <div class="section">
                        <p>Oracle Database在执行SQL语句时自动获取和管理必要的锁，因此您无需关注此类详细信息。但是，数据库还允许您手动锁定数据。</p>
                        <p>当两个或多个用户正在等待彼此锁定的数据时，可能会发生死锁。死锁会阻止某些事务继续工作。Oracle数据库自动检测死锁情况并通过回滚死锁中涉及的一个语句来解决它们，从而释放一组冲突的行锁。</p>
                        <p>Oracle数据库旨在避免死锁，并且它们并不常见。大多数情况下，当事务显式覆盖数据库的默认锁定时，它们会发生。死锁可能会影响数据库的性能，因此Oracle提供了一些脚本和视图，使您可以监视锁。</p>
                        <p>监控锁：</p>
                        <ol>
                           <li>
                              <p>运行<code class="codeph">catblock.sql</code> ，创建锁定视图。
                              </p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">utllockt.sql</code>脚本，该脚本使用<code class="codeph">catblock.sql</code>创建的<code class="codeph">catblock.sql</code>以树形方式显示系统中等待锁定的会话及其等待的锁定。
                              </p>
                           </li>
                        </ol>
                        <p>脚本文件的位置取决于操作系统。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D6146406-ADA2-443A-A843-137FA427ABED__GUID-26DCA783-3EF7-4817-BCE2-AF83B2804D48">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="monitoring-the-database.html#GUID-93C0C7B2-33E1-4733-909F-1CDCAC636791" title="您可以查询一组数据字典视图以监视Oracle数据库实例。">性能监控数据字典视图</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1339" target="_blank"><span class="italic">Oracle数据库概念</span></a>包含有关锁的更多信息。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-901CA77F-A241-45C6-940F-6CA68E6D45CC" title="监控性能包括监控锁和等待事件以及查询一组数据字典视图。">监控性能</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11255"></a><div class="props_rev_3"><a id="GUID-3B2C208E-6BD8-460E-89E4-A744171B5588" name="GUID-3B2C208E-6BD8-460E-89E4-A744171B5588"></a><h4 id="ADMIN-GUID-3B2C208E-6BD8-460E-89E4-A744171B5588" class="sect4"><span class="enumeration_section">8.2.2</span>关于监视等待事件</h4>
                  <div>
                     <p>等待事件是由服务器进程递增的统计信息，表示必须等待事件完成才能继续处理。会话可能会等待各种原因，包括等待更多输入，等待操作系统完成诸如磁盘写入之类的服务，或者它可能等待锁定或锁存。</p>
                     <p>当会话等待资源时，它没有做任何有用的工作。大量等待是令人担忧的问题。等待事件数据显示可能影响性能的各种问题症状，例如锁存器争用，缓冲区争用和I / O争用。</p>
                     <p>Oracle提供了几个显示等待事件统计信息的视图。<a href="../tgdba/instance-tuning-using-performance-views.html#TGDBA02410" target="_blank"><span class="italic">Oracle数据库性能调优指南中</span></a>包含对这些视图及其在实例调优中的作用的讨论。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-901CA77F-A241-45C6-940F-6CA68E6D45CC" title="监控性能包括监控锁和等待事件以及查询一组数据字典视图。">监控性能</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11256"></a><div class="props_rev_3"><a id="GUID-93C0C7B2-33E1-4733-909F-1CDCAC636791" name="GUID-93C0C7B2-33E1-4733-909F-1CDCAC636791"></a><h4 id="ADMIN-GUID-93C0C7B2-33E1-4733-909F-1CDCAC636791" class="sect4"><span class="enumeration_section">8.2.3</span>性能监控数据字典视图</h4>
                  <div>
                     <p>您可以查询一组数据字典视图以监视Oracle数据库实例。</p>
                     <div class="section">
                        <p>这些观点在其范围内是一般性的。其他视图，更具体的过程，将在本书的部分讨论，其中描述了该过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-93C0C7B2-33E1-4733-909F-1CDCAC636791__GUID-AE147474-D45A-4063-800D-331FFDC5A23A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column lists views that can be used to monitor database activity. The second column describes each view." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d113657e1747">视图</th>
                                 <th align="left" valign="bottom" width="71%" id="d113657e1750">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1755" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/V-LOCK.html#REFRN30121" target="_blank">V $ LOCK</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1755 d113657e1750 ">
                                    <p>列出Oracle数据库当前持有的锁以及锁或锁的未完成请求</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1765" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_BLOCKERS.html#REFRN23027" target="_blank">DBA_BLOCKERS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1765 d113657e1750 ">
                                    <p>如果对另一个会话正在等待的对象持有锁，则显示该会话</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1775" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_WAITERS.html#REFRN23306" target="_blank">DBA_WAITERS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1775 d113657e1750 ">
                                    <p>如果正在等待锁定的对象，则显示会话</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1785" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_DDL_LOCKS.html#REFRN23051" target="_blank">DBA_DDL_LOCKS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1785 d113657e1750 ">
                                    <p>列出数据库中保存的所有DDL锁以及DDL锁的所有未完成请求</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1796" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_DML_LOCKS.html#REFRN23062" target="_blank">DBA_DML_LOCKS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1796 d113657e1750 ">
                                    <p>列出数据库中保存的所有DML锁以及DML锁的所有未完成请求</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1806" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_LOCK.html#REFRN23116" target="_blank">DBA_LOCK</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1806 d113657e1750 ">
                                    <p>列出数据库中保存的所有锁或锁，以及锁或锁的所有未完成请求</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1816" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_LOCK_INTERNAL.html#REFRN23117" target="_blank">DBA_LOCK_INTERNAL</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1816 d113657e1750 ">
                                    <p>为每个锁定或锁存器显示一行，每个未锁定或锁存请求显示一行</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1826" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/V-LOCKED_OBJECT.html#REFRN30125" target="_blank">V $ LOCKED_OBJECT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1826 d113657e1750 ">
                                    <p>列出系统上每个事务获取的所有锁</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1836" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/V-SESSION_WAIT.html#REFRN30229" target="_blank">V $ SESSION_WAIT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1836 d113657e1750 ">
                                    <p>列出活动会话正在等待的资源或事件</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1846" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/V-SYSSTAT.html#REFRN30272" target="_blank">V $ SYSSTAT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1846 d113657e1750 ">
                                    <p>包含会话统计信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1856" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/V-RESOURCE_LIMIT.html#REFRN30206" target="_blank">V $ RESOURCE_LIMIT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1856 d113657e1750 ">
                                    <p>提供有关某些系统资源的当前和最大全局资源利用率的信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1867" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/V-SQLAREA.html#REFRN30259" target="_blank">V $ SQLAREA</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1867 d113657e1750 ">
                                    <p>包含有关共享SQL区域的统计信息，并为每个SQL字符串包含一行。还提供有关内存，已分析和准备执行的SQL语句的统计信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d113657e1877" headers="d113657e1747 ">
                                    <p><code class="codeph"><a href="../refrn/V-LATCH.html#REFRN30108" target="_blank">V $ LATCH</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d113657e1877 d113657e1750 ">
                                    <p>包含非父级锁存器的统计信息和父级锁存器的摘要统计信息</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-901CA77F-A241-45C6-940F-6CA68E6D45CC" title="监控性能包括监控锁和等待事件以及查询一组数据字典视图。">监控性能</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-7AB7A507-E33A-4967-A84A-AA21B0478C0B" name="GUID-7AB7A507-E33A-4967-A84A-AA21B0478C0B"></a><h3 id="ADMIN-GUID-7AB7A507-E33A-4967-A84A-AA21B0478C0B" class="sect3"><span class="enumeration_section">8.3</span>监控隔离对象</h3>
               <div>
                  <p>即使存在损坏的不可恢复对象，对象隔离也可使Oracle数据库正常运行。<code class="codeph">V$QUARANTINE</code>视图包含有关隔离对象的信息。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-2762E35B-E807-4D3A-92CA-A1FA4D777EE6">关于对象隔离</a><br>对象隔离隔离了引发错误的对象，并监视对象是否对系统产生影响。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-the-database.html#GUID-146C08F3-93EB-42A8-AE78-ED6D8DAAB8D2">查看隔离的对象</a><br><code class="codeph">V$QUARANTINE</code>视图存储有关当前隔离的对象的信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-62D13052-02B4-4667-8739-C8B96C18054C" title="定期监视数据库的操作非常重要。这样做不仅可以告知您尚未引起注意的错误，还可以让您更好地了解数据库的正常运行。熟悉正常行为反过来可以帮助您识别出错的时间。">监视数据库</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-2762E35B-E807-4D3A-92CA-A1FA4D777EE6" name="GUID-2762E35B-E807-4D3A-92CA-A1FA4D777EE6"></a><h4 id="ADMIN-GUID-2762E35B-E807-4D3A-92CA-A1FA4D777EE6" class="sect4"><span class="enumeration_section">8.3.1</span>关于对象隔离</h4>
                  <div>
                     <p>对象隔离隔离了引发错误的对象，并监视对象是否对系统产生影响。</p>
                     <p>某些Oracle数据库错误（例如<code class="codeph">ORA-00600</code>和<code class="codeph">ORA-07445</code> ）通常会导致进程中止，从而导致数据库中止。遇到此类错误时，对象隔离会尝试隔离导致错误的资源，以便数据库可以继续运行。资源在内存中是隔离的，因此它不会影响数据库的其余部分。<code class="codeph">V$QUARANTINE</code>视图存储有关当前隔离的对象的信息。
                     </p>
                     <p>大多数数据库资源都可能引发可能导致数据库中止的错误。例如，库高速缓存存储器对象可能引发此类错误。</p>
                     <p>在多租户环境中，多租户容器数据库（CDB）在某些情况下可以使用对象隔离来隔离和中止可插拔数据库（PDB），该数据库引发了严重错误而不是中止CDB。</p>
                     <p>在重新启动数据库之前，隔离的资源通常会保持隔离状态。如果资源被隔离为CDB中的PDB，则资源将被隔离，直到PDB关闭并重新打开。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-7AB7A507-E33A-4967-A84A-AA21B0478C0B" title="即使存在损坏的不可恢复对象，对象隔离也可使Oracle数据库正常运行。V $ QUARANTINE视图包含有关隔离对象的信息。">监视隔离对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-146C08F3-93EB-42A8-AE78-ED6D8DAAB8D2" name="GUID-146C08F3-93EB-42A8-AE78-ED6D8DAAB8D2"></a><h4 id="ADMIN-GUID-146C08F3-93EB-42A8-AE78-ED6D8DAAB8D2" class="sect4"><span class="enumeration_section">8.3.2</span>查看隔离对象</h4>
                  <div>
                     <p><code class="codeph">V$QUARANTINE</code>视图存储有关当前隔离的对象的信息。
                     </p>
                     <ol>
                        <li><span>以管理用户身份连接到数据库。</span></li>
                        <li><span>查询<code class="codeph">V$QUARANTINE</code>视图。</span></li>
                     </ol>
                     <div class="example" id="GUID-146C08F3-93EB-42A8-AE78-ED6D8DAAB8D2__GUID-BBB7BBBE-F174-4CB5-A8E3-A493FE754C99">
                        <p class="titleinexample">例8-1查询V $ QUARANTINE视图</p>
                        <p>此查询显示当前隔离的资源。</p><pre class="pre codeblock"><code>列对象格式A10列地址格式A10列字体格式999999999列错误格式A20列时间戳格式A20选择对象，地址，字符，错误，TIMESTAMP来自V $ QUARANTINE;</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>对象地址BYTES ERROR TIMESTAMP ---------- ---------- ---------- --------------- ----- -------------------- session 0000000078 9528 ORA-00600：internal 16-SEP-15 01.17.42.2 B54BC8错误代码，参数85878 PM -07 ：00 s：[12345]，[]，[]，[]，[]，[]，[]，[]，[]，[]，[]，[]</code></pre><p>此输出显示有关隔离资源的以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>资源的名称是“session”。</p>
                           </li>
                           <li>
                              <p>被隔离的存储区的起始地址是0000000078B54BC8。通常，这是资源的地址，例如本示例中的会话。</p>
                           </li>
                           <li>
                              <p>资源在隔离区中使用9528字节的内存。</p>
                           </li>
                           <li>
                              <p>导致资源被置于隔离区中的错误消息是“ORA-00600内部错误代码”。</p>
                           </li>
                           <li>
                              <p>时间戳显示错误的日期和时间。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-the-database.html#GUID-7AB7A507-E33A-4967-A84A-AA21B0478C0B" title="即使存在损坏的不可恢复对象，对象隔离也可使Oracle数据库正常运行。V $ QUARANTINE视图包含有关隔离对象的信息。">监视隔离对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>