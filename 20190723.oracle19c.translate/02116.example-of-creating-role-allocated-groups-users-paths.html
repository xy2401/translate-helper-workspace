<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Understand this example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment."></meta>
      <meta name="description" content="Understand this example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment."></meta>
      <title>创建角色分配的组，用户和路径的示例</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Grid Infrastructure Installation and Upgrade Guide"></meta>
      <meta property="og:description" content="Understand this example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Grid Infrastructure Installation and Upgrade Guide for Linux"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="grid-infrastructure-installation-and-upgrade-guide-linux.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T21:10:05-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2013, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96272-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="example-of-creating-minimal-users-roles-groups.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-software-users-environments.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Grid Infrastructure Installation and Upgrade Guide for Linux"></meta>
    <meta name="dcterms.isVersionOf" content="CWLIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="example-of-creating-minimal-users-roles-groups.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-software-users-environments.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Grid Infrastructure安装和升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-users-groups-and-environments-for-oracle-grid-infrastructure-and-oracle-database.html" property="item" typeof="WebPage"><span property="name">为Oracle Grid Infrastructure和Oracle数据库配置用户，组和环境</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="creating-operating-system-oracle-installation-user-accounts.html" property="item" typeof="WebPage"><span property="name">创建操作系统Oracle安装用户帐户</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建角色分配的组，用户和路径的示例</li>
            </ol>
            <a id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509" name="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509"></a>
            
            <h2 id="CWLIN-GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509" class="sect2">创建角色分配的组，用户和路径的示例</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解如何创建符合最佳灵活体系结构（OFA）部署的角色分配组和用户的示例。</p>
               <p></p>
               <div class="section">
                  <p class="subhead1" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-B19FBB12-D89D-437F-9F0F-B59A5A8DE482"></p>
                  <p>此示例说明了以下方案：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle Grid Infrastructure安装</p>
                     </li>
                     <li>
                        <p>为集群（ <code class="codeph">DB1</code>和<code class="codeph">DB2</code>计划了两个单独的Oracle数据库安装</p>
                     </li>
                     <li>
                        <p>Oracle Grid Infrastructure和每个Oracle数据库的单独安装所有者</p>
                     </li>
                     <li>
                        <p>为Oracle ASM和每个Oracle数据库分配系统特权的完整角色</p>
                     </li>
                     <li>
                        <p>Oracle数据库所有者<code class="codeph">oracle1</code>授予启动和关闭Oracle ASM实例的权限</p>
                     </li>
                  </ul>
                  <p>使用以下命令为此方案创建角色分配配置的组和用户：</p><pre class="pre codeblock"><code>#groupadd -g 54321 oinstall #groupadd -g 54322 dba1 #groupadd -g 54332 dba2＃groupadd -g 54323 oper1＃groupadd -g 54333 oper2＃groupadd -g 54324 backupdba1＃groupadd -g 54334 backupdba2＃groupadd -g 54325 dgdba1 #groupadd -g 54335 dgdba2 #groupadd -g 54326 kmdba1 #groupadd -g 54336 kmdba2＃groupadd -g 54327 asmdba #groupadd -g 54328 asmoper #groupadd -g 54329 asmadmin＃groupadd -g 54330 racdba1＃groupadd -g 54340 racdba2 #useradd -u 54322 -g oinstall -G asmadmin，asmdba，racdba1，racdba2 grid＃useradd -u 54321 -g oinstall -G dba1，backupdba1，dgdba1，kmdba1，asmdba，racdba1，asmoper oracle1＃useradd -u 54323 -g oinstall -G dba2， backupdba2，dgdba2，kmdba2，asmdba，racdba2 oracle2 #mkdir -p /u01/app/19.0.0/grid#mkdir -p / u01 / app / grid #mkdir -p / u01 / app / oracle1 #mkdir -p u01 / app / oracle2 #chown -R grid：oinstall / u01 #chmod -R 775 / u01 / #chown oracle1：oinstall / u01 / app / oracle1＃chown oracle2：oinstall / u01 / app / oracle2</code></pre><p>运行这些命令后，您将拥有一组Oracle Grid Infrastructure的管理权限组和用户，以及两个单独的Oracle数据库（ <code class="codeph">DB1</code>和<code class="codeph">DB2</code> ）：</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-ED96D62A-7BAD-445B-B6BB-20E52ECAF4D9">
                  <p class="titleinexample">示例6-1 Oracle Grid Infrastructure组和用户示例</p>
                  <p>该命令将创建以下Oracle Grid Infrastructure组和用户：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle中央库存组或<code class="codeph">oraInventory</code>组（ <code class="codeph">oinstall</code> ），其成员将此组作为其主要组。该组的成员被授予OINSTALL系统特权，该特权授予写入<code class="codeph">oraInventory</code>目录的权限以及其他相关的安装二进制特权。
                        </p>
                     </li>
                     <li>
                        <p>OSASM组（ <code class="codeph">asmadmin</code> ），在安装期间与Oracle Grid Infrastructure关联，其成员被授予SYSASM管理Oracle ASM的权限。</p>
                     </li>
                     <li>
                        <p>适用于ASM组的OSDBA（ <code class="codeph">asmdba</code> ），与安装期间的Oracle Grid Infrastructure存储相关联。其成员包括网格和任何数据库安装所有者，例如<code class="codeph">oracle1</code>和<code class="codeph">oracle2</code> ，他们被授予对Oracle ASM的访问权限。使用Oracle ASM进行存储的任何其他安装所有者也必须成为该组的成员。
                        </p>
                     </li>
                     <li>
                        <p>适用于Oracle ASM（ <code class="codeph">asmoper</code> ）的ASM组的<code class="codeph">asmoper</code> ，在安装期间与Oracle Grid Infrastructure相关联。<code class="codeph">asmoper</code>组的成员被授予有限的Oracle ASM管理员权限，包括启动和停止Oracle ASM实例的权限。
                        </p>
                     </li>
                     <li>
                        <p>一个Oracle网格基础架构安装所有者（ <code class="codeph">grid</code> ），与oraInventory的组（ <code class="codeph">oinstall</code> ）作为其主组，并且与OSASM（ <code class="codeph">asmadmin</code> ）组和ASM（该OSDBA <code class="codeph">asmdba</code> ）基团作为辅助组。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">/u01/app/oraInventory</code> 。群集上Oracle安装的中央清单。此路径<code class="codeph">grid:oinstall</code>拥有，以使其他Oracle软件所有者能够写入中央库存。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">grid:oinstall</code>拥有OFA兼容的挂载点<code class="codeph">/u01</code> <code class="codeph">grid:oinstall</code>安装前的<code class="codeph">grid:oinstall</code> ，以便Oracle Universal Installer可以写入该路径。
                        </p>
                     </li>
                     <li>
                        <p>网格安装所有者<code class="codeph">/u01/app/grid</code>的Oracle基础<code class="codeph">grid:oinstall</code>具有775权限的<code class="codeph">grid:oinstall</code> ，并在安装过程中更改为755权限。
                        </p>
                     </li>
                     <li>
                        <p>网格所有者<code class="codeph">/u01/app/19.0.0/grid</code>由<code class="codeph">grid:oinstall</code>拥有775（drwxdrwxr-x）权限。这些权限是安装所必需的，并且在安装过程中更改为<code class="codeph">root:oinstall</code>具有755权限（ <code class="codeph">drwxr-xr-x</code> ）。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-3EEC0A2A-87FD-45FB-93B2-90B6794DD6A7">
                  <p class="titleinexample">示例6-2 Oracle Database DB1组和用户示例</p>
                  <p>该命令将创建以下Oracle数据库（ <code class="codeph">DB1</code> ）组和用户：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle数据库软件所有者（ <code class="codeph">oracle1</code> ），拥有<code class="codeph">DB1</code>的Oracle数据库二进制文件。<code class="codeph">oracle1</code>用户将oraInventory组作为其主要组，将其数据库的OSDBA组（ <code class="codeph">dba1</code> ）和用于Oracle Grid Infrastructure的ASM组的OSDBA（ <code class="codeph">asmdba</code> ）作为辅助组。此外， <code class="codeph">oracle1</code>用户中的一员<code class="codeph">asmoper</code> ，授予该用户的权限启动和关闭Oracle ASM。</p>
                     </li>
                     <li>
                        <p>OSDBA组（ <code class="codeph">dba1</code> ）。在安装过程中，您将组<code class="codeph">dba1</code>标识为用户<code class="codeph">oracle1</code>安装的数据库的OSDBA组。<code class="codeph">dba1</code>成员被授予Oracle Database <code class="codeph">DB1</code>的SYSDBA权限。以SYSDBA身份连接的用户在<code class="codeph">DB1</code>上标识为用户SYS。
                        </p>
                     </li>
                     <li>
                        <p>OSBACKUPDBA组（ <code class="codeph">backupdba1</code> ）。在安装过程中，您将组<code class="codeph">backupdba1</code>标识为用户<code class="codeph">oracle1</code>安装的数据库的OSDBA组。<code class="codeph">backupdba1</code>成员被授予用户<code class="codeph">oracle1</code>安装的数据库的SYSBACKUP权限以备份数据库。
                        </p>
                     </li>
                     <li>
                        <p>OSDGDBA组（ <code class="codeph">dgdba1</code> ）。在安装过程中，您将组<code class="codeph">dgdba1</code>标识为用户<code class="codeph">oracle1</code>安装的数据库的OSDGDBA组。<code class="codeph">dgdba1</code>成员被授予SYSDG权限，以便为用户<code class="codeph">oracle1</code>安装的数据库管理Oracle Data Guard。
                        </p>
                     </li>
                     <li>
                        <p>OSKMDBA组（ <code class="codeph">kmdba1</code> ）。在安装过程中，您将组<code class="codeph">kmdba1</code>标识为用户<code class="codeph">oracle1</code>安装的数据库的OSKMDBA组。<code class="codeph">kmdba1</code>成员被授予SYSKM权限，以管理用户<code class="codeph">oracle1</code>安装的数据库的加密密钥。
                        </p>
                     </li>
                     <li>
                        <p>OSOPER组（ <code class="codeph">oper1</code> ）。在安装过程中，您将组<code class="codeph">oper1</code>标识为用户<code class="codeph">oracle1</code>安装的数据库的OSOPER组。<code class="codeph">oper1</code>成员被授予SYSOPER权限（一组有限的SYSDBA权限），包括启动和关闭<code class="codeph">DB1</code>数据库的权限。以OSOPER权限连接的用户在<code class="codeph">DB1</code>上标识为用户PUBLIC。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">/u01/app/oracle1</code>所拥有的Oracle base <code class="codeph">/u01/app/oracle1</code> <code class="codeph">oracle1:oinstall</code>具有775权限的<code class="codeph">oracle1:oinstall</code> 。用户<code class="codeph">oracle1</code>有权在此目录中安装软件，但在<code class="codeph">/u01/app</code>路径中没有其他目录。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-1B671461-A748-421E-A0D3-DF03CE3ADB58">
                  <p class="titleinexample">示例6-3 Oracle数据库DB2组和用户示例</p>
                  <p>该命令将创建以下Oracle数据库（DB2）组和用户：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle数据库软件所有者（ <code class="codeph">oracle2</code> ），拥有DB2的Oracle数据库二进制文件。<code class="codeph">oracle2</code>用户将oraInventory组作为其主要组，将其数据库（ <code class="codeph">dba2</code> ）的OSDBA组和用于Oracle Grid Infrastructure（ <code class="codeph">asmdba</code> ）的ASM组的OSDBA作为辅助组。但是， <code class="codeph">oracle2</code>用户不是<code class="codeph">asmoper</code>组的成员，因此<code class="codeph">oracle2</code>无法关闭或启动Oracle ASM。</p>
                     </li>
                     <li>
                        <p>一个OSDBA组（ <code class="codeph">dba2</code> ）。在安装过程中，您将组<code class="codeph">dba2</code>标识为用户<code class="codeph">oracle2</code>安装的数据库的OSDBA组。<code class="codeph">dba2</code>成员被授予Oracle Database DB2的SYSDBA权限。以SYSDBA身份连接的用户在DB2上标识为用户SYS。
                        </p>
                     </li>
                     <li>
                        <p>OSBACKUPDBA组（ <code class="codeph">backupdba2</code> ）。在安装过程中，您将组<code class="codeph">backupdba2</code>标识为用户<code class="codeph">oracle2</code>安装的数据库的OSDBA组。<code class="codeph">backupdba2</code>成员被授予用户<code class="codeph">oracle2</code>安装的数据库的SYSBACKUP权限以备份数据库。
                        </p>
                     </li>
                     <li>
                        <p>OSDGDBA组（ <code class="codeph">dgdba2</code> ）。在安装过程中，您将组<code class="codeph">dgdba2</code>标识为用户<code class="codeph">oracle2</code>安装的数据库的OSDGDBA组。<code class="codeph">dgdba2</code>成员被授予SYSDG权限，以管理用户<code class="codeph">oracle2</code>安装的数据库的Oracle Data Guard。
                        </p>
                     </li>
                     <li>
                        <p>OSKMDBA组（ <code class="codeph">kmdba2</code> ）。在安装过程中，您将组<code class="codeph">kmdba2</code>标识为用户<code class="codeph">oracle2</code>安装的数据库的OSKMDBA组。<code class="codeph">kmdba2</code>成员被授予SYSKM权限，以管理用户<code class="codeph">oracle2</code>安装的数据库的加密密钥。
                        </p>
                     </li>
                     <li>
                        <p>OSOPER组（ <code class="codeph">oper2</code> ）。在安装过程中，您将组<code class="codeph">oper2</code>标识为用户<code class="codeph">oracle2</code>安装的数据库的OSOPER组。<code class="codeph">oper2</code>成员被授予SYSOPER权限（一组有限的SYSDBA权限），包括启动和关闭DB2数据库的权限。以OSOPER权限连接的用户在DB2上标识为用户PUBLIC。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">/u01/app/oracle2</code>拥有的Oracle base <code class="codeph">/u01/app/oracle2</code> <code class="codeph">oracle1:oinstall</code>具有775权限的<code class="codeph">oracle1:oinstall</code> 。用户<code class="codeph">oracle2</code>有权在此目录中安装软件，但在<code class="codeph">/u01/app</code>路径中没有其他目录。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="example" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="creating-operating-system-oracle-installation-user-accounts.html#GUID-4DA71FFA-AB5B-49AA-B21D-92C952C8A3FC" title="在开始安装之前，请创建Oracle软件所有者用户帐户，并配置其环境。">创建操作系统Oracle安装用户帐户</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>