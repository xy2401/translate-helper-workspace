<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Testing Connections</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Net Services Administrator's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Net Services Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96313-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="part-III-test-and-troubleshoot-oracle-net-services.html" title="Previous" type="text/html">
      <link rel="next" href="troubleshooting-oracle-net-services.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="NETAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-III-test-and-troubleshoot-oracle-net-services.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="troubleshooting-oracle-net-services.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Net Services Administrator's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-III-test-and-troubleshoot-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Testing and Troubleshooting Oracle Net Services</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Testing Connections</li>
            </ol>
            <a id="GUID-63C347F7-D993-4F09-A922-309F4AC6E9D2" name="GUID-63C347F7-D993-4F09-A922-309F4AC6E9D2"></a><a id="NETAG357"></a>
            
            <h2 id="NETAG-GUID-63C347F7-D993-4F09-A922-309F4AC6E9D2" class="sect2"><span class="enumeration_chapter">15 </span>Testing Connections
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After you have configured the network, you should connect and test each component to ensure that the network is functioning properly. Oracle Net Services provides tools to help you test the listener, database, and Oracle Connection Manager.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="testing-connections.html#GUID-C2B54722-745F-468C-897C-A464CE5E2F09">Testing the Network</a><br></li>
                  <li class="ulchildlink"><a href="testing-connections.html#GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0">Using the TNSPING Utility to Test Connectivity from the Client</a><br></li>
                  <li class="ulchildlink"><a href="testing-connections.html#GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0">Using the TRCROUTE Utility to Test Connectivity from the Client</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part-III-test-and-troubleshoot-oracle-net-services.html#GUID-E8B29E61-3236-486B-AB89-665215E86CFA">Testing and Troubleshooting Oracle Net Services</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG373"></a><div class="sect2"><a id="GUID-C2B54722-745F-468C-897C-A464CE5E2F09" name="GUID-C2B54722-745F-468C-897C-A464CE5E2F09"></a><h3 id="NETAG-GUID-C2B54722-745F-468C-897C-A464CE5E2F09" class="sect3"><span class="enumeration_section">15.1 </span>Testing the Network
               </h3>
               <div>
                  <p>The following is the recommended sequence for testing the network: </p>
                  <ol>
                     <li>
                        <p>Start and test each listener. To start the listener, use the procedure described in <span class="q">"<a href="quick-start-oracle-net-services.html#GUID-CE3F16F8-E4AD-45C2-B439-123DC49AB1D3">Starting Oracle Net Listener and the Oracle Database Server</a>"</span>. 
                        </p>
                        <p>To test a listener, initiate a connection from a client to any active database controlled by that listener.</p>
                     </li>
                     <li>
                        <p>Start and test each Oracle Connection Manager, if included in your network. To start Oracle Connection Manager, use the procedure described in <span class="q">"<a href="quick-start-oracle-net-services.html#GUID-7C8C5DD6-7B7A-4E39-8C7D-C1350EB85FB0">Starting Oracle Connection Manager</a>"</span>.
                        </p>
                        <p>To test Oracle Connection Manager, initiate a connection from a client to any active database that has been registered with Oracle Connection Manager.</p>
                     </li>
                     <li>
                        <p>Test the server with a loopback test or Oracle Net Manager.</p>
                        <p>A <a href="glossary.html#GUID-DE71B282-D7C2-4C10-94D5-B5FDFEBA4E7E"><span class="xrefglossterm">loopback test</span></a> uses Oracle Net to go from the database server back to itself, bypassing the Interprocess Communication (IPC). Performing a successful loopback verifies that Oracle Net is functioning on the database server. The following procedure describes how to perform a loopback test using Oracle Net Manager:
                        </p>
                        <ol type="a">
                           <li>
                              <p>Start Oracle Net Manager.</p>
                              <div class="infoboxnotealso" id="GUID-C2B54722-745F-468C-897C-A464CE5E2F09__GUID-F36EAED2-8E1D-4113-B765-CB7DCCE7A615">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>In the navigator, expand <span class="bold">Directory</span> or <span class="bold">Local</span>, and then select <span class="bold">Service Naming</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select the network service name or database service.</p>
                           </li>
                           <li>
                              <p>Choose <span class="bold">Command</span>, and then select <span class="bold">Test Net Service</span>. 
                              </p>
                              <p>Testing assumes the listener and database are running. If they are not, then see <span class="q">"<a href="quick-start-oracle-net-services.html#GUID-CE3F16F8-E4AD-45C2-B439-123DC49AB1D3">Starting Oracle Net Listener and the Oracle Database Server</a>"</span> to start components.
                              </p>
                              <p>During testing, a Connection Test dialog box appears, providing status and test results. A successful test results in the following message:</p><pre class="oac_no_warn" dir="ltr">The connection test was successful.
</pre><p>If the test was successful, then proceed to step <a href="testing-connections.html#GUID-C2B54722-745F-468C-897C-A464CE5E2F09__BABDCIJD">3.e</a>.
                              </p>
                              <p>If the test was not successful, then use the error message to determine further action. For example, if the error message is the following:</p><pre class="oac_no_warn" dir="ltr">Attempting to connect using userid:  scott
The test did not succeed.
ORA-28000: the account is locked
 
There may be an error in the fields entered,
or the server may not be ready for a connection.
</pre><p>Change the user name to an account known to be unlocked. To change the user name, click <span class="bold">Change Login</span>. You are prompted for the password. 
                              </p>
                           </li>
                           <li id="GUID-C2B54722-745F-468C-897C-A464CE5E2F09__BABDCIJD">
                              <p>Click <span class="bold">Close</span> to close the Connect Test dialog box.
                              </p>
                           </li>
                        </ol>
                     </li>
                     <li>
                        <p>Test client with a connection.</p>
                        <p>To test several different clients in your network, initiate a connection to a database server from each of them using the following command:</p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic"><code class="codeph">username</code></span>@<span class="italic"><code class="codeph">connect_identifier</code></span>
</pre></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="testing-connections.html#GUID-63C347F7-D993-4F09-A922-309F4AC6E9D2">Testing Connections</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG380"></a><a id="NETAG381"></a><a id="NETAG382"></a><a id="NETAG378"></a><div class="sect2"><a id="GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0" name="GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0"></a><h3 id="NETAG-GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0" class="sect3"><span class="enumeration_section">15.2 </span>Using the TNSPING Utility to Test Connectivity from the Client
               </h3>
               <div>
                  <p>The TNSPING utility determines whether the listener for a service on an Oracle Net network can be reached successfully.</p>
                  <p>If you can connect successfully from a client to a server (or a server to another server) using the TNSPING utility, then it displays an estimate of the round trip time (in milliseconds) it takes to establish a SQLNET connection to the Oracle listener corresponding to the server.</p>
                  <p>If it fails, then it displays a message describing the error that occurred. This enables you to see the network error that is occurring without the overhead of a database connection.</p>
                  <p>Use the following command to test connectivity:</p><pre class="oac_no_warn" dir="ltr">tnsping <span class="italic"><code class="codeph">net_service_name</code></span> count
</pre><p>In the preceding command, the following arguments are used:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic">net_service_name</span> must exist in <code class="codeph">tnsnames.ora</code> file or the name service in use, such as NIS.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">count</span> determines how many times the program attempts to reach the server. This argument is optional.
                        </p>
                     </li>
                  </ul>
                  <p>If the network service name specified is a database name, then TNSPING attempts to contact the corresponding listener. It does not actually determine whether the database is running. Use SQL*Plus to attempt a connection to the database.</p>
                  <p>The following are some examples of TNSPING.</p>
                  <div class="infoboxnote" id="GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0__GUID-D7F4DBBD-AD4C-4FA8-84AD-AB6416262D9B">
                     <p class="notep1">Note:</p>Different platforms may have different interfaces, but the program accepts the same arguments. Invoke TNSPING for the display of the proper interface requirements.
                  </div>
                  <p><a href="testing-connections.html#GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0__BABJAGAG">Example 15-1</a> is an example of checking a listener for a database using a network service name of <code class="codeph">sales</code> using the <code class="codeph">TNSPING</code> command.
                  </p>
                  <div class="example" id="GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0__BABJAGAG">
                     <p class="titleinexample">Example 15-1 Checking a Listener with TNSPING</p><pre class="oac_no_warn" dir="ltr">TNSPING sales
</pre><p>This produces the following message:</p><pre class="oac_no_warn" dir="ltr">TNS Ping Utility for Linux: Version 18.0.0.0.0 - Production on 21-JAN-2018 

Copyright (c) 1997, 2016 Oracle Corporation.  All rights reserved.

Used parameter files:
Used TNSNAMES adapter to resolve the alias
Attempting to contact (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL =
TCP)(HOST = sales-server)(PORT = 1521))) (CONNECT_DATA = (SERVICE_NAME =
sales.us.example.com)))
OK (10 msec)
</pre><p>To determine whether the listener for the <code class="codeph">sales</code> database is available, and to specify that TNSPING try to connect eight times and then give up, use the following syntax: 
                     </p><pre class="oac_no_warn" dir="ltr">tnsping sales 8
</pre><p>This command produces the following message: </p><pre class="oac_no_warn" dir="ltr">TNS Ping Utility for Linux: Version 18.0.0.0.0 - Production on 21-JAN-2018 

Copyright (c) 1997, 2016 Oracle Corporation.  All rights reserved.

Used parameter files:

Used TNSNAMES adapter to resolve the alias
Attempting to contact (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL =
TCP)(HOST = sales-server)(PORT = 1521))) (CONNECT_DATA = (SERVICE_NAME =
sales.us.example.com)))
OK (10 msec)
OK (0 msec)
OK (10 msec)
OK (0 msec)
OK (10 msec)
OK (10 msec)
OK (10 msec)
OK (0 msec)
</pre></div>
                  <!-- class="example" -->
                  <p><a id="d47172e365" class="indexterm-anchor"></a><a href="testing-connections.html#GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0__BABHBEAD">Example 15-2</a> is an example of TNSPING attempting to check using an invalid network service name.
                  </p>
                  <div class="example" id="GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0__BABHBEAD">
                     <p class="titleinexample">Example 15-2 Checking an Invalid Net Service Name with TNSPING</p><pre class="oac_no_warn" dir="ltr">tnsping badname
</pre><p>This attempt produces the following message: </p><pre class="oac_no_warn" dir="ltr">TNS Ping Utility for Linux: Version 18.0.0.0.0 - Production on 21-MAY-2018 

Copyright (c) 1997, 2018 Oracle Corporation.  All rights reserved.

Used parameter files:

TNS-03505: Failed to resolve name
</pre></div>
                  <!-- class="example" -->
                  <p><a id="d47172e381" class="indexterm-anchor"></a><a href="testing-connections.html#GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0__BABIBDJA">Example 15-3</a> is an example of output when using TNSPING to check a name that is valid, but resolves to an address where no listener is located, for example, the listener may not be started.
                  </p>
                  <div class="example" id="GUID-BE15FEF5-5FCA-4291-90CB-EE75C0A496E0__BABIBDJA">
                     <p class="titleinexample">Example 15-3 Checking Valid Net Service Name but No Listener with TNSPING</p><pre class="oac_no_warn" dir="ltr">tnsping sales

TNS Ping Utility for Linux: Version 18.0.0.0.0 - Production on 21-JAN-2018 

Copyright (c) 1997, 2016 Oracle Corporation.  All rights reserved.

Used parameter files:
Used TNSNAMES adapter to resolve the alias
Attempting to contact (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL =
TCP)(HOST = sales-server)(PORT = 1521))) (CONNECT_DATA = (SERVICE_NAME =
sales.us.example.com)))
TNS-12541: TNS:no listener </pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="testing-connections.html#GUID-63C347F7-D993-4F09-A922-309F4AC6E9D2">Testing Connections</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG1484"></a><a id="NETAG1485"></a><a id="NETAG383"></a><div class="sect2"><a id="GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0" name="GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0"></a><h3 id="NETAG-GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0" class="sect3"><span class="enumeration_section">15.3 </span>Using the TRCROUTE Utility to Test Connectivity from the Client
               </h3>
               <div>
                  <p>The Trace Route Utility (<a id="d47172e450" class="indexterm-anchor"></a>TRCROUTE), in Linux and UNIX environments, enables administrators to discover the path or route a connection takes from a client to a server. If TRCROUTE encounters a problem, then it returns an error stack to the client instead of a single error. These additional error messages make troubleshooting easier.
                  </p>
                  <p><a id="d47172e456" class="indexterm-anchor"></a><a id="d47172e460" class="indexterm-anchor"></a>TRCROUTE is different from TNSPING in that it travels as a special type of connect packet, and is routed as such. As it travels toward its destination, the TRCROUTE connect packet collects the TNS addresses of every node it travels through. If an error occurs, then TRCROUTE collects error information that shows where the error occurred. The TRCROUTE displays the information collected on the client screen. You can redirect the TRCROUTE output to a file, and print it.
                  </p>
                  <p>The TRCROUTE uses minimal resources. It gathers information in the connect data of a special connect packet. Standard connect packets are not affected. </p>
                  <p>The server is not affected by TRCROUTE. The listener receives and processes the TRCROUTE connect packet. It returns the information to the client by putting it into a refuse packet. The server does not need to start any new processes or deal with dummy connections.</p>
                  <p>To use the TRCROUTE utility, enter the following command:</p><pre class="oac_no_warn" dir="ltr">trcroute <span class="italic"><code class="codeph">net_service_name</code></span>
</pre><p><a href="testing-connections.html#GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0__BABHDFGJ">Example 15-4</a> shows a successful trace route packet that traveled from a client to a listener.
                  </p>
                  <div class="example" id="GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0__BABHDFGJ">
                     <p class="titleinexample">Example 15-4 Successful Trace Route</p><pre class="oac_no_warn" dir="ltr">trcroute sales

Trace Route Utility for Linux: Version 18.0.0.0.0 - Production on 21-JAN-2018 

Copyright (c) 1999, 2018 Oracle Corporation.  All rights reserved.

Route of TrcRoute:
------------------
 
Node: Client            Time and address of entry into node:
-------------------------------------------------------------
09-NOV-2012 21:48:48 ADDRESS= PROTOCOL=TCP  HOST=10.150.21.136  PORT=14001
 
Node: Server            Time and address of entry into node:
-------------------------------------------------------------
09-NOV-2012 21:48:05 ADDRESS= PROTOCOL=TCP  HOST=10.150.21.136  PORT=14001 

</pre></div>
                  <!-- class="example" -->
                  <p><a href="testing-connections.html#GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0__BABIJACA">Example 15-5</a> shows an unsuccessful trace route packet that could not reach the listener because the listener was not up.
                  </p>
                  <div class="example" id="GUID-9A550EEC-5736-46B4-B10E-55849B01A4D0__BABIJACA">
                     <p class="titleinexample">Example 15-5 Trace Route with Error</p><pre class="oac_no_warn" dir="ltr">trcroute sales

Trace Route Utility for Linux: Version 18.0.0.0.0 - Production on 21-JAN-2018 

Copyright (c) 1999, 2018 Oracle Corporation.  All rights reserved.

Route of TrcRoute:
------------------

Node: Client            Time and address of entry into node:
-------------------------------------------------------------
25-FEB-2012 14:43:05 ADDRESS= PROTOCOL=TCP  HOST=sales-server  PORT=1521

TNS-12543: TNS:unable to connect to destination
TNS-12541: TNS:no listener
TNS-12560: TNS:protocol adapter error
TNS-03601: Failed in route information collection</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="testing-connections.html#GUID-63C347F7-D993-4F09-A922-309F4AC6E9D2">Testing Connections</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>