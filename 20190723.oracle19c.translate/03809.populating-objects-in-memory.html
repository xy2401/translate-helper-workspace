<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options."></meta>
      <meta name="description" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options."></meta>
      <title>为内存中的人口启用对象</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database In-Memory Guide"></meta>
      <meta property="og:description" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database In-Memory Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00"></meta>
      <meta name="dcterms.title" content="Database In-Memory Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96137-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="enabling-the-im-column-store.html" title="Previous" type="text/html"></link>
      <link rel="next" href="populating-the-imcs-manually.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="enabling-the-im-column-store.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="populating-the-imcs-manually.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库内存指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-the-im-column-store.html" property="item" typeof="WebPage"><span property="name">配置和填充IM列存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">为内存中的人口启用对象</li>
            </ol>
            <a id="GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" name="GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8"></a>
            
            <h2 id="INMEM-GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" class="sect2"><span class="enumeration_chapter">4</span>为内存中的人口启用对象</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0">关于记忆中的人口</a><br>当数据库从磁盘读取现有行格式数据，将其转换为列式格式，然后将其存储在IM列存储中时，会发生<strong class="term">内存中的填充（填充）</strong> 。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B">为IM列存储启用和禁用表</a><br>通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，为IM列存储启用<code class="codeph">ALTER TABLE</code> 。通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的<code class="codeph">ALTER TABLE</code> 。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347">启用和禁用内存表中的列</a><br>您可以为内部表中的各个列指定<code class="codeph">INMEMORY</code>子句。外部表不支持在列级别指定<code class="codeph">INMEMORY</code> 。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-636A1675-838D-4004-9CDB-70783DC72C6B">为IM列存储启用和禁用表空间</a><br>您可以为IM列存储启用或禁用表空间。
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA">为IM列存储启用和禁用实体化视图</a><br>您可以为IM列存储启用和禁用实体化视图。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="configuring-the-im-column-store.html#GUID-8844C889-E381-4B77-8A51-7AA6462B14D7" title="您可以启用内存列存储（IM列存储）并调整其大小。您还可以为对象配置内存设置，并在IM列存储中填充这些对象。">配置和填充IM列存储</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" name="GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0"></a><h3 id="INMEM-GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" class="sect3"><span class="enumeration_section">4.1</span>关于记忆中的人口</h3>
               <div>
                  <p>当数据库从磁盘读取现有行格式数据，将其转换为列式格式，然后将其存储在IM列存储中时，会发生<strong class="term">内存中的填充（填充）</strong> 。
                  </p>
                  <p>只有具有<code class="codeph">INMEMORY</code>属性的对象<code class="codeph">INMEMORY</code>资格进行填充。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B">记忆中人口的目的</a><br>IM列存储不会自动将数据库中的所有对象加载到IM列存储中。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3">记忆中的人口如何运作</a><br>您可以指定数据库在数据库实例启动时或访问<code class="codeph">INMEMORY</code>对象时填充IM列存储中的对象。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261">对记忆内人口的控制</a><br>使用DDL语句中的<code class="codeph">INMEMORY</code>子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B" name="GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B"></a><h4 id="INMEM-GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B" class="sect4"><span class="enumeration_section">4.1.1</span>记忆中人口的目的</h4>
                  <div>
                     <p>IM列存储不会自动将数据库中的所有对象加载到IM列存储中。</p>
                     <p>如果不使用DDL将任何对象指定为<code class="codeph">INMEMORY</code> ，则IM列存储仍为空。必须使用<code class="codeph">INMEMORY</code>将用户指定的<code class="codeph">INMEMORY</code>对象中的行转换为列式格式，以便它们可用于分析查询。
                     </p>
                     <p>将磁盘上的<span class="italic">现有</span>数据转换为柱状格式的<a href="glossary.html#GUID-9168517C-C8A2-4433-946A-037631B840E2"><span class="xrefglossterm">群体</span></a>与将将<span class="italic">新</span>数据加载到IM列存储中的<a href="glossary.html#GUID-9168517C-C8A2-4433-946A-037631B840E2"><span class="xrefglossterm">重新填充</span></a>不同。由于IMCU是只读结构，因此Oracle数据库在行更改时不会填充它们。相反，数据库记录<a href="glossary.html#GUID-16BF775D-7A77-4F8C-94F2-D1EBF2D67D1B"><span class="xrefglossterm">事务日志中</span></a>的行更改，然后创建新的IMCU作为重新填充的一部分。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="repopulation-and-dml.html#GUID-85AB84D5-1308-430A-BED2-281F3E9515B2" title="IM列存储定期刷新已修改的对象。您可以使用初始化参数和DBMS_INMEMORY包来控制此行为。">优化IM列存储的重新填充</a></li>
                           <li><a href="in-memory-column-store-architecture.html#GUID-50A30EC3-1CD1-4BFC-9BD1-9AC55D0B4AAE" title="内存中压缩单元（IMCU）是一个压缩的只读存储单元，包含一列或多列的数据。">内存中压缩单元（IMCU）</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="当数据库从磁盘读取现有行格式数据，将其转换为列格式，然后将其存储在IM列存储中时，会发生内存中的填充（填充）。">关于内存中的人口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" name="GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3"></a><h4 id="INMEM-GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" class="sect4"><span class="enumeration_section">4.1.2</span>记忆中的人口如何运作</h4>
                  <div>
                     <p>您可以指定数据库在数据库实例启动时或访问<code class="codeph">INMEMORY</code>对象时填充IM列存储中的对象。
                     </p>
                     <p>人口算法也会根据您使用的是单实例还是Oracle RAC而有所不同。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12">内存中人口的优先顺序</a><br>DDL语句包括一个<code class="codeph">INMEMORY PRIORITY</code>子句，它提供了对总体队列的更多控制。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886">后台进程如何填充IMCU</a><br>在填充期间，数据库以行格式从磁盘读取数据，将行旋转以创建列，然后将数据压缩到内存中压缩单元（IMCU）。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="当数据库从磁盘读取现有行格式数据，将其转换为列格式，然后将其存储在IM列存储中时，会发生内存中的填充（填充）。">关于内存中的人口</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" name="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12"></a><h5 id="INMEM-GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" class="sect5"><span class="enumeration_section">4.1.2.1</span>记忆中人口的优先<span class="enumeration_section">次序</span></h5>
                     <div>
                        <p>DDL语句包括一个<code class="codeph">INMEMORY PRIORITY</code>子句，它提供了对总体队列的更多控制。
                        </p>
                        <div class="infoboxnote" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-C9658C1B-B4EE-40CD-A02E-FDD7109AB1E8">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">INMEMORY PRIORITY</code>子条款控制人口的优先级，但不控制人口的速度。
                           </p>
                        </div>
                        <p>优先级设置适用于整个表，分区或子分区，而不适用于不同的列子集。在对象上设置<code class="codeph">INMEMORY</code>属性意味着此对象是IM列存储中填充的<span class="italic">候选</span>对象。这并不意味着数据库会立即填充对象。
                        </p>
                        <div class="infoboxnote" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-50EDEDA9-8471-43B5-8320-D297A7DA78FE">
                           <p class="notep1">注意：</p>
                           <p>如果磁盘上的段为64 KB或更少，则不会在IM列存储中填充它。因此，可能无法填充为IM列存储启用的某些小型数据库对象。</p>
                        </div>
                        <p>Oracle数据库管理优先级如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>按需人口</p>
                              <p>默认情况下， <code class="codeph">INMEMORY PRIORITY</code>参数设置为<code class="codeph">NONE</code> 。在这种情况下，数据库<span class="italic">仅</span>在通过全表扫描访问对象时填充对象。如果从不访问该对象，或者仅通过索引扫描或通过rowid获取来访问该对象，则永远不会发生填充。
                              </p>
                           </li>
                           <li>
                              <p>基于优先的人口</p>
                              <p>当<code class="codeph">PRIORITY</code>设置为<code class="codeph">NONE</code> <span class="italic">以外</span>的值时，Oracle数据库会使用内部管理的优先级队列自动填充对象。在这种情况下，全扫描不是人口的必要条件。数据库执行以下操作：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在数据库实例重新启动后自动填充IM列存储中的列数据</p>
                                 </li>
                                 <li>
                                    <p>根据指定的优先级对<code class="codeph">INMEMORY</code>对象进行排队</p>
                                    <p>例如，使用<code class="codeph">INMEMORY PRIORITY CRITICAL</code>更改的表优先于使用<code class="codeph">INMEMORY PRIORITY HIGH</code>更改的表，而该表优先于使用<code class="codeph">INMEMORY PRIORITY LOW</code>更改的表。如果IM列存储空间不足，则Oracle数据库不会填充其他对象，直到空间可用。
                                    </p>
                                 </li>
                                 <li>
                                    <p>等待从<code class="codeph">ALTER TABLE</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句返回，直到对象的更改记录在IM列存储中</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>在IM列存储中填充段后，数据库仅在删除或移动段时将其<code class="codeph">NO INMEMORY</code> ，或者使用<code class="codeph">NO INMEMORY</code>属性更新段。您可以手动或通过<a href="glossary.html#GUID-66F7095A-378A-4C56-88DA-3AC93A5F55DB"><span class="xrefglossterm">ADO策略</span></a>逐出某个段。
                        </p>
                        <div class="example" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-CD3B2EB8-4C77-428A-9DA3-EAEB61363D82">
                           <p class="titleinexample">示例4-1 IM列存储中对象的填充</p>
                           <p>在完成此示例之前，必须为数据库启用IM列存储。</p>
                           <ol>
                              <li>
                                 <p>以管理员身份登录数据库，然后按如下方式查询<code class="codeph">customers</code>表：</p><pre class="pre codeblock"><code>SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960;</code></pre></li>
                              <li>
                                 <p>显示查询的执行计划：</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM TABLE（DBMS_XPLAN.DISPLAY_CURSOR（FORMAT =&gt;'+ ALLSTATS'））; SQL_ID frgk9dbaftmm9，子编号0 ------------------------------------- SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960计划哈希值：2008213504 ------------------------- -------------------------------------------------- ---- | ID |操作|名称|开始| E-Rows | A-Rows | A-Time |缓冲区| -------------------------------------------------- ----------------------------- | 0 |选择声明| | 1 | | 6 | 00：00：00.01 | 1523 | | * 1 |表访问完全|客户| 1 | 6 | 6 | 00：00：00.01 | 1523 | -------------------------------------------------- -----------------------------谓词信息（由操作ID标识）：------------ --------------------------------------- 1  -  filter（（“CUST_CITY”='Hyderabad 'AND“CUST_YEAR_OF_BIRTH”&gt; 1960和“CUST_INCOME_LEVEL”喜欢'C％'））</code></pre></li>
                              <li>
                                 <p>在IM列存储中为<code class="codeph">sh.customers</code>表启用<code class="codeph">sh.customers</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE sh.customers INMEMORY;</code></pre><p>上述语句使用默认优先级<code class="codeph">NONE</code> 。填充没有优先级的对象需要完整扫描。
                                 </p>
                              </li>
                              <li>
                                 <p>要确定是否已在IM列存储中填充<code class="codeph">sh.customers</code>表中的数据，请执行以下查询（包括示例输出）：</p><pre class="pre codeblock"><code>SELECT SEGMENT_NAME，POPULATE_STATUS FROM V $ IM_SEGMENTS WHERE SEGMENT_NAME ='CUSTOMERS';没有选择任何行</code></pre><p>在这种情况下，IM列存储中不会填充任何段，因为尚未扫描<code class="codeph">sh.customers</code>表。
                                 </p>
                              </li>
                              <li>
                                 <p>使用与步骤1中相同的语句查询<code class="codeph">sh.customers</code> ：</p><pre class="pre codeblock"><code>SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960;</code></pre></li>
                              <li>
                                 <p>查询光标显示数据库执行了完整扫描并访问了IM列存储：</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM TABLE（DBMS_XPLAN.DISPLAY_CURSOR（FORMAT =&gt;'+ ALLSTATS'））; SQL_ID frgk9dbaftmm9，子编号0 ------------------------------------- SELECT cust_id，cust_last_name，cust_first_name FROM sh.customers WHERE cust_city ='Hyderabad'AND cust_income_level LIKE'C％'AND cust_year_of_birth&gt; 1960计划哈希值：2008213504 ------------------------- -------------------------------------------------- ------ | ID |操作|名称|开始| E-Rows | A-Rows | A-Time |缓冲区| -------------------------------------------------- ------------------------------- | 0 |选择声明| | 1 | | 6 | 00：00：00.02 | 1523 | | * 1 |表访问<span class="bold">INMEMORY</span> FULL |客户| 1 | 6 | 6 | 00：00：00.02 | 1523 | -------------------------------------------------- -------------------------------谓词信息（由操作ID标识）：---------- ----------------------------------------- 1  -  inmemory（（“CUST_CITY”= 'Hyderabad'和'CUST_YEAR_OF_BIRTH&gt;&gt; 1960和'CUST_INCOME_LEVEL'喜欢'C％'））过滤器（（“CUST_CITY”='Hyderabad'AND“CUST_YEAR_OF_BIRTH”&gt; 1960和“CUST_INCOME_LEVEL”喜欢'C％'））</code></pre></li>
                              <li>
                                 <p>再次查询<code class="codeph">V$IM_SEGMENTS</code> （包括样本输出）：</p><pre class="pre codeblock"><code>COL SEGMENT_NAME FORMAT a20 SELECT SEGMENT_NAME，POPULATE_STATUS来自V $ IM_SEGMENTS WHERE SEGMENT_NAME ='CUSTOMERS'; SEGMENT_NAME POPULATE_STATUS -------------------- ---------------客户已完成</code></pre><p><code class="codeph">POPULATE_STATUS</code>的值<code class="codeph">COMPLETED</code>表示该表填充在IM列存储中。
                                 </p>
                              </li>
                              <li>
                                 <div class="p"><code class="codeph">DBA_FEATURE_USAGE_STATISTICS</code>视图确认数据库使用IM列存储来检索结果：<pre class="pre codeblock"><code>COL NAME FORMAT a25 SELECT ul。NAME，ul。来自DBA_FEATURE_USAGE_STATISTICS的DETECTED_USAGES ul ul。VERSION =（SELECT MAX（u2。版本来自DBA_FEATURE_USAGE_STATISTICS u2在哪里u2。NAME = ul。姓名和ul。NAME LIKE'％Column Store％'）;名称DETECTED_USAGES ------------------------- ---------------内存列存储1</code></pre></div>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-1DA5E834-3FE8-47FD-A73E-6C3F9AA22718">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-B37DCA18-7CDA-425A-883B-036B70714F85" title="为IM列存储启用对象时，可以在填充对象时让Oracle Database控制（默认），也可以指定用于确定填充对象在队列中的优先级的级别。">记忆中人口的优先选择</a> ”</span></p>
                           <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">INMEMORY PRIORITY</code>子句</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" title="您可以指定数据库在数据库实例启动时或访问INMEMORY对象时填充IM列存储中的对象。">内存中的人口如何工作</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886" name="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886"></a><h5 id="INMEM-GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886" class="sect5"><span class="enumeration_section">4.1.2.2</span>后台进程如何填充IMCU</h5>
                     <div>
                        <p>在填充期间，数据库以行格式从磁盘读取数据，将行旋转以创建列，然后将数据压缩到内存中压缩单元（IMCU）。</p>
                        <p>工作进程（W <span class="italic">nnn</span> ）填充IM列存储中的数据。每个工作进程都对来自该对象的数据库块的子集进行操作。Population是一种流式传输机制，可同时压缩数据并将其转换为柱状格式。
                        </p>
                        <p><code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code>初始化参数指定用于IM列存储填充的最大工作进程数。默认情况下，该设置是<code class="codeph">CPU_COUNT</code>一半。将此参数设置为适合您环境的值。更多的工作进程导致更快的填充，但他们使用更多的CPU资源。较少的工作进程导致较慢的填充，从而降低了CPU开销。
                        </p>
                        <div class="infoboxnote" id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886__GUID-717BA1F4-0B28-467E-B241-AC8332E32E05">
                           <p class="notep1">注意：</p>
                           <p>如果<code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code>设置为<code class="codeph">0</code> ，则禁用填充。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886__GUID-4C4DF133-8DB5-4FB7-8AEC-2D8DD301C47F">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code>初始化参数的详细信息，请<code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> <a href="../refrn/INMEMORY_MAX_POPULATE_SERVERS.html#REFRN-GUID-3428C0FF-5AA9-491C-908E-F0BD88095A5A" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" title="您可以指定数据库在数据库实例启动时或访问INMEMORY对象时填充IM列存储中的对象。">内存中的人口如何工作</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" name="GUID-B50145A4-3A97-48DD-8AA3-7E239E926261"></a><h4 id="INMEM-GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" class="sect4"><span class="enumeration_section">4.1.3</span>记忆中人口的控制</h4>
                  <div>
                     <p>使用DDL语句中的<code class="codeph">INMEMORY</code>子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B">INMEMORY子条款</a><br><code class="codeph">INMEMORY</code>是段级属性，而不是列级属性。但是，您可以将<code class="codeph">INMEMORY</code>属性应用于特定对象中的列的子集。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-B37DCA18-7CDA-425A-883B-036B70714F85">内存中人口的优先选择</a><br>为IM列存储启用对象时，可以在填充对象时让Oracle Database控制（默认），也可以指定用于确定填充对象在队列中的优先级的级别。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4">IM列存储压缩方法</a><br>根据您的要求，您可以在不同级别压缩内存中对象。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-6E37613F-564B-4619-B9B3-CAEB09427E98">Oracle Compression Advisor</a><br>Oracle Compression Advisor使用<code class="codeph">MEMCOMPRESS</code>子句估计您可以实现的压缩率。顾问程序使用<code class="codeph">DBMS_COMPRESSION</code>接口。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="当数据库从磁盘读取现有行格式数据，将其转换为列格式，然后将其存储在IM列存储中时，会发生内存中的填充（填充）。">关于内存中的人口</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" name="GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B"></a><h5 id="INMEM-GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" class="sect5"><span class="enumeration_section">4.1.3.1</span> INMEMORY子条款</h5>
                     <div>
                        <p><code class="codeph">INMEMORY</code>是段级属性，而不是列级属性。但是，您可以将<code class="codeph">INMEMORY</code>属性应用于特定对象中的列的子集。
                        </p>
                        <p>要为IM列存储启用或禁用对象，请在DDL语句中为表空间，表和物化视图指定<code class="codeph">INMEMORY</code>子句。<code class="codeph">DBA_TABLES</code>视图中的<code class="codeph">INMEMORY</code>列指示哪些表具有<code class="codeph">INMEMORY</code>属性集（ <code class="codeph">ENABLED</code> ）或未设置（ <code class="codeph">DISABLED</code> ）。
                        </p>
                        <p>以下对象不符合IM列存储中的填充条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>索引</p>
                           </li>
                           <li>
                              <p>索引组织表</p>
                           </li>
                           <li>
                              <p>哈希集群</p>
                           </li>
                           <li>
                              <p><code class="codeph">SYS</code>用户拥有并存储在<code class="codeph">SYSTEM</code>或<code class="codeph">SYSAUX</code>表空间中的对象</p>
                           </li>
                        </ul>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA">内存表</a><br>要使堆组织表适合填充， <code class="codeph">INMEMORY</code>在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">INMEMORY</code> 。
                           </li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-37E2E218-33A2-490E-891D-B627906DE16B">内存外部表</a><br>要使外部表符合人口，请指定<code class="codeph">EXTERNAL ...<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code> INMEMORY</code>子句。</li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A">内存物化视图</a><br>通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中指定<code class="codeph">INMEMORY</code> ，可以使物化视图符合人口要求。
                           </li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580">内存中的表空间</a><br>通过在<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句上指定<code class="codeph">INMEMORY</code> ，可以使永久表空间符合填充条件。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA" name="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA"></a><h6 id="INMEM-GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA" class="sect6"><span class="enumeration_section">4.1.3.1.1</span>内存表</h6>
                        <div>
                           <p>要使堆组织表适合填充， <code class="codeph">INMEMORY</code>在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中指定<code class="codeph">INMEMORY</code> 。
                           </p>
                           <p>默认情况下，IM列存储会填充表中的所有非虚拟列。您可以指定内部表的全部或部分列。例如，您可以排除<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>列<code class="codeph">oe.product_information</code>从资格。
                           </p>
                           <p>对于分区表，您可以填充IM列存储中的所有或部分分区。默认情况下，分区表中的所有分区都继承<code class="codeph">INMEMORY</code>属性。对于包含内部和外部分区的混合分区表，只有内部分区继承<code class="codeph">INMEMORY</code>属性。
                           </p>
                           <p>在Oracle Exadata Storage Server上， <code class="codeph">CELLMEMORY</code>关键字（默认）使闪存缓存能够以In-Memory格式存储数据。您可以使用<code class="codeph">ALTER TABLE</code>选择<code class="codeph">FOR QUERY</code>或<code class="codeph">FOR CAPACITY</code>压缩。指定<code class="codeph">NO CELLMEMORY</code>会禁用闪存缓存中的列存储。
                           </p>
                           <p>如果为IM列存储启用表并且它包含以下任何类型的列，则它们将不会填充在IM列存储中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>外行列（varrays，嵌套表列和外部LOB）</p>
                                 <div class="infoboxnote" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-5136E8D0-9A18-4EE5-A6E0-8FCAB0F5C31F">
                                    <p class="notep1">注意：</p>
                                    <p>对于内联LOB列，IM列存储分配最多4 KB的连续缓冲区存储，当内联LOB包含OSON（二进制JSON）数据时最多分配32 KB。对于外部LOB，IM列存储为定位器分配最多40个字节，但不存储LOB本身。</p>
                                 </div>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">LONG</code>或<code class="codeph">LONG RAW</code>数据类型的列</p>
                              </li>
                              <li>
                                 <p>扩展数据类型列</p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-B310B32B-63DF-4C53-A522-0AAD43A8EE86">
                              <p class="titleinexample">示例4-2将表指定为INMEMORY</p>
                              <p>假设您以用户<code class="codeph">sh</code>身份连接到数据库。使用<code class="codeph">FOR QUERY LOW</code>的默认压缩级别为IM列存储中的填充启用<code class="codeph">customers</code>表：</p><pre class="pre codeblock"><code>SQL&gt; SELECT TABLE_NAME，INMEMORY FROM USER_TABLES WHERE TABLE_NAME ='CUSTOMERS'; TABLE_NAME INMEMORY ---------- -------- CUSTOMERS DISABLED SQL&gt; ALTER TABLE customers INMEMORY;表改变了。SQL&gt; SELECT TABLE_NAME，INMEMORY，INMEMORY_COMPRESSION FROM USER_TABLES WHERE TABLE_NAME ='CUSTOMERS'; TABLE_NAME INMEMORY INMEMORY_COMPRESS ---------- -------- -----------------客户为QUERY LOW启用</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-01A3F602-2793-4402-8628-B7844CE35E11">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="in-memory-column-store-architecture.html#GUID-E652C13F-FD52-49D2-B968-3B1A03F7F1ED" title="IM列存储使用针对访问速度优化的特殊压缩格式，而不是存储减少。列式格式使查询能够直接针对压缩列执行。">内存中压缩</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SAGUG-GUID-76E92D13-C65B-4B74-B92D-2AA01D923902" target="_blank"><span><cite>Oracle Exadata系统软件用户指南</cite></span></a> ，了解有关<code class="codeph">ALTER TABLE ...更多信息<code class="codeph">ALTER TABLE ...CELLMEMORY</code></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">CREATE TABLE</code>语句的<code class="codeph">INMEMORY</code>子句的信息，请<code class="codeph">INMEMORY</code> <a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-37E2E218-33A2-490E-891D-B627906DE16B" name="GUID-37E2E218-33A2-490E-891D-B627906DE16B"></a><h6 id="INMEM-GUID-37E2E218-33A2-490E-891D-B627906DE16B" class="sect6"><span class="enumeration_section">4.1.3.1.2</span>内存外部表</h6>
                        <div>
                           <p>要使外部表符合人口，请指定<code class="codeph">EXTERNAL ...<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code> INMEMORY</code>子句。</p>
                           <div class="section">
                              <p class="subhead3" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-4C5095BD-8708-4F6E-86B1-80EA78A52045">内存外部表的用途</p>
                              <p>内存外部表在以下情况下很有用：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>必须在短时间内重复扫描的短期数据，不需要在Oracle数据库中保留</p>
                                 </li>
                                 <li>
                                    <p>必须连接到关系数据的外部数据，以便进行快速分析处理</p>
                                 </li>
                                 <li>
                                    <p>Oracle数据库和外部工具中的分析查询访问的数据，不需要在数据库存储中实现</p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-3BCB388A-5694-4886-9E59-033E38188216">内存外部表的限制</p>
                              <p>IM列存储以与堆组织表相同的方式管理外部表的数据。例如，全表扫描会将内部表和外部表填充到IM列存储中。内存外部表支持外部表支持的相同驱动程序。但请注意以下差异：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>外部表的某些<code class="codeph">INMEMORY</code>子条款无效，包括column子句，distribute子句和priority子句。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span>内存中优化算术</span>不支持外部表。
                                    </p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持分区。对于包含内部和外部分区的混合分区表，只有<span class="italic">内部</span>分区（而不是外部分区）支持<code class="codeph">INMEMORY</code>属性。
                                    </p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持连接组。</p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持IM表达式。</p>
                                 </li>
                                 <li>
                                    <p>内存外部表不支持<code class="codeph">DISTRIBUTE ...Oracle Active Data Guard实例的FOR SERVICE</code>子句。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-41D0FF6E-6FB0-40EC-84E3-793804B9827D">
                                 <p class="notep1">注意：</p>
                                 <p>查询内存外部表的会话必须将初始化参数<code class="codeph">QUERY_REWRITE_INTEGRITY</code>设置为<code class="codeph">stale_tolerated</code> 。如果修改了外部表，则IM列存储的结果未定义。
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-EA7D5E71-89E7-4B17-BE0F-13548DC66E10">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" title="此示例填充具有INMEMORY选项的外部表。">使用DBMS_INMEMORY.POPULATE填充内存中的外部表：示例</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">CREATE TABLE ... <code class="codeph">INMEMORY</code>子句的信息，请<code class="codeph">INMEMORY</code> <a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a>EXTERNAL</code>声明</p>
                                 </li>
                                 <li>
                                    <p><span><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>“Oracle数据库许可信息用户手册”</cite></span></a> ，了解不同版本和服务支持哪些功能的详细信息</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A" name="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A"></a><h6 id="INMEM-GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A" class="sect6"><span class="enumeration_section">4.1.3.1.3</span>内存物化视图</h6>
                        <div>
                           <p>通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中指定<code class="codeph">INMEMORY</code> ，可以使物化视图符合人口要求。
                           </p>
                           <p>对于分区的物化视图，您可以填充IM列存储中的所有或部分分区。</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A__GUID-4B5B7E9A-E31E-4963-BB33-17BC6837427A">
                              <p class="notep1">也可以看看：</p>
                              <p>用于<code class="codeph">ALTER MATERIALIZED VIEW</code>语法和语义的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580" name="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580"></a><h6 id="INMEM-GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580" class="sect6"><span class="enumeration_section">4.1.3.1.4</span>内存中的表空间</h6>
                        <div>
                           <p>通过在<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句上指定<code class="codeph">INMEMORY</code> ，可以使永久表空间符合填充条件。
                           </p>
                           <p>默认情况下，表空间中的所有表和实例化视图都为IM列存储启用。表空间中的各个表和物化视图可能具有不同的<code class="codeph">INMEMORY</code>属性。各个数据库对象的属性会覆盖表空间的属性。
                           </p>
                           <div class="infoboxnote" id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580__GUID-891F89CD-200A-4D8A-86F4-4FC04561BAD6">
                              <p class="notep1">注意：</p>
                              <p>临时表空间不符合In-Memory填充条件。</p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580__GUID-0E102071-2927-4B74-B5FE-ACD2AC1E4EA7">
                              <p class="notep1">也可以看看：</p>
                              <p>用于<code class="codeph">ALTER TABLESPACE</code>语法和语义的<a href="../sqlrf/ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY是段级属性，而不是列级属性。但是，您可以将INMEMORY属性应用于特定对象中的列的子集。">INMEMORY子条款</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85" name="GUID-B37DCA18-7CDA-425A-883B-036B70714F85"></a><h5 id="INMEM-GUID-B37DCA18-7CDA-425A-883B-036B70714F85" class="sect5"><span class="enumeration_section">4.1.3.2</span>记忆内人口的优先选择</h5>
                     <div>
                        <p>为IM列存储启用对象时，可以在填充对象时让Oracle Database控制（默认），也可以指定用于确定填充对象在队列中的优先级的级别。</p>
                        <div class="section">
                           <p>Oracle SQL包含一个<code class="codeph">INMEMORY PRIORITY</code>子句，可以更好地控制填充队列。例如，在填充其他数据库对象的数据之前填充数据库对象的数据可能更重要或更不重要。
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-C3E99599-F9CA-4F6C-8E5B-9DAF3E2EC26F">
                              <p class="notep1">视频：</p>
                              <p>
                                 </p><div class="video-box">
                                    <div id="9368" class="video-container"></div>
                                 </div>
                              
                           </div>
                           <p>下表介绍了支持的优先级。</p>
                           <div class="tblformalwide" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__BABEIDGD">
                              <p class="titleintable">表4-1在IM列存储中填充数据库对象的优先级</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="在IM列存储中填充数据库对象的优先级" width="100%" border="1" summary="This table describes the priority levels for loading table data into the In-Memory Column Store. It has the following columns:  Priority Level, CREATE/ALTER Table Syntax, and Description" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="30%" id="d11625e2317">CREATE / ALTER语法</th>
                                       <th align="left" valign="bottom" width="70%" id="d11625e2320">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2325" headers="d11625e2317 ">
                                          <p><code class="codeph">优先权</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2325 d11625e2320 ">
                                          <p>数据库仅按需填充对象。对数据库对象的完全扫描会触发对象的填充到IM列存储中。</p>
                                          <p>当<code class="codeph">PRIORITY</code>未包含在<code class="codeph">INMEMORY</code>子句中时，这是默认级别。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2341" headers="d11625e2317 ">
                                          <p><code class="codeph">优先级低</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2341 d11625e2320 ">
                                          <p>数据库为对象分配低优先级，并在启动后根据其在队列中的位置填充它。人口不依赖于是否访问该对象。</p>
                                          <p>在具有以下优先级的数据库对象之前，在IM列存储中填充该对象： <code class="codeph">NONE</code> 。数据库对象的数据在具有以下优先级的数据库对象之后填充在IM列存储中： <code class="codeph">MEDIUM</code> ， <code class="codeph">HIGH</code>或<code class="codeph">CRITICAL</code> 。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2363" headers="d11625e2317 ">
                                          <p><code class="codeph">优先媒体</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2363 d11625e2320 ">
                                          <p>数据库为对象分配中等优先级，并根据其在队列中的位置在启动后填充它。人口不依赖于是否访问该对象。</p>
                                          <p>数据库对象在具有以下优先级的数据库对象之前填充在IM列存储中： <code class="codeph">NONE</code>或<code class="codeph">LOW</code> 。数据库对象的数据在具有以下优先级的数据库对象之后填充在IM列存储中： <code class="codeph">HIGH</code>或<code class="codeph">CRITICAL</code> 。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2385" headers="d11625e2317 ">
                                          <p><code class="codeph">优先级高</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2385 d11625e2320 ">
                                          <p>数据库为对象分配高优先级，并在启动后根据其在队列中的位置填充它。人口不依赖于是否访问该对象。</p>
                                          <p>数据库对象的数据在具有以下优先级的数据库对象之前填充在IM列存储中： <code class="codeph">NONE</code> ， <code class="codeph">LOW</code>或<code class="codeph">MEDIUM</code> 。数据库对象的数据在具有以下优先级的数据库对象之后填充在IM列存储中： <code class="codeph">CRITICAL</code> 。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2407" headers="d11625e2317 ">
                                          <p><code class="codeph">优先关键</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2407 d11625e2320 ">
                                          <p>数据库为对象分配低优先级，并在启动后根据其在队列中的位置填充它。人口不依赖于是否访问该对象。</p>
                                          <p>数据库对象的数据在具有以下优先级的数据库对象之前填充在IM列存储中： <code class="codeph">NONE</code> ， <code class="codeph">LOW</code> ， <code class="codeph">MEDIUM</code>或<code class="codeph">HIGH</code> 。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>当多个数据库对象的优先级不是<code class="codeph">NONE</code> ，Oracle数据库会根据优先级对要填充的对象的数据进行排队。首先填充具有<code class="codeph">CRITICAL</code>优先级的数据库对象;接下来填充具有<code class="codeph">HIGH</code>优先级的数据库对象，依此类推。如果IM列存储中没有剩余空间，则在空间可用之前不会填充其他对象。
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-E2372CD0-3319-4179-B3DA-64510BF383F8">
                              <p class="notep1">注意：</p>
                              <p>如果将所有对象指定为<code class="codeph">CRITICAL</code> ，则数据库不会将任何对象视为比任何其他对象更重要。
                              </p>
                           </div>
                           <p>重新启动数据库时，启动期间IM列列存储中将填充优先级为<code class="codeph">NONE</code>数据库对象的所有数据。对于优先级不是<code class="codeph">NONE</code>的数据库对象，在DD列更改记录在IM列存储中之前，不会返回涉及数据库对象的<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code> DDL语句。
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-973048C5-DE8A-43BA-8751-8310E2B2685F">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>优先级设置必须应用于整个表或表分区。不允许为表中的不同列子集指定不同的IM列存储优先级。</p>
                                 </li>
                                 <li>
                                    <p>如果磁盘上的段为64 KB或更少，则不会在IM列存储中填充它。因此，可能无法填充为IM列存储启用的某些小型数据库对象。</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-44A62D85-0071-40D2-909B-D8555BEA8518">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" title="DDL语句包括一个INMEMORY PRIORITY子句，它提供了对总体队列的更多控制。">记忆中人口的优先顺序</a> ”</span></p>
                              </li>
                              <li>
                                 <p>用于<code class="codeph">CREATE TABLE ... <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> <code class="codeph">CREATE TABLE ...INMEMORY PRIORITY</code>语法和语义</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4" name="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4"></a><h5 id="INMEM-GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4" class="sect5"><span class="enumeration_section">4.1.3.3</span> IM列存储压缩方法</h5>
                     <div>
                        <p>根据您的要求，您可以在不同级别压缩内存中对象。</p>
                        <div class="section">
                           <p>通常，压缩是一种节省空间的机制。但是，IM列存储可以使用一组新算法压缩数据，这些算法也可以提高查询性能。如果使用<code class="codeph">FOR DML</code>或<code class="codeph">FOR QUERY</code>选项压缩列数据，则SQL查询将直接对压缩数据执行。因此，扫描和过滤操作在更少量的数据上执行。数据库仅在结果集需要时解压缩数据。
                           </p>
                           <div class="infoboxnote" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-FE6070A5-C5BB-444C-BC92-F63E56B6077C">
                              <p class="notep1">视频：</p>
                              <p>
                                 </p><div class="video-box">
                                    <div id="9369" class="video-container"></div>
                                 </div>
                              
                           </div>
                           <p><code class="codeph">V$IM_SEGMENTS</code>和<code class="codeph">V$IM_COLUMN_LEVEL</code>视图指示当前的压缩级别。您可以使用适当的<code class="codeph">ALTER</code>命令更改压缩级别。<span>如果当前在IM列存储中填充了表，并且如果更改<span class="italic">除</span> <code class="codeph">PRIORITY</code> <span class="italic">之外</span>的表的任何<code class="codeph">INMEMORY</code>属性，则数据库将从IM列存储中逐出该表。重新填充行为取决于<code class="codeph">PRIORITY</code>设置。</span></p>
                           <p>下表总结了IM列存储中支持的数据压缩方法。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__BABIHHDA">
                           <p class="titleintable">表4-2 IM列存储压缩方法</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="IM列存储压缩方法" width="100%" border="1" summary="This table describes the types of in-memory table compression. It has the following columns: CREATE/ALTER Table Syntax, and Description" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="45%" id="d11625e2662">CREATE / ALTER语法</th>
                                    <th align="left" valign="bottom" width="55%" id="d11625e2665">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2670" headers="d11625e2662 ">
                                       <p><code class="codeph">没有MEMCOMPRESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2670 d11625e2665 ">
                                       <p>数据未压缩。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2678" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS for DML</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2678 d11625e2665 ">
                                       <p>此方法可获得最佳DML性能。</p>
                                       <p>此方法最少压缩IM列存储数据， <code class="codeph">NO MEMCOMPRESS</code> 。</p>
                                       <div class="infoboxnote" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-D184FBE5-7A65-410E-B241-34AE170A716A">
                                          <p class="notep1">注意：</p>
                                          <p>Exadata闪存缓存上的<code class="codeph">CELLMEMORY</code>存储不支持此压缩方法。
                                          </p>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2697" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS非常低</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2697 d11625e2665 ">
                                       <p>此方法可获得最佳查询性能。</p>
                                       <p>此方法比<code class="codeph">MEMCOMPRESS FOR DML</code>压缩IM列存储数据，但小于<code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code> 。</p>
                                       <p>如果在<code class="codeph">CREATE</code>或<code class="codeph">ALTER</code> SQL语句中未指定压缩方法指定<code class="codeph">INMEMORY</code>子句，或者指定<code class="codeph">MEMCOMPRESS FOR QUERY</code>而不包括<code class="codeph">LOW</code>或<code class="codeph">HIGH</code>此方法是缺省值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2734" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS为QUERY HIGH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2734 d11625e2665 ">
                                       <p>此方法可以提高查询性能，并节省空间。</p>
                                       <p>此方法比<code class="codeph">MEMCOMPRESS FOR QUERY LOW</code>压缩IM列存储数据，但低于<code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2750" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS的容量低</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2750 d11625e2665 ">
                                       <p>此方法可节省空间和查询性能，并可节省空间。</p>
                                       <p>此方法比<code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code>压缩IM列存储数据，但小于<code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code> 。此方法应用称为Oracle Zip（OZIP）的专有压缩技术，该技术提供针对Oracle数据库专门调整的极快速解压缩。必须先对该数据进行解压缩才能进行扫描。
                                       </p>
                                       <p>当指定<code class="codeph">MEMCOMPRESS FOR CAPACITY</code>时，此方法是默认值，不包括<code class="codeph">LOW</code>或<code class="codeph">HIGH</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2777" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS容量高</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2777 d11625e2665 ">
                                       <p>这种方法可以节省空间。</p>
                                       <p>此方法最能压缩IM列存储数据。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>在SQL语句中， <code class="codeph">MEMCOMPRESS</code>关键字必须以<code class="codeph">INMEMORY</code>关键字<code class="codeph">INMEMORY</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-ED27CFC7-FDAC-41CC-AA4D-C6484F71BF43">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="repopulation-and-dml.html#GUID-857EFBD6-6D03-4543-9FAB-F66B5C16D0C7" title="重大修改后自动刷新柱状数据称为重新填充。">关于IM列存储的重新填充</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SAGUG-GUID-76E92D13-C65B-4B74-B92D-2AA01D923902" target="_blank"><span><cite>Oracle Exadata系统软件用户指南</cite></span></a> ，了解有关<code class="codeph">ALTER TABLE ...更多信息<code class="codeph">ALTER TABLE ...CELLMEMORY</code></p>
                              </li>
                              <li>
                                 <p>用于<code class="codeph">CREATE TABLE ... <a href="../sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> <code class="codeph">CREATE TABLE ...INMEMORY PRIORITY</code>语法和语义</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98" name="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98"></a><h5 id="INMEM-GUID-6E37613F-564B-4619-B9B3-CAEB09427E98" class="sect5"><span class="enumeration_section">4.1.3.4</span> Oracle Compression Advisor</h5>
                     <div>
                        <p>Oracle Compression Advisor使用<code class="codeph">MEMCOMPRESS</code>子句估计您可以实现的压缩率。顾问程序使用<code class="codeph">DBMS_COMPRESSION</code>接口。
                        </p>
                        <p>当您为表运行<code class="codeph">DBMS_COMPRESSION.GET_COMPRESSION_RATIO</code> ，Oracle数据库会分析行的样本。因此，Oracle Compression Advisor可以很好地估计表填充到IM列存储后的压缩结果。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98__GUID-E1CB37F6-B8A3-4A1C-8A0F-FF3B139809FC">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/DBMS_COMPRESSION.html#ARPLS65605" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_COMPRESSION.GET_COMPRESSION_RATIO</code></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="使用DDL语句中的INMEMORY子句指定哪些对象有资格进入IM列存储。您可以启用表空间，表（内部和外部），分区和物化视图。">内存中人口的控制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" name="GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B"></a><h3 id="INMEM-GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" class="sect3"><span class="enumeration_section">4.2</span>启用和禁用IM列存储的表</h3>
               <div>
                  <p>通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，为IM列存储启用<code class="codeph">ALTER TABLE</code> 。通过在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的<code class="codeph">ALTER TABLE</code> 。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-FB360DEE-45DB-49FF-8510-541473AAD707">为内存中的列存储启用新表</a><br>通过在<code class="codeph">CREATE TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，可以为IM列存储启用新表。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE">为IM列存储启用和禁用现有表</a><br>通过在<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>或<code class="codeph">NO INMEMORY</code>子句，为IM列存储启用或禁用现有表。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496">为IM列存储启用和禁用表：示例</a><br>以下示例说明如何为IM列存储启用或禁用表。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707" name="GUID-FB360DEE-45DB-49FF-8510-541473AAD707"></a><h4 id="INMEM-GUID-FB360DEE-45DB-49FF-8510-541473AAD707" class="sect4"><span class="enumeration_section">4.2.1</span>为内存中的列存储启用新表</h4>
                  <div>
                     <p>通过在<code class="codeph">CREATE TABLE</code>语句中包含<code class="codeph">INMEMORY</code>子句，可以为IM列存储启用新表。
                     </p>
                     <div class="section">
                        <p>您可以为IM列存储启用内部或外部表。某些<code class="codeph">INMEMORY</code>子条款（包括列和优先级子条款）对外部表无效。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-6F19ED97-8AD8-40E2-A990-FEA27BBF5C74">先决条件</p>
                        <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-2CCDECBE-24E2-42C4-ACAE-7174A1DD6411">要为IM列存储启用新表：</p>
                        <ol>
                           <li>
                              <p>以具有创建表所需权限的用户身份登录数据库。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">INMEMORY</code>子句运行<code class="codeph">CREATE TABLE</code>语句。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-9512AE6C-E37B-45A6-9C13-1346AA93313E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" title="此示例启用oe.product_information表中除wt_class和catalog_url之外的IM列存储的所有列。">为IM列存储启用列的子集：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CREATE TABLE</code>语句的<code class="codeph">INMEMORY</code>子句的信息，请<code class="codeph">INMEMORY</code> <a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE" name="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE"></a><h4 id="INMEM-GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE" class="sect4"><span class="enumeration_section">4.2.2</span>启用和禁用IM列存储的现有表</h4>
                  <div>
                     <p>通过在<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">INMEMORY</code>或<code class="codeph">NO INMEMORY</code>子句，为IM列存储启用或禁用现有表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-C0FDBC4A-D0C2-403F-983E-596C5EE3CF42">先决条件</p>
                        <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-BD98BA8A-70BE-4FBC-A8AB-55B59E0D6A22">要为IM列存储启用或禁用现有表，请执行以下操作：</p>
                        <ol>
                           <li>
                              <p>以具有<code class="codeph">ALTER TABLE</code>权限的用户身份登录数据库。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">INMEMORY</code>子句或<code class="codeph">NO INMEMORY</code>子句运行<code class="codeph">ALTER TABLE</code>语句。
                              </p>
                           </li>
                           <li>
                              <p>（可选）要查看有关内存中段的元数据（大小，优先级，压缩级别），请查询<code class="codeph">V$IM_SEGMENTS</code> 。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-9512AE6C-E37B-45A6-9C13-1346AA93313E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" title="此示例启用oe.product_information表中除wt_class和catalog_url之外的IM列存储的所有列。">为IM列存储启用列的子集：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER TABLE</code>语句的信息，请<a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$IM_SEGMENTS</code>视图的信息，请<a href="../refrn/V-IM_SEGMENTS.html#GUID-1CD070FD-2864-452D-B2AA-50E977C4885A" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" name="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496"></a><h4 id="INMEM-GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" class="sect4"><span class="enumeration_section">4.2.3</span>启用和禁用IM列存储的表：示例</h4>
                  <div>
                     <p>以下示例说明如何为IM列存储启用或禁用表。</p>
                     <div class="section">本节包含以下主题：</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-21EBEB55-6898-40C8-B60A-36052D34D73C">创建内存表：示例</a><br>此示例创建<code class="codeph">test_inmem</code>表并为IM列存储启用它。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E1378020-4ED0-4C79-A555-0687314D72BC">使用内存分区创建表：示例</a><br>此示例创建名为<code class="codeph">range_sales</code>的分区表，将分区的子集指定为<code class="codeph">INMEMORY</code> 。</li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4">创建内存外部表：示例</a><br>此示例使用<code class="codeph">INMEMORY</code>选项创建外部表。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9">创建和填充混合外部表：示例</a><br>此示例使用<code class="codeph">INMEMORY</code>选项创建混合外部表，然后填充内部分区。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-D259986C-DD74-4E72-B467-15B5858FB2CC">为IM列存储启用现有表：示例</a><br>此示例为IM列存储启用现有<code class="codeph">sh.sales</code>表。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A">将内存中压缩设置为FOR CAPACITY LOW：示例</a><br>此示例为IM列存储启用现有<code class="codeph">oe.product_information</code>表，并指定压缩方法<code class="codeph">FOR CAPACITY LOW</code> 。</li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA">将内存优先级设置为HIGH：示例</a><br>此示例启用IM列存储的<code class="codeph">oe.product_information</code>表，并指定<code class="codeph">PRIORITY HIGH</code>以填充IM列存储中的表数据。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-2D5D74B5-F89B-4E67-B177-1509185B473E">更改内存中表的压缩和优先级设置：示例</a><br>此示例将<code class="codeph">oe.product_information</code>表更改为使用<code class="codeph">FOR CAPACITY HIGH</code>表压缩和<code class="codeph">LOW</code>优先级设置。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C">禁用IM列存储的表：示例</a><br>要禁用IM列存储的表，请指定<code class="codeph">NO INMEMORY</code>子句。
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4">在Exadata智能闪存缓存上禁用列式格式：示例</a><br>此示例禁用Exadata智能闪存缓存存储上的<code class="codeph">oe.product_information</code>的列式格式。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__GUID-F9C0F675-4D73-454E-9139-E8A6B95BAB8E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C" name="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C"></a><h5 id="INMEM-GUID-21EBEB55-6898-40C8-B60A-36052D34D73C" class="sect5"><span class="enumeration_section">4.2.3.1</span>创建内存表：示例</h5>
                     <div>
                        <p>此示例创建<code class="codeph">test_inmem</code>表并为IM列存储启用它。
                        </p>
                        <div class="example" id="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C__GUID-2C339BDC-BFDB-4A5D-AB57-15DE86ACD215">
                           <p>在SQL * Plus中，以拥有该表的用户身份登录数据库，然后执行以下SQL语句：</p><pre class="pre codeblock"><code>CREATE TABLE test_inmem（id NUMBER（5）PRIMARY KEY，test_col VARCHAR2（15））INMEMORY;</code></pre><p>前面的语句使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY</code>和<code class="codeph">PRIORITY NONE</code> 。由于<code class="codeph">PRIORITY</code>为<code class="codeph">NONE</code> ，因此数据库不会自动填充表。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E1378020-4ED0-4C79-A555-0687314D72BC" name="GUID-E1378020-4ED0-4C79-A555-0687314D72BC"></a><h5 id="INMEM-GUID-E1378020-4ED0-4C79-A555-0687314D72BC" class="sect5"><span class="enumeration_section">4.2.3.2</span>使用内存分区创建表：示例</h5>
                     <div>
                        <p>此示例创建名为<code class="codeph">range_sales</code>的分区表，将分区的子集指定为<code class="codeph">INMEMORY</code> 。</p>
                        <div class="example" id="GUID-E1378020-4ED0-4C79-A555-0687314D72BC__GUID-3598CEB3-F4DD-42D0-A69C-6425CD023EBE">
                           <p>以拥有新表的用户身份登录SQL * Plus，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>CREATE TABLE range_sales（prod_id NUMBER（6），cust_id NUMBER，time_id DATE，channel_id CHAR（1），promo_id NUMBER（6），quantity_sold NUMBER（3），amount_sold NUMBER（10,2））PARTITION BY RANGE（time_id）（PARTITION SALES_Q4_1999价值低于（截止日期（'01 -JAN-2015'，'DD-MON-YYYY'））DML，PARTITION SALES_Q1_2000的价值不足（截止日期为（'01-APR-2015'，'DD-MON-） YYYY'））INMEMORY MEMCOMPRESS for QUERY，PARTITION SALES_Q2_2000价值不到（2015年7月1日'，2015年7月'，'DD-MON-YYYY'）INMEMORY MEMCOMPRESS for CAPACITY，PARTITION SALES_Q3_2000价值不到（7月10日） OCT-2015'，'DD-MON-YYYY'））没有INMEMORY，PARTITION SALES_Q4_2000价值低于（MAXVALUE））;</code></pre><p>前面的SQL为IM列存储中的前三个分区指定了不同的压缩级别。最后两个分区不符合IM列存储中的填充条件。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" name="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4"></a><h5 id="INMEM-GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" class="sect5"><span class="enumeration_section">4.2.3.3</span>创建内存外部表：示例</h5>
                     <div>
                        <p>此示例使用<code class="codeph">INMEMORY</code>选项创建外部表。
                        </p>
                        <div class="p">
                           <p>此示例假定主机具有目录<code class="codeph">/tmp/data/</code> ， <code class="codeph">/tmp/log/</code>和<code class="codeph">/tmp/bad/</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4__GUID-74146E09-A4DF-4F63-9909-836168A7B3DE">
                           <p>以下SQL脚本从<code class="codeph">sh.sales</code>表创建逗号分隔的平面文件<code class="codeph">/tmp/data/sh_sales.csv</code> 。以用户<code class="codeph">sh</code>执行脚本。
                           </p><pre class="pre codeblock"><code>SET HEAD OFF SET PAGES 0 SET FEEDBACK OFF SET TERMOUT OFF SPOOL /tmp/data/sh_sales.csv SELECT prod_id || '，'|| cust_id || '，'|| time_id || '，'|| channel_id || '，'|| promo_id || '，'|| quantity_sold || '，'|| amount_sold FROM sales; SPOOL OFF</code></pre><p>使用<code class="codeph">sh_sales.csv</code>文件，以下SQL脚本使用<code class="codeph">INMEMORY</code>选项创建外部表<code class="codeph">sh.admin_ext_sales</code> ：</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA; - 设置目录并授予sh create或REPLACE DIRECTORY admin_dat_dir AS'/ tmp / data'的访问权限;创建或替换目录admin_log_dir AS'/ tmp / log';创建或替换目录admin_bad_dir AS'/ tmp / bad'; GRANT READ ON DIRECTORY admin_dat_dir TO sh; GRANT WRITE ON DIRECTORY admin_log_dir TO sh; GRANT WRITE ON DIRECTORY admin_bad_dir TO sh; -  sh连接。出现提示时提供用户密码（sh）。CONNECT sh  - 创建外部表DROP TABLE admin_ext_sales; CREATE TABLE admin_ext_sales（prod_id NUMBER，cust_id NUMBER，time_id DATE，channel_id NUMBER，promo_id NUMBER，quantity_sold NUMBER（10,2），amount_sold NUMBER（10,2））ORGANIZATION EXTERNAL（TYPE ORACLE_LOADER DEFAULT DIRECTORY admin_dat_dir ACCESS PARAMETERS（由换行符分隔的记录） badfile admin_bad_dir：'empxt％a_％p.bad'logfile admin_log_dir：'empxt％a_％p.log'字段以'结尾'，缺少的字段值为空（prod_id，cust_id，time_id char date_format date mask“dd-mon- yy“，channel_id，promo_id，quantity_sold，amount_sold））LOCATION（'sh_sales.csv'））REJECT LIMIT UNLIMITED INMEMORY;</code></pre><p>以下查询<code class="codeph">ALL_EXTERNAL_TABLES</code>表明<code class="codeph">admin_ext_sales</code>表启用了<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>COL OWNER FORMAT A10 COL TABLE_NAME FORMAT A15 SELECT ALLWWER，TABLE_NAME，INMEMORY，INMEMORY_COMPRESSION FROM ALL_EXTERNAL_TABLES WHERE TABLE_NAME ='ADMIN_EXT_SALES'; OWNER TABLE_NAME INMEMORY INMEMORY_COMPRESS ---------- --------------- -------- ------------- ---- SH ADMIN_EXT_SALES启用了QUERY LOW</code></pre><p>相关视图包括<code class="codeph">ALL_XTERNAL_PART_TABLES</code> ， <code class="codeph">ALL_XTERNAL_TAB_PARTITIONS</code>和<code class="codeph">ALL_XTERNAL_TAB_SUBPARTITIONS</code> 。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" title="此示例填充具有INMEMORY选项的外部表。">使用DBMS_INMEMORY.POPULATE填充内存中的外部表：示例</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/QUERY_REWRITE_INTEGRITY.html#GUID-23655494-DF65-4F0E-A89F-8333222297F5" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">ALL_EXTERNAL_TABLES</code>和相关的外部表视图</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9" name="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9"></a><h5 id="INMEM-GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9" class="sect5"><span class="enumeration_section">4.2.3.4</span>创建和<span class="enumeration_section">填充</span>混合外部表：示例</h5>
                     <div>
                        <p>此示例使用<code class="codeph">INMEMORY</code>选项创建混合外部表，然后填充内部分区。
                        </p>
                        <div class="section">
                           <p>此示例假定存在<code class="codeph">sh.sales</code>表。目标是使用两个内部分区创建混合分区表<code class="codeph">sales_hpt</code> ，其中一个内部分区使用<code class="codeph">sh.sales</code>的数据，然后添加一个外部分区。将<code class="codeph">INMEMORY</code>属性应用于<code class="codeph">sales_hpt</code> ，此属性仅适用于内部分区。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9__GUID-0EFD8472-DEFF-4675-8F07-8485100A5954">
                           <ol id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9__OL_T1Z_CNV_3GB">
                              <li>
                                 <p>在Linux中，创建一个临时目录，然后使用一行销售数据创建一个文本文件。</p><pre class="pre codeblock"><code>mkdir / tmp / sales_data echo“1002,110,19-02-2015,12,18,150,4800”&gt; /tmp/sales_data/sales2015_data.txt</code></pre></li>
                              <li>
                                 <p>在SQL * Plus中，log具有管理员权限，然后为销售数据创建目录对象：</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA CREATE DIRECTORY sales_data AS'/ tmp / sales_data'; GRANT READ，WRITE ON DIRECTORY sales_data to sh;</code></pre></li>
                              <li>
                                 <p>以<code class="codeph">sh</code>用户身份登录，然后创建<code class="codeph">sales_hpt</code>表：</p><pre class="pre codeblock"><code>CONNECT sh DROP TABLE sales_hpt; CREATE TABLE sales_hpt（prod_id NUMBER NOT NULL，cust_id NUMBER NOT NULL，time_id DATE NOT NULL，channel_id NUMBER NOT NULL，promo_id NUMBER NOT NULL，quantity_sold NUMBER（10,2）NOT NULL，amount_sold NUMBER（10,2）NOT NULL）EXTERNAL分区属性（类型ORACLE_LOADER默认目录sales_data访问参数（字段终止于'，'（prod_id，cust_id，time_id日期'dd-mm-yyyy'，channel_id，promo_id，quantity_sold，amount_sold））REJECT LIMIT UNLIMITED）按范围划分（time_id ）（PARTITION sales_2014价值不到（截止日期为（'01 -01-2015'，'dd-mm-yyyy'）），PARTITION sales_2015价值不到（截止日期（'01 -01-2016'，'dd-mm-yyyy） '）），PARTITION sales_2016价值低于（7月1日（'01 -01-2017'，'dd-mm-yyyy'））外部位置（'sales2016_data.txt'））;</code></pre><p>上面的语句显示该表有三个分区： <code class="codeph">sales_2014</code> ， <code class="codeph">sales_2015</code>和<code class="codeph">sales_2016</code> 。只有<code class="codeph">sales_2016</code>被设计为外部。
                                 </p>
                              </li>
                              <li>
                                 <p>查询数据字典以确认该表是混合的：</p><pre class="pre codeblock"><code>SQL&gt; COL TABLE_NAME FORMAT a25 SQL&gt; SELECT TABLE_NAME，HYBRID FROM USER_TABLES WHERE HYBRID ='YES'; TABLE_NAME HYB ------------------------- --- SALES_HPT YES</code></pre></li>
                              <li>
                                 <p>将行插入两个内部分区：</p><pre class="pre codeblock"><code>INSERT / * + APPEND * / INTO sh.sales_hpt（SELECT * FROM sales）; INSERT INTO sh.sales_hpt VALUES（30,21086，'30 -12-2015'，2,999,1,109）;承诺;</code></pre><p>前面的第一个语句插入<code class="codeph">sales</code>表中的所有行。<code class="codeph">sales</code>中的所有日期都在2002年之前，因此<code class="codeph">sales</code>中的所有行都会插入到<code class="codeph">sales_2014</code>分区中。第二个语句将一行插入<code class="codeph">sales_2015</code>分区。
                                 </p>
                              </li>
                              <li>
                                 <p>查询分区以确认存在正确的数据：</p><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（*）FROM sales_hpt PARTITION（sales_2014）; COUNT（*）---------- 918843 SQL&gt; SELECT COUNT（*）FROM sales_hpt PARTITION（sales_2015）; COUNT（*）---------- 1 SQL&gt; SELECT COUNT（*）FROM sales_hpt PARTITION（sales_2016）; COUNT（*）---------- 1</code></pre></li>
                              <li>
                                 <p>在表级别应用<code class="codeph">INMEMORY</code>属性，然后强制数据库将表填充到IM列存储中：</p><pre class="pre codeblock"><code>ALTER TABLE sales_hpt INMEMORY; SELECT / * + FULL（sales_hpt）NO_PARALLEL（sales_hpt）* / COUNT（*）FROM sales_hpt;</code></pre></li>
                              <li>
                                 <p>查询<code class="codeph">sales_hpt</code>分区的填充状态：</p><pre class="pre codeblock"><code>COL所有者格式a3 COL名称格式a10 COL分区格式a13 COL状态格式a20选择所有者，SEGMENT_NAME NAME，PARTITION_NAME PARTITION，POPULATE_STATUS状态，BYTES_NOT_POPULATED自V $ IM_SEGMENTS;自己的名字分区状态BYTES_NOT_POPULATED --- ---------- ------------- ------------------- -  ------------------- SH SALES_HPT SALES_2015已完成0 SH SALES_HPT SALES_2014已完成0</code></pre><p>该查询显示只填充了两个内部分区，这是预期的。<code class="codeph">INMEMORY</code>属性不适用于外部分区。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC" name="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC"></a><h5 id="INMEM-GUID-D259986C-DD74-4E72-B467-15B5858FB2CC" class="sect5"><span class="enumeration_section">4.2.3.5</span>为IM列存储启用现有表：示例</h5>
                     <div>
                        <p>此示例为IM列存储启用现有<code class="codeph">sh.sales</code>表。
                        </p>
                        <div class="example" id="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC__GUID-E76EA99F-9376-4D58-950D-885C7DB465C4">
                           <p>在SQL * Plus中，以<code class="codeph">sh</code>用户身份登录数据库，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE销售INMEMORY;</code></pre><p>前面的语句使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY</code>和<code class="codeph">PRIORITY NONE</code> 。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A" name="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A"></a><h5 id="INMEM-GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A" class="sect5"><span class="enumeration_section">4.2.3.6</span>将内存中压缩设置为FOR CAPACITY LOW：示例</h5>
                     <div>
                        <p>此示例为IM列存储启用现有<code class="codeph">oe.product_information</code>表，并指定压缩方法<code class="codeph">FOR CAPACITY LOW</code> 。</p>
                        <div class="example" id="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A__GUID-AF1FC237-18BF-4ECA-9BCA-99CA4E463158">
                           <p>在SQL * Plus中，以<code class="codeph">oe</code>用户身份登录数据库，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE product_information INMEMORY MEMCOMPRESS容量低;</code></pre><p>前面的语句使用<code class="codeph">NONE</code>的<code class="codeph">PRIORITY</code>子句的默认值。通过强制执行全表扫描来填充表，如下所示（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT / * + FULL（p）NO_PARALLEL（p）* / COUNT（*）FROM product_information p; COUNT（*）---------- 288</code></pre><p>在单独的会话中，以具有管理权限的用户身份登录，然后通过执行以下查询来计算压缩率（包括示例输出）：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5 COL SEGMENT_NAME FORMAT a19 SET PAGESIZE 50000 SELECT OWNER，SEGMENT_NAME，BYTES ORIG_SIZE，INMEMORY_SIZE IN_MEM_SIZE，ROUND（BYTES / INMEMORY_SIZE，2）COMP_RATIO FROM V $ IM_SEGMENTS SEGMENT_NAME喜欢'P％'订购4;所有者SEGMENT_NAME ORIG_SIZE IN_MEM_SIZE COMP_RATIO ----- ------------------- ---------- ----------- ---------- OE PRODUCT_INFORMATION 98304 1310720 .08</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA" name="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA"></a><h5 id="INMEM-GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA" class="sect5"><span class="enumeration_section">4.2.3.7</span>将内存优先级设置为HIGH：示例</h5>
                     <div>
                        <p>此示例启用IM列存储的<code class="codeph">oe.product_information</code>表，并指定<code class="codeph">PRIORITY HIGH</code>以填充IM列存储中的表数据。
                        </p>
                        <div class="example" id="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA__GUID-C7F19235-479A-4D5A-A735-FE4560E9F2C3">
                           <p>在SQL * Plus中，以<code class="codeph">oe</code>用户身份登录数据库，然后执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE product_information INMEMORY PRIORITY HIGH;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E" name="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E"></a><h5 id="INMEM-GUID-2D5D74B5-F89B-4E67-B177-1509185B473E" class="sect5"><span class="enumeration_section">4.2.3.8</span>更改内存表的压缩和优先级设置：示例</h5>
                     <div>
                        <p>此示例将<code class="codeph">oe.product_information</code>表更改为使用<code class="codeph">FOR CAPACITY HIGH</code>表压缩和<code class="codeph">LOW</code>优先级设置。
                        </p>
                        <div class="example" id="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E__GUID-5A918ABB-5598-4535-9B4E-F9DDBC706BD1">
                           <p>在SQL * Plus中，以管理用户身份登录数据库，然后执行以下查询以显示<code class="codeph">oe.product_information</code>表的当前优先级和压缩设置：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5 COL SEGMENT_NAME FORMAT a19 SET PAGESIZE 50000 SELECT v.OWNER，v.SEGMENT_NAME，v.INMEMORY_PRIORITY，v.INMEMORY_COMPRESSION FROM V $ IM_SEGMENTS v SEGMENT_NAME喜欢'P％'; OWNER SEGMENT_NAME INMEMORY INMEMORY_COMPRESS ----- ------------------- -------- -------------- --- OE PRODUCT_INFORMATION高容量低</code></pre><p>以下DDL语句改变<code class="codeph">oe.product_information</code>以使用<code class="codeph">FOR CAPACITY HIGH</code>表压缩和<code class="codeph">PRIORITY LOW</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information INMEMORY MEMCOMPRESS for CAPACITY HIGH PRIORITY LOW;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C" name="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C"></a><h5 id="INMEM-GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C" class="sect5"><span class="enumeration_section">4.2.3.9</span>禁用IM列存储的表：示例</h5>
                     <div>
                        <p>要禁用IM列存储的表，请指定<code class="codeph">NO INMEMORY</code>子句。
                        </p>
                        <div class="example" id="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C__GUID-DF205A1C-2A1B-4E56-A803-E370DA1460FD">
                           <p>以用户<code class="codeph">oe</code>身份登录数据库，然后执行以下语句以禁用IM列存储的<code class="codeph">product_information</code>表：</p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information NO INMEMORY;</code></pre><p><code class="codeph">V$IM_SEGMENTS</code>视图列出了在IM列存储中填充的数据库对象。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4" name="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4"></a><h5 id="INMEM-GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4" class="sect5"><span class="enumeration_section">4.2.3.10</span>在Exadata智能闪存缓存上禁用列式格式：示例</h5>
                     <div>
                        <p>此示例禁用Exadata智能闪存缓存存储上的<code class="codeph">oe.product_information</code>的列式格式。
                        </p>
                        <div class="example" id="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4__GUID-31D5AC5E-FA0A-4615-B03D-9670B3FB88A5">
                           <p>默认情况下，Exadata智能闪存缓存使用<code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code>级别压缩数据。若要更改压缩级别或完全禁用列式格式，请使用<code class="codeph">ALTER TABLE ...NO CELLMEMORY</code>声明。
                           </p>
                           <p>以<code class="codeph">oe</code>用户登录数据库，执行以下DDL语句：</p><pre class="pre codeblock"><code>ALTER TABLE product_information NO CELLMEMORY;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" name="GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347"></a><h3 id="INMEM-GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" class="sect3"><span class="enumeration_section">4.3</span>启用和禁用内存表中的列</h3>
               <div>
                  <p>您可以为内部表中的各个列指定<code class="codeph">INMEMORY</code>子句。外部表不支持在列级别指定<code class="codeph">INMEMORY</code> 。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617">关于启用INMEMORY列</a><br>对于内部表，内存中的虚拟列（IM虚拟列）和非虚拟列都符合IM填充的条件。对于外部表，只有非虚拟列才符合条件。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA">启用IM虚拟列</a><br>IM虚拟列通过避免重复计算来提高查询性能。此外，数据库可以使用诸如SIMD矢量处理之类的技术来扫描和过滤IM虚拟列。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E">为IM列存储启用列子集：示例</a><br>此示例启用<code class="codeph">oe.product_information</code>表中除<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>之外的IM列存储的所有列。
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-9E123407-13BA-4566-933D-6E4473C8FE5C">在NO INMEMORY表上指定INMEMORY列属性：示例</a><br>从<span>Oracle Database 12c</span>第2版（12.2）开始，您可以在尚未指定为<code class="codeph">INMEMORY</code>的对象的列级别指定<code class="codeph">INMEMORY</code>子句。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617" name="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617"></a><h4 id="INMEM-GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617" class="sect4"><span class="enumeration_section">4.3.1</span>关于启用INMEMORY列</h4>
                  <div>
                     <p>对于内部表，内存中的虚拟列（IM虚拟列）和非虚拟列都符合IM填充的条件。对于外部表，只有非虚拟列才符合条件。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-20B9C781-32BF-4F37-9B12-ACC1F9278589">INMEMORY对象中没有INMEMORY列</p>
                        <p>默认情况下，如果内部对象具有<code class="codeph">INMEMORY</code>属性，则此对象中的所有列都有资格进入IM列存储。但是，您可以指定<code class="codeph">INMEMORY</code>表中的某些列应具有<code class="codeph">NO INMEMORY</code>属性，在这种情况下，只有<code class="codeph">INMEMORY</code>列才符合填充条件。
                        </p>
                        <p>要将<code class="codeph">INMEMORY</code>属性应用于列的子集，请指定<code class="codeph">ALTER TABLE <span class="codeinlineitalic">table_name</span> INMEMORY ...NO INMEMORY <span class="codeinlineitalic">excluded_columns</span></code> ，其中<span class="italic">excluded_columns</span>列出要指定为<code class="codeph">NO INMEMORY</code>的列。只有未指定为<code class="codeph">NO INMEMORY</code>的列（即不在排除列列表中的列） <code class="codeph">INMEMORY</code>继承段级别的<code class="codeph">INMEMORY</code>属性。
                        </p>
                        <p>在<code class="codeph">INMEMORY</code>表中指定<code class="codeph">NO INMEMORY</code>列具有重要的后果。引用一个查询<code class="codeph">NO INMEMORY</code>列使用行店<span class="italic">独家</span> 。例如，如果<code class="codeph">sales</code>是包含7列的<code class="codeph">INMEMORY</code>表，并且只有<code class="codeph">promo_id</code>列具有<code class="codeph">NO INMEMORY</code>属性，那么其<code class="codeph">SELECT</code>列表包含<code class="codeph">promo_id</code>任何查询将从行存储而不是IM列存储中检索数据。同样，谓词引用<code class="codeph">promo_id</code>任何查询，无论<code class="codeph">promo_id</code>是否在<code class="codeph">SELECT</code>列表中，都只从行存储中检索数据。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-2632F2F0-35C5-45CF-A17C-3AA5D339E562">虚拟列</p>
                        <p>IM虚拟列与任何其他列类似，只是它的值是通过计算表达式得出的。将预先计算的IM虚拟列值存储在IM列存储中可以提高查询性能。表达式可以包括来自同一个表的列，常量，SQL函数和用户定义的PL / SQL函数（仅限<code class="codeph">DETERMINISTIC</code> ）。您无法显式写入IM虚拟列。
                        </p>
                        <div class="infoboxnote" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-611BBB2C-0DF7-4EEE-AD90-881B97977C6F">
                           <p class="notep1">注意：</p>
                           <p>虚拟列或<a href="glossary.html#GUID-7EFD3370-3D0F-40FA-96CD-FB00D333F8B8"><span class="xrefglossterm">IM表达式</span></a>计入每个填充对象的1000列限制。
                           </p>
                        </div>
                        <p>要在IM列存储中填充IM虚拟列，请将<code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数设置为以下值之一：</p>
                        <ul id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_JQY_K3P_LHB" style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">MANUAL</code> （默认值）：如果为IM列存储启用了表，则此表上定义的IM虚拟列<code class="codeph">INMEMORY</code>用于填充，除非它们显式设置为<code class="codeph">INMEMORY</code> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">ENABLE</code> ：如果为IM列存储启用了表，则此表上定义的所有IM虚拟列都符合填充条件，除非它们显式设置为<code class="codeph">NO INMEMORY</code> 。</p>
                              <p>默认情况下，IM列存储中列的压缩级别与存储它的表或分区相同。但是，如果为IM虚拟列指定了不同的压缩级别，则会以指定的压缩级别填充它。</p>
                           </li>
                        </ul>
                        <p>要指定IM列存储中不填充IM虚拟列，请将此初始化参数设置为<code class="codeph">DISABLE</code> 。</p>
                        <p>IM虚拟列和IM表达式的底层存储结构是相同的。但是，不同的机制控制IM表达式和IM虚拟列。</p>
                        <div class="infoboxnote" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-380019E5-D4B1-4111-971E-871DC632D2B3">
                           <p class="notep1">注意：</p>
                           <ul id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_KQY_K3P_LHB" style="list-style-type:disc">
                              <li>
                                 <p>IM列存储仅为标记为<code class="codeph">INMEMORY</code>表填充虚拟列。</p>
                              </li>
                              <li>
                                 <p>要在IM列存储中填充IM虚拟列，初始化参数<code class="codeph">COMPATIBLE</code>的值必须设置为12.1.0或更高。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-EE5FC973-7C8C-4D99-BDF4-6A505424C89F">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_QNQ_M3P_LHB" style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="optimizing-in-memory-expressions.html#GUID-FDA8B0D3-6339-4E19-8D2D-EEA0A7529B46" title="IM表达式基础结构负责计算和填充IM表达式，IM虚拟列以及IM列存储中的任何其他有用内部计算的结果。这些优化主要有利于分析查询。">IM表达式基础设施</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="init-parameters-for-im-column-store.html#GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE" title="几个初始化参数控制IM列存储的行为。">内存中初始化参数</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SQLRF004" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，了解<code class="codeph">INMEMORY</code>子句的语法和语义</p>
                           </li>
                           <li>
                              <p><a href="https://blogs.oracle.com/in-memory/what-happens-if-a-column-is-not-populated" target="_blank">https://blogs.oracle.com/in-memory/what-happens-if-a-column-is-not-populated</a>用于访问未填充的列的博客条目</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA" name="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA"></a><h4 id="INMEM-GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA" class="sect4"><span class="enumeration_section">4.3.2</span>启用IM虚拟列</h4>
                  <div>
                     <p>IM虚拟列通过避免重复计算来提高查询性能。此外，数据库可以使用诸如SIMD矢量处理之类的技术来扫描和过滤IM虚拟列。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-FD24C40C-D16B-4CE1-94BA-BBB7DDF52819">先决条件</p>
                        <p>要启用IM虚拟列，必须满足以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为数据库启用了IM列存储。</p>
                              <p>请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>包含虚拟列的表已为IM列存储启用。</p>
                              <p>请参阅<span class="q">“ <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="通过在CREATE TABLE或ALTER TABLE语句中包含INMEMORY子句，为IM列存储启用表。通过在CREATE TABLE或ALTER TABLE语句中包含NO INMEMORY子句来禁用IM列存储的表。">为IM列存储启用和禁用表</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数<span class="italic">未</span>设置为<code class="codeph">DISABLE</code> 。</p>
                           </li>
                           <li>
                              <p>初始化参数<code class="codeph">COMPATIBLE</code>值设置为<code class="codeph">12.1.0</code>或更高。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-8BF2C47F-A612-40A0-9EFD-69F9A4DD00F8">要启用IM虚拟列：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数设置为<code class="codeph">ENABLE</code> ，或为IM列存储启用特定虚拟列。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-87D49413-0F20-4DA7-93BF-8B2F2437911B">
                        <p class="titleinexample">示例4-3为IM列存储启用虚拟列</p>              
                        <p>在此示例中，您以<code class="codeph">SYSTEM</code>身份登录到数据库。已启用IM列存储，但当前已禁用虚拟列的数量：</p><pre class="pre codeblock"><code>SQL&gt; SHOW PARAMETER INMEMORY_SIZE NAME TYPE VALUE ------------------------------------ ------ ----- ----- inmemory_size大整数200M SQL&gt; SHOW PARAMETER INMEMORY_VIRTUAL_COLUMNS NAME TYPE VALUE ---------------------------- -------- ----------- ------- inmemory_virtual_columns string DISABLE</code></pre><p>您将一个虚拟列添加到<code class="codeph">hr.employees</code>表，然后指定该表是<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>SQL&gt; ALTER TABLE hr.employees ADD（weekly_sal AS（ROUND（salary * 12 / 52,2）））;表改变了。SQL&gt; ALTER TABLE hr.employees INMEMORY;表改变了。
</code></pre><p>在此阶段， <code class="codeph">weekly_sal</code>不符合人口条件，尽管<code class="codeph">hr.employees</code>中的非虚拟列符合人口。下面的语句使<code class="codeph">weekly_sal</code> ，而在任何其他虚拟列<code class="codeph">hr.employees</code> ，要填充：</p><pre class="pre codeblock"><code>SQL&gt; ALTER SYSTEM SET INMEMORY_VIRTUAL_COLUMNS = ENABLE SCOPE = SPFILE;系统改变了。
</code></pre>     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-607CB2DD-913D-406A-9BDF-2A0828A47FB4">
                        <p class="titleinexample">示例4-4为IM列存储启用特定IM虚拟列</p>       
                        <p>此示例假定<code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数设置为<code class="codeph">MANUAL</code> ，这意味着必须将IM虚拟列显式添加到IM列存储中。此示例首先创建<code class="codeph">hr.admin_emp</code>表：</p><pre class="pre codeblock"><code>CREATE TABLE hr.admin_emp（empno NUMBER（5）PRIMARY KEY，ename VARCHAR2（15）NOT NULL，job VARCHAR2（10），sal NUMBER（7,2），hrly_rate NUMBER（7,2）GENERATED ALWAYS AS（sal / 2080） ），deptno NUMBER（3）NOT NULL）INMEMORY;</code></pre><p>在此阶段， <code class="codeph">hrly_rate</code>虚拟列不符合填充条件。以下语句将虚拟列显式指定为<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE hr.admin_emp INMEMORY（hrly_rate）;</code></pre>     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" name="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E"></a><h4 id="INMEM-GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" class="sect4"><span class="enumeration_section">4.3.3</span>为IM列存储启用列子集：示例</h4>
                  <div>
                     <p>此示例启用<code class="codeph">oe.product_information</code>表中除<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>之外的IM列存储的所有列。
                     </p>
                     <div class="section">
                        <p>以下语句还为为IM列存储启用的列指定了不同的IM列存储压缩方法：</p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information INMEMORY MEMCOMPRESS FOR QUERY（product_id，product_name，category_id，supplier_id，min_price）INMEMORY MEMCOMPRESS FOR CAPACITY HIGH（product_description，warranty_period，product_status，list_price）NO INMEMORY（weight_class，catalog_url）;</code></pre><p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">MEMCOMPRESS FOR QUERY</code>压缩方法为IM列存储启用了<code class="codeph">product_id</code> ， <code class="codeph">product_name</code> ， <code class="codeph">category_id</code> ， <code class="codeph">supplier_id</code>和<code class="codeph">min_price</code>列。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code>压缩方法为IM列存储启用了<code class="codeph">product_description</code> ， <code class="codeph">warranty_period</code> ， <code class="codeph">product_status</code>和<code class="codeph">list_price</code>列。
                              </p>
                           </li>
                           <li>
                              <p>未对IM列存储启用<code class="codeph">weight_class</code>和<code class="codeph">catalog_url</code>列。因此，在<code class="codeph">SELECT</code>列表或谓词中引用这两列的任何查询都必须使用行存储而不是IM列存储。
                              </p>
                           </li>
                           <li>
                              <p>该表使用<code class="codeph">PRIORITY</code>子句的默认值，即<code class="codeph">PRIORITY NONE</code> 。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E__GUID-60E9950B-A5A7-4A8D-8486-2DC42DD609E7">
                           <p class="notep1">注意：</p>
                           <p>优先级设置必须适用于整个表或分区。不允许为表中的不同列子集指定不同的IM列存储优先级。</p>
                        </div>
                        <p>要确定为数据库对象定义的选择性列压缩级别，请查询<code class="codeph">V$IM_COLUMN_LEVEL</code>视图，如以下示例所示：</p><pre class="pre codeblock"><code>COL TABLE_NAME格式a20 COL COLUMN_NAME格式a20 SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION来自V $ IM_COLUMN_LEVEL，其中TABLE_NAME ='PRODUCT_INFORMATION'按COLUMN_NAME排序; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------------- PRODUCT_INFORMATION CATALOG_URL NO INMEMORY PRODUCT_INFORMATION CATEGORY_ID for QUERY LOW PRODUCT_INFORMATION LIST_PRICE for CAPACITY HIGH PRODUCT_INFORMATION MIN_PRICE for QUERY LOW PRODUCT_INFORMATION PRODUCT_DESCRIPTION FOR CAPACITY HIGH PRODUCT_INFORMATION PRODUCT_ID for QUERY LOW PRODUCT_INFORMATION PRODUCT_NAME对于低产品_INFORMATION PRODUCT_STATUS为容量高产品_INFORMATION SUPPLIER_ID为低产品_信息保证_容量为容量高产品_信息量_CLASS NO INMEMORY</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E__GUID-3EDE10AA-6654-4BF0-8692-4CB3BBE9BF32">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="in-memory-column-store-architecture.html#GUID-E652C13F-FD52-49D2-B968-3B1A03F7F1ED" title="IM列存储使用针对访问速度优化的特殊压缩格式，而不是存储减少。列式格式使查询能够直接针对压缩列执行。">内存中压缩</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$IM_COLUMN_LEVEL</code>视图的更多信息，请<a href="../refrn/V-IM_COLUMN_LEVEL.html#REFRN30742" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C" name="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C"></a><h4 id="INMEM-GUID-9E123407-13BA-4566-933D-6E4473C8FE5C" class="sect4"><span class="enumeration_section">4.3.4</span>在NO INMEMORY表上指定INMEMORY列属性：示例</h4>
                  <div>
                     <p>从<span>Oracle Database 12c</span>第2版（12.2）开始，您可以在尚未指定为<code class="codeph">INMEMORY</code>的对象的列级别指定<code class="codeph">INMEMORY</code>子句。</p>
                     <div class="section">
                        <p>在以前的版本中，列级<code class="codeph">INMEMORY</code>子句仅在<code class="codeph">INMEMORY</code>表或分区上指定时才有效。此限制意味着在表或分区与<code class="codeph">INMEMORY</code>子句关联之前，列无法与<code class="codeph">INMEMORY</code>子句关联。
                        </p>
                        <p>从<span>Oracle Database 12c</span>第2版（12.2）开始，如果在列级别指定<code class="codeph">INMEMORY</code>子句，则数据库将记录指定列的属性。如果表为<code class="codeph">NO INMEMORY</code> （缺省值），则在将表或分区指定为<code class="codeph">INMEMORY</code>之前，列级属性不会影响查询表的<code class="codeph">INMEMORY</code> 。如果将表本身标记为<code class="codeph">NO INMEMORY</code> ，则数据库将删除任何现有的列级属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C__GUID-EF882761-02EE-4310-A1DD-A69238138211">
                        <p>在此示例中，您的目标是确保永远不会在IM列存储中填充分区表中的列<code class="codeph">c3</code> 。您执行以下步骤：</p>
                        <ol>
                           <li>
                              <p>创建分区表<code class="codeph">t</code>如下：</p><pre class="pre codeblock"><code>创建表t（c1 NUMBER，c2 NUMBER，c3 NUMBER）NO INMEMORY  - 此子句将表本身指定为NO INMEMORY PARTITION BY LIST（c1）（PARTITION p1 VALUES（0），PARTITION p2 VALUES（1），PARTITION p3 VALUES （2））;</code></pre><p>表<code class="codeph">t</code>是<code class="codeph">NO INMEMORY</code> 。该表由列<code class="codeph">c1</code>上的列表分区，并具有三个分区： <code class="codeph">p1</code> ， <code class="codeph">p2</code>和<code class="codeph">p3</code> 。
                              </p>
                           </li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>COL TABLE_NAME FORMAT a20 COL COLUMN_NAME FORMAT a20 SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME;没有选择任何行</code></pre><p>如输出所示，未设置列级<code class="codeph">INMEMORY</code>属性。
                              </p>
                           </li>
                           <li>
                              <p>要确保永远不会填充列<code class="codeph">c3</code> ，请将<code class="codeph">NO INMEMORY</code>属性应用于列<code class="codeph">c3</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE t NO INMEMORY（c3）;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------- T C1 DEFAULT T C2 DEFAULT T C3 NO INMEMORY</code></pre><p>数据库已记录<code class="codeph">c3</code>的<code class="codeph">NO INMEMORY</code>属性。其他列使用默认压缩。
                              </p>
                           </li>
                           <li>
                              <p>将分区<code class="codeph">p3</code>指定为<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>更改表格t修改分区p3 INMEMORY PRIORITY CRITICAL;</code></pre><p>由于列<code class="codeph">c3</code>先前已指定为<code class="codeph">NO INMEMORY</code> ，因此分区<code class="codeph">p3</code>初始填充不包括列<code class="codeph">c3</code> 。
                              </p>
                           </li>
                           <li>
                              <p>将整个表指定为<code class="codeph">INMEMORY</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE t INMEMORY;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------------- T C1 DEFAULT T C2 DEFAULT T C3 NO INMEMORY</code></pre><p>数据库已保留列<code class="codeph">c3</code>的<code class="codeph">NO INMEMORY</code>设置。其他列使用默认压缩。
                              </p>
                           </li>
                           <li>对列<code class="codeph">c1</code>和<code class="codeph">c2</code>应用不同的压缩级别：<pre class="pre codeblock"><code>更高容量（c1）INMEMORY MEMCOMPRESS容量低（c2）的内容表;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME; TABLE_NAME COLUMN_NAME INMEMORY_COMPRESSION -------------------- -------------------- ------- ------------------- T C1容量高T C2容量低T C3无INMEMORY</code></pre><p>每列现在具有不同的压缩级别。</p>
                           </li>
                           <li>
                              <p>将整个表指定为<code class="codeph">NO INMEMORY</code> ：</p><pre class="pre codeblock"><code>ALTER TABLE t NO INMEMORY;</code></pre></li>
                           <li>
                              <p>查询表中列的压缩（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT TABLE_NAME，COLUMN_NAME，INMEMORY_COMPRESSION FROM V $ IM_COLUMN_LEVEL WHERE TABLE_NAME ='T'ORDER BY COLUMN_NAME;没有选择任何行</code></pre><p>因为整个表被指定为<code class="codeph">NO INMEMORY</code> ，所以数据库删除了所有列级<code class="codeph">INMEMORY</code>属性。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C__GUID-05B6B1EB-0640-434C-8FB8-8D12B62F5CE1">
                        <p class="notep1">也可以看看：</p>
                        <p>用于<code class="codeph">ALTER TABLE</code>语法和语义的<a href="../sqlrf/ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="您可以为内部表中的各个列指定INMEMORY子句。外部表不支持在列级别指定INMEMORY。">为内存中表启用和禁用列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B" name="GUID-636A1675-838D-4004-9CDB-70783DC72C6B"></a><h3 id="INMEM-GUID-636A1675-838D-4004-9CDB-70783DC72C6B" class="sect3"><span class="enumeration_section">4.4</span>为IM列存储启用和禁用表空间</h3>
               <div>
                  <p>您可以为IM列存储启用或禁用表空间。</p>
                  <div class="section">
                     <p>使用包含<code class="codeph">INMEMORY</code>子句的<code class="codeph">CREATE TABLESPACE</code>语句在创建表空间期间为IM列存储启用表空间。您还可以使用包含<code class="codeph">INMEMORY</code>子句的<code class="codeph">ALTER TABLESPACE</code>语句更改表空间以使其为IM列存储启用它。
                     </p>
                     <p>通过在<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的表空间。
                     </p>
                     <p>为IM列存储启用表空间时，默认情况下会为IM列存储启用表空间中的所有表和实例化视图。对于表， <code class="codeph">INMEMORY</code>化视图和表空间， <code class="codeph">INMEMORY</code>子句是相同的。所述<code class="codeph">DEFAULT</code>存储子句的之前所需<code class="codeph">INMEMORY</code>使得对于IM列存储与前一个表空间时子句<code class="codeph">NO INMEMORY</code>禁用为IM列存储一个表空间时子句。
                     </p>
                     <p>为IM列存储启用表空间时，表空间中的各个表和实例化视图可以具有不同的内存设置，并且各个数据库对象的设置会覆盖表空间的设置。例如，如果将表空间设置为<code class="codeph">PRIORITY LOW</code>以在内存中填充数据，并且如果表空间中的表设置为<code class="codeph">PRIORITY HIGH</code> ，则表使用<code class="codeph">PRIORITY HIGH</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-9663EDEB-6A16-40D9-81DB-533DDE99F2ED">先决条件</p>
                     <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-9AF7F591-DD05-4E2F-8133-E5782542634D">要为IM列存储启用或禁用表空间，请执行以下操作：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">INMEMORY</code>子句或<code class="codeph">NO INMEMORY</code>子句运行<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-522FC202-F175-4125-B577-C78FED9ECB00">
                     <p class="titleinexample">示例4-5创建表空间并为IM列存储启用它</p>
                     <p>以下示例创建<code class="codeph">users01</code>表空间并为IM列存储启用它：</p><pre class="pre codeblock"><code>CREATE TABLESPACE users01 DATAFILE'users01.dbf'SIZE 40M ONLINE DEFAULT INMEMORY;</code></pre><p>此示例使用<code class="codeph">INMEMORY</code>子句的默认值。因此，使用<code class="codeph">MEMCOMPRESS FOR QUERY</code> ，并使用<code class="codeph">PRIORITY NONE</code> 。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-B0EC62EE-9CC3-4B76-A309-6B9F7241CD29">
                     <p class="titleinexample">示例4-6更改表空间以为IM列存储启用它</p>
                     <p>以下示例更改<code class="codeph">users01</code>表空间以为IM列存储启用它，并为表空间中的数据库对象指定<code class="codeph">FOR CAPACITY HIGH</code>压缩，并为内存中的数据填充<code class="codeph">PRIORITY LOW</code> ：</p><pre class="pre codeblock"><code>ALTER TABLESPACE users01 DEFAULT INMEMORY MEMCOMPRESS容量高优先级低;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA" name="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA"></a><h3 id="INMEM-GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA" class="sect3"><span class="enumeration_section">4.5</span>为IM列存储启用和禁用实体化视图</h3>
               <div>
                  <p>您可以为IM列存储启用和禁用实体化视图。</p>
                  <div class="section">
                     <p>通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中包含<code class="codeph">INMEMORY</code>子句，为IM列存储启用<code class="codeph">INMEMORY</code> <code class="codeph">ALTER MATERIALIZED VIEW</code> 。通过在<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句中包含<code class="codeph">NO INMEMORY</code>子句来禁用IM列存储的<code class="codeph">NO INMEMORY</code> <code class="codeph">ALTER MATERIALIZED VIEW</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-20CD3001-D01A-4A8F-92EF-FB68E9A8CECE">先决条件</p>
                     <p>确保为数据库启用了IM列存储。请参阅<span class="q">“ <a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="在可以将表或实例化视图填充到IM列存储中之前，必须为数据库启用IM列存储。">为数据库启用IM列存储</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-AD22A864-2ACF-4CFD-BE55-F4B723330C19">要为IM列存储启用或禁用实例化视图，请执行以下操作：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">INMEMORY</code>子句或<code class="codeph">NO INMEMORY</code>子句运行<code class="codeph">CREATE MATERIALIZED VIEW</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2E6FF120-DFBD-467C-A40F-F35CCB8FDBA6">
                     <p class="titleinexample">示例4-7创建实体化视图并为IM列存储启用它</p>
                     <p>以下语句创建<code class="codeph">oe.prod_info_mv</code>化视图，并为IM列存储启用它：</p><pre class="pre codeblock"><code>CREATE MATERIALIZED VIEW oe.prod_info_mv INMEMORY AS SELECT * FROM oe.product_information;</code></pre><p>此示例使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code>和<code class="codeph">PRIORITY</code> <code class="codeph">NONE</code> 。</p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-BD789C3C-8FC8-49C8-9242-A626F3DA1DB8">
                     <p class="titleinexample">示例4-8为具有高数据填充优先级的IM列存储启用物化视图</p>
                     <p>以下语句为IM列存储启用<code class="codeph">oe.prod_info_mv</code>化视图：</p><pre class="pre codeblock"><code>ALTER MATERIALIZED VIEW oe.prod_info_mv INMEMORY PRIORITY HIGH;</code></pre><p>此示例使用默认压缩： <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code> 。</p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2D3F2870-0DEA-45DD-A75C-20D36B8EF586">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B" target="_blank"><span><cite>Oracle Database SQL语言参考，</cite></span></a>以了解有关<code class="codeph">CREATE</code>或<code class="codeph">ALTER MATERIALIZED VIEW</code>语句的更多信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="本章介绍如何在IM列存储中启用和禁用填充对象，包括设置压缩和优先级选项。">为内存中的填充启用对象</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>