<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can diagnose and correct problems with an XStream Out configuration."></meta>
      <meta name="description" content="You can diagnose and correct problems with an XStream Out configuration."></meta>
      <title>排除XStream Out故障</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XStream Guide "></meta>
      <meta property="og:description" content="You can diagnose and correct problems with an XStream Out configuration."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XStream Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96280-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="monitoring-xstream-out.html" title="Previous" type="text/html"></link>
      <link rel="next" href="xstream-in.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide"></meta>
    <meta name="dcterms.isVersionOf" content="XSTRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-xstream-out.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="xstream-in.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="xstream-out.html" property="item" typeof="WebPage"><span property="name">XStream Out</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">排除XStream Out故障</li>
            </ol>
            <a id="GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1" name="GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1"></a><a id="XSTRM1641"></a>
            
            <h2 id="XSTRM-GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1" class="sect2"><span class="enumeration_chapter">7</span>排除XStream Out故障</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以使用XStream Out配置诊断和更正问题。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-638514F3-FF2B-487D-AF78-F83ADCD03A2C">使用XStream Out诊断问题</a><br>您可以使用几种不同的技术来诊断XStream Out的问题。
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-7D01008F-B652-483D-B30D-44825CBE868F">XStream Out的问题和解决方案</a><br>您可以使用XStream Out实现常见问题的解决方案。
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-BCE5DDD7-44FB-4EBE-B855-8850ADE9CAEB">如何获得XStream Out的更多帮助</a><br>Oracle Support可以为XStream Out提供更多帮助。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1__GUID-3ADD9B3E-44AD-4152-A4FA-B08B028E2360">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-B59B1F79-91F6-4495-B946-5DCEB317E0D6" title="熟悉与XStream Out相关的概念。">XStream Out Concepts</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="introduction-to-xstream.html#GUID-21FC23DF-2881-4CFD-AF74-9A1173D768FF" title="有几种常见的XStream用例。">XStream用例</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="configuring-xstream-out.html#GUID-1338E648-E214-4666-98A1-8B8D0085EB23" title="您可以配置XStream Out使用的Oracle数据库组件。">配置XStream Out</a> ”</span></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="xstream-out.html#GUID-40B2996E-433C-4240-8022-8505273F99EF" title="您可以配置和管理XStream Out环境。">XStream Out</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM72610"></a><div class="props_rev_3"><a id="GUID-638514F3-FF2B-487D-AF78-F83ADCD03A2C" name="GUID-638514F3-FF2B-487D-AF78-F83ADCD03A2C"></a><h3 id="XSTRM-GUID-638514F3-FF2B-487D-AF78-F83ADCD03A2C" class="sect3"><span class="enumeration_section">7.1</span>诊断XStream Out的问题</h3>
               <p>您可以使用几种不同的技术来诊断XStream Out的问题。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-F6B50FEB-2E08-4494-8676-D271EF0350B3">查看警报</a><br><span class="bold">警报</span>是关于潜在问题的警告或已经超过临界阈值的指示。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106">检查跟踪文件和警报日志是否存在问题</a><br>有关每个捕获进程和出站服务器的消息都记录在运行该进程的数据库的跟踪文件中。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1" title="您可以使用XStream Out配置诊断和更正问题。">XStream Out故障排除</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72856"></a><div class="props_rev_3"><a id="GUID-F6B50FEB-2E08-4494-8676-D271EF0350B3" name="GUID-F6B50FEB-2E08-4494-8676-D271EF0350B3"></a><h4 id="XSTRM-GUID-F6B50FEB-2E08-4494-8676-D271EF0350B3" class="sect4"><span class="enumeration_section">7.1.1</span>查看警报</h4>
                  <div>
                     <p><span class="bold">警报</span>是关于潜在问题的警告或已经超过临界阈值的指示。
                     </p>
                     <div class="section">
                        <p>有两种类型的警报：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">无状态：</span>指示不一定与系统状态相关的单个事件的警报。例如，指示捕获因特定错误而中止的警报是无状态警报。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">有状态：</span>与特定系统状态关联的警报。有状态警报通常基于数值，阈值定义在警告和关键级别。例如，当前Streams池内存使用百分比的警报，警告级别为85％，临界级别为95％，是一个状态警报。
                              </p>
                           </li>
                        </ul>
                        <p>Oracle数据库在以下条件下生成无状态警报：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>捕获过程中止。</p>
                           </li>
                           <li>
                              <p>出站服务器中止。</p>
                           </li>
                        </ul>
                        <p>当Streams池内存使用量超过<code class="codeph">STREAMS_POOL_USED_PCT</code>度量指定的百分比时，Oracle数据库会生成有状态XStream警报。您可以使用<code class="codeph">DBMS_SERVER_ALERT</code>包中的<code class="codeph">SET_THRESHOLD</code>过程来管理此度量标准。
                        </p>
                        <p>您可以在Oracle Enterprise Manager Cloud Control中查看警报，也可以查询以下数据字典视图：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBA_OUTSTANDING_ALERTS</code>视图记录当前的有状态警报。<code class="codeph">DBA_ALERT_HISTORY</code>视图记录已清除的无状态警报和状态警报。例如，如果Streams池中的内存使用量超过指定的阈值，则会在<code class="codeph">DBA_OUTSTANDING_ALERTS</code>视图中记录有状态警报。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_ALERT_HISTORY</code>数据字典视图显示已从<code class="codeph">DBA_OUTSTANDING_ALERTS</code>视图中清除的警报。例如，如果流池中的内存使用率低于指定的阈值，则清除<code class="codeph">DBA_OUTSTANDING_ALERTS</code>视图中记录的警报并将其移至<code class="codeph">DBA_ALERT_HISTORY</code>视图。
                              </p>
                           </li>
                        </ul>
                        <p>例如，要列出当前有状态警报，请在<code class="codeph">DBA_OUTSTANDING_ALERTS</code>视图上运行以下查询：</p><pre class="oac_no_warn" dir="ltr">栏目原因标题'提醒原因'格式A35栏目建议_行动标题'建议回应'格式A35选择原因，建议从DBA_OUTSTANDING_ALERTS获取，其中MODULE_ID类似'％XSTREAM％';</pre><p>要列出无状态警报并清除XStream状态警报，请在<code class="codeph">DBA_ALERT_HISTORY</code>视图上运行以下查询：</p><pre class="oac_no_warn" dir="ltr">列原因标题'提醒原因'格式A35列建议_ACTION HEADING'建议响应'格式A35选择原因，SUGGESTED_ACTION来自DBA_ALERT_HISTORY，其中MODULE_ID类似'％XSTREAM％';</pre><p>当问题原因消失或数据库管理员确认时，大多数警报会自动清除。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F6B50FEB-2E08-4494-8676-D271EF0350B3__GUID-CCB6E845-63BB-4245-850C-C50099D2D73D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../admin/monitoring-the-database.html#ADMIN005" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，提供有关警报的信息以及有关订阅<code class="codeph">ALERT_QUE</code>队列以在生成新警报时接收通知的信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">DBMS_SERVER_ALERT</code>包的更多信息，请<code class="codeph">DBMS_SERVER_ALERT</code> <a href="../arpls/DBMS_SERVER_ALERT.html#ARPLS016" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="configuring-xstream-out.html#GUID-41E37368-E434-4AD7-A5E8-4786E41C8C94" title="Streams池是系统全局区域（SGA）中的一部分内存，Oracle Replication和XStream组件都使用它。">配置Streams池</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../tdppt/monitoring-performance-alerts.html#TDPPT048" target="_blank"><span><cite>Oracle Database 2 Day +性能调整指南</cite></span></a> ，了解有关使用Oracle Enterprise Manager Cloud Control清除和清除警报的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-638514F3-FF2B-487D-AF78-F83ADCD03A2C" title="您可以使用几种不同的技术来诊断XStream Out的问题。">使用XStream Out诊断问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72857"></a><div class="props_rev_3"><a id="GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106" name="GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106"></a><h4 id="XSTRM-GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106" class="sect4"><span class="enumeration_section">7.1.2</span>检查跟踪文件和警报日志是否存在问题</h4>
                  <div>
                     <p>有关每个捕获进程和出站服务器的消息都记录在运行该进程的数据库的跟踪文件中。</p>
                     <p>本地捕获进程在源数据库上运行，下游捕获进程在下游数据库上运行。这些跟踪文件消息可以帮助您识别和解决XStream Out配置中的问题。</p>
                     <p>后台进程的所有跟踪文件都将写入自动诊断信息库。跟踪文件的名称是特定于操作系统的，但每个文件通常都包含写入文件的进程的名称。</p>
                     <p>例如，在某些操作系统上，进程的跟踪文件名是<span class="italic"><code class="codeph">sid_xxxx_iiiii</code></span> <code class="codeph">.trc</code> ，其中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><code class="codeph">sid</code></span>是数据库的系统标识符</p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">xxxx</code></span>是进程的名称</p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">iiiii</code></span>是操作系统进程号</p>
                        </li>
                     </ul>
                     <p>此外，您可以将捕获进程和出站服务器的<code class="codeph">write_alert_log</code>参数设置为<code class="codeph">y</code> 。当此参数设置为<code class="codeph">y</code> （默认设置）时，数据库的警报日志包含有关捕获进程或出站服务器停止的原因的消息。
                     </p>
                     <p>您可以通过设置控制在跟踪文件中的信息<code class="codeph">trace_level</code>捕获过程或出站服务器使用应用参数<code class="codeph">SET_PARAMETER</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-0EA16DF9-4354-4501-B9E5-23683733FDF2">捕获进程跟踪文件</a><br>捕获过程是名为<code class="codeph">CP</code> <span class="italic"><code class="codeph">nn</code></span>的Oracle后台进程，其中<span class="italic"><code class="codeph">nn</code></span>可以包含字母和数字。
                        </li>
                        <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-D695AC64-6A0F-45A5-8B00-B626DE44D601">Logminer跟踪文件</a><br>Logminer跟踪文件有助于理解XStream Out的问题。
                        </li>
                        <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-23E487D1-D176-4885-B8F1-D3B085F60F3C">出站服务器跟踪文件</a><br>出站服务器是名为<code class="codeph">AP</code> <span class="italic"><code class="codeph">nn</code></span>的Oracle后台进程，其中<span class="italic"><code class="codeph">nn</code></span>可以包含字母和数字。
                        </li>
                        <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-78743ED9-A127-4670-AB88-B3570D5A4D2A">客户端应用跟踪文件</a><br>客户端应用程序跟踪文件可以帮助隔离XStream Out的问题。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106__GUID-04F91DFB-F894-4B3C-91BA-DE0DE3A0E2BD">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关跟踪文件和警报日志的详细信息，请参见<a href="../admin/diagnosing-and-resolving-problems.html#ADMIN11007" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，以及有关其名称和位置的详细信息</p>
                           </li>
                           <li>
                              <p>有关设置<a href="../arpls/DBMS_CAPTURE_ADM.html#ARPLS306" target="_blank"><code class="codeph">trace_level</code>捕获过程参数</a>和<a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314" target="_blank"><code class="codeph">trace_level</code>应用参数的</a>详细信息，请参阅<a href="../arpls/index.html" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关跟踪文件的名称和位置的详细信息，请参见特定于操作系统的Oracle文档</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-638514F3-FF2B-487D-AF78-F83ADCD03A2C" title="您可以使用几种不同的技术来诊断XStream Out的问题。">使用XStream Out诊断问题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72858"></a><div class="props_rev_3"><a id="GUID-0EA16DF9-4354-4501-B9E5-23683733FDF2" name="GUID-0EA16DF9-4354-4501-B9E5-23683733FDF2"></a><h5 id="XSTRM-GUID-0EA16DF9-4354-4501-B9E5-23683733FDF2" class="sect5"><span class="enumeration_section">7.1.2.1</span>捕获进程跟踪文件</h5>
                     <div>
                        <p>捕获过程是名为<code class="codeph">CP</code> <span class="italic"><code class="codeph">nn</code></span>的Oracle后台进程，其中<span class="italic"><code class="codeph">nn</code></span>可以包含字母和数字。
                        </p>
                        <p>例如，在某些操作系统上，如果运行捕获进程的数据库的系统标识符为<code class="codeph">hqdb</code>且捕获进程号为<code class="codeph">01</code> ，则捕获进程的跟踪文件以<code class="codeph">hqdb_CP01</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0EA16DF9-4354-4501-B9E5-23683733FDF2__GUID-FC70A314-5E97-46A3-924D-38B8F0F71E75">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-60927BCC-BAD0-46BC-BA71-717277D5D29D" title="示例查询说明了如何显示有关每个捕获过程的更改捕获信息。">显示关于每个捕获过程的更改捕获信息</a> ”，</span>用于显示捕获过程的捕获进程号的查询</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106" title="有关每个捕获进程和出站服务器的消息都记录在运行该进程的数据库的跟踪文件中。">检查跟踪文件和警报日志以查找问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72949"></a><div class="props_rev_3"><a id="GUID-D695AC64-6A0F-45A5-8B00-B626DE44D601" name="GUID-D695AC64-6A0F-45A5-8B00-B626DE44D601"></a><h5 id="XSTRM-GUID-D695AC64-6A0F-45A5-8B00-B626DE44D601" class="sect5"><span class="enumeration_section">7.1.2.2</span> Logminer跟踪文件</h5>
                     <div>
                        <p>Logminer跟踪文件有助于理解XStream Out的问题。</p>
                        <p>当并行捕获过程参数设置为大于0的值时，将创建logminer跟踪文件。至少有3个logminer跟踪文件生成并写入自动诊断信息库。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106" title="有关每个捕获进程和出站服务器的消息都记录在运行该进程的数据库的跟踪文件中。">检查跟踪文件和警报日志以查找问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72859"></a><div class="props_rev_3"><a id="GUID-23E487D1-D176-4885-B8F1-D3B085F60F3C" name="GUID-23E487D1-D176-4885-B8F1-D3B085F60F3C"></a><h5 id="XSTRM-GUID-23E487D1-D176-4885-B8F1-D3B085F60F3C" class="sect5"><span class="enumeration_section">7.1.2.3</span>出站服务器跟踪文件</h5>
                     <div>
                        <p>出站服务器是名为<code class="codeph">AP</code> <span class="italic"><code class="codeph">nn</code></span>的Oracle后台进程，其中<span class="italic"><code class="codeph">nn</code></span>可以包含字母和数字。
                        </p>
                        <p>例如，在某些操作系统上，如果运行出站服务器的数据库的系统标识符为<code class="codeph">hqdb</code>且出站服务器编号为<code class="codeph">01</code> ，则出站服务器的跟踪文件以<code class="codeph">hqdb_ap01_xxxx.trc</code>启动。
                        </p>
                        <p>出站服务器也使用其他进程。有关出站服务器的信息可能会记录在跟踪文件中，以用于这些进程中的一个或多个。阅读器服务器和应用服务器的进程名称为<code class="codeph">AS</code> <span class="italic"><code class="codeph">nn</code></span> ，其中<span class="italic"><code class="codeph">nn</code></span>可以包含字母和数字。因此，在某些操作系统上，如果运行出站服务器的数据库的系统标识符为<code class="codeph">hqdb</code>且进程号为<code class="codeph">01</code> ，则包含有关出站服务器使用的进程的信息的跟踪文件以<code class="codeph">hqdb_AS01</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-23E487D1-D176-4885-B8F1-D3B085F60F3C__GUID-863B7897-C2C8-40FE-AE23-C28A2D93CDF3">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-AAD5D552-A91B-4842-AA3A-95FD9356D2D9" title="示例说明了监视有关XStream Out组件的会话信息。">监控有关XStream Out组件的会话信息</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106" title="有关每个捕获进程和出站服务器的消息都记录在运行该进程的数据库的跟踪文件中。">检查跟踪文件和警报日志以查找问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72950"></a><div class="props_rev_3"><a id="GUID-78743ED9-A127-4670-AB88-B3570D5A4D2A" name="GUID-78743ED9-A127-4670-AB88-B3570D5A4D2A"></a><h5 id="XSTRM-GUID-78743ED9-A127-4670-AB88-B3570D5A4D2A" class="sect5"><span class="enumeration_section">7.1.2.4</span>客户端应用程序跟踪文件</h5>
                     <div>
                        <p>客户端应用程序跟踪文件可以帮助隔离XStream Out的问题。</p>
                        <p>在对错误进行故障排除，将问题隔离到关键组件或识别潜在的性能问题时，最好检查XStream环境中所有关键源的跟踪文件。要检查的一个关键源是客户端应用程序跟踪文件。客户端跟踪文件位于以下目录中： <code class="codeph">$ORACLE_HOME/diag/clients/</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-C6B58766-8DCF-4ACD-9B2C-3E8A8C6F4106" title="有关每个捕获进程和出站服务器的消息都记录在运行该进程的数据库的跟踪文件中。">检查跟踪文件和警报日志以查找问题</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="XSTRM72611"></a><div class="props_rev_3"><a id="GUID-7D01008F-B652-483D-B30D-44825CBE868F" name="GUID-7D01008F-B652-483D-B30D-44825CBE868F"></a><h3 id="XSTRM-GUID-7D01008F-B652-483D-B30D-44825CBE868F" class="sect3"><span class="enumeration_section">7.2</span> XStream Out的问题和解决方案</h3>
               <div>
                  <p>您可以使用XStream Out实现常见问题的解决方案。</p>
                  <p>通常，您可以像对Oracle Apply进程进行故障排除一样对XStream出站服务器进行故障排除。此外，XStream Out环境包括捕获进程和队列，还可能包括其他组件，例如传播，规则和基于规则的转换。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921">OCI客户端应用程序无法附加到出站服务器</a><br>XStream客户端应用程序无法使用Oracle调用接口（OCI） <code class="codeph">OCIXStreamOutAttach()</code>函数连接到出站服务器。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-CD511489-D916-4153-8F04-9946798F22F4">更改无法在XStream Out中访问客户端应用程序</a><br>在XStream Out配置中，应捕获并流式传输到XStream客户端应用程序的数据库更改未到达客户端应用程序。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-8A83ECFA-00A1-4B0C-9BC7-AD1E06C3D282">捕获进程缺少必需的重做日志文件</a><br>捕获进程启动或停止并重新启动时，可能需要扫描在包含与所需检查点SCN对应的SCN的日志文件之前生成的重做日志文件，并且这些文件可能已被删除。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012">从出站服务器流式传输的LCR缺少额外属性</a><br>从出站服务器流式传输的LCR预计会包含额外的属性，但这些属性不包含在LCR中。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-xstream-out.html#GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5">XStream Out客户端应用程序没有响应</a><br>XStream Out配置中的XStream客户端应用程序没有响应。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1" title="您可以使用XStream Out配置诊断和更正问题。">XStream Out故障排除</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72612"></a><a id="XSTRM72613"></a><a id="XSTRM72614"></a><a id="XSTRM72615"></a><a id="XSTRM1643"></a><div class="props_rev_3"><a id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921" name="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921"></a><h4 id="XSTRM-GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921" class="sect4"><span class="enumeration_section">7.2.1</span> OCI客户端应用程序无法连接到出站服务器</h4>
                  <div>
                     <p>XStream客户端应用程序无法使用Oracle调用接口（OCI） <code class="codeph">OCIXStreamOutAttach()</code>函数连接到出站服务器。
                     </p>
                     <div class="section">
                        <p>以下部分描述了可能的问题及其解决方案。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-D717438B-47B4-442F-AAC2-1DF5126EBC1C">问题1：客户端应用程序未连接为Connect用户</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>客户端应用程序未作为出站服务器的连接用户连接到出站服务器的数据库。客户端应用程序以不同的用户身份连接到数据库。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-EECA60E7-AA1B-464C-A8F2-61A00C5EC0EE">要显示有关connect用户可访问的XStream Out服务器的信息，请执行以下操作：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到出站服务器数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询以确定连接用户：</p><pre class="oac_no_warn" dir="ltr">SELECT SERVER_NAME，CONNECT_USER，CAPTURE_NAME，SOURCE_DATABASE，CAPTURE_USER，QUEUE_OWNER来自ALL_XSTREAM_OUTBOUND;</pre><p>此查询显示可以连接到出站服务器并处理出站LCR的用户（ <code class="codeph">connect_user</code> ）的名称。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-795A5638-5325-4327-8DEA-A5C733DF5170">解决方案1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-1B8334D8-8EAC-4A72-A66E-EF1F5C588D09">纠正问题1：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在连接到出站服务器之前，修改客户端应用程序以作为连接用户连接到数据库。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-E9A1CB26-A3FD-43F8-BB81-E2A1B88EAB2E">问题2：客户端应用程序未通过服务句柄</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>客户端应用程序未将服务句柄传递给出站服务器。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-F884C8CB-C51F-49EA-87D0-C852E5CD788B">解决方案2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-B717A07D-B656-4C22-A821-29F550A910CA">纠正问题2：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>修改客户端应用程序，使其使用<code class="codeph">OCISvcCtx</code>而不是<code class="codeph">OCIServer</code>传递服务句柄。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5D4E37D6-025F-4C2C-85B7-931FB7F0A921__GUID-EE647C1A-19A6-48BA-BEF9-807C9113A468">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-42DE906D-2E9E-4CD5-960A-02741B73D564" title="了解与客户端应用程序和XStream组件相关的安全性，以及捕获用户和连接用户所需的权限。">XStream Out and Security</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../lnoci/oci-XStream-functions.html#LNOCI72963" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-7D01008F-B652-483D-B30D-44825CBE868F" title="您可以使用XStream Out实现常见问题的解决方案。">XStream Out的问题和解决方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72616"></a><a id="XSTRM72617"></a><a id="XSTRM72618"></a><a id="XSTRM72619"></a><a id="XSTRM72620"></a><a id="XSTRM72621"></a><a id="XSTRM1644"></a><div class="props_rev_3"><a id="GUID-CD511489-D916-4153-8F04-9946798F22F4" name="GUID-CD511489-D916-4153-8F04-9946798F22F4"></a><h4 id="XSTRM-GUID-CD511489-D916-4153-8F04-9946798F22F4" class="sect4"><span class="enumeration_section">7.2.2</span>更改无法在XStream Out中访问客户端应用程序</h4>
                  <div>
                     <p>在XStream Out配置中，应捕获并流式传输到XStream客户端应用程序的数据库更改未到达客户端应用程序。</p>
                     <div class="section">
                        <p>以下部分描述了可能的问题及其解决方案。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-BD0188CC-C9DF-4011-A7C2-64D168A520DB">问题1：捕获过程落后了</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>捕获过程落后了。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-274B79FE-CB60-4B6F-A83C-88582F3B7065">确定捕获过程是否落后：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到出站服务器数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME标题'捕获|名称'格式A15列状态标题'状态'格式A15列CREATE_MESSAGE标题'上次LCR |创建时间'列ENQUEUE_MESSAGE标题'最后|入队时间'SELECT CAPTURE_NAME，STATE，TO_CHAR（CAPTURE_MESSAGE_CREATE_TIME，'HH24：MI ：SS MM / DD / YY'）CREATE_MESSAGE，TO_CHAR（ENQUEUE_MESSAGE_CREATE_TIME，'HH24：MI：SS MM / DD / YY'）来自V $ XSTREAM_CAPTURE的ENQUEUE_MESSAGE;</pre><p>此查询显示捕获过程的当前状态。此查询还显示捕获过程上次创建逻辑更改记录（LCR）的时间以及捕获过程最后排入LCR的时间。如果返回的时间早于数据库更改的时间，则捕获过程必须赶上并捕获更改。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-9BE7DB42-F42F-4683-9DA0-C3324D1336B0">解决方案1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>无需任何操作。通常情况下，捕获过程将自行赶上而无需干预。</p>
                        <div class="infoboxnotealso" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-CB08F898-47AB-4F60-805E-1EFDFD999A58">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../refrn/V-XSTREAM_CAPTURE.html#REFRN30639" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-92FB0CC5-C113-424B-99D0-6191A9726B64">问题2：排除变更的规则或基于规则的转换</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>规则或基于规则的转换排除了应捕获的更改。</p>
                        <p>规则确定捕获进程捕获哪些LCR，通过传播从源队列发送到目标队列，以及由出站服务器发送到XStream客户端应用程序。如果规则配置不正确，则客户端应用程序可能无法接收应收到的LCR。客户端应用程序也可能会收到它不应接收的LCR。</p>
                        <p>基于规则的转换会修改LCR的内容。因此，如果预期的更改数据未到达客户端应用程序，则可能是因为基于规则的转换修改了数据或删除了数据。例如， <code class="codeph">DELETE_COLUMN</code>基于声明规则的转换从LCR中删除列。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-7DF46F3D-28F4-4765-AC74-1DAB7ECE940F">解决方案2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-0CAAB2F3-05FE-4071-BB78-4195018C8B10">纠正问题2：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>检查为从捕获过程到客户端应用程序的流中的每个组件配置的规则和基于规则的转换，并更正所有问题。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-47E58917-59DD-46DC-8530-7F13B15B891D">问题3：LCR在流中被阻止</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果捕获过程没有落后，并且规则或基于规则的转换没有问题，那么由于某些其他原因，可能会在流中阻止LCR。例如，可能会禁用传播或出站服务器，可能会破坏数据库链接，或者可能存在其他问题。</p>
                        <p>您可以使用以下方法之一通过流跟踪LCR：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将<code class="codeph">message_tracking_frequency</code>捕获进程参数设置为<code class="codeph">1</code>或另一个相对较低的值</p>
                              <p>要在使用此方法时禁用LCR跟踪，请将<code class="codeph">message_tracking_frequency</code>捕获进程参数设置为<code class="codeph">NULL</code>或退出会话。
                              </p>
                           </li>
                           <li>
                              <p>在<code class="codeph">DBMS_XSTREAM_ADM</code>包中运行<code class="codeph">SET_MESSAGE_TRACKING</code>过程</p>
                              <p>要在使用此方法时禁用LCR跟踪，请在<code class="codeph">SET_MESSAGE_TRACKING</code>过程中将<code class="codeph">tracking_label</code>参数设置为<code class="codeph">NULL</code>或退出会话。
                              </p>
                           </li>
                        </ul>
                        <p>使用其中一种方法后，使用<code class="codeph">V$XSTREAM_MESSAGE_TRACKING</code>视图通过流监视LCR的进度。通过流跟踪LCR，您可以确定LCR被阻止的位置。
                        </p>
                        <p>此外，如果使用传播在配置中发送LCR，则可以通过运行以下查询来检查传播发送方的当前状态：</p><pre class="oac_no_warn" dir="ltr">从V $ PROPAGATION_SENDER中选择状态;</pre><p>您可以通过运行以下查询来检查出站服务器的当前状态：</p><pre class="oac_no_warn" dir="ltr">SELECT SERVER_NAME，STATE FROM V $ XSTREAM_OUTBOUND_SERVER;</pre><p>您可以通过运行以下查询来验证客户端应用程序是否已附加到出站服务器：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME标题'捕获|名称'格式A30列状态标题标题'状态'格式A8 SELECT SERVER_NAME，状态来自ALL_XSTREAM_OUTBOUND;</pre><p>当客户端应用程序连接到出站服务器时， <code class="codeph">STATUS</code>列显示<code class="codeph">ATTACHED</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-CBF1DAD7-BBB1-4F32-990C-D81248F2FC42">解决方案3</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-54202A39-FAFD-4DA9-BFE9-AF782282454B">纠正问题3：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>根据LCR被阻止的原因采取适当的措施。例如，如果禁用传播，则启用它。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CD511489-D916-4153-8F04-9946798F22F4__GUID-BFC7B999-F8A1-45F8-8984-F84E90171290">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">message_tracking_frequency</code>捕获过程参数的信息，请参阅<a href="../arpls/DBMS_CAPTURE_ADM.html#ARPLS306" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-7D01008F-B652-483D-B30D-44825CBE868F" title="您可以使用XStream Out实现常见问题的解决方案。">XStream Out的问题和解决方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72861"></a><a id="XSTRM72862"></a><a id="XSTRM72860"></a><div class="props_rev_3"><a id="GUID-8A83ECFA-00A1-4B0C-9BC7-AD1E06C3D282" name="GUID-8A83ECFA-00A1-4B0C-9BC7-AD1E06C3D282"></a><h4 id="XSTRM-GUID-8A83ECFA-00A1-4B0C-9BC7-AD1E06C3D282" class="sect4"><span class="enumeration_section">7.2.3</span>捕获进程缺少必需的重做日志文件</h4>
                  <div>
                     <p>捕获进程启动或停止并重新启动时，可能需要扫描在包含与所需检查点SCN对应的SCN的日志文件之前生成的重做日志文件，并且这些文件可能已被删除。</p>
                     <div class="section">
                        <p>您可以查询<code class="codeph">ALL_CAPTURE</code>数据字典视图以确定捕获过程所需的检查点SCN。查询<code class="codeph">V$XSTREAM_CAPTURE</code>并检查<code class="codeph">STATE</code>列也很有帮助。捕获过程的状态描述了捕获过程当前正在执行的操作。在这种情况下，您可以获得有关捕获进程丢失原因或等待重做日志文件的其他信息。
                        </p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME标题'捕获名称'格式A30列状态标题'状态'格式A30 SELECT CAPTURE_NAME，状态来自V $ XSTREAM_CAPTURE; CAPTURE_NAME状态------------------ ----------------- XOUT_SRC_CAPTURE等待重做</pre><p>查询<code class="codeph">V$XSTREAM_CAPTURE</code>视图时，可能会显示附加信息以及状态信息。附加信息可以帮助您确定捕获过程等待重做的原因。例如，查询视图时， <code class="codeph">STATE</code>列可能会显示类似于以下内容的语句：</p><pre class="oac_no_warn" dir="ltr">等待重做：最后一次扫描6700345</pre><p>在这种情况下，输出显示捕获过程扫描的最后一个系统更改编号（SCN）。在其他情况下，输出可能会显式显示重做日志文件名。无论哪种方式，附加信息都可以帮助您识别捕获进程正在等待的重做日志文件。要更正此问题，请使捕获进程可以使用任何缺少的重做日志文件。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A83ECFA-00A1-4B0C-9BC7-AD1E06C3D282__GUID-ED91D0BD-9572-4175-BB55-C0E0AE5C45A5">问题：已删除所需的重做日志文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在捕获进程扫描之前删除所需的重做日志文件会导致捕获进程中止，并在捕获进程跟踪文件中导致以下错误：</p><pre class="oac_no_warn" dir="ltr">ORA-01291：缺少日志文件</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A83ECFA-00A1-4B0C-9BC7-AD1E06C3D282__GUID-BF964516-ADD9-410A-AAFB-808DAB3FFB21">解决方案：还原丢失的重做日志文件并防止将来出现问题</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果看到此错误，请尝试恢复任何缺少的重做日志文件并重新启动捕获过程。您可以检查<code class="codeph">V$LOGMNR_LOGS</code>动态性能视图以确定缺少的SCN范围，并添加相关的重做日志文件。捕获过程需要重做日志文件，其中包含所需的检查点SCN和所有后续重做日志文件。您可以在<code class="codeph">ALL_CAPTURE</code>数据字典视图中查询<code class="codeph">REQUIRED_CHECKPOINT_SCN</code>列，以确定捕获过程所需的检查点SCN。
                        </p>
                        <p>如果禁用捕获进程的时间超过<code class="codeph">CONTROL_FILE_RECORD_KEEP_TIME</code>初始化参数中指定的时间，则可能已在控制文件中替换有关缺少的重做日志文件的信息。您可以查询<code class="codeph">V$ARCHIVE_LOG</code>视图以查看是否列出了日志文件名。如果未列出，则可以使用<code class="codeph">ALTER DATABASE REGISTER OR REPLACE LOGFILE</code> SQL语句注册它们。
                        </p>
                        <p>如果在XStream环境中的源数据库上使用Recovery Manager（RMAN）的快速恢复区功能，则RMAN可能会删除捕获进程所需的归档重做日志文件。当恢复相关文件使用的磁盘空间接近快速恢复区域的指定磁盘配额时，RMAN可能会删除这些文件。要防止将来出现此问题，请完成以下一个或多个操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>增加快速恢复区域的磁盘配额。增加磁盘配额使RMAN删除所需的归档重做日志文件的可能性降低，但并不总是能够防止出现问题。</p>
                           </li>
                           <li>
                              <p>配置源数据库以将归档重做日志文件存储在快速恢复区域以外的位置。如果快速恢复区域中缺少必需的日志文件，则本地捕获进程将能够使用其他位置的日志文件。在这种情况下，数据库管理员必须在其他位置手动管理日志文件。</p>
                           </li>
                        </ul>
                        <p>RMAN始终确保在删除归档重做日志文件之前对其进行备份。如果RMAN删除捕获进程所需的归档重做日志文件，则RMAN会在警报日志中记录此操作。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8A83ECFA-00A1-4B0C-9BC7-AD1E06C3D282__GUID-6371C771-E904-4D0E-9F32-BAD8D2344207">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-EDE9234C-ED4B-48A8-94FA-D07055F2FC20" title="熟悉与捕获过程相关的概念。">捕获过程</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-00269B9D-DBB8-4EC5-ADAB-87FFCC462372" title="RMAN删除策略可能会影响捕获过程。">XStream Out和Recovery Manager</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-68AF1BB9-C49E-4CCB-AB2B-346E57B4CFF5" title="示例查询说明了如何显示每个捕获过程所需的重做日志文件。">显示每个捕获过程所需的重做日志文件</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-7D01008F-B652-483D-B30D-44825CBE868F" title="您可以使用XStream Out实现常见问题的解决方案。">XStream Out的问题和解决方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72622"></a><a id="XSTRM72623"></a><a id="XSTRM72624"></a><a id="XSTRM1647"></a><div class="props_rev_3"><a id="GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012" name="GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012"></a><h4 id="XSTRM-GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012" class="sect4"><span class="enumeration_section">7.2.4</span>从出站服务器流式传输的LCR缺少额外属性</h4>
                  <div>
                     <p>从出站服务器流式传输的LCR预计会包含额外的属性，但这些属性不包含在LCR中。</p>
                     <div class="section">
                        <p>LCR可以包含以下与数据库更改相关的额外属性：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ROW_ID</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">串行＃</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">会议＃</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">线＃</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">tx_name</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">用户名</code></p>
                           </li>
                        </ul>
                        <p>默认情况下，捕获过程不捕获这些额外属性。如果要将额外属性包含在从出站服务器流式传输到XStream客户端应用程序的LCR中，但LCR不包含额外属性的值，请确保捕获出站服务器更改的捕获进程配置为捕获值为了额外的属性。</p>
                        <p>以下部分描述了可能的问题及其解决方案。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012__GUID-8CEE2CD7-1647-4997-BFD5-693BB9676C4D">问题：捕获过程未配置为捕获额外属性</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>捕获过程未配置为捕获所需的额外属性。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012__GUID-C6FA0CC5-36EF-4D0E-B4AF-D55AC8991FDC">要显示数据库中捕获进程当前捕获的额外属性：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到运行捕获过程的数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME标题'捕获流程'格式A30列ATTRIBUTE_NAME标题'属性名称'格式A30选择CAPTURE_NAME，ATTRIBUTE_NAME来自ALL_CAPTURE_EXTRA_ATTRIBUTES，其中包括CAPTURE_NAME的'YES'订单;</pre><p>如果此查询未显示额外属性，则表示未捕获该属性。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012__GUID-578AD494-5295-40A8-B6AC-3EA052921264">解</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012__GUID-CC182A1A-D868-4BD8-8E17-79B307BEA509">要解决此问题，请配置捕获过程以捕获所需的额外属性：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到出站服务器数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>在<code class="codeph">DBMS_CAPTURE_ADM</code>包中运行<code class="codeph">INCLUDE_EXTRA_ATTRIBUTE</code>过程。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4E6239CC-E633-45B9-8081-A1FEB5A64012__GUID-141A55D1-ABB3-42B1-8417-3095948AF624">
                        <p class="titleinexample">示例7-1包括Capture Process xcapture的tx_name属性</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_CAPTURE_ADM.INCLUDE_EXTRA_ATTRIBUTE（capture_name =&gt;'xcapture'，attribute_name =&gt;'tx_name'，include =&gt; TRUE）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-7D01008F-B652-483D-B30D-44825CBE868F" title="您可以使用XStream Out实现常见问题的解决方案。">XStream Out的问题和解决方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72625"></a><a id="XSTRM72626"></a><a id="XSTRM72980"></a><a id="XSTRM72981"></a><a id="XSTRM72627"></a><a id="XSTRM72628"></a><a id="XSTRM1648"></a><div class="props_rev_3"><a id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5" name="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5"></a><h4 id="XSTRM-GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5" class="sect4"><span class="enumeration_section">7.2.5</span> XStream Out客户端应用程序无响应</h4>
                  <div>
                     <p>XStream Out配置中的XStream客户端应用程序没有响应。</p>
                     <div class="section">
                        <p>以下部分描述了可能的问题及其解决方案。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-5EA54916-5EA4-4E06-82E9-EFD532CDE7C3">问题1：流池大小太小</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Streams池大小可能太小。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-BEB09822-7E4A-41D9-A7D3-8B58A4BEDB0E">要确定Streams池大小是否太小：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到出站服务器数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>在包含出站服务器的数据库上运行以下查询：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>查询<code class="codeph">V$PROPAGATION_RECEIVER</code>视图：</p><pre class="oac_no_warn" dir="ltr">从V $ PROPAGATION_RECEIVER中选择状态;</pre><p>如果状态为<code class="codeph">WAITING</code> <code class="codeph">FOR</code> <code class="codeph">MEMORY</code> ，则考虑增加Streams池大小。
                                    </p>
                                 </li>
                                 <li>
                                    <p>查询<code class="codeph">V$STREAMS_POOL_STATISTICS</code>视图：</p><pre class="oac_no_warn" dir="ltr">从V $ STREAMS_POOL_STATISTICS中选择TOTAL_MEMORY_ALLOCATED / CURRENT_SIZE;</pre><p>如果返回的值是.90或更高，则考虑增加Streams池大小。</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-D95DE022-2B4C-4658-B27A-EC2BEC847398">解决方案1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-72296CED-ABC7-49DF-9521-EB18B2BB59E8">纠正问题1：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>通过修改<code class="codeph">STREAMS_POOL_SIZE</code>初始化参数或修改与内存相关的其他初始化参数来增加Streams池大小。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-562C7F8D-41DB-4CFC-903D-75E55116D0AD">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../refrn/V-XSTREAM_CAPTURE.html#REFRN30639" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关设置初始化参数的信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-390E4689-F82D-4B18-A0E0-9700A92395E6">问题2：捕获过程的最大SGA大小太小</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">max_sga_size</code>捕获进程参数控制专门为捕获进程分配的系统全局区域（SGA）内存量，以兆字节为单位。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-DF3DC8E0-0BAF-4789-83EF-24DC16870163">要确定捕获过程的最大SGA大小是否太小：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到运行XStream组件的数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>在数据库中运行以下查询：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>查询<code class="codeph">V$XSTREAM_CAPTURE</code>视图：</p><pre class="oac_no_warn" dir="ltr">选择CAPTURE_NAME AS CAP，SGA_USED /（1024 * 1024）AS USED，SGA_ALLOCATED /（1024 * 1024）AS ALLOCATED，TOTAL_MESSAGES_CAPTURED as CAPTURED，TOTAL_MESSAGES_ENQUEUED从V $ XSTREAM_CAPTURE中删除;</pre><p>如果<code class="codeph">USED</code>字段等于或几乎等于输出中的<code class="codeph">ALLOCATED</code>字段，则可能需要增加捕获过程的最大SGA大小。
                                    </p>
                                 </li>
                                 <li>
                                    <p>查询<code class="codeph">V$LOGMNR_SESSION</code>视图：</p><pre class="oac_no_warn" dir="ltr">SELECT SESSION_NAME AS CAP，MAX_MEMORY_SIZE /（1024 * 1024）AS LMMAX，USED_MEMORY_SIZE /（1024 * 1024）AS LMUSED，USED_MEMORY_SIZE / MAX_MEMORY_SIZE AS FROM V FROM LOGMNR_SESSION;</pre><p>如果<code class="codeph">PCT</code>字段在输出中等于或几乎等于1，则可能需要增加捕获过程的最大SGA大小。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-2198B727-E12C-4390-B9F1-1AE6A0D0F375">解决方案2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-B261400D-2A29-4A3B-AB61-D53208506EA8">纠正问题2：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>通过修改<code class="codeph">max_sga_size</code>捕获进程参数来<code class="codeph">max_sga_size</code>捕获进程的最大SGA大小。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-667EDEBD-89D6-4C48-A18E-2047AB81FEDF">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="managing-xstream-out.html#GUID-AB998819-B851-478E-8412-3E30EBFC8FD4" title="捕获过程参数控制捕获过程的操作方式。您可以使用DBMS_CAPTURE_ADM包中的SET_PARAMETER过程设置捕获过程参数。">设置捕获过程参数</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-59036168-AE96-4DC3-9E34-4BE6C2B7744B">问题3：编程错误</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果Streams池中有足够的内存且<code class="codeph">MAX_SGA_SIZE</code>捕获进程参数和apply参数设置正确，则检查客户端应用程序是否存在编程错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-7C0E24CD-749D-4BA2-9265-88F1C074A51E">解决方案3</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21256A5A-6017-4FBA-BA96-925A7DD98CA5__GUID-FDBF8914-BF5C-4B13-9CA6-76B5D481C139">纠正问题3：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>纠正编程错误。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-7D01008F-B652-483D-B30D-44825CBE868F" title="您可以使用XStream Out实现常见问题的解决方案。">XStream Out的问题和解决方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="XSTRM72631"></a><div class="props_rev_3"><a id="GUID-BCE5DDD7-44FB-4EBE-B855-8850ADE9CAEB" name="GUID-BCE5DDD7-44FB-4EBE-B855-8850ADE9CAEB"></a><h3 id="XSTRM-GUID-BCE5DDD7-44FB-4EBE-B855-8850ADE9CAEB" class="sect3"><span class="enumeration_section">7.3</span>如何获得XStream Out的更多帮助</h3>
               <div>
                  <p>Oracle Support可以为XStream Out提供更多帮助。</p>
                  <p>您可以访问<a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>查看My Oracle Support以获取更多问题的解决方案。
                  </p>
                  <p>有关Oracle支持的更多信息，请访问<a href="http://www.oracle.com/support/contact.html" target="_blank"><code class="codeph">http://www.oracle.com/support/contact.html</code></a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="troubleshooting-xstream-out.html#GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1" title="您可以使用XStream Out配置诊断和更正问题。">XStream Out故障排除</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>