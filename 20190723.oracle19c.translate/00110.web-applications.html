<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>开发PL / SQL Web应用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Development Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Development Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00"></meta>
      <meta name="dcterms.title" content="Database Development Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96334-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="basic-block-coverage.html" title="Previous" type="text/html"></link>
      <link rel="next" href="cqn.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="basic-block-coverage.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="cqn.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库开发指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-for-application-developers.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员的PL / SQL</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">开发PL / SQL Web应用程序</li>
            </ol>
            <a id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E" name="GUID-B7C7170E-69AC-42D2-9597-451B1053209E"></a><a id="ADFNS1346"></a><a id="ADFNS015"></a>
            
            <h2 id="ADFNS-GUID-B7C7170E-69AC-42D2-9597-451B1053209E" class="sect2"><span class="enumeration_chapter">17</span>开发PL / SQL Web应用程序</h2>
         </header>
         <div class="ind">
            <div>
               <div class="infoboxnote" id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E__GUID-1358FE3F-6A66-4BC5-B213-9911DDA7B5CC">
                  <p class="notep1">注意：</p>
                  <p>使用本章介绍的技术适用于需要严格控制HTTP通信和HTML生成的应用程序。对于其他应用程序，建议您使用Oracle Application Express，它提供了更多功能和方便的图形界面，以简化应用程序开发。</p>
               </div>
               <p>本章介绍如何开发PL / SQL Web应用程序，使您可以在Intranet上使用数据库。</p>
               <div class="section">
                  <p class="subhead1" id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E__GUID-654C0A57-6A81-459E-8A88-EEE0FC4712A6">话题：</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="web-applications.html#GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516">PL / SQL Web应用程序概述</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2">实现PL / SQL Web应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841">使用mod_plsql网关将客户端请求映射到PL / SQL Web应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44">使用嵌入式PL / SQL网关</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491">使用PL / SQL生成HTML输出</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D">将参数传递给PL / SQL Web应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F" title="从Oracle Database 11g第2版（11.2.0.1）开始，PL / SQL网络实用程序包支持IPv6地址。">在PL / SQL子程序中执行网络操作</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E__NOTE-125-CAC75B13">
                  <p class="notep1">也可以看看：</p>
                  <p>有关使用Oracle Application Express的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=HTMDB-GUID-3D645140-7A61-4853-B975-218F3B99F687" target="_blank">“Oracle Application Express App Builder用户指南”</a></p>
               </div>
            </div><a id="ADFNS1347"></a><a id="ADFNS1101"></a><div class="props_rev_3"><a id="GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516" name="GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516"></a><h3 id="ADFNS-GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516" class="sect3">PL / SQL Web应用程序概述</h3>
               <div>
                  <p>通常，用PL / SQL编写的Web应用程序是一组存储的子程序，它们通过HTTP与Web浏览器交互。一组相互链接的动态生成的HTML页面构成了Web应用程序的用户界面。</p>
                  <p>PL / SQL Web应用程序的程序流程与CGI PERL脚本中的程序流程类似。开发人员经常使用CGI脚本动态生成网页，但这些脚本通常不是访问数据库的最佳选择。使用PL / SQL存储的子程序传送Web内容可提供数据库处理的强大功能和灵活性。例如，您可以使用数据操作语言（DML）语句，动态SQL语句和游标。您还可以消除分支新CGI进程以处理每个HTTP请求的进程开销。</p>
                  <p><a href="web-applications.html#GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516__BGBHFAHI">图17-1</a>说明了PL / SQL Web应用程序的通用过程。
                  </p>
                  <div class="figure" id="GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516__BGBHFAHI">
                     <p class="titleinfigure">图17-1 PL / SQL Web应用程序</p><img src="img/adfns102.gif" width="377" alt="下面是图17-1的描述" title="下面是图17-1的描述" longdesc="img_text/adfns102.html"><br><a href="img_text/adfns102.html">“图17-1 PL / SQL Web应用程序”的描述</a></div>
                  <!-- class="figure" -->
               </div>
            </div><a id="ADFNS1102"></a><div class="props_rev_3"><a id="GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2" name="GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2"></a><h3 id="ADFNS-GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2" class="sect3">实现PL / SQL Web应用程序</h3>
               <div>
                  <p>您可以使用PL / SQL Gateway或PL / SQL Web Toolkit完全在PL / SQL中实现基于Web浏览器的应用程序。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="web-applications.html#GUID-86F73FF3-70CC-4BB5-AA55-F69720149430">PL / SQL网关</a></p>
                     </li>
                     <li>
                        <p><a href="web-applications.html#GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B">PL / SQL Web工具包</a></p>
                     </li>
                  </ul>
               </div><a id="ADFNS459"></a><div class="props_rev_3"><a id="GUID-86F73FF3-70CC-4BB5-AA55-F69720149430" name="GUID-86F73FF3-70CC-4BB5-AA55-F69720149430"></a><h4 id="ADFNS-GUID-86F73FF3-70CC-4BB5-AA55-F69720149430" class="sect4">PL / SQL网关</h4>
                  <div>
                     <p>PL / SQL网关使Web浏览器能够通过HTTP侦听器调用PL / SQL存储的子程序。网关是PL / SQL用户开发和部署PL / SQL Web应用程序的平台。</p>
                  </div><a id="ADFNS1348"></a><div class="props_rev_3"><a id="GUID-16411D0C-25B5-4707-B0F4-74605DB52B6B" name="GUID-16411D0C-25B5-4707-B0F4-74605DB52B6B"></a><h5 id="ADFNS-GUID-16411D0C-25B5-4707-B0F4-74605DB52B6B" class="sect5">的mod_plsql</h5>
                     <div>
                        <p><code class="codeph">mod_plsql</code>是PL / SQL网关的一个实现。该模块是Oracle HTTP Server的插件，使Web浏览器能够调用PL / SQL存储的子程序。Oracle HTTP Server是Oracle Application Server和数据库的组件。
                        </p>
                        <p><code class="codeph">mod_plsql</code>插件使您可以使用PL / SQL存储的子程序来处理HTTP请求并生成响应。在此上下文中，HTTP请求是包含要传递给存储的子程序的参数值的URL。PL / SQL网关转换URL，使用参数调用存储的子程序，并将输出（通常为HTML）返回给客户端。
                        </p>
                        <p>在嵌入式PL / SQL网关上使用<code class="codeph">mod_plsql</code>一些优点是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以在防火墙环境中运行它，其中Oracle HTTP Server在面向防火墙的主机上运行，而数据库位于防火墙后面。您无法将此配置与嵌入式网关一起使用。</p>
                           </li>
                           <li>
                              <p>嵌入式网关不支持<code class="codeph">mod_plsql</code>功能，例如动态HTML缓存，系统监视和以通用日志格式记录。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADFNS461"></a><div class="props_rev_3"><a id="GUID-72318FF9-814F-4FAF-B2C9-9F8B874ED14A" name="GUID-72318FF9-814F-4FAF-B2C9-9F8B874ED14A"></a><h5 id="ADFNS-GUID-72318FF9-814F-4FAF-B2C9-9F8B874ED14A" class="sect5">嵌入式PL / SQL网关</h5>
                     <div>
                        <p>您可以使用在数据库中的XML DB HTTP侦听器中运行的嵌入式PL / SQL网关版本。它在数据库中提供<code class="codeph">mod_plsql</code>的核心功能，但不需要Oracle HTTP Server。您可以使用PL / SQL Web Toolkit中的<code class="codeph">DBMS_EPG</code>程序包配置嵌入式PL / SQL网关。
                        </p>
                        <p>使用嵌入式网关而不是<code class="codeph">mod_plsql</code>一些优点是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以在不安装Oracle HTTP Server的情况下调用Application Express等PL / SQL Web应用程序，从而简化基于PL / SQL的Web应用程序的安装，配置和管理。</p>
                           </li>
                           <li>
                              <p>您使用相同的配置方法来响应FTP和HTTP请求从Oracle XML DB提供内容。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS463"></a><a id="ADFNS462"></a><div class="props_rev_3"><a id="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B" name="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B"></a><h4 id="ADFNS-GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B" class="sect4">PL / SQL Web工具包</h4>
                  <div>
                     <p>这组PL / SQL包的是一个通用的接口，使您可以使用由调用子程序存储<code class="codeph">mod_plsql</code>在运行时。
                     </p>
                     <p>响应浏览器请求，PL / SQL子程序根据用户输入更新或从Oracle数据库检索数据。然后它生成对浏览器的HTTP响应，通常以文件下载或HTML的形式显示。PL / SQL Web Toolkit API使存储的子程序能够执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>获取有关HTTP请求的信息</p>
                        </li>
                        <li>
                           <p>生成HTTP标头，例如content-type和mime-type</p>
                        </li>
                        <li>
                           <p>设置浏览器cookie</p>
                        </li>
                        <li>
                           <p>生成HTML页面</p>
                        </li>
                     </ul>
                     <p><a href="web-applications.html#GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B__CHEBCGGF" title="此表总结了PL / SQL Web Toolkit中的一些常用包。">表17-1</a>介绍了常用的PL / SQL Web Toolkit包。
                     </p>
                     <div class="tblformal" id="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B__CHEBCGGF">
                        <p class="titleintable">表17-1 PL / SQL Web Toolkit中常用的包</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="PL / SQL Web Toolkit中常用的包" width="100%" border="1" summary="This table summarizes some of the commonly used packages in the PL/SQL Web Toolkit." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d94186e861">包</th>
                                 <th align="left" valign="bottom" width="82%" id="d94186e864">内容说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e869" headers="d94186e861 ">
                                    <p><a href="../arpls/HTF.html#ARPLS390" target="_blank"><code class="codeph">HTF</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e869 d94186e864 ">
                                    <p><code class="codeph">htp</code>包中子程序的功能版本。功能版本不直接在网页中生成输出。相反，它们将输出作为返回值传递给调用它们的语句。必须嵌套函数调用时使用这些函数。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e882" headers="d94186e861 ">
                                    <p><a href="../arpls/HTP.html#ARPLS391" target="_blank"><code class="codeph">HTP</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e882 d94186e864 ">
                                    <p>生成HTML标记的子程序。例如，程序<code class="codeph">htp</code> 。 <code class="codeph">anchor</code>生成HTML锚标记<code class="codeph">&lt;A&gt;</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e901" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_CACHE.html#ARPLS386" target="_blank"><code class="codeph">OWA_CACHE</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e901 d94186e864 ">
                                    <p>启用PL / SQL网关缓存功能的子程序可以提高PL / SQL Web应用程序的性能。</p>
                                    <p>您可以使用此程序包通过PL / SQL网关文件系统启用基于expires和基于验证的缓存。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e913" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_COOKIE.html#ARPLS387" target="_blank"><code class="codeph">OWA_COOKIE</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e913 d94186e864 ">
                                    <p>从客户端Web浏览器发送和检索HTTP cookie的子程序。Cookie是浏览器用于在HTTP调用之间维护状态的字符串。如果包含cookie过期日期，则可以在整个客户端会话期间维护状态或更长时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e923" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_CUSTOM.html#ARPLS388" target="_blank"><code class="codeph">OWA_CUSTOM</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e923 d94186e864 ">
                                    <p>Cookie使用的授权功能。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e933" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_IMAGE.html#ARPLS392" target="_blank"><code class="codeph">OWA_IMAGE</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e933 d94186e864 ">
                                    <p>获取用户单击图像的坐标的子程序。如果您的目标链接调用PL / SQL网关的映像映射，请使用此程序包。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e943" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_OPT_LOCK.html#ARPLS393" target="_blank"><code class="codeph">OWA_OPT_LOCK</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e943 d94186e864 ">
                                    <p>强制执行数据库乐观锁定策略以防止丢失更新的子程序。如果用户选择，然后尝试更新其中值由另一个用户同时更改的行，则可能会发生丢失的更新。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e953" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_PATTERN.html#ARPLS398" target="_blank"><code class="codeph">OWA_PATTERN</code></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e953 d94186e864 ">
                                    <p>使用正则表达式执行字符串匹配和字符串操作的子程序。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e964" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_SEC.html#ARPLS395" target="_blank"><code class="codeph">OWA_SEC</code></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e964 d94186e864 ">
                                    <p>PL / SQL网关用于验证请求的子程序。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e975" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_TEXT.html#ARPLS396" target="_blank"><code class="codeph">OWA_TEXT</code></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e975 d94186e864 ">
                                    <p>包<code class="codeph">OWA_PATTERN</code>用于操作字符串的子程序。您也可以直接使用它们。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e989" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_UTIL.html#ARPLS397" target="_blank"><code class="codeph">OWA_UTIL</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e989 d94186e864 ">
                                    <p>这些类型的实用程序子程序：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>动态SQL实用程序生成具有动态生成的SQL代码的页面。</p>
                                       </li>
                                       <li>
                                          <p>HTML实用程序，用于检索CGI环境变量的值并执行URL重定向。</p>
                                       </li>
                                       <li>
                                          <p>正确日期处理的日期实用程序。日期值是HTML中的简单字符串，但必须正确地视为Oracle数据库数据类型。</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e1010" headers="d94186e861 ">
                                    <p><a href="../arpls/WPG_DOCLOAD.html#ARPLS200" target="_blank"><code class="codeph">WPG_DOCLOAD</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e1010 d94186e864 ">
                                    <p>从使用DAD配置定义的文档存储库下载文档的子程序。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B__GUID-0B923D77-1173-4CD8-AEDD-ADA3D0CC638E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html#ARPLS-GUID-4AA6AA30-CAEE-4DCD-B214-9AD51D0229B4" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>了解PL / SQL Web Toolkit包的语法，描述和示例</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1103"></a><div class="props_rev_3"><a id="GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841" name="GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841"></a><h3 id="ADFNS-GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841" class="sect3">使用mod_plsql网关将客户端请求映射到PL / SQL Web应用程序</h3>
               <div>
                  <div class="section">
                     <p>正如<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南</span></a>中详细解释的那样， <code class="codeph">mod_plsql</code>通过HTTP将Web客户端请求映射到PL / SQL存储的子程序。有关说明，请参阅此文档。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841__GUID-F28DE46D-DF4D-487F-A826-E2DF3DE86C10">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南</span></a> ，了解如何配置和使用<code class="codeph">mod_plsql</code></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">mod_plsql</code>模块的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=HSADM767" target="_blank"><span class="italic">Oracle融合中间件管理员指南（适用于Oracle HTTP Server）</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS1349"></a><a id="ADFNS0151"></a><div class="props_rev_3"><a id="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44" name="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44"></a><h3 id="ADFNS-GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44" class="sect3">使用嵌入式PL / SQL网关</h3>
               <div>
                  <div class="section">
                     <p>嵌入式网关的功能与<code class="codeph">mod_plsql</code>网关非常相似。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44__GUID-75454199-307D-4109-95E5-B4DE3A8289BB">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="web-applications.html#GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F">嵌入式PL / SQL网关如何处理客户端请求</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3">安装嵌入式PL / SQL网关</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4">配置嵌入式PL / SQL网关</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89">通过嵌入式PL / SQL网关调用PL / SQL存储的子程序</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F">使用嵌入式PL / SQL网关保护应用程序访问</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0">嵌入式PL / SQL网关的限制</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468">使用嵌入式PL / SQL网关：场景</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44__NOTE-1332-CAC88E2D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1351"></a><a id="ADFNS1350"></a><div class="props_rev_3"><a id="GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F" name="GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F"></a><h4 id="ADFNS-GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F" class="sect4">嵌入式PL / SQL网关如何处理客户端请求</h4>
                  <div>
                     <p><a href="web-applications.html#GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F__BGBBAEIG">图17-2</a>说明了嵌入式网关处理客户端HTTP请求的过程。
                     </p>
                     <div class="figure" id="GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F__BGBBAEIG">
                        <p class="titleinfigure">图17-2使用嵌入式PL / SQL网关处理客户端请求</p><img width="452" src="img/adfns101.gif" alt="下面是图17-2的描述" title="下面是图17-2的描述" longdesc="img_text/adfns101.html"><br><a href="img_text/adfns101.html">“图17-2使用嵌入式PL / SQL网关处理客户端请求”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="web-applications.html#GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F__BGBBAEIG">图17-2</a>中的步骤说明如下：</p>
                     <ol>
                        <li>
                           <p>Oracle XML DB HTTP侦听器从客户端浏览器接收请求以调用PL / SQL子程序的请求。子程序既可以直接用PL / SQL编写，也可以在将PL / SQL Server页面上传到数据库并进行编译时间接生成。</p>
                        </li>
                        <li>
                           <p>XML DB HTTP Listener将请求路由到其虚拟路径映射配置中指定的嵌入式PL / SQL网关。</p>
                        </li>
                        <li>
                           <p>嵌入式网关使用HTTP请求信息和网关配置来确定要用于身份验证的数据库帐户。</p>
                        </li>
                        <li>
                           <p>嵌入式网关准备调用参数并调用应用程序中的PL / SQL子程序。</p>
                        </li>
                        <li>
                           <p>PL / SQL子程序从关系数据和从数据库访问的PL / SQL Web Toolkit生成HTML页面。</p>
                        </li>
                        <li>
                           <p>应用程序将页面发送到嵌入式网关。</p>
                        </li>
                        <li>
                           <p>嵌入式网关将页面发送到XML DB HTTP侦听器。</p>
                        </li>
                        <li>
                           <p>XML DB HTTP Listener将页面发送到客户端浏览器。</p>
                        </li>
                     </ol>
                     <p>与<code class="codeph">mod_plsql</code>不同，嵌入式网关使用Oracle XML DB Listener处理HTTP请求。此侦听器与Oracle Net Listener具有相同的服务器端进程，并支持Oracle Net Services，HTTP和FTP。</p>
                     <p>通过XML DB接口配置常规HTTP侦听器设置（有关说明，请参阅<a href="../adxdb/repository-access-using-protocols.html#ADXDB2510" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> ）。通过使用Oracle Enterprise Manager云控制（云控制）或编辑<code class="codeph">xdbconfig</code>来配置HTTP侦听器。 <code class="codeph">xml</code>文件。使用<code class="codeph">DBMS_EPG</code>包进行所有嵌入式PL / SQL网关配置，例如，为DAD创建或设置属性。</p>
                  </div>
               </div><a id="ADFNS1352"></a><div class="props_rev_3"><a id="GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3" name="GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3"></a><h4 id="ADFNS-GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3" class="sect4">安装嵌入式PL / SQL网关</h4>
                  <div>
                     <div class="section">
                        <p>嵌入式网关需要以下组件：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>XML DB HTTP侦听器</p>
                           </li>
                           <li>
                              <p>PL / SQL Web工具包</p>
                           </li>
                        </ul>
                        <p>嵌入式PL / SQL网关作为Oracle XML DB的一部分安装。如果使用在安装期间创建的预配置数据库或使用Database Configuration Assistant（DBCA），则会安装并配置Oracle XML DB。</p>
                        <p>PL / SQL Web Toolkit是数据库标准安装的一部分，因此无需进行补充安装。</p>
                        <div class="infoboxnotealso" id="GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3__NOTE-1224-CAC92A54">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将Oracle XML DB手动添加到现有数据库的信息，请参阅<a href="../adxdb/administration-of-XML-DB.html#ADXDB2700" target="_blank"><span class="italic">“Oracle XML DB开发人员指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1052"></a><a id="ADFNS1353"></a><div class="props_rev_3"><a id="GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4" name="GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4"></a><h4 id="ADFNS-GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4" class="sect4">配置嵌入式PL / SQL网关</h4>
                  <div>
                     <div class="section">
                        <p>您可以通过编辑Oracle HTTP Server配置文件来配置<code class="codeph">mod_plsql</code> 。由于嵌入式网关是作为Oracle XML DB HTTP侦听器的一部分安装的，因此您可以通过Oracle XML DB servlet管理界面将嵌入式网关作为servlet进行管理。
                        </p>
                        <p>嵌入式网关的配置界面是PL / SQL包<code class="codeph">DBMS_EPG</code> 。此包修改基础<code class="codeph">xdbconfig</code> 。 XML DB使用的<code class="codeph">xml</code>配置文件。嵌入式网关配置参数的默认值足以满足大多数用户的需求。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4__GUID-F15472A8-9A62-49CF-AF30-3C7F386EC580">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="web-applications.html#GUID-4DF23317-3639-4987-BC53-DB9EACE80D79">配置嵌入式PL / SQL网关：概述</a></p>
                           </li>
                           <li>
                              <p><a href="web-applications.html#GUID-1AF94690-AC87-4533-8599-73485604B572">配置嵌入式PL / SQL网关的用户认证</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS469"></a><a id="ADFNS1354"></a><a id="ADFNS468"></a><div class="props_rev_3"><a id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79" name="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79"></a><h5 id="ADFNS-GUID-4DF23317-3639-4987-BC53-DB9EACE80D79" class="sect5">配置嵌入式PL / SQL网关：概述</h5>
                     <div>
                        <div class="section">
                           <p>与<code class="codeph">mod_plsql</code> ，PL / SQL存储子程序的每个请求都与<span class="bold">数据库访问描述符（DAD）</span>相关联。DAD是一组用于数据库访问的配置值。DAD指定以下信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>用于身份验证的数据库帐户</p>
                              </li>
                              <li>
                                 <p>用于上载和下载文档的子程序</p>
                              </li>
                           </ul>
                           <p>在嵌入式PL / SQL网关中，DAD在XML DB HTTP侦听器配置中表示为servlet。每个DAD属性都映射到配置文件<code class="codeph">xdbconfig</code>的XML元素。 <code class="codeph">xml</code> 。DAD属性的值对应于元素内容。例如， <code class="codeph">database-username</code> DAD属性对应于<code class="codeph">&lt;database-username&gt;</code> XML元素;如果DAD属性的值是<code class="codeph">HR</code>则它对应于<code class="codeph">&lt;database-username&gt;HR&lt;database-username&gt;</code> 。DAD属性名称区分大小写。
                           </p>
                           <p>使用<code class="codeph">DBMS_EPG</code>包执行这些嵌入式PL / SQL网关配置：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">DBMS_EPG</code>创建DAD。 <code class="codeph">CREATE_DAD</code>过程。</span></li>
                           <li class="stepexpand"><span>使用<code class="codeph">DBMS_EPG</code>设置DAD属性。 <code class="codeph">SET_DAD_ATTRIBUTE</code>过程。</span><div>
                                 <p>所有DAD属性都是可选的。如果未指定属性，则它具有初始值。</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p><a href="web-applications.html#GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__BGBBJIBB" title="此表将mod_plsql DAD参数映射到DBMS_EPGC DAD元素。">表17-2</a>列出了嵌入式PL / SQL网关属性和相应的<code class="codeph">mod_plsql</code> DAD参数。“Legal Values”列中的枚举值区分大小写。
                           </p>
                           <div class="tblformalwide" id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__BGBBJIBB">
                              <p class="titleintable">表17-2 mod_plsql与嵌入式PL / SQL网关DAD属性之间的映射关系</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="mod_plsql和嵌入式PL / SQL网关DAD属性之间的映射" width="100%" border="1" summary="This table maps the mod_plsql DAD parameters to the DBMS_EPGC DAD elements." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d94186e1893">mod_plsql DAD属性</th>
                                       <th align="left" valign="bottom" width="26%" id="d94186e1896">嵌入式PL / SQL网关DAD属性</th>
                                       <th align="left" valign="bottom" width="13%" id="d94186e1899">多次出现</th>
                                       <th align="left" valign="bottom" width="30%" id="d94186e1902">法律价值观</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1907" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlAfterProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1907 d94186e1896 ">
                                          <p><code class="codeph">后置程序</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1907 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1907 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1922" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlAlwaysDescribeProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1922 d94186e1896 ">
                                          <p><code class="codeph">始终描述，程序</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1922 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1922 d94186e1902 ">
                                          <p>枚举开，关</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1937" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlAuthenticationMode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1937 d94186e1896 ">
                                          <p><code class="codeph">认证模式</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1937 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1937 d94186e1902 ">
                                          <p>枚举Basic，SingleSignOn，GlobalOwa，CustomOwa，PerPackageOwa</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1952" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlBeforeProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1952 d94186e1896 ">
                                          <p><code class="codeph">之前，程序</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1952 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1952 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1967" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlBindBucketLengths</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1967 d94186e1896 ">
                                          <p><code class="codeph">结合-铲斗长度</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1967 d94186e1899 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1967 d94186e1902 ">
                                          <p>无符号整数</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1982" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlBindBucketWidths</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1982 d94186e1896 ">
                                          <p><code class="codeph">结合-铲斗宽度</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1982 d94186e1899 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1982 d94186e1902 ">
                                          <p>无符号整数</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1997" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlCGIEnvironmentList</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1997 d94186e1896 ">
                                          <p><code class="codeph">CGI环境列表</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1997 d94186e1899 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1997 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2012" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlCompatibilityMode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2012 d94186e1896 ">
                                          <p><code class="codeph">兼容模式</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2012 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2012 d94186e1902 ">
                                          <p>无符号整数</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2027" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDatabaseUsername</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2027 d94186e1896 ">
                                          <p><code class="codeph">数据库的用户名</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2027 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2027 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2042" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDefaultPage</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2042 d94186e1896 ">
                                          <p><code class="codeph">默认页</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2042 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2042 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2057" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDocumentPath</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2057 d94186e1896 ">
                                          <p><code class="codeph">文件路径</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2057 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2057 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2073" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDocumentProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2073 d94186e1896 ">
                                          <p><code class="codeph">文档程序</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2073 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2073 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2088" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDocumentTablename</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2088 d94186e1896 ">
                                          <p><code class="codeph">文档表名</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2088 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2088 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2103" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlErrorStyle</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2103 d94186e1896 ">
                                          <p><code class="codeph">错误风格</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2103 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2103 d94186e1902 ">
                                          <p>枚举ApacheStyle，ModplsqlStyle，DebugStyle</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2118" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlExclusionList</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2118 d94186e1896 ">
                                          <p><code class="codeph">排除列表</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2118 d94186e1899 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2118 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2133" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlFetchBufferSize</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2133 d94186e1896 ">
                                          <p><code class="codeph">取缓冲器尺寸</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2133 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2133 d94186e1902 ">
                                          <p>无符号整数</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2148" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlInfoLogging</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2148 d94186e1896 ">
                                          <p><code class="codeph">信息日志记录</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2148 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2148 d94186e1902 ">
                                          <p>InfoDebug的枚举</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2163" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlInputFilterEnable</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2163 d94186e1896 ">
                                          <p><code class="codeph">输入滤波器启用</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2163 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2163 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2178" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlMaxRequestsPerSession</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2178 d94186e1896 ">
                                          <p><code class="codeph">MAX-要求每会议</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2178 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2178 d94186e1902 ">
                                          <p>无符号整数</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2193" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlNLSLanguage</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2193 d94186e1896 ">
                                          <p><code class="codeph">NLS-语言</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2193 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2193 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2208" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlOWADebugEnable</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2208 d94186e1896 ">
                                          <p><code class="codeph">OWA调试启用</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2208 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2208 d94186e1902 ">
                                          <p>枚举开，关</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2223" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlPathAlias</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2223 d94186e1896 ">
                                          <p><code class="codeph">路径别名</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2223 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2223 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2239" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlPathAliasProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2239 d94186e1896 ">
                                          <p><code class="codeph">路径别名过程</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2239 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2239 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2254" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlRequestValidationFunction</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2254 d94186e1896 ">
                                          <p><code class="codeph">请求验证功能</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2254 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2254 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2269" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlSessionCookieName</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2269 d94186e1896 ">
                                          <p><code class="codeph">会话cookie的名字</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2269 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2269 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2284" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlSessionStateManagement</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2284 d94186e1896 ">
                                          <p><code class="codeph">会话状态管理</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2284 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2284 d94186e1902 ">
                                          <p>StatelessWithResetPackageState，StatelessWithFastRestPackageState，StatelessWithPreservePackageState的枚举</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2299" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlTransferMode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2299 d94186e1896 ">
                                          <p><code class="codeph">传输模式</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2299 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2299 d94186e1902 ">
                                          <p>Char，Raw的枚举</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2314" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlUploadAsLongRaw</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2314 d94186e1896 ">
                                          <p><code class="codeph">上传-AS-长期生</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2314 d94186e1899 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2314 d94186e1902 ">
                                          <p>串</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>对于嵌入式网关的大多数用户，DAD属性的默认值已足够。 <code class="codeph">mod_plsql</code>用户不需要这些属性：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">PlsqlDatabasePassword</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">PlsqlDatabaseConnectString</code> （因为嵌入式网关不支持登录外部数据库）</p>
                              </li>
                           </ul>
                           <p>与DAD属性一样，全局配置参数是可选的。<a href="web-applications.html#GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__CHEFIIBF" title="此表将mod_plsql DAD参数映射到DBMS_EPGC DAD元素。">表17-3</a>介绍了<code class="codeph">DBMS_EPG</code>全局属性和相应<code class="codeph">mod_plsql</code>全局参数。
                           </p>
                           <div class="tblformalwide" id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__CHEFIIBF">
                              <p class="titleintable">表17-3 mod_plsql和嵌入式PL / SQL网关全局属性之间的映射</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="mod_plsql和嵌入式PL / SQL网关全局属性之间的映射" width="100%" border="1" summary="This tables maps the mod_plsql DAD parameters to the DBMS_EPGC DAD elements." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d94186e2368">mod_plsql DAD属性</th>
                                       <th align="left" valign="bottom" width="27%" id="d94186e2371">嵌入式PL / SQL网关DAD属性</th>
                                       <th align="left" valign="bottom" width="13%" id="d94186e2374">多次出现</th>
                                       <th align="left" valign="bottom" width="29%" id="d94186e2377">法律价值观</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2382" headers="d94186e2368 ">
                                          <p><code class="codeph">PlsqlLogLevel</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d94186e2382 d94186e2371 ">
                                          <p><code class="codeph">日志级别</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2382 d94186e2374 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d94186e2382 d94186e2377 ">
                                          <p>无符号整数</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2397" headers="d94186e2368 ">
                                          <p><code class="codeph">PlsqlMaxParameters</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d94186e2397 d94186e2371 ">
                                          <p><code class="codeph">MAX-参数</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2397 d94186e2374 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d94186e2397 d94186e2377 ">
                                          <p>无符号整数</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__GUID-98B3B3A2-868C-4DEC-9DF8-5F7F924B226B">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=HSADM168" target="_blank"><span class="italic">Oracle融合中间件管理员指南（适用于Oracle HTTP Server）</span></a> ，详细描述了<code class="codeph">mod_plsql</code> DAD属性。有关默认值和使用说明，请参阅此文档。
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_EPG.html#ARPLS193" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考，</span></a>以了解<code class="codeph">DBMS_EPG</code>包</p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">xdbconfig</code>帐户的<a href="../adxdb/administration-of-XML-DB.html#ADXDB2700" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> 。 <code class="codeph">xml</code>文件</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS1355"></a><a id="ADFNS471"></a><div class="props_rev_3"><a id="GUID-1AF94690-AC87-4533-8599-73485604B572" name="GUID-1AF94690-AC87-4533-8599-73485604B572"></a><h5 id="ADFNS-GUID-1AF94690-AC87-4533-8599-73485604B572" class="sect5">配置嵌入式PL / SQL网关的用户认证</h5>
                     <div>
                        <div class="section">
                           <p>因为它使用XML DB身份验证方案，所以嵌入式网关处理数据库身份验证的方式与<code class="codeph">mod_plsql</code>不同。特别是，它不会在DAD中存储数据库密码。</p>
                           <div class="infoboxnote" id="GUID-1AF94690-AC87-4533-8599-73485604B572__GUID-DE045853-5412-4CB7-8C15-5F28F5D683B3">
                              <p class="notep1">注意：</p>
                              <p>要在Internet上提供PL / SQL Web应用程序但将数据库维护在防火墙后面，请不要使用嵌入式PL / SQL网关来运行应用程序;使用<code class="codeph">mod_plsql</code> 。
                              </p>
                           </div>
                           <p>使用<code class="codeph">DBMS_EPG</code>程序包配置数据库身份验证。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1AF94690-AC87-4533-8599-73485604B572__GUID-6C070242-1D03-48E2-8D03-0060A21B165D">话题：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="web-applications.html#GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A">使用DBMS_EPG配置静态身份验证</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-3F04A23B-9288-4D14-8D32-94B5EE380918">使用DBMS_EPG配置动态身份验证</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A">使用DBMS_EPG配置匿名身份验证</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD">确定DAD的认证方式</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886">示例：创建和配置DAD</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7">示例：确定DAD的身份验证模式</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501">示例：确定所有DAD的身份验证模式</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E">示例：显示无效的DAD授权</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-AF235182-62C6-4626-B074-861EBB14F82D">检查嵌入式PL / SQL网关配置</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1356"></a><div class="props_rev_3"><a id="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A" name="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A"></a><h6 id="ADFNS-GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A" class="sect6">使用DBMS_EPG配置静态身份验证</h6>
                        <div>
                           <div class="section">
                              <p>静态身份验证适用于在DAD中存储数据库用户名和密码的<code class="codeph">mod_plsql</code>用户，因此浏览器用户无需输入数据库身份验证信息。
                              </p>
                              <p>要配置静态验证，请按照下列步骤操作：</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>以XML DB管理员身份（即分配了<code class="codeph">XDBADMIN</code>角色的用户）登录数据库。</span></li>
                              <li class="stepexpand"><span>创建DAD。例如，此过程创建一个DAD调用<code class="codeph">HR_DAD</code>并将虚拟路径映射到/ <code class="codeph">hrweb</code> /：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD（'HR_DAD'，'/ hrweb / *'）;</pre></div>
                              </li>
                              <li class="stepexpand"><span>对于此步骤，您需要<code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">USER</code>系统特权。将DAD属性<code class="codeph">database-username</code>设置为DAD必须使用其权限的数据库帐户。例如，此过程指定名为<code class="codeph">HR_DAD</code>的DAD具有<code class="codeph">HR</code>帐户的权限：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE（'HR_DAD'，'database-username'，'HR'）;</pre><p>DAD属性<code class="codeph">database-username</code>区分大小写。
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>为DAD分配上一步中指定的数据库用户的权限。此授权使最终用户能够通过具有授权帐户权限的嵌入式PL / SQL网关调用过程和访问文档表。例如：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.AUTHORIZE_DAD（'HR_DAD'，'HR'）;</pre><p>或者，您可以以具有<code class="codeph">XDBADMIN</code>权限的用户<code class="codeph">XDBADMIN</code>注销，以DAD必须使用其权限的数据库用户身份登录，然后使用此命令将这些权限分配给DAD：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.AUTHORIZE_DAD（'HR_DAD'）;</pre><div class="infoboxnote" id="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A__GUID-51747CEB-999D-402E-9A48-6BCF8F686DDE">
                                       <p class="notep1">注意：</p>
                                       <p>多个用户可以授权相同的DAD。 DAD的<code class="codeph">database-username</code>属性设置确定要使用哪个用户的权限。
                                       </p>
                                    </div>
                                 </div>
                              </li>
                           </ol>
                           <div class="section">
                              <p>与<code class="codeph">mod_plsql</code>不同，嵌入式网关作为特殊用户<code class="codeph">ANONYMOUS</code>连接到数据库，但使用分配给DAD的用户权限访问数据库对象。如果浏览器用户尝试使用HTTP <code class="codeph">Authorization</code>标头显式连接，则数据库拒绝访问。
                              </p>
                              <div class="infoboxnote" id="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A__GUID-22E2A0AE-6543-4745-9452-98C56E1CA999">
                                 <p class="notep1">注意：</p>
                                 <p>安装XML DB后，帐户<code class="codeph">ANONYMOUS</code>被锁定。要对嵌入式PL / SQL网关使用静态身份验证，请先解锁此帐户。
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1357"></a><div class="props_rev_3"><a id="GUID-3F04A23B-9288-4D14-8D32-94B5EE380918" name="GUID-3F04A23B-9288-4D14-8D32-94B5EE380918"></a><h6 id="ADFNS-GUID-3F04A23B-9288-4D14-8D32-94B5EE380918" class="sect6">使用DBMS_EPG配置动态身份验证</h6>
                        <div>
                           <div class="section">
                              <p>动态身份验证适用于未在DAD中存储数据库用户名和密码的<code class="codeph">mod_plsql</code>用户。</p>
                              <p>在动态身份验证中，数据库用户不必授权嵌入式网关使用其权限来访问数据库对象。相反，浏览器用户必须通过HTTP基本身份验证方案提供数据库身份验证信息。</p>
                              <p>嵌入式网关的操作取决于是否为DAD设置了<code class="codeph">database-username</code>属性。如果未设置该属性，则嵌入式网关将以浏览器客户端提供的用户身份连接到数据库。如果设置了该属性，则数据库会限制对<code class="codeph">database-username</code>属性中指定的用户的访问。
                              </p>
                              <p>要设置动态身份验证，请按照下列步骤操作：</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>以XML DB管理员（即具有<code class="codeph">XDBADMIN</code>角色的用户）身份登录数据库。</span></li>
                              <li class="stepexpand"><span>创建DAD。例如，此过程创建一个DAD调用<code class="codeph">DYNAMIC_DAD</code>并将虚拟路径映射到<code class="codeph">/hrweb/</code> ：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD（'DYNAMIC_DAD'，'/ hrweb / *'）;</pre></div>
                              </li>
                              <li class="stepexpand"><span>（可选）将DAD属性<code class="codeph">database-username</code>设置为DAD必须使用其权限的数据库帐户。浏览器提示用户在访问DAD时输入该帐户的用户名和密码。例如，此过程指定名为<code class="codeph">DYNAMIC_DAD</code>的DAD具有<code class="codeph">HR</code>帐户的权限：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE（'DYNAMIC_DAD'，'database-username'，'HR'）;</pre><p>属性<code class="codeph">database-username</code>区分大小写。
                                    </p>
                                 </div>
                              </li>
                           </ol>
                           <div class="section">
                              <div class="infoboxnotewarn" id="GUID-3F04A23B-9288-4D14-8D32-94B5EE380918__GUID-EE52DE65-2D29-4BCA-BD8A-F0CCB33E140A">
                                 <p class="notep1">警告：</p>
                                 <p>通过HTTP基本身份验证方案发送的密码未加密。配置嵌入式网关使用HTTPS协议保护浏览器客户端发送的密码。</p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1358"></a><div class="props_rev_3"><a id="GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A" name="GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A"></a><h6 id="ADFNS-GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A" class="sect6">使用DBMS_EPG配置匿名身份验证</h6>
                        <div>
                           <div class="section">
                              <p>匿名身份验证适用于为数据库登录创建特殊DAD数据库用户的<code class="codeph">mod_plsql</code>用户，但将应用程序和文档表存储在不同的模式中，并授予对PUBLIC的过程和文档表的访问权限。</p>
                              <p>要设置匿名身份验证，请按照下列步骤操作：</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>以XML DB管理员身份登录数据库，即分配了<code class="codeph">XDBADMIN</code>角色的用户。</span></li>
                              <li class="stepexpand"><span>创建DAD。例如，此过程创建一个DAD调用<code class="codeph">HR_DAD</code>并将虚拟路径映射到<code class="codeph">/hrweb/</code> ：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD（'HR_DAD'，'/ hrweb / *'）;</pre></div>
                              </li>
                              <li class="stepexpand"><span>将DAD属性<code class="codeph">database-username</code>为<code class="codeph">ANONYMOUS</code> 。例如：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE（'HR_DAD'，'database-username'，'ANONYMOUS'）;</pre><p><code class="codeph">database-username</code>和<code class="codeph">ANONYMOUS</code>都区分大小写。
                                    </p>
                                    <p>您无需授权嵌入式网关使用<code class="codeph">ANONYMOUS</code>权限来访问数据库对象，因为<code class="codeph">ANONYMOUS</code>没有系统权限且不拥有任何数据库对象。
                                    </p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                     </div><a id="ADFNS1360"></a><a id="ADFNS1359"></a><div class="props_rev_3"><a id="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD" name="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD"></a><h6 id="ADFNS-GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD" class="sect6">确定DAD的认证方式</h6>
                        <div>
                           <div class="section">
                              <p>如果您知道DAD的名称，则此DAD的身份验证模式取决于以下因素：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>DAD是否存在？</p>
                                 </li>
                                 <li>
                                    <p>DAD的<code class="codeph">database-username</code>属性是否设置？
                                    </p>
                                 </li>
                                 <li>
                                    <p>DAD是否有权使用<code class="codeph">database-username</code>用户的权限？
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">database-username</code>属性是用户授权使用DAD的属性吗？
                                    </p>
                                 </li>
                              </ul>
                              <p><a href="web-applications.html#GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD__CHEIJCAD" title="此表显示以下内容如何确定DAD的身份验证模式：DAD是否存在，是否设置了其数据库用户名，以及特定用户是否已获得授权。">表17-4</a>显示了上述问题的答案如何确定身份验证模式。
                              </p>
                              <div class="tblformal" id="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD__CHEIJCAD">
                                 <p class="titleintable">表17-4 DAD的认证可能性</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="DAD的认证可能性" width="100%" border="1" summary="This table shows how the following things determine the authentication mode of a DAD: whether the DAD exists, whether its database-username is set, and whether a particular user is authorized." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="18%" id="d94186e3245">DAD存在？</th>
                                          <th align="left" valign="bottom" width="31%" id="d94186e3248">database-username设置？</th>
                                          <th align="left" valign="bottom" width="24%" id="d94186e3251">用户授权？</th>
                                          <th align="left" valign="bottom" width="28%" id="d94186e3254">模式</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3259" headers="d94186e3245 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3259 d94186e3248 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3259 d94186e3251 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3259 d94186e3254 ">
                                             <p>静态的</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3272" headers="d94186e3245 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3272 d94186e3248 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3272 d94186e3251 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3272 d94186e3254 ">
                                             <p>动态限制</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3285" headers="d94186e3245 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3285 d94186e3248 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3285 d94186e3251 ">
                                             <p>没关系</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3285 d94186e3254 ">
                                             <p>动态</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3298" headers="d94186e3245 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3298 d94186e3248 ">
                                             <p>是的（对<code class="codeph">ANONYMOUS</code> ）</p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3298 d94186e3251 ">
                                             <p>没关系</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3298 d94186e3254 ">
                                             <p>匿名</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3314" headers="d94186e3245 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3314 d94186e3248 ">
                                             <p></p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3314 d94186e3251 ">
                                             <p></p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3314 d94186e3254 ">
                                             <p>N / A</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>例如，假设您创建名为<code class="codeph">MY_DAD</code>的DAD。如果<code class="codeph">database-username</code>的属性<code class="codeph">MY_DAD</code>设置为<code class="codeph">HR</code> ，但是<code class="codeph">HR</code>用户没有授权<code class="codeph">MY_DAD</code> ，则认证模式<code class="codeph">MY_DAD</code>是动态的，受限制的。尝试通过<code class="codeph">MY_DAD</code>运行PL / SQL子程序的浏览器用户将被提示输入<code class="codeph">HR</code>数据库用户名和密码。
                              </p>
                              <p><code class="codeph">DBA_EPG_DAD_AUTHORIZATION</code>视图显示哪些用户已授权使用DAD。 <code class="codeph">DAD_NAME</code>列显示DAD的名称; <code class="codeph">USERNAME</code>列显示其权限分配给DAD的用户。授权的DAD可能不存在。
                              </p>
                              <div class="infoboxnotealso" id="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD__GUID-D0FCEAD9-C722-48EB-B9E8-0191CF223B0C">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关<code class="codeph">DBA_EPG_DAD_AUTHORIZATION</code>视图的详细信息，请<code class="codeph">DBA_EPG_DAD_AUTHORIZATION</code> <a href="../refrn/DBA_EPG_DAD_AUTHORIZATION.html#REFRN23709" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1362"></a><a id="ADFNS1363"></a><a id="ADFNS1361"></a><div class="props_rev_3"><a id="GUID-C4588450-4A25-40BF-8257-4D7F4328E886" name="GUID-C4588450-4A25-40BF-8257-4D7F4328E886"></a><h6 id="ADFNS-GUID-C4588450-4A25-40BF-8257-4D7F4328E886" class="sect6">示例：创建和配置DAD</h6>
                        <div>
                           <div class="section">
                              <p><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">例17-1</a>执行此操作：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>为数据库用户<code class="codeph">HR</code>创建具有静态身份验证的DAD，并为其分配<code class="codeph">HR</code>帐户的权限，然后对其进行授权。
                                    </p>
                                 </li>
                                 <li>
                                    <p>使用不限于任何用户的动态身份验证创建DAD。</p>
                                 </li>
                                 <li>
                                    <p>使用仅限<code class="codeph">HR</code>帐户的动态身份验证创建DAD。
                                    </p>
                                 </li>
                              </ul>
                              <p>DAD的创建和授权是独立的;因此你可以：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>授权不存在的DAD（可以稍后创建）</p>
                                 </li>
                                 <li>
                                    <p>授权您不是用户的DAD（但是，在DAD <code class="codeph">database-user</code>属性更改为您的用户名之前，授权不会生效）</p>
                                 </li>
                              </ul>
                              <p><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECADJE">例17-2</a>为数据库用户<code class="codeph">HR</code>创建了一个带有静态身份验证的DAD，并为其分配了<code class="codeph">HR</code>帐户的权限。然后：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>数据库用户<code class="codeph">HR</code>不是授权DAD，而是授权不存在的DAD。</p>
                                    <p>虽然用户可能错误地执行了此操作，但不会发生错误，因为稍后可能会创建不存在的DAD。</p>
                                 </li>
                                 <li>
                                    <p>数据库用户<code class="codeph">OE</code>授权DAD（其<code class="codeph">database-user</code>属性设置为<code class="codeph">HR</code> 。</p>
                                    <p>不会发生错误，但在DAD <code class="codeph">database-user</code>属性更改为<code class="codeph">OE</code>之前，授权不会生效。</p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">
                              <p class="titleinexample">例17-1创建和配置DAD</p><pre class="oac_no_warn" dir="ltr">-------------------------------------------------- ---------------------- ---带静态认证的DAD --------------------- -------------------------------------------------- -  CONNECT SYSTEM AS SYSDBA PASSWORD： <span class="italic">密码</span> EXEC DBMS_EPG.CREATE_DAD（'Static_Auth_DAD'，'/ static / *'）; EXEC DBMS_EPG.SET_DAD_ATTRIBUTE（'Static_Auth_DAD'，'database-username'，'HR'）;在DBMS_EPG到HR上执行GRANT; - 授权CONNECT HR PASSWORD： <span class="italic">密码</span> EXEC DBMS_EPG.AUTHORIZE_DAD（'Static_Auth_DAD'）; -------------------------------------------------- ----------------------  - 带动态身份验证的DAD ---------------------- -------------------------------------------------- CONNECT SYSTEM AS SYSDBA PASSWORD： <span class="italic">密码</span> EXEC DBMS_EPG.CREATE_DAD（'Dynamic_Auth_DAD'，'/ dynamic / *'）; -------------------------------------------------- -----------------------  - 动态身份验证限制的DAD -------------------- -------------------------------------------------- --- EXEC DBMS_EPG.CREATE_DAD（'Dynamic_Auth_DAD_Restricted'，'/ dynamic / *'）; EXEC DBMS_EPG.SET_DAD_ATTRIBUTE（'Dynamic_Auth_DAD_Restricted'，'database-username'，'HR'）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECADJE">
                              <p class="titleinexample">示例17-2授权创建或稍后更改DAD</p><pre class="oac_no_warn" dir="ltr">REM使用静态身份验证为数据库用户创建DAD HR CONNECT SYSTEM AS SYSDBA PASSWORD： <span class="italic">密码</span> EXEC DBMS_EPG.CREATE_DAD（'Static_Auth_DAD'，'/ static / *'）; EXEC DBMS_EPG.SET_DAD_ATTRIBUTE（'Static_Auth_DAD'，'database-username'，'HR'）;在DBMS_EPG到HR上执行GRANT; REM数据库用户HR授权不存在的DAD CONNECT HR PASSWORD： <span class="italic">密码</span> EXEC DBMS_EPG.AUTHORIZE_DAD（'Static_Auth_DAD_Typo'）; REM数据库用户OE使用数据库用户名'HR'CONNECT OE PASSWORD授权DAD： <span class="italic">密码</span> EXEC DBMS_EPG.AUTHORIZE_DAD（'Static_Auth_DAD'）;</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1365"></a><a id="ADFNS1364"></a><div class="props_rev_3"><a id="GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7" name="GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7"></a><h6 id="ADFNS-GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7" class="sect6">示例：确定DAD的身份验证模式</h6>
                        <div>
                           <div class="section">
                              <p><a href="web-applications.html#GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7__CHEJFABC">例17-3</a>创建了一个PL / SQL过程<code class="codeph">show_dad_auth_status</code> ，它接受DAD的名称并报告其认证模式。如果指定的DAD不存在，则该过程退出并显示错误。
                              </p>
                              <p>假设您已运行<a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">示例17-1中</a>的脚本来创建和配置各种DAD。输出是：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON; BEGIN show_dad_auth_status（'Static_Auth_DAD'）;结束; /'Static_Auth_DAD'设置为用户'HR'的静态身份验证。</pre></div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7__CHEJFABC">
                              <p class="titleinexample">例17-3确定DAD的认证模式</p><pre class="oac_no_warn" dir="ltr">创建或替换过程show_dad_auth_status（p_dadname VARCHAR2）IS v_daduser VARCHAR2（128）; v_cnt PLS_INTEGER; BEGIN  - 确定DAD用户v_daduser：= DBMS_EPG.GET_DAD_ATTRIBUTE（p_dadname，'database-username'）; - 确定DAD用户是否存在DAD授权SELECT COUNT（*）INTO v_cnt FROM DBA_EPG_DAD_AUTHORIZATION da WHERE da。DAD_NAME = p_dadname AND da。USERNAME = v_daduser; - 如果DAD用户存在DAD授权，则认证模式为静态IF（v_cnt&gt; 0）那么DBMS_OUTPUT.PUT_LINE（''''|| | p_dadname ||'''设置为用户'''|||的静态认证v_daduser ||'''。“）;返回;万一; - 如果DAD用户不存在DAD授权，则认证模式是动态的 - 确定动态认证是否仅限于特定用户IF（v_daduser IS NOT NULL）那么DBMS_OUTPUT.PUT_LINE（''''|| p_dadname ||''''已设置为仅用户'''|| v_daduser ||''进行动态验证。“）; ELSE DBMS_OUTPUT.PUT_LINE（''''|| | p_dadname ||'''设置为任何用户的动态身份验证。“）;万一;结束; /</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1367"></a><a id="ADFNS1366"></a><div class="props_rev_3"><a id="GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501" name="GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501"></a><h6 id="ADFNS-GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501" class="sect6">示例：确定所有DAD的身份验证模式</h6>
                        <div>
                           <div class="section">
                              <p><a href="web-applications.html#GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501__CHEJHDGI">例17-4中</a>的匿名块报告所有已注册DAD的身份验证模式。它调用<a href="web-applications.html#GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7__CHEJFABC">例17-3中</a>的<code class="codeph">show_dad_auth_status</code>过程。
                              </p>
                              <p>如果您已运行<a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">示例17-1中</a>的脚本来创建和配置各种DAD，则<a href="web-applications.html#GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501__CHEJHDGI">示例17-4</a>的输出为：</p><pre class="oac_no_warn" dir="ltr">----------所有DAD的授权状态----------'Static_Auth_DAD'设置为用户'HR'的静态身份验证。为任何用户设置动态身份验证'Dynamic_Auth_DAD'。'dynamic_Auth_DAD_Restricted'仅针对用户'HR'设置动态身份验证。</pre></div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501__CHEJHDGI">
                              <p class="titleinexample">示例17-4显示所有DAD的身份验证模式</p><pre class="oac_no_warn" dir="ltr">DECLARE v_dad_names DBMS_EPG.VARCHAR2_TABLE; BEGIN DBMS_OUTPUT.PUT_LINE（'----------所有DAD的授权状态----------'）; DBMS_EPG.GET_DAD_LIST（v_dad_names）; FOR i IN 1..v_dad_names.count LOOP show_dad_auth_status（v_dad_names（i））;结束循环;结束; /</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1369"></a><a id="ADFNS1368"></a><div class="props_rev_3"><a id="GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E" name="GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E"></a><h6 id="ADFNS-GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E" class="sect6">示例：显示无效的DAD授权</h6>
                        <div>
                           <div class="section">
                              <p>在匿名块<a href="web-applications.html#GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E__CHEJJIFD">例17-5</a>报告DAD授权<span class="italic">不在</span>效果。在以下任何一种情况下，DAD授权均无效：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>授权DAD的用户不是DAD的<code class="codeph">database-username</code>属性指定<code class="codeph">database-username</code></p>
                                 </li>
                                 <li>
                                    <p>用户授权不存在的DAD</p>
                                 </li>
                              </ul>
                              <p>如果您已运行<a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECADJE">示例17-2中</a>的脚本来创建和配置各种DAD，则<a href="web-applications.html#GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E__CHEJJIFD">示例17-5</a> （重新格式化为适合页面）的输出为：</p><pre class="oac_no_warn" dir="ltr">---------- DAD授权无效----------用户'OE'对'Static_Auth_DAD'的DAD授权无效，因为DAD用户为'HR'。用户'HR'对'Static_Auth_DAD_Typo'的DAD授权无效，因为DAD不存在。</pre></div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E__CHEJJIFD">
                              <p class="titleinexample">示例17-5显示无效的DAD授权</p><pre class="oac_no_warn" dir="ltr">DECLARE v_dad_names DBMS_EPG.VARCHAR2_TABLE; v_dad_user VARCHAR2（128）; v_dad_found BOOLEAN; BEGIN DBMS_OUTPUT.PUT_LINE（'---------- DAD授权无效----------'）; DBMS_EPG.GET_DAD_LIST（v_dad_names）; FOR r IN（SELECT * FROM DBA_EPG_DAD_AUTHORIZATION）LOOP  - 外循环v_dad_found：= FALSE; FOR i IN 1..v_dad_names.count LOOP  - 内环IF（r。DAD_NAME = v_dad_names（i））那么v_dad_user：= DBMS_EPG.GET_DAD_ATTRIBUTE（r。DAD_NAME，'database-username'）; -  database-username是否为DAD授权的用户？IF（r。USERNAME &lt;&gt; v_dad_user）然后DBMS_OUTPUT.PUT_LINE（用户'''||'| rd}'|'''|'''''|'|'| rdad_name ||'''的DAD授权无效因为DAD用户是'||''''|| v_dad_user ||'''。“）;万一; v_dad_found：= TRUE;出口; - 内环END IF;结束循环; - 内循环 -  DAD是否存在？IF（NOT v_dad_found）那么DBMS_OUTPUT.PUT_LINE（用户'''|| r.dad_name ||''的'DAD授权''''|| r.username ||'''没有生效，因为DAD确实有效不存在。“）;万一;结束循环; - 外环END; /</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1371"></a><a id="ADFNS1370"></a><div class="props_rev_3"><a id="GUID-AF235182-62C6-4626-B074-861EBB14F82D" name="GUID-AF235182-62C6-4626-B074-861EBB14F82D"></a><h6 id="ADFNS-GUID-AF235182-62C6-4626-B074-861EBB14F82D" class="sect6">检查嵌入式PL / SQL网关配置</h6>
                        <div>
                           <div class="section">
                              <p>当您以具有系统权限的用户身份连接到数据库时，此脚本可帮助您检查嵌入式PL / SQL网关的配置：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / RDBMS /管理/ epgstat.sql</pre><p><a href="web-applications.html#GUID-AF235182-62C6-4626-B074-861EBB14F82D__CHDCAICF">例17-6</a>显示了<code class="codeph">epgstat</code>的输出。当<code class="codeph">ANONYMOUS</code>帐户被锁定时， <a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">示例17-1的</a> <code class="codeph">sql</code>脚本。
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-AF235182-62C6-4626-B074-861EBB14F82D__CHDCAICF">
                              <p class="titleinexample">例17-6 <span><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">示例17-1的</a></span> epgstat.sql脚本输出</p>
                              <p>运行脚本的命令：</p><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ epgstat.sql</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">+ -------------------------------------- + | XDB协议端口：| | XDB正在侦听协议|当协议端口非零时。| + -------------------------------------- + HTTP端口FTP端口------ --- -------- 0 0 1行选中。+ --------------------------- + | DAD虚拟路径映射| + --------------------------- +虚拟路径DAD名称----------------- --------------- -------------------------------- / dynamic / * Dynamic_Auth_DAD_Restricted / static / * Static_Auth_DAD选择了2行。+ ---------------- + | DAD属性| + ---------------- + DAD名字DAD Param DAD Value ------------ -------------- ------- ---------------------------------------- Dynamic_Auth数据库 - username HR _DAD_Restric ted Static_Auth_ database-username HR DAD 2行已选中。+ ------------------------------------------------- -  + | DAD授权：| |要在DAD中使用用户的静态身份验证，| |必须为用户授权DAD。| + ------------------------------------------------- -  + DAD名称用户名-------------------------------- ----------- --------------------- Static_Auth_DAD HR OE Static_Auth_DAD_Typo HR 3行已选中。+ ---------------------------- + | DAD认证方案| + ---------------------------- + DAD名称用户名Auth Scheme -------------- ------ -------------------------------- ------------ ------ Dynamic_Auth_DAD Dynamic Dynamic_Auth_DAD_Res HR Dynamic Restricted tricted Static_Auth_DAD HR Static 3行被选中。+ ------------------------------------------------- ------- + | ANONYMOUS用户状态：| |要在任何DAD中使用静态或匿名身份验证，| |必须解锁ANONYMOUS帐户。| + ------------------------------------------------- ------- +数据库用户状态--------------- -------------------- ANONYMOUS EXPIRED＆LOCKED选择了1行。+ ------------------------------------------------- ------------------ + | ANONYMOUS访问XDB存储库：| |为了允许公共访问XDB存储库而不进行身份验证，| |必须允许ANONYMOUS访问存储库。| + ------------------------------------------------- ------------------ +允许存储库匿名访问？---------------------------------- false选择1行。</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS488"></a><div class="props_rev_3"><a id="GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89" name="GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89"></a><h4 id="ADFNS-GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89" class="sect4">通过嵌入式PL / SQL网关调用PL / SQL存储的子程序</h4>
                  <div>
                     <div class="section">
                        <p>通过嵌入式PL / SQL网关调用PL / SQL子程序的基本步骤与<code class="codeph">mod_plsql</code>网关相同。有关说明，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD002" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南</span></a> 。您必须稍微调整<code class="codeph">mod_plsql</code>指令以与嵌入式网关一起使用。例如，通过以下格式输入URL，在浏览器中调用嵌入式网关：</p><pre class="oac_no_warn" dir="ltr">协议：//主机名[：端口] /的virt路径/ [[] [！架构。] [包。] proc_name中[？query_str]</pre><p>占位符<code class="codeph">virt-path</code>代表您在<code class="codeph">DBMS_EPG</code>配置的虚拟路径。 <code class="codeph">CREATE_DAD</code> 。该<code class="codeph">mod_plsql</code>文档使用<code class="codeph">DAD_location</code>代替<code class="codeph">virt-path</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89__ORACLEHTTPSERVERMOD_PLSQLUSERSGUIDE-CACB1CD8">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD002" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南，</span></a>用于以下主题：</p>
                                 <div class="p">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>交易模式</p>
                                       </li>
                                       <li>
                                          <p>支持的数据类型</p>
                                       </li>
                                       <li>
                                          <p>参数传递方案</p>
                                       </li>
                                       <li>
                                          <p>文件上传和下载支持</p>
                                       </li>
                                       <li>
                                          <p>路径别名</p>
                                       </li>
                                       <li>
                                          <p>通用网关接口（CGI）环境变量</p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1372"></a><div class="props_rev_3"><a id="GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F" name="GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F"></a><h4 id="ADFNS-GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F" class="sect4">使用嵌入式PL / SQL网关保护应用程序访问</h4>
                  <div>
                     <div class="section">
                        <p>嵌入式网关与<code class="codeph">mod_plsql</code>共享相同的保护机制。
                        </p>
                        <div class="infoboxnotealso" id="GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F__NOTE-1212-CACB8508">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD003" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS490"></a><div class="props_rev_3"><a id="GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0" name="GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0"></a><h4 id="ADFNS-GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0" class="sect4">嵌入式PL / SQL网关的限制</h4>
                  <div>
                     <p><code class="codeph">mod_plsql</code>限制同样适用于嵌入式网关。此外，网关的嵌入式版本不支持以下功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>动态HTML缓存</p>
                        </li>
                        <li>
                           <p>系统监控</p>
                        </li>
                        <li>
                           <p>除Basic之外的身份验证模式</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0__NOTE-123-CACC2019">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关限制的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD414" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南</span></a></p>
                           </li>
                           <li>
                              <p>有关身份验证模式的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD331" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql用户指南</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1373"></a><div class="props_rev_3"><a id="GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468" name="GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468"></a><h4 id="ADFNS-GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468" class="sect4">使用嵌入式PL / SQL网关：场景</h4>
                  <div>
                     <div class="section">
                        <p>本节说明如何编写查询<code class="codeph">hr</code>的简单应用程序。 <code class="codeph">employees</code>表并通过PL / SQL网关将HTML输出传送到Web浏览器。它假定您同时安装了XML DB和示例模式。
                        </p>
                        <p>要编写和运行该程序，请按照下列步骤操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">ALTER</code> <code class="codeph">USER</code>权限的用户身份登录数据库，并确保数据库帐户<code class="codeph">ANONYMOUS</code>已解锁。默认情况下锁定的<code class="codeph">ANONYMOUS</code>帐户是静态身份验证所必需的。如果帐户被锁定，则使用此SQL语句将其解锁：</span><div><pre class="oac_no_warn" dir="ltr">ALTER USER匿名帐户解锁;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以XML DB管理员身份（即具有<code class="codeph">XDBADMIN</code>角色的用户）身份登录数据库。</span><div>
                              <p>要确定哪些用户和角色被授予<code class="codeph">XDADMIN</code>角色，请查询数据字典：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_ROLE_PRIVS WHERE GRANTED_ROLE ='XDBADMIN';</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建DAD。例如，此过程创建一个DAD调用<code class="codeph">HR_DAD</code>并将虚拟路径映射到<code class="codeph">/plsql/</code> ：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD（'HR_DAD'，'/ plsql / *'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>将DAD属性<code class="codeph">database-username</code>设置为DAD必须使用其权限的数据库用户。例如，此过程指定DAD <code class="codeph">HR_DAD</code>使用用户<code class="codeph">HR</code>的权限访问数据库对象：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE（'HR_DAD'，'database-username'，'HR'）;</pre><p>属性<code class="codeph">database-username</code>区分大小写。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">EXECUTE</code>特权授予数据库用户，该用户的权限必须由DAD使用（以便他或她可以授权DAD）。例如：</span><div><pre class="oac_no_warn" dir="ltr">在DBMS_EPG到HR上执行GRANT;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以XML DB管理员身份注销，并以DAD必须使用其权限的数据库用户身份（例如， <code class="codeph">HR</code> ）登录数据库。</span></li>
                        <li class="stepexpand"><span>授权嵌入式PL / SQL网关通过DAD调用过程和访问文档表。例如：</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.AUTHORIZE_DAD（'HR_DAD'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建一个调用<code class="codeph">print_employees</code>的示例PL / SQL存储过程。此程序创建一个HTML页面，其中包含<code class="codeph">hr</code>查询的结果集。 <code class="codeph">employees</code> ：</span><div><pre class="oac_no_warn" dir="ltr">创建或替换过程print_employees IS CURSOR emp_cursor IS SELECT last_name，first_name FROM hr.employees ORDER BY last_name; BEGIN HTP.PRINT（'&lt;html&gt;'）; HTP.PRINT（ '的&lt;head&gt;'）; HTP.PRINT（'&lt;meta http-equiv =“Content-Type”content =“text / html”&gt;'）; HTP.PRINT（'&lt;title&gt;员工名单&lt;/ title&gt;'）; HTP.PRINT（ '&lt;/ HEAD&gt;'）; HTP.PRINT（'&lt;body TEXT =“＃000000”BGCOLOR =“＃FFFFFF”&gt;'）; HTP.PRINT（'&lt;h1&gt;员工名单&lt;/ h1&gt;'）; HTP.PRINT（'&lt;table width =“40％”border =“1”&gt;'）; HTP.PRINT（ '&lt;TR&gt;'）; HTP.PRINT（'&lt;th align =“left”&gt;姓氏&lt;/ th&gt;'）; HTP.PRINT（'&lt;th align =“left”&gt;名字&lt;/ th&gt;'）; HTP.PRINT（ '&lt;/ TR&gt;'）; FOR emp_record IN emp_cursor LOOP HTP.PRINT（'&lt;tr&gt;'）; HTP.PRINT（'&lt;td&gt;'|| emp_record.last_name ||'&lt;/ td&gt;'）; HTP.PRINT（'&lt;td&gt;'|| emp_record.first_name ||'&lt;/ td&gt;'）;结束循环; HTP.PRINT（ '&lt;/ TABLE&gt;'）; HTP.PRINT（ '&lt;/ BODY&gt;'）; HTP.PRINT（ '&lt;/ HTML&gt;'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>确保Oracle Net侦听器可以接受HTTP请求。您可以通过在系统提示符下运行此命令来确定Linux和UNIX上侦听器的状态：</span><div><pre class="oac_no_warn" dir="ltr">lsnrctl status | grep HTTP</pre><p>输出（从页面大小约束中从单行重新格式化为多行）：</p><pre class="oac_no_warn" dir="ltr">（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = example.com）（PORT = 8080））（Presentation = HTTP）（Session = RAW））</pre><p>如果未看到HTTP服务已启动，则可以将这些行添加到初始化参数文件中（将<span class="italic"><code class="codeph">listener_name</code></span>替换为Oracle Net本地侦听器的名称），然后重新启动数据库和侦听器：</p><pre class="oac_no_warn" dir="ltr">dispatchers =“（PROTOCOL = TCP）”local_listener = <span class="italic">listener_name</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>从Web浏览器运行<code class="codeph">print_employees</code>程序。例如，您可以使用此URL，将<span class="italic"><code class="codeph">host</code></span>替换为<span class="italic"><code class="codeph">host</code></span>名和<span class="italic"><code class="codeph">port</code></span> ，并使用上一步中<code class="codeph">PORT</code>参数的值：</span><div><pre class="oac_no_warn" dir="ltr">http：// <span class="italic">host</span> ： <span class="italic">port</span> / plsql / print_employees</pre><p>例如，如果您的主机是<code class="codeph">test</code> 。 <code class="codeph">com</code>和您的HTTP端口是<code class="codeph">8080</code> ，然后输入：</p><pre class="oac_no_warn" dir="ltr">http://example.com:8080/plsql/print_employees</pre><p>Web浏览器返回一个HTML页面，其中包含一个表，其中包含<code class="codeph">hr</code>中每个员工的名字和姓氏。 <code class="codeph">employees</code>表。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="ADFNS1375"></a><a id="ADFNS1376"></a><a id="ADFNS1374"></a><div class="props_rev_3"><a id="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491" name="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491"></a><h3 id="ADFNS-GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491" class="sect3">使用PL / SQL生成HTML输出</h3>
               <div>
                  <div class="section">
                     <p>传统上，PL / SQL Web应用程序使用函数调用来生成每个HTML标记以进行输出。这些函数是Oracle数据库附带的PL / SQL Web Toolkit包的一部分。<a href="web-applications.html#GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBHBBGJ">例17-7</a>显示了如何通过调用与每个HTML标记对应的<code class="codeph">HTP</code>函数来生成简单的HTML页面。
                     </p>
                     <p>进行与每个标签对应的函数调用的替代方法是使用<code class="codeph">HTP</code> 。 <code class="codeph">PRINT</code>功能可以打印文本和标签。<a href="web-applications.html#GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBBHAEC">例17-8</a>说明了这种技术。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBHBBGJ">
                     <p class="titleinexample">示例17-7使用HTP函数生成HTML标记</p><pre class="oac_no_warn" dir="ltr">创建或替换程序html_page开始HTP.HTMLOPEN; - 生成&lt;HTML&gt; HTP.HEADOPEN; - 生成&lt;HEAD&gt; HTP.TITLE（'Title'）; - 生成&lt;TITLE&gt; Hello &lt;/ TITLE&gt; HTP.HEADCLOSE; - 生成&lt;/ HTML&gt;  - 生成&lt;BODY TEXT =“＃000000”BGCOLOR =“＃FFFFFF”&gt; HTP.BODYOPEN（cattributes =&gt;'TEXT =“＃000000”BGCOLOR =“＃FFFFFF”'）; - 在HTML文件中生成&lt;H1&gt;标题&lt;/ H1&gt; HTP.HEADER（1，'HTML文件中的标题'）; HTP.PARA; - 生成&lt;P&gt; HTP.PRINT（'HTML文件中的某些文本。“）; HTP.BODYCLOSE; - 生成&lt;/ BODY&gt; HTP.HTMLCLOSE; - 生成&lt;/ HTML&gt; END; /</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBBHAEC">
                     <p class="titleinexample">示例17-8使用HTP.PRINT生成HTML标记</p><pre class="oac_no_warn" dir="ltr">创建或替换过程html_page2 IS BEGIN HTP.PRINT（'&lt;html&gt;'）; HTP.PRINT（ '的&lt;head&gt;'）; HTP.PRINT（'&lt;meta http-equiv =“Content-Type”content =“text / html”&gt;'）; HTP.PRINT（'&lt;title&gt; HTML文件的标题&lt;/ title&gt;'）; HTP.PRINT（ '&lt;/ HEAD&gt;'）; HTP.PRINT（'&lt;body TEXT =“＃000000”BGCOLOR =“＃FFFFFF”&gt;'）; HTP.PRINT（'&lt;h1&gt; HTML文件中的标题&lt;/ h1&gt;'）; HTP.PRINT（'&lt;p&gt; HTML文件中的一些文本。“）; HTP.PRINT（ '&lt;/ BODY&gt;'）; HTP.PRINT（ '&lt;/ HTML&gt;'）;结束; /</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADFNS1054"></a><a id="ADFNS1009"></a><div class="props_rev_3"><a id="GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D" name="GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D"></a><h3 id="ADFNS-GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D" class="sect3">将参数传递给PL / SQL Web应用程序</h3>
               <div>
                  <div class="section">
                     <p>为了在各种情况下有用，Web应用程序必须具有足够的交互性以允许用户选择。为了保持不耐烦的网络冲浪者的注意力，简化交互，以便用户可以非常简单地指定这些选择，而无需过多的决策或数据输入。</p>
                     <p>将参数传递给PL / SQL Web应用程序的主要方法是：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用HTML表单标签。用户在一个网页上填写表单，当用户单击页面上的“ <code class="codeph">Submit</code>按钮时，所有数据和选项都将传输到存储的子程序。
                           </p>
                        </li>
                        <li>
                           <p>在URL中硬编码。用户点击链接，并将一组预定义参数发送到存储的子程序。通常，您在网页上包含单独的链接，以供用户可能需要的所有选项。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D__GUID-1C197120-1B4C-4B6F-BA8F-0019403FCB78">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="web-applications.html#GUID-D54EA12B-7A8B-4985-8844-6309E41D4785">从HTML表单传递List和Dropdown-List参数</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007">从HTML表单传递选项和复选框参数</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-F742504E-1819-4A96-A527-42428A8FB29F">从HTML表单传递入口字段参数</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6">从HTML表单传递隐藏参数</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E">从HTML表单上载文件</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD">提交完整的HTML表单</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F">处理HTML表单中的缺失输入</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4">维护网页之间的状态信息</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1378"></a><a id="ADFNS1377"></a><div class="props_rev_3"><a id="GUID-D54EA12B-7A8B-4985-8844-6309E41D4785" name="GUID-D54EA12B-7A8B-4985-8844-6309E41D4785"></a><h4 id="ADFNS-GUID-D54EA12B-7A8B-4985-8844-6309E41D4785" class="sect4">从HTML表单传递List和Dropdown-List参数</h4>
                  <div>
                     <div class="section">
                        <p>列表框和下拉列表使用HTML标记<code class="codeph">&lt;SELECT&gt;</code> 。
                        </p>
                        <p>使用列表框进行大量选择或允许多个选择。列表框适用于按字母顺序显示项目，以便用户可以快速找到项目而无需阅读所有选项。</p>
                        <p>在这些情况下使用下拉列表：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有少数选择</p>
                           </li>
                           <li>
                              <p>屏幕空间有限。</p>
                           </li>
                           <li>
                              <p>选择是不寻常的顺序。</p>
                           </li>
                        </ul>
                        <p>下拉列表捕获了首次使用者的注意力并使他们阅读了这些项目。如果您保持选择和顺序一致，则用户可以记住从下拉列表中选择项目的动作，允许他们在获得经验时快速进行选择。</p>
                        <p><a href="web-applications.html#GUID-D54EA12B-7A8B-4985-8844-6309E41D4785__CHEJCAGD">例17-9</a>显示了一个简单的下拉列表。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D54EA12B-7A8B-4985-8844-6309E41D4785__CHEJCAGD">
                        <p class="titleinexample">例17-9 HTML下拉列表</p><pre class="oac_no_warn" dir="ltr">&lt;form&gt; &lt;select name =“seasons”&gt; &lt;option value =“winter”&gt; Winter &lt;option value =“spring”&gt; Spring &lt;option value =“summer”&gt; Summer &lt;option value =“fall”&gt; Fall &lt;/ select &gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1379"></a><div class="props_rev_3"><a id="GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007" name="GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007"></a><h4 id="ADFNS-GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007" class="sect4">从HTML表单传递选项和复选框参数</h4>
                  <div>
                     <div class="section">
                        <p>选项传递空值（如果未选中组中的任何选项），或者在选中的选项上指定的值。</p>
                        <p>要为一组选项指定默认值，可以在<code class="codeph">INPUT</code>标记中包含<code class="codeph">CHECKED</code>属性，或在存储的子程序中的参数中包含<code class="codeph">DEFAULT</code>子句。设置一组选项时，请确保包含一个表示“无首选项”的选项，因为在选择一个选项后，用户可以选择另一个选项，但无法完全清除选择。例如，如果有人做出选择然后意识到它是错误的，请选择“不关注”或“不知道”选项以及“是”和“否”选项。
                        </p>
                        <p>复选框需要特殊处理，因为存储的子程序可能会收到空值，单个值或多个值：</p>
                        <p>具有相同<code class="codeph">NAME</code>属性的所有复选框都包含一个复选框组。如果未检查组中的任何复选框，则存储的子程序将接收相应参数的空值。
                        </p>
                        <p>如果选中组中的一个复选框，则存储的子程序将接收单个<code class="codeph">VARCHAR2</code>参数。
                        </p>
                        <p>如果检查组中的多个复选框，则存储的子程序将接收具有PL / SQL类型<code class="codeph">TABLE</code> <code class="codeph">OF</code> <code class="codeph">VARCHAR2</code> 。您必须声明类似<code class="codeph">TABLE</code> <code class="codeph">OF</code> <code class="codeph">VARCHAR2</code>的类型，或使用像<code class="codeph">OWA_UTIL</code>这样的预定义<code class="codeph">OWA_UTIL</code> 。 <code class="codeph">IDENT_ARR</code> 。要检索值，请使用循环：</p><pre class="oac_no_warn" dir="ltr">创建或替换过程handle_checkboxes（复选框owa_util.ident_arr）AS BEGIN FOR i IN 1..checkboxes.count LOOP htp.print（'&lt;p&gt; Check Box value：'|| checkboxes（i））;结束循环;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1381"></a><a id="ADFNS1380"></a><div class="props_rev_3"><a id="GUID-F742504E-1819-4A96-A527-42428A8FB29F" name="GUID-F742504E-1819-4A96-A527-42428A8FB29F"></a><h4 id="ADFNS-GUID-F742504E-1819-4A96-A527-42428A8FB29F" class="sect4">从HTML表单传递入口字段参数</h4>
                  <div>
                     <div class="section">
                        <p>输入字段需要最多验证，因为用户可能以错误的格式输入数据，超出范围等等。如果可能，请使用客户端JavaScript函数验证客户端上的数据，并为用户正确格式化或提示他们再次输入。</p>
                        <p>例如：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以阻止用户在数字输入字段中输入字母字符，或在达到长度限制后输入字符。</p>
                           </li>
                           <li>
                              <p>如果存储的子程序需要该格式的值，您可以静默地从信用卡号中删除空格和短划线。</p>
                           </li>
                           <li>
                              <p>您可以在键入太大的数字时立即通知用户，以便他们可以重新键入。</p>
                           </li>
                        </ul>
                        <p>因为您不能依赖此类验证来成功，所以无论如何都要对存储的子程序进行编码以处理这些情况。而不是强制用户在输入错误数据时使用“ <code class="codeph">Back</code>按钮，而是显示包含错误消息的单个页面以及填写了所有其他值的原始表单。
                        </p>
                        <p>对于敏感信息（如密码），输入字段的特殊形式<code class="codeph">&lt;INPUT TYPE=PASSWORD&gt;</code>会在输入时隐藏文本。
                        </p>
                        <p><a href="web-applications.html#GUID-F742504E-1819-4A96-A527-42428A8FB29F__CHEEHHJA">例17-10中</a>的过程接受两个字符串作为输入。第一次调用该过程时，用户会看到一个提示输入值的简单表单。当用户提交信息时，再次调用相同的过程来检查输入是否正确。如果输入正常，则该过程处理它。如果不是，则程序提示输入，填写用户的原始值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F742504E-1819-4A96-A527-42428A8FB29F__CHEEHHJA">
                        <p class="titleinexample">示例17-10从HTML表单传递入口字段参数</p><pre class="oac_no_warn" dir="ltr">DROP TABLE name_zip_table; CREATE TABLE name_zip_table（名称VARCHAR2（100），邮政编码NUMBER）; - 在数据库中存储名称和相关的邮政编码。创建或替换过程associate_name_with_zipcode（名称VARCHAR2：= NULL，zip VARCHAR2：= NULL）AS BEGIN  - 每个输入字段必须包含一个值。邮政编码必须为6个字符。- （在实际程序中，您执行更广泛的检查。）如果名称IS NOT NULL且zip is NOT NULL且length（zip）= 6那么INSERT INTO name_zip_table（name，zipcode）VALUES（name，zip）; HTP.PRINT（'&lt;p&gt;人'|| HTP.ESCAPE_SC（名称）||'的邮政编码为'|| HTP.ESCAPE_SC（zip）||'。“）; - 如果输入正常，请在此处停止。用户再次看不到表单。返回;万一; - 如果用户输入的数据不完整或不正确，请显示错误消息。IF（名称为IS NULL且zip为非空）或（名称IS NOT NULL且zip为NULL）或（zip IS NOT NULL和length（zip）！= 6）那么HTP.PRINT（'&lt;p&gt; &lt;b&gt;请重新输入数据。填写所有字段，并使用6位邮政编码。&lt;/ b&gt;'）;万一; - 如果用户未输入任何数据或不正确的数据，则显示错误消息 - 并使表单调用相同的过程来检查输入值。HTP.FORMOPEN（'HR.associate_name_with_zipcode'，'GET'）; HTP.PRINT（'&lt;p&gt;输入你的名字：&lt;/ td&gt;'）; HTP.PRINT（'&lt;td valign = center&gt; &lt;input type = text name = name value =“'|| HTP.ESCAPE_SC（name）||'”&gt;'）; HTP.PRINT（'&lt;p&gt;输入您的邮政编码：&lt;/ td&gt;'）; HTP.PRINT（'&lt;td valign = center&gt; &lt;input type = text name = zip value =“'||| HTP.ESCAPE_SC（zip）||'”&gt;'）; HTP.FORMSUBMIT（NULL，'提交'）; HTP.FORMCLOSE;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1382"></a><div class="props_rev_3"><a id="GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6" name="GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6"></a><h4 id="ADFNS-GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6" class="sect4">从HTML表单传递隐藏参数</h4>
                  <div>
                     <div class="section">
                        <p>用于通过一系列存储的子程序传递信息而不需要用户每次指定相同选择的一种技术是以调用存储的子程序的形式包括隐藏参数。第一个存储的子程序将信息（例如用户名）放入其生成的HTML表单中。隐藏参数的值传递给下一个存储的子程序，就像用户通过选项或输入字段输入它一样。</p>
                        <p>将信息从一个存储的子程序传递到另一个子程序的其他技术包括：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将包含持久性信息的“cookie”发送到浏览器。然后，当访问同一站点的其他网页时，浏览器会将此相同信息发送回服务器。通过在每个网页的HTML文本之前在浏览器和Web服务器之间传输的HTTP标头来设置和检索Cookie。</p>
                           </li>
                           <li>
                              <p>将信息存储在数据库本身中，以后存储的子程序可以检索它。此技术涉及数据库服务器上的一些额外开销，并且您必须找到一种方法来跟踪每个用户，因为多个用户同时访问服务器。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1383"></a><div class="props_rev_3"><a id="GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E" name="GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E"></a><h4 id="ADFNS-GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E" class="sect4">从HTML表单上载文件</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用HTML表单在客户端系统上选择文件，并将其传输到服务器。存储的子程序可以将文件作为<code class="codeph">CLOB</code> ， <code class="codeph">BLOB</code>或其他可以容纳大量数据的类型插入数据库。
                        </p>
                        <p>PL / SQL Web Toolkit和PL / SQL网关具有保存上载文件的“文档表”的概念。</p>
                        <div class="infoboxnotealso" id="GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E__GUID-99CE8C24-8D85-4574-89CE-ECA998161E07">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="italic">mod_plsql用户指南</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1384"></a><div class="props_rev_3"><a id="GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD" name="GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD"></a><h4 id="ADFNS-GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD" class="sect4">提交完整的HTML表单</h4>
                  <div>
                     <div class="section">
                        <p>默认情况下，HTML表单必须具有“ <code class="codeph">Submit</code>按钮，该按钮将表单中的数据传输到存储的子程序或CGI程序。您可以使用您选择的文本标记此按钮，例如“搜索”，“注册”等。
                        </p>
                        <p>您可以在同一页面上拥有多个表单，每个表单都有自己的表单元素和“ <code class="codeph">Submit</code>按钮。您甚至可以拥有完全由隐藏参数组成的表单，除了单击按钮之外，用户别无选择。
                        </p>
                        <p>使用JavaScript或其他脚本语言，您可以取消“提交”按钮并提交表单以响应其他一些操作，例如从下拉列表中进行选择。当用户进行单个选择时，此技术最佳，并且“ <code class="codeph">Submit</code>按钮的确认步骤不是必需的。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1385"></a><div class="props_rev_3"><a id="GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F" name="GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F"></a><h4 id="ADFNS-GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F" class="sect4">处理HTML表单中的缺失输入</h4>
                  <div>
                     <div class="section">
                        <p>提交HTML表单时，存储的子程序会接收未填写的任何表单元素的空参数。例如，null参数可以来自空条目字段，一组复选框，选项或没有选中的列表项，或者<code class="codeph">VALUE</code>参数为“”（空引号）。
                        </p>
                        <p>无论您在客户端进行任何验证，使用代码存储的子程序来处理某些参数为null的可能性：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在所有参数声明中指定初始值，以防止在使用缺少的表单参数调用存储的子程序时发生异常。您可以将数值初始值设置为零（当有意义时），并在想要检查用户是否指定值时设置为<code class="codeph">NULL</code> 。
                              </p>
                           </li>
                           <li>
                              <p>在使用初始值为<code class="codeph">NULL</code>的输入参数值之前，请检查它是否为null。
                              </p>
                           </li>
                           <li>
                              <p>即使未指定所有输入参数，也可使子程序生成合理的结果。您可以在报告中保留一些部分，或在报告中显示文本字符串或图像以指示未指定参数的位置。</p>
                           </li>
                           <li>
                              <p>提供一种方法来填写缺失值并直接从结果页面再次运行存储的子程序。例如，包含一个链接，该链接使用附加参数调用相同的存储子程序，或显示原始表单及其值作为输出的一部分填入。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1386"></a><div class="props_rev_3"><a id="GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4" name="GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4"></a><h4 id="ADFNS-GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4" class="sect4">维护网页之间的状态信息</h4>
                  <div>
                     <div class="section">
                        <p>Web应用程序特别关注<strong class="term">状态</strong>的概念，即在特定时刻当前的数据集。从一个网页切换到另一个网页时很容易丢失状态信息，这可能导致要求用户重复做出相同的选择。
                        </p>
                        <p>您可以使用HTML表单在动态网页之间传递状态信息。信息作为一组名称 - 值对传递，这些名称 - 值对将转换为存储的子程序参数。</p>
                        <p>如果用户必须进行多项选择，或多次选择中的一项选择，或者避免意外选择很重要，请使用HTML表单。在用户制作并查看所有选项后，他们使用“ <code class="codeph">Submit</code>按钮确认选项。后续页面可以使用带有隐藏参数的表单（ <code class="codeph">&lt;INPUT TYPE=HIDDEN&gt;</code>标签）将这些选项从一个页面传递到下一个页面。
                        </p>
                        <p>如果用户正在考虑一个或两个选项，或者决策点分散在整个网页中，则可以通过将操作表示为超链接并在查询字符串中包含任何必要的名称 - 值对来保护用户不要寻找“ <code class="codeph">Submit</code>按钮（之后的部分<code class="codeph">?</code> 在URL内）。
                        </p>
                        <p>主状态信息的另一种方法是使用Oracle Application Server及其<code class="codeph">mod_ose</code>模块。此方法允许您将状态信息存储在包变量中，这些变量在用户在网站上移动时仍然可用。
                        </p>
                        <div class="infoboxnotealso" id="GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4__GUID-82C58DC1-360F-4642-AE5B-81DA3B293436">
                           <p class="notep1">也可以看看：</p>
                           <p>Oracle Application Server文档集：</p><pre class="oac_no_warn" dir="ltr"><a href="http://www.oracle.com/technetwork/indexes/documentation/index.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/indexes/documentation/index.html</code></a></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS504"></a><a id="ADFNS1387"></a><div class="props_rev_3"><a id="GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F" name="GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F"></a><h3 id="ADFNS-GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F" class="sect3">在PL / SQL子程序中执行网络操作</h3>
               <div>
                  <div class="section">
                     <p>Oracle提供的包允许PL / SQL子程序使用PL / SQL执行一组网络操作：发送电子邮件，获取主机名或地址，使用TCP / IP连接，检索HTTP URL内容，以及使用表，图像映射，cookie和CGI变量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>话题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="web-applications.html#GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163" title="从Oracle Database 11g第2版（11.2.0.1）开始，PL / SQL网络实用程序包支持IPv6地址。">Internet协议版本6（IPv6）支持</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F">从PL / SQL发送电子邮件</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A">从PL / SQL获取主机名或地址</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4">使用PL / SQL中的TCP / IP连接</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-FF491AF5-3100-414E-8A08-1A9A843302EE">从PL / SQL检索HTTP URL内容</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-BB83CE26-473D-418D-AAD5-F44061D595C3">使用来自PL / SQL的Tables_ Image Maps_ Cookies_和CGI变量</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163" name="GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163"></a><h4 id="ADFNS-GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163" class="sect4">Internet协议版本6（IPv6）支持</h4>
                  <div>
                     <p>从Oracle Database <span class="italic">11g</span>第2版（11.2.0.1）开始，PL / SQL网络实用程序包支持IPv6地址。
                     </p>
                     <p>包接口没有改变：任何期望网络主机接受字符串形式的IPv6地址的接口参数，任何返回IP地址的接口都可以返回IPv6地址。</p>
                     <p>但是，使用网络地址的应用程序可能需要进行少量更改和重新编译，以适应IPv6地址。IPv6地址具有128位，而IPv4地址具有32位。在URL中，IPv6地址必须括在括号中。例如：</p><pre class="oac_no_warn" dir="ltr">http：// <span class="bold">[</span> 2001：0db8：85a3：08d3：1319：8a2e：0370：7344 <span class="bold">]</span> /</pre><div class="infoboxnotealso" id="GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163__GUID-C48CFE06-C57C-4D9D-8347-4691E85E02E0">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../netag/understanding-communication-layers.html#NETAG999" target="_blank"><span class="italic">有关Oracle数据库中</span></a> IPv6支持的详细信息，请参见<a href="../netag/understanding-communication-layers.html#NETAG999" target="_blank"><span class="italic">“Oracle数据库网络服务管理员指南”</span></a></p>
                           </li>
                           <li>
                              <p>有关特定PL / SQL网络实用程序包中IPv6支持的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS-GUID-4C1C3180-3C8F-41F9-BFB7-A65AD6930035" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1389"></a><a id="ADFNS1388"></a><div class="props_rev_3"><a id="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F" name="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F"></a><h4 id="ADFNS-GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F" class="sect4">从PL / SQL发送电子邮件</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">UTL_SMTP</code>包，PL / SQL子程序可以发送电子邮件，如<a href="web-applications.html#GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F__CHEDDHCC">例17-11所示</a> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F__GUID-2E3E99D2-4CB2-47E4-ADE5-E99549368385">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">UTL_SMTP</code>包的详细信息，请<a href="../arpls/UTL_SMTP.html#ARPLS074" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F__CHEDDHCC">
                        <p class="titleinexample">示例17-11从PL / SQL发送电子邮件</p><pre class="oac_no_warn" dir="ltr">创建或替换过程send_test_message IS mailhost VARCHAR2（64）：='mailhost.example.com';发件人VARCHAR2（64）：='me@example.com';收件人VARCHAR2（64）：='you@example.com'; <span class="bold">mail_conn UTL_SMTP.CONNECTION;</span> BEGIN <span class="bold">mail_conn：= UTL_SMTP.OPEN_CONNECTION（mailhost，25）; -  25是端口</span> <span class="bold">UTL_SMTP.HELO（mail_conn，mailhost）;</span> <span class="bold">UTL_SMTP.MAIL（mail_conn，sender）;</span> <span class="bold">UTL_SMTP.RCPT（mail_conn，收件人）;</span> <span class="bold">UTL_SMTP.OPEN_DATA（mail_conn）;</span> <span class="bold">UTL_SMTP.WRITE_DATA（mail_conn，'这是测试消息。'|| chr（13））;</span> <span class="bold">UTL_SMTP.WRITE_DATA（mail_conn，'这是第2行'||| chr（13））;</span> <span class="bold">UTL_SMTP.CLOSE_DATA（mail_conn）;</span> / *如果消息是单字符串，open_data（），write_data（）和close_data（）可以在一次调用data（）。* / <span class="bold">UTL_SMTP.QUIT（mail_conn）;</span>除此之外的例外 - 在此处插入错误处理代码RAISE;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1390"></a><div class="props_rev_3"><a id="GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A" name="GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A"></a><h4 id="ADFNS-GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A" class="sect4">从PL / SQL获取主机名或地址</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">UTL_INADDR</code>程序包，PL / SQL子程序可以确定本地系统的主机名或给定主机名的IP地址。
                        </p>
                        <div class="infoboxnotealso" id="GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A__GUID-4A567A14-3C44-420E-916B-97240C883F8B">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">UTL_INADDR</code>程序包的详细信息，请<code class="codeph">UTL_INADDR</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS071" target="_blank"><span class="italic">Oracle Database PL / SQL程序包和类型参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1391"></a><div class="props_rev_3"><a id="GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4" name="GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4"></a><h4 id="ADFNS-GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4" class="sect4">使用PL / SQL中的TCP / IP连接</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">UTL_TCP</code>包，PL / SQL子程序可以打开到网络上系统的TCP / IP连接，并读取或写入相应的套接字。
                        </p>
                        <div class="infoboxnotealso" id="GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4__GUID-3DB3E7BB-BA21-4C82-8E6E-8633EF89D5A4">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">UTL_TCP</code>程序包的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS075" target="_blank"><span class="italic">Oracle Database PL / SQL程序包和类型参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1393"></a><a id="ADFNS1392"></a><div class="props_rev_3"><a id="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE" name="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE"></a><h4 id="ADFNS-GUID-FF491AF5-3100-414E-8A08-1A9A843302EE" class="sect4">从PL / SQL检索HTTP URL内容</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">UTL_HTTP</code>包，PL / SQL子程序可以：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>检索HTTP URL的内容</p>
                              <p>内容通常采用HTML标记文本的形式，但可以是可以从Web服务器下载的任何类型的文件（例如，纯文本或JPEG图像）。</p>
                           </li>
                           <li>
                              <p>控制HTTP会话详细信息（例如标头，cookie，重定向，代理服务器，受保护站点的ID和密码以及CGI参数）</p>
                           </li>
                           <li>
                              <p>使用HTTP 1.1持久连接加速对同一网站的多次访问</p>
                           </li>
                        </ul>
                        <p>PL / SQL子程序可以使用函数<code class="codeph">UTL_URL</code>构造和解释与<code class="codeph">UTL_HTTP</code>包一起使用的<code class="codeph">UTL_URL</code> 。 <code class="codeph">ESCAPE</code>和<code class="codeph">UTL_URL</code> 。 <code class="codeph">UNESCAPE</code> 。</p>
                        <p><a href="web-applications.html#GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__CHEFFGBA">例17-12中</a>的PL / SQL过程使用<code class="codeph">UTL_HTTP</code>包来检索HTTP URL的内容。</p>
                        <p>此块显示了对<a href="web-applications.html#GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__CHEFFGBA">示例17-12中</a>的过程的调用<a href="web-applications.html#GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__CHEFFGBA">示例</a> ，但URL是针对不存在的页面。从您自己的Web服务器替换URL。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN show_url（'http://www.oracle.com/no-such-page.html'）; show_url（ 'http://www.oracle.com/protected-page.html'）; show_url（'http://www.oracle.com/protected-page.html'，' <span class="italic">用户名</span> '，' <span class="italic">密码</span> '）;结束; /</pre><div class="infoboxnotealso" id="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__GUID-08B38E2E-40FB-42F4-BBD4-836D27F3FD8E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">UTL_HTTP</code>包的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS070" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">UTL_URL</code>详细信息，请<code class="codeph">UTL_URL</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS073" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。 <code class="codeph">ESCAPE</code>和<code class="codeph">UTL_URL</code> 。 <code class="codeph">UNESCAPE</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__CHEFFGBA">
                        <p class="titleinexample">示例17-12从PL / SQL检索HTTP URL内容</p><pre class="oac_no_warn" dir="ltr">创建或替换过程show_url（url IN VARCHAR2，用户名IN VARCHAR2：= NULL，密码IN VARCHAR2：= NULL）AS <span class="bold">req UTL_HTTP.REQ;</span> <span class="bold">resp UTL_HTTP.RESP;</span> name_ VARCHAR2（256）; value_ VARCHAR2（1024）; data_ VARCHAR2（255）; my_scheme VARCHAR2（256）; my_realm VARCHAR2（256）; my_proxy BOOLEAN; BEGIN  - 通过防火墙时，通过此主机传递请求。- 指定防火墙内不需要代理主机的站点。
 
  <span class="bold">UTL_HTTP.SET_PROXY（'proxy.example.com'，'corp.example.com'）;</span> - 要求UTL_HTTP不要为4xx和5xx状态代码引发异常，而不是仅仅返回错误页面的文本。
 
  <span class="bold">UTL_HTTP.SET_RESPONSE_ERROR_CHECK（FALSE）;</span> - 开始检索此网页。
 <span class="bold">req：= UTL_HTTP.BEGIN_REQUEST（url）;</span> -  证明你的身份。- 某些网站为特定浏览器提供特殊页面。
  <span class="bold">UTL_HTTP.SET_HEADER（req，'User-Agent'，'Mozilla / 4.0'）;</span> - 为需要它们的页面指定用户ID和密码。IF（用户名IS非空）然后是<span class="bold">UTL_HTTP.SET_AUTHENTICATION（req，用户名，密码）;</span>万一; - 开始接收HTML文本。
  <span class="bold">resp：= UTL_HTTP.GET_RESPONSE（req）;</span> - 显示响应的状态代码和原因短语。DBMS_OUTPUT.PUT_LINE（'HTTP响应状态码：'|| resp.status_code）; DBMS_OUTPUT.PUT_LINE（'HTTP响应原因短语：'|| resp.reason_phrase）; - 查找客户端错误并报告。IF（resp.status_code&gt; = 400）AND（resp.status_code &lt;= 499）那么 - 检测页面是否受密码保护 - 并且您没有提供正确的授权。
 
  <span class="bold">IF（resp.status_code = UTL_HTTP.HTTP_UNAUTHORIZED）那么</span> <span class="bold">UTL_HTTP.GET_AUTHENTICATION（resp，my_scheme，my_realm，my_proxy）;</span> IF（my_proxy）那么DBMS_OUTPUT.PUT_LINE（'Web代理服务器受到保护。“）; DBMS_OUTPUT.PUT（'请为代理服务器提供所需的'|| my_scheme ||'认证用户名for realm'|| my_realm ||'。“）; ELSE DBMS_OUTPUT.PUT_LINE（'网页'|| url ||'受到保护。“）; DBMS_OUTPUT.PUT（'请为网页提供所需的'|| my_scheme ||'认证用户名for realm'|| my_realm ||'。“）;万一; ELSE DBMS_OUTPUT.PUT_LINE（'检查URL。'）;万一; <span class="bold">UTL_HTTP.END_RESPONSE（RESP）;</span>返回; - 查找服务器端错误并报告。ELSIF（resp.status_code&gt; = 500）AND（resp.status_code &lt;= 599）那么DBMS_OUTPUT.PUT_LINE（'检查网站是否已启动。“）; <span class="bold">UTL_HTTP.END_RESPONSE（RESP）;</span>返回;万一; -  HTTP标题行包含有关cookie，字符集的信息，以及客户端和服务器可用于自定义每个会话的其他数据。
 
  <span class="bold">FOR I IN 1 ..UTL_HTTP.GET_HEADER_COUNT（resp）LOOP</span> <span class="bold">UTL_HTTP.GET_HEADER（resp，i，name_，value_）;</span> DBMS_OUTPUT.PUT_LINE（name_ ||'：'|| value_）;结束循环; - 读取行，直到没有剩余，并引发异常。LOOP <span class="bold">UTL_HTTP.READ_LINE（resp，value_）;</span> DBMS_OUTPUT.PUT_LINE（VALUE_）;结束循环; <span class="bold">UTL_HTTP.END_OF_BODY，</span> <span class="bold">UTL_HTTP.END_RESPONSE（resp）时的</span>异常<span class="bold">;</span>结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1394"></a><div class="props_rev_3"><a id="GUID-BB83CE26-473D-418D-AAD5-F44061D595C3" name="GUID-BB83CE26-473D-418D-AAD5-F44061D595C3"></a><h4 id="ADFNS-GUID-BB83CE26-473D-418D-AAD5-F44061D595C3" class="sect4">使用PL / SQL中的表格，图像映射，Cookie和CGI变量</h4>
                  <div>
                     <div class="section">
                        <p>使用Oracle提供的软件包和Oracle HTTP Server（OHS）的<code class="codeph">mod_plsql</code>插件，PL / SQL子程序可以格式化HTML表格中的查询结果，生成图像映射，设置和获取HTTP cookie，检查CGI变量的值，并执行其他典型的Web操作。
                        </p>
                        <p>这些包的文档不是数据库文档库的一部分。文档的位置取决于您的应用程序服务器。要开始使用这些包，请使用SQL * Plus <code class="codeph">DESCRIBE</code>语句查看它们的子程序名称和参数：</p><pre class="oac_no_warn" dir="ltr">DESCRIBE HTP; DESCRIBE HTF; DESCRIBE OWA_UTIL;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>