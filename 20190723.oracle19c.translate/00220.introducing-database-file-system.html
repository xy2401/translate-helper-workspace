<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>介绍数据库文件系统</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="database-file-system.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBFS-securefiles-store.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-file-system.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBFS-securefiles-store.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-file-system.html" property="item" typeof="WebPage"><span property="name">数据库文件系统（DBFS）</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">介绍数据库文件系统</li>
            </ol>
            <a id="GUID-B7A83817-F0D6-4A09-AE98-DFC966783109" name="GUID-B7A83817-F0D6-4A09-AE98-DFC966783109"></a><a id="ADLOB45943"></a>
            
            <h2 id="ADLOB-GUID-B7A83817-F0D6-4A09-AE98-DFC966783109" class="sect2"><span class="enumeration_chapter">20</span>数据库文件系统简介</h2>
         </header>
         <div class="ind">
            <div>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="introducing-database-file-system.html#GUID-6CB9F457-01AA-438D-9DE2-99F297319A66" title="从概念上讲，数据库文件系统是放置在存储在数据库表中的文件和目录之上的文件系统接口。">为何选择数据库文件系统？</a></p>
                  </li>
                  <li>
                     <p><a href="introducing-database-file-system.html#GUID-B0D12A6F-88EF-41D5-A15A-722D12F7123A" title="数据库文件系统（DBFS）在存储在数据库表中的文件和目录之上创建标准文件系统接口。">什么是数据库文件系统（DBFS）？</a></p>
                  </li>
                  <li>
                     <p><a href="introducing-database-file-system.html#GUID-D8566848-A0D2-47DC-99D0-AFB48F76E593" title="内容存储库是文档的集合。">什么是内容商店？</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB45988"></a><div class="props_rev_3"><a id="GUID-6CB9F457-01AA-438D-9DE2-99F297319A66" name="GUID-6CB9F457-01AA-438D-9DE2-99F297319A66"></a><h3 id="ADLOB-GUID-6CB9F457-01AA-438D-9DE2-99F297319A66" class="sect3">为何选择数据库文件系统？</h3>
               <div>
                  <p>从概念上讲，数据库文件系统是放置在存储在数据库表中的文件和目录之上的文件系统接口。</p>
                  <p>应用程序通常使用标准SQL数据类型<code class="codeph">BLOB</code>和<code class="codeph">CLOB</code>来存储和检索Oracle数据库中的文件，医疗图像，发票图像，文档，视频和其他文件等文件。与传统文件系统相比，Oracle数据库提供了更好的安全性，可用性，健壮性，事务性能和可伸缩性。存储在数据库中的文件以及关系数据将自动备份，使用Data Guard同步到灾难恢复站点，并一起恢复。
                  </p>
                  <p>数据库文件系统（DBFS）是Oracle数据库的一项功能，使用户可以更轻松地访问和管理存储在数据库中的文件。使用此接口，对数据库中文件的访问不再局限于专门编写为使用<code class="codeph">BLOB</code>和<code class="codeph">CLOB</code>编程接口的程序。现在可以使用任何作用于文件的操作系统（OS）程序透明地访问数据库中的文件。例如，ETL（提取，转换和加载）工具可以透明地将暂存文件存储在数据库中，而基于文件的应用程序可以从数据库功能（如最大可用性体系结构（MAA））中受益，而无需对应用程序进行任何更改。
                  </p>
               </div>
            </div><a id="ADLOB45989"></a><div class="props_rev_3"><a id="GUID-B0D12A6F-88EF-41D5-A15A-722D12F7123A" name="GUID-B0D12A6F-88EF-41D5-A15A-722D12F7123A"></a><h3 id="ADLOB-GUID-B0D12A6F-88EF-41D5-A15A-722D12F7123A" class="sect3">什么是数据库文件系统（DBFS）？</h3>
               <div>
                  <p>数据库文件系统（DBFS）在存储在数据库表中的文件和目录之上创建标准文件系统接口。</p>
                  <p>数据库文件系统（DBFS）使用服务器和客户端创建标准文件系统接口。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="introducing-database-file-system.html#GUID-B3257D5E-2B38-4D98-A23B-A85E40DABCC8" title="DBFS与NFS类似，它提供的共享网络文件系统看起来像本地文件系统，同时具有服务器组件和客户端组件。">关于DBFS</a></p>
                     </li>
                     <li>
                        <p><a href="introducing-database-file-system.html#GUID-364B5298-6E85-4C02-A6BF-CD895FAE207A" title="在DBFS中，文件服务器是Oracle数据库。">DBFS服务器</a></p>
                     </li>
                     <li>
                        <p><a href="introducing-database-file-system.html#GUID-D3157168-AD57-4EBD-B1E0-5FBF5470A4C7" title="对于客户端系统，数据库文件系统提供了多种访问方法。">DBFS客户端</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45990"></a><div class="props_rev_3"><a id="GUID-B3257D5E-2B38-4D98-A23B-A85E40DABCC8" name="GUID-B3257D5E-2B38-4D98-A23B-A85E40DABCC8"></a><h4 id="ADLOB-GUID-B3257D5E-2B38-4D98-A23B-A85E40DABCC8" class="sect4">关于DBFS</h4>
                  <div>
                     <p>DBFS与NFS类似，它提供的共享网络文件系统看起来像本地文件系统，同时具有服务器组件和客户端组件。</p>
                     <p>DBFS的核心是DBFS Content API，它是Oracle数据库中的PL / SQL接口。它连接到DBFS Content SPI，这是一个程序化接口，允许支持不同类型的存储。</p>
                     <p>在编程级别，客户端调用DBFS Content API来执行特定功能，例如删除文件。然后，DBFS Content API <span class="italic">删除文件</span>函数调用DBFS内容SPI来执行该功能。
                     </p>
                     <p>在用户定义的DBFS中，用户必须根据DBFS内容SPI中的规范以及规范中的其他功能实现删除功能。</p>
                     <div class="figure" id="GUID-B3257D5E-2B38-4D98-A23B-A85E40DABCC8__GUID-927C63D6-89D2-4A73-9B75-AE5E27CB8C6E">
                        <p class="titleinfigure">图20-1数据库文件系统（DBFS）</p><img src="img/adlob201.gif" width="373" alt="下面是图20-1的描述" title="下面是图20-1的描述" longdesc="img_text/adlob201.html"><br><a href="img_text/adlob201.html">“图20-1数据库文件系统（DBFS）”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="ADLOB46182"></a><div class="props_rev_3"><a id="GUID-364B5298-6E85-4C02-A6BF-CD895FAE207A" name="GUID-364B5298-6E85-4C02-A6BF-CD895FAE207A"></a><h4 id="ADLOB-GUID-364B5298-6E85-4C02-A6BF-CD895FAE207A" class="sect4">DBFS服务器</h4>
                  <div>
                     <p>在DBFS中，文件服务器是Oracle数据库。</p>
                     <p>文件作为SecureFiles LOB存储在数据库表中。数据库中文件系统的实现称为DBFS内容存储库，例如DBFS SecureFiles存储库。DBFS内容存储库允许每个数据库用户创建一个或多个可由客户端装入的文件系统。每个文件系统都有自己的专用表来保存文件系统内容。</p>
                     <p>DBFS内容SPI支持不同类型的存储，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>DBFS SecureFiles Store：一个DBFS内容存储库，它使用带有SecureFiles LOB列的表来存储文件系统数据。它实现了类似POSIX的文件系统功能。</p>
                        </li>
                        <li>
                           <p>DBFS分层存储：DBFS内容存储，允许将文件写入Oracle Recovery Manager（RMAN）支持的任何磁带存储单元或云存储系统。</p>
                        </li>
                        <li>
                           <p>用户定义的存储：用户定义的内容存储。这允许用户在Oracle数据库内编写自己的文件系统，而无需编写任何操作系统代码。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-364B5298-6E85-4C02-A6BF-CD895FAE207A__GUID-A2CD6B7B-F4D5-4479-912F-4161E9AB9636">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="creating-your-own-DBFS-store.html#GUID-01819696-9FE0-41AB-9388-A0ECA1F72E52" title="要自定义DBFS存储，必须实现DBFS内容SPI（DBMS_DBFS_CONTENT_SPI）。它是现有存储（如DBFS SecureFiles存储和DFFS分层存储）以及您创建的任何用户定义的DBFS存储的基础。DBFS内容SPI（存储提供程序接口）仅是规范，没有包体。您可以将此示例存储提供程序用于DBFS，TaBleFileSystem存储提供程序（“tbfs”），作为自定义提供程序的框架或作为学习工具，以熟悉DBFS及其SPI。这些是示例存储提供程序的机制对于DBFS，TaBleFileSystem存储提供程序（“tbfs”）。您将需要某些文件来安装和设置DBFS TaBleFileSystem Store Provider（“tbfs”）。一旦安装了DBFS的示例存储提供程序，TaBleFileSystem Store Provider（“tbfs”），就可以用几种不同的方式添加或删除文件，并且可以对TBFS进行其他更改.TBFS很简单，因为它的主要目的是提供服务作为教学和学习的例子。TBFS.SQL脚本是顶级驱动程序脚本。TBL.SQL脚本创建测试用户，表空间，支持文件系统的表等等。spec.sql脚本提供tbfs的SPI规范。body.sql脚本提供了tbfs的SPI实现。capi.sql脚本注册并安装DBFS。">创建自己的DBFS存储</a></p>
                           </li>
                           <li>
                              <p><a href="DBFS-content-API.html#GUID-630BE6DB-0178-4EE4-8D7D-824BA886F68E" title="您可以使应用程序在多个不同的编程环境中使用数据库文件系统（DBFS）。">DBFS内容API</a></p>
                           </li>
                           <li>
                              <p><a href="DBFS-hierarchical-store.html#GUID-375BEA1D-F37C-4647-B3CF-03A4FDCF7161" title="DBFS分层存储和相关的商店钱包管理协同工作以存储不常使用的数据。">DBFS分层存储</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADLOB46183"></a><div class="props_rev_3"><a id="GUID-D3157168-AD57-4EBD-B1E0-5FBF5470A4C7" name="GUID-D3157168-AD57-4EBD-B1E0-5FBF5470A4C7"></a><h4 id="ADLOB-GUID-D3157168-AD57-4EBD-B1E0-5FBF5470A4C7" class="sect4">DBFS客户端</h4>
                  <div>
                     <p>对于客户端系统，数据库文件系统提供了多种访问方法。</p>
                     <p>数据库文件系统提供了多种访问方法。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL客户端接口</p>
                           <p>数据库应用程序可以通过PL / SQL接口直接访问DBFS存储中的文件。PL / SQL接口允许数据库事务和读取一致性跨越关系和文件数据。</p>
                        </li>
                        <li>
                           <p>DBFS客户端命令行界面</p>
                           <p>名为<code class="codeph">dbfs_client</code>客户端命令行界面在每个文件系统客户端计算机上运行。 <code class="codeph">dbfs_client</code>允许用户从网络上的任何主机复制文件进出数据库。它以类似于shell实用程序<code class="codeph">ls</code>和<code class="codeph">rcp</code>的方式实现简单的文件系统命令，例如列表和副本。命令接口创建与数据库的直接连接，而无需安装DBFS的OS。</p>
                        </li>
                        <li>
                           <p>文件系统安装接口</p>
                           <p>在Linux和Solaris上， <code class="codeph">dbfs_client</code>还包括一个安装接口，该接口使用用户空间中的文件系统（ <code class="codeph">FUSE</code> ）内核模块来实现文件系统<a href="glossary.html#GUID-D2894DED-27C9-4846-A980-D51E22388EC7"><span class="xrefglossterm">安装点，</span></a>并且可以透明地访问存储在数据库中的文件。这不需要对Linux或Solaris内核进行任何更改。它从<code class="codeph">FUSE</code>内核模块接收标准文件系统调用，并将它们转换为对DBFS内容存储库中的PL / SQL过程的OCI调用。
                           </p>
                        </li>
                        <li>
                           <p>DBFS链接</p>
                           <p>DBFS链接，数据库文件系统链接，是从SecureFiles LOB定位器到存储在数据库外部的文件的引用。</p>
                           <p>DBFS链接可用于将SecureFiles从现有表迁移到其他存储。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-D3157168-AD57-4EBD-B1E0-5FBF5470A4C7__NOTE-133-DFE6537F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-DBFS.html#GUID-817DFDC2-7729-4CB6-BAE7-598E9B021DD8" title="DBFS是Oracle数据库安装的一部分，安装在ORACLE_HOME下。 DBFS文件系统可以是分区的或非分区的。它可能要求用户拥有某些特权。数据库用户必须具有创建文件系统的最小权限集。您可以创建非分区或分区文件系统。分区是在DBFS中创建文件系统的最佳性能和最具可伸缩性的方式，并且是默认方式。您可以通过以具有DBFS管理员权限的用户身份登录来运行DBFS_CREATE_FILESYSTEM.SQL来创建文件系统。分区在数据库中创建多个物理段，文件在这些分区中随机分布。您可以通过运行DBFS_DROP_FILESYSTEM.SQL来删除文件系统。您可以通过先决条件，访问接口，DBFS安全模型和XML DB服务器协议访问DBFS文件系统。DBFS文件系统客户端（名为dbfs_client）在将使用某些先决条件访问DBFS文件系统的每个系统上运行。DBFS客户端命令行界面允许您直接访问存储在DBFS中的文件。 DBFS客户端命令行界面允许您执行许多预定义的命令，例如从网络上的任何主机复制文件进出DBFS文件系统。您可以通过提供路径名来创建内容存储库路径。您可以使用mkdir命令创建新目录。您可以使用ls命令列出目录的内容。您可以使用cp命令将文件或目录从源位置复制到目标位置。您可以使用命令rm删除文件或目录。您可以仅在Linux和Solaris中使用dbfs_client挂载DBFS。您可以在Solaris 11 SRU7及更高版本中将dbfs_client用作装载客户端，如果安装FUS，则可以通过运行dbfs_client程序来装入DBFS存储。在Solaris上，用户必须具有Solaris权限PRIV_SYS_MOUNT才能对DBFS文件系统执行装入和卸载操作。Solaris和Linux的dbfs_client mount命令使用特定语法。配置各种环境变量后，可以使用钱包挂载文件系统。您可以使用dbfs_client挂载文件系统。您可以使用从文件中读取的密码安装文件系统。在Linux中，您可以运行fusermount来卸载文件系统。在Linux中，您可以配置fstab实用程序以使用dbfs_client来装入DBFS文件系统。如果Oracle RAC集群中的某个数据库实例发生故障，dbfs_client程序可以故障转移到其他现有数据库实例之一。DBFS在线文件系统重组是一种功能强大的数据移动工具，具有这些优势。">使用DBFS</a></p>
                           </li>
                           <li>
                              <p><a href="using-DBFS.html#GUID-6B646446-BD50-44CD-9C52-4B1039242910" title="您可以仅在Linux和Solaris中使用dbfs_client挂载DBFS。">DBFS安装接口（仅限Linux和Solaris）</a></p>
                           </li>
                           <li>
                              <p><a href="DBFS-hierarchical-store.html#GUID-3BE7F481-16AB-4584-8339-220D9EAC8684" title="数据库文件系统链接允许将SecureFiles LOB存储在与平常不同的位置。">数据库文件系统链接</a>有关使用DBFS链接的信息</p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" title="有一些PL / SQL包可以与BasicFiles LOB和SecureFiles LOB一起使用。">用于LOB和DBFS的PL / SQL包，</a>用于列出有用的<code class="codeph">DBMS_LOB</code>常量和方法</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB46205"></a><div class="props_rev_3"><a id="GUID-D8566848-A0D2-47DC-99D0-AFB48F76E593" name="GUID-D8566848-A0D2-47DC-99D0-AFB48F76E593"></a><h3 id="ADLOB-GUID-D8566848-A0D2-47DC-99D0-AFB48F76E593" class="sect3">什么是内容商店？</h3>
               <div>
                  <p>内容存储库是文档的集合。</p>
                  <p>每个内容存储库都由唯一的绝对路径名称标识，表示为斜杠（ <code class="codeph">/</code> ），后跟一个或多个组件名称，每个组件名称用斜杠分隔。一些商店可能只实现平面命名空间，其他商店可能隐式实现目录或文件夹，而其他商店可能实现类似于文件系统的综合实体集合。这些可能包括分层目录，文件，符号链接，硬链接，引用等。它们通常包含与文档关联的丰富元数据集，以及与安全性，访问控制，锁定，版本控制，内容寻址，保留控制等相关的丰富行为。
                  </p>
                  <p>由于存储通常是相互独立设计和发展的，因此使用特定存储的应用程序可以由存储的开发人员编写和打包，也可以要求用户使用特定于存储的API。创建特定于商店的API的设计人员必须详细了解用于实现商店的数据库表的架构。</p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>