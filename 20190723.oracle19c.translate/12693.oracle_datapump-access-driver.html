<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The ORACLE_DATAPUMP access driver provides a set of access parameters that are unique to external tables of the type ORACLE_DATAPUMP."></meta>
      <meta name="description" content="The ORACLE_DATAPUMP access driver provides a set of access parameters that are unique to external tables of the type ORACLE_DATAPUMP."></meta>
      <title>ORACLE_DATAPUMP访问驱动程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Utilities "></meta>
      <meta property="og:description" content="The ORACLE_DATAPUMP access driver provides a set of access parameters that are unique to external tables of the type ORACLE_DATAPUMP."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Utilities"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-utilities.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T19:07:17-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96081-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle_loader-access-driver.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle_hdfs-oracle_hive-access-drivers.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Utilities"></meta>
    <meta name="dcterms.isVersionOf" content="SUTIL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle_loader-access-driver.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle_hdfs-oracle_hive-access-drivers.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">公用事业</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-external-tables.html" property="item" typeof="WebPage"><span property="name">外部表格</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ORACLE_DATAPUMP访问驱动程序</li>
            </ol>
            <a id="GUID-084DC623-9656-499C-885B-D8180C07704B" name="GUID-084DC623-9656-499C-885B-D8180C07704B"></a>
            
            <h2 id="SUTIL-GUID-084DC623-9656-499C-885B-D8180C07704B" class="sect2"><span class="enumeration_chapter">16</span> ORACLE_DATAPUMP访问驱动程序</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序提供一组访问参数，这些参数对于<code class="codeph">ORACLE_DATAPUMP</code>类型的外部表是唯一的。</p>
               <p>话题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-0811F362-161A-4D4B-B480-845CADA0D372">使用ORACLE_DATAPUMP访问驱动程序</a><br>要修改访问驱动程序的默认行为，请使用ORACLE_DATAPUMP访问参数。您通过访问驱动程序提供的信息可确保处理来自数据源的数据，以使其与外部表的定义相匹配。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A">access_parameters子句</a><br>创建外部表时，可以在<code class="codeph">access_parameters</code>子句中指定某些参数。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847">使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</a><br>作为使用SQL <code class="codeph">CREATE TABLE AS SELECT</code>语句创建外部表的一部分， <code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可以将数据写入转储文件。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C">支持的数据类型</a><br>本主题描述了支持的数据类型。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899">不支持的数据类型</a><br>本主题描述了不受支持的数据类型。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C">使用ORACLE_DATAPUMP访问驱动程序时的性能提示</a><br>本主题介绍使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序时的性能提示。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B">使用ORACLE_DATAPUMP访问驱动程序时的限制</a><br>本主题描述了<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的限制。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05">ORACLE_DATAPUMP访问驱动程序的保留字</a><br>本主题描述<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的保留字。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="oracle-external-tables.html#GUID-038ED956-A6EE-4C6D-B7C9-0D406B8088B6">外部表</a></p>
                  </div>
               </div>
            </div>
            <a id="SUTIL500"></a><div class="sect2"><a id="GUID-0811F362-161A-4D4B-B480-845CADA0D372" name="GUID-0811F362-161A-4D4B-B480-845CADA0D372"></a><h3 id="SUTIL-GUID-0811F362-161A-4D4B-B480-845CADA0D372" class="sect3"><span class="enumeration_section">16.1</span>使用ORACLE_DATAPUMP访问驱动程序</h3>
               <div>
                  <p>要修改访问驱动程序的默认行为，请使用ORACLE_DATAPUMP访问参数。您通过访问驱动程序提供的信息可确保处理来自数据源的数据，以使其与外部表的定义相匹配。</p>
                  <p></p>
                  <p>要成功使用ORACLE_DATAPUMP访问驱动程序，您必须了解平台上数据文件的文件格式和记录格式（包括字符集和字段数据类型）。您还必须能够使用SQL创建外部表，并对您创建的表执行查询。</p>
                  <div class="infoboxnote" id="GUID-0811F362-161A-4D4B-B480-845CADA0D372__GUID-23D55C7D-B312-4AF4-9985-F2EBA9117453">
                     <p class="notep1">注意：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有时很难在不使用其他语法的情况下描述语法，直到本章后面才详细说明。如果不清楚某些语法应该做什么，那么您可以跳过并阅读该特定元素。</p>
                        </li>
                        <li>
                           <p>当在外部表访问参数中指定标识符（例如，列或表名）时，访问参数解析器将某些值视为保留字。如果保留字用作标识符，则必须用双引号括起来。请参阅<a href="oracle_datapump-access-driver.html#GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05" title="本主题描述ORACLE_DATAPUMP访问驱动程序的保留字。">ORACLE_DATAPUMP访问驱动程序的保留字</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1449"></a><div class="props_rev_3"><a id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" name="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A"></a><h3 id="SUTIL-GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" class="sect3"><span class="enumeration_section">16.2</span> access_parameters子句</h3>
               <div>
                  <p>创建外部表时，可以在<code class="codeph">access_parameters</code>子句中指定某些参数。
                  </p>
                  <div class="section">
                     <p>该子句是可选的，其各个参数也是可选的。例如，您可以指定<code class="codeph">LOGFILE</code> ，但不能指定<code class="codeph">VERSION</code> ，反之亦然。<code class="codeph">access_parameters</code>子句的语法如下。
                     </p>
                     <div class="infoboxnote" id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A__GUID-3654A11D-E389-432B-AB49-FF9F7141B6C3">
                        <p class="notep1">注意：</p>
                        <p>这些访问参数统称为SQL <code class="codeph">CREATE TABLE...的<code class="codeph">opaque_format_spec</code> <code class="codeph">CREATE TABLE...ORGANIZATION EXTERNAL</code>声明。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A__GUID-3CA25D34-DBBA-4F4F-8C60-62C52997FAF5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL语言参考</span></a>有关在使用SQL <code class="codeph">CREATE TABLE...时指定<code class="codeph">opaque_format_spec</code>信息<code class="codeph">CREATE TABLE...ORGANIZATION EXTERNAL</code>声明</p>
                           </li>
                        </ul>
                     </div>
                     <div class="figure" id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A__GUID-A5B49762-3AE7-4D42-A377-50B406EA6B73"><img src="img/et_oracle_datapump.gif" width="459" alt="以下是et_oracle_datapump.eps的说明" title="以下是et_oracle_datapump.eps的说明" longdesc="img_text/et_oracle_datapump.html"><br><a href="img_text/et_oracle_datapump.html">插图描述et_oracle_datapump.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34">评论</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F">压缩</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343">加密</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D">LOGFILE | NOLOGFILE</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE">版本条款</a><br><code class="codeph">VERSION</code>子句用于指定将读取转储文件的Oracle数据库的最低版本。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-039387FC-3011-402F-B38A-B1D392738AD2">使用SQL ENCRYPT子句的影响</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1450"></a><div class="props_rev_3"><a id="GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34" name="GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34"></a><h4 id="SUTIL-GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34" class="sect4"><span class="enumeration_section">16.2.1</span>评论</h4>
                  <div>
                     <div class="section">
                        <p>注释是以两个连字符开头，后跟文本的行。必须<span class="italic">在</span>任何访问参数<span class="italic">之前</span>放置注释，例如：</p><pre class="oac_no_warn" dir="ltr">- 这是评论。- 这是另一个评论。NOLOG</pre><p>双连字符右侧的所有文本都将被忽略，直到该行的结尾。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3429"></a><a id="SUTIL3430"></a><a id="SUTIL3431"></a><a id="SUTIL1451"></a><div class="props_rev_3"><a id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F" name="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F"></a><h4 id="SUTIL-GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F" class="sect4"><span class="enumeration_section">16.2.2</span>压缩</h4>
                  <div>
                     <div class="section">
                        <p>默认值： <code class="codeph">DISABLED</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-C22A81CC-E8D4-4023-921A-C300748D280A">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>指定在将数据写入转储文件集之前是否压缩数据（以及可选的压缩算法）。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-F0E3593A-D48B-48C7-8491-3F62E9200382">语法和说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">压缩[ENABLED {BASIC | LOW | MEDIUM | HIGH} |禁用]</pre><ul style="list-style-type:disc">
                           <li>
                              <p>如果指定了<code class="codeph">ENABLED</code> ，则会为整个卸载操作压缩所有数据。您还可以指定以下压缩选项之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">BASIC</code> - 提供压缩比和速度的良好组合;使用的算法与以前版本的Oracle Data Pump中的算法相同。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LOW</code> - 对卸载吞吐量的影响最小，适用于CPU资源是限制因素的环境。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MEDIUM</code> - 适用于大多数环境。与<code class="codeph">BASIC</code>选项一样，此选项提供压缩比和速度的良好组合，但它使用与<code class="codeph">BASIC</code>不同的算法。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HIGH</code> - 最适合在较慢的网络上卸载，其中限制因素是网络速度。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-BC481BC2-F600-4983-A99E-D1DCF17E4749">
                                 <p class="notep1">注意：</p>
                                 <p>要使用这些压缩算法，必须将<code class="codeph">COMPATIBLE</code>初始化参数设置为至少12.0.0。此功能要求启用Oracle Advanced Compression选项。
                                 </p>
                              </div>
                              <p>压缩算法的性能以其CPU使用率和压缩比（压缩输出的大小占未压缩输入的百分比）为特征。这些度量因输入的大小和类型以及所使用的压缩算法的速度而异。压缩比通常从低到高增加，可能会消耗更多的CPU资源。</p>
                              <p>建议您对环境中的数据运行具有不同压缩级别的测试。根据您的环境，工作负载特征以及数据大小和类型选择压缩级别是确保导出的转储文件集压缩级别满足性能和存储要求的唯一方法。</p>
                           </li>
                           <li>
                              <p>如果指定了<code class="codeph">DISABLED</code> ，则不会为上载操作压缩任何数据。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-CC93B693-E34A-44D5-A524-A70967BDBA6B">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在以下示例中， <code class="codeph">COMPRESSION</code>参数设置为<code class="codeph">ENABLED</code> 。因此，写入<code class="codeph">dept.dmp</code>转储文件的所有数据都将采用压缩格式。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE deptXTec3 ORGANIZATION EXTERNAL（类型ORACLE_DATAPUMP DEFAULT目录def_dir1访问参数（压缩启用）位置（'dept.dmp'））;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3432"></a><a id="SUTIL3433"></a><a id="SUTIL3434"></a><a id="SUTIL3435"></a><a id="SUTIL1452"></a><div class="props_rev_3"><a id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343" name="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343"></a><h4 id="SUTIL-GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343" class="sect4"><span class="enumeration_section">16.2.3</span>加密</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-5BFBAE78-FE11-4730-B850-F141E9DE336E">默认</p>
                        <p><code class="codeph">禁用</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-9F9095E9-7498-4C4B-912D-B8ECA8A8F8AA">目的</p>
                        <p>指定在将数据写入转储文件集之前是否加密数据。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-7616DAF4-8CFE-435E-ABAA-C36826461A2E">语法和说明</p><pre class="pre codeblock"><code>加密[ENABLED |禁用]</code></pre><p>如果指定了<code class="codeph">ENABLED</code> ，则所有数据都将写入以加密格式设置的转储文件中。
                        </p>
                        <p>如果指定了<code class="codeph">DISABLED</code> ，则没有数据以加密格式写入转储文件集。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-4B6456DA-C512-4655-B71A-1C8F2FFA7E71">限制</p>
                        <p>此参数仅用于导出操作。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-FCC78061-CA4B-41C7-9E6B-38FFC4E6ABCB">例</p>
                        <p>在以下示例中， <code class="codeph">ENCRYPTION</code>参数设置为<code class="codeph">ENABLED</code> 。因此，写入<code class="codeph">dept.dmp</code>文件的所有数据都将采用加密格式。
                        </p><pre class="pre codeblock"><code>CREATE TABLE deptXTec3 ORGANIZATION EXTERNAL（类型ORACLE_DATAPUMP DEFAULT目录def_dir1访问参数（启用加密）位置（'dept.dmp'））;</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3436"></a><a id="SUTIL3437"></a><a id="SUTIL3438"></a><a id="SUTIL1453"></a><div class="props_rev_3"><a id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D" name="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D"></a><h4 id="SUTIL-GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D" class="sect4"><span class="enumeration_section">16.2.4</span> LOGFILE | NOLOGFILE</h4>
                  <div>
                     <div class="section">
                        <p>默认值：如果未指定<code class="codeph">LOGFILE</code> ，则会在缺省目录中创建日志文件，并从表名和进程ID生成日志文件的名称，扩展名为。 <code class="codeph">log</code> 。如果日志文件已存在同名，则访问驱动程序将重新打开该日志文件并将新日志信息附加到末尾。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D__GUID-E614EB31-1BE0-4B05-A63D-5B62B36A87B2">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">LOGFILE</code>指定日志文件的名称，该文件包含在访问转储文件时生成的任何消息。<code class="codeph">NOLOGFILE</code>阻止创建日志文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D__GUID-FB0472E9-7C98-4681-A9A1-B9CEECDE4F74">语法和说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">NOLOGFILE</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">LOGFILE [ <span class="italic">directory_object</span> ：] <span class="italic">logfile_name</span>
</pre><p>如果未将目录对象指定为日志文件名的一部分，则使用<code class="codeph">DEFAULT</code> <code class="codeph">DIRECTORY</code>属性指定的目录对象。如果未指定目录对象且未指定缺省目录，则返回错误。有关在并行加载或卸载期间使用替换变量创建唯一文件名的信息，请参阅<a href="oracle_datapump-access-driver.html#GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332">LOGFILE</a>的文件名。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D__GUID-9F55775A-926E-43AA-9248-829ABC515758">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在以下示例中，转储文件<code class="codeph">dept_dmp</code>位于目录对象<code class="codeph">load_dir</code>标识的目录中，但是日志文件<code class="codeph">deptxt</code> 。 <code class="codeph">log</code> ，位于目录对象<code class="codeph">log_dir</code>标识的目录中。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dept_xt（dept_no INT，dept_name CHAR（20），location CHAR（20））ORGANIZATION EXTERNAL（TYPE ORACLE_DATAPUMP DEFAULT DIRECTORY load_dir ACCESS PARAMETERS（LOGFILE log_dir：deptxt）LOCATION（'dept_dmp'））;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332">并行加载中的日志文件命名</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL1454"></a><div class="props_rev_3"><a id="GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332" name="GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332"></a><h5 id="SUTIL-GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332" class="sect5"><span class="enumeration_section">16.2.4.1</span>并行加载中的日志文件命名</h5>
                     <div>
                        <div class="section">
                           <p>访问驱动程序执行一些符号替换，以帮助在并行加载的情况下使文件名唯一。支持的符号替换如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">%p</code>由当前进程的进程ID替换。例如，如果访问驱动程序的进程ID是12345，则<code class="codeph">exttab_%p</code> 。 <code class="codeph">log</code>变为<code class="codeph">exttab_12345.log</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">%a</code>由当前进程的代理程序编号替换。代理编号是分配给访问外部表的每个并行进程的唯一编号。这个数字用零填充到左边以填充三个字符。例如，如果第三个并行代理正在创建文件并且<code class="codeph">exttab_%a</code> 。 <code class="codeph">log</code>指定为文件名，然后代理将创建名为<code class="codeph">exttab_003.log</code>的文件。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">%%</code>由<code class="codeph">%</code>替换。如果需要在文件名中包含百分号，则必须使用此符号替换。
                                 </p>
                              </li>
                           </ul>
                           <p>如果<code class="codeph">%</code>字符后跟除前面列表中的某个字符之外的任何内容，则返回错误。
                           </p>
                           <p>如果未使用<code class="codeph">%p</code>或<code class="codeph">%a</code>为输出文件创建唯一文件名并且并行访问外部表，则输出文件可能已损坏或代理可能无法写入文件。
                           </p>
                           <p>如果没有为该文件提供扩展名，则默认扩展名为。 <code class="codeph">log</code> 。如果生成的名称不是有效的文件名，则会返回错误，并且不会加载或卸载任何数据。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D">LOGFILE | NOLOGFILE</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL1455"></a><div class="props_rev_3"><a id="GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE" name="GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE"></a><h4 id="SUTIL-GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE" class="sect4"><span class="enumeration_section">16.2.5</span>版本条款</h4>
                  <div>
                     <p><code class="codeph">VERSION</code>子句用于指定将读取转储文件的Oracle数据库的最低版本。
                     </p>
                     <div class="section">
                        <p>例如，如果指定<code class="codeph">11.1</code> ，那么Oracle Database 11g第1版（11.1和11.2）数据库都可以读取转储文件。如果指定<code class="codeph">11.2</code> ，则只有Oracle Database 11g第2版（11.2）数据库可以读取转储文件。
                        </p>
                        <p>默认值为<code class="codeph">COMPATIBLE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1456"></a><div class="props_rev_3"><a id="GUID-039387FC-3011-402F-B38A-B1D392738AD2" name="GUID-039387FC-3011-402F-B38A-B1D392738AD2"></a><h4 id="SUTIL-GUID-039387FC-3011-402F-B38A-B1D392738AD2" class="sect4"><span class="enumeration_section">16.2.6</span>使用SQL ENCRYPT子句的影响</h4>
                  <div>
                     <p>如果在创建外部表时指定SQL <code class="codeph">ENCRYPT</code>子句，请记住以下几点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定<code class="codeph">ENCRYPT</code>子句的列将在写入转储文件之前进行加密。
                           </p>
                        </li>
                        <li>
                           <p>如果将转储文件移动到另一个数据库，则必须对转储文件中的加密列和用于读取转储文件的外部表使用相同的加密密码。</p>
                        </li>
                        <li>
                           <p>如果未在第二个数据库的外部表中为正确的加密列指定密码，则会返回错误。如果未指定正确的密码，则会将垃圾数据写入转储文件。</p>
                        </li>
                        <li>
                           <p>生成的转储文件必须为10.2或更高版本。否则，返回错误。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-039387FC-3011-402F-B38A-B1D392738AD2__GUID-B89D9699-7B9B-4A5E-BA9A-4A7FA53C18A6">
                        <p class="notep1">也可以看看：</p>
                        <p>有关在<code class="codeph">CREATE TABLE</code>语句中使用<code class="codeph">ENCRYPT</code>子句的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=SQLRF54460" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL1457"></a><div class="props_rev_3"><a id="GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" name="GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847"></a><h3 id="SUTIL-GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" class="sect3"><span class="enumeration_section">16.3</span>使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</h3>
               <div>
                  <p>作为使用SQL <code class="codeph">CREATE TABLE AS SELECT</code>语句创建外部表的一部分， <code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可以将数据写入转储文件。
                  </p>
                  <div class="section">
                     <p>文件中的数据以二进制格式写入，只能由<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序读取。创建转储文件后，无法修改它（即，不能对其执行任何数据操作语言（DML）操作）。但是，该文件可以被读取任意次，并用作同一数据库或不同数据库中另一个外部表的转储文件。
                     </p>
                     <p>以下步骤使用示例模式<code class="codeph">oe</code>来显示如何使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序卸载和加载数据的扩展示例。（该示例假定目录对象<code class="codeph">def_dir1</code>已存在，并且该用户<code class="codeph">oe</code>具有对其的读写访问权限。）
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>只有在使用<code class="codeph">AS</code> <code class="codeph">SELECT</code>子句创建外部表的过程中，外部表才会使用数据填充文件。以下示例创建名为<code class="codeph">inventories_xt</code>的外部表，并使用<code class="codeph">oe</code>模式中的表<code class="codeph">inventories</code>中的数据填充外部表的转储文件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_xt.dmp'）7）8 AS SELECT * FROM inventoryories;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>描述<code class="codeph">inventories</code>和新外部表，如下所示。它们都应该匹配。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE库存名称是否为空？输入---------------------------------------- --------- ---------------- PRODUCT_ID NOT NULL NUMBER（6）WAREHOUSE_ID NOT NULL NUMBER（3）QUANTITY_ON_HAND NOT NULL NUMBER（8）SQL&gt; DESCRIBE inventories_xt Name Null？输入----------------------------------------- -------- ----------------- PRODUCT_ID NOT NULL NUMBER（6）WAREHOUSE_ID NOT NULL NUMBER（3）QUANTITY_ON_HAND NOT NULL NUMBER（8）</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在创建了外部表，可以像查询任何其他表一样查询它。例如，选择外部表中的记录计数，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT COUNT（*）FROM inventories_xt; COUNT（*）---------- 1112</pre></div>
                     </li>
                     <li class="stepexpand"><span>将外部表中的数据与<code class="codeph">inventories</code>中的数据进行比较。应该没有差异。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inventories_xt;没有选择任何行</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建外部表并且<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>语句填充转储文件后，不能从外部表添加，更新或删除任何行。任何修改外部表中数据的尝试都将失败并显示错误。</span><div>
                           <p>以下示例显示尝试在现有外部表上使用数据操作语言（DML）。这将返回错误，如图所示。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DELETE FROM inventories_xt WHERE warehouse_id = 5; DELETE FROM inventories_xt WHERE warehouse_id = 5 *第1行的错误：ORA-30657：外部有组织的表不支持操作</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在可以移动为外部表创建的转储文件，并将其用作同一数据库或不同数据库中另一个外部表的转储文件。请注意，在创建使用现有文件的外部表时， <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句没有<code class="codeph">AS</code> <code class="codeph">SELECT</code>子句。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_xt2 2（3 product_id NUMBER（6），4 warehouse_id NUMBER（3），5 quantity_on_hand NUMBER（8）6）7 ORGANIZATION EXTERNAL 8（9 TYPE ORACLE_DATAPUMP 10 DEFAULT DIRECTORY def_dir1 11 LOCATION（'inv_xt.dmp'） 12）;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>将新外部表的数据与<code class="codeph">inventories</code>表中的数据进行比较。在完成比较之前， <code class="codeph">product_id</code>字段将转换为兼容的数据类型。应该没有差异。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inventories_xt2;没有选择任何行</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建一个包含三个转储文件的外部表，并且具有三个并行度。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_xt3 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_xt1.dmp'，'inv_xt2.dmp'，'inv_xt3.dmp'）7）8并行3 9 AS SELECT * FROM inventoryories;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>将数据卸载与<code class="codeph">inventories</code>进行比较。应该没有差异。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inventories_xt3;没有选择任何行</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建一个包含表<code class="codeph">inventories</code>中某些行的外部表。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inv_part_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_p1_xt.dmp'）7）8 AS SELECT * FROM inventoryories WHERE warehouse_id &lt;5;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建另一个包含<code class="codeph">inventories</code>其余行的外部表。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; drop table inv_part_xt;表丢了。SQL&gt; SQL&gt; CREATE TABLE inv_part_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_p2_xt.dmp'）7）8 AS SELECT * FROM inventoryories WHERE warehouse_id&gt; = 5;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建一个外部表，该表使用在步骤10和11中创建的两个转储文件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inv_part_all_xt 2（3 product_id NUMBER（6），4 warehouse_id NUMBER（3），5 quantity_on_hand NUMBER（8）6）7 ORGANIZATION EXTERNAL 8（9 TYPE ORACLE_DATAPUMP 10 DEFAULT DIRECTORY def_dir1 11 LOCATION（'inv_p1_xt.dmp'， 'inv_p2_xt.dmp'）12）;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>将新外部表与<code class="codeph">inventories</code>表进行比较。应该没有差异。这是因为用于创建外部表的两个转储文件具有相同的元数据（例如，相同的表名<code class="codeph">inv_part_xt</code>和相同的列信息）。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inv_part_all_xt;没有选择任何行</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652">并行装卸</a><br>本主题描述并行加载和卸载。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98">组合转储文件</a><br>由不同外部表填充的转储文件都可以在另一个外部表的<code class="codeph">LOCATION</code>子句中指定。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1458"></a><div class="props_rev_3"><a id="GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652" name="GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652"></a><h4 id="SUTIL-GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652" class="sect4"><span class="enumeration_section">16.3.1</span>平行装卸</h4>
                  <div>
                     <p>本主题描述并行加载和卸载。</p>
                     <p>转储文件必须位于足以容纳所有正在写入的数据的磁盘上。如果没有足够的空间用于所有数据，则会为<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>语句返回错误。解决此问题的一种方法是在执行<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>语句时在多个目录对象中创建多个文件（假设这些目录位于不同的磁盘上）。可以通过在<code class="codeph">LOCATION</code>子句中的表单<code class="codeph">directory:file</code>中指定多个位置并指定<code class="codeph">PARALLEL</code>子句来创建多个文件。为填充外部表而创建的每个并行I / O服务器进程都会写入其自己的文件。<code class="codeph">LOCATION</code>子句中的文件数应与并行化程度相匹配，因为每个I / O服务器进程都需要自己的文件。将忽略指定的任何额外文件。如果没有足够的文件来指定并行化程度，则降低并行度以匹配<code class="codeph">LOCATION</code>子句中的文件数。
                     </p>
                     <p>以下是将<code class="codeph">inventories</code>表卸载到三个文件中的示例。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_XT_3 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_xt1.dmp'，'inv_xt2.dmp'，'inv_xt3.dmp'）7）8 PARALLEL 3 9 AS SELECT * FROM oe。清单;表创建。
</pre><p>当<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序用于加载数据时，并行进程可以同时读取多个转储文件甚至同一个转储文件的块。因此，即使只有一个转储文件，也可以并行加载数据，只要该文件足够大以包含多个文件偏移即可。从<code class="codeph">ORACLE_DATAPUMP</code>外部表读取时，并行化程度与<code class="codeph">LOCATION</code>子句中的文件数无关。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" title="作为使用SQL CREATE TABLE AS SELECT语句创建外部表的一部分，ORACLE_DATAPUMP访问驱动程序可以将数据写入转储文件。">使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1459"></a><div class="props_rev_3"><a id="GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98" name="GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98"></a><h4 id="SUTIL-GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98" class="sect4"><span class="enumeration_section">16.3.2</span>组合转储文件</h4>
                  <div>
                     <p>由不同外部表填充的转储文件都可以在另一个外部表的<code class="codeph">LOCATION</code>子句中指定。
                     </p>
                     <p>例如，可以将来自不同生产数据库的数据卸载到单独的文件中，然后这些文件都可以包含在数据仓库中定义的外部表中。这提供了一种从多个来源聚合数据的简便方法。唯一的限制是所有外部表的元数据完全相同。这意味着字符集，时区，模式名称，表名称和列名称必须全部匹配。此外，列必须以相同的顺序定义，并且它们的数据类型必须完全相同。这意味着在创建第一个外部表之后，必须将其删除，以便可以对第二个外部表使用相同的表名。这可确保两个转储文件中列出的元数据相同，并且可以一起使用它们来创建相同的外部表。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inv_part_1_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_p1_xt.dmp'）7）8 AS SELECT * FROM oe.inventories WHERE warehouse_id &lt;5;表创建。SQL&gt; DROP TABLE inv_part_1_xt; SQL&gt; CREATE TABLE inv_part_1_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT目录def_dir1 6 LOCATION（'inv_p2_xt.dmp'）7）8 AS SELECT * FROM oe.inventories WHERE warehouse_id&gt; = 5;表创建。SQL&gt; CREATE TABLE inv_part_all_xt 2（3 PRODUCT_ID NUMBER（6），4 WAREHOUSE_ID NUMBER（3），5 QUANTITY_ON_HAND NUMBER（8）6）7 ORGANIZATION EXTERNAL 8（9 TYPE ORACLE_DATAPUMP 10 DEFAULT DIRECTORY def_dir1 11 LOCATION（'inv_p1_xt.dmp'， 'inv_p2_xt.dmp'）12）;表创建。SQL&gt; SELECT * FROM inv_part_all_xt MINUS SELECT * FROM oe.inventories;没有选择任何行</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" title="作为使用SQL CREATE TABLE AS SELECT语句创建外部表的一部分，ORACLE_DATAPUMP访问驱动程序可以将数据写入转储文件。">使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL1460"></a><div class="props_rev_3"><a id="GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C" name="GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C"></a><h3 id="SUTIL-GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C" class="sect3"><span class="enumeration_section">16.4</span>支持的数据类型</h3>
               <div>
                  <p>本主题描述了支持的数据类型。</p>
                  <p>使用外部表在数据库之间移动数据时，可能会遇到以下情况：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>两个平台之间的数据库字符集和数据库国家字符集可能不同。</p>
                     </li>
                     <li>
                        <p>两个数据库的平台的字节顺序可能不同。</p>
                     </li>
                  </ul>
                  <p><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序自动解决其中一些情况。
                  </p>
                  <p>在加载和卸载期间会自动转换以下数据类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>字符（ <code class="codeph">CHAR</code> ， <code class="codeph">NCHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NVARCHAR2</code> ）</p>
                     </li>
                     <li>
                        <p><code class="codeph">生的</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">数</code></p>
                     </li>
                     <li>
                        <p>约会时间</p>
                     </li>
                     <li>
                        <p><code class="codeph">BLOB</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">ROWID</code>和<code class="codeph">UROWID</code></p>
                     </li>
                  </ul>
                  <p>如果您尝试使用外部表不支持的数据类型，则会收到错误。以下示例演示了这一点，其中使用了不支持的数据类型<code class="codeph">LONG</code> ：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE bad_datatype_xt 2（3 product_id NUMBER（6），4 language_id VARCHAR2（3），5 translated_name NVARCHAR2（50），6 translated_description LONG 7）8 ORERANIZATION EXTERNAL 9（10类型ORACLE_DATAPUMP 11默认目录def_dir1 12位置（'proddesc .dmp'）13）;在第6行的translated_description LONG * ERROR：ORA-30656：外部有组织的表不支持列类型</pre></div>
               <div>
                  <div class="infoboxnotealso" id="GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C__GUID-8D9B0708-F6FD-4F90-9107-0AF73328DF10">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1461"></a><div class="props_rev_3"><a id="GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" name="GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899"></a><h3 id="SUTIL-GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" class="sect3"><span class="enumeration_section">16.5</span>不支持的数据类型</h3>
               <div>
                  <p>本主题描述了不受支持的数据类型。</p>
                  <p>外部表支持列的所有可能数据类型的子集。特别是，它支持字符数据类型（ <code class="codeph">LONG</code>除外）， <code class="codeph">RAW</code>数据类型，所有数字数据类型以及所有日期，时间戳和间隔数据类型。
                  </p>
                  <p>本节介绍如何使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序卸载和重新加载某些不受支持的数据类型的数据，具体如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">BFILE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                     </li>
                     <li>
                        <p>最终对象类型</p>
                     </li>
                     <li>
                        <p>最终对象类型表</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4">卸载和加载BFILE数据类型</a><br><code class="codeph">BFILE</code>数据类型中存储有两条信息：文件的目录对象和该目录对象中的文件名。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-68CF706F-E629-43EB-9B4B-6ADB37446173">卸载LONG和LONG RAW数据类型</a><br><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可用于卸载<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>列，但该数据只能加载回LOB字段。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-719DC4D7-214A-4988-87FC-AFDA846F4578">卸载和加载包含最终对象类型的列</a><br>通过将对象类型中的每个属性移动到外部表中的列中，将最终列对象填充到外部表中。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA">最终对象类型表</a><br>对象表具有唯一标识表中每一行的对象标识符。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1462"></a><div class="props_rev_3"><a id="GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4" name="GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4"></a><h4 id="SUTIL-GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4" class="sect4"><span class="enumeration_section">16.5.1</span>卸载和加载BFILE数据类型</h4>
                  <div>
                     <p><code class="codeph">BFILE</code>数据类型中存储有两条信息：文件的目录对象和该目录对象中的文件名。
                     </p>
                     <div class="section">
                        <p>您可以使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序卸载<code class="codeph">BFILE</code>列，方法是将目录对象名称和文件名存储在外部表的两列中。程序<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">FILEGETNAME</code>将返回名称的两个部分。但是，因为这是一个过程，所以它不能在<code class="codeph">SELECT</code>语句中使用。相反，需要两个功能。第一个将返回目录对象的名称，第二个将返回文件的名称。
                        </p>
                        <p>以下扩展示例中的步骤演示了<code class="codeph">BFILE</code>数据类型的卸载和加载。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建一个函数来提取<code class="codeph">BFILE</code>列的目录对象。请注意，如果<code class="codeph">NULL</code> ，则返回<code class="codeph">NULL</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE FUNCTION get_dir_name（bf BFILE）RETURN VARCHAR2 IS 2 DIR_ALIAS VARCHAR2（255）; 3 FILE_NAME VARCHAR2（255）; 4 BEGIN 5如果bf为NULL 6那么7返回NULL; 8 ELSE 9 DBMS_LOB.FILEGETNAME（bf，dir_alias，file_name）; 10返回dir_alias; 11结束IF; 12结束; 13 /创建功能。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建一个函数来提取<code class="codeph">BFILE</code>列的文件名。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE FUNCTION get_file_name（bf BFILE）RETURN VARCHAR2是2 dir_alias VARCHAR2（255）; 3 file_name VARCHAR2（255）; 4 BEGIN 5如果bf为NULL 6那么7返回NULL; 8 ELSE 9 DBMS_LOB.FILEGETNAME（bf，dir_alias，file_name）; 10 RETURN file_name; 11结束IF; 12结束; 13 /创建功能。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>然后，您可以为<code class="codeph">BFILE</code>列添加一个<code class="codeph">NULL</code>值的行，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO PRINT_MEDIA（product_id，ad_id，ad_graphic）2 VALUES（3515,12001，NULL）;已创建1行。
</pre><p>您可以使用新创建的函数来填充外部表。请注意，如果<code class="codeph">BFILE</code> <code class="codeph">ad_graphic_file</code> <code class="codeph">NULL</code> ，则函数应将列<code class="codeph">ad_graphic_dir</code>和<code class="codeph">ad_graphic_file</code>设置为<code class="codeph">NULL</code> 。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建一个外部表以包含<code class="codeph">print_media</code>表中的数据。使用<code class="codeph">get_dir_name</code>和<code class="codeph">get_file_name</code>函数来获取<code class="codeph">BFILE</code>列的组件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE print_media_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE oracle_datapump 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'pm_xt.dmp'）7）AS 8 SELECT product_id，ad_id，9 get_dir_name（ad_graphic）ad_graphic_dir，10 get_file_name（ad_graphic）ad_graphic_file 11 FROM印刷媒体;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建一个函数以从外部表中的数据加载<code class="codeph">BFILE</code>列。如果外部表中的<code class="codeph">ad_graphic_dir</code> <code class="codeph">NULL</code>则此函数将返回<code class="codeph">NULL</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE FUNCTION get_bfile（dir VARCHAR2，file VARCHAR2）RETURN BFILE是2 bf BFILE; 3 BEGIN 4如果dir为空5那么6返回NULL; 7 ELSE 8 RETURN BFILENAME（dir，file）; 9结束IF; 10结束; 11 /创建功能。
</pre></div>
                        </li>
                        <li class="stepexpand"><span><code class="codeph">get_bfile</code>函数可用于填充包含<code class="codeph">BFILE</code>列的新表。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE print_media_int AS 2 SELECT product_id，ad_id，3 get_bfile（ad_graphic_dir，ad_graphic_file）ad_graphic 4 FROM print_media_xt;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>新加载的表的列中的数据应与<code class="codeph">print_media</code>表的列中的数据匹配。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT product_id，ad_id，2 get_dir_name（ad_graphic），3 get_file_name（ad_graphic）4 FROM print_media_int 5 MINUS 6 SELECT product_id，ad_id，7 get_dir_name（ad_graphic），8 get_file_name（ad_graphic）9 FROM print_media;没有选择任何行</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1463"></a><div class="props_rev_3"><a id="GUID-68CF706F-E629-43EB-9B4B-6ADB37446173" name="GUID-68CF706F-E629-43EB-9B4B-6ADB37446173"></a><h4 id="SUTIL-GUID-68CF706F-E629-43EB-9B4B-6ADB37446173" class="sect4"><span class="enumeration_section">16.5.2</span>卸载LONG和LONG RAW数据类型</h4>
                  <div>
                     <p><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可用于卸载<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>列，但该数据只能加载回LOB字段。
                     </p>
                     <div class="section">
                        <p>以下扩展示例中的步骤演示了<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据类型的卸载。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>如果要卸载的表包含<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>列，则将外部表中的相应列定义为<code class="codeph">LONG</code>列的<code class="codeph">CLOB</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>列的<code class="codeph">BLOB</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE long_tab 2（3键SMALLINT，4个描述LONG 5）;表创建。SQL&gt; INSERT INTO long_tab VALUES（1，'Description Text'）;已创建1行。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>现在，可以创建一个包含<code class="codeph">CLOB</code>列的外部表，以包含<code class="codeph">LONG</code>列中的数据。请注意，在加载外部表时， <code class="codeph">TO_LOB</code>运算符用于将<code class="codeph">LONG</code>列转换为<code class="codeph">CLOB</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE long_tab_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'long_tab_xt.dmp'）7）8 AS SELECT键，TO_LOB（描述）description FROM long_tab;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>外部表中的数据可用于创建与卸载的表完全相同的另一个表，除了新表将包含LOB列而不是<code class="codeph">LONG</code>列。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE lob_tab 2来自long_tab_xt的AS SELECT *;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>验证表是否已正确创建。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM lob_tab;关键描述------------------------------------------------ ---------------------------- 1说明文字</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1464"></a><div class="props_rev_3"><a id="GUID-719DC4D7-214A-4988-87FC-AFDA846F4578" name="GUID-719DC4D7-214A-4988-87FC-AFDA846F4578"></a><h4 id="SUTIL-GUID-719DC4D7-214A-4988-87FC-AFDA846F4578" class="sect4"><span class="enumeration_section">16.5.3</span>卸载和加载包含最终对象类型的列</h4>
                  <div>
                     <p>通过将对象类型中的每个属性移动到外部表中的列中，将最终列对象填充到外部表中。</p>
                     <div class="section">
                        <p>此外，外部表需要一个新列来跟踪列对象是否为原子<code class="codeph">NULL</code> 。以下步骤演示了卸载和加载包含最终对象类型的列。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在下面的例子中， <code class="codeph">warehouse</code>中的外部表列用于跟踪是否<code class="codeph">warehouse</code>源表列是原子<code class="codeph">NULL</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_obj_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_obj_xt.dmp'）7）8 AS 9 SELECT oi.product_id，10 DECODE（oi.warehouse，NULL，0,1）仓库，11 oi.warehouse.location_id location_id，12 oi.warehouse.warehouse_id warehouse_id，13 oi.warehouse.warehouse_name warehouse_name，14 oi.quantity_on_hand 15 FROM oc_inventories oi;表创建。
</pre><p>包含对象类型属性的外部表中的列现在可以在加载该类型的列时用作类型构造函数的参数。请注意，外部表中的<code class="codeph">warehouse</code>列用于确定是否为对象调用构造函数或将列设置为<code class="codeph">NULL</code> 。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>加载一个看起来与<code class="codeph">oc_inventories</code>视图完全相同的新内部表。（使用<code class="codeph">WHERE</code> <code class="codeph">1=0</code>子句创建一个看起来与旧表完全相同的新表，但不会将旧表中的任何数据复制到新表中。）</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE oc_inventories_2 AS SELECT * FROM oc_inventories WHERE 1 = 0;表创建。SQL&gt; INSERT INTO oc_inventories_2 2 SELECT product_id，3 DECODE（仓库，0，NULL，4仓库_typ（warehouse_id，仓库名称，5 location_id）），quantity_on_hand 6 FROM inventoryories_obj_xt;创建了1112行。</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1465"></a><div class="props_rev_3"><a id="GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA" name="GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA"></a><h4 id="SUTIL-GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA" class="sect4"><span class="enumeration_section">16.5.4</span>最终对象类型表</h4>
                  <div>
                     <p>对象表具有唯一标识表中每一行的对象标识符。</p>
                     <p>可能发生以下情况：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果不需要卸载和重新加载对象标识符，则外部表只需要包含对象表的类型属性的字段。</p>
                        </li>
                        <li>
                           <p>如果需要卸载并重新加载对象标识符（OID）并且表的OID是表中的一个或多个字段（也称为基于主键的OID），则外部表对于每个属性都有一列表格的类型。</p>
                        </li>
                        <li>
                           <p>如果需要卸载OID并且表的OID是系统生成的，则该过程更复杂。除了类型的属性之外，还需要创建另一列来保存系统生成的OID。</p>
                        </li>
                     </ul>
                     <p>以下示例中的步骤演示了最后一种情况。</p>
                     <ol>
                        <li>
                           <p>使用系统生成的OID创建一个类型的表：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TYPE person AS OBJECT（name varchar2（20））NOT FINAL 2 / Type created。SQL&gt; CREATE TABLE人物;表创建。SQL&gt; INSERT INTO people VALUES（'Euclid'）;已创建1行。
</pre></li>
                        <li>
                           <p>创建一个外部表，其中列<code class="codeph">OID</code>用于保存包含系统生成的OID的列。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE people_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'people.dmp'）7）8 AS SELECT SYS_NC_OID $ oid，name FROM people;表创建。
</pre></li>
                        <li>
                           <p>使用系统生成的OID创建另一个相同类型的表。然后，执行<code class="codeph">INSERT</code>语句以从旧表中卸载数据来加载新表。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE people2 OF person;表创建。SQL&gt; SQL&gt; INSERT INTO people2（SYS_NC_OID $，SYS_NC_ROWINFO $）2 SELECT oid，person（name）FROM persons_xt;已创建1行。SQL&gt; SQL&gt; SELECT SYS_NC_OID $，name FROM people 2 MINUS 3 SELECT SYS_NC_OID $，name FROM people2;没有选择任何行</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL3439"></a><div class="props_rev_3"><a id="GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C" name="GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C"></a><h3 id="SUTIL-GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C" class="sect3"><span class="enumeration_section">16.6</span>使用ORACLE_DATAPUMP访问驱动程序时的性能提示</h3>
               <div>
                  <p>本主题介绍使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序时的性能提示。
                  </p>
                  <p>监控性能时，最重要的衡量指标是负载的运行时间。其他重要的测量是CPU使用率，内存使用率和I / O速率。</p>
                  <p>您可以通过增加或减少并行度来改变性能。并行度表示可以启动以处理数据文件的访问驱动程序的数量。并行度使您能够在较少负载和较少资源使用之间以及使用所有资源的较快负载之间进行选择。访问驱动程序无法自动调整自身，因为它无法确定要将多少资源专用于访问驱动程序。</p>
                  <p>另一个考虑因素是访问驱动程序使用大型I / O缓冲区以获得更好的性能。在具有共享服务器的数据库上，访问驱动程序使用的所有内存都来自系统全局区域（SGA）。因此，在共享服务器上使用外部表时应该小心。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL3440"></a><div class="props_rev_3"><a id="GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B" name="GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B"></a><h3 id="SUTIL-GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B" class="sect3"><span class="enumeration_section">16.7</span>使用ORACLE_DATAPUMP访问驱动程序时的限制</h3>
               <div>
                  <p>本主题描述了<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的限制。
                  </p>
                  <div class="section">
                     <p>特别：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持导出和导入带有加密列的外部表。</p>
                        </li>
                        <li>
                           <p>列处理：默认情况下，外部表功能提取为外部表定义的所有列。这保证了所有查询的一致结果集。但是，出于性能原因，您可以决定仅处理外部表的引用列，从而最大限度地减少执行查询所需的数据转换和数据处理量。在这种情况下，如果查询未引用该列，则由于行中的列导致数据类型转换错误而被拒绝的行将不会在其他查询中被拒绝。您可以使用<code class="codeph">ALTER TABLE</code>命令更改此列处理行为。
                           </p>
                        </li>
                        <li>
                           <p>外部表无法将数据加载到<code class="codeph">LONG</code>列中。
                           </p>
                        </li>
                        <li>
                           <p>在加载期间处理字节顺序标记：在数据文件字符集为UTF8或UTF16的外部表加载中，不能禁止检查字节顺序标记。仅当数据文件的开头包含与字节顺序标记编码匹配的二进制数据时，才需要禁止字节顺序标记检查。（可以使用SQL * Loader加载来抑制字节顺序标记检查。）请注意，检查字节顺序标记并不意味着数据文件中必须存在字节顺序标记。如果不存在字节顺序标记，则使用服务器平台的字节顺序。</p>
                        </li>
                        <li>
                           <p>外部表功能不支持在字符串中使用反斜杠（\）转义字符。请参阅<a href="oracle-sql-loader-concepts.html#GUID-4626E5AA-FB07-4F09-B82E-64A5C099AF26" title="本节介绍如何使用反斜杠转义字符。">使用反斜杠转义字符</a> 。
                           </p>
                        </li>
                        <li>
                           <p>当在外部表访问参数中指定标识符（例如，列或表名）时，访问参数解析器将某些值视为保留字。如果保留字用作标识符，则必须用双引号括起来。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1466"></a><div class="props_rev_3"><a id="GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05" name="GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05"></a><h3 id="SUTIL-GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05" class="sect3"><span class="enumeration_section">16.8</span> ORACLE_DATAPUMP访问驱动程序的保留字</h3>
               <div>
                  <p>本主题描述<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的保留字。
                  </p>
                  <div class="section">
                     <p>当在外部表访问参数中指定标识符（例如，列或表名）时，访问参数解析器将某些值视为保留字。如果保留字用作标识符，则必须用双引号括起来。以下是<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的保留字：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">BADFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">兼容</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">压缩</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">数据泵</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DEBUG</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">加密</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">内部</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">工作</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">最新</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LOGFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOBADFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOLOGFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">平行</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">表</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">版</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">WORKERID</code></p>
                        </li>
                     </ul>
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>