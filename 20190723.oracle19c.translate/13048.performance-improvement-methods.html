<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>绩效改进方法</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00"></meta>
      <meta name="dcterms.title" content="Database Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96347-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="designing-and-developing-for-performance.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-database-for-performance.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="designing-and-developing-for-performance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-database-for-performance.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库性能调优指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-I-database-performance-fundamentals.html" property="item" typeof="WebPage"><span property="name">数据库性能基础</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">绩效改进方法</li>
            </ol>
            <a id="GUID-11C3D845-70B3-46F2-B529-623050A8B933" name="GUID-11C3D845-70B3-46F2-B529-623050A8B933"></a><a id="TGDBA032"></a>
            
            <h2 id="TGDBA-GUID-11C3D845-70B3-46F2-B529-623050A8B933" class="sect2"><span class="enumeration_chapter">3</span>性能改进方法</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章讨论Oracle数据库改进方法，并包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="performance-improvement-methods.html#GUID-3BB46F28-73FF-486E-ADB7-C4A42BAF33EF">Oracle性能改进方法</a></p>
                  </li>
                  <li>
                     <p><a href="performance-improvement-methods.html#GUID-E33E68C9-F4A5-4953-8F80-33810EADD560">紧急性能方法</a></p>
                  </li>
               </ul>
            </div><a id="TGDBA94135"></a><div class="props_rev_3"><a id="GUID-3BB46F28-73FF-486E-ADB7-C4A42BAF33EF" name="GUID-3BB46F28-73FF-486E-ADB7-C4A42BAF33EF"></a><h3 id="TGDBA-GUID-3BB46F28-73FF-486E-ADB7-C4A42BAF33EF" class="sect3"><span class="enumeration_section">3.1</span> Oracle性能改进方法</h3>
               <div>
                  <p>Oracle性能方法可帮助您识别Oracle数据库中的性能问题。这涉及识别bo ttlenecks并修复它们。建议仅在确认存在瓶颈后才对系统进行更改。
                  </p>
                  <p>从性质上来说，性能改进是迭代的。因此，消除第一个瓶颈可能不会立即导致性能提升，因为可能会出现另一个瓶颈。此外，在某些情况下，如果序列化点转移到效率更低的共享机制，那么性能可能会降低。凭借经验，并通过严格的瓶颈消除方法，可以调试应用程序并使其可扩展。</p>
                  <p>性能问题通常是由于缺乏吞吐量，不可接受的用户/作业响应时间或两者兼而有之。问题可能是应用程序模块之间的本地化，也可能是整个系统的问题。</p>
                  <p>在查看任何数据库或操作系统统计信息之前，从系统的最重要组件获取反馈至关重要：系统用户和最终为应用程序付费的人员。典型的用户反馈包括以下语句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>“在线表现非常糟糕，以至于无法阻止我的员工完成工作。”</p>
                     </li>
                     <li>
                        <p>“结算运行时间过长。”</p>
                     </li>
                     <li>
                        <p>“当我遇到大量网络流量时，响应时间变得不可接受，而我正在失去客户。”</p>
                     </li>
                     <li>
                        <p>“我目前每天进行5000次交易，系统最大化。下个月，我们向所有用户推出，预计交易数量将翻两番。“</p>
                     </li>
                  </ul>
                  <p>通过坦诚的反馈，很容易为任何绩效工作设定关键的成功因素。确定性能目标和性能工程师的退出标准使得在各个级别管理性能过程变得更加简单和成功。这些关键的成功因素在实际业务目标而非系统统计方面更好地定义。</p>
                  <p>这些典型用户语句的一些实际业务目标可能是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>“计费运行必须在三个小时的时间内处理1,000,000个帐户。”</p>
                     </li>
                     <li>
                        <p>“在网站的高峰期，页面刷新的响应时间不得超过五秒。”</p>
                     </li>
                     <li>
                        <p>“该系统必须能够在8小时的时间内处理25,000笔交易。”</p>
                     </li>
                  </ul>
                  <p>成功的最终衡量标准是用户对系统性能的感知。性能工程师的职责是消除任何降低性能的瓶颈。这些瓶颈可能是由于有限共享资源的低效使用或滥用共享资源造成的，导致序列化。由于所有共享资源都是有限的，因此性能工程师的目标是通过有效使用共享资源来最大化业务操作的数量。在非常高的级别，整个数据库服务器可以被视为共享资源。相反，在较低级别，单个CPU或磁盘可视为共享资源。</p>
                  <p>您可以应用Oracle性能改进方法，直到达到或认为不可能实现性能目标。这个过程是高度迭代的。不可避免地，一些调查可能对数据库性能影响很小或没有影响。时间和经验对于培养准确快速查明关键瓶颈的技能是必要的。但是，之前的经验有时会对有经验的工程师起作用，他们忽略了使用可用的数据和统计数据。这种行为鼓励通过神话和民间传说进行数据库调整。这是一种非常危险，昂贵且不太可能成功的数据库调优方法。</p>
                  <p>自动数据库诊断监视器（ADDM）实现了部分性能改进方法并分析统计信息，以提供主要性能问题的自动诊断。使用ADDM可以显着缩短提高系统性能所需的时间。</p>
                  <p>系统是如此不同和复杂，以至于难以实现严格的性能分析规则。实质上，Oracle性能改进方法定义了一种工作方式，但不是一组确定的规则。有了瓶颈检测，唯一的规则就是没有规则！最佳性能工程师使用提供的数据并横向思考以确定性能问题。</p>
               </div><a id="TGDBA94136"></a><div class="props_rev_3"><a id="GUID-89C0441A-0744-4E84-AB23-BD7DF72F8554" name="GUID-89C0441A-0744-4E84-AB23-BD7DF72F8554"></a><h4 id="TGDBA-GUID-89C0441A-0744-4E84-AB23-BD7DF72F8554" class="sect4"><span class="enumeration_section">3.1.1</span> Oracle性能改进方法中的步骤</h4>
                  <div>
                     <div class="section">
                        <ol>
                           <li>
                              <p>执行以下初始标准检查：</p>
                              <ol type="a">
                                 <li>
                                    <p>获得用户的坦诚反馈。确定绩效项目的范围和后续绩效目标，以及未来的绩效目标。这个过程是未来容量规划的关键。</p>
                                 </li>
                                 <li>
                                    <p>当性能好坏时，从系统获取一整套操作系统，数据库和应用程序统计信息。如果这些不可用，那么获取任何可用的东西。缺少统计数据类似于在犯罪现场缺少证据：它们使侦探工作更加困难，而且更耗时。</p>
                                 </li>
                                 <li>
                                    <p>完整性 - 检查涉及用户性能的所有计算机的操作系统。通过完整性检查操作系统，您可以查找充分利用的硬件或操作系统资源。将任何过度使用的资源列为症状以便稍后进行分析。此外，检查所有硬件是否显示错误或诊断。</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>检查Oracle数据库中最常见的十大错误，并确定是否存在任何问题。将这些列为症状以供以后分析。包含这些是因为它们代表了最可能出现的问题。ADDM会自动检测并报告这十大问题中的九个。</p>
                           </li>
                           <li>
                              <p>使用症状作为线索来构建系统上发生的事情的概念模型，以了解导致性能问题的原因。请参阅<span class="q">“ <a href="performance-improvement-methods.html#GUID-3D34BBA9-B1D2-4EA1-BAB2-2749B3F68C8D">性能概念建模的示例决策过程</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>向系统提出一系列补救措施和预期行为，然后按照最有利于应用程序的顺序应用它们。ADDM提出的建议均具有预期收益。性能工作的一个黄金法则是，您一次只能改变一件事，然后测量差异。不幸的是，系统停机要求可能会禁止这种严格的调查方法。如果同时应用多个更改，请尝试确保它们是隔离的，以便可以独立验证每个更改的效果。</p>
                           </li>
                           <li>
                              <p>验证所做的更改是否具有所需的效果，并查看用户对性能的感知是否有所改善。否则，寻找更多瓶颈，并继续完善概念模型，直到您对应用程序的理解变得更加准确。</p>
                           </li>
                           <li>
                              <p>重复最后三个步骤，直到达到性能目标或由于其他约束而变得不可能。</p>
                           </li>
                        </ol>
                        <p>此方法确定了最大的瓶颈，并使用客观的方法来提高性能。重点是通过提高应用程序效率和消除资源短缺和瓶颈来大幅提高性能。在此过程中，预计实例调整可以获得最小（低于10％）的性能提升，并且可以通过隔离应用程序的低效率获得大量增益（100％+）。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94137"></a><div class="props_rev_3"><a id="GUID-3D34BBA9-B1D2-4EA1-BAB2-2749B3F68C8D" name="GUID-3D34BBA9-B1D2-4EA1-BAB2-2749B3F68C8D"></a><h4 id="TGDBA-GUID-3D34BBA9-B1D2-4EA1-BAB2-2749B3F68C8D" class="sect4"><span class="enumeration_section">3.1.2</span>性能概念建模的样本决策过程</h4>
                  <div>
                     <p><a id="d7771e316" class="indexterm-anchor"></a><a id="d7771e318" class="indexterm-anchor"></a>概念建模几乎是确定性的。但是，随着您获得性能调优的经验，您开始意识到不存在真正的规则。需要灵活的单挑方法来解释统计数据并做出正确的决策。
                     </p>
                     <p>要快速轻松地进行性能调整，请使用ADDM。 ADDM会自动监视您的Oracle系统，并提供解决性能问题的建议。例如，假设DBA收到来自抱怨系统运行缓慢的用户的呼叫。DBA只是检查最新的ADDM报告，以了解应该实施哪些建议来解决问题。</p>
                     <p>以下步骤说明了性能工程师如何在不使用自动诊断功能的情况下查找瓶颈。这些步骤仅作为手动过程的指导。凭借经验，性能工程师可以添加相关步骤。此分析假定已收集操作系统和数据库的统计信息。</p>
                     <ol>
                        <li>
                           <p>空载或轻载计算机上的单个用户的响应时间/批处理运行时间是否可接受？</p>
                           <p>如果不可接受，那么应用程序可能没有被编码或设计得最佳，并且在共享系统资源时在多用户情况下永远不会被接受。在这种情况下，获取应用程序内部统计信息，并获取SQL跟踪和SQL计划信息。与开发人员一起调查数据，索引，事务SQL设计中的问题以及可能将工作推迟到批处理和后台处理。</p>
                        </li>
                        <li>
                           <p>是否正在使用所有CPU？</p>
                           <p>如果内核利用率超过40％，则调查操作系统以进行网络传输，分页，交换或处理颠簸。继续检查用户空间中的CPU利用率，以验证系统上是否存在消耗CPU的非数据库作业，从而限制共享CPU资源的数量，例如备份，文件转换，打印队列等。在确定数据库正在使用大部分CPU之后，按CPU利用率调查顶级SQL。这些陈述构成了所有未来分析的基础。检查SQL和提交SQL的事务以获得最佳执行效果。Oracle数据库在<code class="codeph">V$SQL</code>和<code class="codeph">V$SQLSTATS</code>提供CPU统计信息。</p>
                           <div class="infoboxnotealso" id="GUID-3D34BBA9-B1D2-4EA1-BAB2-2749B3F68C8D__GUID-16D46D60-5DA8-41AF-8B31-94B4B40DC155">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<a href="../refrn/V-SQL.html#REFRN-GUID-2B9340D7-4AA8-4894-94C0-D5990F67BE75" target="_blank"><code class="codeph">V$SQL</code></a>和<a href="../refrn/V-SQLSTATS.html#REFRN-GUID-495DD17D-6741-433F-871D-C965EB221DA9" target="_blank"><code class="codeph">V$SQLSTATS</code></a>更多信息，请<span class="italic">参见Oracle数据库参考</span></p>
                           </div>
                           <p>如果应用程序是最佳的并且SQL执行中不存在低效率，则考虑将某些工作重新安排到非高峰时段或使用更大的计算机。</p>
                        </li>
                        <li>
                           <p>此时，系统性能不令人满意，但CPU资源未得到充分利用。</p>
                           <p>在这种情况下，您在服务器中具有序列化和不可扩展的行为。从服务器获取<code class="codeph">WAIT_EVENTS</code>统计信息，并确定最大的序列化点。如果没有序列化点，则问题很可能在数据库之外，这应该是调查的重点。消除<code class="codeph">WAIT_EVENTS</code>涉及修改应用程序SQL和调整数据库参数。此过程非常迭代，需要能够系统地向下钻取<code class="codeph">WAIT_EVENTS</code>以消除序列化点。
                           </p>
                        </li>
                     </ol>
                  </div>
               </div><a id="TGDBA94138"></a><div class="props_rev_3"><a id="GUID-2740C1B3-DB87-4DD4-9CD7-DB11D03F845F" name="GUID-2740C1B3-DB87-4DD4-9CD7-DB11D03F845F"></a><h4 id="TGDBA-GUID-2740C1B3-DB87-4DD4-9CD7-DB11D03F845F" class="sect4"><span class="enumeration_section">3.1.3</span> Oracle Systems中发现的十大错误</h4>
                  <div>
                     <p>本节列出了Oracle数据库中最常见的错误。通过遵循Oracle性能改进方法，您应该能够完全避免这些错误。如果您在系统中发现了这些错误，那么请重新设计应用程序，以确保您的性能。</p>
                     <ol>
                        <li>
                           <p>连接管理不良</p>
                           <p>应用程序连接和断开每个数据库交互。此问题在应用程序服务器中的无状态中间件中很常见。它对性能有超过两个数量级的影响，并且完全不可扩展。</p>
                        </li>
                        <li>
                           <p>游标和共享池的使用不当</p>
                           <p>不使用游标会导致重复解析。如果未使用绑定变量，则会对所有SQL语句进行硬解析。这对性能有一个数量级的影响，并且完全不可扩展。使用带有绑定变量的游标，打开游标并多次执行。怀疑生成动态SQL的应用程序。</p>
                        </li>
                        <li>
                           <p>糟糕的SQL</p>
                           <p>错误的SQL是使用比适用于应用程序要求的资源更多的SQL。这可以是运行超过24小时的决策支持系统（DSS）查询，也可以是需要超过一分钟的在线应用程序查询。您应该研究消耗大量系统资源以进行潜在改进的SQL。ADDM识别高负载SQL。 SQL Tuning Advisor可以提供改进建议。</p>
                        </li>
                        <li>
                           <p>使用非标准初始化参数</p>
                           <p>这些可能是基于糟糕的建议或不正确的假设而实施的。大多数数据库仅使用一组基本参数提供可接受的性能。特别是，与锁存器上的<code class="codeph">SPIN_COUNT</code>和未记录的优化器功能相关联的参数可能会导致大量问题，需要进行大量调查。
                           </p>
                           <p>同样，初始化参数文件中设置的优化器参数可以覆盖经过验证的最佳执行计划。出于这些原因，应将模式，模式统计信息和优化程序设置作为一个组进行管理，以确保性能的一致性。</p>
                           <div class="infoboxnotealso" id="GUID-2740C1B3-DB87-4DD4-9CD7-DB11D03F845F__GUID-9ABADA85-2803-4D83-8FD5-C4BDF24F01A3">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关初始化参数和数据库创建的信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN002" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a></p>
                                 </li>
                                 <li>
                                    <p> <a href="../refrn/initialization-parameters-2.html#REFRN-GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61" target="_blank"><span class="italic">Oracle Database Reference</span></a>有关初始化参数的详细信息</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>获取数据库I / O错误</p>
                           <p>许多站点在可用磁盘上布置数据库的能力很差。其他站点错误地指定了磁盘数，因为它们按磁盘空间而不是I / O带宽配置磁盘。</p>
                        </li>
                        <li>
                           <p>在线重做日志设置问题</p>
                           <p>许多网站运行的在线重做日志文件太少，文件太小。小型重做日志文件会导致系统检查点不断对缓冲区缓存和I / O系统施加高负荷。如果存在太少的重做日志文件，则存档无法跟上，数据库必须等待存档器赶上。</p>
                        </li>
                        <li>
                           <p>由于缺少空闲列表，空闲列表组，事务槽（ <code class="codeph">INITRANS</code> ）或回滚段不足而导致缓冲区高速缓存中的数据块序列化。
                           </p>
                           <p>这在<code class="codeph">INSERT</code> -heavy应用程序，块大小超过8K的应用程序或具有大量活动用户和少量回滚段的应用程序中尤为常见。使用自动段空间管理（ASSM）和自动撤消管理来解决此问题。
                           </p>
                        </li>
                        <li>
                           <p>长时间全表扫描</p>
                           <p>对于大量或交互式在线操作的长全表扫描可能表明交易设计不佳，索引丢失或SQL优化不佳。长桌扫描本质上是I / O密集型和不可扩展的。</p>
                        </li>
                        <li>
                           <p>大量的递归（ <code class="codeph">SYS</code> ）SQL</p>
                           <p><code class="codeph">SYS</code>执行的大量递归SQL可能表明发生了空间管理活动，例如扩展区分配。这是不可扩展的，会影响用户响应时间。使用本地管理的表空间来减少由于扩展区分配而导致的递归SQL。在另一个用户ID下执行的递归SQL可能是SQL和PL / SQL，这不是问题。
                           </p>
                        </li>
                        <li>
                           <p>部署和迁移错误</p>
                           <p>在许多情况下，应用程序使用太多资源，因为拥有表的模式尚未从开发环境或旧实现成功迁移。例如缺少索引或不正确的统计信息。这些错误可能导致次优执行计划和较差的交互式用户性能。迁移已知性能的应用程序时，请使用<code class="codeph">DBMS_STATS</code>程序包导出架构统计信息以维护计划稳定性。
                           </p>
                           <p>虽然ADDM不会直接检测到这些错误，但ADDM会突出显示由此产生的高负载SQL。</p>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="TGDBA94139"></a><div class="props_rev_3"><a id="GUID-E33E68C9-F4A5-4953-8F80-33810EADD560" name="GUID-E33E68C9-F4A5-4953-8F80-33810EADD560"></a><h3 id="TGDBA-GUID-E33E68C9-F4A5-4953-8F80-33810EADD560" class="sect3"><span class="enumeration_section">3.2</span>紧急性能方法</h3>
               <div>
                  <p>本节提供了处理的技巧<a id="d7771e567" class="indexterm-anchor"></a><a id="d7771e571" class="indexterm-anchor"></a>表现紧急情况。您可能有一种建立和改进应用程序性能的方法。但是，在紧急情况下，系统的一个组件已经改变，将其从可靠，可预测的系统转换为不可预测且不满足用户请求的系统。
                  </p>
                  <p>在这种情况下，性能工程师必须快速确定已更改的内容并采取适当的操作以尽快恢复正常服务。在许多情况下，有必要立即采取行动，严格的绩效改进项目是不现实的。</p>
                  <p>在解决了即时性能问题之后，性能工程师必须收集足够的调试信息，以便更好地清楚性能问题，或者至少确保不会再次发生。</p>
                  <p>调试紧急性能问题的方法与本书前面的性能改进方法中描述的方法相同。但是，由于问题的及时性，快捷方式分为不同阶段。随着调试过程的进展，保留详细的事实记录和事实记录对于后续分析和任何补救措施的理由至关重要。这类似于医生保留良好的患者注意事项以供将来参考。</p>
               </div><a id="TGDBA94140"></a><div class="props_rev_3"><a id="GUID-5AD3CA40-4C1E-47DB-B9FB-8A64823BD2E9" name="GUID-5AD3CA40-4C1E-47DB-B9FB-8A64823BD2E9"></a><h4 id="TGDBA-GUID-5AD3CA40-4C1E-47DB-B9FB-8A64823BD2E9" class="sect4"><span class="enumeration_section">3.2.1</span>紧急性能方法的步骤</h4>
                  <div>
                     <div class="section">
                        <p>该<a id="d7771e634" class="indexterm-anchor"></a>紧急性能方法如下：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>调查性能问题并收集性能问题的症状。此过程应包括以下内容：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>用户对系统如何表现不佳的反馈。是问题吞吐量还是响应时间？</p>
                                 </li>
                                 <li>
                                    <p>问一个问题，“自从我们上次表现良好以来发生了什么变化？“这个答案可以提供问题的线索。但是，在升级的情况下获得无偏见的答案可能很困难。尝试找到问题之前和之后拍摄的一些参考点，例如收集的统计信息或日志文件。</p>
                                 </li>
                                 <li>
                                    <p>使用自动调整功能来诊断和监控问题。此外，您还可以使用Oracle Enterprise Manager云控制（云控制）性能功能来识别顶级SQL和会话。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>完整性 - 检查应用程序系统的所有组件的硬件利用率。检查CPU利用率最高的位置，并检查所有系统组件上的磁盘，内存使用情况和网络性能。此快速过程可识别导致问题的层。如果问题出在应用程序中，则将分析转移到应用程序调试。否则，继续进行数据库服务器分析。</span></li>
                        <li class="stepexpand"><span>确定数据库服务器是否受CPU限制，或者是否花费时间等待等待事件。如果数据库服务器受CPU限制，请调查以下内容：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在操作系统级别和数据库中消耗大量CPU的会话;检查<code class="codeph">V$SESS_TIME_MODEL</code>以了解数据库CPU使用情况</p>
                                 </li>
                                 <li>
                                    <p>执行许多缓冲区的会话或语句在数据库级别获得;检查<code class="codeph">V$SESSTAT</code>和<code class="codeph">V$SQLSTATS</code></p>
                                 </li>
                                 <li>
                                    <p>执行计划更改导致次优SQL执行;这些可能很难找到</p>
                                 </li>
                                 <li>
                                    <p>初始化参数设置不正确</p>
                                 </li>
                                 <li>
                                    <p>代码更改或所有组件升级导致的算法问题</p>
                                 </li>
                              </ul>
                              <p>如果数据库会话正在等待事件，则按照<code class="codeph">V$SESSION_WAIT</code>列出的等待事件来确定导致序列化的原因。<code class="codeph">V$ACTIVE_SESSION_HISTORY</code>视图包含会话活动的采样历史记录，即使在事件结束且系统已恢复正常操作后，您也可以使用该历史记录执行诊断。如果对库高速缓存进行大规模争用，则可能无法将SQL登录或提交到数据库。在这种情况下，使用历史数据来确定此锁存器上突然存在争用的原因。如果大多数等待用于I / O，则检查<code class="codeph">V$ACTIVE_SESSION_HISTORY</code>以确定正在执行所有输入和输出的会话运行的SQL。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>应用紧急措施来稳定系统。这可能涉及使应用程序的一部分脱机或限制可应用于系统的工作负载的操作。它还可能涉及系统重启或正在进行的作业终止。这些自然会产生服务水平。</span></li>
                        <li class="stepexpand"><span>验证系统是否稳定。对系统进行了更改和限制后，验证系统现在是否稳定，并收集数据库的参考统计信息集。现在，按照本书前面介绍的严格的性能方法，将所有功能和用户带回系统。此过程可能需要在完成之前进行重大的应用程序重新设计。</span></li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>