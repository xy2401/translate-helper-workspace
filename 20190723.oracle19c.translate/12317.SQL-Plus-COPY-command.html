<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>SQL * Plus COPY命令</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide and Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide and Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sqlplus-users-guide-and-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T05:48:09-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96459-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SQL-Plus-limits.html" title="Previous" type="text/html"></link>
      <link rel="next" href="obsolete-SQL-Plus-commands.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus User&#39;s Guide and Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQL-Plus-limits.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="obsolete-SQL-Plus-commands.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指南和参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL * Plus COPY命令</li>
            </ol>
            <a id="GUID-3565689A-6B8C-42FB-95F3-0412C707377E" name="GUID-3565689A-6B8C-42FB-95F3-0412C707377E"></a><a id="SQPUG140"></a>
            
            <h2 id="SQPUG-GUID-3565689A-6B8C-42FB-95F3-0412C707377E" class="sect2"><span class="enumeration_chapter">B</span> SQL * Plus COPY命令</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录讨论以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="SQL-Plus-COPY-command.html#GUID-EE507C7A-705A-4A1F-A7ED-A94C6641ECC9">COPY命令语法</a> 
                     </p>
                  </li>
                  <li>
                     <p><a href="SQL-Plus-COPY-command.html#GUID-21ABF02B-2F5F-47DE-9202-B16018C870D8">将数据从一个数据库复制到另一个数据库</a></p>
                  </li>
                  <li>
                     <p><a href="SQL-Plus-COPY-command.html#GUID-D69A836D-B415-4CBB-A32A-235A5E072A8D">关于在一个数据库上的表之间复制数据</a></p>
                  </li>
               </ul>
               <p>坐在您的计算机上阅读本章并尝试显示的示例。在开始之前，请确保您可以访问<a href="SQL-Plus-quick-start.html#GUID-BF1995BD-EF9B-4EA2-9B32-7BFACDEB79DA">SQL * Plus快速入门中</a>描述的示例表。
               </p>
               <p>在将来的SQL * Plus版本中将弃用COPY命令。在Oracle 9 <span class="italic">i之后</span> ，COPY不支持新的数据类型。</p>
            </div><a id="SQPUG611"></a><div class="props_rev_3"><a id="GUID-EE507C7A-705A-4A1F-A7ED-A94C6641ECC9" name="GUID-EE507C7A-705A-4A1F-A7ED-A94C6641ECC9"></a><h3 id="SQPUG-GUID-EE507C7A-705A-4A1F-A7ED-A94C6641ECC9" class="sect3"><span class="enumeration_section">B.1</span> COPY命令语法</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">COPY {FROM <span class="italic">database</span> | TO <span class="italic">数据库</span> | FROM <span class="italic">database</span> to <span class="italic">database</span> } {APPEND | CREATE | INSERT | REPLACE} <span class="italic">destination_table</span> [（ <span class="italic">column</span> ， <span class="italic">column</span> ， <span class="italic">column</span> ，...）]使用<span class="italic">查询</span></pre><p>其中<span class="italic">database</span>具有以下语法：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">用户名</span> [/ <span class="italic">密码</span> ] @ <span class="italic">connect_identifier</span><a id="d56918e118" class="indexterm-anchor"></a></pre><p>将查询中的数据复制到表中<a id="d56918e124" class="indexterm-anchor"></a>在相同或另一个<a id="d56918e129" class="indexterm-anchor"></a>数据库<a id="d56918e134" class="indexterm-anchor"></a> 。 <a id="d56918e139" class="indexterm-anchor"></a> COPY支持以下数据类型：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>CHAR</li>
                        <li>日期</li>
                        <li>长</li>
                        <li>数</li>
                        <li>VARCHAR2</li>
                     </ul>
                     <div class="infoboxnotewarn" id="GUID-EE507C7A-705A-4A1F-A7ED-A94C6641ECC9__GUID-C9BB5C1A-86B7-427B-A5D1-37036383E0D2">
                        <p class="notep1">警告：</p>
                        <p>以明文形式包含密码存在安全风险。您可以通过省略密码来避免此风险，并仅在系统提示时输入密码。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="SQPUG612"></a><div class="props_rev_3"><a id="GUID-CF5D3C0E-6E95-4FF6-80C6-04FDB0B2760E" name="GUID-CF5D3C0E-6E95-4FF6-80C6-04FDB0B2760E"></a><h4 id="SQPUG-GUID-CF5D3C0E-6E95-4FF6-80C6-04FDB0B2760E" class="sect4"><span class="enumeration_section">B.1.1</span>条款</h4>
                  <div>
                     <div class="section">
                        <p>有关每个术语或子句的说明，请参阅以下列表：</p><pre class="oac_no_warn" dir="ltr">FROM <span class="italic">数据库</span></pre><p>该<a id="d56918e187" class="indexterm-anchor"></a>包含要复制的数据的数据库。如果省略FROM子句，则源默认为SQL * Plus所连接的数据库（即其他命令所涉及的数据库）。必须使用FROM子句指定默认值以外的源数据库。COPY命令FROM子句不支持SYSDBA或SYSOPER特权连接。
                        </p><pre class="oac_no_warn" dir="ltr">到<span class="italic">数据库</span></pre><p>包含目标表的数据库。如果省略TO子句，则目标默认为SQL * Plus所连接的数据库（即其他命令所指向的数据库）。必须使用TO子句指定默认值以外的目标数据库。COPY命令TO子句不支持SYSDBA或SYSOPER特权连接。</p><pre class="oac_no_warn" dir="ltr"><span class="italic">数据库</span></pre><p>指定要复制或复制到的Oracle数据库源或目标数据库的<span class="italic">用户名</span> [/ <span class="italic">password</span> ] @ <span class="italic">connect_identifier</span> 。 COPY命令不支持SYSDBA或SYSOPER特权连接。您必须包含用户名。SQL * Plus会提示您输入与COPY FROM或COPY TO子句中指定的用户名关联的密码。SQL * Plus禁止显示密码响应。
                        </p>
                        <p>你必须包括<a id="d56918e214" class="indexterm-anchor"></a> <span class="italic">connect_identifier</span>子句指定源数据库或目标数据库。确切的语法取决于Oracle Net配置。有关更多信息，请参阅Oracle Net手册或联系您的DBA。</p><pre class="oac_no_warn" dir="ltr">附加</pre><p><a id="d56918e224" class="indexterm-anchor"></a><a id="d56918e228" class="indexterm-anchor"></a>插入<a id="d56918e233" class="indexterm-anchor"></a>如果表存在，则从查询到<span class="italic">destination_table</span>的行。如果<span class="italic">destination_table</span>不存在，COPY会创建它。
                        </p><pre class="oac_no_warn" dir="ltr">创建</pre><p><a id="d56918e248" class="indexterm-anchor"></a><a id="d56918e252" class="indexterm-anchor"></a><a id="d56918e256" class="indexterm-anchor"></a>首次创建表后，将查询中的行插入<span class="italic">destination_table</span> 。如果<span class="italic">destination_table</span>已存在，则COPY返回错误。
                        </p><pre class="oac_no_warn" dir="ltr">插入</pre><p><a id="d56918e270" class="indexterm-anchor"></a><a id="d56918e272" class="indexterm-anchor"></a><a id="d56918e276" class="indexterm-anchor"></a>将查询中的行插入<span class="italic">destination_table</span> 。如果<span class="italic">destination_table</span>不存在，COPY将返回错误。使用INSERT时，USING <span class="italic">查询</span>必须为<span class="italic">destination_table中的</span>每列选择一列。
                        </p><pre class="oac_no_warn" dir="ltr">更换</pre><p><a id="d56918e296" class="indexterm-anchor"></a><a id="d56918e300" class="indexterm-anchor"></a><a id="d56918e304" class="indexterm-anchor"></a>用来自查询的行替换<span class="italic">destination_table</span>及其内容。如果<span class="italic">destination_table</span>不存在，COPY会创建它。否则，COPY将删除现有表并将其替换为包含复制数据的表。
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">destination_table</span></pre><p><a id="d56918e319" class="indexterm-anchor"></a>表示您要创建的表或要添加数据的表。
                        </p><pre class="oac_no_warn" dir="ltr">（ <span class="italic">列</span> ， <span class="italic">列</span> ， <span class="italic">列</span> ，......）</pre><p>指定<a id="d56918e337" class="indexterm-anchor"></a>列的名称<a id="d56918e342" class="indexterm-anchor"></a>在<span class="italic">destination_table中</span> 。如果名称包含小写字母或空格，则必须用双引号括起名称。
                        </p>
                        <p>如果指定列，则列数必须等于查询选择的列数。如果未指定任何列，则复制的列将在目标表中与在源中具有的名称相同，如果COPY创建<span class="italic">destination_table</span> 。
                        </p><pre class="oac_no_warn" dir="ltr">使用<span class="italic">查询</span></pre><p><a id="d56918e361" class="indexterm-anchor"></a><a id="d56918e363" class="indexterm-anchor"></a>指定SQL <a id="d56918e368" class="indexterm-anchor"></a>询问<a id="d56918e373" class="indexterm-anchor"></a> （选择<a id="d56918e378" class="indexterm-anchor"></a>命令）确定<a id="d56918e383" class="indexterm-anchor"></a><a id="d56918e389" class="indexterm-anchor"></a>哪一个<a id="d56918e394" class="indexterm-anchor"></a>行和列COPY副本。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG613"></a><div class="props_rev_3"><a id="GUID-F2590ACD-D3B8-4016-817C-D14167281554" name="GUID-F2590ACD-D3B8-4016-817C-D14167281554"></a><h4 id="SQPUG-GUID-F2590ACD-D3B8-4016-817C-D14167281554" class="sect4"><span class="enumeration_section">B.1.2</span>使用</h4>
                  <div>
                     <p>要在Oracle和非Oracle数据库之间启用数据复制，NUMBER列将更改为目标表中的DECIMAL列。因此，如果要在Oracle数据库之间进行复制，则不会将精度为NUMBER的列更改为DECIMAL（38）列。在Oracle数据库之间进行复制时，应使用SQL命令（CREATE TABLE AS和INSERT），或者应确保列的指定精度。</p>
                     <p>SQL * Plus SET <a id="d56918e423" class="indexterm-anchor"></a> LONG变量<a id="d56918e428" class="indexterm-anchor"></a>限制您复制的LONG列的长度。如果任何LONG列包含的数据长于LONG的值，则COPY会截断数据。
                     </p>
                     <p>SQL * Plus在每次成功复制COPY后执行提交。如果设置SQL * Plus SET <a id="d56918e435" class="indexterm-anchor"></a> COPYCOMMIT <a id="d56918e440" class="indexterm-anchor"></a>变量为正值n，SQL * Plus在复制每n批记录后执行提交。SQL * Plus SET <a id="d56918e445" class="indexterm-anchor"></a> ARRAYSIZE <a id="d56918e450" class="indexterm-anchor"></a>变量确定批次的大小。
                     </p>
                     <p>某些操作环境要求将服务名称放在双引号中。</p>
                  </div>
               </div><a id="SQPUG614"></a><div class="props_rev_3"><a id="GUID-F3B2995E-2533-48BC-A1D2-BD3879D90610" name="GUID-F3B2995E-2533-48BC-A1D2-BD3879D90610"></a><h4 id="SQPUG-GUID-F3B2995E-2533-48BC-A1D2-BD3879D90610" class="sect4"><span class="enumeration_section">B.1.3</span>例子</h4>
                  <div>
                     <p>以下命令将整个EMPLOYEES表复制到名为WESTEMPLOYEES的表中。请注意，这些表位于两个不同的数据库中。如果WESTEMPLOYEES已存在，则SQL * Plus将替换表及其内容。WESTEMPLOYEES中的列与源表中的列EMPLOYEES具有相同的名称。</p><pre class="oac_no_warn" dir="ltr">从HR @ HQ复制到JOHN @ WEST  - 取代WESTEMPLOYEES  - 使用选择*来自员工</pre><p>以下命令将选定的记录从EMPLOYEES复制到SQL * Plus所连接的数据库。SQL * Plus通过副本创建SALESMEN。SQL * Plus仅复制EMPLOYEE_ID和LAST_NAME列，并在目标位置将它们命名为EMPLOYEE_ID和SA_MAN。</p><pre class="oac_no_warn" dir="ltr">从HR @ ORACLE01复制 - 创建销售人员（EMPLOYEE_ID，SA_MAN） - 使用SELECT EMPLOYEE_ID，LAST_NAME来自员工 - 在哪里JOB_ID ='SA_MAN';</pre></div>
               </div>
            </div><a id="SQPUG615"></a><div class="props_rev_3"><a id="GUID-21ABF02B-2F5F-47DE-9202-B16018C870D8" name="GUID-21ABF02B-2F5F-47DE-9202-B16018C870D8"></a><h3 id="SQPUG-GUID-21ABF02B-2F5F-47DE-9202-B16018C870D8" class="sect3"><span class="enumeration_section">B.2</span>将数据从一个数据库复制到另一个数据库</h3>
               <div>
                  <div class="section">
                     <p>使用SQL * Plus COPY <a id="d56918e509" class="indexterm-anchor"></a>命令复制<a id="d56918e512" class="indexterm-anchor"></a> CHAR，DATE，LONG，NUMBER或VARCHAR2数据<a id="d56918e517" class="indexterm-anchor"></a>在数据库之间<a id="d56918e522" class="indexterm-anchor"></a>和表之间<a id="d56918e527" class="indexterm-anchor"></a>在同一个数据库上。使用COPY命令，您可以通过以下方式在数据库之间复制数据：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将数据从远程数据库复制到本地数据库。</p>
                        </li>
                        <li>
                           <p>将数据从本地（默认）数据库复制到远程数据库（大多数系统）。</p>
                        </li>
                        <li>
                           <p>将数据从一个远程数据库复制到另一个远程数据库（大多数系统）。</p>
                           <div class="infoboxnote" id="GUID-21ABF02B-2F5F-47DE-9202-B16018C870D8__GUID-2539C3EC-80A9-4610-BCB2-49BE2589FFDE">
                              <p class="notep1">注意：</p>
                              <p>通常，COPY命令旨在用于在Oracle和非Oracle数据库之间复制数据。您应该使用SQL命令（CREATE TABLE AS和INSERT）在Oracle数据库之间复制数据。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="SQPUG616"></a><div class="props_rev_3"><a id="GUID-866EE2F8-071D-4D9F-8719-99DE10303DE0" name="GUID-866EE2F8-071D-4D9F-8719-99DE10303DE0"></a><h4 id="SQPUG-GUID-866EE2F8-071D-4D9F-8719-99DE10303DE0" class="sect4"><span class="enumeration_section">B.2.1</span>了解COPY命令语法</h4>
                  <div>
                     <p>您<a id="d56918e568" class="indexterm-anchor"></a>以下列形式输入COPY命令：</p><pre class="oac_no_warn" dir="ltr">COPY FROM <span class="italic">数据库</span>到<span class="italic">数据库</span>操作 - <span class="italic">destination_table</span> （ <span class="italic">column_name</span> ， <span class="italic">column_name</span> ， - <span class="italic">column_name</span> ...）使用<span class="italic">查询</span></pre><p>这里有一个<a id="d56918e598" class="indexterm-anchor"></a>样品<a id="d56918e603" class="indexterm-anchor"></a>复制<a id="d56918e608" class="indexterm-anchor"></a>命令：</p><pre class="oac_no_warn" dir="ltr">从HR @ BOSTONDB复制 - 到TODD @ CHICAGODB  - 创建NEWDEPT（DEPARTMENT_ID，DEPARTMENT_NAME，CITY） - 使用SELECT *来自EMP_DETAILS_VIEW</pre><p>在中指定数据库<a id="d56918e617" class="indexterm-anchor"></a>从<a id="d56918e622" class="indexterm-anchor"></a>要么<a id="d56918e625" class="indexterm-anchor"></a>至<a id="d56918e630" class="indexterm-anchor"></a>条款，你必须有一个有效的<a id="d56918e633" class="indexterm-anchor"></a>用户名<a id="d56918e639" class="indexterm-anchor"></a>和密码<a id="d56918e644" class="indexterm-anchor"></a>对于本地和远程数据库，并了解相应的Oracle Net服务<a id="d56918e649" class="indexterm-anchor"></a>名。 <a id="d56918e654" class="indexterm-anchor"></a> COPY遵循Oracle数据库安全性，因此您指定的用户名必须已被授予对表的访问权限，以便您可以访问表。有关可用的数据库的信息，请与您的DBA联系。</p>
                     <p>从远程数据库复制到本地数据库时，可以省略TO子句。从本地数据库复制到远程数据库时，可以省略FROM子句。在远程数据库之间复制时，必须包含这两个子句。但是，包含这两个子句会增加脚本的可读性。</p>
                     <p>COPY <a id="d56918e663" class="indexterm-anchor"></a>命令根据目标表是否有不同的行为<a id="d56918e668" class="indexterm-anchor"></a>已经存在并且在您输入的action子句中（在示例中为CREATE）。有关详细信息，请参阅<a href="SQL-Plus-COPY-command.html#GUID-0BD9CF23-78D7-470A-A796-9C01D9DF0C88">关于控制目标表的处理</a> 。
                     </p>
                     <p>默认情况下，复制<a id="d56918e679" class="indexterm-anchor"></a>列在源表中具有与目标表中相同的名称。如果要为列指定新名称<a id="d56918e684" class="indexterm-anchor"></a>在目标表中，在目标表名称后面的括号中输入新名称。如果输入任何列名称，则必须为要复制的每个列输入名称。
                     </p>
                     <div class="infoboxnote" id="GUID-866EE2F8-071D-4D9F-8719-99DE10303DE0__GUID-C8090AA1-DF8B-49D1-B6DD-0C409947BCB5">
                        <p class="notep1">注意：</p>
                        <p>要在Oracle和非Oracle数据库之间启用数据复制，NUMBER列将更改为目标表中的DECIMAL列。因此，如果要在Oracle数据库之间进行复制，则不会将精度为NUMBER的列更改为DECIMAL（38）列。在Oracle数据库之间进行复制时，应使用SQL命令（CREATE TABLE AS和INSERT），或者应确保列的指定精度。</p>
                     </div>
                     <p>使用<a id="d56918e694" class="indexterm-anchor"></a>子句指定查询<a id="d56918e697" class="indexterm-anchor"></a><a id="d56918e702" class="indexterm-anchor"></a>那个名字<a id="d56918e707" class="indexterm-anchor"></a>源表并指定<a id="d56918e712" class="indexterm-anchor"></a>数据<a id="d56918e718" class="indexterm-anchor"></a>复制<a id="d56918e723" class="indexterm-anchor"></a>复制到目标表。您可以使用任何形式的SQL SELECT <a id="d56918e728" class="indexterm-anchor"></a>命令选择COPY命令复制的数据。
                     </p>
                     <p>这是一个COPY的例子<a id="d56918e735" class="indexterm-anchor"></a>命令仅复制源表中的两列，并仅复制DEPARTMENT_ID值为30的行：</p><pre class="oac_no_warn" dir="ltr">从HR @ BOSTONDB复制 - 更换EMPCOPY2  - 使用SELECT LAST_NAME，SALARY  - 来自EMP_DETAILS_VIEW  - 在哪里DEPARTMENT_ID = 30</pre><p>您可能会发现在脚本中输入和编辑长COPY命令更容易，而不是尝试在命令提示符下直接输入它们。</p>
                  </div>
               </div><a id="SQPUG618"></a><a id="SQPUG617"></a><div class="props_rev_3"><a id="GUID-0BD9CF23-78D7-470A-A796-9C01D9DF0C88" name="GUID-0BD9CF23-78D7-470A-A796-9C01D9DF0C88"></a><h4 id="SQPUG-GUID-0BD9CF23-78D7-470A-A796-9C01D9DF0C88" class="sect4"><span class="enumeration_section">B.2.2</span>关于控制目的地表的处理</h4>
                  <div>
                     <p>您可以控制目标表的处理<a id="d56918e768" class="indexterm-anchor"></a>通过输入四个控制子句之一 -  REPLACE，CREATE，INSERT或APPEND。</p>
                     <p>该<a id="d56918e775" class="indexterm-anchor"></a>更换<a id="d56918e780" class="indexterm-anchor"></a>条款<a id="d56918e785" class="indexterm-anchor"></a>命名要创建的表<a id="d56918e790" class="indexterm-anchor"></a>在目标数据库中并指定以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果目标表已存在，则COPY将删除现有表，并将其替换为包含复制数据的表。</p>
                        </li>
                        <li>
                           <p>如果目标表尚不存在，COPY将使用复制的数据创建它。</p>
                        </li>
                     </ul>
                     <p>你可以使用<a id="d56918e804" class="indexterm-anchor"></a>创建<a id="d56918e809" class="indexterm-anchor"></a>避免意外写入现有表的子句。创建<a id="d56918e814" class="indexterm-anchor"></a>指定以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果目标表已存在，COPY将报告错误并停止。</p>
                        </li>
                        <li>
                           <p>如果目标表尚不存在，COPY将使用复制的数据创建表。</p>
                        </li>
                     </ul>
                     <p>使用<a id="d56918e828" class="indexterm-anchor"></a>插入<a id="d56918e833" class="indexterm-anchor"></a>插入<a id="d56918e836" class="indexterm-anchor"></a>数据到现有表中。INSERT指定以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果目标表已存在，COPY会将复制的数据插入目标表中。</p>
                        </li>
                        <li>
                           <p>如果目标表尚不存在，COPY将报告错误并停止。</p>
                        </li>
                     </ul>
                     <p>使用<a id="d56918e850" class="indexterm-anchor"></a>附加<a id="d56918e855" class="indexterm-anchor"></a>当你想插入<a id="d56918e860" class="indexterm-anchor"></a>现有表中的数据，如果目标表不存在，则创建新表。APPEND指定以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果目标表已存在，COPY会将复制的数据插入目标表中。</p>
                        </li>
                        <li>
                           <p>如果该表尚不存在，COPY将创建该表，然后将复制的数据插入其中。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-0BD9CF23-78D7-470A-A796-9C01D9DF0C88__GUID-E7CB4B83-2279-4595-B3A6-30DDD2F55127">
                        <p class="notep1">注意：</p>
                        <p>请咨询您的DBA以获取相应的信息<a id="d56918e875" class="indexterm-anchor"></a>用户名<a id="d56918e880" class="indexterm-anchor"></a> ，密码<a id="d56918e885" class="indexterm-anchor"></a>和服务<a id="d56918e890" class="indexterm-anchor"></a>名称<a id="d56918e895" class="indexterm-anchor"></a>对于包含EMPLOYEE_COPY副本的远程计算机。</p>
                     </div><pre class="oac_no_warn" dir="ltr">从HR @ BOSTONDB复制 - 创建EMPCOPY  - 使用SELECT * from HR</pre><pre class="pre codeblock"><code>数组提取/绑定大小为15.（arraysize为15）完成后将提交。 （copycommit为0）最大长度为80.（长为80）</code></pre><p>然后SQL * Plus创建表EMPLOYEE_COPY并复制行：</p><pre class="pre codeblock"><code>表SALESMAN已创建。从HR @ BOSTONDB中选择5行。 5行插入SALESMAN。在DEFAULT HOST连接中将5行提交到SALESMAN。</code></pre><p>在此COPY命令中，FROM子句指示COPY将您连接到具有规范BOSTONDB作为HR的数据库。</p>
                     <p>请注意，在命令末尾不需要分号; COPY是SQL * Plus命令，而不是SQL命令，即使它包含查询。由于大多数COPY命令长于一行，因此必须在除最后一行之外的每行末尾使用行连续连字符（ - ），可选地前面有空格。</p>
                     <div class="example" id="GUID-0BD9CF23-78D7-470A-A796-9C01D9DF0C88__GUID-20501DD5-7EA9-465B-A97F-4601E743FBC7">
                        <p class="titleinexample">示例B-1使用CREATE从远程数据库复制到本地数据库</p>
                        <p>要将HR从远程数据库复制到您自己的数据库中名为EMPLOYEE_COPY的表中，请输入以下命令：</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG619"></a><div class="props_rev_3"><a id="GUID-B5CE7F1D-D664-4A9E-85FA-CE7A85D22A3F" name="GUID-B5CE7F1D-D664-4A9E-85FA-CE7A85D22A3F"></a><h4 id="SQPUG-GUID-B5CE7F1D-D664-4A9E-85FA-CE7A85D22A3F" class="sect4"><span class="enumeration_section">B.2.3</span>关于解释COPY显示的消息</h4>
                  <div>
                     <p>COPY显示的前三条消息<a id="d56918e943" class="indexterm-anchor"></a>显示影响COPY的SET命令变量的值<a id="d56918e948" class="indexterm-anchor"></a>操作。最重要的是<a id="d56918e953" class="indexterm-anchor"></a>长<a id="d56918e958" class="indexterm-anchor"></a> ，它限制了LONG列值的长度。（LONG是一种数据类型，类似于CHAR。）如果源表包含LONG列，则COPY会将该列中的值截断为系统变量LONG指定的长度。</p>
                     <p>变量<a id="d56918e965" class="indexterm-anchor"></a> ARRAYSIZE <a id="d56918e970" class="indexterm-anchor"></a>范围<a id="d56918e975" class="indexterm-anchor"></a> SQL * Plus一次从数据库中提取的行数。这个行数组成一个批次。变量<a id="d56918e980" class="indexterm-anchor"></a> COPYCOMMIT <a id="d56918e985" class="indexterm-anchor"></a>套<a id="d56918e991" class="indexterm-anchor"></a> COPY提交更改到数据库之后的批次数。（如果将COPYCOMMIT设置为零，则COPY仅在复制所有批次后提交更改。）有关SET变量的更多信息，包括如何更改其设置，请参阅<a href="SET.html#GUID-9095C4FF-F4EB-4218-84AA-83061186625F">SET</a>命令。
                     </p>
                     <p>列出三个系统变量及其值后，COPY会告诉您在复制期间是否删除，创建或更新了表。然后COPY列出选择，插入和提交的行数。</p>
                  </div>
               </div><a id="SQPUG620"></a><div class="props_rev_3"><a id="GUID-77E0C03C-919D-474C-8397-5FD0C9FDA938" name="GUID-77E0C03C-919D-474C-8397-5FD0C9FDA938"></a><h4 id="SQPUG-GUID-77E0C03C-919D-474C-8397-5FD0C9FDA938" class="sect4"><span class="enumeration_section">B.2.4</span>指定另一个用户的表</h4>
                  <div>
                     <div class="section">
                        <p>您可以参考其他用户的表格<a id="d56918e1025" class="indexterm-anchor"></a>在COPY中<a id="d56918e1030" class="indexterm-anchor"></a>命令通过使用用户名限定表名，就像在本地数据库中或在具有数据库链接的查询中一样。
                        </p>
                        <p>例如，要在与Oracle Net连接标识符BOSTONDB关联的数据库上创建由用户名ADAMS拥有的名为DEPARTMENT的表的本地副本，您将输入</p><pre class="oac_no_warn" dir="ltr">从HR @ BOSTONDB复制 - 创建员工_COPY2  - 使用SELECT *来自ADAMS.DEPARTMENT</pre><p>当然，您可以通过指示COPY以ADAMS身份登录到远程数据库来获得相同的结果。但是，除非您知道与用户名ADAMS关联的密码，否则不能这样做。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SQPUG621"></a><div class="props_rev_3"><a id="GUID-D69A836D-B415-4CBB-A32A-235A5E072A8D" name="GUID-D69A836D-B415-4CBB-A32A-235A5E072A8D"></a><h3 id="SQPUG-GUID-D69A836D-B415-4CBB-A32A-235A5E072A8D" class="sect3"><span class="enumeration_section">B.3</span>关于在一个数据库的表之间复制数据</h3>
               <div>
                  <p>你可以复制<a id="d56918e1064" class="indexterm-anchor"></a>数据<a id="d56918e1069" class="indexterm-anchor"></a>从一张桌子<a id="d56918e1074" class="indexterm-anchor"></a>在一个数据库中的另一个<a id="d56918e1079" class="indexterm-anchor"></a> （本地或远程）。要在本地数据库中的表之间进行复制，请指定自己的表<a id="d56918e1084" class="indexterm-anchor"></a>用户名<a id="d56918e1090" class="indexterm-anchor"></a><a id="d56918e1094" class="indexterm-anchor"></a>和服务<a id="d56918e1099" class="indexterm-anchor"></a>名称<a id="d56918e1104" class="indexterm-anchor"></a>对于FROM或TO子句中的本地数据库（省略其他子句）：</p><pre class="oac_no_warn" dir="ltr">复制HR @ MYDATABASE  -  INSERT EMPLOYEE_COPY2  - 使用SELECT * from EMPLOYEE_COPY</pre><p>要在远程数据库的表之间进行复制，请在FROM和TO子句中包含相同的用户名和服务名：</p><pre class="oac_no_warn" dir="ltr">从HR @ BOSTONDB复制 - 到HR @ BOSTONDB  -  INSERT EMPLOYEE_COPY2  - 使用SELECT * from EMPLOYEE_COPY</pre></div>
            </div>
         </div>
      </article>
   </body>
</html>