<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="With the UTL_TCP package and its procedures and functions, PL/SQL applications can communicate with external TCP/IP-based servers using TCP/IP. Because many Internet application protocols are based on TCP/IP, this package is useful to PL/SQL applications that use Internet protocols and e-mail."></meta>
      <meta name="description" content="With the UTL_TCP package and its procedures and functions, PL/SQL applications can communicate with external TCP/IP-based servers using TCP/IP. Because many Internet application protocols are based on TCP/IP, this package is useful to PL/SQL applications that use Internet protocols and e-mail."></meta>
      <title>UTL_TCP</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="With the UTL_TCP package and its procedures and functions, PL/SQL applications can communicate with external TCP/IP-based servers using TCP/IP. Because many Internet application protocols are based on TCP/IP, this package is useful to PL/SQL applications that use Internet protocols and e-mail."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="UTL_SMTP.html" title="Previous" type="text/html"></link>
      <link rel="next" href="UTL_URL.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="UTL_SMTP.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="UTL_URL.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">UTL_TCP</li>
            </ol>
            <a id="GUID-348AFFE8-78B2-4217-AE73-384F46A1D292" name="GUID-348AFFE8-78B2-4217-AE73-384F46A1D292"></a><a id="ARPLS075"></a><a id="ARPLS075"></a>
            
            <h2 id="ARPLS-GUID-348AFFE8-78B2-4217-AE73-384F46A1D292" class="sect2"><span class="enumeration_chapter">268</span> UTL_TCP</h2>
         </header>
         <div class="ind">
            <div>
               <p>通过<code class="codeph">UTL_TCP</code>包及其过程和功能，PL / SQL应用程序可以使用TCP / IP与外部基于TCP / IP的服务器进行通信。由于许多Internet应用程序协议都基于TCP / IP，因此该程序包对使用Internet协议和电子邮件的PL / SQL应用程序很有用。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="UTL_TCP.html#GUID-3E6EE56B-49F8-45C9-86D9-419DD333A77F" title="UTL_TCP包在PL / SQL中提供TCP / IP客户端访问功能。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_TCP.html#GUID-F4E01C3D-0641-4DAC-A029-44D0DF1E8DC7" title="此包是一个调用者权限包，并且调用用户需要在分配给他想要连接的远程网络主机的访问控制列表中授予的连接权限。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_TCP.html#GUID-A85651C3-22FE-426E-9C20-CF20B99451AF" title="UTL_TCP包包括CONNECTION类型和回车换行（CRLF）类型。">类型</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_TCP.html#GUID-E4ED0CDB-145F-4D8C-829E-0F4A4CFBC6D8" title="UTL_TCP在遇到处理问题时会引发异常。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_TCP.html#GUID-C4DD4BD3-B471-4D60-B28D-C07B55338072" title="包中提供的接口仅允许PL / SQL程序启动连接。它不允许PL / SQL程序接受在程序外部启动的连接。">规则和限制</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_TCP.html#GUID-DB3A5440-1344-4336-AD7D-D15EA768DED9" title="UTL_TCP的一些可能用途包括通过HTTP检索网页或发送电子邮件。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_TCP.html#GUID-C8FBC3F2-CDAE-48B6-A26F-FEC39652AB55" title="该表列出了UTL_TCP子程序并简要描述了它们。">UTL_TCP子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS71534"></a><a id="ARPLS71534"></a><div class="props_rev_3"><a id="GUID-3E6EE56B-49F8-45C9-86D9-419DD333A77F" name="GUID-3E6EE56B-49F8-45C9-86D9-419DD333A77F"></a><h3 id="ARPLS-GUID-3E6EE56B-49F8-45C9-86D9-419DD333A77F" class="sect3"><span class="enumeration_section">268.1</span> UTL_TCP概述</h3>
               <div>
                  <p><code class="codeph">UTL_TCP</code>包在PL / SQL中提供TCP / IP客户端访问功能。</p>
               </div>
            </div><a id="ARPLS71535"></a><a id="ARPLS71535"></a><div class="props_rev_3"><a id="GUID-F4E01C3D-0641-4DAC-A029-44D0DF1E8DC7" name="GUID-F4E01C3D-0641-4DAC-A029-44D0DF1E8DC7"></a><h3 id="ARPLS-GUID-F4E01C3D-0641-4DAC-A029-44D0DF1E8DC7" class="sect3"><span class="enumeration_section">268.2</span> UTL_TCP安全模型</h3>
               <div>
                  <p>此包是一个调用者权限包，并且调用用户需要在分配给他想要连接的远程网络主机的访问控制列表中授予的连接权限。</p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-F4E01C3D-0641-4DAC-A029-44D0DF1E8DC7__GUID-B3CC9B6F-AEAB-4D88-B69C-CCE5FBC8641D">
                        <p class="notep1">注意：</p>
                        <p>有关管理细粒度访问的详细信息，请参阅“ <a href="../dbseg/managing-fine-grained-access-in-pl-sql-packages-and-types.html#DBSEG40012" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71536"></a><a id="ARPLS71536"></a><div class="props_rev_3"><a id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF" name="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF"></a><h3 id="ARPLS-GUID-A85651C3-22FE-426E-9C20-CF20B99451AF" class="sect3"><span class="enumeration_section">268.3</span> UTL_TCP类型</h3>
               <div>
                  <p><code class="codeph">UTL_TCP</code>包包括CONNECTION类型和回车换行（CRLF）类型。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-599C5555-949D-4F88-AA9A-AA516B30DA43">连接类型</p>
                     <p>这是用于表示TCP / IP连接的PL / SQL记录类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-218EDA6D-19AE-46D7-99CE-89936F69BCC7">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">TYPE连接IS RECORD（remote_host VARCHAR2（255），remote_port PLS_INTEGER，local_host VARCHAR2（255），local_port PLS_INTEGER，charset VARCHAR2（30），换行符VARCHAR2（2），tx_timeout PLS_INTEGER，private_sd PLS_INTEGER）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-C0D0B3F5-9D9D-4375-81C2-7F49EBFE1E7E">字段</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-BCFD0637-ED54-4844-B64B-C73D54DAFE90">
                     <p class="titleintable">表268-1连接记录类型字段</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="连接记录类型字段" width="100%" border="1" summary="This table describes Fields of the Connection Record Type used by  UTL_TCP subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1550159e458">领域</th>
                              <th align="left" valign="bottom" width="69%" id="d1550159e461">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e466" headers="d1550159e458 ">
                                 <p><code class="codeph">远程主机</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e466 d1550159e461 ">
                                 <p>建立连接时远程主机的名称。没有建立连接时为<code class="codeph">NULL</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e477" headers="d1550159e458 ">
                                 <p><code class="codeph">REMOTE_PORT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e477 d1550159e461 ">
                                 <p>连接的远程主机的端口号。没有建立连接时为<code class="codeph">NULL</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e488" headers="d1550159e458 ">
                                 <p><code class="codeph">local_host</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e488 d1550159e461 ">
                                 <p>用于建立连接的本地主机的名称。没有建立连接时为<code class="codeph">NULL</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e499" headers="d1550159e458 ">
                                 <p><code class="codeph">LOCAL_PORT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e499 d1550159e461 ">
                                 <p>用于建立连接的本地主机的端口号。没有建立连接时为<code class="codeph">NULL</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e510" headers="d1550159e458 ">
                                 <p><code class="codeph">字符集</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e510 d1550159e461 ">
                                 <p>在线字符集。由于数据库中的文本消息可能编码为与线路上预期的字符集不同的字符集（即通信协议指定的字符集，或通信另一端规定的字符集），数据库中的消息将在网络上发送和接收时在线上字符集进行转换。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e518" headers="d1550159e458 ">
                                 <p><code class="codeph">新队</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e518 d1550159e461 ">
                                 <p>换行符字符序列。此换行符字符序列附加到<code class="codeph">WRITE_LINE</code> API发送的文本行。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e529" headers="d1550159e458 ">
                                 <p><code class="codeph">tx_timeout</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e529 d1550159e461 ">
                                 <p>UTL_TCP程序包在放弃此连接中的读取或写入操作之前等待的时间（以秒为单位）。在读取操作中，如果没有可用于立即读取的数据，则此程序包将放弃。在写入操作中，如果输出缓冲区已满并且没有数据要在网络中发送而不被阻止，则此程序包将放弃。零（0）表示根本不等待。<code class="codeph">NULL</code>表示永远等待。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-86B5BCD4-FD46-4DF0-A374-E701AD310A73">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>连接记录中的字段用于返回有关连接的信息，通常使用<code class="codeph">OPEN_CONNECTION</code>进行<code class="codeph">OPEN_CONNECTION</code> 。更改这些字段的值不会影响连接。<code class="codeph">private_XXXX</code>字段仅供实现使用。您不应该修改值。
                     </p>
                     <p>在当前版本的<code class="codeph">UTL_TCP</code>包中，当<code class="codeph">open_connection</code>建立TCP / IP连接时，将忽略参数<code class="codeph">local_host</code>和<code class="codeph">local_port</code> 。建立连接时，它不会尝试使用指定的本地主机和端口号。<code class="codeph">local_host</code>和<code class="codeph">local_port</code>字段未在函数返回的连接记录中设置。
                     </p>
                     <p>当前版本的<code class="codeph">UTL_TCP</code>程序包不支持超时写入操作。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-44055EBC-D316-43C5-A3C9-ACD77FBFB7F5">CRLF</p>
                     <p>字符序列回车换行。它是许多通信标准常用的换行序列。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-B75364A6-71A0-4024-A434-6AE1A67DCD5D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">CRLF CONSTANT VARCHAR2（2 CHAR）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A85651C3-22FE-426E-9C20-CF20B99451AF__GUID-85ADD81B-4C82-4AB9-AE23-E485C4E8BC84">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此包变量定义了许多Internet协议中常用的换行符。这是<code class="codeph">WRITE_LINE,</code>的换行符字符序列的默认值，在打开连接时指定。虽然此类协议使用<code class="codeph">&lt;CR&gt;&lt;LF&gt;</code>来表示新行，但某些实现可能选择仅使用换行来表示新行。在这种情况下，用户可以在打开连接时指定不同的换行符。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71545"></a><a id="ARPLS71546"></a><a id="ARPLS71546"></a><a id="ARPLS71545"></a><div class="props_rev_3"><a id="GUID-E4ED0CDB-145F-4D8C-829E-0F4A4CFBC6D8" name="GUID-E4ED0CDB-145F-4D8C-829E-0F4A4CFBC6D8"></a><h3 id="ARPLS-GUID-E4ED0CDB-145F-4D8C-829E-0F4A4CFBC6D8" class="sect3"><span class="enumeration_section">268.4</span> UTL_TCP例外</h3>
               <div>
                  <p><code class="codeph">UTL_TCP</code>在遇到处理问题时会引发异常。
                  </p>
                  <div class="section">
                     <p>TCP / IP包引发的异常列在下表中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E4ED0CDB-145F-4D8C-829E-0F4A4CFBC6D8__BHADACGB">
                     <p class="titleintable">表268-2 <span class="italic"><span class="bold">TCP / IP异常</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TCP / IP异常" width="100%" border="1" summary="This table describes Exceptions raised by UTL_TCP subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1550159e706">例外</th>
                              <th align="left" valign="bottom" width="69%" id="d1550159e709">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e714" headers="d1550159e706 ">
                                 <p><code class="codeph">BUFFER_TOO_SMALL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e714 d1550159e709 ">
                                 <p>缓冲区对于需要预读的输入而言太小</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e722" headers="d1550159e706 ">
                                 <p><code class="codeph">END_OF_INPUT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e722 d1550159e709 ">
                                 <p>当没有更多数据可用于从连接读取时引发</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e730" headers="d1550159e706 ">
                                 <p><code class="codeph">网络错误</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e730 d1550159e709 ">
                                 <p>通用网络错误</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e738" headers="d1550159e706 ">
                                 <p><code class="codeph">BAD_ARGUMENT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e738 d1550159e709 ">
                                 <p>API调用中传递的错误参数（例如，负缓冲区大小）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e746" headers="d1550159e706 ">
                                 <p><code class="codeph">TRANSFER_TIMEOUT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e746 d1550159e709 ">
                                 <p>没有读取数据并且发生读取超时</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e754" headers="d1550159e706 ">
                                 <p><code class="codeph">PARTIAL_MULTIBYTE_CHAR</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e754 d1550159e709 ">
                                 <p>不读取完整字符，并在输入结尾处找到部分多字节字符</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS71547"></a><a id="ARPLS71547"></a><div class="props_rev_3"><a id="GUID-C4DD4BD3-B471-4D60-B28D-C07B55338072" name="GUID-C4DD4BD3-B471-4D60-B28D-C07B55338072"></a><h3 id="ARPLS-GUID-C4DD4BD3-B471-4D60-B28D-C07B55338072" class="sect3"><span class="enumeration_section">268.5</span> UTL_TCP规则和限制</h3>
               <div>
                  <p>包中提供的接口仅允许PL / SQL程序启动连接。它不允许PL / SQL程序接受在程序外部启动的连接。</p>
               </div>
            </div><a id="ARPLS71548"></a><a id="ARPLS71548"></a><div class="props_rev_3"><a id="GUID-DB3A5440-1344-4336-AD7D-D15EA768DED9" name="GUID-DB3A5440-1344-4336-AD7D-D15EA768DED9"></a><h3 id="ARPLS-GUID-DB3A5440-1344-4336-AD7D-D15EA768DED9" class="sect3"><span class="enumeration_section">268.6</span> UTL_TCP示例</h3>
               <div>
                  <p><code class="codeph">UTL_TCP</code>一些可能用途包括通过HTTP检索网页或发送电子邮件。
                  </p>
                  <div class="section">
                     <p>以下代码示例说明了如何使用TCP / IP包通过HTTP检索Web页面。它连接到侦听端口80（HTTP的标准端口）的Web服务器并请求根文档。</p><pre class="oac_no_warn" dir="ltr">DECLARE c utl_tcp.connection; - 与Web服务器的TCP / IP连接ret_val pls_integer; BEGIN c：= utl_tcp.open_connection（remote_host =&gt;'www.acme.com'，remote_port =&gt; 80，charset =&gt;'US7ASCII'）; -  open connection ret_val：= utl_tcp.write_line（c，'GET / HTTP / 1.0'）; - 发送HTTP请求ret_val：= utl_tcp.write_line（c）; BEGIN LOOP dbms_output.put_line（utl_tcp.get_line（c，TRUE））; - 读取结果END LOOP; utl_tcp.end_of_input THEN NULL时的异常; - 输入结束END; utl_tcp.close_connection（C）;结束;</pre><p>以下代码示例说明了应用程序如何使用TCP / IP包发送电子邮件<a id="d1550159e944" class="indexterm-anchor"></a> （也称为来自PL / SQL的电子邮件）。应用程序在端口25连接到SMTP服务器并发送简单的文本消息。
                     </p><pre class="oac_no_warn" dir="ltr">PROCEDURE send_mail（发件人IN VARCHAR2，收件人IN VARCHAR2，邮件IN VARCHAR2）IS mailhost VARCHAR2（30）：='mailhost.mydomain.com'; smtp_error EXCEPTION; mail_conn utl_tcp.connection; PROCEDURE smtp_command（命令IN VARCHAR2，ok IN VARCHAR2 DEFAULT'250'）是响应varchar2（3）; len pls_integer; BEGIN len：= utl_tcp.write_line（mail_conn，command）; response：= substr（utl_tcp.get_line（mail_conn），1,3）; IF（响应&lt;&gt; ok）然后升起smtp_error;万一;结束; BEGIN mail_conn：= utl_tcp.open_connection（remote_host =&gt; mailhost，remote_port =&gt; 25，charset =&gt;'US7ASCII'）; smtp_command（'HELO'|| mailhost）; smtp_command（'MAIL FROM：'|| sender）; smtp_command（'RCPT TO：'||收件人）; smtp_command（'DATA'，'354'）; smtp_command（消息）; smtp_command（'QUIT'，'221'）; utl_tcp.close_connection（mail_conn）;其他时间的异常 - 处理错误END;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71549"></a><a id="ARPLS71550"></a><a id="ARPLS71550"></a><a id="ARPLS71549"></a><div class="props_rev_3"><a id="GUID-C8FBC3F2-CDAE-48B6-A26F-FEC39652AB55" name="GUID-C8FBC3F2-CDAE-48B6-A26F-FEC39652AB55"></a><h3 id="ARPLS-GUID-C8FBC3F2-CDAE-48B6-A26F-FEC39652AB55" class="sect3"><span class="enumeration_section">268.7</span> UTL_TCP子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">UTL_TCP</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-C8FBC3F2-CDAE-48B6-A26F-FEC39652AB55__GUID-3AA510D8-4C3B-43AD-8D42-7A56121C6F08">
                     <p class="titleintable">表268-3 UTL_TCP包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="UTL_TCP包子程序" width="100%" border="1" summary="This table lists the UTL_TCP subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1550159e1050">子程序</th>
                              <th align="left" valign="bottom" width="69%" id="d1550159e1053">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1058" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE" title="此函数确定可从TCP / IP连接读取的字节数。它是可以在不阻塞的情况下立即读取的字节数。确定是否已准备好从连接中读取数据。">可用功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1058 d1550159e1053 ">
                                 <p>确定可从TCP / IP连接读取的字节数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1070" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-A31976E8-41D3-4666-88F7-50922B547C6E" title="此过程将关闭所有打开的TCP / IP连接。">CLOSE_ALL_CONNECTIONS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1070 d1550159e1053 ">
                                 <p>关闭所有打开的TCP / IP连接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1082" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-35685468-6AB3-4D67-8365-4B5E7F980C35" title="此过程将关闭打开的TCP / IP连接。">CLOSE_CONNECTION过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1082 d1550159e1053 ">
                                 <p>关闭打开的TCP / IP连接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1094" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1" title="如果使用缓冲区，此过程会立即将输出缓冲区中的所有数据传输到服务器。">FLUSH程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1094 d1550159e1053 ">
                                 <p>如果使用缓冲区，则立即将输出缓冲区中的所有数据传输到服务器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1106" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170" title="此函数返回读取的数据行。">GET_LINE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1106 d1550159e1053 ">
                                 <p>返回读取的数据行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1118" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-5680232B-6595-4651-BCDD-C899780B8C1A" title="此函数返回以NCHAR形式读取的数据行。">GET_LINE_NCHAR函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1118 d1550159e1053 ">
                                 <p>返回以NCHAR形式读取的数据行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1130" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-C86125E2-E18B-478F-8893-C422448DFF30" title="此函数返回读取的数据而不是读取的数据量。">GET_RAW功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1130 d1550159e1053 ">
                                 <p>返回读取的数据而不是读取的数据量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1142" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435" title="此函数返回读取的文本数据。">GET_TEXT功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1142 d1550159e1053 ">
                                 <p>返回读取的文本数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1154" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66" title="此函数返回以NCHAR形式读取的文本数据。">GET_TEXT_NCHAR函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1154 d1550159e1053 ">
                                 <p>返回以NCHAR形式读取的文本数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1166" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-DD68FEBC-310A-4A89-986B-D95187414959" title="此函数打开与指定服务的TCP / IP连接。">OPEN_CONNECTION功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1166 d1550159e1053 ">
                                 <p>打开与指定服务的TCP / IP连接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1178" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A" title="此函数从打开的连接上的服务接收文本行。">READ_LINE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1178 d1550159e1053 ">
                                 <p>从打开的连接上的服务接收文本行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1191" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA" title="此函数从打开的连接上的服务接收二进制数据。">READ_RAW功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1191 d1550159e1053 ">
                                 <p>从打开的连接上的服务接收二进制数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1203" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A" title="此函数从打开的连接上的服务接收文本数据。">READ_TEXT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1203 d1550159e1053 ">
                                 <p>从打开的连接上的服务接收文本数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1215" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-F96ECC63-A003-4B88-A1FF-EC15A3B6E33B" title="此过程使用SSL / TLS保护TCP / IP连接。">SECURE_CONNECTION程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1215 d1550159e1053 ">
                                 <p>使用SSL / TLS保护TCP / IP连接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1227" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D" title="此功能将文本行传输到打开的连接上的服务。换行字符序列在传输之前附加到消息中。">WRITE_LINE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1227 d1550159e1053 ">
                                 <p>将文本行传输到打开的连接上的服务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1242" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB" title="此功能将二进制消息发送到打开的连接上的服务。在写入指定的字节数之前，该函数不会返回。">WRITE_RAW功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1242 d1550159e1053 ">
                                 <p>将二进制消息传输到打开的连接上的服务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1550159e1254" headers="d1550159e1050 ">
                                 <p><a href="UTL_TCP.html#GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4" title="此功能将文本消息发送到打开的连接上的服务。">WRITE_TEXT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1550159e1254 d1550159e1053 ">
                                 <p>将文本消息传输到打开的连接上的服务</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS71551"></a><a id="ARPLS71552"></a><a id="ARPLS71552"></a><a id="ARPLS71551"></a><div class="props_rev_3"><a id="GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE" name="GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE"></a><h4 id="ARPLS-GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE" class="sect4"><span class="enumeration_section">268.7.1</span>可用功能</h4>
                  <div>
                     <p>此函数确定可从TCP / IP连接读取的字节数。它是可以在不阻塞的情况下立即读取的字节数。确定是否已准备好从连接中读取数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE__GUID-73A57A37-BAE8-4945-807D-D212845601F4">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.AVAILABLE（c IN OUT NOCOPY连接，超时IN PLS_INTEGER DEFAULT 0）RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE__GUID-A1323FF5-220A-46AA-B318-F964C15C0E11">参数</p>
                        <div class="tblformal" id="GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE__GUID-F140491B-30CB-417D-8B90-7A3945F3F449">
                           <p class="titleintable">表268-4可用功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="可用功能参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.AVAILABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e1375">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e1378">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e1383" headers="d1550159e1375 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e1383 d1550159e1378 ">
                                       <p>TCP连接以确定可读取的数据量</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e1391" headers="d1550159e1375 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e1391 d1550159e1378 ">
                                       <p>在放弃并报告没有数据可用之前等待的时间（以秒为单位）。零（0）表示根本不等待。<code class="codeph">NULL</code>表示永远等待。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE__GUID-7C341144-4E3F-4221-B97E-A240950543F0">返回值</p>
                        <p>可以无阻塞地读取的字节数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BFBD3DDD-D89E-47E5-8E4E-5A662AF35FBE__GUID-5C2EA137-DEBC-43B1-B826-C66DDF49E292">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。用户可以使用此API来确定在调用读取API之前是否可以读取数据，以便不阻止程序，因为数据尚未准备好从输入中读取。
                        </p>
                        <p>此函数返回的可用于读取的字节数可能小于实际可用的字节数。在某些平台上，此函数可能只返回1，表示某些数据可用。如果您担心应用程序的可移植性，则假设此函数在数据可用于读取时返回正值，而在没有可用数据时返回0。当读取特定连接上的所有数据并且<code class="codeph">END_OF_INPUT</code>异常中的下一个读取结果时，此函数返回正值。
                        </p>
                        <p>以下示例说明了以可移植方式使用此函数：</p><pre class="oac_no_warn" dir="ltr">DECLARE c utl_tcp.connection data VARCHAR2（256）; len PLS_INTEGER; BEGIN c：= utl_tcp.open_connection（...）; LOOP IF（utl_tcp.available（c）&gt; 0）THEN len：= utl_tcp.read_text（c，data，256）; ELSE ---做其他一些事情。 。 。 。结束如果结束循环;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71553"></a><a id="ARPLS71553"></a><div class="props_rev_3"><a id="GUID-A31976E8-41D3-4666-88F7-50922B547C6E" name="GUID-A31976E8-41D3-4666-88F7-50922B547C6E"></a><h4 id="ARPLS-GUID-A31976E8-41D3-4666-88F7-50922B547C6E" class="sect4"><span class="enumeration_section">268.7.2</span> CLOSE_ALL_CONNECTIONS过程</h4>
                  <div>
                     <p>此过程将关闭所有打开的TCP / IP连接。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A31976E8-41D3-4666-88F7-50922B547C6E__GUID-7F4BFBBA-DEBA-4FE7-A676-6C44D04C29AA">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.CLOSE_ALL_CONNECTIONS;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A31976E8-41D3-4666-88F7-50922B547C6E__GUID-7BD12B6A-CB90-4ED8-976D-B2A9FCFA0064">使用说明</p>
                        <p>提供此调用是为了在PL / SQL程序结束之前关闭所有连接以避免悬空连接。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71554"></a><a id="ARPLS71555"></a><a id="ARPLS71555"></a><a id="ARPLS71554"></a><div class="props_rev_3"><a id="GUID-35685468-6AB3-4D67-8365-4B5E7F980C35" name="GUID-35685468-6AB3-4D67-8365-4B5E7F980C35"></a><h4 id="ARPLS-GUID-35685468-6AB3-4D67-8365-4B5E7F980C35" class="sect4"><span class="enumeration_section">268.7.3</span> CLOSE_CONNECTION过程</h4>
                  <div>
                     <p>此过程将关闭打开的TCP / IP连接。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-35685468-6AB3-4D67-8365-4B5E7F980C35__GUID-D43A0203-544A-4740-8552-5EEBFCD2682C">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.CLOSE_CONNECTION（c IN OUT NOCOPY连接）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-35685468-6AB3-4D67-8365-4B5E7F980C35__GUID-2E53AB46-EC38-4663-9928-A9804058EEE5">参数</p>
                        <div class="tblformal" id="GUID-35685468-6AB3-4D67-8365-4B5E7F980C35__GUID-CF5DFE81-1814-4643-92FA-790ED40AB9B2">
                           <p class="titleintable">表268-5 CLOSE_CONNECTION过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLOSE_CONNECTION过程参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.CLOSE_CONNECTION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e1634">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e1637">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e1642" headers="d1550159e1634 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e1642 d1550159e1637 ">
                                       <p>TCP连接关闭</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-35685468-6AB3-4D67-8365-4B5E7F980C35__GUID-DF7B2F17-DCCB-43CF-AC65-363CBA08C315">使用说明</p>
                        <p>必须先通过先前的<code class="codeph">OPEN_CONNECTION</code>调用打开连接。字段<code class="codeph">remote_host, remote_port, local_host, local_port</code>和<code class="codeph">charset</code>的<code class="codeph">c</code>的连接关闭后复位。
                        </p>
                        <p>必须明确关闭打开的连接。当存储连接的PL / SQL记录变量超出PL / SQL程序范围时，打开的连接仍保持打开状态。未能关闭不需要的连接可能会导致不必要地占用本地和远程系统资源。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71556"></a><a id="ARPLS71557"></a><a id="ARPLS71557"></a><a id="ARPLS71556"></a><div class="props_rev_3"><a id="GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1" name="GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1"></a><h4 id="ARPLS-GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1" class="sect4"><span class="enumeration_section">268.7.4</span> FLUSH程序</h4>
                  <div>
                     <p>如果使用缓冲区，此过程会立即将输出缓冲区中的所有数据传输到服务器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1__GUID-93EF8C49-1F08-46F5-9A7C-05A8F3A6D23E">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.FLUSH（c IN OUT NOCOPY连接）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1__GUID-3C2AB366-80B7-4065-8D17-468E0F9AD83F">参数</p>
                        <div class="tblformal" id="GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1__GUID-47F4995B-A274-451F-8726-09D127AE2700">
                           <p class="titleintable">表268-6 FLUSH过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FLUSH程序参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.FLUSH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e1778">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e1781">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e1786" headers="d1550159e1778 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e1786 d1550159e1781 ">
                                       <p>要将数据发送到的TCP连接</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAA973B6-BC69-452E-BA8B-7EAE1F2AF2D1__GUID-156C95C6-8810-4430-8484-4EB6DB7DA0E8">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71558"></a><a id="ARPLS71559"></a><a id="ARPLS71559"></a><a id="ARPLS71558"></a><div class="props_rev_3"><a id="GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170" name="GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170"></a><h4 id="ARPLS-GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170" class="sect4"><span class="enumeration_section">268.7.5</span> GET_LINE函数</h4>
                  <div>
                     <p>此函数返回读取的数据行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170__GUID-F4A02681-4862-43F8-9787-005FCE2AE38B">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.GET_LINE（c IN OUT NOCOPY连接，remove_crlf IN BOOLEAN DEFAULT FALSE，peek IN BOOLEAN DEFAULT FALSE）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170__GUID-52687209-63AF-48BB-8733-A982FB36CD12">参数</p>
                        <div class="tblformal" id="GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170__GUID-97A714BC-BF2F-4528-8716-3B386F358F8B">
                           <p class="titleintable">表268-7 GET_LINE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_LINE函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.GET_LINE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e1912">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e1915">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e1920" headers="d1550159e1912 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e1920 d1550159e1915 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e1928" headers="d1550159e1912 ">
                                       <p><code class="codeph">remove_crlf</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e1928 d1550159e1915 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则从接收的消息中删除一个或多个尾随的CRLF字符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e1939" headers="d1550159e1912 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e1939 d1550159e1915 ">
                                       <p>通常，您希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，您可能只想查看数据，即查看数据，而不将其从输入队列中删除，以便在下次调用时仍可用于读取（甚至偷看）。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并在打开连接之前设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170__GUID-8E54035E-EFCE-4FA1-AF5B-3EE3FDB804E5">返回值</p>
                        <p>文字行阅读</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EADEF724-8D9E-43A6-B6B5-93BC07095170__GUID-CBE59532-841E-47E0-9B0D-0A6F67BCE76C">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。</p>
                           </li>
                           <li>
                              <p>有关读取超时，字符集转换，缓冲区大小和多字节字符问题，请参阅<code class="codeph">READ_LINE</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71560"></a><a id="ARPLS71561"></a><a id="ARPLS71561"></a><a id="ARPLS71560"></a><div class="props_rev_3"><a id="GUID-5680232B-6595-4651-BCDD-C899780B8C1A" name="GUID-5680232B-6595-4651-BCDD-C899780B8C1A"></a><h4 id="ARPLS-GUID-5680232B-6595-4651-BCDD-C899780B8C1A" class="sect4"><span class="enumeration_section">268.7.6</span> GET_LINE_NCHAR函数</h4>
                  <div>
                     <p>此函数返回以NCHAR形式读取的数据行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5680232B-6595-4651-BCDD-C899780B8C1A__GUID-47E9E437-57F1-4D93-9CF8-7F7A5D6AA0A1">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.GET_LINE_NCHAR（c IN OUT NOCOPY连接，remove_crlf IN BOOLEAN DEFAULT FALSE，查看BOOLEAN DEFAULT FALSE）返回NVARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5680232B-6595-4651-BCDD-C899780B8C1A__GUID-F3135EF6-A518-49B0-A056-00A156FE2BBC">参数</p>
                        <div class="tblformal" id="GUID-5680232B-6595-4651-BCDD-C899780B8C1A__GUID-24E4611C-6947-4F3F-82D1-DE896DAE7B45">
                           <p class="titleintable">表268-8 GET_LINE_NCHAR函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_LINE_NCHAR函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.GET_LINE_NCHAR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e2080">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e2083">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2088" headers="d1550159e2080 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2088 d1550159e2083 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2096" headers="d1550159e2080 ">
                                       <p><code class="codeph">remove_crlf</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2096 d1550159e2083 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则从接收的消息中删除一个或多个尾随的CRLF字符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2107" headers="d1550159e2080 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2107 d1550159e2083 ">
                                       <p>通常，您希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，您可能只想查看数据，即查看数据，而不将其从输入队列中删除，以便在下次调用时仍可用于读取（甚至偷看）。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并在打开连接之前设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5680232B-6595-4651-BCDD-C899780B8C1A__GUID-E32D3310-3086-4C59-9036-4EC136160C90">返回值</p>
                        <p>文字行阅读</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5680232B-6595-4651-BCDD-C899780B8C1A__GUID-BCA7E16A-4F01-438D-B39E-54415813C4A9">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。</p>
                           </li>
                           <li>
                              <p>有关读取超时，字符集转换，缓冲区大小和多字节字符问题，请参阅<code class="codeph">READ_LINE</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71562"></a><a id="ARPLS71563"></a><a id="ARPLS71563"></a><a id="ARPLS71562"></a><div class="props_rev_3"><a id="GUID-C86125E2-E18B-478F-8893-C422448DFF30" name="GUID-C86125E2-E18B-478F-8893-C422448DFF30"></a><h4 id="ARPLS-GUID-C86125E2-E18B-478F-8893-C422448DFF30" class="sect4"><span class="enumeration_section">268.7.7</span> GET_RAW功能</h4>
                  <div>
                     <p>此函数返回读取的数据而不是读取的数据量。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C86125E2-E18B-478F-8893-C422448DFF30__GUID-3C5BC496-A1A4-4B3B-8395-F7BDF4066549">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.GET_RAW（c IN OUT NOCOPY连接，len IN PLS_INTEGER DEFAULT 1，查看BOOLEAN DEFAULT FALSE）返回原始状态;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C86125E2-E18B-478F-8893-C422448DFF30__GUID-5BA0A1D5-339A-4AE2-8BF0-182F4E2E7A16">参数</p>
                        <div class="tblformal" id="GUID-C86125E2-E18B-478F-8893-C422448DFF30__GUID-E59E7631-E034-4FDB-AFC1-0D35557C3B48">
                           <p class="titleintable">表268-9 GET_RAW功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_RAW函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.GET_RAW subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e2248">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e2251">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2256" headers="d1550159e2248 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2256 d1550159e2251 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2264" headers="d1550159e2248 ">
                                       <p><code class="codeph">LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2264 d1550159e2251 ">
                                       <p>要接收的数据的字节数（或<code class="codeph">VARCHAR2</code>字符数）。默认值为1。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2275" headers="d1550159e2248 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2275 d1550159e2251 ">
                                       <p>通常，您希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，您可能只想查看数据，即查看数据，而不将其从输入队列中删除，以便在下次调用时仍可用于读取（甚至偷看）。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并在打开连接之前设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2286" headers="d1550159e2248 ">
                                       <p><code class="codeph">remove_crlf</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2286 d1550159e2251 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则从接收的消息中删除一个或多个尾随的CRLF字符。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C86125E2-E18B-478F-8893-C422448DFF30__GUID-AEB175B9-8A30-4E75-A5D8-2559518EC203">返回值</p>
                        <p>二进制数据读取</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C86125E2-E18B-478F-8893-C422448DFF30__GUID-69BD52C2-A059-4F56-9F9A-89F46A97E541">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。</p>
                        <p>对于本节中描述的所有<code class="codeph">get_*</code> API，请参阅相应的<code class="codeph">READ_*</code> API以了解读取超时问题。对于<code class="codeph">GET_TEXT</code>和<code class="codeph">GET_LINE</code> ，请参阅相应的<code class="codeph">READ_*</code> API以了解字符集转换，缓冲区大小和多字节字符问题。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71564"></a><a id="ARPLS71565"></a><a id="ARPLS71565"></a><a id="ARPLS71564"></a><div class="props_rev_3"><a id="GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435" name="GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435"></a><h4 id="ARPLS-GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435" class="sect4"><span class="enumeration_section">268.7.8</span> GET_TEXT函数</h4>
                  <div>
                     <p>此函数返回读取的文本数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435__GUID-E4732B1E-7178-47A9-A38F-A0F0261415A2">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.GET_TEXT（c IN OUT NOCOPY连接，len IN PLS_INTEGER DEFAULT 1，查看BOOLEAN DEFAULT FALSE）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435__GUID-2328AD57-B591-457D-8944-9F6235F8A906">参数</p>
                        <div class="tblformal" id="GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435__GUID-2FB13C42-7A61-4186-8E4E-C4B5F9948B90">
                           <p class="titleintable">表268-10 GET_TEXT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_TEXT函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.GET_TEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e2437">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e2440">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2445" headers="d1550159e2437 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2445 d1550159e2440 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2453" headers="d1550159e2437 ">
                                       <p><code class="codeph">LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2453 d1550159e2440 ">
                                       <p>要接收的数据的字节数（或<code class="codeph">VARCHAR2</code>字符数）。默认值为1。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2464" headers="d1550159e2437 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2464 d1550159e2440 ">
                                       <p>通常，您希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，您可能只想查看数据，即查看数据，而不将其从输入队列中删除，以便在下次调用时仍可用于读取（甚至偷看）。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并在打开连接之前设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2475" headers="d1550159e2437 ">
                                       <p><code class="codeph">remove_crlf</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2475 d1550159e2440 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则从接收的消息中删除一个或多个尾随的CRLF字符。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435__GUID-782AF961-BEB3-4B41-90A6-2DBD872785DC">返回值</p>
                        <p>文本数据读取</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E08CB0C3-CE6B-4C71-8DA1-78395850F435__GUID-B03B90BF-396D-4D63-A1B2-E3DCE70276E2">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。</p>
                        <p>对于本节中描述的所有<code class="codeph">get_*</code> API，请参阅相应的<code class="codeph">read_*</code> API以了解读取超时问题。对于<code class="codeph">GET_TEXT</code>和<code class="codeph">GET_LINE</code> ，请参阅相应的<code class="codeph">READ_*</code> API以了解字符集转换，缓冲区大小和多字节字符问题。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71566"></a><a id="ARPLS71567"></a><a id="ARPLS71567"></a><a id="ARPLS71566"></a><div class="props_rev_3"><a id="GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66" name="GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66"></a><h4 id="ARPLS-GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66" class="sect4"><span class="enumeration_section">268.7.9</span> GET_TEXT_NCHAR函数</h4>
                  <div>
                     <p>此函数返回以NCHAR形式读取的文本数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66__GUID-C68A687D-C024-436B-8F60-AFCB83A56012">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.GET_TEXT_NCHAR（c IN OUT NOCOPY连接，len IN PLS_INTEGER DEFAULT 1，查看BOOLEAN DEFAULT FALSE）返回NVARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66__GUID-EA8021EF-E983-460E-9D32-627728876478">参数</p>
                        <div class="tblformal" id="GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66__GUID-9BAAE508-4B1B-4FC3-81A1-77A864AD5AAA">
                           <p class="titleintable">表268-11 GET_TEXT_NCHAR函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_TEXT_NCHAR函数参数" width="100%" border="1" summary="This table describes the parameters of the UTL_TCP.GET_TEXT_NCHAR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e2625">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e2628">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2633" headers="d1550159e2625 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2633 d1550159e2628 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2641" headers="d1550159e2625 ">
                                       <p><code class="codeph">LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2641 d1550159e2628 ">
                                       <p>要接收的数据的字节数（或<code class="codeph">VARCHAR2</code>字符数）。默认值为1。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2652" headers="d1550159e2625 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2652 d1550159e2628 ">
                                       <p>通常，您希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，您可能只想查看数据，即查看数据，而不将其从输入队列中删除，以便在下次调用时仍可用于读取（甚至偷看）。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并在打开连接之前设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2663" headers="d1550159e2625 ">
                                       <p><code class="codeph">remove_crlf</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2663 d1550159e2628 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则从接收的消息中删除一个或多个尾随的CRLF字符。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66__GUID-7144060E-4CE6-44C9-9898-18C687D70BB3">返回值</p>
                        <p>文本数据读取</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FE0A8A9-0CEA-492D-A5E2-D60E5C1E5F66__GUID-DD8F268D-9EA2-43F1-98C5-3A57E5AEE351">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。</p>
                        <p>对于本节中描述的所有<code class="codeph">get_*</code> API，请参阅相应的<code class="codeph">read_*</code> API以了解读取超时问题。对于<code class="codeph">GET_TEXT</code>和<code class="codeph">GET_LINE</code> ，请参阅相应的<code class="codeph">READ_*</code> API以了解字符集转换，缓冲区大小和多字节字符问题。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71568"></a><a id="ARPLS71569"></a><a id="ARPLS71569"></a><a id="ARPLS71568"></a><div class="props_rev_3"><a id="GUID-DD68FEBC-310A-4A89-986B-D95187414959" name="GUID-DD68FEBC-310A-4A89-986B-D95187414959"></a><h4 id="ARPLS-GUID-DD68FEBC-310A-4A89-986B-D95187414959" class="sect4"><span class="enumeration_section">268.7.10</span> OPEN_CONNECTION功能</h4>
                  <div>
                     <p>此函数打开与指定服务的TCP / IP连接。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DD68FEBC-310A-4A89-986B-D95187414959__GUID-B0C814D9-ECA9-469F-917D-B18268DDF77F">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.OPEN_CONNECTION（remote_host IN VARCHAR2，remote_port IN PLS_INTEGER，local_host IN VARCHAR2 DEFAULT NULL，local_port IN PLS_INTEGER DEFAULT NULL，in_buffer_size IN PLS_INTEGER DEFAULT NULL，out_buffer_size IN PLS_INTEGER DEFAULT NULL，charset IN VARCHAR2 DEFAULT NULL，换行符IN VARCHAR2 DEFAULT CRLF，tx_timeout IN PLS_INTEGER DEFAULT NULL，wallet_path IN VARCHAR2 DEFAULT NULL，wallet_password IN VARCHAR2 DEFAULT NULL，RETURN连接;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD68FEBC-310A-4A89-986B-D95187414959__GUID-3875B607-779B-4F80-898A-7FBD999F99E0">参数</p>
                        <div class="tblformal" id="GUID-DD68FEBC-310A-4A89-986B-D95187414959__GUID-88CC9FB7-9053-43B3-944C-AD53F42E2304">
                           <p class="titleintable">表268-12 OPEN_CONNECTION功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPEN_CONNECTION功能参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.OPEN_CONNECTION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e2813">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e2816">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2821" headers="d1550159e2813 ">
                                       <p><code class="codeph">远程主机</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2821 d1550159e2816 ">
                                       <p>提供服务的主机的名称。当<code class="codeph">remote_host</code>为<code class="codeph">NULL</code> ，它将连接到本地主机。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2835" headers="d1550159e2813 ">
                                       <p><code class="codeph">REMOTE_PORT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2835 d1550159e2816 ">
                                       <p>服务正在侦听连接的端口号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2843" headers="d1550159e2813 ">
                                       <p><code class="codeph">local_host</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2843 d1550159e2816 ">
                                       <p>提供服务的主机的名称。<code class="codeph">NULL</code>意味着不关心。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2854" headers="d1550159e2813 ">
                                       <p><code class="codeph">LOCAL_PORT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2854 d1550159e2816 ">
                                       <p>服务正在侦听连接的端口号。<code class="codeph">NULL</code>表示不关心。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2865" headers="d1550159e2813 ">
                                       <p><code class="codeph">in_buffer_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2865 d1550159e2816 ">
                                       <p>输入缓冲区的大小。使用输入缓冲区可以加快从服务器接收数据的执行性能。缓冲区的适当大小取决于客户端和服务器之间的数据流以及网络上的流量/延迟。零值表示不应使用缓冲区。<code class="codeph">NULL</code>值表示调用者不关心是否使用缓冲区。输入缓冲区的最大大小为32767字节。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2876" headers="d1550159e2813 ">
                                       <p><code class="codeph">out_buffer_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2876 d1550159e2816 ">
                                       <p>输出缓冲区的大小。使用输出缓冲区可以加快将数据发送到服务器的执行性能。缓冲区的适当大小取决于客户端和服务器之间的数据流以及网络条件。零值表示不应使用缓冲区。<code class="codeph">NULL</code>值表示调用者不关心是否使用缓冲区。输出缓冲区的最大大小为32767字节。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2887" headers="d1550159e2813 ">
                                       <p><code class="codeph">字符集</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2887 d1550159e2816 ">
                                       <p>在线字符集。由于数据库中的文本消息可能编码为与线路上预期的字符集不同的字符集（即通信协议指定的字符集，或通信另一端规定的字符集），当使用<code class="codeph">READ_TEXT, READ_LINE, WRITE_TEXT</code>和<code class="codeph">WRITE_LINE.</code>在网络上发送和接收数据时，数据库中的消息将转换为线上字符集和从线上字符集<code class="codeph">WRITE_LINE.</code>如果不需要转换，请将此参数设置为<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2904" headers="d1550159e2813 ">
                                       <p><code class="codeph">新队</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2904 d1550159e2816 ">
                                       <p>换行符字符序列。此换行符字符序列附加到<code class="codeph">WRITE_LINE</code> API发送的文本行。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2915" headers="d1550159e2813 ">
                                       <p><code class="codeph">tx_timeout</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2915 d1550159e2816 ">
                                       <p><code class="codeph">UTL_TCP</code>程序包在放弃此连接中的读取或写入操作之前应等待的时间（以秒为单位）。在读取操作中，如果没有可用于立即读取的数据，则此程序包将放弃。在写入操作中，如果输出缓冲区已满并且没有数据要在网络中发送而不被阻止，则此程序包将放弃。零（0）表示根本不等待。<code class="codeph">NULL</code>表示永远等待。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2929" headers="d1550159e2813 ">
                                       <p><code class="codeph">wallet_path</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2929 d1550159e2816 ">
                                       <p>包含SSL / TLS的Oracle钱包的目录路径。格式为<code class="codeph">file</code> ： <span class="italic">directory-path</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e2942" headers="d1550159e2813 ">
                                       <p><code class="codeph">wallet_password</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e2942 d1550159e2816 ">
                                       <p>打开钱包的密码。当钱包启用自动登录时，密码可以设置为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD68FEBC-310A-4A89-986B-D95187414959__GUID-DBC8777C-76EE-4793-BF06-B49D8745B91E">返回值</p>
                        <p>与目标TCP / IP服务的连接</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD68FEBC-310A-4A89-986B-D95187414959__GUID-E488D809-818F-450F-813F-F1C7BE5F9ED6">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>请注意，此<code class="codeph">UTL_TCP</code>程序包打开的连接可以保持打开状态，并在共享服务器配置中从一个数据库调用传递到另一个数据库。但是，必须明确关闭连接。当存储连接的PL / SQL记录变量超出PL / SQL程序范围时，连接仍保持打开状态。未能关闭不需要的连接可能会导致不必要地占用本地和远程系统资源。
                              </p>
                           </li>
                           <li>
                              <p>在当前版本的<code class="codeph">UTL_TCP</code>包中，当<code class="codeph">open_connection</code>建立TCP / IP连接时，将忽略参数<code class="codeph">local_host</code>和<code class="codeph">local_port</code> 。建立连接时，它不会尝试使用指定的本地主机和端口号。<code class="codeph">local_host</code>和<code class="codeph">local_port</code>字段未在函数返回的连接记录中设置。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">tx_timeout</code>旨在管理读操作和写操作。但是，实现限制会阻止<code class="codeph">tx_timeout</code>控制当前版本中的写入操作。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD68FEBC-310A-4A89-986B-D95187414959__GUID-45B8E62A-EFE3-4591-84A6-FFAE3A9CF6EF">例子</p><pre class="oac_no_warn" dir="ltr">DECLARE c UTL_TCP.CONNECTION; BEGIN c：= UTL_TCP.OPEN_CONNECTION（host =&gt;'www.example.com'，port =&gt; 443，wallet_path =&gt;'file：/ oracle / wallets / smtp_wallet'，wallet_password =&gt;'****'）; UTL_TCP.SECURE_CONNECTION（c =&gt; c）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71570"></a><a id="ARPLS71571"></a><a id="ARPLS71571"></a><a id="ARPLS71570"></a><div class="props_rev_3"><a id="GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A" name="GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A"></a><h4 id="ARPLS-GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A" class="sect4"><span class="enumeration_section">268.7.11</span> READ_LINE函数</h4>
                  <div>
                     <p>此函数从打开的连接上的服务接收文本行。</p>
                     <div class="section">
                        <p>一条线由换行，回车或回车后跟换行终止。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A__GUID-21B90EE7-339A-4270-9F4B-9967D2FC315B">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.READ_LINE（c IN OUT NOCOPY连接，数据IN OUT NOCOPY VARCHAR2 CHARACTER SET ANY_CS，查看BOOLEAN DEFAULT FALSE）返回PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A__GUID-50555440-10D0-4AD7-802F-F3CC7F044C11">参数</p>
                        <div class="tblformal" id="GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A__GUID-90768D01-CBEA-4F6C-AC8E-5B6EF6D6E4A1">
                           <p class="titleintable">表268-13 READ_LINE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="READ_LINE函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.READ_LINE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e3116">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e3119">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3124" headers="d1550159e3116 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3124 d1550159e3119 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3132" headers="d1550159e3116 ">
                                       <p><code class="codeph">数据</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3132 d1550159e3119 ">
                                       <p>收到的数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3140" headers="d1550159e3116 ">
                                       <p><code class="codeph">remove_crlf</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3140 d1550159e3119 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则从接收的消息中删除一个或多个尾随的CRLF字符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3151" headers="d1550159e3116 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3151 d1550159e3119 ">
                                       <p>通常，您希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，您可能只想查看数据，即查看数据，而不将其从输入队列中删除，以便在下次调用时仍可用于读取（甚至偷看）。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并在打开连接之前设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A__GUID-3E029F58-667A-44C4-BB42-9F52BE08AB77">返回值</p>
                        <p>收到的数据的字符数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-59B63B3B-E734-4A18-A6E5-C2287BE3481A__GUID-89C6BAF7-4BC3-4E1A-9FF9-3924FAF60032">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION.</code>打开连接<code class="codeph">OPEN_CONNECTION.</code>在达到行尾或已达到输入结束之前，此功能不会返回。文本消息从连接打开时指定的线上字符集转换为数据库字符集，然后返回给调用者。
                        </p>
                        <p>如果在打开连接时设置了传输超时，则此功能会等待每个数据包准备好读取，直到超时发生。如果发生，则此函数停止读取并返回成功读取的所有数据。如果未成功读取数据，则会引发<code class="codeph">transfer_timeout</code>异常。可以处理异常，稍后可以重试读取操作。
                        </p>
                        <p>如果在输入结束时找到部分多字节字符，则此函数将停止读取并返回成功读取的所有完整多字节字符。如果未成功读取完整字符，则会引发<code class="codeph">partial_multibyte_char</code>异常。可以处理异常，并且<code class="codeph">READ_RAW</code>函数可以将该部分多字节字符的字节读取为二进制。如果在输入的中间看到部分多字节字符，因为字符的剩余字节尚未到达并且发生读取超时，则会引发<code class="codeph">transfer_timeout</code>异常。可以处理异常，稍后可以重试读取操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71572"></a><a id="ARPLS71573"></a><a id="ARPLS71573"></a><a id="ARPLS71572"></a><div class="props_rev_3"><a id="GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA" name="GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA"></a><h4 id="ARPLS-GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA" class="sect4"><span class="enumeration_section">268.7.12</span> READ_RAW功能</h4>
                  <div>
                     <p>此函数从打开的连接上的服务接收二进制数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA__GUID-59AACCDA-820C-4652-A70C-2518F94839CA">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.READ_RAW（c IN OUT NOCOPY连接，数据IN OUT NOCOPY RAW，len IN PLS_INTEGER DEFAULT 1，查看BOOLEAN DEFAULT FALSE）返回PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA__GUID-9A773953-13E3-4761-838A-BFB6032EDFCE">参数</p>
                        <div class="tblformal" id="GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA__GUID-6384ECA2-9E7D-4F66-ACB1-F16CC9A7A3F6">
                           <p class="titleintable">表268-14 READ_RAW功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="READ_RAW函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.READ_RAW subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e3300">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e3303">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3308" headers="d1550159e3300 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3308 d1550159e3303 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3316" headers="d1550159e3300 ">
                                       <p><code class="codeph">数据（IN OUT COPY）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3316 d1550159e3303 ">
                                       <p>收到的数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3324" headers="d1550159e3300 ">
                                       <p><code class="codeph">LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3324 d1550159e3303 ">
                                       <p>要接收的数据字节数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3332" headers="d1550159e3300 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3332 d1550159e3303 ">
                                       <p>通常，您希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，您可能只想查看数据，即查看数据，而不将其从输入队列中删除，以便在下次调用时仍可用于读取（甚至偷看）。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并在打开连接之前设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA__GUID-323B7326-58CA-4D4E-9618-F72205114BDA">返回值</p>
                        <p>接收数据的字节数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6681F760-08FD-448D-9DDF-F4D2102F16AA__GUID-63EA8317-D469-447E-950F-34C9B26A3ACC">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。在读取指定的字节数或已达到输入结束之前，此函数不会返回。
                        </p>
                        <p>如果在打开连接时设置了传输超时，则此功能会等待每个数据包准备好读取，直到超时发生。如果发生，则此函数停止读取并返回成功读取的所有数据。如果未成功读取数据，则会引发<code class="codeph">transfer_timeout</code>异常。可以处理异常，稍后可以重试读取操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71574"></a><a id="ARPLS71575"></a><a id="ARPLS71575"></a><a id="ARPLS71574"></a><div class="props_rev_3"><a id="GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A" name="GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A"></a><h4 id="ARPLS-GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A" class="sect4"><span class="enumeration_section">268.7.13</span> READ_TEXT函数</h4>
                  <div>
                     <p>此函数从打开的连接上的服务接收文本数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A__GUID-D73E0D2D-5108-455E-A2E9-38CFBE70460E">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.READ_TEXT（c IN OUT NOCOPY连接，数据IN OUT NOCOPY VARCHAR2 CHARACTER SET ANY_CS，len IN PLS_INTEGER DEFAULT 1，peek in BOOLEAN DEFAULT FALSE）RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A__GUID-7C9B9C96-9889-4F89-B0A1-08026861D7AD">参数</p>
                        <div class="tblformal" id="GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A__GUID-7CFB2DF9-54D8-4F9D-ABE8-A5F15CFCECF3">
                           <p class="titleintable">表268-15 READ_TEXT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="READ_TEXT函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.READ_TEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e3470">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e3473">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3478" headers="d1550159e3470 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3478 d1550159e3473 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3486" headers="d1550159e3470 ">
                                       <p><code class="codeph">数据</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3486 d1550159e3473 ">
                                       <p>收到的数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3494" headers="d1550159e3470 ">
                                       <p><code class="codeph">LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3494 d1550159e3473 ">
                                       <p>要接收的数据的字符数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3502" headers="d1550159e3470 ">
                                       <p><code class="codeph">窥视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3502 d1550159e3473 ">
                                       <p>通常，用户希望读取数据并将其从输入队列中删除，即使用它。在某些情况下，用户可能只想在不将数据从输入队列中移除的情况下向前看数据，以便在下一次调用中仍然可以读取（甚至偷看）数据。要将数据保留在输入队列中，请将此标志设置为<code class="codeph">TRUE</code>并且必须在打开连接时设置输入缓冲区。您可以查看的数据量（即读取但保留在输入队列中）必须小于输入缓冲区的大小。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A__GUID-5F8E6622-D363-4D8C-93F7-53673D3F14E2">返回值</p>
                        <p>收到的数据的字符数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29E4482B-FEF6-4E2D-88D3-31E61DD7A10A__GUID-A6B9E2CA-D559-493B-9DB9-43D8FC2CB0A1">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。在读取指定的字符数或达到输入结束之前，此函数不会返回。文本消息从连接打开时指定的线上字符集转换为数据库字符集，然后返回给调用者。
                        </p>
                        <p>除非明确重写，否则<code class="codeph">VARCHAR2</code>缓冲区的大小以字节为单位指定，而参数<code class="codeph">len</code>指的是要读取的最大字符数。当数据库字符集是多字节时，单个字符可能包含多个字节，则应确保缓冲区可以包含最多字符。通常， <code class="codeph">VARCHAR2</code>缓冲区的大小应等于要读取的字符数，再乘以数据库字符集的字符的最大字节数。
                        </p>
                        <p>如果在打开连接时设置了传输超时，则此功能会等待每个数据包准备好读取，直到超时发生。如果发生，则此函数停止读取并返回成功读取的所有数据。如果未成功读取数据，则会引发<code class="codeph">transfer_timeout</code>异常。可以处理异常，稍后可以重试读取操作。
                        </p>
                        <p>如果在输入结束时找到部分多字节字符，则此函数将停止读取并返回成功读取的所有完整多字节字符。如果未成功读取完整字符，则会引发<code class="codeph">partial_multibyte_char</code>异常。可以处理异常，并且<code class="codeph">READ_RAW</code>函数可以将该部分多字节字符的字节读取为二进制。如果在输入的中间看到部分多字节字符，因为字符的剩余字节尚未到达并且发生读取超时，则会引发<code class="codeph">transfer_timeout</code>异常。可以处理异常，稍后可以重试读取操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73364"></a><a id="ARPLS73365"></a><a id="ARPLS73365"></a><a id="ARPLS73364"></a><div class="props_rev_3"><a id="GUID-F96ECC63-A003-4B88-A1FF-EC15A3B6E33B" name="GUID-F96ECC63-A003-4B88-A1FF-EC15A3B6E33B"></a><h4 id="ARPLS-GUID-F96ECC63-A003-4B88-A1FF-EC15A3B6E33B" class="sect4"><span class="enumeration_section">268.7.14</span> SECURE_CONNECTION程序</h4>
                  <div>
                     <p>此过程使用SSL / TLS保护TCP / IP连接。</p>
                     <div class="section">
                        <p>SSL / TLS需要Oracle钱包，必须在<a href="UTL_TCP.html#GUID-DD68FEBC-310A-4A89-986B-D95187414959" title="此函数打开与指定服务的TCP / IP连接。">OPEN_CONNECTION函数</a>打开连接时指定。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F96ECC63-A003-4B88-A1FF-EC15A3B6E33B__GUID-85F89ADB-E71D-4F27-8F61-3E327C653891">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.SECURE_CONNECTION（c IN OUT NOCOPY连接）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F96ECC63-A003-4B88-A1FF-EC15A3B6E33B__GUID-29342370-58E3-4ADF-A50B-95CF462B2653">参数</p>
                        <div class="tblformal" id="GUID-F96ECC63-A003-4B88-A1FF-EC15A3B6E33B__GUID-CF006493-52D8-4DF9-B7E7-252AE8A2AD86">
                           <p class="titleintable">表268-16 SECURE_CONNECTION过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SECURE_CONNECTION过程参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.SECURE_CONNECTION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e3673">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e3676">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3681" headers="d1550159e3673 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3681 d1550159e3676 ">
                                       <p>从中接收数据的TCP连接</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71576"></a><a id="ARPLS71577"></a><a id="ARPLS71577"></a><a id="ARPLS71576"></a><div class="props_rev_3"><a id="GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D" name="GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D"></a><h4 id="ARPLS-GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D" class="sect4"><span class="enumeration_section">268.7.15</span> WRITE_LINE函数</h4>
                  <div>
                     <p>此功能将文本行传输到打开的连接上的服务。<code class="codeph">newline</code>字符序列在传输之前附加到消息中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D__GUID-73B90CA2-A622-4784-8141-0BE19361F924">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.WRITE_LINE（c IN OUT NOCOPY连接，数据IN VARCHAR2 DEFAULT NULL CHARACTER SET ANY_CS）RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D__GUID-1A11194E-CF9F-4ED6-8826-CA72907D3AE4">参数</p>
                        <div class="tblformal" id="GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D__GUID-95205BAC-53DD-4194-8706-B00E201A7637">
                           <p class="titleintable">表268-17 WRITE_LINE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WRITE_LINE函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.WRITE_LINE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e3801">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e3804">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3809" headers="d1550159e3801 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3809 d1550159e3804 ">
                                       <p>要将数据发送到的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3817" headers="d1550159e3801 ">
                                       <p><code class="codeph">数据</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3817 d1550159e3804 ">
                                       <p>包含要发送的数据的缓冲区</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D__GUID-719C5849-C8D9-4369-B470-45DD1650E5E7">返回值</p>
                        <p>传输的数据的实际字符数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17FEEFE0-FC63-40B7-A838-69D691E1677D__GUID-984BCFC4-37CD-4176-A147-F067023AB832">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION</code>打开连接。文本消息将转换为线上字符集，在连接打开时指定，然后在线路上传输。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71578"></a><a id="ARPLS71579"></a><a id="ARPLS71579"></a><a id="ARPLS71578"></a><div class="props_rev_3"><a id="GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB" name="GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB"></a><h4 id="ARPLS-GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB" class="sect4"><span class="enumeration_section">268.7.16</span> WRITE_RAW功能</h4>
                  <div>
                     <p>此功能将二进制消息发送到打开的连接上的服务。在写入指定的字节数之前，该函数不会返回。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB__GUID-DB74BD3A-2AC3-436F-A955-99736C71C9F7">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.WRITE_RAW（c IN OUT NOCOPY连接，数据IN RAW，len IN PLS_INTEGER DEFAULT NULL）RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB__GUID-712FB5F4-2C3E-40A6-B9E9-BEA219B94535">参数</p>
                        <div class="tblformal" id="GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB__GUID-926C8060-8C15-42A7-8866-C44FAB2AD95B">
                           <p class="titleintable">表268-18 WRITE_RAW功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WRITE_RAW函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.WRITE_RAW subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e3947">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e3950">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3955" headers="d1550159e3947 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3955 d1550159e3950 ">
                                       <p>要将数据发送到的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3963" headers="d1550159e3947 ">
                                       <p><code class="codeph">数据</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3963 d1550159e3950 ">
                                       <p>包含要发送的数据的缓冲区</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e3971" headers="d1550159e3947 ">
                                       <p><code class="codeph">LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e3971 d1550159e3950 ">
                                       <p>要传输的数据字节数。当<code class="codeph">len</code>为<code class="codeph">NULL</code> ，将写入整个数据长度。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB__GUID-E4D56BFE-C3CE-4CF0-9FCD-2E63BD868B73">返回值</p>
                        <p>传输的数据字节数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE926DB4-368D-4FB0-9C08-2024E6F34ECB__GUID-FA83FB36-C3BD-4416-986D-B079EE0F3ED2">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION.</code>打开连接<code class="codeph">OPEN_CONNECTION.</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71580"></a><a id="ARPLS71581"></a><a id="ARPLS71581"></a><a id="ARPLS71580"></a><div class="props_rev_3"><a id="GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4" name="GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4"></a><h4 id="ARPLS-GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4" class="sect4"><span class="enumeration_section">268.7.17</span> WRITE_TEXT函数</h4>
                  <div>
                     <p>此功能将文本消息发送到打开的连接上的服务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4__GUID-5410130A-DEFF-4C62-BE2B-21EFA9402C30">句法</p><pre class="oac_no_warn" dir="ltr">UTL_TCP.WRITE_TEXT（c IN OUT NOCOPY连接，数据IN VARCHAR2 CHARACTER SET ANY_CS，len IN PLS_INTEGER DEFAULT NULL）RETURN num_chars PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4__GUID-BFAD4346-25CE-4291-87FE-94AFDA45BCE5">参数</p>
                        <div class="tblformal" id="GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4__GUID-BD871DE3-3EDB-437C-ACD5-9E451F293835">
                           <p class="titleintable">表268-19 WRITE_TEXT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WRITE_TEXT函数参数" width="100%" border="1" summary="This table describes the Parameters of the UTL_TCP.WRITE_TEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1550159e4107">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1550159e4110">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e4115" headers="d1550159e4107 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e4115 d1550159e4110 ">
                                       <p>要将数据发送到的TCP连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e4123" headers="d1550159e4107 ">
                                       <p><code class="codeph">数据</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e4123 d1550159e4110 ">
                                       <p>包含要发送的数据的缓冲区</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1550159e4131" headers="d1550159e4107 ">
                                       <p><code class="codeph">LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1550159e4131 d1550159e4110 ">
                                       <p>要传输的数据的字符数。当<code class="codeph">len</code>为<code class="codeph">NULL</code> ，将写入整个数据长度。由于网络状况，写入的实际数据量可能较少。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4__GUID-5F88EA09-388B-40E3-87DE-724C55FE146F">返回值</p>
                        <p>传输的数据的实际字符数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B61994CE-A286-484E-98D8-E53BE67AEAA4__GUID-682C4ED9-1F1C-48F4-B14E-5D1732CCE166">使用说明</p>
                        <p>必须通过调用<code class="codeph">OPEN_CONNECTION.</code>打开连接<code class="codeph">OPEN_CONNECTION.</code>文本消息将转换为线上字符集，在连接打开时指定，然后在线路上传输。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>