<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Learn how to use Decision Tree algorithm. Decision Tree is one of the Classification algorithms that the Oracle Data Mining supports."></meta>
      <meta name="description" content="Learn how to use Decision Tree algorithm. Decision Tree is one of the Classification algorithms that the Oracle Data Mining supports."></meta>
      <title>决策树</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="API Guide"></meta>
      <meta property="og:description" content="Learn how to use Decision Tree algorithm. Decision Tree is one of the Classification algorithms that the Oracle Data Mining supports."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="API Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-12T22:34:55-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E97869-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="cur-matrix-decomposition.html" title="Previous" type="text/html"></link>
      <link rel="next" href="expectation-maximization.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DMAPI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="cur-matrix-decomposition.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="expectation-maximization.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="algorithms.html" property="item" typeof="WebPage"><span property="name">算法</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">决策树</li>
            </ol>
            <a id="GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63" name="GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63"></a><a id="DMCON019"></a>
            
            <h2 id="DMAPI-GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63" class="sect2"><span class="enumeration_chapter">12</span>决策树</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解如何使用决策树算法。决策树是Oracle Data Mining支持的分类算法之一。</p>
               <p><a id="d18712e19" class="indexterm-anchor"></a><a id="d18712e21" class="indexterm-anchor"></a><a id="d18712e25" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="decision-tree.html#GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16" title="介绍决策树规则。了解决策树的优势。了解如何生成决策树模型的XML表示。">关于决策树</a></p>
                  </li>
                  <li>
                     <p><a href="decision-tree.html#GUID-542B8B8C-0327-46E3-873A-7C71C6855531" title="通过一系列问题预测目标值以形成或增长决策树。">成长决策树</a></p>
                  </li>
                  <li>
                     <p><a href="decision-tree.html#GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9" title="使用各种参数微调决策树算法。">调整决策树算法</a></p>
                  </li>
                  <li>
                     <p><a href="decision-tree.html#GUID-D971596B-1AD0-4639-8398-05090A49835E" title="了解如何为决策树准备数据。">决策树的数据准备</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="classification.html#GUID-3D51EC47-E686-4468-8F49-A27B5F8E8FE4" title="了解如何通过分类预测分类目标 - 监督挖掘功能。">分类</a></li>
                  </ul>
               </div>
            </div><a id="DMCON296"></a><div class="props_rev_3"><a id="GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16" name="GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16"></a><h3 id="DMAPI-GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16" class="sect3"><span class="enumeration_section">12.1</span>关于决策树</h3>
               <div>
                  <p>决策树算法，如Naive Bayes，基于条件概率。与Naive Bayes不同，决策树生成<strong class="term">规则</strong> 。规则是一种条件语句，可以被人理解并在数据库中用于标识一组记录。
                  </p>
                  <p>在数据挖掘的一些应用中，预测一个或另一个结果的原因在评估模型的整体质量时可能不重要。在其他情况下，解释决策原因的能力至关重要。例如，营销专业人员需要完整描述客户群，以启动成功的营销活动。决策树算法非常适合此类应用。</p>
                  <p>使用决策树规则验证模型。如果规则对主题专家有意义，那么这将验证模型。</p>
               </div><a id="DMCON298"></a><a id="DMCON297"></a><div class="props_rev_3"><a id="GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7" name="GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7"></a><h4 id="DMAPI-GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7" class="sect4"><span class="enumeration_section">12.1.1</span>决策树规则</h4>
                  <div>
                     <p>介绍决策树规则。</p>
                     <p>Oracle Data Mining支持多种算法<a id="d18712e122" class="indexterm-anchor"></a>规则。除了决策树之外，聚类算法还提供描述群集成员共享条件的规则，关联规则提供描述属性之间关联的规则。
                     </p>
                     <p>规则提供<strong class="term">模型透明度</strong> ， <strong class="term">模型</strong>的内部工作窗口。规则显示了模型预测的基础。Oracle Data Mining支持高级别的模型透明性。虽然一些算法提供规则，但<span class="italic">所有</span>算法都提供<strong class="term">模型细节</strong> 。您可以检查模型详细信息以确定算法在内部如何处理属性，包括转换和反向转换。透明度在数据准备和<span><cite>Oracle Data Mining用户指南</cite></span>中的模型构建环境中进行了讨论。
                     </p>
                     <p>下图显示了决策树模型生成的规则。此规则来自决策树，该树可预测客户在获得会员卡时增加支出的概率。目标值为0意味着不太可能增加支出; 1意味着可能增加支出。</p>
                     <div class="figure" id="GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7__BGBDGCFI">
                        <p class="titleinfigure">图12-1决策树规则示例</p><img src="img/tree_rule.gif" alt="下面是图12-1的描述" title="下面是图12-1的描述" longdesc="img_text/tree_rule.html"><br><a href="img_text/tree_rule.html">“图12-1样本决策树规则”的说明</a></div>
                     <!-- class="figure" -->
                     <p>图中显示的规则代表条件语句：</p><pre class="oac_no_warn" dir="ltr">IF（当前居住地&gt; 3.5并且具有大学学位并且是单身）那么预测目标值= 0</pre><p>此规则是完整规则。代理规则是一个相关属性，如果缺少拆分所需的属性，则可以在应用时使用该属性。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="understanding-reverse-transformations.html#DMPRG580" target="_blank">了解逆转换</a></li>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-796F787A-1F6E-4439-BB4A-928510BD0994" target="_blank">决策树的模型细节视图</a></li>
                           <li><a href="clustering.html#GUID-7FB17270-54F6-4898-A4F9-319CD94B450B" title="了解如何通过Clustering（无监督挖掘功能）发现数据中的自然分组。">聚类</a></li>
                           <li><a href="association.html#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="了解如何通过关联发现关联规则 - 一种无监督的挖掘功能。">协会</a></li>
                        </ul>
                     </div>
                  </div><a id="DMCON299"></a><div class="props_rev_3"><a id="GUID-5AE37A6A-BC38-411E-92B4-A9065A568B2A" name="GUID-5AE37A6A-BC38-411E-92B4-A9065A568B2A"></a><h5 id="DMAPI-GUID-5AE37A6A-BC38-411E-92B4-A9065A568B2A" class="sect5"><span class="enumeration_section">12.1.1.1</span>信心和支持</h5>
                     <div>
                        <p>信心和支持是规则的属性。这些统计测量可用于对规则进行排序，从而对预测进行排名。</p>
                        <p><strong class="term">支持</strong> ：训练数据集中满足规则的记录数。
                        </p>
                        <p><strong class="term">置信度</strong> ：鉴于该规则已得到满足，预测结果的可能性。
                        </p>
                        <p>例如，考虑1000个客户（1000个案例）的列表。在所有客户中，100满足给定的规则。在这100个中，75个可能增加支出，25个不太可能增加支出。<strong class="term">规则</strong>的<strong class="term">支持</strong>是100/1000（10％）。对于满足该规则的情况， <strong class="term">预测</strong> （可能增加支出）的<strong class="term">置信度</strong>为75/100（75％）。
                        </p>
                     </div>
                  </div>
               </div><a id="DMCON300"></a><div class="props_rev_3"><a id="GUID-2A83D176-3B04-4C04-90C1-96F64AB4B680" name="GUID-2A83D176-3B04-4C04-90C1-96F64AB4B680"></a><h4 id="DMAPI-GUID-2A83D176-3B04-4C04-90C1-96F64AB4B680" class="sect4"><span class="enumeration_section">12.1.2</span>决策树的优点</h4>
                  <div>
                     <p>了解决策树的优势。</p>
                     <p>决策树算法使用相对较少的用户干预产生准确且可解释的模型。该算法可用于二进制和多类分类问题。</p>
                     <p>该算法在构建时和应用时都很快。Decision Tree支持的构建过程<a id="d18712e238" class="indexterm-anchor"></a>并行执行。（无论算法如何，评分都支持并行执行。）
                     </p>
                     <p>决策树评分特别快。在模型构建中创建的树结构用于一系列简单测试（通常为2-7）。每个测试都基于单个预测器。这是一个成员资格测试：IN或NOT在值列表中（分类预测器）;或少于或等于某个值（数字预测值）。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span><cite>Oracle数据库VLDB和分区指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON306"></a><div class="props_rev_3"><a id="GUID-B25FBEC2-1B4D-49EE-95E1-2E7D6A4F8E28" name="GUID-B25FBEC2-1B4D-49EE-95E1-2E7D6A4F8E28"></a><h4 id="DMAPI-GUID-B25FBEC2-1B4D-49EE-95E1-2E7D6A4F8E28" class="sect4"><span class="enumeration_section">12.1.3</span>决策树模型的XML</h4>
                  <div>
                     <p>了解如何生成决策树模型的XML表示。</p>
                     <p>您可以生成表示决策树模型的XML;生成的XML满足数据挖掘组预测模型标记语言（PMML）2.1版规范中指定的定义。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dmapi&amp;id=dmg" target="_blank">http://www.dmg.org</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="DMCON302"></a><a id="DMCON301"></a><div class="props_rev_3"><a id="GUID-542B8B8C-0327-46E3-873A-7C71C6855531" name="GUID-542B8B8C-0327-46E3-873A-7C71C6855531"></a><h3 id="DMAPI-GUID-542B8B8C-0327-46E3-873A-7C71C6855531" class="sect3"><span class="enumeration_section">12.2</span>建立决策树</h3>
               <div>
                  <p>通过一系列问题预测目标值以形成或增长决策树。</p>
                  <p>决策树通过询问一系列问题来预测目标值。在序列的给定阶段，提出的问题取决于先前问题的答案。目标是提出一些问题，这些问题一起唯一地标识特定的目标值。从图形上看，此过程形成树结构。</p>
                  <div class="figure" id="GUID-542B8B8C-0327-46E3-873A-7C71C6855531__BGBBGCGF">
                     <p class="titleinfigure">图12-2样本决策树</p><img src="img/treediagram.gif" alt="下面是图12-2的描述" title="下面是图12-2的描述" longdesc="img_text/treediagram.html"><br><a href="img_text/treediagram.html">“图12-2样本决策树”的描述</a></div>
                  <!-- class="figure" -->
                  <p>该图是具有九个节点（以及九个相应规则）的决策树。目标属性是二进制：如果客户增加支出，则为1;如果客户不增加支出，则为0。树中的第一个拆分基于<code class="codeph">CUST_MARITAL_STATUS</code>属性。树的根（节点0）被分成节点1和3。已婚客户在节点1;单个客户在节点3中。
                  </p>
                  <p>与节点1关联的规则是：</p><pre class="oac_no_warn" dir="ltr">节点1 recordCount = 712,0 Count = 382,1 Count = 330 CUST_MARITAL_STATUS isIN“已婚”，代理：HOUSEHOLD_SIZE isIn“3”“4-5”</pre><p>节点1有712条记录（案例）。在所有712个案例中， <code class="codeph">CUST_MARITAL_STATUS</code>属性表示客户已结婚。其中，382的目标为0（不太可能增加支出），330的目标为1（可能增加支出）。
                  </p>
               </div><a id="DMCON303"></a><div class="props_rev_3"><a id="GUID-17616E59-425C-4D69-9E60-8C2F38E44CD0" name="GUID-17616E59-425C-4D69-9E60-8C2F38E44CD0"></a><h4 id="DMAPI-GUID-17616E59-425C-4D69-9E60-8C2F38E44CD0" class="sect4"><span class="enumeration_section">12.2.1</span>分裂</h4>
                  <div>
                     <p>在训练过程中，决策树算法必须重复找到将一组案例（记录）拆分为两个子节点的最有效方法。Oracle Data Mining提供了两个同质性度量， <strong class="term">gini</strong>和<strong class="term">熵</strong> ，用于计算拆分。默认度量标准是gini。
                     </p>
                     <p>同质性度量评估备选分割条件的质量，并选择导致最同质子节点的条件。均匀性也称为<strong class="term">纯度</strong> ;它指的是由此产生的子节点由具有相同目标值的案例组成的程度。目标是最大化子节点的纯度。例如，如果目标可以是是或否（增加或不增加支出），目标是产生节点，其中大多数情况要么增加支出，要么大多数情况不增加支出。
                     </p>
                  </div>
               </div><a id="DMCON304"></a><div class="props_rev_3"><a id="GUID-D851A92F-67C2-4CA3-A427-615881A38AE3" name="GUID-D851A92F-67C2-4CA3-A427-615881A38AE3"></a><h4 id="DMAPI-GUID-D851A92F-67C2-4CA3-A427-615881A38AE3" class="sect4"><span class="enumeration_section">12.2.2</span>成本矩阵</h4>
                  <div>
                     <p>了解决策树的成本矩阵。</p>
                     <p>所有分类算法，包括决策树，都支持a <a id="d18712e379" class="indexterm-anchor"></a>成本效益矩阵在申请时。您可以使用相同的成本矩阵来构建和评分决策树模型，也可以为评分指定不同的成本/收益矩阵。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="classification.html#GUID-F28D1480-ED10-4634-A566-F4D3CD17BDD7" title="比较成本矩阵和混淆矩阵的成本和准确性，以评估模型质量。讨论混淆矩阵中正负类的重要性。">成本</a></li>
                           <li><a href="classification.html#GUID-590DD2C5-1BA5-40A3-9E3E-92AA2AE1D0EC" title="了解分类模型中的Priors和Class Weights以产生有用的结果。">Priors和Class Weights</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON305"></a><div class="props_rev_3"><a id="GUID-D42FB994-F4A6-4CD3-899C-0696DB4D25BD" name="GUID-D42FB994-F4A6-4CD3-899C-0696DB4D25BD"></a><h4 id="DMAPI-GUID-D42FB994-F4A6-4CD3-899C-0696DB4D25BD" class="sect4"><span class="enumeration_section">12.2.3</span>防止过度配合</h4>
                  <div>
                     <p>原则上，决策树算法可以使树的每个分支生长得足够深，以便对训练样例进行完美分类。虽然这有时是一种合理的策略，但事实上，当数据中存在噪声时，或者当训练样本的数量太小而无法产生真正目标函数的代表性样本时，它会导致困难。在这两种情况中的任何一种情况下，这种简单的算法都可以产生过度拟合训练样例的树。过度拟合是一种情况，其中模型能够准确地预测用于创建模型的数据，但在呈现给它的新数据上表现不佳。</p>
                     <p>为防止过度拟合，Oracle Data Mining支持控制树增长的自动<strong class="term">修剪</strong>和可配置<strong class="term">限制条件</strong> 。限制条件可以在条件满足后防止进一步分裂。修剪会删除具有无关紧要的预测能力的分支。
                     </p>
                  </div>
               </div>
            </div><a id="DMCON307"></a><div class="props_rev_3"><a id="GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9" name="GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9"></a><h3 id="DMAPI-GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9" class="sect3"><span class="enumeration_section">12.3</span>调整决策树算法</h3>
               <div>
                  <p>使用各种参数微调决策树算法。</p>
                  <p>决策树算法使用合理的分割和终止条件默认值来实现。但是，有几个构建设置可用于微调。</p>
                  <p>您可以指定同质性度量标准以查找树的最佳分割条件。默认度量标准是gini。熵度量也可用。</p>
                  <p>还可以使用用于控制树生长的设置。您可以指定树的最大深度，子节点中所需的最小案例数，节点中为了进一步拆分所需的最小案例数，子节点中的最小案例数，以及节点中所需的最小案例数，以便进一步分割。</p>
                  <p>训练数据属性被分箱，作为算法数据准备的一部分。您可以更改分箱步骤使用的箱数。在使用的箱数和构建所需的时间之间存在权衡。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-03435110-D723-42FD-B4EA-39C86A039566" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMCON308"></a><div class="props_rev_3"><a id="GUID-D971596B-1AD0-4639-8398-05090A49835E" name="GUID-D971596B-1AD0-4639-8398-05090A49835E"></a><h3 id="DMAPI-GUID-D971596B-1AD0-4639-8398-05090A49835E" class="sect3"><span class="enumeration_section">12.4</span>决策树的数据准备</h3>
               <div>
                  <p>了解如何为决策树准备数据。</p>
                  <p>决策树算法在内部管理自己的数据准备。它不需要预处理数据。决策树不受自动数据准备的影响。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../dmprg/preparing-data.html#DMPRG-GUID-E1AB599C-1921-4BD7-B06B-FC466180A460" target="_blank">准备数据</a></li>
                        <li><a href="../dmprg/transforming-data.html#DMPRG-GUID-C3FDDEC7-8CC9-4AC1-A6C3-75D91E26B703" target="_blank">转换数据</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>