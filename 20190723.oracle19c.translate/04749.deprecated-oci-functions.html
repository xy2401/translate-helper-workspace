<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Deprecated OCI features and functions are those that may become obsolete in a future release. Replacement OCI functions are mentioned where applicable."></meta>
      <meta name="description" content="Deprecated OCI features and functions are those that may become obsolete in a future release. Replacement OCI functions are mentioned where applicable."></meta>
      <title>不推荐使用的OCI特性和功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Deprecated OCI features and functions are those that may become obsolete in a future release. Replacement OCI functions are mentioned where applicable."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="getting-started-with-oci-for-windows.html" title="Previous" type="text/html"></link>
      <link rel="next" href="multithreaded-extproc-agent.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started-with-oci-for-windows.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="multithreaded-extproc-agent.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">不推荐使用的OCI特性和功能</li>
            </ol>
            <a id="GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1" name="GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1"></a><a id="LNOCI72889"></a><a id="LNOCI72888"></a>
            
            <h2 id="LNOCI-GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1" class="sect2"><span class="enumeration_chapter">E</span>不推荐的OCI特性和功能</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='deprecated-oci-functions'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>不推荐使用的OCI功能和功能是在将来的版本中可能已过时的功能和功能。如果适用，可以提及替换OCI功能。</p>
               <p>从Oracle Database 18c版本18.1开始，结果集描述符为<code class="codeph">OCI_DTYPE_RSET</code> 。</p>
               <p>OCI版本7.3 API从Oracle Database 12 <span class="italic">c</span> Release 1（12.1）开始。
               </p>
               <p>除非另有说明，否则<a href="deprecated-oci-functions.html#GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1__CEGDEIIJ" title="此表列出了已弃用的OCI功能。">表E-1</a>列出了Oracle 11 <span class="italic">g</span> R2（11.2）之前的版本中不推荐使用的OCI函数。在将来的版本中，这些功能可能会过时。
               </p>
               <div class="tblformal" id="GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1__CEGDEIIJ">
                  <p class="titleintable">表E-1不推荐的OCI功能</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的OCI功能" width="100%" border="1" summary="This table lists the deprecated OCI functions." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="19%" id="d383975e213">功能组</th>
                           <th align="left" valign="bottom" width="81%" id="d383975e216">不推荐使用的功能</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e221" headers="d383975e213 ">
                              <p>初始化</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e221 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIEnvInit（）</a> ， <a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e244" headers="d383975e213 ">
                              <p>声明</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e244 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" title="在Oracle 11g R2（11.2）之前的版本中不推荐使用此函数。">OCIStmtFetch（）</a></p>
                              <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始： <a href="deprecated-oci-functions.html#GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCIStmtPrepare（）</a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e271" headers="d383975e213 ">
                              <p>高球</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e271 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobCopy（）</a> ， <a href="deprecated-oci-functions.html#GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobErase（）</a> ， <a href="deprecated-oci-functions.html#GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobGetLength（）</a> ， <a href="deprecated-oci-functions.html#GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobLoadFromFile（）</a> ， <a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a> ， <a href="deprecated-oci-functions.html#GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobTrim（）</a> ， <a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a> ， <a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></p>
                              <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始： <a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a> ， <a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a> ， <a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e380" headers="d383975e213 ">
                              <p>数据库高级排队功能</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e380 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIAQListen（）</a></p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC" title="描述不推荐使用的初始化函数。">不推荐使用初始化函数</a></p>
                     </li>
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-B89BE635-C46B-42CB-961A-E383D9D644CC" title="描述不推荐使用的语句函数。">不推荐使用的语句功能</a></p>
                     </li>
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F" title="描述不推荐使用的LOB函数。">不推荐的Lob函数</a></p>
                     </li>
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-282CD889-9951-43BB-A37A-A5CB04E46B99" title="描述不推荐使用的Oracle数据库高级队列功能。">不推荐使用的数据库高级排队功能</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="LNOCI72891"></a><a id="LNOCI72890"></a><div class="props_rev_3"><a id="GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC" name="GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC"></a><h3 id="LNOCI-GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC" class="sect3"><span class="enumeration_section">E.1</span>不推荐的初始化函数</h3>
               <div>
                  <p>描述不推荐使用的初始化函数。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC__CEGHIBHG" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-2</a>列出了本节中描述的已弃用的Initialize函数。
                  </p>
                  <div class="tblformal" id="GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC__CEGHIBHG">
                     <p class="titleintable">表E-2不推荐的初始化函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用初始化函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="52%" id="d383975e626">功能</th>
                              <th align="left" valign="bottom" width="48%" id="d383975e629">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d383975e634" headers="d383975e626 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIEnvInit（）</a></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d383975e634 d383975e629 ">
                                 <p>初始化环境句柄。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d383975e648" headers="d383975e626 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d383975e648 d383975e629 ">
                                 <p>初始化OCI流程环境。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI72892"></a><div class="props_rev_3"><a id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7"></a><h4 id="LNOCI-GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" class="sect4"><span class="enumeration_section">E.1.1</span> OCIEnvInit（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-141992DD-A0AC-4AD2-AB64-1368A12D208D">目的</p>
                        <p>分配并初始化OCI环境句柄。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-6BF44C0F-E6FE-4F66-B7BA-EAF1B91BC92B">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIEnvInit（OCIEnv ** envhpp，ub4模式，size_t xtramemsz，void ** usrmempp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-8370D653-FE60-4B6F-866F-25831CFE49CD">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-E892DFF0-CC9C-481F-8E06-D8499B6374C5"><!-- --></a> <span class="bold">envhpp</span> （OUT）</dt>
                           <dd>
                              <p>指向环境句柄的指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-61FF8026-AFE7-436B-B38A-045A194F35E2"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>指定环境模式的初始化。有效模式是：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_DEFAULT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ENV_NO_UCB</code></p>
                           </li>
                        </ul>
                        <p>在<code class="codeph">OCI_DEFAULT</code>模式下，OCI库始终是互斥句柄。
                        </p>
                        <p><code class="codeph">OCI_ENV_NO_UCB</code>模式用于在环境初始化时禁止调用动态回调例程<code class="codeph">OCIEnvCallback()</code> 。默认行为是允许进行此类调用。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-22E6DA11-A457-4E04-AEC9-76771E905AA0">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="user-defined-callback-functions.html#GUID-C1E8C023-F0D4-4C0A-8585-DA6CCA0DDF65" title="因为期望用户回调用于监视OCI行为或访问其他数据源，所以希望回调的注册是透明且非侵入地完成的。">动态回拨注册</a></p>
                        </div>
                        <dl>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-93098F13-C0D3-47BE-A8E8-DBFA1D96E732"><!-- --></a> <span class="bold">xtramemsz</span> （IN）</dt>
                           <dd>
                              <p>指定在环境持续时间内分配的用户内存量。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-7AA83C8B-F456-42C2-A3E9-FA3406073B26"><!-- --></a> <span class="bold">usrmempp</span> （OUT）</dt>
                           <dd>
                              <p>返回指向用户在内存持续时间内为用户调用分配的大小<code class="codeph">xtramemsz</code>的用户内存的指针。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-3E8F27B2-EE0C-460F-865A-E62A714CC03E">评论</p>
                        <div class="infoboxnote" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-00167E85-A5F7-4961-877B-E51CB5315082">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">OCIInitialize()</code> <a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">（）</a>而不是<code class="codeph">OCIInitialize()</code>和<code class="codeph">OCIEnvInit()</code>调用。<code class="codeph">OCIInitialize()</code>和<code class="codeph">OCIEnvInit()</code>调用以实现向后兼容性。
                           </p>
                        </div>
                        <p>此调用分配并初始化OCI环境句柄。没有对初始化句柄进行任何更改。如果返回<code class="codeph">OCI_ERROR</code>或<code class="codeph">OCI_SUCCESS_WITH_INFO</code>则可以使用环境句柄获取特定于Oracle的错误和诊断。
                        </p>
                        <p>此调用在本地处理，无需服务器往返。</p>
                        <p>可以使用<code class="codeph">OCIHandleFree()</code>释放环境句柄。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="返回指向已分配和初始化句柄的指针。">OCIHandleAlloc（）</a></li>
                           <li><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="显式释放句柄">OCIHandleFree（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-B7BC5F9E-811C-490A-B308-472A12D690D2" title="从共享内存子系统中分离进程并释放共享内存。">OCITerminate（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-B142D7DC-1F67-4CD5-B148-CF4895BA116F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-programming-basics.html#GUID-394C2CED-C264-4F81-BD97-CCF9F149CC4C" title="OCIDescriptorAlloc（）调用在其参数列表中有一个xtramem_sz参数。">用户内存分配</a>有关<code class="codeph">xtramemsz</code>参数和用户内存分配的更多信息</p>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17115"></a><div class="props_rev_3"><a id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2" name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2"></a><h4 id="LNOCI-GUID-F50356A8-450D-4A96-8AB5-5726502766B2" class="sect4"><span class="enumeration_section">E.1.2</span> OCIInitialize（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-DEE65631-9C0A-4269-8AFA-104FA22D0C1F">目的</p>
                        <p>初始化OCI流程环境。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-54114638-5257-4BD7-B5FE-E9338185B2D8">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIInitialize（ub4模式，const void * ctxp，const void *（* malocfp）（void * ctxp，size_t size），const void *（* ralocfp）（void * ctxp，void * memptr，size_t newsize），const void（ * mfreefp）（void * ctxp，void * memptr））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-823932A2-3941-4546-B2E6-FAD5A4EE4C04">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-62565892-D0F4-4E5A-8435-7E15236D84F4"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>指定模式的初始化。有效模式是：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_DEFAULT</code> - 默认模式。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_THREADED</code> - 线程环境。在此模式下，不会向用户公开的内部数据结构受到多线程的并发访问的保护。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_OBJECT</code> - 使用对象功能。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_EVENTS</code> - 使用发布 - 订阅通知。
                              </p>
                           </li>
                        </ul>
                        <dl>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-B7D97527-C43E-461F-AE9E-ABE9B54E03B7"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>用户定义的内存回调例程的上下文。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-6C6C1F74-FD59-413E-B2A7-E224C8BA2963"><!-- --></a> <span class="bold">malocfp</span> （IN）</dt>
                           <dd>
                              <p>用户定义的内存分配功能。如果<code class="codeph">mode</code>为<code class="codeph">OCI_THREADED</code> ，则此内存分配例程必须是线程安全的。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-807195FC-AADA-4485-B597-3F7DE6782C92"><!-- --></a> <span class="bold">ctxp（IN / OUT）</span></dt>
                           <dd>
                              <p>用户定义的内存分配函数的上下文指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-0498BF03-E76A-45F8-96F0-8CFF8E5433EB"><!-- --></a> <span class="bold">尺寸（IN）</span></dt>
                           <dd>
                              <p>由用户定义的内存分配函数分配的内存大小。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-9F84BDB7-705D-450B-A029-DEE2D9171BF7"><!-- --></a> ralocfp（IN）</dt>
                           <dd>
                              <p>用户定义的内存重新分配功能。如果<code class="codeph">mode</code>为<code class="codeph">OCI_THREADED</code> ，则此内存分配例程必须是线程安全的。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-C36B3D7A-19B1-4DD7-8D8E-E4467DE2AF5B"><!-- --></a> <span class="bold">ctxp（IN / OUT）</span></dt>
                           <dd>
                              <p>用户定义的内存重新分配函数的上下文指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-8DE13BAC-5C8E-4C99-937B-2090A55EF034"><!-- --></a> <span class="bold">memptr（IN / OUT）</span></dt>
                           <dd>
                              <p>指向内存块的指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-33F141BD-333E-46A8-BAF8-A683580738BD"><!-- --></a> <span class="bold">newsize</span> （IN）</dt>
                           <dd>
                              <p>要分配的新内存大小。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-33C75009-1B1A-4F3F-BE99-ECF398425BBB"><!-- --></a> <span class="bold">mfreefp</span> （IN）</dt>
                           <dd>
                              <p>用户定义的内存自由功能。如果<code class="codeph">mode</code>为<code class="codeph">OCI_THREADED</code> ，则此无内存例程必须是线程安全的。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-CE88BBBC-B670-48FD-B037-F7619E697B10"><!-- --></a> <span class="bold">ctxp（IN / OUT）</span></dt>
                           <dd>
                              <p>用户定义的内存自由函数的上下文指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-0A57379B-B4D1-4DA4-B1AB-0CAD129D3BF7"><!-- --></a> <span class="bold">memptr（IN / OUT）</span></dt>
                           <dd>
                              <p>指向要释放的内存的指针。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-3559DCEF-CBB5-4563-B974-7773C9E107EA">评论</p>
                        <div class="infoboxnote" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-8E69DFCD-3488-4929-9395-E8C51B090921">
                           <p class="notep1">注意：</p>
                           <p>使用<a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（） ，</a>而不是过时OCIInitialize（）调用。支持<code class="codeph">OCIInitialize()</code>调用以实现向后兼容性。
                           </p>
                        </div>
                        <p>此调用初始化OCI流程环境。必须在任何其他OCI调用之前调用<code class="codeph">OCIInitialize()</code> 。
                        </p>
                        <p>此功能使应用程序能够通过回调定义自己的内存管理功能。如果应用程序已定义了此类函数（即内存分配，内存重新分配，无内存），则应使用此函数中的回调参数进行注册。</p>
                        <p>这些内存回调是可选的。如果应用程序在此函数中为内存回调传递<code class="codeph">NULL</code>值，则使用默认进程内存分配机制。
                        </p>
                        <div class="infoboxnotealso" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-A3CBDAFC-046F-4DEB-B506-CA30283C6A43">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关使用OCI编写多线程应用程序的信息，请参阅<a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="线程是存在于更大进程中的轻量级进程。">OCI多线程开发概述</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-object-relational-programming.html#GUID-8A9E9784-9D10-40B1-ADE9-4CE9325255E5" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。它还讨论了OCI的对象导航函数调用。">OCI对象关系编程，</a>用于获取有关对象的OCI编程的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-2AE438C5-0DB4-4C4B-82B2-F37132F079F5">例</p>
                        <p>以下语句显示了如何在线程和对象模式下调用<code class="codeph">OCIInitialize()</code>的示例，没有用户定义的内存函数：</p><pre class="oac_no_warn" dir="ltr">OCIInitialize（（ub4）OCI_THREADED | OCI_OBJECT，（void *）0，（void *（*）（））0，（void *（*）（））0，（void（*）（））0）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="返回指向已分配和初始化句柄的指针。">OCIHandleAlloc（）</a></li>
                           <li><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="显式释放句柄">OCIHandleFree（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-B7BC5F9E-811C-490A-B308-472A12D690D2" title="从共享内存子系统中分离进程并释放共享内存。">OCITerminate（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNOCI72894"></a><a id="LNOCI72893"></a><div class="props_rev_3"><a id="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC" name="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC"></a><h3 id="LNOCI-GUID-B89BE635-C46B-42CB-961A-E383D9D644CC" class="sect3"><span class="enumeration_section">E.2</span>不推荐的语句功能</h3>
               <div>
                  <p>描述不推荐使用的语句函数。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-B89BE635-C46B-42CB-961A-E383D9D644CC__CEGHGEGJ" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-3</a>列出了本节中描述的已弃用的Statement函数。
                  </p>
                  <div class="tblformal" id="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC__CEGHGEGJ">
                     <p class="titleintable">表E-3不推荐的语句函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的语句功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d383975e1651">功能</th>
                              <th align="left" valign="bottom" width="55%" id="d383975e1654">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d383975e1659" headers="d383975e1651 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" title="在Oracle 11g R2（11.2）之前的版本中不推荐使用此函数。">OCIStmtFetch（）</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d383975e1659 d383975e1654 ">
                                 <p>从查询中获取行。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d383975e1673" headers="d383975e1651 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCIStmtPrepare（）</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d383975e1673 d383975e1654 ">
                                 <p>准备SQL或PL / SQL语句以便执行。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI17164"></a><div class="props_rev_3"><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85"></a><h4 id="LNOCI-GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" class="sect4"><span class="enumeration_section">E.2.1</span> OCIStmtFetch（）</h4>
                  <div>
                     <p>在Oracle 11 <span class="italic">g</span> R2（11.2）之前的版本中不推荐使用此函数。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-BFBC0815-940D-4CA0-90C8-DFD7A3AC8B8D">目的</p>
                        <p>从查询中获取行。不推荐使用此功能。使用<a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="从（可滚动）结果集中获取一行。">OCIStmtFetch2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-427B2F37-04DA-4F1E-BAE6-314D6AFBF0B9">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIStmtFetch（OCIStmt * stmtp，OCIError * errhp，ub4 nrows，ub2 orientation，ub4 mode）;</pre> </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-5CB0A148-1F65-4449-8F29-D7AADBF15F5C">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-4D8D12FF-A771-444D-8647-7C61CE263267"><!-- --></a> <span class="bold">stmtp</span> （IN）</dt>
                           <dd>
                              <p>声明（应用程序请求）句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-130E23DF-A8C1-4E1F-A965-33FF6C699EB3"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-3B901D05-6BE5-4A09-AD2A-175FD8AA33A2"><!-- --></a> <span class="bold">nrows</span> （IN）</dt>
                           <dd>
                              <p>从当前位置获取的行数。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-6C0BB28F-E28A-4C55-B702-9F2571BB554A"><!-- --></a> <span class="bold">方向</span> （IN）</dt>
                           <dd>
                              <p>在9.0版之前，唯一可接受的值是<code class="codeph">OCI_FETCH_NEXT</code> ，它也是默认值。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-00086FA8-F270-44C0-9982-6E53CED19DEA"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-2888285A-6D58-411D-9221-820DA87C598E">评论</p>
                        <p>如果预取行足够，则fetch调用是本地调用。但是，这对应用程序是透明的。</p>
                        <p>如果正在读取LOB列，则获取LOB定位符以便在这些定位器上执行后续LOB操作。如果涉及<code class="codeph">LONG</code>列，则关闭预取。
                        </p>
                        <p>此功能可以返回<code class="codeph">OCI_NO_DATA</code>对<code class="codeph">EOF</code>和<code class="codeph">OCI_SUCCESS_WITH_INFO</code>当这些错误之一发生：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>ORA-24344  - 编译错误成功</p>
                           </li>
                           <li>
                              <p>ORA-24345  - 发生截断或<code class="codeph">NULL</code>提取错误</p>
                           </li>
                           <li>
                              <p>ORA-24347  - 聚合函数中<code class="codeph">NULL</code>列的警告</p>
                           </li>
                        </ul>
                        <p>如果在<code class="codeph">nrows</code>参数设置为0的情况下调用<code class="codeph">OCIStmtFetch()</code> ，则取消游标。
                        </p>
                        <p>使用<code class="codeph">OCI_ATTR_ROWS_FETCHED</code>查找在上次提取调用中成功提取到用户缓冲区的行数。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="从（可滚动）结果集中获取一行。">OCIStmtFetch2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA"></a><h4 id="LNOCI-GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" class="sect4"><span class="enumeration_section">E.2.2</span> OCIStmtPrepare（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-FEA3358C-354E-4E02-AA00-D87555493390">目的</p>
                        <p>准备SQL或PL / SQL语句以便执行。不推荐使用此功能。使用<a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-A3311A57-B785-4042-B03F-323D0F65558C">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIStmtPrepare（OCIStmt * stmtp，OCIError * errhp，const OraText * stmt，ub4 stmt_len，ub4 language，ub4 mode）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-6F9DA4BC-22AA-43EA-9209-FF6C804F7280">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-5F078D22-AAA2-4D64-9A91-22A46E2D634A"><!-- --></a> <span class="bold">stmtp</span> （IN）</dt>
                           <dd>
                              <p>与要执行的语句关联的语句句柄。默认情况下，它包含从中派生的环境句柄中的编码设置。只能在UTF-16环境中以UTF-16编码准备语句。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-B6B37496-329A-448D-ACF1-2759E2698AB9"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-E303EEB9-D02B-423D-A9D8-36A7D5FF15ED"><!-- --></a> <span class="bold">stmt</span> （IN）</dt>
                           <dd>
                              <p>要执行的SQL或PL / SQL语句。必须是<code class="codeph">NULL</code> -terminated字符串。也就是说，结束字符是多个<code class="codeph">NULL</code>字节，具体取决于编码。该语句必须采用前一次调用<a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a>的<code class="codeph">charset</code>参数指定的编码。
                              </p>
                              <p>始终将参数强制转换为（ <code class="codeph">text *)</code> 。在UTF-16中准备好语句后，bind和define buffers的字符集默认为UTF-16。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-F3EB1AFD-7ECC-48CC-93B5-2E19C61B92D2"><!-- --></a> <span class="bold">stmt_len</span> （IN）</dt>
                           <dd>
                              <p>语句的长度，以字符或字节数为单位，具体取决于编码。不能为零。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-A7CFFE3C-BBCD-4181-A145-3E907B5DDDB5"><!-- --></a> <span class="bold">语言</span> （IN）</dt>
                           <dd>
                              <p>指定V7或本机语法。可能的值如下：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_V7_SYNTAX</code> -  V7 ORACLE解析语法。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_NTV_SYNTAX</code> - 语法取决于服务器的版本。
                              </p>
                              <p><code class="codeph">OCI_FOREIGN_SYNTAX</code> - 根据会话中设置的SQL转换配置文件指定要转换的语句。
                              </p>
                           </li>
                        </ul>
                        <dl>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-CC79B02F-3F50-4647-B680-C6593C3BB981"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>与<a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a>调用中的<code class="codeph">mode</code>类似，但此优先级更高，因为它可以覆盖“自然”继承的模式设置。
                              </p>
                              <p>可能的值为<code class="codeph">OCI_DEFAULT</code> （默认模式）或<code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code> 。当在外部过程中进行此调用并且需要处理隐式结果时，该模式应作为<code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code>传递。有关详细信息，请参阅<a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" title="从Oracle Database 12c第1版（12.1）开始，PL / SQL可以从存储过程和匿名PL / SQL块中隐式返回结果（游标）。提供OCIStmtGetNextResult（）以检索和处理隐式结果。">OCI对隐式结果的支持</a> 。语句句柄<code class="codeph">stmtp</code>使用其父环境句柄指定的任何内容。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-44B964B4-FDD1-449E-9D35-F71A07E51F5B">评论</p>
                        <p>OCI应用程序使用此调用来准备SQL或PL / SQL语句以供执行。<code class="codeph">OCIStmtPrepare()</code>调用定义了一个应用程序请求。</p>
                        <p><code class="codeph">mode</code>参数确定语句内容是否编码为UTF-16。语句长度是代码点的数量或字节数，具体取决于编码。
                        </p>
                        <p>尽管语句句柄从父环境句柄继承了编码设置，但此调用的<code class="codeph">mode</code>也可以更改语句句柄本身的编码设置。
                        </p>
                        <p>在后续绑定调用中初始化的此语句的数据值存储在绑定句柄中，该句柄使用此语句句柄中的设置作为默认值。</p>
                        <p>此调用不会在此语句句柄与任何特定服务器之间创建关联。</p>
                        <p>在重新执行DDL语句之前，请再次调用此函数。</p>
                        <p>此调用不支持应用程序连续性，如果使用此调用，则返回以下错误： <code class="codeph">Error - ORA-25412: transaction replay disabled by call to OCIStmtPrepare</code> 。使用<code class="codeph">OCIStmtPrepare2()</code>调用来支持在HA基础结构中使用Application Continuity。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-1711A735-1496-4F9F-9056-56FA24D14B86">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="using-sql_statements-in-oci.html#GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8" title="通过使用语句prepare调用和任何必要的绑定调用，准备执行SQL和PL / SQL语句。">关于准备语句</a>以获取有关使用此调用的更多信息</p>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNOCI72896"></a><a id="LNOCI72895"></a><div class="props_rev_3"><a id="GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F" name="GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F"></a><h3 id="LNOCI-GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F" class="sect3"><span class="enumeration_section">E.3</span>不推荐的Lob函数</h3>
               <div>
                  <p>描述不推荐使用的LOB函数。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F__CEGBHIAJ" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-4</a>列出了本节中描述的已弃用的LOB函数。
                  </p>
                  <p>从Oracle Database 12 <code class="codeph">c</code>第2版（12.2）开始，大多数LOB函数（包括一些不推荐使用的LOB函数，如下表所示）支持应用程序连续性（有关完整列表，请参阅<a href="high-availability-in-oci.html#GUID-D30079AC-4E59-4CC3-86E8-6487A4891BA2" title="描述如果发生中断，OCI中的应用程序连续性可以进行故障转移时的哪些功能。">OCI中的应用程序连续性可以故障转移</a> ）。
                  </p>
                  <div class="tblformal" id="GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F__CEGBHIAJ">
                     <p class="titleintable">表E-4不推荐使用的LOB函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的LOB函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="65%" id="d383975e2617">功能</th>
                              <th align="left" valign="bottom" width="35%" id="d383975e2620">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2625" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobCopy（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2625 d383975e2620 ">
                                 <p>将一个LOB的全部或部分复制到另一个。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2639" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2639 d383975e2620 ">
                                 <p>禁用输入定位器的LOB缓冲。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2653" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2653 d383975e2620 ">
                                 <p>为输入定位器启用LOB缓冲。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2667" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobErase（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2667 d383975e2620 ">
                                 <p>擦除LOB的一部分。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2681" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2681 d383975e2620 ">
                                 <p>将此LOB的所有缓冲区刷新或写入服务器。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2695" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobGetLength（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2695 d383975e2620 ">
                                 <p>获取LOB的长度。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2709" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobLoadFromFile（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2709 d383975e2620 ">
                                 <p>从<code class="codeph">BFILE</code>加载LOB。支持应用程序连续性。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2726" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2726 d383975e2620 ">
                                 <p>读一部分LOB。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2740" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobTrim（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2740 d383975e2620 ">
                                 <p>截断LOB。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2754" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2754 d383975e2620 ">
                                 <p>写入LOB。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2768" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2768 d383975e2620 ">
                                 <p>写入从LOB结尾开始的数据。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI72897"></a><div class="props_rev_3"><a id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" name="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1"></a><h4 id="LNOCI-GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" class="sect4"><span class="enumeration_section">E.3.1</span> OCILobCopy（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1__GUID-98BE8640-E66E-4F83-B9F9-4D38FEEF67AA">目的</p>
                        <p>将全部或部分LOB值复制到另一个LOB值。不推荐使用此功能。使用<a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1__GUID-31BCCB43-D069-4441-9E36-686E6F002AC8">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobCopy（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * dst_locp，OCILobLocator * src_locp，ub4 amount，ub4 dst_offset，ub4 src_offset）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1__GUID-260C66E3-D1BB-4D81-A7D2-F6892C3C1CF9">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-6BE287D0-3385-4514-850A-349940ECB26A" name="GUID-6BE287D0-3385-4514-850A-349940ECB26A"></a><h4 id="LNOCI-GUID-6BE287D0-3385-4514-850A-349940ECB26A" class="sect4"><span class="enumeration_section">E.3.2</span> OCILobDisableBuffering（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-B78BDA6E-838C-4679-AC4C-D3D263D42DF4">目的</p>
                        <p>禁用输入定位器的LOB缓冲。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-76BAB5ED-4550-4C64-9373-A5D493BCAB0F">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobDisableBuffering（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-47F8A7B9-2728-4A5E-B6FC-88A767320642">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-0B054BF2-DD2C-4392-97D7-5453086E334F"><!-- --></a> svchp（IN）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-DEED8F10-3076-4CBA-AB0F-DCF7530DED11"><!-- --></a> errhp（输入/输出）</dt>
                           <dd>
                              <p>出现错误时可以传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>或诊断信息的错误句柄。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-56C7D96E-3D5C-494B-A3E7-3E34A7192550"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-F71E1B54-CE71-48CC-A493-5A2E0541036F">评论</p>
                        <p>禁用输入内部LOB定位器的LOB缓冲。下次通过输入定位器从LOB读取数据或向LOB写入数据时， <span class="italic">不</span>使用LOB缓冲子系统。注意，这个调用<span class="italic">不会</span>隐刷新在缓冲子系统所做的更改。用户必须显式调用<a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a>才能执行此操作。
                        </p>
                        <p>当远程定位器传递给它时， <code class="codeph">OCILobDisableBuffering()</code>会引发错误。
                        </p>
                        <p>此函数不接受<code class="codeph">BFILE</code>定位器。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></li>
                           <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917"></a><h4 id="LNOCI-GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" class="sect4"><span class="enumeration_section">E.3.3</span> OCILobEnableBuffering（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-6974656A-7F9A-41D9-B462-53D43AB25302">目的</p>
                        <p>为输入定位器启用LOB缓冲。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-E4DC4040-B5DE-4AFE-B907-5F25851561E7">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobEnableBuffering（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-1F209054-8FB4-4378-BA5A-02C23ACE9647">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-14C9998C-21B1-4C86-AB8B-6BC92C56D9BB"><!-- --></a> svchp（IN）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-71FF1760-55A7-4522-908B-7199368BB45C"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-CF7976B4-41F4-41BA-821D-049F22BF21F9"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-DFBD3081-F2D8-4D20-BE1A-3B9903B30D24">评论</p>
                        <p>为输入内部LOB定位器启用LOB缓冲。下一次通过输入定位器从LOB读取数据或向LOB写入数据时，使用LOB缓冲子系统。</p>
                        <p>当远程定位器传递给它时， <code class="codeph">OCILobEnableBuffering()</code>会引发错误。
                        </p>
                        <p>如果为定位器启用了LOB缓冲并且该定位符被传递给其中一个例程，则会返回错误： <a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a> ， <a href="deprecated-oci-functions.html#GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobCopy（）</a> （不建议使用）， <a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a> ， <a href="deprecated-oci-functions.html#GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobErase（）</a> （不建议使用）， <a href="lob-functions.html#GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" title="从指定的偏移量开始擦除内部LOB数据的指定部分。">OCILobErase2（）</a> ， <a href="deprecated-oci-functions.html#GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobGetLength（）</a> （不建议使用）， <a href="lob-functions.html#GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" title="获取LOB的长度。此函数必须用于大小超过4 GB的LOB。">OCILobGetLength2（）</a> ， <a href="deprecated-oci-functions.html#GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobLoadFromFile（）</a> （不建议使用）， <a href="lob-functions.html#GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" title="将全部或部分文件加载并复制到内部LOB中。此函数必须用于大小超过4 GB的LOB。">OCILobLoadFromFile2（）</a> ， <a href="deprecated-oci-functions.html#GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobTrim（）</a> （不建议使用）， <a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a> ， <a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a> （不建议使用）或<a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a> 。
                        </p>
                        <p>此函数不接受<code class="codeph">BFILE</code>定位器。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a></li>
                           <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a></li>
                           <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a></li>
                           <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></li>
                           <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17186"></a><div class="props_rev_3"><a id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" name="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36"></a><h4 id="LNOCI-GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" class="sect4"><span class="enumeration_section">E.3.4</span> OCILobErase（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36__GUID-612AA631-2D37-43AB-AB83-A08E725798F1">目的</p>
                        <p>从指定的偏移量开始擦除内部LOB数据的指定部分。不推荐使用此功能。使用<code class="codeph">OCILobErase2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36__GUID-9101F981-79E7-411D-8BDF-5324495C1BB0">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobErase（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amount，ub4 offset）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36__GUID-A9A8DDD0-63F4-410F-AB9C-AB870BC70DCF">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" title="从指定的偏移量开始擦除内部LOB数据的指定部分。">OCILobErase2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1"></a><h4 id="LNOCI-GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" class="sect4"><span class="enumeration_section">E.3.5</span> OCILobFlushBuffer（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-D9F4B84B-16FB-474F-9E26-4F9ADB28D649">目的</p>
                        <p>将此LOB的所有缓冲区刷新或写入服务器。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-BB4A8B11-5F75-4755-9320-EECCEAA3DC76">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFlushBuffer（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp ub4标志）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-24F577FA-0CAE-4593-8D74-48CAE8411404">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-0BEF398B-F21D-48AE-B7F4-A7E85AD4F2D5"><!-- --></a> svchp（IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-01B2FCE3-4573-413D-897D-0A86CEBB133F"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-7AA63F71-A29E-4B01-A880-D34600DF32E0"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部定位器。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-706EA210-D251-4D7F-9471-A6EAFF639F52"><!-- --></a>标志（IN）</dt>
                           <dd>
                              <p>当此标志设置为<code class="codeph">OCI_LOB_BUFFER_FREE</code> ，刷新后释放LOB的缓冲区资源。请参阅“评论”部分。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-580911CB-DB87-4E18-A4C0-1DA615CDE900">评论</p>
                        <p>刷新服务器对缓冲子系统所做的更改，这些更改与输入定位器引用的LOB相关联。该例程实际上将缓冲区中的数据写入数据库中的LOB。必须已为输入LOB定位器启用LOB缓冲。</p>
                        <p>当远程定位器传递给它时， <code class="codeph">OCILobFlushBuffer()</code>会抛出错误。
                        </p>
                        <p>默认情况下，刷新操作不会释放缓冲区资源以重新分配到另一个缓冲的LOB操作。要显式释放缓冲区，可以将flag参数设置为<code class="codeph">OCI_LOB_BUFFER_FREE</code> 。</p>
                        <p>如果客户端应用程序打算在刷新之后读取缓冲区值并且事先知道缓冲区中的当前值是期望值，则不需要从服务器重新读取数据。</p>
                        <p>释放缓冲区的效果对用户来说几乎是透明的，除了下一次访问LOB中的相同范围涉及到服务器的往返，并且获取缓冲区资源和初始化缓冲区需要增加成本。从LOB读取的数据。此选项适用于具有低板载内存的客户端环境。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></li>
                           <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a></li>
                           <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a></li>
                           <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></li>
                           <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17199"></a><div class="props_rev_3"><a id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" name="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124"></a><h4 id="LNOCI-GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" class="sect4"><span class="enumeration_section">E.3.6</span> OCILobGetLength（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124__GUID-783F99E0-2D84-471E-9A8C-ED280F10AFD7">目的</p>
                        <p>获取LOB的长度。不推荐使用此功能。使用<code class="codeph">OCILobGetLength2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124__GUID-60389E58-7C64-4B18-8C97-487D2CFE6316">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobGetLength（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * lenp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124__GUID-505219A2-1E1A-4D34-BB2C-673931E615A5">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" title="获取LOB的长度。此函数必须用于大小超过4 GB的LOB。">OCILobGetLength2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17207"></a><div class="props_rev_3"><a id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" name="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6"></a><h4 id="LNOCI-GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" class="sect4"><span class="enumeration_section">E.3.7</span> OCILobLoadFromFile（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6__GUID-F8A2F8C1-1216-4186-BCB3-8BE6A5ADA258">目的</p>
                        <p>将全部或部分文件加载并复制到内部LOB中。不推荐使用此功能。使用<code class="codeph">OCILobLoadFromFile2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6__GUID-767FD40C-259F-4D02-A1C5-9F9358D40465">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobLoadFromFile（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * dst_locp，OCILobLocator * src_locp，ub4 amount，ub4 dst_offset，ub4 src_offset）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6__GUID-4F7AB405-669C-4794-B15D-40A50D14CBCF">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" title="将全部或部分文件加载并复制到内部LOB中。此函数必须用于大小超过4 GB的LOB。">OCILobLoadFromFile2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17213"></a><a id="LNOCI17212"></a><div class="props_rev_3"><a id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03"></a><h4 id="LNOCI-GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" class="sect4"><span class="enumeration_section">E.3.8</span> OCILobRead（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-E05382D0-14D0-406A-8CFE-AD82DC78CD27">目的</p>
                        <p>将调用所指定的LOB或<code class="codeph">BFILE</code>的一部分读入缓冲区。不推荐使用此功能。使用<code class="codeph">OCILobRead2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-7E668BDB-51FF-45C7-B673-2B44F43865C3">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobRead（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amtp，ub4 offset，void * bufp，ub4 bufl，void * ctxp，OCICallbackLobRead（cbfp）（void * ctxp，const void * bufp，ub4 len， ub1 piece）ub2 csid，ub1 csfrm）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-A551AFC1-324B-4A71-B57C-46082845C467">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-9F94A8BF-E5A2-4D37-9032-0D43E7083E19"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-84CAEADE-134B-4669-AF65-D70B2D2594F8"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-1FFD4E7D-D22A-4B5D-82CE-1770CFB2913E"><!-- --></a> <span class="bold">locp</span> （IN）</dt>
                           <dd>
                              <p>唯一引用LOB或<code class="codeph">BFILE</code> LOB或<code class="codeph">BFILE</code>定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-EDA99AF5-5F3F-406F-A669-B1477EF9A792"><!-- --></a> <span class="bold">amtp</span> （IN / OUT）</dt>
                           <dd>
                              <p><code class="codeph">amtp</code>的值是字节或字符的数量，如<a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__CIHDFFII" title="该表有4列。第1列是LOB或BFILE，第2列是输入，第3列是使用固定宽度的客户端字符集输出，第4列是以不同宽度的客户端字符集输出。">表E-5所示</a> 。
                              </p>
                           </dd>
                        </dl>
                        <div class="tblformal" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__CIHDFFII">
                           <p class="titleintable">表E-5 OCILobRead（）的amtp中的字符或字节</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OCILobRead（）的amtp中的字符或字节" width="100%" border="1" summary="This table has 4 columns. Column 1 is LOB or BFILE, column 2 is input, column 3 is output with fixed-width client-side character set, and column 4 is output with varying-width client-side character set." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d383975e5021">LOB或BFILE</th>
                                    <th align="left" valign="bottom" width="14%" id="d383975e5024">输入</th>
                                    <th align="left" valign="bottom" width="30%" id="d383975e5027">具有固定宽度客户端字符集的输出</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e5030">使用Varying-Width客户端字符集输出</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d383975e5035" headers="d383975e5021 ">
                                       <p><code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> s</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d383975e5035 d383975e5024 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="30%" headers="d383975e5035 d383975e5027 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e5035 d383975e5030 ">
                                       <p>字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d383975e5053" headers="d383975e5021 ">
                                       <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d383975e5053 d383975e5024 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="30%" headers="d383975e5053 d383975e5027 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e5053 d383975e5030 ">
                                       <p>bytes <a id="fn_1" name="fn_1" href="#fn_1" the="" input="" amount="" refers="" to="" number="" of="" characters="" be="" read="" from="" server-side="" clob="" or="" nclob.="" output="" indicates="" how="" many="" bytes="" were="" into="" buffer="" bufp=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>输入量是指从服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>读取的字符数。输出量表示读入缓冲区<code class="codeph">bufp</code>字节<code class="codeph">bufp</code> 。
                           </p>
                        <p></p>
                        <p>参数<code class="codeph">amtp</code>是在以下情况下读取的数据总量：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在流模式下不读取数据（只读取一个并且没有轮询或回调）</p>
                           </li>
                           <li>
                              <p>使用回调以流模式读取数据</p>
                           </li>
                        </ul>
                        <p>参数<code class="codeph">amtp</code>是使用轮询以流模式读取数据时读取的最后一个片段的长度。
                        </p>
                        <p>如果要读取的数量大于缓冲区长度，则假定从输入偏移量直到LOB结束，或者直到读取指定的字节数，以流式模式读取LOB，以先到者为准第一。在输入时，如果该值为0，则从输入偏移量直到LOB结束以流模式读取数据。</p>
                        <p>流模式（使用轮询或回调实现）从输入偏移量顺序读取LOB值。</p>
                        <p>如果数据是以片段形式读取的，则<code class="codeph">amtp</code>参数始终包含刚刚读取的片段的长度。
                        </p>
                        <p>如果定义了回调函数，则每次从管道读取<code class="codeph">bufl</code>字节时<code class="codeph">bufl</code>调用此回调函数。每个部分都写入<code class="codeph">bufp</code> 。
                        </p>
                        <p>如果未定义回调函数，则返回<code class="codeph">OCI_NEED_DATA</code>错误代码。应用程序必须<code class="codeph">OCILobRead()</code>调用<code class="codeph">OCILobRead()</code>以读取更多LOB片段，直到不返回<code class="codeph">OCI_NEED_DATA</code>错误代码。如果将片段读入不同的大小和位置，则每次调用中的缓冲区指针和长度可以不同。
                        </p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-35796827-34F2-46FC-80F1-CA913782F473"><!-- --></a> <span class="bold">偏移量</span> （IN）</dt>
                           <dd>
                              <p>输入时，这是从LOB值开始的绝对偏移量。对于字符LOB（ <code class="codeph">CLOB</code> s， <code class="codeph">NCLOB</code> s），它是从LOB开始的字符数，对于二进制LOB或<code class="codeph">BFILE</code>它是字节数。第一个位置是1。
                              </p>
                              <p>如果使用流式传输（通过轮询或回调），请在第一次调用中指定偏移量;在后续轮询调用中，忽略offset参数。使用回调时，没有偏移参数。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-B275576B-9903-4488-8B2E-9AE6C52DE0CE"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                           <dd>
                              <p>指向读取片段的缓冲区的指针。假定分配的内存的长度为<code class="codeph">bufl</code> 。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-1930E611-F040-4CA2-9992-15204ABCF0FA"><!-- --></a> <span class="bold">bufl</span> （IN）</dt>
                           <dd>
                              <p>以八位字节为单位的缓冲区长度。该值从不同<code class="codeph">amtp</code>为值<code class="codeph">CLOB</code> S和用于<code class="codeph">NCLOB</code> S（ <code class="codeph">csfrm</code> = <code class="codeph">SQLCS_NCHAR</code> ）当<code class="codeph">amtp</code>中的字符条款指定参数，并且<code class="codeph">bufl</code>参数以字节为单位指定。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-133883BB-FFD6-4E8B-8CD1-E63073A24E77"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文指针。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-63988663-03CD-4D18-85FF-1D17B06061DD"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                           <dd>
                              <p>可以注册为每个部分调用的回调。如果这是<code class="codeph">NULL</code> ，则为每个部分返回<code class="codeph">OCI_NEED_DATA</code> 。
                              </p>
                              <p>回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续读取。如果返回任何其他错误代码，则终止LOB读取。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-B2A75BF7-CBA0-48B5-A965-75B4CD317192"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-06FCFFDD-5BC4-43F9-9FBE-563134609468"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                           <dd>
                              <p>这件作品的缓冲指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-0C01A921-9331-497B-B55E-87E100FBD663"><!-- --></a> <span class="bold">len</span> （IN）</dt>
                           <dd>
                              <p><code class="codeph">bufp</code>当前段的长度（以字节为<code class="codeph">bufp</code> 。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-4F8B2BAB-8059-4221-BAC6-7C3B4B9592C6"><!-- --></a> <span class="bold">件</span> （IN）</dt>
                           <dd>
                              <p>哪一块： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-CA5A34F4-2B69-4C40-BAD3-6D4D0288F422"><!-- --></a> <span class="bold">csid</span> （IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。除非服务器和客户端具有相同的设置，否则永远不会假定它是服务器的字符集。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-C96CCC0C-2360-4A7F-9A09-A91099701983"><!-- --></a> <span class="bold">csfrm（IN）</span></dt>
                           <dd>
                              <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                              <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                                 </li>
                              </ul>
                              <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。如果未指定<code class="codeph">csfrm</code> ，则假定为默认值。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-F97FDE8F-AE3E-48E6-BD57-5C30E841E7D3">评论</p>
                        <p>将调用指定的LOB或<code class="codeph">BFILE</code>的一部分读入缓冲区。尝试从<code class="codeph">NULL</code> LOB或<code class="codeph">BFILE</code>读取是错误的。</p>
                        <div class="infoboxnote" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-3C1EBC7F-3AA0-4F31-B73A-89487C111AE6">
                           <p class="notep1">注意：</p>
                           <p>读取或写入LOB时，请指定与定位器本身的形式匹配的字符集形式（ <code class="codeph">csfrm</code> ）。
                           </p>
                        </div>
                        <p>对于<code class="codeph">BFILE</code> ，操作系统文件必须存在于服务器上，并且必须由<a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a>或<a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a>使用输入定位器打开。Oracle数据库必须具有读取操作系统文件的权限，并且用户必须具有目录对象的读取权限。
                        </p>
                        <p>当您对<code class="codeph">OCILobRead()</code>使用轮询模式时，第一个调用必须指定<code class="codeph">offset</code>和<code class="codeph">amtp</code>值，但是在对<code class="codeph">OCILobRead()</code>后续轮询调用中，您不需要指定这些值。
                        </p>
                        <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                        </p>
                        <div class="infoboxnote" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-44A225FD-9509-4B8D-80DB-A1614E24A568">
                           <p class="notep1">注意：</p>
                           <p>要终止<code class="codeph">OCILobRead()</code>操作并释放语句句柄，请使用<a href="miscellaneous-functions.html#GUID-A414B5DE-07A3-4593-A448-B6023F87C2D0" title="执行立即异步中断。">OCIBreak（）</a>调用。
                           </p>
                        </div>
                        <p>以下内容适用于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的客户端变宽字符集：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用轮询模式时，请确保仅在第一次调用<code class="codeph">OCILobRead()</code>指定<code class="codeph">amtp</code>和<code class="codeph">offset</code>参数。在后续轮询调用中，将忽略这些参数。
                              </p>
                           </li>
                           <li>
                              <p>使用回调时，输入到回调的<code class="codeph">len</code>参数指示缓冲区中填充的字节数。在回调处理期间检查<code class="codeph">len</code>参数，因为整个缓冲区无法填充数据。
                              </p>
                           </li>
                        </ul>
                        <p>以下内容适用于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的客户端固定宽度字符集和服务器端变宽字符集：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>读取<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>值时，请在每次调用<code class="codeph">OCILobRead()</code>后查看<code class="codeph">amtp</code>参数，以查看填充了多少缓冲区。当返回值以字符为单位时（如客户端字符集为固定宽度时），则将此值转换为字节并确定填充缓冲区的数量。使用回调时，请始终检查<code class="codeph">len</code>参数以查看填充了多少缓冲区。该值始终以字节为单位。
                              </p>
                           </li>
                        </ul>
                        <p>要读取UTF-16格式的数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了<code class="codeph">csid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-89B4B916-A4B5-4627-B9E5-1DC961009ECF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                           </li>
                           <li>
                              <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI呼吁完成民意调查。">OCI中的轮询模式操作</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17217"></a><div class="props_rev_3"><a id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" name="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20"></a><h4 id="LNOCI-GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" class="sect4"><span class="enumeration_section">E.3.9</span> OCILobTrim（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20__GUID-6F6C79F8-E9B4-49DA-B83A-9170B18485B8">目的</p>
                        <p>将LOB值截断为较短的长度。不推荐使用此功能。使用<a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20__GUID-B109E713-854E-4823-A84A-2B07B178A3F7">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobTrim（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 newlen）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20__GUID-08EA40B2-0686-4884-816D-CB9753A2686F">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17220"></a><a id="LNOCI17219"></a><div class="props_rev_3"><a id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854"></a><h4 id="LNOCI-GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" class="sect4"><span class="enumeration_section">E.3.10</span> OCILobWrite（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-540BE7E6-6F2B-4534-8815-D5C5877C6ED3">目的</p>
                        <p>将缓冲区写入LOB。不推荐使用此功能。使用<code class="codeph">OCILobWrite2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-479AB3F1-D8F4-421B-B185-78C8B813A2E6">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobWrite（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amtp，ub4 offset，void * bufp，ub4 buflen，ub1 piece，void * ctxp，OCICallbackLobWrite（cbfp）（void * ctxp，void * bufp，ub4 * lenp，ub1 * piecep）ub2 csid，ub1 csfrm）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-C7FCB9FA-D003-4683-835B-BF27418783F8">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-F5692DBD-4D30-4B45-B81B-E955F61B31B4"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-DD2D9A63-36ED-4F96-9A96-BA9CF6B15462"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-67778583-65EC-4BCE-B3AD-CC3A2DDC5C38"><!-- --></a> <span class="bold">locp</span> （IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-5B686A9D-AFE9-4D4B-8017-B03D8EC493FE"><!-- --></a> <span class="bold">amtp</span> （IN / OUT）</dt>
                           <dd>
                              <p><code class="codeph">amtp</code>的值是字节或字符的数量，如<a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__CIHFHDAB" title="该表有4列。第1列是LOB或BFILE，第2列是输入固定宽度的客户端字符集，第3列是输入宽度不同的客户端字符集，第4列是输出。">表E-6所示</a> 。
                              </p>
                           </dd>
                        </dl>
                        <div class="tblformal" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__CIHFHDAB">
                           <p class="titleintable">表E-6 OCILobWrite的amtp中的字符或字节（）</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OCILobWrite（）的amtp中的字符或字节" width="100%" border="1" summary="This table has 4 columns. Column 1 is LOB or BFILE, column 2 is input with fixed-width client-side character set, and column 3 is input with varying-width client-side character set, and column 4 is output." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d383975e6035">LOB或BFILE</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6038">使用固定宽度客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6041">使用Varying-Width客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="13%" id="d383975e6044">产量</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6049" headers="d383975e6035 ">
                                       <p><code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> s</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6049 d383975e6038 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6049 d383975e6041 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6049 d383975e6044 ">
                                       <p>字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6067" headers="d383975e6035 ">
                                       <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6067 d383975e6038 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6067 d383975e6041 ">
                                       <p>bytes <a id="fn_2" name="fn_2" href="#fn_2" data="" the="" input="" amount="" refers="" to="" number="" of="" bytes="" that="" user="" wants="" write="" into="" lob="" and="" not="" in="" bufp,="" which="" is="" specified="" by="" buflen.="" if="" written="" pieces,="" may="" be="" larger="" than="" output="" characters="" server-side="" clob="" or="" nclob=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6067 d383975e6044 ">
                                       <p>人物</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p>输入量是指用户想要写入LOB的数据的字节数，而不是<code class="codeph">bufp</code>中由<code class="codeph">buflen</code>指定的字节数。如果数据是<code class="codeph">buflen</code>写入的， <code class="codeph">buflen</code>写入的字节数可能大于<code class="codeph">buflen</code> 。输出量是指写入服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数。</p>
                        <p></p>
                        <p>这应该<span class="italic">始终</span>是非<code class="codeph">NULL</code>指针。如果要指定write-until-end-of-file，则必须声明一个变量，将其设置为零，并为此参数传递其地址。
                        </p>
                        <p>如果在输入中指定了数量，并且数据是<code class="codeph">amtp</code>写入的，则参数<code class="codeph">amtp</code>包含在调用结束时写入的部分的总长度（最后一部分写入），并且在两者之间未定义。请注意，它与分段读取的情况不同。如果未将该金额发送到服务器，则会返回错误。
                        </p>
                        <p>如果<code class="codeph">amtp</code>为零，则假定为流模式，并且在用户指定<code class="codeph">OCI_LAST_PIECE</code>之前写入数据。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-82143EA4-606A-4B65-86EA-562E1CF2B955"><!-- --></a> <span class="bold">偏移量</span> （IN）</dt>
                           <dd>
                              <p>在输入时，它是从LOB值开始的绝对偏移量。对于字符LOB，它是从LOB开始的字符数;对于二进制LOB，它是字节数。第一个位置是1。</p>
                              <p>如果使用流式传输（通过轮询或回调），请在第一次调用中指定偏移量;在后续轮询调用中，忽略offset参数。使用回调时，没有偏移参数。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-5B3D49EE-6F6E-4AEB-8A3E-477514BE0267"><!-- --></a> <span class="bold">bufp</span> （IN）</dt>
                           <dd>
                              <p>指向写入片段的缓冲区的指针。缓冲区中数据的长度假定为<code class="codeph">buflen</code>传递的值。即使使用轮询方法将数据<code class="codeph">bufp</code>写入，当调用此调用时， <code class="codeph">bufp</code>必须包含LOB的第一部分。如果提供回调， <code class="codeph">bufp</code>不得使用<code class="codeph">bufp</code>来提供数据或错误结果。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-4A83CE3C-A4B0-48C3-8843-38F8E6132BAB"><!-- --></a> <span class="bold">buflen</span> （IN）</dt>
                           <dd>
                              <p>缓冲区中数据的长度（以字节为单位）。当使用<code class="codeph">amtp</code>指定<code class="codeph">amtp</code>参数时，此值与<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的<code class="codeph">amtp</code>值不同，并且<code class="codeph">buflen</code>参数以字节为单位指定。
                              </p>
                              <div class="infoboxnote" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-BE02CF68-FA7B-4E97-8FCE-35AD48E93C09">
                                 <p class="notep1">注意：</p>
                                 <p>此参数假定为8位字节。如果操作系统使用较长的字节，则必须相应地调整<code class="codeph">buflen</code>的值。
                                 </p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-D20270EE-A5E7-4392-A302-FF494E13FF62"><!-- --></a> <span class="bold">件</span> （IN）</dt>
                           <dd>
                              <p>正在编写哪个缓冲区。此参数的默认值为<code class="codeph">OCI_ONE_PIECE</code> ，表示缓冲区是单个写入的。对于分段或回调模式，以下其他值也是可能的： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>和<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-24FB0584-825F-459B-B748-D203C9620684"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-88BF21B1-FB07-4B8D-B021-4096C9AD2E1E"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                           <dd>
                              <p>可以注册为在分段写入中为每个片段调用的回调。如果为<code class="codeph">NULL</code> ，则使用标准轮询方法。
                              </p>
                              <p>回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续写入。如果返回任何其他错误代码，则终止LOB写入。回调采用以下参数：</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-CF21F381-105A-4A39-8242-7DF0B09311BE"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-7D5C32D5-597C-4FFD-8945-FB163710CF35"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                           <dd>
                              <p>这件作品的缓冲指针。这与作为<code class="codeph">OCILobWrite()</code>例程的输入传递的<code class="codeph">bufp</code>相同。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-302F761F-B315-4289-803B-7A7BC5A746D5"><!-- --></a> <span class="bold">lenp</span> （IN / OUT）</dt>
                           <dd>
                              <p>缓冲区（IN）中数据的长度（以字节为单位），以及<code class="codeph">bufp</code> （OUT）中当前块的长度（以字节为单位）。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-684F059C-A1BA-4A84-AD43-C93E274AEDE2"><!-- --></a> <span class="bold">piecep</span> （OUT）</dt>
                           <dd>
                              <p>哪一块： <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-4F008A69-C061-4228-A48E-0D94B75E4EC9"><!-- --></a> csid（IN）</dt>
                           <dd>
                              <p>缓冲区中数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-D2E2AD87-B2D4-45DC-80C5-7B88647C4B4C"><!-- --></a> csfrm（IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                              <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">SQLCS_NCHAR</code> - <code class="codeph">NCHAR</code>字符集ID</p>
                           </li>
                        </ul>
                        <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-7C082686-E615-4416-B779-6B10086E6F89">评论</p>
                        <p>将缓冲区写入指定的内部LOB。如果存在LOB数据，则会用存储在缓冲区中的数据覆盖它。缓冲区可以通过此调用以单件形式写入LOB，也可以使用回调或标准轮询方法分段提供。</p>
                        <div class="infoboxnote" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-040BE9E1-955F-4B2A-BDEC-BA47A65C6589">
                           <p class="notep1">注意：</p>
                           <p>读取或写入LOB时，请指定与定位器本身的形式匹配的字符集形式（ <code class="codeph">csfrm</code> ）。
                           </p>
                        </div>
                        <p>当您对<code class="codeph">OCILobWrite()</code>使用轮询模式时，第一个调用必须指定<code class="codeph">offset</code>和<code class="codeph">amtp</code>值，但是在对<code class="codeph">OCILobWrite()</code>后续轮询调用中，您不需要指定这些值。
                        </p>
                        <p>如果<code class="codeph">piece</code>参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则可能需要通过回调或轮询提供数据。
                        </p>
                        <p>如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后，将调用此回调函数以获取下一个片段。每篇文章都是用<code class="codeph">bufp</code>编写的。如果没有定义回调函数，则<code class="codeph">OCILobWrite()</code>返回<code class="codeph">OCI_NEED_DATA</code>错误代码。应用程序必须再次调用<code class="codeph">OCILobWrite()</code>来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。
                        </p>
                        <p>无论是否使用轮询或回调方法， <code class="codeph">OCI_LAST_PIECE</code>的<code class="codeph">piece</code>值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                        </p>
                        <p>如果传递给Oracle数据库的数据量（通过任一输入机制）小于<code class="codeph">amtp</code>参数指定的数量，则返回ORA-22993错误。
                        </p>
                        <p>此功能仅对内部LOB有效。不允许使用<code class="codeph">BFILE</code> ，因为它们是只读的。如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                        </p>
                        <p>如果客户端字符集是变宽，则输入量以字节为单位，输出量以字符为单位表示<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> 。输入量是指用户想要写入LOB的数据的字节数，而不是<code class="codeph">bufp</code>中由<code class="codeph">buflen</code>指定的字节数。如果数据是<code class="codeph">buflen</code>写入的， <code class="codeph">buflen</code>写入的字节数可能大于<code class="codeph">buflen</code> 。输出量是指写入服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数。</p>
                        <p>要以UTF-16格式写入数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了<code class="codeph">csid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                        </p>
                        <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交或回滚事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                        <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-15AEE649-0B43-4921-9B67-74A17ABCCEAF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                           </li>
                           <li>
                              <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                           </li>
                           <li>
                              <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a></p>
                           </li>
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI呼吁完成民意调查。">OCI中的轮询模式操作</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17223"></a><a id="LNOCI17222"></a><div class="props_rev_3"><a id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8"></a><h4 id="LNOCI-GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" class="sect4"><span class="enumeration_section">E.3.11</span> OCILobWriteAppend（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-291BDEE1-1D2C-4BBB-858B-DE61346CF7A9">目的</p>
                        <p>从LOB结尾开始写入数据。不推荐使用此功能。使用<a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-AE561979-DF44-4C0D-8191-5E08C96489E8">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobWriteAppend（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amtp，void * bufp，ub4 buflen，ub1 piece，void * ctxp，OCICallbackLobWrite（cbfp）（void * ctxp，void * bufp，ub4 * lenp， ub1 * piecep）ub2 csid，ub1 csfrm）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-80B5BABE-C8C4-43AB-AA80-58C0154917E2">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-D3D60590-DDCE-4E77-8784-F28B771AC152"><!-- --></a> svchp（IN）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-C8FF80B5-A42C-4293-ADA9-BB61AF88EBF9"><!-- --></a> errhp（输入/输出）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-ADEBFD7A-DB1D-441F-9389-86185F81BE21"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-85149587-050A-4E89-94BA-643DABCC2320"><!-- --></a> amtp（IN / OUT）</dt>
                           <dd>
                              <p><code class="codeph">amtp</code>的值是字节或字符的数量，如<a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__CIHJGDCI" title="该表有4列。第1列是LOB或BFILE，第2列是输入固定宽度的客户端字符集，第3列是输入宽度不同的客户端字符集，第4列是输出。">表E-7所示</a> 。
                              </p>
                           </dd>
                        </dl>
                        <div class="tblformal" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__CIHJGDCI">
                           <p class="titleintable">表E-7 OCILobWriteAppend（）的amtp中的字符或字节</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OCILobWriteAppend（）的amtp中的字符或字节" width="100%" border="1" summary="This table has 4 columns. Column 1 is LOB or BFILE, column 2 is input with fixed-width client-side character set, and column 3 is input with varying-width client-side character set, and column 4 is output." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d383975e6769">LOB或BFILE</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6772">使用固定宽度客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6775">使用Varying-Width客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="13%" id="d383975e6778">产量</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6783" headers="d383975e6769 ">
                                       <p><code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> s</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6783 d383975e6772 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6783 d383975e6775 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6783 d383975e6778 ">
                                       <p>字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6801" headers="d383975e6769 ">
                                       <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6801 d383975e6772 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6801 d383975e6775 ">
                                       <p>bytes <a id="fn_3" name="fn_3" href="#fn_3" data="" the="" input="" amount="" refers="" to="" number="" of="" bytes="" that="" user="" wants="" write="" into="" lob="" and="" not="" in="" bufp,="" which="" is="" specified="" by="" buflen.="" if="" written="" pieces,="" may="" be="" larger="" than="" output="" characters="" server-side="" clob="" or="" nclob=")" ="" onclick="footdisplay(3, "><sup>脚3</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6801 d383975e6778 ">
                                       <p>人物</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注3</sup></p><p>输入量是指用户想要写入LOB的数据的字节数，而不是<code class="codeph">bufp,</code>中由<code class="codeph">buflen</code>指定的字节数。如果数据是<code class="codeph">buflen</code>写入的， <code class="codeph">buflen</code>写入的字节数可能大于<code class="codeph">buflen</code> 。输出量是指写入服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数。</p>
                        <p></p>
                        <p>如果在输入中指定了数量，并且数据是<code class="codeph">amtp</code>写入的，则参数<code class="codeph">amtp</code>包含在调用结束时写入的部分的总长度（最后一部分写入），并且在两者之间未定义。（注意它与分段读取情况不同）。如果未将该金额发送到服务器，则会返回错误。如果<code class="codeph">amtp</code>为零，则假定为流模式，并且在用户指定<code class="codeph">OCI_LAST_PIECE</code>之前写入数据。</p>
                        <p>如果客户端字符集的宽度是变宽的，那么对于<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> ，输入量以字节为单位，而不是字符。
                        </p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-8BA6F9B8-6DC3-4811-AC54-0AA06675DAC7"><!-- --></a> bufp（IN）</dt>
                           <dd>
                              <p>指向写入片段的缓冲区的指针。缓冲区中数据的长度假定为<code class="codeph">buflen</code>传递的值。即使数据是<code class="codeph">bufp</code>编写的，当调用此调用时， <code class="codeph">bufp</code>必须包含LOB的第一部分。如果提供回调，则不得使用bufp来提供数据或错误结果。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-5F58598D-6D12-4E74-BBC4-EA00D4F717FF"><!-- --></a> buflen（IN）</dt>
                           <dd>
                              <p>缓冲区中数据的长度（以字节为单位）。请注意，此参数假定为8位字节。如果您的操作系统使用较长的字节，则必须相应地调整<code class="codeph">buflen</code>的值。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-C83BBBCB-211E-472D-BA0D-3E5F75612153"><!-- --></a>件（IN）</dt>
                           <dd>
                              <p>正在编写哪个缓冲区。此参数的默认值为<code class="codeph">OCI_ONE_PIECE</code> ，表示缓冲区是单个写入的。对于分段或回调模式，以下其他值也是可能的： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>和<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-D1EC9B33-9AB0-4B93-B454-6797E3CC3E13"><!-- --></a> ctxp（IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-71A00317-13C2-48DD-B55C-5C7A0268C1F8"><!-- --></a> cbfp（IN）</dt>
                           <dd>
                              <p>可以注册为在分段写入中为每个片段调用的回调。如果为<code class="codeph">NULL</code> ，则使用标准轮询方法。回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续写入。如果返回任何其他错误代码，则终止LOB写入。回调采用以下参数：</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-08449DE5-7BEF-45B1-AA5E-4697DD90097A"><!-- --></a> ctxp（IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-F94CE5F8-B3E6-4E1C-90B3-58A9B3576A7D"><!-- --></a> bufp（IN / OUT）</dt>
                           <dd>
                              <p>这件作品的缓冲指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-8CEFB604-A602-44E8-8507-A2CC49A47F22"><!-- --></a> <span class="bold">lenp</span> （IN / OUT）</dt>
                           <dd>
                              <p>缓冲区（IN）中数据的长度（以字节为单位），以及<code class="codeph">bufp</code> （OUT）中当前块的长度（以字节为单位）。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-D85A2BA7-EAB9-4769-8D05-047C35335A73"><!-- --></a> <span class="bold">piecep</span> （OUT）</dt>
                           <dd>
                              <p>哪一块： <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-80FB4F9C-B89D-403F-86F0-32FE47B1EA3B"><!-- --></a> csid（IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集ID。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-8C5FD1AA-555B-459B-BD31-E0C148EC994F"><!-- --></a> csfrm（IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集形式。</p>
                              <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">SQLCS_NCHAR</code> - <code class="codeph">NCHAR</code>字符集ID</p>
                           </li>
                        </ul>
                        <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-65DAD48C-B00B-4D76-9B3E-A9226995F915">评论</p>
                        <p>缓冲区可以通过此调用以单件形式写入LOB，也可以使用回调或标准轮询方法分段提供。如果piece参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则必须通过回调或轮询提供数据。如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后，将调用此回调函数以获取下一个片段。每篇文章都是用<code class="codeph">bufp</code>编写的。如果没有定义回调函数，则<code class="codeph">OCILobWriteAppend()</code>返回<code class="codeph">OCI_NEED_DATA</code>错误代码。
                        </p>
                        <p>应用程序必须再次调用<code class="codeph">OCILobWriteAppend()</code>来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。片段值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                        </p>
                        <p>如果启用了LOB缓冲，则不支持<code class="codeph">OCILobWriteAppend()</code> 。
                        </p>
                        <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                        </p>
                        <p>如果客户端字符集的宽度是变宽的，那么对于<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> ，输入量以字节为单位，而不是字符。
                        </p>
                        <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交或回滚事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                        <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-7C874EE5-AEEB-44A1-B78C-A60958A73A57">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="lobs-and-bfile-operations.html#GUID-8C5ABC9E-3048-49AE-BFE3-DB4CB1A63AB3" title="如何提高LOB读/写性能。">关于提高LOB读/写性能</a></p>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNOCI72899"></a><a id="LNOCI72898"></a><div class="props_rev_3"><a id="GUID-282CD889-9951-43BB-A37A-A5CB04E46B99" name="GUID-282CD889-9951-43BB-A37A-A5CB04E46B99"></a><h3 id="LNOCI-GUID-282CD889-9951-43BB-A37A-A5CB04E46B99" class="sect3"><span class="enumeration_section">E.4</span>不推荐使用的数据库高级排队功能</h3>
               <div>
                  <p>描述不推荐使用的Oracle数据库高级队列功能。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-282CD889-9951-43BB-A37A-A5CB04E46B99__CEGEBIBB" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-8</a>列出了本节中描述的已弃用的数据库高级队列功能。
                  </p>
                  <div class="tblformal" id="GUID-282CD889-9951-43BB-A37A-A5CB04E46B99__CEGEBIBB">
                     <p class="titleintable">表E-8不推荐使用的数据库高级排队功能</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的数据库高级排队功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d383975e7281">功能</th>
                              <th align="left" valign="bottom" width="69%" id="d383975e7284">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d383975e7289" headers="d383975e7281 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIAQListen（）</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d383975e7289 d383975e7284 ">
                                 <p>代表代理列表收听一个或多个队列。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI17230"></a><div class="props_rev_3"><a id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777"></a><h4 id="LNOCI-GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" class="sect4"><span class="enumeration_section">E.4.1</span> OCIAQListen（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-4187BEFB-0714-4561-9A31-592401B84719">目的</p>
                        <p>代表代理列表侦听一个或多个队列。不推荐使用此功能。使用<code class="codeph">OCIAQListen2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-2DDB15A2-C09C-4DAA-BF76-0308EF4A4E28">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAQListen（OCISvcCtx * svchp，OCIError * errhp，OCIAQAgent ** agent_list，ub4 num_agents，sb4 wait，OCIAQAgent ** agent，ub4 flags）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-EC66BBA2-16A7-4447-A84B-6D40AABC3EC7">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-20A2C261-439F-4F8E-98FD-1BDEF20785FE"><!-- --></a> <span class="bold">svchpp</span> （IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-963E839F-0686-411A-AC10-98F82E4381C2"><!-- --></a> <span class="bold">errhp</span> （IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-9A9907D7-DC75-4A38-9722-F52F795791A7"><!-- --></a> agent_list（IN）</dt>
                           <dd>
                              <p>要监视消息的代理列表。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-BC577229-F097-4D8D-93FE-AD391869D87A"><!-- --></a> num_agents（IN）</dt>
                           <dd>
                              <p>代理列表中的代理数量。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-8C67B4F9-BEE1-4AF9-8BDE-8CF076355667"><!-- --></a>等待（IN）</dt>
                           <dd>
                              <p>侦听呼叫的超时间隔。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-600E88BC-BA20-4C14-806B-284ABF88FF65"><!-- --></a>代理（OUT）</dt>
                           <dd>
                              <p>有消息的代理。<code class="codeph">OCIAgent</code>是OCI描述符。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-E223CCE3-C51F-4780-974B-18B999D71BF4"><!-- --></a>标志（IN）</dt>
                           <dd>
                              <p>目前尚未使用;传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-0E783909-8080-410E-83CC-4462D3D55BA5">评论</p>
                        <p>这是一个阻塞调用，当有消息准备好为列表中的代理程序使用时返回。如果在等待时间到期时没有找到消息，则返回错误。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>