<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>SQL转换框架配置</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Translation and Migration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Translation and Migration Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-translation-and-migration-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T06:11:48-08:00"></meta>
      <meta name="dcterms.title" content="SQL Translation and Migration Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2011, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96457-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SQL-translation-framework-overview.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SQL-translation-JDBC-ODBC-applications.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DRDAA"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQL-translation-framework-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SQL-translation-JDBC-ODBC-applications.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL转换和迁移指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL转换框架配置</li>
            </ol>
            <a id="GUID-5E9591F6-4648-400F-B5A5-C81DE9E97421" name="GUID-5E9591F6-4648-400F-B5A5-C81DE9E97421"></a><a id="DRDAA132"></a>
            
            <h2 id="DRDAA-GUID-5E9591F6-4648-400F-B5A5-C81DE9E97421" class="sect2"><span class="enumeration_chapter">3</span> SQL转换框架配置</h2>
         </header>
         <div class="ind">
            <div>
               <p>可以使用Oracle SQL Developer或命令行界面安装和配置SQL Translation Framework。在任何一种情况下，用户都必须具有安装SQL Translator所需的权限。</p>
            </div><a id="DRDAA134"></a><div class="props_rev_3"><a id="GUID-24D2E765-D761-4B52-AE61-90200497B4C2" name="GUID-24D2E765-D761-4B52-AE61-90200497B4C2"></a><h3 id="DRDAA-GUID-24D2E765-D761-4B52-AE61-90200497B4C2" class="sect3">使用Oracle SQL Developer安装和配置SQL Translation Framework</h3>
               <div>
                  <div class="section">
                     <p>您可以使用Oracle SQL Developer 3.2中的DBA Navigator来安装和管理翻译器和翻译配置文件。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DRDAA29138"></a><div class="props_rev_3"><a id="GUID-AD96486C-9669-4A93-B3D8-BB9D089F57AD" name="GUID-AD96486C-9669-4A93-B3D8-BB9D089F57AD"></a><h4 id="DRDAA-GUID-AD96486C-9669-4A93-B3D8-BB9D089F57AD" class="sect4">Oracle SQL Developer迁移支持概述</h4>
                  <div>
                     <p>SQL Translation框架是作为Oracle Database安装的一部分安装的。但是，必须将其配置为识别应用程序的非Oracle SQL方言，并且必须至少安装一个转换程序才能充分利用该框架。</p>
                     <p>在使用SQL转换功能之前，必须迁移数据，架构，存储过程，触发器和视图。Oracle通过Oracle SQL Developer功能实现数据库模式迁移和数据迁移。Oracle SQL Developer通过使用迁移向导简化了将非Oracle数据库迁移到Oracle数据库的过程。迁移向导通过迁移数据库涉及的各个阶段提供方便，全面的指导。</p>
                     <p>Oracle SQL Developer从源非Oracle数据库中捕获信息，并将其显示在捕获的模型中，该模型表示源数据库的结构。此表示存储在迁移存储库中，该存储库是Oracle SQL Developer用于存储迁移信息的架构对象的集合。</p>
                     <p>存储库中的信息用于生成转换后的模型，该模型表示目标数据库的结构，因为它将在Oracle数据库中实现。然后，您可以使用捕获的模型和转换的模型中的信息来比较数据库对象，识别与Oracle保留字的冲突，以及管理迁移进度。准备好迁移时，生成Oracle架构对象，然后迁移数据。</p>
                     <p>本节介绍如何执行启用自动运行时迁移的后续任务。这些示例使用SQL Translator和一个针对Sybase数据库运行的JDBC应用程序;它们可以很容易地适应其他客户端/数据库配置。请注意，Oracle SQL Developer附带已安装的Sybase转换程序。</p>
                     <p>有关更多信息，请参见“ <span><cite>Oracle SQL Developer用户指南”</cite></span> 。
                     </p>
                  </div>
               </div><a id="DRDAA29139"></a><div class="props_rev_3"><a id="GUID-B9587A50-EB71-4914-A5F1-AD57455BEC48" name="GUID-B9587A50-EB71-4914-A5F1-AD57455BEC48"></a><h4 id="DRDAA-GUID-B9587A50-EB71-4914-A5F1-AD57455BEC48" class="sect4">设置适用于Windows的Oracle SQL Developer 3.2</h4>
                  <div>
                     <div class="section">
                        <p>Oracle SQL Developer 3.2附带Oracle Database <span class="italic">11g</span> JDBC驱动程序，此版本中没有适用于Windows的客户端。如果您使用的是Windows系统，则必须启用Oracle SQL Developer 3.2才能使用Oracle Database 12 <span class="italic">c</span> JDBC驱动程序，以便启用当前版本的所有功能。执行以下步骤以实现此目的：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将<code class="codeph">sqldeveloper\jdbc\lib</code>文件夹重命名为<code class="codeph">sqldeveloper\jdbc\lib_11g</code> 。
                              </p>
                           </li>
                           <li>
                              <p>创建一个新的空文件夹作为<code class="codeph">sqldeveloper\jdbc\lib</code> 。
                              </p>
                           </li>
                           <li>
                              <p>将Oracle Database 12 <span class="italic">c</span> JDBC JAR文件解压缩到新的<code class="codeph">sqldeveloper\jdbc\lib</code>文件夹中。
                              </p>
                              <p>有关Oracle Database 12 <span class="italic">c</span> JDBC文件的更多信息，请参见“ <a href="../jjdbc/JDBC-getting-started.html#JJDBC28050" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南”</span></a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DRDAA29628"></a><div class="props_rev_3"><a id="GUID-0DA3E6DF-954D-481C-9FD4-D40D3D65E47D" name="GUID-0DA3E6DF-954D-481C-9FD4-D40D3D65E47D"></a><h5 id="DRDAA-GUID-0DA3E6DF-954D-481C-9FD4-D40D3D65E47D" class="sect5">设置Oracle SQL Developer 3.2启动</h5>
                     <div>
                        <div class="section">
                           <p>Oracle SQL Developer自动使用任何<code class="codeph">ORACLE_HOME\client</code>目录中的JDBC驱动程序。要覆盖此行为，使Oracle SQL Developer中使用JDBC驱动程序中<code class="codeph">sqldeveloper\jdbc\lib</code>目录下，创建一个新的<code class="codeph">sqldeveloper.bat</code>在文件<code class="codeph">sqldeveloper</code>目录：</p><pre class="oac_no_warn" dir="ltr">设置ORACLE_HOME =％CD％启动sqldeveloper.exe</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DRDAA29142"></a><a id="DRDAA29629"></a><div class="props_rev_3"><a id="GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3" name="GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3"></a><h5 id="DRDAA-GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3" class="sect5">启动Oracle SQL Developer</h5>
                     <div>
                        <div class="section">
                           <p>运行<code class="codeph">sqldeveloper.bat</code>文件以运行Oracle SQL Developer。
                           </p>
                           <p>要检查JDBC驱动程序配置：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>从<span class="bold">帮助</span>菜单中选择<span class="bold">关于</span> 。</span></li>
                           <li class="stepexpand"><span>选择<span class="bold">属性</span> 。它必须显示<a href="SQL-translation-framework-configuration.html#GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3__CBHCGJJB">如图3-1</a>所示的配置：</span><div>
                                 <div class="figure" id="GUID-2E1E2A2C-D6B1-4456-A4E0-2641B0D7DCA3__CBHCGJJB">
                                    <p class="titleinfigure">图3-1检查Oracle SQL Developer的JDBC配置</p><img width="474" src="img/startsqldevwin.gif" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/startsqldevwin.html"><br><a href="img_text/startsqldevwin.html">“图3-1检查Oracle SQL Developer的JDBC配置”的说明</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="DRDAA29144"></a><a id="DRDAA29145"></a><a id="DRDAA29146"></a><a id="DRDAA29143"></a><div class="props_rev_3"><a id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44" name="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44"></a><h4 id="DRDAA-GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44" class="sect4">创建与Oracle数据库的连接</h4>
                  <div>
                     <div class="section">
                        <p>使用凭据创建与数据库的连接， <a href="SQL-translation-framework-configuration.html#GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHEBHBD">如图3-2</a>所示：</p>
                        <div class="figure" id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHEBHBD">
                           <p class="titleinfigure">图3-2创建Oracle数据库连接</p><img width="421" src="img/createconorcl.gif" alt="下面是图3-2的描述" title="下面是图3-2的描述" longdesc="img_text/createconorcl.html"><br><a href="img_text/createconorcl.html">“图3-2创建Oracle数据库连接”的说明</a></div>
                        <!-- class="figure" -->
                        <p>您可以使用以下命令检查所连接的数据库和正在使用的JDBC驱动程序：</p><pre class="oac_no_warn" dir="ltr">显示jdbc</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__GUID-1536A9AD-D343-4188-8103-0B292C17A5CA">设置迁移首选项</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您必须按以下方式设置迁移首选项：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从工具菜单中选择<span class="bold">首选项</span> 。</span></li>
                        <li><span>选择从<span class="bold">迁移</span>选项<span class="bold">生成选项</span>左侧面板上，如图<a href="SQL-translation-framework-configuration.html#GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHCCIBB">图3-3</a> 。</span></li>
                     </ol>
                     <div class="section">
                        <div class="figure" id="GUID-7F88A629-EBD8-4B16-8D32-EA3B6CF7AC44__CBHCCIBB">
                           <p class="titleinfigure">图3-3在Oracle SQL Developer中设置迁移首选项</p><img width="357" src="img/setuppref.gif" alt="下面是图3-3的描述" title="下面是图3-3的描述" longdesc="img_text/setuppref.html"><br><a href="img_text/setuppref.html">“图3-3在Oracle SQL Developer中设置迁移首选项”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAA29147"></a><div class="props_rev_3"><a id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116" name="GUID-377C0593-EE49-4CAA-908D-1127AD25B116"></a><h4 id="DRDAA-GUID-377C0593-EE49-4CAA-908D-1127AD25B116" class="sect4">测试SQL翻译</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以确定是否正确安装了Sybase SQL转换程序：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>打开Oracle SQL Developer。</span></li>
                        <li class="stepexpand"><span>从“ <span class="bold">工具”</span>菜单中，选择“ <span class="bold">迁移”</span> ，然后选择“ <span class="bold">Translation Scratch Editor”</span> 。</span><div>
                              <div class="figure" id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116__GUID-ECDAF6D9-4D18-4B08-B524-9A76C1B9EA05"><img width="489" src="img/sql_dev_01.gif" alt="下面是sql_dev_01.gif的描述" title="下面是sql_dev_01.gif的描述" longdesc="img_text/sql_dev_01.html"><br><a href="img_text/sql_dev_01.html">插图描述sql_dev_01.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>在Scratch Editor工具栏中，选择<span class="bold">Sybase T_SQL To PL / SQL</span>选项，它是Sybase转换程序。</span><div>
                              <div class="figure" id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116__GUID-513BC19D-0B8C-47E6-AE8E-D4F50E787B35"><img width="428" src="img/sql_dev_02.gif" alt="下面是sql_dev_02.gif的描述" title="下面是sql_dev_02.gif的描述" longdesc="img_text/sql_dev_02.html"><br><a href="img_text/sql_dev_02.html">插图描述sql_dev_02.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>在<span class="bold">Scratch Editor</span>的左侧面板中，在Sybase SQL方言中输入以下查询：</span><div><pre class="oac_no_warn" dir="ltr">从双重中选择前10 *</pre></div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">翻译”</span>图标。</span><div>
                              <p>已翻译的查询文本显示在编辑器的右侧面板中。</p>
                              <div class="figure" id="GUID-377C0593-EE49-4CAA-908D-1127AD25B116__GUID-7BCD62EB-D07D-47C1-BCA8-CDCC5C838F85"><img width="512" src="img/sql_dev_03.gif" alt="下面是sql_dev_03.gif的描述" title="下面是sql_dev_03.gif的描述" longdesc="img_text/sql_dev_03.html"><br><a href="img_text/sql_dev_03.html">插图描述sql_dev_03.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DRDAA29148"></a><div class="props_rev_3"><a id="GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC" name="GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC"></a><h4 id="DRDAA-GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC" class="sect4">创建翻译配置文件并安装SQL转换程序</h4>
                  <div>
                     <div class="section">
                        <p>Oracle SQL Developer随Oracle Database 12 <span class="italic">c</span>一起安装。它将Sybase Translator的Java类（大约15 MB）加载到Oracle数据库中。由于加载的Java类的大小和数量，Oracle建议您在本地安装转换器，而不是通过WAN安装。</p>
                        <p>如果转换程序安装在具有预先存在的迁移存储库的用户配置文件下，则转换程序将获取数据库的上下文，例如名称更改。因此，您必须使用以下规范创建新用户：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CONNECT</code> ， <code class="codeph">RESOURCE</code>和<code class="codeph">CREATE VIEW</code>权限</p>
                           </li>
                           <li>
                              <p>访问<code class="codeph">SYSTEM</code>和/或<code class="codeph">USER</code>表空间中的存储</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DRDAA29630"></a><div class="props_rev_3"><a id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9" name="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9"></a><h5 id="DRDAA-GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9" class="sect5">安装SQL转换程序</h5>
                     <div>
                        <div class="section">
                           <p>要安装SQL Translator：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">ADMIN</code>权限登录数据库。</span></li>
                           <li class="stepexpand" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__CBHFIJDE"><span>在命令行中，输入以下命令。</span><div><pre class="oac_no_warn" dir="ltr">GRANT CONNECT，RESOURCE，CREATE VIEW由<span class="italic">TranslUser</span>确定<span class="italic">TranslUser;</span> ALTER USER <span class="italic">TranslUser</span> QUOTA UNLIMITED ON SYSTEM;</pre></div>
                           </li>
                           <li class="stepexpand"><span>从“视图”菜单中，选择“ <span class="bold">DBA”</span> 。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-97FB592D-2D1A-4694-B929-2A722783B8E5"><img width="386" src="img/sql_dev_04.gif" alt="下面是sql_dev_04.gif的描述" title="下面是sql_dev_04.gif的描述" longdesc="img_text/sql_dev_04.html"><br><a href="img_text/sql_dev_04.html">插图说明sql_dev_04.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>在DBA Navigator中，右键单击“ <span class="bold">连接”，</span>然后选择“ <span class="bold">添加连接”。</span></span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-1E4CFCE3-E480-4CE7-9318-8F92DC0E2CE4"><img width="393" src="img/sql_dev_05.gif" alt="下面是sql_dev_05.gif的描述" title="下面是sql_dev_05.gif的描述" longdesc="img_text/sql_dev_05.html"><br><a href="img_text/sql_dev_05.html">插图说明sql_dev_05.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“ <span class="bold">选择连接”</span>框中，如果要使用现有连接，请选择连接。如果要创建新连接，请添加步骤<a href="SQL-translation-framework-configuration.html#GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__CBHFIJDE">2中</a>讨论的<code class="codeph">transluser</code>的信息。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-E43D4647-3255-4D93-AAEE-4EDC4D1D432C"><img width="396" src="img/sql_dev_06.gif" alt="下面是sql_dev_06.gif的描述" title="下面是sql_dev_06.gif的描述" longdesc="img_text/sql_dev_06.html"><br><a href="img_text/sql_dev_06.html">插图描述sql_dev_06.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击<span class="bold">连接</span> 。</span></li>
                           <li class="stepexpand"><span>在DBA导航器中，右键单击前面步骤中创建的连接，然后选择“ <span class="bold">安装SQL转换程序”</span> 。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-5DCF6AFE-C6CE-47EF-9D87-36BA8E59463E"><img width="397" src="img/sql_dev_07.gif" alt="下面是sql_dev_07.gif的描述" title="下面是sql_dev_07.gif的描述" longdesc="img_text/sql_dev_07.html"><br><a href="img_text/sql_dev_07.html">插图描述sql_dev_07.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>将打开“安装SQL转换器”对话框。</p>
                                 <p>您必须具有特殊权限才能安装SQL转换程序并创建SQL转换配置文件。系统将提示您提供<code class="codeph">SYS</code>密码，以便授予这些权限。有关这些权限的更多信息，请参阅<span class="q">“ <a href="SQL-translation-framework-configuration.html#GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1">授予安装SQL转换程序的必要权限</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>按照<span class="q">“ <a href="SQL-translation-framework-configuration.html#GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35">创建翻译配置文件</a> ”中</span>描述的步骤创建SQL翻译配置<span class="q"><a href="SQL-translation-framework-configuration.html#GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35">文件</a></span> 。</span></li>
                           <li class="stepexpand"><span>验证用户是否具有足够的权限来运行翻译配置文件。</span><div>
                                 <p>您可能必须以<code class="codeph">SYS</code>用户身份登录才能授予其他权限。
                                 </p>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-42C0C183-784C-47D5-9734-198DDF9C2096"><img width="313" src="img/sql_dev_09.gif" alt="下面是sql_dev_09.gif的描述" title="下面是sql_dev_09.gif的描述" longdesc="img_text/sql_dev_09.html"><br><a href="img_text/sql_dev_09.html">插图描述sql_dev_09.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>安装SQL转换程序。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-3097CFFC-2BF1-44B6-98D7-8168DE99B419"><img width="273" src="img/sql_dev_10.gif" alt="下面是sql_dev_10.gif的描述" title="下面是sql_dev_10.gif的描述" longdesc="img_text/sql_dev_10.html"><br><a href="img_text/sql_dev_10.html">插图说明sql_dev_10.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>要确保正确安装Profile和Translator，请在Connections窗格中验证是否存在相应的包和Java类文件。</span><div>
                                 <div class="figure" id="GUID-CE1582C4-90F9-4846-8357-1E7D429CD1A9__GUID-54519736-3554-4336-BBDD-FE3FD42D2D01"><img width="176" src="img/sql_dev_11.gif" alt="下面是sql_dev_11.gif的描述" title="下面是sql_dev_11.gif的描述" longdesc="img_text/sql_dev_11.html"><br><a href="img_text/sql_dev_11.html">插图说明sql_dev_11.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="DRDAA29631"></a><div class="props_rev_3"><a id="GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35" name="GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35"></a><h5 id="DRDAA-GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35" class="sect5">创建翻译配置文件</h5>
                     <div>
                        <div class="section">
                           <p>要创建翻译配置文件：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>从SQL Translator下拉框中，选择<span class="bold">Sybase</span>或<span class="bold">SQL Translator</span> 。</span></li>
                           <li><span>选中<span class="bold">创建新配置文件</span> 。</span></li>
                           <li><span>在“配置文件名称”字段中输入<span class="italic"><span class="bold"><code class="codeph">SYBASE_PROFILE</code></span></span> 。</span></li>
                           <li><span>在“配置文件架构”中，选择<span class="q">“ <a href="SQL-translation-framework-configuration.html#GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC">创建转换配置文件和安装SQL转换器</a> ”</span>部分中<span class="q"><a href="SQL-translation-framework-configuration.html#GUID-51F2127B-6F2D-43F9-B135-ABFF0AF4A4BC">创建</a></span>的用户的名称。</span></li>
                           <li><span>单击“ <span class="bold">应用”</span></span></li>
                        </ol>
                        <div class="section">
                           <div class="figure" id="GUID-0A81A9CC-ADDD-41F4-8F65-2E77EB528E35__GUID-80C0FE47-0858-4D26-AB93-E5AEAC182A3F"><img width="323" src="img/sql_dev_08.gif" alt="下面是sql_dev_08.gif的描述" title="下面是sql_dev_08.gif的描述" longdesc="img_text/sql_dev_08.html"><br><a href="img_text/sql_dev_08.html">插图描述sql_dev_08.gif</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DRDAA29149"></a><div class="props_rev_3"><a id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B" name="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B"></a><h4 id="DRDAA-GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B" class="sect4">使用SQL转换程序配置文件</h4>
                  <div>
                     <div class="section">
                        <p>要测试SQL转换配置文件，请使用SQL工作表：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>右键单击<code class="codeph">SYBASE_PROFILE</code>节点。</span></li>
                        <li class="stepexpand"><span>选择“ <span class="bold">打开带有配置文件的SQL工作表</span></span></li>
                        <li class="stepexpand"><span>输入要翻译的T-SQL语句。</span><div>
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-FC367077-5108-4D15-96EB-55DFAFDD7E99"><img width="511" src="img/sql_dev_17.gif" alt="下面是sql_dev_17.gif的描述" title="下面是sql_dev_17.gif的描述" longdesc="img_text/sql_dev_17.html"><br><a href="img_text/sql_dev_17.html">插图描述sql_dev_17.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<code class="codeph">SYBASE_PROFILE</code>并选择SQL Translation选项卡以检查配置文件并查看已翻译的语句。</span><div>
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-5EA226DB-6D34-4695-AE9B-25123D6F83E1"><img width="495" src="img/sql_dev_14.gif" alt="下面是sql_dev_14.gif的描述" title="下面是sql_dev_14.gif的描述" longdesc="img_text/sql_dev_14.html"><br><a href="img_text/sql_dev_14.html">插图描述sql_dev_14.gif</a></div>
                              <!-- class="figure" -->
                              <p>当您双击它时，以更好的方式查看配置文件SQL的另一种方法是，在Translation Scratch Editor中打开指纹和模板，如下图所示：</p>
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-36FA1383-4497-40C3-99D2-851312C7EFBC"><img width="412" src="img/sql_dev_15.gif" alt="下面是sql_dev_15.gif的描述" title="下面是sql_dev_15.gif的描述" longdesc="img_text/sql_dev_15.html"><br><a href="img_text/sql_dev_15.html">插图说明sql_dev_15.gif</a></div>
                              <!-- class="figure" -->
                              <div class="figure" id="GUID-9D14AFD9-FA8F-45CC-B3E4-CC8B52CA980B__GUID-1C47107D-3C3D-4318-8E47-FAD6DC6CDAC9"><img width="412" src="img/sql_dev_16.gif" alt="下面是sql_dev_16.gif的描述" title="下面是sql_dev_16.gif的描述" longdesc="img_text/sql_dev_16.html"><br><a href="img_text/sql_dev_16.html">插图说明sql_dev_16.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="DRDAA29150"></a><div class="props_rev_3"><a id="GUID-3334EE42-B7BF-4BB6-A119-AAF538357CE1" name="GUID-3334EE42-B7BF-4BB6-A119-AAF538357CE1"></a><h3 id="DRDAA-GUID-3334EE42-B7BF-4BB6-A119-AAF538357CE1" class="sect3">从命令行安装和配置SQL Translation Framework</h3>
               <div>
                  <div class="section">
                     <p>要从命令行界面成功安装和配置SQL Translation Framework，必须完成几个过程。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DRDAA29151"></a><div class="props_rev_3"><a id="GUID-39583A4A-1A8F-43E5-A94D-6ACB479322C4" name="GUID-39583A4A-1A8F-43E5-A94D-6ACB479322C4"></a><h4 id="DRDAA-GUID-39583A4A-1A8F-43E5-A94D-6ACB479322C4" class="sect4">安装Oracle Sybase Translator</h4>
                  <div>
                     <div class="section">
                        <p>要安装Oracle Sybase Translator，请使用Oracle SQL Developer，如<span class="q">“</span>使用Oracle SQL Developer <span class="q"><a href="SQL-translation-framework-configuration.html#GUID-24D2E765-D761-4B52-AE61-90200497B4C2">安装和配置SQL Translation Framework</a> ”中所述</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAA29152"></a><div class="props_rev_3"><a id="GUID-EBB19CA3-5836-4657-8310-A93DD05EB8FC" name="GUID-EBB19CA3-5836-4657-8310-A93DD05EB8FC"></a><h4 id="DRDAA-GUID-EBB19CA3-5836-4657-8310-A93DD05EB8FC" class="sect4">设置SQL翻译配置文件</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以通过命令行界面设置SQL转换配置文件：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以<code class="codeph">system</code>用户身份登录。</span><div><pre class="oac_no_warn" dir="ltr">&gt; sqlplus system / <span class="italic">&lt;密码&gt;</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>授予标准用户创建权限。</span><div>
                              <p>这允许标准用户创建SQL翻译配置文件。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; grant create sql translation profile to <span class="italic">&lt;user&gt;</span> ;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以标准用户身份登录。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">&lt;user</span> &gt; / <span class="italic">&lt;password&gt;</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>调用<code class="codeph">DBMS_SQL_TRANSLATOR</code> PL / SQL包的方法来创建和配置转换配置文件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; exec dbms_sql_translator.create_profile（'sybase_profile'）SQL&gt; exec dbms_sql_translator.set_attribute（'sybase_profile'，dbms_sql_translator.attr_translator，'migration_repo.sybase_tsql_translator'）</pre></div>
                        </li>
                        <li class="stepexpand"><span>将SQL转换配置文件的所有权限授予Oracle Sybase转换架构。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt;将所有sql转换配置文件sybase_profile授予migration_repo;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DRDAA29154"></a><a id="DRDAA29153"></a><div class="props_rev_3"><a id="GUID-7CF468AE-1017-4731-9670-4A751FBD668A" name="GUID-7CF468AE-1017-4731-9670-4A751FBD668A"></a><h4 id="DRDAA-GUID-7CF468AE-1017-4731-9670-4A751FBD668A" class="sect4">设置数据库服务以使用SQL转换配置文件</h4>
                  <div>
                     <div class="section">
                        <p>本节介绍如何在标准环境和Oracle Real Application Clusters环境中添加数据库服务。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7CF468AE-1017-4731-9670-4A751FBD668A__GUID-8BB8F2D5-E4F1-4995-A538-0896B728DB71">在标准环境中设置数据库服务</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要在标准环境中设置数据库服务：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以DBA身份登录</span></li>
                        <li class="stepexpand"><span>发出以下命令以使用<code class="codeph">DBMS_SERVICE</code> PL / SQL包创建和调用数据库服务：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; declare params dbms_service.svc_parameter_array; begin params（'SQL_TRANSLATION_PROFILE'）：='user.sybase_profile'; dbms_service.create_service（'sybase_service'，'network_name'，params）; dbms_service.start_service（ 'sybase_service'）;结束; /</pre></div>
                        </li>
                     </ol>
                  </div><a id="DRDAA29632"></a><div class="props_rev_3"><a id="GUID-F285115D-CE1B-431E-980C-027EBE1376B3" name="GUID-F285115D-CE1B-431E-980C-027EBE1376B3"></a><h5 id="DRDAA-GUID-F285115D-CE1B-431E-980C-027EBE1376B3" class="sect5">在Oracle Real Application Clusters中设置数据库服务</h5>
                     <div>
                        <div class="section">
                           <p>要在Oracle Real Application Clusters中设置数据库服务：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>添加数据库服务：</span><div><pre class="oac_no_warn" dir="ltr">srvctl add service -db db_name -service sybase_service -sql_translation_profile user.sybase_profile</pre></div>
                           </li>
                           <li class="stepexpand"><span>启动数据库服务：</span><div><pre class="oac_no_warn" dir="ltr">srvctl启动服务-db db_name -service sybase_service</pre></div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="DRDAA29156"></a><div class="props_rev_3"><a id="GUID-BFE85412-5AB7-4045-B44A-CD7B543E904A" name="GUID-BFE85412-5AB7-4045-B44A-CD7B543E904A"></a><h4 id="DRDAA-GUID-BFE85412-5AB7-4045-B44A-CD7B543E904A" class="sect4">使用SQL转换配置文件测试Sybase SQL转换</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤来测试翻译：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以标准用户身份登录：</span><div><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">用户</span> / <span class="italic">密码</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>在SQL提示符下指定SQL Translation Profile：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; alter session set sql_translation_profile = sybase_profile;</pre></div>
                        </li>
                        <li class="stepexpand"><span>强制数据库将SQL * Plus视为外部SQL应用程序：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; alter session set events ='10601永远跟踪名称上下文，级别32';</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行使用Sybase SQL方言的SQL查询。例如：</span><div><pre class="oac_no_warn" dir="ltr">从emp中选择前3 *;</pre></div>
                        </li>
                        <li class="stepexpand"><span>该查询返回以下结果：</span><div><pre class="oac_no_warn" dir="ltr"><span class="bold">EMPNO ENAME JOB MGR HIREDATE SAL COMM DEPTNO</span> <span class="bold">------------------------------------------ ----------------------------</span> <span class="bold">7369 SMITH CLERK 7902 17-DEC-80 800 20</span> <span class="bold">7499 ALLEN SALESMAN 7698 20-FEB-81 1600 300 30</span> <span class="bold">7521 WARD SALESMAN 7698 22-FEB-81 1250 500 30</span></pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="DRDAA29457"></a><div class="props_rev_3"><a id="GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1" name="GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1"></a><h3 id="DRDAA-GUID-E7C56B5D-546C-43B1-BF57-EF26140737B1" class="sect3">授予安装SQL转换程序的必要权限</h3>
               <div>
                  <div class="section">
                     <p>本节讨论安装SQL转换程序必须具有的权限。此处创建的<code class="codeph">SYBASE_PROFILE</code>具有以下两个用户：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MIGREP</code> ，安装了翻译器</p>
                        </li>
                        <li>
                           <p><code class="codeph">TARGET_USER</code> ，安装配置文件的位置</p>
                        </li>
                     </ul>
                     <p>授予安装SQL转换程序所需的权限：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以<code class="codeph">SYS</code>身份连接以授予所需权限：</span><div><pre class="oac_no_warn" dir="ltr">将sys / oracle连接为sysdba</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">MIGREP</code>创建视图并访问无限制配额：</span><div><pre class="oac_no_warn" dir="ltr">GRANT连接，资源，创建MIGREP视图; ALTER USER MIGREP QUOTA无限用户;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">TARGET_USER</code>创建视图并可以访问无限制的配额：</span><div><pre class="oac_no_warn" dir="ltr">GRANT连接，资源，创建视图到TARGET_USER;更改用户MIGREP QUOTA无限TARGET_USER;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">MIGREP</code>加载SQL转换器：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_JAVA.GRANT_PERMISSION（UPPER（'MIGREP'），'SYS：java.lang。RuntimePermission'，'getClassLoader'，''）;结束; /</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">TARGET_USER</code>创建配置文件：</span><div><pre class="oac_no_warn" dir="ltr">GRANT创建SQL TRANSLATION PROFILE到TARGET_USER;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许<code class="codeph">TARGET_USER</code>显式更改会话以使用配置文件：</span><div><pre class="oac_no_warn" dir="ltr">向TARGET_USER授予更多会话权;</pre><p>默认情况下，SQL Developer中未授予此权限。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>允许翻译人员参考个人资料：</span><div><pre class="oac_no_warn" dir="ltr">CONNECT TARGET_USER / TARGET_USER;将所有SQL转换配置文件SYBASE_PROFILE全部授予MIGREP;</pre></div>
                     </li>
                     <li class="stepexpand"><span>允许配置文件引用翻译者：</span><div><pre class="oac_no_warn" dir="ltr">连接MIGREP / MIGREP;在SYBASE_TSQL_TRANSLATOR上执行GRANT EXECUTE到TARGET_USER;</pre></div>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>