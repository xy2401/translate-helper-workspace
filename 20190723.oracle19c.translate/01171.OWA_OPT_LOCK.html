<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The OWA_OPT_LOCK package contains subprograms that impose optimistic locking strategies so as to prevent lost updates."></meta>
      <meta name="description" content="The OWA_OPT_LOCK package contains subprograms that impose optimistic locking strategies so as to prevent lost updates."></meta>
      <title>OWA_OPT_LOCK</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The OWA_OPT_LOCK package contains subprograms that impose optimistic locking strategies so as to prevent lost updates."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="OWA_IMAGE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="OWA_PATTERN.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="OWA_IMAGE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="OWA_PATTERN.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OWA_OPT_LOCK</li>
            </ol>
            <a id="GUID-457750A8-D0D7-4E62-BE64-DE2C9259AEC6" name="GUID-457750A8-D0D7-4E62-BE64-DE2C9259AEC6"></a><a id="ARPLS393"></a><a id="ARPLS393"></a>
            
            <h2 id="ARPLS-GUID-457750A8-D0D7-4E62-BE64-DE2C9259AEC6" class="sect2"><span class="enumeration_chapter">217</span> OWA_OPT_LOCK</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">OWA_OPT_LOCK</code>包中包含强制锁定策略的子程序，以防止丢失更新。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="OWA_OPT_LOCK.html#GUID-8D234EC3-FBD8-4083-9789-BBE74B1C8AE1" title="OWA_OPT_LOCK包中包含强制执行锁定策略的子程序，以防止丢失更新。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="OWA_OPT_LOCK.html#GUID-88B81229-2828-4A30-8715-29425C2E3639" title="此数据类型是用于保存ROWID的PL / SQL表。">类型</a></p>
                  </li>
                  <li>
                     <p><a href="OWA_OPT_LOCK.html#GUID-923ADE78-B5AD-4562-B63F-E1C25F8EF0E0" title="该表列出了OWA_OPT_LOCK子程序并简要描述了它们。">OWA_OPT_LOCK子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-457750A8-D0D7-4E62-BE64-DE2C9259AEC6__GUID-F4E0A3A4-F0F0-4ABA-BD00-165CBEE267DC">
                  <p class="notep1">也可以看看：</p>
                  <p>有关此程序包实现的更多信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=HSADM" target="_blank"><span class="italic">适用于Oracle HTTP Server的Oracle融合中间件管理员指南</span></a></p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=YPMOD" target="_blank"><span class="italic">适用于mod_plsql的Oracle融合中间件用户指南</span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS70697"></a><a id="ARPLS70697"></a><div class="props_rev_3"><a id="GUID-8D234EC3-FBD8-4083-9789-BBE74B1C8AE1" name="GUID-8D234EC3-FBD8-4083-9789-BBE74B1C8AE1"></a><h3 id="ARPLS-GUID-8D234EC3-FBD8-4083-9789-BBE74B1C8AE1" class="sect3"><span class="enumeration_section">217.1</span> OWA_OPT_LOCK概述</h3>
               <div>
                  <p>OWA_OPT_LOCK包中包含强制执行锁定策略的子程序，以防止丢失更新。</p>
                  <div class="section">
                     <p>它检查用户是否有兴趣更新的行是否已被其他人同时更改。 <a id="d1391685e222" class="indexterm-anchor"></a> 
                     </p>
                     <p>PL / SQL网关不能使用传统的数据库锁定方案，因为HTTP是无状态协议。<code class="codeph">OWA_OPT_LOCK</code>包为您提供了两种处理丢失更新问题的方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>隐藏字段方法将以前的值存储在HTML页面的隐藏字段中。当用户请求更新时，PL / SQL Gateway会根据数据库的当前状态检查这些值。仅在值匹配时才执行更新操作。要使用此方法，请调用owa_opt_lock.store_values过程。</p>
                        </li>
                        <li>
                           <p>校验和方法存储校验和而不是值本身。要使用此方法，请调用owa_opt_lock.checksum函数。</p>
                        </li>
                     </ul>
                     <p>这些方法很乐观。它们不会阻止其他用户执行更新，但如果发生了干预更新，它们会拒绝当前更新。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS70698"></a><a id="ARPLS70698"></a><div class="props_rev_3"><a id="GUID-88B81229-2828-4A30-8715-29425C2E3639" name="GUID-88B81229-2828-4A30-8715-29425C2E3639"></a><h3 id="ARPLS-GUID-88B81229-2828-4A30-8715-29425C2E3639" class="sect3"><span class="enumeration_section">217.2</span> OWA_TEXT类型</h3>
               <div>
                  <p>此数据类型是用于保存ROWID的PL / SQL表。</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">TYPE VCARRAY是由BINARY_INTEGER表达的VARCHAR2（2000）索引</pre><p>请注意，这与<code class="codeph">OWA_TEXT</code>不同。 <code class="codeph">VC_ARR DATA TYPE</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS70699"></a><a id="ARPLS70700"></a><a id="ARPLS70700"></a><a id="ARPLS70699"></a><div class="props_rev_3"><a id="GUID-923ADE78-B5AD-4562-B63F-E1C25F8EF0E0" name="GUID-923ADE78-B5AD-4562-B63F-E1C25F8EF0E0"></a><h3 id="ARPLS-GUID-923ADE78-B5AD-4562-B63F-E1C25F8EF0E0" class="sect3"><span class="enumeration_section">217.3</span> OWA_OPT_LOCK子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">OWA_OPT_LOCK</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-923ADE78-B5AD-4562-B63F-E1C25F8EF0E0__GUID-A302E612-73C8-4D2C-8AE5-C174F3FDE260">
                     <p class="titleintable">表217-1 OWA_OPT_LOCK包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OWA_OPT_LOCK包子程序" width="100%" border="1" summary="This table lists the OWA_OPT_LOCK subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d1391685e442">子程序</th>
                              <th align="left" valign="bottom" width="63%" id="d1391685e445">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1391685e450" headers="d1391685e442 ">
                                 <p><a href="OWA_OPT_LOCK.html#GUID-A121C296-BDBA-4499-B230-ED597AEFA375" title="此函数返回指定字符串或表中行的校验和值。对于表中的行，该函数根据行中列的值计算校验和值。此功能有两个版本。">CHECKSUM函数</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1391685e450 d1391685e445 ">
                                 <p>返回校验和值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1391685e468" headers="d1391685e442 ">
                                 <p><a href="OWA_OPT_LOCK.html#GUID-A697BAB0-FA2A-415B-A423-7813186C91C5" title="此函数从指定的OWA_OPT_LOCK.VCARRAY DATA TYPE返回ROWID数据类型。">GET_ROWID函数</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1391685e468 d1391685e445 ">
                                 <p>返回ROWID值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1391685e491" headers="d1391685e442 ">
                                 <p><a href="OWA_OPT_LOCK.html#GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3" title="此过程存储稍后要更新的行的列值。值存储在隐藏的HTML表单元素中。">STORE_VALUES程序</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1391685e491 d1391685e445 ">
                                 <p>在隐藏字段中存储未修改的值以供稍后验证</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1391685e503" headers="d1391685e442 ">
                                 <p><a href="OWA_OPT_LOCK.html#GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3" title="此函数验证自上次查询以来是否已更新指定行中的值。">VERIFY_VALUES函数</a></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1391685e503 d1391685e445 ">
                                 <p>根据修改的值验证存储的值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS70701"></a><a id="ARPLS70702"></a><a id="ARPLS70702"></a><a id="ARPLS70701"></a><div class="props_rev_3"><a id="GUID-A121C296-BDBA-4499-B230-ED597AEFA375" name="GUID-A121C296-BDBA-4499-B230-ED597AEFA375"></a><h4 id="ARPLS-GUID-A121C296-BDBA-4499-B230-ED597AEFA375" class="sect4"><span class="enumeration_section">217.3.1</span> CHECKSUM函数</h4>
                  <div>
                     <p>此函数返回指定字符串或表中行的<code class="codeph">checksum</code>值。对于表中的行，该函数根据行中列的值计算<code class="codeph">checksum</code>值。此功能有两个版本。
                     </p>
                     <div class="section">
                        <p>第一个版本根据指定的字符串返回<code class="codeph">checksum</code> 。这是由数据库执行并基于Internet 1协议的“纯”32位<code class="codeph">checksum</code>和。
                        </p>
                        <p>第二个版本根据表中行的值返回<code class="codeph">checksum</code> 。这是基于Internet 1协议的“不纯”32位校验和。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A121C296-BDBA-4499-B230-ED597AEFA375__GUID-FE923370-1DAA-472A-B5BC-0200B8AB374C">句法</p><pre class="oac_no_warn" dir="ltr">OWA_OPT_LOCK.CHECKSUM（p_buff IN VARCHAR2）返回号码; OWA_OPT_LOCK.CHECKSUM（p_owner IN VARCHAR2，p_tname IN VARCHAR2，p_rowid IN ROWID）返回数字;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A121C296-BDBA-4499-B230-ED597AEFA375__GUID-7E5DB9F7-9465-4471-BAE7-E848ED5C6D0D">参数</p>
                        <div class="tblformal" id="GUID-A121C296-BDBA-4499-B230-ED597AEFA375__GUID-78F5CC97-8F67-4E1B-8F8F-CDC13FDD5E67">
                           <p class="titleintable">表217-2 CHECKSUM功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHECKSUM函数参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_OPT_LOCK.CHECKSUM subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1391685e644">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1391685e647">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e652" headers="d1391685e644 ">
                                       <p><code class="codeph">p_buff</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e652 d1391685e647 ">
                                       <p>要计算<code class="codeph">checksum</code>的nstring。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e663" headers="d1391685e644 ">
                                       <p><code class="codeph">p_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e663 d1391685e647 ">
                                       <p>表的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e671" headers="d1391685e644 ">
                                       <p><code class="codeph">p_tname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e671 d1391685e647 ">
                                       <p>表名。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e679" headers="d1391685e644 ">
                                       <p><code class="codeph">p_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e679 d1391685e647 ">
                                       <p><code class="codeph">p_tname</code>中要计算<code class="codeph">checksum</code>值的行。使用<a href="OWA_OPT_LOCK.html#GUID-A697BAB0-FA2A-415B-A423-7813186C91C5" title="此函数从指定的OWA_OPT_LOCK.VCARRAY DATA TYPE返回ROWID数据类型。">GET_ROWID函数</a>将<code class="codeph">VCARRAY</code>值转换为正确的rowid。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70703"></a><a id="ARPLS70704"></a><a id="ARPLS70704"></a><a id="ARPLS70703"></a><div class="props_rev_3"><a id="GUID-A697BAB0-FA2A-415B-A423-7813186C91C5" name="GUID-A697BAB0-FA2A-415B-A423-7813186C91C5"></a><h4 id="ARPLS-GUID-A697BAB0-FA2A-415B-A423-7813186C91C5" class="sect4"><span class="enumeration_section">217.3.2</span> GET_ROWID函数</h4>
                  <div>
                     <p>此函数从指定的<code class="codeph">OWA_OPT_LOCK.VCARRAY</code> <code class="codeph">DATA</code> <code class="codeph">TYPE.</code>返回<code class="codeph">ROWID</code> <code class="codeph">DATA</code> <code class="codeph">TYPE.</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A697BAB0-FA2A-415B-A423-7813186C91C5__GUID-127621E0-D036-44D2-A96A-3304A12CE72D">句法</p><pre class="oac_no_warn" dir="ltr">OWA_OPT_LOCK.GET_ROWID（p_old_values IN vcarray）RETURN ROWID;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A697BAB0-FA2A-415B-A423-7813186C91C5__GUID-0A9D2354-8340-4065-92D1-26998E6A8F00">参数</p>
                        <div class="tblformal" id="GUID-A697BAB0-FA2A-415B-A423-7813186C91C5__GUID-AEF937C3-06CE-4D9E-9225-93E220DFA8B0">
                           <p class="titleintable">表217-3 GET_ROWID函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_ROWID函数参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_OPT_LOCK.GET_ROWID subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1391685e835">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1391685e838">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e843" headers="d1391685e835 ">
                                       <p><code class="codeph">p_old_values</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e843 d1391685e838 ">
                                       <p>此参数通常从HTML表单传入。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70705"></a><a id="ARPLS70706"></a><a id="ARPLS70706"></a><a id="ARPLS70705"></a><div class="props_rev_3"><a id="GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3" name="GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3"></a><h4 id="ARPLS-GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3" class="sect4"><span class="enumeration_section">217.3.3</span> STORE_VALUES过程</h4>
                  <div>
                     <p>此过程存储稍后要更新的行的列值。值存储在隐藏的HTML表单元素中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3__GUID-D51BAADA-EBEB-4058-999F-81FB5148D953">句法</p><pre class="oac_no_warn" dir="ltr">OWA_OPT_LOCK.STORE_VALUES（p_owner IN VARCHAR2，p_tname IN VARCHAR2，p_rowid IN ROWID）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3__GUID-0682CA97-5FF8-4F8C-83FE-6CFD81C5082E">参数</p>
                        <div class="tblformal" id="GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3__GUID-C438DF26-502C-40D8-98E7-F047C7640016">
                           <p class="titleintable">表217-4 STORE_VALUES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STORE_VALUES过程参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_OPT_LOCK.STORE_VALUES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1391685e960">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1391685e963">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e968" headers="d1391685e960 ">
                                       <p><code class="codeph">p_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e968 d1391685e963 ">
                                       <p>表的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e976" headers="d1391685e960 ">
                                       <p><code class="codeph">p_tname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e976 d1391685e963 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e984" headers="d1391685e960 ">
                                       <p><code class="codeph">p_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e984 d1391685e963 ">
                                       <p>要存储值的行。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3__GUID-267B31D0-062B-4830-8DE9-3A2390073985">使用说明</p>
                        <p>在更新行之前，将这些值与当前行值进行比较，以确保未更改行中的值。如果值已更改，您可以警告用户并让他们决定是否应该进行更新。</p>
                        <p>该过程生成一系列隐藏的表单元素：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为表所有者创建一个隐藏的表单元素。元素的名称是“ <span class="italic"><code class="codeph">old</code></span> <code class="codeph">_p_tname</code> ”，其中<code class="codeph">p_tname</code>是表的名称。元素的值是所有者名称。
                              </p>
                           </li>
                           <li>
                              <p>为表名创建一个隐藏的表单元素。元素的名称是“ <span class="italic"><code class="codeph">old</code></span> <code class="codeph">_p_tname</code> ”，其中<code class="codeph">p_tname</code>是表的名称。元素的值是表名。
                              </p>
                           </li>
                           <li>
                              <p>为行中的每个列创建一个元素。元素的名称是“ <span class="italic"><code class="codeph">old</code></span> <code class="codeph">_p_tname</code> ”，其中<code class="codeph">p_tname</code>是表的名称。元素的值是列值。
                              </p>
                           </li>
                        </ul>
                        <p>另请参见<a href="OWA_OPT_LOCK.html#GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3" title="此函数验证自上次查询以来是否已更新指定行中的值。">VERIFY_VALUES函数</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70707"></a><a id="ARPLS70708"></a><a id="ARPLS70708"></a><a id="ARPLS70707"></a><div class="props_rev_3"><a id="GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3" name="GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3"></a><h4 id="ARPLS-GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3" class="sect4"><span class="enumeration_section">217.3.4</span> VERIFY_VALUES函数</h4>
                  <div>
                     <p>此函数验证自上次查询以来是否已更新指定行中的值。</p>
                     <div class="section">
                        <p>将此函数与<a href="OWA_OPT_LOCK.html#GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3" title="此过程存储稍后要更新的行的列值。值存储在隐藏的HTML表单元素中。">STORE_VALUES过程一起使用</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3__GUID-46C28FD2-A58D-4438-8C20-DCE589B359F3">句法</p><pre class="oac_no_warn" dir="ltr">OWA_OPT_LOCK.VERIFY_VALUES（p_old_values IN vcarray）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3__GUID-1AEDCA09-5A01-4B5E-907F-AF7AE81FB901">参数</p>
                        <div class="tblformal" id="GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3__GUID-A506C0DA-5A46-469A-9912-1D27C0D2B11B">
                           <p class="titleintable">表<span class="italic"><span class="bold">217-5 VERIFY_VALUES函数参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="VERIFY_VALUES函数参数" width="100%" border="1" summary="This table describes the Parameters of the OWA_OPT_LOCK.VERIFY_VALUES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1391685e1166">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1391685e1169">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1391685e1174" headers="d1391685e1166 ">
                                       <p><code class="codeph">p_old_values</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1391685e1174 d1391685e1169 ">
                                       <p>包含以下信息的PL / SQL表：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">p_old_values(1)</code>指定表的所有者。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">p_old_values(2)</code>指定表。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">p_old_values(3)</code>指定要验证的行的rowid。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>其余索引包含表中列的值。</p>
                                       <p>通常，此参数从HTML表单传入，您之前调用<a href="OWA_OPT_LOCK.html#GUID-42B5E603-BFBB-4E4D-BD7D-CCBB1D901CD3" title="此过程存储稍后要更新的行的列值。值存储在隐藏的HTML表单元素中。">STORE_VALUES过程</a>将行值存储在隐藏的表单元素上。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B4ACCFA-AB04-4CF8-9EE9-893032A56FD3__GUID-E8DF7C11-AB51-4AB1-82DF-AA15D3DEE8A1">返回值</p>
                        <p>如果未执行其他更新，则为<code class="codeph">TRUE</code> ，否则为<code class="codeph">FALSE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>