<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBMS_INMEMORY_ADMIN provides interfaces for managing an In-Memory FastStart (IM FastStart) area and In-Memory Expressions (IM expressions)."></meta>
      <meta name="description" content="DBMS_INMEMORY_ADMIN provides interfaces for managing an In-Memory FastStart (IM FastStart) area and In-Memory Expressions (IM expressions)."></meta>
      <title>DBMS_INMEMORY_ADMIN</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="DBMS_INMEMORY_ADMIN provides interfaces for managing an In-Memory FastStart (IM FastStart) area and In-Memory Expressions (IM expressions)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_INMEMORY.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_IOT.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_INMEMORY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_IOT.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_INMEMORY_ADMIN</li>
            </ol>
            <a id="GUID-398720DF-7D8D-4418-B395-5F7C5FC85BC5" name="GUID-398720DF-7D8D-4418-B395-5F7C5FC85BC5"></a>
            
            <h2 id="ARPLS-GUID-398720DF-7D8D-4418-B395-5F7C5FC85BC5" class="sect2"><span class="enumeration_chapter">86</span> DBMS_INMEMORY_ADMIN</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_INMEMORY_ADMIN</code>提供用于管理内存中快速启动（IM FastStart）区域和内存中表达式（IM表达式）的接口。
               </p>
               <div class="section">
                  <p>本章包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6" title="该软件包提供用于管理内存中表达式（IM表达式）和内存中快速启动（IM FastStart）区域的接口。">DBMS_INMEMORY_ADMIN概述</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-B902CDB0-F058-43BA-8B15-19CD9F5878C7" title="此程序包需要管理员权限。包子程序以调用者的权利执行。">DBMS_INMEMORY_ADMIN安全模型</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-EB965630-C81A-484E-8F09-CA7A4EF6847B" title="DBMS_INMEMORY_ADMIN FastStart操作可能会失败或被中断。">DBMS_INMEMORY_ADMIN操作说明</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-EABB868D-C3A6-4BF7-B619-A0E59F035AC3" title="此表列出了DBMS_INMEMORY_ADMIN子程序并简要描述了它们。">DBMS_INMEMORY_ADMIN子程序的摘要</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-398720DF-7D8D-4418-B395-5F7C5FC85BC5__GUID-EF7D35C5-C224-4C09-AF94-E7371C26E096">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../inmem/intro-to-in-memory-column-store.html#GUID-BFA53515-7643-41E5-A296-654AB4A9F9E7" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a> ，了解有关Oracle Database In-Memory功能的更多信息</p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div class="props_rev_3"><a id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6" name="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6"></a><h3 id="ARPLS-GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6" class="sect3"><span class="enumeration_section">86.1</span> DBMS_INMEMORY_ADMIN概述</h3>
               <div>
                  <p>该软件包提供用于管理内存中表达式（IM表达式）和内存中快速启动（IM FastStart）区域的接口。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__GUID-A2667E0D-78F0-413D-BCBA-798F220D4D50">IM表达式</p>
                     <p>分析查询通常包含在执行期间消耗大量CPU和内存的复杂表达式或计算。使用<code class="codeph">IME_CAPTURE_EXPRESSIONS</code>标识这些常用（“热”）表达式和<code class="codeph">IME_POPULATE_EXPRESSIONS</code>以在IM列存储中填充它们。通过使用IM表达式，数据库避免了重复计算并提高了性能。
                     </p>
                     <p>数据库将IM表达式表示为系统生成的虚拟列。IM虚拟列的名称以<code class="codeph">SYS_IME</code> 。您还可以使用<code class="codeph">DBMS_INMEMORY_ADMIN.IME_DROP_ALL_EXPRESSIONS</code>和<code class="codeph">DBMS_INMEMORY.IME_DROP_EXPRESSIONS</code>删除现有的<code class="codeph">SYS_IME</code>列。
                     </p>
                     <p><code class="codeph">DBA_IM_EXPRESSIONS</code>视图显示具有<code class="codeph">INMEMORY</code>属性的<code class="codeph">SYS_IME</code>列。使用<code class="codeph">IME_CAPTURE_EXPRESSIONS</code>过程后，您可以查询此视图以查看添加到数据库中不同表的热表达式。
                     </p>
                     <div class="infoboxnotealso" id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__GUID-EF7D35C5-C224-4C09-AF94-E7371C26E096">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../inmem/optimizing-in-memory-expressions.html#GUID-5F82168D-A024-4F96-B3AF-7DA4C52908B8" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a>了解有关IM表达式的更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__GUID-3660E3EC-0278-4EB2-AF08-D295F9705EDE">IM FastStart区域</p>
                     <p>IM FastStart区域存储在数据库重新启动时优化IM列存储的填充的数据。由于数据库直接从持久存储中读取列数据而无需压缩或格式化，因此数据库实例重新启动时填充速度会更快。</p>
                     <p>为IM列存储启用IM FastStart时，必须为IM FastStart区域指定ASSM表空间。表空间将数据存储在名为<code class="codeph">SYSDBIMFS_LOGSEG$</code>的SecureFiles LOB中。<code class="codeph">SYSAUX</code>表空间存储元数据。在IM列存储中填充或重新填充数据时，数据库会自动将数据写入IM FastStart区域。您无法手动强制写入。如果将对象指定为<code class="codeph">NO INMEMORY</code> ，则数据库会将其从IM FastStart区域中删除。
                     </p>
                     <p>当IM FastStart区域处于空间压力下时，数据库会自动删除最旧的15％的段并继续保存列数据。如果空间不可用，则数据库将停止写入IM FastStart区域。</p>
                     <div class="infoboxnotealso" id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__GUID-FE756E4F-7900-4BDB-A2A6-CFC3C192B1D5">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../inmem/managing-im-faststart-for-im-column-store.html#GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a>了解有关IM表达式的更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__GUID-9FE9D5D6-98E4-474B-84D6-CEAEF8A433A3"><span>自动内存</span></p>
                     <p><span id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__d5e3998"><span>自动内存</span>使用访问跟踪，列统计信息和其他相关统计信息来管理IM列存储中的对象。</span> <span id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__d5e4002">如果IM列存储已满，并且其他更频繁访问的段将受益于IM列存储中的填充，则IM列存储将驱逐非活动段。但是，如果IM列存储配置为保存所有<code class="codeph">INMEMORY</code>段，则<span>自动内存</span>不会执行任何操作。</span></p>
                     <p>默认情况下， <span>Automatic In-Memory会</span>检查过去31天的使用情况统计信息。您可以通过提供改变当前设置<code class="codeph">AIM_STATWINDOW_DAYS</code>参数<code class="codeph">DBMS_INMEMORY_ADMIN.AIM_SET_PARAMETER</code> 。</p>
                     <div class="infoboxnotealso" id="GUID-94B7C99C-BB9D-46E4-9E16-5E466D99FAA6__GUID-F569AF76-51F2-4ADA-B4C2-45367D1E9573">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../inmem/configuring-memory-management.html#GUID-B2473D1F-AEAF-4802-9E28-85B3D823093C" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a>了解有关<span>自动内存的</span>更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-B902CDB0-F058-43BA-8B15-19CD9F5878C7" name="GUID-B902CDB0-F058-43BA-8B15-19CD9F5878C7"></a><h3 id="ARPLS-GUID-B902CDB0-F058-43BA-8B15-19CD9F5878C7" class="sect3"><span class="enumeration_section">86.2</span> DBMS_INMEMORY_ADMIN安全模型</h3>
               <div>
                  <p>此程序包需要管理员权限。包子程序以调用者的权利执行。</p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-EB965630-C81A-484E-8F09-CA7A4EF6847B" name="GUID-EB965630-C81A-484E-8F09-CA7A4EF6847B"></a><h3 id="ARPLS-GUID-EB965630-C81A-484E-8F09-CA7A4EF6847B" class="sect3"><span class="enumeration_section">86.3</span> DBMS_INMEMORY_ADMIN操作说明</h3>
               <div>
                  <p><code class="codeph">DBMS_INMEMORY_ADMIN</code> FastStart操作可能会失败或被中断。
                  </p>
                  <div class="section">
                     <p>在故障或中断方案中，以下规则确定您可以使用哪些子程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">FASTSTART_ENABLE</code>未成功，则唯一允许的操作是重新执行<code class="codeph">FASTSTART_ENABLE</code> 。</p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">FASTSTART_MIGRATE_STORAGE</code>未成功，则唯一允许的操作是重新执行<code class="codeph">FASTSTART_MIGRATE_STORAGE</code> 。</p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">FASTSTART_DISABLE</code>未成功，则允许所有<code class="codeph">DBMS_INMEMORY_ADMIN</code>操作。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-EABB868D-C3A6-4BF7-B619-A0E59F035AC3" name="GUID-EABB868D-C3A6-4BF7-B619-A0E59F035AC3"></a><h3 id="ARPLS-GUID-EABB868D-C3A6-4BF7-B619-A0E59F035AC3" class="sect3"><span class="enumeration_section">86.4</span> DBMS_INMEMORY_ADMIN子程序摘要</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_INMEMORY_ADMIN</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-EABB868D-C3A6-4BF7-B619-A0E59F035AC3__GUID-98138EF5-1B60-4308-8181-03FE10A669BA">
                     <p class="titleintable">表86-1 DBMS_INMEMORY_ADMIN包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_INMEMORY_ADMIN包子程序" width="100%" border="1" summary="This table lists the DBMS_INMEMORY_ADMIN subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="46%" id="d478683e663">子程序</th>
                              <th align="left" valign="bottom" width="54%" id="d478683e666">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e671" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED" title="此过程获取控制自动内存中的参数的当前值。">AIM_GET_PARAMETER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e671 d478683e666 ">
                                 <p><span id="GUID-EABB868D-C3A6-4BF7-B619-A0E59F035AC3__d5e3989">此过程获取控制<span>自动内存中的</span>参数的当前值。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e689" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA" title="该过程自定义Automatic In-Memory的执行环境。">AIM_SET_PARAMETER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e689 d478683e666 ">
                                 <p><span id="GUID-EABB868D-C3A6-4BF7-B619-A0E59F035AC3__d5e3994">该过程自定义<span>Automatic In-Memory</span>的执行环境</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e706" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2" title="此过程禁用内存中快速启动（IM FastStart）功能。">FASTSTART_DISABLE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e706 d478683e666 ">
                                 <p>此过程禁用内存中快速启动（IM FastStart）功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e717" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17" title="此过程启用In-Memory FastStart（IM FastStart），并为IM FastStart（FastStart）区域指定表空间。">FASTSTART_ENABLE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e717 d478683e666 ">
                                 <p>此过程启用IM FastStart并分配表空间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e728" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D" title="此过程将In-Memory FastStart（IM FastStart）数据和目录从当前表空间移动到新的表空间。">FASTSTART_MIGRATE_STORAGE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e728 d478683e666 ">
                                 <p>此过程将所有IM FastStart数据和元数据从现有表空间移动到指定的新表空间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e739" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-EA6C747B-0E89-4761-A914-4607D614F0D4" title="此函数返回分配给In-Memory FastStart（IM FastStart）的表空间。如果禁用该功能，则该功能将返回NOT ENABLED。">GET_FASTSTART_TABLESPACE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e739 d478683e666 ">
                                 <p>此函数返回当前为IM FastStart指定的表空间的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e753" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9" title="此过程在指定的时间间隔内捕获数据库中20个最常访问（“最热”）的表达式。">IME_CAPTURE_EXPRESSIONS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e753 d478683e666 ">
                                 <p>此过程<span>在指定的时间间隔内捕获数据库中20个最常访问（“最热”）的表达式。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e768" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-2809E03B-5367-4C18-97E4-16C62F77C343" title="此过程表示当前表达式捕获窗口的结束。">IME_CLOSE_CAPTURE_WINDOW过程</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e768 d478683e666 ">
                                 <p><span>此过程表示当前表达式捕获窗口的结束。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e781" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-68438F17-9806-418A-B92A-E029284D3D73" title="此过程将删除数据库中的所有SYS_IME表达式虚拟列。">IME_DROP_ALL_EXPRESSIONS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e781 d478683e666 ">
                                 <p>此过程将删除数据库中的所有<code class="codeph">SYS_IME</code>表达式虚拟列。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e798" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A" title="此过程返回表达式捕获窗口的当前捕获状态和最近修改的时间戳。">IME_GET_CAPTURE_STATE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e798 d478683e666 ">
                                 <p><span>此过程返回表达式捕获窗口的当前捕获状态和最近修改的时间戳。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e811" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-C75097B2-961E-4824-A6F3-319AB0CC513B" title="此过程表示表达式捕获窗口的开始。">IME_OPEN_CAPTURE_WINDOW过程</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e811 d478683e666 ">
                                 <p><span>此过程表示表达式捕获窗口的开始。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d478683e825" headers="d478683e663 ">
                                 <p><a href="DBMS_INMEMORY_ADMIN.html#GUID-ED6D684C-39B3-449F-ADE3-4D6FA4294A28" title="此过程强制在DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS的最新调用中捕获表达式。">IME_POPULATE_EXPRESSIONS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d478683e825 d478683e666 ">
                                 <p>此过程强制在<code class="codeph">DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS</code>的最新调用中捕获表达式。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED" name="GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED"></a><h4 id="ARPLS-GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED" class="sect4"><span class="enumeration_section">86.4.1</span> AIM_GET_PARAMETER过程</h4>
                  <div>
                     <div><span>此过程获取控制<span>自动内存中的</span>参数的当前值。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED__GUID-EE15B2E3-740E-4DFD-90F3-286E84B47959">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.AIM_GET_PARAMETER（参数IN NUMBER，值OUT NUMBER）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED__GUID-734AD329-F1CF-44C3-807E-83E73F05A733">参数</p>
                        <div class="tblformal" id="GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED__GUID-3DFBC9CD-38DF-4B82-B22D-683A98ACDA14">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table describes the parameters in the DBMS_INMEMORY_ADMIN.AIM_GET_PARAMETER procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d478683e950">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d478683e952">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e956" headers="d478683e950 "><code class="codeph">参数</code></td>
                                    <td align="left" valign="top" width="20%" headers="d478683e956 d478683e952 ">
                                       <p>指定控制<span>自动内存中</span>的预定义常量。
                                       </p>
                                       <p>唯一有效的常量是<code class="codeph">AIM_STATWINDOW_DAYS</code> ，它指定滑动统计窗口中的天数。<span>Automatic In-Memory</span>使用此持续时间来过滤<code class="codeph">INMEMORY</code>对象的统计信息，作为其算法的一部分。例如，如果持续时间设置为7天，则“ <span>自动内存”</span>仅考虑其算法过去7天的统计信息。默认值为<code class="codeph">31</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e983" headers="d478683e950 "><code class="codeph">值</code></td>
                                    <td align="left" valign="top" width="20%" headers="d478683e983 d478683e952 ">
                                       <p>指定分配给<code class="codeph">AIM_STATWINDOW_DAYS</code>的值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED__GUID-9E934238-2FBF-4B21-BD60-4AF1280E2F69">
                        <p class="titleinexample">示例86-1获取统计窗口中的天数</p>
                        <p>以下代码将统计窗口中的天数打印到屏幕：</p><pre class="pre codeblock"><code>VARIABLE b_statwin NUMBER BEGIN DBMS_INMEMORY_ADMIN.AIM_GET_PARAMETER（DBMS_INMEMORY_ADMIN.AIM_STATWINDOW_DAYS，：b_statwin）;结束; / PRINT b_statwin</code></pre><p>示例输出显示如下：</p><pre class="pre codeblock"><code>B_STATWIN --------- 14</code></pre><div class="infoboxnotealso" id="GUID-22E1AD59-14DF-4F76-9EB3-C725D082A9ED__GUID-D8EBBBCF-E694-4869-9454-62B533FF8780">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../inmem/configuring-memory-management.html#INMEM-GUID-5A2CAB56-8C24-414D-9444-74E4BB87255B" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a> ，了解如何使用<code class="codeph">AIM_GET_PARAMETER</code></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA" name="GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA"></a><h4 id="ARPLS-GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA" class="sect4"><span class="enumeration_section">86.4.2</span> AIM_SET_PARAMETER过程</h4>
                  <div>
                     <div><span>该过程自定义<span>Automatic In-Memory</span>的执行环境。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA__GUID-F3C1E506-9355-4D8F-897A-FD3F0D664F4B">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.AIM_SET_PARAMETER（参数IN NUMBER，值IN NUMBER）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA__GUID-E044B28F-C251-474F-B0D6-0B5A2523A401">参数</p>
                        <div class="tblformal" id="GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA__GUID-B3A7DF41-D86E-43EB-8E8E-3B1E719CF466">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table describes the parameters in the DBMS_INMEMORY_ADMIN.AIM_SET_PARAMETER procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d478683e1123">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d478683e1125">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e1129" headers="d478683e1123 "><code class="codeph">参数</code></td>
                                    <td align="left" valign="top" width="20%" headers="d478683e1129 d478683e1125 ">
                                       <p>指定控制<span>自动内存中</span>的预定义常量。
                                       </p>
                                       <p>唯一有效的常量是<code class="codeph">AIM_STATWINDOW_DAYS</code> ，它指定滑动统计窗口中的天数。默认值为<code class="codeph">31</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e1147" headers="d478683e1123 "><code class="codeph">值</code></td>
                                    <td align="left" valign="top" width="20%" headers="d478683e1147 d478683e1125 ">
                                       <p>指定分配给<code class="codeph">AIM_STATWINDOW_DAYS</code>的值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA__GUID-0D9CBF9B-D70F-46B6-B7C3-866A6F5F6B19">
                        <p class="titleinexample">示例86-2在统计窗口中设置天数</p>
                        <p>以下示例获取窗口中的当前天数，将其设置为14，然后将值打印到屏幕：</p><pre class="pre codeblock"><code>VARIABLE b_statwin NUMBER BEGIN DBMS_INMEMORY_ADMIN.AIM_GET_PARAMETER（DBMS_INMEMORY_ADMIN.AIM_STATWINDOW_DAYS，：b_statwin）;结束; / PRINT b_statwin BEGIN DBMS_INMEMORY_ADMIN.AIM_SET_PARAMETER（DBMS_INMEMORY_ADMIN.AIM_STATWINDOW_DAYS，14）;结束; / BEGIN DBMS_INMEMORY_ADMIN.AIM_GET_PARAMETER（DBMS_INMEMORY_ADMIN.AIM_STATWINDOW_DAYS，：b_statwin）;结束; / PRINT b_statwin</code></pre><p>示例输出显示如下：</p><pre class="pre codeblock"><code>B_STATWIN ---------- 31 B_STATWIN ---------- 14</code></pre><div class="infoboxnotealso" id="GUID-C2F4B31C-84B5-4DFD-844D-97345747EFEA__GUID-57DAACA3-0975-4BB0-94EE-F982B4D0DD4C">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../inmem/configuring-memory-management.html#INMEM-GUID-5A2CAB56-8C24-414D-9444-74E4BB87255B" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a> ，了解如何使用<code class="codeph">AIM_GET_PARAMETER</code></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2" name="GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2"></a><h4 id="ARPLS-GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2" class="sect4"><span class="enumeration_section">86.4.3</span> FASTSTART_DISABLE过程</h4>
                  <div>
                     <p>此过程禁用内存中快速启动（IM FastStart）功能。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2__GUID-62F05DDC-45CD-4FA4-98F4-6B08E93BB6FF">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.FASTSTART_DISABLE（）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2__GUID-CEBFB502-576F-479D-8968-040A980DCA89">安全模型</p>
                        <p>执行此过程需要管理员权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2__GUID-C32CDD2D-9BE2-4EEE-8323-A6874CEDBBDF">使用说明</p>
                        <p>执行该过程时，数据库将执行以下操作：</p>
                        <ol>
                           <li>
                              <p>等待所有IM FastStart操作完成</p>
                           </li>
                           <li>
                              <p>禁用IM FastStart功能，并执行以下操作：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>清除IM FastStart区域</p>
                                 </li>
                                 <li>
                                    <p>删除存储在<code class="codeph">SYSAUX</code>表空间中的IM FastStart元数据</p>
                                 </li>
                                 <li>
                                    <p>释放IM FastStart表空间（但不删除它）</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                        <p>此过程不会中断或影响任何并发IM列存储操作。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2__GUID-04AF1E99-3BD1-4D2A-B9EE-18583A32B6AD">例子</p>
                        <p>以下PL / SQL程序禁用IM FastStart功能：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.FASTSTART_DISABLE;</code></pre><p>以下查询显示已删除IM FastStart表空间的LOB（包括示例输出）：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5 COL SEGMENT_NAME FORMAT a20 SELECT l。所有者，l。SEGMENT_NAME，SUM（s。BYTES）/ 1024/1024 MB来自DBA_LOBS l，DBA_SEGMENTS s WHERE l。SEGMENT_NAME = s。SEGMENT_NAME和l。TABLESPACE_NAME ='FS_TBS'GROUP BY l。所有者，l。SEGMENT_NAME;没有选择任何行</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17" name="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17"></a><h4 id="ARPLS-GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17" class="sect4"><span class="enumeration_section">86.4.4</span> FASTSTART_ENABLE过程</h4>
                  <div>
                     <p>此过程启用In-Memory FastStart（IM FastStart），并为IM FastStart（FastStart）区域指定表空间。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__GUID-CDD08134-E138-4E70-9B9B-53E89DAED471">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE（tbs_name IN VARCHAR2，nologging IN BOOLEAN DEFAULT TRUE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__GUID-AA4BB1E6-A1BB-45A0-B29A-9237A11A1A2A">参数</p>
                        <div class="tblformal" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__GUID-11DBB627-4441-4A5B-9895-0CF24ED528A8">
                           <p class="titleintable">表86-2 FASTSTART_ENABLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FASTSTART_ENABLE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d478683e1423">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d478683e1426">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e1431" headers="d478683e1423 ">
                                       <p><code class="codeph">tbs_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d478683e1431 d478683e1426 ">
                                       <p>FastStart区域的ASSM表空间的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e1439" headers="d478683e1423 ">
                                       <p><code class="codeph">NOLOGGING</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d478683e1439 d478683e1426 ">
                                       <p>为FastStart区域创建的LOB的日志记录模式。</p>
                                       <p>如果<code class="codeph">nologging</code>参数设置为<code class="codeph">FALSE</code> ，则数据库将使用<code class="codeph">LOGGING</code>选项创建FastStart LOB。如果设置为<code class="codeph">TRUE</code> （默认值），则数据库将使用<code class="codeph">NOLOGGING</code>选项创建LOB。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__CACIGGJI">
                        <p class="subhead3" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__GUID-9090F6BF-8CB6-4163-8DA2-B7B22AEC5B73">安全模型</p>
                        <p>执行此过程需要管理员权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__GUID-A5602A80-6123-4FAD-A781-4E32083AAF04">使用说明</p>
                        <p>要启用IM FastStart，必须存在<code class="codeph">FASTSTART_ENABLE</code>指定的ASSM表空间，并且<code class="codeph">SYSAUX</code>表空间必须处于联机状态。每个PDB或非CDB只能存在一个FastStart表空间。指定的表空间必须有足够的空间来存储IM列存储的数据，并且在为FastStart区域指定之前，它不能包含任何其他数据。Oracle建议将表空间的大小调整为<code class="codeph">INMEMORY_SIZE</code>初始化参数大小的两倍。
                        </p>
                        <p>在填充IM列存储之前，数据库不会在磁盘上创建FastStart区域。在填充之后，数据会定期将列式数据（但不包括事务日志等元数据）保存到FastStart区域，该区域在磁盘上表示为<code class="codeph">SYSDBIMFS_LOBSEG$</code>段。数据库将FastStart元数据存储在<code class="codeph">SYSAUX</code>表空间中。在Oracle Real Application Clusters（Oracle RAC）环境中，IM FastStart数据在所有节点之间共享。
                        </p>
                        <div class="infoboxnote" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__GUID-2A527BDB-7E64-474F-91B5-5A9F5FD83010">
                           <p class="notep1">注意：</p>
                           <p>备用数据库实例不支持IM FastStart。</p>
                        </div>
                        <p>尽管将IMCU初始加载到内存中是昂贵且受CPU限制的，但IM FastStart表空间需要间歇性I / O.数据库定期将列数据写入IM FastStart区域。如果数据库实例必须重新启动，则Oracle数据库直接从IM FastStart区域读取列数据，而不是从头开始重建IMCU。不需要压缩或格式化柱状数据。</p>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17__GUID-66920D0F-ECF9-4214-9947-B70C4AD65F66">例子</p>
                        <p>此示例将<code class="codeph">fs_tbs</code>创建为ASSM表空间，然后使用<code class="codeph">FASTSTART_ENABLE</code>将此表空间指定为IM FastStart区域：</p><pre class="pre codeblock"><code>CREATE TABLESPACE fs_tbs DATAFILE'fs_tbs.dbf'SIZE 500M EXTENT MANAGEMENT LOCAL SATERMENT SPACE AUTO AUTO; EXEC DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE（'fs_tbs'）;</code></pre><p>以下查询显示已创建IM FastStart LOB（包括示例输出）：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5 COL SEGMENT_NAME FORMAT a20 SELECT l。所有者，l。SEGMENT_NAME，SUM（s。BYTES）/ 1024/1024 MB来自DBA_LOBS l，DBA_SEGMENTS s WHERE l。SEGMENT_NAME = s。SEGMENT_NAME和l。TABLESPACE_NAME ='FS_TBS'GROUP BY l。所有者，l。SEGMENT_NAME; OWNER SEGMENT_NAME MB ----- -------------------- ---------- SYS SYSDBIMFS_LOBSEG $ .125</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D" name="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D"></a><h4 id="ARPLS-GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D" class="sect4"><span class="enumeration_section">86.4.5</span> FASTSTART_MIGRATE_STORAGE过程</h4>
                  <div>
                     <p>此过程将In-Memory FastStart（IM FastStart）数据和目录从当前表空间移动到新的表空间。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D__GUID-DB52BAB8-2610-4210-9F75-E69197B983B5">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.FASTSTART_MIGRATE_STORAGE（tbs_name IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D__GUID-6B6D135D-27EE-4D4F-A189-65E28A23B7AD">参数</p>
                        <div class="tblformal" id="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D__GUID-0A42E333-00B2-47F4-A975-379EE1F2212C">
                           <p class="titleintable">表86-3 FASTSTART_MIGRATE_STORAGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FASTSTART_MIGRATE_STORAGE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_INMEMORY_ADMIN.FASTSTART_MIGRATE_STORAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d478683e1624">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d478683e1627">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e1632" headers="d478683e1624 ">
                                       <p><code class="codeph">tbs_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d478683e1632 d478683e1627 ">
                                       <p>IM FastStart区域的新ASSM表空间的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D__GUID-7F0704F4-ECFC-4203-97F4-191BF6308990">安全模型</p>
                        <p>执行此过程需要DBA权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D__GUID-E75B9CA1-F8AF-43D3-BFF9-C6BD565E0468">使用说明</p>
                        <p>执行该过程时，数据库将执行以下操作：</p>
                        <ol>
                           <li>
                              <p>等待所有IM FastStart操作完成</p>
                           </li>
                           <li>
                              <p>禁用IM FastStart功能</p>
                           </li>
                           <li>
                              <p>将IM FastStart数据和元数据复制到新表空间，保留旧表空间</p>
                           </li>
                           <li>
                              <p>重新启用IM FastStart功能</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D__GUID-C8DC26E0-C392-4344-B90D-1386B815E691">例子</p>
                        <p>以下程序获取IM FastStart表空间的名称（如果存在），并打印结果（包括样本输出）：</p><pre class="pre codeblock"><code>VARIABLE b_fstbs VARCHAR2（20）BEGIN：b_fstbs：= DBMS_INMEMORY_ADMIN.GET_FASTSTART_TABLESPACE;结束; / PRINT b_fstbs B_FSTBS ----------------------------- FS_TBS</code></pre><p>以下语句创建名为<code class="codeph">fs_tbs2</code>的新表空间，然后将IM FastStart区域迁移到此表空间：</p><pre class="pre codeblock"><code>CREATE TABLESPACE fs_tbs2 DATAFILE'fs_tbs2.dbf'SIZE 500M EXTENT MANAGEMENT LOCAL SATERMENT SPACE AUTO AUTO; EXEC DBMS_INMEMORY_ADMIN.FASTSTART_MIGRATE_STORAGE（'fs_tbs2'）;</code></pre><p>以下程序打印当前IM FastStart表空间的名称（包括示例输出）：</p><pre class="pre codeblock"><code>BEGIN：b_fstbs：= DBMS_INMEMORY_ADMIN.GET_FASTSTART_TABLESPACE;结束; / PRINT b_fstbs B_FSTBS ----------------------------- FS_TBS2</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-EA6C747B-0E89-4761-A914-4607D614F0D4" name="GUID-EA6C747B-0E89-4761-A914-4607D614F0D4"></a><h4 id="ARPLS-GUID-EA6C747B-0E89-4761-A914-4607D614F0D4" class="sect4"><span class="enumeration_section">86.4.6</span> GET_FASTSTART_TABLESPACE函数</h4>
                  <div>
                     <p>此函数返回分配给In-Memory FastStart（IM FastStart）的表空间。如果禁用该功能，则该功能将返回<code class="codeph">NOT ENABLED</code> 。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EA6C747B-0E89-4761-A914-4607D614F0D4__GUID-BCAD0849-195B-4FEF-BCC0-A69B2601EFF1">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.GET_FASTSTART_TABLESPACE（）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA6C747B-0E89-4761-A914-4607D614F0D4__GUID-3B1D5130-71FB-4013-8C4F-5680E8F2C66A">安全模型</p>
                        <p>执行此功能需要DBA权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA6C747B-0E89-4761-A914-4607D614F0D4__GUID-162C4873-9F35-488A-B5D6-D751701B83D5">例子</p>
                        <p>此程序获取IM FastStart表空间的名称（如果存在），并打印结果：</p><pre class="pre codeblock"><code>VARIABLE b_fstbs VARCHAR2（20）BEGIN：b_fstbs：= DBMS_INMEMORY_ADMIN.GET_FASTSTART_TABLESPACE;结束; / PRINT b_fstbs B_FSTBS ----------------------------- NOT ENABLED</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9" name="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9"></a><h4 id="ARPLS-GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9" class="sect4"><span class="enumeration_section">86.4.7</span> IME_CAPTURE_EXPRESSIONS程序</h4>
                  <div>
                     <p>此过程<span>在指定的时间间隔内捕获数据库中20个最常访问（“最热”）的表达式。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9__GUID-7EBB8FA7-01A9-4A1B-8747-026511A693F5">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS（快照IN VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9__GUID-B371F599-BF33-4CBF-8670-93F01CC1FC3F">参数</p>
                        <div class="tblformal" id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9__GUID-9C871E35-93C6-46A4-8653-56892BD8D8E4">
                           <p class="titleintable">表86-4 IME_CAPTURE_EXPRESSIONS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IME_CAPTURE_EXPRESSIONS过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d478683e1904">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d478683e1907">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e1912" headers="d478683e1904 ">
                                       <p><code class="codeph">快照</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d478683e1912 d478683e1907 ">
                                       <p>指定快照，该快照定义考虑表达式统计信息的时间间隔。</p>
                                       <p>您可以指定以下任何值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">累积</code></p>
                                             <p>数据库会考虑自创建数据库以来的所有表达式统计信息。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">当前</code></p>
                                             <p>数据库仅考虑过去24小时内的表达式统计信息。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">窗口</code></p>
                                             <p>数据库考虑在最近的<span>表达式捕获窗口中</span>跟踪的表达式的统计信息。
                                             </p>
                                             <p>数据库为在最近窗口中跟踪的表达式添加隐藏的虚拟列。如果捕获窗口当前处于打开状态，则数据库将考虑当前窗口中跟踪的所有表达式，直到此时为止，然后实现最热门的表达式。要列出在当前窗口中跟踪的表达式， <code class="codeph">DBA_EXPRESSION_STATISTICS</code>使用<code class="codeph">SNAPSHOT='WINDOW'</code>查询<code class="codeph">DBA_EXPRESSION_STATISTICS</code> 。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9__GUID-C5EE7FF9-0978-4810-906E-18D8441E60AC">使用说明</p>
                        <p>调用此过程时，数据库将查询表达式统计信息存储（ESS），并仅考虑至少部分填充在IM列存储中的表上的表达式。数据库将20个最热门的表达式作为隐藏的虚拟列添加到其各自的表中，前缀为字符串<code class="codeph">SYS_IME</code> ，并应用默认的<code class="codeph">INMEMORY</code>列压缩子句。如果在上一次调用期间添加的任何<code class="codeph">SYS_IME</code>列不再位于最新的前20个列表中，则数据库<code class="codeph">NO INMEMORY</code>它们标记为<code class="codeph">NO INMEMORY</code> 。</p>
                        <div class="infoboxnote" id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9__GUID-799F6BC7-73B1-4528-8B2E-5844E0511A6C">
                           <p class="notep1">注意：</p>
                           <p>在备用数据库上执行<code class="codeph">IME_CAPTURE_EXPRESSIONS</code>过程无效。
                           </p>
                        </div>
                        <p>无论属性是<code class="codeph">INMEMORY</code>还是<code class="codeph">NO INMEMORY</code> ，表的最大<code class="codeph">SYS_IME</code>列数为50。达到表的限制后，数据库将不会添加新的<code class="codeph">SYS_IME</code>列。要为新表达式腾出空间，必须使用<a href="DBMS_INMEMORY_ADMIN.html#GUID-68438F17-9806-418A-B92A-E029284D3D73" title="此过程将删除数据库中的所有SYS_IME表达式虚拟列。">IME_DROP_ALL_EXPRESSIONS过程</a>或<a href="DBMS_INMEMORY.html#GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD" title="此过程从表中删除指定的一组SYS_IME虚拟列。">IME_DROP_EXPRESSIONS过程</a>手动删除<code class="codeph">SYS_IME</code>列。
                        </p>
                        <p>每个表的50表达式限制（包括<code class="codeph">INMEMORY</code>和<code class="codeph">NO INMEMORY</code>表达式）与数据库的20表达式限制不同，后者仅包含<code class="codeph">INMEMORY</code>表达式。例如，如果在IM列存储中填充了20个表，则每个表可能都有1 <code class="codeph">SYS_IME</code>带有<code class="codeph">INMEMORY</code>属性的<code class="codeph">SYS_IME</code>列，以及带有<code class="codeph">NO INMEMORY</code>属性的49个<code class="codeph">SYS_IME</code>列。
                        </p>
                        <p>IM表达式和虚拟列存储在称为内存中表达单元（IMEU）的内存中结构中。每个IMEU都链接到父内存压缩单元（IMCU），从中继承压缩特性。</p>
                        <p>ESS信息存储在数据字典中，并在<code class="codeph">DBA_EXPRESSION_STATISTICS</code>视图中公开。此视图显示优化程序在ESS中收集的元数据。 IM表达式在<code class="codeph">DBA_IM_EXPRESSIONS</code>视图中以系统生成的虚拟列（以字符串<code class="codeph">SYS_IME</code>为前缀） <code class="codeph">DBA_IM_EXPRESSIONS</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9__GUID-06B588AA-A877-4749-928D-8C1840B24CE9">
                        <p class="titleinexample">例86-3在用户定义的窗口中捕获表达式</p>
                        <p>此示例演示了<code class="codeph">WINDOW</code>捕获模式的使用。您的目标是打开和关闭表达式捕获窗口，然后捕获数据库在此窗口期间跟踪的所有表达式。您执行以下步骤：</p>
                        <ol>
                           <li>
                              <p>打开<span>表达式捕获窗口</span> ，生成表达式，然后关闭窗口：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.IME_OPEN_CAPTURE_WINDOW（）; - 为数据库生成表达式以跟踪EXEC DBMS_INMEMORY_ADMIN.IME_CLOSE_CAPTURE_WINDOW（）;</code></pre></li>
                           <li>
                              <p>查询<code class="codeph">DBA_EXPRESSION_STATICS</code> （包括示例输出）：</p><pre class="pre codeblock"><code>COL OWNER FORMAT A6 COL TABLE_NAME FORMAT A9 COL COUNT FORMAT 99999 COL CREATED FORMAT A10 COL EXPRESSION_TEXT FORMAT A29 SELECT OWNER，TABLE_NAME，EVALUATION_COUNT作为COUNT，CREATED，EXPRESSION_TEXT来自DBA_EXPRESSION_STATISTICS SNAPSHOT ='WINDOW'和OWNER ='SH'; OWNER TABLE_NAM COUNT CREATED EXPRESSION_TEXT ------ --------- ------ ---------- -------------- ----------- SH SALES 4702 09-OCT-17“QUANTITY_SOLD”SH SALES 4702 09-OCT-17“QUANTITY_SOLD”*“AMOUNT_SOLD”SH SALES 4702 09-OCT-17“PROD_ID”SH SALES 4702 09-OCT-17“CUST_ID”SH SALES 4702 09-OCT-17“CHANNEL_ID”SH SALES 4702 09-OCT-17“AMOUNT_SOLD”</code></pre><p>前面的查询显示了ESS中跟踪的列以及在<code class="codeph">sh</code>模式中用于查询的窗口期间捕获的表达式。在最近的窗口中，数据库捕获了一个表达式： <code class="codeph">QUANTITY_SOLD*AMOUNT_SOLD</code> 。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">IME_CAPTURE_EXPRESSIONS</code>使数据库考虑当前窗口中的所有表达式以实现：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS（'WINDOW'）;</code></pre></li>
                           <li>
                              <p>查询<code class="codeph">DBA_IM_EXPRESSIONS</code> （包括示例输出）：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a6 COL TABLE_NAME FORMAT a9 COL COLUMN_NAME FORMAT a25 SET LONG 50 SET LINESIZE 150 SELECT OWNER，TABLE_NAME，COLUMN_NAME，SQL_EXPRESSION FROM DBA_IM_EXPRESSIONS; OWNER TABLE_NAM COLUMN_NAME SQL_EXPRESSION ------ --------- ------------------------- ------ ----------------------- SH SALES SYS_IME000100000025201B“QUANTITY_SOLD”*“AMOUNT_SOLD”</code></pre><p>前面的输出显示添加到表中的所有虚拟列，并将<code class="codeph">INMEMORY</code>标记为最新<code class="codeph">IME_CAPTURE_EXPRESSIONS</code>调用的一部分。当数据库重新填充表的不同IMCU时，数据库会逐渐将捕获的表达式填充到IM列存储中。
                              </p>
                           </li>
                           <li>
                              <p>执行以下过程以显式强制所有捕获的IM表达式的填充：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.IME_POPULATE_EXPRESSIONS（）;</code></pre><p>请注意，您可以通过在<code class="codeph">force</code>参数设置为<code class="codeph">TRUE</code>下执行<code class="codeph">DBMS_INMEMORY.REPOPULATE</code>过程来填充特定表中的IM表达式。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-70CDDB1F-A928-4AD5-9632-5F1C5DEF5DC9__GUID-A859059F-A00D-4E15-B9C5-33670DFBFAD1">
                        <p class="titleinexample">例86-4捕获过去一天的表达式</p>
                        <p>以下程序捕获过去24小时内跟踪的表达式：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS（'CURRENT'）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2809E03B-5367-4C18-97E4-16C62F77C343" name="GUID-2809E03B-5367-4C18-97E4-16C62F77C343"></a><h4 id="ARPLS-GUID-2809E03B-5367-4C18-97E4-16C62F77C343" class="sect4"><span class="enumeration_section">86.4.8</span> IME_CLOSE_CAPTURE_WINDOW过程</h4>
                  <div>
                     <p><span>此过程表示当前表达式捕获窗口的结束。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2809E03B-5367-4C18-97E4-16C62F77C343__GUID-80899842-D020-4E07-A831-EE05F568E3F0">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.IME_CLOSE_CAPTURE_WINDOW（）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2809E03B-5367-4C18-97E4-16C62F77C343__GUID-4CA4B95F-9C02-4FA0-A0C9-49CCB541FF96">使用说明</p>
                        <p>在调用此过程时，优化器会将所有收集的统计信息保存到磁盘，并基本上冻结窗口中跟踪的表达式。数据库保留在此窗口中捕获的统计信息，直到打开新的<span>表达式捕获窗口</span> ，此时数据库将清除在上一个窗口中捕获的统计信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2809E03B-5367-4C18-97E4-16C62F77C343__GUID-929FCA81-1C1B-4119-BC10-AE0D1376DC40">
                        <p class="titleinexample">例86-5示例</p>
                        <p>此示例打开<span>表达式捕获窗口</span> ，然后发出<code class="codeph">IME_CAPTURE_EXPRESSIONS('WINDOW')</code>以便数据库考虑当前窗口中的所有表达式以实现。最后，该示例关闭窗口。
                        </p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.IME_OPEN_CAPTURE_WINDOW（）; - 生成表达式，以便数据库可以跟踪它们EXEC DBMS_INMEMORY_ADMIN.IME_CLOSE_CAPTURE_WINDOW（）; EXEC DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS（'WINDOW'）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-68438F17-9806-418A-B92A-E029284D3D73" name="GUID-68438F17-9806-418A-B92A-E029284D3D73"></a><h4 id="ARPLS-GUID-68438F17-9806-418A-B92A-E029284D3D73" class="sect4"><span class="enumeration_section">86.4.9</span> IME_DROP_ALL_EXPRESSIONS过程</h4>
                  <div>
                     <p>此过程将删除数据库中的所有<code class="codeph">SYS_IME</code>表达式虚拟列。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-68438F17-9806-418A-B92A-E029284D3D73__GUID-923C64A9-1247-4A9D-BAF7-521CE223471D">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.IME_DROP_ALL_EXPRESSIONS（）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-68438F17-9806-418A-B92A-E029284D3D73__GUID-1A943C41-705D-4533-BF57-633C065937D5">使用说明</p>
                        <p><code class="codeph">IME_DROP_ALL_EXPRESSIONS</code>过程会删除所有表中的所有<code class="codeph">SYS_IME</code>列，无论它们是否具有<code class="codeph">INMEMORY</code>属性。实际上，该过程充当数据库范围的重置按钮。
                        </p>
                        <p>对于具有<code class="codeph">SYS_IME</code>列的段，使用<code class="codeph">IME_DROP_ALL_EXPRESSIONS</code>会触发所有IMEU <span class="italic">和</span> IMCU的<code class="codeph">SYS_IME</code> 。例如，如果50个填充表各有一个<code class="codeph">SYS_IME</code>列，则<code class="codeph">IME_DROP_ALL_EXPRESSIONS</code>将从IM列存储中删除所有50个表。要再次填充这些段，必须使用<code class="codeph">DBMS_INMEMORY.POPULATE</code>过程或执行全表扫描。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A" name="GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A"></a><h4 id="ARPLS-GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A" class="sect4"><span class="enumeration_section">86.4.10</span> IME_GET_CAPTURE_STATE过程</h4>
                  <div>
                     <p><span>此过程返回表达式捕获窗口的当前捕获状态和最近修改的时间戳。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A__GUID-9CC02D99-5320-4402-A52E-6D69756E814B">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.IME_GET_CAPTURE_STATE（p_capture_state OUT VARCHAR2，p_last_modified OUT TIMESTAMP）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A__GUID-2F0E2771-345C-4FEA-BCEB-E09CB99AE226">参数</p>
                        <div class="tblformal" id="GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A__GUID-C4570657-C76A-477D-BC01-ABBBAD9635AE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table describes the parameters in the DBMS_INMEMORY_ADMIN.IME_GET_CAPTURE_STATE procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d478683e2488">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d478683e2490">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e2494" headers="d478683e2488 "><code class="codeph">p_capture_state</code></td>
                                    <td align="left" valign="top" width="20%" headers="d478683e2494 d478683e2490 ">
                                       <p>描述<span>表达式捕获窗口</span>的当前状态。
                                       </p>
                                       <p>以下状态是可能的：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">OPEN</code> - 表示窗口已打开。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CLOSED</code> - 表示窗口已关闭。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT</code> - 表示尚未使用该窗口。它等同于<code class="codeph">CLOSED</code>状态。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d478683e2525" headers="d478683e2488 "><code class="codeph">p_last_modified</code></td>
                                    <td align="left" valign="top" width="20%" headers="d478683e2525 d478683e2490 ">
                                       <p>指示最近操作的时间戳。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A__GUID-5FEC9021-A882-4DDD-A59E-33897BB42D04">使用说明</p>
                        <p>此过程对于避免对<a href="DBMS_INMEMORY_ADMIN.html#GUID-C75097B2-961E-4824-A6F3-319AB0CC513B" title="此过程表示表达式捕获窗口的开始。">IME_OPEN_CAPTURE_WINDOW过程</a>和<a href="DBMS_INMEMORY_ADMIN.html#GUID-2809E03B-5367-4C18-97E4-16C62F77C343" title="此过程表示当前表达式捕获窗口的结束。">IME_CLOSE_CAPTURE_WINDOW过程的</a>冲突调用很有用。例如，如果当前<span>表达式捕获窗口</span>状态为<code class="codeph">OPEN</code> ，则无法打开另一个窗口，如果窗口状态为<code class="codeph">CLOSED</code> ，则无法关闭窗口。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A__GUID-FE952BBB-1C21-4653-982B-C5D99F4B5B8E">
                        <p class="titleinexample">例86-6确定表达式捕获窗口的状态</p>
                        <p>此示例打开<span>表达式捕获窗口</span> ，然后确定其捕获状态。
                        </p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.IME_OPEN_CAPTURE_WINDOW（）; VARIABLE b_state VARCHAR2（25）VARIABLE b_time VARCHAR2（10）EXECUTE DBMS_INMEMORY_ADMIN.IME_GET_CAPTURE_STATE（：b_state，：b_time）PRINT b_state b_time</code></pre><p>以下示例输出表明<span>表达式捕获窗口</span>当前处于打开状态：</p><pre class="pre codeblock"><code>B_STATE ------------------------------------------------- -  OPEN B_TIME ----------------------------------------------- --- 09-OCT-17</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C75097B2-961E-4824-A6F3-319AB0CC513B" name="GUID-C75097B2-961E-4824-A6F3-319AB0CC513B"></a><h4 id="ARPLS-GUID-C75097B2-961E-4824-A6F3-319AB0CC513B" class="sect4"><span class="enumeration_section">86.4.11</span> IME_OPEN_CAPTURE_WINDOW过程</h4>
                  <div>
                     <p><span>此过程表示表达式捕获窗口的开始。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C75097B2-961E-4824-A6F3-319AB0CC513B__GUID-6FF8AB76-8095-4924-BCBE-DE2F423BB619">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.IME_OPEN_CAPTURE_WINDOW（）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C75097B2-961E-4824-A6F3-319AB0CC513B__GUID-E6F52BB8-F31B-4566-987E-1BD187468285">安全模型</p>
                        <p>执行此过程需要管理员权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C75097B2-961E-4824-A6F3-319AB0CC513B__GUID-9448EAE1-DEC2-4318-8B0D-FE71294B1634">使用说明</p>
                        <p>在调用此过程时，优化程序将启动一个新窗口快照并开始跟踪此窗口中出现的表达式。<span>表达式捕获窗口</span>在Oracle RAC数据库的所有实例中都是全局的。
                        </p>
                        <p>不允许有冲突的行为。例如，在Oracle RAC数据库中，在时间t0打开实例1上的<span>表达式捕获窗口</span>并尝试在关闭第一个窗口之前在时间t1 <span>打开</span>实例2上的另一个<span>表达式捕获</span>窗口是一个冲突的操作。要获取当前捕获状态并减少冲突过程调用的可能性，请使用<a href="DBMS_INMEMORY_ADMIN.html#GUID-658514BE-C34A-47BE-94CB-005F9BA62E6A" title="此过程返回表达式捕获窗口的当前捕获状态和最近修改的时间戳。">IME_GET_CAPTURE_STATE过程</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C75097B2-961E-4824-A6F3-319AB0CC513B__GUID-597C6501-CF09-462C-948D-E28ACB934127">例</p>
                        <p>以下程序打开一个<span>表达式捕获窗口</span> ：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.IME_OPEN_CAPTURE_WINDOW（）;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-ED6D684C-39B3-449F-ADE3-4D6FA4294A28" name="GUID-ED6D684C-39B3-449F-ADE3-4D6FA4294A28"></a><h4 id="ARPLS-GUID-ED6D684C-39B3-449F-ADE3-4D6FA4294A28" class="sect4"><span class="enumeration_section">86.4.12</span> IME_POPULATE_EXPRESSIONS过程</h4>
                  <div>
                     <p>此过程强制在<code class="codeph">DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS</code>的最新调用中捕获表达式。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-ED6D684C-39B3-449F-ADE3-4D6FA4294A28__GUID-029DB2DC-DBA2-4ACF-98C6-267E1C13F51C">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY_ADMIN.IME_POPULATE_EXPRESSIONS（）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ED6D684C-39B3-449F-ADE3-4D6FA4294A28__GUID-9E3518D6-BAFB-48ED-9417-D2BEA13B6D4F">使用说明</p>
                        <p>如果不调用此过程，则数据库会在重新填充其父IMCU时逐渐重新填充<code class="codeph">SYS_IME</code>列。如果未重新填充表，则不会填充<code class="codeph">IME_CAPTURE_EXPRESSIONS</code>过程捕获的任何新<code class="codeph">SYS_IME</code>列。<code class="codeph">IME_POPULATE_EXPRESSIONS</code>通过强制填充来解决这个问题。
                        </p>
                        <p>在内部，该过程为具有<code class="codeph">INMEMORY</code>属性的<code class="codeph">SYS_IME</code>列的所有表调用<code class="codeph">DBMS_INMEMORY.REPOPULATE</code> 。要在指定的表子集中填充<code class="codeph">SYS_IME</code>列，请使用<code class="codeph">DBMS_INMEMORY.REPOPULATE</code>而不是<code class="codeph">IME_POPULATE_EXPRESSIONS</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>