<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."></meta>
      <meta name="description" content="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."></meta>
      <title>管理表空间</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-archived-redo-log-files.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-data-files-and-temp-files.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-archived-redo-log-files.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-data-files-and-temp-files.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-structure-and-storage.html" property="item" typeof="WebPage"><span property="name">Oracle数据库结构和存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理表空间</li>
            </ol>
            <a id="GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" name="GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88"></a><a id="ADMIN011"></a>
            
            <h2 id="ADMIN-GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" class="sect2"><span class="enumeration_chapter">13</span>管理表空间</h2>
         </header>
         <div class="ind">
            <div>
               <p>表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A">管理表空间的准则</a><br>您可以遵循使用表空间的准则。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46">创建表空间</a><br>您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6880021F-F8C3-4DE5-AA62-8536186B7016">考虑在内存中的列存储中存储表空间</a><br>您可以在创建表空间期间或通过更改表空间为内存中列存储启用表空间。如果为内存列存储启用表空间，则默认情况下会为内存列存储启用表空间中的所有表。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A789CECE-226C-4280-8BC4-39F064036965">为表空间指定非标准块大小</a><br>您可以创建块大小不同于标准数据库块大小的表空间，该大小由<code class="codeph">DB_BLOCK_SIZE</code>初始化参数指定。此功能允许您在数据库之间传输具有不同块大小的表空间。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A1939693-60AC-4009-B37C-A1D8D1360D49">控制重做记录的写作</a><br>对于某些数据库操作，您可以控制数据库是否生成重做记录。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91">改变表空间可用性</a><br>您可以使联机表空间脱机，以便暂时不可用于一般用途。数据库的其余部分保持打开状态，供用户访问数据。相反，您可以联机使用脱机表空间，以使数据库用户可以使用表空间中的模式对象。必须打开数据库才能更改表空间的可用性。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F">使用只读表空间</a><br>表空间可以进入只读模式。这可以防止更新存储在其中的任何数据。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C">更改和维护表空间</a><br>您可以通过执行向其添加数据文件和临时文件等任务来更改和维护表空间。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522">重命名表空间</a><br>使用<code class="codeph">ALTER TABLESPACE</code>的<code class="codeph">RENAME TO</code>子句，可以重命名永久或临时表空间。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-4EB483A2-2E04-4047-8885-F5396876D0EB">删除表空间</a><br>如果不再需要表空间及其内容，则可以从数据库中删除表空间及其内容（表空间中包含的段）。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B">使用影子表空间管理丢失的写保护</a><br>当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710">管理SYSAUX表空间</a><br>创建数据库时， <code class="codeph">SYSAUX</code>表空间作为辅助表空间安装到<code class="codeph">SYSTEM</code>表空间。以前创建和使用单独表空间的某些数据库组件现在占用<code class="codeph">SYSAUX</code>表空间。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D">更正本地管理的表空间的问题</a><br>Oracle数据库包括用于纠正本地管理的表空间问题的帮助。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C961302C-E712-48C2-A938-2509DB4404ED">将SYSTEM表空间迁移到本地管理的表空间</a><br>使用<code class="codeph">DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL</code>过程将<code class="codeph">SYSTEM</code>表空间从字典管理迁移到本地管理。
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1">查看有关表空间的信息</a><br>Oracle数据库包括数据字典视图，您可以查询有关表空间的信息。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88__GUID-9297AE43-CE92-450C-A543-ADC9FBB8C311">
                  <p class="notep1">也可以看看：</p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../cncpt/logical-storage-structures.html#CNCPT402" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle数据库可以管理组成数据库的文件。">使用Oracle Managed Files</a>获取有关创建由Oracle数据库服务器创建和管理的数据文件和临时文件的信息</p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="您可以在数据库之间传输表空间。">在数据库之间传输表空间</a> ”</span></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="oracle-database-structure-and-storage.html#GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" title="您可以创建和管理数据库结构和存储组件。">Oracle数据库结构和存储</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11356"></a><div class="props_rev_3"><a id="GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" name="GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A"></a><h3 id="ADMIN-GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" class="sect3"><span class="enumeration_section">13.1</span>管理表空间的指南</h3>
               <p>您可以遵循使用表空间的准则。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972">使用多个表空间</a><br>使用多个表空间可以更灵活地执行数据库操作。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A">为用户分配表空间配额</a><br>向将要创建表，集群，物化视图，索引和其他对象的用户授予创建对象的权限以及用于保存对象段的表空间中的<span class="bold">配额</span> （空间限额或限制）。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11357"></a><div class="props_rev_3"><a id="GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972" name="GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972"></a><h4 id="ADMIN-GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972" class="sect4"><span class="enumeration_section">13.1.1</span>使用多个表空间</h4>
                  <div>
                     <p>使用多个表空间可以更灵活地执行数据库操作。</p>
                     <p>当数据库有多个表空间时，您可以：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将用户数据与数据字典数据分开以减少I / O争用。</p>
                        </li>
                        <li>
                           <p>将一个应用程序的数据与另一个应用程序的数据分开，以防止在必须使表空间脱机时多个应用程序受到影响。</p>
                        </li>
                        <li>
                           <p>将不同表空间的数据文件存储在不同的磁盘驱动器上以减少I / O争用。</p>
                        </li>
                        <li>
                           <p>使单个表空间脱机，而其他表空间保持联机状态，从而提供更好的整体可</p>
                        </li>
                        <li>
                           <p>通过为特定类型的数据库使用保留表空间来优化表空间使用，例如高更新活动，只读活动或临时段存储。</p>
                        </li>
                        <li>
                           <p>备份单个表空间。</p>
                        </li>
                     </ul>
                     <p>某些操作系统对可以同时打开的文件数量设置了限制。此类限制可能会影响可以同时联机的表空间的数量。为避免超出操作系统限制，请有效地规划表空间。只创建足够的表空间来满足您的需求，并使用尽可能少的文件创建这些表空间。如果必须增加表空间的大小，则添加一个或两个大数据文件，或者创建启用了autoextension的数据文件，而不是创建许多小数据文件。</p>
                     <p>根据这些因素检查数据，并确定数据库设计所需的表空间数量。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" title="您可以遵循使用表空间的准则。">管理表空间的准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11358"></a><div class="props_rev_3"><a id="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A" name="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A"></a><h4 id="ADMIN-GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A" class="sect4"><span class="enumeration_section">13.1.2</span>为用户分配表空间配额</h4>
                  <div>
                     <p>向将要创建表，集群，物化视图，索引和其他对象的用户授予创建对象的权限以及用于保存对象段的表空间中的<span class="bold">配额</span> （空间限额或限制）。
                     </p>
                     <div class="infoboxnote" id="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A__GUID-ED825F69-574A-49CA-BE81-8AA5AC14439B">
                        <p class="notep1">注意：</p>
                        <p>对于PL / SQL对象（如包，过程和函数），用户只需要创建对象的权限。创建这些PL / SQL对象不需要显式的表空间配额。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A__GUID-3114A5DE-FC34-402A-AF1B-60585117BA81">
                        <p class="notep1">也可以看看：</p>
                        <p>有关创建用户和分配表空间配额的信息，请参见<a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG002" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a> 。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" title="您可以遵循使用表空间的准则。">管理表空间的准则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-9A3CE861-80FE-4813-B496-287B69A79C46" name="GUID-9A3CE861-80FE-4813-B496-287B69A79C46"></a><h3 id="ADMIN-GUID-9A3CE861-80FE-4813-B496-287B69A79C46" class="sect3"><span class="enumeration_section">13.2</span>创建表空间</h3>
               <p>您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F">关于创建表空间</a><br>要创建新的表空间，请使用SQL语句<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">CREATE TEMPORARY TABLESPACE</code> 。您必须具有<code class="codeph">CREATE TABLESPACE</code>系统特权才能创建表空间。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A">本地管理的表空间</a><br>本地管理的表空间使用存储在每个数据文件中的位图来管理范围。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426">Bigfile表空间</a><br>Bigfile表空间可以增加数据库的存储容量，减少管理许多数据文件和临时文件的负担。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6">具有默认压缩属性的表空间</a><br>创建表空间时，可以指定默认情况下压缩在表空间中创建的所有表和索引或其分区。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB">加密表空间</a><br>您可以加密任何永久表空间以保护敏感数据。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC">临时表空间</a><br>临时表空间可以改善不适合内存的多个排序操作的并发性。这些表空间还可以提高各种空间管理操作的效率。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE">临时表空间组</a><br>临时表空间组是一个表空间组，它被指定为数据库的默认临时表空间。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11359"></a><div class="props_rev_3"><a id="GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F" name="GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F"></a><h4 id="ADMIN-GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F" class="sect4"><span class="enumeration_section">13.2.1</span>关于创建表空间</h4>
                  <div>
                     <p>要创建新的表空间，请使用SQL语句<code class="codeph">CREATE TABLESPACE</code>或<code class="codeph">CREATE TEMPORARY TABLESPACE</code> 。您必须具有<code class="codeph">CREATE TABLESPACE</code>系统特权才能创建表空间。
                     </p>
                     <p>在创建表空间之前，必须创建一个包含它的数据库。任何数据库中的主表空间都是<code class="codeph">SYSTEM</code>表空间，它包含数据库服务器功能的基本信息，例如数据字典和系统回滚段。<code class="codeph">SYSTEM</code>表空间是在数据库创建时创建的第一个表空间。它作为任何其他表空间进行管理，但需要更高级别的权限，并且在某些方面受到限制。例如，您无法重命名或删除<code class="codeph">SYSTEM</code>表空间或使其脱机。
                     </p>
                     <p>在创建数据库时，也始终会创建<code class="codeph">SYSAUX</code>表空间，它充当<code class="codeph">SYSTEM</code>表空间的辅助表空间。它包含各种Oracle产品和功能使用的模式，因此这些产品不需要自己的表空间。对于<code class="codeph">SYSTEM</code>表空间， <code class="codeph">SYSAUX</code>表空间的管理需要更高级别的安全性，您无法重命名或删除它。<code class="codeph">SYSAUX</code>表空间的管理在<span class="q">“ <a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="创建数据库时，SYSAUX表空间作为辅助表空间安装到SYSTEM表空间。以前创建和使用单独表空间的某些数据库组件现在占用SYSAUX表空间。">管理SYSAUX表空间</a> ”中</span>单独讨论。
                     </p>
                     <p>创建表空间的步骤因操作系统而异，但第一步始终是使用操作系统创建将在其中分配数据文件的目录结构。在大多数操作系统上，您可以在创建新表空间时指定数据文件的大小和完全指定的文件名，也可以通过添加数据文件来更改现有表空间。无论是创建新表空间还是修改现有表空间，数据库都会自动按指定的方式分配和格式化数据文件。</p>
                     <p>您还可以使用<code class="codeph">CREATE UNDO TABLESPACE</code>语句创建一种称为<span class="bold">撤消表空间</span>的特殊类型的表<span class="bold">空间</span> ，该<span class="bold">表空间</span>专门用于包含撤消记录。这些是由数据库生成的记录，用于回滚或撤消对数据库的更改以进行恢复，读取一致性或<code class="codeph">ROLLBACK</code>语句的请求。创建和管理撤消表空间是<a href="managing-undo.html#GUID-2C865CF9-A8B5-4BF1-A451-E8C08D3611F0" title="对于默认安装，Oracle数据库会自动管理撤消。通常不需要DBA干预。但是，如果您的安装使用Oracle闪回操作，则可能需要执行一些撤消管理任务以确保这些操作成功。">管理撤消</a>的主题。
                     </p>
                     <p>您可以使用<code class="codeph">ALTER TABLESPACE</code>或<code class="codeph">ALTER DATABASE</code>语句来更改表空间。您必须相应地具有<code class="codeph">ALTER TABLESPACE</code>或<code class="codeph">ALTER DATABASE</code>系统特权。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F__GUID-DF9F1118-D8AE-47E3-88B0-9B60B9111BA1">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="规划数据库后，可以使用图形工具或SQL命令创建数据库。">创建和配置Oracle数据库</a> ”</span>以及操作系统的Oracle数据库安装文档，以获取有关在创建数据库时创建的表空间的信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CREATE TABLESPACE</code> ， <code class="codeph">CREATE TEMPORARY TABLESPACE</code> ， <code class="codeph">ALTER TABLESPACE</code>和<code class="codeph">ALTER DATABASE</code>语句的语法和语义的更多信息，请<a href="../sqlrf/index.html" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-55124C2D-98FF-4305-8F25-58245C9BEC1E" title="DB_BLOCK_SIZE初始化参数指定数据库的标准块大小。">指定数据库块大小</a> ”，</span>以获取有关创建具有非标准块大小的表空间所需的初始化参数的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。">创建表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" name="GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A"></a><h4 id="ADMIN-GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" class="sect4"><span class="enumeration_section">13.2.2</span>本地管理的表空间</h4>
                  <p>本地管理的表空间使用存储在每个数据文件中的位图来管理范围。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E">关于本地管理的表空间</a><br>本地管理的表空间使用位图跟踪表空间本身的所有范围信息。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C">创建本地管理的表空间</a><br>通过在<code class="codeph">CREATE TABLESPACE</code>语句的<code class="codeph">EXTENT MANAGEMENT</code>子句中指定<code class="codeph">LOCAL</code>来创建本地管理的表空间。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0">在本地管理的表空间中指定段空间管理</a><br>在本地管理的表空间中，Oracle数据库可以使用两种方法来管理段空间：自动和手动。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。">创建表空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11360"></a><div class="props_rev_3"><a id="GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E" name="GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E"></a><h5 id="ADMIN-GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E" class="sect5"><span class="enumeration_section">13.2.2.1</span>关于本地管理的表空间</h5>
                     <div>
                        <p>本地管理的表空间使用位图跟踪表空间本身的所有范围信息。</p>
                        <p>本地管理的表空间具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>快速，并发的空间操作。空间分配和解除分配修改本地管理的资源（存储在头文件中的位图）。</p>
                           </li>
                           <li>
                              <p>增强性能</p>
                           </li>
                           <li>
                              <p>允许读取备用数据库，因为本地管理的临时表空间不会生成任何撤消或重做。</p>
                           </li>
                           <li>
                              <p>简化了空间分配，因为在指定<code class="codeph">AUTOALLOCATE</code>子句时，数据库会自动选择适当的范围大小。
                              </p>
                           </li>
                           <li>
                              <p>减少了用户对数据字典的依赖，因为必要的信息存储在文件头和位图块中。</p>
                           </li>
                           <li>
                              <p>对于本地管理的表空间，不需要合并空闲扩展区。</p>
                           </li>
                        </ul>
                        <p>所有表空间，包括<a id="d141174e796" class="indexterm-anchor"></a> <code class="codeph">SYSTEM</code>表空间，可以在本地管理。
                        </p>
                        <p><code class="codeph">DBMS_SPACE_ADMIN</code>包为本地管理的表空间提供维护过程。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E__GUID-F79DC454-1AEA-476C-BBF9-0B62EA18729C">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-D8061728-6A13-4F30-AA91-EBE52F276AC3" title="在数据库创建期间，创建本地管理的SYSTEM表空间。本地管理的表空间使用存储在每个数据文件中的位图来管理范围。">创建本地管理的SYSTEM表空间</a> ”</span> ， <span class="q">“ <a href="managing-tablespaces.html#GUID-C961302C-E712-48C2-A938-2509DB4404ED" title="使用DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL过程将SYSTEM表空间从字典管理迁移到本地管理。">将SYSTEM表空间迁移到本地管理的表空间</a> ”</span> ，以及<span class="q">“ <a href="managing-tablespaces.html#GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4" title="Oracle数据库包括DBMS_SPACE_ADMIN包，它是用于诊断和修复本地管理的表空间中的问题的辅助工具的集合。">诊断和修复本地管理的表空间问题</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-tablespaces.html#GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" title="bigfile表空间是一个包含单个但可能非常大（最多4G块）数据文件的表空间。相反，传统的小文件表空间可以包含多个数据文件，但文件不能太大。">Bigfile表空间</a> ”，</span>用于获取有关创建仅包含单个数据文件或临时文件的其他类型的本地管理表空间的信息。
                                 </p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_SPACE_ADMIN</code>包的信息，请<code class="codeph">DBMS_SPACE_ADMIN</code> <a href="../arpls/DBMS_SPACE_ADMIN.html#ARPLS057" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" title="本地管理的表空间使用存储在每个数据文件中的位图来管理范围。">本地管理的表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11361"></a><div class="props_rev_3"><a id="GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C" name="GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C"></a><h5 id="ADMIN-GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C" class="sect5"><span class="enumeration_section">13.2.2.2</span>创建本地管理的表空间</h5>
                     <div>
                        <p>通过在<code class="codeph">CREATE TABLESPACE</code>语句的<code class="codeph">EXTENT MANAGEMENT</code>子句中指定<code class="codeph">LOCAL</code>来创建本地管理的表空间。
                        </p>
                        <div class="section">
                           <p>这是新永久表空间的缺省值，但您必须指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>子句以指定<code class="codeph">AUTOALLOCATE</code>子句或<code class="codeph">UNIFORM</code>子句。您可以使用<code class="codeph">AUTOALLOCATE</code>子句（默认值）自动为数据库管理扩展区，也可以指定使用特定大小的统一扩展区（ <code class="codeph">UNIFORM</code> ）管理表空间。
                           </p>
                           <p>如果您希望表空间包含不同大小的对象，这些对象需要具有不同扩展区大小的许多扩展区，那么<code class="codeph">AUTOALLOCATE</code>是最佳选择。如果对空间分配和释放有很多控制并不重要，那么<code class="codeph">AUTOALLOCATE</code>也是一个不错的选择，因为它简化了表空间管理。使用此设置可能会浪费一些空间，但让Oracle数据库管理您的空间的好处很可能超过了这个缺点。
                           </p>
                           <p>如果您想要精确控制未使用的空间，并且可以准确预测要为一个或多个对象分配的空间以及范围的数量和大小，那么<code class="codeph">UNIFORM</code>是一个不错的选择。此设置可确保您的表空间永远不会有不可用的空间。
                           </p>
                           <p>如果未明确指定扩展区管理的类型，Oracle数据库将按如下方式确定扩展区管理：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果<code class="codeph">CREATE TABLESPACE</code>语句省略了<code class="codeph">DEFAULT</code>存储子句，则数据库将创建本地管理的自动分配表空间。
                                 </p>
                              </li>
                              <li>
                                 <p>如果<code class="codeph">CREATE TABLESPACE</code>语句包含<code class="codeph">DEFAULT</code>存储子句，则数据库将考虑以下内容：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果指定了<code class="codeph">MINIMUM EXTENT</code>子句，则数据库将评估<code class="codeph">MINIMUM EXTENT</code> ， <code class="codeph">INITIAL</code>和<code class="codeph">NEXT</code>的值是否相等以及<code class="codeph">PCTINCREASE</code>的值<code class="codeph">PCTINCREASE</code>为0。如果是，则数据库创建一个本地管理的统一表空间，其大小为= <code class="codeph">INITIAL</code> 。如果<code class="codeph">MINIMUM EXTENT</code> ， <code class="codeph">INITIAL</code>和<code class="codeph">NEXT</code>参数不相等，或者<code class="codeph">PCTINCREASE</code>不为0，则数据库将忽略您指定的任何扩展存储参数，并创建本地管理的自动分配的表空间。
                                       </p>
                                    </li>
                                    <li>
                                       <p>如果未指定<code class="codeph">MINIMUM EXTENT</code>子句，则数据库仅评估<code class="codeph">INITIAL</code>和<code class="codeph">NEXT</code>的存储值是否相等且<code class="codeph">PCTINCREASE</code>为0。如果是这样，表空间是本地管理和统一的。否则，表空间在本地管理并自动分配。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>例如，以下语句创建名为<code class="codeph">lmtbsb</code>的本地管理表空间，并指定<code class="codeph">AUTOALLOCATE</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE'/u02/oracle/data/lmtbsb01.dbf'SIZE 50M EXTENT MANAGEMENT LOCAL AUTOALLOCATE;</pre><p><code class="codeph">AUTOALLOCATE</code>使表空间受系统管理，最小范围大小为64K。</p>
                           <p><code class="codeph">AUTOALLOCATE</code>的替代方案是<code class="codeph">UNIFORM</code> 。它指定使用统一大小的扩展区管理表空间。您可以在<code class="codeph">UNIFORM</code>的<code class="codeph">SIZE</code>子句中指定该大小。如果省略<code class="codeph">SIZE</code> ，则默认大小为1M。</p>
                           <p>以下示例创建一个具有统一128K范围的表空间。（在具有2K块的数据库中，每个范围将等同于64个数据库块）。每个128K范围由该文件的范围位图中的一个位表示。</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE'/u02/oracle/data/lmtbsb01.dbf'SIZE 50M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 128K;</pre><p>当您明确指定<code class="codeph">EXTENT MANAGEMENT LOCAL</code>时，不能指定<code class="codeph">DEFAULT</code>存储子句， <code class="codeph">MINIMUM EXTENT</code>或<code class="codeph">TEMPORARY</code> 。要创建临时本地管理的表空间，请使用<code class="codeph">CREATE TEMPORARY TABLESPACE</code>语句。
                           </p>
                           <div class="infoboxnote" id="GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C__GUID-0DFF4747-A0BC-4F38-B103-1D9088BEA6B2">
                              <p class="notep1">注意：</p>
                              <p>为本地管理的表空间分配数据文件时，应为空间管理（范围位图或空间标题段）中的元数据留出空间，这些元数据是用户空间的一部分。例如，如果在extent管理子句中指定了<code class="codeph">UNIFORM</code>子句但省略了<code class="codeph">SIZE</code>参数，则默认扩展区大小为1MB。在这种情况下，为数据文件指定的大小必须大于1MB（至少一个块加位图的空间）。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" title="本地管理的表空间使用存储在每个数据文件中的位图来管理范围。">本地管理的表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN10065"></a><div class="props_rev_3"><a id="GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0" name="GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0"></a><h5 id="ADMIN-GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0" class="sect5"><span class="enumeration_section">13.2.2.3</span>在本地管理的表空间中指定段空间管理</h5>
                     <div>
                        <p>在本地管理的表空间中，Oracle数据库可以使用两种方法来管理段空间：自动和手动。</p>
                        <div class="section">
                           <p>手动段空间管理使用称为“freelists”的链接列表来管理段中的可用空间，而自动段空间管理使用位图。自动段空间管理是更有效的方法，并且是所有新的永久本地管理表空间的默认值。</p>
                           <p>自动段空间管理比手动段空间管理提供更好的空间利用率。它也是自我调整的，因为它随着用户或实例数量的增加而扩展。在Oracle Real Application Clusters环境中，自动段空间管理允许空间与实例的动态关联。此外，对于许多标准工作负载，具有自动段空间管理的应用程序性能优于使用手动段空间管理的经过良好调整的应用程序的性能。</p>
                           <p>虽然自动段空间管理是所有新的永久本地管理表空间的默认值，但您可以使用<code class="codeph">SEGMENT SPACE MANAGEMENT AUTO</code>子句显式启用它。
                           </p>
                           <p>例如，以下语句创建具有自动段空间管理的表空间<code class="codeph">lmtbsb</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE'/u02/oracle/data/lmtbsb01.dbf'SIZE 50M EXTENT MANAGEMENT LOCAL SATERMENT SPACE MANAGEMENT AUTO;</pre><p><code class="codeph">SEGMENT SPACE MANAGEMENT MANUAL</code>子句禁用自动段空间管理。
                           </p>
                           <p>您在表空间创建时指定的段空间管理适用于随后在表空间中创建的所有段。您无法更改表空间的段空间管理模式。</p>
                           <div class="infoboxnote" id="GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0__GUID-DB172C01-69AA-43B4-AED9-0F08AC0271A7">
                              <p class="notep1">注意：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果将扩展区管理设置为<code class="codeph">LOCAL</code> <code class="codeph">UNIFORM</code> ，则必须确保每个扩展区包含至少5个数据库块。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果将<code class="codeph">AUTOALLOCATE</code>管理设置为<code class="codeph">LOCAL</code> <code class="codeph">AUTOALLOCATE</code> ，并且数据库块大小为16K或更大，则Oracle通过创建最小为5个块的扩展区来管理段空间，最大为64K。</p>
                                 </li>
                                 <li>
                                    <p>您不能为<code class="codeph">SYSTEM</code>表空间指定自动段空间管理。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>使用自动段空间管理的本地管理表空间可以创建为单文件或大文件表空间，如<span class="q">“ <a href="managing-tablespaces.html#GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" title="bigfile表空间是一个包含单个但可能非常大（最多4G块）数据文件的表空间。相反，传统的小文件表空间可以包含多个数据文件，但文件不能太大。">Bigfile表空间</a> ”中所述</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" title="本地管理的表空间使用存储在每个数据文件中的位图来管理范围。">本地管理的表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5C916922-25BD-4140-A76D-08F3C0E68426" name="GUID-5C916922-25BD-4140-A76D-08F3C0E68426"></a><h4 id="ADMIN-GUID-5C916922-25BD-4140-A76D-08F3C0E68426" class="sect4"><span class="enumeration_section">13.2.3</span> Bigfile表空间</h4>
                  <p>Bigfile表空间可以增加数据库的存储容量，减少管理许多数据文件和临时文件的负担。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063">关于Bigfile表空间</a><br><span class="bold">bigfile表空间</span>是一个包含单个但可能非常大（最多4G块）数据文件的表空间。相反，传统的小文件表空间可以包含多个数据文件，但文件不能太大。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-2736AECE-1AA1-4353-AE11-914A382165A9">创建Bigfile表空间</a><br>要创建bigfile表空间，请指定<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句的<code class="codeph">BIGFILE</code>关键字（ <code class="codeph">CREATE</code> <code class="codeph">BIGFILE</code> <code class="codeph">TABLESPACE</code> ...）。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-F083CFBF-955B-4994-875E-3298B140AD1B">识别Bigfile表空间</a><br>您可以查询一组数据字典视图，以获取有关bigfile表空间的信息。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。">创建表空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN01102"></a><div class="props_rev_3"><a id="GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" name="GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063"></a><h5 id="ADMIN-GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" class="sect5"><span class="enumeration_section">13.2.3.1</span>关于<span class="enumeration_section">Bigfile</span>表空间</h5>
                     <div>
                        <p><span class="bold">bigfile表空间</span>是一个包含单个但可能非常大（最多4G块）数据文件的表空间。相反，传统的小文件表空间可以包含多个数据文件，但文件不能太大。
                        </p>
                        <p>bigfile表空间的好处如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>具有8K块的bigfile表空间可以包含32 TB的数据文件。具有32K块的bigfile表空间可以包含128 TB的数据文件。Oracle数据库中的最大数据文件数量有限（通常为64K文件）。因此，bigfile表空间可以显着增强Oracle数据库的存储容量。</p>
                           </li>
                           <li>
                              <p>Bigfile表空间可以减少数据库所需的数据文件数量。另一个好处是可以调整<code class="codeph">CREATE DATABASE</code>和<code class="codeph">CREATE CONTROLFILE</code>语句的<code class="codeph">DB_FILES</code>初始化参数和<code class="codeph">MAXDATAFILES</code>参数，以减少数据文件信息所需的SGA空间量和控制文件的大小。
                              </p>
                           </li>
                           <li>
                              <p>Bigfile表空间通过提供数据文件透明性来简化数据库管理。<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句的SQL语法允许您对表空间而不是基础单个数据文件执行操作。
                              </p>
                           </li>
                        </ul>
                        <p>仅具有自动段空间管理的本地管理表空间支持Bigfile表空间，但有三个例外：本地管理的撤消表空间，临时表空间和<code class="codeph">SYSTEM</code>表空间。
                        </p>
                        <div class="infoboxnote" id="GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063__GUID-DBB8C542-5581-4899-9CE0-BBF40AA11BF3">
                           <p class="notep1">注意：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Bigfile表空间旨在与自动存储管理（Oracle ASM）或支持条带化或RAID的其他逻辑卷管理器以及动态可扩展的逻辑卷一起使用。</p>
                              </li>
                              <li>
                                 <p>避免在不支持条带化的系统上创建bigfile表空间，因为对并行查询执行和RMAN备份并行化有负面影响。</p>
                              </li>
                              <li>
                                 <p>不建议在不支持大文件大小的平台上使用bigfile表空间，这可能会限制表空间容量。有关最大支持文件大小的信息，请参阅操作系统特定文档。</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426" title="Bigfile表空间可以增加数据库的存储容量，减少管理许多数据文件和临时文件的负担。">Bigfile表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11363"></a><div class="props_rev_3"><a id="GUID-2736AECE-1AA1-4353-AE11-914A382165A9" name="GUID-2736AECE-1AA1-4353-AE11-914A382165A9"></a><h5 id="ADMIN-GUID-2736AECE-1AA1-4353-AE11-914A382165A9" class="sect5"><span class="enumeration_section">13.2.3.2</span>创建Bigfile表空间</h5>
                     <div>
                        <p>要创建bigfile表空间，请指定<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句的<code class="codeph">BIGFILE</code>关键字（ <code class="codeph">CREATE</code> <code class="codeph">BIGFILE</code> <code class="codeph">TABLESPACE</code> ...）。
                        </p>
                        <div class="section">
                           <p>Oracle数据库自动创建具有自动段空间管理的本地管理表空间。您可以（但不必）在此声明中指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>和<code class="codeph">SEGMENT</code> <code class="codeph">SPACE</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">AUTO</code> 。但是，如果指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">DICTIONARY</code>或<code class="codeph">SEGMENT</code> <code class="codeph">SPACE</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">MANUAL</code> ，则数据库将返回错误。该语句的其余语法与<code class="codeph">CREATE TABLESPACE</code>语句的语法相同，但您只能指定一个数据文件。例如：</p><pre class="oac_no_warn" dir="ltr">CREATE BIGFILE TABLESPACE bigtbs DATAFILE'/u02/oracle/data/bigtbs01.dbf'SIZE 50G ......
</pre><p>您可以指定<code class="codeph">SIZE</code> ，单位为千字节（K），兆字节（M），千兆字节（G）或太字节（T）。
                           </p>
                           <p>如果在创建数据库时将缺省表空间类型设置为<code class="codeph">BIGFILE</code> ，则无需在<code class="codeph">CREATE TABLESPACE</code>语句中指定关键字<code class="codeph">BIGFILE</code> 。默认情况下会创建一个bigfile表空间。
                           </p>
                           <p>如果在创建数据库时将缺省表空间类型设置为<code class="codeph">BIGFILE</code> ，但您要创建传统（smallfile）表空间，则指定<code class="codeph">CREATE</code> <code class="codeph">SMALLFILE</code> <code class="codeph">TABLESPACE</code>语句以覆盖要创建的表空间的缺省表空间类型。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2736AECE-1AA1-4353-AE11-914A382165A9__GUID-856C678F-0669-4716-98B1-410A4F283DA6">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-35A12594-29EB-4545-A6AD-63B9AC3A5671" title="Oracle数据库简化了表空间的管理，并允许您创建bigfile表空间，从而支持超大型数据库。">在数据库创建期间支持Bigfile表空间</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426" title="Bigfile表空间可以增加数据库的存储容量，减少管理许多数据文件和临时文件的负担。">Bigfile表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11365"></a><div class="props_rev_3"><a id="GUID-F083CFBF-955B-4994-875E-3298B140AD1B" name="GUID-F083CFBF-955B-4994-875E-3298B140AD1B"></a><h5 id="ADMIN-GUID-F083CFBF-955B-4994-875E-3298B140AD1B" class="sect5"><span class="enumeration_section">13.2.3.3</span>识别<span class="enumeration_section">Bigfile</span>表空间</h5>
                     <div>
                        <p>您可以查询一组数据字典视图，以获取有关bigfile表空间的信息。</p>
                        <div class="section">
                           <p>以下视图包含一个<code class="codeph">BIGFILE</code>列，用于将表空间标识为bigfile表空间：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DBA_TABLESPACES</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">USER_TABLESPACES</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V $ TABLESPACE</code></p>
                              </li>
                           </ul>
                           <p>查询这些视图以获取有关bigfile表空间的信息。</p>
                           <p>您还可以通过其单个数据文件的相对文件号来标识bigfile表空间。在大多数平台上，这个数字是1024，而在OS / 390上是4096。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426" title="Bigfile表空间可以增加数据库的存储容量，减少管理许多数据文件和临时文件的负担。">Bigfile表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" name="GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6"></a><h4 id="ADMIN-GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" class="sect4"><span class="enumeration_section">13.2.4</span>具有默认压缩属性的表空间</h4>
                  <div>
                     <p>创建表空间时，可以指定默认情况下压缩在表空间中创建的所有表和索引或其分区。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03">关于具有默认压缩属性的表空间</a><br>创建表空间时，可以为表空间中创建的所有表和索引指定默认的数据压缩。默认压缩级别也适用于组成表空间的分区。压缩此数据可以减少磁盘使用。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06">使用默认压缩属性创建表空间</a><br>创建表空间时，可以使用<code class="codeph">DEFAULT</code>关键字指定表压缩的类型，然后使用包含压缩类型的表压缩子句。您还可以使用<code class="codeph">DEFAULT</code>关键字指定索引压缩的类型，然后使用索引压缩子句和索引压缩类型。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。">创建表空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13316"></a><div class="props_rev_3"><a id="GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03" name="GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03"></a><h5 id="ADMIN-GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03" class="sect5"><span class="enumeration_section">13.2.4.1</span>关于具有默认压缩属性的表空间</h5>
                     <div>
                        <p>创建表空间时，可以为表空间中创建的所有表和索引指定默认的数据压缩。默认压缩级别也适用于组成表空间的分区。压缩此数据可以减少磁盘使用。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" title="创建表空间时，可以指定默认情况下压缩在表空间中创建的所有表和索引或其分区。">具有默认压缩属性的表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06" name="GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06"></a><h5 id="ADMIN-GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06" class="sect5"><span class="enumeration_section">13.2.4.2</span>使用默认压缩属性创建表空间</h5>
                     <div>
                        <p>创建表空间时，可以使用<code class="codeph">DEFAULT</code>关键字指定表压缩的类型，然后使用包含压缩类型的表压缩子句。您还可以使用<code class="codeph">DEFAULT</code>关键字指定索引压缩的类型，然后使用索引压缩子句和索引压缩类型。
                        </p>
                        <div class="section">
                           <p>以下语句指出，除非另行指定，否则在表空间中创建的所有表和分区都将使用高级行压缩：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE ...DEFAULT ROW STORE COMPRESS ADVANCED ......;</pre><p>在该表空间中创建表或分区时，可以覆盖默认的表空间压缩规范。</p>
                           <p>以下语句指示在表空间中创建的所有索引都使用高级高级索引压缩，除非另有说明：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE ...DEFAULT INDEX COMPRESS ADVANCED HIGH ...;</pre><p>在该表空间中创建索引时，可以覆盖默认的表空间压缩规范。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" title="创建表空间时，可以指定默认情况下压缩在表空间中创建的所有表和索引或其分区。">具有默认压缩属性的表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" name="GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB"></a><h4 id="ADMIN-GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" class="sect4"><span class="enumeration_section">13.2.5</span>加密表空间</h4>
                  <p>您可以加密任何永久表空间以保护敏感数据。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-42F231F3-306D-4680-A02E-078683F4C578">关于加密表空间</a><br>加密表空间主要通过数据库以外的方式保护您的数据免受未经授权的访问。例如，当加密的表空间写入备份介质以便从一个Oracle数据库传输到另一个Oracle数据库或者前往场外设施进行存储时，它们仍然是加密的。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-88E85939-7360-4D30-9904-7C32343C293F">创建加密表空间</a><br>您可以创建加密的表空间来保护您的数据免受未经授权的访问。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8">查看有关加密表空间的信息</a><br>您可以查询<code class="codeph">DBA_TABLESPACES</code>和<code class="codeph">USER_TABLESPACES</code>数据字典视图，以获取有关加密表空间的信息。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。">创建表空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12597"></a><a id="ADMIN12598"></a><a id="ADMIN12599"></a><a id="ADMIN12327"></a><div class="props_rev_3"><a id="GUID-42F231F3-306D-4680-A02E-078683F4C578" name="GUID-42F231F3-306D-4680-A02E-078683F4C578"></a><h5 id="ADMIN-GUID-42F231F3-306D-4680-A02E-078683F4C578" class="sect5"><span class="enumeration_section">13.2.5.1</span>关于加密表空间</h5>
                     <div>
                        <p>加密表空间主要通过数据库以外的方式保护您的数据免受未经授权的访问。例如，当加密的表空间写入备份介质以便从一个Oracle数据库传输到另一个Oracle数据库或者前往场外设施进行存储时，它们仍然是加密的。</p>
                        <p>此外，加密表空间可保护试图绕过数据库安全功能并直接通过操作系统文件系统访问数据库文件的用户的数据。表空间加密对您的应用程序完全透明，因此无需修改应用程序。</p>
                        <p>表空间加密不能解决所有安全问题。例如，它不提供数据库内的访问控制。任何被授予对存储在加密表空间中的对象的特权的用户都可以访问这些对象，而无需提供任何类型的附加密码或密钥。</p>
                        <p>加密表空间时，所有表空间块都会加密。支持加密所有段类型，包括表，集群，索引，LOB（ <code class="codeph">BASICFILE</code>和<code class="codeph">SECUREFILE</code> ），表和索引分区等。
                        </p>
                        <div class="infoboxnote" id="GUID-42F231F3-306D-4680-A02E-078683F4C578__GUID-79B56557-1FFC-4296-8E13-0468BE52A2BE">
                           <p class="notep1">注意：</p>
                           <p>无需对存储在加密表空间中的<code class="codeph">SECUREFILE</code> LOB使用LOB加密。
                           </p>
                        </div>
                        <p>为了最大限度地提高安全性，加密表空间中的数据在写入撤消表空间，重做日志和任何临时表空间时会自动加密。但是，从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，您可以选择加密撤消表空间和临时表空间。
                        </p>
                        <p>对于在不同表空间中具有不同分区的分区表和索引，允许在同一表或索引中使用加密和非加密表空间。</p>
                        <p>表空间加密使用Oracle数据库的透明数据加密功能，该功能要求您创建密钥库以存储数据库的主加密密钥。必须先打开密钥库，然后才能创建加密表空间，然后才能存储或检索加密数据。当您打开密钥库时，它可供所有会话使用，并且在您明确关闭它或数据库关闭之前它将保持打开状态。</p>
                        <p>透明数据加密支持行业标准加密算法，包括以下类型的加密算法：高级加密标准（AES）和三重数据加密标准（3DES）算法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>高级加密标准（AES）</p>
                           </li>
                           <li>
                              <p>咏叹调</p>
                           </li>
                           <li>
                              <p>鬼</p>
                           </li>
                           <li>
                              <p>种子</p>
                           </li>
                           <li>
                              <p>三重数据加密标准（3DES）</p>
                           </li>
                        </ul>
                        <p>有关支持的加密算法的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ASOAG9578" target="_blank"><span><cite>Oracle数据库高级安全性指南</cite></span></a> 。
                        </p>
                        <p>加密密钥长度由算法名称暗示。例如，AES128算法使用128位密钥。您可以指定在创建表空间时使用的算法，并且不同的表空间可以使用不同的算法。虽然较长的密钥长度理论上可以提供更高的安全性，但CPU开销存在折衷。如果未在<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句中指定算法，则AES128是默认值。加密表空间没有磁盘空间开销。
                        </p>
                        <p>创建加密表后，可以使用<code class="codeph">ALTER TABLESPACE</code>语句对其进行解密或更改其密钥。您还可以使用<code class="codeph">ALTER TABLESPACE</code>语句来加密未加密的表空间。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-42F231F3-306D-4680-A02E-078683F4C578__GUID-DB26507C-646D-4369-AAA3-0BFD3BE1C048">限制</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下是加密表空间的限制：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>加密表空间在传输到另一个数据库时受到限制。请参阅<span class="q">“ <a href="transporting-data.html#GUID-28800719-6CB9-4A71-95DD-4B61AA603173" title="传输数据存在一般限制。还存在特定于完全可传输导出/导入，可传输表空间或可传输表的限制。">传输数据的一般限制</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>使用加密表空间恢复数据库时（例如，在<code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code>或导致数据库实例崩溃的灾难性错误之后），必须在数据库装入之后和数据库打开之前打开密钥库，以便恢复过程可以解密数据块并重做。
                                 </p>
                              </li>
                           </ul>
                           <p>此外，有关透明数据加密的一般限制，请参阅“ <a href="../asoag/configuring-transparent-data-encryption.html#ASOAG9518" target="_blank"><span><cite>Oracle数据库高级安全性指南”</cite></span></a> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-42F231F3-306D-4680-A02E-078683F4C578__GUID-9F8751C1-5DEB-4F2D-9B38-21AD704690F2">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关透明数据加密的详细信息，请参见<a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG-GUID-62AA9447-FDCD-4A4C-B563-32DE04D55952" target="_blank"><span class="italic">Oracle数据库高级安全性指南</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-tables.html#GUID-F9D38568-4F95-4053-B21F-F318077C29E5" title="您可以加密包含敏感数据的各个表列。敏感数据的示例包括社会安全号码，信用卡号码和医疗记录。列加密对您的应用程序是透明的，但有一些限制。">考虑加密包含敏感数据的列</a> ”</span> ，以替代加密整个表空间</p>
                              </li>
                              <li>
                                 <p><a href="../racad/design-and-deployment-techniques.html#RACAD510" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a> ，了解有关在Oracle Real Application Clusters环境中使用密钥库的信息</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01403" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" title="您可以加密任何永久表空间以保护敏感数据。">加密表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-88E85939-7360-4D30-9904-7C32343C293F" name="GUID-88E85939-7360-4D30-9904-7C32343C293F"></a><h5 id="ADMIN-GUID-88E85939-7360-4D30-9904-7C32343C293F" class="sect5"><span class="enumeration_section">13.2.5.2</span>创建加密表空间</h5>
                     <div>
                        <p>您可以创建加密的表空间来保护您的数据免受未经授权的访问。</p>
                        <div class="section">
                           <p>要加密表空间，必须在<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">11.2.0</code>或更高版本的情况下打开数据库。任何可以创建表空间的用户都可以创建加密的表空间。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-88E85939-7360-4D30-9904-7C32343C293F__GUID-AF2263F0-99B9-444D-AA0A-03E07D57DEBE">例子</p>
                           <p>要创建加密表空间：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<code class="codeph">ENCRYPTION</code>子句运行<code class="codeph">CREATE TABLESPACE</code>语句。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下语句使用默认加密算法创建加密表空间：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE securespace DATAFILE'/u01/app/oracle/oradata/orcl/secure01.dbf'SIZE 100M ENCRYPTION ENCRYPT;</pre><p>以下语句使用AES256算法创建相同的表空间：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE securespace DATAFILE'/u01/app/oracle/oradata/orcl/secure01.dbf'SIZE 100M ENCRYPTION使用'AES256'ENCRYPT;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-88E85939-7360-4D30-9904-7C32343C293F__GUID-5ECAFCF7-2CA7-4BC5-96C7-EA2967F5C66D">
                           <p class="notep1">也可以看看：</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ASOAG-GUID-F95E13AA-FE30-423B-930C-13D355CE46B3" target="_blank"><span><cite>Oracle数据库高级安全性指南</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" title="您可以加密任何永久表空间以保护敏感数据。">加密表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8" name="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8"></a><h5 id="ADMIN-GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8" class="sect5"><span class="enumeration_section">13.2.5.3</span>查看加密表空间信息</h5>
                     <div>
                        <p>您可以查询<code class="codeph">DBA_TABLESPACES</code>和<code class="codeph">USER_TABLESPACES</code>数据字典视图，以获取有关加密表空间的信息。
                        </p>
                        <div class="section">
                           <p><code class="codeph">DBA_TABLESPACES</code>和<code class="codeph">USER_TABLESPACES</code>数据字典视图包含名为<code class="codeph">ENCRYPTED</code>的列。此列包含加密表空间的<code class="codeph">YES</code> 。
                           </p>
                           <p>视图<code class="codeph">V$ENCRYPTED_TABLESPACES</code>列出了所有当前加密的表空间。以下查询显示加密表空间的名称和加密算法：</p><pre class="oac_no_warn" dir="ltr">SELECT t.name，e.encryptionalg算法FROM v $ tablespace t，v $ encrypted_tablespaces e WHERE t.ts＃= e.ts＃; NAME ALGORITHM ------------------------------ --------- SECURESPACE AES256</pre><div class="infoboxnote" id="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8__GUID-F4C465D6-2CB0-4B47-AFF1-9B810E1EB4C0">
                              <p class="notep1">注意：</p>您可以将现有表空间转换为加密表空间。
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8__GUID-1F5368B3-1A27-478B-8B77-4045FB276C28">
                           <p class="notep1">也可以看看：</p>有关将现有表空间转换为加密表空间的信息，请参见<a href="../asoag/configuring-transparent-data-encryption.html#ASOAG620" target="_blank"><span><cite>“Oracle数据库高级安全指南”</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" title="您可以加密任何永久表空间以保护敏感数据。">加密表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" name="GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC"></a><h4 id="ADMIN-GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" class="sect4"><span class="enumeration_section">13.2.6</span>临时表空间</h4>
                  <div>
                     <p>临时表空间可以改善不适合内存的多个排序操作的并发性。这些表空间还可以提高各种空间管理操作的效率。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45">关于临时表空间</a><br><span class="bold">临时表空间</span>包含仅在会话期间保留的临时数据。临时表空间可以改善不适合内存的多个排序操作的并发性，并且可以提高排序期间空间管理操作的效率。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D">创建本地管理的临时表空间</a><br>由于空间管理在本地管理的表空间中更加简单和高效，因此它们非常适合临时表空间。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-429AC4EC-980C-4132-9805-6126B2778B94">创建Bigfile临时表空间</a><br>与常规表空间一样，您可以创建单文件（bigfile）临时表空间。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8">查看临时表空间的空间使用情况</a><br><code class="codeph">DBA_TEMP_FREE_SPACE</code>字典视图包含有关每个临时表空间的空间使用情况的信息。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。">创建表空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12600"></a><a id="ADMIN12601"></a><a id="ADMIN11366"></a><div class="props_rev_3"><a id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45" name="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45"></a><h5 id="ADMIN-GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45" class="sect5"><span class="enumeration_section">13.2.6.1</span>关于临时表空间</h5>
                     <div>
                        <p><span class="bold">临时表空间</span>包含仅在会话期间保留的临时数据。临时表空间可以改善不适合内存的多个排序操作的并发性，并且可以提高排序期间空间管理操作的效率。
                        </p>
                        <p>临时表空间用于存储以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>中间排序结果</p>
                           </li>
                           <li>
                              <p>临时表和临时索引</p>
                           </li>
                           <li>
                              <p>临时LOB</p>
                           </li>
                           <li>
                              <p>临时B树</p>
                           </li>
                        </ul>
                        <p>在临时表空间中，特定实例的所有排序操作共享单个<span class="italic">排序段</span> ，并且对于执行需要临时空间的排序操作的每个实例都存在排序段。排序段由启动后的第一个语句创建，该语句使用临时表空间进行排序，并且仅在关闭时释放。
                        </p>
                        <p>默认情况下，为每个新的Oracle数据库安装创建一个名为<code class="codeph">TEMP</code>临时表空间。您可以使用<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句创建其他临时表空间。您可以使用<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>语句为每个数据库用户分配临时表空间。多个用户可以共享一个临时表空间。
                        </p>
                        <p>您无法在临时表空间中显式创建对象。</p>
                        <div class="infoboxnote" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-02FE7A5E-4A37-435C-AF45-F954C1E9A1F9">
                           <p class="notep1">注意：</p>
                           <p>上述语句的例外是临时表。创建临时表时，除非在新的临时表空间中创建表，否则其行将存储在默认临时表空间中。有关更多信息，请参阅<span class="q">“ <a href="managing-tables.html#GUID-A48CB362-FC15-4A26-8386-906A55F6788E" title="示例说明了如何创建全局临时表。">创建临时表</a> ”</span> 。
                           </p>
                        </div>
                        <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，可以使用本地临时表空间。本地临时表空间为每个数据库实例存储单独的非共享临时文件。本地临时表空间仅用于溢出SQL语句的临时结果，例如涉及排序，散列聚合和连接的查询。这些结果只能在实例中访问。相反，共享临时表空间驻留在共享磁盘上，可供所有实例使用。要创建本地临时表空间，请使用<code class="codeph">CREATE LOCAL TEMPORARY TABLESPACE</code>语句。先前版本的Oracle数据库中提供了共享临时表空间，称为“临时表空间”。在本<span><cite>Oracle数据库管理员指南中</cite></span> ，术语“临时表空间”指的是共享临时表空间，除非另有说明。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-0043A060-8643-4FA9-9F7F-76728DB67E37">默认临时表空间</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>未显式分配临时表空间的用户使用数据库缺省临时表空间，对于新安装，该表空间为<code class="codeph">TEMP</code> 。您可以使用以下命令更改数据库的默认临时表空间：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT TEMPORARY TABLESPACE <span class="italic">tablespace_name</span> ;</pre><p>要确定数据库的当前默认临时表空间，请运行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT PROPERTY_NAME，PROPERTY_VALUE FROM DATABASE_PROPERTIES，其中PROPERTY_NAME ='DEFAULT_TEMP_TABLESPACE'; PROPERTY_NAME PROPERTY_VALUE -------------------------- ---------------------- -------- DEFAULT_TEMP_TABLESPACE TEMP</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-59A03FF5-6AE8-4DF6-8189-6922CCED199B">临时表空间中的空间分配</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>您可以使用<code class="codeph">V$SORT_SEGMENT</code>视图查看临时表空间排序段中空间的分配和释放。<code class="codeph">V$TEMPSEG_USAGE</code>视图标识这些段中的当前排序用户。
                           </p>
                           <p>当使用临时空间的排序操作完成时，排序段中的已分配范围不会被释放;它们只是标记为免费且可供重复使用。<code class="codeph">DBA_TEMP_FREE_SPACE</code>视图显示每个临时表空间中的已分配和可用空间总量。有关详细信息，请参阅<span class="q">“ <a href="managing-tablespaces.html#GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8" title="DBA_TEMP_FREE_SPACE字典视图包含有关每个临时表空间的空间使用情况的信息。">查看临时表空间的空间使用情况</a> ”</span> 。您可以手动收缩具有大量未使用空间的本地管理的临时表空间。有关详细信息，请参阅<span class="q">“ <a href="managing-tablespaces.html#GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7" title="您可以收缩本地管理的临时表空间并释放未使用的空间。">缩小本地管理的临时表空间</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-866030B0-E90B-4276-9894-7EE6E5D9549D">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关创建用户和分配临时表空间的信息，请参见<a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG002" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a></p>
                              </li>
                              <li>
                                 <p>有关本地临时表空间，共享临时表空间和缺省临时表空间的更多信息，请<a href="../cncpt/logical-storage-structures.html#CNCPT1092" target="_blank"><span class="italic">参见Oracle数据库概念</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">V$SORT_SEGMENT</code> ， <code class="codeph">V$TEMPSEG_USAGE</code>和<code class="codeph">DBA_TEMP_FREE_SPACE</code>视图的更多信息，请<a href="../refrn/index.html" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/tuning-program-global-area.html#TGDBA346" target="_blank"><span class="italic">“Oracle数据库性能调整指南”，</span></a>用于讨论调优排序</p>
                              </li>
                              <li>
                                 <p>有关本地临时表空间的详细信息<a href="../racad/introduction-to-oracle-rac.html#RACAD-GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F" target="_blank"><span><cite>，请参见“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="临时表空间可以改善不适合内存的多个排序操作的并发性。这些表空间还可以提高各种空间管理操作的效率。">临时表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11367"></a><div class="props_rev_3"><a id="GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D" name="GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D"></a><h5 id="ADMIN-GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D" class="sect5"><span class="enumeration_section">13.2.6.2</span>创建本地管理的临时表空间</h5>
                     <div>
                        <p>由于空间管理在本地管理的表空间中更加简单和高效，因此它们非常适合临时表空间。</p>
                        <div class="section">
                           <p>本地管理的临时表空间使用<span class="bold">临时文件</span> ，这些<span class="bold">临时文件</span>不会修改临时表空间之外的数据，也不会为临时表空间数据生成任何重做。因此，它们使您能够在只读或备用数据库中执行磁盘上排序操作。
                           </p>
                           <p>您还可以使用不同的视图来查看有关临时文件的信息，而不是使用数据文件。<code class="codeph">V$TEMPFILE</code>和<code class="codeph">DBA_TEMP_FILES</code>视图类似于<code class="codeph">V$DATAFILE</code>和<code class="codeph">DBA_DATA_FILES</code>视图。
                           </p>
                           <p>要创建本地管理的临时表空间，请使用<code class="codeph">CREATE TEMPORARY TABLESPACE</code>语句，该语句要求您具有<code class="codeph">CREATE TABLESPACE</code>系统特权。
                           </p>
                           <p>以下语句创建一个临时表空间，其中每个范围都是16M。每个16M范围（当标准块大小为2K时相当于8000个块）由文件位图中的一个位表示。</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE lmtemp TEMPFILE'/u02/oracle/data/lmtemp01.dbf'SIZE 20M REUSE EXTENT MANAGEMENT LOCAL UNIFORM SIZE 16M;</pre><p>对于临时表空间，extent management子句是可选的，因为所有临时表空间都是使用统一大小的本地管理扩展区创建的。如果在<code class="codeph">EXTENT SIZE</code>子句中指定了<code class="codeph">EXTENT SIZE</code> ，则使用它。如果未指定，则Oracle数据库使用表空间大小和文件大小来确定默认扩展区大小。
                           </p>
                           <div class="infoboxnote" id="GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D__GUID-B09AE3C0-8BEC-4724-84AD-3A249FE2753C">
                              <p class="notep1">注意：</p>
                              <p>在某些操作系统上，在实际访问临时文件块之前，数据库不会为临时文件分配空间。空间分配的这种延迟导致更快地创建和调整临时文件的大小，但是当稍后使用临时文件时，它需要足够的磁盘空间。请参阅操作系统文档以确定数据库是否以这种方式在系统上分配临时文件空间。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="临时表空间可以改善不适合内存的多个排序操作的并发性。这些表空间还可以提高各种空间管理操作的效率。">临时表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11368"></a><div class="props_rev_3"><a id="GUID-429AC4EC-980C-4132-9805-6126B2778B94" name="GUID-429AC4EC-980C-4132-9805-6126B2778B94"></a><h5 id="ADMIN-GUID-429AC4EC-980C-4132-9805-6126B2778B94" class="sect5"><span class="enumeration_section">13.2.6.3</span>创建<span class="enumeration_section">Bigfile</span>临时表空间</h5>
                     <div>
                        <p>与常规表空间一样，您可以创建单文件（bigfile）临时表空间。</p>
                        <div class="section">
                           <p>要创建bigfile临时表空间：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行<code class="codeph">CREATE BIGFILE TEMPORARY TABLESPACE</code>语句以创建单临时文件表空间。
                                 </p>
                              </li>
                           </ul>
                           <p>有关<span class="q"><a href="managing-tablespaces.html#GUID-3060B641-E131-404D-B415-1A319222ED2A" title="You can resize or autoextend a bigfile tablespace.">bigfile表空间</a></span>的信息，请参阅<span class="q">“ <a href="managing-tablespaces.html#GUID-2736AECE-1AA1-4353-AE11-914A382165A9" title="要创建bigfile表空间，请指定CREATE TABLESPACE语句的BIGFILE关键字（CREATE BIGFILE TABLESPACE ...）。">创建Bigfile表空间</a> ”</span>和<span class="q">“ <a href="managing-tablespaces.html#GUID-3060B641-E131-404D-B415-1A319222ED2A" title="您可以调整大小文件表空间的大小或自动扩展。">更改Bigfile表空间</a> ”部分</span> ，但请考虑创建使用临时文件而不是数据文件的临时表空间。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="临时表空间可以改善不适合内存的多个排序操作的并发性。这些表空间还可以提高各种空间管理操作的效率。">临时表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12315"></a><div class="props_rev_3"><a id="GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8" name="GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8"></a><h5 id="ADMIN-GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8" class="sect5"><span class="enumeration_section">13.2.6.4</span>查看临时表空间的空间使用情况</h5>
                     <div>
                        <p><code class="codeph">DBA_TEMP_FREE_SPACE</code>字典视图包含有关每个临时表空间的空间使用情况的信息。
                        </p>
                        <div class="section">
                           <p>信息包括分配的空间和可用空间。您可以使用以下语句在此视图中查询这些统计信息：</p><pre class="oac_no_warn" dir="ltr">来自DBA_TEMP_FREE_SPACE的SELECT *; TABLESPACE_NAME TABLESPACE_SIZE ALLOCATED_SPACE FREE_SPACE ----------------------------------- ----------- ---- --------------- ---------- TEMP 250609664 250609664 249561088</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="临时表空间可以改善不适合内存的多个排序操作的并发性。这些表空间还可以提高各种空间管理操作的效率。">临时表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" name="GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE"></a><h4 id="ADMIN-GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" class="sect4"><span class="enumeration_section">13.2.7</span>临时表空间组</h4>
                  <p>临时表空间组是一个表空间组，它被指定为数据库的默认临时表空间。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5">多个临时表空间：使用表空间组</a><br><span class="bold">表空间组</span>使用户可以使用多个表空间中的临时空间。使用表空间组而不是单个临时表空间可以缓解由于一个表空间不足以保存排序结果而导致的问题，尤其是在具有多个分区的表上。表空间组使并行执行服务器在单个并行操作中使用多个临时表空间。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B885556A-C400-4245-9A6D-539A5F4A573F">创建表空间组</a><br>在<code class="codeph">CREATE TEMPORARY TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句中包含<code class="codeph">TABLESPACE GROUP</code>子句时，隐式创建表空间组，并且指定的表空间组当前不存在。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-957E8D32-3B84-4584-A79E-D78886408D54">更改表空间组的成员</a><br>您可以通过在<code class="codeph">CREATE TEMPORARY TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句的<code class="codeph">TABLESPACE GROUP</code>子句中指定现有组名来将表空间添加到现有表空间组。
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45">将表空间组分配为默认临时表空间</a><br>使用<code class="codeph">ALTER DATABASE...DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>语句将表空间组分配为数据库的默认临时表空间。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="您可以创建一个表空间来将相关的逻辑结构（例如表和索引）组合在一起。数据库数据文件存储在表空间中。">创建表空间</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN01103"></a><div class="props_rev_3"><a id="GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5" name="GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5"></a><h5 id="ADMIN-GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5" class="sect5"><span class="enumeration_section">13.2.7.1</span>多个临时表空间：使用表空间组</h5>
                     <div>
                        <p><span class="bold">表空间组</span>使用户可以使用多个表空间中的临时空间。使用表空间组而不是单个临时表空间可以缓解由于一个表空间不足以保存排序结果而导致的问题，尤其是在具有多个分区的表上。表空间组使并行执行服务器在单个并行操作中使用多个临时表空间。
                        </p>
                        <p>表空间组具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它至少包含一个表空间。组中包含的最大表空间数没有明确限制。</p>
                           </li>
                           <li>
                              <p>它共享表空间的命名空间，因此它的名称不能与任何表空间相同。</p>
                           </li>
                           <li>
                              <p>在为数据库分配默认临时表空间或为用户分配临时表空间时，可以指定表空间名称出现的任何表空间组名称。</p>
                           </li>
                        </ul>
                        <p>您没有显式创建表空间组。而是在将第一个临时表空间分配给组时隐式创建它。当从中删除包含的最后一个临时表空间时，将删除该组。</p>
                        <p>视图<code class="codeph">DBA_TABLESPACE_GROUPS</code>列出了表空间组及其成员表空间。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5__GUID-40B7B6FE-4E9A-47D5-8DB7-17C56106C11F">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将临时表空间或表空间组分配给用户的详细信息，请参见<a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG10240" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="临时表空间组是一个表空间组，它被指定为数据库的默认临时表空间。">临时表空间组</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11370"></a><div class="props_rev_3"><a id="GUID-B885556A-C400-4245-9A6D-539A5F4A573F" name="GUID-B885556A-C400-4245-9A6D-539A5F4A573F"></a><h5 id="ADMIN-GUID-B885556A-C400-4245-9A6D-539A5F4A573F" class="sect5"><span class="enumeration_section">13.2.7.2</span>创建表空间组</h5>
                     <div>
                        <p>在<code class="codeph">CREATE TEMPORARY TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句中包含<code class="codeph">TABLESPACE GROUP</code>子句时，隐式创建表空间组，并且指定的表空间组当前不存在。
                        </p>
                        <div class="section">
                           <p></p>
                           <p>例如，如果<code class="codeph">group1</code>和<code class="codeph">group2</code>都不存在，则以下语句将创建这些组，每个组只有指定的表空间作为成员：</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE lmtemp2 TEMPFILE'/u02/oracle/data/lmtemp201.dbf'SIZE 50M TABLESPACE GROUP group1; ALTER TABLESPACE lmtemp TABLESPACE GROUP group2;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="临时表空间组是一个表空间组，它被指定为数据库的默认临时表空间。">临时表空间组</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11371"></a><div class="props_rev_3"><a id="GUID-957E8D32-3B84-4584-A79E-D78886408D54" name="GUID-957E8D32-3B84-4584-A79E-D78886408D54"></a><h5 id="ADMIN-GUID-957E8D32-3B84-4584-A79E-D78886408D54" class="sect5"><span class="enumeration_section">13.2.7.3</span>更改表空间组的成员</h5>
                     <div>
                        <p>您可以通过在<code class="codeph">CREATE TEMPORARY TABLESPACE</code>或<code class="codeph">ALTER TABLESPACE</code>语句的<code class="codeph">TABLESPACE GROUP</code>子句中指定现有组名来将表空间添加到现有表空间组。
                        </p>
                        <div class="section">
                           <p>例如，以下语句将表空间添加到现有组。它创建表空间<code class="codeph">lmtemp3</code>并将其添加到<code class="codeph">group1</code> ，以便<code class="codeph">group1</code>包含表空间<code class="codeph">lmtemp2</code>和<code class="codeph">lmtemp3</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE lmtemp3 TEMPFILE'/u02/oracle/data/lmtemp301.dbf'SIZE 25M TABLESPACE GROUP group1;</pre><p>以下语句还向现有组添加了表空间，但在这种情况下，因为表空间<code class="codeph">lmtemp2</code>已经属于<code class="codeph">group1</code> ，所以它实际上已从<code class="codeph">group1</code>移到<code class="codeph">group2</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp2 TABLESPACE GROUP group2;</pre><p>现在<code class="codeph">group2</code>包含<code class="codeph">lmtemp</code>和<code class="codeph">lmtemp2</code> ，而<code class="codeph">group1</code>只包含<code class="codeph">tmtemp3</code> 。
                           </p>
                           <p>您可以从组中删除表空间，如以下语句所示：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp3 TABLESPACE GROUP'';</pre><p>表空间<code class="codeph">lmtemp3</code>不再属于任何组。此外，由于不再有任何成员<code class="codeph">group1</code> ，这导致的隐性缺失<code class="codeph">group1</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="临时表空间组是一个表空间组，它被指定为数据库的默认临时表空间。">临时表空间组</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11372"></a><div class="props_rev_3"><a id="GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45" name="GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45"></a><h5 id="ADMIN-GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45" class="sect5"><span class="enumeration_section">13.2.7.4</span>将表空间组分配为默认临时表空间</h5>
                     <div>
                        <p>使用<code class="codeph">ALTER DATABASE...DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>语句将表空间组分配为数据库的默认临时表空间。
                        </p>
                        <div class="section">
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT TEMPORARY TABLESPACE group2;</pre><p>现在，任何未明确分配临时表空间的用户都将使用表空间<code class="codeph">lmtemp</code>和<code class="codeph">lmtemp2</code> 。
                           </p>
                           <p>如果将表空间组指定为默认临时表空间，则不能删除其任何成员表空间。您必须首先从表空间组中删除表空间。同样，只要它是默认的临时表空间，就不能删除单个临时表空间。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="临时表空间组是一个表空间组，它被指定为数据库的默认临时表空间。">临时表空间组</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN14233"></a><div class="props_rev_3"><a id="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016" name="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016"></a><h3 id="ADMIN-GUID-6880021F-F8C3-4DE5-AA62-8536186B7016" class="sect3"><span class="enumeration_section">13.3</span>考虑在内存中的列存储中存储表空间</h3>
               <div>
                  <p>您可以在创建表空间期间或通过更改表空间为内存中列存储启用表空间。如果为内存列存储启用表空间，则默认情况下会为内存列存储启用表空间中的所有表。</p>
                  <div class="infoboxnote" id="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016__GUID-8122DD85-B71F-4C65-8ADE-A78AC9CF54F4">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始提供此功能。
                     </p>
                  </div>
                  <p>内存中列存储是系统全局区域（SGA）的可选部分，用于存储针对快速扫描进行了优化的表，表分区和其他数据库对象的副本。在内存中列存储中，表数据按列而不是SGA中的行存储。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016__GUID-00828EA3-6AF1-40EE-B878-6825A0BCDEBD">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="managing-memory.html#GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" title="Oracle数据库内存（Database In-Memory）是Oracle数据库12c第1版（12.1.0.2）中首次引入的一套功能，可极大地提高实时分析和混合工作负载的性能。">使用Oracle数据库内存提高查询性能</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11373"></a><div class="props_rev_3"><a id="GUID-A789CECE-226C-4280-8BC4-39F064036965" name="GUID-A789CECE-226C-4280-8BC4-39F064036965"></a><h3 id="ADMIN-GUID-A789CECE-226C-4280-8BC4-39F064036965" class="sect3"><span class="enumeration_section">13.4</span>为表空间指定非标准块大小</h3>
               <div>
                  <p>您可以创建块大小不同于标准数据库块大小的表空间，该大小由<code class="codeph">DB_BLOCK_SIZE</code>初始化参数指定。此功能允许您在数据库之间传输具有不同块大小的表空间。
                  </p>
                  <div class="section">
                     <p>要创建块大小不同于数据库标准块大小的表空间：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">CREATE TABLESPACE</code>语句的<code class="codeph">BLOCKSIZE</code>子句。
                           </p>
                        </li>
                     </ul>
                     <p>为了使<code class="codeph">BLOCKSIZE</code>子句成功，您必须已经设置了<a id="d141174e3207" class="indexterm-anchor"></a><a id="d141174e3211" class="indexterm-anchor"></a> <code class="codeph">DB_CACHE_SIZE</code>和至少一个<code class="codeph">DB_nK_CACHE_SIZE</code>初始化参数。此外，您在<code class="codeph">BLOCKSIZE</code>子句中指定的整数必须与一个<code class="codeph">DB_nK_CACHE_SIZE</code>参数设置的设置相对应。虽然是冗余的，但允许指定<code class="codeph">BLOCKSIZE</code>等于标准块大小（由<code class="codeph">DB_BLOCK_SIZE</code>初始化参数指定）。
                     </p>
                     <p>以下语句创建表空间<code class="codeph">lmtbsb</code> ，但指定的块大小不同于标准数据库块大小（由<code class="codeph">DB_BLOCK_SIZE</code>初始化参数指定）：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE'/u02/oracle/data/lmtbsb01.dbf'SIZE 50M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 128K BLOCKSIZE 8K;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-A789CECE-226C-4280-8BC4-39F064036965__GUID-105DD05C-907B-45DB-A2AC-59CFBD8DD348">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-55124C2D-98FF-4305-8F25-58245C9BEC1E" title="DB_BLOCK_SIZE初始化参数指定数据库的标准块大小。">指定数据库块大小</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="managing-memory.html#GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E" title="缓冲区高速缓存初始化参数确定SGA的缓冲区高速缓存组件的大小。">设置缓冲区高速缓存初始化参数</a> ”</span>以获取有关<code class="codeph">DB_CACHE_SIZE</code>和<code class="codeph">DB_nK_CACHE_SIZE</code>参数设置的信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="您可以在数据库之间传输表空间。">在数据库之间传输表空间</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11374"></a><div class="props_rev_3"><a id="GUID-A1939693-60AC-4009-B37C-A1D8D1360D49" name="GUID-A1939693-60AC-4009-B37C-A1D8D1360D49"></a><h3 id="ADMIN-GUID-A1939693-60AC-4009-B37C-A1D8D1360D49" class="sect3"><span class="enumeration_section">13.5</span>控制重做记录的写入</h3>
               <div>
                  <p>对于某些数据库操作，您可以控制数据库是否生成重做记录。</p>
                  <div class="section">
                     <p>没有重做，就不可能恢复媒体。然而，抑制重做生成可以改善性能，并且可以适合于容易恢复的操作。这种操作的一个例子是<code class="codeph">CREATE TABLE...AS SELECT</code>语句，可在数据库或实例失败时重复。
                     </p>
                     <p>要在对表空间中的对象执行这些操作时禁止重做：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在<code class="codeph">CREATE TABLESPACE</code>语句中指定<code class="codeph">NOLOGGING</code>子句。
                           </p>
                        </li>
                     </ul>
                     <p>如果不包含此子句，或者指定了<code class="codeph">LOGGING</code> ，则数据库会在对表空间中的对象进行更改时生成重做。无论logging属性如何，都不会为临时段或临时表空间生成重做。
                     </p>
                     <p>在表空间级别指定的logging属性是在表空间中创建的对象的默认属性。您可以通过在架构对象级别指定<code class="codeph">LOGGING</code>或<code class="codeph">NOLOGGING</code>来覆盖此默认日志记录属性 - 例如，在<code class="codeph">CREATE TABLE</code>语句中。
                     </p>
                     <p>如果您有备用数据库，则<code class="codeph">NOLOGGING</code>模式会导致备用数据库的可用性和准确性出现问题。要解决此问题，可以指定<code class="codeph">FORCE LOGGING</code>模式。在<code class="codeph">CREATE TABLESPACE</code>语句中包含<code class="codeph">FORCE LOGGING</code>子句时，强制为所有对表空间中的对象进行更改的操作生成重做记录。这将覆盖在对象级别进行的任何规范。
                     </p>
                     <p>如果将<code class="codeph">FORCE LOGGING</code>模式的表空间传输到另一个数据库，则新表空间将不会保持<code class="codeph">FORCE LOGGING</code>模式。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-A1939693-60AC-4009-B37C-A1D8D1360D49__GUID-07BA0E38-158F-4DF3-A85D-E841B9A1B714">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关可在<code class="codeph">NOLOGGING</code>模式下执行的操作的信息，请<a href="../sqlrf/logging_clause.html#SQLRF30009" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-ACEA5B83-D70F-4F30-A85B-3030248F597B" title="某些数据定义语言语句（如CREATE TABLE）允许使用NOLOGGING子句，这会导致某些数据库操作不在数据库重做日志中生成重做记录。NOLOGGING设置可以加速可以在数据库恢复机制之外轻松恢复的操作，但它可能会对介质恢复和备用数据库产生负面影响。">指定FORCE LOGGING模式</a> ”</span>以获取有关<code class="codeph">FORCE LOGGING</code>模式的更多信息以及有关与<code class="codeph">CREATE DATABASE</code>语句一起使用的<code class="codeph">FORCE LOGGING</code>子句的效果的信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11375"></a><div class="props_rev_3"><a id="GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" name="GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91"></a><h3 id="ADMIN-GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" class="sect3"><span class="enumeration_section">13.6</span>更改表空间可用性</h3>
               <div>
                  <p>您可以使联机表空间脱机，以便暂时不可用于一般用途。数据库的其余部分保持打开状态，供用户访问数据。相反，您可以联机使用脱机表空间，以使数据库用户可以使用表空间中的模式对象。必须打开数据库才能更改表空间的可用性。</p>
                  <p>要更改表空间的可用性，请使用<code class="codeph">ALTER TABLESPACE</code>语句。您必须具有<code class="codeph">ALTER TABLESPACE</code>或<code class="codeph">MANAGE TABLESPACE</code>系统特权。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D">使表空间脱机</a><br>使表空间脱机使其无法进行正常访问。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-2F283784-527B-451A-A94F-2823720E1BC4">使表空间在线</a><br>只要数据库处于打开状态，您就可以在Oracle数据库中将任何表空间联机。表空间通常在线，因此数据库用户可以使用其中包含的数据。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91__GUID-3D2149F0-F83A-47D4-8DBF-EC7FD123985C">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="managing-data-files-and-temp-files.html#GUID-B6AD08B7-675E-48FA-B8DA-0C8496F44B28" title="您可以通过使其脱机或使其联机来更改单个数据文件或临时文件的可用性。脱机数据文件对数据库不可用，并且在它们重新联机之前无法访问。">更改数据文件可用性</a> ”</span>以获取有关更改表空间中各个数据文件的可用性的信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11376"></a><div class="props_rev_3"><a id="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D" name="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D"></a><h4 id="ADMIN-GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D" class="sect4"><span class="enumeration_section">13.6.1使</span>表空间脱机</h4>
                  <div>
                     <p>使表空间脱机使其无法进行正常访问。</p>
                     <div class="section">
                        <p>出于以下任何原因，您可能希望使表空间脱机：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使数据库的一部分不可用，同时允许正常访问数据库的其余部分</p>
                           </li>
                           <li>
                              <p>执行脱机表空间备份（即使可以在联机和使用时备份表空间）</p>
                           </li>
                           <li>
                              <p>在更新或维护应用程序时使应用程序及其表组暂时不可用</p>
                           </li>
                           <li>
                              <p>重命名或重定位表空间数据文件</p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="managing-data-files-and-temp-files.html#GUID-B0CB3536-EB2D-4319-9563-D698905E67D4" title="您可以重命名联机或脱机数据文件，以更改其名称或重新定位它们。">重命名和重定位数据文件</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                        <p>要使表空间脱机：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">OFFLINE</code>子句运行<code class="codeph">ALTER TABLESPACE</code>语句。
                              </p>
                           </li>
                        </ul>
                        <p>当表空间脱机时，数据库将使所有关联文件脱机。</p>
                        <p>您无法使以下表空间脱机：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">系统</code></p>
                           </li>
                           <li>
                              <p>撤消表空间</p>
                           </li>
                           <li>
                              <p>临时表空间</p>
                           </li>
                        </ul>
                        <p>在使表空间脱机之前，请考虑更改已将表空间分配为默认表空间的任何用户的表空间分配。建议这样做是因为这些用户在脱机时将无法访问表空间中的对象。</p>
                        <p>您可以在<code class="codeph">ALTER TABLESPACE...指定以下任何参数<code class="codeph">ALTER TABLESPACE...OFFLINE</code>声明：</p>
                        <div class="tblformal" id="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D__GUID-33695882-4578-4FA2-8750-0626A0E18A0D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the clauses that can be specified when taking a tablespace offline. Column 2 explains the meaning of the clause." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d141174e3635">条款</th>
                                    <th align="left" valign="bottom" width="74%" id="d141174e3638">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d141174e3643" headers="d141174e3635 ">
                                       <p><code class="codeph">正常</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d141174e3643 d141174e3638 ">
                                       <p>如果表空间的任何数据文件都不存在错误条件，则表空间可以正常脱机。由于写入错误，表空间中的任何数据文件当前都不能脱机。指定<code class="codeph">OFFLINE NORMAL</code> ，数据库会为表空间的所有数据文件提供检查点，因为它会使它们脱机。<code class="codeph">NORMAL</code>是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d141174e3657" headers="d141174e3635 ">
                                       <p><code class="codeph">临时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d141174e3657 d141174e3638 ">
                                       <p>即使表空间的一个或多个文件存在错误条件，也可以临时使表空间脱机。指定<code class="codeph">OFFLINE TEMPORARY</code> ，数据库会使尚未脱机的数据文件脱机，并在执行此操作时对其进行检查。
                                       </p>
                                       <p>如果没有文件脱机，但您使用临时子句，则不需要介质恢复来使表空间重新联机。但是，如果表空间的一个或多个文件由于写入错误而脱机，并且您暂时使表空间脱机，则表空间需要恢复才能将其重新联机。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d141174e3670" headers="d141174e3635 ">
                                       <p><code class="codeph">即时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d141174e3670 d141174e3638 ">
                                       <p>表空间可以立即脱机，数据库不会在任何数据文件上使用检查点。指定<code class="codeph">OFFLINE IMMEDIATE</code> ，需要在表空间联机之前进行表空间的介质恢复。如果数据库在<code class="codeph">NOARCHIVELOG</code>模式下运行，则无法立即使表空间脱机。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D__GUID-842CAB26-E51E-4875-9FFC-5304C4A66C36">
                           <p class="notep1">注意：</p>
                           <p>如果必须使表空间脱机，请尽可能使用<code class="codeph">NORMAL</code>子句（默认值）。此设置可确保表空间不需要恢复即可恢复联机，即使在完全恢复后使用<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code>语句重置重做日志序列也是如此。
                           </p>
                        </div>
                        <p>仅当您无法正常使表空间脱机时才指定<code class="codeph">TEMPORARY</code> 。在这种情况下，只有在表空间联机之前才需要恢复由于错误而脱机的文件。仅在尝试正常和临时设置后指定<code class="codeph">IMMEDIATE</code> 。
                        </p>
                        <p>以下示例使<code class="codeph">users</code>表空间正常脱机：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE用户OFFLINE NORMAL;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" title="您可以使联机表空间脱机，以便暂时不可用于一般用途。数据库的其余部分保持打开状态，供用户访问数据。相反，您可以联机使用脱机表空间，以使数据库用户可以使用表空间中的模式对象。必须打开数据库才能更改表空间的可用性。">更改表空间可用性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11377"></a><div class="props_rev_3"><a id="GUID-2F283784-527B-451A-A94F-2823720E1BC4" name="GUID-2F283784-527B-451A-A94F-2823720E1BC4"></a><h4 id="ADMIN-GUID-2F283784-527B-451A-A94F-2823720E1BC4" class="sect4"><span class="enumeration_section">13.6.2</span>使表空间在线</h4>
                  <div>
                     <p>只要数据库处于打开状态，您就可以在Oracle数据库中将任何表空间联机。表空间通常在线，因此数据库用户可以使用其中包含的数据。</p>
                     <div class="section">
                        <p>要在线提供表空间：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">ONLINE</code>子句运行<code class="codeph">ALTER TABLESPACE</code>语句。
                              </p>
                           </li>
                        </ul>
                        <p>如果要联机的表空间没有“干净地”脱机（即，使用<code class="codeph">ALTER TABLESPACE OFFLINE</code>语句的<code class="codeph">NORMAL</code>子句），则必须首先在表空间上执行介质恢复，然后再将其联机。否则，数据库将返回错误，表空间将保持脱机状态。
                        </p>
                        <p>例如，以下语句将<code class="codeph">users</code>表空间联机：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE用户在线;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2F283784-527B-451A-A94F-2823720E1BC4__GUID-9B446D05-4ECD-4F5C-B7A0-9BA3193AA884">
                        <p class="notep1">也可以看看：</p>
                        <p>有关执行介质恢复的信息<a href="../bradv/index.html" target="_blank"><span class="italic">，请参见“Oracle数据库备份和恢复用户指南”</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" title="您可以使联机表空间脱机，以便暂时不可用于一般用途。数据库的其余部分保持打开状态，供用户访问数据。相反，您可以联机使用脱机表空间，以使数据库用户可以使用表空间中的模式对象。必须打开数据库才能更改表空间的可用性。">更改表空间可用性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-4E714569-F95D-4742-8CEF-3A12769C870F" name="GUID-4E714569-F95D-4742-8CEF-3A12769C870F"></a><h3 id="ADMIN-GUID-4E714569-F95D-4742-8CEF-3A12769C870F" class="sect3"><span class="enumeration_section">13.7</span>使用只读表空间</h3>
               <p>表空间可以进入只读模式。这可以防止更新存储在其中的任何数据。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8">关于只读表空间</a><br>使表空间为只读可防止对表空间中的数据文件执行写操作。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD">使表空间只读</a><br>您可以使用带有<code class="codeph">READ ONLY</code>子句的<code class="codeph">ALTER TABLESPACE</code>语句将表空间设置为只读。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641">使只读表空间可写</a><br>使只读表空间可写允许对表空间中的数据文件执行写操作。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD">在WORM设备上创建只读表空间</a><br>您可以在CD-ROM或WORM（一次写入多次读取）设备上创建只读表空间。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D">延迟在只读表空间中打开数据文件</a><br>您可以延迟打开只读表空间的数据文件，直到尝试访问它们为止。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11378"></a><div class="props_rev_3"><a id="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8" name="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8"></a><h4 id="ADMIN-GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8" class="sect4"><span class="enumeration_section">13.7.1</span>关于只读表空间</h4>
                  <div>
                     <p>使表空间为只读可防止对表空间中的数据文件执行写操作。</p>
                     <p>只读表空间的主要目的是消除执行数据库的大型静态部分的备份和恢复的需要。只读表空间还提供了一种保护历史数据的方法，以便用户无法对其进行修改。使表空间为只读可防止更新表空间中的所有表，而不管用户的更新权限级别如何。</p>
                     <div class="infoboxnote" id="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8__GUID-8DE9D259-7470-4431-A85D-528F01F51043">
                        <p class="notep1">注意：</p>
                        <p>将表空间设置为只读本身不能用于满足归档或数据发布要求，因为表空间只能在创建它的数据库中联机。但是，您可以使用可传输表空间功能满足此类要求，如<span class="q">“ <a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="您可以在数据库之间传输表空间。">在数据库之间传输表空间</a> ”中所述</span> 。
                        </p>
                     </div>
                     <p>您可以从只读表空间中删除表（例如表或索引），但不能在只读表空间中创建或更改对象。您可以执行更新数据字典中文件描述的语句，例如<code class="codeph">ALTER TABLE...ADD</code>或<code class="codeph">ALTER TABLE...MODIFY</code> ，但在表空间被读/写之前，您将无法使用新描述。
                     </p>
                     <p>只读表空间可以传输到其他数据库。并且，由于只读表空间永远不能更新，因此它们可以驻留在CD-ROM或WORM（一次写入多次读取）设备上。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8__GUID-EDD0B79C-FDB8-4468-B3C7-403526909A1F">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="您可以在数据库之间传输表空间。">在数据库之间传输表空间</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="表空间可以进入只读模式。这可以防止更新存储在其中的任何数据。">使用只读表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11379"></a><div class="props_rev_3"><a id="GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD" name="GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD"></a><h4 id="ADMIN-GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD" class="sect4"><span class="enumeration_section">13.7.2</span>使表空间只读</h4>
                  <div>
                     <p>您可以使用带有<code class="codeph">READ ONLY</code>子句的<code class="codeph">ALTER TABLESPACE</code>语句将表空间设置为只读。
                     </p>
                     <div class="section">
                        <p>所有表空间最初都创建为读/写。您必须具有<code class="codeph">ALTER TABLESPACE</code>或<code class="codeph">MANAGE TABLESPACE</code>系统特权。
                        </p>
                        <p>在将表空间设置为只读之前，必须满足以下条件。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>表空间必须在线。这是确保没有必须应用于表空间的撤消信息所必需的。</p>
                           </li>
                           <li>
                              <p>表空间不能是活动的undo表空间或<code class="codeph">SYSTEM</code>表空间。
                              </p>
                           </li>
                           <li>
                              <p>表空间当前不能涉及在线备份，因为备份结束更新表空间中所有数据文件的头文件。</p>
                           </li>
                           <li>
                              <p>表空间不能是临时表空间。</p>
                           </li>
                        </ul>
                        <p>要将表空间更改为只读：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">ALTER TABLESPACE</code>语句中的<code class="codeph">READ ONLY</code>子句。
                              </p>
                           </li>
                        </ul>
                        <p>例如，以下语句使<code class="codeph">flights</code>表空间为只读：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE航班只读;</pre><p>为了在访问只读表空间中的数据时获得更好的性能，您可以在将其设置为只读之前发出访问表空间中表的所有块的查询。对每个表执行的简单查询（例如<code class="codeph">SELECT COUNT (*)</code>可确保随后可以最有效地访问表空间中的数据块。这消除了数据库检查最近修改块的事务状态的需要。
                        </p>
                        <p>您可以发出<code class="codeph">ALTER TABLESPACE...数据库正在处理事务时READ ONLY</code>语句。发出语句后，表空间将进入过渡只读模式， <code class="codeph">ALTER</code>命令通过提交或回滚等待现有事务完成。表空间不允许进一步的DML操作，如果DML语句尝试进一步更改，则返回错误。
                        </p>
                        <p><code class="codeph">ALTER TABLESPACE...READ ONLY</code>语句在返回之前等待以下事务提交或回滚：对表空间进行挂起或未提交更改的事务以及在发出语句之前启动的事务。如果事务在语句保持活动状态之前启动，但回滚到保存点，将其更改回滚到表空间，则语句不再等待此活动事务。
                        </p>
                        <p>如果您发现<code class="codeph">ALTER TABLESPACE</code>语句需要很长时间才能完成，那么您可以识别阻止只读状态生效的事务。然后，您可以通知这些交易的所有者，并在必要时决定是否终止交易。
                        </p>
                        <p>以下示例标识<code class="codeph">ALTER TABLESPACE...的事务条目<code class="codeph">ALTER TABLESPACE...READ ONLY</code>语句并显示其会话地址（ <code class="codeph">saddr</code> ）：</p><pre class="oac_no_warn" dir="ltr">SELECT SQL_TEXT，SADDR FROM V $ SQLAREA，V $ SESSION WHERE V $ SQLAREA.ADDRESS = V $ SESSION.SQL_ADDRESS AND SQL_TEXT LIKE'alz tablespace％'; SQL_TEXT SADDR ---------------------------------------- -------- alter tablespace tbs1只读80034AF0</pre><p>每个活动事务的起始SCN存储在<code class="codeph">V$TRANSACTION</code>视图中。显示按升序开始排序的视图SCN按执行顺序列出事务。从前面的示例中，您已经知道只读语句的事务条目的会话地址，现在可以在<code class="codeph">V$TRANSACTION</code>视图中找到它。具有较小启动SCN的所有事务（表示较早执行）可能会阻止表空间的静默和后续只读状态。
                        </p><pre class="oac_no_warn" dir="ltr">通过START_SCNB从V $ TRANSACTION ORDER中选择SES_ADDR，START_SCNB; SES_ADDR START_SCNB -------- ---------- 800352A0 3621  - &gt;等待这个txn 80035A50 3623  - &gt;等待这个txn 80034AF0 3628  - &gt;这是ALTER TABLESPACE语句80037910 3629  - &gt;不关心这个txn</pre><p>您现在可以找到阻止事务的所有者。</p><pre class="oac_no_warn" dir="ltr">SELECT T.SES_ADDR，S.USERNAME，S.MACHINE FROM V $ SESSION S，V $ TRANSACTION T WHERE T.SES_ADDR = S.SADDR ORDER BY T.SES_ADDR SES_ADDR USERNAME MACHINE -------- ---- ---------------- -------------------- 800352A0 DAVIDB DAVIDBLAP  - &gt;联系该用户80035A50 MIKEL LAB61  - &gt;联系该用户80034AF0 DBA01 STEVEFLAP 80037910 NICKD NICKDLAP</pre><p>将表空间设置为只读后，建议立即备份。只要表空间保持只读，就不需要进一步备份表空间，因为不能对其进行任何更改。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD__GUID-52AB2557-48B6-458F-A912-3406C2CB9C0B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../bradv/rman-backup-concepts.html#BRADV002" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="表空间可以进入只读模式。这可以防止更新存储在其中的任何数据。">使用只读表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11380"></a><div class="props_rev_3"><a id="GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641" name="GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641"></a><h4 id="ADMIN-GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641" class="sect4"><span class="enumeration_section">13.7.3</span>使只读表空间可写</h4>
                  <div>
                     <p>使只读表空间可写允许对表空间中的数据文件执行写操作。</p>
                     <div class="section">
                        <p>您必须具有<code class="codeph">ALTER TABLESPACE</code>或<code class="codeph">MANAGE TABLESPACE</code>系统特权。
                        </p>
                        <p>要更改表空间以允许写入操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">ALTER TABLESPACE</code>语句中使用<code class="codeph">READ WRITE</code>关键字</p>
                           </li>
                        </ul>
                        <p>使表空间可读/写的先决条件是表空间中的所有数据文件以及表空间本身必须在线。使用<code class="codeph">DATAFILE...<code class="codeph">ALTER DATABASE</code>语句的ONLINE</code>子句，用于使数据文件联机。<code class="codeph">V$DATAFILE</code>视图列出了数据文件的当前状态。
                        </p>
                        <p>例如，以下语句使得<code class="codeph">flights</code>表空间可写：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE航班READ WRITE;</pre><p>使只读表空间可写更新数据文件的控制文件条目，以便您可以使用只读版本的数据文件作为恢复的起点。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="表空间可以进入只读模式。这可以防止更新存储在其中的任何数据。">使用只读表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11381"></a><div class="props_rev_3"><a id="GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD" name="GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD"></a><h4 id="ADMIN-GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD" class="sect4"><span class="enumeration_section">13.7.4</span>在WORM设备上创建只读表空间</h4>
                  <div>
                     <p>您可以在CD-ROM或WORM（一次写入多次读取）设备上创建只读表空间。</p>
                     <div class="section">
                        <p>请按照以下步骤在CD-ROM或WORM设备上创建只读表空间。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>在另一台设备上创建可写表空间。创建属于表空间的对象并插入数据。</span></li>
                        <li><span>更改表空间以使其为只读。</span></li>
                        <li><span>将表空间的数据文件复制到WORM设备上。使用操作系统命令复制文件。</span></li>
                        <li><span>使表空间脱机。</span></li>
                        <li><span>重命名数据文件以与您复制到WORM设备上的数据文件的名称一致。将<code class="codeph">ALTER TABLESPACE</code>与<code class="codeph">RENAME DATAFILE</code>子句一起使用。重命名数据文件会在控制文件中更改其名称。</span></li>
                        <li><span>使表空间重新联机。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="表空间可以进入只读模式。这可以防止更新存储在其中的任何数据。">使用只读表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11382"></a><div class="props_rev_3"><a id="GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D" name="GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D"></a><h4 id="ADMIN-GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D" class="sect4"><span class="enumeration_section">13.7.5</span>在只读表空间中延迟打开数据文件</h4>
                  <div>
                     <p>您可以延迟打开只读表空间的数据文件，直到尝试访问它们为止。</p>
                     <div class="section">
                        <p>当非常大的数据库的大部分存储在位于慢访问设备或分层存储上的只读表空间中时，应考虑将<code class="codeph">READ_ONLY_OPEN_DELAYED</code>初始化参数设置为<code class="codeph">TRUE</code> 。这通过仅在尝试读取存储在其中的数据时第一次访问只读表空间中的数据文件来加速某些操作，主要是打开数据库。
                        </p>
                        <p>设置<code class="codeph">READ_ONLY_OPEN_DELAYED=TRUE</code>具有以下副作用：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在打开时未检测到丢失或错误的只读文件。只有在尝试访问它时才会发现它。</p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER SYSTEM CHECK DATAFILES</code>不检查只读文件。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER TABLESPACE ...ONLINE</code>和<code class="codeph">ALTER DATABASE</code> <code class="codeph">DATAFILE...ONLINE</code>不检查只读文件。只有在第一次访问时才会检查它们。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">V$RECOVER_FILE</code> ， <code class="codeph">V$BACKUP</code>和<code class="codeph">V$DATAFILE_HEADER</code>不访问只读文件。只读文件在结果列表中显示，错误为“ <code class="codeph">DELAYED OPEN</code> ”，其他列的值为零。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">V$DATAFILE</code>不访问只读文件。只读文件的大小为“0”。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">V$RECOVERY_LOG</code>不访问只读文件。他们可能需要恢复的日志不会添加到列表中。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER DATABASE NOARCHIVELOG</code>不访问只读文件。即使存在需要恢复的只读文件，它也会继续。
                              </p>
                              <div class="infoboxnote" id="GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D__GUID-6195C908-54B3-43C1-A249-98E35CFFD535">
                                 <p class="notep1">注意：</p>
                                 <p></p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>无论参数值如何， <code class="codeph">RECOVER DATABASE</code>和<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code>继续访问所有只读数据文件。要避免访问这些操作的只读文件，请使这些文件脱机。
                                       </p>
                                    </li>
                                    <li>
                                       <p>如果使用备份控制文件，某些文件的只读状态可能不准确。这可能导致其中一些操作返回意外结果。在这种情况下应该小心。</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="表空间可以进入只读模式。这可以防止更新存储在其中的任何数据。">使用只读表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12490"></a><div class="props_rev_3"><a id="GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" name="GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C"></a><h3 id="ADMIN-GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" class="sect3"><span class="enumeration_section">13.8</span>更改和维护表空间</h3>
               <p>您可以通过执行向其添加数据文件和临时文件等任务来更改和维护表空间。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207">增加表空间的大小</a><br>您可以通过增加表空间中数据文件的大小或添加一个来增加表空间的大小。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67">更改本地管理的表空间</a><br>您可以将数据文件添加到本地管理的表空间，更改其可用性，使其成为只读或读/写，重命名或启用/禁用autoextension。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-3060B641-E131-404D-B415-1A319222ED2A">更改Bigfile表空间</a><br>您可以调整大小文件表空间的大小或自动扩展。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90">更改本地管理的临时表空间</a><br>您可以更改本地管理的临时表空间以添加临时文件，使临时文件脱机或将临时文件联机。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7">缩小本地管理的临时表空间</a><br>您可以收缩本地管理的临时表空间并释放未使用的空间。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13453"></a><div class="props_rev_3"><a id="GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207" name="GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207"></a><h4 id="ADMIN-GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207" class="sect4"><span class="enumeration_section">13.8.1</span>增加表空间的大小</h4>
                  <div>
                     <p>您可以通过增加表空间中数据文件的大小或添加一个来增加表空间的大小。</p>
                     <div class="section">
                        <p>有关详细信息，请参阅<span class="q">“ <a href="managing-data-files-and-temp-files.html#GUID-8E7A9714-85CB-45F3-8384-00D68EAC3E58" title="您可以更改数据文件的大小。例如，如果数据库中需要更多空间，则可以增加一个或多个数据文件的大小。">更改数据文件大小</a> ”</span>和<span class="q">“ <a href="managing-data-files-and-temp-files.html#GUID-814D8847-5327-41A3-8959-444C40093B46" title="您可以使用多个不同的SQL语句创建数据文件并将它们与表空间相关联。">创建数据文件并将数据文件添加到表空间</a> ”</span> 。
                        </p>
                        <p>此外，您可以启用数据文件和bigfile表空间的自动文件扩展名（ <code class="codeph">AUTOEXTEND</code> ）。请参阅<span class="q">“ <a href="managing-data-files-and-temp-files.html#GUID-C633A6CC-F1A9-415A-B153-5C2053BBB7E6" title="您可以创建数据文件或更改现有数据文件，以便在数据库中需要更多空间时自动增加它们的大小。文件大小以指定的增量增加到指定的最大值。">启用和禁用数据文件的自动扩展</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="您可以通过执行向其添加数据文件和临时文件等任务来更改和维护表空间。">更改和维护表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11362"></a><div class="props_rev_3"><a id="GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67" name="GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67"></a><h4 id="ADMIN-GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67" class="sect4"><span class="enumeration_section">13.8.2</span>更改本地管理的表空间</h4>
                  <div>
                     <p>您可以将数据文件添加到本地管理的表空间，更改其可用性，使其成为只读或读/写，重命名或启用/禁用autoextension。</p>
                     <div class="section">
                        <p>您不能将本地管理的表空间更改为本地管理的临时表空间，也不能更改其段空间管理方法。对于本地管理的表空间，不需要合并空闲扩展区。但是，您可以在本地管理的表空间上使用<code class="codeph">ALTER TABLESPACE</code>语句进行某些操作，包括以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>添加数据文件。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtbsb添加数据文件'/u02/oracle/data/lmtbsb02.dbf'SIZE 1M;</pre></li>
                           <li>
                              <p>改变表空间可用性（ <code class="codeph">ONLINE</code> / <code class="codeph">OFFLINE</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>使表空间为只读或读/写。</p>
                           </li>
                           <li>
                              <p>重命名数据文件，或启用或禁用表空间中数据文件大小的自动扩展。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67__GUID-974B25C0-3C2B-4425-8736-D7992903F423">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" title="您可以使联机表空间脱机，以便暂时不可用于一般用途。数据库的其余部分保持打开状态，供用户访问数据。相反，您可以联机使用脱机表空间，以使数据库用户可以使用表空间中的模式对象。必须打开数据库才能更改表空间的可用性。">改变表空间可用性</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-tablespaces.html#GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8" title="使表空间为只读可防止对表空间中的数据文件执行写操作。">关于只读表空间</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-data-files-and-temp-files.html#GUID-501A8889-3C18-4F99-B0B7-9095E981B970" title="您可以通过执行创建，更改和删除等任务来管理数据文件和临时文件。">管理数据文件和临时文件</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="您可以通过执行向其添加数据文件和临时文件等任务来更改和维护表空间。">更改和维护表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11364"></a><div class="props_rev_3"><a id="GUID-3060B641-E131-404D-B415-1A319222ED2A" name="GUID-3060B641-E131-404D-B415-1A319222ED2A"></a><h4 id="ADMIN-GUID-3060B641-E131-404D-B415-1A319222ED2A" class="sect4"><span class="enumeration_section">13.8.3</span>更改Bigfile表空间</h4>
                  <div>
                     <p>您可以调整大小文件表空间的大小或自动扩展。</p>
                     <div class="section">
                        <p>使用bigfile表空间时， <code class="codeph">ALTER TABLESPACE</code>语句的两个子句支持数据文件透明性：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">RESIZE</code> ： <code class="codeph">RESIZE</code>子句允许您将bigfile表空间中的单个数据文件的大小调整为绝对大小，而无需引用数据文件。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE bigtbs RESIZE 80G;</pre></li>
                           <li>
                              <p><code class="codeph">AUTOEXTEND</code> （在<code class="codeph">ADD</code> <code class="codeph">DATAFILE</code>子句之外使用）：</p>
                              <p>使用bigfile表空间，可以在<code class="codeph">ADD</code> <code class="codeph">DATAFILE</code>子句之外使用<code class="codeph">AUTOEXTEND</code>子句。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE bigtbs AUTOEXTEND ON NEXT 20G;</pre></li>
                        </ul>
                        <p>如果为bigfile表空间指定<code class="codeph">ADD</code> <code class="codeph">DATAFILE</code>子句，则会引发错误<a id="d141174e4684" class="indexterm-anchor"></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="您可以通过执行向其添加数据文件和临时文件等任务来更改和维护表空间。">更改和维护表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11369"></a><div class="props_rev_3"><a id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90" name="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90"></a><h4 id="ADMIN-GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90" class="sect4"><span class="enumeration_section">13.8.4</span>更改本地管理的临时表空间</h4>
                  <div>
                     <p>您可以更改本地管理的临时表空间以添加临时文件，使临时文件脱机或将临时文件联机。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90__GUID-16957C26-C8EB-402A-8EBF-7C3492512117">
                           <p class="notep1">注意：</p>
                           <p>您不能使用带有<code class="codeph">TEMPORARY</code>关键字的<code class="codeph">ALTER TABLESPACE</code>语句将本地管理的永久表空间更改为本地管理的临时表空间。必须使用<code class="codeph">CREATE TEMPORARY TABLESPACE</code>语句来创建本地管理的临时表空间。
                           </p>
                        </div>
                        <p>您可以使用<code class="codeph">ALTER TABLESPACE</code>添加临时文件，使临时文件脱机，或将临时文件联机，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp ADD TEMPFILE'/u02/oracle/data/lmtemp02.dbf'SIZE 18M REUSE; ALTER TABLESPACE lmtemp TEMPFILE OFFLINE; ALTER TABLESPACE lmtemp TEMPFILE ONLINE;</pre><div class="infoboxnote" id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90__GUID-F953DF16-6374-4C0D-A898-4EF9F05FDD47">
                           <p class="notep1">注意：</p>
                           <p>您无法使临时表空间脱机。而是将其临时文件脱机。视图<code class="codeph">V$TEMPFILE</code>显示临时文件的在线状态。
                           </p>
                        </div>
                        <p><code class="codeph">ALTER DATABASE</code>语句可用于更改临时文件。
                        </p>
                        <p>以下语句脱机并带来联机临时文件。它们的行为与前一个示例中的最后两个<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句完全相同。
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE TEMPFILE'/u02/oracle/data/lmtemp02.dbf'OFFLINE; ALTER DATABASE TEMPFILE'/u02/oracle/data/lmtemp02.dbf'ONLINE;</pre><p>以下语句调整临时文件的大小：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE TEMPFILE'/u02/oracle/data/lmtemp02.dbf'RESIZE 18M;</pre><p>以下语句删除临时文件并删除其操作系统文件：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE TEMPFILE'/u02/oracle/data/lmtemp02.dbf'DROP INCLUDING DATAFILES;</pre><p>此临时文件所属的表空间仍然存在。将警报日志中的消息写入已删除的临时文件。如果操作系统错误阻止删除文件，则语句仍会成功，但会将描述错误的消息写入警报日志。</p>
                        <p>也可以使用<code class="codeph">ALTER DATABASE</code>语句来启用或禁用现有临时文件的自动扩展，以及重命名临时文件。有关所需语法，请参见<a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90__GUID-D3583621-3A34-4F47-AECC-86BAE6CA7A15">
                           <p class="notep1">注意：</p>
                           <p>要重命名临时文件，请使临时文件脱机，使用操作系统命令重命名或重定位临时文件，然后使用<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">RENAME</code> <code class="codeph">FILE</code>命令更新数据库控制文件。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="您可以通过执行向其添加数据文件和临时文件等任务来更改和维护表空间。">更改和维护表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12353"></a><div class="props_rev_3"><a id="GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7" name="GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7"></a><h4 id="ADMIN-GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7" class="sect4"><span class="enumeration_section">13.8.5</span>缩小本地管理的临时表空间</h4>
                  <div>
                     <p>您可以收缩本地管理的临时表空间并释放未使用的空间。</p>
                     <div class="section">
                        <p>数据库执行的大型排序操作可能导致临时表空间增长并占用大量磁盘空间。排序操作完成后，不释放额外空间;它只是标记为免费并可供重复使用。因此，单个大型排序操作可能会导致大量已分配的临时空间在排序操作完成后仍未使用。因此，数据库使您可以收缩本地管理的临时表空间并释放未使用的空间。</p>
                        <p>要缩小临时表空间：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">ALTER TABLESPACE</code>语句的<code class="codeph">SHRINK SPACE</code>子句。
                              </p>
                           </li>
                        </ul>
                        <p>要收缩临时表空间的特定临时文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">ALTER TABLESPACE</code>语句的<code class="codeph">SHRINK TEMPFILE</code>子句。
                              </p>
                           </li>
                        </ul>
                        <p>收缩会释放尽可能多的空间，同时保持表空间或临时文件的其他属性。可选的<code class="codeph">KEEP</code>子句定义表空间或临时文件的最小大小。
                        </p>
                        <p>收缩是一种在线操作，这意味着用户会话可以根据需要继续分配排序范围，并且已经运行的查询不会受到影响。</p>
                        <p>以下示例缩小了本地管理的临时表空间<code class="codeph">lmtmp1</code>同时确保最小大小为20M。</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp1 SHRINK SPACE保持20M;</pre><p>下面的例子缩小临时文件<code class="codeph">lmtemp02.dbf</code>本地管理临时表空间的<code class="codeph">lmtmp2</code> 。由于省略了<code class="codeph">KEEP</code>子句，因此数据库会尝试将临时文件缩小到可能的最小大小。
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp2 SHRINK TEMPFILE'/u02/oracle/data/lmtemp02.dbf';</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="您可以通过执行向其添加数据文件和临时文件等任务来更改和维护表空间。">更改和维护表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN01104"></a><div class="props_rev_3"><a id="GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522" name="GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522"></a><h3 id="ADMIN-GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522" class="sect3"><span class="enumeration_section">13.9</span>重命名表空间</h3>
               <div>
                  <p>使用<code class="codeph">ALTER TABLESPACE</code>的<code class="codeph">RENAME TO</code>子句，可以重命名永久或临时表空间。
                  </p>
                  <div class="section">
                     <p>例如，以下语句重命名<code class="codeph">users</code>表空间：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE用户重命名为usersts;</pre><p>重命名表空间时，数据库将更新对数据字典，控制文件和（联机）数据文件头中的表空间名称的所有引用。数据库不会更改表空间ID，因此，如果此表空间是用户的默认表空间，则重命名的表空间将在<code class="codeph">DBA_USERS</code>视图中显示为用户的默认表空间。
                     </p>
                     <p>以下影响此语句的操作：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果重命名的表空间是<code class="codeph">SYSTEM</code>表空间或<code class="codeph">SYSAUX</code>表空间，则不会重命名它，并引发错误。
                           </p>
                        </li>
                        <li>
                           <p>如果表空间中的任何数据文件处于脱机状态，或者表空间处于脱机状态，则表空间不会重命名，并且会引发错误。</p>
                        </li>
                        <li>
                           <p>如果表空间是只读的，则不会更新数据文件头。这不应被视为腐败;相反，它会将消息写入警报日志，指示尚未重命名数据文件头。数据字典和控制文件已更新。</p>
                        </li>
                        <li>
                           <p>如果表空间是缺省临时表空间，则更新数据库属性表中的相应条目，并且<code class="codeph">DATABASE_PROPERTIES</code>视图显示新名称。
                           </p>
                        </li>
                        <li>
                           <p>如果表空间是撤消表空间，并且满足以下条件，则表空间名称将更改为服务器参数文件（ <code class="codeph">SPFILE</code> ）中的新表空间名称。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>服务器参数文件用于启动数据库。</p>
                              </li>
                              <li>
                                 <p>表空间名称被指定为任何实例的<code class="codeph">UNDO_TABLESPACE</code> 。
                                 </p>
                              </li>
                           </ul>
                           <p>如果正在使用传统的初始化参数文件（ <code class="codeph">PFILE</code> ），则会向警报日志写入一条消息，指出必须手动更改初始化参数文件。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11383"></a><div class="props_rev_3"><a id="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB" name="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB"></a><h3 id="ADMIN-GUID-4EB483A2-2E04-4047-8885-F5396876D0EB" class="sect3"><span class="enumeration_section">13.10</span>删除表空间</h3>
               <div>
                  <p>如果不再需要表空间及其内容，则可以从数据库中删除表空间及其内容（表空间中包含的段）。</p>
                  <div class="section">
                     <p>您必须具有<code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code>系统特权才能删除表空间。
                     </p>
                     <div class="infoboxnote" id="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB__GUID-55A47466-E07F-4C3E-9B29-D89B5BDB69EC">
                        <p class="notep1">注意：</p>
                        <p>删除表空间后，表空间中的数据将无法恢复。因此，请确保将来不再需要删除表空间中包含的所有数据。此外，在从数据库中删除表空间之前和之后，请完全备份数据库。<span class="italic">强烈建议您</span>这样做，以便在错误地删除表空间时恢复数据库，或者在删除表空间后数据库将来遇到问题。
                        </p>
                     </div>
                     <p>删除表空间时，将删除关联数据库的控制文件中的文件指针。您可以选择指示Oracle数据库删除构成已删除表空间的操作系统文件（数据文件）。如果在删除表空间的同时不指示数据库删除数据文件，则必须稍后使用操作系统的相应命令将其删除。</p>
                     <p>您不能删除包含任何活动段的表空间。例如，如果当前正在使用表空间中的表，或者表空间包含回滚未提交事务所需的撤消数据，则不能删除表空间。表空间可以是联机或脱机，但最好在删除表空间之前使其脱机。</p>
                     <p>要删除表空间：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">DROP TABLESPACE</code>语句。
                           </p>
                        </li>
                     </ul>
                     <p>以下语句删除了<code class="codeph">users</code>表空间，包括表空间中的段：</p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE用户包括内容;</pre><p>如果表空间为空（不包含任何表，视图或其他结构），则无需指定<code class="codeph">INCLUDING CONTENTS</code>子句。使用<code class="codeph">CASCADE CONSTRAINTS</code>子句从表空间外的表中删除所有引用完整性约束，这些表引用表空间内表的主键和唯一键。
                     </p>
                     <p>要在删除表空间的同时删除与表空间关联的数据文件，请使用<code class="codeph">INCLUDING CONTENTS AND DATAFILES</code>子句。以下语句删除<code class="codeph">users</code>表空间及其关联的数据文件：</p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE用户包括内容和数据文件;</pre><p>对于每个已删除的数据文件，都会向警报日志写入一条消息。如果操作系统错误阻止删除文件，则<code class="codeph">DROP TABLESPACE</code>语句仍会成功，但<code class="codeph">DROP TABLESPACE</code>描述错误的消息写入警报日志。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB__GUID-EC9B1FB1-2A77-464A-9698-D9E192AA7DC7">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="managing-data-files-and-temp-files.html#GUID-35078A43-B11C-4E9B-9404-9D4BF0EB7C77" title="使用ALTER TABLESPACE语句的DROP DATAFILE和DROP TEMPFILE子句删除单个数据文件或临时文件。">删除数据文件</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" name="GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B"></a><h3 id="ADMIN-GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" class="sect3"><span class="enumeration_section">13.11</span>使用影子表空间管理丢失的写保护</h3>
               <div>
                  <p>当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8">关于Shadow Lost写保护</a><br>当I / O子系统确认块写入完成时发生数据块丢失写入，即使没有发生写入或者块的前一个图像覆盖当前图像。阴影丢失写保护可以防止丢失表空间或单个数据文件的写入。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649">为影子丢失写保护创建影子表空间</a><br>要为影子丢失写保护创建影子表空间，请使用<code class="codeph">LOST WRITE PROTECTION</code>子句发出<code class="codeph">CREATE BIGFILE TABLESPACE</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-74490F80-2EA2-41BB-B95B-B813657C6B86">为数据库启用Shadow Lost写保护</a><br>要为多租户容器数据库（CDB）或非CDB启用阴影丢失写保护，请使用带有<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER DATABASE</code>语句。要为可插拔数据库（PDB）启用阴影丢失写保护，请使用带有<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-779814FD-F114-47A8-8D49-4CD694C6C70B">为表空间和数据文件启用阴影丢失写保护</a><br>您可以为表空间和数据文件启用阴影丢失写保护。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-516629D2-D135-45BB-A0B4-46A16DC46798">禁用数据库的Shadow Lost写保护</a><br>要为多租户容器数据库（CDB）或非CDB禁用阴影丢失写保护，请发出带有<code class="codeph">DISABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER DATABASE</code>语句。要为可插拔数据库（PDB）禁用阴影丢失写保护，请发出带有<code class="codeph">DISABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-826E5D0C-4D00-4273-9214-7920DE5491C8">删除或暂停阴影丢失写保护</a><br>您可以删除或暂停表空间或数据文件的阴影丢失写保护。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C">删除阴影表空间</a><br>您可以使用<code class="codeph">DROP TABLESPACE</code>语句删除影子表空间。如果将<code class="codeph">DROP TABLESPACE</code>语句与<code class="codeph">INCLUDING CONTENTS</code>子句一起使用，则将删除影子表空间及其内容。如果使用不带<code class="codeph">INCLUDING CONTENTS</code>子句的<code class="codeph">DROP TABLESPACE</code>语句，则在删除影子表空间之前，其内容将移动到另一个影子表空间（如果存在且具有足够的可用空间）。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8" name="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8"></a><h4 id="ADMIN-GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8" class="sect4"><span class="enumeration_section">13.11.1</span>关于影子丢失写保护</h4>
                  <div>
                     <p>当I / O子系统确认块写入完成时发生数据块丢失写入，即使没有发生写入或者块的前一个图像覆盖当前图像。阴影丢失写保护可以防止丢失表空间或单个数据文件的写入。</p>
                     <p>阴影丢失写保护提供快速检测和对丢失写入的即时响应。使用阴影丢失写保护可以最大限度地减少数据丢失和修复数据库所需的时间。</p>
                     <p>要使用影子丢失写保护，必须为数据库启用它并创建一个或多个影子表空间。影子表空间是一个特殊用途的bigfile表空间，仅包含跟踪数据文件的系统更改号（SCN）。您可以通过在<code class="codeph">CREATE TABLESPACE</code>语句中包含<code class="codeph">LOST WRITE PROTECTION</code>子句来创建影子表空间。
                     </p>
                     <p>当从磁盘读取跟踪数据块时，阴影丢失写保护可以通过将影子表空间中的块的SCN与正在读取的块中的最近写入的SCN进行比较来检测丢失的写入。如果影子条目的SCN大于正在读取的数据块，则发生丢失写入。检测到丢失的写入时，将返回错误。</p>
                     <p>未检测到的丢失写入可能导致数据损坏，因为不正确的数据可用于其他DML事务。影子丢失写保护会在消耗之前检测到丢失的写入，以防止数据损坏。您可以为特定表空间和数据文件启用阴影丢失写保护。因此，您可以选择仅为最重要的数据启用它。您无需使用它来跟踪所有数据。此外，影子表空间非常灵活。您可以将一个影子表空间替换为另一个影子表空间以更改其配置或位置。</p>
                     <div class="figure" id="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8__GUID-709308BD-1937-43A5-B4C5-4372C3F75308">
                        <p class="titleinfigure">图13-1阴影丢失写保护</p><img src="img/admin390.png" alt="下面是图13-1的描述" title="下面是图13-1的描述" longdesc="img_text/admin390.html"><br><a href="img_text/admin390.html">“图13-1阴影丢失写保护”的描述</a></div>
                     <!-- class="figure" -->
                     <p>当启用了阴影丢失写保护时，它将启用正常的DML操作和SQL * Loader常规路径加载和直接路径加载操作。它还为Recovery Manager（RMAN）备份启用。RMAN备份检查正在读取的块是否存在丢失写入，如果找到此块，则会引发错误。</p>
                     <p>在为表空间或数据文件启用了阴影丢失写保护后，如果要停止收集新丢失的写入信息并检查丢失的写入信息，可以暂停它。当影子丢失时，写保护暂停。跟踪数据保留在影子表空间中，您可以重新启用影子丢失写保护。如果删除数据文件或表空间的阴影丢失写保护，则其跟踪数据将被删除，不再可重用。</p>
                     <p>通过在<code class="codeph">ALTER TABLESPACE</code>语句中包含<code class="codeph">LOST WRITE PROTECTION</code>子句来启用表空间以进行阴影丢失写保护，并通过在<code class="codeph">ALTER DATABASE <span class="codeinlineitalic">data_file_name</span></code>语句中包含<code class="codeph">LOST WRITE PROTECTION</code>子句来启用阴影丢失写保护的数据文件。当为表空间启用了阴影丢失写保护时，所有表空间的当前和未来数据文件都将启用阴影丢失写保护。
                     </p>
                     <p>Oracle数据库自动将跟踪的数据文件分配给特定的影子表空间。您无法指定将哪个影子表空间用于特定数据文件。影子表空间中的空间量应至少为启用了影子丢失写保护的数据文件所用空间的2％。</p>
                     <div class="infoboxnote" id="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8__GUID-D4398FC1-26CE-4EAA-96AC-90DC38238E86">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果增加跟踪数据文件的大小，则阴影丢失写保护会尝试在相应的影子表空间中调整跟踪数据的大小。如果没有足够的空间来跟踪所有数据，则阴影丢失写保护会在日志中插入警告消息，并继续使用可用的阴影空间跟踪它可以使用的数据。</p>
                           </li>
                           <li>
                              <p>数据库的闪回导致任何阴影丢失的写保护数据被删除。在闪回之后，阴影丢失写保护会在重新填充数据时跟踪数据，并在发生块更新时对阴影跟踪数据进行更新。</p>
                           </li>
                           <li>
                              <p>影子丢失写保护与使用<code class="codeph">DB_LOST_WRITE_PROTECT</code>初始化参数和备用数据库配置的丢失写保护<code class="codeph">DB_LOST_WRITE_PROTECT</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。">使用影子表空间管理丢失写保护</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" name="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649"></a><h4 id="ADMIN-GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" class="sect4"><span class="enumeration_section">13.11.2</span>为影子丢失写保护创建影子表空间</h4>
                  <div>
                     <p>要为影子丢失写保护创建影子表空间，请使用<code class="codeph">LOST WRITE PROTECTION</code>子句发出<code class="codeph">CREATE BIGFILE TABLESPACE</code>语句。
                     </p>
                     <div class="section">
                        <p>启用了阴影丢失写保护的任何表空间或数据文件都可以使用影子表空间。影子表空间中的空间量应至少为启用了影子丢失写保护的数据文件所用空间的2％。影子表空间必须是bigfile表空间。</p>
                        <div class="infoboxnote" id="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649__GUID-3140FE4F-F75B-47B5-A179-11B1E1E56C6E">
                           <p class="notep1">注意：</p>
                           <p>要创建影子表空间，数据库兼容级别必须为18.0.0或更高。</p>
                        </div>
                        <p><span class="bold">要在数据库中创建影子表空间：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>在SQL * Plus中，以具有<code class="codeph">CREATE TABLESPACE</code>系统特权的用户身份连接到数据库。</span></li>
                        <li><span>使用<code class="codeph">LOST WRITE PROTECTION</code>子句发出<code class="codeph">CREATE BIGFILE TABLESPACE</code>语句。</span></li>
                     </ol>
                     <div class="example" id="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649__GUID-EFBBCE5C-5CA7-4B23-93CE-2795ABDDAE26">
                        <p class="titleinexample">例13-1为影子丢失写保护创建影子表空间</p>
                        <p>此示例将<code class="codeph">shadow_lwp1</code>表空间创建为影子表空间，用于阴影丢失写保护。
                        </p><pre class="pre codeblock"><code>创建BIGFILE TABLESPACE shadow_lwp1 DATAFILE'shadow_lwp1.df'SIZE 10M LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。">使用影子表空间管理丢失写保护</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86" name="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86"></a><h4 id="ADMIN-GUID-74490F80-2EA2-41BB-B95B-B813657C6B86" class="sect4"><span class="enumeration_section">13.11.3</span>为数据库启用Shadow Lost写保护</h4>
                  <div>
                     <p>要为多租户容器数据库（CDB）或非CDB启用阴影丢失写保护，请使用带有<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER DATABASE</code>语句。要为可插拔数据库（PDB）启用阴影丢失写保护，请使用带有<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                     </p>
                     <div class="section">
                        <p>在为阴影丢失写保护启用单个表空间和数据文件之前，必须至少创建一个影子表空间，并且必须启用包含它的数据库以进行影子丢失写保护。执行此操作后，您可以使用<code class="codeph">ALTER TABLESPACE</code>语句为表空间启用阴影丢失写保护，并且可以使用<code class="codeph">ALTER DATABASE</code>语句为阴影丢失写保护启用数据文件。
                        </p>
                        <div class="infoboxnote" id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86__GUID-13BE296A-5240-4E5E-AFEC-6E5192938C2A">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要为数据库启用阴影丢失写保护，数据库兼容级别必须为18.0.0或更高，并且必须至少存在一个影子表空间。</p>
                              </li>
                              <li>
                                 <p>为CDB根启用或禁用阴影丢失写保护不会影响PDB的阴影丢失写保护。因此，即使对CDB根禁用了PDB，也可以为PDB启用阴影丢失写保护。</p>
                              </li>
                              <li>
                                 <p>为数据库启用阴影丢失写保护时，会自动为其分配影子表空间。</p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">要为数据库启用阴影丢失写保护：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>在SQL * Plus中，连接到具有所需权限的用户：</span><ul>
                              <li>在非CDB或CDB根目录中，以具有<code class="codeph">ALTER DATABASE</code>系统特权的用户身份进行连接。
                              </li>
                              <li>在应用程序根目录，PDB或应用程序PDB中，以具有<code class="codeph">ALTER PLUGGABLE DATABASE</code>系统特权的用户身份进行连接。
                              </li>
                           </ul>
                        </li>
                        <li><span>执行以下操作之一：</span><ul>
                              <li>对于非CDB或CDB根，请使用<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER DATABASE</code>语句。
                              </li>
                              <li>对于应用程序根，PDB或应用程序PDB，使用<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86__GUID-6CE73936-102E-4D58-83D0-6343118D41CF">
                        <p class="titleinexample">例13-2为非CDB或CDB根启用阴影丢失写保护</p><pre class="pre codeblock"><code>ALTER DATABASE使LOST写保护失效;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86__GUID-8D39DC8E-0919-45C8-A52F-E0174487D44B">
                        <p class="titleinexample">例13-3为PDB启用阴影丢失写保护</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE使LOST写保护失效;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-tablespaces.html#GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" title="要为影子丢失写保护创建影子表空间，请使用LOST WRITE PROTECTION子句发出CREATE BIGFILE TABLESPACE语句。">为影子丢失写保护创建影子表空间</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。">使用影子表空间管理丢失写保护</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B" name="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B"></a><h4 id="ADMIN-GUID-779814FD-F114-47A8-8D49-4CD694C6C70B" class="sect4"><span class="enumeration_section">13.11.4</span>为表空间和数据文件启用阴影丢失写保护</h4>
                  <div>
                     <p>您可以为表空间和数据文件启用阴影丢失写保护。</p>
                     <div class="section">
                        <p>要为表空间启用阴影丢失写保护，请使用<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER TABLESPACE</code>语句。要为数据文件启用阴影丢失写保护，请使用<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER DATABASE <span class="codeinlineitalic">data_file_name</span></code>语句。为表空间启用阴影丢失写保护时，表空间的所有数据文件都将启用阴影丢失写保护，并且添加到表空间的所有数据文件都将启用阴影丢失写保护。
                        </p>
                        <div class="infoboxnote" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-13BE296A-5240-4E5E-AFEC-6E5192938C2A">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要为表空间或数据文件启用阴影丢失写保护，必须为数据库启用阴影丢失写保护，并且必须至少存在一个影子表空间。</p>
                              </li>
                              <li>
                                 <p>为表空间或数据文件启用阴影丢失写保护时，会自动为其分配影子表空间。</p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">要为表空间或数据文件启用阴影丢失写保护，请执行以下操作：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>在SQL * Plus中，以具有所需权限的用户身份连接到数据库：</span><ul>
                              <li>如果要为表空间启用阴影丢失写保护，则以具有<code class="codeph">ALTER TABLESPACE</code>权限的用户身份进行连接。
                              </li>
                              <li>如果要为非CDB或CDB根目录使用的数据文件启用阴影丢失写保护，则以具有<code class="codeph">ALTER DATABASE</code>权限的用户身份进行连接。
                              </li>
                              <li>如果要为应用程序根，PDB或应用程序PDB使用的数据文件启用阴影丢失写保护， <code class="codeph">ALTER PLUGGABLE DATABASE</code>具有<code class="codeph">ALTER PLUGGABLE DATABASE</code>权限的用户身份进行连接。
                              </li>
                           </ul>
                        </li>
                        <li><span>请执行以下操作之一：</span><ul>
                              <li>要为表空间启用阴影丢失写保护，请使用<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER TABLESPACE</code>语句。
                              </li>
                              <li>要为非CDB或CDB根目录使用的数据文件启用阴影丢失写保护，请使用<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code>语句，并将<code class="codeph"><span class="codeinlineitalic">data_file_name</span></code>替换为数据文件的名称。
                              </li>
                              <li>要为应用程序根，PDB或应用程序PDB使用的数据文件启用阴影丢失写保护，请使用<code class="codeph">ENABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER PLUGGABLE DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code>语句，并将<code class="codeph"><span class="codeinlineitalic">data_file_name</span></code>替换为数据文件的名称。
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-62394FF5-598C-4F05-9301-1207A03E7E57">
                        <p class="titleinexample">例13-4为表空间启用阴影丢失写保护</p>
                        <p>此示例为<code class="codeph">tbsu1</code>表空间启用了丢失的写保护。
                        </p><pre class="pre codeblock"><code>ALTER TABLESPACE tbsu1使LOST写保护失效;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-C79AAE70-2766-45BE-896B-D4F3CA48EB79">
                        <p class="titleinexample">例13-5为非CDB或CDB根使用的数据文件启用阴影丢失写保护</p>
                        <p>此示例为<code class="codeph">dfile1.df</code>数据文件启用了阴影丢失写保护。
                        </p><pre class="pre codeblock"><code>ALTER DATABASE DATAFILE'dfile1.df'启用丢失的写保护;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-E07492C6-85A1-4ABF-9CCA-19306CFC51DF">
                        <p class="titleinexample">例13-6为应用程序根，PDB或应用程序PDB使用的数据文件启用阴影丢失写保护</p>
                        <p>此示例为<code class="codeph">dfile2.df</code>数据文件启用了阴影丢失写保护。
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DATAFILE'dfile2.df'启用丢失的写保护;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-tablespaces.html#GUID-74490F80-2EA2-41BB-B95B-B813657C6B86" title="要为多租户容器数据库（CDB）或非CDB启用阴影丢失写保护，请使用带有ENABLE LOST WRITE PROTECTION子句的ALTER DATABASE语句。要为可插拔数据库（PDB）启用阴影丢失写保护，请使用带有ENABLE LOST WRITE PROTECTION子句的ALTER PLUGGABLE DATABASE语句。">为数据库启用Shadow Lost写保护</a></li>
                           <li><a href="managing-tablespaces.html#GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" title="要为影子丢失写保护创建影子表空间，请使用LOST WRITE PROTECTION子句发出CREATE BIGFILE TABLESPACE语句。">为影子丢失写保护创建影子表空间</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。">使用影子表空间管理丢失写保护</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798" name="GUID-516629D2-D135-45BB-A0B4-46A16DC46798"></a><h4 id="ADMIN-GUID-516629D2-D135-45BB-A0B4-46A16DC46798" class="sect4"><span class="enumeration_section">13.11.5</span>禁用数据库的Shadow Lost写保护</h4>
                  <div>
                     <p>要为多租户容器数据库（CDB）或非CDB禁用阴影丢失写保护，请发出带有<code class="codeph">DISABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER DATABASE</code>语句。要为可插拔数据库（PDB）禁用阴影丢失写保护，请发出带有<code class="codeph">DISABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                     </p>
                     <div class="section">当您为数据库禁用阴影丢失写保护时，数据库中的任何表空间或数据文件都不会受到阴影丢失写保护的保护。
                        <div class="infoboxnote" id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798__GUID-7C39C40D-29F7-4BB2-A371-21E12D2A3F2B">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>禁用影子丢失写保护不会删除现有影子表空间中的数据，但不再更新或检查此数据。如果要删除影子表空间中的数据，则可以使用带有<code class="codeph">INCLUDING CONTENTS</code>子句的<code class="codeph">DROP TABLESPACE</code>语句删除影子表空间。
                                 </p>
                              </li>
                              <li>
                                 <p>为CDB根启用或禁用阴影丢失写保护不会影响PDB的阴影丢失写保护。</p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">要禁用数据库的阴影丢失写保护：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>在SQL * Plus中，连接到具有所需权限的用户：</span><ul>
                              <li>在非CDB或CDB根目录中，以具有<code class="codeph">ALTER DATABASE</code>系统特权的用户身份进行连接。
                              </li>
                              <li>在应用程序根目录，PDB或应用程序PDB中，以具有<code class="codeph">ALTER PLUGGABLE DATABASE</code>系统特权的用户身份进行连接。
                              </li>
                           </ul>
                        </li>
                        <li><span>执行以下操作之一：</span><ul>
                              <li>对于非CDB或CDB根，请发出带有<code class="codeph">DISABLE LOST WRITE PROTECTION</code>子句的<code class="codeph">ALTER DATABASE</code>语句。
                              </li>
                              <li>对于应用程序根，PDB或应用程序PDB，使用<code class="codeph">DISABLE LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798__GUID-55313120-141B-4EF7-88C0-4CADCF50BBE2">
                        <p class="titleinexample">例13-7禁用非CDB或CDB根的阴影丢失写保护</p><pre class="pre codeblock"><code>ALTER DATABASE DISABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798__GUID-1C0C9699-75D3-4B7D-96CD-75787E194B9E">
                        <p class="titleinexample">例13-8禁用PDB的阴影丢失写保护</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE DISABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-tablespaces.html#GUID-826E5D0C-4D00-4273-9214-7920DE5491C8" title="您可以删除或暂停表空间或数据文件的阴影丢失写保护。">删除或暂停阴影丢失写保护</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。">使用影子表空间管理丢失写保护</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8" name="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8"></a><h4 id="ADMIN-GUID-826E5D0C-4D00-4273-9214-7920DE5491C8" class="sect4"><span class="enumeration_section">13.11.6</span>删除或暂停影子丢失写保护</h4>
                  <div>
                     <p>您可以删除或暂停表空间或数据文件的阴影丢失写保护。</p>
                     <div class="section">
                        <p>当阴影丢失时，表空间或数据文件不再需要写保护，您可以选择以下选项之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以删除阴影丢失的写保护。此选项从影子表空间中删除表空间或数据文件的跟踪信息。此选项还会停止收集表空间或数据文件的新丢失写入信息，并停止检查新丢失的写入信息。</p>
                           </li>
                           <li>
                              <p>你可以暂停阴影丢失的写保护。此选项会停止收集表空间或数据文件的新丢失写入信息，并停止检查新丢失的写入信息。但是，旧的丢失写入信息仍保留在影子表空间中。如果为表空间或数据文件重新启用了阴影丢失写保护，则可以使用旧丢失的写信息。</p>
                           </li>
                        </ul>
                        <p>删除或暂停表空间的阴影丢失写保护时，将删除或暂停表空间的所有数据文件的阴影丢失写保护。</p>
                        <p><span class="bold">要删除或暂停表空间或数据文件的阴影丢失写保护，请执行以下操作：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>在SQL * Plus中，以具有所需权限的用户身份连接到数据库：</span><ul>
                              <li>如果要删除或暂停表空间的阴影丢失写保护，则以具有<code class="codeph">ALTER TABLESPACE</code>权限的用户身份进行连接。
                              </li>
                              <li>如果要删除或暂停对非CDB或CDB根目录使用的数据文件的影子丢失写保护，请以具有<code class="codeph">ALTER DATABASE</code>权限的用户身份进行连接。
                              </li>
                              <li>如果要删除或暂停对应用程序根，PDB或应用程序PDB使用的数据文件的卷影丢失写保护，请以具有<code class="codeph">ALTER PLUGGABLE DATABASE</code>权限的用户身份进行连接。
                              </li>
                           </ul>
                        </li>
                        <li><span>请执行以下操作之一：</span><ul>
                              <li>要删除或暂停表空间的阴影丢失写保护，请分别使用<code class="codeph">REMOVE LOST WRITE PROTECTION</code>子句或<code class="codeph">SUSPEND LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER TABLESPACE</code>语句。
                              </li>
                              <li>要删除或暂停对非CDB或CDB根目录使用的数据文件的影子丢失写保护，请分别使用<code class="codeph">REMOVE LOST WRITE PROTECTION</code>子句或<code class="codeph">SUSPEND LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code>语句，并替换<code class="codeph"><span class="codeinlineitalic">data_file_name</span></code>带有数据文件的名称。
                              </li>
                              <li>要删除或暂停应用程序根，PDB或应用程序PDB使用的数据文件的阴影丢失写保护，请分别使用<code class="codeph">REMOVE LOST WRITE PROTECTION</code>子句或<code class="codeph">SUSPEND LOST WRITE PROTECTION</code>子句发出<code class="codeph">ALTER PLUGGABLE DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code>语句，并将<code class="codeph"><span class="codeinlineitalic">data_file_name</span></code>替换为数据文件的名称。
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8__GUID-03F68905-4665-4CD9-9077-E4812DAAB1D5">
                        <p class="titleinexample">例13-9删除表空间的Shadow Lost写保护</p>
                        <p>此示例删除<code class="codeph">tbsu1</code>表空间的丢失写保护。
                        </p><pre class="pre codeblock"><code>ALTER TABLESPACE tbsu1删除丢失的写保护;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8__GUID-27B9D46D-9D12-4E82-8CD8-A0D3C3B6038E">
                        <p class="titleinexample">例13-10暂停非CDB使用的数据文件的阴影丢失写保护</p>
                        <p>此示例暂停<code class="codeph">dfile1.df</code>数据文件的阴影丢失写保护，该文件由非CDB使用。</p><pre class="pre codeblock"><code>ALTER DATABASE DATAFILE'dfile1.df'暂停写保护;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8__GUID-C2ECA692-4477-42C5-95FA-B3D4BDED1809">
                        <p class="titleinexample">例13-11删除PDB使用的数据文件的阴影丢失写保护</p>
                        <p>此示例删除PDB使用的<code class="codeph">dfile2.df</code>数据文件的阴影丢失写保护。</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DATAFILE'dfile2.df'暂停写保护;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。">使用影子表空间管理丢失写保护</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C" name="GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C"></a><h4 id="ADMIN-GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C" class="sect4"><span class="enumeration_section">13.11.7</span>删除影子表空间</h4>
                  <p>您可以使用<code class="codeph">DROP TABLESPACE</code>语句删除影子表空间。如果将<code class="codeph">DROP TABLESPACE</code>语句与<code class="codeph">INCLUDING CONTENTS</code>子句一起使用，则将删除影子表空间及其内容。如果使用不带<code class="codeph">INCLUDING CONTENTS</code>子句的<code class="codeph">DROP TABLESPACE</code>语句，则在删除影子表空间之前，其内容将移动到另一个影子表空间（如果存在且具有足够的可用空间）。
                  </p>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="当I / O子系统确认块写入完成时，会发生数据块丢失写入，但写入未在持久存储中发生。阴影丢失写保护可以防止丢失写入。">使用影子表空间管理丢失写保护</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11384"></a><div class="props_rev_3"><a id="GUID-30942290-88DD-4D62-816F-F7EDCE661710" name="GUID-30942290-88DD-4D62-816F-F7EDCE661710"></a><h3 id="ADMIN-GUID-30942290-88DD-4D62-816F-F7EDCE661710" class="sect3"><span class="enumeration_section">13.12</span>管理SYSAUX表空间</h3>
               <div>
                  <p>创建数据库时， <code class="codeph">SYSAUX</code>表空间作为辅助表空间安装到<code class="codeph">SYSTEM</code>表空间。以前创建和使用单独表空间的某些数据库组件现在占用<code class="codeph">SYSAUX</code>表空间。
                  </p>
                  <p>如果<code class="codeph">SYSAUX</code>表空间不可用，核心数据库功能将保持运行。使用<code class="codeph">SYSAUX</code>表空间的数据库功能可能会失败，或者功能有限。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-7B9613A0-1B17-48A3-B61E-728D875A2560">监视SYSAUX表空间的占用者</a><br>您可以监视<code class="codeph">SYSAUX</code>表空间的占用者。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A">将占用者移出或移入SYSAUX表空间</a><br><code class="codeph">V$SYSAUX_OCCUPANTS</code>视图为<code class="codeph">SYSAUX</code>表空间的每个占用者提供移动过程。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671">控制SYSAUX表空间的大小</a><br><code class="codeph">SYSAUX</code>表空间由多个数据库组件占用，其总大小由这些组件占用的空间控制。反过来，组件消耗的空间取决于正在使用的功能和功能以及数据库工作负载的性质。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11385"></a><div class="props_rev_3"><a id="GUID-7B9613A0-1B17-48A3-B61E-728D875A2560" name="GUID-7B9613A0-1B17-48A3-B61E-728D875A2560"></a><h4 id="ADMIN-GUID-7B9613A0-1B17-48A3-B61E-728D875A2560" class="sect4"><span class="enumeration_section">13.12.1</span>监控SYSAUX表空间的占用者</h4>
                  <div>
                     <p>您可以监视<code class="codeph">SYSAUX</code>表空间的占用者。
                     </p>
                     <div class="section">
                        <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-C70E0886-7D9A-4B0D-BA0B-DF71AB5A2154" title="始终在创建数据库时创建SYSAUX表空间。SYSAUX表空间充当SYSTEM表空间的辅助表空间。因为它是以前需要自己的表空间的许多Oracle数据库功能和产品的默认表空间，所以它减少了数据库所需的表空间数量。它还减少了SYSTEM表空间的负载。">关于SYSAUX表空间</a> ”</span>中讨论了<code class="codeph">SYSAUX</code>表空间的已注册占用者列表。这些组件可以使用<code class="codeph">SYSAUX</code>表空间，它们的安装提供了建立<code class="codeph">SYSAUX</code>表空间占用的方法。
                        </p>
                        <p>要监视<code class="codeph">SYSAUX</code>表空间的占用者：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>查询<code class="codeph">V$SYSAUX_OCCUPANTS</code>视图。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此视图列出了有关<code class="codeph">SYSAUX</code>表空间占用者的以下信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>占用者的姓名</p>
                           </li>
                           <li>
                              <p>占用者描述</p>
                           </li>
                           <li>
                              <p>架构名称</p>
                           </li>
                           <li>
                              <p>移动程序</p>
                           </li>
                           <li>
                              <p>当前空间使用情况</p>
                           </li>
                        </ul>
                        <p>查看信息由占用者维护。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7B9613A0-1B17-48A3-B61E-728D875A2560__GUID-4BC7BA6F-4A70-4E64-831E-779A29CDECED">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">V$SYSAUX_OCCUPANTS</code>视图的详细说明，请<a href="../refrn/V-SYSAUX_OCCUPANTS.html#REFRN30271" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="创建数据库时，SYSAUX表空间作为辅助表空间安装到SYSTEM表空间。以前创建和使用单独表空间的某些数据库组件现在占用SYSAUX表空间。">管理SYSAUX表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11386"></a><div class="props_rev_3"><a id="GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A" name="GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A"></a><h4 id="ADMIN-GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A" class="sect4"><span class="enumeration_section">13.12.2</span>将占用者<span class="enumeration_section">移出</span>或移入SYSAUX表空间</h4>
                  <div>
                     <p><code class="codeph">V$SYSAUX_OCCUPANTS</code>视图为<code class="codeph">SYSAUX</code>表空间的每个占用者提供移动过程。
                     </p>
                     <div class="section">
                        <p>您将在组件安装时选择一个选项，以指定您不希望该组件驻留在<code class="codeph">SYSAUX</code> 。此外，如果您稍后决定将组件重定位到指定的表空间，则可以使用该组件的移动过程（如<code class="codeph">V$SYSAUX_OCCUPANTS</code>视图中所指定）来执行移动。
                        </p>
                        <p>移动过程还允许您将组件从另一个表空间移动到<code class="codeph">SYSAUX</code>表空间。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="创建数据库时，SYSAUX表空间作为辅助表空间安装到SYSTEM表空间。以前创建和使用单独表空间的某些数据库组件现在占用SYSAUX表空间。">管理SYSAUX表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11387"></a><div class="props_rev_3"><a id="GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671" name="GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671"></a><h4 id="ADMIN-GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671" class="sect4"><span class="enumeration_section">13.12.3</span>控制SYSAUX表空间的大小</h4>
                  <div>
                     <p><code class="codeph">SYSAUX</code>表空间由多个数据库组件占用，其总大小由这些组件占用的空间控制。反过来，组件消耗的空间取决于正在使用的功能和功能以及数据库工作负载的性质。
                     </p>
                     <div class="section">
                        <p><code class="codeph">SYSAUX</code>表空间的最大部分由自动工作负载存储库（AWR）占用。AWR消耗的空间由多个因素决定，包括系统在任何给定时间的活动会话数，快照间隔和历史数据保留期。具有平均10个并发活动会话的典型系统可能需要大约200MB到300MB的空间用于其AWR数据。您可以通过更改快照间隔和历史数据保留期来控制AWR的大小。
                        </p>
                        <p><code class="codeph">SYSAUX</code>表空间的另一个主要占用者是嵌入式Oracle企业管理器云控制存储库。Cloud Control使用此存储库来存储其元数据。此存储库的大小取决于数据库活动以及存储库中存储的与配置相关的信息。
                        </p>
                        <p>只有在使用相关功能（例如，Oracle Text和Oracle Streams）时， <code class="codeph">SYSAUX</code>表空间中的其他数据库组件才会增大。如果未使用这些功能，则这些组件对<code class="codeph">SYSAUX</code>表空间的大小没有任何重大影响。
                        </p>
                        <p>下表提供了有关根据系统配置和预期负载调整<code class="codeph">SYSAUX</code>表空间大小的指南。
                        </p>
                        <div class="tblformal" id="GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671__GUID-9627AD4E-BC0C-4CEA-978A-1ED7EA6C519D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table has 4 rows and 4 columns. It should be read one row at a time. Columns are: Parameter/Recommendation, Small, Medium, and Large." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d141174e6520">参数/推荐</th>
                                    <th align="left" valign="bottom" id="d141174e6523">小</th>
                                    <th align="left" valign="bottom" id="d141174e6526">介质</th>
                                    <th align="left" valign="bottom" id="d141174e6529">大</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6534" headers="d141174e6520 ">
                                       <p>CPU数量</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6534 d141174e6523 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6534 d141174e6526 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6534 d141174e6529 ">
                                       <p>32</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6547" headers="d141174e6520 ">
                                       <p>并发活动会话数</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6547 d141174e6523 ">
                                       <p>10</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6547 d141174e6526 ">
                                       <p>20</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6547 d141174e6529 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6560" headers="d141174e6520 ">
                                       <p>用户对象数：表和索引</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6560 d141174e6523 ">
                                       <p>500</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6560 d141174e6526 ">
                                       <p>5000</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6560 d141174e6529 ">
                                       <p>50000</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6573" headers="d141174e6520 ">
                                       <p>使用默认配置估计稳定状态下的<code class="codeph">SYSAUX</code>大小</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6573 d141174e6523 ">
                                       <p>500 MB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6573 d141174e6526 ">
                                       <p>2 GB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6573 d141174e6529 ">
                                       <p>5 GB</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="创建数据库时，SYSAUX表空间作为辅助表空间安装到SYSTEM表空间。以前创建和使用单独表空间的某些数据库组件现在占用SYSAUX表空间。">管理SYSAUX表空间</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" name="GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D"></a><h3 id="ADMIN-GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" class="sect3"><span class="enumeration_section">13.13</span>更正本地管理的表空间的问题</h3>
               <p>Oracle数据库包括用于纠正本地管理的表空间问题的帮助。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4">诊断和修复本地管理的表空间问题</a><br>Oracle数据库包括<code class="codeph">DBMS_SPACE_ADMIN</code>包，它是用于诊断和修复本地管理的表空间中的问题的辅助工具的集合。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA">场景1：当分配的块被标记为空时修复位图（无重叠）</a><br><code class="codeph">TABLESPACE_VERIFY</code>过程发现一个段已经分配了位图中标记为空闲的块，但报告的段之间没有重叠。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9">方案2：删除损坏的段</a><br>您不能删除段，因为位图具有标记为“空闲”的段块。系统已自动标记已损坏的段。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2">场景3：修复报告重叠的位图</a><br><code class="codeph">TABLESPACE_VERIFY</code>过程报告一些重叠。必须根据以前的内部错误牺牲一些实际数据。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076">场景4：纠正位图块的媒体损坏</a><br>一组位图块具有媒体损坏。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09">场景5：从字典管理迁移到本地管理的表空间</a><br>使用<code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code>过程将字典管理的表空间迁移到本地管理的表空间。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12602"></a><a id="ADMIN10066"></a><div class="props_rev_3"><a id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4" name="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4"></a><h4 id="ADMIN-GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4" class="sect4"><span class="enumeration_section">13.13.1</span>诊断和修复本地管理的表空间问题</h4>
                  <div>
                     <p>Oracle数据库包括<code class="codeph">DBMS_SPACE_ADMIN</code>包，它是用于诊断和修复本地管理的表空间中的问题的辅助工具的集合。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-BB099A84-FF2E-4D6F-884D-D17A9EC2BBBC">DBMS_SPACE_ADMIN包过程</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>下表列出了<code class="codeph">DBMS_SPACE_ADMIN</code>程序包过程。有关每个过程的详细信息，请参阅<a href="../arpls/DBMS_SPACE_ADMIN.html#ARPLS057" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> 。
                        </p>
                        <div class="tblformal" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-2EE8DCDA-24DD-445B-A074-1E0B83CC8A95">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the procedures contained in the DBMS_SPACE_ADMIN package. Column 2 provides the description of each procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d141174e6770">程序</th>
                                    <th align="left" valign="bottom" width="61%" id="d141174e6773">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6778" headers="d141174e6770 ">
                                       <p><code class="codeph">ASSM_SEGMENT_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6778 d141174e6773 ">
                                       <p>验证在启用了自动段空间管理的表空间中创建的段的完整性。输出名为<span class="italic"><code class="codeph">sid</code></span> <code class="codeph">_ora_</code> <span class="italic"><code class="codeph">process_id</code></span>的转储文件。 <code class="codeph">trc</code>到与<code class="codeph">V$DIAG_INFO</code>视图中的<code class="codeph">Diag</code> <code class="codeph">Trace</code>条目对应的位置。
                                       </p>
                                       <p>对具有手动段空间管理的表空间使用<code class="codeph">SEGMENT_VERIFY</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6813" headers="d141174e6770 ">
                                       <p><code class="codeph">ASSM_TABLESPACE_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6813 d141174e6773 ">
                                       <p>验证启用了自动段空间管理的表空间的完整性。输出名为<span class="italic"><code class="codeph">sid</code></span> <code class="codeph">_ora_</code> <span class="italic"><code class="codeph">process_id</code></span>的转储文件。 <code class="codeph">trc</code>到与<code class="codeph">V$DIAG_INFO</code>视图中的<code class="codeph">Diag</code> <code class="codeph">Trace</code>条目对应的位置。
                                       </p>
                                       <p>对于具有手动段空间管理的表空间，请使用<code class="codeph">TABLESPACE_VERIFY</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6848" headers="d141174e6770 ">
                                       <p><code class="codeph">DROP_EMPTY_SEGMENTS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6848 d141174e6773 ">
                                       <p>从空表或表分区和依赖对象中删除段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6856" headers="d141174e6770 ">
                                       <p><code class="codeph">MATERIALIZE_DEFERRED_SEGMENTS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6856 d141174e6773 ">
                                       <p>使用延迟段创建及其依赖对象实现表和表分区的段。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6864" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_CORRUPT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6864 d141174e6773 ">
                                       <p>标记该段损坏或有效，以便可以进行适当的错误恢复</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6872" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_DROP_CORRUPT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6872 d141174e6773 ">
                                       <p>删除当前标记为已损坏的段（不回收空间）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6880" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_DUMP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6880 d141174e6773 ">
                                       <p>将特定段的段头和位图块转储到名为<span class="italic"><code class="codeph">sid</code></span> <code class="codeph">_ora_</code> <span class="italic"><code class="codeph">process_id</code></span>的转储文件中。 <code class="codeph">trc</code>在与<code class="codeph">V$DIAG_INFO</code>视图中的<code class="codeph">Diag</code> <code class="codeph">Trace</code>条目对应的位置。提供选择略微缩写的转储的选项，其中包括段头并包括位图块摘要，而不包含每个块的无百分比状态。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6910" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6910 d141174e6773 ">
                                       <p>验证段的范围映射的一致性</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6918" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_FIX_BITMAPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6918 d141174e6773 ">
                                       <p>将相应的DBA范围（范围）标记为空闲或在位图中使用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6926" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_FIX_SEGMENT_STATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6926 d141174e6773 ">
                                       <p>修复了停止迁移的表空间中段的状态</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6934" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_MIGRATE_FROM_LOCAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6934 d141174e6773 ">
                                       <p>将本地管理的表空间迁移到字典管理的表空间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6943" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6943 d141174e6773 ">
                                       <p>将字典管理的表空间迁移到本地管理的表空间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6951" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_REBUILD_BITMAPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6951 d141174e6773 ">
                                       <p>重建适当的位图</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6959" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_REBUILD_QUOTAS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6959 d141174e6773 ">
                                       <p>重建特定表空间的配额</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6967" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_RELOCATE_BITMAPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6967 d141174e6773 ">
                                       <p>将位图重定位到指定的目标</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6975" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6975 d141174e6773 ">
                                       <p>验证表空间中的段的位图和范围映射是否已同步</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>以下方案描述了可以使用<code class="codeph">DBMS_SPACE_ADMIN</code>程序包诊断和解决问题的典型情况。
                        </p>
                        <div class="infoboxnote" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-07D2DD79-CC83-464F-96D9-D88A60CE3E7E">
                           <p class="notep1">注意：</p>
                           <p>如果使用不当，其中一些程序可能会导致丢失和不可恢复的数据。如果您对这些过程有疑问，则应该使用Oracle支持服务。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-F9A6AC97-2C9C-46DD-BBFB-17519CE2E1B6">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">DBMS_SPACE_ADMIN</code>包的详细信息，请<code class="codeph">DBMS_SPACE_ADMIN</code> <a href="../arpls/DBMS_SPACE_ADMIN.html#ARPLS057" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJBHBJ">使用V $ DIAG_INFO视图查看ADR位置</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle数据库包括用于纠正本地管理的表空间问题的帮助。">更正本地管理的表空间的问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11388"></a><div class="props_rev_3"><a id="GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA" name="GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA"></a><h4 id="ADMIN-GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA" class="sect4"><span class="enumeration_section">13.13.2</span>场景1：当分配的块被标记为<span class="enumeration_section">空时</span>修复位图（无重叠）</h4>
                  <div>
                     <p><code class="codeph">TABLESPACE_VERIFY</code>过程发现一个段已经分配了位图中标记为空闲的块，但报告的段之间没有重叠。
                     </p>
                     <div class="section">
                        <p>在此方案中，执行以下任务：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>调用<code class="codeph">SEGMENT_DUMP</code>过程以转储管理员分配给该段的范围。</span></li>
                        <li><span>对于每个范围，使用<code class="codeph">TABLESPACE_EXTENT_MAKE_USED</code>选项调用<code class="codeph">TABLESPACE_FIX_BITMAPS</code>过程以将空间标记为已使用。</span></li>
                        <li><span>调用<code class="codeph">TABLESPACE_REBUILD_QUOTAS</code>重建配额。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle数据库包括用于纠正本地管理的表空间问题的帮助。">更正本地管理的表空间的问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11389"></a><div class="props_rev_3"><a id="GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9" name="GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9"></a><h4 id="ADMIN-GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9" class="sect4"><span class="enumeration_section">13.13.3</span>场景2：删除损坏的段</h4>
                  <div>
                     <p>您不能删除段，因为位图具有标记为“空闲”的段块。系统已自动标记已损坏的段。</p>
                     <div class="section">
                        <p></p>
                        <p>在此方案中，执行以下任务：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>使用<code class="codeph">SEGMENT_VERIFY_EXTENTS_GLOBAL</code>选项调用<code class="codeph">SEGMENT_VERIFY</code>过程。如果未报告重叠，则继续执行步骤2到5。</span></li>
                        <li><span>调用<code class="codeph">SEGMENT_DUMP</code>过程以转储分配给该段的DBA范围。</span></li>
                        <li><span>对于每个范围，使用<code class="codeph">TABLESPACE_EXTENT_MAKE_FREE</code>选项调用<code class="codeph">TABLESPACE_FIX_BITMAPS</code>以将空间标记为空闲。</span></li>
                        <li><span>调用<code class="codeph">SEGMENT_DROP_CORRUPT</code>以删除<code class="codeph">SEG$</code>条目。</span></li>
                        <li><span>调用<code class="codeph">TABLESPACE_REBUILD_QUOTAS</code>重建配额。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle数据库包括用于纠正本地管理的表空间问题的帮助。">更正本地管理的表空间的问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11390"></a><div class="props_rev_3"><a id="GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2" name="GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2"></a><h4 id="ADMIN-GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2" class="sect4"><span class="enumeration_section">13.13.4</span>场景3：修复报告重叠的位图</h4>
                  <div>
                     <p><code class="codeph">TABLESPACE_VERIFY</code>过程报告一些重叠。必须根据以前的内部错误牺牲一些实际数据。
                     </p>
                     <div class="section">
                        <p>选择要牺牲的对象后，在这种情况下说，表<code class="codeph">t1</code> ，执行以下任务：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>列出<code class="codeph">t1</code>重叠的所有对象。</span></li>
                        <li><span>删除表<code class="codeph">t1</code> 。如有必要，请通过调用<code class="codeph">SEGMENT_DROP_CORRUPT</code>过程进行跟进。</span></li>
                        <li><span>在<code class="codeph">t1</code>重叠的所有对象上调用<code class="codeph">SEGMENT_VERIFY</code>过程。如有必要，请调用<code class="codeph">TABLESPACE_FIX_BITMAPS</code>过程以标记所使用的适当位图块。</span></li>
                        <li><span>重新运行<code class="codeph">TABLESPACE_VERIFY</code>过程以验证问题是否已解决。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle数据库包括用于纠正本地管理的表空间问题的帮助。">更正本地管理的表空间的问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11391"></a><div class="props_rev_3"><a id="GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076" name="GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076"></a><h4 id="ADMIN-GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076" class="sect4"><span class="enumeration_section">13.13.5</span>场景4：纠正位<span class="enumeration_section">图块的</span>媒体损坏</h4>
                  <div>
                     <p>一组位图块具有媒体损坏。</p>
                     <div class="section">
                        <p>在此方案中，执行以下任务：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>在所有位图块上调用<code class="codeph">TABLESPACE_REBUILD_BITMAPS</code>过程，如果只有一个块损坏，则在单个块上调用。</span></li>
                        <li><span>调用<code class="codeph">TABLESPACE_REBUILD_QUOTAS</code>过程以重建配额。</span></li>
                        <li><span>调用<code class="codeph">TABLESPACE_VERIFY</code>过程以验证位图是否一致。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle数据库包括用于纠正本地管理的表空间问题的帮助。">更正本地管理的表空间的问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11392"></a><div class="props_rev_3"><a id="GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09" name="GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09"></a><h4 id="ADMIN-GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09" class="sect4"><span class="enumeration_section">13.13.6</span>方案5：从字典管理迁移到本地管理的表空间</h4>
                  <div>
                     <p>使用<code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code>过程将字典管理的表空间迁移到本地管理的表空间。
                     </p>
                     <div class="section">
                        <p>此操作在线完成，但空间管理操作将被阻止，直到迁移完成。因此，您可以在迁移过程中读取或修改数据，但如果要加载需要分配其他扩展区的大量数据，则可能会阻止操作。</p>
                        <p>假设数据库块大小为2K，表空间<code class="codeph">tbs_1</code>中的现有<code class="codeph">tbs_1</code>区大小为<code class="codeph">tbs_1</code>和10,000个块（已使用，已使用和可用）。<code class="codeph">MINIMUM EXTENT</code>值为20K（10个块）。允许系统选择位图分配单元。选择10个块的值，因为它是最高的公分母并且不超过<code class="codeph">MINIMUM EXTENT</code> 。</p>
                        <p>将<code class="codeph">tbs_1</code>转换为本地管理的表空间的语句如下：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL（'tbs_1'）;</pre><p>如果选择指定分配单元大小，则它必须是系统计算的单元大小的系数。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle数据库包括用于纠正本地管理的表空间问题的帮助。">更正本地管理的表空间的问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11393"></a><div class="props_rev_3"><a id="GUID-C961302C-E712-48C2-A938-2509DB4404ED" name="GUID-C961302C-E712-48C2-A938-2509DB4404ED"></a><h3 id="ADMIN-GUID-C961302C-E712-48C2-A938-2509DB4404ED" class="sect3"><span class="enumeration_section">13.14</span>将SYSTEM表空间迁移到本地管理的表空间</h3>
               <div>
                  <p>使用<code class="codeph">DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL</code>过程将<code class="codeph">SYSTEM</code>表空间从字典管理迁移到本地管理。
                  </p>
                  <div class="section">
                     <p>在执行迁移之前，必须满足以下条件：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库具有不是<code class="codeph">SYSTEM.</code>的默认临时表空间<code class="codeph">SYSTEM.</code></p>
                        </li>
                        <li>
                           <p>字典管理的表空间中没有回滚段。</p>
                        </li>
                        <li>
                           <p>在本地管理的表空间中至少有一个在线回滚段，或者如果使用自动撤消管理，则撤消表空间在线。</p>
                        </li>
                        <li>
                           <p>包含撤消空间的表空间以外的所有表空间（即包含回滚段或撤消表空间的表空间）都处于只读模式。</p>
                        </li>
                        <li>
                           <p><code class="codeph">SYSAUX</code>表空间处于脱机状态。
                           </p>
                        </li>
                        <li>
                           <p>系统处于受限模式。</p>
                        </li>
                        <li>
                           <p>有一个数据库的冷备份。</p>
                        </li>
                     </ul>
                     <p>除冷备份外，所有这些条件都由<code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code>过程强制执行。
                     </p>
                     <p>以下语句执行迁移：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL（'SYSTEM'）;</pre><div class="infoboxnote" id="GUID-C961302C-E712-48C2-A938-2509DB4404ED__GUID-3602ADE7-36CC-43AA-9911-9966AD732683">
                        <p class="notep1">注意：</p>
                        <p>将<code class="codeph">SYSTEM</code>表空间迁移到本地管理后，数据库中的任何字典管理的表空间都不能进行读/写。如果要在读/写模式下使用字典管理的表空间，则Oracle建议您首先将这些表空间迁移到本地管理，然后再迁移<code class="codeph">SYSTEM</code>表空间。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" name="GUID-638D5411-5C88-40C8-A888-3D9B21A551D1"></a><h3 id="ADMIN-GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" class="sect3"><span class="enumeration_section">13.15</span>查看表空间信息</h3>
               <p>Oracle数据库包括数据字典视图，您可以查询有关表空间的信息。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-BA500061-FEFF-4904-994B-89C015A80E7B">表空间数据字典视图</a><br>以下数据字典和动态性能视图提供有关数据库表空间的有用信息。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526">示例1：列出表空间和默认存储参数</a><br>您可以查询<code class="codeph">DBA_TABLESPACES</code>视图以列出名称和默认存储参数。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695">示例2：列出数据库的数据文件和关联表空间</a><br>您可以查询<code class="codeph">DBA_DATA_FILES</code>视图以列出数据库的名称，大小和关联的表空间。
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-668EAC02-F586-4B92-9768-605F71A93461">示例3：显示每个表空间的可用空间（范围）的统计信息</a><br>您可以查询<code class="codeph">DBA_FREE_SPACE</code>视图以显示有关数据库中每个表空间的可用扩展区和合并活动的统计信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11410"></a><div class="props_rev_3"><a id="GUID-BA500061-FEFF-4904-994B-89C015A80E7B" name="GUID-BA500061-FEFF-4904-994B-89C015A80E7B"></a><h4 id="ADMIN-GUID-BA500061-FEFF-4904-994B-89C015A80E7B" class="sect4"><span class="enumeration_section">13.15.1</span>表空间数据字典视图</h4>
                  <div>
                     <p>以下数据字典和动态性能视图提供有关数据库表空间的有用信息。</p>
                     <div class="section">
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BA500061-FEFF-4904-994B-89C015A80E7B__GUID-9E32DF55-838E-4910-9CE1-B21E92C64743">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the views that are used to contain information about the tablespaces of the database. Column 1 lists the view, column 2 describes each view." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d141174e7571">视图</th>
                                 <th align="left" valign="bottom" width="63%" id="d141174e7574">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7579" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TABLESPACE.html#REFRN30277" target="_blank">V $ TABLESPACE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7579 d141174e7574 ">
                                    <p>控制文件中所有表空间的名称和编号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7590" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-ENCRYPTED_TABLESPACES.html#REFRN30496" target="_blank">V $ ENCRYPTED_TABLESPACES</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7590 d141174e7574 ">
                                    <p>所有加密表空间的名称和加密算法。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7600" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_TABLESPACES.html#REFRN23287" target="_blank">DBA_TABLESPACES</a></code> ， <code class="codeph"><a href="../refrn/USER_TABLESPACES.html#REFRN26287" target="_blank">USER_TABLESPACES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7600 d141174e7574 ">
                                    <p>所有（或用户可访问的）表空间的描述。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7616" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_TABLESPACE_GROUPS.html#REFRN23377" target="_blank">DBA_TABLESPACE_GROUPS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7616 d141174e7574 ">
                                    <p>显示表空间组和属于它们的表空间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7627" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_SEGMENTS.html#REFRN23243" target="_blank">DBA_SEGMENTS</a></code> ， <code class="codeph"><a href="../refrn/USER_SEGMENTS.html#REFRN26243" target="_blank">USER_SEGMENTS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7627 d141174e7574 ">
                                    <p>有关所有（或用户可访问的）表空间中的段的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7643" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_EXTENTS.html#REFRN23072" target="_blank">DBA_EXTENTS</a></code> ， <code class="codeph"><a href="../refrn/USER_EXTENTS.html#REFRN26072" target="_blank">USER_EXTENTS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7643 d141174e7574 ">
                                    <p>有关所有（或用户可访问的）表空间中的数据范围的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7659" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_FREE_SPACE.html#REFRN23076" target="_blank">DBA_FREE_SPACE</a></code> ， <code class="codeph"><a href="../refrn/USER_FREE_SPACE.html#REFRN26076" target="_blank">USER_FREE_SPACE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7659 d141174e7574 ">
                                    <p>有关所有（或用户可访问的）表空间中的可用扩展区的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7675" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23627" target="_blank">DBA_TEMP_FREE_SPACE</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7675 d141174e7574 ">
                                    <p>显示每个临时表空间中的已分配和可用空间总量。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7685" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30050" target="_blank">V $ DATAFILE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7685 d141174e7574 ">
                                    <p>有关所有数据文件的信息，包括拥有表空间的表空间号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7696" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMPFILE.html#REFRN30283" target="_blank">V $ TEMPFILE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7696 d141174e7574 ">
                                    <p>有关所有临时文件的信息，包括拥有表空间的表空间号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7707" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23049" target="_blank">DBA_DATA_FILES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7707 d141174e7574 ">
                                    <p>显示属于表空间的文件（数据文件）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7719" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23288" target="_blank">DBA_TEMP_FILES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7719 d141174e7574 ">
                                    <p>显示属于临时表空间的文件（临时文件）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7730" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMP_EXTENT_MAP.html#REFRN30279" target="_blank">V $ TEMP_EXTENT_MAP</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7730 d141174e7574 ">
                                    <p>所有本地管理的临时表空间中所有扩展区的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7741" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMP_EXTENT_POOL.html#REFRN30280" target="_blank">V $ TEMP_EXTENT_POOL</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7741 d141174e7574 ">
                                    <p>对于本地管理的临时表空间：每个实例缓存和使用的临时空间的状态。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7752" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMP_SPACE_HEADER.html#REFRN30282" target="_blank">V $ TEMP_SPACE_HEADER</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7752 d141174e7574 ">
                                    <p>显示每个临时文件使用/空闲的空间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7763" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23302" target="_blank">DBA_USERS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7763 d141174e7574 ">
                                    <p>所有用户的默认和临时表空间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7773" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23294" target="_blank">DBA_TS_QUOTAS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7773 d141174e7574 ">
                                    <p>列出所有用户的表空间配额。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7784" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30243" target="_blank">V $ SORT_SEGMENT</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7784 d141174e7574 ">
                                    <p>有关给定实例中每个排序段的信息。仅当表空间为<code class="codeph">TEMPORARY</code>类型时才会更新视图。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7798" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30285" target="_blank">V $ TEMPSEG_USAGE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7798 d141174e7574 ">
                                    <p>描述用户对临时或永久表空间的临时（排序）段使用情况。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle数据库包括数据字典视图，您可以查询有关表空间的信息。">查看有关表空间的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11411"></a><div class="props_rev_3"><a id="GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526" name="GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526"></a><h4 id="ADMIN-GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526" class="sect4"><span class="enumeration_section">13.15.2</span>示例1：列出表空间和默认存储参数</h4>
                  <div>
                     <p>您可以查询<code class="codeph">DBA_TABLESPACES</code>视图以列出名称和默认存储参数。
                     </p>
                     <div class="section">
                        <p>要列出数据库中所有表空间的名称和默认存储参数，请在<code class="codeph">DBA_TABLESPACES</code>视图上使用以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLESPACE_NAME“TABLESPACE”，INITIAL_EXTENT“INITIAL_EXT”，NEXT_EXTENT“NEXT_EXT”，MIN_EXTENTS“MIN_EXT”，MAX_EXTENTS“MAX_EXT”，PCT_INCREASE FROM DBA_TABLESPACES; TABLESPACE INITIAL_EXT NEXT_EXT MIN_EXT MAX_EXT PCT_INCREASE ---------- ----------- -------- ------- -------  - ----------- RBS 1048576 1048576 2 40 0 SYSTEM 106496 106496 1 99 1 TEMP 106496 106496 1 99 0 TESTTBS 57344 16384 2 10 1 USERS 57344 57344 1 99 1</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle数据库包括数据字典视图，您可以查询有关表空间的信息。">查看有关表空间的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11412"></a><div class="props_rev_3"><a id="GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695" name="GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695"></a><h4 id="ADMIN-GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695" class="sect4"><span class="enumeration_section">13.15.3</span>示例2：列出数据库的数据文件和关联表空间</h4>
                  <div>
                     <p>您可以查询<code class="codeph">DBA_DATA_FILES</code>视图以列出数据库的名称，大小和关联的表空间。
                     </p>
                     <div class="section">
                        <p>要列出数据库的名称，大小和关联的表空间，请在<code class="codeph">DBA_DATA_FILES</code>视图中输入以下查询：</p><pre class="oac_no_warn" dir="ltr">来自DBA_DATA_FILES的SELECT FILE_NAME，BLOCKS，TABLESPACE_NAME; FILE_NAME BLOCKS TABLESPACE_NAME ------------ ---------- ------------------- / U02 / ORACLE / IDDB3 / DBF / RBS01。DBF 1536 RBS / U02 / ORACLE / IDDB3 / DBF / SYSTEM01。DBF 6586 SYSTEM / U02 / ORACLE / IDDB3 / DBF / TEMP01。DBF 6400 TEMP / U02 / ORACLE / IDDB3 / DBF / TESTTBS01。DBF 6400 TESTTBS / U02 / ORACLE / IDDB3 / DBF / USERS01。DBF 384用户</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle数据库包括数据字典视图，您可以查询有关表空间的信息。">查看有关表空间的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11413"></a><div class="props_rev_3"><a id="GUID-668EAC02-F586-4B92-9768-605F71A93461" name="GUID-668EAC02-F586-4B92-9768-605F71A93461"></a><h4 id="ADMIN-GUID-668EAC02-F586-4B92-9768-605F71A93461" class="sect4"><span class="enumeration_section">13.15.4</span>示例3：显示每个表空间的可用空间（范围）的统计信息</h4>
                  <div>
                     <p>您可以查询<code class="codeph">DBA_FREE_SPACE</code>视图以显示有关数据库中每个表空间的可用扩展区和合并活动的统计信息。
                     </p>
                     <div class="section">
                        <p>要为数据库中的每个表空间生成有关可用扩展区和合并活动的统计信息，请输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TABLESPACE_NAME“TABLESPACE”，FILE_ID，COUNT（*）“PIECES”，MAX（块）“MAXIMUM”，MIN（块）“MINIMUM”，AVG（块）“AVERAGE”，SUM（块）来自DBA_FREE_SPACE GROUP的“TOTAL” BY TABLESPACE_NAME，FILE_ID; TABLESPACE FILE_ID PIECES MAXIMUM MINIMUM AVERAGE TULLAL ---------- ------- ------ ------- ------- ------ -  ------ RBS 2 1 955 955 955 955 SYSTEM 1 1 119 119 119 119 TEMP 4 1 6399 6399 6399 6399 TESTTBS 5 5 6364 3 1278 6390 USERS 3 1 363 363 363 363</pre><p><code class="codeph">PIECES</code>显示表空间文件中的可用空间范围数， <code class="codeph">MAXIMUM</code>和<code class="codeph">MINIMUM</code>显示数据库块中最大和最小的连续空间区域， <code class="codeph">AVERAGE</code>显示可用空间范围的块中的平均大小， <code class="codeph">TOTAL</code>显示可用空间量在块中的每个表空间文件中。当您要创建新对象或者您知道某个段即将扩展时，此查询非常有用，并且您希望确保包含的表空间中有足够的空间。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle数据库包括数据字典视图，您可以查询有关表空间的信息。">查看有关表空间的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>