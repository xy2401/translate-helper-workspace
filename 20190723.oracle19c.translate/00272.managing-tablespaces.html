<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."></meta>
      <meta name="description" content="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."></meta>
      <title>Managing Tablespaces</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-archived-redo-log-files.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-data-files-and-temp-files.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-archived-redo-log-files.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-data-files-and-temp-files.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-structure-and-storage.html" property="item" typeof="WebPage"><span property="name"> Oracle Database Structure and Storage</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Managing Tablespaces</li>
            </ol>
            <a id="GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" name="GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88"></a><a id="ADMIN011"></a>
            
            <h2 id="ADMIN-GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" class="sect2"><span class="enumeration_chapter">13 </span> Managing Tablespaces
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A">Guidelines for Managing Tablespaces</a><br>You can follow guidelines for working with tablespaces.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46">Creating Tablespaces</a><br>You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6880021F-F8C3-4DE5-AA62-8536186B7016">Consider Storing Tablespaces in the In-Memory Column Store</a><br>You can enable a tablespace for the In-Memory Column Store during tablespace creation or by altering a tablespace. When this enable a tablespace for the In-Memory Column Store, all tables in the tablespace are enabled for the In-Memory Column Store by default.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A789CECE-226C-4280-8BC4-39F064036965">Specifying Nonstandard Block Sizes for Tablespaces</a><br>You can create tablespaces with block sizes different from the standard database block size, which is specified by the <code class="codeph">DB_BLOCK_SIZE</code> initialization parameter. This feature lets you transport tablespaces with unlike block sizes between databases.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A1939693-60AC-4009-B37C-A1D8D1360D49">Controlling the Writing of Redo Records</a><br>For some database operations, you can control whether the database generates redo records.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91">Altering Tablespace Availability</a><br>You can take an online tablespace offline so that it is temporarily unavailable for general use. The rest of the database remains open and available for users to access data. Conversely, you can bring an offline tablespace online to make the schema objects within the tablespace available to database users. The database must be open to alter the availability of a tablespace.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F">Using Read-Only Tablespaces</a><br>A tablespace can be put into read-only mode. This prevents any data stored in it from being updated.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C">Altering and Maintaining Tablespaces</a><br>You can alter and maintain tablespaces by performing such tasks as adding data files and temp files to them.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522">Renaming Tablespaces</a><br>Using the <code class="codeph">RENAME TO</code> clause of the <code class="codeph">ALTER TABLESPACE</code>, you can rename a permanent or temporary tablespace.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-4EB483A2-2E04-4047-8885-F5396876D0EB">Dropping Tablespaces</a><br>You can drop a tablespace and its contents (the segments contained in the tablespace) from the database if the tablespace and its contents are no longer required.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B">Managing Lost Write Protection with Shadow Tablespaces</a><br>A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710">Managing the SYSAUX Tablespace</a><br>The <code class="codeph">SYSAUX</code> tablespace was installed as an auxiliary tablespace to the <code class="codeph">SYSTEM</code> tablespace when you created your database. Some database components that formerly created and used separate tablespaces now occupy the <code class="codeph">SYSAUX</code> tablespace.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D">Correcting Problems with Locally Managed Tablespaces</a><br>Oracle Database includes aids for correcting problems with locally managed tablespaces.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C961302C-E712-48C2-A938-2509DB4404ED">Migrating the SYSTEM Tablespace to a Locally Managed Tablespace</a><br>Use the <code class="codeph">DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL</code> procedure to migrate the <code class="codeph">SYSTEM</code> tablespace from dictionary-managed to locally managed.
                  </li>
                  <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1">Viewing Information About Tablespaces</a><br>Oracle Database includes data dictionary views that you can query for information about tablespaces.
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88__GUID-9297AE43-CE92-450C-A543-ADC9FBB8C311">
                  <p class="notep1">See Also:</p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../cncpt/logical-storage-structures.html#CNCPT402" target="_blank"><span class="italic">Oracle Database Concepts </span></a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a> for information about creating data files and temp files that are both created and managed by the Oracle Database server
                        </p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="You can transport tablespaces between databases.">Transporting Tablespaces Between Databases</a>"</span></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="oracle-database-structure-and-storage.html#GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" title="You can create and manage database structures and storage components.">Oracle Database Structure and Storage</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11356"></a><div class="props_rev_3"><a id="GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" name="GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A"></a><h3 id="ADMIN-GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" class="sect3"><span class="enumeration_section">13.1 </span>Guidelines for Managing Tablespaces
               </h3>
               <p>You can follow guidelines for working with tablespaces.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972">Use Multiple Tablespaces</a><br>Using multiple tablespaces allows you more flexibility in performing database operations.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A">Assign Tablespace Quotas to Users</a><br>Grant to users who will be creating tables, clusters, materialized views, indexes, and other objects the privilege to create the object and a <span class="bold">quota</span> (space allowance or limit) in the tablespace intended to hold the object segment.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11357"></a><div class="props_rev_3"><a id="GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972" name="GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972"></a><h4 id="ADMIN-GUID-5FA9D7BD-3B35-40AE-8B7F-95570987A972" class="sect4"><span class="enumeration_section">13.1.1 </span>Use Multiple Tablespaces
                  </h4>
                  <div>
                     <p>Using multiple tablespaces allows you more flexibility in performing database operations.</p>
                     <p>When a database has multiple tablespaces, you can:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Separate user data from data dictionary data to reduce I/O contention.</p>
                        </li>
                        <li>
                           <p>Separate data of one application from the data of another to prevent multiple applications from being affected if a tablespace must be taken offline.</p>
                        </li>
                        <li>
                           <p>Store the data files of different tablespaces on different disk drives to reduce I/O contention.</p>
                        </li>
                        <li>
                           <p>Take individual tablespaces offline while others remain online, providing better overall availability.</p>
                        </li>
                        <li>
                           <p>Optimizing tablespace use by reserving a tablespace for a particular type of database use, such as high update activity, read-only activity, or temporary segment storage. </p>
                        </li>
                        <li>
                           <p>Back up individual tablespaces.</p>
                        </li>
                     </ul>
                     <p>Some operating systems set a limit on the number of files that can be open simultaneously. Such limits can affect the number of tablespaces that can be simultaneously online. To avoid exceeding your operating system limit, plan your tablespaces efficiently. Create only enough tablespaces to fulfill your needs, and create these tablespaces with as few files as possible. If you must increase the size of a tablespace, then add one or two large data files, or create data files with autoextension enabled, rather than creating many small data files.</p>
                     <p>Review your data in light of these factors and decide how many tablespaces you need for your database design. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" title="You can follow guidelines for working with tablespaces.">Guidelines for Managing Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11358"></a><div class="props_rev_3"><a id="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A" name="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A"></a><h4 id="ADMIN-GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A" class="sect4"><span class="enumeration_section">13.1.2 </span>Assign Tablespace Quotas to Users
                  </h4>
                  <div>
                     <p>Grant to users who will be creating tables, clusters, materialized views, indexes, and other objects the privilege to create the object and a <span class="bold">quota</span> (space allowance or limit) in the tablespace intended to hold the object segment.
                     </p>
                     <div class="infoboxnote" id="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A__GUID-ED825F69-574A-49CA-BE81-8AA5AC14439B">
                        <p class="notep1">Note:</p>
                        <p>For PL/SQL objects such as packages, procedures, and functions, users only need the privileges to create the objects. No explicit tablespace quota is required to create these PL/SQL objects.</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-83B788D2-B621-4FCF-9A26-7AF7557A6E3A__GUID-3114A5DE-FC34-402A-AF1B-60585117BA81">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG002" target="_blank"><span class="italic">Oracle Database Security Guide </span></a>for information about creating users and assigning tablespace quotas.
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" title="You can follow guidelines for working with tablespaces.">Guidelines for Managing Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-9A3CE861-80FE-4813-B496-287B69A79C46" name="GUID-9A3CE861-80FE-4813-B496-287B69A79C46"></a><h3 id="ADMIN-GUID-9A3CE861-80FE-4813-B496-287B69A79C46" class="sect3"><span class="enumeration_section">13.2 </span>Creating Tablespaces
               </h3>
               <p>You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F">About Creating Tablespaces</a><br>To create a new tablespace, use the SQL statement <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">CREATE TEMPORARY TABLESPACE</code>. You must have the <code class="codeph">CREATE TABLESPACE</code> system privilege to create a tablespace. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A">Locally Managed Tablespaces</a><br>A locally managed tablespace uses a bitmap stored in each data file to manage the extents.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426">Bigfile Tablespaces</a><br>Bigfile tablespaces can increase the storage capacity of a database and reduce the burden of managing many data files and temp files.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6">Tablespaces with Default Compression Attributes</a><br>When you create a tablespace, you can specify that all tables and indexes, or their partitions, created in a tablespace are compressed by default.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB">Encrypted Tablespaces</a><br>You can encrypt any permanent tablespace to protect sensitive data.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC">Temporary Tablespaces</a><br>Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory. These tablespaces also improve the efficiency of space management operations during sorts.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE">Temporary Tablespace Groups</a><br>A temporary tablespace group is a tablespace group that is assigned as the default temporary tablespace for the database.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11359"></a><div class="props_rev_3"><a id="GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F" name="GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F"></a><h4 id="ADMIN-GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F" class="sect4"><span class="enumeration_section">13.2.1 </span>About Creating Tablespaces
                  </h4>
                  <div>
                     <p>To create a new tablespace, use the SQL statement <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">CREATE TEMPORARY TABLESPACE</code>. You must have the <code class="codeph">CREATE TABLESPACE</code> system privilege to create a tablespace. 
                     </p>
                     <p>Before you can create a tablespace, you must create a database to contain it. The primary tablespace in any database is the <code class="codeph">SYSTEM</code> tablespace, which contains information basic to the functioning of the database server, such as the data dictionary and the system rollback segment. The <code class="codeph">SYSTEM</code> tablespace is the first tablespace created at database creation. It is managed as any other tablespace, but requires a higher level of privilege and is restricted in some ways. For example, you cannot rename or drop the <code class="codeph">SYSTEM</code> tablespace or take it offline.
                     </p>
                     <p>The <code class="codeph">SYSAUX</code> tablespace, which acts as an auxiliary tablespace to the <code class="codeph">SYSTEM</code> tablespace, is also always created when you create a database. It contains the schemas used by various Oracle products and features, so that those products do not require their own tablespaces. As for the <code class="codeph">SYSTEM</code> tablespace, management of the <code class="codeph">SYSAUX</code> tablespace requires a higher level of security and you cannot rename or drop it. The management of the <code class="codeph">SYSAUX</code> tablespace is discussed separately in <span class="q">"<a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="The SYSAUX tablespace was installed as an auxiliary tablespace to the SYSTEM tablespace when you created your database. Some database components that formerly created and used separate tablespaces now occupy the SYSAUX tablespace.">Managing the SYSAUX Tablespace</a>"</span>.
                     </p>
                     <p>The steps for creating tablespaces vary by operating system, but the first step is always to use your operating system to create a directory structure in which your data files will be allocated. On most operating systems, you specify the size and fully specified file names of data files when you create a new tablespace or alter an existing tablespace by adding data files. Whether you are creating a new tablespace or modifying an existing one, the database automatically allocates and formats the data files as specified. </p>
                     <p>You can also use the <code class="codeph">CREATE UNDO TABLESPACE</code> statement to create a special type of tablespace called an <span class="bold">undo tablespace</span>, which is specifically designed to contain undo records. These are records generated by the database that are used to roll back, or undo, changes to the database for recovery, read consistency, or as requested by a <code class="codeph">ROLLBACK</code> statement. Creating and managing undo tablespaces is the subject of <a href="managing-undo.html#GUID-2C865CF9-A8B5-4BF1-A451-E8C08D3611F0" title="For a default installation, Oracle Database automatically manages undo. There is typically no need for DBA intervention. However, if your installation uses Oracle Flashback operations, you may need to perform some undo management tasks to ensure the success of these operations."> Managing Undo </a>.
                     </p>
                     <p>You can use the <code class="codeph">ALTER TABLESPACE</code> or <code class="codeph">ALTER DATABASE</code> statements to alter the tablespace. You must have the <code class="codeph">ALTER TABLESPACE</code> or <code class="codeph">ALTER DATABASE</code> system privilege, correspondingly.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B8369BAD-892E-440B-95F0-0E9F3622CA3F__GUID-DF9F1118-D8AE-47E3-88B0-9B60B9111BA1">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="After you plan your database, you can create the database with a graphical tool or a SQL command.">Creating and Configuring an Oracle Database</a>"</span> and your Oracle Database installation documentation for your operating system for information about tablespaces that are created at database creation
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/index.html" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the syntax and semantics of the <code class="codeph">CREATE TABLESPACE</code>, <code class="codeph">CREATE TEMPORARY TABLESPACE</code>, <code class="codeph">ALTER TABLESPACE</code>, and <code class="codeph">ALTER DATABASE</code> statements.
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-55124C2D-98FF-4305-8F25-58245C9BEC1E" title="The DB_BLOCK_SIZE initialization parameter specifies the standard block size for the database.">Specifying Database Block Sizes</a>"</span> for information about initialization parameters necessary to create tablespaces with nonstandard block sizes
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.">Creating Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" name="GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A"></a><h4 id="ADMIN-GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" class="sect4"><span class="enumeration_section">13.2.2 </span>Locally Managed Tablespaces
                  </h4>
                  <p>A locally managed tablespace uses a bitmap stored in each data file to manage the extents.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E">About Locally Managed Tablespaces</a><br>Locally managed tablespaces track all extent information in the tablespace itself by using bitmaps.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C">Creating a Locally Managed Tablespace</a><br>Create a locally managed tablespace by specifying <code class="codeph">LOCAL</code> in the <code class="codeph">EXTENT MANAGEMENT</code> clause of the <code class="codeph">CREATE TABLESPACE</code> statement. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0">Specifying Segment Space Management in Locally Managed Tablespaces</a><br>In a locally managed tablespace, there are two methods that Oracle Database can use to manage segment space: automatic and manual.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.">Creating Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11360"></a><div class="props_rev_3"><a id="GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E" name="GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E"></a><h5 id="ADMIN-GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E" class="sect5"><span class="enumeration_section">13.2.2.1 </span>About Locally Managed Tablespaces
                     </h5>
                     <div>
                        <p>Locally managed tablespaces track all extent information in the tablespace itself by using bitmaps.</p>
                        <p>Locally managed tablespaces provide the following benefits:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Fast, concurrent space operations. Space allocations and deallocations modify locally managed resources (bitmaps stored in header files).</p>
                           </li>
                           <li>
                              <p>Enhanced performance</p>
                           </li>
                           <li>
                              <p>Readable standby databases are allowed, because locally managed temporary tablespaces do not generate any undo or redo.</p>
                           </li>
                           <li>
                              <p>Space allocation is simplified, because when the <code class="codeph">AUTOALLOCATE</code> clause is specified, the database automatically selects the appropriate extent size.
                              </p>
                           </li>
                           <li>
                              <p>User reliance on the data dictionary is reduced, because the necessary information is stored in file headers and bitmap blocks.</p>
                           </li>
                           <li>
                              <p>Coalescing free extents is unnecessary for locally managed tablespaces.</p>
                           </li>
                        </ul>
                        <p>All tablespaces, including the <a id="d141174e796" class="indexterm-anchor"></a><code class="codeph">SYSTEM</code> tablespace, can be locally managed.
                        </p>
                        <p>The <code class="codeph">DBMS_SPACE_ADMIN</code> package provides maintenance procedures for locally managed tablespaces.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E__GUID-F79DC454-1AEA-476C-BBF9-0B62EA18729C">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-D8061728-6A13-4F30-AA91-EBE52F276AC3" title="During database creation, create a locally managed SYSTEM tablespace. A locally managed tablespace uses a bitmap stored in each data file to manage the extents.">Creating a Locally Managed SYSTEM Tablespace</a>"</span>, <span class="q">"<a href="managing-tablespaces.html#GUID-C961302C-E712-48C2-A938-2509DB4404ED" title="Use the DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL procedure to migrate the SYSTEM tablespace from dictionary-managed to locally managed.">Migrating the SYSTEM Tablespace to a Locally Managed Tablespace</a>"</span>, and <span class="q">"<a href="managing-tablespaces.html#GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4" title="Oracle Database includes the DBMS_SPACE_ADMIN package, which is a collection of aids for diagnosing and repairing problems in locally managed tablespaces.">Diagnosing and Repairing Locally Managed Tablespace Problems</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tablespaces.html#GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" title="A bigfile tablespace is a tablespace with a single, but potentially very large (up to 4G blocks) data file. Traditional smallfile tablespaces, in contrast, can contain multiple data files, but the files cannot be as large.">Bigfile Tablespaces</a>"</span> for information about creating another type of locally managed tablespace that contains only a single data file or temp file.
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SPACE_ADMIN.html#ARPLS057" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the <code class="codeph">DBMS_SPACE_ADMIN</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" title="A locally managed tablespace uses a bitmap stored in each data file to manage the extents.">Locally Managed Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11361"></a><div class="props_rev_3"><a id="GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C" name="GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C"></a><h5 id="ADMIN-GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C" class="sect5"><span class="enumeration_section">13.2.2.2 </span>Creating a Locally Managed Tablespace
                     </h5>
                     <div>
                        <p>Create a locally managed tablespace by specifying <code class="codeph">LOCAL</code> in the <code class="codeph">EXTENT MANAGEMENT</code> clause of the <code class="codeph">CREATE TABLESPACE</code> statement. 
                        </p>
                        <div class="section">
                           <p>This is the default for new permanent tablespaces, but you must specify the <code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code> clause to specify either the <code class="codeph">AUTOALLOCATE</code> clause or the <code class="codeph">UNIFORM</code> clause. You can have the database manage extents for you automatically with the <code class="codeph">AUTOALLOCATE</code> clause (the default), or you can specify that the tablespace is managed with uniform extents of a specific size (<code class="codeph">UNIFORM</code>).
                           </p>
                           <p>If you expect the tablespace to contain objects of varying sizes requiring many extents with different extent sizes, then <code class="codeph">AUTOALLOCATE</code> is the best choice. <code class="codeph">AUTOALLOCATE</code> is also a good choice if it is not important for you to have a lot of control over space allocation and deallocation, because it simplifies tablespace management. Some space may be wasted with this setting, but the benefit of having Oracle Database manage your space most likely outweighs this drawback.
                           </p>
                           <p>If you want exact control over unused space, and you can predict exactly the space to be allocated for an object or objects and the number and size of extents, then <code class="codeph">UNIFORM</code> is a good choice. This setting ensures that you will never have unusable space in your tablespace.
                           </p>
                           <p>When you do not explicitly specify the type of extent management, Oracle Database determines extent management as follows:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>If the <code class="codeph">CREATE TABLESPACE</code> statement omits the <code class="codeph">DEFAULT</code> storage clause, then the database creates a locally managed autoallocated tablespace.
                                 </p>
                              </li>
                              <li>
                                 <p>If the <code class="codeph">CREATE TABLESPACE</code> statement includes a <code class="codeph">DEFAULT</code> storage clause, then the database considers the following:
                                 </p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>If you specified the <code class="codeph">MINIMUM EXTENT</code> clause, the database evaluates whether the values of <code class="codeph">MINIMUM EXTENT</code>, <code class="codeph">INITIAL</code>, and <code class="codeph">NEXT</code> are equal and the value of <code class="codeph">PCTINCREASE</code> is 0. If so, the database creates a locally managed uniform tablespace with extent size = <code class="codeph">INITIAL</code>. If the <code class="codeph">MINIMUM EXTENT</code>, <code class="codeph">INITIAL</code>, and <code class="codeph">NEXT</code> parameters are not equal, or if <code class="codeph">PCTINCREASE</code> is not 0, then the database ignores any extent storage parameters you may specify and creates a locally managed, autoallocated tablespace.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If you did not specify <code class="codeph">MINIMUM EXTENT</code> clause, then the database evaluates only whether the storage values of <code class="codeph">INITIAL</code> and <code class="codeph">NEXT</code> are equal and <code class="codeph">PCTINCREASE</code> is 0. If so, the tablespace is locally managed and uniform. Otherwise, the tablespace is locally managed and autoallocated.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>For example, the following statement creates a locally managed tablespace named <code class="codeph">lmtbsb</code> and specifies <code class="codeph">AUTOALLOCATE</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE '/u02/oracle/data/lmtbsb01.dbf' SIZE 50M
    EXTENT MANAGEMENT LOCAL AUTOALLOCATE;
</pre><p><code class="codeph">AUTOALLOCATE</code> causes the tablespace to be system managed with a minimum extent size of 64K.
                           </p>
                           <p>The alternative to <code class="codeph">AUTOALLOCATE</code> is <code class="codeph">UNIFORM</code>. which specifies that the tablespace is managed with extents of uniform size. You can specify that size in the <code class="codeph">SIZE</code> clause of <code class="codeph">UNIFORM</code>. If you omit <code class="codeph">SIZE</code>, then the default size is 1M. 
                           </p>
                           <p>The following example creates a tablespace with uniform 128K extents. (In a database with 2K blocks, each extent would be equivalent to 64 database blocks). Each 128K extent is represented by a bit in the extent bitmap for this file.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE '/u02/oracle/data/lmtbsb01.dbf' SIZE 50M
    EXTENT MANAGEMENT LOCAL UNIFORM SIZE 128K;
</pre><p>You cannot specify the <code class="codeph">DEFAULT</code> storage clause, <code class="codeph">MINIMUM EXTENT</code>, or <code class="codeph">TEMPORARY</code> when you explicitly specify <code class="codeph">EXTENT MANAGEMENT LOCAL</code>. To create a temporary locally managed tablespace, use the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> statement.
                           </p>
                           <div class="infoboxnote" id="GUID-9DCE43A6-0D58-40C9-AA80-F87BB6B1577C__GUID-0DFF4747-A0BC-4F38-B103-1D9088BEA6B2">
                              <p class="notep1">Note:</p>
                              <p>When you allocate a data file for a locally managed tablespace, you should allow space for metadata used for space management (the extent bitmap or space header segment) which are part of user space. For example, if you specify the <code class="codeph">UNIFORM</code> clause in the extent management clause but you omit the <code class="codeph">SIZE</code> parameter, then the default extent size is 1MB. In that case, the size specified for the data file must be larger (at least one block plus space for the bitmap) than 1MB.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" title="A locally managed tablespace uses a bitmap stored in each data file to manage the extents.">Locally Managed Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN10065"></a><div class="props_rev_3"><a id="GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0" name="GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0"></a><h5 id="ADMIN-GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0" class="sect5"><span class="enumeration_section">13.2.2.3 </span>Specifying Segment Space Management in Locally Managed Tablespaces
                     </h5>
                     <div>
                        <p>In a locally managed tablespace, there are two methods that Oracle Database can use to manage segment space: automatic and manual.</p>
                        <div class="section">
                           <p>Manual segment space management uses linked lists called "freelists" to manage free space in the segment, while automatic segment space management uses bitmaps. Automatic segment space management is the more efficient method, and is the default for all new permanent, locally managed tablespaces.</p>
                           <p>Automatic segment space management delivers better space utilization than manual segment space management. It is also self-tuning, in that it scales with increasing number of users or instances. In an Oracle Real Application Clusters environment, automatic segment space management allows for a dynamic affinity of space to instances. In addition, for many standard workloads, application performance with automatic segment space management is better than the performance of a well-tuned application using manual segment space management.</p>
                           <p>Although automatic segment space management is the default for all new permanent, locally managed tablespaces, you can explicitly enable it with the <code class="codeph">SEGMENT SPACE MANAGEMENT AUTO</code> clause. 
                           </p>
                           <p>For example, the following statement creates tablespace <code class="codeph">lmtbsb</code> with automatic segment space management:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE '/u02/oracle/data/lmtbsb01.dbf' SIZE 50M
    EXTENT MANAGEMENT LOCAL 
    SEGMENT SPACE MANAGEMENT AUTO;
</pre><p>The <code class="codeph">SEGMENT SPACE MANAGEMENT MANUAL</code> clause disables automatic segment space management.
                           </p>
                           <p>The segment space management that you specify at tablespace creation time applies to all segments subsequently created in the tablespace. You cannot change the segment space management mode of a tablespace.</p>
                           <div class="infoboxnote" id="GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0__GUID-DB172C01-69AA-43B4-AED9-0F08AC0271A7">
                              <p class="notep1">Note:</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>If you set extent management to <code class="codeph">LOCAL</code> <code class="codeph">UNIFORM</code>, then you must ensure that each extent contains at least 5 database blocks.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you set extent management to <code class="codeph">LOCAL</code> <code class="codeph">AUTOALLOCATE</code>, and if the database block size is 16K or greater, then Oracle manages segment space by creating extents with a minimum size of 5 blocks rounded up to 64K.
                                    </p>
                                 </li>
                                 <li>
                                    <p>You cannot specify automatic segment space management for the <code class="codeph">SYSTEM</code> tablespace.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>Locally managed tablespaces using automatic segment space management can be created as single-file or bigfile tablespaces, as described in <span class="q">"<a href="managing-tablespaces.html#GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" title="A bigfile tablespace is a tablespace with a single, but potentially very large (up to 4G blocks) data file. Traditional smallfile tablespaces, in contrast, can contain multiple data files, but the files cannot be as large.">Bigfile Tablespaces</a>"</span>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-6387DF1B-F29C-4EDF-925C-202DEEFE9E1A" title="A locally managed tablespace uses a bitmap stored in each data file to manage the extents.">Locally Managed Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5C916922-25BD-4140-A76D-08F3C0E68426" name="GUID-5C916922-25BD-4140-A76D-08F3C0E68426"></a><h4 id="ADMIN-GUID-5C916922-25BD-4140-A76D-08F3C0E68426" class="sect4"><span class="enumeration_section">13.2.3 </span>Bigfile Tablespaces
                  </h4>
                  <p>Bigfile tablespaces can increase the storage capacity of a database and reduce the burden of managing many data files and temp files.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063">About Bigfile Tablespaces</a><br>A <span class="bold">bigfile tablespace</span> is a tablespace with a single, but potentially very large (up to 4G blocks) data file. Traditional smallfile tablespaces, in contrast, can contain multiple data files, but the files cannot be as large. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-2736AECE-1AA1-4353-AE11-914A382165A9">Creating a Bigfile Tablespace</a><br>To create a bigfile tablespace, specify the <code class="codeph">BIGFILE</code> keyword of the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> statement (<code class="codeph">CREATE</code> <code class="codeph">BIGFILE</code> <code class="codeph">TABLESPACE</code> ...).
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-F083CFBF-955B-4994-875E-3298B140AD1B">Identifying a Bigfile Tablespace</a><br>You can query a set of data dictionary views for information about bigfile tablespaces.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.">Creating Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN01102"></a><div class="props_rev_3"><a id="GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" name="GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063"></a><h5 id="ADMIN-GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063" class="sect5"><span class="enumeration_section">13.2.3.1 </span>About Bigfile Tablespaces
                     </h5>
                     <div>
                        <p>A <span class="bold">bigfile tablespace</span> is a tablespace with a single, but potentially very large (up to 4G blocks) data file. Traditional smallfile tablespaces, in contrast, can contain multiple data files, but the files cannot be as large. 
                        </p>
                        <p>The benefits of bigfile tablespaces are the following: </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>A bigfile tablespace with 8K blocks can contain a 32 terabyte data file. A bigfile tablespace with 32K blocks can contain a 128 terabyte data file. The maximum number of data files in an Oracle Database is limited (usually to 64K files). Therefore, bigfile tablespaces can significantly enhance the storage capacity of an Oracle Database. </p>
                           </li>
                           <li>
                              <p>Bigfile tablespaces can reduce the number of data files needed for a database. An additional benefit is that the <code class="codeph">DB_FILES</code> initialization parameter and <code class="codeph">MAXDATAFILES</code> parameter of the <code class="codeph">CREATE DATABASE</code> and <code class="codeph">CREATE CONTROLFILE</code> statements can be adjusted to reduce the amount of SGA space required for data file information and the size of the control file.
                              </p>
                           </li>
                           <li>
                              <p>Bigfile tablespaces simplify database management by providing data file transparency. SQL syntax for the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> statement lets you perform operations on tablespaces, rather than the underlying individual data files. 
                              </p>
                           </li>
                        </ul>
                        <p>Bigfile tablespaces are supported only for locally managed tablespaces with automatic segment space management, with three exceptions: locally managed undo tablespaces, temporary tablespaces, and the <code class="codeph">SYSTEM</code> tablespace.
                        </p>
                        <div class="infoboxnote" id="GUID-7E376766-D99D-4274-BF00-8DC1E6FC5063__GUID-DBB8C542-5581-4899-9CE0-BBF40AA11BF3">
                           <p class="notep1">Note:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Bigfile tablespaces are intended to be used with Automatic Storage Management (Oracle ASM) or other logical volume managers that supports striping or RAID, and dynamically extensible logical volumes.</p>
                              </li>
                              <li>
                                 <p>Avoid creating bigfile tablespaces on a system that does not support striping because of negative implications for parallel query execution and RMAN backup parallelization.</p>
                              </li>
                              <li>
                                 <p>Using bigfile tablespaces on platforms that do not support large file sizes is not recommended and can limit tablespace capacity. See your operating system specific documentation for information about maximum supported file sizes. </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426" title="Bigfile tablespaces can increase the storage capacity of a database and reduce the burden of managing many data files and temp files.">Bigfile Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11363"></a><div class="props_rev_3"><a id="GUID-2736AECE-1AA1-4353-AE11-914A382165A9" name="GUID-2736AECE-1AA1-4353-AE11-914A382165A9"></a><h5 id="ADMIN-GUID-2736AECE-1AA1-4353-AE11-914A382165A9" class="sect5"><span class="enumeration_section">13.2.3.2 </span>Creating a Bigfile Tablespace
                     </h5>
                     <div>
                        <p>To create a bigfile tablespace, specify the <code class="codeph">BIGFILE</code> keyword of the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> statement (<code class="codeph">CREATE</code> <code class="codeph">BIGFILE</code> <code class="codeph">TABLESPACE</code> ...).
                        </p>
                        <div class="section">
                           <p>Oracle Database automatically creates a locally managed tablespace with automatic segment space management. You can, but need not, specify <code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code> and <code class="codeph">SEGMENT</code> <code class="codeph">SPACE</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">AUTO</code> in this statement. However, the database returns an error if you specify <code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">DICTIONARY</code> or <code class="codeph">SEGMENT</code> <code class="codeph">SPACE</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">MANUAL</code>. The remaining syntax of the statement is the same as for the <code class="codeph">CREATE TABLESPACE</code> statement, but you can only specify one data file. For example:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE BIGFILE TABLESPACE bigtbs 
    DATAFILE '/u02/oracle/data/bigtbs01.dbf' SIZE 50G
...
</pre><p>You can specify <code class="codeph">SIZE</code> in kilobytes (K), megabytes (M), gigabytes (G), or terabytes (T).
                           </p>
                           <p>If the default tablespace type was set to <code class="codeph">BIGFILE</code> at database creation, you need not specify the keyword <code class="codeph">BIGFILE</code> in the <code class="codeph">CREATE TABLESPACE</code> statement. A bigfile tablespace is created by default.
                           </p>
                           <p>If the default tablespace type was set to <code class="codeph">BIGFILE</code> at database creation, but you want to create a traditional (smallfile) tablespace, then specify a <code class="codeph">CREATE</code> <code class="codeph">SMALLFILE</code> <code class="codeph">TABLESPACE</code> statement to override the default tablespace type for the tablespace that you are creating.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2736AECE-1AA1-4353-AE11-914A382165A9__GUID-856C678F-0669-4716-98B1-410A4F283DA6">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-35A12594-29EB-4545-A6AD-63B9AC3A5671" title="Oracle Database simplifies management of tablespaces and enables support for extremely large databases by letting you create bigfile tablespaces.">Supporting Bigfile Tablespaces During Database Creation</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426" title="Bigfile tablespaces can increase the storage capacity of a database and reduce the burden of managing many data files and temp files.">Bigfile Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11365"></a><div class="props_rev_3"><a id="GUID-F083CFBF-955B-4994-875E-3298B140AD1B" name="GUID-F083CFBF-955B-4994-875E-3298B140AD1B"></a><h5 id="ADMIN-GUID-F083CFBF-955B-4994-875E-3298B140AD1B" class="sect5"><span class="enumeration_section">13.2.3.3 </span>Identifying a Bigfile Tablespace
                     </h5>
                     <div>
                        <p>You can query a set of data dictionary views for information about bigfile tablespaces.</p>
                        <div class="section">
                           <p>The following views contain a <code class="codeph">BIGFILE</code> column that identifies a tablespace as a bigfile tablespace:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DBA_TABLESPACES </code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">USER_TABLESPACES </code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$TABLESPACE </code></p>
                              </li>
                           </ul>
                           <p>Query these views for information about bigfile tablespaces.</p>
                           <p>You can also identify a bigfile tablespace by the relative file number of its single data file. That number is 1024 on most platforms, but 4096 on OS/390. </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-5C916922-25BD-4140-A76D-08F3C0E68426" title="Bigfile tablespaces can increase the storage capacity of a database and reduce the burden of managing many data files and temp files.">Bigfile Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" name="GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6"></a><h4 id="ADMIN-GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" class="sect4"><span class="enumeration_section">13.2.4 </span>Tablespaces with Default Compression Attributes
                  </h4>
                  <div>
                     <p>When you create a tablespace, you can specify that all tables and indexes, or their partitions, created in a tablespace are compressed by default.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03">About Tablespaces with Default Compression Attributes</a><br>When you create a tablespace, you can specify the default compression of data for all tables and indexes created in the tablespace. The default compression level also applies to the partitions that comprise the tablespace. Compressing this data can reduce disk use.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06">Creating Tablespaces with Default Compression Attributes</a><br>When you create a tablespace, you can specify the type of table compression using the <code class="codeph">DEFAULT</code> keyword, followed by the table compression clause including the compression type. You can also specify the type of index compression using the <code class="codeph">DEFAULT</code> keyword, followed by index compression clause and the index compression type.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.">Creating Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13316"></a><div class="props_rev_3"><a id="GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03" name="GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03"></a><h5 id="ADMIN-GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03" class="sect5"><span class="enumeration_section">13.2.4.1 </span>About Tablespaces with Default Compression Attributes
                     </h5>
                     <div>
                        <p>When you create a tablespace, you can specify the default compression of data for all tables and indexes created in the tablespace. The default compression level also applies to the partitions that comprise the tablespace. Compressing this data can reduce disk use.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" title="When you create a tablespace, you can specify that all tables and indexes, or their partitions, created in a tablespace are compressed by default.">Tablespaces with Default Compression Attributes</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06" name="GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06"></a><h5 id="ADMIN-GUID-B50C5A01-E22F-4721-97C7-DAF3FF269E06" class="sect5"><span class="enumeration_section">13.2.4.2 </span>Creating Tablespaces with Default Compression Attributes
                     </h5>
                     <div>
                        <p>When you create a tablespace, you can specify the type of table compression using the <code class="codeph">DEFAULT</code> keyword, followed by the table compression clause including the compression type. You can also specify the type of index compression using the <code class="codeph">DEFAULT</code> keyword, followed by index compression clause and the index compression type.
                        </p>
                        <div class="section">
                           <p>The following statement indicates that all tables and partitions created in the tablespace are to use advanced row compression, unless otherwise specified:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE ... DEFAULT ROW STORE COMPRESS ADVANCED ... ;
</pre><p>You can override the default tablespace compression specification when you create a table or partition in that tablespace.</p>
                           <p>The following statement indicates that all indexes created in the tablespace are to use high level advanced index compression, unless otherwise specified:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE ... DEFAULT INDEX COMPRESS ADVANCED HIGH ... ;
</pre><p>You can override the default tablespace compression specification when you create an index in that tablespace.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-207D9DF2-ED00-4A40-AC7B-49A4EAD061E6" title="When you create a tablespace, you can specify that all tables and indexes, or their partitions, created in a tablespace are compressed by default.">Tablespaces with Default Compression Attributes</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" name="GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB"></a><h4 id="ADMIN-GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" class="sect4"><span class="enumeration_section">13.2.5 </span>Encrypted Tablespaces
                  </h4>
                  <p>You can encrypt any permanent tablespace to protect sensitive data.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-42F231F3-306D-4680-A02E-078683F4C578">About Encrypted Tablespaces</a><br>Encrypted tablespaces primarily protect your data from unauthorized access by means other than through the database. For example, when encrypted tablespaces are written to backup media for travel from one Oracle database to another or for travel to an off-site facility for storage, they remain encrypted.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-88E85939-7360-4D30-9904-7C32343C293F">Creating Encrypted Tablespaces</a><br>You can create encrypted tablespaces to  protect your data from unauthorized access.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8">Viewing Information About Encrypted Tablespaces</a><br>You can query the <code class="codeph">DBA_TABLESPACES</code> and <code class="codeph">USER_TABLESPACES</code> data dictionary views for information about encrypted tablespaces.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.">Creating Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12597"></a><a id="ADMIN12598"></a><a id="ADMIN12599"></a><a id="ADMIN12327"></a><div class="props_rev_3"><a id="GUID-42F231F3-306D-4680-A02E-078683F4C578" name="GUID-42F231F3-306D-4680-A02E-078683F4C578"></a><h5 id="ADMIN-GUID-42F231F3-306D-4680-A02E-078683F4C578" class="sect5"><span class="enumeration_section">13.2.5.1 </span>About Encrypted Tablespaces
                     </h5>
                     <div>
                        <p>Encrypted tablespaces primarily protect your data from unauthorized access by means other than through the database. For example, when encrypted tablespaces are written to backup media for travel from one Oracle database to another or for travel to an off-site facility for storage, they remain encrypted.</p>
                        <p>Also, encrypted tablespaces protect data from users who try to circumvent the security features of the database and access database files directly through the operating system file system. Tablespace encryption is completely transparent to your applications, so no application modification is necessary. </p>
                        <p>Tablespace encryption does not address all security issues. It does not, for example, provide access control from within the database. Any user who is granted privileges on objects stored in an encrypted tablespace can access those objects without providing any kind of additional password or key.</p>
                        <p>When you encrypt a tablespace, all tablespace blocks are encrypted. All segment types are supported for encryption, including tables, clusters, indexes, LOBs (<code class="codeph">BASICFILE</code> and <code class="codeph">SECUREFILE</code>), table and index partitions, and so on.
                        </p>
                        <div class="infoboxnote" id="GUID-42F231F3-306D-4680-A02E-078683F4C578__GUID-79B56557-1FFC-4296-8E13-0468BE52A2BE">
                           <p class="notep1">Note:</p>
                           <p>There is no need to use LOB encryption on <code class="codeph">SECUREFILE</code> LOBs stored in an encrypted tablespace.
                           </p>
                        </div>
                        <p>To maximize security, data from an encrypted tablespace is automatically encrypted when written to the undo tablespace, to the redo logs, and to any temporary tablespace. However, starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can optionally encrypt undo tablespaces and temporary tablespaces.
                        </p>
                        <p>For partitioned tables and indexes that have different partitions in different tablespaces, it is permitted to use both encrypted and non-encrypted tablespaces in the same table or index.</p>
                        <p>Tablespace encryption uses the Transparent Data Encryption feature of Oracle Database, which requires that you create a keystore to store the master encryption key for the database. The keystore must be open before you can create the encrypted tablespace and before you can store or retrieve encrypted data. When you open the keystore, it is available to all session, and it remains open until you explicitly close it or until the database is shut down.</p>
                        <p>Transparent Data Encryption supports industry-standard encryption algorithms, including the following types of encryption algorithms Advanced Encryption Standard (AES) and Triple Data Encryption Standard (3DES) algorithms:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Advanced Encryption Standard (AES)</p>
                           </li>
                           <li>
                              <p>ARIA</p>
                           </li>
                           <li>
                              <p>GHOST</p>
                           </li>
                           <li>
                              <p>SEED</p>
                           </li>
                           <li>
                              <p>Triple Data Encryption Standard (3DES)</p>
                           </li>
                        </ul>
                        <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ASOAG9578" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for detailed information about the supported encryption algorithms.
                        </p>
                        <p>The encryption key length is implied by the algorithm name. For example, the AES128 algorithm uses 128-bit keys. You specify the algorithm to use when you create the tablespace, and different tablespaces can use different algorithms. Although longer key lengths theoretically provide greater security, there is a trade-off in CPU overhead. If you do not specify the algorithm in your <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> statement, then AES128 is the default. There is no disk space overhead for encrypting a tablespace.
                        </p>
                        <p>After an encrypted table is created, you can use an <code class="codeph">ALTER TABLESPACE</code> statement to decrypt it or change its key. You can also use an <code class="codeph">ALTER TABLESPACE</code> statement to encrypt a tablespace that is not encrypted.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-42F231F3-306D-4680-A02E-078683F4C578__GUID-DB26507C-646D-4369-AAA3-0BFD3BE1C048">Restrictions</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following are restrictions for encrypted tablespaces:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Encrypted tablespaces are subject to restrictions when they are transported to another database. See <span class="q">"<a href="transporting-data.html#GUID-28800719-6CB9-4A71-95DD-4B61AA603173" title="There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables.">General Limitations on Transporting Data</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>When recovering a database with encrypted tablespaces (for example after a <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> or a catastrophic error that brings down the database instance), you must open the keystore after database mount and before database open, so that the recovery process can decrypt data blocks and redo.
                                 </p>
                              </li>
                           </ul>
                           <p>In addition, see <a href="../asoag/configuring-transparent-data-encryption.html#ASOAG9518" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for general restrictions for Transparent Data Encryption.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-42F231F3-306D-4680-A02E-078683F4C578__GUID-9F8751C1-5DEB-4F2D-9B38-21AD704690F2">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG-GUID-62AA9447-FDCD-4A4C-B563-32DE04D55952" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about Transparent Data Encryption
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-F9D38568-4F95-4053-B21F-F318077C29E5" title="You can encrypt individual table columns that contain sensitive data. Examples of sensitive data include social security numbers, credit card numbers, and medical records. Column encryption is transparent to your applications, with some restrictions.">Consider Encrypting Columns That Contain Sensitive Data</a>"</span> for an alternative to encrypting an entire tablespace
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../racad/design-and-deployment-techniques.html#RACAD510" target="_blank"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information on using a keystore in an Oracle Real Application Clusters environment
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01403" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" title="You can encrypt any permanent tablespace to protect sensitive data.">Encrypted Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-88E85939-7360-4D30-9904-7C32343C293F" name="GUID-88E85939-7360-4D30-9904-7C32343C293F"></a><h5 id="ADMIN-GUID-88E85939-7360-4D30-9904-7C32343C293F" class="sect5"><span class="enumeration_section">13.2.5.2 </span>Creating Encrypted Tablespaces
                     </h5>
                     <div>
                        <p>You can create encrypted tablespaces to  protect your data from unauthorized access.</p>
                        <div class="section">
                           <p>To encrypt a tablespace, you must open the database with the <code class="codeph">COMPATIBLE</code> initialization parameter set to <code class="codeph">11.2.0</code> or higher. Any user who can create a tablespace can create an encrypted tablespace.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-88E85939-7360-4D30-9904-7C32343C293F__GUID-AF2263F0-99B9-444D-AA0A-03E07D57DEBE">Examples</p>
                           <p>To create an encrypted tablespace:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Run a <code class="codeph">CREATE TABLESPACE</code> statement with an <code class="codeph">ENCRYPTION</code> clause.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following statement creates an encrypted tablespace with the default encryption algorithm:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE securespace
DATAFILE '/u01/app/oracle/oradata/orcl/secure01.dbf' SIZE 100M
ENCRYPTION ENCRYPT;
</pre><p>The following statement creates the same tablespace with the AES256 algorithm:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE securespace
DATAFILE '/u01/app/oracle/oradata/orcl/secure01.dbf' SIZE 100M
ENCRYPTION USING 'AES256' ENCRYPT;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-88E85939-7360-4D30-9904-7C32343C293F__GUID-5ECAFCF7-2CA7-4BC5-96C7-EA2967F5C66D">
                           <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ASOAG-GUID-F95E13AA-FE30-423B-930C-13D355CE46B3" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" title="You can encrypt any permanent tablespace to protect sensitive data.">Encrypted Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8" name="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8"></a><h5 id="ADMIN-GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8" class="sect5"><span class="enumeration_section">13.2.5.3 </span>Viewing Information About Encrypted Tablespaces
                     </h5>
                     <div>
                        <p>You can query the <code class="codeph">DBA_TABLESPACES</code> and <code class="codeph">USER_TABLESPACES</code> data dictionary views for information about encrypted tablespaces.
                        </p>
                        <div class="section">
                           <p>The <code class="codeph">DBA_TABLESPACES</code> and <code class="codeph">USER_TABLESPACES</code> data dictionary views include a column named <code class="codeph">ENCRYPTED</code>. This column contains <code class="codeph">YES</code> for encrypted tablespaces.
                           </p>
                           <p>The view <code class="codeph">V$ENCRYPTED_TABLESPACES</code> lists all currently encrypted tablespaces. The following query displays the name and encryption algorithm of encrypted tablespaces:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT t.name, e.encryptionalg algorithm 
FROM  v$tablespace t, v$encrypted_tablespaces e
WHERE t.ts# = e.ts#;
 
NAME                           ALGORITHM 
------------------------------ --------- 
SECURESPACE                    AES256  </pre><div class="infoboxnote" id="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8__GUID-F4C465D6-2CB0-4B47-AFF1-9B810E1EB4C0">
                              <p class="notep1">Note:</p>You can convert an existing tablespace to an encrypted tablespace.
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EC92CA07-9679-4A83-B834-E5FEDBCDE2E8__GUID-1F5368B3-1A27-478B-8B77-4045FB276C28">
                           <p class="notep1">See Also:</p><a href="../asoag/configuring-transparent-data-encryption.html#ASOAG620" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for information about convert an existing tablespace to an encrypted tablespace
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-996E01D0-3679-45FE-BEBB-CE941B6989DB" title="You can encrypt any permanent tablespace to protect sensitive data.">Encrypted Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" name="GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC"></a><h4 id="ADMIN-GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" class="sect4"><span class="enumeration_section">13.2.6 </span>Temporary Tablespaces
                  </h4>
                  <div>
                     <p>Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory. These tablespaces also improve the efficiency of space management operations during sorts.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45">About Temporary Tablespaces</a><br>A <span class="bold">temporary tablespace</span> contains transient data that persists only for the duration of the session. Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory and can improve the efficiency of space management operations during sorts.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D">Creating a Locally Managed Temporary Tablespace</a><br>Because space management is much simpler and more efficient in locally managed tablespaces, they are ideally suited for temporary tablespaces.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-429AC4EC-980C-4132-9805-6126B2778B94">Creating a Bigfile Temporary Tablespace</a><br>Just as for regular tablespaces, you can create single-file (bigfile) temporary tablespaces.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8">Viewing Space Usage for Temporary Tablespaces</a><br>The <code class="codeph">DBA_TEMP_FREE_SPACE</code> dictionary view contains information about space usage for each temporary tablespace. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.">Creating Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12600"></a><a id="ADMIN12601"></a><a id="ADMIN11366"></a><div class="props_rev_3"><a id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45" name="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45"></a><h5 id="ADMIN-GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45" class="sect5"><span class="enumeration_section">13.2.6.1 </span>About Temporary Tablespaces
                     </h5>
                     <div>
                        <p>A <span class="bold">temporary tablespace</span> contains transient data that persists only for the duration of the session. Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory and can improve the efficiency of space management operations during sorts.
                        </p>
                        <p>Temporary tablespaces are used to store the following:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Intermediate sort results</p>
                           </li>
                           <li>
                              <p>Temporary tables and temporary indexes</p>
                           </li>
                           <li>
                              <p>Temporary LOBs</p>
                           </li>
                           <li>
                              <p>Temporary B-trees</p>
                           </li>
                        </ul>
                        <p>Within a temporary tablespace, all sort operations for a particular instance share a single <span class="italic">sort segment</span>, and sort segments exist for every instance that performs sort operations that require temporary space. A sort segment is created by the first statement after startup that uses the temporary tablespace for sorting, and is released only at shutdown.
                        </p>
                        <p>By default, a single temporary tablespace named <code class="codeph">TEMP</code> is created for each new Oracle Database installation. You can create additional temporary tablespaces with the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> statement. You can assign a temporary tablespace to each database user with the <code class="codeph">CREATE USER</code> or <code class="codeph">ALTER USER</code> statement. A single temporary tablespace can be shared by multiple users.
                        </p>
                        <p>You cannot explicitly create objects in a temporary tablespace.</p>
                        <div class="infoboxnote" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-02FE7A5E-4A37-435C-AF45-F954C1E9A1F9">
                           <p class="notep1">Note:</p>
                           <p>The exception to the preceding statement is a temporary table. When you create a temporary table, its rows are stored in your default temporary tablespace, unless you create the table in a new temporary tablespace. See <span class="q">"<a href="managing-tables.html#GUID-A48CB362-FC15-4A26-8386-906A55F6788E" title="Examples illustrate how to create a global temporary table.">Creating a Temporary Table</a>"</span> for more information.
                           </p>
                        </div>
                        <p> Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), local temporary tablespaces are available. A local temporary tablespace stores separate, non-shared temp files for every database instance. A local temporary tablespace is used only for spilling temporary results of SQL statements, such as queries that involve sorts, hash aggregations, and joins. These results are only accessible within an instance. In contrast, a shared temporary tablespace resides on a shared disk and is available to all instances. To create a local temporary tablespace, use a <code class="codeph">CREATE LOCAL TEMPORARY TABLESPACE</code> statement. Shared temporary tablespaces were available in prior releases of Oracle Database and were called "temporary tablespaces." In this <span><cite>Oracle Database Administrator’s Guide</cite></span>, the term "temporary tablespace" refers to a shared temporary tablespace unless specified otherwise.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-0043A060-8643-4FA9-9F7F-76728DB67E37">Default Temporary Tablespace</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Users who are not explicitly assigned a temporary tablespace use the database default temporary tablespace, which for new installations is <code class="codeph">TEMP</code>. You can change the default temporary tablespace for the database with the following command:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT TEMPORARY TABLESPACE <span class="italic">tablespace_name</span>;
</pre><p>To determine the current default temporary tablespace for the database, run the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT PROPERTY_NAME, PROPERTY_VALUE FROM DATABASE_PROPERTIES WHERE
   PROPERTY_NAME='DEFAULT_TEMP_TABLESPACE';

PROPERTY_NAME              PROPERTY_VALUE
-------------------------- ------------------------------
DEFAULT_TEMP_TABLESPACE    TEMP</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-59A03FF5-6AE8-4DF6-8189-6922CCED199B">Space Allocation in a Temporary Tablespace</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>You can view the allocation and deallocation of space in a temporary tablespace sort segment using the <code class="codeph">V$SORT_SEGMENT</code> view. The <code class="codeph">V$TEMPSEG_USAGE</code> view identifies the current sort users in those segments.
                           </p>
                           <p>When a sort operation that uses temporary space completes, allocated extents in the sort segment are not deallocated; they are just marked as free and available for reuse. The <code class="codeph">DBA_TEMP_FREE_SPACE</code> view displays the total allocated and free space in each temporary tablespace. See <span class="q">"<a href="managing-tablespaces.html#GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8" title="The DBA_TEMP_FREE_SPACE dictionary view contains information about space usage for each temporary tablespace.">Viewing Space Usage for Temporary Tablespaces</a>"</span> for more information. You can manually shrink a locally managed temporary tablespace that has a large amount of unused space. See <span class="q">"<a href="managing-tablespaces.html#GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7" title="You can shrink locally managed temporary tablespaces and release unused space.">Shrinking a Locally Managed Temporary Tablespace</a>"</span> for details.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45__GUID-866030B0-E90B-4276-9894-7EE6E5D9549D">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG002" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information about creating users and assigning temporary tablespaces
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../cncpt/logical-storage-structures.html#CNCPT1092" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about local temporary tablespaces, shared temporary tablespaces, and the default temporary tablespace
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$SORT_SEGMENT</code>, <code class="codeph">V$TEMPSEG_USAGE</code>, and <code class="codeph">DBA_TEMP_FREE_SPACE</code> views
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/tuning-program-global-area.html#TGDBA346" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for a discussion on tuning sorts
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../racad/introduction-to-oracle-rac.html#RACAD-GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for more information about local temporary tablespace
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory. These tablespaces also improve the efficiency of space management operations during sorts.">Temporary Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11367"></a><div class="props_rev_3"><a id="GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D" name="GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D"></a><h5 id="ADMIN-GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D" class="sect5"><span class="enumeration_section">13.2.6.2 </span>Creating a Locally Managed Temporary Tablespace
                     </h5>
                     <div>
                        <p>Because space management is much simpler and more efficient in locally managed tablespaces, they are ideally suited for temporary tablespaces.</p>
                        <div class="section">
                           <p>Locally managed temporary tablespaces use <span class="bold">temp files</span>, which do not modify data outside of the temporary tablespace or generate any redo for temporary tablespace data. Because of this, they enable you to perform on-disk sorting operations in a read-only or standby database.
                           </p>
                           <p>You also use different views for viewing information about temp files than you would for data files. The <code class="codeph">V$TEMPFILE</code> and <code class="codeph">DBA_TEMP_FILES</code> views are analogous to the <code class="codeph">V$DATAFILE</code> and <code class="codeph">DBA_DATA_FILES</code> views. 
                           </p>
                           <p>To create a locally managed temporary tablespace, you use the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> statement, which requires that you have the <code class="codeph">CREATE TABLESPACE</code> system privilege.
                           </p>
                           <p>The following statement creates a temporary tablespace in which each extent is 16M. Each 16M extent (which is the equivalent of 8000 blocks when the standard block size is 2K) is represented by a bit in the bitmap for the file.</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE lmtemp TEMPFILE '/u02/oracle/data/lmtemp01.dbf' 
     SIZE 20M REUSE
     EXTENT MANAGEMENT LOCAL UNIFORM SIZE 16M;
</pre><p>The extent management clause is optional for temporary tablespaces because all temporary tablespaces are created with locally managed extents of a uniform size. If an extent size is specified in the <code class="codeph">EXTENT SIZE</code> clause, then it is used. If it is not specified, then, Oracle Database uses the tablespace size and file sizes to determine the default extent size.
                           </p>
                           <div class="infoboxnote" id="GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D__GUID-B09AE3C0-8BEC-4724-84AD-3A249FE2753C">
                              <p class="notep1">Note:</p>
                              <p>On some operating systems, the database does not allocate space for the temp file until the temp file blocks are actually accessed. This delay in space allocation results in faster creation and resizing of temp files, but it requires that sufficient disk space is available when the temp files are later used. See your operating system documentation to determine whether the database allocates temp file space in this way on your system.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory. These tablespaces also improve the efficiency of space management operations during sorts.">Temporary Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11368"></a><div class="props_rev_3"><a id="GUID-429AC4EC-980C-4132-9805-6126B2778B94" name="GUID-429AC4EC-980C-4132-9805-6126B2778B94"></a><h5 id="ADMIN-GUID-429AC4EC-980C-4132-9805-6126B2778B94" class="sect5"><span class="enumeration_section">13.2.6.3 </span>Creating a Bigfile Temporary Tablespace
                     </h5>
                     <div>
                        <p>Just as for regular tablespaces, you can create single-file (bigfile) temporary tablespaces.</p>
                        <div class="section">
                           <p>To create a bigfile temporary tablespace:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Run the <code class="codeph">CREATE BIGFILE TEMPORARY TABLESPACE</code> statement to create a single-temp file tablespace. 
                                 </p>
                              </li>
                           </ul>
                           <p>See the sections <span class="q">"<a href="managing-tablespaces.html#GUID-2736AECE-1AA1-4353-AE11-914A382165A9" title="To create a bigfile tablespace, specify the BIGFILE keyword of the CREATE TABLESPACE statement (CREATE BIGFILE TABLESPACE ...).">Creating a Bigfile Tablespace</a>"</span>  and <span class="q">"<a href="managing-tablespaces.html#GUID-3060B641-E131-404D-B415-1A319222ED2A" title="You can resize or autoextend a bigfile tablespace.">Altering a Bigfile Tablespace</a>"</span> for information about bigfile tablespaces, but consider that you are creating temporary tablespaces that use temp files instead of data files.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory. These tablespaces also improve the efficiency of space management operations during sorts.">Temporary Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12315"></a><div class="props_rev_3"><a id="GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8" name="GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8"></a><h5 id="ADMIN-GUID-474A7F1C-CD48-48EF-9E3F-61F3D057CCD8" class="sect5"><span class="enumeration_section">13.2.6.4 </span>Viewing Space Usage for Temporary Tablespaces
                     </h5>
                     <div>
                        <p>The <code class="codeph">DBA_TEMP_FREE_SPACE</code> dictionary view contains information about space usage for each temporary tablespace. 
                        </p>
                        <div class="section">
                           <p>The information includes the space allocated and the free space. You can query this view for these statistics using the following statement:</p><pre class="oac_no_warn" dir="ltr">SELECT * from DBA_TEMP_FREE_SPACE;
 
TABLESPACE_NAME                     TABLESPACE_SIZE ALLOCATED_SPACE FREE_SPACE
----------------------------------- --------------- --------------- ----------
TEMP                                250609664       250609664       249561088</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-6B941DE0-D109-4AD5-A13C-753AD37335DC" title="Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory. These tablespaces also improve the efficiency of space management operations during sorts.">Temporary Tablespaces</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" name="GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE"></a><h4 id="ADMIN-GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" class="sect4"><span class="enumeration_section">13.2.7 </span>Temporary Tablespace Groups
                  </h4>
                  <p>A temporary tablespace group is a tablespace group that is assigned as the default temporary tablespace for the database.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5">Multiple Temporary Tablespaces: Using Tablespace Groups</a><br>A <span class="bold">tablespace group</span> enables a user to consume temporary space from multiple tablespaces. Using a tablespace group, rather than a single temporary tablespace, can alleviate problems caused where one tablespace is inadequate to hold the results of a sort, particularly on a table that has many partitions. A tablespace group enables parallel execution servers in a single parallel operation to use multiple temporary tablespaces.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B885556A-C400-4245-9A6D-539A5F4A573F">Creating a Tablespace Group</a><br>You create a tablespace group implicitly when you include the <code class="codeph">TABLESPACE GROUP</code> clause in the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement and the specified tablespace group does not currently exist.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-957E8D32-3B84-4584-A79E-D78886408D54">Changing Members of a Tablespace Group</a><br>You can add a tablespace to an existing tablespace group by specifying the existing group name in the <code class="codeph">TABLESPACE GROUP</code> clause of the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement.
                        </li>
                        <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45">Assigning a Tablespace Group as the Default Temporary Tablespace</a><br>Use the <code class="codeph">ALTER DATABASE...DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code> statement to assign a tablespace group as the default temporary tablespace for the database. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-9A3CE861-80FE-4813-B496-287B69A79C46" title="You create a tablespace to group related logical structures, such as tables and indexes, together. The database data files are stored in tablespaces.">Creating Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN01103"></a><div class="props_rev_3"><a id="GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5" name="GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5"></a><h5 id="ADMIN-GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5" class="sect5"><span class="enumeration_section">13.2.7.1 </span>Multiple Temporary Tablespaces: Using Tablespace Groups
                     </h5>
                     <div>
                        <p>A <span class="bold">tablespace group</span> enables a user to consume temporary space from multiple tablespaces. Using a tablespace group, rather than a single temporary tablespace, can alleviate problems caused where one tablespace is inadequate to hold the results of a sort, particularly on a table that has many partitions. A tablespace group enables parallel execution servers in a single parallel operation to use multiple temporary tablespaces.
                        </p>
                        <p>A tablespace group has the following characteristics:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>It contains at least one tablespace. There is no explicit limit on the maximum number of tablespaces that are contained in a group.</p>
                           </li>
                           <li>
                              <p>It shares the namespace of tablespaces, so its name cannot be the same as any tablespace.</p>
                           </li>
                           <li>
                              <p>You can specify a tablespace group name wherever a tablespace name would appear when you assign a default temporary tablespace for the database or a temporary tablespace for a user.</p>
                           </li>
                        </ul>
                        <p>You do not explicitly create a tablespace group. Rather, it is created implicitly when you assign the first temporary tablespace to the group. The group is deleted when the last temporary tablespace it contains is removed from it.</p>
                        <p>The view <code class="codeph">DBA_TABLESPACE_GROUPS</code> lists tablespace groups and their member tablespaces.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A90A82C7-E06D-416F-842E-704A95FF2AB5__GUID-40B7B6FE-4E9A-47D5-8DB7-17C56106C11F">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG10240" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information about assigning a temporary tablespace or tablespace group to a user
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="A temporary tablespace group is a tablespace group that is assigned as the default temporary tablespace for the database.">Temporary Tablespace Groups</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11370"></a><div class="props_rev_3"><a id="GUID-B885556A-C400-4245-9A6D-539A5F4A573F" name="GUID-B885556A-C400-4245-9A6D-539A5F4A573F"></a><h5 id="ADMIN-GUID-B885556A-C400-4245-9A6D-539A5F4A573F" class="sect5"><span class="enumeration_section">13.2.7.2 </span>Creating a Tablespace Group
                     </h5>
                     <div>
                        <p>You create a tablespace group implicitly when you include the <code class="codeph">TABLESPACE GROUP</code> clause in the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement and the specified tablespace group does not currently exist.
                        </p>
                        <div class="section">
                           <p></p>
                           <p>For example, if neither <code class="codeph">group1</code> nor <code class="codeph">group2</code> exists, then the following statements create those groups, each of which has only the specified tablespace as a member:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE lmtemp2 TEMPFILE '/u02/oracle/data/lmtemp201.dbf'
     SIZE 50M
     TABLESPACE GROUP group1;

ALTER TABLESPACE lmtemp TABLESPACE GROUP group2;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="A temporary tablespace group is a tablespace group that is assigned as the default temporary tablespace for the database.">Temporary Tablespace Groups</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11371"></a><div class="props_rev_3"><a id="GUID-957E8D32-3B84-4584-A79E-D78886408D54" name="GUID-957E8D32-3B84-4584-A79E-D78886408D54"></a><h5 id="ADMIN-GUID-957E8D32-3B84-4584-A79E-D78886408D54" class="sect5"><span class="enumeration_section">13.2.7.3 </span>Changing Members of a Tablespace Group
                     </h5>
                     <div>
                        <p>You can add a tablespace to an existing tablespace group by specifying the existing group name in the <code class="codeph">TABLESPACE GROUP</code> clause of the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement.
                        </p>
                        <div class="section">
                           <p>For example, the following statement adds a tablespace to an existing group. It creates and adds tablespace <code class="codeph">lmtemp3</code> to <code class="codeph">group1</code>, so that <code class="codeph">group1</code> contains tablespaces <code class="codeph">lmtemp2</code> and <code class="codeph">lmtemp3</code>.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE lmtemp3 TEMPFILE '/u02/oracle/data/lmtemp301.dbf'
     SIZE 25M
     TABLESPACE GROUP group1;
</pre><p>The following statement also adds a tablespace to an existing group, but in this case because tablespace <code class="codeph">lmtemp2</code> already belongs to <code class="codeph">group1</code>, it is in effect moved from <code class="codeph">group1</code> to <code class="codeph">group2</code>:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp2 TABLESPACE GROUP group2;
</pre><p>Now <code class="codeph">group2</code> contains both <code class="codeph">lmtemp</code> and <code class="codeph">lmtemp2</code>, while <code class="codeph">group1</code> consists of only <code class="codeph">tmtemp3</code>.
                           </p>
                           <p>You can remove a tablespace from a group as shown in the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp3 TABLESPACE GROUP '';
</pre><p>Tablespace <code class="codeph">lmtemp3</code> no longer belongs to any group. Further, since there are no longer any members of <code class="codeph">group1</code>, this results in the implicit deletion of <code class="codeph">group1</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="A temporary tablespace group is a tablespace group that is assigned as the default temporary tablespace for the database.">Temporary Tablespace Groups</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11372"></a><div class="props_rev_3"><a id="GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45" name="GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45"></a><h5 id="ADMIN-GUID-A023C39E-ABDA-48FA-AE76-9FAAE2881F45" class="sect5"><span class="enumeration_section">13.2.7.4 </span>Assigning a Tablespace Group as the Default Temporary Tablespace
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">ALTER DATABASE...DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code> statement to assign a tablespace group as the default temporary tablespace for the database. 
                        </p>
                        <div class="section">
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT TEMPORARY TABLESPACE group2;
</pre><p>Any user who has not explicitly been assigned a temporary tablespace will now use tablespaces <code class="codeph">lmtemp</code> and <code class="codeph">lmtemp2</code>. 
                           </p>
                           <p>If a tablespace group is specified as the default temporary tablespace, you cannot drop any of its member tablespaces. You must first remove the tablespace from the tablespace group. Likewise, you cannot drop a single temporary tablespace as long as it is the default temporary tablespace.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-55A6AE10-6875-4B73-9A5C-CB4965AD5AFE" title="A temporary tablespace group is a tablespace group that is assigned as the default temporary tablespace for the database.">Temporary Tablespace Groups</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN14233"></a><div class="props_rev_3"><a id="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016" name="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016"></a><h3 id="ADMIN-GUID-6880021F-F8C3-4DE5-AA62-8536186B7016" class="sect3"><span class="enumeration_section">13.3 </span>Consider Storing Tablespaces in the In-Memory Column Store
               </h3>
               <div>
                  <p>You can enable a tablespace for the In-Memory Column Store during tablespace creation or by altering a tablespace. When this enable a tablespace for the In-Memory Column Store, all tables in the tablespace are enabled for the In-Memory Column Store by default.</p>
                  <div class="infoboxnote" id="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016__GUID-8122DD85-B71F-4C65-8ADE-A78AC9CF54F4">
                     <p class="notep1">Note:</p>
                     <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                     </p>
                  </div>
                  <p>The In-Memory Column Store is an optional portion of the system global area (SGA) that stores copies of tables, table partitions, and other database objects that is optimized for rapid scans. In the In-Memory Column Store, table data is stored by column rather than row in the SGA.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-6880021F-F8C3-4DE5-AA62-8536186B7016__GUID-00828EA3-6AF1-40EE-B878-6825A0BCDEBD">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="managing-memory.html#GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" title="Oracle Database In-Memory (Database In-Memory) is a suite of features, first introduced in Oracle Database 12c Release 1 (12.1.0.2), that greatly improves performance for real-time analytics and mixed workloads.">Improving Query Performance with Oracle Database In-Memory</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11373"></a><div class="props_rev_3"><a id="GUID-A789CECE-226C-4280-8BC4-39F064036965" name="GUID-A789CECE-226C-4280-8BC4-39F064036965"></a><h3 id="ADMIN-GUID-A789CECE-226C-4280-8BC4-39F064036965" class="sect3"><span class="enumeration_section">13.4 </span>Specifying Nonstandard Block Sizes for Tablespaces
               </h3>
               <div>
                  <p>You can create tablespaces with block sizes different from the standard database block size, which is specified by the <code class="codeph">DB_BLOCK_SIZE</code> initialization parameter. This feature lets you transport tablespaces with unlike block sizes between databases.
                  </p>
                  <div class="section">
                     <p> To create a tablespace with a block size different from the database standard block size:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Use the <code class="codeph">BLOCKSIZE</code> clause of the <code class="codeph">CREATE TABLESPACE</code> statement.
                           </p>
                        </li>
                     </ul>
                     <p>In order for the <code class="codeph">BLOCKSIZE</code> clause to succeed, you must have already set the <a id="d141174e3207" class="indexterm-anchor"></a><a id="d141174e3211" class="indexterm-anchor"></a><code class="codeph">DB_CACHE_SIZE</code> and at least one <code class="codeph">DB_nK_CACHE_SIZE</code> initialization parameter. Further, and the integer you specify in the <code class="codeph">BLOCKSIZE</code> clause must correspond with the setting of one <code class="codeph">DB_nK_CACHE_SIZE</code> parameter setting. Although redundant, specifying a <code class="codeph">BLOCKSIZE</code> equal to the standard block size, as specified by the <code class="codeph">DB_BLOCK_SIZE</code> initialization parameter, is allowed.
                     </p>
                     <p>The following statement creates tablespace <code class="codeph">lmtbsb</code>, but specifies a block size that differs from the standard database block size (as specified by the <code class="codeph">DB_BLOCK_SIZE</code> initialization parameter):
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmtbsb DATAFILE '/u02/oracle/data/lmtbsb01.dbf' SIZE 50M
    EXTENT MANAGEMENT LOCAL UNIFORM SIZE 128K
    BLOCKSIZE 8K; </pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-A789CECE-226C-4280-8BC4-39F064036965__GUID-105DD05C-907B-45DB-A2AC-59CFBD8DD348">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-55124C2D-98FF-4305-8F25-58245C9BEC1E" title="The DB_BLOCK_SIZE initialization parameter specifies the standard block size for the database.">Specifying Database Block Sizes</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-memory.html#GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E" title="The buffer cache initialization parameters determine the size of the buffer cache component of the SGA.">Setting the Buffer Cache Initialization Parameters</a>"</span> for information about the <code class="codeph">DB_CACHE_SIZE</code> and <code class="codeph">DB_nK_CACHE_SIZE</code> parameter settings
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="You can transport tablespaces between databases.">Transporting Tablespaces Between Databases</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11374"></a><div class="props_rev_3"><a id="GUID-A1939693-60AC-4009-B37C-A1D8D1360D49" name="GUID-A1939693-60AC-4009-B37C-A1D8D1360D49"></a><h3 id="ADMIN-GUID-A1939693-60AC-4009-B37C-A1D8D1360D49" class="sect3"><span class="enumeration_section">13.5 </span>Controlling the Writing of Redo Records
               </h3>
               <div>
                  <p>For some database operations, you can control whether the database generates redo records.</p>
                  <div class="section">
                     <p>Without redo, no media recovery is possible. However, suppressing redo generation can improve performance, and may be appropriate for easily recoverable operations. An example of such an operation is a <code class="codeph">CREATE TABLE...AS SELECT</code> statement, which can be repeated in case of database or instance failure. 
                     </p>
                     <p> To suppress redo when these operations are performed for objects within the tablespace:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Specify the <code class="codeph">NOLOGGING</code> clause in the <code class="codeph">CREATE TABLESPACE</code> statement. 
                           </p>
                        </li>
                     </ul>
                     <p>If you do not include this clause, or if you specify <code class="codeph">LOGGING</code> instead, then the database generates redo when changes are made to objects in the tablespace. Redo is never generated for temporary segments or in temporary tablespaces, regardless of the logging attribute.
                     </p>
                     <p>The logging attribute specified at the tablespace level is the default attribute for objects created within the tablespace. You can override this default logging attribute by specifying <code class="codeph">LOGGING</code> or <code class="codeph">NOLOGGING</code> at the schema object level--for example, in a <code class="codeph">CREATE TABLE</code> statement.
                     </p>
                     <p>If you have a standby database, <code class="codeph">NOLOGGING</code> mode causes problems with the availability and accuracy of the standby database. To overcome this problem, you can specify <code class="codeph">FORCE LOGGING</code> mode. When you include the <code class="codeph">FORCE LOGGING</code> clause in the <code class="codeph">CREATE TABLESPACE</code> statement, you force the generation of redo records for all operations that make changes to objects in a tablespace. This overrides any specification made at the object level. 
                     </p>
                     <p>If you transport a tablespace that is in <code class="codeph">FORCE LOGGING</code> mode to another database, the new tablespace will not maintain the <code class="codeph">FORCE LOGGING</code> mode.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-A1939693-60AC-4009-B37C-A1D8D1360D49__GUID-07BA0E38-158F-4DF3-A85D-E841B9A1B714">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../sqlrf/logging_clause.html#SQLRF30009" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about operations that can be done in <code class="codeph">NOLOGGING</code> mode
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-ACEA5B83-D70F-4F30-A85B-3030248F597B" title="Some data definition language statements (such as CREATE TABLE) allow the NOLOGGING clause, which causes some database operations not to generate redo records in the database redo log. The NOLOGGING setting can speed up operations that can be easily recovered outside of the database recovery mechanisms, but it can negatively affect media recovery and standby databases.">Specifying FORCE LOGGING Mode</a>"</span> for more information about <code class="codeph">FORCE LOGGING</code> mode and for information about the effects of the <code class="codeph">FORCE LOGGING</code> clause used with the <code class="codeph">CREATE DATABASE</code> statement
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11375"></a><div class="props_rev_3"><a id="GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" name="GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91"></a><h3 id="ADMIN-GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" class="sect3"><span class="enumeration_section">13.6 </span>Altering Tablespace Availability 
               </h3>
               <div>
                  <p>You can take an online tablespace offline so that it is temporarily unavailable for general use. The rest of the database remains open and available for users to access data. Conversely, you can bring an offline tablespace online to make the schema objects within the tablespace available to database users. The database must be open to alter the availability of a tablespace.</p>
                  <p>To alter the availability of a tablespace, use the <code class="codeph">ALTER TABLESPACE</code> statement. You must have the <code class="codeph">ALTER TABLESPACE</code> or <code class="codeph">MANAGE TABLESPACE</code> system privilege.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D">Taking Tablespaces Offline</a><br>Taking a tablespace offline makes it unavailable for normal access.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-2F283784-527B-451A-A94F-2823720E1BC4">Bringing Tablespaces Online</a><br>You can bring any tablespace in an Oracle Database online whenever the database is open. A tablespace is normally online so that the data contained within it is available to database users.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91__GUID-3D2149F0-F83A-47D4-8DBF-EC7FD123985C">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-B6AD08B7-675E-48FA-B8DA-0C8496F44B28" title="You can alter the availability of individual data files or temp files by taking them offline or bringing them online. Offline data files are unavailable to the database and cannot be accessed until they are brought back online.">Altering Data File Availability</a>"</span> for information about altering the availability of individual data files within a tablespace
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11376"></a><div class="props_rev_3"><a id="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D" name="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D"></a><h4 id="ADMIN-GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D" class="sect4"><span class="enumeration_section">13.6.1 </span>Taking Tablespaces Offline
                  </h4>
                  <div>
                     <p>Taking a tablespace offline makes it unavailable for normal access.</p>
                     <div class="section">
                        <p>You may want to take a tablespace offline for any of the following reasons:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>To make a portion of the database unavailable while allowing normal access to the remainder of the database</p>
                           </li>
                           <li>
                              <p>To perform an offline tablespace backup (even though a tablespace can be backed up while online and in use)</p>
                           </li>
                           <li>
                              <p>To make an application and its group of tables temporarily unavailable while updating or maintaining the application</p>
                           </li>
                           <li>
                              <p>To rename or relocate tablespace data files</p>
                              <p>See <span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-B0CB3536-EB2D-4319-9563-D698905E67D4" title="You can rename online or offline data files to either change their names or relocate them.">Renaming and Relocating Data Files</a>"</span> for details.
                              </p>
                           </li>
                        </ul>
                        <p>To take a tablespace offline:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Run an <code class="codeph">ALTER TABLESPACE</code> statement with the <code class="codeph">OFFLINE</code> clause.
                              </p>
                           </li>
                        </ul>
                        <p>When a tablespace is taken offline, the database takes all the associated files offline. </p>
                        <p>You cannot take the following tablespaces offline:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SYSTEM </code></p>
                           </li>
                           <li>
                              <p>The undo tablespace</p>
                           </li>
                           <li>
                              <p>Temporary tablespaces</p>
                           </li>
                        </ul>
                        <p>Before taking a tablespace offline, consider altering the tablespace allocation of any users who have been assigned the tablespace as a default tablespace. Doing so is advisable because those users will not be able to access objects in the tablespace while it is offline.</p>
                        <p>You can specify any of the following parameters as part of the <code class="codeph">ALTER TABLESPACE...OFFLINE</code> statement:
                        </p>
                        <div class="tblformal" id="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D__GUID-33695882-4578-4FA2-8750-0626A0E18A0D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the clauses that can be specified when taking a tablespace offline. Column 2 explains the meaning of the clause." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d141174e3635">Clause</th>
                                    <th align="left" valign="bottom" width="74%" id="d141174e3638">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d141174e3643" headers="d141174e3635 ">
                                       <p><code class="codeph">NORMAL </code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d141174e3643 d141174e3638 ">
                                       <p>A tablespace can be taken offline normally if no error conditions exist for any of the data files of the tablespace. No data file in the tablespace can be currently offline as the result of a write error. When you specify <code class="codeph">OFFLINE NORMAL</code>, the database takes a checkpoint for all data files of the tablespace as it takes them offline. <code class="codeph">NORMAL</code> is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d141174e3657" headers="d141174e3635 ">
                                       <p><code class="codeph">TEMPORARY </code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d141174e3657 d141174e3638 ">
                                       <p>A tablespace can be taken offline temporarily, even if there are error conditions for one or more files of the tablespace. When you specify <code class="codeph">OFFLINE TEMPORARY</code>, the database takes offline the data files that are not already offline, checkpointing them as it does so.
                                       </p>
                                       <p>If no files are offline, but you use the temporary clause, media recovery is not required to bring the tablespace back online. However, if one or more files of the tablespace are offline because of write errors, and you take the tablespace offline temporarily, the tablespace requires recovery before you can bring it back online.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d141174e3670" headers="d141174e3635 ">
                                       <p><code class="codeph">IMMEDIATE </code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d141174e3670 d141174e3638 ">
                                       <p>A tablespace can be taken offline immediately, without the database taking a checkpoint on any of the data files. When you specify <code class="codeph">OFFLINE IMMEDIATE</code>, media recovery for the tablespace is required before the tablespace can be brought online. You cannot take a tablespace offline immediately if the database is running in <code class="codeph">NOARCHIVELOG</code> mode.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-6EDD3FE0-D302-43F5-AA61-F96DBCF68E0D__GUID-842CAB26-E51E-4875-9FFC-5304C4A66C36">
                           <p class="notep1">Note:</p>
                           <p>If you must take a tablespace offline, use the <code class="codeph">NORMAL</code> clause (the default) if possible. This setting guarantees that the tablespace will not require recovery to come back online, even if after incomplete recovery you reset the redo log sequence using an <code class="codeph">ALTER DATABASE OPEN RESETLOGS</code> statement. 
                           </p>
                        </div>
                        <p>Specify <code class="codeph">TEMPORARY</code> only when you cannot take the tablespace offline normally. In this case, only the files taken offline because of errors need to be recovered before the tablespace can be brought online. Specify <code class="codeph">IMMEDIATE</code> only after trying both the normal and temporary settings.
                        </p>
                        <p>The following example takes the <code class="codeph">users</code> tablespace offline normally:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE users OFFLINE NORMAL;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" title="You can take an online tablespace offline so that it is temporarily unavailable for general use. The rest of the database remains open and available for users to access data. Conversely, you can bring an offline tablespace online to make the schema objects within the tablespace available to database users. The database must be open to alter the availability of a tablespace.">Altering Tablespace Availability</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11377"></a><div class="props_rev_3"><a id="GUID-2F283784-527B-451A-A94F-2823720E1BC4" name="GUID-2F283784-527B-451A-A94F-2823720E1BC4"></a><h4 id="ADMIN-GUID-2F283784-527B-451A-A94F-2823720E1BC4" class="sect4"><span class="enumeration_section">13.6.2 </span>Bringing Tablespaces Online
                  </h4>
                  <div>
                     <p>You can bring any tablespace in an Oracle Database online whenever the database is open. A tablespace is normally online so that the data contained within it is available to database users.</p>
                     <div class="section">
                        <p>To bring a tablespace online:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Run an <code class="codeph">ALTER TABLESPACE</code> statement with the <code class="codeph">ONLINE</code> clause.
                              </p>
                           </li>
                        </ul>
                        <p>If a tablespace to be brought online was not taken offline "cleanly" (that is, using the <code class="codeph">NORMAL</code> clause of the <code class="codeph">ALTER TABLESPACE OFFLINE</code> statement), you must first perform media recovery on the tablespace before bringing it online. Otherwise, the database returns an error and the tablespace remains offline.
                        </p>
                        <p>For example, the following statement brings the <code class="codeph">users</code> tablespace online:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE users ONLINE;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2F283784-527B-451A-A94F-2823720E1BC4__GUID-9B446D05-4ECD-4F5C-B7A0-9BA3193AA884">
                        <p class="notep1">See Also:</p>
                        <p><a href="../bradv/index.html" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about performing media recovery
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" title="You can take an online tablespace offline so that it is temporarily unavailable for general use. The rest of the database remains open and available for users to access data. Conversely, you can bring an offline tablespace online to make the schema objects within the tablespace available to database users. The database must be open to alter the availability of a tablespace.">Altering Tablespace Availability</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-4E714569-F95D-4742-8CEF-3A12769C870F" name="GUID-4E714569-F95D-4742-8CEF-3A12769C870F"></a><h3 id="ADMIN-GUID-4E714569-F95D-4742-8CEF-3A12769C870F" class="sect3"><span class="enumeration_section">13.7 </span>Using Read-Only Tablespaces
               </h3>
               <p>A tablespace can be put into read-only mode. This prevents any data stored in it from being updated.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8">About Read-Only Tablespaces</a><br>Making a tablespace read-only prevents write operations on the data files in the tablespace. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD">Making a Tablespace Read-Only</a><br>You can make a tablespace read-only using the <code class="codeph">ALTER TABLESPACE</code> statement with the <code class="codeph">READ ONLY</code> clause.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641">Making a Read-Only Tablespace Writable</a><br>Making a read-only tablespace writable allows write operations on the data files in the tablespace.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD">Creating a Read-Only Tablespace on a WORM Device</a><br>You can create a read-only tablespace on a CD-ROM or WORM (Write Once-Read Many) device. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D">Delaying the Opening of Data Files in Read-Only Tablespaces</a><br>You can delay the opening of data files for read-only tablespaces until there is an attempt to access them.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11378"></a><div class="props_rev_3"><a id="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8" name="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8"></a><h4 id="ADMIN-GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8" class="sect4"><span class="enumeration_section">13.7.1 </span>About Read-Only Tablespaces
                  </h4>
                  <div>
                     <p>Making a tablespace read-only prevents write operations on the data files in the tablespace. </p>
                     <p>The primary purpose of read-only tablespaces is to eliminate the need to perform backup and recovery of large, static portions of a database. Read-only tablespaces also provide a way to protecting historical data so that users cannot modify it. Making a tablespace read-only prevents updates on all tables in the tablespace, regardless of a user's update privilege level.</p>
                     <div class="infoboxnote" id="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8__GUID-8DE9D259-7470-4431-A85D-528F01F51043">
                        <p class="notep1">Note:</p>
                        <p>Making a tablespace read-only cannot in itself be used to satisfy archiving or data publishing requirements, because the tablespace can only be brought online in the database in which it was created. However, you can meet such requirements by using the transportable tablespace feature, as described in <span class="q">"<a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="You can transport tablespaces between databases.">Transporting Tablespaces Between Databases</a>"</span>.
                        </p>
                     </div>
                     <p>You can drop items, such as tables or indexes, from a read-only tablespace, but you cannot create or alter objects in a read-only tablespace. You can execute statements that update the file description in the data dictionary, such as <code class="codeph">ALTER TABLE...ADD</code> or <code class="codeph">ALTER TABLE...MODIFY</code>, but you will not be able to use the new description until the tablespace is made read/write.
                     </p>
                     <p>Read-only tablespaces can be transported to other databases. And, since read-only tablespaces can never be updated, they can reside on CD-ROM or WORM (Write Once-Read Many) devices. </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8__GUID-EDD0B79C-FDB8-4468-B3C7-403526909A1F">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="You can transport tablespaces between databases.">Transporting Tablespaces Between Databases</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="A tablespace can be put into read-only mode. This prevents any data stored in it from being updated.">Using Read-Only Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11379"></a><div class="props_rev_3"><a id="GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD" name="GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD"></a><h4 id="ADMIN-GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD" class="sect4"><span class="enumeration_section">13.7.2 </span>Making a Tablespace Read-Only
                  </h4>
                  <div>
                     <p>You can make a tablespace read-only using the <code class="codeph">ALTER TABLESPACE</code> statement with the <code class="codeph">READ ONLY</code> clause.
                     </p>
                     <div class="section">
                        <p>All tablespaces are initially created as read/write. You must have the <code class="codeph">ALTER TABLESPACE</code> or <code class="codeph">MANAGE TABLESPACE</code> system privilege. 
                        </p>
                        <p>Before you can make a tablespace read-only, the following conditions must be met.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>The tablespace must be online. This is necessary to ensure that there is no undo information that must be applied to the tablespace. </p>
                           </li>
                           <li>
                              <p>The tablespace cannot be the active undo tablespace or <code class="codeph">SYSTEM</code> tablespace.
                              </p>
                           </li>
                           <li>
                              <p>The tablespace must not currently be involved in an online backup, because the end of a backup updates the header file of all data files in the tablespace.</p>
                           </li>
                           <li>
                              <p>The tablespace cannot be a temporary tablespace.</p>
                           </li>
                        </ul>
                        <p> To change a tablespace to read-only:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use the <code class="codeph">READ ONLY</code> clause in the <code class="codeph">ALTER TABLESPACE</code> statement.
                              </p>
                           </li>
                        </ul>
                        <p>For example the following statement makes the <code class="codeph">flights</code> tablespace read-only:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE flights READ ONLY;
</pre><p>For better performance while accessing data in a read-only tablespace, you can issue a query that accesses all of the blocks of the tables in the tablespace just before making it read-only. A simple query, such as <code class="codeph">SELECT COUNT (*)</code>, executed against each table ensures that the data blocks in the tablespace can be subsequently accessed most efficiently. This eliminates the need for the database to check the status of the transactions that most recently modified the blocks.
                        </p>
                        <p>You can issue the <code class="codeph">ALTER TABLESPACE...READ ONLY</code> statement while the database is processing transactions. After the statement is issued, the tablespace is put into a transitional read-only mode, and the <code class="codeph">ALTER</code> command waits for existing transactions to complete by committing or by rolling back. No further DML operations are allowed to the tablespace, and if a DML statement attempts further changes, then an error is returned. 
                        </p>
                        <p>The <code class="codeph">ALTER TABLESPACE...READ ONLY</code> statement waits for the following transactions to either commit or roll back before returning: transactions that have pending or uncommitted changes to the tablespace and that were started before you issued the statement. If a transaction started before the statement remains active, but rolls back to a savepoint, rolling back its changes to the tablespace, then the statement no longer waits for this active transaction.
                        </p>
                        <p>If you find it is taking a long time for the <code class="codeph">ALTER TABLESPACE</code> statement to complete, then you can identify the transactions that are preventing the read-only state from taking effect. You can then notify the owners of those transactions and decide whether to terminate the transactions, if necessary. 
                        </p>
                        <p>The following example identifies the transaction entry for the <code class="codeph">ALTER TABLESPACE...READ ONLY</code> statement and displays its session address (<code class="codeph">saddr</code>):
                        </p><pre class="oac_no_warn" dir="ltr">SELECT SQL_TEXT, SADDR 
    FROM V$SQLAREA,V$SESSION
    WHERE V$SQLAREA.ADDRESS = V$SESSION.SQL_ADDRESS    
        AND SQL_TEXT LIKE 'alter tablespace%'; 

SQL_TEXT                                 SADDR   
---------------------------------------- --------
alter tablespace tbs1 read only          80034AF0
</pre><p>The start SCN of each active transaction is stored in the <code class="codeph">V$TRANSACTION</code> view. Displaying this view sorted by ascending start SCN lists the transactions in execution order. From the preceding example, you already know the session address of the transaction entry for the read-only statement, and you can now locate it in the <code class="codeph">V$TRANSACTION</code> view. All transactions with smaller start SCN, which indicates an earlier execution, can potentially hold up the quiesce and subsequent read-only state of the tablespace. 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT SES_ADDR, START_SCNB 
    FROM V$TRANSACTION
    ORDER BY START_SCNB;

SES_ADDR START_SCNB
-------- ----------
800352A0       3621   --&gt; waiting on this txn
80035A50       3623   --&gt; waiting on this txn
80034AF0       3628   --&gt; this is the ALTER TABLESPACE statement
80037910       3629   --&gt; don't care about this txn
</pre><p>You can now find the owners of the blocking transactions.</p><pre class="oac_no_warn" dir="ltr">SELECT T.SES_ADDR, S.USERNAME, S.MACHINE
   FROM V$SESSION S, V$TRANSACTION T
   WHERE T.SES_ADDR = S.SADDR
   ORDER BY T.SES_ADDR

SES_ADDR USERNAME             MACHINE
-------- -------------------- --------------------
800352A0 DAVIDB               DAVIDBLAP             --&gt; Contact this user
80035A50 MIKEL                LAB61                 --&gt; Contact this user
80034AF0 DBA01                STEVEFLAP           
80037910 NICKD                NICKDLAP
</pre><p>After making the tablespace read-only, it is advisable to back it up immediately. As long as the tablespace remains read-only, no further backups of the tablespace are necessary, because no changes can be made to it.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2A8D6E99-184C-490A-855A-CAB0E61880BD__GUID-52AB2557-48B6-458F-A912-3406C2CB9C0B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../bradv/rman-backup-concepts.html#BRADV002" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide </span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="A tablespace can be put into read-only mode. This prevents any data stored in it from being updated.">Using Read-Only Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11380"></a><div class="props_rev_3"><a id="GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641" name="GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641"></a><h4 id="ADMIN-GUID-4CD9317E-7B1A-4C7E-B4EA-7754187F4641" class="sect4"><span class="enumeration_section">13.7.3 </span>Making a Read-Only Tablespace Writable 
                  </h4>
                  <div>
                     <p>Making a read-only tablespace writable allows write operations on the data files in the tablespace.</p>
                     <div class="section">
                        <p>You must have the <code class="codeph">ALTER TABLESPACE</code> or <code class="codeph">MANAGE TABLESPACE</code> system privilege. 
                        </p>
                        <p> To change a tablespace to allow write operations:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use the <code class="codeph">READ WRITE</code> keywords in the <code class="codeph">ALTER TABLESPACE</code> statement
                              </p>
                           </li>
                        </ul>
                        <p>A prerequisite to making the tablespace read/write is that all of the data files in the tablespace, as well as the tablespace itself, must be online. Use the <code class="codeph">DATAFILE...ONLINE</code> clause of the <code class="codeph">ALTER DATABASE </code>statement to bring a data file online. The <code class="codeph">V$DATAFILE</code> view lists the current status of data files.
                        </p>
                        <p>For example, the following statement makes the <code class="codeph">flights</code> tablespace writable:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE flights READ WRITE;
</pre><p>Making a read-only tablespace writable updates the control file entry for the data files, so that you can use the read-only version of the data files as a starting point for recovery.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="A tablespace can be put into read-only mode. This prevents any data stored in it from being updated.">Using Read-Only Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11381"></a><div class="props_rev_3"><a id="GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD" name="GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD"></a><h4 id="ADMIN-GUID-E2C4AE3B-1986-44F3-9DA6-42ED0D5149BD" class="sect4"><span class="enumeration_section">13.7.4 </span>Creating a Read-Only Tablespace on a WORM Device
                  </h4>
                  <div>
                     <p>You can create a read-only tablespace on a CD-ROM or WORM (Write Once-Read Many) device. </p>
                     <div class="section">
                        <p>Follow these steps to create a read-only tablespace on a CD-ROM or WORM device. </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Create a writable tablespace on another device. Create the objects that belong in the tablespace and insert your data.</span></li>
                        <li><span>Alter the tablespace to make it read-only.</span></li>
                        <li><span>Copy the data files of the tablespace onto the WORM device. Use operating system commands to copy the files.</span></li>
                        <li><span>Take the tablespace offline.</span></li>
                        <li><span>Rename the data files to coincide with the names of the data files you copied onto your WORM device. Use <code class="codeph">ALTER TABLESPACE</code> with the <code class="codeph">RENAME DATAFILE</code> clause. Renaming the data files changes their names in the control file.</span></li>
                        <li><span>Bring the tablespace back online.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="A tablespace can be put into read-only mode. This prevents any data stored in it from being updated.">Using Read-Only Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11382"></a><div class="props_rev_3"><a id="GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D" name="GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D"></a><h4 id="ADMIN-GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D" class="sect4"><span class="enumeration_section">13.7.5 </span>Delaying the Opening of Data Files in Read-Only Tablespaces
                  </h4>
                  <div>
                     <p>You can delay the opening of data files for read-only tablespaces until there is an attempt to access them.</p>
                     <div class="section">
                        <p>When substantial portions of a very large database are stored in read-only tablespaces that are located on slow-access devices or hierarchical storage, you should consider setting the <code class="codeph">READ_ONLY_OPEN_DELAYED</code> initialization parameter to <code class="codeph">TRUE</code>. This speeds certain operations, primarily opening the database, by causing data files in read-only tablespaces to be accessed for the first time only when an attempt is made to read data stored within them. 
                        </p>
                        <p>Setting <code class="codeph">READ_ONLY_OPEN_DELAYED=TRUE</code> has the following side-effects:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>A missing or bad read-only file is not detected at open time. It is only discovered when there is an attempt to access it.</p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER SYSTEM CHECK DATAFILES</code> does not check read-only files.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER TABLESPACE...ONLINE</code> and <code class="codeph">ALTER DATABASE</code> <code class="codeph">DATAFILE...ONLINE</code> do not check read-only files. They are checked only upon the first access.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">V$RECOVER_FILE</code>, <code class="codeph">V$BACKUP</code>, and <code class="codeph">V$DATAFILE_HEADER</code> do not access read-only files. Read-only files are indicated in the results list with the error "<code class="codeph">DELAYED OPEN</code>", with zeroes for the values of other columns.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">V$DATAFILE</code> does not access read-only files. Read-only files have a size of "0" listed.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">V$RECOVERY_LOG</code> does not access read-only files. Logs they could need for recovery are not added to the list.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER DATABASE NOARCHIVELOG</code> does not access read-only files. It proceeds even if there is a read-only file that requires recovery.
                              </p>
                              <div class="infoboxnote" id="GUID-48620168-E32E-4C5B-9D96-8A3AA6CEAE9D__GUID-6195C908-54B3-43C1-A249-98E35CFFD535">
                                 <p class="notep1">Note:</p>
                                 <p></p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">RECOVER DATABASE</code> and <code class="codeph">ALTER DATABASE OPEN RESETLOGS </code>continue to access all read-only data files regardless of the parameter value. To avoid accessing read-only files for these operations, take those files offline.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If a backup control file is used, the read-only status of some files may be inaccurate. This can cause some of these operations to return unexpected results. Care should be taken in this situation.</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-4E714569-F95D-4742-8CEF-3A12769C870F" title="A tablespace can be put into read-only mode. This prevents any data stored in it from being updated.">Using Read-Only Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12490"></a><div class="props_rev_3"><a id="GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" name="GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C"></a><h3 id="ADMIN-GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" class="sect3"><span class="enumeration_section">13.8 </span>Altering and Maintaining Tablespaces
               </h3>
               <p>You can alter and maintain tablespaces by performing such tasks as adding data files and temp files to them.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207">Increasing the Size of a Tablespace</a><br>You can increase the size of a tablespace by either increasing the size of a data file in the tablespace or adding one.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67">Altering a Locally Managed Tablespace</a><br>You can add a data file to a locally managed tablespace, alter its availability, make it read-only or read/write, rename it, or enable/disable autoextension.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-3060B641-E131-404D-B415-1A319222ED2A">Altering a Bigfile Tablespace</a><br>You can resize or autoextend a bigfile tablespace.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90">Altering a Locally Managed Temporary Tablespace</a><br>You can alter a locally managed temporary tablespace to add a temp file, take a temp file offline, or bring a temp file online.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7">Shrinking a Locally Managed Temporary Tablespace</a><br>You can  shrink locally managed temporary tablespaces and release unused space.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13453"></a><div class="props_rev_3"><a id="GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207" name="GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207"></a><h4 id="ADMIN-GUID-8F37D598-B406-4259-B3A9-E6CE6B9D0207" class="sect4"><span class="enumeration_section">13.8.1 </span>Increasing the Size of a Tablespace
                  </h4>
                  <div>
                     <p>You can increase the size of a tablespace by either increasing the size of a data file in the tablespace or adding one.</p>
                     <div class="section">
                        <p>See <span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-8E7A9714-85CB-45F3-8384-00D68EAC3E58" title="You can alter the size of a data file. For example, you can increase the size of one or more data files when more space is needed in the database.">Changing Data File Size</a>"</span> and <span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-814D8847-5327-41A3-8959-444C40093B46" title="You can create data files and associate them with a tablespace using several different SQL statements.">Creating Data Files and Adding Data Files to a Tablespace </a>"</span> for more information.
                        </p>
                        <p>Additionally, you can enable automatic file extension (<code class="codeph">AUTOEXTEND</code>) to data files and bigfile tablespaces. See <span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-C633A6CC-F1A9-415A-B153-5C2053BBB7E6" title="You can create data files or alter existing data files so that they automatically increase in size when more space is needed in the database. The file size increases in specified increments up to a specified maximum.">Enabling and Disabling Automatic Extension for a Data File</a>"</span>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="You can alter and maintain tablespaces by performing such tasks as adding data files and temp files to them.">Altering and Maintaining Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11362"></a><div class="props_rev_3"><a id="GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67" name="GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67"></a><h4 id="ADMIN-GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67" class="sect4"><span class="enumeration_section">13.8.2 </span>Altering a Locally Managed Tablespace
                  </h4>
                  <div>
                     <p>You can add a data file to a locally managed tablespace, alter its availability, make it read-only or read/write, rename it, or enable/disable autoextension.</p>
                     <div class="section">
                        <p>You cannot alter a locally managed tablespace to a locally managed temporary tablespace, nor can you change its method of segment space management. Coalescing free extents is unnecessary for locally managed tablespaces. However, you can use the <code class="codeph">ALTER TABLESPACE</code> statement on locally managed tablespaces for some operations, including the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Adding a data file. For example:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtbsb
   ADD DATAFILE '/u02/oracle/data/lmtbsb02.dbf' SIZE 1M;
</pre></li>
                           <li>
                              <p>Altering tablespace availability (<code class="codeph">ONLINE</code>/<code class="codeph">OFFLINE</code>).
                              </p>
                           </li>
                           <li>
                              <p>Making a tablespace read-only or read/write.</p>
                           </li>
                           <li>
                              <p>Renaming a data file, or enabling or disabling the autoextension of the size of a data file in the tablespace.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FB734C25-BA3A-45E8-BDCE-77C668140B67__GUID-974B25C0-3C2B-4425-8736-D7992903F423">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="managing-tablespaces.html#GUID-B1D83CF4-9404-4689-8716-A0E2918ACE91" title="You can take an online tablespace offline so that it is temporarily unavailable for general use. The rest of the database remains open and available for users to access data. Conversely, you can bring an offline tablespace online to make the schema objects within the tablespace available to database users. The database must be open to alter the availability of a tablespace.">Altering Tablespace Availability</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-tablespaces.html#GUID-F9840816-246E-46DF-9B85-A0BFB3E0E0D8" title="Making a tablespace read-only prevents write operations on the data files in the tablespace.">About Read-Only Tablespaces</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-501A8889-3C18-4F99-B0B7-9095E981B970" title="You can manage data files and temp files by performing tasks such as creating them, altering them, and dropping them.">Managing Data Files and Temp Files</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="You can alter and maintain tablespaces by performing such tasks as adding data files and temp files to them.">Altering and Maintaining Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11364"></a><div class="props_rev_3"><a id="GUID-3060B641-E131-404D-B415-1A319222ED2A" name="GUID-3060B641-E131-404D-B415-1A319222ED2A"></a><h4 id="ADMIN-GUID-3060B641-E131-404D-B415-1A319222ED2A" class="sect4"><span class="enumeration_section">13.8.3 </span>Altering a Bigfile Tablespace
                  </h4>
                  <div>
                     <p>You can resize or autoextend a bigfile tablespace.</p>
                     <div class="section">
                        <p>Two clauses of the <code class="codeph">ALTER TABLESPACE</code> statement support data file transparency when you are using bigfile tablespaces:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">RESIZE</code>: The <code class="codeph">RESIZE</code> clause lets you resize the single data file in a bigfile tablespace to an absolute size, without referring to the data file. For example:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE bigtbs RESIZE 80G;
</pre></li>
                           <li>
                              <p><code class="codeph">AUTOEXTEND</code> (used outside of the <code class="codeph">ADD</code> <code class="codeph">DATAFILE</code> clause): 
                              </p>
                              <p>With a bigfile tablespace, you can use the <code class="codeph">AUTOEXTEND</code> clause outside of the <code class="codeph">ADD</code> <code class="codeph">DATAFILE</code> clause. For example:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE bigtbs AUTOEXTEND ON NEXT 20G;
</pre></li>
                        </ul>
                        <p>An error is raised if you specify an <code class="codeph">ADD</code> <code class="codeph">DATAFILE</code> clause for a bigfile tablespace<a id="d141174e4684" class="indexterm-anchor"></a>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="You can alter and maintain tablespaces by performing such tasks as adding data files and temp files to them.">Altering and Maintaining Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11369"></a><div class="props_rev_3"><a id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90" name="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90"></a><h4 id="ADMIN-GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90" class="sect4"><span class="enumeration_section">13.8.4 </span>Altering a Locally Managed Temporary Tablespace
                  </h4>
                  <div>
                     <p>You can alter a locally managed temporary tablespace to add a temp file, take a temp file offline, or bring a temp file online.</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90__GUID-16957C26-C8EB-402A-8EBF-7C3492512117">
                           <p class="notep1">Note:</p>
                           <p>You cannot use the <code class="codeph">ALTER TABLESPACE</code> statement, with the <code class="codeph">TEMPORARY</code> keyword, to change a locally managed permanent tablespace into a locally managed temporary tablespace. You must use the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> statement to create a locally managed temporary tablespace.
                           </p>
                        </div>
                        <p>You can use <code class="codeph">ALTER TABLESPACE</code> to add a temp file, take a temp file offline, or bring a temp file online, as illustrated in the following examples:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp
   ADD TEMPFILE '/u02/oracle/data/lmtemp02.dbf' SIZE 18M REUSE;

ALTER TABLESPACE lmtemp TEMPFILE OFFLINE;
ALTER TABLESPACE lmtemp TEMPFILE ONLINE;
</pre><div class="infoboxnote" id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90__GUID-F953DF16-6374-4C0D-A898-4EF9F05FDD47">
                           <p class="notep1">Note:</p>
                           <p>You cannot take a temporary tablespace offline. Instead, you take its temp file offline. The view <code class="codeph">V$TEMPFILE</code> displays online status for a temp file.
                           </p>
                        </div>
                        <p>The <code class="codeph">ALTER DATABASE</code> statement can be used to alter temp files.
                        </p>
                        <p>The following statements take offline and bring online temp files. They behave identically to the last two <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> statements in the previous example.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE TEMPFILE '/u02/oracle/data/lmtemp02.dbf' OFFLINE;
ALTER DATABASE TEMPFILE '/u02/oracle/data/lmtemp02.dbf' ONLINE;
</pre><p>The following statement resizes a temp file: </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE TEMPFILE '/u02/oracle/data/lmtemp02.dbf' RESIZE 18M;
</pre><p>The following statement drops a temp file and deletes its operating system file:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE TEMPFILE '/u02/oracle/data/lmtemp02.dbf' DROP
    INCLUDING DATAFILES;
</pre><p>The tablespace to which this temp file belonged remains. A message is written to the alert log for the temp file that was deleted. If an operating system error prevents the deletion of the file, the statement still succeeds, but a message describing the error is written to the alert log.</p>
                        <p>It is also possible to use the <code class="codeph">ALTER DATABASE</code> statement to enable or disable the automatic extension of an existing temp file, and to rename a temp file. See <a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for the required syntax.
                        </p>
                        <div class="infoboxnote" id="GUID-18750D59-2CE2-4D7B-9E5A-C52F89814D90__GUID-D3583621-3A34-4F47-AECC-86BAE6CA7A15">
                           <p class="notep1">Note:</p>
                           <p>To rename a temp file, you take the temp file offline, use operating system commands to rename or relocate the temp file, and then use the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">RENAME</code> <code class="codeph">FILE</code> command to update the database control files.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="You can alter and maintain tablespaces by performing such tasks as adding data files and temp files to them.">Altering and Maintaining Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12353"></a><div class="props_rev_3"><a id="GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7" name="GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7"></a><h4 id="ADMIN-GUID-CF57ECCF-0032-4C64-9B37-489F538D0AA7" class="sect4"><span class="enumeration_section">13.8.5 </span>Shrinking a Locally Managed Temporary Tablespace
                  </h4>
                  <div>
                     <p>You can  shrink locally managed temporary tablespaces and release unused space.</p>
                     <div class="section">
                        <p>Large sort operations performed by the database may result in a temporary tablespace growing and occupying a considerable amount of disk space. After the sort operation completes, the extra space is not released; it is just marked as free and available for reuse. Therefore, a single large sort operation might result in a large amount of allocated temporary space that remains unused after the sort operation is complete. For this reason, the database enables you to shrink locally managed temporary tablespaces and release unused space.</p>
                        <p>To shrink a temporary tablespace:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use the <code class="codeph">SHRINK SPACE</code> clause of the <code class="codeph">ALTER TABLESPACE</code> statement.
                              </p>
                           </li>
                        </ul>
                        <p>To shrink a specific temp file of a temporary tablespace:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use the <code class="codeph">SHRINK TEMPFILE</code> clause of the <code class="codeph">ALTER TABLESPACE</code> statement .
                              </p>
                           </li>
                        </ul>
                        <p>Shrinking frees as much space as possible while maintaining the other attributes of the tablespace or temp file. The optional <code class="codeph">KEEP</code> clause defines a minimum size for the tablespace or temp file.
                        </p>
                        <p>Shrinking is an online operation, which means that user sessions can continue to allocate sort extents if needed, and already-running queries are not affected.</p>
                        <p>The following example shrinks the locally managed temporary tablespace <code class="codeph">lmtmp1</code> while ensuring a minimum size of 20M.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp1 SHRINK SPACE KEEP 20M;
</pre><p>The following example shrinks the temp file <code class="codeph">lmtemp02.dbf</code> of the locally managed temporary tablespace <code class="codeph">lmtmp2</code>. Because the <code class="codeph">KEEP</code> clause is omitted, the database attempts to shrink the temp file to the minimum possible size.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE lmtemp2 SHRINK TEMPFILE '/u02/oracle/data/lmtemp02.dbf';</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-C207AC96-0F99-4F05-B3DD-E4A4FA17F98C" title="You can alter and maintain tablespaces by performing such tasks as adding data files and temp files to them.">Altering and Maintaining Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN01104"></a><div class="props_rev_3"><a id="GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522" name="GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522"></a><h3 id="ADMIN-GUID-C0FEF3C9-3877-40F4-97C8-592A3BAEE522" class="sect3"><span class="enumeration_section">13.9 </span>Renaming Tablespaces
               </h3>
               <div>
                  <p>Using the <code class="codeph">RENAME TO</code> clause of the <code class="codeph">ALTER TABLESPACE</code>, you can rename a permanent or temporary tablespace.
                  </p>
                  <div class="section">
                     <p>For example, the following statement renames the <code class="codeph">users</code> tablespace: 
                     </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE users RENAME TO usersts;
</pre><p>When you rename a tablespace the database updates all references to the tablespace name in the data dictionary, control file, and (online) data file headers. The database does not change the tablespace ID so if this tablespace were, for example, the default tablespace for a user, then the renamed tablespace would show as the default tablespace for the user in the <code class="codeph">DBA_USERS</code> view.
                     </p>
                     <p>The following affect the operation of this statement:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>If the tablespace being renamed is the <code class="codeph">SYSTEM</code> tablespace or the <code class="codeph">SYSAUX</code> tablespace, then it will not be renamed and an error is raised.
                           </p>
                        </li>
                        <li>
                           <p>If any data file in the tablespace is offline, or if the tablespace is offline, then the tablespace is not renamed and an error is raised.</p>
                        </li>
                        <li>
                           <p>If the tablespace is read only, then data file headers are not updated. This should not be regarded as corruption; instead, it causes a message to be written to the alert log indicating that data file headers have not been renamed. The data dictionary and control file are updated. </p>
                        </li>
                        <li>
                           <p>If the tablespace is the default temporary tablespace, then the corresponding entry in the database properties table is updated and the <code class="codeph">DATABASE_PROPERTIES</code> view shows the new name.
                           </p>
                        </li>
                        <li>
                           <p>If the tablespace is an undo tablespace and if the following conditions are met, then the tablespace name is changed to the new tablespace name in the server parameter file (<code class="codeph">SPFILE</code>).
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>The server parameter file was used to start up the database.</p>
                              </li>
                              <li>
                                 <p>The tablespace name is specified as the <code class="codeph">UNDO_TABLESPACE</code> for any instance.
                                 </p>
                              </li>
                           </ul>
                           <p>If a traditional initialization parameter file (<code class="codeph">PFILE</code>) is being used then a message is written to the alert log stating that the initialization parameter file must be manually changed.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11383"></a><div class="props_rev_3"><a id="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB" name="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB"></a><h3 id="ADMIN-GUID-4EB483A2-2E04-4047-8885-F5396876D0EB" class="sect3"><span class="enumeration_section">13.10 </span>Dropping Tablespaces 
               </h3>
               <div>
                  <p>You can drop a tablespace and its contents (the segments contained in the tablespace) from the database if the tablespace and its contents are no longer required.</p>
                  <div class="section">
                     <p>You must have the <code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> system privilege to drop a tablespace. 
                     </p>
                     <div class="infoboxnote" id="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB__GUID-55A47466-E07F-4C3E-9B29-D89B5BDB69EC">
                        <p class="notep1">Note:</p>
                        <p>Once a tablespace has been dropped, the data in the tablespace is not recoverable. Therefore, ensure that all data contained in a tablespace to be dropped will not be required in the future. Also, immediately before and after dropping a tablespace from a database, back up the database completely. This is <span class="italic">strongly recommended</span> so that you can recover the database if you mistakenly drop a tablespace, or if the database experiences a problem in the future after the tablespace has been dropped.
                        </p>
                     </div>
                     <p>When you drop a tablespace, the file pointers in the control file of the associated database are removed. You can optionally direct Oracle Database to delete the operating system files (data files) that constituted the dropped tablespace. If you do not direct the database to delete the data files at the same time that it deletes the tablespace, you must later use the appropriate commands of your operating system to delete them.</p>
                     <p>You cannot drop a tablespace that contains any active segments. For example, if a table in the tablespace is currently being used or the tablespace contains undo data needed to roll back uncommitted transactions, you cannot drop the tablespace. The tablespace can be online or offline, but it is best to take the tablespace offline before dropping it. </p>
                     <p>To drop a tablespace:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Use the <code class="codeph">DROP TABLESPACE</code> statement. 
                           </p>
                        </li>
                     </ul>
                     <p>The following statement drops the <code class="codeph">users</code> tablespace, including the segments in the tablespace:
                     </p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE users INCLUDING CONTENTS;
</pre><p>If the tablespace is empty (does not contain any tables, views, or other structures), you do not need to specify the <code class="codeph">INCLUDING CONTENTS </code>clause. Use the <code class="codeph">CASCADE CONSTRAINTS</code> clause to drop all referential integrity constraints from tables outside the tablespace that refer to primary and unique keys of tables inside the tablespace.
                     </p>
                     <p>To delete the data files associated with a tablespace at the same time that the tablespace is dropped, use the <code class="codeph">INCLUDING CONTENTS AND DATAFILES</code> clause. The following statement drops the <code class="codeph">users</code> tablespace and its associated data files:
                     </p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE users INCLUDING CONTENTS AND DATAFILES;
</pre><p>A message is written to the alert log for each data file that is deleted. If an operating system error prevents the deletion of a file, the <code class="codeph">DROP TABLESPACE</code> statement still succeeds, but a message describing the error is written to the alert log.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4EB483A2-2E04-4047-8885-F5396876D0EB__GUID-EC9B1FB1-2A77-464A-9698-D9E192AA7DC7">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-35078A43-B11C-4E9B-9404-9D4BF0EB7C77" title="You use the DROP DATAFILE and DROP TEMPFILE clauses of the ALTER TABLESPACE statement to drop a single data file or temp file.">Dropping Data Files</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" name="GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B"></a><h3 id="ADMIN-GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" class="sect3"><span class="enumeration_section">13.11 </span>Managing Lost Write Protection with Shadow Tablespaces
               </h3>
               <div>
                  <p>A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8">About Shadow Lost Write Protection</a><br>A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write even though the write did not occur or when a former image of the block overwrites the current image. Shadow lost write protection can protect against lost writes for tablespaces or for individual data files.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649">Creating Shadow Tablespaces for Shadow Lost Write Protection</a><br>To create a shadow tablespace for shadow lost write protection, issue a <code class="codeph">CREATE BIGFILE TABLESPACE</code> statement with the <code class="codeph">LOST WRITE PROTECTION</code> clause.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-74490F80-2EA2-41BB-B95B-B813657C6B86">Enabling Shadow Lost Write Protection for a Database</a><br>To enable shadow lost write protection for a multitenant container database (CDB) or a non-CDB, use the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause. To enable shadow lost write protection for a pluggable database (PDB), use the <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-779814FD-F114-47A8-8D49-4CD694C6C70B">Enabling Shadow Lost Write Protection for Tablespaces and Data Files</a><br>You can enable shadow lost write protection for tablespaces and data files. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-516629D2-D135-45BB-A0B4-46A16DC46798">Disabling Shadow Lost Write Protection for a Database</a><br>To disable shadow lost write protection for a multitenant container database (CDB) or non-CDB, issue an <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">DISABLE LOST WRITE PROTECTION</code> clause. To disable shadow lost write protection for a pluggable database (PDB), issue an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">DISABLE LOST WRITE PROTECTION</code> clause.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-826E5D0C-4D00-4273-9214-7920DE5491C8">Removing or Suspending Shadow Lost Write Protection</a><br>You can remove or suspend shadow lost write protection for a tablespace or a data file.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C">Dropping a Shadow Tablespace</a><br>You can drop a shadow tablespace using the <code class="codeph">DROP TABLESPACE</code> statement. If you use the <code class="codeph">DROP TABLESPACE</code> statement with the <code class="codeph">INCLUDING CONTENTS</code> clause, then the shadow tablespace is dropped along with its contents. If you use the <code class="codeph">DROP TABLESPACE</code> statement without the <code class="codeph">INCLUDING CONTENTS</code> clause, then  before dropping the shadow tablespace, its contents are moved to another shadow tablespace, if it exists and has a sufficient free space.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8" name="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8"></a><h4 id="ADMIN-GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8" class="sect4"><span class="enumeration_section">13.11.1 </span>About Shadow Lost Write Protection
                  </h4>
                  <div>
                     <p>A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write even though the write did not occur or when a former image of the block overwrites the current image. Shadow lost write protection can protect against lost writes for tablespaces or for individual data files.</p>
                     <p>Shadow lost write protection provides fast detection and immediate response to a lost write. Using shadow lost write protection can minimize data loss and the time required to repair a database.</p>
                     <p>To use shadow lost write protection, you must enable it for the database and create one or more shadow tablespaces. A shadow tablespace is a special-purpose bigfile tablespace that contains only system change numbers (SCNs) for tracked data files. You create a shadow tablespace by including the <code class="codeph">LOST WRITE PROTECTION</code> clause in the <code class="codeph">CREATE TABLESPACE</code> statement.
                     </p>
                     <p>When a tracked data block is read from disk, shadow lost write protection can detect a lost write by comparing the SCN for the block in the shadow tablespace with the SCN of the most recent write in the block being read. If the shadow entry has an SCN greater than the data block being read, then a lost write has occurred. When a lost write is detected, an error is returned.</p>
                     <p>An undetected lost write can result in data corruption because the incorrect data can be used for other DML transactions. Shadow lost write protection detects a lost write before it is consumed to prevent data corruption. You can enable shadow lost write protection for specific tablespaces and data files. Therefore, you can choose to enable it only for your most important data. You do not need to use it to track all of your data. In addition, shadow tablespaces are flexible. You can replace one shadow tablespace with another to change its configuration or location.</p>
                     <div class="figure" id="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8__GUID-709308BD-1937-43A5-B4C5-4372C3F75308">
                        <p class="titleinfigure">Figure 13-1 Shadow Lost Write Protection</p><img src="img/admin390.png" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows" longdesc="img_text/admin390.html"><br><a href="img_text/admin390.html">Description of "Figure 13-1 Shadow Lost Write Protection"</a></div>
                     <!-- class="figure" -->
                     <p>When shadow lost write protection is enabled, it is enabled for normal DML operations and SQL*Loader conventional path load and direct path load operations. It is also enabled for Recovery Manager (RMAN) backups. An RMAN backup checks the blocks being read for lost writes and raises an error if such a block is found.</p>
                     <p>After shadow lost write protection is enabled for a tablespace or data file, you can suspend it if you want to stop collecting new lost write information and checking for lost writes for them. When shadow lost write protection is suspended. the tracking data is preserved in the shadow tablespace, and you can re-enable shadow lost write protection. If you remove shadow lost write protection for a data file or a tablespace, then its tracking data is deleted and is no longer reusable.</p>
                     <p>You enable a tablespace for shadow lost write protection by including the <code class="codeph">LOST WRITE PROTECTION</code> clause in an <code class="codeph">ALTER TABLESPACE</code> statement, and you enable a data file for shadow lost write protection by including the <code class="codeph">LOST WRITE PROTECTION</code> clause in an <code class="codeph">ALTER DATABASE <span class="codeinlineitalic">data_file_name</span></code> statement. When shadow lost write protection is enabled for a tablespace, all of the tablespace’s current and future data files are enabled for shadow lost write protection. 
                     </p>
                     <p>Oracle Database assigns a tracked data file to a specific shadow tablespace automatically. You cannot specify which shadow tablespace is used for a particular data file. The amount of space in shadow tablespaces should be at least 2% of the space used by the data files enabled for shadow lost write protection.</p>
                     <div class="infoboxnote" id="GUID-776E9765-7B1D-4648-8A5E-0D8EE883CBE8__GUID-D4398FC1-26CE-4EAA-96AC-90DC38238E86">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>If you increase the size of a tracked data file, then shadow lost write protection attempts to resize the tracking data in the corresponding shadow tablespace. If there is insufficient space to track all of the data, then shadow lost write protection inserts a warning message into the log and continues to track the data that it can using the available shadow space.</p>
                           </li>
                           <li>
                              <p>A flashback of a database causes any shadow lost write protection data to be removed. After the flashback, shadow lost write protection tracks the data as it is repopulated and updates are made to the shadow tracking data as block updates occur.</p>
                           </li>
                           <li>
                              <p>Shadow lost write protection is not related to lost write protection that is configured with the <code class="codeph">DB_LOST_WRITE_PROTECT</code> initialization parameter and a standby database.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.">Managing Lost Write Protection with Shadow Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" name="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649"></a><h4 id="ADMIN-GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" class="sect4"><span class="enumeration_section">13.11.2 </span>Creating Shadow Tablespaces for Shadow Lost Write Protection
                  </h4>
                  <div>
                     <p>To create a shadow tablespace for shadow lost write protection, issue a <code class="codeph">CREATE BIGFILE TABLESPACE</code> statement with the <code class="codeph">LOST WRITE PROTECTION</code> clause.
                     </p>
                     <div class="section">
                        <p>A shadow tablespace can be used by any tablespace or data file enabled for shadow lost write protection. The amount of space in shadow tablespaces should be at least 2% of the space used by data files enabled for shadow lost write protection. A shadow tablespace must be a bigfile tablespace.</p>
                        <div class="infoboxnote" id="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649__GUID-3140FE4F-F75B-47B5-A179-11B1E1E56C6E">
                           <p class="notep1">Note:</p>
                           <p>For creating shadow tablespaces, the database compatibility level must be 18.0.0 or higher.</p>
                        </div>
                        <p><span class="bold">To create a shadow tablespace in a database:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>In SQL*Plus, connect to the database as a user with <code class="codeph">CREATE TABLESPACE</code> system privilege.</span></li>
                        <li><span>Issue a <code class="codeph">CREATE BIGFILE TABLESPACE</code> statement with the <code class="codeph">LOST WRITE PROTECTION</code> clause.</span></li>
                     </ol>
                     <div class="example" id="GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649__GUID-EFBBCE5C-5CA7-4B23-93CE-2795ABDDAE26">
                        <p class="titleinexample">Example 13-1 Creating a Shadow Tablespace for Shadow Lost Write Protection</p>
                        <p>This example creates the <code class="codeph">shadow_lwp1</code> tablespace as a shadow tablespace for shadow lost write protection.
                        </p><pre class="pre codeblock"><code>CREATE BIGFILE TABLESPACE shadow_lwp1 DATAFILE 'shadow_lwp1.df' 
   SIZE 10M LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.">Managing Lost Write Protection with Shadow Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86" name="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86"></a><h4 id="ADMIN-GUID-74490F80-2EA2-41BB-B95B-B813657C6B86" class="sect4"><span class="enumeration_section">13.11.3 </span>Enabling Shadow Lost Write Protection for a Database
                  </h4>
                  <div>
                     <p>To enable shadow lost write protection for a multitenant container database (CDB) or a non-CDB, use the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause. To enable shadow lost write protection for a pluggable database (PDB), use the <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause.
                     </p>
                     <div class="section">
                        <p>Before you can enable individual tablespaces and data files for shadow lost write protection, you must create at least one shadow tablespace, and you must enable the database that contains it for shadow lost write protection. After doing so, you can use <code class="codeph">ALTER TABLESPACE</code> statements to enable tablespaces for shadow lost write protection, and you can use <code class="codeph">ALTER DATABASE</code> statements to enable data files for shadow lost write protection.
                        </p>
                        <div class="infoboxnote" id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86__GUID-13BE296A-5240-4E5E-AFEC-6E5192938C2A">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>For enabling shadow lost write protection for a database, the database compatibility level must be 18.0.0 or higher, and at least one shadow tablespace must exist.</p>
                              </li>
                              <li>
                                 <p>Enabling or disabling shadow lost write protection for a CDB root does not impact the shadow lost write protection for the PDBs. Therefore, shadow lost write protection can be enabled for a PDB even if it is disabled for the CDB root.</p>
                              </li>
                              <li>
                                 <p>When you enable shadow lost write protection for a database, a shadow tablespace is automatically assigned to it.</p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">To enable shadow lost write protection for a database:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>In SQL*Plus, connect to a user with the required privileges:</span><ul>
                              <li>In a non-CDB or CDB root, connect as a user with <code class="codeph">ALTER DATABASE</code> system privilege.
                              </li>
                              <li>In an application root, PDB, or application PDB, connect as a user with <code class="codeph">ALTER PLUGGABLE DATABASE</code> system privilege.
                              </li>
                           </ul>
                        </li>
                        <li><span>Do one of the following:</span><ul>
                              <li>For a non-CDB or a CDB root, issue an <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause.
                              </li>
                              <li>For an application root, PDB, or application PDB, issue an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause.
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86__GUID-6CE73936-102E-4D58-83D0-6343118D41CF">
                        <p class="titleinexample">Example 13-2 Enabling Shadow Lost Write Protection for a Non-CDB or CDB Root</p><pre class="pre codeblock"><code>ALTER DATABASE ENABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-74490F80-2EA2-41BB-B95B-B813657C6B86__GUID-8D39DC8E-0919-45C8-A52F-E0174487D44B">
                        <p class="titleinexample">Example 13-3 Enabling Shadow Lost Write Protection for a PDB</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE ENABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-tablespaces.html#GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" title="To create a shadow tablespace for shadow lost write protection, issue a CREATE BIGFILE TABLESPACE statement with the LOST WRITE PROTECTION clause.">Creating Shadow Tablespaces for Shadow Lost Write Protection</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.">Managing Lost Write Protection with Shadow Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B" name="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B"></a><h4 id="ADMIN-GUID-779814FD-F114-47A8-8D49-4CD694C6C70B" class="sect4"><span class="enumeration_section">13.11.4 </span>Enabling Shadow Lost Write Protection for Tablespaces and Data Files
                  </h4>
                  <div>
                     <p>You can enable shadow lost write protection for tablespaces and data files. </p>
                     <div class="section">
                        <p>To enable shadow lost write protection for a tablespace, issue an <code class="codeph">ALTER TABLESPACE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause. To enable shadow lost write protection for a data file, issue an <code class="codeph">ALTER DATABASE <span class="codeinlineitalic">data_file_name</span></code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause. When you enable shadow lost write protection for a tablespace, all of the data files of the tablespace are enabled for shadow lost write protection, and any data files added to the tablespace are enabled for shadow lost write protection.
                        </p>
                        <div class="infoboxnote" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-13BE296A-5240-4E5E-AFEC-6E5192938C2A">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>To enable shadow lost write protection for a tablespace or data file, shadow lost write protection must be enabled for the database and at least one shadow tablespace must exist.</p>
                              </li>
                              <li>
                                 <p>When you enable shadow lost write protection for a tablespace or data file, a shadow tablespace is automatically assigned to it.</p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">To enable shadow lost write protection for a tablespace or a data file:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>In SQL*Plus, connect to the database as a user with the required privileges: </span><ul>
                              <li>If you are enabling shadow lost write protection for a tablespace, then connect as a user with <code class="codeph">ALTER TABLESPACE</code> privilege.
                              </li>
                              <li>If you are enabling shadow lost write protection for a data file used by a non-CDB or a CDB root, then connect as a user with <code class="codeph">ALTER DATABASE</code> privilege.
                              </li>
                              <li>If you are enabling shadow lost write protection for a data file used by an application root, PDB, or application PDB, then connect as a user with <code class="codeph">ALTER PLUGGABLE DATABASE</code> privilege.
                              </li>
                           </ul>
                        </li>
                        <li><span>Perform one of the following actions:</span><ul>
                              <li>To enable shadow lost write protection for a tablespace, issue an <code class="codeph">ALTER TABLESPACE</code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause.
                              </li>
                              <li>To enable shadow lost write protection for a data file that is used by a non-CDB or a CDB root, issue an <code class="codeph">ALTER DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause, and replace <code class="codeph"><span class="codeinlineitalic">data_file_name</span></code> with the name of the data file.
                              </li>
                              <li>To enable shadow lost write protection for a data file that is used by an application root, PDB, or application PDB,  issue an <code class="codeph">ALTER PLUGGABLE DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code> statement with the <code class="codeph">ENABLE LOST WRITE PROTECTION</code> clause, and replace <code class="codeph"><span class="codeinlineitalic">data_file_name</span></code> with the name of the data file.
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-62394FF5-598C-4F05-9301-1207A03E7E57">
                        <p class="titleinexample">Example 13-4 Enabling Shadow Lost Write Protection for a Tablespace</p>
                        <p>This example enables lost write protection for the <code class="codeph">tbsu1</code> tablespace.
                        </p><pre class="pre codeblock"><code>ALTER TABLESPACE tbsu1 ENABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-C79AAE70-2766-45BE-896B-D4F3CA48EB79">
                        <p class="titleinexample">Example 13-5 Enabling Shadow Lost Write Protection for a Data File Used by a Non-CDB or CDB Root</p>
                        <p>This example enables shadow lost write protection for the <code class="codeph">dfile1.df</code> data file.
                        </p><pre class="pre codeblock"><code>ALTER DATABASE DATAFILE 'dfile1.df' ENABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-779814FD-F114-47A8-8D49-4CD694C6C70B__GUID-E07492C6-85A1-4ABF-9CCA-19306CFC51DF">
                        <p class="titleinexample">Example 13-6 Enabling Shadow Lost Write Protection for a Data File Used by an Application Root, a PDB, or an Application PDB</p>
                        <p>This example enables shadow lost write protection for the <code class="codeph">dfile2.df</code> data file.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DATAFILE 'dfile2.df' ENABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-tablespaces.html#GUID-74490F80-2EA2-41BB-B95B-B813657C6B86" title="To enable shadow lost write protection for a multitenant container database (CDB) or a non-CDB, use the ALTER DATABASE statement with the ENABLE LOST WRITE PROTECTION clause. To enable shadow lost write protection for a pluggable database (PDB), use the ALTER PLUGGABLE DATABASE statement with the ENABLE LOST WRITE PROTECTION clause.">Enabling Shadow Lost Write Protection for a Database</a></li>
                           <li><a href="managing-tablespaces.html#GUID-5333CD22-CB74-4DAE-8B55-8702F81A2649" title="To create a shadow tablespace for shadow lost write protection, issue a CREATE BIGFILE TABLESPACE statement with the LOST WRITE PROTECTION clause.">Creating Shadow Tablespaces for Shadow Lost Write Protection</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.">Managing Lost Write Protection with Shadow Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798" name="GUID-516629D2-D135-45BB-A0B4-46A16DC46798"></a><h4 id="ADMIN-GUID-516629D2-D135-45BB-A0B4-46A16DC46798" class="sect4"><span class="enumeration_section">13.11.5 </span>Disabling Shadow Lost Write Protection for a Database
                  </h4>
                  <div>
                     <p>To disable shadow lost write protection for a multitenant container database (CDB) or non-CDB, issue an <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">DISABLE LOST WRITE PROTECTION</code> clause. To disable shadow lost write protection for a pluggable database (PDB), issue an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">DISABLE LOST WRITE PROTECTION</code> clause.
                     </p>
                     <div class="section">When you disable shadow lost write protection for a database, no tablespaces or data files in the database can be protected by shadow lost write protection.
                        <div class="infoboxnote" id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798__GUID-7C39C40D-29F7-4BB2-A371-21E12D2A3F2B">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Disabling shadow lost write protection does not remove the data in the existing shadow tablespace, but this data is no longer updated or checked. If you want to remove the data in the shadow tablespace, then you can drop the shadow tablespace using the <code class="codeph">DROP TABLESPACE</code> statement with the <code class="codeph">INCLUDING CONTENTS</code> clause.
                                 </p>
                              </li>
                              <li>
                                 <p>Enabling or disabling shadow lost write protection for a CDB root does not impact the shadow lost write protection for the PDBs.</p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">To disable shadow lost write protection for a database:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>In SQL*Plus, connect to a user with the required privileges:</span><ul>
                              <li>In a non-CDB or CDB root, connect as a user with <code class="codeph">ALTER DATABASE</code> system privilege.
                              </li>
                              <li>In an application root, PDB, or application PDB, connect as a user with <code class="codeph">ALTER PLUGGABLE DATABASE</code> system privilege.
                              </li>
                           </ul>
                        </li>
                        <li><span> Do one of the following:</span><ul>
                              <li>For a non-CDB or a CDB root, issue an <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">DISABLE LOST WRITE PROTECTION</code> clause.
                              </li>
                              <li>For an application root, PDB, or application PDB, issue an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">DISABLE LOST WRITE PROTECTION</code> clause.
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798__GUID-55313120-141B-4EF7-88C0-4CADCF50BBE2">
                        <p class="titleinexample">Example 13-7 Disabling Shadow Lost Write Protection for a Non-CDB or CDB Root</p><pre class="pre codeblock"><code>ALTER DATABASE DISABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-516629D2-D135-45BB-A0B4-46A16DC46798__GUID-1C0C9699-75D3-4B7D-96CD-75787E194B9E">
                        <p class="titleinexample">Example 13-8 Disabling Shadow Lost Write Protection for a PDB</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DISABLE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-tablespaces.html#GUID-826E5D0C-4D00-4273-9214-7920DE5491C8" title="You can remove or suspend shadow lost write protection for a tablespace or a data file.">Removing or Suspending Shadow Lost Write Protection</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.">Managing Lost Write Protection with Shadow Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8" name="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8"></a><h4 id="ADMIN-GUID-826E5D0C-4D00-4273-9214-7920DE5491C8" class="sect4"><span class="enumeration_section">13.11.6 </span>Removing or Suspending Shadow Lost Write Protection
                  </h4>
                  <div>
                     <p>You can remove or suspend shadow lost write protection for a tablespace or a data file.</p>
                     <div class="section">
                        <p>When shadow lost write protection is no longer needed for a tablespace or data file, you can choose one of the following options:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>You can remove shadow lost write protection. This option deletes tracking information for the tablespace or data file from shadow tablespaces. This option also stops the collection of new lost write information for the tablespace or data file and stops checking for new lost writes for them.</p>
                           </li>
                           <li>
                              <p>You can suspend shadow lost write protection. This option stops the collection of new lost write information for the tablespace or data file and stops checking for new lost writes for them. However, the old lost write information remains in the shadow tablespace. If shadow lost write protection is re-enabled for the tablespace or data file, then the old lost write information can be used for them.</p>
                           </li>
                        </ul>
                        <p>When you remove or suspend shadow lost write protection for a tablespace, shadow lost write protection is removed or suspended for all of the data files of the tablespace.</p>
                        <p><span class="bold">To remove or suspend shadow lost write protection for a tablespace or a data file:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>In SQL*Plus, connect to the database as a user with the required privileges: </span><ul>
                              <li>If you are removing or suspending shadow lost write protection for a tablespace, then connect as a user with <code class="codeph">ALTER TABLESPACE</code> privilege.
                              </li>
                              <li>If you are removing or suspending shadow lost write protection for a data file used by a non-CDB or a CDB root, then connect as a user with <code class="codeph">ALTER DATABASE</code> privilege.
                              </li>
                              <li>If you are removing or suspending shadow lost write protection for a data file used by an application root, PDB, or application PDB, then connect as a user with <code class="codeph">ALTER PLUGGABLE DATABASE</code> privilege.
                              </li>
                           </ul>
                        </li>
                        <li><span>Perform one of the following actions:</span><ul>
                              <li>To remove or suspend shadow lost write protection for a tablespace, issue an <code class="codeph">ALTER TABLESPACE</code> statement with the <code class="codeph">REMOVE LOST WRITE PROTECTION</code> clause or the <code class="codeph">SUSPEND LOST WRITE PROTECTION</code> clause, respectively.
                              </li>
                              <li>To remove or suspend shadow lost write protection for a data file that is used by a non-CDB or a CDB root, issue an <code class="codeph">ALTER DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code> statement with the <code class="codeph">REMOVE LOST WRITE PROTECTION</code> clause or <code class="codeph">SUSPEND LOST WRITE PROTECTION</code> clause, respectively, and replace <code class="codeph"><span class="codeinlineitalic">data_file_name</span></code> with the name of the data file.
                              </li>
                              <li>To remove or suspend shadow lost write protection for a data file that is used by an application root, PDB, or application PDB,  issue an <code class="codeph">ALTER PLUGGABLE DATABASE DATAFILE <span class="codeinlineitalic">data_file_name</span></code> statement with the <code class="codeph">REMOVE LOST WRITE PROTECTION</code> clause or <code class="codeph">SUSPEND LOST WRITE PROTECTION</code> clause, respectively, and replace <code class="codeph"><span class="codeinlineitalic">data_file_name</span></code> with the name of the data file.
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8__GUID-03F68905-4665-4CD9-9077-E4812DAAB1D5">
                        <p class="titleinexample">Example 13-9 Removing Shadow Lost Write Protection for a Tablespace</p>
                        <p>This example removes lost write protection for the <code class="codeph">tbsu1</code> tablespace.
                        </p><pre class="pre codeblock"><code>ALTER TABLESPACE tbsu1 REMOVE LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8__GUID-27B9D46D-9D12-4E82-8CD8-A0D3C3B6038E">
                        <p class="titleinexample">Example 13-10 Suspending Shadow Lost Write Protection for a Data File Used by a Non-CDB</p>
                        <p>This example suspends shadow lost write protection for the <code class="codeph">dfile1.df</code> data file, which is used by a non-CDB.
                        </p><pre class="pre codeblock"><code>ALTER DATABASE DATAFILE 'dfile1.df' SUSPEND LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-826E5D0C-4D00-4273-9214-7920DE5491C8__GUID-C2ECA692-4477-42C5-95FA-B3D4BDED1809">
                        <p class="titleinexample">Example 13-11 Removing Shadow Lost Write Protection for a Data File Used by a PDB</p>
                        <p>This example removes shadow lost write protection for the <code class="codeph">dfile2.df</code> data file, which is used by a PDB.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DATAFILE 'dfile2.df' SUSPEND LOST WRITE PROTECTION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.">Managing Lost Write Protection with Shadow Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C" name="GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C"></a><h4 id="ADMIN-GUID-E8BC5472-99A9-46E0-9B5A-3C840C68EC4C" class="sect4"><span class="enumeration_section">13.11.7 </span>Dropping a Shadow Tablespace
                  </h4>
                  <p>You can drop a shadow tablespace using the <code class="codeph">DROP TABLESPACE</code> statement. If you use the <code class="codeph">DROP TABLESPACE</code> statement with the <code class="codeph">INCLUDING CONTENTS</code> clause, then the shadow tablespace is dropped along with its contents. If you use the <code class="codeph">DROP TABLESPACE</code> statement without the <code class="codeph">INCLUDING CONTENTS</code> clause, then  before dropping the shadow tablespace, its contents are moved to another shadow tablespace, if it exists and has a sufficient free space.
                  </p>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-23154DE0-B2AA-4D73-BBCA-73ED5786FF2B" title="A data block lost write occurs when an I/O subsystem acknowledges the completion of the block write, but the write did not occur in the persistent storage. Shadow lost write protection can protect against lost writes.">Managing Lost Write Protection with Shadow Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11384"></a><div class="props_rev_3"><a id="GUID-30942290-88DD-4D62-816F-F7EDCE661710" name="GUID-30942290-88DD-4D62-816F-F7EDCE661710"></a><h3 id="ADMIN-GUID-30942290-88DD-4D62-816F-F7EDCE661710" class="sect3"><span class="enumeration_section">13.12 </span>Managing the SYSAUX Tablespace
               </h3>
               <div>
                  <p>The <code class="codeph">SYSAUX</code> tablespace was installed as an auxiliary tablespace to the <code class="codeph">SYSTEM</code> tablespace when you created your database. Some database components that formerly created and used separate tablespaces now occupy the <code class="codeph">SYSAUX</code> tablespace.
                  </p>
                  <p>If the <code class="codeph">SYSAUX</code> tablespace becomes unavailable, core database functionality will remain operational. The database features that use the <code class="codeph">SYSAUX</code> tablespace could fail, or function with limited capability. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-7B9613A0-1B17-48A3-B61E-728D875A2560">Monitoring Occupants of the SYSAUX Tablespace</a><br>You can monitor the occupants of the <code class="codeph">SYSAUX</code> tablespace.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A">Moving Occupants Out Of or Into the SYSAUX Tablespace</a><br>The <code class="codeph">V$SYSAUX_OCCUPANTS</code> view provides a move procedure for each occupant of the <code class="codeph">SYSAUX</code> tablespace.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671">Controlling the Size of the SYSAUX Tablespace</a><br>The <code class="codeph">SYSAUX</code> tablespace is occupied by several database components, and its total size is governed by the space consumed by those components. The space consumed by the components, in turn, depends on which features or functionality are being used and on the nature of the database workload.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11385"></a><div class="props_rev_3"><a id="GUID-7B9613A0-1B17-48A3-B61E-728D875A2560" name="GUID-7B9613A0-1B17-48A3-B61E-728D875A2560"></a><h4 id="ADMIN-GUID-7B9613A0-1B17-48A3-B61E-728D875A2560" class="sect4"><span class="enumeration_section">13.12.1 </span>Monitoring Occupants of the SYSAUX Tablespace
                  </h4>
                  <div>
                     <p>You can monitor the occupants of the <code class="codeph">SYSAUX</code> tablespace.
                     </p>
                     <div class="section">
                        <p>The list of registered occupants of the <code class="codeph">SYSAUX</code> tablespace are discussed in <span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-C70E0886-7D9A-4B0D-BA0B-DF71AB5A2154" title="The SYSAUX tablespace is always created at database creation. The SYSAUX tablespace serves as an auxiliary tablespace to the SYSTEM tablespace. Because it is the default tablespace for many Oracle Database features and products that previously required their own tablespaces, it reduces the number of tablespaces required by the database. It also reduces the load on the SYSTEM tablespace.">About the SYSAUX Tablespace</a>"</span>. These components can use the <code class="codeph">SYSAUX</code> tablespace, and their installation provides the means of establishing their occupancy of the <code class="codeph">SYSAUX</code> tablespace.
                        </p>
                        <p>To monitor the occupants of the <code class="codeph">SYSAUX</code> tablespace:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Query the <code class="codeph">V$SYSAUX_OCCUPANTS</code> view.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This view lists the following information about the occupants of the <code class="codeph">SYSAUX</code> tablespace:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Name of the occupant</p>
                           </li>
                           <li>
                              <p>Occupant description</p>
                           </li>
                           <li>
                              <p>Schema name</p>
                           </li>
                           <li>
                              <p>Move procedure</p>
                           </li>
                           <li>
                              <p>Current space usage</p>
                           </li>
                        </ul>
                        <p>View information is maintained by the occupants.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7B9613A0-1B17-48A3-B61E-728D875A2560__GUID-4BC7BA6F-4A70-4E64-831E-779A29CDECED">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/V-SYSAUX_OCCUPANTS.html#REFRN30271" target="_blank"><span class="italic">Oracle Database Reference </span></a>for a detailed description of the <code class="codeph">V$SYSAUX_OCCUPANTS</code> view
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="The SYSAUX tablespace was installed as an auxiliary tablespace to the SYSTEM tablespace when you created your database. Some database components that formerly created and used separate tablespaces now occupy the SYSAUX tablespace.">Managing the SYSAUX Tablespace</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11386"></a><div class="props_rev_3"><a id="GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A" name="GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A"></a><h4 id="ADMIN-GUID-C0E5C7A8-8220-48DF-B632-E43D4AE4FA1A" class="sect4"><span class="enumeration_section">13.12.2 </span>Moving Occupants Out Of or Into the SYSAUX Tablespace
                  </h4>
                  <div>
                     <p>The <code class="codeph">V$SYSAUX_OCCUPANTS</code> view provides a move procedure for each occupant of the <code class="codeph">SYSAUX</code> tablespace.
                     </p>
                     <div class="section">
                        <p>You will have an option at component install time to specify that you do not want the component to reside in <code class="codeph">SYSAUX</code>. Also, if you later decide that the component should be relocated to a designated tablespace, you can use the move procedure for that component, as specified in the <code class="codeph">V$SYSAUX_OCCUPANTS</code> view, to perform the move. 
                        </p>
                        <p>The move procedure also lets you move a component from another tablespace into the <code class="codeph">SYSAUX</code> tablespace. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="The SYSAUX tablespace was installed as an auxiliary tablespace to the SYSTEM tablespace when you created your database. Some database components that formerly created and used separate tablespaces now occupy the SYSAUX tablespace.">Managing the SYSAUX Tablespace</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11387"></a><div class="props_rev_3"><a id="GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671" name="GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671"></a><h4 id="ADMIN-GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671" class="sect4"><span class="enumeration_section">13.12.3 </span>Controlling the Size of the SYSAUX Tablespace
                  </h4>
                  <div>
                     <p>The <code class="codeph">SYSAUX</code> tablespace is occupied by several database components, and its total size is governed by the space consumed by those components. The space consumed by the components, in turn, depends on which features or functionality are being used and on the nature of the database workload.
                     </p>
                     <div class="section">
                        <p>The largest portion of the <code class="codeph">SYSAUX</code> tablespace is occupied by the Automatic Workload Repository (AWR). The space consumed by the AWR is determined by several factors, including the number of active sessions in the system at any given time, the snapshot interval, and the historical data retention period. A typical system with an average of 10 concurrent active sessions may require approximately 200 MB to 300 MB of space for its AWR data. You can control the size of the AWR by changing the snapshot interval and historical data retention period.
                        </p>
                        <p>Another major occupant of the <code class="codeph">SYSAUX</code> tablespace is the embedded Oracle Enterprise Manager Cloud Control repository. This repository is used by Cloud Control to store its metadata. The size of this repository depends on database activity and on configuration-related information stored in the repository.
                        </p>
                        <p>Other database components in the <code class="codeph">SYSAUX</code> tablespace will grow in size only if their associated features (for example, Oracle Text and Oracle Streams) are in use. If the features are not used, then these components do not have any significant effect on the size of the <code class="codeph">SYSAUX</code> tablespace.
                        </p>
                        <p>The following table provides guidelines on sizing the <code class="codeph">SYSAUX</code> tablespace based on the system configuration and expected load.
                        </p>
                        <div class="tblformal" id="GUID-B5C0C299-CFDE-4F98-A205-AA20C33EA671__GUID-9627AD4E-BC0C-4CEA-978A-1ED7EA6C519D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table has 4 rows and 4 columns. It should be read one row at a time. Columns are: Parameter/Recommendation, Small, Medium, and Large." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d141174e6520">Parameter/Recommendation</th>
                                    <th align="left" valign="bottom" id="d141174e6523">Small</th>
                                    <th align="left" valign="bottom" id="d141174e6526">Medium</th>
                                    <th align="left" valign="bottom" id="d141174e6529">Large</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6534" headers="d141174e6520 ">
                                       <p>Number of CPUs</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6534 d141174e6523 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6534 d141174e6526 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6534 d141174e6529 ">
                                       <p>32</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6547" headers="d141174e6520 ">
                                       <p>Number of concurrently active sessions</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6547 d141174e6523 ">
                                       <p>10</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6547 d141174e6526 ">
                                       <p>20</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6547 d141174e6529 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6560" headers="d141174e6520 ">
                                       <p>Number of user objects: tables and indexes</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6560 d141174e6523 ">
                                       <p>500</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6560 d141174e6526 ">
                                       <p>5,000</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6560 d141174e6529 ">
                                       <p>50,000</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d141174e6573" headers="d141174e6520 ">
                                       <p>Estimated <code class="codeph">SYSAUX</code> size at steady state with default configuration
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6573 d141174e6523 ">
                                       <p>500 MB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6573 d141174e6526 ">
                                       <p>2 GB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d141174e6573 d141174e6529 ">
                                       <p>5 GB</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-30942290-88DD-4D62-816F-F7EDCE661710" title="The SYSAUX tablespace was installed as an auxiliary tablespace to the SYSTEM tablespace when you created your database. Some database components that formerly created and used separate tablespaces now occupy the SYSAUX tablespace.">Managing the SYSAUX Tablespace</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" name="GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D"></a><h3 id="ADMIN-GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" class="sect3"><span class="enumeration_section">13.13 </span>Correcting Problems with Locally Managed Tablespaces
               </h3>
               <p>Oracle Database includes aids for correcting problems with locally managed tablespaces.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4">Diagnosing and Repairing Locally Managed Tablespace Problems</a><br>Oracle Database includes the <code class="codeph">DBMS_SPACE_ADMIN</code> package, which is a collection of aids for diagnosing and repairing problems in locally managed tablespaces.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA">Scenario 1: Fixing Bitmap When Allocated Blocks are Marked Free (No Overlap)</a><br>The <code class="codeph">TABLESPACE_VERIFY</code> procedure discovers that a segment has allocated blocks that are marked free in the bitmap, but no overlap between segments is reported. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9">Scenario 2: Dropping a Corrupted Segment</a><br>You cannot drop a segment because the bitmap has segment blocks marked "free". The system has automatically marked the segment corrupted.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2">Scenario 3: Fixing Bitmap Where Overlap is Reported</a><br>The <code class="codeph">TABLESPACE_VERIFY</code> procedure reports some overlapping. Some of the real data must be sacrificed based on previous internal errors.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076">Scenario 4: Correcting Media Corruption of Bitmap Blocks</a><br>A set of bitmap blocks has media corruption.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09">Scenario 5: Migrating from a Dictionary-Managed to a Locally Managed Tablespace</a><br>Use the <code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code> procedure to migrate a dictionary-managed tablespace to a locally managed tablespace. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12602"></a><a id="ADMIN10066"></a><div class="props_rev_3"><a id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4" name="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4"></a><h4 id="ADMIN-GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4" class="sect4"><span class="enumeration_section">13.13.1 </span>Diagnosing and Repairing Locally Managed Tablespace Problems
                  </h4>
                  <div>
                     <p>Oracle Database includes the <code class="codeph">DBMS_SPACE_ADMIN</code> package, which is a collection of aids for diagnosing and repairing problems in locally managed tablespaces.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-BB099A84-FF2E-4D6F-884D-D17A9EC2BBBC">DBMS_SPACE_ADMIN Package Procedures</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following table lists the <code class="codeph">DBMS_SPACE_ADMIN</code> package procedures. See <a href="../arpls/DBMS_SPACE_ADMIN.html#ARPLS057" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for details on each procedure.
                        </p>
                        <div class="tblformal" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-2EE8DCDA-24DD-445B-A074-1E0B83CC8A95">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the procedures contained in the DBMS_SPACE_ADMIN package. Column 2 provides the description of each procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d141174e6770">Procedure</th>
                                    <th align="left" valign="bottom" width="61%" id="d141174e6773">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6778" headers="d141174e6770 ">
                                       <p><code class="codeph">ASSM_SEGMENT_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6778 d141174e6773 ">
                                       <p>Verifies the integrity of segments created in tablespaces that have automatic segment space management enabled. Outputs a dump file named <span class="italic"><code class="codeph">sid</code></span><code class="codeph">_ora_</code><span class="italic"><code class="codeph">process_id</code></span>.<code class="codeph">trc</code> to the location that corresponds to the <code class="codeph">Diag</code> <code class="codeph">Trace</code> entry in the <code class="codeph">V$DIAG_INFO</code> view.
                                       </p>
                                       <p>Use <code class="codeph">SEGMENT_VERIFY</code> for tablespaces with manual segment space management.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6813" headers="d141174e6770 ">
                                       <p><code class="codeph">ASSM_TABLESPACE_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6813 d141174e6773 ">
                                       <p>Verifies the integrity of tablespaces that have automatic segment space management enabled. Outputs a dump file named <span class="italic"><code class="codeph">sid</code></span><code class="codeph">_ora_</code><span class="italic"><code class="codeph">process_id</code></span>.<code class="codeph">trc</code> to the location that corresponds to the <code class="codeph">Diag</code> <code class="codeph">Trace</code> entry in the <code class="codeph">V$DIAG_INFO</code> view.
                                       </p>
                                       <p>Use <code class="codeph">TABLESPACE_VERIFY</code> for tablespaces with manual segment space management.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6848" headers="d141174e6770 ">
                                       <p><code class="codeph">DROP_EMPTY_SEGMENTS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6848 d141174e6773 ">
                                       <p>Drops segments from empty tables or table partitions and dependent objects</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6856" headers="d141174e6770 ">
                                       <p><code class="codeph">MATERIALIZE_DEFERRED_SEGMENTS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6856 d141174e6773 ">
                                       <p>Materializes segments for tables and table partitions with deferred segment creation and their dependent objects.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6864" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_CORRUPT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6864 d141174e6773 ">
                                       <p>Marks the segment corrupt or valid so that appropriate error recovery can be done</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6872" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_DROP_CORRUPT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6872 d141174e6773 ">
                                       <p>Drops a segment currently marked corrupt (without reclaiming space)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6880" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_DUMP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6880 d141174e6773 ">
                                       <p>Dumps the segment header and bitmap blocks of a specific segment to a dump file named <span class="italic"><code class="codeph">sid</code></span><code class="codeph">_ora_</code><span class="italic"><code class="codeph">process_id</code></span>.<code class="codeph">trc</code> in the location that corresponds to the <code class="codeph">Diag</code> <code class="codeph">Trace</code> entry in the <code class="codeph">V$DIAG_INFO</code> view. Provides an option to select a slightly abbreviated dump, which includes segment header and includes bitmap block summaries, without percent-free states of each block.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6910" headers="d141174e6770 ">
                                       <p><code class="codeph">SEGMENT_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6910 d141174e6773 ">
                                       <p>Verifies the consistency of the extent map of the segment</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6918" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_FIX_BITMAPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6918 d141174e6773 ">
                                       <p>Marks the appropriate DBA range (extent) as free or used in bitmap</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6926" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_FIX_SEGMENT_STATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6926 d141174e6773 ">
                                       <p>Fixes the state of the segments in a tablespace in which migration was stopped</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6934" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_MIGRATE_FROM_LOCAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6934 d141174e6773 ">
                                       <p>Migrates a locally managed tablespace to dictionary-managed tablespace</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6943" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6943 d141174e6773 ">
                                       <p>Migrates a dictionary-managed tablespace to a locally managed tablespace</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6951" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_REBUILD_BITMAPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6951 d141174e6773 ">
                                       <p>Rebuilds the appropriate bitmaps</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6959" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_REBUILD_QUOTAS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6959 d141174e6773 ">
                                       <p>Rebuilds quotas for a specific tablespace</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6967" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_RELOCATE_BITMAPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6967 d141174e6773 ">
                                       <p>Relocates the bitmaps to the specified destination</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d141174e6975" headers="d141174e6770 ">
                                       <p><code class="codeph">TABLESPACE_VERIFY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d141174e6975 d141174e6773 ">
                                       <p>Verifies that the bitmaps and extent maps for the segments in the tablespace are synchronized</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following scenarios describe typical situations in which you can use the <code class="codeph">DBMS_SPACE_ADMIN</code> package to diagnose and resolve problems.
                        </p>
                        <div class="infoboxnote" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-07D2DD79-CC83-464F-96D9-D88A60CE3E7E">
                           <p class="notep1">Note:</p>
                           <p>Some of these procedures can result in lost and unrecoverable data if not used properly. You should work with Oracle Support Services if you have doubts about these procedures.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-40027632-7D50-4F15-B482-3D38A1C8A0A4__GUID-F9A6AC97-2C9C-46DD-BBFB-17519CE2E1B6">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../arpls/DBMS_SPACE_ADMIN.html#ARPLS057" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for details about the <code class="codeph">DBMS_SPACE_ADMIN</code> package
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-951A06EE-DDF7-4C2A-B0BB-B24418BB2E33__CHDJBHBJ">Viewing ADR Locations with the V$DIAG_INFO View</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle Database includes aids for correcting problems with locally managed tablespaces.">Correcting Problems with Locally Managed Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11388"></a><div class="props_rev_3"><a id="GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA" name="GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA"></a><h4 id="ADMIN-GUID-49F5ECE9-5170-4268-97A2-E2EDA54B73CA" class="sect4"><span class="enumeration_section">13.13.2 </span>Scenario 1: Fixing Bitmap When Allocated Blocks are Marked Free (No Overlap)
                  </h4>
                  <div>
                     <p>The <code class="codeph">TABLESPACE_VERIFY</code> procedure discovers that a segment has allocated blocks that are marked free in the bitmap, but no overlap between segments is reported. 
                     </p>
                     <div class="section">
                        <p>In this scenario, perform the following tasks:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Call the <code class="codeph">SEGMENT_DUMP</code> procedure to dump the ranges that the administrator allocated to the segment. </span></li>
                        <li><span>For each range, call the <code class="codeph">TABLESPACE_FIX_BITMAPS</code> procedure with the <code class="codeph">TABLESPACE_EXTENT_MAKE_USED</code> option to mark the space as used.</span></li>
                        <li><span>Call <code class="codeph">TABLESPACE_REBUILD_QUOTAS</code> to rebuild quotas.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle Database includes aids for correcting problems with locally managed tablespaces.">Correcting Problems with Locally Managed Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11389"></a><div class="props_rev_3"><a id="GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9" name="GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9"></a><h4 id="ADMIN-GUID-8DC6F205-9D98-4F68-8218-0846554C8CC9" class="sect4"><span class="enumeration_section">13.13.3 </span>Scenario 2: Dropping a Corrupted Segment
                  </h4>
                  <div>
                     <p>You cannot drop a segment because the bitmap has segment blocks marked "free". The system has automatically marked the segment corrupted.</p>
                     <div class="section">
                        <p></p>
                        <p>In this scenario, perform the following tasks: </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Call the <code class="codeph">SEGMENT_VERIFY</code> procedure with the <code class="codeph">SEGMENT_VERIFY_EXTENTS_GLOBAL</code> option. If no overlaps are reported, then proceed with steps 2 through 5. </span></li>
                        <li><span>Call the <code class="codeph">SEGMENT_DUMP</code> procedure to dump the DBA ranges allocated to the segment.</span></li>
                        <li><span>For each range, call <code class="codeph">TABLESPACE_FIX_BITMAPS</code> with the <code class="codeph">TABLESPACE_EXTENT_MAKE_FREE</code> option to mark the space as free.</span></li>
                        <li><span>Call <code class="codeph">SEGMENT_DROP_CORRUPT</code> to drop the <code class="codeph">SEG$</code> entry.</span></li>
                        <li><span>Call <code class="codeph">TABLESPACE_REBUILD_QUOTAS</code> to rebuild quotas.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle Database includes aids for correcting problems with locally managed tablespaces.">Correcting Problems with Locally Managed Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11390"></a><div class="props_rev_3"><a id="GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2" name="GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2"></a><h4 id="ADMIN-GUID-08FF03F2-B2CA-4FA9-925B-2FF8900447A2" class="sect4"><span class="enumeration_section">13.13.4 </span>Scenario 3: Fixing Bitmap Where Overlap is Reported
                  </h4>
                  <div>
                     <p>The <code class="codeph">TABLESPACE_VERIFY</code> procedure reports some overlapping. Some of the real data must be sacrificed based on previous internal errors.
                     </p>
                     <div class="section">
                        <p>After choosing the object to be sacrificed, in this case say, table <code class="codeph">t1</code>, perform the following tasks:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Make a list of all objects that <code class="codeph">t1</code> overlaps.</span></li>
                        <li><span>Drop table <code class="codeph">t1</code>. If necessary, follow up by calling the <code class="codeph">SEGMENT_DROP_CORRUPT</code> procedure.</span></li>
                        <li><span>Call the <code class="codeph">SEGMENT_VERIFY</code> procedure on all objects that <code class="codeph">t1</code> overlapped. If necessary, call the <code class="codeph">TABLESPACE_FIX_BITMAPS</code> procedure to mark appropriate bitmap blocks as used.</span></li>
                        <li><span>Rerun the <code class="codeph">TABLESPACE_VERIFY</code> procedure to verify that the problem is resolved.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle Database includes aids for correcting problems with locally managed tablespaces.">Correcting Problems with Locally Managed Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11391"></a><div class="props_rev_3"><a id="GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076" name="GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076"></a><h4 id="ADMIN-GUID-C201EA55-11F9-40D6-8A7E-DE0A4980E076" class="sect4"><span class="enumeration_section">13.13.5 </span>Scenario 4: Correcting Media Corruption of Bitmap Blocks
                  </h4>
                  <div>
                     <p>A set of bitmap blocks has media corruption.</p>
                     <div class="section">
                        <p>In this scenario, perform the following tasks:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Call the <code class="codeph">TABLESPACE_REBUILD_BITMAPS</code> procedure, either on all bitmap blocks, or on a single block if only one is corrupt.</span></li>
                        <li><span>Call the <code class="codeph">TABLESPACE_REBUILD_QUOTAS</code> procedure to rebuild quotas.</span></li>
                        <li><span>Call the <code class="codeph">TABLESPACE_VERIFY</code> procedure to verify that the bitmaps are consistent.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle Database includes aids for correcting problems with locally managed tablespaces.">Correcting Problems with Locally Managed Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11392"></a><div class="props_rev_3"><a id="GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09" name="GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09"></a><h4 id="ADMIN-GUID-CA21AB80-6F6C-412E-807B-03899E4EAE09" class="sect4"><span class="enumeration_section">13.13.6 </span>Scenario 5: Migrating from a Dictionary-Managed to a Locally Managed Tablespace
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code> procedure to migrate a dictionary-managed tablespace to a locally managed tablespace. 
                     </p>
                     <div class="section">
                        <p>This operation is done online, but space management operations are blocked until the migration has been completed. Therefore, you can read or modify data while the migration is in progress, but if you are loading a large amount of data that requires the allocation of additional extents, then the operation may be blocked.</p>
                        <p>Assume that the database block size is 2K and the existing extent sizes in tablespace <code class="codeph">tbs_1</code> are 10, 50, and 10,000 blocks (used, used, and free). The <code class="codeph">MINIMUM EXTENT</code> value is 20K (10 blocks). Allow the system to choose the bitmap allocation unit. The value of 10 blocks is chosen, because it is the highest common denominator and does not exceed <code class="codeph">MINIMUM EXTENT</code>.
                        </p>
                        <p>The statement to convert <code class="codeph">tbs_1</code> to a locally managed tablespace is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL ('tbs_1');
</pre><p>If you choose to specify an allocation unit size, it must be a factor of the unit size calculated by the system.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-D6D25640-D278-4379-A502-6BCA3FC7C12D" title="Oracle Database includes aids for correcting problems with locally managed tablespaces.">Correcting Problems with Locally Managed Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11393"></a><div class="props_rev_3"><a id="GUID-C961302C-E712-48C2-A938-2509DB4404ED" name="GUID-C961302C-E712-48C2-A938-2509DB4404ED"></a><h3 id="ADMIN-GUID-C961302C-E712-48C2-A938-2509DB4404ED" class="sect3"><span class="enumeration_section">13.14 </span>Migrating the SYSTEM Tablespace to a Locally Managed Tablespace
               </h3>
               <div>
                  <p>Use the <code class="codeph">DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL</code> procedure to migrate the <code class="codeph">SYSTEM</code> tablespace from dictionary-managed to locally managed.
                  </p>
                  <div class="section">
                     <p>Before performing the migration the following conditions must be met:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>The database has a default temporary tablespace that is not <code class="codeph">SYSTEM.</code></p>
                        </li>
                        <li>
                           <p>There are no rollback segments in the dictionary-managed tablespace.</p>
                        </li>
                        <li>
                           <p>There is at least one online rollback segment in a locally managed tablespace, or if using automatic undo management, an undo tablespace is online.</p>
                        </li>
                        <li>
                           <p>All tablespaces other than the tablespace containing the undo space (that is, the tablespace containing the rollback segment or the undo tablespace) are in read-only mode.</p>
                        </li>
                        <li>
                           <p>The <code class="codeph">SYSAUX</code> tablespace is offline.
                           </p>
                        </li>
                        <li>
                           <p>The system is in restricted mode.</p>
                        </li>
                        <li>
                           <p>There is a cold backup of the database.</p>
                        </li>
                     </ul>
                     <p>All of these conditions, except for the cold backup, are enforced by the <code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code> procedure.
                     </p>
                     <p>The following statement performs the migration:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL('SYSTEM');
</pre><div class="infoboxnote" id="GUID-C961302C-E712-48C2-A938-2509DB4404ED__GUID-3602ADE7-36CC-43AA-9911-9966AD732683">
                        <p class="notep1">Note:</p>
                        <p>After the <code class="codeph">SYSTEM</code> tablespace is migrated to locally managed, any dictionary-managed tablespaces in the database cannot be made read/write. If you want to use the dictionary-managed tablespaces in read/write mode, then Oracle recommends that you first migrate these tablespaces to locally managed before migrating the <code class="codeph">SYSTEM</code> tablespace.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" name="GUID-638D5411-5C88-40C8-A888-3D9B21A551D1"></a><h3 id="ADMIN-GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" class="sect3"><span class="enumeration_section">13.15 </span>Viewing Information About Tablespaces
               </h3>
               <p>Oracle Database includes data dictionary views that you can query for information about tablespaces.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-BA500061-FEFF-4904-994B-89C015A80E7B">Tablespace Data Dictionary Views</a><br>The following data dictionary and dynamic performance views provide useful information about the tablespaces of a database.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526">Example 1: Listing Tablespaces and Default Storage Parameters</a><br>You can query the <code class="codeph">DBA_TABLESPACES</code> view to list the names and default storage parameters.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695">Example 2: Listing the Data Files and Associated Tablespaces of a Database</a><br>You can query the <code class="codeph">DBA_DATA_FILES</code> view to list the names, sizes, and associated tablespaces of a database.
                     </li>
                     <li class="ulchildlink"><a href="managing-tablespaces.html#GUID-668EAC02-F586-4B92-9768-605F71A93461">Example 3: Displaying Statistics for Free Space (Extents) of Each Tablespace</a><br>You can query the <code class="codeph">DBA_FREE_SPACE</code> view to display statistics about free extents and coalescing activity for each tablespace in the database.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces.">Managing Tablespaces</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11410"></a><div class="props_rev_3"><a id="GUID-BA500061-FEFF-4904-994B-89C015A80E7B" name="GUID-BA500061-FEFF-4904-994B-89C015A80E7B"></a><h4 id="ADMIN-GUID-BA500061-FEFF-4904-994B-89C015A80E7B" class="sect4"><span class="enumeration_section">13.15.1 </span>Tablespace Data Dictionary Views
                  </h4>
                  <div>
                     <p>The following data dictionary and dynamic performance views provide useful information about the tablespaces of a database.</p>
                     <div class="section">
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BA500061-FEFF-4904-994B-89C015A80E7B__GUID-9E32DF55-838E-4910-9CE1-B21E92C64743">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the views that are used to contain information about the tablespaces of the database. Column 1 lists the view, column 2 describes each view." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d141174e7571">View</th>
                                 <th align="left" valign="bottom" width="63%" id="d141174e7574">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7579" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TABLESPACE.html#REFRN30277" target="_blank">V$TABLESPACE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7579 d141174e7574 ">
                                    <p>Name and number of all tablespaces from the control file.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7590" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-ENCRYPTED_TABLESPACES.html#REFRN30496" target="_blank">V$ENCRYPTED_TABLESPACES</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7590 d141174e7574 ">
                                    <p>Name and encryption algorithm of all encrypted tablespaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7600" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_TABLESPACES.html#REFRN23287" target="_blank">DBA_TABLESPACES</a></code>, <code class="codeph"><a href="../refrn/USER_TABLESPACES.html#REFRN26287" target="_blank">USER_TABLESPACES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7600 d141174e7574 ">
                                    <p>Descriptions of all (or user accessible) tablespaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7616" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_TABLESPACE_GROUPS.html#REFRN23377" target="_blank">DBA_TABLESPACE_GROUPS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7616 d141174e7574 ">
                                    <p>Displays the tablespace groups and the tablespaces that belong to them.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7627" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_SEGMENTS.html#REFRN23243" target="_blank">DBA_SEGMENTS</a></code>, <code class="codeph"><a href="../refrn/USER_SEGMENTS.html#REFRN26243" target="_blank">USER_SEGMENTS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7627 d141174e7574 ">
                                    <p>Information about segments within all (or user accessible) tablespaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7643" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_EXTENTS.html#REFRN23072" target="_blank">DBA_EXTENTS</a></code>, <code class="codeph"><a href="../refrn/USER_EXTENTS.html#REFRN26072" target="_blank">USER_EXTENTS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7643 d141174e7574 ">
                                    <p>Information about data extents within all (or user accessible) tablespaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7659" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_FREE_SPACE.html#REFRN23076" target="_blank">DBA_FREE_SPACE</a></code>, <code class="codeph"><a href="../refrn/USER_FREE_SPACE.html#REFRN26076" target="_blank">USER_FREE_SPACE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7659 d141174e7574 ">
                                    <p>Information about free extents within all (or user accessible) tablespaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7675" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23627" target="_blank">DBA_TEMP_FREE_SPACE</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7675 d141174e7574 ">
                                    <p>Displays the total allocated and free space in each temporary tablespace.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7685" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30050" target="_blank">V$DATAFILE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7685 d141174e7574 ">
                                    <p>Information about all data files, including tablespace number of owning tablespace.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7696" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMPFILE.html#REFRN30283" target="_blank">V$TEMPFILE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7696 d141174e7574 ">
                                    <p>Information about all temp files, including tablespace number of owning tablespace.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7707" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23049" target="_blank">DBA_DATA_FILES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7707 d141174e7574 ">
                                    <p>Shows files (data files) belonging to tablespaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7719" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23288" target="_blank">DBA_TEMP_FILES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7719 d141174e7574 ">
                                    <p>Shows files (temp files) belonging to temporary tablespaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7730" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMP_EXTENT_MAP.html#REFRN30279" target="_blank">V$TEMP_EXTENT_MAP</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7730 d141174e7574 ">
                                    <p>Information for all extents in all locally managed temporary tablespaces. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7741" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMP_EXTENT_POOL.html#REFRN30280" target="_blank">V$TEMP_EXTENT_POOL</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7741 d141174e7574 ">
                                    <p>For locally managed temporary tablespaces: the state of temporary space cached and used for by each instance.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7752" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="../refrn/V-TEMP_SPACE_HEADER.html#REFRN30282" target="_blank">V$TEMP_SPACE_HEADER</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7752 d141174e7574 ">
                                    <p>Shows space used/free for each temp file.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7763" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23302" target="_blank">DBA_USERS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7763 d141174e7574 ">
                                    <p>Default and temporary tablespaces for all users.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7773" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23294" target="_blank">DBA_TS_QUOTAS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7773 d141174e7574 ">
                                    <p>Lists tablespace quotas for all users. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7784" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30243" target="_blank">V$SORT_SEGMENT</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7784 d141174e7574 ">
                                    <p>Information about every sort segment in a given instance. The view is only updated when the tablespace is of the <code class="codeph">TEMPORARY</code> type. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d141174e7798" headers="d141174e7571 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30285" target="_blank">V$TEMPSEG_USAGE</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d141174e7798 d141174e7574 ">
                                    <p>Describes temporary (sort) segment usage by user for temporary or permanent tablespaces.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle Database includes data dictionary views that you can query for information about tablespaces.">Viewing Information About Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11411"></a><div class="props_rev_3"><a id="GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526" name="GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526"></a><h4 id="ADMIN-GUID-11CA5E21-97FE-4083-96A9-8F63C28FC526" class="sect4"><span class="enumeration_section">13.15.2 </span>Example 1: Listing Tablespaces and Default Storage Parameters
                  </h4>
                  <div>
                     <p>You can query the <code class="codeph">DBA_TABLESPACES</code> view to list the names and default storage parameters.
                     </p>
                     <div class="section">
                        <p>To list the names and default storage parameters of all tablespaces in a database, use the following query on the <code class="codeph">DBA_TABLESPACES</code> view:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLESPACE_NAME "TABLESPACE",
   INITIAL_EXTENT "INITIAL_EXT",
   NEXT_EXTENT "NEXT_EXT",
   MIN_EXTENTS "MIN_EXT",
   MAX_EXTENTS "MAX_EXT",
   PCT_INCREASE
   FROM DBA_TABLESPACES;

TABLESPACE  INITIAL_EXT  NEXT_EXT  MIN_EXT   MAX_EXT    PCT_INCREASE  
----------  -----------  --------  -------   -------    ------------ 
RBS             1048576   1048576        2        40               0
SYSTEM           106496    106496        1        99               1
TEMP             106496    106496        1        99               0
TESTTBS           57344     16384        2        10               1
USERS             57344     57344        1        99               1</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle Database includes data dictionary views that you can query for information about tablespaces.">Viewing Information About Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11412"></a><div class="props_rev_3"><a id="GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695" name="GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695"></a><h4 id="ADMIN-GUID-26CA2E22-55F3-4FCA-AAB6-53BAA38BB695" class="sect4"><span class="enumeration_section">13.15.3 </span>Example 2: Listing the Data Files and Associated Tablespaces of a Database
                  </h4>
                  <div>
                     <p>You can query the <code class="codeph">DBA_DATA_FILES</code> view to list the names, sizes, and associated tablespaces of a database.
                     </p>
                     <div class="section">
                        <p>To list the names, sizes, and associated tablespaces of a database, enter the following query on the <code class="codeph">DBA_DATA_FILES</code> view:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT  FILE_NAME, BLOCKS, TABLESPACE_NAME
   FROM DBA_DATA_FILES;

FILE_NAME                                      BLOCKS  TABLESPACE_NAME
------------                               ----------  -------------------
/U02/ORACLE/IDDB3/DBF/RBS01.DBF                  1536  RBS
/U02/ORACLE/IDDB3/DBF/SYSTEM01.DBF               6586  SYSTEM
/U02/ORACLE/IDDB3/DBF/TEMP01.DBF                 6400  TEMP
/U02/ORACLE/IDDB3/DBF/TESTTBS01.DBF              6400  TESTTBS
/U02/ORACLE/IDDB3/DBF/USERS01.DBF                 384  USERS</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle Database includes data dictionary views that you can query for information about tablespaces.">Viewing Information About Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11413"></a><div class="props_rev_3"><a id="GUID-668EAC02-F586-4B92-9768-605F71A93461" name="GUID-668EAC02-F586-4B92-9768-605F71A93461"></a><h4 id="ADMIN-GUID-668EAC02-F586-4B92-9768-605F71A93461" class="sect4"><span class="enumeration_section">13.15.4 </span>Example 3: Displaying Statistics for Free Space (Extents) of Each Tablespace
                  </h4>
                  <div>
                     <p>You can query the <code class="codeph">DBA_FREE_SPACE</code>
view to display statistics about free extents and coalescing activity for each tablespace in the database.
                     </p>
                     <div class="section">
                        <p>To produce statistics about free extents and coalescing activity for each tablespace in the database, enter the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT TABLESPACE_NAME "TABLESPACE", FILE_ID,
   COUNT(*)    "PIECES",
   MAX(blocks) "MAXIMUM",
   MIN(blocks) "MINIMUM",
   AVG(blocks) "AVERAGE",
   SUM(blocks) "TOTAL"
   FROM DBA_FREE_SPACE
GROUP BY TABLESPACE_NAME, FILE_ID;

TABLESPACE    FILE_ID  PIECES   MAXIMUM    MINIMUM  AVERAGE    TOTAL
----------    -------  ------   -------    -------  -------   ------
RBS                 2       1       955        955      955      955
SYSTEM              1       1       119        119      119      119
TEMP                4       1      6399       6399     6399     6399
TESTTBS             5       5      6364          3     1278     6390
USERS               3       1       363        363      363      363
</pre><p><code class="codeph">PIECES</code> shows the number of free space extents in the tablespace file, <code class="codeph">MAXIMUM</code> and <code class="codeph">MINIMUM</code> show the largest and smallest contiguous area of space in database blocks, <code class="codeph">AVERAGE</code> shows the average size in blocks of a free space extent, and <code class="codeph">TOTAL</code> shows the amount of free space in each tablespace file in blocks. This query is useful when you are going to create a new object or you know that a segment is about to extend, and you want to ensure that there is enough space in the containing tablespace.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tablespaces.html#GUID-638D5411-5C88-40C8-A888-3D9B21A551D1" title="Oracle Database includes data dictionary views that you can query for information about tablespaces.">Viewing Information About Tablespaces</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>