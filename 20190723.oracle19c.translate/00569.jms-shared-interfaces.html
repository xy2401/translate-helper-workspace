<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Java消息服务共享接口</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="jms-publish-subscribe.html" title="Previous" type="text/html"></link>
      <link rel="next" href="jms-service-types-examples.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-publish-subscribe.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="jms-service-types-examples.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Java消息服务共享接口</li>
            </ol>
            <a id="GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0" name="GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0"></a><a id="ADQUE1500"></a>
            
            <h2 id="ADQUE-GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0" class="sect2"><span class="enumeration_chapter">15</span> Oracle Java消息服务共享接口</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题描述了Oracle数据库高级队列（AQ）的<a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java消息服务</span></a> （JMS）操作界面（共享接口）。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A">Oracle数据库高级队列JMS操作界面：共享接口</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84">指定JMS消息属性</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C">为MessageProducer发送的所有消息设置默认TimeToLive</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-089B194B-5E39-4273-A212-FE12ADB6D583">设置MessageProducer发送的所有邮件的默认优先级</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0">创建AQjms代理</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7">同步接收消息</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB">指定接收消息的导航模式</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8">异步接收消息</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840">获取消息ID</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-689A1530-D438-4D56-B233-BA8DB9686933">获取JMS消息属性</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F">关闭和关闭</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-95C06F4C-3DBD-4526-A858-536189038DBC">故障排除</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3101"></a><div class="props_rev_3"><a id="GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A" name="GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A"></a><h3 id="ADQUE-GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A" class="sect3"><span class="enumeration_section">15.1</span> Oracle数据库高级队列JMS操作界面：共享接口</h3>
               <div>
                  <p>以下主题讨论用于JMS操作的Oracle数据库高级队列共享接口。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-D0313117-87E0-4BEB-A8A1-7C5899555147">启动JMS连接</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0">获取JMS连接</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4">在会话中承诺所有操作</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA">回滚会话中的所有操作</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A">从会话中获取JDBC连接</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5">从JMS连接获取OracleOCIConnectionPool</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1">创建BytesMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226">创建MapMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5">创建StreamMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-834C00DC-6B2F-464A-861A-6972A511954A">创建ObjectMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-C327327E-A0E1-444C-8C11-468B747EAA89">创建TextMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-F540239E-18ED-450A-A630-BA74FB89BE92">创建JMS消息</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB">创建AdtMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD">设置JMS关联标识符</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3102"></a><div class="props_rev_3"><a id="GUID-D0313117-87E0-4BEB-A8A1-7C5899555147" name="GUID-D0313117-87E0-4BEB-A8A1-7C5899555147"></a><h4 id="ADQUE-GUID-D0313117-87E0-4BEB-A8A1-7C5899555147" class="sect4"><span class="enumeration_section">15.1.1</span>启动JMS连接</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void start（）抛出JMSException</pre><p><code class="codeph">AQjmsConnection.start()</code>启动<a href="glossary.html#GUID-D081F8A3-08E7-4621-B4EA-5AFD8BD61745"><span class="xrefglossterm">JMS连接</span></a>以接收消息。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3103"></a><div class="props_rev_3"><a id="GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0" name="GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0"></a><h4 id="ADQUE-GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0" class="sect4"><span class="enumeration_section">15.1.2</span>获取JMS连接</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms。AQjmsConnection getJmsConnection（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.getJmsConnection()</code>从会话中获取JMS连接。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3104"></a><div class="props_rev_3"><a id="GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4" name="GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4"></a><h4 id="ADQUE-GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4" class="sect4"><span class="enumeration_section">15.1.3</span>在会话中承诺所有操作</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void commit（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.commit()</code>提交在会话中执行的所有JMS和SQL操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3105"></a><div class="props_rev_3"><a id="GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA" name="GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA"></a><h4 id="ADQUE-GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA" class="sect4"><span class="enumeration_section">15.1.4</span>回滚会话中的所有操作</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void rollback（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.rollback()</code>终止会话中执行的所有JMS和SQL操作。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3107"></a><a id="ADQUE3106"></a><div class="props_rev_3"><a id="GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A" name="GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A"></a><h4 id="ADQUE-GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A" class="sect4"><span class="enumeration_section">15.1.5</span>从会话中获取JDBC连接</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.sql。连接getDBConnection（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.getDBConnection()</code>从<a href="glossary.html#GUID-F7331CE7-BF82-4FA0-81B3-42D454068F03"><span class="xrefglossterm">JMS会话中</span></a>获取基础JDBC连接。JDBC连接可用于执行SQL操作，作为完成JMS操作的同一事务的一部分。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A__GUID-65A92657-90B0-42FA-BB58-0DECB6294A39">
                        <p class="titleinexample">示例15-1从JMS会话获取基础JDBC连接</p><pre class="oac_no_warn" dir="ltr">java.sql中。连接db_conn; QueueSession jms_sess; db_conn =（（AQjmsSession）jms_sess）。getDBConnection（）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3109"></a><a id="ADQUE3108"></a><div class="props_rev_3"><a id="GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5" name="GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5"></a><h4 id="ADQUE-GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5" class="sect4"><span class="enumeration_section">15.1.6</span>从JMS连接获取OracleOCIConnectionPool</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jdbc.pool。OracleOCIConnectionPool getOCIConnectionPool（）</pre><p><code class="codeph">AQjmsConnection.getOCIConnectionPool()</code>得到的底层<code class="codeph">OracleOCIConnectionPool</code>从JMS连接。用户可以根据连接使用情况调整<code class="codeph">OracleOCIConnectionPool</code>实例的设置，例如，用户希望使用给定连接创建的会话数。但是，用户不应关闭JMS连接使用的<code class="codeph">OracleOCIConnectionPool</code>实例。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5__GUID-1B6605B6-8879-408E-B94F-753E5AC45535">
                        <p class="titleinexample">示例15-2从JMS连接获取底层OracleOCIConnectionPool</p><pre class="oac_no_warn" dir="ltr">oracle.jdbc.pool。OracleOCIConnectionPool cpool; QueueConnection jms_conn; cpool =（（AQjmsConnection）jms_conn）。getOCIConnectionPool（）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3110"></a><div class="props_rev_3"><a id="GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1" name="GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1"></a><h4 id="ADQUE-GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1" class="sect4"><span class="enumeration_section">15.1.7</span>创建BytesMessage</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。BytesMessage createBytesMessage（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.createBytesMessage()</code>创建一个字节<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a> 。它只有在使用<a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">队列表</span></a>包含目标<a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">队列</span></a> /主题是与创建<code class="codeph">SYS.AQ$_JMS_BYTES_MESSAGE</code>或<code class="codeph">AQ$_JMS_MESSAGE</code>负载类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3111"></a><div class="props_rev_3"><a id="GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226" name="GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226"></a><h4 id="ADQUE-GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226" class="sect4"><span class="enumeration_section">15.1.8</span>创建<span class="enumeration_section">MapMessage</span></h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。MapMessage createMapMessage（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.createMapMessage()</code>创建一个地图消息。仅当使用<code class="codeph">SYS.AQ$_JMS_MAP_MESSAGE</code>或<code class="codeph">AQ$_JMS_MESSAGE</code>有效内容类型创建包含目标队列/主题的队列表时，才能使用它。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3112"></a><div class="props_rev_3"><a id="GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5" name="GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5"></a><h4 id="ADQUE-GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5" class="sect4"><span class="enumeration_section">15.1.9</span>创建StreamMessage</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。StreamMessage createStreamMessage（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.createStreamMessage()</code>创建流消息。仅当使用<code class="codeph">SYS.AQ$_JMS_STREAM_MESSAGE</code>或<code class="codeph">AQ$_JMS_MESSAGE</code>有效内容类型创建包含目标队列/主题的队列表时，才能使用它。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3113"></a><div class="props_rev_3"><a id="GUID-834C00DC-6B2F-464A-861A-6972A511954A" name="GUID-834C00DC-6B2F-464A-861A-6972A511954A"></a><h4 id="ADQUE-GUID-834C00DC-6B2F-464A-861A-6972A511954A" class="sect4"><span class="enumeration_section">15.1.10</span>创建ObjectMessage</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。ObjectMessage createObjectMessage（java.io。Serializable object）抛出JMSException</pre><p><code class="codeph">AQjmsSession.createObjectMessage()</code>创建一个对象消息。它只能如果包含目标队列/主题队列表与创建使用<code class="codeph">SYS.AQ$_JMS_OBJECT_MESSAGE</code>或<code class="codeph">AQ$_JMS_MESSAGE</code>负载类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3114"></a><div class="props_rev_3"><a id="GUID-C327327E-A0E1-444C-8C11-468B747EAA89" name="GUID-C327327E-A0E1-444C-8C11-468B747EAA89"></a><h4 id="ADQUE-GUID-C327327E-A0E1-444C-8C11-468B747EAA89" class="sect4"><span class="enumeration_section">15.1.11</span>创建TextMessage</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。TextMessage createTextMessage（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.createTextMessage()</code>创建一条文本消息。仅当使用<code class="codeph">SYS.AQ$_JMS_TEXT_MESSAGE</code>或<code class="codeph">AQ$_JMS_MESSAGE</code>有效内容类型创建包含目标队列/主题的队列表时，才能使用它。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3115"></a><div class="props_rev_3"><a id="GUID-F540239E-18ED-450A-A630-BA74FB89BE92" name="GUID-F540239E-18ED-450A-A630-BA74FB89BE92"></a><h4 id="ADQUE-GUID-F540239E-18ED-450A-A630-BA74FB89BE92" class="sect4"><span class="enumeration_section">15.1.12</span>创建JMS消息</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。消息createMessage（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.createMessage()</code>创建<a href="glossary.html#GUID-94D9662C-2A02-4DFC-BFEC-684F85CE4186"><span class="xrefglossterm">JMS消息</span></a> 。您可以使用<code class="codeph">AQ$_JMS_MESSAGE</code>构造消息来构造不同类型的消息。消息类型必须是以下之一：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_TEXT_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_OBJECT_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_MAP_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_BYTES_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_STREAM_MESSAGE</code></p>
                           </li>
                        </ul>
                        <p>您还可以使用此ADT创建仅标头JMS消息。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3116"></a><div class="props_rev_3"><a id="GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB" name="GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB"></a><h4 id="ADQUE-GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB" class="sect4"><span class="enumeration_section">15.1.13</span>创建AdtMessage</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms。AdtMessage createAdtMessage（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.createAdtMessage()</code>创建一个<code class="codeph">AdtMessage</code> 。仅当包含队列/主题的队列表是使用Oracle ADT有效内容类型创建的时，才能使用它。必须使用实现<code class="codeph">CustomDatum</code>接口的对象填充<code class="codeph">AdtMessage</code> 。此对象必须是定义为队列/主题的有效内容的SQL ADT的Java映射。可以使用Jpublisher工具生成与SQL ADT类型对应的Java类。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3117"></a><div class="props_rev_3"><a id="GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD" name="GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD"></a><h4 id="ADQUE-GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD" class="sect4"><span class="enumeration_section">15.1.14</span>设置JMS关联标识符</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setJMSCorrelationID（java.lang。String correlationID）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setJMSCorrelationID()</code>指定消息相关标识符。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3118"></a><div class="props_rev_3"><a id="GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84" name="GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84"></a><h3 id="ADQUE-GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84" class="sect3"><span class="enumeration_section">15.2</span>指定JMS消息属性</h3>
               <div>
                  <p>以JMS开头的属性名称是特定于提供者的。用户定义的属性不能以JMS开头。</p>
                  <p>客户端可以使用文本，流，对象，字节或映射消息设置以下提供程序属性：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">JMSXAppID（字符串）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">JMSXGroupID（字符串）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">JMSXGroupSeq（int）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">JMS_OracleExcpQ（string）</code></p>
                        <p>此消息属性指定<a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">异常队列</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">JMS_OracleDelay（int）</code></p>
                        <p>此消息属性指定消息延迟（以秒为单位）。</p>
                     </li>
                  </ul>
                  <p>可以在<code class="codeph">AdtMessage</code>上设置以下属性</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">JMS_OracleExcpQ（String）</code> 
                        </p>
                        <p>此消息属性将异常队列指定为“ <span class="italic"><code class="codeph">schema</code></span> <code class="codeph">.queue_name</code> ”</p>
                     </li>
                     <li>
                        <p><code class="codeph">JMS_OracleDelay（int）</code></p>
                        <p>此消息属性指定消息延迟（以秒为单位）。</p>
                     </li>
                  </ul>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8">设置布尔消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5">设置字符串消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4">设置整数消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D">设置双消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-4187902D-ABB9-419E-B60F-B16A99F93264">设置浮动消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC">设置字节消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-2376F7DB-1314-4A22-9022-7D31708EF656">设置长消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F">设置短消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E">获取对象消息属性</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3119"></a><div class="props_rev_3"><a id="GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8" name="GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8"></a><h4 id="ADQUE-GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8" class="sect4"><span class="enumeration_section">15.2.1</span>设置布尔消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setBooleanProperty（java.lang。String name，boolean value）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setBooleanProperty()</code>将消息属性指定为Boolean。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8__GUID-4C432C55-F86E-4A44-BAB6-991E31550A7A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1491">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1494">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1499" headers="d95093e1491 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1499 d95093e1494 ">
                                       <p>布尔属性的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1507" headers="d95093e1491 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1507 d95093e1494 ">
                                       <p>要在消息中设置的布尔属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3120"></a><div class="props_rev_3"><a id="GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5" name="GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5"></a><h4 id="ADQUE-GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5" class="sect4"><span class="enumeration_section">15.2.2</span>设置字符串消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setStringProperty（java.lang。字符串名称，java.lang。字符串值）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setStringProperty()</code>将消息属性指定为字符串。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5__GUID-A9436C5B-44EF-4519-8429-2FDD3E4E25F3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1582">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1585">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1590" headers="d95093e1582 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1590 d95093e1585 ">
                                       <p>字符串属性的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1598" headers="d95093e1582 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1598 d95093e1585 ">
                                       <p>要在消息中设置的字符串属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3121"></a><div class="props_rev_3"><a id="GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4" name="GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4"></a><h4 id="ADQUE-GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4" class="sect4"><span class="enumeration_section">15.2.3</span>设置整数消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setIntProperty（java.lang。String name，int value）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setIntProperty()</code>将消息属性指定为整数。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4__GUID-C9CFA01E-28BF-492D-B75E-F063F76F6F77">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1674">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1677">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1682" headers="d95093e1674 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1682 d95093e1677 ">
                                       <p>整数属性的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1690" headers="d95093e1674 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1690 d95093e1677 ">
                                       <p>要在消息中设置的整数属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3122"></a><div class="props_rev_3"><a id="GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D" name="GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D"></a><h4 id="ADQUE-GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D" class="sect4"><span class="enumeration_section">15.2.4</span>设置双消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setDoubleProperty（java.lang。String name，double value）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setDoubleProperty()</code>将消息属性指定为double。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D__GUID-9C3E0DD1-A5B9-4483-8B19-7CCCE348C3CE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1765">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1768">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1773" headers="d95093e1765 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1773 d95093e1768 ">
                                       <p>双重财产的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1781" headers="d95093e1765 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1781 d95093e1768 ">
                                       <p>要在消息中设置的双属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3123"></a><div class="props_rev_3"><a id="GUID-4187902D-ABB9-419E-B60F-B16A99F93264" name="GUID-4187902D-ABB9-419E-B60F-B16A99F93264"></a><h4 id="ADQUE-GUID-4187902D-ABB9-419E-B60F-B16A99F93264" class="sect4"><span class="enumeration_section">15.2.5</span>设置浮点消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setFloatProperty（java.lang。String name，float value）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setFloatProperty()</code>将消息属性指定为float。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-4187902D-ABB9-419E-B60F-B16A99F93264__GUID-F0290A0C-4196-4111-B0D8-1D57E489F131">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1856">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1859">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1864" headers="d95093e1856 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1864 d95093e1859 ">
                                       <p>float属性的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1872" headers="d95093e1856 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1872 d95093e1859 ">
                                       <p>要在消息中设置的Float属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3124"></a><div class="props_rev_3"><a id="GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC" name="GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC"></a><h4 id="ADQUE-GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC" class="sect4"><span class="enumeration_section">15.2.6</span>设置字节消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setByteProperty（java.lang。字符串名称，字节值）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setByteProperty()</code>将消息属性指定为byte。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC__GUID-84EC2AFF-98FB-4E36-9E52-073325AFA445">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1948">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1951">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1956" headers="d95093e1948 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1956 d95093e1951 ">
                                       <p>byte属性的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1964" headers="d95093e1948 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1964 d95093e1951 ">
                                       <p>要在消息中设置的字节属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3125"></a><div class="props_rev_3"><a id="GUID-2376F7DB-1314-4A22-9022-7D31708EF656" name="GUID-2376F7DB-1314-4A22-9022-7D31708EF656"></a><h4 id="ADQUE-GUID-2376F7DB-1314-4A22-9022-7D31708EF656" class="sect4"><span class="enumeration_section">15.2.7</span>设置长消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setLongProperty（java.lang。字符串名称，长值）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setLongProperty()</code>指定一个消息属性。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-2376F7DB-1314-4A22-9022-7D31708EF656__GUID-0F7CF29B-3D0B-4F27-A532-28CAB7C16426">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2039">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2042">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2047" headers="d95093e2039 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2047 d95093e2042 ">
                                       <p>长物业的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2055" headers="d95093e2039 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2055 d95093e2042 ">
                                       <p>要在消息中设置的长属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3126"></a><div class="props_rev_3"><a id="GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F" name="GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F"></a><h4 id="ADQUE-GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F" class="sect4"><span class="enumeration_section">15.2.8</span>设置短消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setShortProperty（java.lang。字符串名称，短值）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setShortProperty()</code>将消息属性指定为short。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F__GUID-7400AC20-1F24-400D-9226-B15BA2283B0C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2130">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2133">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2138" headers="d95093e2130 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2138 d95093e2133 ">
                                       <p>短期物业的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2146" headers="d95093e2130 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2146 d95093e2133 ">
                                       <p>要在消息中设置的短属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3127"></a><div class="props_rev_3"><a id="GUID-F2000D02-E261-4518-BBD9-58BF156252A8" name="GUID-F2000D02-E261-4518-BBD9-58BF156252A8"></a><h4 id="ADQUE-GUID-F2000D02-E261-4518-BBD9-58BF156252A8" class="sect4"><span class="enumeration_section">15.2.9</span>设置对象消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setObjectProperty（java.lang。字符串名称，java.lang。对象值）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.setObjectProperty()</code>将消息属性指定为对象。仅支持客观化的原始值：Boolean，byte，short，integer，long，float，double和string。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-F2000D02-E261-4518-BBD9-58BF156252A8__GUID-060BB7AB-8B9F-4F87-A171-3F92C9A7FA52">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2222">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2225">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2230" headers="d95093e2222 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2230 d95093e2225 ">
                                       <p>Java对象属性的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2238" headers="d95093e2222 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2238 d95093e2225 ">
                                       <p>要在消息中设置的Java对象属性值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3129"></a><a id="ADQUE3128"></a><div class="props_rev_3"><a id="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C" name="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C"></a><h3 id="ADQUE-GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C" class="sect3"><span class="enumeration_section">15.3</span>设置MessageProducer发送的所有消息的默认TimeToLive</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void setTimeToLive（long timeToLive）抛出JMSException</pre><p>此方法为<code class="codeph">MessageProducer</code>发送的所有消息设置默认<code class="codeph">TimeToLive</code> 。消息延迟生效后计算。此方法具有以下参数：</p>
                     <div class="tblformal" id="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C__GUID-EC4F2740-E5D5-4FBC-866F-F35EA0A7B99F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2329">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2332">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2337" headers="d95093e2329 ">
                                    <p><code class="codeph">传输TimeToLive</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2337 d95093e2332 ">
                                    <p>消息时间以毫秒为单位（零无限制）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C__GUID-D87BDBF8-8913-4C1A-B611-065D03D91886">
                     <p class="titleinexample">示例15-3为MessageProducer发送的所有消息设置默认TimeToLive</p><pre class="oac_no_warn" dir="ltr">/ *为QueueSender * / QueueSender发送方发送的所有邮件的默认timeToLive值设置为100000毫秒; sender.setTimeToLive（100000）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3131"></a><a id="ADQUE3132"></a><a id="ADQUE3130"></a><div class="props_rev_3"><a id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583" name="GUID-089B194B-5E39-4273-A212-FE12ADB6D583"></a><h3 id="ADQUE-GUID-089B194B-5E39-4273-A212-FE12ADB6D583" class="sect3"><span class="enumeration_section">15.4</span>设置MessageProducer发送的所有消息的缺省优先级</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void setPriority（int priority）抛出JMSException</pre><p>此方法为<code class="codeph">MessageProducer</code>发送的所有消息设置默认<code class="codeph">Priority</code> 。它有以下参数：</p>
                     <div class="tblformal" id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583__GUID-D0B8C9A1-2338-4EEF-9972-4A1915C2EA21">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2433">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2436">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2441" headers="d95093e2433 ">
                                    <p><code class="codeph">优先</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2441 d95093e2436 ">
                                    <p>此消息生产者的消息优先级。默认值为4。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>优先级值可以是任何整数。数字越小表示优先级越高。如果在<code class="codeph">send()</code>操作期间显式指定了优先级值，则它将覆盖此方法设置的默认值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583__GUID-C400496F-9789-4976-9BCC-223318E5149E">
                     <p class="titleinexample">示例15-4为QueueSender发送的所有消息设置默认优先级值</p><pre class="oac_no_warn" dir="ltr">/ *为QueueSender * / QueueSender发送方发送的所有消息的默认优先级值设置为2; sender.setPriority（2）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583__GUID-697D9949-1DF2-4E54-8B61-39B8A13F5CAE">
                     <p class="titleinexample">示例15-5为TopicPublisher发送的所有消息设置默认优先级值</p><pre class="oac_no_warn" dir="ltr">/ *为TopicPublisher * / TopicPublisher发布者发送的所有消息的默认优先级值设置为2; publisher.setPriority（1）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3133"></a><div class="props_rev_3"><a id="GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0" name="GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0"></a><h3 id="ADQUE-GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0" class="sect3"><span class="enumeration_section">15.5</span>创建AQjms代理</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void createAQAgent（java.lang。String agent_name，boolean enable_http，抛出JMSException</pre><p>此方法创建<code class="codeph">AQjmsAgent</code> 。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0__GUID-4DC19310-7817-48BC-A148-7EF348553B7F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2538">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2541">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2546" headers="d95093e2538 ">
                                    <p><code class="codeph">代理名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2546 d95093e2541 ">
                                    <p>AQ代理的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2554" headers="d95093e2538 ">
                                    <p><code class="codeph">enable_http</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2554 d95093e2541 ">
                                    <p>如果设置为true，则允许此代理通过HTTP访问AQ</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3134"></a><div class="props_rev_3"><a id="GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7" name="GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7"></a><h3 id="ADQUE-GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7" class="sect3"><span class="enumeration_section">15.6</span>同步接收消息</h3>
               <div>
                  <p>您可以通过指定超时或不等待来同步接收消息。您还可以使用转换接收消息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5C902E7C-5E9D-4550-A546-494A09C8E191">通过指定超时使用消息使用者</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6">在不等待的情况下使用消息使用者</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D">使用转换从目标接收消息</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3136"></a><a id="ADQUE3137"></a><a id="ADQUE3135"></a><div class="props_rev_3"><a id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191" name="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191"></a><h4 id="ADQUE-GUID-5C902E7C-5E9D-4550-A546-494A09C8E191" class="sect4"><span class="enumeration_section">15.6.1</span>通过指定超时使用消息使用者</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。消息接收（长超时）抛出JMSException</pre><p>此方法通过指定超时使用消息<a href="glossary.html#GUID-B9071BDE-395F-4686-B2D2-A1B83F986BCC"><span class="xrefglossterm">使用者</span></a>接收消息。
                        </p>
                        <div class="tblformal" id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191__GUID-0E7207D7-C847-4672-A85E-6BE1EA4A37F0">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2703">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2706">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2711" headers="d95093e2703 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2711 d95093e2706 ">
                                       <p>超时值（以毫秒为单位）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191__GUID-186E4AC3-9145-408B-AC3B-ED40C7B1BD74">
                        <p class="titleinexample">示例15-6通过指定超时来使用消息使用者</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory tc_fact = null; TopicConnection t_conn = null; TopicSession t_sess = null; TopicSession jms_sess;主题shipping_orders; int myport = 5521; / * create connection and session * / tc_fact = AQjmsFactory.getTopicConnectionFactory（“MYHOSTNAME”，“MYSID”，myport，“oci8”）; t_conn = tc_fact.createTopicConnection（“jmstopic”，“jmstopic”）; jms_sess = t_conn.createTopicSession（true，Session。CLIENT_ACKNOWLEDGE）; shipped_orders =（（AQjmsSession）jms_sess）。getTopic（“WS”，“Shipped_Orders_Topic”）; / *创建订阅者，指定正确的CustomDatumFactory和selector * / subscriber1 = jms_sess.createDurableSubscriber（shipped_orders，'WesternShipping'，“priority&gt; 1和tab.user_data.region，如'WESTERN％'”，false，AQjmsAgent.getFactory（） ）; / *接收，如果没有消息则阻塞30秒* / Message = subscriber.receive（30000）;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191__GUID-F2144CBA-972B-4E03-91C4-7C626F24EC32">
                        <p class="titleinexample">例15-7 JMS：阻塞直到消息到来</p><pre class="oac_no_warn" dir="ltr">public BolOrder get_new_order1（QueueSession jms_session）{Queue queue; QueueReceiver qrec; ObjectMessage obj_message; BolCustomer客户; BolOrder new_order = null;字符串状态;尝试{/ *获取new_orders队列的句柄* / queue =（（AQjmsSession）jms_session）.getQueue（“OE”，“OE_neworders_que”）; qrec = jms_session.createReceiver（queue）; / *等待消息显示在队列中* / obj_message =（ObjectMessage）qrec.receive（）; new_order =（BolOrder）obj_message.getObject（）; customer = new_order.getCustomer（）; state = customer.getState（）; System.out.println（“Order：for customer”+ customer.getName（））; } catch（JMSException ex）{System.out.println（“Exception：”+ ex）; } return new_order; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3139"></a><a id="ADQUE3138"></a><div class="props_rev_3"><a id="GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6" name="GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6"></a><h4 id="ADQUE-GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6" class="sect4"><span class="enumeration_section">15.6.2</span>在不等待的情况下使用消息使用者</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。消息receiveNoWait（）抛出JMSException</pre><p>此方法使用消息使用者接收消息而无需等待。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6__GUID-7418F370-5DD9-4A00-8305-675B2DA298CE">
                        <p class="titleinexample">例15-8 JMS：非阻塞消息</p><pre class="oac_no_warn" dir="ltr">public BolOrder poll_new_order3（QueueSession jms_session）{Queue queue; QueueReceiver qrec; ObjectMessage obj_message; BolCustomer客户; BolOrder new_order = null;字符串状态;尝试{/ *获取new_orders队列的句柄* / queue =（（AQjmsSession）jms_session）.getQueue（“OE”，“OE_neworders_que”）; qrec = jms_session.createReceiver（queue）; / *检查队列中显示的消息* / obj_message =（ObjectMessage）qrec.receiveNoWait（）; new_order =（BolOrder）obj_message.getObject（）; customer = new_order.getCustomer（）; state = customer.getState（）; System.out.println（“Order：for customer”+ customer.getName（））; } catch（JMSException ex）{System.out.println（“Exception：”+ ex）; } return new_order; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3141"></a><a id="ADQUE3140"></a><div class="props_rev_3"><a id="GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D" name="GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D"></a><h4 id="ADQUE-GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D" class="sect4"><span class="enumeration_section">15.6.3</span>使用转换从目标接收消息</h4>
                  <div>
                     <div class="section">
                        <p>当从队列或主题接收消息时，可以应用转换。在将消息返回到JMS应用程序之前，将转换应用于消息。</p>
                        <p>可以使用<code class="codeph">AQjmsQueueReceiver</code> ， <code class="codeph">AQjmsTopicSubscriber</code>或<code class="codeph">AQjmsTopicReceiver</code>的<code class="codeph">setTransformation()</code>接口指定转换。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D__GUID-FB871145-147D-4C6F-AB3D-331D8AB2432D">
                        <p class="titleinexample">例15-9 JMS：使用转换从目标接收消息</p>
                        <p>假设Western Shipping应用程序从OE_bookedorders_topic中检索消息。它指定转换<code class="codeph">OE2WS</code>以将消息检索为Oracle对象类型<code class="codeph">WS_order</code> 。假设Jpublisher已生成WSOrder Java类以映射到Oracle对象<code class="codeph">WS.WS_order</code> ：</p><pre class="oac_no_warn" dir="ltr">public AQjmsAdtMessage retrieve_bookedorders（TopicSession jms_session）AQjmsTopicReceiver receiver;主题话题;消息msg = null;尝试{/ *获取OE_bookedorders_topic * / topic =（（AQjmsSession）jms_session）.getTopic（“OE”，“OE_bookedorders_topic”）的句柄; / *为WShip创建接收器* / receiver =（（AQjmsSession）jms_session）。createTopicReceiver（topic，“WShip，null，WSOrder.getFactory（））; / *在发布者* / receiver.setTransformation（”OE2WS“中设置转换“）; msg = receiver.receive（10）;} catch（JMSException ex）{System.out.println（”Exception：“，ex）;} return（AQjmsAdtMessage）msg;}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE3143"></a><a id="ADQUE3142"></a><div class="props_rev_3"><a id="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB" name="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB"></a><h3 id="ADQUE-GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB" class="sect3"><span class="enumeration_section">15.7</span>指定接收消息的导航模式</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void setNavigationMode（int mode）抛出JMSException</pre><p>此方法指定用于接收消息的导航模式。它有以下参数：</p>
                     <div class="tblformal" id="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB__GUID-2E0A524E-7AFC-47C3-8FD3-0F59A4F1DDF4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2967">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2970">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2975" headers="d95093e2967 ">
                                    <p><code class="codeph">模式</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2975 d95093e2970 ">
                                    <p>导航模式的新值</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB__GUID-5A467F2D-0EC2-42D4-94C5-8962F2D39876">
                     <p class="titleinexample">示例15-10指定接收消息的导航模式</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory tc_fact = null; TopicConnection t_conn = null; TopicSession t_sess = null; TopicSession jms_sess;主题shipping_orders; int myport = 5521; / * create connection and session * / tc_fact = AQjmsFactory.getTopicConnectionFactory（“MYHOSTNAME”，“MYSID”，myport，“oci8”）; t_conn = tc_fact.createTopicConnection（“jmstopic”，“jmstopic”）; jms_sess = t_conn.createTopicSession（true，Session。CLIENT_ACKNOWLEDGE）; shipped_orders =（（AQjmsSession）jms_sess）。getTopic（“WS”，“Shipped_Orders_Topic”）; / *创建订阅者，指定正确的CustomDatumFactory和selector * / subscriber1 = jms_sess.createDurableSubscriber（shipped_orders，'WesternShipping'，“priority&gt; 1和tab.user_data.region，如'WESTERN％'”，false，AQjmsAgent.getFactory（） ）; subscriber1.setNavigationMode（AQjmsConstants。NAVIGATION_FIRST_MESSAGE）; / *获取订阅者的消息，如果有nomessage * / Message = subscriber.receive（），则立即返回;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3144"></a><div class="props_rev_3"><a id="GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8" name="GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8"></a><h3 id="ADQUE-GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8" class="sect3"><span class="enumeration_section">15.8</span>异步接收消息</h3>
               <div>
                  <p>您可以通过两种方式异步接收消息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF">在消息使用者处指定消息侦听器</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369">在会话中指定消息侦听器</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3146"></a><a id="ADQUE3145"></a><div class="props_rev_3"><a id="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF" name="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF"></a><h4 id="ADQUE-GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF" class="sect4"><span class="enumeration_section">15.8.1</span>在消息使用者处指定消息侦听器</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setMessageListener（javax.jms。MessageListener myListener）抛出JMSException</pre><p>此方法在消息使用者处指定消息侦听器。它有以下参数：</p>
                        <div class="tblformal" id="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF__GUID-FA557AC7-E52E-484D-AB7A-89558530754C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3114">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3117">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3122" headers="d95093e3114 ">
                                       <p><code class="codeph">myListener的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3122 d95093e3117 ">
                                       <p>设置使用者消息侦听器</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF__GUID-3FC0D9ED-6F31-4201-9622-6E7AE5375CCE">
                        <p class="titleinexample">示例15-11在消息使用者处指定消息侦听器</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory tc_fact = null; TopicConnection t_conn = null; TopicSession t_sess = null; TopicSession jms_sess;主题shipping_orders; int myport = 5521; MessageListener mLis = null; / * create connection and session * / tc_fact = AQjmsFactory.getTopicConnectionFactory（“MYHOSTNAME”，“MYSID”，myport，“oci8”）; t_conn = tc_fact.createTopicConnection（“jmstopic”，“jmstopic”）; jms_sess = t_conn.createTopicSession（true，Session。CLIENT_ACKNOWLEDGE）; shipped_orders =（（AQjmsSession）jms_sess）。getTopic（“WS”，“Shipped_Orders_Topic”）; / *创建订阅者，指定正确的CustomDatumFactory和selector * / subscriber1 = jms_sess.createDurableSubscriber（shipped_orders，'WesternShipping'，“priority&gt; 1和tab.user_data.region，如'WESTERN％'”，false，AQjmsAgent.getFactory（） ）; mLis = new myListener（jms_sess，“foo”）; / *获取订阅者的消息，如果有nomessage * / subscriber.setMessageListener（mLis）则立即返回; myListener类的定义导入oracle。AQ *。 import oracle.jms。*; import javax.jms。*; import java.lang。*; import java.util。*;公共类myListener实现MessageListener {TopicSession mySess; String myName; / * constructor * / myListener（TopicSession t_sess，String t_name）{mySess = t_sess; myName = t_name; public onMessage（Message m）{System.out.println（“Retrieved message with correlation：”|| m.getJMSCorrelationID（））;尝试{/ *提交dequeue * / mySession.commit（）; } catch（java.sql。SQLException e）{System.out.println（“提交时的SQL异常”）; }}}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3147"></a><div class="props_rev_3"><a id="GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369" name="GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369"></a><h4 id="ADQUE-GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369" class="sect4"><span class="enumeration_section">15.8.2</span>在会话中指定消息监听器</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setMessageListener（javax.jms。MessageListener侦听器）抛出JMSException</pre><p>此方法在会话中指定消息侦听器。</p>
                        <div class="tblformal" id="GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369__GUID-486F502D-8DE9-4219-BEA6-900F17719160">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3208">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3211">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3216" headers="d95093e3208 ">
                                       <p><code class="codeph">倾听者</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3216 d95093e3211 ">
                                       <p>与此会话关联的消息侦听器</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3148"></a><div class="props_rev_3"><a id="GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840" name="GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840"></a><h3 id="ADQUE-GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840" class="sect3"><span class="enumeration_section">15.9</span>获取消息ID</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D">获取相关标识符</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED">获取消息标识符</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3149"></a><div class="props_rev_3"><a id="GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D" name="GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D"></a><h4 id="ADQUE-GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D" class="sect4"><span class="enumeration_section">15.9.1</span>获取相关标识符</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang。String getJMSCorrelationID（）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getJMSCorrelationID()</code>获取消息的相关标识符。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3150"></a><div class="props_rev_3"><a id="GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED" name="GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED"></a><h4 id="ADQUE-GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED" class="sect4"><span class="enumeration_section">15.9.2</span>获取消息标识符</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public byte [] getJMSCorrelationIDAsBytes（）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getJMSMessageID()</code>以字节或字符串形式获取消息的消息标识符。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3151"></a><div class="props_rev_3"><a id="GUID-689A1530-D438-4D56-B233-BA8DB9686933" name="GUID-689A1530-D438-4D56-B233-BA8DB9686933"></a><h3 id="ADQUE-GUID-689A1530-D438-4D56-B233-BA8DB9686933" class="sect3"><span class="enumeration_section">15.10</span>获取JMS消息属性</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58">获取布尔消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923">获取字符串消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880">获取整数消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B">获取双重消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C">获取浮动消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5">获取字节消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A">获取长消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E">获取短消息属性</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E">获取对象消息属性</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3152"></a><div class="props_rev_3"><a id="GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58" name="GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58"></a><h4 id="ADQUE-GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58" class="sect4"><span class="enumeration_section">15.10.1</span>获取布尔消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public boolean getBooleanProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getBooleanProperty()</code>获取一个消息属性作为布尔值。它有以下参数：</p>
                        <div class="tblformal" id="GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58__GUID-DCD334F6-3FE6-4906-B0F8-2197ED255E03">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3591">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3594">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3599" headers="d95093e3591 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3599 d95093e3594 ">
                                       <p>布尔属性的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3153"></a><div class="props_rev_3"><a id="GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923" name="GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923"></a><h4 id="ADQUE-GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923" class="sect4"><span class="enumeration_section">15.10.2</span>获取字符串消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang。String getStringProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getStringProperty()</code>以字符串形式获取消息属性。它有以下参数：</p>
                        <div class="tblformal" id="GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923__GUID-73C4C75D-3C32-4A93-A753-DF1A38E897A8">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3674">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3677">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3682" headers="d95093e3674 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3682 d95093e3677 ">
                                       <p>字符串属性的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3154"></a><div class="props_rev_3"><a id="GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880" name="GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880"></a><h4 id="ADQUE-GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880" class="sect4"><span class="enumeration_section">15.10.3</span>获取整数消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public int getIntProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getIntProperty()</code>获取整数的消息属性。它有以下参数：</p>
                        <div class="tblformal" id="GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880__GUID-012ABFE2-A6B9-43E5-B6CD-282B2842F91B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3758">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3761">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3766" headers="d95093e3758 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3766 d95093e3761 ">
                                       <p>整数属性的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3155"></a><div class="props_rev_3"><a id="GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B" name="GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B"></a><h4 id="ADQUE-GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B" class="sect4"><span class="enumeration_section">15.10.4</span>获取双重消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public double getDoubleProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getDoubleProperty()</code>获取一个message属性为double。它有以下参数：</p>
                        <div class="tblformal" id="GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B__GUID-3B2BB174-5971-4F82-B763-C2A7FFE51D1F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3841">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3844">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3849" headers="d95093e3841 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3849 d95093e3844 ">
                                       <p>双重财产的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3156"></a><div class="props_rev_3"><a id="GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C" name="GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C"></a><h4 id="ADQUE-GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C" class="sect4"><span class="enumeration_section">15.10.5</span>获取Float消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public float getFloatProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getFloatProperty()</code>获取一个消息属性为float。它有以下参数：</p>
                        <div class="tblformal" id="GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C__GUID-339628F1-FC76-4323-850E-F7FA32074FAA">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3924">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3927">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3932" headers="d95093e3924 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3932 d95093e3927 ">
                                       <p>float属性的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3157"></a><div class="props_rev_3"><a id="GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5" name="GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5"></a><h4 id="ADQUE-GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5" class="sect4"><span class="enumeration_section">15.10.6</span>获取字节消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public byte getByteProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getByteProperty()</code>以字节形式获取消息属性。它有以下参数：</p>
                        <div class="tblformal" id="GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5__GUID-7888C50D-5A79-4985-997C-EEDB0CF9B77B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4008">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4011">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4016" headers="d95093e4008 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4016 d95093e4011 ">
                                       <p>byte属性的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3158"></a><div class="props_rev_3"><a id="GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A" name="GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A"></a><h4 id="ADQUE-GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A" class="sect4"><span class="enumeration_section">15.10.7</span>获取长消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public long getLongProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getLongProperty()</code>获取消息属性。它有以下参数：</p>
                        <div class="tblformal" id="GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A__GUID-769EA17A-4B3E-49E5-B6DC-D67232064381">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4091">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4094">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4099" headers="d95093e4091 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4099 d95093e4094 ">
                                       <p>长物业的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3159"></a><div class="props_rev_3"><a id="GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E" name="GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E"></a><h4 id="ADQUE-GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E" class="sect4"><span class="enumeration_section">15.10.8</span>获取短消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public short getShortProperty（java.lang。String name）抛出JMSException</pre><p>AQjmsMessage.getShortProperty（）获取一个短消息属性。它有以下参数：</p>
                        <div class="tblformal" id="GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E__GUID-930576CE-35FB-4F8F-A7B4-BE883156BE7A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4172">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4175">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4180" headers="d95093e4172 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4180 d95093e4175 ">
                                       <p>短期物业的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3161"></a><a id="ADQUE3160"></a><div class="props_rev_3"><a id="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E" name="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E"></a><h4 id="ADQUE-GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E" class="sect4"><span class="enumeration_section">15.10.9</span>获取对象消息属性</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang。Object getObjectProperty（java.lang。String name）抛出JMSException</pre><p><code class="codeph">AQjmsMessage.getObjectProperty()</code>获取一个消息属性作为对象。它有以下参数：</p>
                        <div class="tblformal" id="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E__GUID-BE607F32-264D-4611-940B-DFE967A5F975">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4257">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4260">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4265" headers="d95093e4257 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4265 d95093e4260 ">
                                       <p>对象属性的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E__GUID-353002A5-83D8-4540-BA8D-637106510CCB">
                        <p class="titleinexample">示例15-12将消息属性作为对象获取</p><pre class="oac_no_warn" dir="ltr">TextMessage消息; message.getObjectProperty（“empid”，new Integer（1000）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE3162"></a><div class="props_rev_3"><a id="GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F" name="GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F"></a><h3 id="ADQUE-GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F" class="sect3"><span class="enumeration_section">15.11</span>关闭和关闭</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF">关闭MessageProducer</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-362330D1-1AED-4462-B243-C888EA34B40F">关闭消息使用者</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-976B90E5-A12A-4D28-9071-53B675D6D69C">停止JMS连接</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B">关闭JMS会话</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C">关闭JMS连接</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3163"></a><div class="props_rev_3"><a id="GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF" name="GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF"></a><h4 id="ADQUE-GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF" class="sect4"><span class="enumeration_section">15.11.1</span>关闭MessageProducer</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close（）抛出JMSException</pre><p><code class="codeph">AQjmsProducer.close()</code>关闭<code class="codeph">MessageProducer</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3164"></a><div class="props_rev_3"><a id="GUID-362330D1-1AED-4462-B243-C888EA34B40F" name="GUID-362330D1-1AED-4462-B243-C888EA34B40F"></a><h4 id="ADQUE-GUID-362330D1-1AED-4462-B243-C888EA34B40F" class="sect4"><span class="enumeration_section">15.11.2</span>关闭消息使用者</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close（）抛出JMSException</pre><p><code class="codeph">AQjmsConsumer.close()</code>关闭消息使用者。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3165"></a><div class="props_rev_3"><a id="GUID-976B90E5-A12A-4D28-9071-53B675D6D69C" name="GUID-976B90E5-A12A-4D28-9071-53B675D6D69C"></a><h4 id="ADQUE-GUID-976B90E5-A12A-4D28-9071-53B675D6D69C" class="sect4"><span class="enumeration_section">15.11.3</span>停止JMS连接</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void stop（）抛出JMSException</pre><p><code class="codeph">AQjmsConnection.stop()</code>停止JMS连接。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3166"></a><div class="props_rev_3"><a id="GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B" name="GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B"></a><h4 id="ADQUE-GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B" class="sect4"><span class="enumeration_section">15.11.4</span>关闭JMS会话</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close（）抛出JMSException</pre><p><code class="codeph">AQjmsSession.close()</code>关闭JMS会话。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3167"></a><div class="props_rev_3"><a id="GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C" name="GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C"></a><h4 id="ADQUE-GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C" class="sect4"><span class="enumeration_section">15.11.5</span>关闭JMS连接</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close（）抛出JMSException</pre><p><code class="codeph">AQjmsConnection.close()</code>关闭JMS连接并释放代表连接分配的所有资源。由于JMS提供程序通常代表连接在JVM外部分配大量资源，因此客户端应在不需要时关闭它们。依靠垃圾收集来最终收回这些资源可能不够及时。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3168"></a><div class="props_rev_3"><a id="GUID-95C06F4C-3DBD-4526-A858-536189038DBC" name="GUID-95C06F4C-3DBD-4526-A858-536189038DBC"></a><h3 id="ADQUE-GUID-95C06F4C-3DBD-4526-A858-536189038DBC" class="sect3"><span class="enumeration_section">15.12</span>故障排除</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB">获取JMS错误代码</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-AF336891-3787-4038-85D5-E7186177116A">获取JMS错误号</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C">获取与JMS异常相关的异常</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B">打印堆栈跟踪以获取JMS异常</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF">设置异常监听器</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8A158303-135A-4630-81DF-E1BDC28CC23A">获得异常监听器</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3169"></a><div class="props_rev_3"><a id="GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB" name="GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB"></a><h4 id="ADQUE-GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB" class="sect4"><span class="enumeration_section">15.12.1</span>获取JMS错误代码</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang。String getErrorCode（）</pre><p><code class="codeph">AQjmsException.getErrorCode()</code>获取JMS异常的错误代码。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3170"></a><div class="props_rev_3"><a id="GUID-AF336891-3787-4038-85D5-E7186177116A" name="GUID-AF336891-3787-4038-85D5-E7186177116A"></a><h4 id="ADQUE-GUID-AF336891-3787-4038-85D5-E7186177116A" class="sect4"><span class="enumeration_section">15.12.2</span>获取JMS错误号</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public int getErrorNumber（）</pre><p><code class="codeph">AQjmsException.getErrorNumber()</code>获取JMS异常的错误号。
                        </p>
                        <div class="infoboxnote" id="GUID-AF336891-3787-4038-85D5-E7186177116A__GUID-AE9EAE63-6D54-422A-85F1-E5103D421997">
                           <p class="notep1">注意：</p>
                           <p>此方法将在以后的版本中弃用。请改用<code class="codeph">getErrorCode()</code> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3171"></a><div class="props_rev_3"><a id="GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C" name="GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C"></a><h4 id="ADQUE-GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C" class="sect4"><span class="enumeration_section">15.12.3</span>获取与JMS异常相关的异常</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang。String getLinkString（）</pre><p><code class="codeph">AQjmsException.getLinkString()</code>获取链接到JMS异常的异常。通常，它包含数据库引发的SQL异常。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3172"></a><div class="props_rev_3"><a id="GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B" name="GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B"></a><h4 id="ADQUE-GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B" class="sect4"><span class="enumeration_section">15.12.4</span>打印JMS异常的堆栈跟踪</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void printStackTrace（java.io。PrintStream s）</pre><p><code class="codeph">AQjmsException.printStackTrace()</code>打印JMS异常的堆栈跟踪。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3174"></a><a id="ADQUE3173"></a><div class="props_rev_3"><a id="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF" name="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF"></a><h4 id="ADQUE-GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF" class="sect4"><span class="enumeration_section">15.12.5</span>设置异常监听器</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setExceptionListener（javax.jms。ExceptionListener侦听器）抛出JMSException</pre><p><code class="codeph">AQjmsConnection.setExceptionListener()</code>指定连接的异常侦听器。它有以下参数：</p>
                        <div class="tblformal" id="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF__GUID-EE7D1B37-6CF7-4162-B758-1A877BE944B3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e5065">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e5068">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e5073" headers="d95093e5065 ">
                                       <p><code class="codeph">倾听者</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e5073 d95093e5068 ">
                                       <p>异常监听器</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果已注册异常侦听器，则会通知它检测到任何连接的严重问题。这是通过调用侦听器<code class="codeph">onException()</code>方法，向其传递描述问题的JMS异常来实现的。这允许异步通知JMS客户端问题。有些连接只消耗消息，因此没有其他方法可以学习连接失败。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF__GUID-E1055E41-E9EE-43C2-9695-D5D83682E093">
                        <p class="titleinexample">示例15-13为连接指定异常侦听器</p><pre class="oac_no_warn" dir="ltr">//注册异常监听器连接jms_connection; jms_connection.setExceptionListener（new ExceptionListener（）{public void onException（JMSException jmsException）{System.out.println（“JMS-EXCEPTION：”+ jmsException.toString（））;}};）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3691"></a><a id="ADQUE3176"></a><a id="ADQUE3175"></a><div class="props_rev_3"><a id="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A" name="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A"></a><h4 id="ADQUE-GUID-8A158303-135A-4630-81DF-E1BDC28CC23A" class="sect4"><span class="enumeration_section">15.12.6</span>获取异常监听器</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。ExceptionListener getExceptionListener（）抛出JMSException</pre><p><code class="codeph">AQjmsConnection.getExceptionListener()</code>获取连接的异常侦听器。
                        </p>
                        <p><a href="jms-shared-interfaces.html#GUID-8A158303-135A-4630-81DF-E1BDC28CC23A__CHDIDGIB">例15-14</a>演示了如何将<code class="codeph">ExceptionListener</code>与<code class="codeph">MessageListener</code>一起使用。确保满足以下条件：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>具有密码<code class="codeph">jmsuser</code>的用户<code class="codeph">jmsuser</code>在数据库中创建，具有适当的权限。
                              </p>
                           </li>
                           <li>
                              <p>队列<code class="codeph">demoQueue</code>已创建并启动。
                              </p>
                           </li>
                        </ul>
                        <p>此示例演示如何使MessageListener异步接收消息，其中异常侦听器在重新启动连接时重新创建JMS对象。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A__CHDIDGIB">
                        <p class="titleinexample">示例15-14将ExceptionListener与MessageListener一起使用</p><pre class="oac_no_warn" dir="ltr">import java.util。列举; import java.util。性能; import javax.jms。连接; import javax.jms。的JMSException; import javax.jms。信息; import javax.jms。的MessageConsumer; import javax.jms。的MessageProducer; import javax.jms。队列; import javax.jms。QueueBrowser; import javax.jms。会议; import javax.jms。TextMessage的; import oracle.jms。AQjmsConnectionFactory; import oracle.jms。AQjmsFactory; import oracle.jms。AQjmsSession; public class JMSDemo {static String queueName =“demoQueue”; static String queueOwner =“jmsuser”; static String queueOwnerPassword =“jmsuser”; static Connection connection = null; static int numberOfMessages = 25000; static int messageCount = 0; static String jdbcURL =“”; public static void main（String args []）{try {jdbcURL = System.getProperty（“JDBC_URL”）; if（jdbcURL == null）System.out .println（“系统属性JDBC_URL尚未设置，”+“用法：java -DJDBC_URL = xxx filename”）; else {JMSDemo demo = new JMSDemo（）; demo.performJmsOperations（）; catch（异常异常）{System.out.println（“Exception：”+ exception）; exception.printStackTrace（）; } finally {try {if（连接！= null）connection.close（）; } catch（Exception exc）{exc.printStackTrace（）; System.out.println（“\ n End of Demo aqjmsdemo11。”）; public void performJmsOperations（）{try {connection = getConnection（jdbcURL）; Session session = connection.createSession（false，Session。AUTO_ACKNOWLEDGE）;队列队列= session.createQueue（queueName）; //从队列drainQueue中删除消息（queueName，queueOwner，jdbcURL，true）; //在Connection连接上设置异常监听器.setExceptionListener（new DemoExceptionListener（））; MessageProducer producer = session.createProducer（queue）; TextMessage textMessage = null; System.out.println（“发送”+ numberOfMessages +“消息到队列”+ queueName）; for（int i = 0; i &lt;numberOfMessages; i ++）{textMessage = session.createTextMessage（）; textMessage.setText（“示例消息文本”）; producer.send（文字信息）; MessageConsumer consumer = session.createConsumer（queue）; System.out.println（“设置消息监听器......”）; consumer.setMessageListener（new DemoMessageListener（））; connection.start（）; //引入一个漫长的等待以允许侦听器接收所有消息（messageCount &lt;numberOfMessages）{try {Thread.sleep（5000）; } catch（InterruptedException interruptedException）{}}} catch（JMSException jmsException）{jmsException.printStackTrace（）; //示例消息侦听器静态类DemoMessageListener实现javax.jms。MessageListener {public void onMessage（Message message）{try {System.out.println（“Message listener received Message with JMSMessageID”+ message.getJMSMessageID（））; messageCount ++; } catch（JMSException jmsException）{System.out.println（“JMSException”+ jmsException.getMessage（））;示例异常监听器静态类DemoExceptionListener实现javax.jms。ExceptionListener {public void onException（JMSException jmsException）{try {//作为第一步关闭连接if（连接！= null）connection.close（）; } catch（JMSException异常）{} try {System.out.println（“重新创建必要的JMS对象......”）; connection = getConnection（jdbcURL）; connection.start（）; Session session = connection.createSession（false，Session。AUTO_ACKNOWLEDGE）;队列队列= session.createQueue（queueName）; MessageConsumer consumer = session.createConsumer（queue）; consumer.setMessageListener（new DemoMessageListener（））; } catch（JMSException newJmsException）{newJmsException.printStackTrace（）; //获取连接的实用方法static Connection getConnection（String jdbcUrl）throws JMSException {Properties prop = new Properties（）; prop.put（“user”，queueOwner）; prop.put（“password”，queueOwnerPassword）; AQjmsConnectionFactory fact =（AQjmsConnectionFactory）AQjmsFactory .getConnectionFactory（jdbcUrl，prop）; Connection conn = fact.createConnection（）;返回; //从队列中删除消息的实用方法static void drainQueue（String queueName，String queueOwner，String jdbcUrl，boolean debugInfo）{Connection connection = null;会话会话= null; long timeout = 10000; int count = 0;消息消息= null; try {connection = getConnection（jdbcUrl）; connection.start（）; session = connection.createSession（false，Session。AUTO_ACKNOWLEDGE）;队列队列=（（AQjmsSession）session）.getQueue（queueOwner，queueName）; MessageConsumer messageConsumer = session.createConsumer（queue）; QueueBrowser browser = session.createBrowser（queue）; Enumeration enumeration = browser.getEnumeration（）; if（enumeration.hasMoreElements（））{while（（message = messageConsumer.receive（timeout））！= null）{if（debugInfo）{count ++; messageConsumer.close（）; if（debugInfo）{System.out.println（“Removed”+ count +“来自队列的消息：”+ queueName）; catch（JMSException jmsException）{jmsException.printStackTrace（）; } finally {try {if（session！）= null）session.close（）;如果（连接！= null）connection.close（）; } catch（异常异常）{}}}}</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A__GUID-6BBC1428-56F3-49A3-B999-73902396597B">
                        <p class="titleinexample">示例15-15获取连接的异常侦听器</p><pre class="oac_no_warn" dir="ltr">//获取异常监听器Connection jms_connection; ExceptionListener el = jms_connection.getExceptionListener（）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>