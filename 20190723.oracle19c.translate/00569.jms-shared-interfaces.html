<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Java Message Service Shared Interfaces</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="jms-publish-subscribe.html" title="Previous" type="text/html">
      <link rel="next" href="jms-service-types-examples.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-publish-subscribe.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="jms-service-types-examples.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Java Message Service Shared Interfaces</li>
            </ol>
            <a id="GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0" name="GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0"></a><a id="ADQUE1500"></a>
            
            <h2 id="ADQUE-GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0" class="sect2"><span class="enumeration_chapter">15 </span> Oracle Java Message Service Shared Interfaces
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe the <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java Message Service</span></a> (JMS) operational interface (shared interfaces) to Oracle Database Advanced Queuing (AQ).
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A">Oracle Database Advanced Queuing JMS Operational Interface: Shared Interfaces</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84">Specifying JMS Message Properties</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C">Setting Default TimeToLive for All Messages Sent by a MessageProducer</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-089B194B-5E39-4273-A212-FE12ADB6D583">Setting Default Priority for All Messages Sent by a MessageProducer</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0">Creating an AQjms Agent</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7">Receiving a Message Synchronously</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB">Specifying the Navigation Mode for Receiving Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8">Receiving a Message Asynchronously</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840">Getting Message ID</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-689A1530-D438-4D56-B233-BA8DB9686933">Getting JMS Message Properties</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F">Closing and Shutting Down</a></p>
                  </li>
                  <li>
                     <p><a href="jms-shared-interfaces.html#GUID-95C06F4C-3DBD-4526-A858-536189038DBC">Troubleshooting</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3101"></a><div class="props_rev_3"><a id="GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A" name="GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A"></a><h3 id="ADQUE-GUID-E4B9D32D-B812-43EB-92D4-D2903858EC5A" class="sect3"><span class="enumeration_section">15.1 </span>Oracle Database Advanced Queuing JMS Operational Interface: Shared Interfaces
               </h3>
               <div>
                  <p>The following topics discuss Oracle Database Advanced Queuing shared interfaces for JMS operations.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-D0313117-87E0-4BEB-A8A1-7C5899555147">Starting a JMS Connection</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0">Getting a JMS Connection</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4">Committing All Operations in a Session</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA">Rolling Back All Operations in a Session</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A">Getting the JDBC Connection from a Session</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5">Getting the OracleOCIConnectionPool from a JMS Connection</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1">Creating a BytesMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226">Creating a MapMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5">Creating a StreamMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-834C00DC-6B2F-464A-861A-6972A511954A">Creating an ObjectMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-C327327E-A0E1-444C-8C11-468B747EAA89">Creating a TextMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-F540239E-18ED-450A-A630-BA74FB89BE92">Creating a JMS Message</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB">Creating an AdtMessage</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD">Setting a JMS Correlation Identifier</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3102"></a><div class="props_rev_3"><a id="GUID-D0313117-87E0-4BEB-A8A1-7C5899555147" name="GUID-D0313117-87E0-4BEB-A8A1-7C5899555147"></a><h4 id="ADQUE-GUID-D0313117-87E0-4BEB-A8A1-7C5899555147" class="sect4"><span class="enumeration_section">15.1.1 </span>Starting a JMS Connection
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void start()
          throws JMSException
</pre><p><code class="codeph">AQjmsConnection.start()</code> starts a <a href="glossary.html#GUID-D081F8A3-08E7-4621-B4EA-5AFD8BD61745"><span class="xrefglossterm">JMS connection</span></a> for receiving messages.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3103"></a><div class="props_rev_3"><a id="GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0" name="GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0"></a><h4 id="ADQUE-GUID-60BD9ECA-069B-484C-8EA3-4B65D201A1C0" class="sect4"><span class="enumeration_section">15.1.2 </span>Getting a JMS Connection
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.AQjmsConnection getJmsConnection()
                                            throws JMSException
</pre><p><code class="codeph">AQjmsSession.getJmsConnection()</code> gets a JMS connection from a session.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3104"></a><div class="props_rev_3"><a id="GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4" name="GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4"></a><h4 id="ADQUE-GUID-2D47941A-C6ED-4F64-A1B4-80E9948A1FB4" class="sect4"><span class="enumeration_section">15.1.3 </span>Committing All Operations in a Session
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void commit()
           throws JMSException
</pre><p><code class="codeph">AQjmsSession.commit()</code> commits all JMS and SQL operations performed in a session.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3105"></a><div class="props_rev_3"><a id="GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA" name="GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA"></a><h4 id="ADQUE-GUID-A36F7762-5A10-404F-A6E1-DF823E24CAFA" class="sect4"><span class="enumeration_section">15.1.4 </span>Rolling Back All Operations in a Session
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void rollback()
              throws JMSException
</pre><p><code class="codeph">AQjmsSession.rollback()</code> terminates all JMS and SQL operations performed in a session. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3107"></a><a id="ADQUE3106"></a><div class="props_rev_3"><a id="GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A" name="GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A"></a><h4 id="ADQUE-GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A" class="sect4"><span class="enumeration_section">15.1.5 </span>Getting the JDBC Connection from a Session
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.sql.Connection getDBConnection()
                                    throws JMSException
</pre><p><code class="codeph">AQjmsSession.getDBConnection()</code> gets the underlying JDBC connection from a <a href="glossary.html#GUID-F7331CE7-BF82-4FA0-81B3-42D454068F03"><span class="xrefglossterm">JMS session</span></a>. The JDBC connection can be used to perform SQL operations as part of the same transaction in which the JMS operations are accomplished.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C5854FC9-5E57-4292-A5A9-55A7D1E6941A__GUID-65A92657-90B0-42FA-BB58-0DECB6294A39">
                        <p class="titleinexample">Example 15-1 Getting Underlying JDBC Connection from JMS Session</p><pre class="oac_no_warn" dir="ltr">java.sql.Connection db_conn;
QueueSession     jms_sess;
db_conn = ((AQjmsSession)jms_sess).getDBConnection();</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3109"></a><a id="ADQUE3108"></a><div class="props_rev_3"><a id="GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5" name="GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5"></a><h4 id="ADQUE-GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5" class="sect4"><span class="enumeration_section">15.1.6 </span>Getting the OracleOCIConnectionPool from a JMS Connection
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jdbc.pool.OracleOCIConnectionPool getOCIConnectionPool()
</pre><p><code class="codeph">AQjmsConnection.getOCIConnectionPool()</code> gets the underlying <code class="codeph">OracleOCIConnectionPool</code> from a JMS connection. The settings of the <code class="codeph">OracleOCIConnectionPool</code> instance can be tuned by the user depending on the connection usage, for example, the number of sessions the user wants to create using the given connection. The user should not, however, close the <code class="codeph">OracleOCIConnectionPool</code> instance being used by the JMS connection.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-65E9AE45-CD0F-4405-AF0C-7AB4F5911BB5__GUID-1B6605B6-8879-408E-B94F-753E5AC45535">
                        <p class="titleinexample">Example 15-2 Getting Underlying OracleOCIConnectionPool from JMS Connection</p><pre class="oac_no_warn" dir="ltr">oracle.jdbc.pool.OracleOCIConnectionPool cpool;
QueueConnection jms_conn;
cpool = ((AQjmsConnection)jms_conn).getOCIConnectionPool();</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3110"></a><div class="props_rev_3"><a id="GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1" name="GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1"></a><h4 id="ADQUE-GUID-5241B4A6-5202-45F5-9DA3-722E1D5263D1" class="sect4"><span class="enumeration_section">15.1.7 </span>Creating a BytesMessage
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.BytesMessage createBytesMessage()
                                          throws JMSException
</pre><p><code class="codeph">AQjmsSession.createBytesMessage()</code> creates a bytes <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a>. It can be used only if the <a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">queue table</span></a> that contains the destination <a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">queue</span></a>/topic was created with the <code class="codeph">SYS.AQ$_JMS_BYTES_MESSAGE</code> or <code class="codeph">AQ$_JMS_MESSAGE</code> payload types.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3111"></a><div class="props_rev_3"><a id="GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226" name="GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226"></a><h4 id="ADQUE-GUID-48B1FFBD-6A58-441E-B58C-A0E1EFD3D226" class="sect4"><span class="enumeration_section">15.1.8 </span>Creating a MapMessage
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.MapMessage createMapMessage()
                                      throws JMSException
</pre><p><code class="codeph">AQjmsSession.createMapMessage()</code> creates a map message. It can be used only if the queue table that contains the destination queue/topic was created with the <code class="codeph">SYS.AQ$_JMS_MAP_MESSAGE</code> or <code class="codeph">AQ$_JMS_MESSAGE</code> payload types. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3112"></a><div class="props_rev_3"><a id="GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5" name="GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5"></a><h4 id="ADQUE-GUID-F8DE39B0-1D56-46C1-B917-A683FF28D7C5" class="sect4"><span class="enumeration_section">15.1.9 </span>Creating a StreamMessage
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.StreamMessage createStreamMessage()
                                            throws JMSException
</pre><p><code class="codeph">AQjmsSession.createStreamMessage()</code> creates a stream message. It can be used only if the queue table that contains the destination queue/topic was created with the <code class="codeph">SYS.AQ$_JMS_STREAM_MESSAGE</code> or <code class="codeph">AQ$_JMS_MESSAGE</code> payload types.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3113"></a><div class="props_rev_3"><a id="GUID-834C00DC-6B2F-464A-861A-6972A511954A" name="GUID-834C00DC-6B2F-464A-861A-6972A511954A"></a><h4 id="ADQUE-GUID-834C00DC-6B2F-464A-861A-6972A511954A" class="sect4"><span class="enumeration_section">15.1.10 </span>Creating an ObjectMessage
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.ObjectMessage createObjectMessage(java.io.Serializable object)
                                            throws JMSException
</pre><p><code class="codeph">AQjmsSession.createObjectMessage()</code> creates an object message. It can be used only if the queue table that contains the destination queue/topic was created with the <code class="codeph">SYS.AQ$_JMS_OBJECT_MESSAGE</code> or <code class="codeph">AQ$_JMS_MESSAGE</code> payload types.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3114"></a><div class="props_rev_3"><a id="GUID-C327327E-A0E1-444C-8C11-468B747EAA89" name="GUID-C327327E-A0E1-444C-8C11-468B747EAA89"></a><h4 id="ADQUE-GUID-C327327E-A0E1-444C-8C11-468B747EAA89" class="sect4"><span class="enumeration_section">15.1.11 </span>Creating a TextMessage
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TextMessage createTextMessage()
                                        throws JMSException
</pre><p><code class="codeph">AQjmsSession.createTextMessage()</code> creates a text message. It can be used only if the queue table that contains the destination queue/topic was created with the <code class="codeph">SYS.AQ$_JMS_TEXT_MESSAGE</code> or <code class="codeph">AQ$_JMS_MESSAGE</code> payload types.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3115"></a><div class="props_rev_3"><a id="GUID-F540239E-18ED-450A-A630-BA74FB89BE92" name="GUID-F540239E-18ED-450A-A630-BA74FB89BE92"></a><h4 id="ADQUE-GUID-F540239E-18ED-450A-A630-BA74FB89BE92" class="sect4"><span class="enumeration_section">15.1.12 </span>Creating a JMS Message
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Message createMessage()
                                throws JMSException
</pre><p><code class="codeph">AQjmsSession.createMessage()</code> creates a <a href="glossary.html#GUID-94D9662C-2A02-4DFC-BFEC-684F85CE4186"><span class="xrefglossterm">JMS message</span></a>. You can use the <code class="codeph">AQ$_JMS_MESSAGE</code> construct message to construct messages of different types. The message type must be one of the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_TEXT_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_OBJECT_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_MAP_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_BYTES_MESSAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_AQ.JMS_STREAM_MESSAGE</code></p>
                           </li>
                        </ul>
                        <p>You can also use this ADT to create a header-only JMS message.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3116"></a><div class="props_rev_3"><a id="GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB" name="GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB"></a><h4 id="ADQUE-GUID-FC755AFD-E437-44D2-B547-20C2FF3B5BFB" class="sect4"><span class="enumeration_section">15.1.13 </span>Creating an AdtMessage
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.AdtMessage createAdtMessage()
                                       throws JMSException
</pre><p><code class="codeph">AQjmsSession.createAdtMessage()</code> creates an <code class="codeph">AdtMessage</code>. It can be used only if the queue table that contains the queue/topic was created with an Oracle ADT payload type. An <code class="codeph">AdtMessage</code> must be populated with an object that implements the <code class="codeph">CustomDatum</code> interface. This object must be the Java mapping of the SQL ADT defined as the payload for the queue/topic. Java classes corresponding to SQL ADT types can be generated using the Jpublisher tool.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3117"></a><div class="props_rev_3"><a id="GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD" name="GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD"></a><h4 id="ADQUE-GUID-C8552AB3-830A-4E69-8A0E-42141EE641DD" class="sect4"><span class="enumeration_section">15.1.14 </span>Setting a JMS Correlation Identifier
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setJMSCorrelationID(java.lang.String correlationID)
                         throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setJMSCorrelationID()</code> specifies the message correlation identifier.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3118"></a><div class="props_rev_3"><a id="GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84" name="GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84"></a><h3 id="ADQUE-GUID-E9C62DA0-3D87-4996-911D-FB3D954CAB84" class="sect3"><span class="enumeration_section">15.2 </span>Specifying JMS Message Properties
               </h3>
               <div>
                  <p>Property names starting with JMS are provider-specific. User-defined properties cannot start with JMS.</p>
                  <p>The following provider properties can be set by clients using text, stream, object, bytes or map messages:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">JMSXAppID (string)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">JMSXGroupID (string)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">JMSXGroupSeq (int)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">JMS_OracleExcpQ (string) </code></p>
                        <p>This message property specifies the <a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">exception queue</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">JMS_OracleDelay (int)</code></p>
                        <p>This message property specifies the message delay in seconds.</p>
                     </li>
                  </ul>
                  <p>The following properties can be set on <code class="codeph">AdtMessage</code></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">JMS_OracleExcpQ (String)</code> 
                        </p>
                        <p>This message property specifies the exception queue as "<span class="italic"><code class="codeph">schema</code></span><code class="codeph">.queue_name</code>"
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">JMS_OracleDelay (int)</code></p>
                        <p>This message property specifies the message delay in seconds.</p>
                     </li>
                  </ul>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8">Setting a Boolean Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5">Setting a String Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4">Setting an Integer Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D">Setting a Double Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-4187902D-ABB9-419E-B60F-B16A99F93264">Setting a Float Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC">Setting a Byte Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-2376F7DB-1314-4A22-9022-7D31708EF656">Setting a Long Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F">Setting a Short Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E">Getting an Object Message Property</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3119"></a><div class="props_rev_3"><a id="GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8" name="GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8"></a><h4 id="ADQUE-GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8" class="sect4"><span class="enumeration_section">15.2.1 </span>Setting a Boolean Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setBooleanProperty(java.lang.String name,
                               boolean value)
                        throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setBooleanProperty()</code> specifies a message property as Boolean. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-13D58E31-AA28-498D-8FCE-56EC295B58C8__GUID-4C432C55-F86E-4A44-BAB6-991E31550A7A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1491">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1494">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1499" headers="d95093e1491 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1499 d95093e1494 ">
                                       <p>Name of the Boolean property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1507" headers="d95093e1491 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1507 d95093e1494 ">
                                       <p>Boolean property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3120"></a><div class="props_rev_3"><a id="GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5" name="GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5"></a><h4 id="ADQUE-GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5" class="sect4"><span class="enumeration_section">15.2.2 </span>Setting a String Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setStringProperty(java.lang.String name,
                              java.lang.String value)
                       throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setStringProperty()</code> specifies a message property as string. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-023096C1-0FEF-4FD6-AC89-F31AB8D326F5__GUID-A9436C5B-44EF-4519-8429-2FDD3E4E25F3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1582">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1585">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1590" headers="d95093e1582 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1590 d95093e1585 ">
                                       <p>Name of the string property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1598" headers="d95093e1582 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1598 d95093e1585 ">
                                       <p>String property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3121"></a><div class="props_rev_3"><a id="GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4" name="GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4"></a><h4 id="ADQUE-GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4" class="sect4"><span class="enumeration_section">15.2.3 </span>Setting an Integer Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setIntProperty(java.lang.String name,
                           int value)
                    throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setIntProperty()</code> specifies a message property as integer. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-DD9ECC26-94FF-4EA9-A00D-10612F4B5CB4__GUID-C9CFA01E-28BF-492D-B75E-F063F76F6F77">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1674">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1677">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1682" headers="d95093e1674 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1682 d95093e1677 ">
                                       <p>Name of the integer property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1690" headers="d95093e1674 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1690 d95093e1677 ">
                                       <p>Integer property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3122"></a><div class="props_rev_3"><a id="GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D" name="GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D"></a><h4 id="ADQUE-GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D" class="sect4"><span class="enumeration_section">15.2.4 </span>Setting a Double Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setDoubleProperty(java.lang.String name,
                              double value)
                       throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setDoubleProperty()</code> specifies a message property as double. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-8992026E-9DEA-45BA-9D3B-F558F5EC3E6D__GUID-9C3E0DD1-A5B9-4483-8B19-7CCCE348C3CE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1765">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1768">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1773" headers="d95093e1765 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1773 d95093e1768 ">
                                       <p>Name of the double property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1781" headers="d95093e1765 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1781 d95093e1768 ">
                                       <p>Double property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3123"></a><div class="props_rev_3"><a id="GUID-4187902D-ABB9-419E-B60F-B16A99F93264" name="GUID-4187902D-ABB9-419E-B60F-B16A99F93264"></a><h4 id="ADQUE-GUID-4187902D-ABB9-419E-B60F-B16A99F93264" class="sect4"><span class="enumeration_section">15.2.5 </span>Setting a Float Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setFloatProperty(java.lang.String name,
                             float value)
                      throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setFloatProperty()</code> specifies a message property as float. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-4187902D-ABB9-419E-B60F-B16A99F93264__GUID-F0290A0C-4196-4111-B0D8-1D57E489F131">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1856">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1859">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1864" headers="d95093e1856 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1864 d95093e1859 ">
                                       <p>Name of the float property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1872" headers="d95093e1856 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1872 d95093e1859 ">
                                       <p>Float property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3124"></a><div class="props_rev_3"><a id="GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC" name="GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC"></a><h4 id="ADQUE-GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC" class="sect4"><span class="enumeration_section">15.2.6 </span>Setting a Byte Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setByteProperty(java.lang.String name,
                            byte value)
                     throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setByteProperty()</code> specifies a message property as byte. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-7B900688-25AA-4CF7-877D-7B92C8DE0ACC__GUID-84EC2AFF-98FB-4E36-9E52-073325AFA445">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e1948">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e1951">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1956" headers="d95093e1948 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1956 d95093e1951 ">
                                       <p>Name of the byte property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e1964" headers="d95093e1948 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e1964 d95093e1951 ">
                                       <p>Byte property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3125"></a><div class="props_rev_3"><a id="GUID-2376F7DB-1314-4A22-9022-7D31708EF656" name="GUID-2376F7DB-1314-4A22-9022-7D31708EF656"></a><h4 id="ADQUE-GUID-2376F7DB-1314-4A22-9022-7D31708EF656" class="sect4"><span class="enumeration_section">15.2.7 </span>Setting a Long Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setLongProperty(java.lang.String name,
                            long value)
                     throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setLongProperty()</code> specifies a message property as long. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-2376F7DB-1314-4A22-9022-7D31708EF656__GUID-0F7CF29B-3D0B-4F27-A532-28CAB7C16426">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2039">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2042">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2047" headers="d95093e2039 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2047 d95093e2042 ">
                                       <p>Name of the long property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2055" headers="d95093e2039 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2055 d95093e2042 ">
                                       <p>Long property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3126"></a><div class="props_rev_3"><a id="GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F" name="GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F"></a><h4 id="ADQUE-GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F" class="sect4"><span class="enumeration_section">15.2.8 </span>Setting a Short Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setShortProperty(java.lang.String name,
                             short value)
                      throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setShortProperty()</code> specifies a message property as short. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-9E064636-7F2C-4D3C-BBFB-D3795481E80F__GUID-7400AC20-1F24-400D-9226-B15BA2283B0C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2130">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2133">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2138" headers="d95093e2130 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2138 d95093e2133 ">
                                       <p>Name of the short property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2146" headers="d95093e2130 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2146 d95093e2133 ">
                                       <p>Short property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3127"></a><div class="props_rev_3"><a id="GUID-F2000D02-E261-4518-BBD9-58BF156252A8" name="GUID-F2000D02-E261-4518-BBD9-58BF156252A8"></a><h4 id="ADQUE-GUID-F2000D02-E261-4518-BBD9-58BF156252A8" class="sect4"><span class="enumeration_section">15.2.9 </span>Setting an Object Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setObjectProperty(java.lang.String name,
                              java.lang.Object value)
                       throws JMSException
</pre><p><code class="codeph">AQjmsMessage.setObjectProperty()</code> specifies a message property as object. Only objectified primitive values are supported: Boolean, byte, short, integer, long, float, double and string. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-F2000D02-E261-4518-BBD9-58BF156252A8__GUID-060BB7AB-8B9F-4F87-A171-3F92C9A7FA52">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2222">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2225">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2230" headers="d95093e2222 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2230 d95093e2225 ">
                                       <p>Name of the Java object property</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2238" headers="d95093e2222 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2238 d95093e2225 ">
                                       <p>Java object property value to set in the message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3129"></a><a id="ADQUE3128"></a><div class="props_rev_3"><a id="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C" name="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C"></a><h3 id="ADQUE-GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C" class="sect3"><span class="enumeration_section">15.3 </span>Setting Default TimeToLive for All Messages Sent by a MessageProducer
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void setTimeToLive(long timeToLive)
                   throws JMSException
</pre><p>This method sets the default <code class="codeph">TimeToLive</code> for all messages sent by a <code class="codeph">MessageProducer</code>. It is calculated after message delay has taken effect. This method has the following parameter:
                     </p>
                     <div class="tblformal" id="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C__GUID-EC4F2740-E5D5-4FBC-866F-F35EA0A7B99F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2329">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2332">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2337" headers="d95093e2329 ">
                                    <p><code class="codeph">timeToLive</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2337 d95093e2332 ">
                                    <p>Message time to live in milliseconds (zero is unlimited)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9E60D2AD-078A-4E07-9E6B-A304A4E86B3C__GUID-D87BDBF8-8913-4C1A-B611-065D03D91886">
                     <p class="titleinexample">Example 15-3 Setting Default TimeToLive for All Messages Sent by a MessageProducer</p><pre class="oac_no_warn" dir="ltr">/* Set default timeToLive value to 100000 milliseconds for all messages sent by the QueueSender*/
QueueSender sender;
sender.setTimeToLive(100000);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3131"></a><a id="ADQUE3132"></a><a id="ADQUE3130"></a><div class="props_rev_3"><a id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583" name="GUID-089B194B-5E39-4273-A212-FE12ADB6D583"></a><h3 id="ADQUE-GUID-089B194B-5E39-4273-A212-FE12ADB6D583" class="sect3"><span class="enumeration_section">15.4 </span>Setting Default Priority for All Messages Sent by a MessageProducer
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void setPriority(int priority)
                 throws JMSException
</pre><p>This method sets the default <code class="codeph">Priority</code> for all messages sent by a <code class="codeph">MessageProducer</code>. It has the following parameter:
                     </p>
                     <div class="tblformal" id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583__GUID-D0B8C9A1-2338-4EEF-9972-4A1915C2EA21">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2433">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2436">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2441" headers="d95093e2433 ">
                                    <p><code class="codeph">priority</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2441 d95093e2436 ">
                                    <p>Message priority for this message producer. The default is 4.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Priority values can be any integer. A smaller number indicates higher priority. If a priority value is explicitly specified during a <code class="codeph">send()</code> operation, then it overrides the default value set by this method.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583__GUID-C400496F-9789-4976-9BCC-223318E5149E">
                     <p class="titleinexample">Example 15-4 Setting Default Priority Value for All Messages Sent by QueueSender</p><pre class="oac_no_warn" dir="ltr">/* Set default priority value to 2 for all messages sent by the QueueSender*/
QueueSender sender;
sender.setPriority(2);
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-089B194B-5E39-4273-A212-FE12ADB6D583__GUID-697D9949-1DF2-4E54-8B61-39B8A13F5CAE">
                     <p class="titleinexample">Example 15-5 Setting Default Priority Value for All Messages Sent by TopicPublisher</p><pre class="oac_no_warn" dir="ltr">/* Set default priority value to 2 for all messages sent by the TopicPublisher*/
TopicPublisher publisher;
publisher.setPriority(1);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3133"></a><div class="props_rev_3"><a id="GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0" name="GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0"></a><h3 id="ADQUE-GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0" class="sect3"><span class="enumeration_section">15.5 </span>Creating an AQjms Agent
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void createAQAgent(java.lang.String agent_name,
                          boolean enable_http,
                   throws JMSException
</pre><p>This method creates an <code class="codeph">AQjmsAgent</code>. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-DE2AE68A-319D-4CED-A9D4-D87F617BD0E0__GUID-4DC19310-7817-48BC-A148-7EF348553B7F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2538">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2541">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2546" headers="d95093e2538 ">
                                    <p><code class="codeph">agent_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2546 d95093e2541 ">
                                    <p>Name of the AQ agent</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2554" headers="d95093e2538 ">
                                    <p><code class="codeph">enable_http</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2554 d95093e2541 ">
                                    <p>If set to true, then this agent is allowed to access AQ through HTTP</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3134"></a><div class="props_rev_3"><a id="GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7" name="GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7"></a><h3 id="ADQUE-GUID-41D11E95-B978-4F7F-9B41-C30161FB37F7" class="sect3"><span class="enumeration_section">15.6 </span>Receiving a Message Synchronously
               </h3>
               <div>
                  <p>You can receive a message synchronously by specifying Timeout or without waiting. You can also receive a message using a transformation:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5C902E7C-5E9D-4550-A546-494A09C8E191">Using a Message Consumer by Specifying Timeout</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6">Using a Message Consumer Without Waiting</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D">Receiving Messages from a Destination Using a Transformation</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3136"></a><a id="ADQUE3137"></a><a id="ADQUE3135"></a><div class="props_rev_3"><a id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191" name="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191"></a><h4 id="ADQUE-GUID-5C902E7C-5E9D-4550-A546-494A09C8E191" class="sect4"><span class="enumeration_section">15.6.1 </span>Using a Message Consumer by Specifying Timeout
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Message receive(long timeout)
                          throws JMSException
</pre><p>This method receives a message using a message <a href="glossary.html#GUID-B9071BDE-395F-4686-B2D2-A1B83F986BCC"><span class="xrefglossterm">consumer</span></a> by specifying timeout.
                        </p>
                        <div class="tblformal" id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191__GUID-0E7207D7-C847-4672-A85E-6BE1EA4A37F0">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e2703">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e2706">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e2711" headers="d95093e2703 ">
                                       <p><code class="codeph">timeout</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e2711 d95093e2706 ">
                                       <p>Timeout value in milliseconds</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191__GUID-186E4AC3-9145-408B-AC3B-ED40C7B1BD74">
                        <p class="titleinexample">Example 15-6 Using a Message Consumer by Specifying Timeout</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
Topic                     shipped_orders;
int                       myport = 5521;

/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
   "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
   "WS", "Shipped_Orders_Topic");

/* create a subscriber, specifying the correct CustomDatumFactory  and
selector */
subscriber1 = jms_sess.createDurableSubscriber(
   shipped_orders, 'WesternShipping', 
   " priority &gt; 1 and tab.user_data.region like 'WESTERN %'",
   false, AQjmsAgent.getFactory());
/* receive, blocking for 30 seconds if there were no messages */
Message = subscriber.receive(30000);</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5C902E7C-5E9D-4550-A546-494A09C8E191__GUID-F2144CBA-972B-4E03-91C4-7C626F24EC32">
                        <p class="titleinexample">Example 15-7 JMS: Blocking Until a Message Arrives</p><pre class="oac_no_warn" dir="ltr">public BolOrder get_new_order1(QueueSession jms_session)
 {
   Queue            queue;
   QueueReceiver    qrec;
   ObjectMessage    obj_message;
   BolCustomer      customer;
   BolOrder         new_order = null;
   String           state;

   try
   {
   /* get a handle to the new_orders queue */
    queue = ((AQjmsSession) jms_session).getQueue("OE", "OE_neworders_que");
    qrec = jms_session.createReceiver(queue);

    /* wait for a message to show up in the queue */
    obj_message = (ObjectMessage)qrec.receive();
    new_order = (BolOrder)obj_message.getObject();
    customer = new_order.getCustomer();
    state    = customer.getState();
    System.out.println("Order:  for customer " + customer.getName()); 
   }
  catch (JMSException ex)
   {
     System.out.println("Exception: " + ex);
   }
   return new_order;
 }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3139"></a><a id="ADQUE3138"></a><div class="props_rev_3"><a id="GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6" name="GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6"></a><h4 id="ADQUE-GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6" class="sect4"><span class="enumeration_section">15.6.2 </span>Using a Message Consumer Without Waiting
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Message receiveNoWait()
                                throws JMSException
</pre><p>This method receives a message using a message consumer without waiting.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-365C8D8D-3F1A-4A3B-A636-3FC70AA57CC6__GUID-7418F370-5DD9-4A00-8305-675B2DA298CE">
                        <p class="titleinexample">Example 15-8 JMS: Nonblocking Messages</p><pre class="oac_no_warn" dir="ltr">public BolOrder poll_new_order3(QueueSession jms_session)
 {
   Queue            queue;
   QueueReceiver    qrec;
   ObjectMessage    obj_message;
   BolCustomer      customer;
   BolOrder         new_order = null;
   String           state;

   try
   {
    /* get a handle to the new_orders queue */
    queue = ((AQjmsSession) jms_session).getQueue("OE", "OE_neworders_que");
    qrec = jms_session.createReceiver(queue);

    /* check for a message to show in the queue */
    obj_message = (ObjectMessage)qrec.receiveNoWait();
    new_order = (BolOrder)obj_message.getObject();
    customer = new_order.getCustomer();
    state    = customer.getState();

    System.out.println("Order:  for customer " + customer.getName()); 
   }
   catch (JMSException ex)
   {
     System.out.println("Exception: " + ex);
   }
   return new_order;
 }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3141"></a><a id="ADQUE3140"></a><div class="props_rev_3"><a id="GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D" name="GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D"></a><h4 id="ADQUE-GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D" class="sect4"><span class="enumeration_section">15.6.3 </span>Receiving Messages from a Destination Using a Transformation
                  </h4>
                  <div>
                     <div class="section">
                        <p>A transformation can be applied when receiving a message from a queue or topic. The transformation is applied to the message before returning it to JMS application.</p>
                        <p>The transformation can be specified using the <code class="codeph">setTransformation()</code> interface of the <code class="codeph">AQjmsQueueReceiver</code>, <code class="codeph">AQjmsTopicSubscriber</code> or <code class="codeph">AQjmsTopicReceiver</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-02B62118-5CA8-4C58-9E33-69CA3A24F05D__GUID-FB871145-147D-4C6F-AB3D-331D8AB2432D">
                        <p class="titleinexample">Example 15-9 JMS: Receiving Messages from a Destination Using a Transformation</p>
                        <p>Assume that the Western Shipping application retrieves messages from the OE_bookedorders_topic. It specifies the transformation <code class="codeph">OE2WS</code> to retrieve the message as the Oracle object type <code class="codeph">WS_order</code>. Assume that the WSOrder Java class has been generated by Jpublisher to map to the Oracle object <code class="codeph">WS.WS_order</code>:
                        </p><pre class="oac_no_warn" dir="ltr">public AQjmsAdtMessage retrieve_bookedorders(TopicSession jms_session)
  AQjmsTopicReceiver  receiver;
  Topic               topic;
  Message             msg = null;

  try
  {
    /* get a handle to the OE_bookedorders_topic */
    topic = ((AQjmsSession)jms_session).getTopic("OE", "OE_bookedorders_topic");

    /* Create a receiver for WShip */
    receiver = ((AQjmsSession)jms_session).createTopicReceiver(
       topic, "WShip, null, WSOrder.getFactory());

    /* set the transformation in the publisher */
    receiver.setTransformation("OE2WS");
    msg = receiver.receive(10);
  }
  catch (JMSException ex)
  {
     System.out.println("Exception :", ex);
  }
       return (AQjmsAdtMessage)msg;
}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE3143"></a><a id="ADQUE3142"></a><div class="props_rev_3"><a id="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB" name="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB"></a><h3 id="ADQUE-GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB" class="sect3"><span class="enumeration_section">15.7 </span>Specifying the Navigation Mode for Receiving Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void setNavigationMode(int mode)
                       throws JMSException
</pre><p>This method specifies the navigation mode for receiving messages. It has the following parameter:</p>
                     <div class="tblformal" id="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB__GUID-2E0A524E-7AFC-47C3-8FD3-0F59A4F1DDF4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d95093e2967">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d95093e2970">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d95093e2975" headers="d95093e2967 ">
                                    <p><code class="codeph">mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d95093e2975 d95093e2970 ">
                                    <p>New value of the navigation mode</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A6341843-4132-4C32-9600-F6B20CFE3EEB__GUID-5A467F2D-0EC2-42D4-94C5-8962F2D39876">
                     <p class="titleinexample">Example 15-10 Specifying Navigation Mode for Receiving Messages</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
Topic                     shipped_orders;
int                       myport = 5521;

/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
   "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic("WS", "Shipped_Orders_Topic");

/* create a subscriber, specifying the correct CustomDatumFactory and selector */
subscriber1 = jms_sess.createDurableSubscriber(
   shipped_orders, 'WesternShipping', 
   "priority &gt; 1 and tab.user_data.region like 'WESTERN %'", false,
   AQjmsAgent.getFactory());
subscriber1.setNavigationMode(AQjmsConstants.NAVIGATION_FIRST_MESSAGE);

/* get message for the subscriber, returning immediately if there was nomessage */
Message = subscriber.receive();</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3144"></a><div class="props_rev_3"><a id="GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8" name="GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8"></a><h3 id="ADQUE-GUID-750967F7-BFFD-408C-AF93-6FAD0F413FE8" class="sect3"><span class="enumeration_section">15.8 </span>Receiving a Message Asynchronously
               </h3>
               <div>
                  <p>You can receive a message asynchronously two ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF">Specifying a Message Listener at the Message Consumer</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369">Specifying a Message Listener at the Session</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3146"></a><a id="ADQUE3145"></a><div class="props_rev_3"><a id="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF" name="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF"></a><h4 id="ADQUE-GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF" class="sect4"><span class="enumeration_section">15.8.1 </span>Specifying a Message Listener at the Message Consumer
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setMessageListener(javax.jms.MessageListener myListener)
                        throws JMSException
</pre><p>This method specifies a message listener at the message consumer. It has the following parameter:</p>
                        <div class="tblformal" id="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF__GUID-FA557AC7-E52E-484D-AB7A-89558530754C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3114">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3117">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3122" headers="d95093e3114 ">
                                       <p><code class="codeph">myListener</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3122 d95093e3117 ">
                                       <p>Sets the consumer message listener</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-369EFE63-11EA-45F3-B887-A5FC2B2311DF__GUID-3FC0D9ED-6F31-4201-9622-6E7AE5375CCE">
                        <p class="titleinexample">Example 15-11 Specifying Message Listener at Message Consumer</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
Topic                     shipped_orders;
int                       myport = 5521;
MessageListener           mLis = null;

/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
   "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
    "WS", "Shipped_Orders_Topic");

/* create a subscriber, specifying the correct CustomDatumFactory and selector */
subscriber1 = jms_sess.createDurableSubscriber(
   shipped_orders, 'WesternShipping',
   "priority &gt; 1 and tab.user_data.region like 'WESTERN %'",
   false, AQjmsAgent.getFactory());
mLis = new myListener(jms_sess, "foo");

/* get message for the subscriber, returning immediately if there was nomessage */
subscriber.setMessageListener(mLis);
The definition of the myListener class
import oracle.AQ.*;
import oracle.jms.*;
import javax.jms.*;
import java.lang.*;
import java.util.*;
public class myListener implements MessageListener
{
   TopicSession   mySess;
   String         myName;
   /* constructor */
   myListener(TopicSession t_sess, String t_name)
   {
      mySess = t_sess;
      myName = t_name;
   }
   public onMessage(Message m)
   {
      System.out.println("Retrieved message with correlation: " ||
m.getJMSCorrelationID());
      try{
        /* commit the dequeue */
        mySession.commit();
      } catch (java.sql.SQLException e)
      {System.out.println("SQL Exception on commit"); }
   }
}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3147"></a><div class="props_rev_3"><a id="GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369" name="GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369"></a><h4 id="ADQUE-GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369" class="sect4"><span class="enumeration_section">15.8.2 </span>Specifying a Message Listener at the Session
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setMessageListener(javax.jms.MessageListener listener)
                        throws JMSException
</pre><p>This method specifies a message listener at the session.</p>
                        <div class="tblformal" id="GUID-6F9FF33E-91E0-4DCE-A666-AA65F8B53369__GUID-486F502D-8DE9-4219-BEA6-900F17719160">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3208">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3211">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3216" headers="d95093e3208 ">
                                       <p><code class="codeph">listener</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3216 d95093e3211 ">
                                       <p>Message listener to associate with this session</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3148"></a><div class="props_rev_3"><a id="GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840" name="GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840"></a><h3 id="ADQUE-GUID-9A74F0D7-4083-40CB-93DA-00A6EA098840" class="sect3"><span class="enumeration_section">15.9 </span>Getting Message ID
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D">Getting the Correlation Identifier </a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED">Getting the Message Identifier </a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3149"></a><div class="props_rev_3"><a id="GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D" name="GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D"></a><h4 id="ADQUE-GUID-5D4CC414-FDBB-4AEE-81FB-1B2609BDC00D" class="sect4"><span class="enumeration_section">15.9.1 </span>Getting the Correlation Identifier 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang.String getJMSCorrelationID()
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getJMSCorrelationID()</code> gets the correlation identifier of a message.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3150"></a><div class="props_rev_3"><a id="GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED" name="GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED"></a><h4 id="ADQUE-GUID-7ED95943-B4CD-4C18-9C24-F1A27EB410ED" class="sect4"><span class="enumeration_section">15.9.2 </span>Getting the Message Identifier 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public byte[] getJMSCorrelationIDAsBytes()
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getJMSMessageID()</code> gets the message identifier of a message as bytes or a string.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3151"></a><div class="props_rev_3"><a id="GUID-689A1530-D438-4D56-B233-BA8DB9686933" name="GUID-689A1530-D438-4D56-B233-BA8DB9686933"></a><h3 id="ADQUE-GUID-689A1530-D438-4D56-B233-BA8DB9686933" class="sect3"><span class="enumeration_section">15.10 </span>Getting JMS Message Properties
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58">Getting a Boolean Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923">Getting a String Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880">Getting an Integer Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B">Getting a Double Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C">Getting a Float Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5">Getting a Byte Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A">Getting a Long Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E">Getting a Short Message Property</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E">Getting an Object Message Property</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3152"></a><div class="props_rev_3"><a id="GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58" name="GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58"></a><h4 id="ADQUE-GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58" class="sect4"><span class="enumeration_section">15.10.1 </span>Getting a Boolean Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public boolean getBooleanProperty(java.lang.String name)
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getBooleanProperty()</code> gets a message property as Boolean. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-9BB54625-9CF6-4091-9A3C-64A42E4F9B58__GUID-DCD334F6-3FE6-4906-B0F8-2197ED255E03">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3591">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3594">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3599" headers="d95093e3591 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3599 d95093e3594 ">
                                       <p>Name of the Boolean property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3153"></a><div class="props_rev_3"><a id="GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923" name="GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923"></a><h4 id="ADQUE-GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923" class="sect4"><span class="enumeration_section">15.10.2 </span>Getting a String Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang.String getStringProperty(java.lang.String name)
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getStringProperty()</code> gets a message property as string. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-1FF62C3C-F650-4683-8AE3-EF8A9660D923__GUID-73C4C75D-3C32-4A93-A753-DF1A38E897A8">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3674">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3677">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3682" headers="d95093e3674 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3682 d95093e3677 ">
                                       <p>Name of the string property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3154"></a><div class="props_rev_3"><a id="GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880" name="GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880"></a><h4 id="ADQUE-GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880" class="sect4"><span class="enumeration_section">15.10.3 </span>Getting an Integer Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public int getIntProperty(java.lang.String name)
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getIntProperty()</code> gets a message property as integer. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-8C279578-68DE-4D19-AFAB-B2C49FE3D880__GUID-012ABFE2-A6B9-43E5-B6CD-282B2842F91B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3758">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3761">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3766" headers="d95093e3758 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3766 d95093e3761 ">
                                       <p>Name of the integer property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3155"></a><div class="props_rev_3"><a id="GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B" name="GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B"></a><h4 id="ADQUE-GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B" class="sect4"><span class="enumeration_section">15.10.4 </span>Getting a Double Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public double getDoubleProperty(java.lang.String name)
                         throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getDoubleProperty()</code> gets a message property as double. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-5A3BB51E-0813-4583-BDDE-B1936B26BE9B__GUID-3B2BB174-5971-4F82-B763-C2A7FFE51D1F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3841">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3844">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3849" headers="d95093e3841 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3849 d95093e3844 ">
                                       <p>Name of the double property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3156"></a><div class="props_rev_3"><a id="GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C" name="GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C"></a><h4 id="ADQUE-GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C" class="sect4"><span class="enumeration_section">15.10.5 </span>Getting a Float Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public float getFloatProperty(java.lang.String name)
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getFloatProperty()</code> gets a message property as float. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-D4696EB8-01A5-4A4C-A540-FD939B80DC2C__GUID-339628F1-FC76-4323-850E-F7FA32074FAA">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e3924">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e3927">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e3932" headers="d95093e3924 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e3932 d95093e3927 ">
                                       <p>Name of the float property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3157"></a><div class="props_rev_3"><a id="GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5" name="GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5"></a><h4 id="ADQUE-GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5" class="sect4"><span class="enumeration_section">15.10.6 </span>Getting a Byte Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public byte getByteProperty(java.lang.String name)
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getByteProperty()</code> gets a message property as byte. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-05FF6DAB-1CA5-479B-B5AD-59B208B139E5__GUID-7888C50D-5A79-4985-997C-EEDB0CF9B77B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4008">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4011">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4016" headers="d95093e4008 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4016 d95093e4011 ">
                                       <p>Name of the byte property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3158"></a><div class="props_rev_3"><a id="GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A" name="GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A"></a><h4 id="ADQUE-GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A" class="sect4"><span class="enumeration_section">15.10.7 </span>Getting a Long Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public long getLongProperty(java.lang.String name)
          throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getLongProperty()</code> gets a message property as long. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-A200084F-12F7-4B77-A6D7-E62BC438B59A__GUID-769EA17A-4B3E-49E5-B6DC-D67232064381">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4091">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4094">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4099" headers="d95093e4091 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4099 d95093e4094 ">
                                       <p>Name of the long property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3159"></a><div class="props_rev_3"><a id="GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E" name="GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E"></a><h4 id="ADQUE-GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E" class="sect4"><span class="enumeration_section">15.10.8 </span>Getting a Short Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public short getShortProperty(java.lang.String name)
                       throws JMSException
</pre><p>AQjmsMessage.getShortProperty() gets a message property as short. It has the following parameter:</p>
                        <div class="tblformal" id="GUID-EEDB7FFC-1AF9-43B1-96B0-B015087A2E5E__GUID-930576CE-35FB-4F8F-A7B4-BE883156BE7A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4172">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4175">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4180" headers="d95093e4172 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4180 d95093e4175 ">
                                       <p>Name of the short property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3161"></a><a id="ADQUE3160"></a><div class="props_rev_3"><a id="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E" name="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E"></a><h4 id="ADQUE-GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E" class="sect4"><span class="enumeration_section">15.10.9 </span>Getting an Object Message Property
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang.Object getObjectProperty(java.lang.String name)
                                   throws JMSException
</pre><p><code class="codeph">AQjmsMessage.getObjectProperty()</code> gets a message property as object. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E__GUID-BE607F32-264D-4611-940B-DFE967A5F975">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e4257">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e4260">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e4265" headers="d95093e4257 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e4265 d95093e4260 ">
                                       <p>Name of the object property</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DD02DC5C-AECE-4754-8B7A-24A026D77A3E__GUID-353002A5-83D8-4540-BA8D-637106510CCB">
                        <p class="titleinexample">Example 15-12 Getting Message Property as an Object</p><pre class="oac_no_warn" dir="ltr">TextMessage message;
message.getObjectProperty("empid", new Integer(1000);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE3162"></a><div class="props_rev_3"><a id="GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F" name="GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F"></a><h3 id="ADQUE-GUID-4E3176C0-F7F2-4728-B52A-E5427C0DB03F" class="sect3"><span class="enumeration_section">15.11 </span>Closing and Shutting Down
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF">Closing a MessageProducer </a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-362330D1-1AED-4462-B243-C888EA34B40F">Closing a Message Consumer</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-976B90E5-A12A-4D28-9071-53B675D6D69C">Stopping a JMS Connection</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B">Closing a JMS Session </a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C">Closing a JMS Connection </a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3163"></a><div class="props_rev_3"><a id="GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF" name="GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF"></a><h4 id="ADQUE-GUID-0F57C146-6DEA-4E86-83D5-5EB33721B2EF" class="sect4"><span class="enumeration_section">15.11.1 </span>Closing a MessageProducer 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close()
           throws JMSException
</pre><p><code class="codeph">AQjmsProducer.close()</code> closes a <code class="codeph">MessageProducer</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3164"></a><div class="props_rev_3"><a id="GUID-362330D1-1AED-4462-B243-C888EA34B40F" name="GUID-362330D1-1AED-4462-B243-C888EA34B40F"></a><h4 id="ADQUE-GUID-362330D1-1AED-4462-B243-C888EA34B40F" class="sect4"><span class="enumeration_section">15.11.2 </span>Closing a Message Consumer
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close()
           throws JMSException
</pre><p><code class="codeph">AQjmsConsumer.close()</code> closes a message consumer.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3165"></a><div class="props_rev_3"><a id="GUID-976B90E5-A12A-4D28-9071-53B675D6D69C" name="GUID-976B90E5-A12A-4D28-9071-53B675D6D69C"></a><h4 id="ADQUE-GUID-976B90E5-A12A-4D28-9071-53B675D6D69C" class="sect4"><span class="enumeration_section">15.11.3 </span>Stopping a JMS Connection
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void stop()
          throws JMSException
</pre><p><code class="codeph">AQjmsConnection.stop()</code> stops a JMS connection.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3166"></a><div class="props_rev_3"><a id="GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B" name="GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B"></a><h4 id="ADQUE-GUID-B7F926E9-7E48-45F2-9FF0-CEB02D6D9B4B" class="sect4"><span class="enumeration_section">15.11.4 </span>Closing a JMS Session 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close()
           throws JMSException
</pre><p><code class="codeph">AQjmsSession.close()</code> closes a JMS session.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3167"></a><div class="props_rev_3"><a id="GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C" name="GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C"></a><h4 id="ADQUE-GUID-2B9AB12C-70E0-45B4-BDC7-0872B835772C" class="sect4"><span class="enumeration_section">15.11.5 </span>Closing a JMS Connection 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void close()
          throws JMSException
</pre><p><code class="codeph">AQjmsConnection.close()</code> closes a JMS connection and releases all resources allocated on behalf of the connection. Because the JMS provider typically allocates significant resources outside the JVM on behalf of a connection, clients should close them when they are not needed. Relying on garbage collection to eventually reclaim these resources may not be timely enough.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3168"></a><div class="props_rev_3"><a id="GUID-95C06F4C-3DBD-4526-A858-536189038DBC" name="GUID-95C06F4C-3DBD-4526-A858-536189038DBC"></a><h3 id="ADQUE-GUID-95C06F4C-3DBD-4526-A858-536189038DBC" class="sect3"><span class="enumeration_section">15.12 </span>Troubleshooting
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB">Getting a JMS Error Code</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-AF336891-3787-4038-85D5-E7186177116A">Getting a JMS Error Number </a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C">Getting an Exception Linked to a JMS Exception</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B">Printing the Stack Trace for a JMS Exception </a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF">Setting an Exception Listener</a></p>
                     </li>
                     <li>
                        <p><a href="jms-shared-interfaces.html#GUID-8A158303-135A-4630-81DF-E1BDC28CC23A">Getting an Exception Listener</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3169"></a><div class="props_rev_3"><a id="GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB" name="GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB"></a><h4 id="ADQUE-GUID-84C17278-D5D5-4702-80A2-F95775D0ADAB" class="sect4"><span class="enumeration_section">15.12.1 </span>Getting a JMS Error Code
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang.String getErrorCode()
</pre><p><code class="codeph">AQjmsException.getErrorCode()</code> gets the error code for a JMS exception.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3170"></a><div class="props_rev_3"><a id="GUID-AF336891-3787-4038-85D5-E7186177116A" name="GUID-AF336891-3787-4038-85D5-E7186177116A"></a><h4 id="ADQUE-GUID-AF336891-3787-4038-85D5-E7186177116A" class="sect4"><span class="enumeration_section">15.12.2 </span>Getting a JMS Error Number 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public int getErrorNumber()
</pre><p><code class="codeph">AQjmsException.getErrorNumber()</code> gets the error number for a JMS exception.
                        </p>
                        <div class="infoboxnote" id="GUID-AF336891-3787-4038-85D5-E7186177116A__GUID-AE9EAE63-6D54-422A-85F1-E5103D421997">
                           <p class="notep1">Note:</p>
                           <p>This method will be deprecated in a future release. Use <code class="codeph">getErrorCode()</code> instead.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3171"></a><div class="props_rev_3"><a id="GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C" name="GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C"></a><h4 id="ADQUE-GUID-8DCE4115-AB45-4962-985F-68FC1B4F647C" class="sect4"><span class="enumeration_section">15.12.3 </span>Getting an Exception Linked to a JMS Exception
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public java.lang.String getLinkString()
</pre><p><code class="codeph">AQjmsException.getLinkString()</code> gets the exception linked to a JMS exception. In general, this contains the SQL exception raised by the database. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3172"></a><div class="props_rev_3"><a id="GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B" name="GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B"></a><h4 id="ADQUE-GUID-207D7CA6-9A25-4562-932D-DB489A04CA3B" class="sect4"><span class="enumeration_section">15.12.4 </span>Printing the Stack Trace for a JMS Exception 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void printStackTrace(java.io.PrintStream s)
</pre><p><code class="codeph">AQjmsException.printStackTrace()</code> prints the stack trace for a JMS exception.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3174"></a><a id="ADQUE3173"></a><div class="props_rev_3"><a id="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF" name="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF"></a><h4 id="ADQUE-GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF" class="sect4"><span class="enumeration_section">15.12.5 </span>Setting an Exception Listener
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void setExceptionListener(javax.jms.ExceptionListener listener)
                          throws JMSException
</pre><p><code class="codeph">AQjmsConnection.setExceptionListener()</code> specifies an exception listener for a connection. It has the following parameter:
                        </p>
                        <div class="tblformal" id="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF__GUID-EE7D1B37-6CF7-4162-B758-1A877BE944B3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d95093e5065">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d95093e5068">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d95093e5073" headers="d95093e5065 ">
                                       <p><code class="codeph">listener</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d95093e5073 d95093e5068 ">
                                       <p>Exception listener</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If an exception listener has been registered, then it is informed of any serious problem detected for a connection. This is accomplished by calling the listener <code class="codeph">onException()</code> method, passing it a JMS exception describing the problem. This allows a JMS client to be notified of a problem asynchronously. Some connections only consume messages, so they have no other way to learn the connection has failed. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EC9A9C39-DF98-42FF-B11A-C5756BACD2DF__GUID-E1055E41-E9EE-43C2-9695-D5D83682E093">
                        <p class="titleinexample">Example 15-13 Specifying Exception Listener for Connection</p><pre class="oac_no_warn" dir="ltr">//register an exception listener
Connection jms_connection;
jms_connection.setExceptionListener(
    new ExceptionListener() {
        public void onException (JMSException jmsException) {
            System.out.println("JMS-EXCEPTION: " + jmsException.toString());
        }
    };
  );</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3691"></a><a id="ADQUE3176"></a><a id="ADQUE3175"></a><div class="props_rev_3"><a id="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A" name="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A"></a><h4 id="ADQUE-GUID-8A158303-135A-4630-81DF-E1BDC28CC23A" class="sect4"><span class="enumeration_section">15.12.6 </span>Getting an Exception Listener
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.ExceptionListener getExceptionListener()
                                                 throws JMSException

</pre><p><code class="codeph">AQjmsConnection.getExceptionListener()</code> gets the exception listener for the connection.
                        </p>
                        <p><a href="jms-shared-interfaces.html#GUID-8A158303-135A-4630-81DF-E1BDC28CC23A__CHDIDGIB">Example 15-14</a> demonstrates how to use <code class="codeph">ExceptionListener</code> with <code class="codeph">MessageListener</code>. Ensure that the following conditions are met:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The user <code class="codeph">jmsuser</code> with password <code class="codeph">jmsuser</code> is created in the database, with appropriate privileges.
                              </p>
                           </li>
                           <li>
                              <p>The queue <code class="codeph">demoQueue</code> is created and started. 
                              </p>
                           </li>
                        </ul>
                        <p>This example demonstrates how to make the MessageListener asynchronously receive the messages, where the exception listener recreates the JMS objects in case there is a connection restart. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A__CHDIDGIB">
                        <p class="titleinexample">Example 15-14 Using ExceptionListener with MessageListener</p><pre class="oac_no_warn" dir="ltr">import java.util.Enumeration;
import java.util.Properties;
 
import javax.jms.Connection;
import javax.jms.JMSException;
import javax.jms.Message;
import javax.jms.MessageConsumer;
import javax.jms.MessageProducer;
import javax.jms.Queue;
import javax.jms.QueueBrowser;
import javax.jms.Session;
import javax.jms.TextMessage;
 
import oracle.jms.AQjmsConnectionFactory;
import oracle.jms.AQjmsFactory;
import oracle.jms.AQjmsSession;
 
public class JMSDemo {
 
  static String queueName = "demoQueue";
 
  static String queueOwner = "jmsuser";
 
  static String queueOwnerPassword = "jmsuser";
 
  static Connection connection = null;
 
  static int numberOfMessages = 25000;
 
  static int messageCount = 0;
 
  static String jdbcURL = "";
 
  public static void main(String args[]) {
    try {
      jdbcURL = System.getProperty("JDBC_URL");
 
      if (jdbcURL == null)
        System.out
            .println("The system property JDBC_URL has not been set, " +
            		"usage:java -DJDBC_URL=xxx filename ");
      else {
        JMSDemo demo = new JMSDemo();
        demo.performJmsOperations();
      }
    } catch (Exception exception) {
      System.out.println("Exception : " + exception);
      exception.printStackTrace();
    } finally {
      try {
        if (connection != null)
          connection.close();
      } catch (Exception exc) {
        exc.printStackTrace();
      }
    }
    System.out.println("\nEnd of Demo aqjmsdemo11.");
  }
 
  public void performJmsOperations() {
    try {
      connection = getConnection(jdbcURL);
      Session session = connection.createSession(false,
          Session.AUTO_ACKNOWLEDGE);
      Queue queue = session.createQueue(queueName);
 
      // remove the messages from the Queue
      drainQueue(queueName, queueOwner, jdbcURL, true);
 
      // set the exception listener on the Connection
      connection.setExceptionListener(new DemoExceptionListener());
 
      MessageProducer producer = session.createProducer(queue);
      TextMessage textMessage = null;
 
      System.out.println("Sending " + numberOfMessages + " messages to queue "
          + queueName);
      for (int i = 0; i &lt; numberOfMessages; i++) {
        textMessage = session.createTextMessage();
        textMessage.setText("Sample message text");
        producer.send(textMessage);
      }
 
      MessageConsumer consumer = session.createConsumer(queue);
      System.out.println("Setting the message listener ...");
      consumer.setMessageListener(new DemoMessageListener());
      connection.start();
 
      // Introduce a long wait to allow the listener to receive all the messages
      while (messageCount &lt; numberOfMessages) {
        try {
          Thread.sleep(5000);
        } catch (InterruptedException interruptedException) {
        }
      }
    } catch (JMSException jmsException) {
      jmsException.printStackTrace();
    }
  }
 
  // Sample message listener
  static class DemoMessageListener implements javax.jms.MessageListener {
 
    public void onMessage(Message message) {
      try {
        System.out.println("Message listener received message with JMSMessageID "
                + message.getJMSMessageID());
        messageCount++;
      } catch (JMSException jmsException) {
        System.out.println("JMSException " + jmsException.getMessage());
      }
    }
  }
 
  // sample exception listener
  static class DemoExceptionListener implements javax.jms.ExceptionListener {
 
    public void onException(JMSException jmsException) {      
      try {
        // As a first step close the connection
        if (connection != null)
          connection.close();
      } catch (JMSException exception) {}
 
      try {
        System.out.println("Re-create the necessary JMS objects ...");
        connection = getConnection(jdbcURL);
        connection.start();
        Session session = connection.createSession(false,
            Session.AUTO_ACKNOWLEDGE);
        Queue queue = session.createQueue(queueName);
        MessageConsumer consumer = session.createConsumer(queue);
        consumer.setMessageListener(new DemoMessageListener());
      } catch (JMSException newJmsException) {
        newJmsException.printStackTrace();
      }
    }
  }
 
  // Utility method to get a connection
  static Connection getConnection(String jdbcUrl) throws JMSException {
    Properties prop = new Properties();
    prop.put("user", queueOwner);
    prop.put("password", queueOwnerPassword);
 
    AQjmsConnectionFactory fact = (AQjmsConnectionFactory) AQjmsFactory
        .getConnectionFactory(jdbcUrl, prop);
    Connection conn = fact.createConnection();
    return conn;
  }
 
  // Utility method to remove the messages from the queue
  static void drainQueue(String queueName, String queueOwner, String jdbcUrl,
      boolean debugInfo) {
    Connection connection = null;
    Session session = null;
    long timeout = 10000;
    int count = 0;
    Message message = null;
    try {
      connection = getConnection(jdbcUrl);
      connection.start();
      session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
      Queue queue = ((AQjmsSession) session).getQueue(queueOwner, queueName);
 
      MessageConsumer messageConsumer = session.createConsumer(queue);
      QueueBrowser browser = session.createBrowser(queue);
      Enumeration enumeration = browser.getEnumeration();
 
      if (enumeration.hasMoreElements()) {
        while ((message = messageConsumer.receive(timeout)) != null) {
          if (debugInfo) {
            count++;
          }
        }
      }
      messageConsumer.close();
      if (debugInfo) {
        System.out.println("Removed " + count + " messages from the queue : "
            + queueName);
      }
    } catch (JMSException jmsException) {
      jmsException.printStackTrace();
    } finally {
      try {
        if (session != null)
          session.close();
 
        if (connection != null)
          connection.close();
      } catch (Exception exception) {
 
      }
    }
  }
 
}
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8A158303-135A-4630-81DF-E1BDC28CC23A__GUID-6BBC1428-56F3-49A3-B999-73902396597B">
                        <p class="titleinexample">Example 15-15 Getting the Exception Listener for the Connection</p><pre class="oac_no_warn" dir="ltr">//Get the exception listener
Connection jms_connection;
ExceptionListener el = jms_connection.getExceptionListener();</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>