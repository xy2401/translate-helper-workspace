<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Query the cluster resource activity logs matching specific criteria."></meta>
      <meta name="description" content="Query the cluster resource activity logs matching specific criteria."></meta>
      <title>crsctl查询calog</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User’s Guide"></meta>
      <meta property="og:description" content="Query the cluster resource activity logs matching specific criteria."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96320-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="cluster-resource-activity-log.html" title="Previous" type="text/html"></link>
      <link rel="next" href="crsctl-get-calog-maxsize.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ATNMS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="cluster-resource-activity-log.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="crsctl-get-calog-maxsize.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="cluster-resource-activity-log.html" property="item" typeof="WebPage"><span property="name">管理群集资源活动日志</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">crsctl查询calog</li>
            </ol>
            <a id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F" name="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F"></a>
            
            <h2 id="ATNMS-GUID-257FAEAB-3AD6-4255-98CA-6416787E948F" class="sect2"><span class="enumeration_section">C.1</span> crsctl查询calog</h2>
         </header>
         <div class="ind">
            <div>
               <p>查询符合特定条件的群集资源活动日志。</p>
               <div class="section">
                  <p class="subhead1" id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F__GUID-CF0852F7-006F-4F6B-8A22-D05050FC2132">句法</p><pre class="pre codeblock"><code>crsctl查询calog [-aftertime“ <span class="variable" translate="no">timestamp</span> ”] [-beforetime“ <span class="variable" translate="no">timestamp</span> ”] [ <span class="variable" translate="no">time_interval</span> “ <span class="variable" translate="no">time_interval</span> ”| -follow] [-filter“ <span class="variable" translate="no">filter_expression</span> ”] [-fullfmt | -xmlfmt]</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F__GUID-90B37207-F8E4-43A5-8F9F-DF20E3761BD9">参数</p>
                  <div class="tblformal" id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F__GUID-07DFD5AA-1229-4E2A-81EB-19B1C39737F4">
                     <p class="titleintable">表C-1 crsctl查询calog命令参数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="crsctl query calog命令参数" border="1" summary="Describes the crsctl query calog command parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d69297e92">参数</th>
                              <th align="left" valign="bottom" width="20%" id="d69297e94">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e98" headers="d69297e92 "><code class="codeph">- 时间“ <span class="variable" translate="no">timestamp</span> ”</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e98 d69297e94 ">
                                 <p>显示特定时间后记录的活动。</p>
                                 <p>在<code class="codeph">YYYY-MM-DD HH24:MI:SS[.指定时间戳<code class="codeph">YYYY-MM-DD HH24:MI:SS[.FF][TZH:TZM]</code>或<code class="codeph">YYYY-MM-DD</code>或<code class="codeph">HH24:MI:SS[.FF][TZH:TZM]</code>格式。
                                 </p>
                                 <p><code class="codeph">TZH</code>和<code class="codeph">TZM</code>代表时区小时和分钟， <code class="codeph">FF</code>代表微秒。
                                 </p>
                                 <p>如果指定<code class="codeph">[TZH:TZM]</code> ，则<code class="codeph">crsctl</code>命令将UTC视为时区。如果未指定<code class="codeph">[TZH:TZM]</code> ，则<code class="codeph">crsctl</code>命令将假定运行<code class="codeph">crsctl</code>命令的群集节点的本地时区。
                                 </p>
                                 <p>将此参数与<code class="codeph">-beforetime</code>一起使用可查询以特定时间间隔记录的活动。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e151" headers="d69297e92 "><code class="codeph">-foreforetime“ <span class="variable" translate="no">timestamp</span> ”</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e151 d69297e94 ">
                                 <p>显示特定时间之前记录的活动。</p>
                                 <p>在<code class="codeph">YYYY-MM-DD HH24:MI:SS[.指定时间戳<code class="codeph">YYYY-MM-DD HH24:MI:SS[.FF][TZH:TZM]</code>或<code class="codeph">YYYY-MM-DD</code>或<code class="codeph">HH24:MI:SS[.FF][TZH:TZM]</code>格式。
                                 </p>
                                 <p><code class="codeph">TZH</code>和<code class="codeph">TZM</code>代表时区小时和分钟， <code class="codeph">FF</code>代表微秒。
                                 </p>
                                 <p>如果指定<code class="codeph">[TZH:TZM]</code> ，则<code class="codeph">crsctl</code>命令将UTC视为时区。如果未指定<code class="codeph">[TZH:TZM]</code> ，则<code class="codeph">crsctl</code>命令将假定运行<code class="codeph">crsctl</code>命令的群集节点的本地时区。
                                 </p>
                                 <p>将此参数与<code class="codeph">-aftertime</code>一起使用可查询以特定时间间隔记录的活动。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e204" headers="d69297e92 "><code class="codeph"><span class="variable" translate="no">time_interval</span> “ <span class="variable" translate="no">time_interval</span> ”| -跟随</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e204 d69297e94 ">
                                 <p>使用<code class="codeph">-duration</code>指定在使用<code class="codeph">-aftertime</code>参数时要查询的时间间隔。
                                 </p>
                                 <p>以<code class="codeph">DD HH:MM:SS</code>格式指定时间戳。
                                 </p>
                                 <p>使用<code class="codeph">-follow</code>可在活动发生时显示连续的活动流。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e230" headers="d69297e92 "><code class="codeph">-filter“ <span class="variable" translate="no">filter_expression</span> ”</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e230 d69297e94 ">
                                 <p>使用<code class="codeph">-filter</code>参数查询群集资源活动日志中的任意数量的字段。
                                 </p>
                                 <p>要指定多个过滤器，请使用逗号分隔的过滤器表达式列表，并用双引号（ <code class="codeph">""</code> ）括起来。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e248" headers="d69297e92 "><code class="codeph">-fullfmt | -xmlfmt</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e248 d69297e94 ">
                                 <p>要显示群集资源活动日志数据，请选择完整或XML格式。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F__GUID-4E5ED2CF-FFAF-4CE5-A08C-4308F7B4FEE6">群集资源活动日志字段</p>
                  <p>使用<code class="codeph">-filter</code>参数查询群集资源活动日志中的任意数量的字段。
                  </p>
                  <div class="tblformal" id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F__GUID-FAEB6A3B-F6B6-49F7-91B0-A288EF3A3285">
                     <p class="titleintable">表C-2群集资源活动日志字段</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="群集资源活动日志字段" border="1" summary="Describes the fields in the cluster resource activity log." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d69297e273">领域</th>
                              <th align="left" valign="bottom" width="20%" id="d69297e275">描述</th>
                              <th align="left" valign="bottom" width="20%" id="d69297e277">用例</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e281" headers="d69297e273 "><code class="codeph">时间戳</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e281 d69297e275 ">
                                 <p>记录群集资源活动的时间。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e281 d69297e277 ">
                                 <p>使用此过滤器查询在特定时间记录的所有活动。</p>
                                 <p>这是一种替代<code class="codeph">-aftertime</code> ， <code class="codeph">-beforetime</code>和<code class="codeph">-duration</code>命令参数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e302" headers="d69297e273 "><code class="codeph">writer_process_id</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e302 d69297e275 ">
                                 <p>写入群集资源活动日志的进程的ID。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e302 d69297e277 ">
                                 <p>仅查询特定进程生成的活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e312" headers="d69297e273 "><code class="codeph">writer_process_name</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e312 d69297e275 ">
                                 <p>写入群集资源活动日志的进程的名称。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e312 d69297e277 ">
                                 <p>查询特定进程时，CRSCTL将返回特定进程的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e322" headers="d69297e273 "><code class="codeph">writer_user</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e322 d69297e275 ">
                                 <p>正在写入群集资源活动日志的用户的名称。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e322 d69297e277 ">
                                 <p>查询特定用户编写的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e332" headers="d69297e273 "><code class="codeph">writer_group</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e332 d69297e275 ">
                                 <p>正在写入群集资源活动日志的用户所属的组的名称。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e332 d69297e277 ">
                                 <p>查询属于特定用户组的用户编写的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e342" headers="d69297e273 "><code class="codeph">writer_hostname</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e342 d69297e275 ">
                                 <p>写入群集资源活动日志的主机的名称。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e342 d69297e277 ">
                                 <p>查询特定主机写入的所有活动。</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e353" headers="d69297e273 "><code class="codeph">writer_clustername</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e353 d69297e275 ">
                                 <p>写入群集资源活动日志的群集的名称。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e353 d69297e277 ">
                                 <p>查询特定集群写入的所有活动。</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e364" headers="d69297e273 "><code class="codeph">nls_product</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e364 d69297e275 ">
                                 <p>NLS消息的产品，例如<code class="codeph">CRS</code> ， <code class="codeph">ORA</code>或<code class="codeph">srvm</code> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e364 d69297e277 ">
                                 <p>查询具有特定产品名称的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e383" headers="d69297e273 "><code class="codeph">nls_facility</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e383 d69297e275 ">
                                 <p>NLS消息的功能，例如<code class="codeph">CRS</code>或<code class="codeph">PROC</code> 。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e383 d69297e277 ">
                                 <p>查询具有特定设施名称的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e399" headers="d69297e273 "><code class="codeph">nls_id</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e399 d69297e275 ">
                                 <p>NLS消息的ID，例如<span class="variable" translate="no">42008</span> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e399 d69297e277 ">
                                 <p>查询具有特定消息ID的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e412" headers="d69297e273 "><code class="codeph">nls_field_count</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e412 d69297e275 ">
                                 <p>NLS消息中的字段数。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e412 d69297e277 ">
                                 <p>使用大于，小于或等于<code class="codeph">nls_field_count</code>命令参数查询与NLS消息对应的所有活动。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e426" headers="d69297e273 "><code class="codeph">nls_field1</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e426 d69297e275 ">
                                 <p>NLS消息的第一个字段。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e426 d69297e277 ">
                                 <p>查询与NLS消息的第一个参数匹配的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e436" headers="d69297e273 "><code class="codeph">nls_field1_type</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e436 d69297e275 ">
                                 <p>NLS消息中第一个字段的类型。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e436 d69297e277 ">
                                 <p>查询与NLS消息的第一个参数的特定类型匹配的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e446" headers="d69297e273 "><code class="codeph">nls_format</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e446 d69297e275 ">
                                 <p>NLS消息的格式（例如， <samp class="msgph">资源'％s'）已被修改</samp> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e446 d69297e277 ">
                                 <p>查询与特定格式的NLS消息匹配的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e459" headers="d69297e273 "><code class="codeph">nls_message</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e459 d69297e275 ">
                                 <p>写入群集资源活动日志的整个NLS消息（例如， <samp class="msgph">Resource'ora.cvu'）已被修改</samp> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e459 d69297e277 ">
                                 <p>查询与特定NLS消息匹配的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e472" headers="d69297e273 "><code class="codeph">ACTID</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e472 d69297e275 ">
                                 <p>每个群集活动日志的唯一活动ID。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e472 d69297e277 ">
                                 <p>查询与特定ID匹配的所有活动。</p>
                                 <p>此外，仅指定部分<code class="codeph">actid</code>并列出<code class="codeph">actid</code>是活动ID子集的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e490" headers="d69297e273 "><code class="codeph">is_planned</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e490 d69297e275 ">
                                 <p>确认活动是否已计划。</p>
                                 <p>例如，如果用户在节点上发出命令<code class="codeph">crsctl stop crs</code> ，则堆栈停止并且资源退回。
                                 </p>
                                 <p>运行<code class="codeph">crsctl stop crs</code>命令会生成活动并登录到<code class="codeph">calog</code> 。由于这是计划的操作，因此<code class="codeph">is_planned</code>字段设置为true（1）。
                                 </p>
                                 <p>否则， <code class="codeph">is_planned</code>字段设置为false（0）。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e490 d69297e277 ">
                                 <p>查询所有计划或计划外活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e521" headers="d69297e273 "><code class="codeph">onbehalfof_user</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e521 d69297e275 ">
                                 <p>代表集群活动日志写入的用户的名称。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e521 d69297e277 ">
                                 <p>查询代表特定用户编写的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e531" headers="d69297e273 "><code class="codeph">entity_isoraentity</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e531 d69297e275 ">
                                 <p>确认记录了calog活动的实体是否是oracle实体。</p>
                                 <p>例如，如果启动或停止资源（例如<code class="codeph">ora.***</code> ，则会在群集资源活动日志中记录所有这些活动。
                                 </p>
                                 <p>由于<code class="codeph">ora.***</code>是Oracle实体，因此<code class="codeph">entity_isoraentity</code>字段设置为true（1）。
                                 </p>
                                 <p>否则， <code class="codeph">entity_isoraentity</code>字段设置为false（0）。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e531 d69297e277 ">
                                 <p>查询Oracle或非Oracle实体记录的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e559" headers="d69297e273 "><code class="codeph">ENTITY_TYPE</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e559 d69297e275 ">
                                 <p>写入集群活动日志的实体类型，例如<span class="italic">服务器</span> 。
                                 </p> 
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e559 d69297e277 ">
                                 <p>查询与特定实体匹配的所有活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e573" headers="d69297e273 "><code class="codeph">实体名称</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e573 d69297e275 ">
                                 <p>实体的名称，例如，为其写入集群活动日志的<span class="variable" translate="no">foo</span> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e573 d69297e277 ">
                                 <p>查询与特定实体名称匹配的所有集群活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e586" headers="d69297e273 "><code class="codeph">entity_hostname</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e586 d69297e275 ">
                                 <p>与写入集群活动日志的实体关联的主机名称，例如<code class="codeph">node1</code> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e586 d69297e277 ">
                                 <p>查询与特定主机名匹配的所有群集活动。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d69297e600" headers="d69297e273 "><code class="codeph">entity_clustername</code></td>
                              <td align="left" valign="top" width="20%" headers="d69297e600 d69297e275 ">
                                 <p>群集的名称，例如， <span class="variable" translate="no">cluster1</span>与其中群集活动日志写入该实体相关联。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d69297e600 d69297e277 ">
                                 <p>查询与特定群集名称匹配的所有群集活动。</p>。
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F__GUID-D8D0C7D3-859B-48AC-B9DA-C21897AC74A2">使用说明</p>
                  <p>使用布尔运算符将简单滤镜组合到称为表达式滤镜的表达式</p>
                  <p>用双引号（“”）括起时间戳和时间间隔。</p>
                  <p>将过滤器表达式括在双引号（“”）中。</p>
                  <p>将包含括号或空格的值括在单引号（''）中。</p>
                  <div class="p">如果未找到匹配的记录，则Oracle Clusterware Control（CRSCTL）实用程序将显示以下消息：<pre class="oac_no_warn" dir="ltr">CRS-40002：没有活动与查询匹配。</pre></div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-257FAEAB-3AD6-4255-98CA-6416787E948F__GUID-1A6A12DD-7827-480A-A716-2616AEF9E872">例子</p>
                  <p>过滤器的示例包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">"writer_user==root"</code> ：将显示限制为仅限root用户。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">"customer_data=='GEN_RESTART@SERVERNAME(rwsbi08)=StartCompleted~'"</code>限制所述显示器<code class="codeph">customer_data</code>具有指定值<code class="codeph">GEN_RESTART@SERVERNAME(node1)=StartCompleted~</code>
                        </p>
                     </li>
                  </ul>
                  <div class="p">要查询所有资源活动并以完整格式显示输出：<pre class="pre codeblock"><code><span class="bold">$ crsctl query calog -fullfmt</span> ---- ACTIVITY START ----时间戳：2016-09-27 17：55：43.152000 writer_process_id：6538 writer_process_name：crsd.bin writer_user：root writer_group：root writer_hostname：node1 writer_clustername：cluster1-mb1 customer_data：CHECK_RESULTS = -408040060~nls_product：CRS nls_facility：CRS nls_id：2938 nls_field_count：1 nls_field1：ora.cvu nls_field1_type：25 nls_field1_len：0 nls_format：资源'％s'已被修改。nls_message：资源'ora.cvu'已被修改。actid：14732093665106538/1816699/1 is_planned：1 onbehalfof_user：grid onbehalfof_hostname：node1 entity_isoraentity：1 entity_type：resource entity_name：ora.cvu entity_hostname：node1 entity_clustername：cluster1-mb1 ---- ACTIVITY END ----</code></pre></div>
                  <div class="p">要查询所有资源活动并以XML格式显示输出：<pre class="pre codeblock"><code><span class="bold">$ crsctl查询calog -xmlfmt</span> &lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;activities&gt; &lt;activity&gt; &lt;timestamp&gt; 2016-09-27 17：55：43.152000 &lt;/ timestamp&gt; &lt;writer_process_id&gt; 6538 &lt;/ writer_process_id&gt; &lt;writer_process_name&gt; crsd.bin &lt;/ writer_process_name&gt; &lt;writer_user&gt; root &lt;/ writer_user&gt; &lt;writer_group&gt; root &lt;/ writer_group&gt; &lt;writer_hostname&gt; node1 &lt;/ writer_hostname&gt; &lt;writer_clustername&gt; cluster1-mb1 &lt;/ writer_clustername&gt; &lt;customer_data&gt; CHECK_RESULTS = -408040060~ &lt;/ customer_data&gt; &lt;nls_product&gt; CRS &lt;/ nls_product&gt; &lt;nls_facility&gt; CRS &lt;/ nls_facility&gt; &lt;nls_id&gt; 2938 &lt;/ nls_id&gt; &lt;nls_field_count&gt; 1 &lt;/ nls_field_count&gt; &lt;nls_field1&gt; ora.cvu &lt;/ nls_field1&gt; &lt;nls_field1_type&gt; 25 &lt;/ nls_field1_type&gt; &lt;nls_field1_len&gt; 0 &lt;/ nls_field1_len&gt; &lt;nls_format&gt;资源'％s'已被修改。&lt;/ nls_format&gt; &lt;nls_message&gt;资源'ora.cvu'已被修改。&lt;/ nls_message&gt; &lt;actid&gt; 14732093665106538/1816699/1 &lt;/ actid&gt; &lt;is_planned&gt; 1 &lt;/ is_planned&gt; &lt; onbehalfof_user&gt; grid &lt;/ onbehalfof_user&gt; &lt;onbehalfof_hostname&gt; node1 &lt;/ onbehalfof_hostname&gt; &lt;entity_isoraentity&gt; 1 &lt;/ entity_isoraentity&gt; &lt;entity_type&gt; resource &lt;/ entity_type&gt; &lt;entity_name&gt; ora.cvu &lt;/ entity_name&gt; &lt;entity_hostname&gt; node1 &lt;/ entity_hostname&gt; &lt;entity_clustername&gt; cluster1-mb1 &lt;/ entity_clustername&gt; &lt;/ activity&gt; &lt;/ activities&gt;</code></pre></div>
                  <div class="p">要在特定时间后查询两小时的资源活动，并以XML格式显示输出：<pre class="pre codeblock"><code><span class="bold">$ crsctl query calog -aftertime“2016-09-28 17:55:43”-duration“0 02:00:00”-xmlfmt</span> &lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;activities&gt; &lt;activity&gt; &lt;timestamp&gt; 2016-09-28 17：55：45.992000 &lt;/ timestamp&gt; &lt;writer_process_id&gt; 6538 &lt;/ writer_process_id&gt; &lt;writer_process_name&gt; crsd.bin &lt;/ writer_process_name&gt; &lt;writer_user&gt; root &lt;/ writer_user&gt; &lt;writer_group&gt; root &lt;/ writer_group&gt; &lt;writer_hostname&gt; node1 &lt;/ writer_hostname&gt; &lt;writer_clustername&gt; cluster1-mb1 &lt;/ writer_clustername&gt; &lt;customer_data&gt; CHECK_RESULTS = 1718139884~ &lt;/ customer_data&gt; &lt;nls_product&gt; CRS &lt;/ nls_product&gt; &lt;nls_facility&gt; CRS &lt; / nls_facility&gt; &lt;nls_id&gt; 2938 &lt;/ nls_id&gt; &lt;nls_field_count&gt; 1 &lt;/ nls_field_count&gt; &lt;nls_field1&gt; ora.cvu &lt;/ nls_field1&gt; &lt;nls_field1_type&gt; 25 &lt;/ nls_field1_type&gt; &lt;nls_field1_len&gt; 0 &lt;/ nls_field1_len&gt; &lt;nls_format&gt;资源' ％s'已被修改。&lt;/ nls_format&gt; &lt;nls_message&gt;资源'ora.cvu'已被修改。&lt;/ nls_message&gt; &lt;actid&gt; 14732093665106538/1942009/1 &lt;/ actid&gt; &lt;is_planned&gt; 1 &lt;/ is_planned&gt; &lt;onbehalfof_user &gt; grid &lt;/ onbehalfof_user&gt; &lt;onbehalfof_hostname&gt; node1 &lt;/ onbehalfof_hostname&gt; &lt;entity_isoraentity&gt; 1 &lt;/ entity_isoraentity&gt; &lt;entity_type&gt; resource &lt;/ entity_type&gt; &lt;entity_name&gt; ora.cvu &lt;/ entity_name&gt; &lt;entity_hostname&gt; node1 &lt;/ entity_hostname&gt; &lt;entity_clustername&gt; cluster1-mb1 &lt;/ entity_clustername&gt; &lt;/ activity&gt; &lt;/ activities&gt;</code></pre></div>
                  <div class="p">要在特定时间查询资源活动：<pre class="pre codeblock"><code><span class="bold">$ crsctl query calog -filter“timestamp =='2016-09-28 17：55：45.992000'”</span> 2016-09-28 17：55：45.992000：资源'ora.cvu'已被修改。 ：14732093665106538/1942009/1：</code></pre></div>
                  <p>使用过滤器<code class="codeph">writer_user</code>和<code class="codeph">customer_data</code>查询资源活动：</p>
                  <div class="p"><pre class="pre codeblock"><code><span class="bold">$ crsctl query calog -filter“writer_user == root AND customer_data =='GEN_RESTART @ SERVERNAME（node1）= StartCompleted〜'” -  fullfmt</span></code></pre></div>
                  <p><span class="italic">要么</span></p>
                  <div class="p"><pre class="pre codeblock"><code><span class="bold">$ crsctl query calog -filter“（writer_user == root）AND（customer_data =='GEN_RESTART @ SERVERNAME（node1）= StartCompleted~'）” -  fullfmt</span></code></pre></div>
                  <div class="p"><pre class="pre codeblock"><code>---- ACTIVITY START ----时间戳：2016-09-15 17：42：57.517000 writer_process_id：6538 writer_process_name：crsd.bin writer_user：root writer_group：root writer_hostname：node1 writer_clustername：cluster1-mb1 customer_data：GEN_RESTART @ SERVERNAME（ rwsbi08）= StartCompleted~nls_product：CRS nls_facility：CRS nls_id：2938 nls_field_count：1 nls_field1：ora.testdb.db nls_field1_type：25 nls_field1_len：0 nls_format：资源'％s'已被修改。nls_message：资源'ora.devdb.db'已被修改。actid：14732093665106538/659678/1 is_planned：1 onbehalfof_user：oracle onbehalfof_hostname：node1 entity_isoraentity：1 entity_type：resource entity_name：ora.testdb.db entity_hostname：node1 entity_clustername：cluster1-mb1 ---- ACTIVITY END ----</code></pre></div>
                  <div class="p">查询UTC + 08：00时间“2016-11-15 22:53:08”后生成的所有calog：<pre class="pre codeblock"><code>$ crsctl query calog -aftertime“2016-11-15 22:53:08 + 08:00”</code></pre></div>
                  <div class="p">查询UTC-08：00时间“2016-11-15 22:53:08”后生成的所有calog：<pre class="pre codeblock"><code>$ crsctl query calog -aftertime“2016-11-15 22：53：08-08：00”</code></pre></div>
                  <div class="p">通过使用微秒指定时间戳来查询所有calog：<pre class="pre codeblock"><code><span class="bold">$ crsctl query calog -aftertime“2016-11-16 01：07：53.063000”</span> 2016-11-16 01：07：53.558000：资源'ora.cvu'已被修改。 ：14792791129816600/2580/7：2016-11-16 01：07：53.562000：清除'rwsam02'上的'ora.cvu'成功：14792791129816600/2580/8：</code></pre></div>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="cluster-resource-activity-log.html#GUID-7650ADB9-3CB1-4516-8470-4501EBB42B01" title="Oracle Clusterware将有关资源故障的日志存储在群集资源活动日志中，该日志位于Grid Infrastructure Management资源库中。">管理群集资源活动日志</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>