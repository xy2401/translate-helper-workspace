<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>maintSpec</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="maintQualifier.html" title="Previous" type="text/html"></link>
      <link rel="next" href="obsOperandList.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="maintQualifier.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="obsOperandList.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-subclauses.html" property="item" typeof="WebPage"><span property="name">RMAN子条款</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">maintSpec</li>
            </ol>
            <a id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B" name="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B"></a><a id="RCMRF90465"></a><a id="RCMRF90466"></a><a id="RCMRF90467"></a><a id="RCMRF1922"></a>
            
            <h2 id="RCMRF-GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B" class="sect2"><span class="enumeration_section">4.16</span> maintSpec</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__GUID-0DF362ED-5292-4687-BBD0-0CAACF321904">目的</p>
                  <p>使用<span class="italic"><code class="codeph">maintSpec</code></span>子句指定<code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> ， <code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code>和<code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code>命令操作的备份文件。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__GUID-2FFB9A4F-B0ED-4D90-AD78-5C288A18C8AF">句法</p>
                  <p id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__BABFBCJA"><span class="bold"><span class="italic">maintSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__GUID-39C8F6B9-4EAB-43F2-A8BE-5B08443044C6"><img src="img/maintspec.gif" alt="maintspec.eps的描述如下" title="maintspec.eps的描述如下" longdesc="img_text/maintspec.html"><br><a href="img_text/maintspec.html">说明maintspec.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="listObjList.html#GUID-73596ED4-99FE-45B8-B333-FECC698E1374__BABBEIIJ">listObjList :: =</a></span> ， <span class="italic"><a href="maintQualifier.html#GUID-6AF4DA92-BBBD-4931-96D2-766D9D29EA3F__BABEEGAJ">maintQualifier :: =</a></span> ， <span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier :: =</a></span> ， <span class="italic"><a href="recordSpec.html#GUID-92F09EC0-5E30-47C0-834E-5A24FAE98F14__BABEIAEB">recordSpec :: =</a></span> ， <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__GUID-B3A1EE00-CD95-49E0-8CC0-CC533C5E131B">语义</p>
                  <p id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__BABFBDDF"><span class="bold"><span class="italic">maintSpec</span></span></p>
                  <div class="tblformalwide" id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__GUID-6E43AF79-E38A-419B-98E3-8A73C21CA688">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes maintSpec subclause parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d122476e170">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d122476e173">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e178" headers="d122476e170 ">
                                 <p><code class="codeph">BACKUP</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e178 d122476e173 ">
                                 <p>处理备份集。要处理图像副本，请使用<code class="codeph">COPY</code>选项。</p>
                                 <p>如果不将<code class="codeph">OF</code>子句与<code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> <code class="codeph">BACKUP</code> ，则RMAN会更改存储库中记录的所有备份集。如果你不使用<code class="codeph">OF</code>与第<code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code> <code class="codeph">BACKUP</code> ，然后反复查对RMAN整个数据库的备份。如果不将<code class="codeph">OF</code>子句与<code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">BACKUP</code> ，则RMAN将删除整个数据库的备份。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e225" headers="d122476e170 ">
                                 <p><code class="codeph">OF</code> <span class="italic"><code class="codeph"><a href="listObjList.html#GUID-73596ED4-99FE-45B8-B333-FECC698E1374">listObjList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e225 d122476e173 ">
                                 <p>将操作的文件列表限制为<span class="italic"><code class="codeph">listObjList</code></span>子句中指定的对象类型。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="listObjList.html#GUID-73596ED4-99FE-45B8-B333-FECC698E1374">listObjList</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e252" headers="d122476e170 ">
                                 <p><span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e252 d122476e173 ">
                                 <p>处理指定的归档重做日志文件。</p>
                                 <p>如果指定<code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">ARCHIVELOG</code>而没有<code class="codeph">BACKED UP</code>子句，则RMAN使用配置的设置来确定是否可以删除存档日志（ <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">ARCHIVELOG DELETION POLICY TO BACKED UP</code> ）。如果使用<code class="codeph">BACKED UP</code>子句指定<code class="codeph">DELETE ARCHIVELOG</code> ，则RMAN使用<code class="codeph">DELETE</code>设置来确定是否可以删除存档日志。使用<code class="codeph">FORCE</code>和<code class="codeph">DELETE ARCHIVELOG</code>覆盖已配置的删除策略以及介质和存储库之间的任何不匹配。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e309" headers="d122476e170 ">
                                 <p><code class="codeph">复制</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e309 d122476e173 ">
                                 <p>处理数据文件副本，控制文件副本和归档重做日志文件。</p>
                                 <p>如果未指定<code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> <code class="codeph">COPY</code>选项，则该命令将对存储库中记录的所有映像副本进行操作。如果使用<code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code> <code class="codeph">COPY</code> ，则默认情况下，该命令将检查数据库中状态为<code class="codeph">AVAILABLE</code>或<code class="codeph">EXPIRED</code>的所有文件的所有映像副本。如果您使用<code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">COPY</code> ，则默认情况下<code class="codeph">COPY</code>将删除数据库中所有文件的副本。指定<code class="codeph">EXPIRED</code>选项以仅删除存储库中标记为<code class="codeph">EXPIRED</code>副本。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e359" headers="d122476e170 ">
                                 <p><code class="codeph">OF</code> <span class="italic"><code class="codeph"><a href="listObjList.html#GUID-73596ED4-99FE-45B8-B333-FECC698E1374">listObjList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e359 d122476e173 ">
                                 <p>将操作的对象列表限制为<span class="italic"><code class="codeph">listObjList</code></span>子句中指定的对象类型。如果未指定对象，则该命令默认为所有副本。<code class="codeph">CHANGE</code> <code class="codeph">COPY</code> <code class="codeph">OF</code> <code class="codeph">DATABASE</code>包括数据文件，但无法控制的文件。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="listObjList.html#GUID-73596ED4-99FE-45B8-B333-FECC698E1374">listObjList</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e398" headers="d122476e170 ">
                                 <p><code class="codeph"><span class="codeinlineitalic"><a href="foreignlogRecordSpecifier.html#GUID-122E19A7-5BCC-434C-BE2A-9D4F248EA02C">foreignlogRecordSpecifier</a></span></code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e398 d122476e173 ">
                                 <p>处理指定的外部归档重做日志文件。</p>
                                 <p><span class="bold">另请参见：</span> <code class="codeph"><span class="codeinlineitalic"><a href="foreignlogRecordSpecifier.html#GUID-122E19A7-5BCC-434C-BE2A-9D4F248EA02C">foreignlogRecordSpecifier</a></span></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e418" headers="d122476e170 ">
                                 <p><span class="italic"><code class="codeph"><a href="maintQualifier.html#GUID-6AF4DA92-BBBD-4931-96D2-766D9D29EA3F">maintQualifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e418 d122476e173 ">
                                 <p>根据指定的选项限制命令。</p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="maintQualifier.html#GUID-6AF4DA92-BBBD-4931-96D2-766D9D29EA3F">maintQualifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e438" headers="d122476e170 ">
                                 <p><span class="italic"><code class="codeph"><a href="recordSpec.html#GUID-92F09EC0-5E30-47C0-834E-5A24FAE98F14">recordSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e438 d122476e173 ">
                                 <p>指定要执行维护的文件。</p>
                                 <p>如果在<span class="italic"><code class="codeph">recordSpec</code></span>使用<code class="codeph">BACKUPSET</code>参数，则键标识用于<code class="codeph">CHANGE</code> ， <code class="codeph">CROSSCHECK</code>和<code class="codeph">DELETE</code>命令的备份集。有关更多详细信息，请参阅<span class="q">“ <a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E__I104775">LIST命令输出</a> ”</span>以获取<code class="codeph">LIST</code>列标题的说明<span class="bold"> </span>输出表。使用输出的<code class="codeph">KEY</code>列获取<code class="codeph">CHANGE</code>和<code class="codeph">DELETE</code>命令中可用的主键。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="recordSpec.html#GUID-92F09EC0-5E30-47C0-834E-5A24FAE98F14">recordSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d122476e495" headers="d122476e170 ">
                                 <p><a id="d122476e497" class="indexterm-anchor"></a> <code class="codeph">DEVICE TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d122476e495 d122476e173 ">
                                 <p>仅为指定的设备类型分配自动通道。仅当您配置了自动通道且未手动分配通道时，此选项才有效。例如，如果配置自动磁盘和磁带通道并运行<code class="codeph">CROSSCHECK...DEVICE TYPE DISK</code> ，然后RMAN仅分配磁盘通道。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__GUID-E36DDEEE-A3EC-4B03-B680-7537C2656108">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B__GUID-43F713F3-EA41-4335-A985-87EACBCAD773">
                  <p class="titleinexample">示例4-32交叉检查备份</p>
                  <p>以下命令交叉检查归档重做日志文件的备份：</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; ARCHIVELOG ALL的CROSSCHECK BACKUP;已分配的频道：ORA_SBT_TAPE_1频道ORA_SBT_TAPE_1：SID = 103设备类型= SBT_TAPE频道ORA_SBT_TAPE_1：使用频道ORA_DISK_1交叉检查备份片段的Oracle Secure Backup：发现是'AVAILABLE'备用片句柄= 8cic4031_1_1 RECID = 195 STAMP = 616693857 crosschecked backup piece：found to是'AVAILABLE'备用件手柄= 8oic41ad_1_1 RECID = 198 STAMP = 616695118交叉检查备件：发现'AVAILABLE'备件件手柄= 8qic41c3_1_1 RECID = 200 STAMP = 616695171交叉检查3件物品</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>