<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle ASM File Access Control provides optional protection for the content of Oracle ASM disk groups from accidental access by unauthorized Oracle ASM clients, such as an unauthorized database."></meta>
      <meta name="description" content="Oracle ASM File Access Control provides optional protection for the content of Oracle ASM disk groups from accidental access by unauthorized Oracle ASM clients, such as an unauthorized database."></meta>
      <title>管理磁盘组的Oracle ASM文件访问控制</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle ASM File Access Control provides optional protection for the content of Oracle ASM disk groups from accidental access by unauthorized Oracle ASM clients, such as an unauthorized database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="diskgroup-compatibility.html" title="Previous" type="text/html"></link>
      <link rel="next" href="maintain-diskgroups.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="diskgroup-compatibility.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="maintain-diskgroups.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="admin-asm-diskgroups.html" property="item" typeof="WebPage"><span property="name">管理Oracle ASM磁盘组</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理磁盘组的Oracle ASM文件访问控制</li>
            </ol>
            <a id="GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371" name="GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371"></a><a id="OSTMG02660"></a>
            
            <h2 id="OSTMG-GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371" class="sect2">管理磁盘组的Oracle ASM文件访问控制</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle ASM文件访问控制为Oracle ASM磁盘组的内容提供可选保护，防止未经授权的Oracle ASM客户端（例如未经授权的数据库）意外访问。</p>
               <p>要设置Oracle ASM文件访问控制，必须指定单独的操作系统组。您可以使用ASMCMD命令和SQL语句管理Oracle ASM文件访问控制。</p>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="asm-access-control-diskgroups.html#GUID-A11250DC-ABA7-4F52-91FF-760ED75E4565" title="Oracle ASM文件访问控制限制文件对作为SYSDBA连接的特定Oracle ASM客户端的访问。">关于Oracle ASM文件访问控制</a></p>
                  </li>
                  <li>
                     <p><a href="asm-access-control-diskgroups.html#GUID-684CA4CB-EC16-4ECC-9771-184B11686918">为Oracle ASM文件访问控制设置磁盘组属性</a></p>
                  </li>
                  <li>
                     <p><a href="asm-access-control-diskgroups.html#GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB">使用SQL语句管理Oracle ASM文件访问控制</a></p>
                  </li>
               </ul>
               <p></p>
               <p></p>
               <div class="infoboxnotealso" id="GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371__GUID-14FA1777-1D3A-47AD-A4F5-C54B364018AE">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8">为Oracle ASM用户使用单独的操作系统组，</a>以获取有关指定单独的操作系统组的信息</p>
                     </li>
                     <li>
                        <p><a href="asmcmd-accesscontrol-commands.html#GUID-AC0085E4-E4DC-4655-AD05-4C07B53900BE" title="本主题提供ASMCMD Oracle ASM文件访问控制命令的摘要。">ASMCMD文件访问控制命令，</a>以获取有关使用ASMCMD命令管理Oracle ASM文件访问控制的信息</p>
                     </li>
                     <li>
                        <p><a href="views-asm-info.html#GUID-23E1F0D8-ECF5-4A5A-8C9C-11230D2B4AD4">查看Oracle ASM文件访问控制信息，</a>以获取有关提供有关Oracle ASM文件访问控制的详细信息的视图的信息</p>
                     </li>
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" title="以SYSASM身份登录Oracle ASM实例时，可以使用CREATE USER和GRANT SQL语句的组合来创建具有SYSASM权限的用户。Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">用于访问Oracle ASM实例的身份验证，</a>以获取有关控制对Oracle ASM实例的访问的信息</p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG02650"></a><div class="props_rev_3"><a id="GUID-A11250DC-ABA7-4F52-91FF-760ED75E4565" name="GUID-A11250DC-ABA7-4F52-91FF-760ED75E4565"></a><h3 id="OSTMG-GUID-A11250DC-ABA7-4F52-91FF-760ED75E4565" class="sect3">关于Oracle ASM文件访问控制</h3>
               <div>
                  <p>Oracle ASM文件访问控制限制文件对作为SYSDBA连接的特定Oracle ASM客户端的访问。</p>
                  <p>Oracle ASM客户端通常是一个数据库，它被标识为拥有数据库实例主目录的用户。Oracle ASM文件访问控制使用此用户名来标识数据库。Oracle ASM文件访问控制根据操作系统数据库所有者的有效用户标识号限制访问。例如，在<a href="authenticate-access-asm-instance.html#GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8__CHDBGJEE" title="用户部署">表3-2中</a> ，数据库被标识为<code class="codeph">oracle1</code>和<code class="codeph">oracle2</code> 。
                  </p>
                  <p>Oracle ASM使用文件访问控制来确定为已在Oracle ASM实例上进行AS SYSDBA身份验证的数据库提供的其他权限。这些附加权限包括修改和删除某些文件，别名和用户组的功能。</p>
                  <p>您可以设置用户组以指定与Oracle ASM文件共享相同访问权限的数据库列表。用户组是数据库列表，任何验证AS SYSDBA的数据库都可以创建用户组。但是，只有组的创建者可以删除它或修改其成员列表。</p>
                  <p>每个Oracle ASM文件都有三类权限：所有者，组和其他。每个类别都没有权限，只读权限或读写权限。</p>
                  <p>文件所有者通常是文件的创建者，可以在任何所有者，组或其他类别中为文件分配权限。所有者还可以更改与文件关联的组。</p>
                  <p>创建文件时，组不会自动与该文件关联。必须使用<code class="codeph">asmcmd</code> <code class="codeph">chgrp</code>命令手动设置组，因为Oracle ASM文件访问控制不具有用户主组的概念。
                  </p>
                  <p>管理Oracle ASM文件访问控制时，Oracle建议您以SYSDBA身份连接到磁盘组中文件的所有者或计划所有者的数据库实例。</p>
                  <p>要为磁盘组中的文件设置Oracle ASM文件访问控制，请执行以下步骤：</p>
                  <ol>
                     <li>
                        <p>更改新的或现有的磁盘组以设置Oracle ASM文件访问控制磁盘组属性。</p>
                        <p>对于新创建的磁盘组，应在创建磁盘组中的任何文件之前设置磁盘组属性。</p>
                     </li>
                     <li>
                        <p>对于在设置Oracle ASM文件访问控制磁盘组属性之前存在于磁盘组中的文件，必须显式设置这些现有文件的权限和所有权。</p>
                        <p>在为文件设置所有权或权限之前，请确保用户存在。在设置所有权或权限之前，必须先关闭该文件。</p>
                     </li>
                     <li>
                        <p>（可选）您可以创建用户组，这些用户组是对Oracle ASM文件具有相同访问权限的数据库用户组。</p>
                     </li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-A11250DC-ABA7-4F52-91FF-760ED75E4565__GUID-24871DA3-AD14-4102-A85D-8169A54E28D9">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="asm-access-control-diskgroups.html#GUID-684CA4CB-EC16-4ECC-9771-184B11686918">设置Oracle ASM文件访问控制的磁盘组属性，</a>以获取有关设置磁盘组属性的信息</p>
                        </li>
                        <li>
                           <p><a href="asm-access-control-diskgroups.html#GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB">使用SQL语句来管理Oracle ASM的文件访问控制</a>了解有关使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">SET</code> <code class="codeph">PERMISSION</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">SET</code> <code class="codeph">OWNERSHIP</code>用于管理与SQL语句的Oracle ASM文件访问控制</p>
                        </li>
                        <li>
                           <p><a href="asm-access-control-diskgroups.html#GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB">使用SQL语句管理Oracle ASM文件访问控制</a>以获取有关使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ADD</code> <code class="codeph">USERGROUP</code></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94153"></a><a id="OSTMG94152"></a><div class="props_rev_3"><a id="GUID-684CA4CB-EC16-4ECC-9771-184B11686918" name="GUID-684CA4CB-EC16-4ECC-9771-184B11686918"></a><h3 id="OSTMG-GUID-684CA4CB-EC16-4ECC-9771-184B11686918" class="sect3">为Oracle ASM文件访问控制设置磁盘组属性</h3>
               <div>
                  <p>要管理磁盘组的Oracle ASM文件访问控制，必须设置<code class="codeph">ACCESS_CONTROL.ENABLED</code>和<code class="codeph">ACCESS_CONTROL.UMASK</code>磁盘组属性。您可以通过使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句更改磁盘组来设置属性，也可以使用ASMCMD <code class="codeph">setattr</code>命令设置属性。
                  </p>
                  <p>在现有磁盘组上设置文件访问控制时，除非运行<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">SET</code> <code class="codeph">PERMISSION</code> SQL语句或ASMCMD <code class="codeph">chmod</code>命令来限制权限，否则所有人都可以访问以前创建的文件。
                  </p>
                  <p>必须将<code class="codeph">COMPATIBLE.ASM</code>和<code class="codeph">COMPATIBLE.RDBMS</code>磁盘组属性设置为<code class="codeph">11.2</code>或更高才能启用Oracle ASM文件访问控制。
                  </p>
                  <p>控制Oracle ASM文件访问控制的磁盘组属性如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ACCESS_CONTROL.ENABLED</code></p>
                        <p>此属性确定是否为磁盘组启用Oracle ASM文件访问控制。</p>
                        <p>值可以是<code class="codeph">true</code>或<code class="codeph">false</code> 。默认值为<code class="codeph">false</code> 。
                        </p>
                        <p>如果该属性设置为<code class="codeph">true</code> ，则访问Oracle ASM文件受访问控制。如果为<code class="codeph">false</code> ，则任何用户都可以访问磁盘组中的每个文件。所有其他操作的行为与此属性无关。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ACCESS_CONTROL.UMASK</code></p>
                        <p>此属性确定在为拥有该文件的用户，同一用户组中的用户以及不在该用户组中的其他用户创建Oracle ASM文件时屏蔽了哪些权限。此属性适用于磁盘组上的所有文件。</p>
                        <p>值可以是三位数{ <code class="codeph">0</code> |的组合<code class="codeph">2</code> | <code class="codeph">6</code> } { <code class="codeph">0</code> | <code class="codeph">2</code> | <code class="codeph">6</code> } { <code class="codeph">0</code> | <code class="codeph">2</code> | <code class="codeph">6</code> }。默认值为<code class="codeph">066</code> 。
                        </p>
                        <p>设置为<code class="codeph">0</code>屏蔽掉任何内容。设置为<code class="codeph">2</code>屏蔽写入权限。设置为<code class="codeph">6</code>屏蔽读取和写入权限。
                        </p>
                        <p>在设置<code class="codeph">ACCESS_CONTROL.UMASK</code>磁盘组属性之前，必须将<code class="codeph">ACCESS_CONTROL.ENABLED</code>属性设置为<code class="codeph">true</code>以启用Oracle ASM文件访问控制。
                        </p>
                     </li>
                  </ul>
                  <p><a href="asm-access-control-diskgroups.html#GUID-684CA4CB-EC16-4ECC-9771-184B11686918__CHDHDJJE">例4-11</a>显示了如何使用SQL * Plus为磁盘组启用Oracle ASM文件访问控制。在此示例中， <code class="codeph">umask</code>权限设置为<code class="codeph">026</code> ，它允许所有者进行读写访问（不使用<code class="codeph">0</code>屏蔽任何内容），对组中的用户进行读取访问（使用<code class="codeph">2</code>屏蔽写入权限），以及不访问其他人（掩码） <code class="codeph">6</code> ）不在组中的所有访问权限。
                  </p>
                  <div class="example" id="GUID-684CA4CB-EC16-4ECC-9771-184B11686918__CHDHDJJE">
                     <p class="titleinexample">示例4-11设置Oracle ASM文件访问控制</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP data1 SET ATTRIBUTE'access_control.enabled'='true'; ALTER DISKGROUP data1 SET ATTRIBUTE'access_control.umask'='026';</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-684CA4CB-EC16-4ECC-9771-184B11686918__GUID-5BBCE270-8531-4A90-86D7-57A1C30F5D77">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <a href="asmcmd-diskgroup-commands.html#GUID-E978572A-F127-410D-B7C3-DAB7B30E4ED3">setattr</a>有关ASMCMD <code class="codeph">setattr</code>命令的信息</p>
                           </li>
                           <li>
                              <p><a href="asmcmd-accesscontrol-commands.html#GUID-320E14FD-E102-46ED-9F87-A14C3E189721">chmod</a>有关ASMCMD <code class="codeph">chmod</code>命令的信息</p>
                           </li>
                           <li>
                              <p><a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="您无法将磁盘组兼容性还原为以前的值。相反，您必须创建一个新磁盘组。该主题描述了由磁盘组兼容性属性设置的有效组合启用的Oracle ASM功能。如果提高了磁盘组兼容性，则可以启用创建太大而无法由以前版本的Oracle数据库管理的文件。">磁盘组兼容性</a>有关磁盘组兼容性属性的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG94154"></a><div class="props_rev_3"><a id="GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB" name="GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB"></a><h3 id="OSTMG-GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB" class="sect3">使用SQL语句管理Oracle ASM文件访问控制</h3>
               <div>
                  <p>您可以使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句来管理Oracle ASM磁盘组的文件访问控制。这些SQL语句可用于数据库和Oracle ASM实例。
                  </p>
                  <p>使用SQL * Plus管理用户时，用户必须是现有操作系统用户，并且其用户名必须具有相应的操作系统用户ID。但是，只能验证与Oracle ASM实例位于同一群集中的用户。</p>
                  <div class="infoboxnote" id="GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB__GUID-F63653DF-1870-4741-A628-898C9A5BECA3">
                     <p class="notep1">注意：</p>
                     <p>修改文件的所有权时，即使文件的所有权发生更改，也无法在文件仍处于打开状态时删除文件的先前所有者。</p>
                  </div>
                  <p>支持磁盘组访问控制的SQL语句是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ADD</code> <code class="codeph">USERGROUP</code> <code class="codeph">WITH</code> <code class="codeph">MEMBER</code></p>
                        <p>将Oracle ASM用户组添加到磁盘组。用户组名称限制为最多30个字符。<code class="codeph">MEMBER</code>子句中标识的数据库的操作系统用户必须位于磁盘组中，如<code class="codeph">V$ASM_USER</code>所示，否则该命令将返回错误。任何经过身份验证为<code class="codeph">SYSASM</code>或<code class="codeph">SYSDBA</code>用户都可以创建新的用户组。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT group_number，os_name FROM V $ ASM_USER; GROUP_NUMBER OS_NAME ------------ ------------------------------------ ---------------------------- 1 oracle1 1 oracle2 ...SQL&gt; ALTER DISKGROUP数据添加USERGROUP'test_grp1'WITH MEMBER'oracle1'，'oracle2';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">DROP</code> <code class="codeph">USERGROUP</code></p>
                        <p>从磁盘组中删除Oracle ASM用户组。删除组可能会留下一些没有有效组的文件。要使这些文件具有有效组，您必须手动将与这些文件关联的组更新为有效组。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP数据DROP USERGROUP'test_grp1';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">MODIFY</code> <code class="codeph">USERGROUP</code> <code class="codeph">ADD</code> <code class="codeph">MEMBER</code></p>
                        <p>将用户添加到指定的用户组。用户必须位于磁盘组中，如<code class="codeph">V$ASM_USER</code>所示，否则命令将返回错误。只有组的创建者或Oracle ASM管理员才能修改组成员身份。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP数据MODIFY USERGROUP'test_grp2'ADD MEMBER'oracle2';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">MODIFY</code> <code class="codeph">USERGROUP</code> <code class="codeph">DROP</code> <code class="codeph">MEMBER</code></p>
                        <p>从指定的用户组中删除用户。如果成员不在用户组中，则返回错误。只有组的创建者或Oracle ASM管理员才能修改组成员身份。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP数据MODIFY USERGROUP'test_grp2'DROP MEMBER'oracle2';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ADD</code> <code class="codeph">USER</code></p>
                        <p>将操作系统（OS）用户添加到Oracle ASM磁盘组，以便这些用户可以拥有磁盘组的访问权限。如果磁盘组中存在用户，如<code class="codeph">V$ASM_USER</code>所示，则该命令会记录错误并继续添加其他用户（如果有）。
                        </p>
                        <p>当数据库实例访问该磁盘组并创建文件时，正在运行的数据库实例的操作系统用户将自动添加到磁盘组。但是，要使数据库实例读取磁盘组中的文件而不创建任何文件，则必须使用<code class="codeph">ADD</code> <code class="codeph">USER</code>子句将与该数据库关联的操作系统用户添加到磁盘组。此外，在设置Oracle ASM文件访问控制磁盘组属性之后和创建新文件之前，您可以使用此子句立即将与数据库关联的操作系统用户添加到现有磁盘组。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP数据ADD USER'oracle1';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">DROP</code> <code class="codeph">USER</code></p>
                        <p>从Oracle ASM磁盘组中删除操作系统用户。如果用户不在磁盘组中，则此命令会记录错误并继续删除其他用户（如果有）。</p>
                        <p>如果用户拥有同一Oracle ASM磁盘组上的任何文件，则此命令将失败并显示错误，除非指定了<code class="codeph">CASCADE</code>关键字。如果是后一种情况，则删除用户以及用户拥有的所有文件。
                        </p>
                        <p>如果用户拥有的任何文件当前处于打开状态，则<code class="codeph">DROP</code> <code class="codeph">USER</code>命令将失败，并且不会删除任何文件。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP数据DROP USER'oracle1';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">REPLACE</code> <code class="codeph">USER</code></p>
                        <p>在Oracle ASM磁盘组中将一个操作系统用户替换为另一个操作系统用户。替换用户不能是当前位于磁盘组用户列表中的用户。</p>
                        <p>如果命令成功，则当前用户以前拥有的所有文件现在都由替换用户拥有。将自动从磁盘组的用户列表中删除当前用户。可以将当前用户添加回磁盘组，但此用户不拥有任何文件。</p>
                        <p>更改打开文件的所有者时，在重新启动集群中的所有实例之前，不能使用所有者的文件删除新所有者。</p>
                        <p>只有Oracle ASM管理员才能运行此命令。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP data REPLACE USER'oracle1'WITH'oracle2';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">SET</code> <code class="codeph">PERMISSION</code></p>
                        <p>修改Oracle ASM文件的权限。设置<code class="codeph">read</code> <code class="codeph">only</code>允许已经一个文件<code class="codeph">read</code> <code class="codeph">write</code>权限撤销的<code class="codeph">write</code>权限。只有文件所有者或Oracle ASM管理员才能更改文件的权限。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP数据SET PERMISSION OWNER =读写，GROUP =只读，OTHER =无FOR FILE'+ data / controlfile.f';</pre></li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">SET</code> <code class="codeph">OWNERSHIP</code></p>
                        <p>将文件的所有者或组分别更改为指定的用户或用户组名称。如果指定的用户或用户组名称不存在，则此命令将失败并显示错误。只有文件所有者或Oracle ASM管理员才能运行此命令，只有Oracle ASM管理员才能更改所有者。此外，用户组名称必须存在，并且文件的所有者必须是该组的成员。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP数据SET OWNERSHIP OWNER ='oracle1'，GROUP ='test_grp1'FOR FILE'+ data / controlfile.f';</pre></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-59D1AD06-DDE9-4037-B293-CCD35BB300CB__GUID-C2BF7C61-EA39-4EF3-B499-ED3E7274553D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01113" target="_blank"><span class="italic">Oracle数据库SQL语言参考中</span></a>的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01113" target="_blank"><code class="codeph">ALTER DISKGROUP</code></a> SQL语句</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>