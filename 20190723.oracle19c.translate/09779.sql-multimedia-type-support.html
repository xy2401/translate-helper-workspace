<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial."></meta>
      <meta name="description" content="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial."></meta>
      <title>SQL多媒体类型支持</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="spatial-datatypes-metadata.html" title="Previous" type="text/html"></link>
      <link rel="next" href="loading-spatial-data.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="spatial-datatypes-metadata.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="loading-spatial-data.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-concepts-usage.html" property="item" typeof="WebPage"><span property="name">概念和使用信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL多媒体类型支持</li>
            </ol>
            <a id="GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" name="GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0"></a><a id="SPATL025"></a>
            
            <h2 id="SPATL-GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" class="sect2"><span class="enumeration_chapter">3</span> SQL多媒体类型支持</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Spatial and Graph支持使用<span class="italic">ISO 13249-3中</span>指定的ST_ <span class="italic">xxx</span>类型<span class="italic">，信息技术 - 数据库语言 -  SQL多媒体和应用程序包 - 第3部分：Spatial</span> 。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA">ST_GEOMETRY和SDO_GEOMETRY互操作性</a><br>SQL多媒体ST_GEOMETRY根类型（包括其子类型）和Oracle Spatial and Graph SDO_GEOMETRY类型基本上是可互操作的。
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5">ST_xxx函数和空间和图形对应部分</a><br>下表列出了SQL多媒体函数和类似的Oracle Spatial and Graph SDO_GEOMETRY方法或空间和图形函数，过程，运算符。
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-99BBC9B7-A270-4080-B474-850C5C47FADE">SQL多媒体类型的容差值</a><br>由于SQL多媒体标准未定义如何将容差与ST_ xxx一起使用，因此Spatial和Graph在ST_GEOMETRY类型的所有成员方法中使用默认值0.005。
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D">避免名称冲突</a><br>为避免第三方名称与Oracle提供的名称之间可能发生冲突，Oracle上任何第三方ST_ <span class="italic">xxx</span>类型的实现都应使用模式前缀。
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF">注释文本类型和视图</a><br>Oracle Spatial and Graph支持<span class="italic">OpenGIS地理信息实现规范中</span>指定的注释文本<span class="italic">- 简单的特征访问 - 第1部分：通用体系结构</span> ，它将<span class="bold">注释文本</span>定义为“可以携带地理相关或临时数据的简单放置文本”与过程相关的信息作为可显示的文本。此文本可用于在编辑器中或在更简单的地图中显示。它通常缺乏完整的制图质量，但可以作为任何应用所需的此类文本的近似值。“</li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-concepts-usage.html#GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076">概念和使用信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL564"></a><a id="SPATL565"></a><a id="SPATL563"></a><div class="props_rev_3"><a id="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA" name="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA"></a><h3 id="SPATL-GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA" class="sect3"><span class="enumeration_section">3.1</span> ST_GEOMETRY和SDO_GEOMETRY互操作性</h3>
               <div>
                  <p>SQL多媒体ST_GEOMETRY根类型（包括其子类型）和Oracle Spatial and Graph SDO_GEOMETRY类型基本上是可互操作的。</p>
                  <p>ST_GEOMETRY子类型是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>ST_CIRCULARSTRING</p>
                     </li>
                     <li>
                        <p>ST_COMPOUNDCURVE</p>
                     </li>
                     <li>
                        <p>ST_CURVE</p>
                     </li>
                     <li>
                        <p>ST_CURVEPOLYGON</p>
                     </li>
                     <li>
                        <p>ST_GEOMCOLLECTION</p>
                     </li>
                     <li>
                        <p>ST_LINESTRING</p>
                     </li>
                     <li>
                        <p>ST_MULTICURVE</p>
                     </li>
                     <li>
                        <p>ST_MULTILINESTRING</p>
                     </li>
                     <li>
                        <p>ST_MULTIPOINT</p>
                     </li>
                     <li>
                        <p>ST_MULTIPOLYGON</p>
                     </li>
                     <li>
                        <p>ST_MULTISURFACE</p>
                     </li>
                     <li>
                        <p>ST_POINT</p>
                     </li>
                     <li>
                        <p>ST_POLYGON</p>
                     </li>
                     <li>
                        <p>ST_SURFACE</p>
                     </li>
                  </ul>
                  <p>ST_GEOMETRY类型具有一个额外的构造函数方法（即，除了ISO标准中定义的构造函数之外），用于使用SDO_GEOMETRY对象创建类型的实例。此构造函数具有以下格式：</p><pre class="oac_no_warn" dir="ltr">ST_GEOMETRY（geom SDO_GEOMETRY）;</pre><div class="example" id="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDGHJJD">
                     <p class="titleinexample">示例3-1为空间列使用ST_GEOMETRY类型</p>
                     <p><a href="sql-multimedia-type-support.html#GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDGHJJD">示例3-1</a>使用ST_GEOMETRY类型为空间列而不是SDO_GEOMETRY类型创建表，并在将行插入该表时使用ST_GEOMETRY构造函数指定SHAPE列值。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE cola_markets（mkt_id NUMBER PRIMARY KEY，名称VARCHAR2（32），形状<span class="bold">ST_GEOMETRY</span> ）; INSERT INTO cola_markets VALUES（1，'cola_a'， <span class="bold">ST_GEOMETRY</span> （SDO_GEOMETRY（2003， - 二维多边形NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3）， - 一个矩形（1003 =外部）SDO_ORDINATE_ARRAY（1,1 ，5,7） - 只需要2个点 - 用 - 笛卡尔坐标数据定义矩形（左下和右上）））;</pre><p>如果创建具有ST_GEOMETRY类型的空间列的表，则应将其信息添加到USER_SDO_GEOM_METADATA视图并在ST_GEOMETRY列上创建空间索引，就像使用SDO_GEOMETRY类型定义的空间数据一样。执行这些操作后，可以在ST_GEOMETRY数据中使用Oracle Spatial和Graph运算符（在<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">Spatial Operators中</a>描述）。除了标准中定义的运算符之外，还可以使用<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>和<a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a>运算符。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDHCJIB">
                     <p class="titleinexample">示例3-2创建，索引，存储和查询ST_GEOMETRY数据</p>
                     <p><a href="sql-multimedia-type-support.html#GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDHCJIB">示例3-2</a>执行许多与<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例</a>相同的基本操作<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：插入，索引和查询空间数据</a> ，但它使用ST_GEOMETRY类型而不是SDO_GEOMETRY类型作为空间列。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE cola_markets（mkt_id NUMBER PRIMARY KEY，名称VARCHAR2（32），形状ST_GEOMETRY）; INSERT INTO cola_markets VALUES（1，'cola_a'，ST_GEOMETRY（SDO_GEOMETRY（2003， - 二维多边形NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3）， - 一个矩形（1003 =外部）SDO_ORDINATE_ARRAY（1,1 ，5,7） - 只需要2个点 - 用 - 笛卡尔坐标数据定义矩形（左下和右上）））; INSERT INTO cola_markets VALUES（2，'cola_b'，ST_GEOMETRY（SDO_GEOMETRY（2003， - 二维多边形NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1）， - 一个多边形（外部多边形环）SDO_ORDINATE_ARRAY（5,1） ，8,1,8,6,5,7,5,1））））; INSERT INTO cola_markets VALUES（3，'cola_c'，ST_GEOMETRY（SDO_GEOMETRY（2003， - 二维多边形NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1）， - 一个多边形（外部多边形环）SDO_ORDINATE_ARRAY（3,3） ，6,3,6,5,4,5,3,3））））; INSERT INTO cola_markets VALUES（4，'cola_d'，ST_GEOMETRY（SDO_GEOMETRY（2003， - 二维多边形NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,4）， - 一个圆圈SDO_ORDINATE_ARRAY（8,7,10,9， 8,11））））; -------------------------------------------------- -------------------------  -  UPDATE METADATA VIEW  -  ------------------ -------------------------------------------------- -------  - 更新USER_SDO_GEOM_METADATA视图。这是必需的 - 可以创建空间索引。每层只执行一次 - （即表 - 列组合;此处：cola_markets和shape）。INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'cola_markets'，'shape'，SDO_DIM_ARRAY（ -  20X20网格SDO_DIM_ELEMENT（'X'，0,20,1.005），SDO_DIM_ELEMENT（'Y'，0,20） ，0.005）），NULL  -  SRID）; -------------------------------------------------- -----------------  - 创建空间索引 -  ------------------------- ------------------------------------------ CREATE INDEX cola_spatial_idx ON cola_markets（shape） INDEXTYPE是MDSYS.SPATIAL_INDEX_V2; ---------------------------  -  SDO_NN和SDO_WITHIN_DISTANCE ------------------ --------  -  SDO_NN运算符。SELECT / * + INDEX（c cola_spatial_idx）* / c.mkt_id，c.name FROM cola_markets c WHERE SDO_NN（c.shape，sdo_geometry（2001，NULL，sdo_point_type（10,7，NULL），NULL，NULL），'sdo_num_res = 2'）='正确'; -  SDO_NN_DISTANCE辅助运算符SELECT / * + INDEX（c cola_spatial_idx）* / c.mkt_id，c.name，SDO_NN_DISTANCE（1）dist FROM cola_markets c WHERE SDO_NN（c.shape，sdo_geometry（2001，NULL，sdo_point_type（10,7） ，NULL），NULL，NULL），'sdo_num_res = 2'，1）='TRUE'ORDER BY dist; -  SDO_WITHIN_DISTANCE运算符（两个示例）SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）） ，'distance = 10'）='TRUE'; - 距离查询窗口10个距离内的几何图形 - （这里是左下角，右上角坐标为4,6,8,8的矩形）？- 但是用两边&lt;4.1的MBR排除geoms，即cola_c和cola_d。SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）），'distance = 10 min_resolution = 4.1 '）='正确'; -------------------------------------  - 一些ST_GEOMETRY成员函数------- ------------------------------ SELECT c.shape。GET_WKB（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。GET_WKT（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_COORDDIM（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_ISVALID（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_SRID（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_SRID（8307）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_ISEMPTY（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_ENVELOPE（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_BOUNDARY（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_GEOMETRYTYPE（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_ISSIMPLE（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_DIMENSION（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_CONVEXHULL（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_CENTROID（）FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_GETTOLERANCE（）FROM cola_markets c WHERE c.name ='cola_b'; - 一些需要参数的成员函数DECLARE cola_a_geom ST_GEOMETRY; cola_b_geom ST_GEOMETRY; cola_c_geom ST_GEOMETRY; cola_d_geom ST_GEOMETRY; returned_geom ST_GEOMETRY; returned_number NUMBER; BEGIN  - 使用可乐市场形状填充几何变量。SELECT c.shape INTO cola_a_geom FROM cola_markets c WHERE c.name ='cola_a'; SELECT c.shape INTO cola_b_geom FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape INTO cola_c_geom FROM cola_markets c WHERE c.name ='cola_c'; SELECT c.shape INTO cola_d_geom FROM cola_markets c WHERE c.name ='cola_d'; SELECT c.shape。ST_EQUALS（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b等于cola_a？：'|| returned_number）; SELECT c.shape。ST_SYMMETRICDIFFERENCE（cola_a_geom）INTO returned_geom FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_DISTANCE（cola_d_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b之间的距离等于cola_d：'|| returned_number）; SELECT c.shape。ST_INTERSECTS（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b是否与cola_a相交？：'|| returned_number）; SELECT c.shape。ST_CROSS（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b cross cola_a？：'|| returned_number）; SELECT c.shape。ST_DISJOINT（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b与cola_a不相交？：'|| returned_number）; SELECT c.shape。ST_TOUCH（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b touch cola_a？：'|| returned_number）; SELECT c.shape。ST_WITHIN（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b是cola_a？：'|| returned_number）; SELECT c.shape。ST_OVERLAP（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b重叠cola_a？：'|| returned_number）; SELECT c.shape。ST_CONTAINS（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b包含cola_a？：'|| returned_number）; SELECT c.shape。ST_INTERSECTION（cola_a_geom）INTO returned_geom FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_DIFFERENCE（cola_a_geom）INTO returned_geom FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_UNION（cola_a_geom）INTO returned_geom FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_SYMDIFFERENCE（cola_a_geom）INTO returned_geom FROM cola_markets c WHERE c.name ='cola_b'; SELECT c.shape。ST_TOUCHES（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b touch cola_a？：'|| returned_number）; SELECT c.shape。ST_CROSSES（cola_a_geom）INTO returned_number FROM cola_markets c WHERE c.name ='cola_b'; DBMS_OUTPUT.PUT_LINE（'cola_b cross cola_a？：'|| returned_number）;结束; /</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph支持使用ISO 13249-3中指定的ST_xxx类型，信息技术 - 数据库语言 -  SQL多媒体和应用程序包 - 第3部分：Spatial。">SQL多媒体类型支持</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1452"></a><a id="SPATL1451"></a><div class="props_rev_3"><a id="GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5" name="GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5"></a><h3 id="SPATL-GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5" class="sect3"><span class="enumeration_section">3.2</span> ST_xxx函数和空间和图形对应部分</h3>
               <div>
                  <p>下表列出了SQL多媒体函数和类似的Oracle Spatial and Graph SDO_GEOMETRY方法或空间和图形函数，过程，运算符。</p>
                  <p>请注意，在某些情况下，Oracle Spatial和Graph对应项具有比SQL Multimedia功能更多的功能。</p>
                  <div class="tblformal" id="GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5__BABJGFAG">
                     <p class="titleintable">表3-1 ST_xxx函数和空间和图形对应部分</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ST_xxx函数和空间和图形对应部分" width="100%" border="1" summary="SQL Multiumedia functions and Oracle Spatial counterparts. Column 1 is SQL Multimedia Function, and column 2 is Comparable Oracle Spatial and Graph Interface." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d31654e358">SQL多媒体功能</th>
                              <th align="left" valign="bottom" width="69%" id="d31654e361">可比的Oracle Spatial和Graph Interface</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e366" headers="d31654e358 ">
                                 <p>FROM_WKB</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e366 d31654e361 ">
                                 <p><a href="SDO_UTIL-reference.html#GUID-4BF848D3-739F-4994-B364-C0171B69EE04">SDO_UTIL.FROM_WKBGEOMETRY</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e375" headers="d31654e358 ">
                                 <p>FROM_WKT</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e375 d31654e361 ">
                                 <p><a href="SDO_UTIL-reference.html#GUID-EFDD565A-E565-4463-9CFC-464DC856ECB7">SDO_UTIL.FROM_WKTGEOMETRY</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e384" headers="d31654e358 ">
                                 <p>GET_WKB</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e384 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_WKB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e391" headers="d31654e358 ">
                                 <p>GET_WKT</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e391 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_WKT</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e398" headers="d31654e358 ">
                                 <p>ST_BUFFER</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e398 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-329D09B9-163E-410A-A58F-8053A6CC9C25">SDO_GEOM.SDO_BUFFER</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e407" headers="d31654e358 ">
                                 <p>ST_CENTROID</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e407 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-C232C717-FE3C-48AA-B6E3-498EEB573262">SDO_GEOM.SDO_CENTROID</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e416" headers="d31654e358 ">
                                 <p>ST_CONTAINS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e416 d31654e361 ">
                                 <p>带<code class="codeph">mask=CONTAINS</code> <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> <code class="codeph">mask=CONTAINS</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e428" headers="d31654e358 ">
                                 <p>ST_CONVEXHULL</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e428 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-DCFFF3D9-6642-457F-A7BD-1AF864A7510E">SDO_GEOM.SDO_CONVEXHULL</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e437" headers="d31654e358 ">
                                 <p>ST_COORDDIM</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e437 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_Dims和SDO_GEOMETRY.ST_CoordDim（等效）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e444" headers="d31654e358 ">
                                 <p>ST_CROSS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e444 d31654e361 ">
                                 <p>（无预定义;需要使用带复杂掩码的<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e455" headers="d31654e358 ">
                                 <p>ST_CROSSES</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e455 d31654e361 ">
                                 <p>（无预定义;需要使用带复杂掩码的<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e467" headers="d31654e358 ">
                                 <p>ST_DIFFERENCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e467 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-778019CF-1B89-48D3-9EBE-264B2BF87B63">SDO_GEOM.SDO_DIFFERENCE</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e476" headers="d31654e358 ">
                                 <p>ST_DIMENSION</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e476 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_Dims</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e483" headers="d31654e358 ">
                                 <p>ST_DISJOINT</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e483 d31654e361 ">
                                 <p>带<code class="codeph">mask=DISJOINT</code> <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e495" headers="d31654e358 ">
                                 <p>ST_DISTANCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e495 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e504" headers="d31654e358 ">
                                 <p>ST_ENVELOPE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e504 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-646638D0-2C5F-490A-AF63-DE9B7A4C97C1">SDO_GEOM.SDO_MBR</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e513" headers="d31654e358 ">
                                 <p>ST_EQUALS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e513 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> ， <code class="codeph">mask=EQUAL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e525" headers="d31654e358 ">
                                 <p>ST_GEOMETRYTYPE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e525 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_GType</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e532" headers="d31654e358 ">
                                 <p>ST_INTERSECTION</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e532 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-6191E200-BFBF-4D97-A9B2-92846DBF7175">SDO_GEOM.SDO_INTERSECTION</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e541" headers="d31654e358 ">
                                 <p>ST_INTERSECTS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e541 d31654e361 ">
                                 <p>带<code class="codeph">mask=OVERLAPBDYDISJOINT + OVERLAPBDYINTERSECT</code> <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> <code class="codeph">mask=OVERLAPBDYDISJOINT + OVERLAPBDYINTERSECT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e553" headers="d31654e358 ">
                                 <p>ST_ISVALID</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e553 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e562" headers="d31654e358 ">
                                 <p>ST_OVERLAP</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e562 d31654e361 ">
                                 <p>带<code class="codeph">mask=CONTAINS</code> <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> <code class="codeph">mask=CONTAINS</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e575" headers="d31654e358 ">
                                 <p>ST_RELATE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e575 d31654e361 ">
                                 <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> ， <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e588" headers="d31654e358 ">
                                 <p>ST_SYMDIFFERENCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e588 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-84BD3076-76E5-47F3-ADC1-355829ED384E">SDO_GEOM.SDO_XOR</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e597" headers="d31654e358 ">
                                 <p>ST_SYMMETRICDIFFERENCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e597 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-84BD3076-76E5-47F3-ADC1-355829ED384E">SDO_GEOM.SDO_XOR</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e606" headers="d31654e358 ">
                                 <p>ST_TOUCH</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e606 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=TOUCH</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e618" headers="d31654e358 ">
                                 <p>ST_TOUCHES</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e618 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=TOUCH</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e630" headers="d31654e358 ">
                                 <p>ST_UNION</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e630 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-35318AFF-1981-4A8B-BA8A-D4E8272E86AB">SDO_GEOM.SDO_UNION</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e639" headers="d31654e358 ">
                                 <p>ST_WITHIN</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e639 d31654e361 ">
                                 <p>带<code class="codeph">mask=COVERS+CONTAINS</code> <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> <code class="codeph">mask=COVERS+CONTAINS</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph支持使用ISO 13249-3中指定的ST_xxx类型，信息技术 - 数据库语言 -  SQL多媒体和应用程序包 - 第3部分：Spatial。">SQL多媒体类型支持</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL566"></a><div class="props_rev_3"><a id="GUID-99BBC9B7-A270-4080-B474-850C5C47FADE" name="GUID-99BBC9B7-A270-4080-B474-850C5C47FADE"></a><h3 id="SPATL-GUID-99BBC9B7-A270-4080-B474-850C5C47FADE" class="sect3"><span class="enumeration_section">3.3</span> SQL多媒体类型的容差值</h3>
               <div>
                  <p>由于SQL多媒体标准未定义如何将容差与ST_ xxx一起使用，因此Spatial和Graph在ST_GEOMETRY类型的所有成员方法中使用默认值0.005。</p>
                  <p>如果要指定与ST_GEOMETRY成员函数一起使用的其他容差值，请通过将所需值插入SDO_ST_TOLERANCE表来覆盖缺省值。</p>
                  <p>SDO_ST_TOLERANCE表是一个全局临时表，应该有一行指定要与ST_GEOMETRY成员方法一起使用的容差。此表有一列，定义为<code class="codeph">(tolerance NUMBER)</code> 。
                  </p>
                  <p>对于使用空间索引的所有空间运算符，空间和图形使用在USER_SDO_GEOM_METADATA视图中为空间列指定的容差值。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph支持使用ISO 13249-3中指定的ST_xxx类型，信息技术 - 数据库语言 -  SQL多媒体和应用程序包 - 第3部分：Spatial。">SQL多媒体类型支持</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL567"></a><div class="props_rev_3"><a id="GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D" name="GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D"></a><h3 id="SPATL-GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D" class="sect3"><span class="enumeration_section">3.4</span>避免名称冲突</h3>
               <div>
                  <p>为避免第三方名称与Oracle提供的名称之间可能发生冲突，Oracle上任何第三方ST_ <span class="italic">xxx</span>类型的实现都应使用模式前缀。
                  </p>
                  <p>一些第三方供应商在Oracle上支持他们自己的ST_ <span class="italic">xxx</span>类型。例如，供应商可能会创建自己的ST_GEOMETRY类型版本。
                  </p>
                  <p>为避免可能的冲突，该供应商在Oracle上实现ST_ <span class="italic">xxx</span>类型应使用模式前缀。这将确保如果有人将列类型指定为ST_GEOMETRY，则将使用ST_GEOMETRY类型的Oracle实现创建该列。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph支持使用ISO 13249-3中指定的ST_xxx类型，信息技术 - 数据库语言 -  SQL多媒体和应用程序包 - 第3部分：Spatial。">SQL多媒体类型支持</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL568"></a><div class="props_rev_3"><a id="GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" name="GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF"></a><h3 id="SPATL-GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" class="sect3"><span class="enumeration_section">3.5</span>注释文本类型和视图</h3>
               <div>
                  <p>Oracle Spatial and Graph支持<span class="italic">OpenGIS地理信息实现规范中</span>指定的注释文本<span class="italic">- 简单的特征访问 - 第1部分：通用体系结构</span> ，它将<span class="bold">注释文本</span>定义为“可以携带地理相关或临时数据的简单放置文本”与过程相关的信息作为可显示的文本。此文本可用于在编辑器中或在更简单的地图中显示。它通常缺乏完整的制图质量，但可以作为任何应用所需的此类文本的近似值。“</p>
                  <p>ST_ANNOTATION_TEXT对象类型可用于存储注释文本。此类型具有用于将注释文本插入表的构造函数，如<a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32">使用ST_ANNOTATION_TEXT构造函数中所述</a> 。
                  </p>
                  <p>USER_ANNOTATION_TEXT_METADATA和ALL_ANNOTATION_TEXT_METADATA视图存储与注释文本相关的元数据，如<a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670">注释文本元数据视图中所述</a> 。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32">使用ST_ANNOTATION_TEXT构造函数</a><br></li>
                     <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670">注释文本元数据视图</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph支持使用ISO 13249-3中指定的ST_xxx类型，信息技术 - 数据库语言 -  SQL多媒体和应用程序包 - 第3部分：Spatial。">SQL多媒体类型支持</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL570"></a><a id="SPATL569"></a><div class="props_rev_3"><a id="GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32" name="GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32"></a><h4 id="SPATL-GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32" class="sect4"><span class="enumeration_section">3.5.1</span>使用ST_ANNOTATION_TEXT构造函数</h4>
                  <div>
                     <p>注释文本对象包含一个对象数组，其中每个对象包含一个文本标签，开始呈现文本标签的点，一个引导线（通常从文本标签到地图上的关联点），以及可选的额外的属性信息。单个注释文本对象通常可以包含地图的所有文本标签。</p>
                     <p>每个文本标签对象具有以下定义：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ---------------------------- PRIVATEVALUE VARCHAR2（4000）PRIVATELOCATION MDSYS.SDO_GEOMETRY PRIVATELEADERLINE MDSYS.SDO_GEOMETRY PRIVATETEXTATTRIBUTES VARCHAR2（4000）</pre><div class="example" id="GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32__CHDIEACA">
                        <p class="titleinexample">示例3-3使用ST_ANNOTATION_TEXT构造函数</p>
                        <p>要为单个点插入注释，请使用ST_ANNOTATION_TEXT构造函数。此构造函数使用数组指定单个点的信息，如<a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32__CHDIEACA">示例3-3</a>所示，它使用INSERT语句中的ST_ANNOTATION_TEXT构造函数创建一个类型为ST_ANNOTATION_TEXT的列并插入一行。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE my_annotations（id NUMBER，textobj ST_ANNOTATION_TEXT）; INSERT INTO my_annotations VALUES（2，ST_ANNOTATION_TEXT（ST_ANNOTATIONTEXTELEMENT_ARRAY（ST_ANNOTATIONTEXTELEMENT（'Sample Label 2'，SDO_GEOMETRY（2001，null，sdo_point_type（10,10，null），null，null），SDO_GEOMETRY（2002，null，null，SDO_ELEM_INFO_ARRAY （1,2,1），SDO_ORDINATE_ARRAY（5,10,10,10）），NULL）））））;</pre><p>在<a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32__CHDIEACA">例3-3</a>的ST_ANNOTATION_TEXT构造函数中，ST_ANNOTATIONTEXTELEMENT子元素指定以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>标签的文本，在本例中为<code class="codeph">Sample Label 2</code></p>
                           </li>
                           <li>
                              <p>指定从何处开始渲染标签的点几何，在本例中为location（10,10）</p>
                           </li>
                           <li>
                              <p>一个线串几何，指定兴趣点和文本标签之间的引线的起点和终点，在本例中是位置（5,10）和（10,10）之间的一条线</p>
                           </li>
                           <li>
                              <p>无文本显示属性信息（NULL），这意味着使用了注释文本元数据视图的信息TEXT_ATTRIBUTES列（请参阅<a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670">注释文本元数据视图中的</a> <a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670__CHDFIHBB" title="注释文本元数据视图中的列。第1列是列名，第2列是数据类型，第3列是目的。">表3-2</a> ）</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="sql-multimedia-type-support.html#GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" title="Oracle Spatial and Graph支持OpenGIS地理信息实现规范中指定的注释文本 - 简单的特征访问 - 第1部分：通用体系结构，它将注释文本定义为“可以携带地理相关或临时数据的简单放置文本”与过程相关的信息作为可显示的文本。此文本可用于在编辑器中或在更简单的地图中显示。它通常缺乏完整的制图质量，但可以作为任何应用所需的此类文本的近似值。“">注释文本类型和视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL572"></a><a id="SPATL571"></a><div class="props_rev_3"><a id="GUID-2CB0324C-A2C0-4191-9F81-670C234CE670" name="GUID-2CB0324C-A2C0-4191-9F81-670C234CE670"></a><h4 id="SPATL-GUID-2CB0324C-A2C0-4191-9F81-670C234CE670" class="sect4"><span class="enumeration_section">3.5.2</span>注释文本元数据视图</h4>
                  <div>
                     <p>注释文本元数据存储在MDSYS拥有的全局表中（用户永远不应该直接更新）。每个Spatial和Graph用户都在与该用户关联的架构中提供以下视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d31654e1123" class="indexterm-anchor"></a><a id="d31654e1125" class="indexterm-anchor"></a> USER_ANNOTATION_TEXT_METADATA包含用户所拥有的表中所有注释文本的元数据信息（模式）。这是您可以更新的唯一视图，它是Spatial和Graph用户必须插入与空间表相关的元数据的视图。
                           </p>
                        </li>
                        <li>
                           <p><a id="d31654e1132" class="indexterm-anchor"></a><a id="d31654e1134" class="indexterm-anchor"></a> ALL_ANNOTATION_TEXT_METADATA包含用户具有SELECT权限的表中所有注释文本的元数据信息。
                           </p>
                        </li>
                     </ul>
                     <p>Spatial和Graph用户负责填充这些视图。对于每个注释文本对象，必须在USER_ANNOTATION_TEXT_METADATA视图中插入适当的行。Oracle Spatial and Graph确保ALL_ANNOTATION_TEXT_METADATA视图也会更新，以反映您插入USER_ANNOTATION_TEXT_METADATA的行。</p>
                     <p>USER_ANNOTATION_TEXT_METADATA和ALL_ANNOTATION_TEXT_METADATA视图包含相同的列，如<a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670__CHDFIHBB" title="注释文本元数据视图中的列。第1列是列名，第2列是数据类型，第3列是目的。">表3-2</a>所示，但USER_ANNOTATION_TEXT_METADATA视图不包含OWNER列。（列在视图定义中按顺序列出。）
                     </p>
                     <div class="tblformalwide" id="GUID-2CB0324C-A2C0-4191-9F81-670C234CE670__CHDFIHBB">
                        <p class="titleintable">表3-2注释文本元数据视图中的列</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="注释文本元数据视图中的列" width="100%" border="1" summary="Columns in the Annotation Text Metadata Views. Column 1 is Column Name, column 2 is Data Type, and column 3 is Purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d31654e1159">列名称</th>
                                 <th align="left" valign="bottom" width="18%" id="d31654e1162">数据类型</th>
                                 <th align="left" valign="bottom" width="63%" id="d31654e1165">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1170" headers="d31654e1159 ">
                                    <p>所有者</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1170 d31654e1162 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1170 d31654e1165 ">
                                    <p>TABLE_NAME列中指定的表的所有者（仅限ALL_ANNOTATION_TEXT_METADATA视图）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1180" headers="d31654e1159 ">
                                    <p>TABLE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1180 d31654e1162 ">
                                    <p>VARCHAR2（32）</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1180 d31654e1165 ">
                                    <p>包含ST_ANNOTATION_TEXT类型列的表的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1190" headers="d31654e1159 ">
                                    <p>COLUMN_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1190 d31654e1162 ">
                                    <p>VARCHAR2（1024）</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1190 d31654e1165 ">
                                    <p>ST_ANNOTATION_TEXT类型的列的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1200" headers="d31654e1159 ">
                                    <p>TEXT_EXPRESSION</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1200 d31654e1162 ">
                                    <p>VARCHAR2（4000）</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1200 d31654e1165 ">
                                    <p>如果未为标签指定文本，则可以使用的值。正如OpenGIS规范中所解释的那样：“要放置的文本首先从当前元素中的VALUE内容派生，如果VALUE不为null。否则，文本从第一个非null前面的元素VALUE派生。如果所有前面的元素都具有空VALUE字段，则VALUE从元数据表中的TEXT_EXPRESSION派生。“</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1210" headers="d31654e1159 ">
                                    <p>TEXT_ATTRIBUTES</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1210 d31654e1162 ">
                                    <p>VARCHAR2（4000）</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1210 d31654e1165 ">
                                    <p>除非在ST_ANNOTATION_TEXT构造函数的<span>PRIVATETEXTATTRIBUTES</span>属性中重写（在<a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32">使用</a> ST_ANNOTATION_TEXT构造函数中描述），否则标签文本样式和布局的默认文本显示属性（字体系列和大小，水平和垂直间距等）。使用OpenGIS规范的“XML for Text Attributes”部分中指定的格式。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="sql-multimedia-type-support.html#GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" title="Oracle Spatial and Graph支持OpenGIS地理信息实现规范中指定的注释文本 - 简单的特征访问 - 第1部分：通用体系结构，它将注释文本定义为“可以携带地理相关或临时数据的简单放置文本”与过程相关的信息作为可显示的文本。此文本可用于在编辑器中或在更简单的地图中显示。它通常缺乏完整的制图质量，但可以作为任何应用所需的此类文本的近似值。“">注释文本类型和视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>