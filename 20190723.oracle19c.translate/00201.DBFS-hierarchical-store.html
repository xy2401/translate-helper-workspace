<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBFS Hierarchical Store and related store wallet management work together to store less frequently used data."></meta>
      <meta name="description" content="The DBFS Hierarchical Store and related store wallet management work together to store less frequently used data."></meta>
      <title>DBFS分层存储</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content="The DBFS Hierarchical Store and related store wallet management work together to store less frequently used data."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBFS-securefiles-store.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBFS-content-API.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBFS-securefiles-store.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBFS-content-API.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-file-system.html" property="item" typeof="WebPage"><span property="name">数据库文件系统（DBFS）</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBFS分层存储</li>
            </ol>
            <a id="GUID-375BEA1D-F37C-4647-B3CF-03A4FDCF7161" name="GUID-375BEA1D-F37C-4647-B3CF-03A4FDCF7161"></a><a id="ADLOB006"></a>
            
            <h2 id="ADLOB-GUID-375BEA1D-F37C-4647-B3CF-03A4FDCF7161" class="sect2"><span class="enumeration_chapter">22</span> DBFS分层存储</h2>
         </header>
         <div class="ind">
            <div>
               <p>DBFS分层存储和相关的商店钱包管理协同工作以存储不常使用的数据。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3" title="Oracle DBFS分层存储包（DBMS_DBFS_HS）是DBMS_DBFS_CONTENT的存储提供程序，它支持DBFS内容的分层存储。">关于分层存储包_ DBMS_DBFS_HS</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-412817A0-5745-4031-9518-200E5F977030" title="DBMS_DBFS_HS包必须与DBMS_DBFS_CONTENT包一起使用，以使用DBFS链接管理SecureFiles LOB的分层存储管理。">使用DBFS分层存储的方法</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8" title="您可以管理Hierarchical Store钱包并设置，注册和安装分层存储。">设置商店</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76" title="Hierarchical Store可用作独立文件系统或SecureFiles LOB的归档解决方案。">使用分层存储</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-3BE7F481-16AB-4584-8339-220D9EAC8684" title="数据库文件系统链接允许将SecureFiles LOB存储在与平常不同的位置。">数据库文件系统链接</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3" title="DBMS_DBFS_HS包是一个服务提供者，它允许使用磁带或Amazon S3 Web服务作为数据存储。">DBMS_DBFS_HS包</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C" title="BFS分层存储有几种类型的视图。">DBFS分层存储的视图</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB46068"></a><div class="props_rev_3"><a id="GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3" name="GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3"></a><h3 id="ADLOB-GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3" class="sect3">关于分层存储包，DBMS_DBFS_HS</h3>
               <div>
                  <p>甲骨文DBFS分层存储包（ <code class="codeph">DBMS_DBFS_HS</code> ）为存储提供了<code class="codeph">DBMS_DBFS_CONTENT</code>一个支持DBFS内容分级存储。
                  </p>
                  <p>该软件包将内容存储在两个外部存储设备中：磁带和Amazon S3 Web服务，以及数据库中的关联元数据（或属性）。DBFS HS可以将频繁访问的内容缓存在数据库表中以提高性能。</p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-412817A0-5745-4031-9518-200E5F977030" name="GUID-412817A0-5745-4031-9518-200E5F977030"></a><h3 id="ADLOB-GUID-412817A0-5745-4031-9518-200E5F977030" class="sect3">使用DBFS分层存储的方法</h3>
               <div>
                  <p><code class="codeph">DBMS_DBFS_HS</code>包必须与<code class="codeph">DBMS_DBFS_CONTENT</code>包一起使用，以使用DBFS链接管理SecureFiles LOB的分层存储管理。
                  </p>
                  <p>使用此软件包，可以将不常使用的数据迁移到更便宜的外部设备（如磁带），从而显着降低存储成本。</p>
                  <p>所述<code class="codeph">DBMS_DBFS_HS</code>包也可以被插入到<code class="codeph">DBMS_DBFS_CONTENT</code>封装，作为一个存储提供，以实现磁带的文件系统中，如果相关联的外部存储装置是胶带，或云文件系统中，如果相关联的外部存储装置是亚马逊S3存储服务。
                  </p>
                  <p><code class="codeph">DBMS_DBFS_HS</code>包使您能够在为数据库表或内容实现信息生命周期管理（ILM）时将磁带用作存储层。该软件包还支持其他形式的存储目标，包括Amazon S3等Web服务。此服务使用户能够将数据存储在磁带和其他形式的存储上的数据库中。磁带或Amazon S3上的数据是Oracle数据库的一部分，所有标准API都可以访问它，但只能通过数据库访问它。
                  </p>
                  <p><code class="codeph">DBMS_DBFS_HS</code>具有管理外部存储设备和与每个存储关联的缓存所需的其他接口。
                  </p>
                  <p>要使用包<code class="codeph">DBMS_DBFS_HS</code> ，必须授予<code class="codeph">DBFS_ROLE</code>角色。
                  </p>
                  <div class="infoboxnotealso" id="GUID-412817A0-5745-4031-9518-200E5F977030__GUID-3814361D-59FD-45DE-BB02-2ED751694388">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">DBMS_DBFS_HS</code>包的详细信息，请<code class="codeph">DBMS_DBFS_HS</code> <a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                  </div>
               </div>
            </div><a id="ADLOB46095"></a><div class="props_rev_3"><a id="GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8" name="GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8"></a><h3 id="ADLOB-GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8" class="sect3">设置商店</h3>
               <div>
                  <p>您可以管理Hierarchical Store钱包并设置，注册和安装分层存储。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712" title="使用命令行实用程序mkstore创建和管理钱包。">管理HS Store钱包</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9" title="设置分层文件系统存储需要创建，注册和安装存储。">Creating_ Registering_和挂载商店</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46075"></a><div class="props_rev_3"><a id="GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712" name="GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712"></a><h4 id="ADLOB-GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712" class="sect4">管理HS Store钱包</h4>
                  <div>
                     <p>使用命令行实用程序<code class="codeph">mkstore</code>创建和管理钱包。
                     </p>
                     <div class="section">
                        <p>使用以下命令创建钱包：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建一个钱包</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location -create</span></pre></li>
                           <li>
                              <p>添加<code class="codeph">KEY</code>别名</p>
                              <p>通过将<code class="codeph">access_key</code>和<code class="codeph">secret_key</code>别名括在单引号中来指定它们。
                              </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">WALLET_LOCATION</span> -createCredential <span class="italic">别名</span> <span class="italic">“access_key</span> <span class="italic">'SECRET_KEY'</span></pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl / home / user1 / mywallet -createCredential mykey'abc''xyz'</pre></li>
                           <li>
                              <p>删除KEY别名</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -deleteCredential <span class="italic">别名</span>
</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl / home / user1 / mywallet -deleteCredential mykey</pre></li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712__GUID-B29A1083-6C69-4B59-AC8A-CA6CB25B7C20">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../dbimi/using-oracle-wallet-manager.html#DBIMI160" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a> ，了解有关创建和管理钱包的更多信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46161"></a><a id="ADLOB46185"></a><div class="props_rev_3"><a id="GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9" name="GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9"></a><h4 id="ADLOB-GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9" class="sect4">创建，注册和挂载存储</h4>
                  <div>
                     <p>设置分层文件系统存储需要创建，注册和安装存储。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9__GUID-E37F7157-EC45-4E45-BB34-17BFC6BCC26C">创建，注册和安装商店。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>调用<code class="codeph">createStore</code> 。</span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.createStore（store_name，store_type，tbl_name，tbs_name，cache_size，lob_cache_quota，optimal_tarball_size，schema_name）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用以下界面设置强制和可选属性：</span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.setStoreProperty（StoreName，PropertyName，PropertyValue）;</pre><p>对于<code class="codeph">store_type</code> = <code class="codeph">STORETYPE_TAPE</code> ，强制属性为：</p><pre class="oac_no_warn" dir="ltr">PROPNAME_DEVICELIBRARY，PROPNAME_MEDIAPOOL，PROPNAME_CACHESIZE。 PROPNAME_CACHESIZE已由createStore设置。
</pre><p>您可以使用<code class="codeph">reconfigCache</code>更改<code class="codeph">PROPNAME_CACHESIZE</code>的值。
                              </p>
                              <p>可选属性包括：</p><pre class="oac_no_warn" dir="ltr">PROPNAME_OPTTARBALLSIZE，PROPNAME_READCHUNKSIZE，PROPNAME_WRITECHUNKSIZE，PROPNAME_STREAMABLE。</pre><p>对于<code class="codeph">store_type</code> = <code class="codeph">STORETYPE_AMAZONS3</code>强制属性为：</p><pre class="oac_no_warn" dir="ltr">PROPNAME_DEVICELIBRARY，PROPNAME_CACHESIZE，PROPNAME_S3HOST，PROPNAME_BUCKET，PROPNAME_LICENSEID，PROPNAME_WALLET。</pre><p><code class="codeph">PROPNAME_CACHESIZE</code>由<code class="codeph">createStore</code>设置。您可以使用<code class="codeph">reconfigCache</code>更改<code class="codeph">PROPNAME_CACHESIZE</code>的值。
                              </p>
                              <p>可选属性包括：</p><pre class="oac_no_warn" dir="ltr">PROPNAME_OPTTARBALLSIZE，PROPNAME_READCHUNKSIZE，PROPNAME_WRITECHUNKSIZE，PROPNAME_STREAMABLE，PROPNAME_HTTPPROXY。</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用以下命令向DBFS Content API注册商店：</span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_CONTENT.registerStore（store_name，provider_name，provider_package）;</pre><p>注意： <code class="codeph">provider_package</code>是<code class="codeph">dbms_dbfs_hs</code>包。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用以下方法挂载商店以进</span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_CONTENT.mountStore（store_name，store_mount，singleton，principal，owner，acl，asof，read_only）;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="ADLOB46096"></a><div class="props_rev_3"><a id="GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76" name="GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76"></a><h3 id="ADLOB-GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76" class="sect3">使用分层存储</h3>
               <div>
                  <p>Hierarchical Store可用作独立文件系统或SecureFiles LOB的归档解决方案。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-FF564A86-9245-446C-9085-B3B3145C0617" title="使用DBMS_DBFS_CONTENT包在商店中创建，更新，读取和删除文件系统条目。">使用分层存储作为文件系统</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-AF266437-9F64-424D-A42D-F17573D1B195" title="使用DBMS_LOB包将磁带或S3存储中的SecureFiles LOB存档。">使用Hierarchical Store作为SecureFiles LOB的归档解决方案</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5" title="您可以删除分层存储。">删除分层存储</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2" title="DBFS分层存储可以以压缩形式存储其文件。">压缩以与分层存储一起使用</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9" title="此示例程序配置并使用磁带存储。">程序示例使用磁带</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D" title="此示例程序配置并使用Amazon S3存储。">使用Amazon S3的程序示例</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46097"></a><div class="props_rev_3"><a id="GUID-FF564A86-9245-446C-9085-B3B3145C0617" name="GUID-FF564A86-9245-446C-9085-B3B3145C0617"></a><h4 id="ADLOB-GUID-FF564A86-9245-446C-9085-B3B3145C0617" class="sect4">使用分层存储作为文件系统</h4>
                  <div>
                     <p>使用<code class="codeph">DBMS_DBFS_CONTENT</code>包在<code class="codeph">DBMS_DBFS_CONTENT</code>中创建，更新，读取和删除文件系统条目。
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-FF564A86-9245-446C-9085-B3B3145C0617__REFERTODBFSCONTENTAPIFORDETAILS.-DFE7A85D">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="DBFS-content-API.html#GUID-630BE6DB-0178-4EE4-8D7D-824BA886F68E" title="您可以使应用程序在多个不同的编程环境中使用数据库文件系统（DBFS）。">DBFS内容API</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46098"></a><div class="sect3"><a id="GUID-AF266437-9F64-424D-A42D-F17573D1B195" name="GUID-AF266437-9F64-424D-A42D-F17573D1B195"></a><h4 id="ADLOB-GUID-AF266437-9F64-424D-A42D-F17573D1B195" class="sect4">使用Hierarchical Store作为SecureFiles LOB的归档解决方案</h4>
                  <div>
                     <p>使用<code class="codeph">DBMS_LOB</code>包将磁带或S3存储中的SecureFiles LOB存档。
                     </p>
                     <p><code class="codeph">DBMS_LOB</code>包将SecureFiles LOB归档到磁带或S3存储中，如<span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" title="有一些PL / SQL包可以与BasicFiles LOB和SecureFiles LOB一起使用。">LOB和DBFS的PL / SQL包</a> ”中所述</span> 。
                     </p>
                     <p>要释放缓存中的空间或强制将缓存驻留内容写入外部存储设备，请调用：</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.storePush（STORE_NAME）;</pre></div>
               </div><a id="ADLOB46099"></a><div class="props_rev_3"><a id="GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5" name="GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5"></a><h4 id="ADLOB-GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5" class="sect4">删除分层存储</h4>
                  <div>
                     <p>您可以删除分层存储。</p>
                     <div class="section">
                        <p>要删除分层存储，请调用：</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.dropStore（store_name，opt_flags）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46074"></a><div class="props_rev_3"><a id="GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2" name="GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2"></a><h4 id="ADLOB-GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2" class="sect4">压缩以与分层存储一起使用</h4>
                  <div>
                     <p>DBFS分层存储可以以压缩形式存储其文件。</p>
                     <p>DBFS分层存储能够使用<code class="codeph">SETPROPERTY</code>方法和属性<code class="codeph">PROPNAME_COMPRESSLVL</code>以压缩格式存储其文件以指定压缩级别。
                     </p>
                     <p>有效值为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_NONE</code> ：无压缩</p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_LOW</code> ： <code class="codeph">LOW</code>压缩</p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_MEDIUM</code> ： <code class="codeph">MEDIUM</code>压缩</p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_HIGH</code> ： <code class="codeph">HIGH</code>压缩</p>
                        </li>
                     </ul>
                     <p>通常，压缩级别<code class="codeph">LOW</code>表现最佳，并且仍然提供良好的压缩比。压缩级别<code class="codeph">MEDIUM</code>和<code class="codeph">HIGH</code>提供了明显更好的压缩比，但压缩时间可能相应更长。当写性能至关重要时，Oracle建议使用<code class="codeph">NONE</code>或<code class="codeph">LOW</code> ，例如DBFS HS存储中的文件经常更新时。如果空间很重要并且需要尽可能好的压缩比，请使用<code class="codeph">MEDIUM</code>或<code class="codeph">HIGH</code> 。</p>
                     <p>文件在从缓存中分页到临时区域时被压缩（在它们随后被推入后端磁带或S3存储之前）。因此，通过在暂存区域中存储较小的文件并有效地增加暂存区域的总可用容量，压缩也会受益。</p>
                  </div>
               </div><a id="ADLOB46101"></a><div class="props_rev_3"><a id="GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9" name="GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9"></a><h4 id="ADLOB-GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9" class="sect4">程序示例使用磁带</h4>
                  <div>
                     <p>此示例程序配置并使用磁带存储。</p>
                     <p>在该示例中，您必须在某些位置替换有效值，如&lt;...&gt;所示，以使程序成功运行。</p>
                     <div class="infoboxnotealso" id="GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9__GUID-299E4456-63BE-4C01-B23A-1A1DFACF0F84">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> <code class="codeph">DBMS_DBFS_HS</code>文档，以获取有关方法及其参数的完整详细信息</p>
                     </div><pre class="oac_no_warn" dir="ltr">Rem示例配置和使用磁带存储。Rem Rem hsuser应该是已被授予Rem dbfs_role角色的有效数据库用户。connect hsuser / hsuser Rem以下块设置STORETYPE_TAPE存储，其中Rem DBMS_DBFS_HS充当存储提供程序。声明storename varchar2（32）; tblname varchar2（30）; tbsname varchar2（30）; lob_cache_quota number：= 0.8; cachesz数; ots数;开始cachesz：= 50 * 1048576; ots：= 1048576; storename：='tapestore10'; tblname：='tapetbl10'; tbsname：='&lt;TBS_3&gt;'; - 替换有效的表空间名称 - 创建商店。- 这里tbsname是用于存储的表空间， -  tblname是包含所有商店实体的表， -  cachesz是商店用于缓存内容的空间 - 在表空间中， -  lob_cache_quota是分数cachesz已分配 - 级别1缓存和 -  ots是累积的最小内容量 - 在存储在磁带上的二级缓存中dbms_dbfs_hs.createStore（storename，dbms_dbfs_hs。STORETYPE_TAPE，tblname，tbsname，cachesz，lob_cache_quota，ots）; dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_SBTLIBRARY，'&lt;ORACLE_HOME / work / libobkuniq.so&gt;'）; - 替换ORACLE_HOME路径dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_MEDIAPOOL，'&lt;0&gt;'）; - 替换有效值dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_COMPRESSLEVEL，'NONE'）; - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息，请访问dbms_dbfs_content.registerstore（storename，'tapeprvder10'，'dbms_dbfs_hs'）; - 有关此方法的详细信息，请参阅DBMS_DBFS_CONTENT文档 -  dbms_dbfs_content.mountstore（storename，'tapemnt10'）;结束 ; / Rem以下代码块执行文件操作Rem使用DBMS_DBFS_CONTENT对存储配置的Rem在上一个代码块中连接hsuser / hsuser declare path varchar2（256）; path_pre varchar2（256）; mount_point varchar2（32）; store_name varchar2（32）; prop1 dbms_dbfs_content_properties_t; prop2 dbms_dbfs_content_properties_t; mycontent blob：= empty_blob（）; buffer varchar2（1050）; rawbuf raw（1050）; outcontent blob：= empty_blob（）; itemtype整数; pflag整数; filecnt整数; iter整数;偏移整数; rawlen整数; begin mount_point：='/ tapemnt10'; store_name：='tapestore10'; path_pre：= mount_point ||'/ file'; - 我们在以下循环文件中创建10个空文件：= 0;当filecnt = 10时循环退出; path：= path_pre || to_char（filecnt）; mycontent：= empty_blob（）; prop1：= null; - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.createFile（path，prop1，mycontent）; - 创建文件提交; filecnt：= filecnt + 1;结束循环; - 我们使用内容填充新创建的文件 - 在以下循环中pflag：= dbms_dbfs_content.prop_data + dbms_dbfs_content.prop_std + dbms_dbfs_content.prop_opt; buffer：='Oracle提供集成管理'|| '使用'||管理Oracle数据库的解决方案'独特的自上而下的应用程序管理'|| “方法。随着新的自我管理'|| '能力，Oracle消除了时间 - '|| '消费，容易出错的行政'|| '任务，所以数据库管理员可以'|| “专注于战略业务目标”|| '而不是性能和可用性'|| '消防演习。Oracle管理包'|| '数据库提供了显着的成本和时间 - '|| '节省管理Oracle的能力'|| “数据库。独立研究表明'|| 'Oracle数据库容易40％'|| '管理DB2和38％以上'|| 'SQL Server。“; rawbuf：= utl_raw.cast_to_raw（buffer）; rawlen：= utl_raw.length（rawbuf）; offset：= 1; filecnt：= 0;当filecnt = 10时循环退出; path：= path_pre || to_char（filecnt）; prop1：= null; - 将缓冲区附加到文件 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.putpath（path，prop1，rawlen，offset，rawbuf）;承诺filecnt：= filecnt + 1;结束循环; - 清除1级缓存dbms_dbfs_hs.flushCache（store_name）;承诺 - 对偶数文件执行写操作。- 对奇数文件进行读操作。filecnt：= 0;当filecnt = 10时循环退出; path：= path_pre || to_char（filecnt）;如果mod（filecnt，2）= 0则 - 获取可写文件 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.getPath（path，prop2，outcontent，itemtype，pflag，null，true）; buffer：='敏捷企业希望能够'|| '迅速采用新技术，无论是'|| '操作系统，服务器或'|| '软件，帮助他们保持领先'|| '竞赛。但是，经常更改'|| '在'||中引入了一段不稳定的时期'任务关键型IT系统。甲骨文'|| '真正的应用程序测试 - 使用Oracle'|| '数据库11g企业版 - 允许'|| '企业要迅速采用新'|| '技术同时消除'|| '与变革有关的风险。甲骨文'|| '真实应用测试结合了'|| '工作负载捕获和重放功能'|| '用SQL性能分析器'|| '帮助你测试现实生活中的变化'|| '工作量，然后帮助你微调'|| '将它们放入'||之前的变化'生产。Oracle Real Application'|| '测试支持旧版本的'|| 'Oracle数据库，让客户运行'|| 'Oracle数据库9i和Oracle数据库'|| '10g可以用它来加速'|| '数据库升级。“; rawbuf：= utl_raw.cast_to_raw（buffer）; rawlen：= utl_raw.length（rawbuf）; - 修改文件内容 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_lob.write（outcontent，rawlen，10，rawbuf）;承诺else  - 读取文件 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.getPath（path，prop2，outcontent，itemtype，pflag）;万一 ; filecnt：= filecnt + 1;结束循环; - 删除前2个文件filecnt：= 0;当filecnt = 2时循环退出; path：= path_pre || to_char（filecnt）; - 删除文件 - 有关此方法的详细信息，请参阅DBMS_DBFS_CONTENT文档 -  dbms_dbfs_content.deleteFile（path）;承诺filecnt：= filecnt + 1;结束循环; - 将数据库中暂存的内容移动到磁带存储dbms_dbfs_hs.storePush（store_name）;承诺结束 ; /</pre></div>
               </div><a id="ADLOB46100"></a><div class="sect3"><a id="GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D" name="GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D"></a><h4 id="ADLOB-GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D" class="sect4">使用Amazon S3的程序示例</h4>
                  <div>
                     <p>此示例程序配置并使用Amazon S3存储。</p>
                     <p>必须在某些位置替换有效值（由&lt;...&gt;表示）才能使程序成功运行。</p>
                     <div class="infoboxnotealso" id="GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D__GUID-EA9073DB-084A-4A0A-AF45-075FDBA5CF1F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> <code class="codeph">DBMS_DBFS_HS</code>文档，以获取有关方法及其参数的完整详细信息</p>
                     </div><pre class="oac_no_warn" dir="ltr">Rem示例配置和使用Amazon S3存储。Rem Rem hsuser应该是已被授予Rem dbfs_role角色的有效数据库用户。connect hsuser / hsuser Rem以下块设置STORETYPE_AMAZONS3存储，其中Rem DBMS_DBFS_HS充当存储提供者。声明storename varchar2（32）; tblname varchar2（30）; tbsname varchar2（30）; lob_cache_quota number：= 0.8; cachesz数; ots数;开始cachesz：= 50 * 1048576; ots：= 1048576; storename：='s3store10'; tblname：='s3tbl10'; tbsname：='&lt;TBS_3&gt;'; - 替换有效的表空间名称 - 创建商店。- 这里tbsname是用于存储的表空间， -  tblname是包含所有商店实体的表， -  cachesz是商店用于缓存内容的空间 - 在表空间中， -  lob_cache_quota是分数cachesz已分配 - 级别1缓存和 -  ots是累积的最小内容量 - 在存储在AmazonS3中的二级缓存中dbms_dbfs_hs.createStore（storename，dbms_dbfs_hs。STORETYPE_AMAZONS3，tblname，tbsname，cachesz，lob_cache_quota，ots）; dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_SBTLIBRARY，'&lt;ORACLE_HOME / work / libosbws11.so&gt;'）; - 替换ORACLE_HOME路径dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_S3HOST，'s3.amazonaws.com'）; dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_BUCKET，'oras3bucket10'）; dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_WALLET，'LOCATION = file：&lt;ORACLE_HOME&gt; / work / wlt CREDENTIAL_ALIAS = a_key'）; - 替换ORACLE_HOME路径dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_LICENSEID，'&lt;xxxxxxxxxxxxxxxx&gt;'）; - 替换有效的SBT许可证ID dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_HTTPPROXY，'&lt;http://www-proxy.mycompany.com:80/&gt;'）; - 替换有效值。如果未使用代理，则无需设置此属性。dbms_dbfs_hs.setstoreproperty（storename，dbms_dbfs_hs。PROPNAME_COMPRESSLEVEL，'NONE'）; dbms_dbfs_hs.createbucket（storename）; - 有关此方法的详细信息，请参阅DBMS_DBFS_CONTENT文档 -  dbms_dbfs_content.registerstore（storename，'s3prvder10'，'dbms_dbfs_hs'）; - 有关此方法的详细信息，请参阅DBMS_DBFS_CONTENT文档 -  dbms_dbfs_content.mountstore（storename，'s3mnt10'）;结束 ; / Rem以下代码块执行文件操作Rem使用DBMS_DBFS_CONTENT对存储配置的Rem在上一个代码块中连接hsuser / hsuser declare path varchar2（256）; path_pre varchar2（256）; mount_point varchar2（32）; store_name varchar2（32）; prop1 dbms_dbfs_content_properties_t; prop2 dbms_dbfs_content_properties_t; mycontent blob：= empty_blob（）; buffer varchar2（1050）; rawbuf raw（1050）; outcontent blob：= empty_blob（）; itemtype整数; pflag整数; filecnt整数; iter整数;偏移整数; rawlen整数; begin mount_point：='/ s3mnt10'; store_name：='s3store10'; path_pre：= mount_point ||'/ file'; - 我们在以下循环文件中创建10个空文件：= 0;当filecnt = 10时循环退出; path：= path_pre || to_char（filecnt）; mycontent：= empty_blob（）; prop1：= null; - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.createFile（path，prop1，mycontent）; - 创建文件提交; filecnt：= filecnt + 1;结束循环; - 我们使用内容填充新创建的文件 - 在以下循环中pflag：= dbms_dbfs_content.prop_data + dbms_dbfs_content.prop_std + dbms_dbfs_content.prop_opt; buffer：='Oracle提供集成管理'|| '使用'||管理Oracle数据库的解决方案'独特的自上而下的应用程序管理'|| “方法。随着新的自我管理'|| '能力，Oracle消除了时间 - '|| '消费，容易出错的行政'|| '任务，所以数据库管理员可以'|| “专注于战略业务目标”|| '而不是性能和可用性'|| '消防演习。Oracle管理包'|| '数据库提供了显着的成本和时间 - '|| '节省管理Oracle的能力'|| “数据库。独立研究表明'|| 'Oracle数据库容易40％'|| '管理DB2和38％以上'|| 'SQL Server。“; rawbuf：= utl_raw.cast_to_raw（buffer）; rawlen：= utl_raw.length（rawbuf）; offset：= 1; filecnt：= 0;当filecnt = 10时循环退出; path：= path_pre || to_char（filecnt）; prop1：= null; - 将缓冲区附加到文件 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.putpath（path，prop1，rawlen，offset，rawbuf）;承诺filecnt：= filecnt + 1;结束循环; - 清除1级缓存dbms_dbfs_hs.flushCache（store_name）;承诺 - 对偶数文件执行写操作。- 对奇数文件进行读操作。filecnt：= 0;当filecnt = 10时循环退出; path：= path_pre || to_char（filecnt）;如果mod（filecnt，2）= 0则 - 获取可写文件 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.getPath（path，prop2，outcontent，itemtype，pflag，null，true）; buffer：='敏捷企业希望能够'|| '迅速采用新技术，无论是'|| '操作系统，服务器或'|| '软件，帮助他们保持领先'|| '竞赛。但是，经常更改'|| '在'||中引入了一段不稳定的时期'任务关键型IT系统。甲骨文'|| '真正的应用程序测试 - 使用Oracle'|| '数据库11g企业版 - 允许'|| '企业要迅速采用新'|| '技术同时消除'|| '与变革有关的风险。甲骨文'|| '真实应用测试结合了'|| '工作负载捕获和重放功能'|| '用SQL性能分析器'|| '帮助你测试现实生活中的变化'|| '工作量，然后帮助你微调'|| '将它们放入'||之前的变化'生产。Oracle Real Application'|| '测试支持旧版本的'|| 'Oracle数据库，让客户运行'|| 'Oracle数据库9i和Oracle数据库'|| '10g可以用它来加速'|| '数据库升级。“; rawbuf：= utl_raw.cast_to_raw（buffer）; rawlen：= utl_raw.length（rawbuf）; - 修改文件内容 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_lob.write（outcontent，rawlen，10，rawbuf）;承诺else  - 读取文件 - 请参阅DBMS_DBFS_CONTENT文档 - 有关此方法的详细信息dbms_dbfs_content.getPath（path，prop2，outcontent，itemtype，pflag）;万一 ; filecnt：= filecnt + 1;结束循环; - 删除前2个文件filecnt：= 0;当filecnt = 2时循环退出; path：= path_pre || to_char（filecnt）; - 删除文件 - 有关此方法的详细信息，请参阅DBMS_DBFS_CONTENT文档 -  dbms_dbfs_content.deleteFile（path）;承诺filecnt：= filecnt + 1;结束循环; - 将在数据库中暂存的内容移动到Amazon S3商店dbms_dbfs_hs.storePush（store_name）;承诺结束 ; /</pre></div>
               </div>
            </div><a id="ADLOB45974"></a><div class="props_rev_3"><a id="GUID-3BE7F481-16AB-4584-8339-220D9EAC8684" name="GUID-3BE7F481-16AB-4584-8339-220D9EAC8684"></a><h3 id="ADLOB-GUID-3BE7F481-16AB-4584-8339-220D9EAC8684" class="sect3">数据库文件系统链接</h3>
               <div>
                  <p>数据库文件系统链接允许将SecureFiles LOB存储在与平常不同的位置。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F" title="DBFS链接允许将SecureFiles LOB透明地存储在与通常存储LOB的段不同的位置。而是在段中存储指向LOB的链接。">关于数据库文件系统链接</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505" title="数据库文件系统链接需要通过使用DBFS内容包DBMS_DBFS_CONTENT来创建数据库文件系统。">如何创建数据库文件系统链接</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-147629A9-FCC4-481E-B46B-DE0D4366B797" title="API DBMS_LOB.COPY_DBFS_LINK（DSTLOB，SRCLOB，FLAGS）提供了复制链接的SecureFiles LOB的功能。">数据库文件系统链接复制</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D" title="您可以将DBFS链接从源表复制到目标表。">在表之间复制链接的LOB</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4" title="联机重定义将复制存储在正在重新定义的表中的任何SecureFiles LOB中的任何DBFS链接。">在线重新定义和DBFS链接</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7" title="即使数据未缓存在数据库中，DBFS链接也可以从链接的SecureFiles LOB读取。">透明阅读</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45975"></a><a id="ADLOB46147"></a><div class="props_rev_3"><a id="GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F" name="GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F"></a><h4 id="ADLOB-GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F" class="sect4">关于数据库文件系统链接</h4>
                  <div>
                     <p>DBFS链接允许将SecureFiles LOB透明地存储在与通常存储LOB的段不同的位置。而是在段中存储指向LOB的链接。</p>
                     <p>段中的链接必须引用使用DBFS在访问时定位LOB的路径。这意味着LOB可以存储在另一个文件系统，磁带系统，云端或可以使用DBFS访问的任何其他位置。</p>
                     <p>当用户或应用程序尝试使用DBFS链接访问已存储在段外部的SecureFiles LOB时，行为可能会有所不同，具体取决于尝试的操作以及保存LOB的DBFS存储库的特征：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>读：</p>
                           <p>如果LOB尚未缓存在数据库的本地区域中，则可以直接从保存LOB的DBFS内容存储中读取LOB，如果内容存储允许基于<code class="codeph">PROPNAME_STREAMABLE</code>参数的设置进行流访问。如果内容存储库不允许流式访问，则首先将整个LOB读入数据库中的本地区域，在该区域中将其存储一段时间以供将来访问。
                           </p>
                        </li>
                        <li>
                           <p>写：</p>
                           <p>如果LOB尚未缓存在数据库的本地区域中，则首先将其读入数据库，根据需要进行修改，然后写回到DBFS链接中为相关LOB定义的DBFS内容存储库。</p>
                        </li>
                        <li>
                           <p>删除：</p>
                           <p>删除通过DBFS链接存储的SecureFiles LOB时，将从表中删除DBFS链接，但不会从DBFS内容存储库中删除LOB本身。或者，基于所讨论的DBFS内容存储库的特征/设置，它更复杂。</p>
                        </li>
                     </ul>
                     <p>DBFS链接允许使用SecureFiles LOB与DBFS分层存储（DBFS HS）一起实现分层存储管理（HSM）。HSM是一个过程，通过该过程，数据库将很少使用或未使用的数据从更快，更昂贵和更小的存储移动到更慢，更便宜和更高容量的存储。</p>
                     <div class="figure" id="GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F__GUID-79E69764-D05F-489F-B1E6-C81781D176E8">
                        <p class="titleinfigure">图22-1数据库文件系统链接</p><img src="img/adlob202.gif" width="288" alt="下面是图22-1的描述" title="下面是图22-1的描述" longdesc="img_text/adlob202.html"><br><a href="img_text/adlob202.html">“图22-1数据库文件系统链接”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="ADLOB45976"></a><div class="props_rev_3"><a id="GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505" name="GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505"></a><h4 id="ADLOB-GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505" class="sect4">如何创建数据库文件系统链接</h4>
                  <div>
                     <p>数据库文件系统链接需要通过使用DBFS内容包<code class="codeph">DBMS_DBFS_CONTENT</code>创建数据库文件系统。</p>
                     <p>Oracle提供了几种创建DBFS链接的方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将SecureFiles LOB数据移动到指定的DBFS路径名中，并将引用存储到LOB中的新位置。</p>
                           <p>使用LOB和DBFS路径名参数调用<code class="codeph">DBMS_LOB.MOVE_TO_DBFS_LINK()</code> ，并且系统创建指定的DBFS HSM存储（如果它不存在），将数据从SecureFiles LOB复制到指定的DBFS HSM存储中，从SecureFiles LOB中删除数据，以及存储文件路径名，以便通过此LOB进行后续访问。</p>
                        </li>
                        <li>
                           <p>复制或创建对现有文件的引用。</p>
                           <p>调用<code class="codeph">DBMS_LOB.COPY_DBFS_LINK()</code>以从现有DBFS链接复制链接。如果目标SecureFiles LOB中有任何数据，系统将删除此数据并将引用的副本存储到目标SecureFiles LOB中的链接。</p>
                        </li>
                        <li>
                           <p>调用<code class="codeph">DBMS_LOB.SET_DBFS_LINK()</code> ，它假定链接的数据存储在指定的DBFS路径名中。
                           </p>
                           <p>系统将删除指定SecureFiles LOB中的数据，并将链接存储到DBFS路径名。</p>
                        </li>
                     </ul>
                     <p>创建DBFS链接会影响可以执行的操作以及操作方式。如果底层LOB已移入DBFS链接，则修改LOB内容的任何<code class="codeph">DBMS_LOB</code>操作都将引发异常。在进行这些调用之前，应用程序必须通过调用<code class="codeph">DBMS_LOB.COPY_FROM_LINK()</code>显式地将DBFS链接替换为LOB。
                     </p>
                     <p>完成后，如果需要，应用程序可以使用<code class="codeph">DBMS_LOB.MOVE_TO_DBFS_LINK()</code>将更新的LOB移回DBFS。如果DBFS链接位于支持流式传输的文件系统中，则Oracle Database <span class="italic">11g</span>第2版之前存在的其他<code class="codeph">DBMS_LOB</code>操作将以透明方式工作。请注意，如果不支持或禁用流式传输，则这些操作会失败。
                     </p>
                     <p>如果直接通过DBFS接口修改DBFS链接文件，则更改将反映在SecureFiles LOB的后续读取中。如果通过DBFS接口删除文件，则后续读取会发生异常。</p>
                     <p>对于数据库，DBA可能不希望在导出和导入期间存储SecureFiles LOB HSM中存储的所有数据。Oracle只能导出和导入数据库文件系统链接。链接是完全限定的标识符，当输入到SecureFiles LOB或在不同数据库中的SecureFiles LOB上注册时，它们提供对存储数据的访问。导出和导入链接的能力类似于符号链接的常见文件系统功能。</p>
                     <p>只要源，存储的数据可用，或者直到在导入的系统上进行第一次检索，新导入的链接才可用。该应用程序负责存储数据保留。如果应用程序系统从仍然具有对它的引用的存储中删除数据，则在引用SecureFiles LOB尝试访问数据时，数据库将引发异常。Oracle还支持在作为缓存副本迁移到DBFS存储之后继续将数据保留在数据库中。应用程序可以根据其保留策略清除这些副本。</p>
                  </div>
               </div><a id="ADLOB45977"></a><div class="props_rev_3"><a id="GUID-147629A9-FCC4-481E-B46B-DE0D4366B797" name="GUID-147629A9-FCC4-481E-B46B-DE0D4366B797"></a><h4 id="ADLOB-GUID-147629A9-FCC4-481E-B46B-DE0D4366B797" class="sect4">数据库文件系统链接复制</h4>
                  <div>
                     <p>API <code class="codeph">DBMS_LOB.COPY_DBFS_LINK(DSTLOB,</code> <code class="codeph">SRCLOB</code> ， <code class="codeph">FLAGS</code> <code class="codeph">)</code>提供了复制链接的SecureFiles LOB的功能。</p>
                     <p>sBy默认情况下，在此操作期间不从DBFS HSM Store获取LOB;这是一个按引用复制的操作，它导出DBFS路径名（在源端）并导入它（在目标端）。<code class="codeph">flags</code>参数可以指示目标在数据库中具有本地副本，并引用DBFS HSM存储中的LOB数据。
                     </p>
                  </div>
               </div><a id="ADLOB45978"></a><div class="props_rev_3"><a id="GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D" name="GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D"></a><h4 id="ADLOB-GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D" class="sect4">在表之间复制链接的LOB</h4>
                  <div>
                     <p>您可以将DBFS链接从源表复制到目标表。</p>
                     <div class="section">
                        <p>使用以下代码将存储在源表中任何SecureFiles LOB中的任何DBFS链接复制到目标表。</p>
                        <p><code class="codeph">创建表...AS SELECT (CTAS)</code>和<code class="codeph">INSERT TABLE ...AS SELECT（ITAS）</code> 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45979"></a><div class="props_rev_3"><a id="GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4" name="GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4"></a><h4 id="ADLOB-GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4" class="sect4">在线重新定义和DBFS链接</h4>
                  <div>
                     <p>联机重定义将复制存储在正在重新定义的表中的任何SecureFiles LOB中的任何DBFS链接。</p>
                     <p>联机重定义将复制存储在正在重新定义的表中的任何SecureFiles LOB中的任何DBFS链接。</p>
                  </div>
               </div><a id="ADLOB45980"></a><div class="props_rev_3"><a id="GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7" name="GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7"></a><h4 id="ADLOB-GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7" class="sect4">透明阅读</h4>
                  <div>
                     <p>即使数据未缓存在数据库中，DBFS链接也可以从链接的SecureFiles LOB读取。</p>
                     <p>您可以从当前存储数据的内容存储库中读取数据，并将该数据流回用户应用程序，就像从SecureFiles LOB段读取数据一样。这允许无需首次调用<code class="codeph">DBMS_LOB.COPY_FROM_DBFS_LINK()</code>即可无缝访问DBFS链接数据。
                     </p>
                     <p>是否可以为特定SecureFiles LOB提供透明读取由数据所在的<code class="codeph">DBFS_CONTENT</code>存储区确定。始终为<code class="codeph">DBFS_SFS</code>存储启用此功能，默认情况下为<code class="codeph">DBFS_HS</code>存储启用此功能。要禁用<code class="codeph">DBFS_HS</code>存储的透明读取，请将<code class="codeph">PROPNAME_STREAMABLE</code>参数设置为<code class="codeph">FALSE</code> 。</p>
                     <div class="infoboxnotealso" id="GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7__GUID-EA2B7E26-BE1C-492B-80C9-11ABD62A7679">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72174" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB46070"></a><div class="props_rev_3"><a id="GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3" name="GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3"></a><h3 id="ADLOB-GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3" class="sect3">DBMS_DBFS_HS包</h3>
               <div>
                  <p><code class="codeph">DBMS_DBFS_HS</code>包是一个服务提供者，它允许使用磁带或Amazon S3 Web服务作为数据存储。
                  </p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868" title="DBMS_DBFS_HS PL / SQL包常量非常详细。">DBMS_DBFS_HS包的常量</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8" title="DBMS_DBFS_HSpackage中有许多方法。">DBMS_DBFS_HS包的方法</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46069"></a><div class="props_rev_3"><a id="GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868" name="GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868"></a><h4 id="ADLOB-GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868" class="sect4">DBMS_DBFS_HS包的常量</h4>
                  <div>
                     <p><code class="codeph">DBMS_DBFS_HS</code> PL / SQL包常量非常详细。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868__SEEORACLEDATABASEPLSQLPACKAGESANDTY-DFE7D10C">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DBMS_DBFS_HS</code> PL / SQL包使用的常量的详细信息，请参阅<a href="../arpls/DBMS_DBFS_HS.html#ARPLS72148" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="ADLOB46160"></a><a id="ADLOB46186"></a><div class="props_rev_3"><a id="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8" name="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8"></a><h4 id="ADLOB-GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8" class="sect4">DBMS_DBFS_HS包的方法</h4>
                  <div>
                     <p><code class="codeph">DBMS_DBFS_HS</code>包中有许多方法。
                     </p>
                     <div class="section">
                        <p><a href="DBFS-hierarchical-store.html#GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8__CHDEECJD" title="DBMS_DBFS_HS包的方法。第1列是方法，第2列是其简要说明。">表22-1</a>总结了<code class="codeph">DBMS_DBFS_HS</code> PL / SQL包方法。
                        </p>
                        <div class="infoboxnotealso" id="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DFE7F8AC">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8__CHDEECJD">
                        <p class="titleintable">表22-1 DBMS_DBFS_HS PL / SQL包的方法</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DBFS_HS PL / SQL包的方法" width="100%" border="1" summary="Methods of the DBMS_DBFS_HS package. Column 1 is the method, and Column 2 is its brief description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d90648e2364">方法</th>
                                 <th align="left" valign="bottom" width="69%" id="d90648e2367">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2372" headers="d90648e2364 ">
                                    <p><code class="codeph">CLEANUPUNUSEDBACKUPFILES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2372 d90648e2367 ">
                                    <p>如果没有当前内容，则删除在外部存储设备上创建的文件。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72155" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2385" headers="d90648e2364 ">
                                    <p><code class="codeph">CREATEBUCKET</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2385 d90648e2367 ">
                                    <p>创建AWS桶，与<code class="codeph">STORETYPE_AMAZON3</code>商店一起使用。
                                    </p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72165" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2401" headers="d90648e2364 ">
                                    <p><code class="codeph">CREATESTORE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2401 d90648e2367 ">
                                    <p>创建DBFS HS存储。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72160" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2415" headers="d90648e2364 ">
                                    <p><code class="codeph">DEREGSTORECOMMAND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2415 d90648e2367 ">
                                    <p>删除与商店关联的命令（消息）。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72161" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2428" headers="d90648e2364 ">
                                    <p><code class="codeph">DROPSTORE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2428 d90648e2367 ">
                                    <p>删除以前创建的DBFS HS存储。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72163" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2441" headers="d90648e2364 ">
                                    <p><code class="codeph">FLUSHCACHE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2441 d90648e2367 ">
                                    <p>将1级缓存刷新到2级缓存，增加1级空间。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72175" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2454" headers="d90648e2364 ">
                                    <p><code class="codeph">GETSTOREPROPERTY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2454 d90648e2367 ">
                                    <p>检索数据库中商店的属性值。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72165" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2467" headers="d90648e2364 ">
                                    <p><code class="codeph">RECONFIGCACHE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2467 d90648e2367 ">
                                    <p>重新配置存储使用的数据库缓存的参数。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72167" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2480" headers="d90648e2364 ">
                                    <p><code class="codeph">REGISTERSTORECOMMAND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2480 d90648e2367 ">
                                    <p>注册存储的命令（消息），以便将它们发送到外部存储设备的介质管理器。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72177" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2494" headers="d90648e2364 ">
                                    <p><code class="codeph">SENDCOMMAND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2494 d90648e2367 ">
                                    <p>将命令（消息）发送到外部存储设备的介质管理器。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72171" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2507" headers="d90648e2364 ">
                                    <p><code class="codeph">SETSTOREPROPERTY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2507 d90648e2367 ">
                                    <p>将名称/值属性与已注册的分层存储关联。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72173" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2521" headers="d90648e2364 ">
                                    <p><code class="codeph">STOREPUSH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2521 d90648e2367 ">
                                    <p>将本地缓存的数据推送到存档存储。</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72165" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="ADLOB46206"></a><div class="props_rev_3"><a id="GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C" name="GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C"></a><h3 id="ADLOB-GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C" class="sect3">DBFS分层存储的视图</h3>
               <div>
                  <p>BFS分层存储有几种类型的视图。</p>
                  <p>DBFS分层存储有几种类型的视图。</p>
                  <div class="infoboxnotealso" id="GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C__GUID-94E840F2-A61D-4E6A-81DC-D630B5825042">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/USER_DBFS_HS_FILES.html#REFRN26780" target="_blank"><span class="italic">Oracle Database Reference</span></a> ，了解这些视图的列和数据类型</p>
                  </div>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE" title="DBFS Hierarchical Store有几个视图可用。">DBA视图</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-201E3899-9363-4F56-83BD-BE597E7B986B" title="DBFS分层存储有几种可用的视图。">用户视图</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46207"></a><div class="props_rev_3"><a id="GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE" name="GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE"></a><h4 id="ADLOB-GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE" class="sect4">DBA视图</h4>
                  <div>
                     <p>DBFS Hierarchical Store有几个视图可用。</p>
                     <div class="section">
                        <p>可以使用DBFS Hierarchical Store的这些视图：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS</code></p>
                              <p>此视图显示所有数据库文件系统（DBFS）分层存储</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS_PROPERTIES</code></p>
                              <p>此视图显示所有数据库文件系统（DBFS）分层存储的可修改属性。</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS_FIXED_PROPERTIES</code></p>
                              <p>此视图显示所有数据库文件系统（DBFS）分层存储的不可修改属性。</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS_COMMANDS</code></p>
                              <p>此视图显示所有数据库文件系统（DBFS）分层存储的所有已注册存储命令。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46088"></a><div class="props_rev_3"><a id="GUID-201E3899-9363-4F56-83BD-BE597E7B986B" name="GUID-201E3899-9363-4F56-83BD-BE597E7B986B"></a><h4 id="ADLOB-GUID-201E3899-9363-4F56-83BD-BE597E7B986B" class="sect4">用户视图</h4>
                  <div>
                     <p>DBFS分层存储有几种可用的视图。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">USER_DBFS_HS</code></p>
                              <p>此视图显示当前用户拥有的所有数据库文件系统（DBFS）分层存储。</p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_PROPERTIES</code></p>
                              <p>此视图显示当前用户拥有的所有数据库文件系统（DBFS）分层存储的可修改属性。</p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_FIXED_PROPERTIES</code></p>
                              <p>此视图显示当前用户拥有的所有数据库文件系统（DBFS）分层存储的不可修改属性。</p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_COMMANDS</code> 
                              </p>
                              <p>此视图显示当前用户拥有的所有数据库文件系统（DBFS）分层存储的所有已注册存储命令。</p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_FILES</code></p>
                              <p>此视图显示当前用户拥有的数据库文件系统（DBFS）分层存储中的文件及其在后端设备上的位置。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>