<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>真实应用安全HR演示</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XS_SECURITY_CLASS-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="predefined-objects-in-real-application-security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XS_SECURITY_CLASS-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="predefined-objects-in-real-application-security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">真实应用安全HR演示</li>
            </ol>
            <a id="GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87" name="GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87"></a><a id="DBFSG806"></a>
            
            <h2 id="DBFSG-GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87" class="sect2"><span class="enumeration_chapter">12</span> Real Application Security HR演示</h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">本章介绍以下主题：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A">安全人力资源演示概述</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C">每个脚本的作用</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4">设置安全HR演示组件</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-FA992EC6-83D5-4465-86D8-334EAA195C41">使用直接登录运行安全HR演示</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A">运行连接到真实应用程序安全会话的安全HR演示</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B">运行安全HR演示清理脚本</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-36443370-D363-45F1-8F39-45FC8FA52FEB">在Java界面中运行安全HR演示</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-73D8B4A8-43B1-47CF-B23F-07248275176F" title="介绍如何使用RASADM使用图形用户界面创建Real Application Security数据安全策略。">关于使用RASADM运行安全HR演示</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG807"></a><div class="props_rev_3"><a id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A" name="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A"></a><h3 id="DBFSG-GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A" class="sect3">安全人力资源演示概述</h3>
               <div>
                  <p>此人力资源（HR）演示展示了如何使用基本的Real Application Security（RAS）功能。本教程是一个端到端的用例场景。可以在<a href="real-application-security-hr-demo-files.html#GUID-9289D66D-6426-4CE5-9E5E-941A360B0E9C">Real Application Security HR演示文件中</a>找到PL / SQL脚本，Java程序源文件和日志文件。
                  </p>
                  <p>HR演示通过应用具有三个领域的数据安全策略来保护<code class="codeph">HR.EMPLOYEE</code>表：</p>
                  <ol>
                     <li id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHJHIDF">
                        <p>员工自己的记录领域。ACL， <code class="codeph">EMP_ACL</code>控制此领域，授予应用程序角色<code class="codeph">employee</code>权限以访问领域，包括<code class="codeph">SALARY</code>列。
                        </p>
                     </li>
                     <li id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHGGHEH">
                        <p>IT部门领域的所有记录。ACL， <code class="codeph">IT_ACL</code>控制此领域，授予应用程序角色<code class="codeph">it_engineer</code>权限以访问领域，但不包括<code class="codeph">SALARY</code>列。
                        </p>
                     </li>
                     <li id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHBGEEH">
                        <p>所有员工记录领域。ACL，HR_ACL控制此领域，授予应用程序角色<code class="codeph">hr_representative</code>权限以访问领域，包括<code class="codeph">SALARY</code>列。
                        </p>
                     </li>
                  </ol>
                  <p>HR演示定义了两个应用程序用户来演示策略的效果：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DAUSTIN</code> ，IT部门的应用程序用户。他有应用角色<code class="codeph">employee</code>和<code class="codeph">it_engineer</code> 。所以，他可以访问前面提到的领域＃ <a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHJHIDF">1</a>和领域＃ <a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHGGHEH">2</a> ;也就是说，他可以在IT部门查看员工记录，但除了自己的工资记录外，他无法查看<code class="codeph">SALARY</code>列。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SMAVRIS</code> ，人力资源部门的应用程序用户。她有应用程序角色<code class="codeph">employee</code>和<code class="codeph">hr_representative</code> 。所以，她可以访问前面提到的领域＃ <a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHJHIDF">1</a>和领域＃ <a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHBGEEH">3</a> ;也就是说，她可以查看和更新所有员工记录。
                        </p>
                     </li>
                  </ul>
                  <p>人力资源演示脚本显示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如何创建Real Application Security对象：应用程序用户，应用程序角色，ACL，安全性类和数据安全性策略。</p>
                     </li>
                     <li>
                        <p>如何使用数据安全策略来保护表的行（使用领域约束）和列（使用列约束）。</p>
                     </li>
                     <li>
                        <p>如何使用应用程序用户直接登录数据库（需要密码），以及如何创建，附加，分离和销毁Real Application Security会话。</p>
                     </li>
                     <li>
                        <p>如何在Real Application Security会话中启用和禁用应用程序角色。</p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG808"></a><div class="props_rev_3"><a id="GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C" name="GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C"></a><h3 id="DBFSG-GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C" class="sect3">每个脚本的作用</h3>
               <div>
                  <p>Security HR演示用例运行以下PL / SQL脚本集来设置组件并运行演示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">hrdemo_setup.sql</code> ：通过以下方式设置演示组件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建数据库用户作为Real Application Security管理员，然后作为Real Application Security管理员连接以创建组件。</p>
                           </li>
                           <li>
                              <p>创建数据库角色<code class="codeph">DB_EMP</code> 。</p>
                           </li>
                           <li>
                              <p>创建IT应用程序用户<code class="codeph">DAUSTIN</code> 。</p>
                           </li>
                           <li>
                              <p>创建HR应用程序用户<code class="codeph">SMAVRIS</code> 。</p>
                           </li>
                           <li>
                              <p>创建应用程序角色： <code class="codeph">employee</code> ， <code class="codeph">it_engineer</code>和<code class="codeph">hr_representative</code> ，然后将数据库角色<code class="codeph">DB_EMP</code>授予每个应用程序角色。
                              </p>
                           </li>
                           <li>
                              <p>将应用程序角色<code class="codeph">employee</code>和<code class="codeph">it_engineer</code>授予应用程序用户<code class="codeph">DAUSTIN</code> 。</p>
                           </li>
                           <li>
                              <p>将应用程序角色<code class="codeph">employee</code>和<code class="codeph">hr_representative</code>授予应用程序用户<code class="codeph">SMAVRIS</code> 。</p>
                           </li>
                           <li>
                              <p>创建<code class="codeph">VIEW_SALARY</code>特权并创建用于确定特权范围的<code class="codeph">hr_privileges</code>安全性类。
                              </p>
                           </li>
                           <li>
                              <p>创建三个ACL： <code class="codeph">EMP_ACL</code> ， <code class="codeph">IT_ACL</code>和<code class="codeph">HR_ACL</code> ，其中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">EMP_ACL</code>授予<code class="codeph">employee</code>角色<code class="codeph">SELECT</code>数据库权限和<code class="codeph">VIEW_SALARY</code>应用程序特权，以查看员工自己的记录，包括<code class="codeph">SALARY</code>列。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">IT_ACL</code>仅授予<code class="codeph">it_engineer</code>角色<code class="codeph">SELECT</code>数据库权限以查看IT部门中的员工记录，但它不授予访问<code class="codeph">SALARY</code>列所需的<code class="codeph">VIEW_SALARY</code>特权。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HR_ACL</code>授予<code class="codeph">hr_representative</code>角色<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>数据库特权，以查看和更新所有员工的记录，并授予<code class="codeph">VIEW_SALARY</code>应用程序特权以查看<code class="codeph">SALARY</code>列。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>HR演示通过创建和应用具有以下三个领域和列约束的数据安全策略<code class="codeph">EMPLOYEES_DS</code>保护<code class="codeph">HR.EMPLOYEE</code>表：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>员工自己的记录领域。ACL， <code class="codeph">EMP_ACL</code>控制此领域，授予应用程序角色<code class="codeph">employee</code>权限以访问领域，包括<code class="codeph">SALARY</code>列。
                                    </p>
                                 </li>
                                 <li>
                                    <p>IT部门领域的所有记录。ACL， <code class="codeph">IT_ACL</code>控制此领域，授予应用程序角色<code class="codeph">it_engineer</code>权限以访问领域，但不包括<code class="codeph">SALARY</code>列。
                                    </p>
                                 </li>
                                 <li>
                                    <p>所有员工记录领域。ACL， <code class="codeph">HR_ACL</code>控制此领域，授予应用程序角色<code class="codeph">hr_representative</code>权限以访问领域，包括<code class="codeph">SALARY</code>列。
                                    </p>
                                 </li>
                                 <li>
                                    <p>通过要求<code class="codeph">VIEW_SALARY</code>特权查看其敏感数据来保护<code class="codeph">SALARY</code>列的列约束。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>验证已创建的所有对象以确保所有配置都正确。</p>
                           </li>
                           <li>
                              <p>通过创建<code class="codeph">DISPATCHER</code>用户，设置此用户的密码以及向此<code class="codeph">DISPATCHER</code>用户授予角色<code class="codeph">XSCONNECT</code>和<code class="codeph">xsdispatcher</code>来设置中间层相关配置。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo.sql</code> ：直接登录运行演示，演示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>IT应用程序用户<code class="codeph">DAUSTIN</code>可以查看IT部门中的记录，但只能查看自己的工资记录，并且无法更新自己的记录。
                              </p>
                           </li>
                           <li>
                              <p>HR应用程序用户<code class="codeph">SMAVRIS</code>可以查看所有记录，包括<code class="codeph">SALARY</code>列中的所有工资行，并可以更新任何记录。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo_session.sql</code> ：运行演示创建并附加到Real Application Security会话，演示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>作为Real Application Security管理员连接并为应用程序用户<code class="codeph">SMAVRIS</code>创建应用程序会话并附加到该应用程序。
                              </p>
                           </li>
                           <li>
                              <p>将当前用户显示为<code class="codeph">SMAVRIS</code> 。</p>
                           </li>
                           <li>
                              <p>将已启用的数据库角色显示为<code class="codeph">DB_EMP</code> ，将应用程序角色<code class="codeph">XSPUBLIC</code>为当前用户<code class="codeph">SMAVRIS</code> <code class="codeph">employee</code> ， <code class="codeph">hr_representative</code>和<code class="codeph">SMAVRIS</code> 。</p>
                           </li>
                           <li>
                              <p>该<code class="codeph">SMAVRIS</code>应用程序用户可以查看所有记录，包括<code class="codeph">SALARY</code>列中的所有工资行。
                              </p>
                           </li>
                           <li>
                              <p>禁用<code class="codeph">hr_representative</code> ，从而限制应用程序用户<code class="codeph">SMAVRIS</code>仅查看她自己的员工记录。
                              </p>
                           </li>
                           <li>
                              <p>启用<code class="codeph">hr_representative</code> ，从而允许<code class="codeph">SMAVRIS</code>应用程序用户再次查看所有记录，包括<code class="codeph">SALARY</code>列中的所有工资行。
                              </p>
                           </li>
                           <li>
                              <p>从应用程序会话中分离。</p>
                           </li>
                           <li>
                              <p>销毁应用程序会话。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo_clean.sql</code> ：执行清除操作，删除：应用程序角色，应用程序用户，ACL，数据安全策略，数据库角色，Real Application Security管理用户和中间层调度程序用户。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo.java</code> ：使用Java界面运行HR Demo。
                        </p>
                     </li>
                  </ul>
                  <p><span class="q">“ <a href="real-application-security-hr-demo.html#GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4">设置安全性HR演示组件</a> ”</span>更详细地描述了如何创建每个Real Application Security组件以及执行其他一些重要任务。
                  </p>
               </div>
            </div><a id="DBFSG809"></a><div class="props_rev_3"><a id="GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4" name="GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4"></a><h3 id="DBFSG-GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4" class="sect3">设置安全HR演示组件</h3>
               <div>
                  <div class="section">
                     <p>在创建Real Application Security组件之前，必须先以<code class="codeph">SYS/</code> user身份连接为<code class="codeph">SYSDBA</code> 。</p><pre class="oac_no_warn" dir="ltr">define passwd =＆1将sys / <span class="italic">＆passwd</span>连接为sysdba</pre><div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD">关于创建角色和应用程序用户</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2">关于创建安全性类和ACL</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D">关于创建数据安全策略</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-9519B6E3-ACC5-403A-BF54-99862F01665D">关于验证Real Application Security对象</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4">关于设置中间层相关配置</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="DBFSG810"></a><div class="props_rev_3"><a id="GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD" name="GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD"></a><h4 id="DBFSG-GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD" class="sect4">关于创建角色和应用程序用户</h4>
                  <div>
                     <p>创建应用程序角色<code class="codeph">EMPLOYEE</code> ， <code class="codeph">IT_ENGINEER</code>和<code class="codeph">HR_REPRESENTATIVE</code> ，以及数据库角色<code class="codeph">DB_EMP</code> 。 <code class="codeph">DB_EMP</code>角色用于向创建的两个应用程序用户<code class="codeph">DAUSTIN</code>和<code class="codeph">SMAVRIS</code>授予所需的对象权限。最后，为<code class="codeph">HR</code>用户授予策略管理权限<code class="codeph">ADMIN_ANY_SEC_POLICY</code> 。</p>
                     <p>以<code class="codeph">SYS/</code>用户身份连接为<code class="codeph">SYSDBA</code> 。</p><pre class="oac_no_warn" dir="ltr">define passwd =＆1将sys /＆passwd连接为sysdba</pre><p>为普通员工创建应用程序角色<code class="codeph">EMPLOYEE</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_role（name =&gt;'employee'，enabled =&gt; true）;</pre><p>为IT部门创建应用程序角色<code class="codeph">IT_ENGINEER</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_role（name =&gt;'it_engineer'，enabled =&gt; true）;</pre><p>为HR部门创建应用程序角色<code class="codeph">HR_REPRESENTATIVE</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_role（name =&gt;'hr_representative'，enabled =&gt; true）;</pre><p>为对象权限授予创建数据库角色<code class="codeph">DB_EMP</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">创建角色db_emp;</pre><p>将<code class="codeph">DB_EMP</code>数据库角色授予三个应用程序角色，以便它们各自具有访问该表所需的对象特权。
                     </p><pre class="oac_no_warn" dir="ltr">将db_emp授予员工;将db_emp授予it_engineer;将db_emp授予hr_representative;</pre><p>创建应用程序用户。</p>
                     <p>创建应用程序用户<code class="codeph">DAUSTIN</code> （在IT部门中）并授予此用户应用程序角色<code class="codeph">EMPLOYEE</code>和<code class="codeph">IT_ENGINEER</code> 。</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_user（name =&gt;'daustin'，schema =&gt;'hr'）; exec sys.xs_principal.set_password（'daustin'，'welcome1'）; exec sys.xs_principal.grant_roles（'daustin'，'XSCONNECT'）; exec sys.xs_principal.grant_roles（'daustin'，'employee'）; exec sys.xs_principal.grant_roles（'daustin'，'it_engineer'）;</pre><p>创建应用程序用户<code class="codeph">SMAVRIS</code> （在HR部门中）并授予此用户应用程序角色<code class="codeph">EMPLOYEE</code>和<code class="codeph">HR_REPRESENTATIVE</code> 。</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_user（name =&gt;'smavris'，schema =&gt;'hr'）; exec sys.xs_principal.set_password（'smavris'，'welcome1'）; exec sys.xs_principal.grant_roles（'smavris'，'XSCONNECT'）; exec sys.xs_principal.grant_roles（'smavris'，'employee'）; exec sys.xs_principal.grant_roles（'smavris'，'hr_representative'）;</pre><p>为<code class="codeph">HR</code>用户授予策略管理权限<code class="codeph">ADMIN_ANY_SEC_POLICY</code> 。</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_admin_util.grant_system_privilege（'ADMIN_ANY_SEC_POLICY'，'HR'）;</pre></div>
               </div><a id="DBFSG811"></a><div class="props_rev_3"><a id="GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2" name="GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2"></a><h4 id="DBFSG-GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2" class="sect4">关于创建安全性类和ACL</h4>
                  <div>
                     <p>首先，为<code class="codeph">DB_EMP</code>角色授予必要的表权限。
                     </p>
                     <p>接下来，根据预定义的DML安全性类创建安全性类<code class="codeph">HR_PRIVILEGES</code> 。<code class="codeph">HR_PRIVILEGES</code>有一个新权限<code class="codeph">VIEW_SALARY</code> ，它控制对<code class="codeph">SALARY</code>列的访问。最后，创建三个ACL， <code class="codeph">EMP_ACL</code> ， <code class="codeph">IT_ACL</code>和<code class="codeph">HR_ACL</code> 。</p>
                     <p>以<code class="codeph">HR</code>用户身份连接。
                     </p><pre class="oac_no_warn" dir="ltr">连接hr / hr;</pre><p>为<code class="codeph">DB_EMP</code>角色授予必要的对象权限。此角色用于向应用程序用户授予所需的对象权限。
                     </p><pre class="oac_no_warn" dir="ltr">将hr.employees上的select，insert，update，delete授予db_emp;</pre><pre class="oac_no_warn" dir="ltr">declare begin sys.xs_security_class.create_security_class（name =&gt;'hr_privileges'，parent_list =&gt; xs $ name_list（'sys.dml'），priv_list =&gt; xs $ privilege_list（xs $ privilege（'view_salary'）））;结束; /</pre><p>创建三个ACL， <code class="codeph">EMP_ACL</code> ， <code class="codeph">IT_ACL</code>和<code class="codeph">HR_ACL</code>以授予稍后定义的数据安全策略的权限。
                     </p><pre class="oac_no_warn" dir="ltr">声明aces xs $ ace_list：= xs $ ace_list（）;开始aces.extend（1）; -  EMP_ACL：此ACL授予EMPLOYEE角色查看员工自己的记录（包括SALARY列）的权限。aces（1）：= xs $ ace_type（privilege_list =&gt; xs $ name_list（'select'，'view_salary'），principal_name =&gt;'employee'）; sys.xs_acl.create_acl（name =&gt;'emp_acl'，ace_list =&gt; aces，sec_class =&gt;'hr_privileges'）; -  IT_ACL：此ACL授予IT_ENGINEER角色查看员工的权限 -  IT部门中的记录，但不授予访问SALARY列所需的VIEW_SALARY特权。aces（1）：= xs $ ace_type（privilege_list =&gt; xs $ name_list（'select'），principal_name =&gt;'it_engineer'）; sys.xs_acl.create_acl（name =&gt;'it_acl'，ace_list =&gt; aces，sec_class =&gt;'hr_privileges'）; -  HR_ACL：此ACL授予HR_REPRESENTITIVE角色查看和更新所有员工记录（包括SALARY列）的权限。aces（1）：= xs $ ace_type（privilege_list =&gt; xs $ name_list（'select'，'insert'，'update'，'delete'，'view_salary'），principal_name =&gt;'hr_representative'）; sys.xs_acl.create_acl（name =&gt;'hr_acl'，ace_list =&gt; aces，sec_class =&gt;'hr_privileges'）;结束; /</pre></div>
               </div><a id="DBFSG812"></a><div class="props_rev_3"><a id="GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D" name="GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D"></a><h4 id="DBFSG-GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D" class="sect4">关于创建数据安全策略</h4>
                  <div>
                     <p>为<code class="codeph">EMPLOYEE</code>表创建数据安全策略。该策略定义了三个领域约束和一个保护<code class="codeph">SALARY</code>列的列约束。
                     </p><pre class="oac_no_warn" dir="ltr">声明领域xs $ realm_constraint_list：= xs $ realm_constraint_list（）; cols xs $ column_constraint_list：= xs $ column_constraint_list（）; begin realms.extend（3）; - 领域＃1：只有员工自己的记录。-  EMPLOYEE角色可以查看包括SALARY列的领域。realms（1）：= xs $ realm_constraint_type（realm =&gt;'email = xs_sys_context（''xs $ session''，''username''）'，acl_list =&gt; xs $ name_list（'emp_acl'））; - 领域＃2：IT部门的记录。-  IT_ENGINEER角色可以查看除SALARY列之外的域。realms（2）：= xs $ realm_constraint_type（realm =&gt;'department_id = 60'，acl_list =&gt; xs $ name_list（'it_acl'））; - 境界＃3：所有记录。-  HR_REPRESENTATIVE角色可以查看和更新包括SALARY列的领域。realms（3）：= xs $ realm_constraint_type（realm =&gt;'1 = 1'，acl_list =&gt; xs $ name_list（'hr_acl'））; - 列约束通过要求VIEW_SALARY  - 特权来保护SALARY列。cols.extend（1）; cols（1）：= xs $ column_constraint_type（column_list =&gt; xs $ list（'salary'），privilege =&gt;'view_salary'）; sys.xs_data_security.create_policy（name =&gt;'employees_ds'，realm_constraint_list =&gt; realms，column_constraint_list =&gt; cols）;结束; /</pre><p>将数据安全策略应用于<code class="codeph">EMPLOYEES</code>表。
                     </p><pre class="oac_no_warn" dir="ltr">begin sys.xs_data_security.apply_object_policy（policy =&gt;'employees_ds'，schema =&gt;'hr'，object =&gt;'employees'）;结束; /</pre></div>
               </div><a id="DBFSG813"></a><div class="props_rev_3"><a id="GUID-9519B6E3-ACC5-403A-BF54-99862F01665D" name="GUID-9519B6E3-ACC5-403A-BF54-99862F01665D"></a><h4 id="DBFSG-GUID-9519B6E3-ACC5-403A-BF54-99862F01665D" class="sect4">关于验证Real Application Security对象</h4>
                  <div>
                     <p>创建这些Real Application Security对象后，请对其进行验证以确保它们都已正确配置。</p><pre class="oac_no_warn" dir="ltr">start if（sys.xs_diag.validate_workspace（））然后dbms_output.put_line（'所有配置都正确。“）; else dbms_output.put_line（'某些配置不正确。“）;万一;结束; /  -  XS $ VALIDATION_TABLE包含验证错误（如果有）。- 期望不选择任何行。从xs $ validation_table顺序中选择* 1,2,3,4;</pre></div>
               </div><a id="DBFSG814"></a><div class="props_rev_3"><a id="GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4" name="GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4"></a><h4 id="DBFSG-GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4" class="sect4">关于设置中间层相关配置</h4>
                  <div>
                     <p>设置稍后要使用的中间层配置。这涉及创建会话管理员<code class="codeph">hr_session</code> ，该管理员只具有Real Application Security管理权限（ <code class="codeph">XS_SESSION_ADMIN</code>和<code class="codeph">CREATE SESSION</code> ），但没有数据权限。会话管理员负责管理每个应用程序用户的Real Application Security会话。此外，它还涉及创建<code class="codeph">DISPATCHER</code>用户和密码，并授予此用户<code class="codeph">XSCONNECT</code>和<code class="codeph">XSDISPATCHER</code> Real Application Security管理员权限。
                     </p><pre class="oac_no_warn" dir="ltr">授予xs_session_admin，创建hr_session标识的hr_session会话;将创建会话授予hr_common标识的hr_common;</pre><p>为Java演示创建调度程序用户，以便为应用程序用户设置会话。</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_user（name =&gt;'dispatcher'，schema =&gt;'HR'）; exec sys.xs_principal.set_password（'dispatcher'，'welcome1'）; exec sys.xs_principal.grant_roles（'dispatcher'，'XSCONNECT'）; exec sys.xs_principal.grant_roles（'dispatcher'，'xsdispatcher'）;</pre></div>
               </div>
            </div><a id="DBFSG815"></a><div class="props_rev_3"><a id="GUID-FA992EC6-83D5-4465-86D8-334EAA195C41" name="GUID-FA992EC6-83D5-4465-86D8-334EAA195C41"></a><h3 id="DBFSG-GUID-FA992EC6-83D5-4465-86D8-334EAA195C41" class="sect3">使用直接登录运行安全HR演示</h3>
               <div>
                  <div class="section">
                     <p>要运行HR Demo，首先以应用程序用户<code class="codeph">DAUSTIN</code>身份进行连接，该用户只具有<code class="codeph">EMPLOYEE</code>和<code class="codeph">IT_ENGINEER</code>应用程序角色。
                     </p><pre class="oac_no_warn" dir="ltr">conn daustin / welcome1;</pre><p>使用默认指示符星号（*******）代替列值，自定义SQL * Plus中安全列值的显示方式。</p><pre class="oac_no_warn" dir="ltr">在UNAUTH上设置SECUREDCOL *******</pre><p>执行查询以显示应用程序用户<code class="codeph">DAUSTIN</code>可以查看IT部门中的记录，但只能查看自己的<code class="codeph">SALARY</code>列。
                     </p><pre class="oac_no_warn" dir="ltr">通过电子邮件选择电子邮件，first_name，last_name，department_id，manager_id，员工薪水; SQL&gt;通过电子邮件从员工订单中选择email，first_name，last_name，department_id，manager_id，salary 2; EMAIL FIRST_NAME LAST_NAME DEPARTMENT_ID MANAGER_ID SALARY ---------- --------------- --------------- ---- --------- ---------- ------- AHUNOLD Alexander Hunold 60 102 ******* BERNST Bruce Ernst 60 103 ******* DAUSTIN David Austin 60 103 4800 DLORENTZ Diana Lorentz 60 103 ******* VPATABAL Valli Pataballa 60 103 *******选择了5行。
</pre><p>通过在未经授权的情况下显示空值代替应用程序用户的列值，并设置安全级别未知的列值，设置为SQL * Plus中显示安全列值的默认显示方式。</p><pre class="oac_no_warn" dir="ltr">SET SECUREDCOL OFF</pre><p>执行更新操作以显示应用程序用户无权更新记录。</p><pre class="oac_no_warn" dir="ltr">更新员工设置manager_id = 102 where email ='DAUSTIN'; SQL&gt; update employees set manager_id = 102 where email ='DAUSTIN'; 0行已更新。
</pre><p>执行查询以显示记录未更改。</p><pre class="oac_no_warn" dir="ltr">选择email，first_name，last_name，department_id，manager_id，员工的工资，其中email ='DAUSTIN'; SQL&gt;从email ='DAUSTIN'的员工中选择email，first_name，last_name，department_id，manager_id，salary 2; EMAIL FIRST_NAME LAST_NAME DEPARTMENT_ID MANAGER_ID SALARY ---------- --------------- --------------- ---- --------- ---------- ------- DAUSTIN David Austin 60 103 4800 1排选中。
</pre><p>以应用程序用户<code class="codeph">SMAVRIS</code>身份进行连接，该用户具有<code class="codeph">EMPLOYEE</code>和<code class="codeph">HR_REPRESENTATIVE</code>应用程序角色。
                     </p><pre class="oac_no_warn" dir="ltr">conn smavris / welcome1;</pre><p>执行查询以显示应用程序用户<code class="codeph">SMAVRIS</code>可以查看包括<code class="codeph">SALARY</code>列在内的所有记录。
                     </p><pre class="oac_no_warn" dir="ltr">选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资，其中department_id = 60或department_id = 40 order by department_id，email; SQL&gt;选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资2，其中department_id = 60或department_id = 40 3按department_id，电子邮件订购; EMAIL FIRST_NAME LAST_NAME DEPARTMENT_ID MANAGER_ID SALARY ---------- --------------- --------------- ---- --------- ---------- ------- SMAVRIS Susan Mavris 40 101 6500 AHUNOLD Alexander Hunold 60 102 9000 BERNST Bruce Ernst 60 103 6000 DAUSTIN David Austin 60 103 4800 DLORENTZ Diana Lorentz 60 103 4200 VPATABAL Valli Pataballa 60 103 4800 6行选择。
</pre><p>执行查询以显示应用程序用户<code class="codeph">SMAVRIS</code>可以访问所有记录。
                     </p><pre class="oac_no_warn" dir="ltr">从员工中选择计数（*）; SQL&gt;从员工中选择count（*）; COUNT（*）---------- 107选择1行。
</pre><p>执行记录更新以显示应用程序用户<code class="codeph">SMAVRIS</code>可以更新记录。
                     </p><pre class="oac_no_warn" dir="ltr">更新员工设置manager_id = 102 where email ='DAUSTIN'; SQL&gt; update employees set manager_id = 102 where email ='DAUSTIN'; 1行更新。
</pre><p>执行查询以显示记录已更改。</p><pre class="oac_no_warn" dir="ltr">选择email，first_name，last_name，department_id，manager_id，员工的工资，其中email ='DAUSTIN'; SQL&gt;从email ='DAUSTIN'的员工中选择email，first_name，last_name，department_id，manager_id，salary 2; EMAIL FIRST_NAME LAST_NAME DEPARTMENT_ID MANAGER_ID SALARY ---------- --------------- --------------- ---- ---------- ---------- ------- DAUSTIN David Austin 60 102 4800 1行选中。
</pre><p>更新记录以将其更改回其原始状态。</p><pre class="oac_no_warn" dir="ltr">更新员工设置manager_id = 103 where email ='DAUSTIN'; SQL&gt; update employees set manager_id = 103 where email ='DAUSTIN'; 1行更新。
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG816"></a><div class="props_rev_3"><a id="GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A" name="GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A"></a><h3 id="DBFSG-GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A" class="sect3">运行连接到真实应用程序安全会话的安全HR演示</h3>
               <div>
                  <div class="section">
                     <p>要运行附加到Real Application Security会话的演示，Real Application Security管理员必须首先为应用程序用户创建会话并附加到该会话。在此过程中，创建一个变量来记住会话ID。</p><pre class="oac_no_warn" dir="ltr">connect hr_session / hr_session; var gsessionid varchar2（32）;声明sessionid raw（16）; begin sys.dbms_xs_sessions.create_session（'SMAVRIS'，sessionid）; ：gsessionid：= rawtohex（sessionid）; sys.dbms_xs_sessions.attach_session（sessionid，null）;结束 ; /</pre><p>显示当前用户。</p><pre class="oac_no_warn" dir="ltr">从双重选择xs_sys_context（'xs $ session'，'username'）; SQL&gt;从双重选择xs_sys_context（'xs $ session'，'username'）; XS_SYS_CONTEXT（'XS $ SESSION'，'USERNAME'）-------------------------------------- ------------------------------------------选择SMAVRIS 1行。
</pre><p>显示当前应用程序用户的已启用数据库和应用程序角色。</p><pre class="oac_no_warn" dir="ltr">从v $ xs_session_roles中选择role_name从session_roles中选择union的角色顺序为1;从v $ xs_session_roles union 2中选择SQL&gt; select role_name从session_roles中选择角色顺序为1; ROLE_NAME ------------------------------------------------- ------------------------------- DB_EMP EMPLOYEE HR_REPRESENTATIVE XSPUBLIC选择了4行。
</pre><p>执行查询以显示应用程序用户<code class="codeph">SMAVRIS</code>可以查看包括<code class="codeph">SALARY</code>列在内的所有记录。
                     </p><pre class="oac_no_warn" dir="ltr">选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资，其中department_id = 60或department_id = 40 order by department_id，email; SQL&gt;选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资2，其中department_id = 60或department_id = 40 3按department_id，电子邮件订购; EMAIL FIRST_NAME LAST_NAME DEPARTMENT_ID MANAGER_ID SALARY ---------- --------------- --------------- ---- --------- ---------- ------- SMAVRIS Susan Mavris 40 101 6500 AHUNOLD Alexander Hunold 60 102 9000 BERNST Bruce Ernst 60 103 6000 DAUSTIN David Austin 60 103 4800 DLORENTZ Diana Lorentz 60 103 4200 VPATABAL Valli Pataballa 60 103 4800 6行选择。
</pre><p>执行查询以显示应用程序用户<code class="codeph">SMAVRIS</code>可以访问所有记录。
                     </p><pre class="oac_no_warn" dir="ltr">从员工中选择计数（*）; SQL&gt;从员工中选择count（*）; COUNT（*）---------- 107选择1行。
</pre><p>禁用<code class="codeph">HR_REPRESENTATIVE</code>角色。这将限制应用程序用户<code class="codeph">SMAVRIS</code>只能看到自己的记录。
                     </p><pre class="oac_no_warn" dir="ltr">exec dbms_xs_sessions.disable_role（'hr_representative'）;</pre><p>执行查询</p><pre class="oac_no_warn" dir="ltr">选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资，其中department_id = 60或department_id = 40 order by department_id，email; SQL&gt;选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资2，其中department_id = 60或department_id = 40 3按department_id，电子邮件订购; EMAIL FIRST_NAME LAST_NAME DEPARTMENT_ID MANAGER_ID SALARY ---------- --------------- --------------- ---- --------- ---------- ------- SMAVRIS苏珊马维里斯40 101 6500 1排选中。
</pre><p>启用<code class="codeph">HR_REPRESENTATIVE</code>角色，以便应用程序用户可以查看包括<code class="codeph">SALARY</code>列在内的所有记录。
                     </p><pre class="oac_no_warn" dir="ltr">exec dbms_xs_sessions.enable_role（'hr_representative'）;</pre><p>执行查询以显示应用程序用户可以查看包括<code class="codeph">SALARY</code>列的所有记录。
                     </p><pre class="oac_no_warn" dir="ltr">选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资，其中department_id = 60或department_id = 40 order by department_id，email; SQL&gt;  -  SMAVRIS可以再次查看所有记录。SQL&gt;选择电子邮件，first_name，last_name，department_id，manager_id，来自员工的工资2，其中department_id = 60或department_id = 40 3按department_id，电子邮件订购; EMAIL FIRST_NAME LAST_NAME DEPARTMENT_ID MANAGER_ID SALARY ---------- --------------- --------------- ---- --------- ---------- ------- SMAVRIS Susan Mavris 40 101 6500 AHUNOLD Alexander Hunold 60 102 9000 BERNST Bruce Ernst 60 103 6000 DAUSTIN David Austin 60 103 4800 DLORENTZ Diana Lorentz 60 103 4200 VPATABAL Valli Pataballa 60 103 4800 6行选择。
</pre><p>执行查询以显示应用程序用户<code class="codeph">SMAVRIS</code>可以访问所有记录。
                     </p><pre class="oac_no_warn" dir="ltr">从员工中选择计数（*）; SQL&gt;从员工中选择count（*）; COUNT（*）---------- 107选择1行。
</pre><p>分离并销毁应用程序会话。</p><pre class="oac_no_warn" dir="ltr">声明sessionid raw（16）; begin sessionid：= hextoraw（：gsessionid）; sys.dbms_xs_sessions.detach_session; sys.dbms_xs_sessions.destroy_session（的sessionid）;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG817"></a><div class="props_rev_3"><a id="GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B" name="GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B"></a><h3 id="DBFSG-GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B" class="sect3">运行安全HR演示清理脚本</h3>
               <div>
                  <div class="section">
                     <p>运行HR演示后，您可以运行清理脚本以删除所有Real Application Security组件。</p>
                     <p>首先，以Real Application Security Administrator身份连接，然后开始删除组件。</p><pre class="oac_no_warn" dir="ltr">define passwd =＆1 connect hr / hr;</pre><p>从<code class="codeph">EMPLOYEES</code>表中删除数据安全策略。
                     </p><pre class="oac_no_warn" dir="ltr">开始xs_data_security.remove_object_policy（policy =&gt;'employees_ds'，schema =&gt;'hr'，object =&gt;'employees'）;结束; /</pre><p>删除安全级别和ACL。</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_security_class.delete_security_class（'hrprivs'，xs_admin_util.cascade_option）; exec sys.xs_acl.delete_acl（'emp_acl'，xs_admin_util.cascade_option）; exec sys.xs_acl.delete_acl（'it_acl'，xs_admin_util.cascade_option）; exec sys.xs_acl.delete_acl（'hr_acl'，xs_admin_util.cascade_option）;</pre><p>删除数据安全策略。</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_data_security.delete_policy（'employees_ds'，xs_admin_util.cascade_option）;</pre><p>以<code class="codeph">SYS/</code>用户身份连接为<code class="codeph">SYSDBA</code> 。</p><pre class="oac_no_warn" dir="ltr">将sys /＆passwd连接为sysdba</pre><p>删除应用程序角色和应用程序用户。</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.delete_principal（'employee'，xs_admin_util.cascade_option）; exec sys.xs_principal.delete_principal（'hr_representative'，xs_admin_util.cascade_option）; exec sys.xs_principal.delete_principal（'it_engineer'，xs_admin_util.cascade_option）; exec sys.xs_principal.delete_principal（'smavris'，xs_admin_util.cascade_option）; exec sys.xs_principal.delete_principal（'daustin'，xs_admin_util.cascade_option）;</pre><p>删除数据库角色。</p><pre class="oac_no_warn" dir="ltr">drop role db_emp;</pre><p>删除Real Application Security会话管理员。</p><pre class="oac_no_warn" dir="ltr">drop user hr_session;</pre><p>删除用于连接数据库的普通用户。</p><pre class="oac_no_warn" dir="ltr">drop user hr_common;</pre><p>删除中间层使用的<code class="codeph">DISPATCHER</code>用户。
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.delete_principal（'dispatcher'，xs_admin_util.cascade_option）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG818"></a><div class="props_rev_3"><a id="GUID-36443370-D363-45F1-8F39-45FC8FA52FEB" name="GUID-36443370-D363-45F1-8F39-45FC8FA52FEB"></a><h3 id="DBFSG-GUID-36443370-D363-45F1-8F39-45FC8FA52FEB" class="sect3">在Java界面中运行安全HR演示</h3>
               <div>
                  <div class="section">
                     <p>有关在Java界面中运行Security HR Demo返回的两个查询的说明，请参阅<span class="q">“ <a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3">人力资源管理用例：Java实现</a> ”</span>中的<span class="q">“</span>输出”部分。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-73D8B4A8-43B1-47CF-B23F-07248275176F" name="GUID-73D8B4A8-43B1-47CF-B23F-07248275176F"></a><h3 id="DBFSG-GUID-73D8B4A8-43B1-47CF-B23F-07248275176F" class="sect3">关于使用RASADM运行安全HR演示</h3>
               <div>
                  <p>介绍如何使用RASADM使用图形用户界面创建Real Application Security数据安全策略。</p>
                  <p>Oracle数据库实际应用程序安全管理（RASADM）允许您使用图形用户界面创建Real Application Security数据安全策略。有关安装和配置RASADM的详细信息，请参阅<a href="../rasad/index.html" target="_blank">Real Application Security Administration</a> 。
                  </p>
                  <div class="p">本节介绍以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" title="描述如何运行RASADM应用程序。">关于运行RASADM应用程序</a></p>
                        </li>
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" title="在设计阶段，您可以识别应用程序执行的所有任务，这些任务需要应用程序权限才能控制数据访问。">设计阶段</a></p>
                        </li>
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8" title="要使用RASADM开发数据安全策略，您必须遵循一些基本步骤。">发展趋势</a></p>
                        </li>
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72" title="介绍如何使用RASADM创建HR Demo应用程序。">关于使用RASADM创建HR演示</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" name="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC"></a><h4 id="DBFSG-GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" class="sect4">关于运行RASADM应用程序</h4>
                  <div>
                     <p>描述如何运行RASADM应用程序。</p>
                     <p>以下URL仅是一个示例，真实URL基于您当前的Application Express配置。确保提供了正确的URL。然后使用安装期间给出的相同密码以RASADM管理员身份登录。</p>
                     <p>要运行RASADM应用程序，您需要在浏览器中输入如下URL：https：//www.example.com：8080 / etcx / f？p = radadm。</p>
                     <p>Oracle建议您打开HTTPS。</p>
                     <p>您可以使用安装期间给出的密码以RASADM <code class="codeph">admin</code>用户或安装后创建的任何用户身份登录，如以下屏幕截图所示。
                     </p>
                     <div class="figure" id="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC__GUID-8772133B-FF97-498A-BE9B-7978A485C93C"><img src="img/ras_ui_login.png" height="390" width="387" alt="ras_ui_login.png的描述如下" title="ras_ui_login.png的描述如下" longdesc="img_text/ras_ui_login.html"><br><a href="img_text/ras_ui_login.html">插图描述ras_ui_login.png</a></div>
                     <!-- class="figure" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC__GUID-26AD9430-4D83-4F96-97FB-592F0842C242">欲获得更多信息</p>
                        <p>有关更多信息，请参阅以下资源：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Real Application Security论坛： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=ras_discussion_forum" target="_blank">数据库安全 - 一般</a></p>
                           </li>
                           <li>
                              <p>Real Application Security Documentation：请参阅<a href="../rasad/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Administration</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" name="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B"></a><h4 id="DBFSG-GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" class="sect4">设计阶段</h4>
                  <div>
                     <p>在设计阶段，您可以识别应用程序执行的所有任务，这些任务需要应用程序权限才能控制数据访问。</p>
                     <p>例如，在设计阶段，应用程序策略设计者必须确定：</p>
                     <ol>
                        <li>
                           <p>需要访问控制的应用程序级操作集。</p>
                        </li>
                        <li>
                           <p>表和视图的行和列，可以作为应用程序级操作的一部分进行访问。</p>
                        </li>
                        <li>
                           <p>可以执行这些操作的一组actor或principal（用户和角色）。</p>
                        </li>
                        <li>
                           <p>运行时应用程序会话属性标识一个或多个表的行。这些属性名称在选择要授权的行的谓词中使用，并且在应用程序执行期间设置它们的值。</p>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8" name="GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8"></a><h4 id="DBFSG-GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8" class="sect4">发展趋势</h4>
                  <div>
                     <p>要使用RASADM开发数据安全策略，您必须遵循一些基本步骤。</p>
                     <p>在开发阶段，作为RASADM管理员，您可以按照以下步骤使用RASADM开发数据安全策略：</p>
                     <ol>
                        <li>
                           <p>创建相应的应用程序用户和角色。如果使用外部目录服务器，请在目录服务器中创建应用程序用户和角色或用户组。请按照此过程在数据库中本机创建这些主体：</p>
                           <ol type="a">
                              <li>
                                 <p>如果需要，创建应用程序角色并将应用程序角色授予应用程序角色。请参阅有关创建应用程序角色的主题</p>
                              </li>
                              <li>
                                 <p>创建应用程序用户并向应用程序用户授予应用程序角色。请参阅有关创建应用程序用户的主题</p>
                              </li>
                              <li>
                                 <p>使用来自外部存储的主体时，配置目录服务器以获取用户和角色。请参阅有关配置的主题。</p>
                              </li>
                              <li>
                                 <p>对于外部Directory Server中的用户和角色，请管理将RASADM与Directory Server一起使用的参数设置。请参阅有关管理设置的主题。</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>创建计划用于为应用程序开发安全策略的每个权限类。每个权限类由一个或多个适当的权限组成，您可以在ACL中引用这些权限，并将其授予应用程序用户和应用程序角色。每个权限类都通过ACL授权数据安全策略所需的应用程序级操作。请参阅有关创建应用程序权限类的主题。</p>
                        </li>
                        <li>
                           <p>创建一个或多个可在不同应用程序会话中使用的会话命名空间。这包括为会话命名空间定义其属性集（应用程序属性）及其关联的访问控制策略或ACL，您可以从列表或创建中进行选择。请参阅有关创建命名空间的主题。</p>
                        </li>
                        <li>
                           <p>通过将每个数据域与ACL相关联来创建数据安全策略，以便根据需要创建数据域授权和列授权。这个过程包括四个部分：</p>
                           <ol type="a">
                              <li>
                                 <p>策略信息 - 您选择要保护的对象和保护它的权限类，以及指定策略名称并选择策略模式。请参阅有关创建数据安全策略主题中的步骤3。</p>
                              </li>
                              <li>
                                 <p>列级别授权 - 选择要保护的列的名称，并选择要授予访问列的权限，该列与您在步骤3a中选择的权限类相关联。请参阅有关创建数据安全策略主题中的步骤4。</p>
                              </li>
                              <li>
                                 <p>数据领域授权 - 您创建一个SQL谓词来表示要保护的数据领域，并将每个谓词添加到数据领域授权列表中。然后选择或创建ACL以保护数据领域。接下来，通过选择适当的权限，创建要添加到由每个主体组成的权限授予列表以及是否允许授权或拒绝授权的权限授予。请参阅有关创建数据安全策略主题中的步骤5。</p>
                              </li>
                              <li>
                                 <p>应用策略 - 您可以应用，删除，启用或禁用您正在创建的数据安全策略，并选择指定某些应用选项，允许表或视图的所有者绕过此数据安全策略，以及是否强制执行语句类型这个政策。请参阅有关创建数据安全策略主题中的步骤6。</p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72" name="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72"></a><h4 id="DBFSG-GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72" class="sect4">关于使用RASADM创建HR演示</h4>
                  <div>
                     <p>介绍如何使用RASADM创建HR Demo应用程序。</p>
                     <p>首先，您应该运行RASADM应用程序并以<code class="codeph">ADMIN</code>用户身份登录，如<a href="real-application-security-hr-demo.html#GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" title="描述如何运行RASADM应用程序。">关于运行RASADM应用程序</a>中所述，并在以下屏幕截图中显示。
                     </p>
                     <div class="figure" id="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72__GUID-C04FE61D-54D4-4268-B5AD-86FD7ADF145D"><img src="img/ras_ui_home_part1.png" alt="ras_ui_home_part1.png的描述如下" title="ras_ui_home_part1.png的描述如下" longdesc="img_text/ras_ui_home_part1.html"><br><a href="img_text/ras_ui_home_part1.html">插图描述ras_ui_home_part1.png</a></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72__GUID-BC3768F6-7B19-4B07-865C-056EA29EC806"><img src="img/ras_ui_part2.png" alt="ras_ui_part2.png的描述如下" title="ras_ui_part2.png的描述如下" longdesc="img_text/ras_ui_part2.html"><br><a href="img_text/ras_ui_part2.html">插图描述ras_ui_part2.png</a></div>
                     <!-- class="figure" -->
                     <p>您将执行以下任务：</p>
                  </div>
                  <div class="sect4"><a id="GUID-F6632E85-1A85-4CCE-9CB5-C8D4EA097392" name="GUID-F6632E85-1A85-4CCE-9CB5-C8D4EA097392"></a><h5 id="DBFSG-GUID-F6632E85-1A85-4CCE-9CB5-C8D4EA097392" class="sect5">关于创建应用程序角色</h5>
                     <div>
                        <p>描述如何创建应用程序角色，特别是数据库DB_EMP角色。</p>
                        <p>您必须使用SQL * Plus创建数据库<code class="codeph">DB_EMP</code>角色，并在<code class="codeph">HR.EMPLOYEES</code>授予此角色<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限，如此代码段所示。
                        </p><pre class="oac_no_warn" dir="ltr">- 创建数据库角色DB_EMP并授予必要的表权限。- 此角色将用于向应用程序用户授予所需的对象权限。CREATE ROLE DB_EMP; GRANT SELECT，INSERT，UPDATE，DELETE ON HR.EMPLOYEES TO DB_EMP;</pre><p>有关更多信息，请参阅<a href="real-application-security-hr-demo-files.html#GUID-E7974492-8418-4DAD-8497-530F3A669064">hrdemo_setup.sql</a> 。
                        </p>
                        <p>下一个任务涉及创建以下应用程序角色： <code class="codeph">EMP_ROLE</code> ， <code class="codeph">IT_ROLE</code>和<code class="codeph">HR_ROLE</code> ，然后启用每个应用程序角色。
                        </p>
                        <p>此任务可以通过以下两种方式之一执行：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用RASADM创建这些应用程序角色。</p>
                           </li>
                           <li>
                              <p>使用外部目录服务器在目录服务器中创建应用程序角色。</p>
                           </li>
                        </ul>
                        <p>在任何一种情况下，对于HR Demo，将创建以下应用程序角色：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">EMP_ROLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">IT_ROLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">HR_ROLE</code></p>
                           </li>
                        </ul>
                        <p>最后，使用SQL * Plus，您必须为每个应用程序角色授予数据库<code class="codeph">DB_EMP</code>角色，如以下代码段所示。
                        </p><pre class="oac_no_warn" dir="ltr">- 将DB_EMP授予三个应用程序角色，因此它们具有访问该表所需的对象特权。GRANT DB_EMP TO EMP_ROLE; GRANT DB_EMP TO IT_ROLE; GRANT DB_EMP TO HR_ROLE;</pre><p>有关更多信息，请参阅<a href="real-application-security-hr-demo-files.html#GUID-E7974492-8418-4DAD-8497-530F3A669064">hrdemo_setup.sql</a> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>请参阅<a href="real-application-security-hr-demo.html#GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003" title="描述如何使用RASADM创建应用程序角色。">使用RASADM创建应用程序角色</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="sect5"><a id="GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003" name="GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003"></a><h6 id="DBFSG-GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003" class="sect6">使用RASADM创建应用程序角色</h6>
                        <div>
                           <p>描述如何使用RASADM创建应用程序角色。</p>
                           <div class="section">要开始，请单击“ <span class="bold">角色”</span>选项卡，然后单击“ <span class="bold">创建角色”</span> 。
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>在“ <code class="codeph">Application Role</code>页面上，在以下字段中输入信息：</span><ol type="a">
                                    <li><span><span class="bold">角色名称：</span>输入<code class="codeph">EMP_ROLE</code> 。</span></li>
                                    <li><span><span class="bold">描述：</span>输入简要说明。</span></li>
                                    <li><span><span class="bold">角色类型：</span>选择默认值<code class="codeph">ROLE</code> 。</span></li>
                                    <li><span><span class="bold">默认启用：</span>选择<code class="codeph">Yes</code> 。</span></li>
                                 </ol>
                              </li>
                              <li><span>在“ <span class="bold">角色授予”</span>部分的“ <span class="bold">角色”</span>字段中，单击“ <span class="bold">^”</span>并从列表中选择“ <span class="bold">DB_EMP</span>角色”以将其添加为直接角色授予。</span></li>
                              <li><span>单击“ <span class="bold">应用更改”</span>以创建<code class="codeph">EMP_ROLE</code>应用程序角色。</span></li>
                              <li><span>单击角色<code class="codeph">EMP_ROLE</code>以查看此角色的编辑视图，如以下屏幕截图所示。</span></li>
                              <li><span>重复这些步骤以创建<code class="codeph">IT_ROLE</code>和<code class="codeph">HR_ROLE</code>应用程序角色。同样，没有应用程序角色可以授予这些应用程序角色。</span></li>
                           </ol>
                           <div class="section">
                              <div class="figure" id="GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003__GUID-9B3B7646-B174-443A-980D-E8EAC55E1DED"><img src="img/application_role.png" alt="application_role.png的描述如下" title="application_role.png的描述如下" longdesc="img_text/application_role.html"><br><a href="img_text/application_role.html">插图application_role.png的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-A99CAD2C-D0A8-46F0-8AD0-C4D15A95EBE9" name="GUID-A99CAD2C-D0A8-46F0-8AD0-C4D15A95EBE9"></a><h5 id="DBFSG-GUID-A99CAD2C-D0A8-46F0-8AD0-C4D15A95EBE9" class="sect5">关于创建应用程序用户</h5>
                     <div>
                        <p>描述创建应用程序用户并授予他们角色。</p>
                        <p>此任务涉及创建每个应用程序用户并授予每个应用程序用户各自的应用程序角色。</p>
                        <p>此任务可以通过以下两种方式之一执行：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用RASADM创建应用程序用户： <code class="codeph">DAUSTIN</code>和<code class="codeph">SMAVRIS</code> 。</p>
                              <p>接下来，执行以下授权：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>将应用程序角色<code class="codeph">EMP_ROLE</code>和<code class="codeph">IT_ROLE</code>授予<code class="codeph">DAUSTIN</code> 。</p>
                                 </li>
                                 <li>
                                    <p>将应用程序角色<code class="codeph">EMP_ROLE</code>和<code class="codeph">HR_ROLE</code>授予<code class="codeph">SMAVRIS</code> 。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>使用外部目录服务器在目录服务器中创建应用程序用户或应用程序用户组。</p>
                           </li>
                        </ul>
                        <p>在任何一种情况下，对于此HR演示，将创建以下应用程序用户：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DAUSTIN</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SMAVRIS</code></p>
                           </li>
                        </ul>
                        <p>接下来，您将执行以下授权：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将应用程序角色<code class="codeph">EMP_ROLE</code>授予用户<code class="codeph">DAUSTIN</code>和<code class="codeph">SMAVRIS</code> 。</p>
                           </li>
                           <li>
                              <p>将应用程序角色<code class="codeph">IT_ROLE</code>授予用户<code class="codeph">DAUSTIN</code> 。</p>
                           </li>
                           <li>
                              <p>将应用程序角色<code class="codeph">HR_ROLE</code>授予用户<code class="codeph">SMAVRIS</code> 。</p>
                           </li>
                        </ul>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>请参阅<a href="real-application-security-hr-demo.html#GUID-81090CE9-0F71-4778-8A90-6C0D24509005" title="描述使用RASADM创建应用程序用户。">使用RASADM创建应用程序用户</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="sect5"><a id="GUID-81090CE9-0F71-4778-8A90-6C0D24509005" name="GUID-81090CE9-0F71-4778-8A90-6C0D24509005"></a><h6 id="DBFSG-GUID-81090CE9-0F71-4778-8A90-6C0D24509005" class="sect6">使用RASADM创建应用程序用户</h6>
                        <div>
                           <p>描述使用RASADM创建应用程序用户。</p>
                           <div class="section">要开始使用，请单击“ <span class="bold">用户”</span>选项卡，然后单击“ <span class="bold">创建用户”</span> 。
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>在“ <span class="bold">应用程序用户”</span>部分的“ <code class="codeph">Manage User</code>页面上，在以下字段中输入信息：</span><ol type="a">
                                    <li><span><span class="bold">名称：</span>输入<code class="codeph">DAUSTIN.</code></span></li>
                                    <li><span><span class="bold">描述：</span>输入简要说明。</span></li>
                                    <li><span><span class="bold">默认架构：</span>选择<code class="codeph">HR</code> 。</span></li>
                                    <li><span><span class="bold">角色默认启用：</span>选择<code class="codeph">Yes</code> 。</span></li>
                                    <li><span><span class="bold">状态：</span>选择<code class="codeph">Active</code> 。</span></li>
                                 </ol>
                              </li>
                              <li><span>在“ <span class="bold">角色授予”</span>部分中，选择要授予应用程序用户<code class="codeph">daustin</code>的应用程序角色。通过单击<span class="bold">^</span>并选择<code class="codeph">EMP_ROLE</code> ，在<span class="bold">Role：</span>字段中输入信息。</span></li>
                              <li><span>单击“ <span class="bold">添加”</span>以授予此角色。重复此过程以将<code class="codeph">IT_ROLE</code>授予<code class="codeph">DAUSTIN</code> 。</span></li>
                              <li><span>单击<span class="bold">Apply Changes</span>以创建应用程序用户<code class="codeph">DAUSTIN</code> 。</span></li>
                              <li><span>单击用户<code class="codeph">DAUSTIN</code>以查看此用户的编辑视图，如以下屏幕截图所示。</span></li>
                              <li><span>重复这些步骤以将<code class="codeph">EMP_ROLE</code>和<code class="codeph">HR_ROLE</code>授予应用程序用户<code class="codeph">SMAVRIS</code> 。</span></li>
                           </ol>
                           <div class="section">
                              <div class="figure" id="GUID-81090CE9-0F71-4778-8A90-6C0D24509005__GUID-DE5DA579-D02C-432A-96CE-D100A28ADC91"><img src="img/application_user__daustin.png" alt="application_user__daustin.png的描述如下" title="application_user__daustin.png的描述如下" longdesc="img_text/application_user__daustin.html"><br><a href="img_text/application_user__daustin.html">插图application_user__daustin.png的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                           <!-- class="section" -->
                           <div class="section"></div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-1A2F1C33-17A8-4A9A-98F7-47D7FB8A1863" name="GUID-1A2F1C33-17A8-4A9A-98F7-47D7FB8A1863"></a><h5 id="DBFSG-GUID-1A2F1C33-17A8-4A9A-98F7-47D7FB8A1863" class="sect5">关于创建数据安全策略</h5>
                     <div>
                        <p>描述创建数据安全策略的流程。</p>
                        <p>此任务涉及创建HRDEMO数据安全策略。这包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>输入政策信息。</p>
                           </li>
                           <li>
                              <p>创建<code class="codeph">HRPRIVS</code>特权级别及其<code class="codeph">VIEW_SALARY</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>创建<code class="codeph">SALARY</code>列授权并选择要应用于该列的<code class="codeph">HRPRIVS</code>特权级别。
                              </p>
                           </li>
                           <li>
                              <p>创建由三个数据域组成的数据领域授权，一个用于员工访问，一个用于IT访问，一个用于HR访问以及每个关联的ACL及其各自定义的权限授予每个主体以控制其行访问。</p>
                           </li>
                           <li>
                              <p>通过启用<code class="codeph">HRDEMO</code>数据安全策略来应用它。
                              </p>
                           </li>
                        </ul>
                        <p>本节包括以下主题：</p>
                     </div>
                     <div class="sect5"><a id="GUID-D5A48389-58F8-486B-A721-0130A77F2800" name="GUID-D5A48389-58F8-486B-A721-0130A77F2800"></a><h6 id="DBFSG-GUID-D5A48389-58F8-486B-A721-0130A77F2800" class="sect6">输入政策信息</h6>
                        <div>
                           <p>描述使用RASADM应用程序输入数据安全策略信息。</p>
                           <div class="section">要创建数据安全策略，请单击“ <span class="bold">策略”</span>选项卡，然后单击“ <span class="bold">创建”</span>以显示“ <span class="bold">策略信息”</span>页面。
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>在“ <span class="bold">策略信息”</span>页面上，在以下字段中输入策略信息：</span><ol type="a">
                                    <li><span><span class="bold">策略架构：</span>单击<span class="bold">^</span>并选择<code class="codeph">HR</code> 。</span></li>
                                    <li><span><span class="bold">策略名称：</span>输入名称<code class="codeph">Employees_DS</code> 。</span></li>
                                    <li><span><span class="bold">描述：</span>输入此策略的简要说明。</span></li>
                                    <li><span><span class="bold">权限类：</span>单击“ <span class="bold">新建”</span>以创建<code class="codeph">HRPRIVS</code>权限类。</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span>在“ <span class="bold">权限类”</span>页面上，输入以下信息：</span><ol type="a">
                                    <li><span>对于<span class="bold">特权等级</span> 。特权级别名称：输入<code class="codeph">HRPRIVS</code> 。</span></li>
                                    <li><span>对于<span class="bold">特权等级</span> 。描述：输入简要说明。</span></li>
                                    <li><span>对于<span class="bold">应用程序权限</span> 。权限名称：输入名称<code class="codeph">VIEW_SALARY</code> 。</span></li>
                                    <li><span>对于<span class="bold">应用程序权限</span> 。描述：输入简要说明。</span></li>
                                    <li><span>对于<span class="bold">应用程序权限</span> 。隐含权限：单击“ <code class="codeph">Select</code> 。</span></li>
                                    <li><span>单击“ <span class="bold">添加”</span>将<code class="codeph">VIEW_SALARY</code>权限添加到“应用程序权限”列表中。请参见下图。</span></li>
                                    <li><span>单击“ <span class="bold">应用更改”</span>以保存<code class="codeph">HRPRIVS</code>权限类。</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span>在同一<span class="bold">Privilege Class</span>页面上，输入以下信息：</span><ol type="a">
                                    <li><span><span class="bold">受保护对象的架构：</span>单击<span class="bold">^</span>并选择<code class="codeph">HR</code> 。</span></li>
                                    <li><span><span class="bold">受保护对象：</span>单击<span class="bold">^</span>并选择<code class="codeph">EMPLOYEES</code> 。</span></li>
                                 </ol>
                                 <div>以下屏幕截图显示了<code class="codeph">Employees_DS</code>数据安全策略的“ <span class="bold">策略信息”</span>页面。
                                    <div class="figure" id="GUID-D5A48389-58F8-486B-A721-0130A77F2800__GUID-2DCC3EBD-9B73-41A4-902E-1795852A793B"><img src="img/hr_hrprivs_privileges.png" alt="hr_hrprivs_privileges.png的描述如下" title="hr_hrprivs_privileges.png的描述如下" longdesc="img_text/hr_hrprivs_privileges.html"><br><a href="img_text/hr_hrprivs_privileges.html">说明hr_hrprivs_privileges.png的描述</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span>单击“ <span class="bold">下一步”</span>转到“ <code class="codeph">Column Authorization</code>页面。</span></li>
                           </ol>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB" name="GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB"></a><h6 id="DBFSG-GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB" class="sect6">创建列授权</h6>
                        <div>
                           <p>描述创建数据安全策略的列授权部分。</p>
                           <ol>
                              <li class="stepexpand"><span>在“ <span class="bold">列授权”</span>页面上，输入以下信息以创建列授权：</span><ol type="a">
                                    <li><span><span class="bold">列：</span>单击<span class="bold">^</span>并选择<code class="codeph">SALARY</code> 。</span></li>
                                    <li><span><span class="bold">权限：</span>单击<span class="bold">^</span>并选择<code class="codeph">VIEW_SALARY</code> 。</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span>单击“ <span class="bold">添加”</span>将列授权添加到“ <span class="bold">列约束”</span>列表中。</span><div>以下屏幕截图显示了<span class="bold">Column Authorization</span>页面，其中创建的<code class="codeph">SALARY</code>列授权受<code class="codeph">VIEW_SALARY</code>特权保护。
                                    <div class="figure" id="GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB__GUID-C69EEAEF-AD42-40CB-BC4F-62A7D18AB87F"><img src="img/column_authorization.png" alt="下面是column_authorization.png的描述" title="下面是column_authorization.png的描述" longdesc="img_text/column_authorization.html"><br><a href="img_text/column_authorization.html">插图描述column_authorization.png</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span>单击“ <span class="bold">下一步”</span>转到“ <span class="bold">数据域授权”</span>页面。</span></li>
                           </ol>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E" name="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E"></a><h6 id="DBFSG-GUID-022C5D0B-3919-4C78-837D-18ECB950A85E" class="sect6">创建数据领域授权</h6>
                        <div>
                           <p>描述创建数据安全策略的数据领域授权部分。</p>
                           <div class="section">将创建三个数据领域授权：<ul style="list-style-type:disc">
                                 <li>
                                    <p>允许授予<code class="codeph">IT_ROLE</code>的用户查看IT部门中除<code class="codeph">SALARY</code>列之外的记录。
                                    </p>
                                 </li>
                                 <li>
                                    <p>允许授予<code class="codeph">EMP_ROLE</code>的用户查看自己的记录，包括<code class="codeph">SALARY</code>列</p>
                                 </li>
                                 <li>
                                    <p>允许授予<code class="codeph">HR_ROLE</code>的用户查看和更新所有记录，包括<code class="codeph">SALARY</code>列。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>在“ <span class="bold">数据域授权”</span>页面上，在以下字段中输入信息以创建数据域，以允许IT部门成员访问其部门记录，不包括<code class="codeph">SALARY</code>列：</span><ol type="a">
                                    <li><span><span class="bold">描述：</span>输入简要说明。</span></li>
                                    <li><span><span class="bold">SQL谓词：</span>单击<span class="bold">&gt;</span>以展开<span class="bold">Predicate Builder</span>字段。在以下字段中输入信息：</span></li>
                                    <li><span><span class="bold">列名称：</span>单击<span class="bold">^</span>以选择<code class="codeph">DEPARTMENT</code>列名称。</span></li>
                                    <li><span><span class="bold">运算符：</span>单击<span class="bold">^</span>以选择<code class="codeph">=</code>运算符。</span></li>
                                    <li><span><span class="bold">值：</span>输入值<code class="codeph">60</code> 。</span></li>
                                    <li><span><span class="bold">AND / OR：</span>忽略此选项。</span></li>
                                    <li><span>单击“ <span class="bold">应用”</span>以创建SQL谓词。</span></li>
                                 </ol>
                                 <div>以下屏幕显示已完成的IT部门数据领域授权。
                                    <div class="figure" id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E__GUID-24F74958-67FB-4CA8-AD79-9A4E2F7B0910"><img src="img/it_department_dr.png" alt="下面是it_department_dr.png的描述" title="下面是it_department_dr.png的描述" longdesc="img_text/it_department_dr.html"><br><a href="img_text/it_department_dr.html">it_department_dr.png插图的描述</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span><span class="bold">ACL名称：</span>单击<span class="bold">+</span>以创建<code class="codeph">IT_ACL</code> 。在以下字段中输入信息：</span><ol type="a">
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">ACL名称：</span>输入<code class="codeph">IT_ACL</code> 。</span></li>
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">说明：</span>输入简要说明。</span></li>
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">ACL继承：</span>忽略此字段。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ，Principal：单击<span class="bold">&lt; -</span>选择主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Type：</span>单击<span class="bold">User</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Store：</span>单击“ <span class="bold">数据库”</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Filter：</span>输入<code class="codeph">DAUSTIN</code>并单击<span class="bold">Search</span> 。然后单击“ <span class="bold">选择”</span>以选择<span class="bold">DAUSTIN</span>作为主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Privilege：</span>选择默认选项<span class="bold">SELECT</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Grant：</span>选择<span class="bold">Grant</span> 。</span></li>
                                    <li><span>单击“ <span class="bold">添加”</span>以添加此权限授予。</span></li>
                                 </ol>
                                 <div>以下屏幕截图显示了已完成的<code class="codeph">IT_ACL</code> ACL及其授予IT_ROLE角色的SELECT权限的权限授予。
                                    <div class="figure" id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E__GUID-C003BEED-8F21-4592-B2E0-CAE4961B9FEE"><img src="img/hr_it_acl.png" alt="hr_it_acl.png的描述如下" title="hr_it_acl.png的描述如下" longdesc="img_text/hr_it_acl.html"><br><a href="img_text/hr_it_acl.html">hr_it_acl.png插图的描述</a></div>
                                    <!-- class="figure" --> 
                                 </div>
                              </li>
                              <li class="stepexpand"><span><span class="bold">Data Realm Grant：</span>单击<span class="bold">Add</span>以授予此数据域。</span></li>
                              <li class="stepexpand"><span>在“ <span class="bold">数据域授权”</span>页面上，单击“ <span class="bold">添加”</span>以开始添加下一个数据域授权。在以下字段中输入信息以创建数据领域，以允许员工访问其自己的记录，包括<code class="codeph">SALARY</code>列。</span><ol type="a">
                                    <li><span><span class="bold">描述：</span>输入简要说明。</span></li>
                                    <li><span><span class="bold">SQL谓词：</span>输入<code class="codeph">UPPER(email) = XS_SYS_CONTEXT('XS$SESSION','USERNAME')</code> 。</span></li>
                                    <li><span>单击“ <span class="bold">预览”</span>以查看查询结果，并查看它是否符合预期。</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">ACL名称：</span>单击<span class="bold">+</span>以创建<code class="codeph">EMP_ACL</code> 。在以下字段中输入信息：</span><ol type="a">
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">ACL名称：</span>输入<code class="codeph">EMP_ACL</code></span></li>
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">说明：</span>输入简要说明。</span></li>
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">ACL继承：</span>忽略此字段。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ，Principal：单击<span class="bold">&lt; -</span>选择主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Type：</span>单击<span class="bold">User</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Store：</span>单击“ <span class="bold">数据库”</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Filter：</span>输入<code class="codeph">DAUSTIN</code>并单击<span class="bold">Search</span> 。然后单击“ <span class="bold">选择”</span>以选择<span class="bold">DAUSTIN</span>作为主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Privilege：</span>选择默认选项<span class="bold">SELECT</span></span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Grant：</span>选择<span class="bold">Grant</span> 。</span></li>
                                    <li><span>单击“ <span class="bold">添加”</span>以添加此权限授予。</span></li>
                                    <li><span>为用户<code class="codeph">SMAVRIS</code>重复这两个相同的授权，因此用户<code class="codeph">SMAVRIS</code>被授予<code class="codeph">SELECT</code>和<code class="codeph">VIEW_SALARY</code>应用程序特权。</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">Data Realm Grant：</span>单击<span class="bold">Add</span>以授予此数据域。</span></li>
                              <li class="stepexpand"><span>在“ <span class="bold">数据域授权”</span>页面上，单击“ <span class="bold">添加”</span>以开始添加下一个数据域授权。在以下字段中输入信息以创建数据领域，以允许HR人员访问和更新所有员工记录，包括<code class="codeph">SALARY</code>列。</span><ol type="a">
                                    <li><span><span class="bold">描述：</span>输入简要说明。</span></li>
                                    <li><span><span class="bold">SQL谓词：</span>输入<code class="codeph">UPPER(email) = XS_SYS_CONTEXT('XS$SESSION','USERNAME')</code> 。</span></li>
                                    <li><span>单击“ <span class="bold">预览”</span>以查看查询结果，并查看它是否符合预期。</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">ACL名称：</span>单击<span class="bold">+</span>以创建<code class="codeph">HR_ACL</code> 。在以下字段中输入信息：</span><ol type="a">
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">ACL名称：</span>输入<code class="codeph">HR_ACL</code></span></li>
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">说明：</span>输入简要说明。</span></li>
                                    <li><span>对于<span class="bold">ACL控制列表（ACL）</span> ， <span class="bold">ACL继承：</span>忽略此字段。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ，Principal：单击<span class="bold">&lt; -</span>选择主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Type：</span>单击<span class="bold">User</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Store：</span>单击“ <span class="bold">数据库”</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Filter：</span>输入<code class="codeph">SMAVRIS</code>并单击<span class="bold">Search</span> 。然后单击“ <span class="bold">选择”</span>以选择<code class="codeph">SMAVRIS</code>作为主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Privilege：</span>选择默认选项<span class="bold">SELECT</span></span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Grant：</span>选择<span class="bold">Grant</span> 。</span></li>
                                    <li><span>重复此<span class="bold">权限授予</span>步骤以将<code class="codeph">UPDATE</code>授予<code class="codeph">SMAVRIS</code> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ，Principal：单击<span class="bold">&lt; -</span>选择主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Type：</span>单击<span class="bold">User</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Store：</span>单击“ <span class="bold">数据库”</span> 。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Principal Filter：</span>输入<code class="codeph">SMAVRIS</code>并单击<span class="bold">Search</span> 。然后单击“ <span class="bold">选择”</span>以选择<code class="codeph">SMAVRIS</code>作为主体。</span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Privilege：</span>选择<span class="bold">UPDATE</span></span></li>
                                    <li><span>对于<span class="bold">Privilege Grants</span> ， <span class="bold">Grant：</span>选择<span class="bold">Grant</span> 。</span></li>
                                    <li><span>重复此步骤两次以将<code class="codeph">INSERT</code>和<code class="codeph">DELETE</code>授予<code class="codeph">SMAVRIS</code> 。</span></li>
                                    <li><span>单击“ <span class="bold">添加”</span>以添加此权限授予。</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">Data Realm Grant：</span>单击<span class="bold">Add</span>将此数据领域授权<span class="bold">添加</span>到数据领域授权列表。</span></li>
                           </ol>
                           <div class="section">以下屏幕截图显示了三个已完成的数据领域授权和已完成的列授权。
                              <div class="figure" id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E__GUID-B987DB7F-28C4-411B-8DDC-578441D1E3F3"><img src="img/employee_ds_policy.png" alt="employee_ds_policy.png的描述如下" title="employee_ds_policy.png的描述如下" longdesc="img_text/employee_ds_policy.html"><br><a href="img_text/employee_ds_policy.html">employee_ds_policy.png插图的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C" name="GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C"></a><h6 id="DBFSG-GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C" class="sect6">适用政策</h6>
                        <div>
                           <p>描述应用数据安全策略。</p>
                           <div class="section">要应用<code class="codeph">Employees_DS</code>数据安全策略，请执行以下步骤：</div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>在“ <span class="bold">应用策略”</span>页面上，通过选择“ <code class="codeph">Enable</code>以启用此数据安全策略，在“ <span class="bold">应用策略”</span>字段中输入信息。</span><div>以下屏幕截图显示了<span class="bold">策略</span>页面上已完成的<code class="codeph">Employees_DS</code>数据安全策略，其策略已设置为已启用。
                                    <div class="figure" id="GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C__GUID-7972B77E-7E29-447C-A6D5-70335B715E43"><img src="img/apply_policy.png" alt="apply_policy.png的描述如下" title="apply_policy.png的描述如下" longdesc="img_text/apply_policy.html"><br><a href="img_text/apply_policy.html">说明apply_policy.png的说明</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span>单击“ <span class="bold">应用更改”</span>以创建<code class="codeph">Employees_DS</code>数据安全策略。</span></li>
                           </ol>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>