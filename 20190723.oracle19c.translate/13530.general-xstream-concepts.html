<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="General XStream concepts apply to both XStream Out and XStream In."></meta>
      <meta name="description" content="General XStream concepts apply to both XStream Out and XStream In."></meta>
      <title>一般XStream概念</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XStream Guide "></meta>
      <meta property="og:description" content="General XStream concepts apply to both XStream Out and XStream In."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XStream Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96280-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction-to-xstream.html" title="Previous" type="text/html"></link>
      <link rel="next" href="xstream-out.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide"></meta>
    <meta name="dcterms.isVersionOf" content="XSTRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-xstream.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="xstream-out.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="xstream-general-concepts-and-use-cases.html" property="item" typeof="WebPage"><span property="name">XStream一般概念和用例</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">一般XStream概念</li>
            </ol>
            <a id="GUID-C8114BC8-1F04-48A2-964B-375C04767B86" name="GUID-C8114BC8-1F04-48A2-964B-375C04767B86"></a><a id="XSTRM72733"></a>
            
            <h2 id="XSTRM-GUID-C8114BC8-1F04-48A2-964B-375C04767B86" class="sect2"><span class="enumeration_chapter">2</span>通用XStream概念</h2>
         </header>
         <div class="ind">
            <div>
               <p>常规XStream概念适用于XStream Out和XStream In。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE">逻辑变更记录（LCR）</a><br>LCR是具有描述数据库更改的特定格式的消息。
                  </li>
                  <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-41229989-0893-4463-8063-3FD28D94A233">规则和规则集</a><br>XStream使用规则和规则集。
                  </li>
                  <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F">基于规则的转换</a><br>在XStream中，基于规则的转换是当正规则集中的规则求值为<code class="codeph">TRUE</code>时对逻辑更改记录（LCR）的任何修改。</li>
                  <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088">XStream和Oracle Replication Performance Advisor</a><br>Oracle Replication Performance Advisor包含一组数据字典视图。
                  </li>
                  <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3">XStream和SQL生成</a><br>SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。</li>
               </ul>
               <div class="infoboxnotealso" id="GUID-C8114BC8-1F04-48A2-964B-375C04767B86__GUID-55CBD04F-3AC7-4469-9213-7409EDD70CC1">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="xstream-out-concepts.html#GUID-B59B1F79-91F6-4495-B946-5DCEB317E0D6" title="熟悉与XStream Out相关的概念。">XStream Out Concepts</a></p>
                     </li>
                     <li>
                        <p><a href="xstream-in-concepts.html#GUID-D2C787E8-E16F-4286-921E-93195265E4F7" title="熟悉与XStream In相关的概念。">XStream在概念中</a></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="xstream-general-concepts-and-use-cases.html#GUID-08CFBD27-F4C8-4BA9-9157-DA158C074BF9" title="配置和管理XStream环境的数据库管理员必须了解XStream概念和用例。">XStream一般概念和用例</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM72734"></a><div class="props_rev_3"><a id="GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" name="GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE"></a><h3 id="XSTRM-GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" class="sect3"><span class="enumeration_section">2.1</span>逻辑变更记录（LCR）</h3>
               <div>
                  <p>LCR是具有描述数据库更改的特定格式的消息。</p>
                  <p>有三种类型的LCR：行LCR，DDL LCR和序列LCR。在XStream中，LCR是描述数据库更改的基本信息单元。</p>
                  <p>在XStream Out配置中，捕获进程可以捕获LCR并将它们发送到出站服务器。出站服务器可以将LCR发送到XStream客户端应用程序。</p>
                  <p>在XStream In配置中，XStream客户端应用程序可以构建LCR并将它们发送到入站服务器。入站服务器可以将数据库更改直接应用于数据库中的数据库对象，或者入站服务器可以自定义方式处理LCR。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330">行LCR</a><br>行LCR描述了对单行中数据的更改或对行中单个LOB列， <code class="codeph">LONG</code>列， <code class="codeph">LONG</code> <code class="codeph">RAW</code>列或<code class="codeph">XMLType</code>列的更改。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-15F97C57-2984-4FCF-B423-EB7627969A49">DDL LCR</a><br>DDL LCR描述了数据定义语言（DDL）的变化。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-A510EC5B-EB95-4934-814D-1345DFE98391">行LCR和DDL LCR中的额外信息</a><br>除了前面部分讨论的信息之外，行LCR和DDL LCR可选地可以包括额外信息（或LCR属性）。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-5FC60F68-74DE-4155-84D0-6C6D538F84A8">序列LCR</a><br>序列LCR是行LCR，其包括关于序列值的信息。序列数据库对象生成序列值。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-077AAE24-54CF-4102-9969-9540608FFB65">在LCR流中定位订单</a><br>每个LCR都有一个位置属性。LCR的位置标识其在交易中的LCR流中的位置。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-A4E84CAB-2981-419D-A036-6148F05CA28C">LCRID和LCR的位置</a><br>LCRID是指定XStream Out的LCR位置的原始值。它严格增加，唯一标识LCR，并且在重启时保持不变。XStream使用LCRID值来排序逻辑更改记录（LCR），并确定已接收和应用了哪些LCR和事务。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-C8114BC8-1F04-48A2-964B-375C04767B86" title="常规XStream概念适用于XStream Out和XStream In。">常规XStream概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72736"></a><a id="XSTRM72737"></a><a id="XSTRM72735"></a><div class="props_rev_3"><a id="GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330" name="GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330"></a><h4 id="XSTRM-GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330" class="sect4"><span class="enumeration_section">2.1.1</span>行LCR</h4>
                  <div>
                     <p>行LCR描述了对单行中数据的更改或对行中单个LOB列， <code class="codeph">LONG</code>列， <code class="codeph">LONG</code> <code class="codeph">RAW</code>列或<code class="codeph">XMLType</code>列的更改。
                     </p>
                     <p>更改来自数据操作语言（DML）语句或分段操作。将行LCR视为DML LCR可能会有所帮助。例如，单个DML语句可以将多个行插入或合并到表中，可以更新表中的多个行，或者可以从表中删除多个行。</p>
                     <p>由于单个DML语句可能会影响多个行，因此捕获过程会为DML语句更改的每一行创建一个行LCR。行LCR表示SQL或PL / SQL过程调用所做的数据更改。</p>
                     <p>每行LCR封装在<code class="codeph">LCR$_ROW_RECORD</code>类型的对象中。下表描述了每行LCR中存在的属性。</p>
                     <div class="tblformalwide" id="GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330__BABDGFHI">
                        <p class="titleintable">表2-1所有行LCR中存在的属性</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="所有行LCR中都存在属性" width="100%" border="1" summary="This table describes each attribute that is present in all row LCRs." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d5461e453">属性</th>
                                 <th align="left" valign="bottom" width="75%" id="d5461e456">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e461" headers="d5461e453 ">
                                    <p><code class="codeph">source_database_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e461 d5461e456 ">
                                    <p>发生行更改的源数据库的名称。</p>
                                    <p>如果LCR源自多租户容器数据库（CDB），则此属性指定发生行更改的全局名称容器。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e471" headers="d5461e453 ">
                                    <p><code class="codeph">COMMAND_TYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e471 d5461e456 ">
                                    <p>产生更改的DML语句的类型， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">LOB</code> <code class="codeph">ERASE</code> ， <code class="codeph">LOB</code> <code class="codeph">WRITE</code>或<code class="codeph">LOB</code> <code class="codeph">TRIM</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e507" headers="d5461e453 ">
                                    <p><code class="codeph">OBJECT_OWNER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e507 d5461e456 ">
                                    <p>包含已更改行的表的模式名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e515" headers="d5461e453 ">
                                    <p><code class="codeph">OBJECT_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e515 d5461e456 ">
                                    <p>包含已更改行的表的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e523" headers="d5461e453 ">
                                    <p><code class="codeph">标签</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e523 d5461e456 ">
                                    <p>可用于跟踪LCR的原始标记。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e531" headers="d5461e453 ">
                                    <p><code class="codeph">TRANSACTION_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e531 d5461e456 ">
                                    <p>运行DML语句的事务的标识符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e539" headers="d5461e453 ">
                                    <p><code class="codeph">SCN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e539 d5461e456 ">
                                    <p>进行更改时的系统更改编号（SCN）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e547" headers="d5461e453 ">
                                    <p><code class="codeph">old_values</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e547 d5461e456 ">
                                    <p>与更改相关的旧列值。这些是DML更改之前行的列值。如果DML语句的类型是<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code> ，则这些旧值包括DML语句之前更改行中的部分或全部列。如果DML语句的类型是<code class="codeph">INSERT</code> ，则没有旧值。对于<code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句，捕获过程创建的行LCR可以包括行中的部分或全部旧列值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e570" headers="d5461e453 ">
                                    <p><code class="codeph">new_values</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e570 d5461e456 ">
                                    <p>与更改相关的新列值。这些是DML更改后行的列值。如果DML语句的类型是<code class="codeph">UPDATE</code>或<code class="codeph">INSERT</code> ，则这些新值包括DML语句之后更改行中的部分或全部列。如果DML语句的类型是<code class="codeph">DELETE</code> ，则没有新值。对于<code class="codeph">UPDATE</code>和<code class="codeph">INSERT</code>语句，捕获过程创建的行LCR可以包括行中的部分或全部新列值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e593" headers="d5461e453 ">
                                    <p><code class="codeph">位置</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e593 d5461e456 ">
                                    <p>每个LCR的<code class="codeph">RAW</code>数据类型的唯一标识符。该头寸在交易和交易中严格增加。
                                    </p>
                                    <p>LCR位置通常用于XStream配置。</p>
                                    <p>请参阅<span class="q">“ <a href="general-xstream-concepts.html#GUID-077AAE24-54CF-4102-9969-9540608FFB65" title="每个LCR都有一个位置属性。LCR的位置标识其在交易中的LCR流中的位置。">LCR流中的位置顺序</a> ”</span> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e615" headers="d5461e453 ">
                                    <p><code class="codeph">ROOT_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e615 d5461e456 ">
                                    <p>如果LCR源自CDB，则此属性指定CDB中根的全局名称。</p>
                                    <p>如果LCR源自非CDB，则此属性与<code class="codeph">source_database_name</code>属性相同。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>XStream Out配置中捕获进程捕获的行LCR包含其他属性。下表描述了这些附加属性。在XStream In配置中由XStream客户端应用程序构造的行LCR中不存在这些属性。</p>
                     <div class="tblformalwide" id="GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330__BABJHHAG">
                        <p class="titleintable">表2-2捕获过程捕获的LCR中的其他属性</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="捕获过程捕获的LCR中的其他属性" width="100%" border="1" summary="This table describes the extra attributes in row LCRs captured by capture processes." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d5461e639">属性</th>
                                 <th align="left" valign="bottom" width="75%" id="d5461e642">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e647" headers="d5461e639 ">
                                    <p><code class="codeph">commit_scn</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e647 d5461e642 ">
                                    <p>LCR所属事务的提交系统更改号（SCN）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e655" headers="d5461e639 ">
                                    <p><code class="codeph">commit_scn_from_position</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e655 d5461e642 ">
                                    <p>由输入位置确定的事务的提交系统更改号（SCN），由XStream出站服务器生成。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e663" headers="d5461e639 ">
                                    <p><code class="codeph">commit_time</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e663 d5461e642 ">
                                    <p>LCR所属事务的提交时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e671" headers="d5461e639 ">
                                    <p><code class="codeph">兼容</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e671 d5461e642 ">
                                    <p>支持LCR所需的最小数据库兼容性。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e679" headers="d5461e639 ">
                                    <p><code class="codeph">INSTANCE_NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e679 d5461e642 ">
                                    <p>进行封装在LCR中的更改的数据库实例的实例编号。通常，实例编号与Oracle Real Application Clusters（Oracle RAC）配置相关。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e687" headers="d5461e639 ">
                                    <p><code class="codeph">lob_information</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e687 d5461e642 ">
                                    <p>列的LOB信息，例如<code class="codeph">NOT_A_LOB</code>或<code class="codeph">LOB_CHUNK</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e701" headers="d5461e639 ">
                                    <p><code class="codeph">lob_offset</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e701 d5461e642 ">
                                    <p><code class="codeph">CLOB</code>列的字符数和<code class="codeph">BLOB</code>列的字节数中指定列的LOB偏移量。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e715" headers="d5461e639 ">
                                    <p><code class="codeph">lob_operation_size</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e715 d5461e642 ">
                                    <p><code class="codeph">CLOB</code>列的字符数和<code class="codeph">BLOB</code>列的字节数中LOB列的操作大小。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e729" headers="d5461e639 ">
                                    <p><code class="codeph">long_information</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e729 d5461e642 ">
                                    <p>列的<code class="codeph">LONG</code>信息，例如<code class="codeph">NOT_A_LONG</code>或<code class="codeph">LONG_CHUNK</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e746" headers="d5461e639 ">
                                    <p><code class="codeph">row_text</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e746 d5461e642 ">
                                    <p>封装在行LCR中的更改的SQL语句。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e754" headers="d5461e639 ">
                                    <p><code class="codeph">scn_from_position</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e754 d5461e642 ">
                                    <p>LCR的SCN。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e763" headers="d5461e639 ">
                                    <p><code class="codeph">source_time</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e763 d5461e642 ">
                                    <p>捕获进程捕获的LCR更改在源数据库的重做日志中生成的时间，或创建持久性LCR的时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e771" headers="d5461e639 ">
                                    <p><code class="codeph">xml_information</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e771 d5461e642 ">
                                    <p>列的XML信息，例如<code class="codeph">NOT_XML</code> ， <code class="codeph">XML_DOC</code>或<code class="codeph">XML_DIFF</code> 。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-B7C74A90-BB1F-4C00-BDCF-48C7C9203D33">行LCR子类型</a><br>行LCR还可以包含事务控制语句。这些行LCR包含事务控制指令，例如<code class="codeph">COMMIT</code>和<code class="codeph">ROLLBACK</code> 。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" title="LCR是具有描述数据库更改的特定格式的消息。">逻辑变更记录（LCR）</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72909"></a><div class="props_rev_3"><a id="GUID-B7C74A90-BB1F-4C00-BDCF-48C7C9203D33" name="GUID-B7C74A90-BB1F-4C00-BDCF-48C7C9203D33"></a><h5 id="XSTRM-GUID-B7C74A90-BB1F-4C00-BDCF-48C7C9203D33" class="sect5"><span class="enumeration_section">2.1.1.1</span>行LCR子类型</h5>
                     <div>
                        <p>行LCR还可以包含事务控制语句。这些行LCR包含事务控制指令，例如<code class="codeph">COMMIT</code>和<code class="codeph">ROLLBACK</code> 。</p>
                        <p>此类行LCR是内部的，可由出站服务器，入站服务器和XStream客户端应用程序使用，以维护事务一致性。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B7C74A90-BB1F-4C00-BDCF-48C7C9203D33__GUID-F95A9196-A548-4751-AD58-E29007CBD562">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS368" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330" title="行LCR描述了对单行中数据的更改或对行中单个LOB列，LONG列，LONG RAW列或XMLType列的更改。">行LCR</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="XSTRM72739"></a><a id="XSTRM72740"></a><a id="XSTRM72738"></a><div class="props_rev_3"><a id="GUID-15F97C57-2984-4FCF-B423-EB7627969A49" name="GUID-15F97C57-2984-4FCF-B423-EB7627969A49"></a><h4 id="XSTRM-GUID-15F97C57-2984-4FCF-B423-EB7627969A49" class="sect4"><span class="enumeration_section">2.1.2</span> DDL LCR</h4>
                  <div>
                     <p>DDL LCR描述了数据定义语言（DDL）的变化。</p>
                     <p>DDL语句更改数据库的结构。例如，DDL语句可以创建，更改或删除数据库对象。</p>
                     <p>每个DDL LCR都封装在<code class="codeph">LCR$_DDL_RECORD</code>类型的对象中。下表描述了每个DDL LCR中存在的属性。</p>
                     <div class="tblformalwide" id="GUID-15F97C57-2984-4FCF-B423-EB7627969A49__BABGIEED">
                        <p class="titleintable">表2-3所有DDL LCR中存在的属性</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="所有DDL LCR中都存在属性" width="100%" border="1" summary="This table describes each attribute that is present in all DDL LCRs." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d5461e1052">属性</th>
                                 <th align="left" valign="bottom" width="75%" id="d5461e1055">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1060" headers="d5461e1052 ">
                                    <p><code class="codeph">source_database_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1060 d5461e1055 ">
                                    <p>发生DDL更改的源数据库的名称。</p>
                                    <p>如果LCR源自CDB，则此属性指定发生DDL更改的容器的全局名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1070" headers="d5461e1052 ">
                                    <p><code class="codeph">COMMAND_TYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1070 d5461e1055 ">
                                    <p>生成更改的DDL语句的类型，例如<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>或<code class="codeph">CREATE</code> <code class="codeph">INDEX</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1090" headers="d5461e1052 ">
                                    <p><code class="codeph">OBJECT_OWNER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1090 d5461e1055 ">
                                    <p>拥有运行DDL语句的数据库对象的用户的模式名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1098" headers="d5461e1052 ">
                                    <p><code class="codeph">OBJECT_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1098 d5461e1055 ">
                                    <p>运行DDL语句的数据库对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1106" headers="d5461e1052 ">
                                    <p><code class="codeph">OBJECT_TYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1106 d5461e1055 ">
                                    <p>运行DDL语句的数据库对象的类型，例如<code class="codeph">TABLE</code>或<code class="codeph">PACKAGE</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1120" headers="d5461e1052 ">
                                    <p><code class="codeph">ddl_text</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1120 d5461e1055 ">
                                    <p>DDL声明的文本。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1128" headers="d5461e1052 ">
                                    <p><code class="codeph">LOGON_USER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1128 d5461e1055 ">
                                    <p>登录用户，即会话执行DDL语句的用户。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1136" headers="d5461e1052 ">
                                    <p><code class="codeph">CURRENT_SCHEMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1136 d5461e1055 ">
                                    <p>如果未在DDL文本中为对象指定架构，则使用该架构。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1144" headers="d5461e1052 ">
                                    <p><code class="codeph">base_table_owner</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1144 d5461e1055 ">
                                    <p>基表所有者。如果DDL语句依赖于表，则基表所有者是它所依赖的表的所有者。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1152" headers="d5461e1052 ">
                                    <p><code class="codeph">base_table_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1152 d5461e1055 ">
                                    <p>基表名称。如果DDL语句依赖于表，则基表名称是其所依赖的表的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1160" headers="d5461e1052 ">
                                    <p><code class="codeph">标签</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1160 d5461e1055 ">
                                    <p>可用于跟踪LCR的原始标记。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1169" headers="d5461e1052 ">
                                    <p><code class="codeph">TRANSACTION_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1169 d5461e1055 ">
                                    <p>运行DDL语句的事务的标识符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1177" headers="d5461e1052 ">
                                    <p><code class="codeph">SCN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1177 d5461e1055 ">
                                    <p>进行更改时的系统更改编号（SCN）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1185" headers="d5461e1052 ">
                                    <p><code class="codeph">位置</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1185 d5461e1055 ">
                                    <p>每个LCR的<code class="codeph">RAW</code>数据类型的唯一标识符。该头寸在交易和交易中严格增加。
                                    </p>
                                    <p>LCR位置通常用于XStream配置。</p>
                                    <p>请参阅<span class="q">“ <a href="general-xstream-concepts.html#GUID-077AAE24-54CF-4102-9969-9540608FFB65" title="每个LCR都有一个位置属性。LCR的位置标识其在交易中的LCR流中的位置。">LCR流中的位置顺序</a> ”</span> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1207" headers="d5461e1052 ">
                                    <p><code class="codeph">EDITION_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1207 d5461e1055 ">
                                    <p>执行DDL语句的版本的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1215" headers="d5461e1052 ">
                                    <p><code class="codeph">ROOT_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1215 d5461e1055 ">
                                    <p>如果LCR源自CDB，则此属性指定CDB中根的全局名称。</p>
                                    <p>如果LCR源自非CDB，则此属性与<code class="codeph">source_database_name</code>属性相同。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>捕获过程捕获的DDL LCR包含其他属性。下表描述了这些附加属性。在XStream In配置中由XStream客户端应用程序构造的DDL LCR中不存在这些属性。</p>
                     <div class="tblformalwide" id="GUID-15F97C57-2984-4FCF-B423-EB7627969A49__BABJEGEH">
                        <p class="titleintable">表2-4捕获过程捕获的DDL LCR中的其他属性</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="DDL LCR中的其他属性由捕获过程捕获" width="100%" border="1" summary="This table describes the extra attributes in DDL LCRs captured by capture processes." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d5461e1239">属性</th>
                                 <th align="left" valign="bottom" width="75%" id="d5461e1242">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1247" headers="d5461e1239 ">
                                    <p><code class="codeph">commit_scn</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1247 d5461e1242 ">
                                    <p>LCR所属事务的提交系统更改号（SCN）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1255" headers="d5461e1239 ">
                                    <p><code class="codeph">commit_scn_from_position</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1255 d5461e1242 ">
                                    <p>由输入位置确定的事务的提交SCN，由XStream出站服务器生成。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1263" headers="d5461e1239 ">
                                    <p><code class="codeph">commit_time</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1263 d5461e1242 ">
                                    <p>LCR所属事务的提交时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1271" headers="d5461e1239 ">
                                    <p><code class="codeph">兼容</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1271 d5461e1242 ">
                                    <p>支持LCR所需的最小数据库兼容性。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1279" headers="d5461e1239 ">
                                    <p><code class="codeph">INSTANCE_NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1279 d5461e1242 ">
                                    <p>进行封装在LCR中的更改的数据库实例的实例编号。通常，实例编号与Oracle Real Application Clusters（Oracle RAC）配置相关。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1287" headers="d5461e1239 ">
                                    <p><code class="codeph">scn_from_position</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1287 d5461e1242 ">
                                    <p>LCR的SCN。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1295" headers="d5461e1239 ">
                                    <p><code class="codeph">source_time</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1295 d5461e1242 ">
                                    <p>捕获进程捕获的LCR更改在源数据库的重做日志中生成的时间，或创建持久性LCR的时间。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-15F97C57-2984-4FCF-B423-EB7627969A49__GUID-D67CBCA4-004E-4C7E-93BD-56E9A39AA0EE">
                        <p class="notep1">注意：</p>
                        <p>行LCR和DDL LCR都包含发生更改的数据库的源数据库名称。为避免出现问题，Oracle建议您在捕获进程开始捕获更改后不要更改源数据库的全局名称。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-15F97C57-2984-4FCF-B423-EB7627969A49__GUID-5ADE3E30-38A8-4C32-83BC-6CA0BCA10870">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../lnoci/handle-and-descriptor-attributes.html#LNOCI251" target="_blank"><span><cite>“Oracle调用接口程序员指南”</cite></span></a> ，以获取“SQL命令代码”表中DDL语句类型的完整列表</p>
                           </li>
                           <li>
                              <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS567" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" title="LCR是具有描述数据库更改的特定格式的消息。">逻辑变更记录（LCR）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72742"></a><a id="XSTRM72741"></a><div class="props_rev_3"><a id="GUID-A510EC5B-EB95-4934-814D-1345DFE98391" name="GUID-A510EC5B-EB95-4934-814D-1345DFE98391"></a><h4 id="XSTRM-GUID-A510EC5B-EB95-4934-814D-1345DFE98391" class="sect4"><span class="enumeration_section">2.1.3</span>行LCR和DDL LCR中的额外信息</h4>
                  <div>
                     <p>除了前面部分讨论的信息之外，行LCR和DDL LCR可选地可以包括额外信息（或LCR属性）。</p>
                     <p>LCR中的额外属性如下表所述。</p>
                     <div class="tblformalwide" id="GUID-A510EC5B-EB95-4934-814D-1345DFE98391__GUID-43A13560-662F-4D53-9725-8D41420F1AFD">
                        <p class="titleintable">表2-5 LCR中的额外属性</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="LCR中的额外属性" width="100%" border="1" summary="This table describes each extra attribute that can be included in LCRs." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d5461e1438">属性</th>
                                 <th align="left" valign="bottom" width="75%" id="d5461e1441">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1446" headers="d5461e1438 ">
                                    <p><code class="codeph">ROW_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1446 d5461e1441 ">
                                    <p>行的rowid在行LCR中更改。对于索引组织表，此属性不包含在DDL LCR或行LCR中。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1454" headers="d5461e1438 ">
                                    <p><code class="codeph">串行＃</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1454 d5461e1441 ">
                                    <p>执行LCR中捕获的更改的会话的序列号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1462" headers="d5461e1438 ">
                                    <p><code class="codeph">会议＃</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1462 d5461e1441 ">
                                    <p>执行LCR中捕获的更改的会话的标识符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1470" headers="d5461e1438 ">
                                    <p><code class="codeph">线＃</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1470 d5461e1441 ">
                                    <p>执行LCR中捕获的更改的实例的线程号。通常，线程号仅与Oracle Real Application Clusters（Oracle RAC）环境相关。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1478" headers="d5461e1438 ">
                                    <p><code class="codeph">tx_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1478 d5461e1441 ">
                                    <p>包含LCR的交易的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d5461e1486" headers="d5461e1438 ">
                                    <p><code class="codeph">用户名</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d5461e1486 d5461e1441 ">
                                    <p>执行LCR中捕获的更改的当前用户的名称。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>您可以使用<code class="codeph">DBMS_CAPTURE_ADM</code>包中的<code class="codeph">INCLUDE_EXTRA_ATTRIBUTE</code>过程来指示捕获进程捕获一个或多个额外属性。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A510EC5B-EB95-4934-814D-1345DFE98391__GUID-6083E3D5-EAC9-4283-8C5D-7DCFCB6C4131">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">INCLUDE_EXTRA_ATTRIBUTE</code>过程的更多信息，请<a href="../arpls/DBMS_CAPTURE_ADM.html#ARPLS522" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关当前用户的更多信息，请<a href="../lnpls/plsql-subprograms.html#LNPLS00809" target="_blank"><span><cite>参见Oracle Database PL / SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" title="LCR是具有描述数据库更改的特定格式的消息。">逻辑变更记录（LCR）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72583"></a><div class="props_rev_3"><a id="GUID-5FC60F68-74DE-4155-84D0-6C6D538F84A8" name="GUID-5FC60F68-74DE-4155-84D0-6C6D538F84A8"></a><h4 id="XSTRM-GUID-5FC60F68-74DE-4155-84D0-6C6D538F84A8" class="sect4"><span class="enumeration_section">2.1.4</span>序列LCR</h4>
                  <div>
                     <p>序列LCR是行LCR，其包括关于序列值的信息。序列数据库对象生成序列值。</p>
                     <p>您可以通过以下方式流式传输序列LCR：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要使用捕获过程捕获序列LCR，请将捕获过程参数<code class="codeph">capture_sequence_nextval</code>为<code class="codeph">Y</code></p>
                        </li>
                        <li>
                           <p>要使用OCI接口构造序列LCR，请使用<code class="codeph">OCILCRNew</code>函数和<code class="codeph">OCILCRHeaderSet</code>函数以及<code class="codeph">OCI_ROWLCR_SEQ_LCR</code>标志。
                           </p>
                        </li>
                        <li>
                           <p>要使用Java接口构造序列LCR，请使用<code class="codeph">DefaultRowLCR</code>构造函数和<code class="codeph">setSequenceLCRFlag</code>方法。
                           </p>
                        </li>
                     </ul>
                     <p>XStream入站服务器或Oracle Apply进程可以使用序列LCR来确保目标数据库中的序列值使用适当的值。对于递增序列，目标处的序列值等于或大于源数据库处的序列值。对于递减序列，目标处的序列值小于或等于源数据库处的序列值。要指示入站服务器或应用进程以使用序列LCR，请将<code class="codeph">apply_sequence_nextval</code> apply参数设置为<code class="codeph">Y</code></p>
                     <div class="infoboxnote" id="GUID-5FC60F68-74DE-4155-84D0-6C6D538F84A8__GUID-B2238453-EA35-42D4-A4E6-9A7BF68AE636">
                        <p class="notep1">注意：</p>
                        <p>序列LCR用于单向复制配置。序列LCR不能用于双向复制配置。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5FC60F68-74DE-4155-84D0-6C6D538F84A8__GUID-3F502C71-87EB-46C8-AB38-2B6A6B930DAB">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-xstream-out.html#GUID-AB998819-B851-478E-8412-3E30EBFC8FD4" title="捕获过程参数控制捕获过程的操作方式。您可以使用DBMS_CAPTURE_ADM包中的SET_PARAMETER过程设置捕获过程参数。">设置捕获过程参数</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关OCI接口的更多信息，请参阅<a href="../lnoci/oci-XStream.html#LNOCI72914" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关Java接口的更多信息，请<a href="../stxjv/index.html" target="_blank"><span><cite>参见Oracle Database XStream Java API参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN11792" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关序列的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" title="LCR是具有描述数据库更改的特定格式的消息。">逻辑变更记录（LCR）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM1101"></a><div class="props_rev_3"><a id="GUID-077AAE24-54CF-4102-9969-9540608FFB65" name="GUID-077AAE24-54CF-4102-9969-9540608FFB65"></a><h4 id="XSTRM-GUID-077AAE24-54CF-4102-9969-9540608FFB65" class="sect4"><span class="enumeration_section">2.1.5</span> LCR流中的定位顺序</h4>
                  <div>
                     <p>每个LCR都有一个位置属性。LCR的位置标识其在交易中的LCR流中的位置。</p>
                     <p>XStream Out和XStream都使用LCR流来共享事务。XStream Out将LCR流发送到客户端应用程序。XStream In从客户端应用程序接收LCR流。</p>
                     <p>每个LCR位置都具有以下属性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>每个LCR的位置都是唯一的。</p>
                        </li>
                        <li>
                           <p>该位置是<code class="codeph">RAW</code>数据类型。
                           </p>
                        </li>
                        <li>
                           <p>该位置在LCR流内，交易内和交易中严格增加。</p>
                        </li>
                        <li>
                           <p>该位置是字节可比较的，并且多个位置的比较结果确定了流中LCR的排序。</p>
                        </li>
                        <li>
                           <p>当数据库，客户端应用程序或XStream组件重新启动时，LCR的位置保持不变。</p>
                        </li>
                        <li>
                           <p>该位置不受可能减少或增加流中LCR数量的任何规则更改的影响。</p>
                        </li>
                     </ul>
                     <p>XStream Out仅发送已提交的数据，而XStream In仅接收已提交的数据。</p>
                     <p>以下是与LCR流相关的属性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>LCR流必须是可重复的。</p>
                        </li>
                        <li>
                           <p>LCR流必须包含已组装的已提交事务的列表。一次交易的LCR是连续的。LCR流中没有交易交错。</p>
                        </li>
                        <li>
                           <p>LCR流中的每个事务必须具有LCR的有序列表和事务ID。</p>
                        </li>
                        <li>
                           <p>每个事务中的最后一个LCR必须是提交LCR。</p>
                        </li>
                        <li>
                           <p>每个LCR必须具有独特的位置。</p>
                        </li>
                        <li>
                           <p>所有LCR在单个交易和交易中的位置必须严格增加。</p>
                        </li>
                     </ul>
                     <p>LCR流可以从多个事务中批量处理LCR，并按增加的位置顺序排列它们。来自一个交易的LCR是连续的，并且交易中的头寸必须增加。此外，所有LCR的位置必须非零。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-077AAE24-54CF-4102-9969-9540608FFB65__GUID-F6566B30-5807-4128-9746-4F5A727A4FC8">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-3311DD1F-5186-4F94-B471-B0557D4AB2D2" title="XStream Out出站服务器将捕获进程捕获的LCR流式传输到客户端应用程序。LCR的位置标识其在交易中的LCR流中的位置。">LCR和XStream Out的位置</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="xstream-in-concepts.html#GUID-25617A91-D3E3-4848-9B28-90F5C00743C9" title="客户端应用程序将LCR流式传输到入站服务器中的XStream。">LCR和XStream的位置</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" title="LCR是具有描述数据库更改的特定格式的消息。">逻辑变更记录（LCR）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-A4E84CAB-2981-419D-A036-6148F05CA28C" name="GUID-A4E84CAB-2981-419D-A036-6148F05CA28C"></a><h4 id="XSTRM-GUID-A4E84CAB-2981-419D-A036-6148F05CA28C" class="sect4"><span class="enumeration_section">2.1.6</span> LCRID和LCR的位置</h4>
                  <div>
                     <p>LCRID是指定XStream Out的LCR位置的原始值。它严格增加，唯一标识LCR，并且在重启时保持不变。XStream使用LCRID值来排序逻辑更改记录（LCR），并确定已接收和应用了哪些LCR和事务。</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）开始，LCRID已经过版本控制。创建或添加出站服务器时，可以选择它使用的LCRID版本。要指定版本2，数据库兼容级别必须为12.2.0或更高版本。默认情况下，当数据库兼容性低于12.2.0时创建或添加的出站服务器使用LCRID版本1，而当数据库兼容性为12.2.0或更高版本时创建或添加的出站服务器使用LCRID版本2。例如，如果出站服务器捕获将应用于兼容级别较低的数据库的LCR，则可以选择将LCRID版本1用于出站服务器。
                     </p>
                     <p>创建或添加出站服务器后，无法更改其LCRID版本。要更改LCRID版本，必须删除并重新创建出站服务器。如果出站服务器正在将LCR发送到入站服务器，则必须删除并重新创建入站服务器。</p>
                     <p>对于版本1和版本2，相同的数据库更改具有不同的LCRID值。<code class="codeph">DBMS_XSTREAM_ADM</code>包中的新函数使您能够比较不同版本中的任何存储的LCRID值，并将LCRID值从一个版本转换为另一个版本。具体来说， <code class="codeph">COMPARE_POSITION</code>函数比较两个LCRID值， <code class="codeph">CONVERT_POSITION</code>函数将LCRID值从一个版本转换为另一个版本。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-xstream-out.html#GUID-A1C8430E-565B-4F66-8E00-495F283AAAFB" title="XStream Out配置中的出站服务器将Oracle数据库更改流式传输到客户端应用程序。">配置XStream Out</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-71F649DC-F09A-4B5B-BB1C-4325871E3AEE" title="LCR是具有描述数据库更改的特定格式的消息。">逻辑变更记录（LCR）</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="XSTRM72743"></a><div class="props_rev_3"><a id="GUID-41229989-0893-4463-8063-3FD28D94A233" name="GUID-41229989-0893-4463-8063-3FD28D94A233"></a><h3 id="XSTRM-GUID-41229989-0893-4463-8063-3FD28D94A233" class="sect3"><span class="enumeration_section">2.2</span>规则和规则集</h3>
               <div>
                  <p>XStream使用规则和规则集。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-DFB8B7E0-3E11-48FB-9BCE-98318783B97F">规则和规则集定义</a><br>规则是一个数据库对象，它使客户端能够在事件发生且满足条件时执行操作。在XStream配置中，规则标识从一个组件流向另一个组件的LCR。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-8847480A-3192-4C6C-8921-02613057D9E0">规则集和XStream组件</a><br>如果数据库更改满足其规则集，则XStream组件将执行其任务。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED">系统创建的规则和XStream</a><br>如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由<code class="codeph">DBMS_XSTREAM_ADM</code>包创建。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-41229989-0893-4463-8063-3FD28D94A233__GUID-2621BFAA-6BD1-4C16-8FDA-6D2F4D257C66">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="managing-xstream-out.html#GUID-6686416C-EA96-4C52-9ED8-58EF80432443" title="您可以管理XStream Out配置的规则。规则控制将哪些数据库更改流式传输到出站服务器以及哪个数据库将出站服务器流更改为客户端应用程序。">管理XStream Out配置的规则</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8" title="示例查询说明了如何监视XStream规则。">监控XStream规则</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-C8114BC8-1F04-48A2-964B-375C04767B86" title="常规XStream概念适用于XStream Out和XStream In。">常规XStream概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72744"></a><div class="props_rev_3"><a id="GUID-DFB8B7E0-3E11-48FB-9BCE-98318783B97F" name="GUID-DFB8B7E0-3E11-48FB-9BCE-98318783B97F"></a><h4 id="XSTRM-GUID-DFB8B7E0-3E11-48FB-9BCE-98318783B97F" class="sect4"><span class="enumeration_section">2.2.1</span>定义的规则和规则集</h4>
                  <div>
                     <p>规则是一个数据库对象，它使客户端能够在事件发生且满足条件时执行操作。在XStream配置中，规则标识从一个组件流向另一个组件的LCR。</p>
                     <p>捕获进程，传播，出站服务器和入站服务器可以使用规则。您可以单独为每个XStream组件配置规则，并且不需要匹配不同XStream组件的规则。</p>
                     <p>规则集是规则的集合。每个XStream组件的行为由与其关联的规则集中的规则确定。您可以将正规则集和负规则集与每个XStream组件相关联。</p>
                     <p>此外，单个规则适用于数据操作语言（DML）更改或数据定义语言（DDL）更改的结果。因此，例如，您必须至少使用两个规则来包含对特定表的所有更改：一个规则用于DML更改的结果，另一个规则用于DDL更改。</p>
                     <p>DML更改的结果是行更改，封装行更改的LCR称为行LCR。单个DML更改可能会导致多行更改。因此，单个DML更改可能会导致多行LCR。封装DDL更改的LCR称为DDL LCR。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-41229989-0893-4463-8063-3FD28D94A233" title="XStream使用规则和规则集。">规则和规则集</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72745"></a><div class="props_rev_3"><a id="GUID-8847480A-3192-4C6C-8921-02613057D9E0" name="GUID-8847480A-3192-4C6C-8921-02613057D9E0"></a><h4 id="XSTRM-GUID-8847480A-3192-4C6C-8921-02613057D9E0" class="sect4"><span class="enumeration_section">2.2.2</span>规则集和XStream组件</h4>
                  <div>
                     <p>如果数据库更改满足其规则集，则XStream组件将执行其任务。</p>
                     <p>一般情况下，改变满足规则集当负规则集中<span class="italic">没有规则</span>评估为<code class="codeph">TRUE</code>的变化和积极的规则集<span class="italic">至少一个规则</span>评估为<code class="codeph">TRUE</code>的变化。始终首先评估否定规则集。
                     </p>
                     <p>您可以在XStream配置中使用规则集来指定以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>捕获进程从重做日志或丢弃中捕获的更改。如果重做日志中发现的更改满足捕获过程的规则集，则捕获过程将捕获更改。如果在重做日志中找到的更改不满足捕获过程的规则集，则捕获过程将放弃更改。</p>
                           <p>在多个出站服务器之间共享一个捕获过程的XStream Out配置中，捕获过程的规则必须传递共享捕获过程的任何出站服务器所需的LCR。</p>
                        </li>
                        <li>
                           <p>传播从一个队列发送到另一个队列或丢弃的LCR。如果队列中的LCR满足传播的规则集，则传播将发送LCR。如果队列中的LCR不满足传播的规则集，则传播将丢弃LCR。</p>
                        </li>
                        <li>
                           <p>出站服务器发送到XStream客户端应用程序或丢弃的LCR。如果LCR满足出站服务器的规则集，则出站服务器将LCR发送到XStream客户端应用程序。如果LCR不满足出站服务器的规则集，则出站服务器将丢弃LCR。</p>
                        </li>
                        <li>
                           <p>入站服务器应用或丢弃的LCR。如果LCR满足入站服务器的规则集，则入站服务器将应用LCR。如果LCR不满足入站服务器的规则集，则入站服务器会丢弃LCR。</p>
                        </li>
                     </ul>
                     <p>当XStream组件没有规则集时，组件会为所有数据库更改执行其任务。例如，如果入站服务器没有规则集，则它将应用XStream客户端应用程序发送给它的所有LCR。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-41229989-0893-4463-8063-3FD28D94A233" title="XStream使用规则和规则集。">规则和规则集</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72746"></a><div class="props_rev_3"><a id="GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" name="GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED"></a><h4 id="XSTRM-GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" class="sect4"><span class="enumeration_section">2.2.3</span>系统创建的规则和XStream</h4>
                  <div>
                     <p>如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由<code class="codeph">DBMS_XSTREAM_ADM</code>包创建。
                     </p>
                     <p>系统创建的规则可以指定以下粒度级别之一：表，模式或全局。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-7D17FB89-2D4B-46D0-945A-36F9B57B4DD4">XStream系统创建的规则过程</a><br><code class="codeph">DBMS_XSTREAM_ADM</code>包中的几个PL / SQL过程可以创建系统生成的规则。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-36DAA74B-9B11-4E3C-AEF7-F32B2F5E8F23">全球规则</a><br>使用规则指定与整个数据库相关的任务时，您将指定全局规则。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-8618D644-3C82-4791-B89E-8C234A6AEF01">架构规则</a><br>使用规则指定与架构相关的任务时，您将指定架构规则。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-DAFCA543-2013-4C18-BA09-026AC1D90B40">表规则</a><br>使用规则指定与表相关的任务时，您将指定表规则。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-BFC30D8A-A50A-410E-BC28-646BB4A89769">子集规则</a><br>子集规则是DML更改的特殊类型的表规则，仅与表中的行的子集相关。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-CBD258F9-D53D-4DA8-98CE-D87232D06655">系统创建的规则和多租户环境</a><br>多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。这个自包含的集合称为可插拔数据库（PDB）。CDB包含PDB。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED__GUID-E81364ED-4419-47E1-A9D3-B5A02DABE979">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-xstream-out.html#GUID-6686416C-EA96-4C52-9ED8-58EF80432443" title="您可以管理XStream Out配置的规则。规则控制将哪些数据库更改流式传输到出站服务器以及哪个数据库将出站服务器流更改为客户端应用程序。">管理XStream Out配置的规则</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8" title="示例查询说明了如何监视XStream规则。">监控XStream规则</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS73643" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-41229989-0893-4463-8063-3FD28D94A233" title="XStream使用规则和规则集。">规则和规则集</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72987"></a><a id="XSTRM72986"></a><div class="props_rev_3"><a id="GUID-7D17FB89-2D4B-46D0-945A-36F9B57B4DD4" name="GUID-7D17FB89-2D4B-46D0-945A-36F9B57B4DD4"></a><h5 id="XSTRM-GUID-7D17FB89-2D4B-46D0-945A-36F9B57B4DD4" class="sect5"><span class="enumeration_section">2.2.3.1</span> XStream系统创建的规则过程</h5>
                     <div>
                        <p><code class="codeph">DBMS_XSTREAM_ADM</code>包中的几个PL / SQL过程可以创建系统生成的规则。
                        </p>
                        <p>有三种类型的过程可以创建系统创建的规则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建或更改出站服务器的过程以及出站服务器的规则</p>
                              <p>这些过程包括<code class="codeph">CREATE_OUTBOUND</code> ， <code class="codeph">ADD_OUTBOUND</code>和<code class="codeph">ALTER_OUTBOUND</code> 。这些过程使您可以轻松快速配置XStream Out。如果它们满足您的需求，那么您应该使用这些过程来简化XStream Out配置。除出站服务器外， <code class="codeph">CREATE_OUTBOUND</code>过程还创建出站服务器使用的队列和捕获进程。
                              </p>
                           </li>
                           <li>
                              <p>为现有传播创建传播或添加规则的过程</p>
                              <p>这些程序包括<code class="codeph">ADD_*_PROPAGATION_RULES</code>程序。如果指定的传播不存在，则这些过程会创建传播并向传播的规则集添加规则。如果存在指定的传播，则这些过程会将规则添加到现有传播的规则集中。
                              </p>
                           </li>
                           <li>
                              <p>将规则添加到现有XStream组件的过程，例如捕获进程，出站服务器或入站服务器</p>
                              <p>这些程序包括<code class="codeph">ADD_*_RULES</code>程序。这些过程为系统创建的规则提供了更大的灵活性和细粒度的控制。您必须在必要时使用这些过程向XStream配置添加规则。
                              </p>
                           </li>
                        </ul>
                        <p>下表描述了哪些过程可以为哪些XStream组件创建规则。</p>
                        <div class="tblformalwide" id="GUID-7D17FB89-2D4B-46D0-945A-36F9B57B4DD4__BABIIHHI">
                           <p class="titleintable">表2-6 XStream系统创建的规则过程</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="XStream系统创建的规则过程" width="100%" border="1" summary="This tables lists each procedure and shows whether it can create rules for a capture process, propagation, outbound server, or inbound server." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d5461e2776">程序</th>
                                    <th align="left" valign="bottom" width="18%" id="d5461e2779">捕获过程</th>
                                    <th align="left" valign="bottom" width="18%" id="d5461e2782">传播</th>
                                    <th align="left" valign="bottom" width="18%" id="d5461e2785">出站服务器</th>
                                    <th align="left" valign="bottom" width="18%" id="d5461e2788">入站服务器</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2793" headers="d5461e2776 ">
                                       <p><code class="codeph">CREATE_OUTBOUND</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2793 d5461e2779 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2793 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2793 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2793 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2810" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_OUTBOUND</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2810 d5461e2779 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2810 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2810 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2810 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2827" headers="d5461e2776 ">
                                       <p><code class="codeph">ALTER_OUTBOUND</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2827 d5461e2779 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2827 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2827 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2827 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2844" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_GLOBAL_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2844 d5461e2779 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2844 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2844 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2844 d5461e2788 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2861" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_GLOBAL_PROPAGATION_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2861 d5461e2779 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2861 d5461e2782 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2861 d5461e2785 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2861 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2878" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_SCHEMA_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2878 d5461e2779 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2878 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2878 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2878 d5461e2788 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2895" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_SCHEMA_PROPAGATION_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2895 d5461e2779 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2895 d5461e2782 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2895 d5461e2785 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2895 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2912" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_GLOBAL_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2912 d5461e2779 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2912 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2912 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2912 d5461e2788 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2929" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_SUBSET_OUTBOUND_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2929 d5461e2779 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2929 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2929 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2929 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2946" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_SUBSET_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2946 d5461e2779 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2946 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2946 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2946 d5461e2788 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2963" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_SUBSET_PROPAGATION_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2963 d5461e2779 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2963 d5461e2782 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2963 d5461e2785 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2963 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2981" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_TABLE_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2981 d5461e2779 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2981 d5461e2782 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2981 d5461e2785 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2981 d5461e2788 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5461e2998" headers="d5461e2776 ">
                                       <p><code class="codeph">ADD_TABLE_PROPAGATION_RULES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2998 d5461e2779 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2998 d5461e2782 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2998 d5461e2785 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d5461e2998 d5461e2788 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7D17FB89-2D4B-46D0-945A-36F9B57B4DD4__GUID-46D3C0F0-EC18-4934-AE18-F0AF3397113F">
                           <p class="notep1">也可以看看：</p>
                           <p>有关这些过程的详细信息，请<a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS73643" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" title="如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由DBMS_XSTREAM_ADM包创建。">系统创建的规则和XStream</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72747"></a><div class="props_rev_3"><a id="GUID-36DAA74B-9B11-4E3C-AEF7-F32B2F5E8F23" name="GUID-36DAA74B-9B11-4E3C-AEF7-F32B2F5E8F23"></a><h5 id="XSTRM-GUID-36DAA74B-9B11-4E3C-AEF7-F32B2F5E8F23" class="sect5"><span class="enumeration_section">2.2.3.2</span>全球规则</h5>
                     <div>
                        <p>使用规则指定与整个数据库相关的任务时，您将指定全局规则。</p>
                        <p>您可以为DML更改指定全局规则，为DDL更改指定全局规则，或为每种类型的更改指定全局规则（总共两个规则）。</p>
                        <p>捕获过程的正规则集中的单个全局规则意味着捕获过程捕获所有DML更改或源数据库的所有DDL更改的结果。捕获进程的否定规则集中的单个全局规则意味着捕获进程会丢弃所有DML更改或对源数据库的所有DDL更改的结果。</p>
                        <p>传播的正规则集中的单个全局规则意味着传播规则控制适用于特定出站服务器的LCR集。如果单个捕获服务多个出站服务器，则分发到每个出站服务器的更改集由传播规则控制（捕获规则是所有更改的超集）。传播的否定规则集中的单个全局规则意味着传播会丢弃捕获过程中的所有行LCR或所有DDL LCR。</p>
                        <p>出站服务器的正规则集中的单个全局规则意味着出站服务器将其接收的所有行LCR或所有DDL LCR发送到XStream客户端应用程序。出站服务器的否定规则集中的单个全局规则意味着出站服务器会丢弃它接收的所有行LCR或所有DDL LCR。</p>
                        <p>入站服务器的正规则集中的单个全局规则意味着入站服务器应用XStream客户端应用程序发送给它的所有行LCR或所有DDL LCR。入站服务器的否定规则集中的单个全局规则意味着入站服务器会丢弃XStream客户端应用程序发送给它的所有行LCR或所有DDL LCR。</p>
                        <p>当入站服务器应该应用从其客户端应用程序接收的所有LCR时，您可以将入站服务器配置为不使用规则集而不是使用全局规则。此外，为使入站服务器性能最佳，它不应接收不应用的LCR。</p>
                        <p>到出站服务器指定全局规则，使用<code class="codeph">ALTER_OUTBOUND</code>过程或用于指定细节的更大的级别时， <code class="codeph">ADD_GLOBAL_RULES</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包。
                        </p>
                        <p>要为入站服务器指定的全球规则，使用<code class="codeph">ALTER_INBOUND</code>程序，或者指定细节的更大的层面上， <code class="codeph">ADD_GLOBAL_RULES</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-36DAA74B-9B11-4E3C-AEF7-F32B2F5E8F23__GUID-6439956A-E3D3-4F78-A34D-E3A3902CD819">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-xstream-out.html#GUID-6686416C-EA96-4C52-9ED8-58EF80432443" title="您可以管理XStream Out配置的规则。规则控制将哪些数据库更改流式传输到出站服务器以及哪个数据库将出站服务器流更改为客户端应用程序。">管理XStream Out配置的规则</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8" title="示例查询说明了如何监视XStream规则。">监控XStream规则</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS70194" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" title="如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由DBMS_XSTREAM_ADM包创建。">系统创建的规则和XStream</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72748"></a><div class="props_rev_3"><a id="GUID-8618D644-3C82-4791-B89E-8C234A6AEF01" name="GUID-8618D644-3C82-4791-B89E-8C234A6AEF01"></a><h5 id="XSTRM-GUID-8618D644-3C82-4791-B89E-8C234A6AEF01" class="sect5"><span class="enumeration_section">2.2.3.3</span>架构规则</h5>
                     <div>
                        <p>使用规则指定与架构相关的任务时，您将指定架构规则。</p>
                        <p>您可以为DML更改指定架构规则，为DDL更改指定架构规则，或者为架构的每种更改类型指定架构规则（总共两个规则）。</p>
                        <p>捕获过程的正规则集中的单个模式规则意味着捕获过程捕获DML更改或对模式的DDL更改。捕获进程的否定规则集中的单个架构规则意味着捕获进程会丢弃DML更改或对架构的DDL更改。</p>
                        <p>传播的正规则集中的单个模式规则意味着传播传播源队列中包含对模式更改的行LCR或DDL LCR。传播的否定规则集中的单个架构规则意味着传播会丢弃源队列中包含架构更改的行LCR或DDL LCR。</p>
                        <p>出站服务器的正规则集中的单个架构规则意味着出站服务器将其接收到的包含对架构更改的行LCR或DDL LCR发送到XStream客户端应用程序。出站服务器的否定规则集中的单个架构规则意味着出站服务器会丢弃它接收到的包含对架构更改的行LCR或DDL LCR。</p>
                        <p>入站服务器的正规则集中的单个架构规则意味着入站服务器应用从包含架构更改的XStream客户端应用程序接收的行LCR或DDL LCR。入站服务器的否定规则集中的单个架构规则意味着入站服务器会丢弃从包含架构更改的XStream客户端应用程序接收的行LCR或DDL LCR。</p>
                        <p>要为任一出站服务器或入站服务器指定模式规则，使用<code class="codeph">ALTER_OUTBOUND</code>程序或<code class="codeph">ADD_SCHEMA_RULES</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8618D644-3C82-4791-B89E-8C234A6AEF01__GUID-C4822C60-73DD-4B3B-885D-CC0F3AED46B1">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-xstream-out.html#GUID-6686416C-EA96-4C52-9ED8-58EF80432443" title="您可以管理XStream Out配置的规则。规则控制将哪些数据库更改流式传输到出站服务器以及哪个数据库将出站服务器流更改为客户端应用程序。">管理XStream Out配置的规则</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8" title="示例查询说明了如何监视XStream规则。">监控XStream规则</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS70194" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" title="如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由DBMS_XSTREAM_ADM包创建。">系统创建的规则和XStream</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72749"></a><div class="props_rev_3"><a id="GUID-DAFCA543-2013-4C18-BA09-026AC1D90B40" name="GUID-DAFCA543-2013-4C18-BA09-026AC1D90B40"></a><h5 id="XSTRM-GUID-DAFCA543-2013-4C18-BA09-026AC1D90B40" class="sect5"><span class="enumeration_section">2.2.3.4</span>表规则</h5>
                     <div>
                        <p>使用规则指定与表相关的任务时，您将指定表规则。</p>
                        <p>您可以为DML更改指定表规则，为DDL更改指定表规则，或为表的每种更改类型指定表规则（总共两个规则）。</p>
                        <p>捕获过程的正规则集中的单个表规则意味着捕获过程捕获DML更改或对表的DDL更改。捕获进程的否定规则集中的单个表规则意味着捕获进程会丢弃DML更改或对表的DDL更改。</p>
                        <p>传播的正规则集中的单个表规则意味着传播传播源队列中包含对表的更改的行LCR或DDL LCR。传播的否定规则集中的单个表规则意味着传播会丢弃源队列中包含对表的更改的行LCR或DDL LCR。</p>
                        <p>出站服务器的正规则集中的单个表规则意味着出站服务器将其接收到的包含对表的更改的行LCR或DDL LCR发送到XStream客户端应用程序。出站服务器的否定规则集中的单个表规则意味着出站服务器丢弃它接收的包含对表的更改的行LCR或DDL LCR。</p>
                        <p>入站服务器的正规则集中的单个表规则意味着入站服务器应用从包含对表的更改的XStream客户端应用程序接收的行LCR或DDL LCR。入站服务器的否定规则集中的单个表规则意味着入站服务器会丢弃从包含对表的更改的XStream客户端应用程序接收的行LCR或DDL LCR。</p>
                        <p>到出站服务器或入站服务器指定表的规则，使用<code class="codeph">ALTER_OUTBOUND</code>过程或<code class="codeph">ADD_TABLE_RULES</code>在<code class="codeph">DBMS_XSTREAM_ADM</code>包。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" title="如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由DBMS_XSTREAM_ADM包创建。">系统创建的规则和XStream</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72750"></a><div class="props_rev_3"><a id="GUID-BFC30D8A-A50A-410E-BC28-646BB4A89769" name="GUID-BFC30D8A-A50A-410E-BC28-646BB4A89769"></a><h5 id="XSTRM-GUID-BFC30D8A-A50A-410E-BC28-646BB4A89769" class="sect5"><span class="enumeration_section">2.2.3.5</span>子集规则</h5>
                     <div>
                        <p>子集规则是DML更改的特殊类型的表规则，仅与表中的行的子集相关。</p>
                        <p>创建子集规则时，在<code class="codeph">SELECT</code>语句中使用类似于<code class="codeph">WHERE</code>子句的条件来指定以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>捕获过程仅捕获由于对特定表的DML更改而导致的行更改的子集</p>
                           </li>
                           <li>
                              <p>传播仅传播与特定表有关的行LCR的子集</p>
                           </li>
                           <li>
                              <p>出站服务器仅将与特定表相关的行LCR的子集发送到XStream客户端应用程序</p>
                           </li>
                           <li>
                              <p>入站服务器仅应用与特定表相关的行LCR的子集</p>
                           </li>
                        </ul>
                        <p>指定以下类型的子集规则时，需要补充日志记录：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>捕获过程的子集规则</p>
                           </li>
                           <li>
                              <p>传播的子集规则，用于传播捕获过程捕获的LCR</p>
                           </li>
                           <li>
                              <p>出站服务器的子集规则，它将捕获进程捕获的LCR发送到XStream客户端应用程序</p>
                           </li>
                        </ul>
                        <p>在任何这些情况下，必须在源数据库中为子集条件中的所有列指定无条件补充日志组。在某些情况下，当指定子集规则时，可以将更新转换为插入，并且在这些情况下，可能需要某些或所有列的补充信息。</p>
                        <p>要为出站服务器的指定子集的规则，使用<code class="codeph">ADD_SUBSET_OUTBOUND_RULES</code> ， <code class="codeph">ADD_SUBSET_RULES,</code>或<code class="codeph">REMOVE_SUBSET_OUTBOUND_RULES</code>过程中<code class="codeph">DBMS_XSTREAM_ADM</code>包。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-BFC30D8A-A50A-410E-BC28-646BB4A89769__GUID-2CD8396C-EA37-4042-87D4-064143588F6C">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="configuring-xstream-out.html#GUID-56F322CB-1598-4FC8-92D9-A14CD4F7971B" title="使用捕获过程捕获更改时，必须为源数据库中的某些列指定补充日志记录，以更改要在目标数据库中成功应用的列。">如果需要，请配置补充日志记录</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-xstream-out.html#GUID-BB8EB4D9-95BE-4B7B-86AB-4DE6208550DF" title="您可以使用DBMS_XSTREAM_ADM程序包中的ADD_SUBSET_OUTBOUND_RULES过程将子集规则添加到出站服务器的正规则集。">将子集规则添加到出站服务器的正规则集</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-xstream-out.html#GUID-CBF4B027-816E-407C-98E3-5F57AB33E82C" title="您可以使用DBMS_XSTREAM_ADM程序包中的REMOVE_SUBSET_OUTBOUND_RULES过程从出站服务器的正规则集中删除子集规则。">从出站服务器的正规则集中删除子集规则</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-xstream-out.html#GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8" title="示例查询说明了如何监视XStream规则。">监控XStream规则</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" title="如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由DBMS_XSTREAM_ADM包创建。">系统创建的规则和XStream</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72988"></a><div class="props_rev_3"><a id="GUID-CBD258F9-D53D-4DA8-98CE-D87232D06655" name="GUID-CBD258F9-D53D-4DA8-98CE-D87232D06655"></a><h5 id="XSTRM-GUID-CBD258F9-D53D-4DA8-98CE-D87232D06655" class="sect5"><span class="enumeration_section">2.2.3.6</span>系统创建的规则和多租户环境</h5>
                     <div>
                        <p>多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。这个自包含的集合称为可插拔数据库（PDB）。CDB包含PDB。</p>
                        <p>它还可以包含应用程序容器。应用程序容器是CDB的可选组件，它由应用程序根目录和与之关联的应用程序PDB组成。应用程序容器存储一个或多个应用程序的数据。应用程序容器共享应用程序元数据和公共数据在CDB中，以下各项都是容器：CDB根，每个PDB，每个应用程序根和每个应用程序PDB。</p>
                        <p>在CDB中，LCR可以包含更改源自<code class="codeph">source_database_name</code>属性的容器的全局名称，以及<code class="codeph">root_name</code>属性中CDB根的全局名称。XStream组件的规则可以考虑这些属性。
                        </p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-60589C03-2095-42AA-8F2F-AFD83B110F31">CDB和XStream Out中的系统创建规则</a><br>在CDB中，必须在CDB根目录中配置XStream Out。因此，创建系统创建的规则的<code class="codeph">DBMS_XSTREAM_ADM</code>包中的PL / SQL过程必须在作为普通用户连接时在CDB根目录中运行。
                           </li>
                           <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-8B64C3F0-2EB0-495B-BB29-A08F1A1CD7C9">CDB和XStream中的系统创建规则</a><br>您可以在根或CDB中的任何容器中配置XStream In。</li>
                        </ul>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../multi/multitenant-architecture.html#MULTI-GUID-BBAD3448-8A5A-4397-BD3A-F05D945DB7F8" target="_blank"><span><cite>Oracle多租户管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-28CD3409-FB62-4234-88E6-D75FE4F6CEED" title="如果LCR满足其规则集，则XStream组件为LCR执行其任务。系统创建的规则由DBMS_XSTREAM_ADM包创建。">系统创建的规则和XStream</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="XSTRM73030"></a><a id="XSTRM73031"></a><a id="XSTRM73032"></a><a id="XSTRM72989"></a><div class="props_rev_3"><a id="GUID-60589C03-2095-42AA-8F2F-AFD83B110F31" name="GUID-60589C03-2095-42AA-8F2F-AFD83B110F31"></a><h6 id="XSTRM-GUID-60589C03-2095-42AA-8F2F-AFD83B110F31" class="sect6"><span class="enumeration_section">2.2.3.6.1</span> CDB和XStream Out中的系统创建规则</h6>
                        <div>
                           <p>在CDB中，必须在CDB根目录中配置XStream Out。因此，创建系统创建的规则的<code class="codeph">DBMS_XSTREAM_ADM</code>包中的PL / SQL过程必须在作为普通用户连接时在CDB根目录中运行。
                           </p>
                           <p>排除为传播创建规则的过程，为XStream Out创建系统创建规则的过程（如<code class="codeph">ADD_GLOBAL_RULES</code>过程）包括下表中的关键参数：</p>
                           <div class="tblformal" id="GUID-60589C03-2095-42AA-8F2F-AFD83B110F31__GUID-F2B0932E-2D66-4652-A805-A570A10E53C4">
                              <p class="titleintable">表2-7 CDB中系统创建规则的关键过程参数</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="CDB中系统创建规则的关键过程参数" width="100%" border="1" summary="This table describes the parameters for system-created rules in a CDB." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d5461e3941">参数</th>
                                       <th align="left" valign="bottom" width="75%" id="d5461e3944">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e3949" headers="d5461e3941 ">
                                          <p><code class="codeph">source_database</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d5461e3949 d5461e3944 ">
                                          <p>源数据库的全局名称。在CDB中，指定规则所属的容器的全局名称。容器可以是CDB根，PDB，应用程序根或应用程序PDB。以下是示例： <code class="codeph">mycdb.example.com</code>或<code class="codeph">hrpdb.example.com</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e3963" headers="d5461e3941 ">
                                          <p><code class="codeph">source_root_name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d5461e3963 d5461e3944 ">
                                          <p>源CDB中CDB根的全局名称。以下是示例： <code class="codeph">mycdb.example.com</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e3974" headers="d5461e3941 ">
                                          <p><code class="codeph">source_container_name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d5461e3974 d5461e3944 ">
                                          <p>源容器的简称。容器可以是CDB根，PDB，应用程序根或应用程序PDB。以下是示例： <code class="codeph">CDB$ROOT</code>或<code class="codeph">hrpdb</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果在指定<code class="codeph">source_database</code>或<code class="codeph">source_root_name</code>时未包含域名，则过程会自动将其附加到名称。例如，如果指定<code class="codeph">DBS1</code> ，则域为<code class="codeph">.EXAMPLE.COM</code> ，然后该过程指定<code class="codeph">DBS1.EXAMPLE.COM</code>自动。
                           </p>
                           <p>这些关键参数的组合根据过程生成的规则确定哪些容器更改XStream Out捕获并流式传输到客户端应用程序。无论这些参数的设置如何，系统生成的规则仍然可以限制捕获的更改并将流传输到特定的模式和表。</p>
                           <p>本地捕获意味着捕获进程在源CDB上运行。在本地捕获配置中， <code class="codeph">source_root_name</code>参数指定本地CDB中CDB根的全局名称。如果此参数为<code class="codeph">NULL</code> ，则自动指定本地CDB中CDB根的全局名称。生成的规则包括当前CDB中CDB根的全局名称的条件。</p>
                           <p>下游捕获意味着捕获过程在除源CDB之外的CDB上运行。在下游捕获配置中， <code class="codeph">source_root_name</code>参数必须为非<code class="codeph">NULL</code> ，并且必须在远程源CDB中指定CDB根的全局名称。生成的规则包括远程CDB中CDB根的全局名称的条件。如果此参数为<code class="codeph">NULL</code> ，则假定为本地捕获。
                           </p>
                           <p>下表介绍了本地捕获配置中各种<code class="codeph">source_database</code>和<code class="codeph">source_container_name</code>参数设置的规则条件。
                           </p>
                           <div class="tblformal" id="GUID-60589C03-2095-42AA-8F2F-AFD83B110F31__BABFDIDE">
                              <p class="titleintable">表2-8本地捕获和XStream Out容器规则条件</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="本地捕获和XStream输出容器规则条件" width="100%" border="1" summary="This table shows different values of the source_root_name and source_database parameters and describes the resulting rules in a local capture configuration." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d5461e4044">source_database参数设置</th>
                                       <th align="left" valign="bottom" width="25%" id="d5461e4047">source_container_name参数设置</th>
                                       <th align="left" valign="bottom" width="50%" id="d5461e4050">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4055" headers="d5461e4044 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4055 d5461e4047 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4055 d5461e4050 ">
                                          <p>XStream Out捕获并流式传输本地CDB中任何容器中所做的更改，包括CDB根，所有PDB，所有应用程序根和所有应用程序PDB。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4067" headers="d5461e4044 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4067 d5461e4047 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4067 d5461e4050 ">
                                          <p>XStream Out捕获并流式传输在本地CDB的指定源容器中所做的更改。源容器可以是CDB根，PDB，应用程序根或应用程序PDB。 <code class="codeph">DBMS_XSTREAM_ADM</code>过程查询<code class="codeph">CDB_PDBS</code>视图和<code class="codeph">CDB_PROPERTIES</code>视图以确定<code class="codeph">source_container_name</code>值。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4092" headers="d5461e4044 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4092 d5461e4047 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4092 d5461e4050 ">
                                          <p>XStream Out捕获并流式传输在本地CDB的指定源容器中所做的更改。源容器可以是CDB根，PDB，应用程序根或应用程序PDB。 <code class="codeph">DBMS_XSTREAM_ADM</code>过程查询<code class="codeph">CDB_PDBS</code>视图和<code class="codeph">CDB_PROPERTIES</code>视图以确定<code class="codeph">source_database</code>值。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4117" headers="d5461e4044 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4117 d5461e4047 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4117 d5461e4050 ">
                                          <p>XStream Out捕获并流式传输在本地CDB的指定源容器中所做的更改。源容器可以是CDB根，PDB，应用程序根或应用程序PDB。</p>
                                          <p>如果<code class="codeph">source_database</code>值的前缀与<code class="codeph">source_container_name</code>值不同，则生成的规则包括<code class="codeph">source_database</code>值的条件，内部表将<code class="codeph">source_database</code>值映射到<code class="codeph">source_container_name</code>值。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>下表介绍了下游捕获配置中各种<code class="codeph">source_database</code>和<code class="codeph">source_container_name</code>参数设置的规则条件。
                           </p>
                           <div class="tblformal" id="GUID-60589C03-2095-42AA-8F2F-AFD83B110F31__BABIDHGF">
                              <p class="titleintable">表2-9下游捕获和XStream Out容器规则条件</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="下游捕获和XStream输出容器规则条件" width="100%" border="1" summary="This table shows different values of the source_root_name and source_database parameters and describes the resulting rules in a downstream capture configuration." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d5461e4166">source_database参数设置</th>
                                       <th align="left" valign="bottom" width="25%" id="d5461e4169">source_container_name参数设置</th>
                                       <th align="left" valign="bottom" width="50%" id="d5461e4172">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4177" headers="d5461e4166 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4177 d5461e4169 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4177 d5461e4172 ">
                                          <p>XStream Out捕获和流式处理远程源CDB中任何容器中所做的更改，包括CDB根，所有PDB，所有应用程序根和所有应用程序PDB。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4189" headers="d5461e4166 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4189 d5461e4169 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4189 d5461e4172 ">
                                          <p>XStream Out捕获并流式传输在远程源CDB的指定源容器中所做的更改。源容器可以是CDB根，PDB，应用程序根或应用程序PDB。 <code class="codeph">DBMS_XSTREAM_ADM</code>过程从<code class="codeph">source_database</code>值的前缀派生<code class="codeph">source_container_name</code>值。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4211" headers="d5461e4166 ">
                                          <p><code class="codeph">空值</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4211 d5461e4169 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4211 d5461e4172 ">
                                          <p><code class="codeph">DBMS_XSTREAM_ADM</code>过程引发错误。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d5461e4227" headers="d5461e4166 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d5461e4227 d5461e4169 ">
                                          <p>非<code class="codeph">NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d5461e4227 d5461e4172 ">
                                          <p>XStream Out捕获并流式传输在远程源CDB的指定源容器中所做的更改。源容器可以是CDB根，PDB，应用程序根或应用程序PDB。</p>
                                          <p>如果<code class="codeph">source_database</code>值的前缀与<code class="codeph">source_container_name</code>值不同，则生成的规则包括<code class="codeph">source_database</code>值的条件，内部表将<code class="codeph">source_database</code>值映射到<code class="codeph">source_container_name</code>值。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="xstream-out-concepts.html#GUID-CC32AED8-6587-4CA7-8786-CDF2C4968DB1" title="您可以将捕获过程配置为在源数据库上本地运行或在下游数据库上远程运行。">本地捕获和下游捕获</a></li>
                                 <li><a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS-GUID-1ABE7BC0-9252-44A0-A6B8-1E3AE8D085C9" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-CBD258F9-D53D-4DA8-98CE-D87232D06655" title="多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。这个自包含的集合称为可插拔数据库（PDB）。CDB包含PDB。">系统创建的规则和多租户环境</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="XSTRM72992"></a><div class="props_rev_3"><a id="GUID-8B64C3F0-2EB0-495B-BB29-A08F1A1CD7C9" name="GUID-8B64C3F0-2EB0-495B-BB29-A08F1A1CD7C9"></a><h6 id="XSTRM-GUID-8B64C3F0-2EB0-495B-BB29-A08F1A1CD7C9" class="sect6"><span class="enumeration_section">2.2.3.6.2</span> CDB和XStream中的系统创建规则</h6>
                        <div>
                           <p>您可以在根或CDB中的任何容器中配置XStream In。</p>
                           <p>通常，入站服务器不使用规则集或规则。相反，它通常处理从客户端应用程序接收的所有LCR。入站服务器只能将更改应用于当前容器。因此，如果在CDB根目录中配置了入站服务器，则它只能将更改应用于CDB根目录。如果在PDB中配置了入站服务器，则它只能将更改应用于该PDB。如果在应用程序根目录中配置了入站服务器，则它只能将更改应用于该应用程序根目录，如果在应用程序PDB中配置了入站服务器，则它只能将更改应用于该应用程序PDB。</p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="../multi/managing-a-multitenant-environment.html#MULTI-GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" target="_blank"><span><cite>Oracle多租户管理员指南</cite></span></a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-CBD258F9-D53D-4DA8-98CE-D87232D06655" title="多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。这个自包含的集合称为可插拔数据库（PDB）。CDB包含PDB。">系统创建的规则和多租户环境</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div>
            </div><a id="XSTRM72751"></a><div class="props_rev_3"><a id="GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F" name="GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F"></a><h3 id="XSTRM-GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F" class="sect3"><span class="enumeration_section">2.3</span>基于规则的转换</h3>
               <div>
                  <p>在XStream中，基于规则的转换是当正规则集中的规则求值为<code class="codeph">TRUE</code>时对逻辑更改记录（LCR）的任何修改。</p>
                  <p>通常，客户端应用程序最好执行数据转换。如果这不可能，那么数据库可以在DML LCR上执行一些简单的转换。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-A23C93EA-65A2-42F7-913C-712959E9C41C">声明性的基于规则的转换</a><br>声明性的基于规则的转换涵盖行LCR的一组常见转换方案。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19">基于声明规则的转换排序</a><br>评估不同类型的基于规则的转换的顺序非常重要，因为结果会有所不同。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-1D00F5BF-6BC9-46F4-9AE8-71C3FF67D323">评估转型排序</a><br>您可以评估转换排序。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-C8114BC8-1F04-48A2-964B-375C04767B86" title="常规XStream概念适用于XStream Out和XStream In。">常规XStream概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72752"></a><div class="props_rev_3"><a id="GUID-A23C93EA-65A2-42F7-913C-712959E9C41C" name="GUID-A23C93EA-65A2-42F7-913C-712959E9C41C"></a><h4 id="XSTRM-GUID-A23C93EA-65A2-42F7-913C-712959E9C41C" class="sect4"><span class="enumeration_section">2.3.1</span>声明性的基于规则的转换</h4>
                  <div>
                     <p>声明性的基于规则的转换涵盖行LCR的一组常见转换方案。</p>
                     <p>您可以使用<code class="codeph">DBMS_XSTREAM_ADM</code>包中的以下过程之一指定（或声明）此类转换：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ADD_COLUMN</code>添加或删除将列添加到行LCR的声明性转换。</p>
                        </li>
                        <li>
                           <p><code class="codeph">DELETE_COLUMN</code>添加或删除从行LCR中删除列的声明性转换。</p>
                        </li>
                        <li>
                           <p><code class="codeph">KEEP_COLUMNS</code>添加或删除声明性转换，该转换将行列表保留在行LCR中。转换将从行LCR中删除列表中不存在的列。</p>
                        </li>
                        <li>
                           <p><code class="codeph">RENAME_COLUMN</code>添加或删除重命名行LCR中的列的声明性转换。</p>
                        </li>
                        <li>
                           <p><code class="codeph">RENAME_SCHEMA</code>添加或删除声明性转换，该转换在行LCR中重命名架构。</p>
                        </li>
                        <li>
                           <p><code class="codeph">RENAME_TABLE</code>可以添加或删除在LCR行中重命名表的声明性转换。</p>
                        </li>
                     </ul>
                     <p>指定基于声明规则的转换时，指定与其关联的规则。当指定的规则对行LCR的计算结果为<code class="codeph">TRUE</code> ，XStream在行LCR内部执行声明性转换，而不调用PL / SQL。</p>
                     <p>声明性的基于规则的转换具有以下优点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>性能得到改善，因为转换是在不使用PL / SQL的情况下在内部运行的。</p>
                        </li>
                        <li>
                           <p>由于不需要自定义PL / SQL函数，因此降低了复杂性。</p>
                        </li>
                     </ul>
                     <p>声明性的基于规则的转换只能转换行LCR。因此，在运行其中一个过程以添加声明性转换时，必须指定DML规则。如果指定了DDL规则，则会引发错误。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F" title="在XStream中，基于规则的转换是当正规则集中的规则求值为TRUE时对逻辑更改记录（LCR）的任何修改。">基于规则的转换</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72754"></a><div class="props_rev_3"><a id="GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19" name="GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19"></a><h4 id="XSTRM-GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19" class="sect4"><span class="enumeration_section">2.3.2</span>基于声明规则的转换排序</h4>
                  <div>
                     <p>评估不同类型的基于规则的转换的顺序非常重要，因为结果会有所不同。</p>
                     <p>默认情况下，当规则评估为<code class="codeph">TRUE</code>时，Oracle数据库按以下顺序执行声明性转换：</p>
                     <ol>
                        <li>
                           <p>保留专栏</p>
                        </li>
                        <li>
                           <p>删除列</p>
                        </li>
                        <li>
                           <p>重命名列</p>
                        </li>
                        <li>
                           <p>添加列</p>
                        </li>
                        <li>
                           <p>重命名表</p>
                        </li>
                        <li>
                           <p>重命名架构</p>
                        </li>
                     </ol>
                     <p>声明性转换的结果用于每个后续声明性转换中。例如，假设为单个规则指定了以下声明性转换：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>删除列地址</p>
                        </li>
                        <li>
                           <p>添加列地址</p>
                        </li>
                     </ul>
                     <p>假设列地址存在于行LCR中，则在这种情况下应执行两个声明性转换，因为在将列地址添加回行LCR之前，将列地址从行LCR中删除。下表显示了此示例的转换顺序。</p>
                     <div class="tblformal" id="GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19__GUID-75FDF6F1-2B9B-4652-A678-FD7B5046D9E9">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Transformation ordering for delete column transformation and add column transformation" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="13%" id="d5461e4827">步骤编号</th>
                                 <th align="left" valign="bottom" width="24%" id="d5461e4830">转型类型</th>
                                 <th align="left" valign="bottom" width="41%" id="d5461e4833">转型细节</th>
                                 <th align="left" valign="bottom" width="22%" id="d5461e4836">转型执行？</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4841" headers="d5461e4827 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4841 d5461e4830 ">
                                    <p>保留专栏</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4841 d5461e4833 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4841 d5461e4836 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4854" headers="d5461e4827 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4854 d5461e4830 ">
                                    <p>删除列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4854 d5461e4833 ">
                                    <p>从行LCR中删除列<code class="codeph">address</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4854 d5461e4836 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4870" headers="d5461e4827 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4870 d5461e4830 ">
                                    <p>重命名列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4870 d5461e4833 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4870 d5461e4836 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4883" headers="d5461e4827 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4883 d5461e4830 ">
                                    <p>添加列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4883 d5461e4833 ">
                                    <p>将列<code class="codeph">address</code>添加到行LCR</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4883 d5461e4836 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4899" headers="d5461e4827 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4899 d5461e4830 ">
                                    <p>重命名表</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4899 d5461e4833 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4899 d5461e4836 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4912" headers="d5461e4827 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4912 d5461e4830 ">
                                    <p>重命名架构</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4912 d5461e4833 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4912 d5461e4836 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>另一种情况可能是重命名表，然后重命名模式。例如，假设为单个规则指定了以下声明性转换：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将表<code class="codeph">john.customers</code>重命名为<code class="codeph">sue.clients</code></p>
                        </li>
                        <li>
                           <p>重命名模式<code class="codeph">sue</code>到<code class="codeph">mary</code></p>
                        </li>
                     </ul>
                     <p>请注意，重命名表转换还会重命名表的架构。在这种情况下，应该执行两个转换，并且在两个转换之后，表名称变为<code class="codeph">mary.clients</code> 。下表显示了此示例的转换顺序。
                     </p>
                     <div class="tblformal" id="GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19__GUID-0925D093-69E6-4F16-8565-1FB3238A542B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Transformation ordering for rename table transformation and rename schema transformation where both transformations are performed" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="13%" id="d5461e4958">步骤编号</th>
                                 <th align="left" valign="bottom" width="24%" id="d5461e4961">转型类型</th>
                                 <th align="left" valign="bottom" width="41%" id="d5461e4964">转型细节</th>
                                 <th align="left" valign="bottom" width="22%" id="d5461e4967">转型执行？</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4972" headers="d5461e4958 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4972 d5461e4961 ">
                                    <p>保留专栏</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4972 d5461e4964 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4972 d5461e4967 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4985" headers="d5461e4958 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4985 d5461e4961 ">
                                    <p>删除列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4985 d5461e4964 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4985 d5461e4967 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e4998" headers="d5461e4958 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e4998 d5461e4961 ">
                                    <p>重命名列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e4998 d5461e4964 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e4998 d5461e4967 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5011" headers="d5461e4958 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5011 d5461e4961 ">
                                    <p>添加列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5011 d5461e4964 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5011 d5461e4967 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5024" headers="d5461e4958 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5024 d5461e4961 ">
                                    <p>重命名表</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5024 d5461e4964 ">
                                    <p>将表<code class="codeph">john.customers</code>重命名为<code class="codeph">sue.clients</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5024 d5461e4967 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5042" headers="d5461e4958 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5042 d5461e4961 ">
                                    <p>重命名架构</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5042 d5461e4964 ">
                                    <p>重命名模式<code class="codeph">sue</code>到<code class="codeph">mary</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5042 d5461e4967 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>考虑一种类似的场景，其中为单个规则指定了以下声明性转换：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将表<code class="codeph">john.customers</code>重命名为<code class="codeph">sue.clients</code></p>
                        </li>
                        <li>
                           <p>将架构<code class="codeph">john</code>重命名为<code class="codeph">mary</code></p>
                        </li>
                     </ul>
                     <p>在这种情况下，执行第一次转换，但第二次转换不执行。第一次转换后，表名是<code class="codeph">sue.clients</code> 。不执行第二次转换，因为表的模式现在是<code class="codeph">sue</code> ，而不是<code class="codeph">john</code> 。下表显示了此示例的转换顺序。
                     </p>
                     <div class="tblformal" id="GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19__GUID-A95A6D8E-46FD-4E59-8F8E-DD0DCDEC24EB">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Transformation ordering for rename table transformation and rename schema transformation where only the rename table transformation is performed" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="13%" id="d5461e5100">步骤编号</th>
                                 <th align="left" valign="bottom" width="24%" id="d5461e5103">转型类型</th>
                                 <th align="left" valign="bottom" width="41%" id="d5461e5106">转型细节</th>
                                 <th align="left" valign="bottom" width="22%" id="d5461e5109">转型执行？</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5114" headers="d5461e5100 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5114 d5461e5103 ">
                                    <p>保留专栏</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5114 d5461e5106 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5114 d5461e5109 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5127" headers="d5461e5100 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5127 d5461e5103 ">
                                    <p>删除列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5127 d5461e5106 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5127 d5461e5109 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5140" headers="d5461e5100 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5140 d5461e5103 ">
                                    <p>重命名列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5140 d5461e5106 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5140 d5461e5109 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5153" headers="d5461e5100 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5153 d5461e5103 ">
                                    <p>添加列</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5153 d5461e5106 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5153 d5461e5109 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5166" headers="d5461e5100 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5166 d5461e5103 ">
                                    <p>重命名表</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5166 d5461e5106 ">
                                    <p>将表<code class="codeph">john.customers</code>重命名为<code class="codeph">sue.clients</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5166 d5461e5109 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d5461e5184" headers="d5461e5100 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d5461e5184 d5461e5103 ">
                                    <p>重命名架构</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d5461e5184 d5461e5106 ">
                                    <p>将架构<code class="codeph">john</code>重命名为<code class="codeph">mary</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d5461e5184 d5461e5109 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>不执行重命名模式转换，但不会导致错误。在这种情况下，行LCR由重命名表转换转换，并返回表名为<code class="codeph">sue.clients</code>的行LCR。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F" title="在XStream中，基于规则的转换是当正规则集中的规则求值为TRUE时对逻辑更改记录（LCR）的任何修改。">基于规则的转换</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72946"></a><div class="props_rev_3"><a id="GUID-1D00F5BF-6BC9-46F4-9AE8-71C3FF67D323" name="GUID-1D00F5BF-6BC9-46F4-9AE8-71C3FF67D323"></a><h4 id="XSTRM-GUID-1D00F5BF-6BC9-46F4-9AE8-71C3FF67D323" class="sect4"><span class="enumeration_section">2.3.3</span>评估转换排序</h4>
                  <p>您可以评估转换排序。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-40043958-0B64-43DD-9D2A-6A09824B5FC7">行迁移转换排序</a><br>除了基于声明规则的转换之外，行迁移是在子集规则求值为<code class="codeph">TRUE</code>时发生的内部转换。</li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-D28D112F-4C39-40F1-BB11-FD2F935DED42">用户指定的声明性转换排序</a><br>如果您不想对特定规则使用默认的基于声明规则的转换排序，则可以为为规则指定的每个声明性转换指定步骤编号。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-7FE08419-56D7-408E-8F23-EE14C171371D">基于规则的转换的注意事项</a><br>几个注意事项适用于基于声明规则的转换。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F" title="在XStream中，基于规则的转换是当正规则集中的规则求值为TRUE时对逻辑更改记录（LCR）的任何修改。">基于规则的转换</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72910"></a><div class="props_rev_3"><a id="GUID-40043958-0B64-43DD-9D2A-6A09824B5FC7" name="GUID-40043958-0B64-43DD-9D2A-6A09824B5FC7"></a><h5 id="XSTRM-GUID-40043958-0B64-43DD-9D2A-6A09824B5FC7" class="sect5"><span class="enumeration_section">2.3.3.1</span>行迁移转换排序</h5>
                     <div>
                        <p>除了基于声明规则的转换之外，行迁移是在子集规则求值为<code class="codeph">TRUE</code>时发生的内部转换。</p>
                        <p>您可以使用<code class="codeph">DBMS_XSTREAM_ADM.ADD_SUBSET_RULES</code>过程添加子集规则。如果为单个规则指定了两种类型的转换，则当规则评估为<code class="codeph">TRUE</code>时，Oracle数据库将按以下顺序执行转换：</p>
                        <ol>
                           <li>
                              <p>行迁移</p>
                           </li>
                           <li>
                              <p>声明性的基于规则的转换</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-1D00F5BF-6BC9-46F4-9AE8-71C3FF67D323" title="您可以评估转换排序。">评估转换排序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72756"></a><div class="props_rev_3"><a id="GUID-D28D112F-4C39-40F1-BB11-FD2F935DED42" name="GUID-D28D112F-4C39-40F1-BB11-FD2F935DED42"></a><h5 id="XSTRM-GUID-D28D112F-4C39-40F1-BB11-FD2F935DED42" class="sect5"><span class="enumeration_section">2.3.3.2</span>用户指定的声明性转换排序</h5>
                     <div>
                        <p>如果您不想对特定规则使用默认的基于声明规则的转换排序，则可以为为规则指定的每个声明性转换指定步骤编号。</p>
                        <p>如果为特定规则指定一个或多个声明性转换的步骤编号，则规则的声明性转换的行为方式如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>声明性变换按步骤数增加的顺序执行。</p>
                           </li>
                           <li>
                              <p>声明性转换的默认步骤编号为0（零）。如果没有为其明确指定步骤编号，则声明性转换将使用此默认值。</p>
                           </li>
                           <li>
                              <p>如果两个或多个声明性转换具有相同的步骤编号，则这些声明性转换遵循<span class="q">“ <a href="general-xstream-concepts.html#GUID-BC0BAD8B-B091-4666-ACDD-A1312F833F19" title="评估不同类型的基于规则的转换的顺序非常重要，因为结果会有所不同。">基于声明规则的转换顺序</a> ”中</span>描述的默认顺序。
                              </p>
                           </li>
                        </ul>
                        <p>例如，您可以通过为与特定规则关联的转换指定以下步骤编号来反转声明性转换的默认顺序：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>保留步骤编号为6的列</p>
                           </li>
                           <li>
                              <p>删除步骤5的列</p>
                           </li>
                           <li>
                              <p>使用步骤4重命名列</p>
                           </li>
                           <li>
                              <p>添加步骤3的列</p>
                           </li>
                           <li>
                              <p>使用步骤2重命名表</p>
                           </li>
                           <li>
                              <p>使用步骤1重命名模式</p>
                           </li>
                        </ul>
                        <p>指定此顺序后，首先执行重命名模式转换，最后执行删除列转换。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-1D00F5BF-6BC9-46F4-9AE8-71C3FF67D323" title="您可以评估转换排序。">评估转换排序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72757"></a><div class="props_rev_3"><a id="GUID-7FE08419-56D7-408E-8F23-EE14C171371D" name="GUID-7FE08419-56D7-408E-8F23-EE14C171371D"></a><h5 id="XSTRM-GUID-7FE08419-56D7-408E-8F23-EE14C171371D" class="sect5"><span class="enumeration_section">2.3.3.3</span>基于规则的转换的注意事项</h5>
                     <div>
                        <p>几个注意事项适用于基于声明规则的转换。</p>
                        <p>这些考虑因素包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于由XStream组件执行的基于规则的转换，规则必须位于XStream组件的正规则集中。如果规则位于XStream组件的否定规则集中，则XStream组件将忽略基于规则的转换。</p>
                           </li>
                           <li>
                              <p>基于规则的转换与使用<code class="codeph">DBMS_TRANSFORM</code>包执行的转换不同。本文档不讨论使用<code class="codeph">DBMS_TRANSFORM</code>包执行的<code class="codeph">DBMS_TRANSFORM</code> 。
                              </p>
                           </li>
                           <li>
                              <p>如果大部分行LCR将在XStream In配置中进行转换，则可以将DML处理程序与XStream In一起使用。请注意，此方法可能无法在XStream In客户端应用程序中进行更改。如果在XStream In配置中对行LCR执行多个或复杂转换，则考虑通过在将更改发送到XStream In之前在客户端应用程序中进行这些修改来减少XStream In处理时间。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-1D00F5BF-6BC9-46F4-9AE8-71C3FF67D323" title="您可以评估转换排序。">评估转换排序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="XSTRM72463"></a><div class="props_rev_3"><a id="GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088" name="GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088"></a><h3 id="XSTRM-GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088" class="sect3"><span class="enumeration_section">2.4</span> XStream和Oracle Replication Performance Advisor</h3>
               <div>
                  <p>Oracle Replication Performance Advisor包含一组数据字典视图。</p>
                  <p>Performance Advisor使您可以监视XStream环境的拓扑和性能。XStream拓扑包括有关XStream环境中组件的信息，组件之间的链接以及信息从捕获到消费的方式。Performance Advisor还提供有关Oracle Replication组件的执行情况的信息。</p>
                  <p>应用进程作为XStream出站服务器和入站服务器。通常，Performance Advisor对于具有应用进程的Oracle Replication环境和具有出站服务器或入站服务器的XStream环境的工作方式相同。本节介绍在XStream环境中使用Performance Advisor的重要注意事项。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-FA60ADA7-7968-4F59-92EB-F13ECB7F26A9">XStream组件</a><br>Performance Advisor跟踪多个XStream组件。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-D8598DCF-0877-4EB6-9163-A7AF4B75A97B">拓扑和流路径</a><br>在Oracle Replication拓扑中，流路径是从源到目标的LCR流。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-36687F1D-2EEC-438F-8C3F-B1B1270A2C67">XStream和组件级统计信息</a><br>Performance Advisor跟踪组件级统计信息。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA">UTL_RPADV包</a><br><code class="codeph">UTL_RPADV</code>包自动收集与XStream性能相关的统计信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-C8114BC8-1F04-48A2-964B-375C04767B86" title="常规XStream概念适用于XStream Out和XStream In。">常规XStream概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72464"></a><div class="props_rev_3"><a id="GUID-FA60ADA7-7968-4F59-92EB-F13ECB7F26A9" name="GUID-FA60ADA7-7968-4F59-92EB-F13ECB7F26A9"></a><h4 id="XSTRM-GUID-FA60ADA7-7968-4F59-92EB-F13ECB7F26A9" class="sect4"><span class="enumeration_section">2.4.1</span> XStream组件</h4>
                  <div>
                     <p>Performance Advisor跟踪多个XStream组件。</p>
                     <p>Performance Advisor在XStream环境中跟踪以下类型的组件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">队列</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">捕获</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPAGATION</code> <code class="codeph">RECEIVER</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">应用</code></p>
                        </li>
                     </ul>
                     <p>除了<code class="codeph">APPLY</code>之外，上述类型在Oracle Replication环境和XStream环境中是相同的。 <code class="codeph">APPLY</code>组件类型可以是XStream出站服务器或入站服务器。
                     </p>
                     <p>此外，Performance Advisor将瓶颈组件标识为最繁忙的组件或具有最少空闲时间的组件。在XStream配置中，当<code class="codeph">EXTERNAL</code>出现在<code class="codeph">DBA_STREAMS_TP_PATH_BOTTLENECK</code>视图的<code class="codeph">ACTION_NAME</code>列中时，XStream客户端应用程序可能成为瓶颈。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-EFD21636-65B9-4BD1-8F74-C99ABC44B9D6">XStream Out Apply子组件</a><br>有几个XStream Out应用子组件类型。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-82AAB582-69FB-4844-8A52-78D95567F479">XStream在应用子组件中</a><br>有几个XStream In应用子组件类型。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088" title="Oracle Replication Performance Advisor包含一组数据字典视图。">XStream和Oracle Replication Performance Advisor</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72947"></a><div class="props_rev_3"><a id="GUID-EFD21636-65B9-4BD1-8F74-C99ABC44B9D6" name="GUID-EFD21636-65B9-4BD1-8F74-C99ABC44B9D6"></a><h5 id="XSTRM-GUID-EFD21636-65B9-4BD1-8F74-C99ABC44B9D6" class="sect5"><span class="enumeration_section">2.4.1.1</span> XStream Out应用子组件</h5>
                     <div>
                        <p>有几个XStream Out应用子组件类型。</p>
                        <p>以下子组件类型是可能的：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">PROPAGATION</code> <code class="codeph">SENDER+RECEIVER</code>用于将LCR从捕获进程发送到出站服务器，其中捕获进程和出站服务器位于不同的数据库中。
                              </p>
                           </li>
                           <li>
                              <p>为阅读器服务器<code class="codeph">APPLY</code> <code class="codeph">READER</code> 。<code class="codeph">APPLY READER</code>从捕获过程接收LCR，将它们组织成事务，进行依赖性计算，并将LCR传递给应用协调器。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">APPLY</code> <code class="codeph">COORDINATOR</code>以获得协调员流程。它从捕获过程中获取事务，使用依赖性信息来确定如何调度事务并将LCR发送到应用服务器。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">APPLY</code> <code class="codeph">SERVER</code>用于应用服务器。它将LCR提供给客户端应用程序。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-FA60ADA7-7968-4F59-92EB-F13ECB7F26A9" title="Performance Advisor跟踪多个XStream组件。">XStream组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72948"></a><div class="props_rev_3"><a id="GUID-82AAB582-69FB-4844-8A52-78D95567F479" name="GUID-82AAB582-69FB-4844-8A52-78D95567F479"></a><h5 id="XSTRM-GUID-82AAB582-69FB-4844-8A52-78D95567F479" class="sect5"><span class="enumeration_section">2.4.1.2</span>应用子组件中的XStream</h5>
                     <div>
                        <p>有几个XStream In应用子组件类型。</p>
                        <p>以下子组件类型是可能的：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为阅读器服务器<code class="codeph">APPLY</code> <code class="codeph">READER</code> 。它需要来自客户端应用程序的LCR将它们转换为事务，检查事务顺序并进行依赖性计算。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">APPLY</code> <code class="codeph">COORDINATOR</code>以获得协调员流程。它从读取器服务器获取事务，使用依赖性信息来确定如何调度事务并将LCR发送到应用服务器。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">APPLY</code> <code class="codeph">SERVER</code>用于应用服务器。它将LCR应用于应用处理程序。如果无法应用LCR，则将其置于错误队列中。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-FA60ADA7-7968-4F59-92EB-F13ECB7F26A9" title="Performance Advisor跟踪多个XStream组件。">XStream组件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="XSTRM72465"></a><div class="props_rev_3"><a id="GUID-D8598DCF-0877-4EB6-9163-A7AF4B75A97B" name="GUID-D8598DCF-0877-4EB6-9163-A7AF4B75A97B"></a><h4 id="XSTRM-GUID-D8598DCF-0877-4EB6-9163-A7AF4B75A97B" class="sect4"><span class="enumeration_section">2.4.2</span>拓扑和流路径</h4>
                  <div>
                     <p>在Oracle Replication拓扑中，流路径是从源到目标的LCR流。</p>
                     <p>流路径以捕获进程或XStream In客户端应用程序开始。流路径在应用进程，出站服务器或入站服务器接收LCR的位置结束。在到达应用进程，出站服务器或入站服务器之前，流路径可能会流经多个源和目标组件。因此，单个流路径可以在到达最后一个组件之前由多个源/目标组件对组成。</p>
                     <p>如果流路径以应用进程，出站服务器或入站服务器结束，则Oracle Replication拓扑仅收集有关流路径的信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088" title="Oracle Replication Performance Advisor包含一组数据字典视图。">XStream和Oracle Replication Performance Advisor</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72466"></a><div class="props_rev_3"><a id="GUID-36687F1D-2EEC-438F-8C3F-B1B1270A2C67" name="GUID-36687F1D-2EEC-438F-8C3F-B1B1270A2C67"></a><h4 id="XSTRM-GUID-36687F1D-2EEC-438F-8C3F-B1B1270A2C67" class="sect4"><span class="enumeration_section">2.4.3</span> XStream和组件级统计</h4>
                  <div>
                     <p>Performance Advisor跟踪组件级统计信息。</p>
                     <p>Performance Advisor跟踪以下组件级统计信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MESSAGE</code> <code class="codeph">APPLY</code> <code class="codeph">RATE</code>是应用进程，出站服务器或入站服务器每秒应用的平均LCR数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">TRANSACTION</code> <code class="codeph">APPLY</code> <code class="codeph">RATE</code>是应用进程，出站服务器或入站服务器每秒应用的平均事务数。交易通常包括多个LCR。
                           </p>
                        </li>
                     </ul>
                     <p>LCR可以通过以下方式之一应用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>应用进程或入站服务器使封装在LCR中的更改成为数据库对象。</p>
                        </li>
                        <li>
                           <p>应用进程或入站服务器将LCR传递给应用处理程序。</p>
                        </li>
                        <li>
                           <p>如果LCR引发错误，则应用进程或入站服务器将LCR发送到错误队列。</p>
                        </li>
                        <li>
                           <p>出站服务器将LCR传递给XStream客户端应用程序。如果LCR引发错误，则出站服务器也会将错误报告给客户端应用程序。</p>
                        </li>
                     </ul>
                     <p>此外，Performance Advisor还会跟踪<code class="codeph">LATENCY</code>组件级统计信息。<code class="codeph">LATENCY</code>的定义有以下几种：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于应用过程， <code class="codeph">LATENCY</code>是在源数据库上创建LCR与目标数据库上的应用过程应用LCR之间的时间量。
                           </p>
                        </li>
                        <li>
                           <p>对于出站服务器，apply <code class="codeph">LATENCY</code>是在源数据库中创建LCR和将LCR发送到XStream客户端应用程序之间的时间量。
                           </p>
                        </li>
                        <li>
                           <p>对于入站服务器，apply <code class="codeph">LATENCY</code>是XStream客户端应用程序创建LCR与应用过程应用LCR之间的时间量。
                           </p>
                        </li>
                     </ul>
                     <p>当捕获过程创建LCR时，消息创建时间是记录数据库更改的重做条目的时间。当XStream客户端应用程序创建LCR时，消息创建时间是构建LCR的时间。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088" title="Oracle Replication Performance Advisor包含一组数据字典视图。">XStream和Oracle Replication Performance Advisor</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72467"></a><div class="props_rev_3"><a id="GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA" name="GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA"></a><h4 id="XSTRM-GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA" class="sect4"><span class="enumeration_section">2.4.4</span> UTL_RPADV包</h4>
                  <div>
                     <p><code class="codeph">UTL_RPADV</code>包自动收集与XStream性能相关的统计信息。
                     </p>
                     <p><code class="codeph">UTL_RPADV</code>提供了一系列子程序，用于收集和分析分布式数据库环境中XStream组件的统计信息。该软件包使用Performance Advisor和<code class="codeph">COLLECT_STATS</code>过程自动收集统计信息。
                     </p>
                     <p>输出格式化，以便可以轻松导入电子表格并进行分析。您可以检查XStream的性能统计信息输出与<code class="codeph">UTL_RPADV.SHOW_STATS</code>程序或查看与一个HTML格式的报告相同的信息<code class="codeph">UTL_RPADV.SHOW_STATS_HTML</code>过程。
                     </p>
                     <p>对于具有应用进程的Oracle Replication环境， <code class="codeph">UTL_RPADV</code>程序包的工作方式与具有出站服务器或入站服务器的XStream环境的工作方式基本相同。由于XStream关注客户端应用程序的数据更改，因此XStream的<code class="codeph">SHOW_STATS</code>过程的输出与Oracle Replication的输出不同。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA">使用UTL_RPADV包收集XStream统计信息</a><br>您可以使用<code class="codeph">UTL_RPADV</code>包收集XStream统计信息。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-17C7AA75-E14B-42E8-9465-8D61B8CB296D">在命令行上显示XStream统计信息</a><br><code class="codeph">UTL_RPADV</code>包中的<code class="codeph">SHOW_STATS</code>过程显示Performance Advisor收集和存储的统计信息。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-064F0CDB-5047-435A-A031-B158C992B59B">解释SHOW_STATS输出</a><br>应用进程的输出与XStream出站服务器和入站服务器的输出之间存在差异。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-7AA4B077-7867-4C8D-9349-D7C7FB79B21A">在HTML报告中显示XStream统计信息</a><br><code class="codeph">UTL_RPADV</code>包中的<code class="codeph">SHOW_STATS_HTML</code>过程创建一个HTML报告，其中包含Performance Advisor收集和存储的统计信息。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-CE7F022F-5BA0-41A1-AB71-C57F9C1DEFE9">从SHOW_STATS_HTML解释HTML报告</a><br><code class="codeph">UTL_RPADV</code>包中的<code class="codeph">SHOW_STATS_HTML</code>过程可以生成与<code class="codeph">SHOW_STATS</code>过程相同的输出，但它将输出格式化为HTML文件中的HTML。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-1AFF2DEF-E53A-428F-A75B-110CACBC5088" title="Oracle Replication Performance Advisor包含一组数据字典视图。">XStream和Oracle Replication Performance Advisor</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM73016"></a><div class="props_rev_3"><a id="GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA" name="GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA"></a><h5 id="XSTRM-GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA" class="sect5"><span class="enumeration_section">2.4.4.1</span>使用UTL_RPADV包收集XStream统计信息</h5>
                     <div>
                        <p>您可以使用<code class="codeph">UTL_RPADV</code>包收集XStream统计信息。
                        </p>
                        <div class="section">
                           <p>要使用<code class="codeph">UTL_RPADV</code>包收集XStream统计信息，请完成以下步骤：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand" id="GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA__BABCJBFG"><span>确定将用于收集信息的数据库。此数据库中的管理用户必须满足以下要求：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果要为多个数据库收集XStream统计信息，则用户必须能够访问包含要监视的XStream组件的每个数据库的数据库链接。</p>
                                    </li>
                                    <li>
                                       <p>必须使用<code class="codeph">DBMS_XSTREAM_AUTH.GRANT_ADMIN_PRIVILEGE</code>过程为用户授予权限。如果要为多个数据库收集XStream统计信息，则每个数据库链接必须连接到已使用<code class="codeph">DBMS_XSTREAM_AUTH.GRANT_ADMIN_PRIVILEGE</code>过程授予权限的远程数据库的用户。
                                       </p>
                                       <p>如果使用XStream组件在每个数据库上配置XStream管理员，则XStream管理员具有必要的权限。</p>
                                    </li>
                                    <li>
                                       <p>用户必须具有创建表和过程所需的权限。如果要为多个数据库收集XStream统计信息，则每个数据库链接都必须连接到远程数据库中具有创建表和过程所需特权的用户。</p>
                                    </li>
                                 </ul>
                                 <p>如果您的环境中没有数据库满足这些要求，请选择数据库，配置必要的数据库链接，并在继续之前向用户授予必要的权限。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在SQL * Plus中，以符合步骤<a href="general-xstream-concepts.html#GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA__BABCJBFG">1中</a>列出的要求的用户身份连接到步骤<a href="general-xstream-concepts.html#GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA__BABCJBFG">1中</a>标识的数据库。</span><div>
                                 <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在<code class="codeph">ORACLE_HOME</code>的rdbms / admin目录中运行<code class="codeph">utlrpadv.sql</code>脚本以加载<code class="codeph">UTL_RPADV</code>包。例如：</span><div><pre class="oac_no_warn" dir="ltr">@ utlrpadv.sql</pre></div>
                           </li>
                           <li class="stepexpand"><span>要么收集当前的XStream性能统计信息，要么创建一个持续监视XStream性能的作业：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要收集当前的XStream性能统计信息一次，请运行<code class="codeph">COLLECT_STATS</code>过程：</p><pre class="oac_no_warn" dir="ltr">exec UTL_RPADV.COLLECT_STATS</pre><p>此示例使用<code class="codeph">COLLECT_STATS</code>过程中参数的默认值。因此，此示例在每次运行之间运行Performance Advisor 10次，每次60秒。这些值分别对应于<code class="codeph">COLLECT_STATS</code>过程中<code class="codeph">num_runs</code>和<code class="codeph">interval</code>参数的默认值。
                                       </p>
                                    </li>
                                    <li>
                                       <p>要创建持续监视XStream性能的作业：</p><pre class="oac_no_warn" dir="ltr">exec UTL_RPADV.START_MONITORING</pre><p>此示例创建监视作业，监视作业按设定的时间间隔不断收集性能统计信息。此示例使用<code class="codeph">START_MONITORING</code>过程中参数的默认值。因此，此示例每60秒运行一次Performance Advisor。此值与<code class="codeph">START_MONITORING</code>过程中<code class="codeph">interval</code>参数的默认值相对应。如果在<code class="codeph">START_MONITORING</code>过程中指定了间隔，则指定的间隔将用于<code class="codeph">COLLECT_STATS</code>过程中的<code class="codeph">interval</code>参数。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>这些过程包括几个可用于调整性能统计信息收集方式的参数。有关更多信息，请参见<a href="../arpls/UTL_RPADV.html#ARPLS883" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>您可以通过运行<code class="codeph">SHOW_STATS</code>过程来显示统计信息。请参阅<span class="q">“ <a href="general-xstream-concepts.html#GUID-17C7AA75-E14B-42E8-9465-8D61B8CB296D" title="UTL_RPADV包中的SHOW_STATS过程显示Performance Advisor收集和存储的统计信息。">在命令行上显示XStream统计信息</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA__GUID-3CDF004B-3BC8-40FA-BDBA-E4213A9A3F40">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">UTL_RPADV</code>包的更多信息，请<code class="codeph">UTL_RPADV</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=ARPLS883" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA" title="UTL_RPADV包自动收集与XStream性能相关的统计信息。">UTL_RPADV包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM73017"></a><div class="props_rev_3"><a id="GUID-17C7AA75-E14B-42E8-9465-8D61B8CB296D" name="GUID-17C7AA75-E14B-42E8-9465-8D61B8CB296D"></a><h5 id="XSTRM-GUID-17C7AA75-E14B-42E8-9465-8D61B8CB296D" class="sect5"><span class="enumeration_section">2.4.4.2</span>在命令行上显示XStream统计信息</h5>
                     <div>
                        <p><code class="codeph">UTL_RPADV</code>包中的<code class="codeph">SHOW_STATS</code>过程显示Performance Advisor收集和存储的统计信息。
                        </p>
                        <div class="section">
                           <p>使用<code class="codeph">path_stat_table</code>参数指定包含统计信息的表。
                           </p>
                           <p>使用<code class="codeph">COLLECT_STATS</code>过程收集统计信息时，此表在<code class="codeph">COLLECT_STATS</code>过程的<code class="codeph">path_stat_table</code>参数中指定。默认情况下，表名为<code class="codeph">STREAMS$_ADVISOR_PATH_STAT</code> 。</p>
                           <p>使用<code class="codeph">START_MONITORING</code>过程收集统计信息时，可以通过查询<code class="codeph">STREAMS$_PA_MONITORING</code>视图中的<code class="codeph">SHOW_STATS_TABLE</code>列来确定此表的名称。监视作业的默认表是<code class="codeph">STREAMS$_PA_SHOW_PATH_STAT</code> 。</p>
                           <p>要显示使用<code class="codeph">UTL_RPADV</code>包收集并存储在<code class="codeph">STREAMS$_ADVISOR_PATH_STAT</code>表中的统计信息，请完成以下步骤：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>通过完成<span class="q">“ <a href="general-xstream-concepts.html#GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA" title="您可以使用UTL_RPADV包收集XStream统计信息。">使用UTL_RPADV包收集XStream统计信息</a> ”中</span>描述的步骤收集统计信息。</span></li>
                           <li class="stepexpand"><span>以收集统计信息的用户身份连接到数据库。</span></li>
                           <li class="stepexpand"><span>如果您正在使用监视作业，则查询<code class="codeph">STREAMS$_PA_MONITORING</code>视图中的<code class="codeph">SHOW_STATS_TABLE</code>列以确定存储统计信息的此表的名称：</span><div><pre class="oac_no_warn" dir="ltr">从STREAMS $ _PA_MONITORING中选择SHOW_STATS_TABLE;</pre></div>
                           </li>
                           <li class="stepexpand"><span>运行<code class="codeph">SHOW_STATS</code>过程。</span><div>
                                 <p>例如，如果您正在使用监视作业和默认存储表，请运行以下过程：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON SIZE 50000 BEGIN UTL_RPADV.SHOW_STATS（path_stat_table =&gt;'STREAMS $ _PA_SHOW_PATH_STAT'）;结束; /</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA" title="UTL_RPADV包自动收集与XStream性能相关的统计信息。">UTL_RPADV包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72911"></a><div class="props_rev_3"><a id="GUID-064F0CDB-5047-435A-A031-B158C992B59B" name="GUID-064F0CDB-5047-435A-A031-B158C992B59B"></a><h5 id="XSTRM-GUID-064F0CDB-5047-435A-A031-B158C992B59B" class="sect5"><span class="enumeration_section">2.4.4.3</span>解释SHOW_STATS输出</h5>
                     <div>
                        <p>应用进程的输出与XStream出站服务器和入站服务器的输出之间存在差异。</p>
                        <div class="infoboxnote" id="GUID-064F0CDB-5047-435A-A031-B158C992B59B__GUID-D046688D-B031-44A6-B558-7D88A7D977C3">
                           <p class="notep1">注意：</p>
                           <p>本节的其余部分假定您熟悉应用进程的<code class="codeph">UTL_RPADV</code>包和<code class="codeph">SHOW_STATS</code>输出。
                           </p>
                        </div>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-DD24937B-1E8D-41B8-9E83-D081C73588BC">出站服务器是路径中的最后一个组件时的示例输出</a><br>以下是出站服务器是路径中最后一个组件的示例输出。
                           </li>
                           <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-8FBD7D2B-7395-4F17-9851-848A9E9201B8">入站服务器是路径中的最后一个组件时的示例输出</a><br>以下是入站服务器是路径中最后一个组件的示例输出。
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-064F0CDB-5047-435A-A031-B158C992B59B__GUID-36010E30-5EE0-45B9-9F9B-A03862623EEC">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用<code class="codeph">UTL_RPADV</code>包的详细信息，请<a href="../arpls/UTL_RPADV.html#ARPLS883" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA" title="UTL_RPADV包自动收集与XStream性能相关的统计信息。">UTL_RPADV包</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="XSTRM72468"></a><div class="props_rev_3"><a id="GUID-DD24937B-1E8D-41B8-9E83-D081C73588BC" name="GUID-DD24937B-1E8D-41B8-9E83-D081C73588BC"></a><h6 id="XSTRM-GUID-DD24937B-1E8D-41B8-9E83-D081C73588BC" class="sect6"><span class="enumeration_section">2.4.4.3.1</span>出站服务器是路径中的最后一个组件时的示例输出</h6>
                        <div>
                           <p>以下是出站服务器是路径中最后一个组件的示例输出。</p><pre class="oac_no_warn" dir="ltr">LEGEND &lt;statistics&gt; = &lt;capture&gt; [&lt;queue&gt; &lt;psender&gt; &lt;preceiver&gt; &lt;queue&gt;] &lt;apply&gt; &lt;bottleneck&gt; &lt;capture&gt; ='| &lt;C&gt;'&lt;name&gt; &lt;msgs captured / sec&gt; &lt;msgs enqueued / sec&gt; &lt;latency&gt;'LMR'&lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt;'LMP'（&lt;parallelism&gt;）&lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt;'LMB' &lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt;'CAP'&lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt;'CAP + PS'&lt;msgs sent / sec&gt; &lt;bytes sent / sec&gt; &lt;latency&gt; &lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt; &lt;apply&gt; ='| &lt;A&gt;'&lt;name&gt; &lt;msgs applied / sec&gt; &lt;txns applied / sec&gt; &lt;latency&gt;'PS + PR '&lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt;'APR'&lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt;'APC'&lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt; topevt&gt;'APS'（&lt;parallelism&gt;）&lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt; &lt;queue&gt; ='| &lt;Q&gt;'&lt;name&gt; &lt;msgs enqueued / sec&gt; &lt;msgs spilled / sec&gt; &lt;队列中的msgs&gt; &lt;psender&gt; ='| &lt;PS&gt;'&lt;name&gt; &lt;msgs sent / sec&gt; &lt;bytes sent / sec&gt; &lt;latency&gt; &lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt; &lt;preceiver &gt; ='| &lt;PR&gt;'&lt;name&gt; &lt;idl％&gt; &lt;flwctrl％&gt; &lt;topevt％&gt; &lt;topevt&gt; &lt;bottleneck&gt; ='| &lt;B&gt;'&lt;name&gt; &lt;sub_name&gt; &lt;sessionid&gt; &lt;seria l＃&gt; &lt;topevt％&gt; &lt;topevt&gt;输出</pre><pre class="oac_no_warn" dir="ltr">路径1 RUN_ID 2 RUN_TIME 2009-MAY-15 12:20:55 CCA Y | &lt;C&gt; CAP $ _XOUT_1 2733 2730 3392 LMR 8.3％91.7％0％“”LMP（1）8.3％91.7％0％“”LMB 8.3 ％91.7％0％“”CAP 8.3％91.7％0％“”| &lt;Q&gt;“XSTRMADMIN”。“Q $ _XOUT_2”2730 0.01 4109 | &lt;A&gt; XOUT 2329 2.73 0 -1 PS + PR 8.3％91.7％0 ％“”APR 8.3％91.7％0％“”APC 100％0％0％“”APS（1）8.3％83.3％8.3％“”| &lt;B&gt;“外部”。。。</pre><div class="infoboxnote" id="GUID-DD24937B-1E8D-41B8-9E83-D081C73588BC__GUID-2EC0C602-3BCF-4167-B61B-ECF339AB7BE4">
                              <p class="notep1">注意：</p>
                              <p>此输出仅用于说明目的。实际性能特征取决于各个配置和条件。</p>
                           </div>
                           <p>在此输出中， <code class="codeph">A</code>组件是出站服务器<code class="codeph">XOUT</code> 。当出站服务器是路径中的最后一个组件时的输出类似于应用进程是路径中最后一个组件时的输出。但是，应用服务器（APS）不是最后一个组件，因为出站服务器连接到客户端应用程序。不收集客户端应用程序的统计信息。
                           </p>
                           <p>在XStream Out配置中，输出可以指示网络的流量控制，因为应用服务器的“SQL * Net更多数据到客户端”性能度量标准就像流控制事件一样进行测量。如果输出指示应用服务器的流控制，则网络或客户端应用程序被视为瓶颈组件。在上一个输出中， <code class="codeph">EXTERNAL</code>表示网络或客户端应用程序是瓶颈。
                           </p>
                           <p>除了这些差异之外，您可以使用与以应用流程结束的路径相同的方式解释统计信息。使用图例和缩写确定输出中的统计信息。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-064F0CDB-5047-435A-A031-B158C992B59B" title="应用进程的输出与XStream出站服务器和入站服务器的输出之间存在差异。">解释SHOW_STATS输出</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="XSTRM72469"></a><div class="props_rev_3"><a id="GUID-8FBD7D2B-7395-4F17-9851-848A9E9201B8" name="GUID-8FBD7D2B-7395-4F17-9851-848A9E9201B8"></a><h6 id="XSTRM-GUID-8FBD7D2B-7395-4F17-9851-848A9E9201B8" class="sect6"><span class="enumeration_section">2.4.4.3.2</span>入站服务器是路径中的最后一个组件时的示例输出</h6>
                        <div>
                           <p>以下是入站服务器是路径中最后一个组件的示例输出。</p><pre class="oac_no_warn" dir="ltr">OUTPUT</pre><pre class="oac_no_warn" dir="ltr">PATH 1 RUN_ID 2 RUN_TIME 2009-MAY-16 10:11:38 CCA N | &lt;PR&gt;“clientcap”=&gt; 75％0％8.3％“CPU +等待CPU”| &lt;Q&gt;“XSTRMADMIN”。“QUEUE2” 467 0.01 1 | &lt;A&gt; XIN 476 4.71 0 APR 100％0％0％“”APC 100％0％0％“”APS（4）366.7％0％33.3％“CPU +等待CPU”| &lt;B&gt; “外部”。。。</pre><div class="infoboxnote" id="GUID-8FBD7D2B-7395-4F17-9851-848A9E9201B8__GUID-90E74CD1-0D49-4067-A373-F73C0CB233B4">
                              <p class="notep1">注意：</p>
                              <p>此输出仅用于说明目的。实际性能特征取决于各个配置和条件。</p>
                           </div>
                           <p>在此输出中， <code class="codeph">A</code>组件是入站服务器<code class="codeph">XIN</code> 。当入站服务器是路径中的最后一个组件时，XStream客户端应用程序将连接到入站服务器，入站服务器将应用LCR中的更改。客户端应用程序未显示在输出中。
                           </p>
                           <p>传播接收器从客户端应用程序接收LCR。因此，传播接收器是输出中显示的第一个组件。在前面的示例输出中，传播接收器名为<code class="codeph">clientcap</code> 。在这种情况下， <code class="codeph">clientcap</code>是客户端应用程序附加到入站服务器时提供的源名称。
                           </p>
                           <p>如果传播接收器空闲了很长一段时间，则网络或客户端应用程序被视为瓶颈组件。在上一个输出中， <code class="codeph">EXTERNAL</code>表示网络或客户端应用程序是瓶颈。
                           </p>
                           <p>除了这些差异之外，您可以使用与以应用流程结束的路径相同的方式解释统计信息。如果你和缩写确定输出中的统计数据。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-064F0CDB-5047-435A-A031-B158C992B59B" title="应用进程的输出与XStream出站服务器和入站服务器的输出之间存在差异。">解释SHOW_STATS输出</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="XSTRM73018"></a><div class="props_rev_3"><a id="GUID-7AA4B077-7867-4C8D-9349-D7C7FB79B21A" name="GUID-7AA4B077-7867-4C8D-9349-D7C7FB79B21A"></a><h5 id="XSTRM-GUID-7AA4B077-7867-4C8D-9349-D7C7FB79B21A" class="sect5"><span class="enumeration_section">2.4.4.4</span>在HTML报告中显示XStream统计信息</h5>
                     <div>
                        <p><code class="codeph">UTL_RPADV</code>包中的<code class="codeph">SHOW_STATS_HTML</code>过程创建一个HTML报告，其中包含Performance Advisor收集和存储的统计信息。
                        </p>
                        <div class="section">
                           <p>使用<code class="codeph">comp_stat_table</code>参数指定包含统计信息的表。
                           </p>
                           <p>使用<code class="codeph">COLLECT_STATS</code>过程收集统计信息时，此表在<code class="codeph">COLLECT_STATS</code>过程的<code class="codeph">comp_stat_table</code>参数中指定。默认情况下，表名为<code class="codeph">STREAMS$_ADVISOR_COMP_STAT</code> 。</p>
                           <p>使用<code class="codeph">START_MONITORING</code>过程收集统计信息时，可以通过查询<code class="codeph">STREAMS$_PA_MONITORING</code>视图中的<code class="codeph">SHOW_STATS_TABLE</code>列来确定此表的名称。监视作业的默认表是<code class="codeph">STREAMS$_ADVISOR_COMP_STAT</code> 。</p>
                           <p><code class="codeph">comp_stat_table</code>参数的默认值为<code class="codeph">STREAMS$_ADVISOR_COMP_STAT</code> 。确保在运行<code class="codeph">SHOW_STATS_HTML</code>过程时指定了正确的表。
                           </p>
                           <p><code class="codeph">SHOW_STATS_HTML</code>过程必须将HTML报告存储在目录中。使用<code class="codeph">directory</code>参数指定目录对象。
                           </p>
                           <p>要显示使用<code class="codeph">UTL_RPADV</code>包收集并存储在<code class="codeph">STREAMS$_ADVISOR_COMP_STAT</code>表中的统计信息，请完成以下步骤：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>通过完成<span class="q">“ <a href="general-xstream-concepts.html#GUID-C37AFF47-1541-4E67-97C6-AD4B0F7BF8EA" title="您可以使用UTL_RPADV包收集XStream统计信息。">使用UTL_RPADV包收集XStream统计信息</a> ”中</span>描述的步骤收集统计信息。</span></li>
                           <li class="stepexpand"><span>以收集统计信息的用户身份连接到数据库。</span></li>
                           <li class="stepexpand"><span>如果您正在使用监视作业，则查询<code class="codeph">STREAMS$_PA_MONITORING</code>视图中的<code class="codeph">SHOW_STATS_TABLE</code>列以确定存储统计信息的此表的名称：</span><div><pre class="oac_no_warn" dir="ltr">从STREAMS $ _PA_MONITORING中选择SHOW_STATS_TABLE;</pre></div>
                           </li>
                           <li class="stepexpand"><span>为将包含HTML报告中的文件的目录创建目录对象。</span><div>
                                 <p>例如，要为/ usr / xstream / reports目录创建名为<code class="codeph">XSTREAM_STATS_HTML</code>的目录对象，请运行以下SQL语句：</p><pre class="oac_no_warn" dir="ltr">CREATE DIRECTORY XSTREAM_STATS_HTML AS'/ usr / xstream / reports';</pre></div>
                           </li>
                           <li class="stepexpand"><span>运行<code class="codeph">SHOW_STATS_HTML</code>过程。</span><div>
                                 <p>例如，如果您正在使用监视作业和默认存储表，请运行以下过程：</p><pre class="oac_no_warn" dir="ltr">BEGIN UTL_RPADV.SHOW_STATS_HTML（directory =&gt;'XSTREAM_STATS_HTML'，reportname =&gt;'xstream_stats.html'，comp_stat_table =&gt;'STREAMS $ _ADVISOR_COMP_STAT'）;结束; /</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA" title="UTL_RPADV包自动收集与XStream性能相关的统计信息。">UTL_RPADV包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM73019"></a><a id="XSTRM72912"></a><div class="props_rev_3"><a id="GUID-CE7F022F-5BA0-41A1-AB71-C57F9C1DEFE9" name="GUID-CE7F022F-5BA0-41A1-AB71-C57F9C1DEFE9"></a><h5 id="XSTRM-GUID-CE7F022F-5BA0-41A1-AB71-C57F9C1DEFE9" class="sect5"><span class="enumeration_section">2.4.4.5</span>从SHOW_STATS_HTML解释HTML报告</h5>
                     <div>
                        <p><code class="codeph">UTL_RPADV</code>包中的<code class="codeph">SHOW_STATS_HTML</code>过程可以生成与<code class="codeph">SHOW_STATS</code>过程相同的输出，但它将输出格式化为HTML文件中的HTML。
                        </p>
                        <p><code class="codeph">SHOW_STATS_HTML</code>输出比<code class="codeph">SHOW_STATS</code>输出更容易阅读。例如，该过程生成多个文件，每个文件都以报告名称开头。该报告包括具有性能统计信息的表。不同路径的统计信息位于这些表中的不同行中，您可以单击路径以获取有关路径的更详细统计信息。<code class="codeph">report_name</code>参数指示主HTML文件，其中包含指向其他HTML文件的链接。
                        </p>
                        <p>以下是使用<code class="codeph">SHOW_STATS_HTML</code>过程的注意事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>存储统计信息的默认表是<code class="codeph">STREAMS$_ADVISOR_COMP_STAT</code> 。 <code class="codeph">SHOW_STATS</code>过程使用不同的默认表（ <code class="codeph">STREAMS$_ADVISOR_PATH_STAT</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>您必须在过程的<code class="codeph">directory</code>参数中指定目录对象。此目录存储由该过程生成的HTML文件。
                              </p>
                              <p>必须使用SQL语句<code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code>创建指定的目录对象，并且调用该过程的用户必须对该目录具有<code class="codeph">READ</code>和<code class="codeph">WRITE</code>特权。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CE7F022F-5BA0-41A1-AB71-C57F9C1DEFE9__GUID-3360BFF4-9708-46EA-9644-646F9EB85184">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="general-xstream-concepts.html#GUID-064F0CDB-5047-435A-A031-B158C992B59B" title="应用进程的输出与XStream出站服务器和入站服务器的输出之间存在差异。">解释SHOW_STATS输出</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-EB6B3592-6653-4CF0-BF20-145071AF6EAA" title="UTL_RPADV包自动收集与XStream性能相关的统计信息。">UTL_RPADV包</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="XSTRM72457"></a><div class="props_rev_3"><a id="GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" name="GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3"></a><h3 id="XSTRM-GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" class="sect3"><span class="enumeration_section">2.5</span> XStream和SQL生成</h3>
               <div>
                  <p>SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。</p>
                  <p>XStream出站服务器和XStream入站服务器可以使用SQL生成来生成在行LCR中执行插入，更新或删除操作所必需的SQL语句。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-C485CED2-90BF-4339-AD31-6BC68D86045C">执行SQL生成的接口</a><br>您可以使用不同的接口进行SQL生成。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-5E201707-4015-49AE-B0E7-F3E0EFFC0FEB">SQL生成格式</a><br>SQL语句可以使用以下两种格式之一生成：内联值或绑定变量。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6">SQL生成和数据类型</a><br>SQL生成支持大多数数据类型。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-3C5A7609-12D4-4A5E-9BC1-0A61AC074ADC">SQL生成和字符集</a><br>使用LCR方法时，生成的SQL位于数据库字符集中。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-04410A41-4173-4091-AFF9-8FC95FC4AB9C">示例生成的SQL语句</a><br>示例说明生成的SQL语句。
                     </li>
                     <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-1460240A-4AB8-47E9-BE40-83B0519A0365">SQL生成演示</a><br>可以使用执行SQL生成的演示。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-C8114BC8-1F04-48A2-964B-375C04767B86" title="常规XStream概念适用于XStream Out和XStream In。">常规XStream概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72458"></a><div class="props_rev_3"><a id="GUID-C485CED2-90BF-4339-AD31-6BC68D86045C" name="GUID-C485CED2-90BF-4339-AD31-6BC68D86045C"></a><h4 id="XSTRM-GUID-C485CED2-90BF-4339-AD31-6BC68D86045C" class="sect4"><span class="enumeration_section">2.5.1</span>执行SQL生成的接口</h4>
                  <div>
                     <p>您可以使用不同的接口进行SQL生成。</p>
                     <p>您可以使用以下接口来执行SQL生成：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL接口，它使用行LCR的<code class="codeph">GET_ROW_TEXT</code>和<code class="codeph">GET_WHERE_CLAUSE</code>成员过程</p>
                        </li>
                        <li>
                           <p>OSt for XStream</p>
                        </li>
                        <li>
                           <p>XStream的Java接口</p>
                        </li>
                     </ul>
                     <p>PL / SQL接口以<code class="codeph">CLOB</code>数据类型生成SQL，而OCI和Java接口以纯文本格式生成SQL。在Java接口中，文本的大小受<code class="codeph">String</code>数据类型的大小限制。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C485CED2-90BF-4339-AD31-6BC68D86045C__GUID-A0131945-040E-443C-8D56-4BD3B06D214B">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS368" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>有关<code class="codeph">GET_ROW_TEXT</code>和<code class="codeph">GET_WHERE_CLAUSE</code>行LCR成员过程的信息</p>
                           </li>
                           <li>
                              <p><a href="../lnoci/intro-to-oci-interface-for-XStream.html#LNOCI72903" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关XStream的Java接口的信息，请<a href="../stxjv/index.html" target="_blank"><span><cite>参见Oracle Database XStream Java API参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" title="SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。">XStream和SQL生成</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72459"></a><div class="props_rev_3"><a id="GUID-5E201707-4015-49AE-B0E7-F3E0EFFC0FEB" name="GUID-5E201707-4015-49AE-B0E7-F3E0EFFC0FEB"></a><h4 id="XSTRM-GUID-5E201707-4015-49AE-B0E7-F3E0EFFC0FEB" class="sect4"><span class="enumeration_section">2.5.2</span> SQL生成格式</h4>
                  <div>
                     <p>SQL语句可以使用以下两种格式之一生成：内联值或绑定变量。</p>
                     <p>当返回的SQL语句相对较小时，请使用内联值。对于较大的SQL语句，请使用绑定变量。在这种情况下，绑定变量将在单独的列表中传递给客户端应用程序，该列表包含指向旧列和新列值的指针。</p>
                     <p>有关在每个接口中使用绑定变量的信息，请参阅以下文档：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS368" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考中</cite></span></a>的<code class="codeph">GET_ROW_TEXT</code>和<code class="codeph">GET_WHERE_CLAUSE</code>行LCR成员过程的<a href="../arpls/Logical-Change-Record-TYPEs.html#ARPLS368" target="_blank"><span><cite>文档</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../lnoci/oci-XStream-functions.html#LNOCI72931" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../stxjv/index.html" target="_blank"><span><cite>Oracle Database XStream Java API Reference中的</cite></span></a> <code class="codeph">DefaultRowLCR.getBinds()</code>文档</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-5E201707-4015-49AE-B0E7-F3E0EFFC0FEB__GUID-E0D72207-D910-4D12-B4B6-EFEE4D0AAAB4">
                        <p class="notep1">注意：</p>
                        <p>对于具有内联值的生成SQL语句，可以进行SQL注入。SQL注入是一种恶意利用在SQL语句中使用客户端提供的数据的应用程序的技术，从而获得对数据库的未授权访问以查看或操纵受限数据。如果您计划执行生成的SQL语句，Oracle强烈建议使用绑定变量。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5E201707-4015-49AE-B0E7-F3E0EFFC0FEB__GUID-6120AFB0-19A2-4C87-98DC-A4CF7FDFEC00">
                        <p class="notep1">也可以看看：</p>
                        <p>有关SQL注入的详细信息，请<a href="../lnpls/dynamic-sql.html#LNPLS01109" target="_blank"><span><cite>参见Oracle Database PL / SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" title="SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。">XStream和SQL生成</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72460"></a><div class="props_rev_3"><a id="GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6" name="GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6"></a><h4 id="XSTRM-GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6" class="sect4"><span class="enumeration_section">2.5.3</span> SQL生成和数据类型</h4>
                  <div>
                     <p>SQL生成支持大多数数据类型。</p>
                     <p>SQL生成支持以下数据类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">VARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NVARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">数</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">浮动</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">日期</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_FLOAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_DOUBLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">长</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">生的</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCHAR</code></p>
                        </li>
                        <li>
                           <p>带有<code class="codeph">BASICFILE</code>存储的<code class="codeph">CLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCLOB</code>与<code class="codeph">BASICFILE</code>存储</p>
                        </li>
                        <li>
                           <p>带有<code class="codeph">BASICFILE</code>存储的<code class="codeph">BLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">XMLType</code>存储为<code class="codeph">CLOB</code> ，对象关系或二进制XML</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6__GUID-CBD7E70A-A3E9-488C-BD67-AF8B3AE961DF">
                        <p class="notep1">注意：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>所述的最大大小<code class="codeph">VARCHAR2</code> ， <code class="codeph">NVARCHAR2</code> ，和<code class="codeph">RAW</code>数据类型已在Oracle数据库<span class="italic">12c</span>中，当已增加<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.0.0</code>和<code class="codeph">MAX_STRING_SIZE</code>初始化参数设置为<code class="codeph">EXTENDED</code> 。</p>
                           </li>
                           <li>
                              <p>存储为<code class="codeph">CLOB</code> <code class="codeph">XMLType</code>在Oracle Database 12 <span class="italic">c</span>第1版（12.1）中已弃用。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-135AF3F4-B00A-4F1E-B168-9806096796C3">SQL生成和自动数据类型转换</a><br>XStream出站服务器或入站服务器在可能的情况下执行隐式数据类型转换，生成的SQL遵循ANSI标准。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-D55FBBEA-3FB7-4B2B-B4FF-B3EA31481588">SQL生成和LOB，LONG，LONG RAW和XMLType数据类型</a><br>对于LOB列上的<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>操作，出站服务器使用LOB程序集自动组装LOB块。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6__GUID-164EA7AE-1F2B-4C39-B465-5744DF5B37FF">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据类型的信息，请<a href="../sqlrf/Data-Types.html#SQLRF0021" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" title="SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。">XStream和SQL生成</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72758"></a><div class="props_rev_3"><a id="GUID-135AF3F4-B00A-4F1E-B168-9806096796C3" name="GUID-135AF3F4-B00A-4F1E-B168-9806096796C3"></a><h5 id="XSTRM-GUID-135AF3F4-B00A-4F1E-B168-9806096796C3" class="sect5"><span class="enumeration_section">2.5.3.1</span> SQL生成和自动数据类型转换</h5>
                     <div>
                        <p>XStream出站服务器或入站服务器在可能的情况下执行隐式数据类型转换，生成的SQL遵循ANSI标准。</p>
                        <p>以下是自动数据类型转换的注意事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">NULL</code>被指定为<code class="codeph">"NULL"</code> 。
                              </p>
                           </li>
                           <li>
                              <p>当单引号为内联值时，单引号将转换为以下数据类型的双引号： <code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NVARCHAR2</code> ， <code class="codeph">NCHAR</code> ， <code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">LONG</code>数据转换为<code class="codeph">CLOB</code>数据。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">LONG</code> <code class="codeph">RAW</code>数据被转换为<code class="codeph">BLOB</code>数据。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6" title="SQL生成支持大多数数据类型。">SQL生成和数据类型</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72759"></a><div class="props_rev_3"><a id="GUID-D55FBBEA-3FB7-4B2B-B4FF-B3EA31481588" name="GUID-D55FBBEA-3FB7-4B2B-B4FF-B3EA31481588"></a><h5 id="XSTRM-GUID-D55FBBEA-3FB7-4B2B-B4FF-B3EA31481588" class="sect5"><span class="enumeration_section">2.5.3.2</span> SQL生成和LOB，LONG，LONG RAW和XMLType数据类型</h5>
                     <div>
                        <p>对于LOB列上的<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>操作，出站服务器使用LOB程序集自动组装LOB块。
                        </p>
                        <p>对于这些操作，生成的SQL包含非<code class="codeph">NULL</code>空值。分块列的实际值到达后续的LCR。对于每个块，您必须在正确的列上执行正确的SQL操作。
                        </p>
                        <p>类似地，对于<code class="codeph">LONG</code> ， <code class="codeph">LONG</code> <code class="codeph">RAW</code>和<code class="codeph">XMLType</code>数据类型，出站服务器生成非<code class="codeph">NULL</code>空值，并且列的实际值在后续LCR中以块的形式到达。对于每个块，您必须在正确的列上执行正确的SQL操作。
                        </p>
                        <p>在生成的SQL的内联版本中，对于LOB， <code class="codeph">LONG</code> ， <code class="codeph">LONG</code> <code class="codeph">RAW</code>和<code class="codeph">XMLType</code>数据类型列，将为插入和更新生成以下SQL：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于<code class="codeph">CLOB</code> ， <code class="codeph">NCLOB</code>和<code class="codeph">LONG</code>数据类型列：</p><pre class="oac_no_warn" dir="ltr">EMPTY_CLOB（）</pre></li>
                           <li>
                              <p>对于<code class="codeph">BLOB</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据类型列：</p><pre class="oac_no_warn" dir="ltr">EMPTY_BLOB（）</pre></li>
                           <li>
                              <p>对于<code class="codeph">XMLType</code>列：</p><pre class="oac_no_warn" dir="ltr">XMLTYPE.CREATEXML（' <span class="italic">xml /</span> '）</pre><p>其中<span class="italic"><code class="codeph">xml</code></span> <span class="italic"><code class="codeph">/</code></span>是XML块。
                              </p>
                           </li>
                        </ul>
                        <p>在包含DML语句的LCR到达之后，这些更改的数据以单独的块的形式到达。您可以生成的<code class="codeph">WHERE</code>子句这样的变化，并使用产生的<code class="codeph">WHERE</code>子句，以确定包含在数据块修改的行。例如，在PL / SQL中，您可以使用<code class="codeph">GET_WHERE_CLAUSE</code>行LCR成员过程为行更改生成<code class="codeph">WHERE</code>子句。
                        </p>
                        <p>对于<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>操作，生成的<code class="codeph">WHERE</code>子句标识插入或更新后的行。例如，请考虑对<code class="codeph">hr.departments</code>表进行以下更新：</p><pre class="oac_no_warn" dir="ltr">UPDATE hr.departments SET department_name ='Management'WHERERE department_name ='Administration';</pre><p>为此更改生成的<code class="codeph">WHERE</code>子句如下：</p><pre class="oac_no_warn" dir="ltr">在哪里“DEPARTMENT_NAME”='管理'</pre><p>对于由<code class="codeph">DBMS_LOB</code>包中的子程序执行的分段LOB操作（包括<code class="codeph">WRITE</code> ， <code class="codeph">TRIM</code>和<code class="codeph">ERASE</code>过程），生成的SQL包括<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句。
                        </p>
                        <p>例如，一个<code class="codeph">LOB_WRITE</code>上的操作<code class="codeph">clob_col</code>以类似于以下生成的SQL的结果：</p><pre class="oac_no_warn" dir="ltr">选择“CLOB_COL”FROM“HR”。“LOB_TAB”WHERE“N1”= 2 FOR UPDATE</pre><p>必须定义选定的<code class="codeph">clob_col</code> 。您可以使用LOB定位器使用行LCR之后的LOB块执行分段LOB操作。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D55FBBEA-3FB7-4B2B-B4FF-B3EA31481588__GUID-645B10ED-2C24-4B8B-B026-B91D99232326">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="general-xstream-concepts.html#GUID-04410A41-4173-4091-AFF9-8FC95FC4AB9C" title="示例说明生成的SQL语句。">示例生成的SQL语句</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-F4D7BC0F-9546-4818-921D-C7EEFD8883C6" title="SQL生成支持大多数数据类型。">SQL生成和数据类型</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="XSTRM72760"></a><div class="props_rev_3"><a id="GUID-3C5A7609-12D4-4A5E-9BC1-0A61AC074ADC" name="GUID-3C5A7609-12D4-4A5E-9BC1-0A61AC074ADC"></a><h4 id="XSTRM-GUID-3C5A7609-12D4-4A5E-9BC1-0A61AC074ADC" class="sect4"><span class="enumeration_section">2.5.4</span> SQL生成和字符集</h4>
                  <div>
                     <p>使用LCR方法时，生成的SQL位于数据库字符集中。</p>
                     <p>SQL关键字（如<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">INTO</code> ）不会随字符集而更改。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3C5A7609-12D4-4A5E-9BC1-0A61AC074ADC__GUID-1E04F3C9-D983-4782-834D-C28692AB5612">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../nlspg/programming-with-unicode.html#NLSPG364" target="_blank"><span><cite>“Oracle数据库全球化支持指南”</cite></span></a> ，了解有关JDBC中数据转换的信息</p>
                           </li>
                           <li>
                              <p>有关SQL关键字的信息，请<a href="../sqlrf/Database-Object-Names-and-Qualifiers.html#SQLRF51129" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" title="SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。">XStream和SQL生成</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72761"></a><div class="props_rev_3"><a id="GUID-04410A41-4173-4091-AFF9-8FC95FC4AB9C" name="GUID-04410A41-4173-4091-AFF9-8FC95FC4AB9C"></a><h4 id="XSTRM-GUID-04410A41-4173-4091-AFF9-8FC95FC4AB9C" class="sect4"><span class="enumeration_section">2.5.5</span>生成的SQL语句示例</h4>
                  <p>示例说明生成的SQL语句。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A">hr.employees表的生成SQL语句示例</a><br>示例说明了出站服务器为<code class="codeph">hr.employees</code>表所做的更改生成的SQL语句。
                        </li>
                        <li class="ulchildlink"><a href="general-xstream-concepts.html#GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0">使用LOB列的表生成的SQL语句示例</a><br>示例说明了出站服务器为具有LOB列的表所做的更改生成的SQL语句。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" title="SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。">XStream和SQL生成</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72763"></a><a id="XSTRM72764"></a><a id="XSTRM72765"></a><a id="XSTRM72762"></a><div class="props_rev_3"><a id="GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A" name="GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A"></a><h5 id="XSTRM-GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A" class="sect5"><span class="enumeration_section">2.5.5.1</span> hr.employees表的示例生成的SQL语句</h5>
                     <div>
                        <p>示例说明了出站服务器为<code class="codeph">hr.employees</code>表所做的更改生成的SQL语句。
                        </p>
                        <div class="infoboxnote" id="GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A__GUID-AC3AFDFF-B8D3-4731-B235-C4DCFA575660">
                           <p class="notep1">注意：</p>
                           <p>生成的SQL在一行中，未格式化。</p>
                        </div>
                        <div class="example" id="GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A__BABEHGEI">
                           <p class="titleinexample">示例2-1生成的插入</p>
                           <p>假设执行以下插入：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO hr.employees（employee_id，last_name，email，hire_date，job_id，salary，commission_pct）VALUES（207，'Gregory'，'pgregory @ example.com'，SYSDATE，'PU_CLERK'，9000，NULL）;</pre><p>以下是使用内联值生成的SQL：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO“HR”。“EMPLOYEES”（“EMPLOYEE_ID”，“FIRST_NAME”，“LAST_NAME”，“EMAIL”，“PHONE_NUMBER”，“HIRE_DATE”，“JOB_ID”，“SALARY”，“COMMISSION_PCT”，“MANAGER_ID”， “DEPARTMENT_ID”）VALUES（207，NULL，'Gregory'，'pgregory @ example.com'，NULL，TO_DATE（'2009-04-15'，'syyyy-mm-dd'），'PU_CLERK'，9000，NULL ，NULL，NULL）</pre><p>以下是使用绑定变量生成的SQL：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO“HR”。“EMPLOYEES”（“EMPLOYEE_ID”，“FIRST_NAME”，“LAST_NAME”，“EMAIL”，“PHONE_NUMBER”，“HIRE_DATE”，“JOB_ID”，“SALARY”，“COMMISSION_PCT”，“MANAGER_ID”， “DEPARTMENT_ID”）VALUES（：1，：2，：3，：4，：5，：6，：7，：8，：9，：10，：11）</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A__BABFBDAG">
                           <p class="titleinexample">示例2-2生成的更新</p>
                           <p>假设执行以下更新：</p><pre class="oac_no_warn" dir="ltr">UPDATE hr.employees SET salary = 10000 WHERE employee_id = 207;</pre><p>以下是使用内联值生成的SQL：</p><pre class="oac_no_warn" dir="ltr">更新“HR”。“员工”设置“SALARY”= 10000 WHERE“EMPLOYEE_ID”= 207和“SALARY”= 9000</pre><p>以下是使用绑定变量生成的SQL：</p><pre class="oac_no_warn" dir="ltr">更新“HR”。“员工”设置“SALARY”=：1在哪里“EMPLOYEE_ID”=：2和“SALARY”=：3</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-0AA668E1-0CFA-42E1-92B9-382983B3F91A__BABEABCG">
                           <p class="titleinexample">示例2-3生成的删除</p>
                           <p>假设执行以下删除：</p><pre class="oac_no_warn" dir="ltr">DELETE FROM hr.employees WHERE employee_id = 207;</pre><p>以下是使用内联值生成的SQL：</p><pre class="oac_no_warn" dir="ltr">DELETE FROM“HR”。“EMPLOYEES”WHERE“EMPLOYEE_ID”= 207 AND“FIRST_NAME”为空，“LAST_NAME”='Gregory'和“EMAIL”='pgregory@example.com'和“PHONE_NUMBER”为空且“HIRE_DATE” “= TO_DATE（'2009-04-15'，'syyyy-mm-dd'）和”JOB_ID“='PU_CLERK'和”SALARY“= 10000和”COMMISSION_PCT“为空且”MANAGER_ID“为空且”DEPARTMENT_ID“一片空白</pre><p>以下是使用绑定变量生成的SQL：</p><pre class="oac_no_warn" dir="ltr">DELETE FROM“HR”。“EMPLOYEES”WHERE“EMPLOYEE_ID”=：1 AND“FIRST_NAME”=：2 AND“LAST_NAME”=：3 AND“EMAIL”=：4 AND“PHONE_NUMBER”=：5 AND“HIRE_DATE”=： 6 AND“JOB_ID”=：7 AND“SALARY”=：8 AND“COMMISSION_PCT”=：9 AND“MANAGER_ID”=：10 AND“DEPARTMENT_ID”=：11</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-04410A41-4173-4091-AFF9-8FC95FC4AB9C" title="示例说明生成的SQL语句。">生成的SQL语句示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72767"></a><a id="XSTRM72768"></a><a id="XSTRM72769"></a><a id="XSTRM72766"></a><div class="props_rev_3"><a id="GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0" name="GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0"></a><h5 id="XSTRM-GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0" class="sect5"><span class="enumeration_section">2.5.5.2</span>具有LOB列的表的示例生成的SQL语句</h5>
                     <div>
                        <p>示例说明了出站服务器为具有LOB列的表所做的更改生成的SQL语句。</p>
                        <p>示例说明了出站服务器为对下表所做的更改生成的SQL语句：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.lob_tab（n1号主键，clob_col CLOB，nclob_col NCLOB，blob_col BLOB）;</pre><div class="infoboxnote" id="GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0__GUID-1BD3D0EB-D9E9-4CC5-88D9-D67AAE5FBBDF">
                           <p class="notep1">注意：</p>
                           <p>生成的SQL在一行中，未格式化。</p>
                        </div>
                        <p><code class="codeph">GET_WHERE_CLAUSE</code>成员过程为此插入生成以下<code class="codeph">WHERE</code>子句：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>排队：</p><pre class="oac_no_warn" dir="ltr">在哪里“N1”= 2</pre></li>
                           <li>
                              <p>绑定变量：</p><pre class="oac_no_warn" dir="ltr">在哪里“N1”=：1</pre></li>
                        </ul>
                        <p>您可以使用<code class="codeph">WHERE</code>子句来标识在后续块到达LOB列更改时插入的行。
                        </p>
                        <div class="example" id="GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0__BABDIAAH">
                           <p class="titleinexample">示例2-4为具有LOB列的表生成的插入</p>
                           <p>假设执行以下插入：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO hr.lob_tab VALUES（2，'test insert'，NULL，NULL）;</pre><p>以下是使用内联值生成的SQL：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO“HR”。“LOB_TAB”（“N1”，“BLOB_COL”，“CLOB_COL”，“NCLOB_COL”）VALUES（2 ,, EMPTY_CLOB（），）</pre><p>以下是使用绑定变量生成的SQL：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO“HR”。“LOB_TAB”（“N1”，“BLOB_COL”，“CLOB_COL”，“NCLOB_COL”）VALUES（：1，：2，：3，：4）</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0__BABGCDJH">
                           <p class="titleinexample">示例2-5带有LOB列的表的生成更新</p>
                           <p>假设执行以下更新：</p><pre class="oac_no_warn" dir="ltr">更新hr.lob_tab设置clob_col ='测试更新'WHERE n1 = 2;</pre><p>以下是使用内联值生成的SQL：</p><pre class="oac_no_warn" dir="ltr">更新“HR”。“LOB_TAB”SET“CLOB_COL”= EMPTY_CLOB（）WHERE“N1”= 2</pre><p>以下是使用绑定变量生成的SQL：</p><pre class="oac_no_warn" dir="ltr">更新“HR”。“LOB_TAB”SET“CLOB_COL”=：1 WHERE“N1”=：2</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-E8C7A6B0-C02B-4FE5-9B11-B8379D6EF7A0__BABDIJDD">
                           <p class="titleinexample">示例2-6带有LOB列的表的生成删除</p>
                           <p>假设执行以下删除：</p><pre class="oac_no_warn" dir="ltr">DELETE FROM hr.lob_tab WHERE n1 = 2;</pre><p>以下是使用内联值生成的SQL：</p><pre class="oac_no_warn" dir="ltr">从“HR”删除。“LOB_TAB”WHERE“N1”= 2</pre><p>以下是使用绑定变量生成的SQL：</p><pre class="oac_no_warn" dir="ltr">从“HR”删除。“LOB_TAB”WHERE“N1”=：1</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-04410A41-4173-4091-AFF9-8FC95FC4AB9C" title="示例说明生成的SQL语句。">生成的SQL语句示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="XSTRM72461"></a><div class="props_rev_3"><a id="GUID-1460240A-4AB8-47E9-BE40-83B0519A0365" name="GUID-1460240A-4AB8-47E9-BE40-83B0519A0365"></a><h4 id="XSTRM-GUID-1460240A-4AB8-47E9-BE40-83B0519A0365" class="sect4"><span class="enumeration_section">2.5.6</span> SQL生成演示</h4>
                  <div>
                     <p>可以使用执行SQL生成的演示。</p>
                     <p>该演示使用<code class="codeph">DBMS_XSTREAM_ADM</code> PL / SQL包来配置XStream Out环境，它使用OCI客户端应用程序来执行SQL生成。
                     </p>
                     <p>该演示使用SQL生成将DML更改从源数据库复制到目标数据库。具体来说，演示在源数据库和目标数据库中创建<code class="codeph">xsdemosg</code>架构。它在每个数据库的<code class="codeph">xsdemosg</code>模式中创建各种类型的表，包括具有LOB列的表。它在源数据库中的<code class="codeph">xsdemosg</code>模式中的表上执行一组DML语句。Oracle Replication组件（如捕获进程和队列）以LCR的形式将更改发送到也在源数据库上运行的XStream出站服务器。出站服务器使LCR可用于演示客户端应用程序。
                     </p>
                     <p>演示客户端应用程序在运行时使用OCI API连接到出站服务器并接收LCR。演示客户端应用程序使用SQL生成来执行封装在LCR中的更改。因此，客户端应用程序复制做出的更改<code class="codeph">xsdemosg</code>源数据库架构的<code class="codeph">xsdemosg</code>在目标数据库中。
                     </p>
                     <p>您可以修改演示以将更改复制到任何架构。架构和复制表都必须同时存在于源数据库和目标数据库中。SQL生成仅适用于DML更改。因此，此演示不能用于复制DDL更改。</p>
                     <p>此演示位于以下位置：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / RDBMS /演示/ XStream的/ sqlgen</pre><div class="infoboxnote" id="GUID-1460240A-4AB8-47E9-BE40-83B0519A0365__GUID-506DA9D0-F1D5-4153-8CE6-5306A51C8B32">
                        <p class="notep1">注意：</p>
                        <p>SQL生成演示不适用于XStream Java API。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-xstream-concepts.html#GUID-676A6CE2-F40C-4F9F-849B-3FD904B701F3" title="SQL生成是生成执行行LCR中封装的更改所需的SQL语句的能力。">XStream和SQL生成</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>