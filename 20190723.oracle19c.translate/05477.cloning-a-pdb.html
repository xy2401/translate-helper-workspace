<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB."></meta>
      <meta name="description" content="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB."></meta>
      <title>克隆PDB或非CDB</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator’s Guide "></meta>
      <meta property="og:description" content="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96136-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="creating-a-pdb-from-scratch.html" title="Previous" type="text/html"></link>
      <link rel="next" href="relocating-a-pdb.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="MULTI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-a-pdb-from-scratch.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="relocating-a-pdb.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="creating-pdbs.html" property="item" typeof="WebPage"><span property="name">创建和删除PDB和应用程序容器</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">克隆PDB或非CDB</li>
            </ol>
            <a id="GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" name="GUID-05702CEB-A43C-452C-8081-4CA68DDA8007"></a>
            
            <h2 id="MULTI-GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" class="sect2"><span class="enumeration_chapter">7</span>克隆PDB或非CDB</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B">关于克隆PDB或非CDB</a><br>克隆意味着从源PDB或非CDB创建新的PDB。</li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5">克隆本地PDB</a><br>您可以通过运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句并在<code class="codeph">FROM</code>语句中指定本地PDB来克隆本地PDB。
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079">克隆远程PDB</a><br>您可以通过运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句并在<code class="codeph">FROM</code>语句中指定指向远程PDB的数据库链接来克隆本地PDB。
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B5D803D4-939B-4D0A-B684-5A1089EA4618">克隆非CDB</a><br>克隆非CDB的过程与克隆远程PDB的过程非常相似。</li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A">关于可刷新克隆PDB</a><br><code class="codeph">CREATE PLUGGABLE DATABASE ...REFRESH MODE</code>语句克隆源PDB并将克隆配置为可刷新。刷新克隆PDB使用自上次重做日志应用以来累积的重做更新它。
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-22118625-3157-4C38-8A88-79A561A3E6ED">从PDB快照克隆PDB</a><br>您可以通过执行<code class="codeph">CREATE PLUGGABLE DATABASE … USING SNAPSHOT</code>语句从PDB快照创建PDB。
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-133B6D33-3B52-433B-9C85-C4BEE4F7284E">创建Snapshot Copy PDB</a><br>您可以从底层存储的快照克隆PDB。
                  </li>
                  <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999">创建分割镜像克隆PDB</a><br>在Oracle ASM中，分割镜像是从父副本分离时间点媒体副本的过程。拆分后，对父项的更新不会影响子副本。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="您可以使用各种技术创建PDB，应用程序容器和应用程序种子。">创建和删除PDB和应用程序容器</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN13754"></a><a id="ADMIN13755"></a><a id="ADMIN14321"></a><a id="ADMIN13585"></a><a id="ADMIN14166"></a><a id="ADMIN13584"></a><div class="props_rev_3"><a id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" name="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B"></a><h3 id="MULTI-GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" class="sect3"><span class="enumeration_section">7.1</span>关于克隆PDB或非CDB</h3>
               <div>
                  <p>克隆意味着从源PDB或非CDB创建新的PDB。</p>
                  <p>典型的用例是开发测试。您可以创建PDB或非CDB的一个或多个克隆，并单独安全地测试它们。例如，在将应用程序与生产PDB一起使用之前，您可以在克隆的PDB上测试新的或已修改的应用程序。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12">克隆如何工作</a><br>该技术从源PDB或非CDB创建新的PDB。该过程自动将新PDB插入CDB。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B00A0E48-C892-4DC8-8455-C6F2ABC8EF91">用于PDB克隆的用户界面</a><br>所有形式的PDB克隆都使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-94D52D7E-4986-4B72-9118-90C645C164F3">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../asoag/managing-keystores-encryption-keys-in-united-mode.html#ASOAG-GUID-67812205-D0C9-4F5F-BA64-DAE282F3B516" target="_blank"><span><cite>“Oracle数据库高级安全性指南”</cite></span></a> ，了解如何使用加密数据或密钥库集克隆源</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12" name="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12"></a><h4 id="MULTI-GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12" class="sect4"><span class="enumeration_section">7.1.1</span>克隆如何工作</h4>
                  <div>
                     <p>该技术从源PDB或非CDB创建新的PDB。该过程自动将新PDB插入CDB。</p>
                     <p>要使用此技术，必须在<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句中指定源。来源可以是以下任何一种：</p>
                     <ul id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12__UL_CMX_VJM_YFB" style="list-style-type:disc">
                        <li>
                           <p>本地PDB</p>
                        </li>
                        <li>
                           <p>PDB在远程CDB中</p>
                        </li>
                        <li>
                           <p>非CDB</p>
                        </li>
                     </ul>
                     <p>目标PDB是源PDB或非CDB的副本。该副本称为<span>克隆PDB</span> 。</p>
                     <p><code class="codeph">CREATE PLUGGABLE DATABASE</code>语句将与源关联的文件复制到新位置，并将文件与目标PDB关联。当CDB处于<code class="codeph">ARCHIVELOG</code>模式和本地撤消模式时，源PDB可以在读/写模式下打开并在克隆过程中运行。这种技术称为<strong class="term">热克隆</strong> 。
                     </p>
                     <div class="infoboxnote" id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12__GUID-B68D5A88-B47A-4784-A98F-29616971BC91">
                        <p class="notep1">注意：</p>如果克隆PDB，并且源数据库具有加密数据或密钥库集，则必须通过在<code class="codeph">CREATE PLUGGABLE DATABASE ...包含由<code class="codeph"><span class="codeinlineitalic">keystore_password</span></code>子句标识的<code class="codeph"><span class="codeinlineitalic">keystore_password</span></code>来提供密钥库密码<code class="codeph">CREATE PLUGGABLE DATABASE ...FROM</code> SQL语句。即使源数据库使用自动登录软件密钥库，您也必须提供此密码。您可以通过查询<code class="codeph">DBA_ENCRYPTED_COLUMNS</code>数据字典视图来确定源数据库是否具有加密数据或密钥库。
                     </div>
                     <p>在所有克隆方案中，当您在应用程序根目录中运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句时，将在应用程序容器中创建克隆PDB。源PDB的应用程序名称和版本必须与应用程序名称和应用程序容器的版本匹配。
                     </p>
                     <p>下图说明了此技术如何通过克隆本地源应用程序PDB在应用程序容器中创建新的应用程序PDB。源PDB还可以是插入本地CDB根的PDB，插入远程CDB根的PDB，或插入远程应用程序根的应用程序PDB。</p>
                     <div class="figure" id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12__CLONEAPDBINANAPPLICATIONCONTAINER-7BC6E389">
                        <p class="titleinfigure">图7-1在应用程序容器中克隆PDB</p><img src="img/admin115.png" alt="下面是图7-1的描述" title="下面是图7-1的描述" longdesc="img_text/admin115.html"><br><a href="img_text/admin115.html">“图7-1在应用程序容器中克隆PDB”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-98B69CC0-3242-4F0B-A100-683BD2D91C12__GUID-0D128A0B-3EF1-4B66-A522-1DCAAA9B2408">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="overview-of-pdb-creation.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="但是，如果选择创建PDB，则必须确定将存储数据的表空间和文件。">PDB存储</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="克隆意味着从源PDB或非CDB创建新的PDB。">关于克隆PDB或非CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-B00A0E48-C892-4DC8-8455-C6F2ABC8EF91" name="GUID-B00A0E48-C892-4DC8-8455-C6F2ABC8EF91"></a><h4 id="MULTI-GUID-B00A0E48-C892-4DC8-8455-C6F2ABC8EF91" class="sect4"><span class="enumeration_section">7.1.2</span> PDB克隆的用户界面</h4>
                  <div>
                     <p>所有形式的PDB克隆都使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句。
                     </p>
                     <div class="section">
                        <p>克隆需要在<code class="codeph">FROM</code>子句中指定源PDB或非CDB。下表总结了最重要的条款。
                        </p>
                        <div class="tblformal" id="GUID-B00A0E48-C892-4DC8-8455-C6F2ABC8EF91__TABLE_JG2_RPM_YFB">
                           <p class="titleintable">表7-1 PDB克隆的CREATE PLUGGABLE DATABASE选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="为PDB克隆创建可插入数据库选项" border="1" summary="This table shows the effect of different clauses." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d38373e575">条款</th>
                                    <th align="left" valign="bottom" id="d38373e578">克隆操作</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e583" headers="d38373e575 ">
                                       <p><code class="codeph">使用快照</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e583 d38373e578 ">
                                       <p>从数据库管理的PDB快照创建PDB。此类快照与存储托管快照不同。指定PDB快照名称，SCN或时间戳。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e591" headers="d38373e575 ">
                                       <p><code class="codeph">刷新模式</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e591 d38373e578 ">
                                       <p>创建可刷新的克隆PDB。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e599" headers="d38373e575 ">
                                       <p><code class="codeph">快照复制</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e599 d38373e578 ">
                                       <p>基于存储级快照创建稀疏PDB。仅在特定文件系统上支持Snapshot副本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e607" headers="d38373e575 ">
                                       <p><code class="codeph">使用镜像复制</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e607 d38373e578 ">
                                       <p>通过拆分ASM存储镜像创建新的PDB。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B00A0E48-C892-4DC8-8455-C6F2ABC8EF91__GUID-1EF2D6B3-A008-450B-AC3B-BD7F9EED0352">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>以了解有关<code class="codeph">CREATE PLUGGABLE DATABASE</code>子句的更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="克隆意味着从源PDB或非CDB创建新的PDB。">关于克隆PDB或非CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5" name="GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5"></a><h3 id="MULTI-GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5" class="sect3"><span class="enumeration_section">7.2</span>克隆本地PDB</h3>
               <div>
                  <p>您可以通过运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句并在<code class="codeph">FROM</code>语句中指定本地PDB来克隆本地PDB。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2">关于克隆本地PDB</a><br>最简单的克隆形式将PDB从CDB复制到同一CDB中。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B39552A6-9206-40FE-B168-962215C7E743">克隆本地PDB：基本步骤</a><br>您可以通过执行<code class="codeph">CREATE PLUGGABLE DATABASE</code>来克隆本地PDB，并在<code class="codeph">FROM</code>子句中指定源PDB。
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-90BD14B9-DAA2-4EA0-B086-DFA29FF1E06A">克隆本地PDB后</a><br>克隆本地PDB后，适用有关用户和表空间的某些规则。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA">克隆本地PDB：示例</a><br>下面的示例克隆名为本地源PDB <code class="codeph">pdb1</code>到目标PDB名为<code class="codeph">pdb2</code>给出不同的因素。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2" name="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2"></a><h4 id="MULTI-GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2" class="sect4"><span class="enumeration_section">7.2.1</span>关于克隆本地PDB</h4>
                  <div>
                     <p>最简单的克隆形式将PDB从CDB复制到同一CDB中。</p>
                     <div class="infoboxnote" id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2__GUID-B5F57724-4C3A-41F4-8E2C-176FA16E09D0">
                        <p class="notep1">注意：</p>
                        <p>您不能在<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句中使用<code class="codeph">FROM</code>子句从PDB种子（ <code class="codeph">PDB$SEED</code> ）或应用程序种子创建PDB。
                        </p>
                     </div>
                     <p>下图说明了如何克隆本地PDB。</p>
                     <div class="figure" id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2__CEGGCIDD">
                        <p class="titleinfigure">图7-2克隆本地PDB</p><img src="img/admin0911.png" width="484" alt="下面是图7-2的描述" title="下面是图7-2的描述" longdesc="img_text/admin0911.html"><br><a href="img_text/admin0911.html">“图7-2克隆本地PDB”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在克隆PDB之前，请在<span class="q">“ <a href="overview-of-pdb-creation.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="此表描述了每个子句以及何时使用每个子句。">表5-3</a> ”中</span>解决适用于克隆PDB的问题。该表描述了基于不同因素指定的<code class="codeph">CREATE PLUGGABLE DATABASE</code>子句。
                     </p>
                     <p>从<span>Oracle Database 18c开始</span> ，您可以使用DBCA克隆本地PDB。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8CE737C0-F6DC-4632-8B59-28B79ED2AAE2__GUID-E953B3C0-7E64-4873-BBB4-C9F13CA7F51D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" title="您可以在CDB中确定当前的容器ID或容器名称。">确定当前容器ID或名称</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="creating-a-pdb-from-scratch.html#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" title="使用CREATE PLUGGABLE DATABASE语句使用PDB种子（PDB $ SEED）的文件在CDB中创建PDB。">从头开始创建PDB</a> ”</span>以了解如何从种子创建PDB</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="cloning-a-pdb.html#GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26" title="此示例使用DBCA的静默模式克隆PDB。支持热克隆。">使用DBCA克隆本地PDB：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-88E61123-F651-47D7-9977-B589268EBD29" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并将应用程序root作为当前容器来创建应用程序PDB。">创建应用程序PDB</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定本地PDB来克隆本地PDB。">克隆本地PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13589"></a><a id="ADMIN13590"></a><a id="ADMIN13591"></a><a id="ADMIN13592"></a><a id="ADMIN14331"></a><a id="ADMIN13586"></a><div class="props_rev_3"><a id="GUID-B39552A6-9206-40FE-B168-962215C7E743" name="GUID-B39552A6-9206-40FE-B168-962215C7E743"></a><h4 id="MULTI-GUID-B39552A6-9206-40FE-B168-962215C7E743" class="sect4"><span class="enumeration_section">7.2.2</span>克隆本地PDB：基本步骤</h4>
                  <div>
                     <p>您可以通过执行<code class="codeph">CREATE PLUGGABLE DATABASE</code>来克隆本地PDB，并在<code class="codeph">FROM</code>子句中指定源PDB。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-68A0A6C5-C9E3-4B16-920D-49734FD089D3">先决条件</p>
                        <p>您必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>完成<span class="q">“ <a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Before creating a PDB, you must meet certain prerequisites.">PDB创建的一般先决</a></span>条件”中描述的先决<span class="q"><a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="在创建PDB之前，您必须满足某些先决条件。">条件</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>当前用户必须在根PDB和源PDB中具有<code class="codeph">CREATE PLUGGABLE DATABASE</code>系统特权。</p>
                           </li>
                           <li>
                              <p>源PDB无法关闭。</p>
                           </li>
                           <li>
                              <p>如果CDB未处于本地撤消模式，则源PDB必须处于打开的只读模式。如果CDB处于本地撤消模式，则此要求不适用。</p>
                           </li>
                           <li>
                              <p>如果CDB未处于<code class="codeph">ARCHIVELOG</code>模式，则源PDB必须处于打开的只读模式。如果CDB处于<code class="codeph">ARCHIVELOG</code>模式，则此要求不适用。
                              </p>
                           </li>
                           <li>
                              <p>如果要创建应用程序PDB，则应用程序PDB必须具有与应用程序容器相同的字符集和国家字符集。</p>
                              <p>如果CDB的数据库字符集是AL32UTF8，则应用程序容器的字符集和国家字符集可以与CDB不同。但是，应用程序容器中的所有应用程序PDB必须具有相同的字符集和国家字符集，与应用程序容器的字符集匹配。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-22F7E672-064D-429E-A53A-1172DE92BB5D">
                           <p class="notep1">注意：</p>您可以使用<code class="codeph">REFRESH MODE</code>子句创建本地PDB的可刷新克隆，但前提是数据库链接循环回同一CDB。</div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-390ECA39-E899-4B5A-AC13-C86562BCF147">要克隆本地PDB：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是CDB根目录或应用程序根目录。</p>
                              <p>当前容器是CDB根时，PDB在CDB中创建。当前容器是应用程序根目录时，将在应用程序容器中创建应用程序PDB。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句，并在<code class="codeph">FROM</code>子句中指定源PDB。必要时指定其他子句。
                              </p>
                              <p>克隆本地PDB后，源PDB和目标PDB位于同一CDB中。新PDB处于挂载模式，其状态为<code class="codeph">NEW</code> 。您可以通过查询<code class="codeph">V$PDBS</code>视图中的<code class="codeph">OPEN_MODE</code>列来查看PDB的打开模式。您可以通过查询<code class="codeph">CDB_PDBS</code>或<code class="codeph">DBA_PDBS</code>视图的<code class="codeph">STATUS</code>列来查看PDB的<code class="codeph">STATUS</code> 。
                              </p>
                              <p>为PDB创建新的默认服务。该服务与PDB具有相同的名称，可用于访问PDB。必须正确配置Oracle Net Services才能使客户端访问此服务。</p>
                           </li>
                           <li>
                              <p>以读/写模式打开新PDB。</p>
                              <p>您必须在Oracle数据库的读/写模式下打开新的PDB，才能完成新PDB与CDB的集成。如果尝试以只读模式打开PDB，则会返回错误。在读/写模式下打开PDB后，其状态为<code class="codeph">NORMAL</code> 。</p>
                           </li>
                           <li>
                              <p>备份新的PDB。</p>
                              <p>除非备份PDB，否则无法恢复PDB。</p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-66D9D9B6-EA6A-406B-9FA0-84C33639E792">
                           <p class="notep1">注意：</p>
                           <p>如果在创建PDB期间返回错误，则正在创建的PDB可能处于<code class="codeph">UNUSABLE</code>状态。您可以通过查询<code class="codeph">CDB_PDBS</code>或<code class="codeph">DBA_PDBS</code>视图来检查PDB状态。您可以通过检查警报日志来了解有关PDB创建错误的更多信息。只能丢弃不可用的PDB，必须先将其删除，然后才能创建与不可用的PDB同名的PDB。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-F65F1CCF-A7CA-4159-B2B8-BA4F8D209AA6">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前容器</a> ”</span>和<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="您可以将CDB配置为在每个容器中使用本地撤消，或者对整个CDB使用共享撤消。">关于CDB撤消模式</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的开放模式</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a> ，了解如何备份PDB</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定本地PDB来克隆本地PDB。">克隆本地PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-90BD14B9-DAA2-4EA0-B086-DFA29FF1E06A" name="GUID-90BD14B9-DAA2-4EA0-B086-DFA29FF1E06A"></a><h4 id="MULTI-GUID-90BD14B9-DAA2-4EA0-B086-DFA29FF1E06A" class="sect4"><span class="enumeration_section">7.2.3</span>克隆本地PDB后</h4>
                  <div>
                     <p>克隆本地PDB后，适用有关用户和表空间的某些规则。</p>
                     <p>使用源PDB的默认临时表空间的新PDB中的用户使用新PDB的默认临时表空间。在PDB中使用非默认临时表空间的用户继续在克隆的PDB中使用相同的本地临时表空间。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-90BD14B9-DAA2-4EA0-B086-DFA29FF1E06A__NOTE_V4H_TM2_YFB">
                        <p class="notep1">也可以看看：</p>
                        <p> <span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="表空间是消耗存储空间的数据库对象（如表和索引）的逻辑存储容器。">关于管理CDB中的表空间</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定本地PDB来克隆本地PDB。">克隆本地PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-85093F44-9783-4BBD-862B-0E484C118ECA" name="GUID-85093F44-9783-4BBD-862B-0E484C118ECA"></a><h4 id="MULTI-GUID-85093F44-9783-4BBD-862B-0E484C118ECA" class="sect4"><span class="enumeration_section">7.2.4</span>克隆本地PDB：示例</h4>
                  <div>
                     <p>下面的示例克隆名为本地源PDB <code class="codeph">pdb1</code>到目标PDB名为<code class="codeph">pdb2</code>给出不同的因素。
                     </p>
                     <p>在每个示例中，新PDB所属的根取决于运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句时的当前容器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当前容器是CDB根时，数据库在CDB根目录中创建PDB。</p>
                        </li>
                        <li>
                           <p>当前容器是应用程序容器中的应用程序根时，数据库会在应用程序根目录中创建应用程序PDB。</p>
                        </li>
                     </ul>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B">使用无子句克隆本地PDB：示例</a><br>此示例显示了克隆PDB的最简单方法。</li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26">使用DBCA克隆本地PDB：示例</a><br>此示例使用DBCA的静默模式克隆PDB。支持热克隆。
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA">使用PATH_PREFIX子句克隆本地PDB：示例</a><br>此示例说明如何使用<code class="codeph">PATH_PREFIX</code> ， <code class="codeph">FILE_NAME_CONVERT</code>和<code class="codeph">SERVICE_NAME_CONVERT</code>子句克隆本地PDB。
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1">使用STORAGE子句克隆本地PDB：示例</a><br>此示例使用<code class="codeph">FILE_NAME_CONVERT</code> ， <code class="codeph">STORAGE</code>和<code class="codeph">SERVICE_NAME_CONVERT</code>子句克隆本地PDB。
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B">使用NO DATA子句克隆本地PDB：示例</a><br>此示例克隆PDB的数据模型定义，但不克隆PDB中的数据。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-1251F297-D839-4F46-9038-9E89AFBE5CA5" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定本地PDB来克隆本地PDB。">克隆本地PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B" name="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B"></a><h5 id="MULTI-GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B" class="sect5"><span class="enumeration_section">7.2.4.1</span>使用无子句克隆本地PDB：示例</h5>
                     <div>
                        <p>此示例显示了克隆PDB的最简单方法。</p>
                        <div class="section">
                           <p>此示例假定以下因素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                                 </p>
                              </li>
                              <li>
                                 <p>不需要<code class="codeph">FILE_NAME_CONVERT</code>子句和<code class="codeph">CREATE_FILE_DEST</code>子句。
                                 </p>
                                 <p>已启用Oracle Managed Files，或者已设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数。因此，不需要<code class="codeph">FILE_NAME_CONVERT</code>子句。这些文件将根据Oracle Managed Files配置或初始化参数设置复制到新位置。
                                 </p>
                              </li>
                              <li>
                                 <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                                 </p>
                              </li>
                              <li>
                                 <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B__CEGGGAGG">
                           <p>下面的语句克隆<code class="codeph">pdb2</code>从PDB <code class="codeph">pdb1</code> PDB：</p><pre class="pre codeblock"><code>从pdb1创建可插入数据库pdb2;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B5F57568-0FF8-4F86-AC3C-0EE46EE3ED0B__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关Oracle托管文件的详细信息，请参见“ <a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ”</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数的信息，请<code class="codeph">PDB_FILE_NAME_CONVERT</code> <a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="以下示例将名为pdb1的本地源PDB克隆到名为pdb2的目标PDB，给出不同的因子。">克隆本地PDB：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26" name="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26"></a><h5 id="MULTI-GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26" class="sect5"><span class="enumeration_section">7.2.4.2</span>使用DBCA克隆本地PDB：示例</h5>
                     <div>
                        <p>此示例使用DBCA的静默模式克隆PDB。支持热克隆。</p>
                        <div class="section">
                           <p>此示例假定以下因素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>源CDB是具有SID <code class="codeph">orcl</code>的单实例数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>源PDB是<code class="codeph">pdb1</code> 。您希望<code class="codeph">pdb1</code>在克隆操作期间保持打开状态，这意味着在CDB中启用了本地撤消和<code class="codeph">ARCHIVELOG</code>模式。否则，DBCA在克隆操作期间关闭PDB，并在收到确认后，以只读模式打开源PDB。
                                 </p>
                              </li>
                              <li>
                                 <p>新的PDB是<code class="codeph">pdb2</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>您正在以非交互模式运行DBCA。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26__GUID-512B1DA0-B16E-4F12-81FD-77056F606157">
                           <p>以下命令克隆<code class="codeph">pdb2</code>从PDB <code class="codeph">pdb1</code> PDB：</p><pre class="pre codeblock"><code>./dbca -silent -createpluggabledatabase -sourcedb orcl -createpdbfrom PDB -pdbName pdb2 -sourcepdb pdb1</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8380406C-4D2D-4855-AC31-8A7AEE437D26__GUID-95789FD3-C198-476F-B2DB-A84D80628B27">
                           <p class="notep1">也可以看看：</p>
                           <p>“DBCA命令参考的<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-5DD346B8-4404-48F1-A811-F39D739E4D05" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="以下示例将名为pdb1的本地源PDB克隆到名为pdb2的目标PDB，给出不同的因子。">克隆本地PDB：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA" name="GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA"></a><h5 id="MULTI-GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA" class="sect5"><span class="enumeration_section">7.2.4.3</span>使用PATH_PREFIX子句克隆本地PDB：示例</h5>
                     <div>
                        <p>此示例说明如何使用<code class="codeph">PATH_PREFIX</code> ， <code class="codeph">FILE_NAME_CONVERT</code>和<code class="codeph">SERVICE_NAME_CONVERT</code>子句克隆本地PDB。
                        </p>
                        <div class="section">
                           <p>此示例假定以下因素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>必须将路径前缀添加到PDB的目录对象路径中。因此， <code class="codeph">PATH_PREFIX</code>子句是必需的。在此示例中，路径前缀/ disk2 / oracle / pdb2 /被添加到PDB的目录对象路径中。
                                 </p>
                              </li>
                              <li>
                                 <p>需要<code class="codeph">FILE_NAME_CONVERT</code>子句来指定复制文件的目标位置。在此示例中，文件从<code class="codeph">/disk1/oracle/pdb1</code>到<code class="codeph">/disk2/oracle/pdb2</code> 。
                                 </p>
                                 <p>未使用<code class="codeph">CREATE_FILE_DEST</code>子句，Oracle Managed Files和<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数<code class="codeph">PDB_FILE_NAME_CONVERT</code>用于指定复制文件的目标位置。
                                 </p>
                                 <p>要查看PDB的数据文件的位置，请在<span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">示例19-7</a> ”中</span>运行查询。
                                 </p>
                              </li>
                              <li>
                                 <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                                 </p>
                              </li>
                              <li>
                                 <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                                 </p>
                              </li>
                              <li>
                                 <p>正在克隆的PDB（ <code class="codeph">pdb1</code> ）具有两个用户定义的服务： <code class="codeph">salesrep_ca</code>和<code class="codeph">orders_ca</code>用于加利福尼亚州的销售代表和订单输入人员。新服务将用于俄勒冈州的销售代表和订单输入人员，服务名称将分别重命名为克隆PDB（ <code class="codeph">pdb2</code> ）中的<code class="codeph">salesrep_or</code>和<code class="codeph">orders_or</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>默认情况下，将使用<code class="codeph">NOLOGGING</code>属性创建在PDB中创建的未来表空间。从<span>Oracle Database 12c</span>第1版（12.1.0.2）开始提供此功能。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-E28E2322-36A0-424C-8FCB-9AE145CFC6EA__CEGHFCBB">
                           <p>下面的语句克隆<code class="codeph">pdb2</code>从PDB <code class="codeph">pdb1</code> PDB：</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb2 from pdb1 PATH_PREFIX ='/ disk2 / oracle / pdb2 /'FILE_NAME_CONVERT =（'/ disk1 / oracle / pdb1 /'，'/ disk2 / oracle / pdb2 /'）SERVICE_NAME_CONVERT =（'salesrep_ca'，'salesrep_or' ，'orders_ca'，'orders_or'）NOLOGGING;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="以下示例将名为pdb1的本地源PDB克隆到名为pdb2的目标PDB，给出不同的因子。">克隆本地PDB：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1" name="GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1"></a><h5 id="MULTI-GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1" class="sect5"><span class="enumeration_section">7.2.4.4</span>使用STORAGE子句克隆本地PDB：示例</h5>
                     <div>
                        <p>此示例使用<code class="codeph">FILE_NAME_CONVERT</code> ， <code class="codeph">STORAGE</code>和<code class="codeph">SERVICE_NAME_CONVERT</code>子句克隆本地PDB。
                        </p>
                        <div class="section">
                           <p>此示例假定以下因素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                                 </p>
                              </li>
                              <li>
                                 <p>需要<code class="codeph">FILE_NAME_CONVERT</code>子句来指定复制文件的目标位置。在此示例中，文件从/ disk1 / oracle / pdb1复制到/ disk2 / oracle / pdb2。
                                 </p>
                                 <p>未使用<code class="codeph">CREATE_FILE_DEST</code>子句，Oracle Managed Files和<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数<code class="codeph">PDB_FILE_NAME_CONVERT</code>用于指定复制文件的目标位置。
                                 </p>
                                 <p>要查看PDB的数据文件的位置，请运行<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">示例19-7中</a>的查询。
                                 </p>
                              </li>
                              <li>
                                 <p>必须对PDB强制执行存储限制。因此，需要<code class="codeph">STORAGE</code>子句。具体而言，属于PDB的所有表空间不得超过2千兆字节。
                                 </p>
                              </li>
                              <li>
                                 <p>源PDB（ <code class="codeph">pdb1</code> ）有两个用户定义的服务： <code class="codeph">salesrep_ca</code>和<code class="codeph">orders_ca</code>用于加利福尼亚州的销售代表和订单输入人员。新服务将用于俄勒冈州的销售代表和订单输入人员，服务名称将分别重命名为克隆PDB（ <code class="codeph">pdb2</code> ）中的<code class="codeph">salesrep_or</code>和<code class="codeph">orders_or</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-82C98D63-C24F-4143-AC1C-53C97A5786B1__CEGCIDDB">
                           <p>下面的语句克隆<code class="codeph">pdb2</code>从PDB <code class="codeph">pdb1</code> PDB：</p><pre class="pre codeblock"><code>从pdb1创建可插入数据库pdb2 FILE_NAME_CONVERT =（'/ disk1 / oracle / pdb1 /'，'/ disk2 / oracle / pdb2 /'）STORAGE（MAXSIZE 2G）SERVICE_NAME_CONVERT =（'salesrep_ca'，'salesrep_or'，'orders_ca'，' orders_or'）;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="以下示例将名为pdb1的本地源PDB克隆到名为pdb2的目标PDB，给出不同的因子。">克隆本地PDB：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B" name="GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B"></a><h5 id="MULTI-GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B" class="sect5"><span class="enumeration_section">7.2.4.5</span>使用NO DATA子句克隆本地PDB：示例</h5>
                     <div>
                        <p>此示例克隆PDB的数据模型定义，但不克隆PDB中的数据。</p>
                        <div class="section">
                           <p>此示例假定以下因素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">NO DATA</code>子句是必需的，因为目标是克隆源PDB的数据模型定义而不克隆其数据。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                                 </p>
                              </li>
                              <li>
                                 <p>不需要<code class="codeph">FILE_NAME_CONVERT</code>子句和<code class="codeph">CREATE_FILE_DEST</code>子句。
                                 </p>
                                 <p>已启用Oracle Managed Files，或者已设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数。因此，不需要<code class="codeph">FILE_NAME_CONVERT</code>子句。该过程基于Oracle Managed Files配置或初始化参数设置将文件复制到新位置。
                                 </p>
                              </li>
                              <li>
                                 <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                                 </p>
                              </li>
                              <li>
                                 <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-010A4F9F-FBBF-4516-8D19-09BEB999274B__GUID-E67C9C2A-5ED2-4124-8946-0219F209C6CF">
                           <p>假设源PDB <code class="codeph">pdb1</code>具有大量数据。以下步骤说明了在操作完成时克隆如何不包含源PDB的数据：</p>
                           <ol>
                              <li>
                                 <p>使用源PDB <code class="codeph">pdb1</code>作为当前容器，查询包含大量数据的表：</p><pre class="pre codeblock"><code>SELECT COUNT（*）FROM tpch.lineitem; COUNT（*）---------- 60001215</code></pre><p>该表有超过六千万行。</p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">NO DATA</code>子句克隆源PDB：</p><pre class="pre codeblock"><code>从pdb1创建可插入数据库pdb2 NO DATA;</code></pre></li>
                              <li>
                                 <p>打开克隆的PDB：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE pdb2 OPEN;</code></pre></li>
                              <li>
                                 <p>将克隆的PDB <code class="codeph">pdb2</code>作为当前容器，查询源PDB中包含大量数据的表：</p><pre class="pre codeblock"><code>SELECT COUNT（*）FROM tpch.lineitem; COUNT（*）---------- 0</code></pre><p>克隆的PDB中的表没有行。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-85093F44-9783-4BBD-862B-0E484C118ECA" title="以下示例将名为pdb1的本地源PDB克隆到名为pdb2的目标PDB，给出不同的因子。">克隆本地PDB：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079" name="GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079"></a><h3 id="MULTI-GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079" class="sect3"><span class="enumeration_section">7.3</span>克隆远程PDB</h3>
               <div>
                  <p>您可以通过运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句并在<code class="codeph">FROM</code>语句中指定指向远程PDB的数据库链接来克隆本地PDB。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279">关于克隆远程PDB</a><br>当源是PDB位于远程CDB中时，必须使用数据库链接将PDB克隆到本地CDB中。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F">克隆远程PDB：基本步骤</a><br>您可以通过克隆远程PDB来创建PDB。在克隆操作之后，源PDB和目标PDB位于不同的位置。
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396">克隆远程PDB后</a><br>克隆远程PDB后，将应用有关用户和表空间的某些规则。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8">克隆远程PDB：示例</a><br>这些示例克隆了给定不同因素的远程PDB或非CDB。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279" name="GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279"></a><h4 id="MULTI-GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279" class="sect4"><span class="enumeration_section">7.3.1</span>关于克隆远程PDB</h4>
                  <div>
                     <p>当源是PDB位于远程CDB中时，必须使用数据库链接将PDB克隆到本地CDB中。</p>
                     <p>数据库链接必须存在于<span class="italic">本地</span> CDB（而不是远程CDB）中。从本地CDB的根发出<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句时，必须指定包含要在<code class="codeph">FROM</code>子句中克隆的PDB的远程CDB的数据库链接。数据库链接从本地CDB连接到远程CDB的根或远程源PDB。</p>
                     <p>下图说明了当源PDB是远程时，此技术如何创建新PDB。</p>
                     <div class="figure" id="GUID-13FF2CE2-532C-4816-8E88-7A5A6E16A279__CEGHBGGJ">
                        <p class="titleinfigure">图7-3通过克隆远程PDB创建PDB</p><img src="img/admin092.png" width="587" alt="下面是图7-3的描述" title="下面是图7-3的描述" longdesc="img_text/admin092.html"><br><a href="img_text/admin092.html">“图7-3通过克隆远程PDB创建PDB”的描述</a></div>
                     <!-- class="figure" -->
                     <p>从<span>Oracle Database 19c开始</span> ，您可以使用DBCA以静默方式克隆远程PDB。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定指向远程PDB的数据库链接来克隆本地PDB。">克隆远程PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13596"></a><a id="ADMIN14322"></a><a id="ADMIN13593"></a><div class="props_rev_3"><a id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" name="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F"></a><h4 id="MULTI-GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" class="sect4"><span class="enumeration_section">7.3.2</span>克隆远程PDB：基本步骤</h4>
                  <div>
                     <p>您可以通过克隆远程PDB来创建PDB。在克隆操作之后，源PDB和目标PDB位于不同的位置。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-49986022-D198-415E-9ED3-05C75E597C4E">一般先决条件</p>
                        <p>必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>完成<span class="q">“ <a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Before creating a PDB, you must meet certain prerequisites.">PDB创建的一般先决</a></span>条件”中描述的先决<span class="q"><a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="在创建PDB之前，您必须满足某些先决条件。">条件</a></span> 。
                              </p>
                           </li>
                           <li>
                              <p>当前用户必须在包含目标PDB的CDB根目录中具有<code class="codeph">CREATE PLUGGABLE DATABASE</code>系统特权。</p>
                           </li>
                           <li>
                              <p>源平台和目标平台必须满足以下要求：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>它们必须具有相同的字节顺序。</p>
                                 </li>
                                 <li>
                                    <p>安装在源平台上的数据库选项必须与目标平台上安装的数据库选项相同或者是其子集。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>如果要创建应用程序PDB，则源PDB的应用程序名称和版本必须与应用程序名称和目标应用程序容器的版本匹配。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-48DDDC51-F206-4233-96C3-870BC789BB57">字符集的先决条件</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果正在克隆PDB的CDB的字符集不是AL32UTF8，则源和目标必须具有兼容的字符集和国家字符集。如果正在克隆PDB的CDB的字符集是AL32UTF8，则此要求不适用。</p>
                           </li>
                           <li>
                              <p>如果要创建应用程序PDB，则应用程序PDB必须具有与应用程序容器相同的字符集和国家字符集。</p>
                              <p>如果CDB的数据库字符集是AL32UTF8，则应用程序容器的字符集和国家字符集可以与CDB不同。但是，应用程序容器中的所有应用程序PDB必须具有相同的字符集和国家字符集，与应用程序容器的字符集匹配。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-00A67D0B-E84B-46FE-B050-596506C27809">源PDB的开放模式的先决条件</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>源PDB不得关闭。</p>
                           </li>
                           <li>
                              <p>如果远程CDB未处于本地撤消模式，则源PDB必须以只读模式打开。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="您可以将CDB配置为在每个容器中使用本地撤消，或者对整个CDB使用共享撤消。">关于CDB撤消模式</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>如果远程CDB未处于<code class="codeph">ARCHIVELOG</code>模式，则源PDB必须以只读模式打开。
                              </p>
                           </li>
                           <li>
                              <p>如果要创建可刷新的PDB，则源PDB必须处于<code class="codeph">ARCHIVELOG</code>模式和本地撤消模式。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GENERALPREREQUISITES-EFA2D3FB">数据库链接的先决条件</p>
                        <p>必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据库链接必须启用从克隆PDB的CDB到源PDB的CDB的连接。数据库链接可以连接到CDB的根目录，如果源是应用程序PDB，则连接到应用程序PDB，或连接到PDB。</p>
                           </li>
                           <li>
                              <p>数据库链接所连接的用户必须具有<code class="codeph">CREATE PLUGGABLE DATABASE</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>如果数据库链接连接到源PDB的CDB中的根，则数据库链接所连接的用户必须是普通用户。</p>
                           </li>
                           <li>
                              <p>在Oracle Data Guard环境中，如果要将PDB的远程克隆执行到主CDB，则在备用CDB上设置<code class="codeph">STANDBY_PDB_SOURCE_FILE_DBLINK</code>初始化参数。此参数指定<code class="codeph">CREATE PLUGGABLE DATABASE ...使用的数据库链接的名称<code class="codeph">CREATE PLUGGABLE DATABASE ...FROM <span class="codeinlineitalic">dblink</span></code> 。备用CDB尝试从数据库链接中引用的源PDB复制数据文件，但前提是源PDB以只读模式打开。否则，您必须将数据文件复制到备用CDB上的Oracle Managed Files位置。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-C4A3DE1C-CC50-46D7-9D92-4BFF8D01A49E">要克隆远程PDB：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是目标CDB的根目录或目标应用程序容器的应用程序根目录。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句，并在<code class="codeph">FROM</code>子句中指定源PDB。必要时指定其他子句。
                              </p>
                              <p>创建PDB后，它处于挂载模式，其状态为<code class="codeph">NEW</code> 。您可以通过查询<code class="codeph">V$PDBS</code>视图中的<code class="codeph">OPEN_MODE</code>列来查看PDB的打开模式。您可以通过查询<code class="codeph">CDB_PDBS</code>或<code class="codeph">DBA_PDBS</code>视图的<code class="codeph">STATUS</code>列来查看PDB的<code class="codeph">STATUS</code> 。
                              </p>
                              <p>为PDB创建新的默认服务。该服务与PDB具有相同的名称，可用于访问PDB。必须正确配置Oracle Net Services才能使客户端访问此服务。</p>
                              <div class="infoboxnote" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-A9FFF8B4-5144-40E0-B701-6D2154BAD23D">
                                 <p class="notep1">注意：</p>
                                 <p>如果在创建PDB期间返回错误，则正在创建的PDB可能处于<code class="codeph">UNUSABLE</code>状态。您可以通过查询<code class="codeph">CDB_PDBS</code>或<code class="codeph">DBA_PDBS</code>视图来检查PDB状态，并通过检查警报日志了解有关PDB创建错误的更多信息。只能删除不可用的PDB，并且必须先删除它，然后才能创建与不可用的PDB同名的PDB。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>以读/写模式打开新PDB。</p>
                              <p>您必须在Oracle数据库的读/写模式下打开新的PDB，才能完成新PDB与CDB的集成。如果尝试以只读模式打开PDB，则会返回错误。在读/写模式下打开PDB后，其状态为<code class="codeph">NORMAL</code> 。</p>
                           </li>
                           <li>
                              <p>备份PDB。</p>
                              <p>除非备份PDB，否则无法恢复PDB。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-7AADBFE0-C629-4ED2-8C6B-2DCAE9B281B9">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="您可以刷新作为可刷新克隆创建的PDB。">刷新PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的开放模式</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关备份PDB的信息，请参见<a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>“Oracle数据库备份和恢复用户指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../sbydb/creating-oracle-data-guard-physical-standby.html#SBYDB-GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2" target="_blank"><span><cite>Oracle Data Guard概念和管理，</cite></span></a>以了解有关在Oracle Data Guard环境中插入PDB的更多信息</p>
                           </li>
                           <li>
                              <p><a href="../nlspg/choosing-character-set.html#NLSPG1035" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a> ，了解字符集兼容性的要求</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数的信息，请<code class="codeph">PDB_FILE_NAME_CONVERT</code> <a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定指向远程PDB的数据库链接来克隆本地PDB。">克隆远程PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14167"></a><div class="props_rev_3"><a id="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396" name="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396"></a><h4 id="MULTI-GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396" class="sect4"><span class="enumeration_section">7.3.3</span>克隆远程PDB后</h4>
                  <div>
                     <p>克隆远程PDB后，将应用有关用户和表空间的某些规则。</p>
                     <p>克隆远程PDB后，以下内容适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用源PDB的默认临时表空间的新PDB中的用户使用新PDB的默认临时表空间。在PDB中使用非默认临时表空间的用户继续在克隆的PDB中使用相同的本地临时表空间。</p>
                        </li>
                        <li>
                           <p>源CDB中存在但不存在于目标CDB中的用户创建的公共用户帐户没有通常授予的权限。但是，如果目标CDB具有与PDB中的公共用户帐户同名的公共用户帐户，则后者链接到前者并且具有授予目标CDB中的该公共用户帐户的特权。</p>
                           <p>如果克隆或插入的PDB具有目标CDB中不存在的公共用户帐户，并且该用户不拥有PDB中的对象，则Oracle数据库会在同步步骤中删除用户;否则，用户帐户被锁定在目标PDB中。您有关于锁定帐户的以下选项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>关闭PDB，连接到根，并创建具有相同名称的公共用户帐户。在读/写模式下打开PDB时，将解决通常授予用户帐户的角色和权限的差异，您可以解锁该帐户。在此过程中，本地授予用户帐户的权限和角色保持不变。</p>
                              </li>
                              <li>
                                 <p>在PDB中创建一个新的本地用户帐户，并使用Data Pump将锁定用户的数据导出/导入到新的本地用户的架构中。</p>
                              </li>
                              <li>
                                 <p>保持用户帐户锁定。</p>
                              </li>
                              <li>
                                 <p>删除用户帐户。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396__GUID-6D44C122-8526-40B4-B99F-F1848E0AEB21">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="表空间是消耗存储空间的数据库对象（如表和索引）的逻辑存储容器。">关于管理CDB中的表空间</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关创建本地用户的信息，请参见<a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG832" target="_blank"><span><cite>“Oracle数据库安全指南</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关将Oracle Data Pump与CDB一起使用的信息，请参见<a href="../sutil/oracle-data-pump-overview.html#SUTIL4334" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定指向远程PDB的数据库链接来克隆本地PDB。">克隆远程PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" name="GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8"></a><h4 id="MULTI-GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" class="sect4"><span class="enumeration_section">7.3.4</span>克隆远程PDB：示例</h4>
                  <div>
                     <p>这些示例克隆了给定不同因素的远程PDB或非CDB。</p>
                     <p>在每个示例中，新PDB所属的根取决于运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句时的当前容器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当前容器是CDB根时，将在CDB根目录中创建新的PDB。</p>
                        </li>
                        <li>
                           <p>当前容器是应用程序容器中的应用程序根时，新PDB将在应用程序根目录中创建为应用程序PDB。</p>
                        </li>
                     </ul>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93">使用No子句克隆远程PDB：示例</a><br>此示例将名为<code class="codeph">pdb1</code>的远程源PDB克隆到给定不同因子的名为<code class="codeph">pdb2</code>的目标PDB。
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6">使用DBCA克隆远程PDB：示例</a><br>此示例使用DBCA将名为<code class="codeph">pdb1</code>的PDB从远程CDB克隆到本地CDB，在该CDB中将其重命名为<code class="codeph">clonepdb1</code> 。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-2512C9E9-FD11-4F33-871B-892ED5FC4079" title="您可以通过运行CREATE PLUGGABLE DATABASE语句并在FROM语句中指定指向远程PDB的数据库链接来克隆本地PDB。">克隆远程PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93" name="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93"></a><h5 id="MULTI-GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93" class="sect5"><span class="enumeration_section">7.3.4.1</span>使用无子句克隆远程PDB：示例</h5>
                     <div>
                        <p>此示例将名为<code class="codeph">pdb1</code>的远程源PDB克隆到给定不同因子的名为<code class="codeph">pdb2</code>的目标PDB。
                        </p>
                        <div class="section">
                           <p>此示例假定以下因素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>远程PDB的数据库链接名称是<code class="codeph">pdb1_link</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                                 </p>
                              </li>
                              <li>
                                 <p>不需要<code class="codeph">FILE_NAME_CONVERT</code>子句和<code class="codeph">CREATE_FILE_DEST</code>子句。
                                 </p>
                                 <p>已启用Oracle Managed Files，或者已设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数。这些文件将根据Oracle Managed Files配置或初始化参数设置复制到新位置。
                                 </p>
                              </li>
                              <li>
                                 <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                                 </p>
                              </li>
                              <li>
                                 <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93__GUID-FDD7C76D-BF5E-4BB6-A115-85F1BBD653B4">
                           <p>下面的语句克隆<code class="codeph">pdb2</code>从PDB <code class="codeph">pdb1</code>远程PDB：</p><pre class="pre codeblock"><code>从pdb1 @ pdb1_link创建可插入数据库pdb2;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EC6660DC-14A8-4589-A2E4-71C1987E2C93__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关Oracle托管文件的详细信息，请参见“ <a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ”</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数的信息，请<code class="codeph">PDB_FILE_NAME_CONVERT</code> <a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" title="这些示例克隆了给定不同因素的远程PDB或非CDB。">克隆远程PDB：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6" name="GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6"></a><h5 id="MULTI-GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6" class="sect5"><span class="enumeration_section">7.3.4.2</span>使用DBCA克隆远程PDB：示例</h5>
                     <div>
                        <p>此示例使用DBCA将名为<code class="codeph">pdb1</code>的PDB从远程CDB克隆到本地CDB，在该CDB中将其重命名为<code class="codeph">clonepdb1</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6__GUID-EF2E206B-2BBD-411A-8688-D89797242B95">先决条件</p>
                           <p>此方案假定以下内容：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>本地数据库中的用户在根容器中具有<code class="codeph">CREATE PLUGGABLE DATABASE</code>权限。
                                 </p>
                              </li>
                              <li>
                                 <p>远程CDB处于本地撤消模式。</p>
                              </li>
                              <li>
                                 <p>远程和本地CDB处于<code class="codeph">ARCHIVELOG</code>模式。
                                 </p>
                              </li>
                              <li>
                                 <p>数据库链接所连接的远程CDB中的公共用户具有<code class="codeph">CREATE PLUGGABLE DATABASE</code> ， <code class="codeph">SESSION</code>和<code class="codeph">SYSOPER</code>权限。
                                 </p>
                              </li>
                              <li>
                                 <p>本地和远程CDB安装了相同的选项。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6__GUID-E9EC94DF-30F4-4955-9971-DA9AE9F0345D">假设</p>
                           <p>此方案假定以下内容：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您正在CDB的主机上运行DBCA，该主机将包含克隆的PDB。本地CDB名为<code class="codeph">loccdb1</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>远程（源）CDB名为<code class="codeph">remcdb1</code> ，驻留在主机<code class="codeph">remcdb1host</code> 。远程CDB的实例名称是<code class="codeph">reminst</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>远程PDB（即要克隆的PDB）名为<code class="codeph">rempdb1</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>普通用户<code class="codeph">c##adminuser_remcdb1</code>驻留在<code class="codeph">remcdb1</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>管理用户<code class="codeph">locSYS</code>具有<code class="codeph">SYSDBA</code>的权限<code class="codeph">loccdb1</code> ，这对PDB被克隆该CDB。
                                 </p>
                              </li>
                              <li>
                                 <p>管理用户<code class="codeph">remSYS</code>具有<code class="codeph">SYSDBA</code>的权限<code class="codeph">remcdb1</code> ，它是一个包含要克隆的PDB开行。
                                 </p>
                              </li>
                              <li>
                                 <p>克隆到<code class="codeph">loccdb1</code> ，PDB将重命名为<code class="codeph">clonepdb1</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6__GUID-AB41D72C-6BC2-4BA3-AC9B-8AE4B3FC5BE7">
                           <p>这下无声的命令克隆<code class="codeph">rempdb1</code>到<code class="codeph">loccdb1</code> ：</p><pre class="pre codeblock"><code>./dbca -silent -createPluggableDatabase -createFromRemotePDB -sourceDB <span class="bold">remcdb1</span> -remotePDBName <span class="bold">rempdb1</span> -remoteDBConnString <span class="bold">remcdb1host：1521 / REMINST</span> -remoteDBSYSDBAUserName <span class="bold">remSYS</span> -remoteDBSYSDBAUserPassword <span class="italic">remsyspwd</span> <span class="bold">-dbLinkUsernameÇ## adminuser_remcdb1</span> -dbLinkUserPassword <span class="italic">pwd4dblinkusr</span> -sysDBAUserName <span class="bold">locSYS</span> -sysDBAPassword <span class="italic">locsyspwd</span> -pdbName <span class="bold">clonepdb1</span></code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-32AE49B1-13A7-4A4D-AB43-BA781ECA99D6__GUID-EFC6AA59-AE8E-4D34-9560-14F68CB9C456">
                           <p class="notep1">也可以看看：</p>
                           <p>有关DBCA命令的语法和语义的<a href="../admin/creating-and-configuring-an-oracle-database.html#GUID-5DD346B8-4404-48F1-A811-F39D739E4D05" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-5A9E81ED-D9BF-4551-A5FC-3154DC7223C8" title="这些示例克隆了给定不同因素的远程PDB或非CDB。">克隆远程PDB：示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B5D803D4-939B-4D0A-B684-5A1089EA4618" name="GUID-B5D803D4-939B-4D0A-B684-5A1089EA4618"></a><h3 id="MULTI-GUID-B5D803D4-939B-4D0A-B684-5A1089EA4618" class="sect3"><span class="enumeration_section">7.4</span>克隆非CDB</h3>
               <div>
                  <p>克隆非CDB的过程与克隆远程PDB的过程非常相似。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26">关于克隆非CDB</a><br>如果源是非CDB，则必须在<code class="codeph">FROM</code>子句中指定指向非CDB的数据库链接。
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875">克隆非CDB：基本步骤</a><br>您可以通过克隆非CDB来创建PDB。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6">克隆远程非CDB：示例</a><br>此示例通过将名为<code class="codeph">mydb</code>的远程源非CDB克隆到名为<code class="codeph">pdb2</code>给定不同因子的目标PDB来创建新PDB。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26" name="GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26"></a><h4 id="MULTI-GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26" class="sect4"><span class="enumeration_section">7.4.1</span>关于克隆非CDB</h4>
                  <div>
                     <p>如果源是非CDB，则必须在<code class="codeph">FROM</code>子句中指定指向非CDB的数据库链接。
                     </p>
                     <p>下图说明了当源是远程非CDB时，此技术如何创建新PDB。</p>
                     <div class="figure" id="GUID-4E66AD07-FF5A-45B5-98B8-0B83B846BA26__CEGJIEAI">
                        <p class="titleinfigure">图7-4通过克隆非CDB创建PDB</p><img src="img/admin108.png" alt="下面是图7-4的描述" title="下面是图7-4的描述" longdesc="img_text/admin108.html"><br><a href="img_text/admin108.html">“图7-4通过克隆非CDB创建PDB”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-B5D803D4-939B-4D0A-B684-5A1089EA4618" title="克隆非CDB的过程与克隆远程PDB的过程非常相似。">克隆非CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875" name="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875"></a><h4 id="MULTI-GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875" class="sect4"><span class="enumeration_section">7.4.2</span>克隆非CDB：基本步骤</h4>
                  <div>
                     <p>您可以通过克隆非CDB来创建PDB。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__GUID-49986022-D198-415E-9ED3-05C75E597C4E">一般先决条件</p>
                        <p>必须满足以下先决条件：</p>
                        <ul id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__UL_BPR_ZV2_YFB" style="list-style-type:disc">
                           <li>
                              <p>完成<span class="q">“ <a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Before creating a PDB, you must meet certain prerequisites.">PDB创建的一般先决</a></span>条件”中描述的先决<span class="q"><a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="在创建PDB之前，您必须满足某些先决条件。">条件</a></span> 。
                              </p>
                              <div class="infoboxnote" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__GUID-96A551CD-5402-484F-AAF1-B1E55712C8E5">
                                 <p class="notep1">注意：</p>
                                 <p>如果您希望能够使用源非CDB的备份恢复新的PDB，则<span class="italic">必须</span>在克隆之前使用<code class="codeph">DBMS_PDB.EXPORTRMANBACKUP</code> 。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>当前用户必须在包含目标PDB的CDB根目录中具有<code class="codeph">CREATE PLUGGABLE DATABASE</code>系统特权。</p>
                           </li>
                           <li>
                              <p>源平台和目标平台必须满足以下要求：</p>
                              <ul id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__UL_CPR_ZV2_YFB" style="list-style-type:disc">
                                 <li>
                                    <p>它们必须具有相同的字节顺序。</p>
                                 </li>
                                 <li>
                                    <p>安装在源平台上的数据库选项必须与目标平台上安装的数据库选项相同或者是其子集。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>CDB和非CDB必须运行Oracle Database 12c第1版（12.1.0.2）或更高版本。</p>
                           </li>
                           <li>
                              <p>CDB和非CDB必须运行相同的Oracle数据库版本。</p>
                           </li>
                           <li>
                              <p>新创建的PDB的数据块大小必须与CDB匹配。</p>
                           </li>
                           <li>
                              <p>如果非CDB处于<code class="codeph">NOARCHIVELOG</code>模式，则必须以只读模式打开。如果非CDB处于<code class="codeph">ARCHIVELOG</code>模式，则它可以是只读或读/写。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__GUID-48DDDC51-F206-4233-96C3-870BC789BB57">字符集的先决条件</p>
                        <ul id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__UL_MHL_1W2_YFB" style="list-style-type:disc">
                           <li>
                              <p>如果CDB的字符集不是AL32UTF8，则源和目标必须具有兼容的字符集和国家字符集。如果正在克隆PDB的CDB的字符集是AL32UTF8，则此要求不适用。</p>
                           </li>
                           <li>
                              <p>如果要创建应用程序PDB，则应用程序PDB必须具有与应用程序容器相同的字符集和国家字符集。</p>
                              <p>如果CDB的数据库字符集是AL32UTF8，则应用程序容器的字符集和国家字符集可以与CDB不同。但是，应用程序容器中的所有应用程序PDB必须具有相同的字符集和国家字符集，与应用程序容器的字符集匹配。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__GENERALPREREQUISITES-EFA2D3FB">数据库链接的先决条件</p>
                        <p>必须满足以下先决条件：</p>
                        <ul id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__UL_X4R_BW2_YFB" style="list-style-type:disc">
                           <li>
                              <p>数据库链接必须启用从目标CDB到源CDB的连接。数据库链接可以连接到CDB的根目录，如果源是应用程序PDB，则连接到应用程序PDB，或连接到PDB。</p>
                           </li>
                           <li>
                              <p>数据库链接所连接的用户必须具有<code class="codeph">CREATE PLUGGABLE DATABASE</code>系统特权。
                              </p>
                           </li>
                           <li>
                              <p>如果数据库链接连接到源PDB的CDB中的根，则数据库链接所连接的用户必须是普通用户。</p>
                           </li>
                           <li>
                              <p>在Oracle Data Guard环境中，如果要将PDB的远程克隆执行到主CDB，则在备用CDB上设置<code class="codeph">STANDBY_PDB_SOURCE_FILE_DBLINK</code>初始化参数。此参数指定<code class="codeph">CREATE PLUGGABLE DATABASE ...使用的数据库链接的名称<code class="codeph">CREATE PLUGGABLE DATABASE ...FROM <span class="codeinlineitalic">dblink</span></code> 。备用CDB尝试从数据库链接中引用的源PDB复制数据文件，但前提是源PDB以只读模式打开。否则，您必须将数据文件复制到备用CDB上的Oracle Managed Files位置。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__GUID-C4A3DE1C-CC50-46D7-9D92-4BFF8D01A49E">要克隆远程非CDB：</p>
                        <ol id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__OL_CXK_CW2_YFB">
                           <li>
                              <p>在SQL * Plus中，确保当前容器是目标CDB的根目录或目标应用程序容器的应用程序根目录。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句，并在<code class="codeph">FROM</code>子句中指定源非CDB。必要时指定其他子句。
                              </p>
                              <p>创建PDB后，它处于挂载模式，其状态为<code class="codeph">NEW</code> 。您可以通过查询<code class="codeph">V$PDBS</code>视图中的<code class="codeph">OPEN_MODE</code>列来查看PDB的打开模式。您可以通过查询<code class="codeph">CDB_PDBS</code>或<code class="codeph">DBA_PDBS</code>视图的<code class="codeph">STATUS</code>列来查看PDB的<code class="codeph">STATUS</code> 。
                              </p>
                              <p>为PDB创建新的默认服务。该服务与PDB具有相同的名称，可用于访问PDB。必须正确配置Oracle Net Services才能使客户端访问此服务。</p>
                              <div class="infoboxnote" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__GUID-A9FFF8B4-5144-40E0-B701-6D2154BAD23D">
                                 <p class="notep1">注意：</p>
                                 <p>如果在创建PDB期间返回错误，则正在创建的PDB可能处于<code class="codeph">UNUSABLE</code>状态。您可以通过查询<code class="codeph">CDB_PDBS</code>或<code class="codeph">DBA_PDBS</code>视图来检查PDB状态，并通过检查警报日志了解有关PDB创建错误的更多信息。只能删除不可用的PDB，并且必须先删除它，然后才能创建与不可用的PDB同名的PDB。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>运行<code class="codeph"><span class="codeinlineitalic">ORACLE_HOME</span> /rdbms/admin/noncdb_to_pdb.sql</code>脚本。必须先运行此脚本，才能首次打开PDB。
                              </p>
                              <p>要运行<code class="codeph">noncdb_to_pdb.sql</code>脚本，请完成以下步骤：</p>
                              <ol type="a" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__OL_DXK_CW2_YFB">
                                 <li>
                                    <p>将容器设置为新创建的PDB。</p>
                                    <p>当前用户必须具有<code class="codeph">SYSDBA</code>管理权限，并且必须在PDB中共同授予或本地授予该权限。用户必须在连接时使用<code class="codeph">AS SYSDBA</code>行使权限。
                                    </p>
                                 </li>
                                 <li>
                                    <p>运行<code class="codeph">noncdb_to_pdb.sql</code>脚本：</p><pre class="pre codeblock"><code>@ $ ORACLE_HOME / RDBMS /管理/ noncdb_to_pdb.sql</code></pre></li>
                              </ol>
                              <p>该脚本打开PDB，执行更改，然后关闭PDB。</p>
                           </li>
                           <li>
                              <p>以读/写模式打开新PDB。</p>
                              <p>您必须在Oracle数据库的读/写模式下打开新的PDB，才能完成新PDB与CDB的集成。如果尝试以只读模式打开PDB，则会返回错误。在读/写模式下打开PDB后，其状态为<code class="codeph">NORMAL</code> 。</p>
                           </li>
                           <li>
                              <p>备份PDB。</p>
                              <p>除非备份PDB，否则无法恢复PDB。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__GUID-7AADBFE0-C629-4ED2-8C6B-2DCAE9B281B9">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-1D7528E6-3893-46A6-8AC5-0E99794D9875__UL_EXK_CW2_YFB" style="list-style-type:disc">
                           <li>
                              <p>有关从非CDB克隆PDB的详细示例， <a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1928653.1" target="_blank">请参阅My Oracle Support说明1928653.1</a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="您可以刷新作为可刷新克隆创建的PDB。">刷新PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的开放模式</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关备份PDB的信息，请参见<a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>“Oracle数据库备份和恢复用户指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../nlspg/choosing-character-set.html#NLSPG1035" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a> ，了解字符集兼容性的要求</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数的信息，请<code class="codeph">PDB_FILE_NAME_CONVERT</code> <a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-B5D803D4-939B-4D0A-B684-5A1089EA4618" title="克隆非CDB的过程与克隆远程PDB的过程非常相似。">克隆非CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6" name="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6"></a><h4 id="MULTI-GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6" class="sect4"><span class="enumeration_section">7.4.3</span>克隆远程非CDB：示例</h4>
                  <div>
                     <p>此示例通过将名为<code class="codeph">mydb</code>的远程源非CDB克隆到名为<code class="codeph">pdb2</code>给定不同因子的目标PDB来创建新PDB。
                     </p>
                     <div class="section">
                        <p>此示例假定以下因素：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>远程非CDB的数据库链接名称是<code class="codeph">mydb_link</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                              </p>
                           </li>
                           <li>
                              <p>不需要<code class="codeph">FILE_NAME_CONVERT</code>子句和<code class="codeph">CREATE_FILE_DEST</code>子句。
                              </p>
                              <p>已启用Oracle Managed Files，或者已设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数。这些文件将根据Oracle Managed Files配置或初始化参数设置复制到新位置。
                              </p>
                           </li>
                           <li>
                              <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                              </p>
                           </li>
                           <li>
                              <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6__GUID-82088866-3794-4F8B-98ED-8E0C0DC11680">
                        <p>以下语句从名为<code class="codeph">mydb</code>的远程非CDB创建<code class="codeph">pdb2</code> PDB：</p><pre class="pre codeblock"><code>从mydb @ mydb_link创建可插入数据库pdb2;</code></pre><p>当源数据库是非CDB时，您可以用<code class="codeph">NON$CDB</code>替换<code class="codeph">NON$CDB</code>的名称。例如，以下语句与前一个示例等效：</p><pre class="pre codeblock"><code>从$ CDB @ mydb_link创建可插入数据库pdb2;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3433B3BF-372F-4A4A-988E-919E76C7F2A6__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle托管文件的详细信息，请参见“ <a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ”</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-B5D803D4-939B-4D0A-B684-5A1089EA4618" title="克隆非CDB的过程与克隆远程PDB的过程非常相似。">克隆非CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-C476B273-469B-4999-8637-A6BA1BD6300A" name="GUID-C476B273-469B-4999-8637-A6BA1BD6300A"></a><h3 id="MULTI-GUID-C476B273-469B-4999-8637-A6BA1BD6300A" class="sect3"><span class="enumeration_section">7.5</span>关于可刷新克隆PDB</h3>
               <div>
                  <p><code class="codeph">CREATE PLUGGABLE DATABASE ...REFRESH MODE</code>语句克隆源PDB并将克隆配置为可刷新。刷新克隆PDB使用自上次重做日志应用以来累积的重做更新它。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B">可复原克隆PDB的目的</a><br>生产PDB的克隆操作可能需要很长时间。
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-DB70AAC5-A426-4991-8D84-697790AA9A11">自动和手动刷新模式</a><br>您可以将克隆PDB配置为按设定的时间间隔自动刷新，也可以使用<code class="codeph">ALTER PLUGGABLE DATABASE REFRESH</code>语句手动刷新它。
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1">可复原克隆PDB的要求</a><br>创建可刷新的克隆PDB需要数据库链接。数据库链接可以指向相同的CDB或不同的CDB。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-2FF464EE-706C-4FE1-9E54-31312550BED6">创建可刷新的克隆PDB：场景</a><br>这种情况下创建一个名为刷新克隆<code class="codeph">pdb1_ref_cln</code>从远程PDB命名<code class="codeph">pdb1</code> 。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B" name="GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B"></a><h4 id="MULTI-GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B" class="sect4"><span class="enumeration_section">7.5.1</span>可刷新克隆PDB的目的</h4>
                  <div>
                     <p>生产PDB的克隆操作可能需要很长时间。</p>
                     <p>如果不经常克隆PDB以避免拖拽系统，则克隆数据将变得陈旧。可刷新的克隆PDB解决了这个问题。当可刷新的克隆过时时，您可以使用最近的重做快速刷新它。典型的做法是维护生产PDB的“黄金大师”可刷新克隆，然后获取黄金大师的快照克隆进行开发和测试。</p>
                     <p>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE ...反转源和克隆PDB的角色<code class="codeph">ALTER PLUGGABLE DATABASE ...SWITCHOVER</code>声明。此功能在以下情况下很有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>计划切换</p>
                           <p>托管源PDB的CDB可能比承载克隆PDB的CDB经历更多的开销。要实现负载平衡，您可以反转角色，使克隆成为新的源PDB，将源PDB作为新克隆。</p>
                        </li>
                        <li>
                           <p>计划外切换</p>
                           <p>源PDB可能遭受意外故障。在这种情况下，您可以使克隆PDB成为新的源PDB，并恢复正常操作。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0D45FD7D-AB4A-4120-9D57-DF5D8326436B__GUID-AADE6323-617E-47BD-9391-EC3FEE1BD970">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" title="可刷新克隆PDB是只读克隆，可以定期与其源PDB同步。">管理可刷新的克隆PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-PLUGGABLE-DATABASE.html#SQLRF-GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>以了解有关<code class="codeph">ALTER PLUGGABLE DATABASE ...更多信息<code class="codeph">ALTER PLUGGABLE DATABASE ...SWITCHOVER</code></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="CREATE PLUGGABLE DATABASE ...REFRESH MODE语句克隆源PDB并将克隆配置为可刷新。刷新克隆PDB使用自上次重做日志应用以来累积的重做更新它。">关于可刷新克隆PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11" name="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11"></a><h4 id="MULTI-GUID-DB70AAC5-A426-4991-8D84-697790AA9A11" class="sect4"><span class="enumeration_section">7.5.2</span>自动和手动刷新模式</h4>
                  <div>
                     <p>您可以将克隆PDB配置为按设定的时间间隔自动刷新，也可以使用<code class="codeph">ALTER PLUGGABLE DATABASE REFRESH</code>语句手动刷新它。
                     </p>
                     <p><code class="codeph">REFRESH MODE</code>子句仅在<code class="codeph">CREATE PLUGGABLE DATABASE ...受支持<code class="codeph">CREATE PLUGGABLE DATABASE ...FROM</code>声明。您可以使用此子句指定以下选项之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定<code class="codeph">REFRESH MODE NONE</code> （默认值）以创建不可刷新的PDB。
                           </p>
                           <p>通过在<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句中包含<code class="codeph">REFRESH MODE NONE</code>子句，然后以读/写模式打开PDB，可以将可刷新的克隆PDB更改为普通PDB。您无法将普通PDB更改为可刷新克隆PDB。在将可刷新的克隆PDB转换为普通PDB之后，您无法将其更改回可刷新的克隆PDB。</p>
                        </li>
                        <li>
                           <p>指定<code class="codeph">REFRESH MODE MANUAL</code>以创建必须手动刷新的可刷新PDB。
                           </p>
                        </li>
                        <li>
                           <p>指定<code class="codeph">REFRESH MODE EVERY <span class="codeinlineitalic">number_of_minutes</span> MINUTES</code>以创建可刷新的PDB，该PDB在指定的分钟数过后自动刷新。使用自动刷新的可刷新PDB也可以手动刷新。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11__GUID-D010F47C-77A9-4589-AF7C-8DAB7ADEA297">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建可刷新的PDB时，可以在PDB中设置<code class="codeph">REMOTE_RECOVERY_FILE_DEST</code>初始化参数。如果源PDB在其数据库链接上不可用，则此初始化参数指定在刷新操作期间从中读取存档日志文件的目录。
                              </p>
                           </li>
                           <li>
                              <p>如果在源PDB中创建了新数据文件，则必须在CDB中设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数，以将数据文件路径从源PDB转换为克隆PDB。</p>
                           </li>
                        </ul>
                     </div>
                     <div class="example" id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11__GUID-A5EAF9C8-DA70-4EFC-B78C-3DD227F864DB">
                        <p class="titleinexample">例7-1指定自动刷新的刷新模式子句</p>
                        <p>此刷新模式子句指定每两小时（120分钟）自动刷新可刷新的PDB：</p><pre class="pre codeblock"><code>刷新模式每120分钟</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DB70AAC5-A426-4991-8D84-697790AA9A11__GUID-A4E51717-37C4-498F-BB95-A8983D8D851D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="cloning-a-pdb.html#GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" title="您可以通过克隆远程PDB来创建PDB。在克隆操作之后，源PDB和目标PDB位于不同的位置。">克隆远程PDB：基本步骤</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="您可以刷新作为可刷新克隆创建的PDB。">刷新PDB</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="CREATE PLUGGABLE DATABASE ...REFRESH MODE语句克隆源PDB并将克隆配置为可刷新。刷新克隆PDB使用自上次重做日志应用以来累积的重做更新它。">关于可刷新克隆PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1" name="GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1"></a><h4 id="MULTI-GUID-30E0CC68-4F4C-4E58-9451-6390406D90A1" class="sect4"><span class="enumeration_section">7.5.3</span>可刷新克隆PDB的要求</h4>
                  <div>
                     <p>创建可刷新的克隆PDB需要数据库链接。数据库链接可以指向相同的CDB或不同的CDB。</p>
                     <p>可刷新的克隆PDB必须处于以下任一状态：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>关闭</p>
                           <p>执行刷新时，必须关闭可刷新的PDB。如果在尝试自动刷新时未关闭，则刷新将推迟到下一次计划刷新。如果在用户尝试执行手动刷新时未关闭，则会报告错误。</p>
                        </li>
                        <li>
                           <p>以只读模式打开</p>
                           <p>可刷新的PDB必须保持只读模式，以防止在源PDB上不发生的可刷新PDB上的不同步更改。可刷新的PDB旨在用作克隆主机，因此必须在刷新的时间点准确地反映源PDB。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="CREATE PLUGGABLE DATABASE ...REFRESH MODE语句克隆源PDB并将克隆配置为可刷新。刷新克隆PDB使用自上次重做日志应用以来累积的重做更新它。">关于可刷新克隆PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6" name="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6"></a><h4 id="MULTI-GUID-2FF464EE-706C-4FE1-9E54-31312550BED6" class="sect4"><span class="enumeration_section">7.5.4</span>创建可刷新克隆PDB：场景</h4>
                  <div>
                     <p>这种情况下创建一个名为刷新克隆<code class="codeph">pdb1_ref_cln</code>从远程PDB命名<code class="codeph">pdb1</code> 。
                     </p>
                     <div class="section">
                        <p>克隆PDB是源PDB的副本。您可以定期刷新克隆PDB，以使用对源PDB所做的任何更改来更新它。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__GUID-B4C916E6-7689-49C3-8664-3657241DE4E1">假设</p>
                        <p>此方案假定以下因素：</p>
                        <ul id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__UL_TCK_PGM_YFB" style="list-style-type:disc">
                           <li>
                              <p>远程PDB的数据库链接名称是<code class="codeph">pdb1_link</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                              </p>
                           </li>
                           <li>
                              <p>不需要<code class="codeph">FILE_NAME_CONVERT</code>子句和<code class="codeph">CREATE_FILE_DEST</code>子句。
                              </p>
                              <p>已启用Oracle Managed Files，或者已设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数。这些文件将根据Oracle Managed Files配置或初始化参数设置复制到新位置。
                              </p>
                           </li>
                           <li>
                              <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                              </p>
                           </li>
                           <li>
                              <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                              </p>
                           </li>
                           <li>
                              <p>可刷新的克隆将每60分钟自动刷新一次。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__GUID-641958F6-1204-4AD1-8D6E-564B3399CA9F">
                           <p class="notep1">注意：</p>
                           <p>要创建可刷新的PDB，源PDB必须处于<code class="codeph">ARCHIVELOG</code>模式和本地撤消模式。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__GUID-AEEDCC90-BBAD-4210-85CA-4D118A3B7836">要创建可刷新的克隆PDB：</p>
                        <ol id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__OL_PJT_TGM_YFB">
                           <li>
                              <p>在SQL * Plus中，确保当前容器是CDB根目录或应用程序根目录。</p>
                              <p>当前容器是CDB根时，PDB在CDB中创建。当前容器是应用程序根目录时，将在应用程序容器中创建应用程序PDB。</p>
                           </li>
                           <li>
                              <p>执行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句。
                              </p>
                              <p>下面的语句创建<code class="codeph">pdb1_ref_cln</code>从<code class="codeph">pdb1</code> ：</p><pre class="pre codeblock"><code>创建可插入的数据库pdb1_ref_cln来自pdb1 @ pdb1_link刷新模式每60分钟;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2FF464EE-706C-4FE1-9E54-31312550BED6__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" title="可刷新克隆PDB是只读克隆，可以定期与其源PDB同步。">管理可刷新的克隆PDB</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="CREATE PLUGGABLE DATABASE ...REFRESH MODE语句克隆源PDB并将克隆配置为可刷新。刷新克隆PDB使用自上次重做日志应用以来累积的重做更新它。">关于可刷新克隆PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-22118625-3157-4C38-8A88-79A561A3E6ED" name="GUID-22118625-3157-4C38-8A88-79A561A3E6ED"></a><h3 id="MULTI-GUID-22118625-3157-4C38-8A88-79A561A3E6ED" class="sect3"><span class="enumeration_section">7.6</span>从PDB快照克隆PDB</h3>
               <div>
                  <p>您可以通过执行<code class="codeph">CREATE PLUGGABLE DATABASE … USING SNAPSHOT</code>语句从PDB快照创建PDB。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D">关于从PDB快照克隆PDB</a><br><strong class="term">PDB快照</strong>是<strong class="term">PDB</strong>的数据库管理的时间点副本。 <strong class="term">快照克隆PDB</strong>是从快照创建的PDB。
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-539A1F68-27B9-4802-95AC-2C721347296C">从PDB快照克隆PDB：场景</a><br>此方案通过执行<code class="codeph">CREATE PLUGGABLE DATABASE ...从PDB快照创建新的PDB <code class="codeph">CREATE PLUGGABLE DATABASE ...USING SNAPSHOT</code> 。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D" name="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D"></a><h4 id="MULTI-GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D" class="sect4"><span class="enumeration_section">7.6.1</span>关于从PDB快照克隆PDB</h4>
                  <div>
                     <p><strong class="term">PDB快照</strong>是<strong class="term">PDB</strong>的数据库管理的时间点副本。 <strong class="term">快照克隆PDB</strong>是从快照创建的PDB。
                     </p>
                     <p>从<span>Oracle Database 19c</span>开始，PDB快照的行为取决于<code class="codeph">CLONEDB</code>初始化参数的设置：</p>
                     <ul id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__UL_G4J_VWZ_YFB" style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CLONEDB = TRUE</code></p>
                           <p>您可以拍摄处于读/写模式或只读模式的PDB的快照。PDB的第一个快照包含原始PDB文件的完整副本，但同一PDB的后续快照包含稀疏文件。</p>
                        </li>
                        <li>
                           <p><code class="codeph">CLONEDB = FALSE</code></p>
                           <p>您只能拍摄只读PDB的快照。每个快照都是源PDB文件的完整副本。在这种情况下，如果基于PDB快照创建克隆PDB，则源PDB必须在克隆PDB的生命周期内保持只读。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-FEE7CE17-B281-4A3F-980C-B0581F730B0C">
                        <p class="notep1">注意：</p>
                        <p id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__d5e5244">有关<span id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__d5e5246">不同版本和服务支持哪些功能的详细信息，</span>请参阅“ <span id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__d5e5246"><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle数据库许可信息用户手册</cite></span></a> ”</span> 。
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-D861A478-C6DA-4459-80A8-6AD3E58B0E19">PDB快照轮播</p>
                        <p><span>PDB快照轮播</span>是一个包含最多8个快照的库。通过轮播，您可以将PDB的“热克隆”执行到特定的SCN或时间点。用例是从轮播中恢复快照，通常是最新的快照，然后将其恢复到所需的SCN或时间戳。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-185DBA54-7406-4B02-8BD2-1EA62BF693D3">从PDB快照克隆PDB</p>
                        <p><code class="codeph">CREATE PLUGGABLE DATABASE</code>语句的<code class="codeph">USING SNAPSHOT</code>子句从现有PDB快照创建活动PDB。要查看可用的PDB快照，请查询<code class="codeph">DBA_PDB_SNAPSHOTS</code>数据字典视图。
                        </p>
                        <p>要从快照克隆PDB，请在<code class="codeph">USING SNAPSHOT</code>子句中指定以下值之一：</p>
                        <ul id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__UL_Y1C_LRX_XFB" style="list-style-type:disc">
                           <li>
                              <p>PDB快照名称</p>
                           </li>
                           <li>
                              <p>PDB快照SCN的格式如下：</p><pre class="pre codeblock"><code>使用SNAPSHOT在SCN <span class="italic">scn</span></code></pre></li>
                           <li>
                              <p>PDB快照时间戳采用以下格式：</p><pre class="pre codeblock"><code>在TIME <span class="italic">时间戳</span>使用SNAPSHOT</code></pre></li>
                        </ul>
                        <p>如果PDB快照是稀疏副本（即，它是在<code class="codeph">CLONEDB=TRUE</code>时创建的，并且不是源PDB的第一个快照），则从此快照克隆的PDB也是稀疏的。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__GUID-2FFC8633-8544-4BB0-9755-9BF6E0FDD169">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D__UL_Z1C_LRX_XFB" style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdb-snapshots.html#GUID-8771C38E-E6C1-49BC-8160-CE987E6154AF" title="SNAPSHOT MODE子句控制快照的创建，并确定创建是手动，自动还是禁用。">PDB Snapshot Carousel的用户界面</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">USING SNAPSHOT</code>子句的语法和语义的<a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55694" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><span><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>“Oracle数据库许可信息用户手册”</cite></span></a> ，了解不同版本和服务支持哪些功能的详细信息</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-22118625-3157-4C38-8A88-79A561A3E6ED" title="您可以通过执行CREATE PLUGGABLE DATABASE ... USING SNAPSHOT语句从PDB快照创建PDB。">从PDB快照克隆PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-539A1F68-27B9-4802-95AC-2C721347296C" name="GUID-539A1F68-27B9-4802-95AC-2C721347296C"></a><h4 id="MULTI-GUID-539A1F68-27B9-4802-95AC-2C721347296C" class="sect4"><span class="enumeration_section">7.6.2</span>从PDB快照克隆PDB：场景</h4>
                  <div>
                     <p>此方案通过执行<code class="codeph">CREATE PLUGGABLE DATABASE ...从PDB快照创建新的PDB <code class="codeph">CREATE PLUGGABLE DATABASE ...USING SNAPSHOT</code> 。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__GUID-804E2E00-EA12-4E3B-A3E6-8ED68EFEF609">假设</p>
                        <p>此示例假定以下因素：</p>
                        <ul id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__UL_GYR_DPL_YFB" style="list-style-type:disc">
                           <li>
                              <p><span>PDB快照轮播</span>包含源PDB <code class="codeph">salespdb</code> 8个每日快照，以工作日，月中的某天以及创建它们的时间命名： <code class="codeph">pdb1_mon_2_1201</code> ， <code class="codeph">pdb1_tue_3_1201</code> ， <code class="codeph">pdb1_wed_4_1201</code> ，依此类推。
                              </p>
                           </li>
                           <li>
                              <p>当<code class="codeph">salespdb</code>处于读/写模式且<code class="codeph">CLONEDB</code>初始化参数设置为<code class="codeph">TRUE</code>时，将创建所有快照。除第一个之外的所有PDB快照都是稀疏的。
                              </p>
                           </li>
                           <li>
                              <p>新的PDB将是一个名为<code class="codeph">pdb1_wed_4_1201</code>的快照的克隆，该快照是上个星期三上午12:01 <code class="codeph">pdb1</code>的快照。</p>
                           </li>
                           <li>
                              <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                              </p>
                           </li>
                           <li>
                              <p>不需要<code class="codeph">FILE_NAME_CONVERT</code>子句和<code class="codeph">CREATE_FILE_DEST</code>子句。
                              </p>
                              <p>已启用Oracle Managed Files，或者已设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数。因此，不需要<code class="codeph">FILE_NAME_CONVERT</code>子句。这些文件将根据Oracle Managed Files配置或初始化参数设置复制到新位置。
                              </p>
                           </li>
                           <li>
                              <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                              </p>
                           </li>
                           <li>
                              <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__GUID-081F1A33-896B-4DE4-87CF-75B3E23BDF83">要从PDB快照克隆PDB：</p>
                        <ol id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__OL_I21_GPL_YFB">
                           <li>
                              <p>在SQL * Plus中，确保当前容器是CDB根目录或应用程序根目录。</p>
                              <p>当前容器是CDB根时，PDB在CDB中创建。当前容器是应用程序根目录时，将在应用程序容器中创建应用程序PDB。</p>
                           </li>
                           <li>
                              <p>执行<code class="codeph">CREATE PLUGGABLE DATABASE ...USING SNAPSHOT</code>声明。
                              </p>
                              <p>以下语句从名为<code class="codeph">pdb1_wed_4_1201</code>的PDB快照克隆<code class="codeph">pdb1_copy</code> PDB：</p><pre class="pre codeblock"><code>从pdb1创建可插入的数据库pdb1_copy使用SNAPSHOT pdb1_wed_4_1201;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__GUID-31595C90-5E04-4133-85D4-9078A802CC51">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-539A1F68-27B9-4802-95AC-2C721347296C__UL_KWR_D2J_CGB" style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdb-snapshots.html#GUID-82BCCB60-4A6F-4687-BD16-64A5FE767FB5" title="在创建或更改PDB时，使用SNAPSHOT MODE EVERY子句为自动快照配置PDB。">配置自动PDB快照</a> ”</span></p>
                           </li>
                           <li>
                              <p><span><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>“Oracle数据库许可信息用户手册”</cite></span></a> ，了解不同版本和服务支持哪些功能的详细信息</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-22118625-3157-4C38-8A88-79A561A3E6ED" title="您可以通过执行CREATE PLUGGABLE DATABASE ... USING SNAPSHOT语句从PDB快照创建PDB。">从PDB快照克隆PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-133B6D33-3B52-433B-9C85-C4BEE4F7284E" name="GUID-133B6D33-3B52-433B-9C85-C4BEE4F7284E"></a><h3 id="MULTI-GUID-133B6D33-3B52-433B-9C85-C4BEE4F7284E" class="sect3"><span class="enumeration_section">7.7</span>创建Snapshot Copy PDB</h3>
               <div>
                  <p>您可以从底层存储的快照克隆PDB。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62">关于Snapshot Copy PDB</a><br>您可以通过执行<code class="codeph">CREATE PLUGGABLE DATABASE ...来创建<strong class="term">快照复制PDB</strong> <code class="codeph">CREATE PLUGGABLE DATABASE ...来自......SNAPSHOT COPY</code>声明。源PDB在<code class="codeph">FROM</code>子句中指定。
                     </li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-B7746995-6DC8-4650-A955-7DFDD49E5087">创建Snapshot副本PDB：方案</a><br>此方案通过在<code class="codeph">CREATE PLUGGABLE DATABASE</code>指定<code class="codeph">SNAPSHOT COPY</code>子句来<code class="codeph">CREATE PLUGGABLE DATABASE</code>快照副本PDB。</li>
                     <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774">实现Snapshot Copy PDB</a><br>您可以通过运行带有<code class="codeph">MATERIALIZE</code>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句来实现快照复制PDB。实现快照复制PDB复制所有数据块。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" name="GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62"></a><h4 id="MULTI-GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" class="sect4"><span class="enumeration_section">7.7.1</span>关于Snapshot Copy PDB</h4>
                  <div>
                     <p>您可以通过执行<code class="codeph">CREATE PLUGGABLE DATABASE ...来创建<strong class="term">快照复制PDB</strong> <code class="codeph">CREATE PLUGGABLE DATABASE ...来自......SNAPSHOT COPY</code>声明。源PDB在<code class="codeph">FROM</code>子句中指定。
                     </p>
                     <p>快照复制减少了创建克隆所需的时间，因为它不包含源数据文件的完整副本。此外，快照拷贝PDB占用源PDB的一小部分空间。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705">Snapshot Copy PDB的存储要求</a><br>在<code class="codeph">CREATE PLUGGABLE DATABASE ...指定<code class="codeph">SNAPSHOT COPY</code>子句时<code class="codeph">CREATE PLUGGABLE DATABASE ...FROM <span class="codeinlineitalic">sourcepdb</span></code> ，源PDB的所有数据文件必须位于相同的存储类型中。
                        </li>
                        <li class="ulchildlink"><a href="cloning-a-pdb.html#GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E">快照类型</a><br>在Oracle Multitenant中，术语<strong class="term">快照</strong>根据上下文意味着不同的东西。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-133B6D33-3B52-433B-9C85-C4BEE4F7284E" title="您可以从底层存储的快照克隆PDB。">创建Snapshot Copy PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705" name="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705"></a><h5 id="MULTI-GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705" class="sect5"><span class="enumeration_section">7.7.1.1</span> Snapshot Copy PDB的存储要求</h5>
                     <div>
                        <p>在<code class="codeph">CREATE PLUGGABLE DATABASE ...指定<code class="codeph">SNAPSHOT COPY</code>子句时<code class="codeph">CREATE PLUGGABLE DATABASE ...FROM <span class="codeinlineitalic">sourcepdb</span></code> ，源PDB的所有数据文件必须位于相同的存储类型中。
                        </p>
                        <p>存储要求取决于<code class="codeph">CLONEDB</code>初始化参数的设置：</p>
                        <ul id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705__UL_UBX_HGL_YFB" style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CLONEDB = FALSE</code></p>
                              <p>源PDB文件的基础文件系统必须支持存储快照。此类文件系统包括Oracle自动存储管理群集文件系统（Oracle ACFS）和直接NFS客户端存储。Oracle Exadata支持在配置了稀疏ASM网格磁盘的ASM上的快照复制功能。</p>
                           </li>
                           <li>
                              <p><code class="codeph">CLONEDB = TRUE</code></p>
                              <p>源PDB文件的基础文件系统可以是任何本地文件系统，网络文件系统（NFS）或启用了Direct NFS并支持稀疏文件的集群文件系统。大多数UNIX系统都满足这些要求，包括Oracle ACFS和ZFS。但是，当<code class="codeph">CLONEDB=TRUE</code> ，当存在克隆时，源PDB必须保持打开的只读模式。
                              </p>
                           </li>
                        </ul>
                        <p>Direct NFS Client使Oracle数据库可以直接访问网络连接存储（NAS）设备，而不是使用操作系统内核NFS客户端。如果源PDB的文件存储在Direct NFS客户端存储上，则必须满足以下附加要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>源PDB文件必须位于NFS卷上。</p>
                           </li>
                           <li>
                              <p>存储凭据必须存储在透明数据加密密钥库中。</p>
                           </li>
                           <li>
                              <p>存储用户必须具有在承载源PDB文件的卷上创建和销毁快照所需的权限。</p>
                           </li>
                           <li>
                              <p>必须使用<code class="codeph">ADMINISTER KEY MANAGEMENT ADD SECRET</code> SQL语句将凭据存储在密钥库中。
                              </p>
                              <p>以下示例在软件密钥库中配置Oracle数据库密钥：</p><pre class="pre codeblock"><code>管理员密钥管理添加秘密' <span class="italic">秘密</span> '为客户' <span class="italic">client_name</span> '使用标签' <span class="italic">storage_user</span> '通过<span class="italic">keystore_password</span> IDENTIFIED WITH BACKUP;</code></pre><p>运行此语句为配置中的每个存储服务器添加单独的条目。在前面的示例中，必须指定以下值：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p> <span class="italic"><code class="codeph">secret</code></span>是存储密码。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">client_name</code></span>是存储服务器。在Linux或UNIX平台上，它是在/ etc / hosts中输入的名称或存储服务器的IP地址。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">tag</code></span>是传递给存储服务器的用户名。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">keystore_password</code></span>是<span class="italic"><code class="codeph">keystore_password</code></span>的密码。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>您无法拔出使用<code class="codeph">SNAPSHOT COPY</code>子句创建的PDB克隆。你只能放弃它们。尝试拔出使用<code class="codeph">SNAPSHOT COPY</code>子句创建的克隆会导致错误。
                        </p>
                        <p>使用目标PDB的GUID命名和标记存储克隆。您可以查询<code class="codeph">DBA_PDB_HISTORY</code>视图的<code class="codeph">CLONETAG</code>列以查看存储克隆的克隆标记。
                        </p>
                        <div class="infoboxnote" id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705__GUID-A780A64D-E5EA-428B-BC57-3D4D901F9CAF">
                           <p class="notep1">注意：</p>
                           <p>Snapshot副本行为和效率是特定于供应商的，并且可能因供应商而异。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-E4EAE488-5371-4B8A-A839-2ADFA7507705__GUID-E5C87C2A-2F7C-4B03-A716-95BB3F3A5B05">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关Oracle ACFS的详细信息，请参见<a href="../ostmg/overview-acfs-advm.html#OSTMG31000" target="_blank"><span><cite>“Oracle自动存储管理管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关Direct NFS Client的信息，请<a href="../install-and-upgrade.html" target="_blank"><span><cite>参见</cite></span></a>适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关透明数据加密的详细信息，请参见<a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG-GUID-0E59AD1E-514A-4F93-9A1F-E5683A535A89" target="_blank"><span><cite>Oracle数据库高级安全性指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关支持PDB快照克隆的平台的更多信息， <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=support_article_1597027_1" target="_blank">请参阅My Oracle Support说明1597027.1</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SAGUG-GUID-78370F4C-EEDD-4230-9A80-BF979B4C907F" target="_blank"><span><cite>Oracle Exadata系统软件用户指南</cite></span></a> ，了解有关使用<code class="codeph">SNAPSHOT COPY</code>子句创建的PDB克隆的Exadata支持的信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" title="您可以通过执行CREATE PLUGGABLE DATABASE来创建快照复制PDB ...来自......SNAPSHOT COPY声明。源PDB在FROM子句中指定。">关于Snapshot Copy PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E" name="GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E"></a><h5 id="MULTI-GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E" class="sect5"><span class="enumeration_section">7.7.1.2</span>快照类型</h5>
                     <div>
                        <p>在Oracle Multitenant中，术语<strong class="term">快照</strong>根据上下文意味着不同的东西。
                        </p>
                        <p>主要区别在于存储托管快照和数据库托管快照之间。您只能从存储托管快照创建快照复制PDB。从数据库管理的快照创建的PDB是标准克隆PDB。数据库管理的快照不涉及存储级快照。下表说明了这些差异。</p>
                        <div class="tblformal" id="GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E__TABLE_J5Z_NMS_YFB">
                           <p class="titleintable">表7-2快照类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="快照类型" border="1" summary="This table distinguishes different meanings of the term " snapsho="=" ="" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d38373e6133">宾语</th>
                                    <th align="left" valign="bottom" id="d38373e6135">SQL语句</th>
                                    <th align="left" valign="bottom" id="d38373e6137">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e6141" headers="d38373e6133 ">
                                       <p>存储管理的快照</p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e6141 d38373e6135 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e6141 d38373e6137 ">
                                       <p>仅在特定文件系统上支持存储托管快照。存储和安全凭据要求取决于<code class="codeph">CLONEDB</code>初始化参数的设置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e6154" headers="d38373e6133 ">
                                       <p>Snapshot copy PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e6154 d38373e6135 ">
                                       <p><code class="codeph">创建可插入的数据库...来自......快照复制</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d38373e6154 d38373e6137 ">
                                       <p>快照复制PDB不包含源数据文件的完整副本。而是，Oracle数据库创建基础文件系统的存储级快照，然后从快照创建克隆PDB。</p>
                                       <p>与标准克隆PDB不同，快照复制PDB依赖于存储快照。因此，您无法从CDB根目录中拔出此PDB或将其插入应用程序根目录。此外，您无法删除PDB所基于的存储快照。相反，您必须实现快照复制PDB，它将其转换为具有非稀疏文件的完整PDB。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e6167" headers="d38373e6133 ">PDB快照</td>
                                    <td align="left" valign="top" headers="d38373e6167 d38373e6135 "><code class="codeph">ALTER PLOGGABLE DATABASE SNAPSHOT</code></td>
                                    <td align="left" valign="top" headers="d38373e6167 d38373e6137 ">
                                       <p>PDB快照是PDB的数据库管理副本。不涉及存储级快照。</p>
                                       <p>如果在<code class="codeph">CLONEDB=FALSE</code>时创建快照，则快照是源PDB的完整副本。从Oracle Database 19c开始，如果在<code class="codeph">CLONEDB=TRUE</code>时创建快照，则源PDB可以处于读/写模式。在这种情况下，除第一个快照之外的每个快照都是源PDB的稀疏副本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d38373e6184" headers="d38373e6133 ">基于PDB快照克隆PDB</td>
                                    <td align="left" valign="top" headers="d38373e6184 d38373e6135 "><code class="codeph">创建可插入的数据库...来自......使用快照</code></td>
                                    <td align="left" valign="top" headers="d38373e6184 d38373e6137 ">
                                       <p>如果在<code class="codeph">CLONEDB=FALSE</code>时创建快照，则此语句将创建一个完整的独立克隆PDB，无需实现。从Oracle Database 19c开始，如果在<code class="codeph">CLONEDB=TRUE</code>时创建了快照，则此语句将创建稀疏克隆PDB。</p>
                                       <p>您不能通过包含<code class="codeph">USING SNAPSHOT</code>子句和<code class="codeph">SNAPSHOT COPY</code>子句来创建基于PDB快照的快照复制PDB。但是，您可以<code class="codeph">USING SNAPSHOT</code>创建独立克隆PDB，然后从独立PDB创建<code class="codeph">SNAPSHOT COPY</code> PDB。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F26C8A55-2465-475A-905A-83BD2E68AE6E__GUID-03B7E63E-EE98-4CC6-8CD7-27104E79A60B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="cloning-a-pdb.html#GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" title="您可以通过运行带有MATERIALIZE子句的ALTER PLUGGABLE DATABASE语句来实现快照复制PDB。实现快照复制PDB复制所有数据块。">实现快照复制PDB</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdb-snapshots.html#GUID-F2FC2FCB-2DA2-43B5-B98D-8902BC8D66A6" title="特定PDB的轮播是该PDB的循环副本库。">PDB快照轮播如何工作</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>“Oracle数据库许可信息用户手册”</cite></span></a> ，了解不同版本和服务支持哪些功能的详细信息</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" title="您可以通过执行CREATE PLUGGABLE DATABASE来创建快照复制PDB ...来自......SNAPSHOT COPY声明。源PDB在FROM子句中指定。">关于Snapshot Copy PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087" name="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087"></a><h4 id="MULTI-GUID-B7746995-6DC8-4650-A955-7DFDD49E5087" class="sect4"><span class="enumeration_section">7.7.2</span>创建Snapshot Copy PDB：场景</h4>
                  <div>
                     <p>此方案通过在<code class="codeph">CREATE PLUGGABLE DATABASE</code>指定<code class="codeph">SNAPSHOT COPY</code>子句来<code class="codeph">CREATE PLUGGABLE DATABASE</code>快照副本PDB。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087__GUID-78C4DE76-F1B0-43F7-BACF-20966A52359A">假设</p>
                        <p>此方案假定以下因素：</p>
                        <ul id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087__UL_RZX_QTL_YFB" style="list-style-type:disc">
                           <li>
                              <p>将基于名为<code class="codeph">pdb1_snap3</code>的PDB快照创建新的快照复制PDB，该快照是PDB快照，它是特定时间点和SCN的<code class="codeph">pdb1</code>的副本。</p>
                           </li>
                           <li>
                              <p><code class="codeph">PATH_PREFIX</code>子句不是必需的。
                              </p>
                           </li>
                           <li>
                              <p>不需要<code class="codeph">FILE_NAME_CONVERT</code>子句和<code class="codeph">CREATE_FILE_DEST</code>子句。
                              </p>
                              <p>已启用Oracle Managed Files，或者已设置<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数。因此，不需要<code class="codeph">FILE_NAME_CONVERT</code>子句。这些文件将根据Oracle Managed Files配置或初始化参数设置复制到新位置。
                              </p>
                           </li>
                           <li>
                              <p>PDB不需要存储限制。因此，不需要<code class="codeph">STORAGE</code>子句。
                              </p>
                           </li>
                           <li>
                              <p>没有与将在目标位置创建的新临时文件同名的文件。因此， <code class="codeph">TEMPFILE REUSE</code>子句。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087__GUID-E4B9C2F9-AD69-468C-8A52-8E4B6F1E437E">要创建快照副本PDB：</p>
                        <ol id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087__OL_RZF_TTL_YFB">
                           <li>
                              <p>在SQL * Plus中，确保当前容器是CDB根目录或应用程序根目录。</p>
                              <p>当前容器是CDB根时，PDB在CDB中创建。当前容器是应用程序根目录时，将在应用程序容器中创建应用程序PDB。</p>
                           </li>
                           <li>
                              <p>执行<code class="codeph">CREATE PLUGABBLE DATABASE … SNAPSHOT COPY</code>语句。
                              </p>
                              <p>下面的语句克隆<code class="codeph">pdb1_snap_copy</code> PDB从<code class="codeph">pdb1_snap3</code> PDB快照：</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb1_snap_copy FROM pdb1使用SNAPSHOT pdb1_snap3 SNAPSHOT COPY;</code></pre><p>创建<code class="codeph">pdb1_snap_copy</code>后，它依赖于<code class="codeph">pdb1_snap3</code> PDB快照。因此，当<code class="codeph">pdb1_snap_copy</code>存在时，您不能删除<code class="codeph">pdb1_snap3</code> 。但是，您可以通过运行<code class="codeph">ALTER PLUGGABLE DATABASE ...将<code class="codeph">pd1_snap_copy</code>从快照复制PDB转换为常规PDB <code class="codeph">ALTER PLUGGABLE DATABASE ...MATERIALIZE</code>声明。实现PDB意味着<code class="codeph">pdb1_snap_copy</code>不再依赖于<code class="codeph">pdb1_snap3</code> ，使您可以删除<code class="codeph">pdb1_snap3</code> 。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B7746995-6DC8-4650-A955-7DFDD49E5087__GUID-8A45ABFB-715E-412F-92A2-FD97869736B4">
                        <p class="notep1">也可以看看：</p><span class="q">“ <a href="cloning-a-pdb.html#GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" title="您可以通过运行带有MATERIALIZE子句的ALTER PLUGGABLE DATABASE语句来实现快照复制PDB。实现快照复制PDB复制所有数据块。">实现快照复制PDB</a> ”</span></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-133B6D33-3B52-433B-9C85-C4BEE4F7284E" title="您可以从底层存储的快照克隆PDB。">创建Snapshot Copy PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" name="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774"></a><h4 id="MULTI-GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774" class="sect4"><span class="enumeration_section">7.7.3</span>实现Snapshot Copy PDB</h4>
                  <div>
                     <p>您可以通过运行带有<code class="codeph">MATERIALIZE</code>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句来实现快照复制PDB。实现快照复制PDB复制所有数据块。
                     </p>
                     <div class="section">
                        <p>创建快照复制PDB时，它依赖于源PDB。由于这种依赖性，您无法删除源PDB。</p>
                        <p>实现快照复制PDB将使用稀疏文件的快照复制PDB转换为完整的PDB，该PDB <span class="italic">不</span>使用稀疏文件。因此，它不再依赖于可以丢弃的源PDB。
                        </p>
                        <div class="infoboxnote" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-A54744F1-46F7-482D-9343-D892E1807DC3">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">USING SNAPSHOT</code>子句创建的PDB快照和<code class="codeph">USING SNAPSHOT</code> <code class="codeph">SNAPSHOT COPY</code>子句创建的快照复制PDB是两种不同类型的快照，不应相互混淆。<code class="codeph">USING SNAPSHOT</code>子句创建一个不需要实现的完整PDB。<code class="codeph">SNAPSHOT COPY</code>子句创建稀疏PDB，如果要删除它所基于的PDB快照，则必须实现该PDB。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-03E353ED-291D-4BA8-80B7-B9F6C0B08EED">要实现PDB快照：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是正在实现的快照副本PDB。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">MATERIALIZE</code>子句运行<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-509A37D6-9BB3-469B-BB3A-B5D32C8C2AE1">
                        <p class="titleinexample">示例7-2实现Snapshot Copy PDB</p>
                        <p>以下SQL语句实现了快照副本PDB：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE MATERIALIZE;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0284ED92-A3F4-4D10-A8C7-B47FABA5A774__GUID-F3848A4C-DFF3-436A-A8A6-75EBA81E3901">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关快照复制PDB的详细信息，请<span class="q"><a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" title="You can create a snapshot copy PDB by executing a CREATE PLUGGABLE DATABASE ... FROM ... SNAPSHOT COPY statement. The source PDB is specified in the FROM clause.">参见</a> “ <a href="cloning-a-pdb.html#GUID-3E29F21E-FB48-408A-BE2F-3DE1F3AF6F62" title="您可以通过执行CREATE PLUGGABLE DATABASE来创建快照复制PDB ...来自......SNAPSHOT COPY声明。源PDB在FROM子句中指定。">关于Snapshot Copy PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="cloning-a-pdb.html#GUID-B7746995-6DC8-4650-A955-7DFDD49E5087" title="此方案通过在CREATE PLUGGABLE DATABASE中指定SNAPSHOT COPY子句来创建快照副本PDB。">创建Snapshot Copy PDB：场景</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-133B6D33-3B52-433B-9C85-C4BEE4F7284E" title="您可以从底层存储的快照克隆PDB。">创建Snapshot Copy PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999" name="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999"></a><h3 id="MULTI-GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999" class="sect3"><span class="enumeration_section">7.8</span>创建<span>分割镜像克隆PDB</span></h3>
               <div>
                  <p>在Oracle ASM中，分割镜像是从父副本分离时间点媒体副本的过程。拆分后，对父项的更新不会影响子副本。</p>
                  <div class="section">
                     <p>从<span>Oracle Database 18c开始</span> ，父副本可以是PDB而不是存储卷。<span>分割镜像克隆PDB</span>与父代相同的媒体驻留在同一媒体上。主要用例是在Oracle ASM环境中快速配置测试和开发PDB。
                     </p>
                     <div class="infoboxnote" id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999__GUID-B668A0D3-E9CD-4646-9029-36C019AC89C6">
                        <p class="notep1">注意：</p>
                        <p><span>分割镜像克隆PDB</span>需要Oracle ASM flex和扩展磁盘组。
                        </p>
                     </div>
                     <p>镜像刷新正在刷新具有来自父PDB的更改的<span>分割镜像克隆</span> PDB。实际上，此操作相当于删除镜像分割，然后进行新的镜像分割。
                     </p>
                     <p>要删除<span>分割镜像克隆PDB</span> ，请输入<code class="codeph">ALTER PLUGGABLE DATABASE ...DROP MIRROR COPY</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999__GUID-527D2D0F-868A-4A60-95A0-CFCFBC6349BA">要创建<span>分割镜像克隆PDB</span> ：</p>
                     <ol id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999__OL_EPG_FBM_YFB">
                        <li>
                           <p>启动SQL * Plus，并连接到CDB根目录。</p>
                        </li>
                        <li>
                           <p>通过发布<code class="codeph">ALTER PLUGGABLE DATABASE ...准备源PDB <code class="codeph">ALTER PLUGGABLE DATABASE ...PREPARE MIRROR COPY</code>声明。
                           </p>
                        </li>
                        <li>
                           <p>通过发出<code class="codeph">CREATE PLUGGABLE DATABASE ...从源PDB创建克隆PDB <code class="codeph">CREATE PLUGGABLE DATABASE ...来自......USING MIRROR COPY</code>声明。
                           </p>
                        </li>
                        <li>
                           <p>（可选）查询<code class="codeph">V$ASM_DBCLONE_INFO</code>视图以查看源PDB，克隆的PDB及其文件组之间的关系。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999__GUID-F182EDCB-B18D-4D72-8C5D-CB73ABCAEA96">
                     <p class="notep1">也可以看看：</p>
                     <ul id="GUID-7ED69A82-B797-4497-A160-FDDAA2AAC999__UL_RRG_3BM_YFB" style="list-style-type:disc">
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=OSTMG-GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a> ，了解如何创建或删除<span>分割镜像克隆PDB</span></li>
                        <li>
                           <p><a href="../refrn/V-ASM_DBCLONE_INFO.html#REFRN-GUID-434D0A47-A61C-4882-8FAC-9539F272E609" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解有关<code class="codeph">V$ASM_DBCLONE_INFO</code>更多信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="您可以通过克隆本地PDB，远程PDB或非CDB来创建PDB。">克隆PDB或非CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>