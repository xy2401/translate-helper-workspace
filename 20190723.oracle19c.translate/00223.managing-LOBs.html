<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You must perform various administrative tasks to set up, maintain, and use a database that contains LOBs."></meta>
      <meta name="description" content="You must perform various administrative tasks to set up, maintain, and use a database that contains LOBs."></meta>
      <title>管理LOB：数据库管理</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content="You must perform various administrative tasks to set up, maintain, and use a database that contains LOBs."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="LOB-administration.html" title="Previous" type="text/html"></link>
      <link rel="next" href="migrating-columns-from-LONGs-to-LOBs.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="LOB-administration.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="migrating-columns-from-LONGs-to-LOBs.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="LOB-administration.html" property="item" typeof="WebPage"><span property="name">LOB管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理LOB：数据库管理</li>
            </ol>
            <a id="GUID-10997841-B144-447E-B558-2F19E65A42F9" name="GUID-10997841-B144-447E-B558-2F19E65A42F9"></a><a id="ADLOB45150"></a>
            
            <h2 id="ADLOB-GUID-10997841-B144-447E-B558-2F19E65A42F9" class="sect2"><span class="enumeration_chapter">16</span>管理LOB：数据库管理</h2>
         </header>
         <div class="ind">
            <div>
               <p>您必须执行各种管理任务来设置，维护和使用包含LOB的数据库。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="managing-LOBs.html#GUID-BBEE2D3E-909B-4FBE-B6CE-3F3970ED051E" title="建议将某些实用程序批量加载到LOB列中作为数据库设置或维护任务的一部分。">用于将数据加载到LOB中的数据库实用程序</a></p>
                  </li>
                  <li>
                     <p><a href="managing-LOBs.html#GUID-D3873ED4-5FAD-479F-85F9-EE56D4B18ED5" title="数据库跟踪每个会话中的临时LOB，应用程序可以使用会话ID确定哪个用户拥有临时LOB。">临时LOB管理</a></p>
                  </li>
                  <li>
                     <p><a href="managing-LOBs.html#GUID-34B4515A-B3D6-4E3A-89A7-BC17531B7C96" title="您需要执行各种管理任务来管理包含BFILE的数据库。">BFILEs管理</a></p>
                  </li>
                  <li>
                     <p><a href="managing-LOBs.html#GUID-AE182A71-711C-47D4-9CF0-3EE2505F6FD4" title="数据库管理员使用某些技术来更改LOB的默认存储。">更改LOB的表空间存储</a></p>
                  </li>
                  <li>
                     <p><a href="managing-LOBs.html#GUID-CD7FCDA4-AFCC-4F91-9179-601DC4CF03F8">管理LOB签名</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB45151"></a><div class="props_rev_3"><a id="GUID-BBEE2D3E-909B-4FBE-B6CE-3F3970ED051E" name="GUID-BBEE2D3E-909B-4FBE-B6CE-3F3970ED051E"></a><h3 id="ADLOB-GUID-BBEE2D3E-909B-4FBE-B6CE-3F3970ED051E" class="sect3">用于将数据加载到LOB中的数据库实用程序</h3>
               <div>
                  <p>建议将某些实用程序批量加载到LOB列中作为数据库设置或维护任务的一部分。</p>
                  <p>建议将以下实用程序作为数据库设置或维护任务的一部分，将数据批量加载到LOB列中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用SQL * Loader</p>
                     </li>
                     <li>
                        <p>Oracle Data Pump</p>
                        <div class="infoboxnote" id="GUID-BBEE2D3E-909B-4FBE-B6CE-3F3970ED051E__GUID-DE087B5B-52A1-4EEA-B671-EE1EB3711E98">
                           <p class="notep1">注意：</p>
                           <p>应用程序开发人员：如果要将数据加载到应用程序中的LOB，则建议使用LOB API。请参阅<a href="using-LOB-APIs.html#GUID-5BEE64AC-5528-45DC-AB57-A8EDE8E4DE65" title="您可以使用PL / SQL过程DBMS_LOB.CONVERTTOCLOB将BLOB实例转换为CLOB。">使用LOB API</a> 。
                           </p>
                        </div>
                     </li>
                  </ul>
               </div><a id="ADLOB45152"></a><div class="props_rev_3"><a id="GUID-6C345C7E-120D-4653-AF13-DB99325D106E" name="GUID-6C345C7E-120D-4653-AF13-DB99325D106E"></a><h4 id="ADLOB-GUID-6C345C7E-120D-4653-AF13-DB99325D106E" class="sect4">关于使用SQL * Loader加载LOB</h4>
                  <div>
                     <p>使用SQL * Loader将数据加载到LOB中有两种常用技术</p>
                     <p>您可以使用SQL * Loader以这些方式将数据加载到LOB中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从主数据文件加载数据</p>
                        </li>
                        <li>
                           <p>使用LOB文件从辅助数据文件加载</p>
                        </li>
                     </ul>
                     <p>使用SQL * Loader加载LOB时，请考虑以下问题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于SQL * Loader常规路径加载，加载特定LOB失败不会导致拒绝包含该LOB的记录;相反，记录最终包含一个空的LOB。</p>
                           <p>对于SQL * Loader直接路径加载，LOB可以为<span class="italic">空</span>或<span class="italic">截断</span> 。LOB被分段发送到服务器以进行加载。如果有错误，则丢弃带有错误的LOB片段，并且不加载该LOB的其余部分。换句话说，如果带有错误的整个LOB包含在第一部分中，则该LOB列为空或截断。
                           </p>
                        </li>
                        <li>
                           <p>从<code class="codeph">LOB file</code>加载时，指定与LOB类型列对应的字段的最大长度。如果指定了最大长度，则将其作为提示以帮助优化内存使用。重要的是，最大长度规格不要低估真实的最大长度。
                           </p>
                        </li>
                        <li>
                           <p>使用SQL * Loader直接路径加载时，加载LOB会占用大量内存。如果在加载LOB时出现消息“SQL * Loader 700（内存不足）”，那么内部代码可能在每个加载调用中批处理的行数多于操作系统和进程内存所支持的行数。解决方法是使用ROWS选项在每个数据保存中读取较少数量的行。</p>
                        </li>
                        <li>
                           <p>您还可以使用Direct Path API加载LOB。</p>
                        </li>
                        <li>
                           <p>在<code class="codeph">CLOB</code>或<code class="codeph">XMLType</code>列中加载包含XML数据的列时，建议使用<code class="codeph">LOB file</code> 。在确定是使用SQL * Loader的直接路径加载还是传统路径加载时，请考虑以下XML文档验证标准：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果必须在加载时验证XML文档，请使用<a id="d84445e329" class="indexterm-anchor"></a><a id="d84445e331" class="indexterm-anchor"></a>常规路径负载。
                                 </p>
                              </li>
                              <li>
                                 <p>如果没有必要确保XML文档有效，或者您可以安全地假设XML文档有效，那么您可以执行直接路径加载。<a id="d84445e339" class="indexterm-anchor"></a><a id="d84445e341" class="indexterm-anchor"></a>直接路径加载执行得更好，因为您可以避免XML验证的开销。
                                 </p>
                              </li>
                           </ul>
                           <p><span class="italic">传统的路径加载</span>执行SQL <code class="codeph">INSERT</code>语句以填充Oracle数据库中的表。
                           </p>
                           <p><span class="italic">直接路径加载</span>通过格式化Oracle数据块并将数据块直接写入数据库文件来消除大部分Oracle数据库开销。此外，它不会与其他用户竞争数据库资源，因此它通常可以以接近磁盘的速度加载数据。<a href="../sutil/oracle-data-pump-overview.html#SUTIL-GUID-17FAE261-0972-4220-A2E4-44D479F519D4" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a>中讨论了直接路径负载固有的注意事项，例如限制，安全性和备份影响。
                           </p>
                        </li>
                        <li>
                           <p>要加载的表必须已存在于数据库中。SQL * Loader从不创建表。它加载包含数据或为空的现有表。</p>
                        </li>
                        <li>
                           <p>加载需要以下权限：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您必须对要加载的表具有<code class="codeph">INSERT</code>权限。
                                 </p>
                              </li>
                              <li>
                                 <p>在使用<code class="codeph">REPLACE</code>或<code class="codeph">TRUNCATE</code>选项清空旧数据之前，必须对要加载的表具有<code class="codeph">DELETE</code>权限，然后才能在其位置加载新数据。
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-6C345C7E-120D-4653-AF13-DB99325D106E__GUID-5F740ED2-F5EA-4EF1-B60C-4206E34C0F1C">
                                    <p class="notep1">也可以看看：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p> 有关Direct Path API的更多信息，请参阅<a href="../lnoci/direct-path-load-interface.html#LNOCI120" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                                       </li>
                                       <li>
                                          <p> 有关使用SQL * Loader加载LOB的更多信息，请参见<a href="../sutil/loading-objects-oracle-sql-loader.html#SUTIL007" target="_blank"><span class="italic">Oracle数据库实用程序</span></a></p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB45153"></a><div class="props_rev_3"><a id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382" name="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382"></a><h4 id="ADLOB-GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382" class="sect4">关于使用SQL * Loader填充BFILE列</h4>
                  <div>
                     <p>您可以将文件系统中文件的数据加载到<code class="codeph">BFILE</code>列中。
                     </p>
                     <p>您可以将文件系统中文件的数据加载到<code class="codeph">BFILE</code>列中。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382__GUID-F5E2BECF-12CF-44F3-A567-A84FE0D0DAB1">
                        <p class="notep1">也可以看看：</p>
                        <p> <span class="q">“ <a href="LOB-APIs-for-BFILE-operations.html#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4">支持BFILE API的环境</a> ”</span></p>
                     </div>
                     <p>请注意， <code class="codeph">BFILE</code>数据类型将非结构化<span class="italic">二进制</span> <span class="italic">数据</span>存储在数据库外的操作系统文件中。<code class="codeph">BFILE</code>列或属性存储指向包含数据的服务器端外部文件的文件<span class="italic">定位器</span> 。
                     </p>
                     <div class="infoboxnote" id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382__GUID-6D77A5AC-4041-4BAC-A07A-2B1FF5203DA0">
                        <p class="notep1">注意：</p>
                        <p>要加载为<code class="codeph">BFILE</code>特定文件在加载时不必实际存在。
                        </p>
                     </div>
                     <p>SQL * Loader假定已创建必需的<code class="codeph">DIRECTORY</code>对象。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382__GUID-04BE946D-63BA-48AF-AE06-921539882CF8">
                        <p class="notep1">也可以看看：</p>
                        <p>有关创建目录对象的更多信息，请参阅<span class="q">“ <a href="LOB-APIs-for-BFILE-operations.html#GUID-F7440C27-C7F0-4874-8C3C-F3BC1534CBE0">目录对象</a> ”</span>及其后面的部分</p>
                     </div>
                     <p>与<code class="codeph">BFILE</code>列对应的控制文件字段由列名后跟<code class="codeph">BFILE</code>指令组成。
                     </p>
                     <p><code class="codeph">BFILE</code>指令将<code class="codeph">DIRECTORY</code>对象名称作为参数，后跟<code class="codeph">BFILE</code>名称。这两个都可以作为字符串常量提供，或者它们可以通过其他字段动态获取。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382__GUID-1A246107-52C2-487D-BC89-0AEA75F62F5A">
                        <p class="notep1">也可以看看：</p>
                        <p>有关SQL * Loader语法的详细信息，请参见<a href="../sutil/oracle-data-pump-overview.html#SUTIL-GUID-17FAE261-0972-4220-A2E4-44D479F519D4" target="_blank"><span><cite>Oracle数据库实用</cite></span></a>程序</p>
                     </div>
                     <p>以下两个例子说明了加载<code class="codeph">BFILE</code>的过程。
                     </p>
                     <div class="infoboxnote" id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382__GUID-D89F8389-7305-4876-89AB-6AA7AFA3B989">
                        <p class="notep1">注意：</p>
                        <p>您可能需要设置以下数据结构才能使某些示例生效（系统会提示您输入密码）：</p><pre class="oac_no_warn" dir="ltr">CONNECT系统输入密码：已连接。授予创建任何目录; CONNECT samp输入密码：已连接。创建或替换目录adgraphic_photo为'/ tmp';创建或替换目录adgraphic_dir为'/ tmp';</pre></div>
                     <p>在以下基于<span class="q">“ <a href="working-with-LOBs.html#GUID-D71F0CBE-0717-41A2-BCD4-71E1DDF895D1" title="Many Oracle LOB examples use the print_media table of the Oracle Database Sample Schema PM.">LOB示例表：PM架构print_media表</a> ”的<a href="working-with-LOBs.html#GUID-D71F0CBE-0717-41A2-BCD4-71E1DDF895D1" title="许多Oracle LOB示例使用Oracle Database Sample Schema PM的print_media表。">示例中</a></span> ，仅动态指定文件名。
                     </p>
                     <p>控制文件：</p><pre class="oac_no_warn" dir="ltr">LOAD DATA INFILE sample9.dat INTO TABLE Print_media FIELDS TERMINATED BY'，'（product_id INTEGER EXTERNAL（6），FileName FILLER CHAR（30），ad_graphic BFILE（CONSTANT“modem_graphic_2268_21001”，FileName））</pre><p>数据文件：</p><pre class="oac_no_warn" dir="ltr">007，modem_2268.jpg，008，monitor_3060.jpg，009，keyboard_2056.jpg，</pre><div class="infoboxnote" id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382__GUID-F3019B87-E12E-4EAE-AC5C-A28F73048D3F">
                        <p class="notep1">注意：</p>
                        <p>如果未指定大小， <code class="codeph">product_ID</code>默认为（255）。它映射到数据文件中的文件名。<code class="codeph">ADGRAPHIC_PHOTO</code>是存储所有文件的目录。<code class="codeph">ADGRAPHIC_DIR</code>是先前创建的<code class="codeph">DIRECTORY</code>对象。
                        </p>
                     </div>
                     <p>在以下示例中，动态指定<code class="codeph">BFILE</code>和<code class="codeph">DIRECTORY</code>对象。
                     </p>
                     <p>控制文件：</p><pre class="oac_no_warn" dir="ltr">LOAD DATA INFILE sample10.dat INTO TABLE Print_media FIELDS TERMINATED BY'，'（product_id INTEGER EXTERNAL（6），ad_graphic BFILE（DirName，FileName），FileName FILLER CHAR（30），DirName FILLER CHAR（30））</pre><p>数据文件：</p><pre class="oac_no_warn" dir="ltr">007，monitor_3060.jpg，ADGRAPHIC_PHOTO，008，modem_2268.jpg，ADGRAPHIC_PHOTO，009，keyboard_2056.jpg，ADGRAPHIC_DIR，</pre><div class="infoboxnote" id="GUID-B8FEAE31-3D8A-4B47-B3AF-4B6CCB23B382__GUID-B607A560-D469-40F6-A6B0-51340A85911E">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">DirName</code> <code class="codeph">FILLER</code> <code class="codeph">CHAR</code> <code class="codeph">(30)</code>映射到数据文件字段，该字段包含与正在加载的文件对应的目录名称。
                        </p>
                     </div>
                  </div>
               </div><a id="ADLOB45154"></a><div class="props_rev_3"><a id="GUID-F1E18428-679C-4F25-B840-33338C566210" name="GUID-F1E18428-679C-4F25-B840-33338C566210"></a><h4 id="ADLOB-GUID-F1E18428-679C-4F25-B840-33338C566210" class="sect4">关于使用Oracle Data Pump传输LOB数据</h4>
                  <div>
                     <p>您可以使用Oracle Data Pump将LOB数据从一个数据库传输到另一个数据库。</p>
                     <p>Oracle Data Pump可以将LOB数据从一个数据库传输到另一个数据库。</p>
                     <p>从Oracle Database 12 <span class="italic">c开始</span> ，Data Pump可以选择将所有LOB列创建为SecureFiles LOB。
                     </p>
                     <div class="infoboxnotealso" id="GUID-F1E18428-679C-4F25-B840-33338C566210__GUID-E928A674-DE1D-4CE5-BE92-139D6BB0DD40">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0" title="与BasicFiles LOB存储不同，SecureFiles LOB只能在使用自动段空间管理（ASSM）管理的表空间中创建。">SecureFiles LOB存储</a> ”，</span>用于介绍SecureFiles LOB</p>
                     </div>
                     <p>但是，当Data Pump重新创建表时，默认情况下会重新创建它们，因为它们存在于源数据库中。因此，如果LOB列是源数据库中的BasicFiles LOB，则Data Pump会尝试在导入的数据库中将其重新创建为BasicFiles LOB。您可以使用命令行的<code class="codeph">TRANSFORM</code>参数或<code class="codeph">DBMS_DATAPUMP</code>和<code class="codeph">DBMS_METADATA</code>包的<code class="codeph">LOB_STORAGE</code>参数，在要重新创建的表中强制创建LOB作为SecureFiles LOB。
                     </p>
                     <div class="infoboxnote" id="GUID-F1E18428-679C-4F25-B840-33338C566210__GUID-FB56FAB2-D559-4222-A1C3-AC867379EB73">
                        <p class="notep1">注意：</p>
                        <p>转换名称在可传输导入中无效。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-F1E18428-679C-4F25-B840-33338C566210__GUID-BF7D8C84-CDF7-4F83-97CA-FDD24E623BAB">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sutil/datapump-import-utility.html#SUTIL939" target="_blank"><span class="italic">Oracle数据库实用程序</span></a> ，用于SecureFiles LOB使用的特定表语法</p>
                           </li>
                           <li>
                              <p>有关使用Oracle Data Pump的详细信息，请参见<a href="../sutil/oracle-data-pump.html#SUTIL2877" target="_blank"><span class="italic">Oracle数据库实用程序</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB45155"></a><div class="props_rev_3"><a id="GUID-D3873ED4-5FAD-479F-85F9-EE56D4B18ED5" name="GUID-D3873ED4-5FAD-479F-85F9-EE56D4B18ED5"></a><h3 id="ADLOB-GUID-D3873ED4-5FAD-479F-85F9-EE56D4B18ED5" class="sect3"><span class="bold">临时LOB管理</span> 
               </h3>
               <div>
                  <p>数据库跟踪每个会话中的临时LOB，应用程序可以使用会话ID确定哪个用户拥有临时LOB。</p>
                  <p>该数据库提供了一个名为<code class="codeph">v$temporary_lobs</code>的<code class="codeph">v$</code>视图。作为数据库管理员，您可以使用此视图来监视和指导临时LOB使用的临时空间的任何紧急清理。
                  </p>
                  <p>临时LOB数据存储在临时表空间中。作为数据库管理员，您可以通过控制用户对临时表空间的访问以及创建不同的临时表空间来控制临时LOB数据的数据存储资源。</p>
                  <div class="infoboxnotealso" id="GUID-D3873ED4-5FAD-479F-85F9-EE56D4B18ED5__GUID-27B38540-9936-4E84-9C6D-1FD444FD5F81">
                     <p class="notep1">也可以看看：</p>
                     <p>有关管理临时表空间的详细信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN11366" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                  </div>
               </div>
            </div><a id="ADLOB45157"></a><div class="props_rev_3"><a id="GUID-34B4515A-B3D6-4E3A-89A7-BC17531B7C96" name="GUID-34B4515A-B3D6-4E3A-89A7-BC17531B7C96"></a><h3 id="ADLOB-GUID-34B4515A-B3D6-4E3A-89A7-BC17531B7C96" class="sect3"><span class="bold">BFILEs管理</span></h3>
               <div>
                  <p>您需要执行各种管理任务来管理包含<code class="codeph">BFILE</code>的数据库。
                  </p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="managing-LOBs.html#GUID-5F634C55-2D87-4A7F-9A9B-1BC75F6EF89B" title="如果满足这些条件，则可以创建目录对象或BFILE对象。">使用目录对象和BFILE的规则</a></p>
                     </li>
                     <li>
                        <p><a href="managing-LOBs.html#GUID-9AE7A4DC-2846-4DE7-8685-285920596FB9" title="每个会话中可以同时打开有限数量的BFILE。">设置最大打开BFILE数</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45158"></a><div class="props_rev_3"><a id="GUID-5F634C55-2D87-4A7F-9A9B-1BC75F6EF89B" name="GUID-5F634C55-2D87-4A7F-9A9B-1BC75F6EF89B"></a><h4 id="ADLOB-GUID-5F634C55-2D87-4A7F-9A9B-1BC75F6EF89B" class="sect4">使用目录对象和BFILE的规则</h4>
                  <div>
                     <p>如果满足这些条件，则可以创建目录对象或<code class="codeph">BFILE</code>对象。
                     </p>
                     <p>创建目录对象或<code class="codeph">BFILE</code>对象时，请确保满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>操作系统文件不能是符号链接或硬链接。</p>
                        </li>
                        <li>
                           <p>Oracle DIRECTORY对象中指定的操作系统目录路径必须是现有的操作系统目录路径。</p>
                        </li>
                        <li>
                           <p>Oracle DIRECTORY对象中指定的操作系统目录路径不应在其组件中包含任何符号链接。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB45159"></a><div class="props_rev_3"><a id="GUID-9AE7A4DC-2846-4DE7-8685-285920596FB9" name="GUID-9AE7A4DC-2846-4DE7-8685-285920596FB9"></a><h4 id="ADLOB-GUID-9AE7A4DC-2846-4DE7-8685-285920596FB9" class="sect4">设置最大打开BFILE数</h4>
                  <div>
                     <p>每个会话中可以同时打开有限数量的<code class="codeph">BFILE</code> 。
                     </p>
                     <div class="section">
                        <p>初始化参数<code class="codeph">SESSION_MAX_OPEN_FILES</code>定义了会话中同时打开的文件数的上限。
                        </p>
                        <p>此参数的默认值为10。使用此默认设置，您可以在每个会话中同时打开最多10个文件。要更改此限制，数据库管理员必须更改<code class="codeph">init.ora</code>文件中的参数值<span class="bold">。</span>例如：</p><pre class="oac_no_warn" dir="ltr">SESSION_MAX_OPEN_FILES = 20</pre><p>如果未关闭文件的数量达到<code class="codeph">SESSION_MAX_OPEN_FILES</code>值，则无法在会话中打开其他文件。要关闭所有打开的文件，请使用<code class="codeph">DBMS_LOB.FILECLOSEALL</code>调用。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45160"></a><div class="props_rev_3"><a id="GUID-AE182A71-711C-47D4-9CF0-3EE2505F6FD4" name="GUID-AE182A71-711C-47D4-9CF0-3EE2505F6FD4"></a><h3 id="ADLOB-GUID-AE182A71-711C-47D4-9CF0-3EE2505F6FD4" class="sect3">更改LOB的表空间存储</h3>
               <div>
                  <p>数据库管理员使用某些技术来更改LOB的默认存储。</p>
                  <div class="section">
                     <p>作为数据库管理员，您可以使用以下技术在创建表后更改LOB的默认存储：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">使用ALTER TABLE ...修改</span> ：您可以按如下方式更改LOB表空间存储：</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">ALTER TABLE测试MODIFY LOB（lob1）存储（下一个4M MAXEXTENTS 100 PCTINCREASE 50）</pre><div class="infoboxnote" id="GUID-AE182A71-711C-47D4-9CF0-3EE2505F6FD4__GUID-B607667A-7422-419E-897A-A98A2C9BAD64">
                        <p class="notep1">注意：</p>
                        <p>用于修改现有LOB列的<code class="codeph">ALTER TABLE</code>语法使用<code class="codeph">MODIFY LOB</code>子句，而不是<code class="codeph">LOB...STORE AS</code>子句。<code class="codeph">LOB...STORE AS</code>子句仅适用于新添加的LOB列。
                        </p>
                        <p>有两种LOB存储子句： <code class="codeph">LOB_storage_clause</code>和<code class="codeph">modify_LOB_storage_clause.</code>在<code class="codeph">ALTER TABLE MODIFY LOB</code>语句中，您只能指定<code class="codeph">modify_LOB_storage_clause</code> 。
                        </p>
                     </div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">使用ALTER TABLE ...MOVE</span> ：您还可以使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句的<code class="codeph">MOVE</code>子句来更改LOB表空间存储。例如：</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">ALTER TABLE测试MOVE TABLESPACE tbs1 LOB（lob1，lob2）存储为（TABLESPACE tbs2禁用存储）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-CD7FCDA4-AFCC-4F91-9179-601DC4CF03F8" name="GUID-CD7FCDA4-AFCC-4F91-9179-601DC4CF03F8"></a><h3 id="ADLOB-GUID-CD7FCDA4-AFCC-4F91-9179-601DC4CF03F8" class="sect3">管理LOB签名</h3>
               <div>
                  <p>从Oracle Database 19c发行版开始，您可以使用<code class="codeph">LOB_SIGNATURE_ENABLE</code>初始化参数为大对象（ <code class="codeph">LOB</code> ）定位器配置基于签名的安全性。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要启用签名，请在<code class="codeph">init.ora</code>设置<code class="codeph">LOB_SIGNATURE_ENABLE</code>初始化参数，或使用以下<code class="codeph">ALTER SYSTEM</code>命令。还要确保已将兼容性设置为12.2.0.2或更高版本。
                        </p>
                        <p><code class="codeph">ALTER SYSTEM SET LOB_SIGNATURE_ENABLE = [TRUE | FALSE];</code></p>
                     </li>
                     <li>
                        <p>以下<code class="codeph">ALTER</code>语句有助于加密，重新键入和删除签名密钥。
                        </p>
                        <p><code class="codeph">ALTER DATABASE DICTIONARY [ENCRYPT | REKEY | DELETE]证书;</code></p>
                     </li>
                  </ul>
                  <p>有关更多信息，请参阅“Oracle数据库安全指南”。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../dbseg/managing-security-for-application-developers.html#DBSEG-GUID-8F585EBE-611D-4717-AD9F-CAC10A19B7E1" target="_blank"><span><span><cite>Oracle数据库安全指南</cite></span></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>