<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Managing Indexes</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-tables.html" title="Previous" type="text/html">
      <link rel="next" href="managing-clusters.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-tables.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-clusters.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="schema-objects.html" property="item" typeof="WebPage"><span property="name">Schema Objects</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Indexes</li>
            </ol>
            <a id="GUID-E4149397-FF37-4367-A12F-675433715904" name="GUID-E4149397-FF37-4367-A12F-675433715904"></a><a id="ADMIN016"></a>
            
            <h2 id="ADMIN-GUID-E4149397-FF37-4367-A12F-675433715904" class="sect2"><span class="enumeration_chapter">21 </span>Managing Indexes
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Indexes can provide faster data access. You can create, alter, monitor, and drop indexes.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-2CE1BB91-3EFA-450D-BD31-0C961549F0C2">About Indexes</a><br>Indexes are optional structures associated with tables and clusters that allow SQL queries to execute more quickly against a table.
                  </li>
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677">Guidelines for Managing Indexes</a><br>You can follow guidelines for managing indexes.
                  </li>
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02">Creating Indexes</a><br>You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.
                  </li>
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4">Altering Indexes</a><br>You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.
                  </li>
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-19B6C345-FDCA-4D7F-A93A-341555CFFC1A">Monitoring Space Use of Indexes</a><br>If key values in an index are inserted, updated, and deleted frequently, then the index can lose its acquired space efficiency over time.
                  </li>
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-670ACFFA-9002-4511-9345-C33C49811577">Dropping Indexes</a><br>You can drop an index with the <code class="codeph">DROP INDEX</code> statement.
                  </li>
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999">Managing Auto Indexes</a><br>You can use the automatic indexing feature to configure and use auto indexes in an Oracle database to improve database performance.
                  </li>
                  <li class="ulchildlink"><a href="managing-indexes.html#GUID-CCBBC9DB-29A1-4F46-B3AA-BF4205793403">Indexes Data Dictionary Views</a><br>You can query a set of data dictionary views for information about indexes.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="schema-objects.html#GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" title="You can create and manage schema objects in Oracle Database.">Schema Objects</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11709"></a><div class="props_rev_3"><a id="GUID-2CE1BB91-3EFA-450D-BD31-0C961549F0C2" name="GUID-2CE1BB91-3EFA-450D-BD31-0C961549F0C2"></a><h3 id="ADMIN-GUID-2CE1BB91-3EFA-450D-BD31-0C961549F0C2" class="sect3"><span class="enumeration_section">21.1 </span>About Indexes
               </h3>
               <div>
                  <p>Indexes are optional structures associated with tables and clusters that allow SQL queries to execute more quickly against a table.</p>
                  <p>Just as the index in this manual helps you locate information faster than if there were no index, an Oracle Database index provides a faster access path to table data. You can use indexes without rewriting any queries. Your results are the same, but you see them more quickly. </p>
                  <p>Oracle Database provides several indexing schemes that provide complementary performance functionality. These are: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>B-tree indexes: the default and the most common </p>
                     </li>
                     <li>
                        <p>B-tree cluster indexes: defined specifically for cluster</p>
                     </li>
                     <li>
                        <p>Hash cluster indexes: defined specifically for a hash cluster</p>
                     </li>
                     <li>
                        <p>Global and local indexes: relate to partitioned tables and indexes</p>
                     </li>
                     <li>
                        <p>Reverse key indexes: most useful for Oracle Real Application Clusters applications</p>
                     </li>
                     <li>
                        <p>Bitmap indexes: compact; work best for columns with a small set of values </p>
                     </li>
                     <li>
                        <p>Function-based indexes: contain the precomputed value of a function/expression </p>
                     </li>
                     <li>
                        <p>Domain indexes: specific to an application or cartridge.</p>
                     </li>
                  </ul>
                  <p>Indexes are logically and physically independent of the data in the associated table. Being independent structures, they require storage space. You can create or drop an index without affecting the base tables, database applications, or other indexes. The database automatically maintains indexes when you insert, update, and delete rows of the associated table. If you drop an index, all applications continue to work. However, access to previously indexed data might be slower. </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2CE1BB91-3EFA-450D-BD31-0C961549F0C2__GUID-E3B4A187-2416-4C42-AA72-74304088AB18">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT811" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for an overview of indexes
                           </p>
                        </li>
                        <li>
                           <p><a href="managing-space-for-schema-objects.html#GUID-1950156D-DECC-4E76-84D9-2C2A3D8D6565" title="Managing space for schema objects involves tasks such as managing tablespace alerts and space allocation, reclaiming unused space, dropping unused object storage, monitoring space usage, and capacity planning."> Managing Space for Schema Objects</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11710"></a><div class="props_rev_3"><a id="GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" name="GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677"></a><h3 id="ADMIN-GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" class="sect3"><span class="enumeration_section">21.2 </span>Guidelines for Managing Indexes
               </h3>
               <div>
                  <p>You can follow guidelines for managing indexes.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-3B90E89F-EA36-40D5-B76C-FC1245144B41">Create Indexes After Inserting Table Data</a><br>Data is often inserted or loaded into a table using either the SQL*Loader or an import utility. It is more efficient to create an index for a table after inserting or loading the data. If you create one or more indexes before loading data, then the database must update every index as each row is inserted.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E">Index the Correct Tables and Columns</a><br>Follow guidelines about tables and columns that are suitable for indexing.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-875EBF38-FCBB-4C85-8062-C505324D0978">Order Index Columns for Performance</a><br>The order of columns in the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement can affect query performance. In general, specify the most frequently used columns first.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-A4011AC8-ADC9-4323-964C-51104E71E7C0">Limit the Number of Indexes for Each Table</a><br>A table can have any number of indexes. However, the more indexes there are, the more overhead is incurred as the table is modified.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-330A45CF-2D66-423E-8C79-E2E1BDACFC5B">Drop Indexes That Are No Longer Required</a><br>It is best practice to drop indexes that are no longer required.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-EF7459D8-6396-4275-A73F-75BBF2A7EC2C">Indexes and Deferred Segment Creation</a><br>Index segment creation is deferred when the associated table defers segment creation. This is because index segment creation reflects the behavior of the table with which it is associated.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-EBAC03DE-D2A6-4DF6-BC7D-9E5ACB025A34">Estimate Index Size and Set Storage Parameters</a><br>Estimating the size of an index before creating one can facilitate better disk space planning and management.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-0E5E81F7-6410-45D2-B83E-DFF858FA0522">Specify the Tablespace for Each Index</a><br>Indexes can be created in any tablespace. An index can be created in the same or different tablespace as the table it indexes.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-5B74C80C-9A06-477B-8065-7A210DB6D09B">Consider Parallelizing Index Creation</a><br>You can parallelize index creation, much the same as you can parallelize table creation. Because multiple processes work together to create the index, the database can create the index more quickly than if a single server process created the index sequentially.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-72D72713-0EF5-4BDD-813C-BFF63AE4F94F">Consider Creating Indexes with NOLOGGING</a><br>You can create an index and generate minimal redo log records by specifying <code class="codeph">NOLOGGING</code> in the <code class="codeph">CREATE INDEX</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-3A66938F-73C6-4173-844E-3938A0DBBB54">Understand When to Use Unusable or Invisible Indexes</a><br>Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-B4B30CF4-2B95-44D6-8596-EC2A378251EF">Understand When to Create Multiple Indexes on the Same Set of Columns</a><br>You can create multiple indexes on the same set of columns when the indexes are different in some way. For example, you can create a B-tree index and a bitmap index on the same set of columns.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A">Consider Costs and Benefits of Coalescing or Rebuilding Indexes</a><br>Improper sizing or increased growth can produce index fragmentation. To eliminate or reduce fragmentation, you can rebuild or coalesce the index. But before you perform either task weigh the costs and benefits of each option and choose the one that works best for your situation.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-A76C2C1D-F047-4052-83C2-F7EB052E7A9C">Consider Cost Before Disabling or Dropping Constraints</a><br>Because unique and primary keys have associated indexes, you should factor in the cost of dropping and creating indexes when considering whether to disable or drop a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code> constraint.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-652C144A-3120-4FA1-96CC-02A7E7D988EA">Consider Using the In-Memory Column Store to Reduce the Number of Indexes</a><br>The In-Memory Column Store is an optional portion of the system global area (SGA) that stores copies of tables, table partitions, and other database objects that is optimized for rapid scans. In the In-Memory Column Store, table data is stored by column rather than row in the SGA.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677__GUID-B1022204-6386-4C38-A357-39A3BF86F386">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT811" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for conceptual information about indexes and indexing, including descriptions of the various indexing schemes offered by Oracle
                           </p>
                        </li>
                        <li>
                           <p><a href="../tgsql/index.html" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> and<a href="../dwhsg/data-warehouse-optimizations-techniques.html#DWHSG8130" target="_blank"><span class="italic"> Oracle Database Data Warehousing Guide </span></a>for information about bitmap indexes
                           </p>
                        </li>
                        <li>
                           <p><a href="../addci/building-domain-indexes.html#ADDCI290" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for information about defining domain-specific operators and indexing schemes and integrating them into the Oracle Database server
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11711"></a><div class="props_rev_3"><a id="GUID-3B90E89F-EA36-40D5-B76C-FC1245144B41" name="GUID-3B90E89F-EA36-40D5-B76C-FC1245144B41"></a><h4 id="ADMIN-GUID-3B90E89F-EA36-40D5-B76C-FC1245144B41" class="sect4"><span class="enumeration_section">21.2.1 </span>Create Indexes After Inserting Table Data
                  </h4>
                  <div>
                     <p>Data is often inserted or loaded into a table using either the SQL*Loader or an import utility. It is more efficient to create an index for a table after inserting or loading the data. If you create one or more indexes before loading data, then the database must update every index as each row is inserted.</p>
                     <p>Creating an index on a table that already has data requires sort space. Some sort space comes from memory allocated for the index creator. The amount for each user is determined by the initialization parameter <code class="codeph">SORT_AREA_SIZE</code>. The database also swaps sort information to and from temporary segments that are only allocated during the index creation in the user's temporary tablespace.
                     </p>
                     <p>Under certain conditions, data can be loaded into a table with SQL*Loader direct-path load, and an index can be created as data is loaded.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3B90E89F-EA36-40D5-B76C-FC1245144B41__GUID-448425DA-415A-44D5-A4C5-275D9B9264BB">
                        <p class="notep1">See Also:</p>
                        <p> <a href="../sutil/oracle-sql-loader-conventional-and-direct-loads.html#SUTIL009" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using SQL*Loader for direct-path load
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12644"></a><a id="ADMIN12645"></a><a id="ADMIN12646"></a><a id="ADMIN11712"></a><div class="props_rev_3"><a id="GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E" name="GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E"></a><h4 id="ADMIN-GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E" class="sect4"><span class="enumeration_section">21.2.2 </span>Index the Correct Tables and Columns
                  </h4>
                  <div>
                     <p>Follow guidelines about tables and columns that are suitable for indexing.</p>
                     <p>Use the following guidelines for determining when to create an index:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create an index if you frequently want to retrieve less than 15% of the rows in a large table. The percentage varies greatly according to the relative speed of a table scan and how the row data is distributed in relation to the index key. The faster the table scan, the lower the percentage; the more clustered the row data, the higher the percentage.</p>
                        </li>
                        <li>
                           <p>To improve performance on joins of multiple tables, index columns used for joins. </p>
                           <div class="infoboxnote" id="GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E__GUID-6578D809-BF8F-42C9-B6AC-9C13D11EABBB">
                              <p class="notep1">Note:</p>
                              <p>Primary and unique keys automatically have indexes, but you might want to create an index on a foreign key.</p>
                           </div>
                        </li>
                        <li>
                           <p>Small tables do not require indexes. If a query is taking too long, then the table might have grown from small to large.</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E__GUID-4896FA0D-F7C5-404F-AE69-FC2D538ADDFD">Columns That Are Suitable for Indexing</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Some columns are strong candidates for indexing. Columns with one or more of the following characteristics are candidates for indexing:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Values are relatively unique in the column.</p>
                           </li>
                           <li>
                              <p>There is a wide range of values (good for regular indexes).</p>
                           </li>
                           <li>
                              <p>There is a small range of values (good for bitmap indexes).</p>
                           </li>
                           <li>
                              <p>The column contains many nulls, but queries often select all rows having a value. In this case, use the following phrase:</p><pre class="oac_no_warn" dir="ltr">WHERE COL_X &gt; -9.99 * power(10,125)
</pre><p>Using the preceding phrase is preferable to:</p><pre class="oac_no_warn" dir="ltr">WHERE COL_X IS NOT NULL
</pre><p>This is because the first uses an index on <code class="codeph">COL_X</code> (assuming that <code class="codeph">COL_X</code> is a numeric column).
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E__GUID-06E5A419-BCF6-403B-A49A-F0125357A58D">Columns That Are Not Suitable for Indexing</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Columns with the following characteristics are less suitable for indexing:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>There are many nulls in the column, and you do not search on the not null values.</p>
                           </li>
                        </ul>
                        <p><code class="codeph">LONG</code> and <code class="codeph">LONG</code> <code class="codeph">RAW</code> columns cannot be indexed.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E__GUID-0CD9E5FE-1FC0-43B2-AFD5-905967930DBB">Virtual Columns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You can create unique or non-unique indexes on <a id="d222637e568" class="indexterm-anchor"></a><a id="d222637e572" class="indexterm-anchor"></a>virtual columns. A table index defined on a virtual column is equivalent to a function-based index on the table.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-505DEA1E-3BB0-4EF5-8F35-942A70B6BA8E__GUID-92186970-E367-43B6-92F4-C92648AE5735">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-indexes.html#GUID-EF5392C6-C38A-4206-BD47-353AD7793557" title="Function-based indexes facilitate queries that qualify a value returned by a function or expression. The value of the function or expression is precomputed and stored in the index.">Creating a Function-Based Index</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11713"></a><div class="props_rev_3"><a id="GUID-875EBF38-FCBB-4C85-8062-C505324D0978" name="GUID-875EBF38-FCBB-4C85-8062-C505324D0978"></a><h4 id="ADMIN-GUID-875EBF38-FCBB-4C85-8062-C505324D0978" class="sect4"><span class="enumeration_section">21.2.3 </span>Order Index Columns for Performance
                  </h4>
                  <div>
                     <p>The order of columns in the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement can affect query performance. In general, specify the most frequently used columns first.
                     </p>
                     <p>If you create a single index across columns to speed up queries that access, for example, <code class="codeph">col1</code>, <code class="codeph">col2</code>, and <code class="codeph">col3</code>; then queries that access just <code class="codeph">col1</code>, or that access just <code class="codeph">col1</code> and <code class="codeph">col2</code>, are also speeded up. But a query that accessed just <code class="codeph">col2</code>, just <code class="codeph">col3</code>, or just <code class="codeph">col2</code> and <code class="codeph">col3</code> does not use the index.
                     </p>
                     <div class="infoboxnote" id="GUID-875EBF38-FCBB-4C85-8062-C505324D0978__GUID-DC0DB3AF-1FC4-4E80-8F0C-82C6DE29A9C7">
                        <p class="notep1">Note:</p>
                        <p>In some cases, such as when the leading column has very low cardinality, the database may use a skip scan of this type of index. See <a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT88842" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about index skip scan.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11714"></a><div class="props_rev_3"><a id="GUID-A4011AC8-ADC9-4323-964C-51104E71E7C0" name="GUID-A4011AC8-ADC9-4323-964C-51104E71E7C0"></a><h4 id="ADMIN-GUID-A4011AC8-ADC9-4323-964C-51104E71E7C0" class="sect4"><span class="enumeration_section">21.2.4 </span>Limit the Number of Indexes for Each Table
                  </h4>
                  <div>
                     <p>A table can have any number of indexes. However, the more indexes there are, the more overhead is incurred as the table is modified.</p>
                     <p>Specifically, when rows are inserted or deleted, all indexes on the table must be updated as well. Also, when a column is updated, all indexes that contain the column must be updated.</p>
                     <p>Thus, there is a trade-off between the speed of retrieving data from a table and the speed of updating the table. For example, if a table is primarily read-only, then having more indexes can be useful; but if a table is heavily updated, then having fewer indexes could be preferable.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11715"></a><div class="props_rev_3"><a id="GUID-330A45CF-2D66-423E-8C79-E2E1BDACFC5B" name="GUID-330A45CF-2D66-423E-8C79-E2E1BDACFC5B"></a><h4 id="ADMIN-GUID-330A45CF-2D66-423E-8C79-E2E1BDACFC5B" class="sect4"><span class="enumeration_section">21.2.5 </span>Drop Indexes That Are No Longer Required 
                  </h4>
                  <div>
                     <p>It is best practice to drop indexes that are no longer required.</p>
                     <p>Consider dropping an index if:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It does not speed up queries. The table could be very small, or there could be many rows in the table but very few index entries.</p>
                        </li>
                        <li>
                           <p>The queries in your applications do not use the index.</p>
                        </li>
                        <li>
                           <p>The index must be dropped before being rebuilt.</p>
                           <div class="infoboxnotealso" id="GUID-330A45CF-2D66-423E-8C79-E2E1BDACFC5B__GUID-2C5450AF-5F04-41CC-AE71-9ADDFEC8F677">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-8E5379E6-F96D-464D-B601-A279679A49E9" title="Oracle Database provides a means of monitoring indexes to determine whether they are being used. If an index is not being used, then it can be dropped, eliminating unnecessary statement overhead.">Monitoring Index Usage</a>"</span></p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13462"></a><div class="props_rev_3"><a id="GUID-EF7459D8-6396-4275-A73F-75BBF2A7EC2C" name="GUID-EF7459D8-6396-4275-A73F-75BBF2A7EC2C"></a><h4 id="ADMIN-GUID-EF7459D8-6396-4275-A73F-75BBF2A7EC2C" class="sect4"><span class="enumeration_section">21.2.6 </span>Indexes and Deferred Segment Creation
                  </h4>
                  <div>
                     <p>Index segment creation is deferred when the associated table defers segment creation. This is because index segment creation reflects the behavior of the table with which it is associated.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EF7459D8-6396-4275-A73F-75BBF2A7EC2C__GUID-D792A5EA-E583-4F80-B863-5CAE4A93467C">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-tables.html#GUID-2823F411-EC06-49D0-998E-C76CB139794E" title="When you create heap-organized tables in a locally managed tablespace, the database defers table segment creation until the first row is inserted.">Understand Deferred Segment Creation</a>"</span> for further information
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11716"></a><div class="props_rev_3"><a id="GUID-EBAC03DE-D2A6-4DF6-BC7D-9E5ACB025A34" name="GUID-EBAC03DE-D2A6-4DF6-BC7D-9E5ACB025A34"></a><h4 id="ADMIN-GUID-EBAC03DE-D2A6-4DF6-BC7D-9E5ACB025A34" class="sect4"><span class="enumeration_section">21.2.7 </span>Estimate Index Size and Set Storage Parameters
                  </h4>
                  <div>
                     <p>Estimating the size of an index before creating one can facilitate better disk space planning and management.</p>
                     <p>You can use the combined estimated size of indexes, along with estimates for tables, the undo tablespace, and redo log files, to determine the amount of disk space that is required to hold an intended database. From these estimates, you can make correct hardware purchases and other decisions.</p>
                     <p>Use the estimated size of an individual index to better manage the disk space that the index uses. When an index is created, you can set appropriate storage parameters and improve I/O performance of applications that use the index. For example, assume that you estimate the maximum size of an index before creating it. If you then set the storage parameters when you create the index, then fewer extents are allocated for the table data segment, and all of the index data is stored in a relatively contiguous section of disk space. This decreases the time necessary for disk I/O operations involving this index.</p>
                     <p>The maximum size of a single index entry is dependent on the block size of the database.</p>
                     <p>Storage parameters of an index segment created for the index used to enforce a primary key or unique key constraint can be set in either of the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>In the <code class="codeph">ENABLE</code> ... <code class="codeph">USING</code> <code class="codeph">INDEX</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement 
                           </p>
                        </li>
                        <li>
                           <p>In the <code class="codeph">STORAGE</code> clause of the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EBAC03DE-D2A6-4DF6-BC7D-9E5ACB025A34__GUID-16C74E14-64AB-4256-8D35-4CD81B9CA426">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/logical-database-limits.html#REFRN0043" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the limits related to index size
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF56300" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about creating an index on an extended data type column
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11717"></a><div class="props_rev_3"><a id="GUID-0E5E81F7-6410-45D2-B83E-DFF858FA0522" name="GUID-0E5E81F7-6410-45D2-B83E-DFF858FA0522"></a><h4 id="ADMIN-GUID-0E5E81F7-6410-45D2-B83E-DFF858FA0522" class="sect4"><span class="enumeration_section">21.2.8 </span>Specify the Tablespace for Each Index
                  </h4>
                  <div>
                     <p>Indexes can be created in any tablespace. An index can be created in the same or different tablespace as the table it indexes.</p>
                     <p>If you use the same tablespace for a table and its index, then it can be more convenient to perform database maintenance (such as tablespace or file backup) or to ensure application availability. All the related data is always online together.</p>
                     <p>Using different tablespaces (on different disks) for a table and its index produces better performance than storing the table and index in the same tablespace. Disk contention is reduced. But, if you use different tablespaces for a table and its index, and one tablespace is offline (containing either data or index), then the statements referencing that table are not guaranteed to work.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11718"></a><div class="props_rev_3"><a id="GUID-5B74C80C-9A06-477B-8065-7A210DB6D09B" name="GUID-5B74C80C-9A06-477B-8065-7A210DB6D09B"></a><h4 id="ADMIN-GUID-5B74C80C-9A06-477B-8065-7A210DB6D09B" class="sect4"><span class="enumeration_section">21.2.9 </span>Consider Parallelizing Index Creation
                  </h4>
                  <div>
                     <p>You can parallelize index creation, much the same as you can parallelize table creation. Because multiple processes work together to create the index, the database can create the index more quickly than if a single server process created the index sequentially.</p>
                     <p>When creating an index in parallel, storage parameters are used separately by each query server process. Therefore, an index created with an <code class="codeph">INITIAL</code> value of 5M and a parallel degree of 12 consumes at least 60M of storage during index creation.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5B74C80C-9A06-477B-8065-7A210DB6D09B__GUID-9AFD01A2-F51C-4CDB-A986-96C59F5E1A94">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG010" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about using parallel execution
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11719"></a><div class="props_rev_3"><a id="GUID-72D72713-0EF5-4BDD-813C-BFF63AE4F94F" name="GUID-72D72713-0EF5-4BDD-813C-BFF63AE4F94F"></a><h4 id="ADMIN-GUID-72D72713-0EF5-4BDD-813C-BFF63AE4F94F" class="sect4"><span class="enumeration_section">21.2.10 </span>Consider Creating Indexes with NOLOGGING
                  </h4>
                  <div>
                     <p>You can create an index and generate minimal redo log records by specifying <code class="codeph">NOLOGGING</code> in the <code class="codeph">CREATE INDEX</code> statement.
                     </p>
                     <div class="infoboxnote" id="GUID-72D72713-0EF5-4BDD-813C-BFF63AE4F94F__GUID-0B807985-84BF-4E51-A79E-42B56C15AA96">
                        <p class="notep1">Note:</p>
                        <p>Because indexes created using <code class="codeph">NOLOGGING</code> are not archived, perform a backup after you create the index.
                        </p>
                     </div>
                     <p>Creating an index with <code class="codeph">NOLOGGING</code> has the following benefits:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Space is saved in the redo log files.</p>
                        </li>
                        <li>
                           <p>The time it takes to create the index is decreased.</p>
                        </li>
                        <li>
                           <p>Performance improves for parallel creation of large indexes.</p>
                        </li>
                     </ul>
                     <p>In general, the relative performance improvement is greater for larger indexes created without <code class="codeph">LOGGING</code> than for smaller ones. Creating small indexes without <code class="codeph">LOGGING</code> has little effect on the time it takes to create an index. However, for larger indexes the performance improvement can be significant, especially when you are also parallelizing the index creation.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13280"></a><a id="ADMIN13281"></a><a id="ADMIN13279"></a><div class="props_rev_3"><a id="GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" name="GUID-3A66938F-73C6-4173-844E-3938A0DBBB54"></a><h4 id="ADMIN-GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" class="sect4"><span class="enumeration_section">21.2.11 </span>Understand When to Use Unusable or Invisible Indexes
                  </h4>
                  <div>
                     <p>Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3A66938F-73C6-4173-844E-3938A0DBBB54__GUID-F7AD6ABC-7F3C-4565-BDCB-6E1FDB892910">Unusable indexes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An <span class="bold">unusable index</span> is ignored by the optimizer and is not maintained by DML. One reason to make an index unusable is to improve bulk load performance. (Bulk loads go more quickly if the database does not need to maintain indexes when inserting rows.) Instead of dropping the index and later re-creating it, which requires you to recall the exact parameters of the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement, you can make the index unusable, and then rebuild it.
                        </p>
                        <p>You can create an index in the unusable state, or you can mark an existing index or index partition unusable. In some cases the database may mark an index unusable, such as when a failure occurs while building the index. When one partition of a partitioned index is marked unusable, the other partitions of the index remain valid.</p>
                        <p>An unusable index or index partition must be rebuilt, or dropped and re-created, before it can be used. Truncating a table makes an unusable index valid.</p>
                        <p>When you make an existing index unusable, its index segment is dropped.</p>
                        <p>The functionality of unusable indexes depends on the setting of the <code class="codeph">SKIP_UNUSABLE_INDEXES</code> initialization parameter. When <code class="codeph">SKIP_UNUSABLE_INDEXES</code> is <code class="codeph">TRUE</code> (the default), then:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>DML statements against the table proceed, but unusable indexes are not maintained.</p>
                           </li>
                           <li>
                              <p>DML statements terminate with an error if there are any unusable indexes that are used to enforce the <code class="codeph">UNIQUE</code> constraint.
                              </p>
                           </li>
                           <li>
                              <p>For nonpartitioned indexes, the optimizer does not consider any unusable indexes when creating an access plan for <code class="codeph">SELECT</code> statements. The only exception is when an index is explicitly specified with the <code class="codeph">INDEX()</code> hint.
                              </p>
                           </li>
                           <li>
                              <p>For a partitioned index where one or more of the partitions is unusable, the optimizer can use table expansion. With table expansion, the optimizer transforms the query into a <code class="codeph">UNION</code> <code class="codeph">ALL</code> statement, with some subqueries accessing indexed partitions and other subqueries accessing partitions with unusable indexes. The optimizer can choose the most efficient access method available for a partition. See <a href="../tgsql/query-transformations.html#TGSQL94910" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about table expansion.
                              </p>
                           </li>
                        </ul>
                        <p>When <code class="codeph">SKIP_UNUSABLE_INDEXES</code> is <code class="codeph">FALSE</code>, then:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If any unusable indexes or index partitions are present, then any DML statements that would cause those indexes or index partitions to be updated are terminated with an error.</p>
                           </li>
                           <li>
                              <p>For <code class="codeph">SELECT</code> statements, if an unusable index or unusable index partition is present, but the optimizer does not choose to use it for the access plan, then the statement proceeds. However, if the optimizer does choose to use the unusable index or unusable index partition, then the statement terminates with an error.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3A66938F-73C6-4173-844E-3938A0DBBB54__GUID-A18074BB-9012-4835-ACD1-4368E669F2B3">Invisible Indexes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d222637e1263" class="indexterm-anchor"></a><a id="d222637e1267" class="indexterm-anchor"></a>You can create invisible indexes or make an existing index invisible. An <span class="bold">invisible index</span> is ignored by the optimizer unless you explicitly set the <code class="codeph">OPTIMIZER_USE_INVISIBLE_INDEXES</code> initialization parameter to <code class="codeph">TRUE</code> at the session or system level. Unlike unusable indexes, an invisible index is maintained during DML statements. Although you can make a partitioned index invisible, you cannot make an individual index partition invisible while leaving the other partitions visible.
                        </p>
                        <p>Using invisible indexes, you can do the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Test the removal of an index before dropping it.</p>
                           </li>
                           <li>
                              <p>Use temporary index structures for certain operations or modules of an application without affecting the overall application.</p>
                           </li>
                           <li>
                              <p>Add an index to a set of columns on which an index already exists.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3A66938F-73C6-4173-844E-3938A0DBBB54__GUID-56A13457-7044-44C7-A991-843241DBF32B">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-FA0C46EC-DA22-4484-AF52-58BC0CBEEC81" title="When you create an index in the UNUSABLE state, it is ignored by the optimizer and is not maintained by DML. An unusable index must be rebuilt, or dropped and re-created, before it can be used.">Creating an Unusable Index</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA" title="An invisible index is an index that is ignored by the optimizer unless you explicitly set the OPTIMIZER_USE_INVISIBLE_INDEXES initialization parameter to TRUE at the session or system level.">Creating an Invisible Index</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692" title="When you make an index unusable, it is ignored by the optimizer and is not maintained by DML. When you make one partition of a partitioned index unusable, the other partitions of the index remain valid.">Making an Index Unusable</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2" title="Making an index invisible is an alternative to making it unusable or dropping it.">Making an Index Invisible or Visible</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13845"></a><div class="props_rev_3"><a id="GUID-B4B30CF4-2B95-44D6-8596-EC2A378251EF" name="GUID-B4B30CF4-2B95-44D6-8596-EC2A378251EF"></a><h4 id="ADMIN-GUID-B4B30CF4-2B95-44D6-8596-EC2A378251EF" class="sect4"><span class="enumeration_section">21.2.12 </span>Understand When to Create Multiple Indexes on the Same Set of Columns
                  </h4>
                  <div>
                     <p>You can create multiple indexes on the same set of columns when the indexes are different in some way. For example, you can create a B-tree index and a bitmap index on the same set of columns.</p>
                     <p>When you have multiple indexes on the same set of columns, only one of these indexes can be visible at a time, and any other indexes must be invisible.</p>
                     <p>You might create different indexes on the same set of columns because they provide the flexibility to meet your requirements. You can also create multiple indexes on the same set of columns to perform application migrations without dropping an existing index and recreating it with different attributes.</p>
                     <p>Different types of indexes are useful in different scenarios. For example, B-tree indexes are often used in online transaction processing (OLTP) systems with many concurrent transactions, while bitmap indexes are often used in data warehousing systems that are mostly used for queries. Similarly, locally and globally partitioned indexes are useful in different scenarios. Locally partitioned indexes are easy to manage because partition maintenance operations automatically apply to them. Globally partitioned indexes are useful when you want the partitioning scheme of an index to be different from its table's partitioning scheme.</p>
                     <p>You can create multiple indexes on the same set of columns when at least one of the following index characteristics is different:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The indexes are of different types.</p>
                           <p>See <span class="q">"<a href="managing-indexes.html#GUID-2CE1BB91-3EFA-450D-BD31-0C961549F0C2" title="Indexes are optional structures associated with tables and clusters that allow SQL queries to execute more quickly against a table.">About Indexes</a>"</span> and <a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT88834" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about the different types of indexes.
                           </p>
                           <p>However, the following exceptions apply:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You cannot create a B-tree index and a B-tree cluster index on the same set of columns.</p>
                              </li>
                              <li>
                                 <p>You cannot create a B-tree index and an index-organized table on the same set of columns.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The indexes use different partitioning.</p>
                           <p>Partitioning can be different in any of the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Indexes that are not partitioned and indexes that are partitioned</p>
                              </li>
                              <li>
                                 <p>Indexes that are locally partitioned and indexes that are globally partitioned</p>
                              </li>
                              <li>
                                 <p>Indexes that differ in partitioning type (range or hash)</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The indexes have different uniqueness properties.</p>
                           <p>You can create both a unique and a non-unique index on the same set of columns.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B4B30CF4-2B95-44D6-8596-EC2A378251EF__GUID-005439BE-7D10-48FE-B015-E35754111ED9">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09" title="You can create multiple indexes on the same set of columns when the indexes are different in some way.">Creating Multiple Indexes on the Same Set of Columns</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" title="Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.">Understand When to Use Unusable or Invisible Indexes</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13067"></a><a id="ADMIN13068"></a><a id="ADMIN11720"></a><div class="props_rev_3"><a id="GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A" name="GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A"></a><h4 id="ADMIN-GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A" class="sect4"><span class="enumeration_section">21.2.13 </span>Consider Costs and Benefits of Coalescing or Rebuilding Indexes
                  </h4>
                  <div>
                     <p>Improper sizing or increased growth can produce index fragmentation. To eliminate or reduce fragmentation, you can rebuild or coalesce the index. But before you perform either task weigh the costs and benefits of each option and choose the one that works best for your situation.</p>
                     <p><a href="managing-indexes.html#GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A__G1007548" title="Column 1 lists the benefits of rebuilding an index, column 2 lists the comparable benefits of coalexcing an index.">Table 21-1</a> is a comparison of the costs and benefits associated with rebuilding and coalescing indexes.
                     </p>
                     <div class="tblformal" id="GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A__G1007548">
                        <p class="titleintable">Table 21-1 Costs and Benefits of Coalescing or Rebuilding Indexes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Costs and Benefits of Coalescing or Rebuilding Indexes" summary="Column 1 lists the benefits of rebuilding an index, column 2 lists the comparable benefits of coalexcing an index." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d222637e1528">Rebuild Index</th>
                                 <th align="left" valign="bottom" width="50%" id="d222637e1531">Coalesce Index</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d222637e1536" headers="d222637e1528 ">
                                    <p>Quickly moves index to another tablespace</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d222637e1536 d222637e1531 ">
                                    <p>Cannot move index to another tablespace</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d222637e1543" headers="d222637e1528 ">
                                    <p>Higher costs: requires more disk space</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d222637e1543 d222637e1531 ">
                                    <p>Lower costs: does not require more disk space</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d222637e1550" headers="d222637e1528 ">
                                    <p>Creates new tree, shrinks height if applicable</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d222637e1550 d222637e1531 ">
                                    <p>Coalesces leaf blocks within same branch of tree</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d222637e1557" headers="d222637e1528 ">
                                    <p>Enables you to quickly change storage and tablespace parameters without having to drop the original index</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d222637e1557 d222637e1531 ">
                                    <p>Quickly frees up index leaf blocks for use</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In situations where you have B-tree index leaf blocks that can be freed up for reuse, you can merge those leaf blocks using the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX vmoore COALESCE;
</pre><p><a href="managing-indexes.html#GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A__I1006458">Figure 21-1</a> illustrates the effect of an <code class="codeph">ALTER INDEX COALESCE</code> on the index <code class="codeph">vmoore</code>. Before performing the operation, the first two leaf blocks are 50% full. Therefore, you have an opportunity to reduce fragmentation and completely fill the first block, while freeing up the second.
                     </p>
                     <div class="figure" id="GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A__I1006458">
                        <p class="titleinfigure">Figure 21-1 Coalescing Indexes</p><img src="img/admin026.gif" alt="Description of Figure 21-1 follows" title="Description of Figure 21-1 follows" longdesc="img_text/admin026.html"><br><a href="img_text/admin026.html">Description of "Figure 21-1 Coalescing Indexes"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11721"></a><div class="props_rev_3"><a id="GUID-A76C2C1D-F047-4052-83C2-F7EB052E7A9C" name="GUID-A76C2C1D-F047-4052-83C2-F7EB052E7A9C"></a><h4 id="ADMIN-GUID-A76C2C1D-F047-4052-83C2-F7EB052E7A9C" class="sect4"><span class="enumeration_section">21.2.14 </span>Consider Cost Before Disabling or Dropping Constraints
                  </h4>
                  <div>
                     <p>Because unique and primary keys have associated indexes, you should factor in the cost of dropping and creating indexes when considering whether to disable or drop a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code> constraint.
                     </p>
                     <p>If the associated index for a <code class="codeph">UNIQUE</code> key or <code class="codeph">PRIMARY KEY</code> constraint is extremely large, then you can save time by leaving the constraint enabled rather than dropping and re-creating the large index. You also have the option of explicitly specifying that you want to keep or drop the index when dropping or disabling a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code> constraint. 
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A76C2C1D-F047-4052-83C2-F7EB052E7A9C__GUID-FBD35D2D-0089-414C-BA6D-D685ED87BF90">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14232"></a><div class="props_rev_3"><a id="GUID-652C144A-3120-4FA1-96CC-02A7E7D988EA" name="GUID-652C144A-3120-4FA1-96CC-02A7E7D988EA"></a><h4 id="ADMIN-GUID-652C144A-3120-4FA1-96CC-02A7E7D988EA" class="sect4"><span class="enumeration_section">21.2.15 </span>Consider Using the In-Memory Column Store to Reduce the Number of Indexes
                  </h4>
                  <div>
                     <p>The In-Memory Column Store is an optional portion of the system global area (SGA) that stores copies of tables, table partitions, and other database objects that is optimized for rapid scans. In the In-Memory Column Store, table data is stored by column rather than row in the SGA.</p>
                     <div class="infoboxnote" id="GUID-652C144A-3120-4FA1-96CC-02A7E7D988EA__GUID-94C5FD4E-5276-49BA-8441-7637477AF2AE">
                        <p class="notep1">Note:</p>
                        <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                        </p>
                     </div>
                     <p>For tables used in OLTP or data warehousing environments, multiple indexes typically are created to improve the performance of analytic and reporting queries. These indexes can impede the performance of data manipulation language (DML) statements. When a table is stored in the In-Memory Column Store, indexes used for analytic or reporting queries can be greatly reduced or eliminated without affecting query performance. Eliminating these indexes can improve the performance of transactions and data loading operations.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-652C144A-3120-4FA1-96CC-02A7E7D988EA__GUID-D2716960-A4EA-4E78-888B-2252B7EEE9A5">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-memory.html#GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" title="Oracle Database In-Memory (Database In-Memory) is a suite of features, first introduced in Oracle Database 12c Release 1 (12.1.0.2), that greatly improves performance for real-time analytics and mixed workloads.">Improving Query Performance with Oracle Database In-Memory</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-1C31FFD6-B826-4F13-9452-7C3B8B28F677" title="You can follow guidelines for managing indexes.">Guidelines for Managing Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11722"></a><div class="props_rev_3"><a id="GUID-BF813E96-C4BD-433C-B26A-70289D938D02" name="GUID-BF813E96-C4BD-433C-B26A-70289D938D02"></a><h3 id="ADMIN-GUID-BF813E96-C4BD-433C-B26A-70289D938D02" class="sect3"><span class="enumeration_section">21.3 </span>Creating Indexes
               </h3>
               <div>
                  <p>You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.</p>
                  <div class="infoboxnote" id="GUID-BF813E96-C4BD-433C-B26A-70289D938D02__GUID-25BF0A76-567A-4838-86B5-2A82127BCBC5">
                     <p class="notep1">Live SQL:</p>
                     <p>To view and run examples related to creating indexes on Oracle Live SQL, go to <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-indexes/create.html" target="_blank"><span class="italic">Oracle Live SQL: Creating Indexes</span></a>.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-FEF88643-3E11-4B42-A285-C4FCC58569A2">Prerequisites for Creating Indexes</a><br>Prerequisites must be met before you can create indexes.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-AAE78F92-0ADF-4FB1-9949-DC7F2B6363BE">Creating an Index Explicitly</a><br>You can create indexes explicitly (outside of integrity constraints) using the SQL statement <code class="codeph">CREATE INDEX</code>.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-3D02D776-D3A0-4728-873D-71D5D1625E8F">Creating a Unique Index Explicitly</a><br>Indexes can be unique or non-unique. Unique indexes guarantee that no two rows of a table have duplicate values in the key column (or columns). Non-unique indexes do not impose this restriction on the column values.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-BF04684D-A857-4046-8749-0F57D3B19113">Creating an Index Associated with a Constraint</a><br>You can create an index associated with a constraint when you issue the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> SQL statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-753ED893-7D87-4957-8AFA-C4624149612B">Creating a Large Index</a><br>When creating an extremely large index, consider allocating a larger temporary tablespace for the index creation.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839">Creating an Index Online</a><br>You can create and rebuild indexes online. Therefore, you can update base tables at the same time you are building or rebuilding indexes on that table.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-EF5392C6-C38A-4206-BD47-353AD7793557">Creating a Function-Based Index</a><br><span class="bold">Function-based indexes</span> facilitate queries that qualify a value returned by a function or expression. The value of the function or expression is precomputed and stored in the index.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-8EE6F072-BADE-466B-98E6-30ABDFFCD8A9">Creating a Compressed Index</a><br>As your database grows in size, consider using index compression to save disk space.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-FA0C46EC-DA22-4484-AF52-58BC0CBEEC81">Creating an Unusable Index</a><br>When you create an index in the <code class="codeph">UNUSABLE</code> state, it is ignored by the optimizer and is not maintained by DML. An unusable index must be rebuilt, or dropped and re-created, before it can be used.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA">Creating an Invisible Index</a><br>An invisible index is an index that is ignored by the optimizer unless you explicitly set the <code class="codeph">OPTIMIZER_USE_INVISIBLE_INDEXES</code> initialization parameter to <code class="codeph">TRUE</code> at the session or system level.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09">Creating Multiple Indexes on the Same Set of Columns</a><br>You can create multiple indexes on the same set of columns when the indexes are different in some way.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-FEF88643-3E11-4B42-A285-C4FCC58569A2" name="GUID-FEF88643-3E11-4B42-A285-C4FCC58569A2"></a><h4 id="ADMIN-GUID-FEF88643-3E11-4B42-A285-C4FCC58569A2" class="sect4"><span class="enumeration_section">21.3.1 </span>Prerequisites for Creating Indexes
                  </h4>
                  <div>
                     <p>Prerequisites must be met before you can create indexes.</p>
                     <p>To create an index in your own schema, <span class="italic">at least one</span> of the following prerequisites must be met:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The table or cluster to be indexed is in your own schema.</p>
                        </li>
                        <li>
                           <p>You have <code class="codeph">INDEX</code> privilege on the table to be indexed.
                           </p>
                        </li>
                        <li>
                           <p>You have <code class="codeph">CREATE ANY INDEX</code> system privilege.
                           </p>
                        </li>
                     </ul>
                     <p>To create an index in another schema, <span class="italic">all </span>of the following prerequisites must be met:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You have <code class="codeph">CREATE ANY INDEX </code>system privilege.
                           </p>
                        </li>
                        <li>
                           <p>The owner of the other schema has a quota for the tablespaces to contain the index or index partitions, or <code class="codeph">UNLIMITED TABLESPACE</code> system privilege.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11723"></a><div class="props_rev_3"><a id="GUID-AAE78F92-0ADF-4FB1-9949-DC7F2B6363BE" name="GUID-AAE78F92-0ADF-4FB1-9949-DC7F2B6363BE"></a><h4 id="ADMIN-GUID-AAE78F92-0ADF-4FB1-9949-DC7F2B6363BE" class="sect4"><span class="enumeration_section">21.3.2 </span>Creating an Index Explicitly
                  </h4>
                  <div>
                     <p>You can create indexes explicitly (outside of integrity constraints) using the SQL statement <code class="codeph">CREATE INDEX</code>.
                     </p>
                     <div class="section">
                        <p>The following statement creates an index named <code class="codeph">emp_ename</code> for the <code class="codeph">ename</code> column of the <code class="codeph">emp</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX emp_ename ON emp(ename)
      TABLESPACE users
      STORAGE (INITIAL 20K
      NEXT 20k);
</pre><p>Notice that several storage settings and a tablespace are explicitly specified for the index. If you do not specify storage options (such as <code class="codeph">INITIAL</code> and <code class="codeph">NEXT</code>) for an index, then the default storage options of the default or specified tablespace are automatically used.
                        </p>
                        <div class="infoboxnote" id="GUID-AAE78F92-0ADF-4FB1-9949-DC7F2B6363BE__GUID-25BF0A76-567A-4838-86B5-2A82127BCBC5">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-indexes/create.html" target="_blank"><span class="italic">Oracle Live SQL: Creating Indexes</span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AAE78F92-0ADF-4FB1-9949-DC7F2B6363BE__GUID-04E676AE-1633-41C3-B954-E2183780DBC7">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF01209" target="_blank"><span class="italic">Oracle Database SQL Language Reference </span></a>for syntax and restrictions on the use of the <code class="codeph">CREATE INDEX</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11724"></a><div class="props_rev_3"><a id="GUID-3D02D776-D3A0-4728-873D-71D5D1625E8F" name="GUID-3D02D776-D3A0-4728-873D-71D5D1625E8F"></a><h4 id="ADMIN-GUID-3D02D776-D3A0-4728-873D-71D5D1625E8F" class="sect4"><span class="enumeration_section">21.3.3 </span>Creating a Unique Index Explicitly
                  </h4>
                  <div>
                     <p>Indexes can be unique or non-unique. Unique indexes guarantee that no two rows of a table have duplicate values in the key column (or columns). Non-unique indexes do not impose this restriction on the column values.</p>
                     <div class="section">
                        <p>Use the <code class="codeph">CREATE UNIQUE INDEX</code> statement to create a unique index. The following example creates a unique index:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE UNIQUE INDEX dept_unique_index ON dept (dname)
      TABLESPACE indx;
</pre><p>Alternatively, you can define <code class="codeph">UNIQUE</code> integrity constraints on the desired columns. The database enforces <code class="codeph">UNIQUE</code> integrity constraints by automatically defining a unique index on the unique key. This is discussed in the following section. However, it is advisable that any index that exists for query performance, including unique indexes, be created explicitly.
                        </p>
                        <div class="infoboxnote" id="GUID-3D02D776-D3A0-4728-873D-71D5D1625E8F__GUID-25BF0A76-567A-4838-86B5-2A82127BCBC5">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-indexes/create.html" target="_blank"><span class="italic">Oracle Live SQL: Creating Indexes</span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3D02D776-D3A0-4728-873D-71D5D1625E8F__GUID-8BAB30D9-3995-4333-ACB1-47752866AF03">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tgsql/index.html" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about creating an index for performance
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-BF04684D-A857-4046-8749-0F57D3B19113" name="GUID-BF04684D-A857-4046-8749-0F57D3B19113"></a><h4 id="ADMIN-GUID-BF04684D-A857-4046-8749-0F57D3B19113" class="sect4"><span class="enumeration_section">21.3.4 </span>Creating an Index Associated with a Constraint
                  </h4>
                  <p>You can create an index associated with a constraint when you issue the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> SQL statement.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-indexes.html#GUID-8DC3DFF0-28C4-4873-91AD-DCBC0AEF8D1D">About Creating an Index Associated with a Constraint</a><br>Oracle Database enforces a <code class="codeph">UNIQUE</code> key or <code class="codeph">PRIMARY KEY</code> integrity constraint on a table by creating a unique index on the unique key or primary key.
                        </li>
                        <li class="ulchildlink"><a href="managing-indexes.html#GUID-F6B75A7D-EF2F-4D31-BD70-C5C5D54A71DB">Specifying Storage Options for an Index Associated with a Constraint</a><br>You can set the storage options for the indexes associated with <code class="codeph">UNIQUE</code> and <code class="codeph">PRIMARY KEY</code> constraints using the <code class="codeph">USING INDEX</code> clause.
                        </li>
                        <li class="ulchildlink"><a href="managing-indexes.html#GUID-15F85DD6-8620-4872-A4E2-2F9DA6DD2438">Specifying the Index Associated with a Constraint</a><br>You can specify details about the indexes associated with constraints.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11725"></a><div class="props_rev_3"><a id="GUID-8DC3DFF0-28C4-4873-91AD-DCBC0AEF8D1D" name="GUID-8DC3DFF0-28C4-4873-91AD-DCBC0AEF8D1D"></a><h5 id="ADMIN-GUID-8DC3DFF0-28C4-4873-91AD-DCBC0AEF8D1D" class="sect5"><span class="enumeration_section">21.3.4.1 </span>About Creating an Index Associated with a Constraint
                     </h5>
                     <div>
                        <p>Oracle Database enforces a <code class="codeph">UNIQUE</code> key or <code class="codeph">PRIMARY KEY</code> integrity constraint on a table by creating a unique index on the unique key or primary key.
                        </p>
                        <p>This index is automatically created by the database when the constraint is enabled. No action is required by you when you issue the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement to create the index, but you can optionally specify a <code class="codeph">USING INDEX</code> clause to exercise control over its creation. This includes both when a constraint is defined and enabled, and when a defined but disabled constraint is enabled.
                        </p>
                        <p>To enable a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code> constraint, thus creating an associated index, the owner of the table must have a quota for the tablespace intended to contain the index, or the <code class="codeph">UNLIMITED TABLESPACE</code> system privilege. The index associated with a constraint always takes the name of the constraint, unless you optionally specify otherwise.
                        </p>
                        <div class="infoboxnote" id="GUID-8DC3DFF0-28C4-4873-91AD-DCBC0AEF8D1D__GUID-A6BDFD62-F1DB-4E7A-8F00-321A962AE512">
                           <p class="notep1">Note:</p>
                           <p>An efficient procedure for enabling a constraint that can make use of parallelism is described in <span class="q">"<a href="managing-schema-objects.html#GUID-E367A78E-8FA7-49A7-B848-462EF3F1096C" title="It is important to use integrity constraint states in a particular order.">Efficient Use of Integrity Constraints: A Procedure</a>"</span>.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF04684D-A857-4046-8749-0F57D3B19113" title="You can create an index associated with a constraint when you issue the CREATE TABLE or ALTER TABLE SQL statement.">Creating an Index Associated with a Constraint</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11726"></a><div class="props_rev_3"><a id="GUID-F6B75A7D-EF2F-4D31-BD70-C5C5D54A71DB" name="GUID-F6B75A7D-EF2F-4D31-BD70-C5C5D54A71DB"></a><h5 id="ADMIN-GUID-F6B75A7D-EF2F-4D31-BD70-C5C5D54A71DB" class="sect5"><span class="enumeration_section">21.3.4.2 </span>Specifying Storage Options for an Index Associated with a Constraint
                     </h5>
                     <div>
                        <p>You can set the storage options for the indexes associated with <code class="codeph">UNIQUE</code> and <code class="codeph">PRIMARY KEY</code> constraints using the <code class="codeph">USING INDEX</code> clause.
                        </p>
                        <div class="section">
                           <p>The following <code class="codeph">CREATE TABLE</code> statement enables a <code class="codeph">PRIMARY KEY</code> constraint and specifies the storage options of the associated index:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE emp (
     empno NUMBER(5) PRIMARY KEY, age INTEGER)
     ENABLE PRIMARY KEY USING INDEX
     TABLESPACE users;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF04684D-A857-4046-8749-0F57D3B19113" title="You can create an index associated with a constraint when you issue the CREATE TABLE or ALTER TABLE SQL statement.">Creating an Index Associated with a Constraint</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11727"></a><div class="props_rev_3"><a id="GUID-15F85DD6-8620-4872-A4E2-2F9DA6DD2438" name="GUID-15F85DD6-8620-4872-A4E2-2F9DA6DD2438"></a><h5 id="ADMIN-GUID-15F85DD6-8620-4872-A4E2-2F9DA6DD2438" class="sect5"><span class="enumeration_section">21.3.4.3 </span>Specifying the Index Associated with a Constraint
                     </h5>
                     <div>
                        <p>You can specify details about the indexes associated with constraints.</p>
                        <div class="section">
                           <p>If you require more explicit control over the indexes associated with <code class="codeph">UNIQUE</code> and <code class="codeph">PRIMARY KEY</code> constraints, the database lets you:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Specify an existing index that the database is to use to enforce the constraint</p>
                              </li>
                              <li>
                                 <p>Specify a <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement that the database is to use to create the index and enforce the constraint
                                 </p>
                              </li>
                           </ul>
                           <p>These options are specified using the <code class="codeph">USING</code> <code class="codeph">INDEX</code> clause. The following statements present some examples.
                           </p>
                           <p><span class="bold">Example 1:</span> 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE a (
     a1 INT PRIMARY KEY USING INDEX (create index ai on a (a1)));
</pre><div class="infoboxnote" id="GUID-15F85DD6-8620-4872-A4E2-2F9DA6DD2438__GUID-25BF0A76-567A-4838-86B5-2A82127BCBC5">
                              <p class="notep1">Live SQL:</p>
                              <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-indexes/create.html" target="_blank"><span class="italic">Oracle Live SQL: Creating Indexes</span></a>.
                              </p>
                           </div>
                           <p><span class="bold">Example 2:</span> 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE b(
     b1 INT, 
     b2 INT, 
     CONSTRAINT bu1 UNIQUE (b1, b2) 
                    USING INDEX (create unique index bi on b(b1, b2)),
     CONSTRAINT bu2 UNIQUE (b2, b1) USING INDEX bi);
</pre><p><span class="bold">Example 3:</span> 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE c(c1 INT, c2 INT);
CREATE INDEX ci ON c (c1, c2);
ALTER TABLE c ADD CONSTRAINT cpk PRIMARY KEY (c1) USING INDEX ci;
</pre><p>If a single statement creates an index with one constraint and also uses that index for another constraint, the system will attempt to rearrange the clauses to create the index before reusing it. </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-15F85DD6-8620-4872-A4E2-2F9DA6DD2438__GUID-3F912CCA-28E5-44F4-9424-F1E41313600D">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF04684D-A857-4046-8749-0F57D3B19113" title="You can create an index associated with a constraint when you issue the CREATE TABLE or ALTER TABLE SQL statement.">Creating an Index Associated with a Constraint</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11729"></a><div class="props_rev_3"><a id="GUID-753ED893-7D87-4957-8AFA-C4624149612B" name="GUID-753ED893-7D87-4957-8AFA-C4624149612B"></a><h4 id="ADMIN-GUID-753ED893-7D87-4957-8AFA-C4624149612B" class="sect4"><span class="enumeration_section">21.3.5 </span>Creating a Large Index
                  </h4>
                  <div>
                     <p>When creating an extremely large index, consider allocating a larger temporary tablespace for the index creation.</p>
                     <div class="section">
                        <p>To do so, complete the following steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Create a new temporary tablespace using the <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">CREATE TEMPORARY TABLESPACE</code> statement.</span></li>
                        <li><span>Use the <code class="codeph">TEMPORARY TABLESPACE </code>option of the <code class="codeph">ALTER USER</code> statement to make this your new temporary tablespace.</span></li>
                        <li><span>Create the index using the <code class="codeph">CREATE INDEX</code> statement.</span></li>
                        <li><span>Drop this tablespace using the <code class="codeph">DROP TABLESPACE</code> statement. Then use the <code class="codeph">ALTER USER</code> statement to reset your temporary tablespace to your original temporary tablespace.</span></li>
                     </ol>
                     <div class="section">
                        <p>Using this procedure can avoid the problem of expanding your usual, and usually shared, temporary tablespace to an unreasonably large size that might affect future performance.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11006"></a><div class="props_rev_3"><a id="GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839" name="GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839"></a><h4 id="ADMIN-GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839" class="sect4"><span class="enumeration_section">21.3.6 </span>Creating an Index Online
                  </h4>
                  <div>
                     <p>You can create and rebuild indexes online. Therefore, you can update base tables at the same time you are building or rebuilding indexes on that table.</p>
                     <div class="section">
                        <p>You can perform DML operations while the index build is taking place, but DDL operations are not allowed. Parallel DML is not supported when creating or rebuilding an index online.</p>
                        <p>The following statements illustrate online index build operations:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX emp_name ON emp (mgr, emp1, emp2, emp3) ONLINE;</pre><div class="infoboxnote" id="GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839__GUID-B1EAB70B-16A6-45CF-843A-832D173F9D37">
                           <p class="notep1">Note:</p>
                           <p>Keep in mind that the time that it takes on online index build to complete is proportional to the size of the table and the number of concurrently executing DML statements. Therefore, it is best to start online index builds when DML activity is low.</p>
                        </div>
                        <div class="infoboxnote" id="GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839__GUID-25BF0A76-567A-4838-86B5-2A82127BCBC5">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-indexes/create.html" target="_blank"><span class="italic">Oracle Live SQL: Creating Indexes</span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839__GUID-EE8631E7-E087-4FD8-964C-8F28B6057210">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-indexes.html#GUID-BD4B0F57-6E2A-4A73-A0A7-99AB1F69F142" title="When you rebuild an index, you use an existing index as the data source. Creating an index in this manner enables you to change storage characteristics or move to a new tablespace. Rebuilding an index based on an existing data source removes intra-block fragmentation.">Rebuilding an Existing Index</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11730"></a><div class="props_rev_3"><a id="GUID-EF5392C6-C38A-4206-BD47-353AD7793557" name="GUID-EF5392C6-C38A-4206-BD47-353AD7793557"></a><h4 id="ADMIN-GUID-EF5392C6-C38A-4206-BD47-353AD7793557" class="sect4"><span class="enumeration_section">21.3.7 </span>Creating a Function-Based Index
                  </h4>
                  <div>
                     <p><span class="bold">Function-based indexes</span> facilitate queries that qualify a value returned by a function or expression. The value of the function or expression is precomputed and stored in the index.
                     </p>
                     <div class="section">
                        <p>In addition to the prerequisites for creating a conventional index, if the index is based on user-defined functions, then those functions must be marked <code class="codeph">DETERMINISTIC</code>. Also, a function-based index is executed with the credentials of the owner of the function, so you must have the <code class="codeph">EXECUTE</code> object privilege on the function.
                        </p>
                        <div class="infoboxnote" id="GUID-EF5392C6-C38A-4206-BD47-353AD7793557__GUID-8D5EA1E0-F337-41C0-977E-0E1F9E5B7849">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">CREATE INDEX</code> stores the timestamp of the most recent function used in the function-based index. This timestamp is updated when the index is validated. When performing tablespace point-in-time recovery of a function-based index, if the timestamp on the most recent function used in the index is newer than the timestamp stored in the index, then the index is marked invalid. You must use the <code class="codeph">ANALYZE INDEX...VALIDATE STRUCTURE</code> statement to validate this index. 
                           </p>
                        </div>
                        <p>To illustrate a function-based index, consider the following statement that defines a function-based index (<code class="codeph">area_index</code>) defined on the function <code class="codeph">area(geo)</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX area_index ON rivers (area(geo));
</pre><p>In the following SQL statement, when <code class="codeph">area(geo)</code> is referenced in the <code class="codeph">WHERE</code> clause, the optimizer considers using the index <code class="codeph">area_index</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id, geo, area(geo), desc
     FROM rivers     
     WHERE Area(geo) &gt;5000;
</pre><p>Because a function-based index depends upon any function it is using, it can be invalidated when a function changes. If the function is valid, then you can use an <code class="codeph">ALTER INDEX...ENABLE</code> statement to enable a function-based index that has been disabled. The <code class="codeph">ALTER INDEX...DISABLE</code> statement lets you disable the use of a function-based index. Consider doing this if you are working on the body of the function.
                        </p>
                        <div class="infoboxnote" id="GUID-EF5392C6-C38A-4206-BD47-353AD7793557__GUID-A2F94393-2044-440D-8225-F4D9B962F90E">
                           <p class="notep1">Note:</p>
                           <p>An alternative to creating a function-based index is to add a virtual column to the target table and index the virtual column. See <span class="q">"<a href="managing-tables.html#GUID-2634BF31-512E-4276-99D4-848A535D273B" title="Tables are the basic unit of data storage in an Oracle Database. Data is stored in rows and columns.">About Tables</a>"</span> for more information.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EF5392C6-C38A-4206-BD47-353AD7793557__GUID-276CC97D-F4F8-4CE3-A222-70F72DBBE392">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT1161" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about function-based indexes
                              </p>
                           </li>
                           <li>
                              <p><a href="../adfns/indexes.html#ADFNS00505" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for information about using function-based indexes in applications and examples of their use
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14307"></a><div class="props_rev_3"><a id="GUID-8EE6F072-BADE-466B-98E6-30ABDFFCD8A9" name="GUID-8EE6F072-BADE-466B-98E6-30ABDFFCD8A9"></a><h4 id="ADMIN-GUID-8EE6F072-BADE-466B-98E6-30ABDFFCD8A9" class="sect4"><span class="enumeration_section">21.3.8 </span>Creating a Compressed Index
                  </h4>
                  <p>As your database grows in size, consider using index compression to save disk space.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-indexes.html#GUID-73FA7C6F-3A79-46E0-9562-39F71BBC2268">Creating an Index Using Prefix Compression</a><br>Creating an index using prefix compression (also known as key compression) eliminates repeated occurrences of key column prefix values. Prefix compression is most useful for non-unique indexes with a large number of duplicates on the leading columns.
                        </li>
                        <li class="ulchildlink"><a href="managing-indexes.html#GUID-83C610F5-C269-467C-9B7B-7713FCFBE3D1">Creating an Index Using Advanced Index Compression</a><br>Advanced index compression works well on all supported indexes, including those that are not good candidates for prefix compression. Creating an index using advanced index compression can reduce the size of all unique and non-unique indexes and improves the compression ratio significantly, while still providing efficient access to the indexes.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11731"></a><div class="props_rev_3"><a id="GUID-73FA7C6F-3A79-46E0-9562-39F71BBC2268" name="GUID-73FA7C6F-3A79-46E0-9562-39F71BBC2268"></a><h5 id="ADMIN-GUID-73FA7C6F-3A79-46E0-9562-39F71BBC2268" class="sect5"><span class="enumeration_section">21.3.8.1 </span>Creating an Index Using Prefix Compression
                     </h5>
                     <div>
                        <p>Creating an index using prefix compression (also known as key compression) eliminates repeated occurrences of key column prefix values. Prefix compression is most useful for non-unique indexes with a large number of duplicates on the leading columns.</p>
                        <div class="section">
                           <p>Prefix compression breaks an index key into a prefix and a suffix entry. Compression is achieved by sharing the prefix entries among all the suffix entries in an index block. This sharing can lead to substantial savings in space, allowing you to store more keys for each index block while improving performance.</p>
                           <p>Prefix compression can be useful in the following situations:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You have a non-unique index where <code class="codeph">ROWID</code> is appended to make the key unique. If you use prefix compression here, then the duplicate key is stored as a prefix entry on the index block without the <code class="codeph">ROWID</code>. The remaining rows become suffix entries consisting of only the <code class="codeph">ROWID</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>You have a unique multicolumn index. </p>
                              </li>
                           </ul>
                           <p>You enable prefix compression using the <code class="codeph">COMPRESS</code> clause. The prefix length (as the number of key columns) can also be specified to identify how the key columns are broken into a prefix and suffix entry. For example, the following statement compresses duplicate occurrences of a key in the index leaf block: 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX  hr.emp_ename ON emp(ename)
   TABLESPACE users
   COMPRESS 1;
</pre><p>You can also specify the <code class="codeph">COMPRESS</code> clause during rebuild. For example, during rebuild, you can disable compression as follows:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX hr.emp_ename REBUILD NOCOMPRESS;
</pre><p>The <code class="codeph">COMPRESSION</code> column in the <code class="codeph">ALL_INDEXES</code> view and <code class="codeph">ALL_PART_INDEXES</code> views shows whether an index is compressed, and, if it is compressed, the type of compression enabled for the index.
                           </p>
                           <div class="infoboxnote" id="GUID-73FA7C6F-3A79-46E0-9562-39F71BBC2268__GUID-25BF0A76-567A-4838-86B5-2A82127BCBC5">
                              <p class="notep1">Live SQL:</p>
                              <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-indexes/create.html" target="_blank"><span class="italic">Oracle Live SQL: Creating Indexes</span></a>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-73FA7C6F-3A79-46E0-9562-39F71BBC2268__GUID-60AC86B8-897A-4422-A987-1ABBD4CEF70A">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF53999" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT1177" target="_blank"><span class="italic">Oracle Database Concepts </span></a>for a more detailed discussion of prefix compression
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-8EE6F072-BADE-466B-98E6-30ABDFFCD8A9" title="As your database grows in size, consider using index compression to save disk space.">Creating a Compressed Index</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14308"></a><div class="props_rev_3"><a id="GUID-83C610F5-C269-467C-9B7B-7713FCFBE3D1" name="GUID-83C610F5-C269-467C-9B7B-7713FCFBE3D1"></a><h5 id="ADMIN-GUID-83C610F5-C269-467C-9B7B-7713FCFBE3D1" class="sect5"><span class="enumeration_section">21.3.8.2 </span>Creating an Index Using Advanced Index Compression
                     </h5>
                     <div>
                        <p>Advanced index compression works well on all supported indexes, including those that are not good candidates for prefix compression. Creating an index using advanced index compression can reduce the size of all unique and non-unique indexes and improves the compression ratio significantly, while still providing efficient access to the indexes.</p>
                        <div class="section">
                           <p>For a partitioned index, you can specify the compression type on a partition by partition basis. You can also specify advanced index compression on index partitions even when the parent index is not compressed.</p>
                           <p>Advanced index compression works at the block level to provide the best compression for each block.</p>
                           <p>You can enable advanced index compression using the <code class="codeph">COMPRESS ADVANCED</code> clause and can specify the following compression levels:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">LOW</code>: This level provides lower compression ratio at minimal CPU overhead. Before enabling <code class="codeph">COMPRESS ADVANCED LOW</code>, the database must be at 12.1.0 or higher compatibility level.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">HIGH</code>: This level, the default, provides higher compression ratio at some CPU overhead. Before enabling <code class="codeph">COMPRESS ADVANCED HIGH</code>, the database must be at 12.2.0 or higher compatibility level. 
                                 </p>
                                 <p> When a <code class="codeph">CREATE INDEX</code> DDL statement is executed, a block is filled with rows. At high compression level, when the block is full, it is compressed with advanced index compression if enough space is saved to insert the next row. When a block becomes full, the block might be recompressed using advanced index compression to avoid splitting the block if enough space is saved to insert the incoming key.
                                 </p>
                              </li>
                           </ul>
                           <p>The <code class="codeph">COMPRESSION</code> column in the <code class="codeph">ALL_INDEXES</code> view shows whether an index is compressed, and, if it is compressed, the type of compression enabled for the index. The possible values for the <code class="codeph">COMPRESSION</code> column are <code class="codeph">ADVANCED HIGH</code>, <code class="codeph">ADVANCED LOW</code>, <code class="codeph">DISABLED</code>, or <code class="codeph">ENABLED</code>. The <code class="codeph">COMPRESSION</code> column in the <code class="codeph">ALL_IND_PARTITIONS</code> and <code class="codeph">ALL_IND_SUBPARTITIONS</code> views indicates whether index compression is <code class="codeph">ENABLED</code> or <code class="codeph">DISABLED</code> for the partition or subpartition.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-83C610F5-C269-467C-9B7B-7713FCFBE3D1__GUID-434D66E9-2F2D-4551-9442-41F6F9E2363A">
                              <p class="notep1">Note:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Advanced index compression is not supported for bitmap indexes or index-organized tables.</p>
                                 </li>
                                 <li>
                                    <p>When low level advanced index compression is enabled, advanced index compression cannot be specified on a single column unique index. This restriction does not apply when  high level advanced index compression is enabled.</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-83C610F5-C269-467C-9B7B-7713FCFBE3D1__GUID-828817E0-8624-4229-B318-7C6ECA387688">
                           <p class="titleinexample">Example 21-1 Enabling Low Level Advanced Index Compression During Index Creation</p>
                           <p>For example, the following statement enables low level advanced index compression during the creation of the <code class="codeph">hr.emp_mndp_ix</code> index: 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX hr.emp_mndp_ix ON hr.employees(manager_id, department_id)
   COMPRESS ADVANCED LOW;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-83C610F5-C269-467C-9B7B-7713FCFBE3D1__GUID-BD6AA686-6BA7-413D-B435-658C664C3EB6">
                           <p class="titleinexample">Example 21-2 Enabling High Level Advanced Index Compression During Index Rebuild</p>
                           <p>You can also specify the <code class="codeph">COMPRESS ADVANCED</code> clause during an index rebuild. For example, during rebuild, you can enable high level advanced index compression for the <code class="codeph">hr.emp_manager_ix</code> index as follows:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX hr.emp_manager_ix REBUILD COMPRESS ADVANCED HIGH;
</pre></div>
                        <!-- class="example" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-8EE6F072-BADE-466B-98E6-30ABDFFCD8A9" title="As your database grows in size, consider using index compression to save disk space.">Creating a Compressed Index</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13282"></a><div class="props_rev_3"><a id="GUID-FA0C46EC-DA22-4484-AF52-58BC0CBEEC81" name="GUID-FA0C46EC-DA22-4484-AF52-58BC0CBEEC81"></a><h4 id="ADMIN-GUID-FA0C46EC-DA22-4484-AF52-58BC0CBEEC81" class="sect4"><span class="enumeration_section">21.3.9 </span>Creating an Unusable Index
                  </h4>
                  <div>
                     <p>When you create an index in the <code class="codeph">UNUSABLE</code> state, it is ignored by the optimizer and is not maintained by DML. An unusable index must be rebuilt, or dropped and re-created, before it can be used.
                     </p>
                     <div class="section">
                        <p>If the index is partitioned, then all index partitions are marked <code class="codeph">UNUSABLE</code>.
                        </p>
                        <p>The database does not create an index segment when creating an unusable index.</p>
                        <p>The following procedure illustrates how to create unusable indexes and query the database for details about the index.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To create an unusable index:</p>
                        <ol>
                           <li>
                              <p>If necessary, create the table to be indexed.</p>
                              <p>For example, create a hash-partitioned table called <code class="codeph">hr.employees_part</code> as follows:
                              </p><pre class="oac_no_warn" dir="ltr">sh@PROD&gt; CONNECT hr
Enter password: **
Connected.

hr@PROD&gt; CREATE TABLE employees_part
  2    PARTITION BY HASH (employee_id) PARTITIONS 2
  3    AS SELECT * FROM employees;
 
Table created.

hr@PROD&gt; SELECT COUNT(*) FROM employees_part;
 
  COUNT(*)
----------
       107
</pre></li>
                           <li>
                              <p>Create an index with the keyword <code class="codeph">UNUSABLE</code>.
                              </p>
                              <p>The following example creates a locally partitioned index on <code class="codeph">employees_part</code>, naming the index partitions <code class="codeph">p1_i_emp_ename</code> and <code class="codeph">p2_i_emp_ename</code>, and making <code class="codeph">p1_i_emp_ename</code> unusable:
                              </p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; CREATE INDEX i_emp_ename ON employees_part (employee_id)
  2    LOCAL (PARTITION p1_i_emp_ename UNUSABLE, PARTITION p2_i_emp_ename);
 
Index created.
</pre></li>
                           <li>
                              <p>(Optional) Verify that the index is unusable by querying the data dictionary.</p>
                              <p>The following example queries the status of index <code class="codeph">i_emp_ename</code> and its two partitions, showing that only partition <code class="codeph">p2_i_emp_ename</code> is unusable:
                              </p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; SELECT INDEX_NAME AS "INDEX OR PARTITION NAME", STATUS
  2  FROM   USER_INDEXES
  3  WHERE  INDEX_NAME = 'I_EMP_ENAME'
  4  UNION ALL
  5  SELECT PARTITION_NAME AS "INDEX OR PARTITION NAME", STATUS
  6  FROM   USER_IND_PARTITIONS
  7  WHERE  PARTITION_NAME LIKE '%I_EMP_ENAME%';
 
INDEX OR PARTITION NAME        STATUS
------------------------------ --------
I_EMP_ENAME                    N/A
P1_I_EMP_ENAME                 UNUSABLE
P2_I_EMP_ENAME                 USABLE
</pre></li>
                           <li>
                              <p>(Optional) Query the data dictionary to determine whether storage exists for the partitions.</p>
                              <p>For example, the following query shows that only index partition <code class="codeph">p2_i_emp_ename</code> occupies a segment. Because you created <code class="codeph">p1_i_emp_ename</code> as unusable, the database did not allocate a segment for it.
                              </p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; COL PARTITION_NAME FORMAT a14
hr@PROD&gt; COL SEG_CREATED FORMAT a11
hr@PROD&gt; SELECT p.PARTITION_NAME, p.STATUS AS "PART_STATUS",
  2         p.SEGMENT_CREATED AS "SEG_CREATED",   
  3  FROM   USER_IND_PARTITIONS p, USER_SEGMENTS s
  4  WHERE  s.SEGMENT_NAME = 'I_EMP_ENAME';
 
PARTITION_NAME PART_STA SEG_CREATED 
-------------- -------- ----------- 
P2_I_EMP_ENAME USABLE   YES       
P1_I_EMP_ENAME UNUSABLE NO</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FA0C46EC-DA22-4484-AF52-58BC0CBEEC81__GUID-D513D55A-EB4A-4677-ACE6-9D81760F3B38">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" title="Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.">Understand When to Use Unusable or Invisible Indexes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692" title="When you make an index unusable, it is ignored by the optimizer and is not maintained by DML. When you make one partition of a partitioned index unusable, the other partitions of the index remain valid.">Making an Index Unusable</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF54038" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on creating unusable indexes, including restrictions.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12317"></a><div class="props_rev_3"><a id="GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA" name="GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA"></a><h4 id="ADMIN-GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA" class="sect4"><span class="enumeration_section">21.3.10 </span>Creating an Invisible Index
                  </h4>
                  <div>
                     <p>An invisible index is an index that is ignored by the optimizer unless you explicitly set the <code class="codeph">OPTIMIZER_USE_INVISIBLE_INDEXES</code> initialization parameter to <code class="codeph">TRUE</code> at the session or system level.
                     </p>
                     <div class="section">
                        <p>To create an invisible index:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">CREATE INDEX</code> statement with the <code class="codeph">INVISIBLE</code> keyword.
                              </p>
                              <p>The following statement creates an invisible index named <code class="codeph">emp_ename</code> for the <code class="codeph">ename</code> column of the <code class="codeph">emp</code> table:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX emp_ename ON emp(ename)
      TABLESPACE users
      STORAGE (INITIAL 20K
      NEXT 20k)
      <span class="bold">INVISIBLE</span>;
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA__GUID-32992CD6-DD3B-4E02-A7B2-4ED742566DF6">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" title="Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.">Understand When to Use Unusable or Invisible Indexes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2" title="Making an index invisible is an alternative to making it unusable or dropping it.">Making an Index Invisible or Visible</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF01209" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on creating invisible indexes
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13846"></a><div class="props_rev_3"><a id="GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09" name="GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09"></a><h4 id="ADMIN-GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09" class="sect4"><span class="enumeration_section">21.3.11 </span>Creating Multiple Indexes on the Same Set of Columns
                  </h4>
                  <div>
                     <p>You can create multiple indexes on the same set of columns when the indexes are different in some way.</p>
                     <div class="section">
                        <p>To create multiple indexes on the same set of columns, the following prerequisites must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The prerequisites for required privileges in <span class="q">"<a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Only one index on the same set of columns can be visible at any point in time.</p>
                              <p>If you are creating a visible index, then any existing indexes on the set of columns must be invisible..</p>
                              <p>Alternatively, you can create an invisible index on the set of columns.</p>
                           </li>
                        </ul>
                        <p>For example, the following steps create a B-tree index and a bitmap index on the same set of columns in the <code class="codeph">oe.orders</code> table:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand" id="GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09__CHDFGHCJ"><span>Create a B-tree index on the <code class="codeph">customer_id</code> and <code class="codeph">sales_rep_id</code> columns in the <code class="codeph">oe.orders</code> table:</span><div><pre class="oac_no_warn" dir="ltr">CREATE INDEX oe.ord_customer_ix1 ON oe.orders (customer_id, sales_rep_id);
</pre><p>The <code class="codeph">oe.ord_customer_ix1</code> index is visible by default.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Alter the index created in Step 1 to make it invisible:</span><div><pre class="oac_no_warn" dir="ltr">ALTER INDEX oe.ord_customer_ix1 INVISIBLE;
</pre><p>Alternatively, you can add the <code class="codeph">INVISIBLE</code> clause in Step 1 to avoid this step.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create a bitmap index on the <code class="codeph">customer_id</code> and <code class="codeph">sales_rep_id</code> columns in the <code class="codeph">oe.orders</code> table:</span><div><pre class="oac_no_warn" dir="ltr">CREATE BITMAP INDEX oe.ord_customer_ix2 ON oe.orders (customer_id, sales_rep_id);
</pre><p>The <code class="codeph">oe.ord_customer_ix2</code> index is visible by default.
                              </p>
                              <p>If the <code class="codeph">oe.ord_customer_ix1</code> index created in Step 1 is visible, then the <code class="codeph">CREATE</code> <code class="codeph">BITMAP</code> <code class="codeph">INDEX</code> statement in this step returns an error.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09__GUID-17B0AC77-0BB2-44F7-AC30-76D0F3DE0431">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-B4B30CF4-2B95-44D6-8596-EC2A378251EF" title="You can create multiple indexes on the same set of columns when the indexes are different in some way. For example, you can create a B-tree index and a bitmap index on the same set of columns.">Understand When to Create Multiple Indexes on the Same Set of Columns</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" title="Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.">Understand When to Use Unusable or Invisible Indexes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA" title="An invisible index is an index that is ignored by the optimizer unless you explicitly set the OPTIMIZER_USE_INVISIBLE_INDEXES initialization parameter to TRUE at the session or system level.">Creating an Invisible Index</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-BF813E96-C4BD-433C-B26A-70289D938D02" title="You can create several different types of indexes. You can create indexes explicitly, and you can create indexes associated with constraints.">Creating Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" name="GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4"></a><h3 id="ADMIN-GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" class="sect3"><span class="enumeration_section">21.4 </span>Altering Indexes
               </h3>
               <p>You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-97B5C03C-3C3B-4A64-9E71-7838E6EC7DB3">About Altering Indexes</a><br>To alter an index, your schema must contain the index, or you must have the <code class="codeph">ALTER ANY INDEX</code> system privilege.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-ACDAF858-C988-4F6D-99DE-4808F904B29E">Altering Storage Characteristics of an Index</a><br>Alter the storage parameters of any index, including those created by the database to enforce primary and unique key integrity constraints, using the <code class="codeph">ALTER INDEX</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-BD4B0F57-6E2A-4A73-A0A7-99AB1F69F142">Rebuilding an Existing Index</a><br>When you rebuild an index, you use an existing index as the data source. Creating an index in this manner enables you to change storage characteristics or move to a new tablespace. Rebuilding an index based on an existing data source removes intra-block fragmentation.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692">Making an Index Unusable</a><br>When you make an index unusable, it is ignored by the optimizer and is not maintained by DML. When you make one partition of a partitioned index unusable, the other partitions of the index remain valid.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2">Making an Index Invisible or Visible</a><br>Making an index invisible is an alternative to making it unusable or dropping it. 
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-952AF0B6-CB84-45EA-9389-A47107344F08">Renaming an Index</a><br>You can rename an index using an <code class="codeph">ALTER INDEX</code> statement with the <code class="codeph">RENAME</code> clause.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-8E5379E6-F96D-464D-B601-A279679A49E9">Monitoring Index Usage</a><br>Oracle Database provides a means of monitoring indexes to determine whether they are being used. If an index is not being used, then it can be dropped, eliminating unnecessary statement overhead.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11732"></a><div class="props_rev_3"><a id="GUID-97B5C03C-3C3B-4A64-9E71-7838E6EC7DB3" name="GUID-97B5C03C-3C3B-4A64-9E71-7838E6EC7DB3"></a><h4 id="ADMIN-GUID-97B5C03C-3C3B-4A64-9E71-7838E6EC7DB3" class="sect4"><span class="enumeration_section">21.4.1 </span>About Altering Indexes
                  </h4>
                  <div>
                     <p>To alter an index, your schema must contain the index, or you must have the <code class="codeph">ALTER ANY INDEX</code> system privilege.
                     </p>
                     <p>With the <code class="codeph">ALTER INDEX</code> statement, you can:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Rebuild or coalesce an existing index</p>
                        </li>
                        <li>
                           <p>Deallocate unused space or allocate a new extent</p>
                        </li>
                        <li>
                           <p>Specify parallel execution (or not) and alter the degree of parallelism</p>
                        </li>
                        <li>
                           <p>Alter storage parameters or physical attributes</p>
                        </li>
                        <li>
                           <p>Specify <code class="codeph">LOGGING</code> or <code class="codeph">NOLOGGING</code></p>
                        </li>
                        <li>
                           <p>Enable or disable prefix compression</p>
                        </li>
                        <li>
                           <p>Enable or disable advanced compression</p>
                        </li>
                        <li>
                           <p>Mark the index unusable</p>
                        </li>
                        <li>
                           <p>Make the index invisible</p>
                        </li>
                        <li>
                           <p>Rename the index</p>
                        </li>
                        <li>
                           <p>Start or stop the monitoring of index usage</p>
                        </li>
                     </ul>
                     <p>You cannot alter index column structure.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-97B5C03C-3C3B-4A64-9E71-7838E6EC7DB3__GUID-2AFF7521-F69B-4BC9-A5FC-BC38FF605478">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/ALTER-INDEX.html#SQLRF00805" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for details on the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" title="You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.">Altering Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11733"></a><div class="props_rev_3"><a id="GUID-ACDAF858-C988-4F6D-99DE-4808F904B29E" name="GUID-ACDAF858-C988-4F6D-99DE-4808F904B29E"></a><h4 id="ADMIN-GUID-ACDAF858-C988-4F6D-99DE-4808F904B29E" class="sect4"><span class="enumeration_section">21.4.2 </span>Altering Storage Characteristics of an Index
                  </h4>
                  <div>
                     <p>Alter the storage parameters of any index, including those created by the database to enforce primary and unique key integrity constraints, using the <code class="codeph">ALTER INDEX</code> statement.
                     </p>
                     <div class="section">
                        <p>For example, the following statement alters the <code class="codeph">emp_ename</code> index:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX emp_ename
     STORAGE (NEXT 40);
</pre><p>The parameters <code class="codeph">INITIAL</code> and <code class="codeph">MINEXTENTS</code> cannot be altered. All new settings for the other storage parameters affect only extents subsequently allocated for the index.
                        </p>
                        <p>For indexes that implement integrity constraints, you can adjust storage parameters by issuing an <code class="codeph">ALTER TABLE</code> statement that includes the <code class="codeph">USING INDEX</code> subclause of the <code class="codeph">ENABLE</code> clause. For example, the following statement changes the storage options of the index created on table <code class="codeph">emp</code> to enforce the primary key constraint:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE emp
     ENABLE PRIMARY KEY USING INDEX;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-ACDAF858-C988-4F6D-99DE-4808F904B29E__GUID-2BF4E1C8-6D25-4D22-8732-9979C7EE4190">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/ALTER-INDEX.html#SQLRF00805" target="_blank"><span class="italic">Oracle Database SQL Language Reference </span></a>for syntax and restrictions on the use of the <code class="codeph">ALTER INDEX</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" title="You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.">Altering Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11734"></a><div class="props_rev_3"><a id="GUID-BD4B0F57-6E2A-4A73-A0A7-99AB1F69F142" name="GUID-BD4B0F57-6E2A-4A73-A0A7-99AB1F69F142"></a><h4 id="ADMIN-GUID-BD4B0F57-6E2A-4A73-A0A7-99AB1F69F142" class="sect4"><span class="enumeration_section">21.4.3 </span>Rebuilding an Existing Index
                  </h4>
                  <div>
                     <p>When you rebuild an index, you use an existing index as the data source. Creating an index in this manner enables you to change storage characteristics or move to a new tablespace. Rebuilding an index based on an existing data source removes intra-block fragmentation.</p>
                     <div class="section">
                        <p>Compared to dropping the index and using the <code class="codeph">CREATE INDEX</code> statement, rebuilding an existing index offers better performance. Before rebuilding an existing index, compare the costs and benefits associated with rebuilding to those associated with coalescing indexes as described in <span class="q">"<a href="managing-indexes.html#GUID-D459FCD6-D729-4F3A-96AD-E147FC37956A" title="Improper sizing or increased growth can produce index fragmentation. To eliminate or reduce fragmentation, you can rebuild or coalesce the index. But before you perform either task weigh the costs and benefits of each option and choose the one that works best for your situation.">Consider Costs and Benefits of Coalescing or Rebuilding Indexes</a>"</span>.
                        </p>
                        <p>The following statement rebuilds the existing index <code class="codeph">emp_name</code>:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX emp_name REBUILD;
</pre><p>The <code class="codeph">REBUILD</code> clause must immediately follow the index name, and precede any other options. It cannot be used with the <code class="codeph">DEALLOCATE UNUSED</code> clause.
                        </p>
                        <p>You have the option of rebuilding the index online. Rebuilding online enables you to update base tables at the same time that you are rebuilding. The following statement rebuilds the  <code class="codeph">emp_name</code>  index online:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX emp_name REBUILD ONLINE;
</pre><p>To rebuild an index in a different user's schema online, the <code class="codeph">ALTER ANY INDEX</code> system privileges is required.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-BD4B0F57-6E2A-4A73-A0A7-99AB1F69F142__GUID-A4B94048-CD73-45EE-93E5-DDE5E34550D5">
                           <p class="notep1">Note:</p>
                           <p>Online index rebuilding has stricter limitations on the maximum key length that can be handled, compared to other methods of rebuilding an index. If an ORA-1450 (maximum key length exceeded) error occurs when rebuilding online, try rebuilding offline, coalescing, or dropping and recreating the index.</p>
                        </div>
                        <p><a id="d222637e3860" class="indexterm-anchor"></a>If you do not have the space required to rebuild an index, you can choose instead to coalesce the index. Coalescing an index is an online operation. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BD4B0F57-6E2A-4A73-A0A7-99AB1F69F142__GUID-4185BF0E-627D-4E2E-9CF6-322BACBE62E8">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-81CECA90-E664-4A53-AEB0-3AA4AB672839" title="You can create and rebuild indexes online. Therefore, you can update base tables at the same time you are building or rebuilding indexes on that table.">Creating an Index Online</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-19B6C345-FDCA-4D7F-A93A-341555CFFC1A" title="If key values in an index are inserted, updated, and deleted frequently, then the index can lose its acquired space efficiency over time.">Monitoring Space Use of Indexes</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" title="You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.">Altering Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13283"></a><div class="props_rev_3"><a id="GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692" name="GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692"></a><h4 id="ADMIN-GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692" class="sect4"><span class="enumeration_section">21.4.4 </span>Making an Index Unusable
                  </h4>
                  <div>
                     <p>When you make an index unusable, it is ignored by the optimizer and is not maintained by DML. When you make one partition of a partitioned index unusable, the other partitions of the index remain valid.</p>
                     <div class="section">
                        <p>You must rebuild or drop and re-create an unusable index or index partition before using it.</p>
                        <p>The following procedure illustrates how to make an index and index partition unusable, and how to query the object status.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692__GUID-72B053C6-1DB7-4125-9162-A231EBCA49D5">To make an index unusable:</p>
                        <ol>
                           <li>
                              <p>Query the data dictionary to determine whether an existing index or index partition is usable or unusable.</p>
                              <p>For example, issue the following query (output truncated to save space):</p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; SELECT INDEX_NAME AS "INDEX OR PART NAME", STATUS, SEGMENT_CREATED
  2  FROM   USER_INDEXES
  3  UNION ALL
  4  SELECT PARTITION_NAME AS "INDEX OR PART NAME", STATUS, SEGMENT_CREATED
  5  FROM   USER_IND_PARTITIONS;
 
INDEX OR PART NAME             STATUS   SEG
------------------------------ -------- ---
I_EMP_ENAME                    N/A      N/A
JHIST_EMP_ID_ST_DATE_PK        VALID    YES
JHIST_JOB_IX                   VALID    YES
JHIST_EMPLOYEE_IX              VALID    YES
JHIST_DEPARTMENT_IX            VALID    YES
EMP_EMAIL_UK                   VALID    NO
.
.
.
COUNTRY_C_ID_PK                VALID    YES
REG_ID_PK                      VALID    YES
P2_I_EMP_ENAME                 USABLE   YES
P1_I_EMP_ENAME                 UNUSABLE NO
 
22 rows selected.
</pre><p>The preceding output shows that only index partition <code class="codeph">p1_i_emp_ename</code> is unusable.
                              </p>
                           </li>
                           <li>
                              <p>Make an index or index partition unusable by specifying the <code class="codeph">UNUSABLE</code> keyword.
                              </p>
                              <p>The following example makes index <code class="codeph">emp_email_uk</code> unusable:
                              </p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; ALTER INDEX emp_email_uk UNUSABLE;
 
Index altered.
</pre><p>The following example makes index partition <code class="codeph">p2_i_emp_ename</code> unusable:
                              </p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; ALTER INDEX i_emp_ename MODIFY PARTITION p2_i_emp_ename UNUSABLE;
 
Index altered.
</pre></li>
                           <li>
                              <p><a id="d222637e3972" class="indexterm-anchor"></a>(Optional) Query the data dictionary to verify the status change.
                              </p>
                              <p>For example, issue the following query (output truncated to save space):</p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; SELECT INDEX_NAME AS "INDEX OR PARTITION NAME", STATUS, 
  2  SEGMENT_CREATED
  3  FROM   USER_INDEXES
  4  UNION ALL
  5  SELECT PARTITION_NAME AS "INDEX OR PARTITION NAME", STATUS, 
  6  SEGMENT_CREATED
  7  FROM   USER_IND_PARTITIONS;
 
INDEX OR PARTITION NAME        STATUS   SEG
------------------------------ -------- ---
I_EMP_ENAME                    N/A      N/A
JHIST_EMP_ID_ST_DATE_PK        VALID    YES
JHIST_JOB_IX                   VALID    YES
JHIST_EMPLOYEE_IX              VALID    YES
JHIST_DEPARTMENT_IX            VALID    YES
EMP_EMAIL_UK                   <span class="bold">UNUSABLE</span> NO
.
.
.
COUNTRY_C_ID_PK                VALID    YES
REG_ID_PK                      VALID    YES
P2_I_EMP_ENAME                 <span class="bold">UNUSABLE</span> NO
P1_I_EMP_ENAME                 UNUSABLE NO
 
22 rows selected.
</pre><p>A query of space consumed by the <code class="codeph">i_emp_ename</code> and <code class="codeph">emp_email_uk</code> segments shows that the segments no longer exist:
                              </p><pre class="oac_no_warn" dir="ltr">hr@PROD&gt; SELECT SEGMENT_NAME, BYTES
  2  FROM   USER_SEGMENTS
  3  WHERE  SEGMENT_NAME IN ('I_EMP_ENAME', 'EMP_EMAIL_UK');
 
no rows selected</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692__GUID-8D46361F-4E6D-45D6-A9DC-AD33EFCE0661">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" title="Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.">Understand When to Use Unusable or Invisible Indexes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-FA0C46EC-DA22-4484-AF52-58BC0CBEEC81" title="When you create an index in the UNUSABLE state, it is ignored by the optimizer and is not maintained by DML. An unusable index must be rebuilt, or dropped and re-created, before it can be used.">Creating an Unusable Index</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF54038" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">UNUSABLE</code> keyword, including restrictions
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" title="You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.">Altering Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12318"></a><div class="props_rev_3"><a id="GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2" name="GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2"></a><h4 id="ADMIN-GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2" class="sect4"><span class="enumeration_section">21.4.5 </span>Making an Index Invisible or Visible
                  </h4>
                  <div>
                     <p>Making an index invisible is an alternative to making it unusable or dropping it. </p>
                     <div class="section">
                        <p>An invisible index is ignored by the optimizer unless you explicitly set the <code class="codeph">OPTIMIZER_USE_INVISIBLE_INDEXES</code> initialization parameter to <code class="codeph">TRUE</code> at the session or system level. You cannot make an individual index partition invisible. Attempting to do so produces an error.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2__GUID-4C68427A-8882-4942-BD5A-4AE31590C707">To make an index invisible:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Submit the following SQL statement:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">index</span> INVISIBLE;
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2__GUID-1E69E95B-8E67-4B9E-AB81-50BE5018F054">To make an invisible index visible again:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Submit the following SQL statement:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">index</span> VISIBLE;
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2__GUID-8897A154-288A-4113-B9AE-5E779F16B132">
                           <p class="notep1">Note:</p>
                           <p>If there are multiple indexes on the same set of columns, then only one of these indexes can be visible at any point in time. If you try to make an index on a set of columns visible, and another index on the same set of columns is visible, then an error is returned.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2__GUID-290F4D6B-27B8-4CCE-A333-5788751363E0">To determine whether an index is visible or invisible:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Query the dictionary views <code class="codeph">USER_INDEXES</code>, <code class="codeph">ALL_INDEXES</code>, or <code class="codeph">DBA_INDEXES</code>.
                              </p>
                              <p>For example, to determine if the index <code class="codeph">ind1</code> is invisible, issue the following query:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT INDEX_NAME, VISIBILITY FROM USER_INDEXES
   WHERE INDEX_NAME = 'IND1';

INDEX_NAME   VISIBILITY
----------   ----------
IND1         VISIBLE</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2__GUID-B7F72E55-C9B2-4F6D-852B-B90B714C6978">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-3A66938F-73C6-4173-844E-3938A0DBBB54" title="Use unusable or invisible indexes when you want to improve the performance of bulk loads, test the effects of removing an index before dropping it, or otherwise suspend the use of an index by the optimizer.">Understand When to Use Unusable or Invisible Indexes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-1FEFC754-C26F-4EC7-A1B3-318850A089AA" title="An invisible index is an index that is ignored by the optimizer unless you explicitly set the OPTIMIZER_USE_INVISIBLE_INDEXES initialization parameter to TRUE at the session or system level.">Creating an Invisible Index</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-05F3C3B0-DB80-489C-B749-01653FDE8E09" title="You can create multiple indexes on the same set of columns when the indexes are different in some way.">Creating Multiple Indexes on the Same Set of Columns</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" title="You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.">Altering Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12647"></a><div class="props_rev_3"><a id="GUID-952AF0B6-CB84-45EA-9389-A47107344F08" name="GUID-952AF0B6-CB84-45EA-9389-A47107344F08"></a><h4 id="ADMIN-GUID-952AF0B6-CB84-45EA-9389-A47107344F08" class="sect4"><span class="enumeration_section">21.4.6 </span>Renaming an Index
                  </h4>
                  <div>
                     <p>You can rename an index using an <code class="codeph">ALTER INDEX</code> statement with the <code class="codeph">RENAME</code> clause.
                     </p>
                     <div class="section">
                        <p>To rename an index, issue this statement:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">index_name</span> RENAME TO <span class="italic">new_name</span>;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" title="You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.">Altering Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11735"></a><div class="props_rev_3"><a id="GUID-8E5379E6-F96D-464D-B601-A279679A49E9" name="GUID-8E5379E6-F96D-464D-B601-A279679A49E9"></a><h4 id="ADMIN-GUID-8E5379E6-F96D-464D-B601-A279679A49E9" class="sect4"><span class="enumeration_section">21.4.7 </span>Monitoring Index Usage
                  </h4>
                  <div>
                     <p>Oracle Database provides a means of monitoring indexes to determine whether they are being used. If an index is not being used, then it can be dropped, eliminating unnecessary statement overhead.</p>
                     <div class="section">
                        <p>To start monitoring the usage of an index, issue this statement:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">index</span> MONITORING USAGE;
</pre><p>Later, issue the following statement to stop the monitoring:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">index</span> NOMONITORING USAGE;
</pre><p>The view <code class="codeph">USER_OBJECT_USAGE</code> can be queried for the index being monitored to see if the index has been used. The view contains a <code class="codeph">USED</code> column whose value is <code class="codeph">YES</code> or <code class="codeph">NO</code>, depending upon if the index has been used within the time period being monitored. The view also contains the start and stop times of the monitoring period, and a <code class="codeph">MONITORING</code> column (<code class="codeph">YES</code>/<code class="codeph">NO</code>) to indicate if usage monitoring is currently active.
                        </p>
                        <p>Each time that you specify <code class="codeph">MONITORING USAGE</code>, the <code class="codeph">USER_OBJECT_USAGE</code> view is reset for the specified index. The previous usage information is cleared or reset, and a new start time is recorded. When you specify <code class="codeph">NOMONITORING USAGE</code>, no further monitoring is performed, and the end time is recorded for the monitoring period. Until the next <code class="codeph">ALTER INDEX...MONITORING USAGE</code> statement is issued, the view information is left unchanged.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E637BC13-A2CA-454D-B680-07B95F7C4CE4" title="You can alter an index by completing tasks such as changing its storage characteristics, rebuilding it, making it unusable, or making it visible or invisible.">Altering Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11736"></a><div class="props_rev_3"><a id="GUID-19B6C345-FDCA-4D7F-A93A-341555CFFC1A" name="GUID-19B6C345-FDCA-4D7F-A93A-341555CFFC1A"></a><h3 id="ADMIN-GUID-19B6C345-FDCA-4D7F-A93A-341555CFFC1A" class="sect3"><span class="enumeration_section">21.5 </span>Monitoring Space Use of Indexes
               </h3>
               <div>
                  <p>If key values in an index are inserted, updated, and deleted frequently, then the index can lose its acquired space efficiency over time.</p>
                  <div class="section">
                     <p>Monitor index efficiency of space usage at regular intervals by first analyzing the index structure, using the <code class="codeph">ANALYZE INDEX...VALIDATE STRUCTURE</code> statement, and then querying the <code class="codeph">INDEX_STATS</code> view:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT PCT_USED FROM INDEX_STATS WHERE NAME = '<span class="italic">index</span>';
</pre><p>The percentage of index space usage varies according to how often index keys are inserted, updated, or deleted. Develop a history of average efficiency of space usage for an index by performing the following sequence of operations several times:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Analyzing statistics</p>
                        </li>
                        <li>
                           <p>Validating the index</p>
                        </li>
                        <li>
                           <p>Checking <code class="codeph">PCT_USED</code></p>
                        </li>
                        <li>
                           <p>Dropping and rebuilding (or coalescing) the index</p>
                        </li>
                     </ul>
                     <p>When you find that index space usage drops below its average, you can condense the index space by dropping the index and rebuilding it, or coalescing it.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-19B6C345-FDCA-4D7F-A93A-341555CFFC1A__GUID-3FE6CD83-23C9-47B9-851E-41B3D8C395B0">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="managing-schema-objects.html#GUID-DB5A9A4E-054B-4ECF-8E97-C93DC9783675" title="You can collect information about schema objects and analyze that information.">About Analyzing Tables, Indexes, and Clusters</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11737"></a><div class="props_rev_3"><a id="GUID-670ACFFA-9002-4511-9345-C33C49811577" name="GUID-670ACFFA-9002-4511-9345-C33C49811577"></a><h3 id="ADMIN-GUID-670ACFFA-9002-4511-9345-C33C49811577" class="sect3"><span class="enumeration_section">21.6 </span>Dropping Indexes
               </h3>
               <div>
                  <p>You can drop an index with the <code class="codeph">DROP INDEX</code> statement.
                  </p>
                  <div class="section">
                     <p>To drop an index, the index must be contained in your schema, or you must have the <code class="codeph">DROP ANY INDEX</code> system privilege.
                     </p>
                     <p>Some reasons for dropping an index include:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The index is no longer required.</p>
                        </li>
                        <li>
                           <p>The index is not providing anticipated performance improvements for queries issued against the associated table. For example, the table might be very small, or there might be many rows in the table but very few index entries.</p>
                        </li>
                        <li>
                           <p>Applications do not use the index to query the data.</p>
                        </li>
                        <li>
                           <p>The index has become invalid and must be dropped before being rebuilt. </p>
                        </li>
                        <li>
                           <p>The index has become too fragmented and must be dropped before being rebuilt.</p>
                        </li>
                     </ul>
                     <p>When you drop an index, all extents of the index segment are returned to the containing tablespace and become available for other objects in the tablespace.</p>
                     <p>How you drop an index depends on whether you created the index explicitly with a <code class="codeph">CREATE INDEX</code> statement, or implicitly by defining a key constraint on a table. If you created the index explicitly with the <code class="codeph">CREATE INDEX</code> statement, then you can drop the index with the <code class="codeph">DROP INDEX</code> statement. The following statement drops the <code class="codeph">emp_ename</code> index:
                     </p><pre class="oac_no_warn" dir="ltr">DROP INDEX emp_ename;
</pre><p>You cannot drop only the index associated with an enabled <code class="codeph">UNIQUE</code> key or <code class="codeph">PRIMARY KEY</code> constraint. To drop a constraints associated index, you must disable or drop the constraint itself.
                     </p>
                     <div class="infoboxnote" id="GUID-670ACFFA-9002-4511-9345-C33C49811577__GUID-EA647DA4-9661-4A00-9D0A-787783961F97">
                        <p class="notep1">Note:</p>
                        <p>If a table is dropped, all associated indexes are dropped automatically.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-670ACFFA-9002-4511-9345-C33C49811577__GUID-D8A9EDF9-60AE-4CA5-96B8-B780172D7255">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sqlrf/DROP-INDEX.html#SQLRF01510" target="_blank"><span class="italic">Oracle Database SQL Language Reference </span></a>for syntax and restrictions on the use of the <code class="codeph">DROP INDEX</code> statement
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-indexes.html#GUID-FD6F0D3D-022E-433D-9E11-B3A5D65A84C2" title="Making an index invisible is an alternative to making it unusable or dropping it.">Making an Index Invisible or Visible</a>"</span> for an alternative to dropping indexes
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999" name="GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999"></a><h3 id="ADMIN-GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999" class="sect3"><span class="enumeration_section">21.7 </span>Managing Auto Indexes
               </h3>
               <p>You can use the automatic indexing feature to configure and use auto indexes in an Oracle database to improve database performance.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-FAE533D7-9C9E-48C9-9A61-EBC060BF3D70">About Automatic Indexing</a><br>The automatic indexing feature automates the index management tasks in an Oracle database. Automatic indexing automatically creates, rebuilds, and drops indexes in a database based on the changes in application workload, thus improving database performance. The automatically managed indexes are known as <span class="italic">auto indexes</span>.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-082972AD-1866-411A-8250-9B23D4088582">How Automatic Indexing Works</a><br>This section describes how automatic indexing works.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-A8B4BB05-2711-497A-8276-127076DAA518">Configuring Automatic Indexing in an Oracle Database</a><br>You can configure automatic indexing in an Oracle database using the <code class="codeph">DBMS_AUTO_INDEX.CONFIGURE</code> procedure.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-05C18A9D-1525-496B-9AD1-6F426222E05D">Generating Automatic Indexing Reports</a><br>You can generate reports related to automatic indexing operations in an Oracle database using the <code class="codeph">REPORT_ACTIVITY</code> and <code class="codeph">REPORT_LAST_ACTIVITY</code> functions of the <code class="codeph">DBMS_AUTO_INDEX</code> package.
                     </li>
                     <li class="ulchildlink"><a href="managing-indexes.html#GUID-FF3F7EF5-9468-48BC-8990-8189C1CBFD12">Views Containing the Automatic Indexing Information</a><br>You can query a set of data dictionary views for getting information about the auto indexes in an Oracle database.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-FAE533D7-9C9E-48C9-9A61-EBC060BF3D70" name="GUID-FAE533D7-9C9E-48C9-9A61-EBC060BF3D70"></a><h4 id="ADMIN-GUID-FAE533D7-9C9E-48C9-9A61-EBC060BF3D70" class="sect4"><span class="enumeration_section">21.7.1 </span>About Automatic Indexing
                  </h4>
                  <div>
                     <p>The automatic indexing feature automates the index management tasks in an Oracle database. Automatic indexing automatically creates, rebuilds, and drops indexes in a database based on the changes in application workload, thus improving database performance. The automatically managed indexes are known as <span class="italic">auto indexes</span>.
                     </p>
                     <p>Index structures are an essential feature to database performance. Indexes are critical for OLTP applications, which use large data sets&nbsp;and run millions of SQL statements a day. Indexes are also critical for data warehousing applications, which typically query a relatively small amount of data from very large tables. If you do not update the indexes whenever there are changes in the application workload, the existing indexes can cause the database performance to deteriorate considerably.</p>
                     <p>Automatic indexing improves database performance by managing indexes automatically and dynamically in an Oracle database based on changes in the application workload.</p>
                     <p>Automatic indexing provides the following functionality:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Runs the automatic indexing process in the background periodically at a predefined time interval.</p>
                        </li>
                        <li>
                           <p>Analyzes application workload, and accordingly creates new indexes and drops the existing underperforming indexes to improve database performance.</p>
                        </li>
                        <li>
                           <p>Rebuilds the indexes that are marked <span class="italic">unusable</span> due to table partitioning maintenance operations, such as <code class="codeph">ALTER TABLE MOVE</code>.
                           </p>
                        </li>
                        <li>
                           <p>Provides PL/SQL APIs for configuring automatic indexing in a database and generating reports related to automatic indexing operations.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-FAE533D7-9C9E-48C9-9A61-EBC060BF3D70__GUID-E0843971-0A7C-4EF8-91E3-16769037FE90">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Auto indexes are local B-tree indexes.</p>
                           </li>
                           <li>
                              <p>Auto indexes can be created for partitioned as well as non-partitioned tables.</p>
                           </li>
                           <li>
                              <p>Auto indexes cannot be created for temporary tables.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999" title="You can use the automatic indexing feature to configure and use auto indexes in an Oracle database to improve database performance.">Managing Auto Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-082972AD-1866-411A-8250-9B23D4088582" name="GUID-082972AD-1866-411A-8250-9B23D4088582"></a><h4 id="ADMIN-GUID-082972AD-1866-411A-8250-9B23D4088582" class="sect4"><span class="enumeration_section">21.7.2 </span>How Automatic Indexing Works
                  </h4>
                  <div>
                     <p>This section describes how automatic indexing works.</p>
                     <p>The automatic indexing process runs in the background every 15 minutes and performs the following operations:</p>
                     <ol>
                        <li>
                           <p>Identifies auto index candidates</p>
                           <p>Auto index candidates are identified based on the usage of table columns in SQL statements.</p>
                        </li>
                        <li>
                           <p>Creates invisible auto indexes for the auto index candidates</p>
                           <p>The auto index candidates are created as <span class="italic">invisible</span> auto indexes, that is, these auto indexes cannot be used in SQL statements.
                           </p>
                        </li>
                        <li>
                           <p>Verifies invisible auto indexes against SQL statements</p>
                           <p>The invisible auto indexes are validated against SQL statements.</p>
                           <p>If the performance of SQL statements is improved by using these indexes, then the indexes are configured as <span class="italic">visible</span> indexes, so that they can be used in SQL statements.
                           </p>
                           <p>If the performance of SQL statements is not improved by using these indexes, then the indexes are configured as <span class="italic">unusable</span> indexes and the SQL statements are <span class="italic">blacklisted</span>. The unusable indexes are later deleted by the automatic indexing process. The blacklisted SQL statements are not allowed to use auto indexes in future.
                           </p>
                           <div class="infoboxnote" id="GUID-082972AD-1866-411A-8250-9B23D4088582__THEAUTOMATEDINDEXESCANNOTBEUSEDFORS-C7471F6E">
                              <p class="notep1">Note:</p>
                              <p>Auto indexes cannot be used by SQL statements that are running for the first time in a database.</p>
                           </div>
                        </li>
                        <li>
                           <p>Deletes the unused auto indexes</p>
                           <p>The auto indexes that are not used for a long period are deleted.</p>
                           <div class="infoboxnote" id="GUID-082972AD-1866-411A-8250-9B23D4088582__GUID-89CEE0EB-FD99-4078-8AB6-A6F12E69FB54">
                              <p class="notep1">Note:</p>
                              <p>By default, the unused auto indexes are deleted after 373 days. The period for retaining the unused auto indexes in a database can be configured using the <code class="codeph">DBMS_AUTO_INDEX.CONFIGURE</code> procedure.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-082972AD-1866-411A-8250-9B23D4088582__GUID-EC289D9C-843E-42ED-B326-9E427E8DF662">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-indexes.html#GUID-A8B4BB05-2711-497A-8276-127076DAA518" title="You can configure automatic indexing in an Oracle database using the DBMS_AUTO_INDEX.CONFIGURE procedure.">Configuring Automatic Indexing in an Oracle Database</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999" title="You can use the automatic indexing feature to configure and use auto indexes in an Oracle database to improve database performance.">Managing Auto Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-A8B4BB05-2711-497A-8276-127076DAA518" name="GUID-A8B4BB05-2711-497A-8276-127076DAA518"></a><h4 id="ADMIN-GUID-A8B4BB05-2711-497A-8276-127076DAA518" class="sect4"><span class="enumeration_section">21.7.3 </span>Configuring Automatic Indexing in an Oracle Database
                  </h4>
                  <div>
                     <p>You can configure automatic indexing in an Oracle database using the <code class="codeph">DBMS_AUTO_INDEX.CONFIGURE</code> procedure.
                     </p>
                     <div class="section">
                        <p>The following examples describe some of the configuration settings that can be specified using the <code class="codeph">DBMS_AUTO_INDEX.CONFIGURE</code> procedure:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-43A5E701-D34A-4225-BE0A-646BA9AD6154">Enabling and disabling automatic indexing in a database</p>
                        <p>You can use the <code class="codeph">AUTO_INDEX_MODE</code> configuration setting to enable or disable automatic indexing in a database.
                        </p>
                        <p>The following statement enables automatic indexing in a database and creates any new auto indexes as <span class="italic">visible</span> indexes, so that they can be used in SQL statements:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_MODE','IMPLEMENT');</code></pre><p>The following statement enables automatic indexing in a database, but creates any new auto indexes as <span class="italic">invisible</span> indexes, so that they cannot be used in SQL statements:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_MODE','REPORT ONLY');</code></pre><p>The following statement disables automatic indexing in a database, so that no new auto indexes are created, and the existing auto indexes are disabled:</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_MODE','OFF');</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-ECED41F9-5BA1-45AF-832A-B0230F266B61">Specifying schemas that can use auto indexes</p>
                        <p> You can use the <code class="codeph">AUTO_INDEX_SCHEMA</code> configuration setting to specify schemas that can use auto indexes.
                        </p>
                        <div class="infoboxnote" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-E6FEFA55-0ED4-4478-8DB8-06794C08962F">
                           <p class="notep1">Note:</p>When automatic indexing is enabled in a database, all the schemas in the database can use auto indexes by default.
                        </div>
                        <p>The following statements add the <code class="codeph">SH</code> and <code class="codeph">HR</code> schemas to the <span class="italic">exclusion list</span>, so that the <code class="codeph">SH</code> and <code class="codeph">HR</code> schemas cannot use auto indexes.:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_SCHEMA', 'SH', FALSE);
EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_SCHEMA', 'HR', FALSE);</code></pre><p>The following statement removes the <code class="codeph">HR</code> schema from the exclusion list, so that the <code class="codeph">HR</code> schema can use auto indexes:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_SCHEMA', 'HR', NULL);</code></pre><p>The following statement removes all the schema from the exclusion list, so that all the schemas in the database can use auto indexes:</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_SCHEMA', NULL, TRUE);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-5AF11D97-57DA-4B7A-9D92-E0D459E729F0">Specifying a retention period for unused auto indexes</p>
                        <p>You can use the <code class="codeph">AUTO_INDEX_RETENTION_FOR_AUTO</code> configuration setting to specify a period for retaining unused auto indexes in a database. The unused auto indexes are deleted after the specified retention period.
                        </p>
                        <div class="infoboxnote" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-A602DEEA-4AF9-46BE-98AB-06BD279D7A93">
                           <p class="notep1">Note:</p>By default, the unused auto indexes are deleted after 373 days.
                        </div>
                        <p>The following statement sets the retention period for unused auto indexes to 90 days.</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_RETENTION_FOR_AUTO', '90');</code></pre><p>The following statement resets the retention period for auto indexes to the default value of 373 days.</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_RETENTION_FOR_AUTO', NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-7A8BC093-EEC8-4912-8CEA-094D00FDFFBD">Specifying a retention period for unused non-auto indexes</p>
                        <p>You can use the <code class="codeph">AUTO_INDEX_RETENTION_FOR_MANUAL</code> configuration setting to specify a period for retaining unused non-auto indexes (manually created indexes) in a database. The unused non-auto indexes are deleted after the specified retention period.
                        </p>
                        <div class="infoboxnote" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-1E311252-1A0F-46D1-A8CE-1C3959EFE992">
                           <p class="notep1">Note:</p>By default, the unused non-auto indexes are never deleted by the automatic indexing process.
                        </div>
                        <p>The following statement sets the retention period for unused non-auto indexes to 60 days.</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_RETENTION_FOR_MANUAL', '60');</code></pre><p>The following statement sets the retention period for unused non-auto indexes to <code class="codeph">NULL</code> so that they are never deleted by the automatic indexing process.
                        </p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_RETENTION_FOR_AUTO', NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-A4C822A0-FDB6-4B85-A0FD-1362818952DC">Specifying a retention period for automatic indexing logs</p>
                        <p>You can use the <code class="codeph">AUTO_INDEX_REPORT_RETENTION</code> configuration setting to specify a period for retaining automatic indexing logs in a database. The automatic indexing logs are deleted after the specified retention period.
                        </p>
                        <div class="infoboxnote" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-3A444FF1-C3F1-43ED-894B-91E8D42F4E76">
                           <p class="notep1">Note:</p>By default, the automatic indexing logs are deleted after 31 days.
                        </div>
                        <p>The following statement sets the retention period for automatic indexing logs to 60 days.</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_REPORT_RETENTION', '60');</code></pre><p>The following statement resets the retention period for automatic indexing logs to the default value 31 days.</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_REPORT_RETENTION', NULL);</code></pre><div class="infoboxnote" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-E4A2F66E-BE9C-4B51-B4C5-9FAAC78AF2CB">
                           <p class="notep1">Note:</p>Automatic indexing reports are generated based on the automatic indexing logs. Therefore, automatic indexing reports cannot be generated for a period that is more than the retention period of the automatic indexing logs specified using the <code class="codeph">AUTO_INDEX_REPORT_RETENTION</code> configuration setting.
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-5D49AB88-5B53-479C-B23E-46AEB85E2295">Specifying a tablespace to store auto indexes</p>
                        <p>You can use the <code class="codeph">AUTO_INDEX_DEFAULT_TABLESPACE</code> configuration setting to specify a tablespace to store auto indexes.
                        </p>
                        <div class="infoboxnote" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-54599BAE-A1D0-47C8-99C3-C6A6336085DA">
                           <p class="notep1">Note:</p> By default, the permanent tablespace specified during the database creation is used for storing auto indexes.
                        </div>
                        <p>The following statement specifies the tablespace of <code class="codeph">TBS_AUTO</code> to store auto indexes:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_DEFAULT_TABLESPACE', 'TBS_AUTO');</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-EA10F54B-A370-4D82-8CB5-37E029349DC2">Specifying percentage of tablespace to allocate for auto indexes</p>
                        <p>You can use the <code class="codeph">AUTO_INDEX_SPACE_BUDGET</code> configuration setting to specify percentage of tablespace to allocate for auto indexes. You can specify this configuration setting only when the tablespace used for storing auto indexes is the default permanent tablespace specified during the database creation, that is, when no value is specified for the <code class="codeph">AUTO_INDEX_DEFAULT_TABLESPACE</code> configuration setting.
                        </p>
                        <p>The following statement allocates 5 percent of the tablespace for auto indexes:</p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_SPACE_BUDGET', '5');</code></pre></div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A8B4BB05-2711-497A-8276-127076DAA518__GUID-9A6514C5-BB9D-4D68-BCB9-3BE7851F0DDB">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_AUTO_INDEX.html#ARPLS-GUID-93A19936-453A-4C62-8DFB-FB52AC70C838" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for a complete list of configuration settings related to automatic indexing that can be specified using the <code class="codeph">DBMS_AUTO_INDEX.CONFIGURE</code> procedure
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999" title="You can use the automatic indexing feature to configure and use auto indexes in an Oracle database to improve database performance.">Managing Auto Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-05C18A9D-1525-496B-9AD1-6F426222E05D" name="GUID-05C18A9D-1525-496B-9AD1-6F426222E05D"></a><h4 id="ADMIN-GUID-05C18A9D-1525-496B-9AD1-6F426222E05D" class="sect4"><span class="enumeration_section">21.7.4 </span>Generating Automatic Indexing Reports
                  </h4>
                  <div>
                     <p>You can generate reports related to automatic indexing operations in an Oracle database using the <code class="codeph">REPORT_ACTIVITY</code> and <code class="codeph">REPORT_LAST_ACTIVITY</code> functions of the <code class="codeph">DBMS_AUTO_INDEX</code> package.
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-05C18A9D-1525-496B-9AD1-6F426222E05D__GUID-B3401FB2-2D88-48C1-93BC-0F86FE7259C8">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_AUTO_INDEX.html#ARPLS-GUID-A0FF6233-E4A5-49BD-9A5E-9342B4CF6640" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for the syntax of the <code class="codeph">REPORT_ACTIVITY</code> and <code class="codeph">REPORT_LAST_ACTIVITY</code> functions of the <code class="codeph">DBMS_AUTO_INDEX</code> package.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05C18A9D-1525-496B-9AD1-6F426222E05D__GUID-4254BD18-06A4-422B-BD5A-241B156264D9">Generating a report of automatic indexing operations for a specific period</p>
                        <p>The following example generates a report containing <span class="italic">typical</span> information about the automatic indexing operations for the last 24 hours. The report is generated in the plain text format by default.
                        </p><pre class="pre codeblock"><code>declare
  report clob := null;
begin
  report := DBMS_AUTO_INDEX.REPORT_ACTIVITY();
end;</code></pre><p>The following example generates a report containing <span class="italic">basic</span> information about the automatic indexing operations for the month of November 2018. The report is generated in the HTML format and includes only the summary of automatic indexing operations.
                        </p><pre class="pre codeblock"><code>declare
  report clob := null;
begin
  report := DBMS_AUTO_INDEX.REPORT_ACTIVITY(
              activity_start =&gt; TO_TIMESTAMP('2018-11-01', 'YYYY-MM-DD'),
              activity_end   =&gt; TO_TIMESTAMP('2018-12-01', 'YYYY-MM-DD'),
              type           =&gt; 'HTML',
              section        =&gt; 'SUMMARY',
              level          =&gt; 'BASIC');
end;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05C18A9D-1525-496B-9AD1-6F426222E05D__GUID-AF1045AB-DD08-4206-8BE1-D4F8099E8FA6">Generating a report of the last automatic indexing operation</p>
                        <p>The following example generates a report containing <span class="italic">typical</span> information about the last automatic indexing operation. The report is generated in the plain text format by default. 
                        </p><pre class="pre codeblock"><code>declare
  report clob := null;
begin
  report := DBMS_AUTO_INDEX.REPORT_LAST_ACTIVITY();
end;</code></pre><p>The following example generates a report containing <span class="italic">basic</span> information about the last automatic indexing operation. The report includes the summary, index details, and error information of the last automatic indexing operation. The report is generated in the HTML format.
                        </p><pre class="pre codeblock"><code>declare
  report clob := null;
begin
  report := DBMS_AUTO_INDEX.REPORT_LAST_ACTIVITY(
              type    =&gt; 'HTML',
              section =&gt; 'SUMMARY +INDEX_DETAILS +ERRORS',
              level   =&gt; 'BASIC');
end;</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999" title="You can use the automatic indexing feature to configure and use auto indexes in an Oracle database to improve database performance.">Managing Auto Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-FF3F7EF5-9468-48BC-8990-8189C1CBFD12" name="GUID-FF3F7EF5-9468-48BC-8990-8189C1CBFD12"></a><h4 id="ADMIN-GUID-FF3F7EF5-9468-48BC-8990-8189C1CBFD12" class="sect4"><span class="enumeration_section">21.7.5 </span>Views Containing the Automatic Indexing Information
                  </h4>
                  <div>
                     <p>You can query a set of data dictionary views for getting information about the auto indexes in an Oracle database.</p>
                     <div class="section">
                        <p>The following views show information about the automatic indexing configuration settings and the auto indexes created in an Oracle database:</p>
                        <div class="tblformal" id="GUID-FF3F7EF5-9468-48BC-8990-8189C1CBFD12__TABLE_AUTOMATED_INDEXES_VIEWS">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the views that show information about the automatic indexing configuration settings and the auto indexes created in an Oracle database." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d222637e5205">View</th>
                                    <th align="left" valign="bottom" id="d222637e5208">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d222637e5213" headers="d222637e5205 "><pre class="pre codeblock"><code>DBA_AUTO_INDEX_CONFIG</code></pre></td>
                                    <td align="left" valign="top" headers="d222637e5213 d222637e5208 ">
                                       <p>Shows the current configuration settings for automatic indexing.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d222637e5220" headers="d222637e5205 "><pre class="pre codeblock"><code>DBA_INDEXES
ALL_INDEXES
USER_INDEXES
</code></pre></td>
                                    <td align="left" valign="top" headers="d222637e5220 d222637e5208 ">
                                       <p>The <code class="codeph">AUTO</code> column in these views indicates whether an index is an auto index (<code class="codeph">YES</code>) or not (<code class="codeph">NO</code>).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FF3F7EF5-9468-48BC-8990-8189C1CBFD12__GUID-A9E9D49A-BE79-483F-83F2-F8976D1F0488">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> for complete descriptions of these views
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-D1285CD5-95C0-4E74-8F26-A02018EA7999" title="You can use the automatic indexing feature to configure and use auto indexes in an Oracle database to improve database performance.">Managing Auto Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11738"></a><div class="props_rev_3"><a id="GUID-CCBBC9DB-29A1-4F46-B3AA-BF4205793403" name="GUID-CCBBC9DB-29A1-4F46-B3AA-BF4205793403"></a><h3 id="ADMIN-GUID-CCBBC9DB-29A1-4F46-B3AA-BF4205793403" class="sect3"><span class="enumeration_section">21.8 </span>Indexes Data Dictionary Views
               </h3>
               <div>
                  <p>You can query a set of data dictionary views for information about indexes.</p>
                  <div class="section">
                     <p>The following views show information about indexes:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-CCBBC9DB-29A1-4F46-B3AA-BF4205793403__GUID-AF39F9EC-7483-400E-9AB8-10B293337272">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Column 1 lists the names of views that display information about indexes, column 2 describes each view." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d222637e5300">View</th>
                              <th align="left" valign="bottom" id="d222637e5303">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d222637e5308" headers="d222637e5300 "><pre class="pre codeblock"><code>DBA_INDEXES
ALL_INDEXES
USER_INDEXES</code></pre></td>
                              <td align="left" valign="top" headers="d222637e5308 d222637e5303 ">
                                 <p><code class="codeph">DBA</code> view shows information about indexes on all tables in the database. <code class="codeph">ALL</code> view shows information about indexes on all tables accessible to the user. <code class="codeph">USER</code> view is restricted to indexes owned by the user. Some columns in these views contain statistics that are generated by the <code class="codeph">DBMS_STATS</code> package or the <code class="codeph">ANALYZE</code> statement.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d222637e5329" headers="d222637e5300 "><pre class="pre codeblock"><code>DBA_IND_COLUMNS
ALL_IND_COLUMNS
USER_IND_COLUMNS</code></pre></td>
                              <td align="left" valign="top" headers="d222637e5329 d222637e5303 ">
                                 <p>These views show information about the columns of indexes on tables. Some columns in these views contain statistics that are generated by the <code class="codeph">DBMS_STATS</code> package or <code class="codeph">ANALYZE</code> statement.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d222637e5342" headers="d222637e5300 "><pre class="pre codeblock"><code>DBA_IND_PARTITIONS
ALL_IND_PARTITIONSALL_IND_PARTITIONS
USER_IND_PARTITIONS</code></pre></td>
                              <td align="left" valign="top" headers="d222637e5342 d222637e5303 ">
                                 <p>These views show the following information about each index partition: the partitioning details, the storage parameters for the partition, and various partition statistics generated by the <code class="codeph">DBMS_STATS</code> package.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d222637e5352" headers="d222637e5300 "><pre class="pre codeblock"><code>DBA_IND_EXPRESSIONS
ALL_IND_EXPRESSIONS
USER_IND_EXPRESSIONS</code></pre></td>
                              <td align="left" valign="top" headers="d222637e5352 d222637e5303 ">
                                 <p>These views show information about the expressions of function-based indexes on tables. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d222637e5359" headers="d222637e5300 "><pre class="pre codeblock"><code>DBA_IND_STATISTICS
ALL_IND_STATISTICS
USER_IND_STATISTICS</code></pre></td>
                              <td align="left" valign="top" headers="d222637e5359 d222637e5303 ">
                                 <p>These views show information about the optimizer statistics for indexes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d222637e5366" headers="d222637e5300 "><pre class="pre codeblock"><code>INDEX_STATS
INDEX_HISTOGRAM</code></pre></td>
                              <td align="left" valign="top" headers="d222637e5366 d222637e5303 ">
                                 <p>These views show the information about the last <code class="codeph">ANALYZE INDEX...VALIDATE STRUCTURE</code> statement.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d222637e5376" headers="d222637e5300 "><pre class="pre codeblock"><code>USER_OBJECT_USAGE</code></pre></td>
                              <td align="left" valign="top" headers="d222637e5376 d222637e5303 ">
                                 <p>This view shows the index usage information produced by the <code class="codeph">ALTER INDEX...MONITORING USAGE</code> statement.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-CCBBC9DB-29A1-4F46-B3AA-BF4205793403__GUID-A9E9D49A-BE79-483F-83F2-F8976D1F0488">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> for the complete descriptions of these views
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904">Managing Indexes</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>