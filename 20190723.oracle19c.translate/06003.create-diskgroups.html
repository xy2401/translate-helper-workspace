<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This topic introduces information about creating disk groups."></meta>
      <meta name="description" content="This topic introduces information about creating disk groups."></meta>
      <title>创建磁盘组</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="This topic introduces information about creating disk groups."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="manage-diskgroup-attributes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="alter-diskgroups.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manage-diskgroup-attributes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="alter-diskgroups.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="admin-asm-diskgroups.html" property="item" typeof="WebPage"><span property="name">管理Oracle ASM磁盘组</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建磁盘组</li>
            </ol>
            <a id="GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930" name="GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930"></a><a id="OSTMG10040"></a>
            
            <h2 id="OSTMG-GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930" class="sect2">创建磁盘组</h2>
         </header>
         <div class="ind">
            <div>
               <p>本主题介绍有关创建磁盘组的信息。</p>
               <p>您可以使用<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句来创建磁盘组。
               </p>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="create-diskgroups.html#GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" title="创建磁盘组时需要指定多个项目。">关于创建磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D" title="您可以使用CREATE DISKGROUP SQL语句为数据和快速恢复区创建磁盘组。">使用CREATE DISKGROUP SQL语句创建磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C" title="本主题介绍在新安装Oracle Grid Infrastructure独立（Oracle Restart）选件和Oracle数据库期间创建磁盘组的基本过程。">为新的Oracle安装创建磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-8B656725-D347-4166-8775-1070B6C4D580" title="您可以将可选的LOGICAL_SECTOR_SIZE和SECTOR_SIZE磁盘组属性与CREATE DISKGROUP和ALTER DISKGROUP SQL语句一起使用，以指定磁盘组的逻辑扇区大小和物理扇区大小。">指定逻辑和物理扇区大小</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" title="您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。">在Oracle ASM磁盘组中存储Oracle Cluster Registry和Voting Files</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930__ORACLEGRIDINFRASTRUCTUREINSTALLATIO-AA125784">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”，</cite></span></a>以获取有关Oracle自动存储管理的存储要求的信息</p>
                     </li>
                     <li>
                        <p>有关<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG10202"></a><div class="props_rev_3"><a id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" name="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6"></a><h3 id="OSTMG-GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" class="sect3">关于创建磁盘组</h3>
               <div>
                  <p>创建磁盘组时需要指定多个项目。</p>
                  <p>创建磁盘组时，您：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>为磁盘组分配唯一的名称。</p>
                        <p>指定的磁盘组名称不区分大小写，并且在内部存储时始终转换为大写。</p>
                        <div class="infoboxnote" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-6B399634-FDA5-410D-909F-CBBDCC2438D9">
                           <p class="notep1">注意：</p>
                           <p>不要对必须引用的Oracle ASM磁盘组名称使用标识符，包括<code class="codeph">#</code>和<code class="codeph">$</code>字符。虽然Oracle Database对象的带引号标识符的使用在某些工具中可能作为名称有效，但在使用管理该对象的其他工具时，这些名称可能无效。有关命名Oracle数据库对象的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF51129" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>确定磁盘组的冗余级别。</p>
                        <p>要使Oracle ASM镜像文件，请指定冗余级别，例如<code class="codeph">NORMAL REDUNDANCY</code> （大多数文件类型默认为双向镜像）， <code class="codeph">HIGH REDUNDANCY</code> （所有文件的三向镜像）， <code class="codeph">FLEX REDUNDANCY</code>或<code class="codeph">EXTENDED REDUNDANCY</code> 。</p>
                        <p>如果您不希望Oracle ASM进行镜像，请指定<code class="codeph">EXTERNAL REDUNDANCY</code> 。例如，您可以选择<code class="codeph">EXTERNAL REDUNDANCY</code>来使用存储阵列保护功能。
                        </p>
                        <p>使用<code class="codeph">NORMAL</code>或<code class="codeph">HIGH</code>冗余创建磁盘组后，可以使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句的<code class="codeph">CONVERT</code> <code class="codeph">REDUNDANCY</code> <code class="codeph">TO</code> <code class="codeph">FLEX</code>子句将磁盘组迁移到<code class="codeph">FLEX</code>冗余磁盘组。您无法将<code class="codeph">EXTERNAL</code>磁盘组迁移到<code class="codeph">FLEX</code>冗余磁盘组。迁移到Flex磁盘组时，磁盘组必须至少具有三个故障组，并且必须在迁移期间以受限模式（ <code class="codeph">MOUNTED</code> <code class="codeph">RESTRICTED</code> ）挂载。
                        </p>
                        <p>要更改冗余级别<code class="codeph">NORMAL</code> ， <code class="codeph">HIGH</code> ，或<code class="codeph">EXTERNAL</code>磁盘组的<code class="codeph">NORMAL</code> ， <code class="codeph">HIGH</code> ，还是<code class="codeph">EXTERNAL</code> ，你必须创建另一个磁盘组与适当的冗余，然后将文件移动到新的磁盘组。
                        </p>
                        <p>对于<code class="codeph">FLEX</code>和<code class="codeph">EXTENDED</code>冗余磁盘组，无法更改磁盘组冗余。但是，可以通过修改相应文件组的<code class="codeph">REDUNDANCY</code>属性来更改磁盘组中文件的<code class="codeph">REDUNDANCY</code> 。
                        </p>
                     </li>
                     <li>
                        <p>确定要格式化为属于磁盘组的Oracle ASM磁盘的磁盘。</p>
                        <p>可以使用搜索字符串中与操作系统相关的通配符来指定磁盘，Oracle ASM随后会使用这些字符来查找磁盘。您可以使用<code class="codeph">NAME</code>子句指定磁盘的<code class="codeph">NAME</code>也可以使用系统生成的名称。
                        </p>
                     </li>
                     <li>
                        <p>（可选）指示磁盘属于特定故障组。</p>
                        <p>您必须创建相同大小的故障组，以维持镜像数据的空间平衡和均匀分布。</p>
                     </li>
                     <li>
                        <p>（可选）确定故障组的类型，例如仲裁（ <code class="codeph">QUORUM</code> ）或常规（默认）。
                        </p>
                     </li>
                     <li>
                        <p>（可选）提供磁盘组属性值，例如软件兼容性或分配单元大小的值。</p>
                     </li>
                  </ul>
                  <p>磁盘组中的所有磁盘大小必须相同。Oracle ASM以编程方式确定每个磁盘的大小。如果由于某种原因无法确定大小，或者限制磁盘上使用的空间量，则可以为磁盘指定<code class="codeph">SIZE</code>子句;但是，必须为磁盘组中的每个磁盘指定相同的大小值。
                  </p>
                  <p>Oracle ASM为磁盘组中的磁盘创建独立于操作系统的名称，您可以使用这些名称来引用其他SQL语句中的磁盘。（可选）您可以使用<code class="codeph">NAME</code>子句为磁盘提供自己的名称。磁盘名称在<code class="codeph">V$ASM_DISK</code>视图中可用。
                  </p>
                  <p>在创建使用它们的磁盘组之前，可以使用ASMCMD <code class="codeph">stamp</code>命令为Oracle ASM配置磁盘。如果配置了磁盘，则在配置磁盘时指定磁盘名称，故障组和站点信息，并且在创建磁盘组时不需要指定磁盘名称，故障组和站点信息。
                  </p>
                  <div class="infoboxnote" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-A788EF72-7E48-4007-84B8-A77B7AF9B21B">
                     <p class="notep1">注意：</p>
                     <p>磁盘不能属于多个磁盘组。</p>
                  </div>
                  <p>Oracle ASM实例确保新创建的磁盘组中的任何磁盘都是可寻址的，并且当前不是另一个磁盘组的成员。只有在添加使用<code class="codeph">FORCE</code>删除的磁盘时，才必须使用<code class="codeph">FORCE</code> 。如果使用<code class="codeph">NOFORCE</code>删除磁盘，则可以使用<code class="codeph">NOFORCE</code>添加它。例如，磁盘可能已发生故障并从磁盘组中删除。修复磁盘后，它不再是任何磁盘组的一部分，但Oracle ASM仍然会识别该磁盘是磁盘组的成员。必须使用<code class="codeph">FORCE</code>标志将磁盘包含在新磁盘组中。此外，磁盘必须是可寻址的。否则，操作失败。
                  </p>
                  <div class="infoboxnote" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-D63FDFFD-28CC-4710-BE7B-C94A53541ED9">
                     <p class="notep1">注意：</p>
                     <p>使用<code class="codeph">FORCE</code>选项将以前使用过的磁盘添加到磁盘组时要小心;您可能会导致另一个磁盘组无法使用。
                     </p>
                  </div>
                  <p><code class="codeph">CREATE DISKGROUP</code>语句首次装入磁盘组，如果正在使用服务器参数文件，则将磁盘组名称添加到<code class="codeph">ASM_DISKGROUPS</code>初始化参数。如果正在使用文本初始化参数文件，并且您希望在实例启动时自动装入磁盘组，则必须记住在关闭并重新启动Oracle ASM实例之前将磁盘组名称添加到<code class="codeph">ASM_DISKGROUPS</code>初始化参数。您还可以使用Oracle ASM Configuration Assistant（ASMCA）和ASMCMD <code class="codeph">mkdg</code>命令创建磁盘组。
                  </p>
                  <div class="infoboxnotealso" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-A730792F-AA4B-4B5E-955C-3AB86643B5B0">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Flex磁盘组和文件组的信息，请<a href="asm-filegroups.html#GUID-1A056184-65E1-449C-B36A-83AF259A2309" title="Oracle ASM提供面向数据库的存储管理，包括flex和扩展磁盘组。">管理Oracle ASM Flex Disk Groups</a></p>
                        </li>
                        <li>
                           <p><a href="mirroring-diskgroup-redundancy.html#GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD">镜像，冗余和故障组选项</a>以及<a href="asm-intro.html#GUID-051330D2-680F-4A2B-B559-02246C551AC7" title="本主题介绍了关键Oracle ASM组件的概念。">了解Oracle ASM概念，</a>以获取有关冗余级别和故障组的信息</p>
                        </li>
                        <li>
                           <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" title="您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。">将Oracle Cluster Registry和Voting Files存储在Oracle ASM磁盘组中，</a>以获取有关<code class="codeph">QUORUM</code>和<code class="codeph">REGULAR</code>故障组的信息</p>
                        </li>
                        <li>
                           <p><a href="asmcmd-diskgroup-commands.html#GUID-B0ECE8DA-2C57-4973-875A-3083BDBBDB4F">邮票</a>有关ASMCMD信息<code class="codeph">stamp</code>命令</p>
                        </li>
                        <li>
                           <p><a href="manage-asm-asmca.html#GUID-F78B035C-168D-4CBB-B321-21BB57FED363" title="Oracle ASM Configuration Assistant使您可以使用“配置ASM磁盘组”选项卡配置或创建Oracle ASM磁盘组。">使用ASMCA管理磁盘组以</a>获取有关使用Oracle ASM Configuration Assistant（ASMCA）创建磁盘组的信息</p>
                        </li>
                        <li>
                           <p><a href="asmcmd-diskgroup-commands.html#GUID-241C6676-FA7C-4505-ABA0-BD45657CF4AA">mkdg</a>有关使用ASMCMD创建磁盘组的信息<code class="codeph">mkdg</code>命令</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94108"></a><a id="OSTMG94109"></a><a id="OSTMG94107"></a><div class="props_rev_3"><a id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D" name="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D"></a><h3 id="OSTMG-GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D" class="sect3">使用CREATE DISKGROUP SQL语句创建磁盘组</h3>
               <div>
                  <p>您可以使用<code class="codeph">CREATE DISKGROUP</code> SQL语句为数据和快速恢复区创建磁盘组。
                  </p>
                  <p><a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">例4-1中</a>的SQL语句创建一个名为<code class="codeph">data</code>的磁盘组，其中包含两个故障组<code class="codeph">controller1</code>或<code class="codeph">controller2</code> ，每个故障组中有四个磁盘。<code class="codeph">data</code>磁盘组通常用于存储数据库数据文件。
                  </p>
                  <p>该示例假定<code class="codeph">ASM_DISKSTRING</code>初始化参数设置为' <code class="codeph">/devices/*</code> '字符串。Oracle ASM磁盘发现通过<code class="codeph">/devices</code>目录中的<code class="codeph">diska4</code>和<code class="codeph">diskb1</code>到<code class="codeph">diskb4</code>识别<code class="codeph">diska1</code> 。
                  </p>
                  <p>在<a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">示例4-1中</a> ， <code class="codeph">NAME</code>子句使您可以显式地为磁盘分配名称，而不是默认的系统生成的名称。系统生成的名称采用<span class="italic"><code class="codeph">diskgroup_nnnn</code></span>格式，其中<span class="italic"><code class="codeph">nnnn</code></span>是磁盘组中磁盘的磁盘编号。
                  </p>
                  <p>在<a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">示例4-1中</a>创建磁盘组时，显式设置了以下磁盘组属性的值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">AU_SIZE</code> 
                        </p>
                        <p>指定磁盘组的分配单元的大小。</p>
                        <p>您可以在<code class="codeph">V$ASM_DISKGROUP</code>视图的<code class="codeph">ALLOCATION_UNIT_SIZE</code>列中查看<code class="codeph">AU_SIZE</code>磁盘组属性的值。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">COMPATIBLE</code> 。 <code class="codeph">ASM</code> 
                        </p>
                        <p>确定使用磁盘组的任何Oracle ASM实例的最低软件版本。</p>
                     </li>
                     <li>
                        <p><code class="codeph">COMPATIBLE</code> 。 <code class="codeph">RDBMS</code> 
                        </p>
                        <p>确定使用磁盘组的任何数据库实例的最低软件版本。</p>
                     </li>
                     <li>
                        <p><code class="codeph">COMPATIBLE</code> 。 <code class="codeph">ADVM</code> 
                        </p>
                        <p>确定磁盘组是否可以包含Oracle ADVM卷。</p>
                     </li>
                  </ul>
                  <p>在<a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDGBABC">示例4-2中</a> ，使用默认磁盘组属性值创建<code class="codeph">fra</code>磁盘组（通常为快速恢复区创建）。未指定Oracle ASM磁盘的名称，并且未明确指定故障组。此示例假定<code class="codeph">diskc1</code>到<code class="codeph">diskc9</code>存在于<code class="codeph">/devices</code>目录中。
                  </p>
                  <div class="example" id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">
                     <p class="titleinexample">示例4-1创建DATA磁盘组</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP数据正常冗余FAILGROUP控制器1 DISK'/ devices / diska1'名称diska1，'/ devices / diska2'名称diska2，'/ devices / diska3'名称diska3，'/ devices / diska4'名称diska4 FAILGROUP controller2 DISK'/ devices / diskb1'名称diskb1，'/ devices / diskb2'NAME diskb2，'/ devices / diskb3'NAME diskb3，'/ devices / diskb4'NAME diskb4 ATTRIBUTE'au_size'='4M'，'compatible.asm'= '19 .0'， 'compatible.rdbms'= '19 .0'，'compatible.advm'= '19 .0';</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDGBABC">
                     <p class="titleinexample">示例4-2创建FRA磁盘组</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP fra NORMAL REDUNDANCY DISK'/ devices / diskc *';</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__GUID-C3345317-6252-4FC0-9362-C94DFB4F7B20">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <a href="administer-filter-driver.html#GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" title="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.">使用Oracle ASM筛选器驱动程序时</a> ， <a href="administer-filter-driver.html#GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" title="Oracle ASM过滤器驱动程序（Oracle ASMFD）通过在每次重新启动系统时无需重新绑定与Oracle ASM一起使用的磁盘设备，从而简化了磁盘设备的配置和管理。">管理Oracle ASM筛选器驱动程序</a>以获取有关磁盘名称格式的信息</p>
                           </li>
                           <li>
                              <p><a href="asm-intro.html#GUID-81DB40C2-76E5-4B2D-8761-91EE2AAD332C" title="每个Oracle ASM磁盘都分为分配单元（AU）。">关于Oracle ASM分配单元，</a>以获取有关分配单元的信息</p>
                           </li>
                           <li>
                              <p><a href="diskgroup-compatibility.html#GUID-AE540604-92D9-4CFE-A40E-BF4486163772">磁盘组兼容性属性，</a>以获取有关<code class="codeph">COMPATIBLE.ASM</code> ， <code class="codeph">COMPATIBLE.RDBMS</code>和<code class="codeph">COMPATIBLE.ADVM</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG10206"></a><div class="props_rev_3"><a id="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C" name="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C"></a><h3 id="OSTMG-GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C" class="sect3">为新的Oracle安装创建磁盘组</h3>
               <div>
                  <p>本主题介绍在新安装Oracle Grid Infrastructure独立（Oracle Restart）选件和Oracle数据库期间创建磁盘组的基本过程。</p>
                  <p>本主题中介绍的Oracle Grid Infrastructure独立安装（Oracle Restart）的过程假定磁盘组配置为存储数据库数据文件，并且磁盘组配置为存储快速恢复区文件。</p>
                  <div class="infoboxnote" id="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C__GUID-5AA30BC9-E599-4A22-A36F-752501F7D1F1">
                     <p class="notep1">注意：</p>
                     <p>在用于群集配置的Oracle Grid Infrastructure中，Oracle Cluster Registry（OCR）和投票文件应存储在其自己的磁盘组中。但是，如果仅为Oracle ASM安装创建了两个磁盘组，则将OCR和投票文件存储在包含数据库数据文件的磁盘组中。</p>
                  </div>
                  <ol>
                     <li>
                        <p>按照屏幕提示，使用OUI安装Oracle Restart。</p>
                        <p>在安装过程中，创建一个用于存储数据库数据文件和控制文件的磁盘组（ <code class="codeph">data</code> ）。
                        </p>
                        <p>此OUI磁盘组创建过程类似于使用Oracle ASM Configuration Assistant（ASMCA）创建磁盘组。有关使用Oracle Universal Installer（OUI）进行安装以及使用Database Configuration Assistant（DBCA）创建数据库的详细信息，请参见特定操作系统的安装指南。</p>
                     </li>
                     <li>
                        <p>安装Oracle Grid Infrastructure后，使用ASMCA创建用于存储快速恢复区文件的磁盘组（ <code class="codeph">fra</code> ）。
                        </p>
                        <p>您还可以使用<code class="codeph">fra</code> Oracle Grid Infrastructure主目录运行的SQL * Plus或ASMCMD命令创建<code class="codeph">fra</code>磁盘组。
                        </p>
                     </li>
                     <li>
                        <p>按照屏幕提示，使用OUI安装Oracle数据库软件。</p>
                     </li>
                     <li>
                        <p>安装数据库软件后，按照屏幕提示运行DBCA以创建数据库。</p>
                        <p>在创建数据库期间，进行适当的选择以使用Oracle ASM存储数据文件和快速恢复区域文件。提示时：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将数据库数据文件存储在<code class="codeph">data</code>磁盘组中</p>
                           </li>
                           <li>
                              <p>将快速恢复区文件存储在<code class="codeph">fra</code>盘组中</p>
                           </li>
                        </ul>
                     </li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C__GUID-42EACEAF-A0E9-4773-B9CF-D3EB1F6CD73A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="manage-asm-asmca.html#GUID-F78B035C-168D-4CBB-B321-21BB57FED363" title="Oracle ASM Configuration Assistant使您可以使用“配置ASM磁盘组”选项卡配置或创建Oracle ASM磁盘组。">使用ASMCA管理磁盘组，</a>以获取有关使用ASMCA创建或更改磁盘组的信息</p>
                        </li>
                        <li>
                           <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" title="您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。">将Oracle Cluster Registry和Voting Files存储在Oracle ASM磁盘组中，</a>以获取有关存储Oracle Cluster Registry（OCR）和投票文件的信息</p>
                        </li>
                        <li>
                           <p><a href="create-diskgroups.html#GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" title="There are multiple items you need to specify when you create a disk group.">关于创建磁盘组</a>以获取有关使用SQL * Plus <a href="create-diskgroups.html#GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" title="创建磁盘组时需要指定多个项目。">创建磁盘组</a>的信息</p>
                        </li>
                        <li>
                           <p>有关使用ASMCMD创建磁盘组的信息，请<a href="asmcmd-diskgroup-commands.html#GUID-241C6676-FA7C-4505-ABA0-BD45657CF4AA">参阅mkdg</a></p>
                        </li>
                        <li>
                           <p>有关配置快速恢复区域的信息<a href="../bradv/configuring-rman-client-basic.html#BRADV8183" target="_blank"><span><cite>，请参见“Oracle数据库备份和恢复用户指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关指定快速恢复区域的信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11103" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关安装Oracle Grid Infrastructure和Oracle Restart的详细信息，请<a href="../install-and-upgrade.html" target="_blank"><span><cite>参见</cite></span></a>适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关安装Oracle数据库的详细信息，请<a href="../install-and-upgrade.html" target="_blank"><span><cite>参见</cite></span></a>适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle数据库安装指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94110"></a><a id="OSTMG10203"></a><div class="props_rev_3"><a id="GUID-8B656725-D347-4166-8775-1070B6C4D580" name="GUID-8B656725-D347-4166-8775-1070B6C4D580"></a><h3 id="OSTMG-GUID-8B656725-D347-4166-8775-1070B6C4D580" class="sect3">指定逻辑和物理扇区大小</h3>
               <div>
                  <p>您可以将可选的<code class="codeph">LOGICAL_SECTOR_SIZE</code>和<code class="codeph">SECTOR_SIZE</code>磁盘组属性与<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句一起使用，以指定磁盘组的逻辑扇区大小和物理扇区大小。
                  </p>
                  <div class="infoboxnote" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__GUID-FE8DA06C-127A-48EA-9A8D-CAE828CB9871">
                     <p class="notep1">注意：</p>
                     <p>要指定逻辑和物理扇区大小，磁盘必须支持扇区大小仿真。</p>
                  </div>
                  <p>该<code class="codeph">SECTOR_SIZE</code>磁盘组属性可以被设置为<code class="codeph">512</code> ， <code class="codeph">4096</code> ，或<code class="codeph">4K</code>如果磁盘支持这些值。默认值取决于平台。必须将<code class="codeph">COMPATIBLE.ASM</code>和<code class="codeph">COMPATIBLE.RDBMS</code>磁盘组属性设置为<code class="codeph">11.2</code>或更高，才能在创建磁盘组期间设置扇区大小的值。必须将<code class="codeph">COMPATIBLE.ASM</code>磁盘组属性设置为<code class="codeph">12.2</code>或更高才能更改扇区大小。
                  </p>
                  <p><code class="codeph">LOGICAL_SECTOR_SIZE</code>磁盘组属性可以显式设置磁盘组的逻辑扇区大小，而不是从加入磁盘组的磁盘估计的大小。该<code class="codeph">LOGICAL_SECTOR_SIZE</code>磁盘组属性可以被设置为<code class="codeph">512</code> ， <code class="codeph">4096</code> ，或<code class="codeph">4K</code> 。该值指定磁盘组可以接受的最小I / O，并且还限制可以加入磁盘组的磁盘类型。必须将<code class="codeph">COMPATIBLE.ASM</code>磁盘组属性设置为<code class="codeph">12.2</code>或更高，才能在创建磁盘组期间设置逻辑扇区大小，或者更改已创建的磁盘组的大小。
                  </p>
                  <p><a href="create-diskgroups.html#GUID-8B656725-D347-4166-8775-1070B6C4D580__POSSIBLECOMBINATIONSOFLOGICALSIZEAN-AF5D1663" title="此表按磁盘大小和类型列出了sector_size和logical_sector_size属性的可能组合。">表4-1</a>列出了磁盘组创建期间磁盘大小和类型的逻辑扇区大小和扇区大小磁盘组属性的可能有效组合。第一列描述了在创建磁盘组期间用户指定的逻辑扇区大小和扇区大小属性值。<code class="codeph">NS</code>表示未指定值。
                  </p>
                  <p>表的顶行描述了所用磁盘的组合。512本机扇区大小的磁盘的扇区大小等于逻辑扇区大小等于<code class="codeph">512</code> 。512本机和512仿真标题描述了512个本机磁盘和512个仿真磁盘的组合。512仿真磁盘具有4 k物理扇区大小和512逻辑扇区大小。每个表格单元格中的值表示磁盘组的扇区大小的最终值。<code class="codeph">Error</code>表示磁盘组创建失败，并显示错误消息。
                  </p>
                  <div class="tblformalwide" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__POSSIBLECOMBINATIONSOFLOGICALSIZEAN-AF5D1663">
                     <p class="titleintable">表4-1磁盘大小和类型的扇区大小和逻辑扇区大小的可能组合</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="扇区大小和逻辑扇区大小的可能组合，按磁盘大小和类型" width="100%" border="1" summary="This table lists the possible combinations of the sector_size and logical_sector_size attributes by disk size and type." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d24895e1594">创建磁盘组时指定的SECTOR_SIZE / LOGICAL_SECTOR_SIZE</th>
                              <th align="left" valign="bottom" id="d24895e1596">512个本机磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1598">512个模拟磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1600">4K本机磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1602">512个本机磁盘+ 512个模拟磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1604">512个模拟磁盘+ 4K本机磁盘</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1608" headers="d24895e1594 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1639" headers="d24895e1594 "><code class="codeph">NS</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1670" headers="d24895e1594 "><code class="codeph">4K</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1695" headers="d24895e1594 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1726" headers="d24895e1594 "><code class="codeph">512</code> / <code class="codeph">NS</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1757" headers="d24895e1594 "><code class="codeph">4K</code> / <code class="codeph">NS</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1788" headers="d24895e1594 "><code class="codeph">NS</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1819" headers="d24895e1594 "><code class="codeph">NS</code> / <code class="codeph">NS</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>通过查询<code class="codeph">V$ASM</code>视图或运行ASMCMD命令，可以确定为成功创建磁盘组而假定或显式设置的逻辑扇区和扇区大小值。<code class="codeph">LOGICAL_SECTOR_SIZE</code>和<code class="codeph">SECTOR_SIZE</code>列包含在<code class="codeph">V$ASM_DISKGROUP</code>和<code class="codeph">V$ASM_ATTRIBUTE</code>视图中以显示值。这些列表示磁盘组的逻辑扇区大小和扇区大小值（以字节为单位）。ASMCMD <code class="codeph">lsdg</code>还显示磁盘组的逻辑扇区大小和扇区大小的值。此外，磁盘组属性显示为<code class="codeph">V$ASM_ATTRIBUTE</code>视图和ASMCMD <code class="codeph">lsattr</code>命令。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT name，value FROM V $ ASM_ATTRIBUTE WHERE（name ='sector_size'OR name ='logical_sector_size'）AND group_number = 1; NAME VALUE ----------------------------- ------------------- -------- sector_size 4096 logical_sector_size 512 SQL&gt; SELECT logical_sector_size，sector_size FROM V $ ASM_DISKGROUP WHERE group_number = 1; LOGICAL_SECTOR_SIZE SECTOR_SIZE ------------------- ----------- 512 4096</pre><p>如<a href="create-diskgroups.html#GUID-8B656725-D347-4166-8775-1070B6C4D580__CHDFFDAD">例4-3</a>所示，您可以将<code class="codeph">LOGICAL_SECTOR_SIZE</code>和<code class="codeph">SECTOR_SIZE</code>磁盘组属性与<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句一起使用，以指定Oracle ASM磁盘组的逻辑和物理扇区大小。
                  </p>
                  <p>以下说明适用于逻辑扇区大小和扇区大小磁盘组属性。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在迁移过程中，从512字节到4096字节，不需要迁移或重新创建存储在Oracle ASM磁盘组上的密码文件。密码文件是一种特殊情况，即使在新的扇区大小为4096字节后，也会保留其512字节的块大小。</p>
                     </li>
                     <li>
                        <p>如果<code class="codeph">LOGICAL_SECTOR_SIZE</code>列的值为512，而<code class="codeph">SECTOR_SIZE</code>列中的值为4096，则磁盘组支持512扇区大小仿真。这意味着I / O操作的大小可以是512或4096。例如，我们可以在磁盘组中具有可以读取和写入的文件块大小为512字节的重做日志文件，以及创建文件块大小为4096字节的新重做日志文件。
                        </p>
                     </li>
                     <li>
                        <p>物理扇区大小（ <code class="codeph">SECTOR_SIZE</code> ）不能小于Oracle ASM磁盘组中的逻辑扇区大小（ <code class="codeph">LOGICAL_SECTOR_SIZE</code> ）。
                        </p>
                     </li>
                     <li>
                        <p>并非所有磁盘都支持所有可能的<code class="codeph">SECTOR_SIZE</code>值。扇区大小属性设置必须与物理硬件兼容。
                        </p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__CHDFFDAD">
                     <p class="titleinexample">示例4-3指定磁盘组中磁盘的逻辑和扇区大小</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP数据正常冗余FAILGROUP控制器1 DISK'/ devices / diska1'，'/ devices / diska2'，'/ devices / diska3'，'/ devices / diska4'FAILGROUP controller2 DISK'/ devices / diskb1'，'/ devices / diskb2 '，'/ devices / diskb3'，'/ devices / diskb4'QUORUM FAILGROUP quorum_failgrp DISK'/ devices / diskc1'ATTRIBUTE'compliances.asm'= '12 .2'，'compatible.rdbms'= '12 .2'，'sector_size'= '4096'，'logical_sector_size'='512'; ALTER DISKGROUP data2 SET ATTRIBUTE'compliances.asm'= '12 .2'，'compatible.rdbms'= '12 .2'; ALTER DISKGROUP data2 SET ATTRIBUTE' sector_size'='4096'，'logical_sector_size'='4096';</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__GUID-31072D5E-9F14-4FC7-8CF3-4491933AC387">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关磁盘组属性和<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01114" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">BLOCKSIZE</code>关键字的信息，请<a href="../sqlrf/file_specification.html#SQLRF01602" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$ASM_ATTRIBUTE</code> ， <code class="codeph">V$ASM_DISK</code>和<code class="codeph">V$ASM_DISKGROUP</code>视图的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=REFRN003" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="asmcmd-diskgroup-commands.html#GUID-3BA40908-0543-4968-B834-BD4D873E1059" title="本主题提供ASMCMD磁盘组管理命令的摘要。">ASMCMD磁盘组管理命令，</a>以获取有关ASMCMD磁盘组管理命令的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG94111"></a><a id="OSTMG10204"></a><div class="props_rev_3"><a id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" name="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE"></a><h3 id="OSTMG-GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" class="sect3">在Oracle ASM磁盘组中存储Oracle Cluster Registry和Voting Files</h3>
               <div>
                  <p>您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。</p>
                  <p>您还可以将OCR文件的备份存储在磁盘组中。投票文件和OCR是Oracle Clusterware的两个重要组件。投票文件管理有关节点成员资格的信息。OCR管理集群和Oracle Real Application Clusters（Oracle RAC）数据库配置信息。</p>
                  <p>仲裁失败组是一种特殊类型的失败组，不包含用户数据。仲裁失败组用于存储Oracle ASM元数据。如果这些文件存储在包含仲裁失败组的磁盘组中，则仲裁失败组也可能包含投票文件。此外，Oracle ASM使用仲裁故障组来帮助确定是否可以在丢失一个或多个故障组时装入磁盘组。</p>
                  <p>由于仲裁失败组中的磁盘不包含用户数据，因此在确定有关存储用户数据的冗余要求时，不会考虑仲裁失败组。</p>
                  <p>您可以使用CRSCTL和<code class="codeph">ocrconfig</code>命令行工具， <code class="codeph">CREATE</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句以及<code class="codeph">V$ASM</code>视图来管理和监视OCR和表决文件。
                  </p>
                  <p>CRSCTL和<code class="codeph">ocrconfig</code>命令可以在Oracle ASM管理的磁盘组中放置OCR存储和群集同步服务（CSS）投票文件。</p>
                  <p><code class="codeph">CREATE</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句中的<code class="codeph">QUORUM</code>和<code class="codeph">REGULAR</code>关键字可在创建或更改磁盘组时为故障组或磁盘指定其他限定符。请注意， <code class="codeph">QUORUM</code>磁盘（或<code class="codeph">QUORUM</code>故障组中的磁盘）不能包含用户数据，而<code class="codeph">REGULAR</code>磁盘（或非仲裁故障组中的磁盘）不具有此限制。
                  </p>
                  <p>如果明确指定了故障组，则可以在关键字<code class="codeph">FAILGROUP</code>之前使用这些关键字。如果隐含暗示了失败组，则可以在关键字<code class="codeph">DISK</code>之前使用这些关键字（ <code class="codeph">QUORUM</code> / <code class="codeph">REGULAR</code> ）。显式指定故障组时，在关键字<code class="codeph">DISK</code>之前指定这些关键字（ <code class="codeph">QUORUM</code> / <code class="codeph">REGULAR</code> ）是错误的。 <code class="codeph">REGULAR</code>是默认的失败组类型。
                  </p>
                  <p>在现有磁盘或故障组上执行操作时，SQL中指定的限定符必须与磁盘或故障组添加到磁盘组时指定的限定符匹配。</p>
                  <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__CHDBIHEH">例4-4</a>显示了创建具有<code class="codeph">QUORUM</code>故障组的磁盘组。对于Oracle Clusterware文件，正常冗余磁盘组至少需要三个磁盘设备或三个故障组。在确定关于存储用户数据的冗余要求时，不考虑<code class="codeph">QUORUM</code>故障组。必须将<code class="codeph">COMPATIBLE.ASM</code>磁盘组兼容性属性设置为<code class="codeph">11.2</code>或更高，才能在磁盘组中存储OCR或投票文件。
                  </p>
                  <p><code class="codeph">V$ASM_DISK</code>或<code class="codeph">V$ASM_DISK_STAT</code>视图中的<code class="codeph">FAILGROUP_TYPE</code>列指定故障组类型。对于常规故障组，此列的值为<code class="codeph">REGULAR</code> ，对于仲裁故障组，该值为<code class="codeph">QUORUM</code> 。<code class="codeph">V$ASM_DISK</code>或<code class="codeph">V$ASM_DISK_STAT</code>视图中的<code class="codeph">VOTING_FILE</code>列指定磁盘是否包含投票文件。如果磁盘包含投票文件，则此列的值为<code class="codeph">Y</code>如果不包含，则为<code class="codeph">N</code><code class="codeph">V$ASM_DISKGROUP</code>或<code class="codeph">V$ASM_DISKGROUP_STAT</code>中<code class="codeph">USABLE_FILE_MB</code>的值不考虑<code class="codeph">QUORUM</code>磁盘中存在的任何可用空间，因为该空间不可用于客户端数据文件。
                  </p>
                  <div class="example" id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__CHDBIHEH">
                     <p class="titleinexample">示例4-4在创建故障组时使用QUORUM关键字</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP mgmt_dg正常冗余失败fg1磁盘'/ devices / diskg1'FAILGROUP fg2 DISK'/ devices / diskg2'QUORUM FAILGROUP fg3 DISK'/ devices / diskg3'ATTRIBUTE'compilener.asm'= '12 .2.0.0.0';</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__GUID-CB554BA5-D3C5-41DD-9BC3-BF5B96E4E4F5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关故障组的信息，请<a href="mirroring-diskgroup-redundancy.html#GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73">参见Oracle ASM</a>故障组</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$ASM</code>视图的<a href="views-asm-info.html#GUID-7CAB3FBA-5B76-4F30-A13F-C4C16BD59147">信息</a> ， <a href="views-asm-info.html#GUID-7CAB3FBA-5B76-4F30-A13F-C4C16BD59147">包含Oracle ASM信息</a>的视图</p>
                           </li>
                           <li>
                              <p>有关配置投票文件和Oracle Cluster Registry（OCR）的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关管理Oracle Cluster Registry和投票文件的信息，请参阅<a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD92368" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<a href="../sqlrf/CREATE-DISKGROUP.html#SQLRF01114" target="_blank"><code class="codeph">CREATE DISKGROUP</code></a>和<a href="../sqlrf/ALTER-DISKGROUP.html#SQLRF01113" target="_blank"><code class="codeph">ALTER DISKGROUP</code></a> SQL语句的信息，请<a href="../sqlrf/CREATE-DISKGROUP.html#SQLRF01114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$ASM</code> *动态性能视图的详细信息，请<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>