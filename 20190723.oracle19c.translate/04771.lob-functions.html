<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>LOB功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="statement-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="streams-advanced-queueing-and-publish-subscribe-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="statement-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="streams-advanced-queueing-and-publish-subscribe-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="more-database-access-c-api.html" property="item" typeof="WebPage"><span property="name">更多Oracle Database Access C API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">LOB功能</li>
            </ol>
            <a id="GUID-699FFE4B-07C8-4904-959F-3686E73B8188" name="GUID-699FFE4B-07C8-4904-959F-3686E73B8188"></a><a id="LNOCI17171"></a><a id="LNOCI162"></a>
            
            <h2 id="LNOCI-GUID-699FFE4B-07C8-4904-959F-3686E73B8188" class="sect2"><span class="enumeration_section">26.3</span> LOB功能</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><a href="lob-functions.html#GUID-699FFE4B-07C8-4904-959F-3686E73B8188__CIHFBAAG" title="该表有2列。第1列是OCI函数名称，第2列描述其目的。">表26-2</a>列出了本节中描述的使用LOB定位符的LOB函数。对于所有新应用程序，请使用以“2”结尾的函数。
                  </p>
                  <p>从Oracle Database <code class="codeph">c</code>第2版（12.2）开始，大多数LOB功能支持应用程序连续性（请参阅<a href="high-availability-in-oci.html#GUID-D30079AC-4E59-4CC3-86E8-6487A4891BA2" title="描述如果发生中断，OCI中的应用程序连续性可以进行故障转移时的哪些功能。">OCI中的应用程序连续性可以故障转移</a>以获取完整列表）。此支持还包括一些已弃用的LOB函数，用于在<a href="deprecated-oci-functions.html#GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F" title="描述不推荐使用的LOB函数。">不推荐的Lob函数中</a>列出的兼容性。
                  </p>
                  <p>从Oracle Database 12 <code class="codeph">c</code> Release 2（12.2）开始，OCI LOB函数支持远程LOB（CLOB，BLOB）上的分布式操作，但BFILES的OCI LOB功能除外。这包括支持选择远程LOB定位器的某些查询，这些定位器在先前版本中返回错误。唯一的限制是所有接收两个定位器的LOB函数都应该在一个数据库中并置两个LOB。远程定位器传递给它时，以下LOB函数会抛出错误： <code class="codeph">OCILobAssign()</code> ， <code class="codeph">OCILobLocatorAssign()</code> ， <code class="codeph">OCILobEnableBuffering()</code> ， <code class="codeph">OCILobDisableBuffering()</code> ， <code class="codeph">OCILobFlushBuffer()</code> ， <code class="codeph">OCILobArrayRead()</code> ， <code class="codeph">OCILobArrayWrite()</code>和<code class="codeph">OCILobLoadFromFile2()</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-699FFE4B-07C8-4904-959F-3686E73B8188__GUID-81960303-06A5-47E8-81FE-B3A9B9266159">
                     <p class="notep1">注意：</p>
                     <p>还有另一种访问LOB的方法 - 使用LOB的数据接口。您可以为<code class="codeph">BLOB</code>列绑定或定义<code class="codeph">CLOB</code>列或<code class="codeph">RAW</code>数据的字符数据，如以下位置所述：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-D757C946-BCDA-4A32-867B-BE951BA9BBF4" title="Oracle数据库允许对任何大小的LOB的INSERT和UPDATE进行非零绑定。">关于绑定LOB数据</a>以及<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句的示例</p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-FE7DB3D8-9310-41ED-8869-B5106E60D29E">关于定义LOB数据</a>以了解<code class="codeph">SELECT</code>语句的用法和示例</p>
                        </li>
                        <li>
                           <p><a href="lobs-and-bfile-operations.html#GUID-0A094518-F97C-40BE-A336-259AA82BD0A2" title="本章介绍LOB和BFILE操作。">LOB和BFILE操作</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-699FFE4B-07C8-4904-959F-3686E73B8188__CIHFBAAG">
                  <p class="titleintable">表26-2 LOB功能</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="LOB功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="58%" id="d201551e314">功能</th>
                           <th align="left" valign="bottom" width="42%" id="d201551e317">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e322" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-84EA4A66-27BF-470C-8464-3DE31937702A" title="启动临时LOB的用户持续时间。">OCIDurationBegin（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e322 d201551e317 ">
                              <p>启动临时LOB的用户持续时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e334" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962" title="终止临时LOB的用户持续时间。">OCIDurationEnd（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e334 d201551e317 ">
                              <p>临时LOB的最终用户持续时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e346" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e346 d201551e317 ">
                              <p>将一个LOB附加到另一个</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e358" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-47652C79-0635-4595-A34B-CD03B7F81A9F" title="在一次往返中读取多个定位器的LOB数据。">OCILobArrayRead（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e358 d201551e317 ">
                              <p>读取多个定位器的LOB数据</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e370" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93">OCILobArrayWrite（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e370 d201551e317 ">
                              <p>为多个定位器写入LOB数据</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e379" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" title="将一个LOB或BFILE定位器分配给另一个">OCILobAssign（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e379 d201551e317 ">
                              <p>将一个LOB定位器分配给另一个</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e394" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8" title="获取LOB定位器的字符集形式（如果有）。">OCILobCharSetForm（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e394 d201551e317 ">
                              <p>从LOB定位器获取字符集形式</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e406" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B" title="获取LOB定位符的LOB定位符的数据库字符集ID（如果有）。">OCILobCharSetId（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e406 d201551e317 ">
                              <p>从LOB定位器获取字符集ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e418" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" title="关闭先前打开的LOB或BFILE。">OCILobClose（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e418 d201551e317 ">
                              <p>关闭先前打开的LOB</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e433" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e433 d201551e317 ">
                              <p>将一个LOB的全部或部分复制到另一个。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e445" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-63F75EC5-EB14-4E25-B593-270FF814615A" title="创建一个临时LOB。">OCILobCreateTemporary（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e445 d201551e317 ">
                              <p>创建一个临时LOB</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e458" headers="d201551e314 ">
                              <p><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e458 d201551e317 ">
                              <p>关闭LOB缓冲</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e473" headers="d201551e314 ">
                              <p><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e473 d201551e317 ">
                              <p>打开LOB缓冲</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e488" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" title="从指定的偏移量开始擦除内部LOB数据的指定部分。">OCILobErase2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e488 d201551e317 ">
                              <p>擦除LOB的一部分。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e500" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" title="关闭先前打开的BFILE。">OCILobFileClose（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e500 d201551e317 ">
                              <p>关闭以前打开的<code class="codeph">BFILE</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e517" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" title="关闭给定服务上下文中的所有打开的BFILE。">OCILobFileCloseAll（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e517 d201551e317 ">
                              <p>关闭所有以前打开的文件</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e532" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" title="测试服务器操作系统上是否存在BFILE。">OCILobFileExists（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e532 d201551e317 ">
                              <p>检查服务器上是否存在文件</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e547" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-BF637A34-B18A-47EE-A060-93C4E79D1813" title="获取BFILE定位符的目录对象和文件名。">OCILobFileGetName（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e547 d201551e317 ">
                              <p>从LOB定位器获取目录对象和文件名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e562" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e562 d201551e317 ">
                              <p>使用此定位器检查服务器上的文件是否已打开</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e577" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e577 d201551e317 ">
                              <p>打开一个<code class="codeph">BFILE</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e594" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" title="在BFILE定位器中设置目录对象和文件名。">OCILobFileSetName（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e594 d201551e317 ">
                              <p>在LOB定位器中设置目录对象和文件名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e609" headers="d201551e314 ">
                              <p><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e609 d201551e317 ">
                              <p>刷新LOB缓冲区</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e625" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-E0FBF017-1B08-410C-9E53-F6E14008813A" title="释放临时LOB。">OCILobFreeTemporary（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e625 d201551e317 ">
                              <p>免费临时LOB</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e637" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072" title="获取LOB的块大小。">OCILobGetChunkSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e637 d201551e317 ">
                              <p>获取LOB的块大小</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e649" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-D62200EF-FA60-4788-950F-0C0686D807FD" title="获取SecureFile中数据的用户指定的内容类型字符串（如果已设置）。">OCILobGetContentType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e649 d201551e317 ">
                              <p>检索SecureFile的用户指定的内容类型字符串（文件格式标识符）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e661" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" title="获取LOB的长度。此函数必须用于大小超过4 GB的LOB。">OCILobGetLength2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e661 d201551e317 ">
                              <p>获取LOB的长度。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e673" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5" title="获取与给定SecureFile LOB的给定输入选项类型相对应的已启用设置。">OCILobGetOptions（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e673 d201551e317 ">
                              <p>获取SecureFile的选项设置</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e688" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27" title="获取内部LOB（BLOB，CLOB或NCLOB）的最大长度（以字节为单位）。">OCILobGetStorageLimit（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e688 d201551e317 ">
                              <p>以字节为单位获取内部LOB（BLOB，CLOB或NCLOB）的最大长度</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e709" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-5142710F-03AD-43D5-BBAB-6732B874E52E" title="比较两个LOB或BFILE定位器是否相等。">OCILobIsEqual（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e709 d201551e317 ">
                              <p>比较Equality的两个LOB定位器</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e724" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" title="测试LOB或BFILE是否打开。">OCILobIsOpen（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e724 d201551e317 ">
                              <p>检查LOB是否打开</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e739" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3" title="测试定位器是否指向临时LOB。">OCILobIsTemporary（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e739 d201551e317 ">
                              <p>确定给定的LOB是否是临时的</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e751" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" title="将全部或部分文件加载并复制到内部LOB中。此函数必须用于大小超过4 GB的LOB。">OCILobLoadFromFile2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e751 d201551e317 ">
                              <p>从<code class="codeph">BFILE</code>加载LOB。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e766" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-F7887376-4B3C-430C-94A3-11FE96E26627" title="将一个LOB或BFILE定位器分配给另一个。">OCILobLocatorAssign（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e766 d201551e317 ">
                              <p>将一个LOB定位器分配给另一个</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e782" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" title="测试是否初始化给定的LOB或BFILE定位器。">OCILobLocatorIsInit（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e782 d201551e317 ">
                              <p>检查LOB定位器是否已初始化</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e797" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e797 d201551e317 ">
                              <p>打开一个LOB</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e809" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e809 d201551e317 ">
                              <p>读一部分LOB。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e824" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-789C0971-76D5-4439-9379-E3DCE7885528" title="将SecureFile中的数据的内容类型字符串设置为可由应用程序使用的内容。">OCILobSetContentType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e824 d201551e317 ">
                              <p>存储SecureFile的用户指定的内容类型字符串</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e836" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26" title="启用SecureFile LOB的选项设置。">OCILobSetOptions（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e836 d201551e317 ">
                              <p>为现有和新创建的SecureFiles启用选项设置</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e851" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e851 d201551e317 ">
                              <p>截断LOB。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e863" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e863 d201551e317 ">
                              <p>写入LOB。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d201551e875" headers="d201551e314 ">
                              <p><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d201551e875 d201551e317 ">
                              <p>写入从LOB结尾开始的数据。此函数必须用于大小超过4 GB的LOB。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p>请注意以下OCI LOB调用中的参数：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于固定宽度的客户端字符集，offset和amount参数始终以<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的字符为单位，以<code class="codeph">BLOB</code>和<code class="codeph">BFILE</code>的字节为单位。
                        </p>
                     </li>
                     <li>
                        <p>对于不同宽度的客户端字符集，这些规则通常适用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Amount（ <code class="codeph">amtp</code> ）参数 - 当amount参数引用服务器端LOB时，金额以字符为单位。当amount参数引用客户端缓冲区时，该数量以字节为单位。
                              </p>
                              <p>有关更多信息，请参阅单个LOB调用，例如<code class="codeph">OCILobGetLength()</code> （不建议使用）， <code class="codeph">OCILobGetLength2()</code> ， <code class="codeph">OCILobRead()</code> （不建议使用）， <code class="codeph">OCILobRead2()</code> ， <code class="codeph">OCILobWrite()</code> （不建议使用）和<code class="codeph">OCILobWrite2()</code> 。
                              </p>
                           </li>
                           <li>
                              <p>偏移（ <code class="codeph">offset</code> ）参数 - 无论客户端字符集是否为宽度变化，offset参数始终为<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的字符， <code class="codeph">BLOB</code>和<code class="codeph">BFILE</code>的字节数。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>对于许多LOB操作，无论客户端字符集如何，amount参数都是<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的字符。这些LOB操作包括<code class="codeph">OCILobCopy2()</code> ， <code class="codeph">OCILobErase2()</code> ， <code class="codeph">OCILobGetLength2()</code> ， <code class="codeph">OCILobLoadFromFile2()</code>和<code class="codeph">OCILobTrim2()</code> 。所有这些操作都是指服务器上的LOB数据量。
                        </p>
                     </li>
                  </ul>
                  <p><span class="italic">流操作</span>意味着LOB被读取或写入。可以使用轮询机制或通过注册用户定义的回调来实现流式传输。
                  </p>
               </div>
               <!-- class="section" -->
            </div><a id="LNOCI17172"></a><div class="props_rev_3"><a id="GUID-84EA4A66-27BF-470C-8464-3DE31937702A" name="GUID-84EA4A66-27BF-470C-8464-3DE31937702A"></a><h3 id="LNOCI-GUID-84EA4A66-27BF-470C-8464-3DE31937702A" class="sect3"><span class="enumeration_section">26.3.1</span> OCIDurationBegin（）</h3>
               <div>
                  <p>启动临时LOB的用户持续时间。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-038966E2-8DBF-4D03-AC39-F30E6E9FF159">目的</p>
                     <p>启动临时LOB的用户持续时间。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-609D5BF9-8B10-46D8-9333-ED0CA81E3D52">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIDurationBegin（OCIEnv * env，OCIError * err，const OCISvcCtx * svc，OCIDuration parent，OCIDuration * duration）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-4A476E9F-7C04-4046-ACBA-582F19F7AC66">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-433D4903-5F4D-4B71-8EBE-5AF17D637B1B"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>传递为<code class="codeph">NULL</code>指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-BFE4C4A1-2EE8-4712-9A62-BE8C266DB674"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。可以通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-4BBEA4F3-538E-4F13-BE4B-4F5A272ED09B"><!-- --></a> svc（IN）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。必须是非<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-1F41E1E7-0A58-4952-A02E-C7FDAC5AD905"><!-- --></a>父（IN）</dt>
                        <dd>
                           <p>父级持续时间的持续时间。它是以下之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DURATION_STATEMENT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_SESSION</code></p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-FC918B60-A50A-4F71-BA1D-904FEEE830A4"><!-- --></a>持续时间（OUT）</dt>
                        <dd>
                           <p>新创建的用户持续时间唯一的标识符。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-84EA4A66-27BF-470C-8464-3DE31937702A__GUID-523A8F42-C18C-47FE-8C6E-9B1923B51A59">评论</p>
                     <p>此功能启动用户持续时间。在8.1或更高版本中，可以在创建临时LOB时使用用户持续时间。用户可以同时拥有多个活动用户持续时间。用户持续时间不必嵌套。<code class="codeph">duration</code>参数用于返回唯一标识此调用创建的持续时间的数字。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lobs-and-bfile-operations.html#GUID-5291BFEA-E35C-4097-AC29-59D03166546A" title="OCI支持临时LOB的几个预定义持续时间，以及应用程序可用于定义特定于应用程序的持续时间的一组函数。">临时LOB持续时间</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17173"></a><div class="props_rev_3"><a id="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962" name="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962"></a><h3 id="LNOCI-GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962" class="sect3"><span class="enumeration_section">26.3.2</span> OCIDurationEnd（）</h3>
               <div>
                  <p>终止临时LOB的用户持续时间。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-840EA688-2767-419D-BBD5-18C36575229F">目的</p>
                     <p>终止临时LOB的用户持续时间。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-10064607-39B0-45C4-9A60-1C1E021B42C1">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIDurationEnd（OCIEnv * env，OCIError * err，const OCISvcCtx * svc，OCIDuration duration）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-327ED548-D878-4FAF-8C84-932510CA3E7E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-AA9B5BCC-8A20-42FB-9DC8-90A8F56B2DE9"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>传递为<code class="codeph">NULL</code>指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-0ECDC6BE-1544-47E6-AD31-AFACCE0CD355"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。可以通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-45775316-9C16-4C79-A359-4B0CC8BFBACD"><!-- --></a> svc（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。对于盒式磁带服务，这应该作为<code class="codeph">NULL</code>传递。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-42B37FC8-55E9-4E11-BCE4-B453446354A7"><!-- --></a>持续时间（IN）</dt>
                        <dd>
                           <p>用于标识用户持续时间的数字。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962__GUID-0E526F01-A79C-4917-ACDC-159F391263D1">评论</p>
                     <p>此功能终止用户持续时间。为用户持续时间分配的临时LOB被释放。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-84EA4A66-27BF-470C-8464-3DE31937702A" title="启动临时LOB的用户持续时间。">OCIDurationBegin（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="lobs-and-bfile-operations.html#GUID-5291BFEA-E35C-4097-AC29-59D03166546A" title="OCI支持临时LOB的几个预定义持续时间，以及应用程序可用于定义特定于应用程序的持续时间的一组函数。">临时LOB持续时间</a></li>
                        <li><a href="cartridge-services-memory-services.html#GUID-7DE91342-CFF9-4227-8E67-58296C2C8F69" title="开始用户持续时间。">OCIDurationBegin（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17174"></a><div class="props_rev_3"><a id="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" name="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE"></a><h3 id="LNOCI-GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" class="sect3"><span class="enumeration_section">26.3.3</span> OCILobAppend（）</h3>
               <div>
                  <p>在指定的另一个LOB的末尾追加LOB值。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-331FAE42-8CBE-47AB-B810-F5712E4E5B89">目的</p>
                     <p>在指定的另一个LOB的末尾追加LOB值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-FD4FE239-D877-4B01-B4B9-3BD866F99F63">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobAppend（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * dst_locp，OCILobLocator * src_locp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-E736C427-1D0D-46F8-B1DF-29EC4B72F638">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-0C216F91-811B-4417-B895-BF3399EDCC7D"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-FC47BAA3-F23B-4CAA-8E20-1F860EACA506"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-7A7EC32C-2B5A-48D3-A0F9-9534389A6704"><!-- --></a> <span class="bold">dst_locp</span> （IN / OUT）</dt>
                        <dd>
                           <p>唯一引用目标LOB的内部LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-73724FB1-9DD9-40FF-A737-C63DDE936374"><!-- --></a> <span class="bold">src_locp</span> （IN）</dt>
                        <dd>
                           <p>内部LOB定位器，唯一引用源LOB。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE__GUID-2CA606AB-1E9A-4E7D-9450-E7DA6F85A2DC">评论</p>
                     <p>在指定的另一个LOB的末尾追加LOB值。数据从源复制到目标末尾。源和目标LOB必须存在。目标LOB被扩展以容纳新写入的数据。将目标LOB扩展到允许的最大长度（4千兆字节（GB））或尝试从<code class="codeph">NULL</code> LOB复制是错误的。</p>
                     <p>源和目标LOB定位器必须是相同的类型（即，它们必须都是<code class="codeph">BLOB</code>或两者都是<code class="codeph">CLOB</code> ）。不能为任何类型的定位器启用LOB缓冲。此函数不接受<code class="codeph">BFILE</code>定位器作为源或目标。
                     </p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17175"></a><div class="props_rev_3"><a id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F" name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F"></a><h3 id="LNOCI-GUID-47652C79-0635-4595-A34B-CD03B7F81A9F" class="sect3"><span class="enumeration_section">26.3.4</span> OCILobArrayRead（）</h3>
               <div>
                  <p>在一次往返中读取多个定位器的LOB数据。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-48F22EC3-A7F4-42FD-BA93-B206AE4E5F54">目的</p>
                     <p>此函数可用于大小小于或小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-4DAE9421-F8EA-42B0-B04D-715147FD589B">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobArrayRead（OCISvcCtx * svchp，OCIError * errhp，ub4 * array_iter，OCILobLocator ** locp_arr，oraub8 * byte_amt_arr，oraub8 * char_amt_arr，oraub8 * offset_arr，void ** bufp_arr，oraub8 bufl_arr，ub1 piece，void * ctxp，OCICallbackLobArrayRead（cbfp） ）（void * ctxp，ub4 array_iter，const void * bufp，oraub8 lenp，ub1 piecep void ** changed_bufpp，oraub8 * changed_lenp）ub2 csid，ub1 csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-26401FEA-EFBB-4F72-9233-8BFE3309FB98">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-B9869F87-BBBE-4CCB-A072-B535AC4179B4"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-AA6E55DE-3C94-4F5D-84B5-9E338A341206"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-0F8E3320-8791-49BF-A699-E9F5B61B369A"><!-- --></a> <span class="bold">array_iter</span> （IN / OUT）</dt>
                        <dd>
                           <p>IN  - 此参数指示LOB定位器阵列的大小。对于轮询，这仅与第一次呼叫相关，并在后续呼叫中被忽略。</p>
                           <p>OUT  - 在轮询模式下，此参数指示从中读取的元素的数组索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-77D1956D-ABD9-4A9A-9844-A742AE62D593"><!-- --></a> <span class="bold">locp_arr</span> （IN）</dt>
                        <dd>
                           <p>一组LOB或<code class="codeph">BFILE</code>定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-5BD547A8-36F1-4CD5-A5D0-7ABAF92719CF"><!-- --></a> <span class="bold">byte_amt_arr</span> （IN / OUT）</dt>
                        <dd>
                           <p>一组<code class="codeph">oraub8</code>变量。数组大小必须与定位器数组大小相同。条目对应于定位器的字节数。
                           </p>
                           <p>IN  - 从数据库中读取的字节数。始终用于<code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ，仅当<code class="codeph">char_amt_arr</code>的对应值为零时才使用它。
                           </p>
                           <p>OUT  - 读入用户缓冲区的字节数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-20FF6A5D-DDC0-476E-9E5D-0BF2E66F19C5"><!-- --></a> <span class="bold">char_amt_arr</span> （IN / OUT）</dt>
                        <dd>
                           <p>一组<code class="codeph">oraub8</code>变量。数组大小必须与定位器数组大小相同。条目对应于定位器的字符数量。
                           </p>
                           <p>IN  - 读入用户缓冲区的最大字符数。忽略<code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> 。</p>
                           <p>OUT  - 读入用户缓冲区的字符数。未定义<code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-EB3BB74B-3A0F-44DA-BE3F-5579969FED8B"><!-- --></a> <span class="bold">偏移</span> _arr（IN）</dt>
                        <dd>
                           <p>一组<code class="codeph">oraub8</code>变量。数组大小必须与定位器数组大小相同。对于字符LOB（ <code class="codeph">CLOB</code> s， <code class="codeph">NCLOB</code> s），它是从LOB开始的字符数;对于二进制LOB或<code class="codeph">BFILE</code> ，它是字节数。第一个位置是1。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-790D5075-5C32-41C0-A12A-B44AA7628F72"><!-- --></a> <span class="bold">bufp</span> _arr（IN / OUT）</dt>
                        <dd>
                           <p>指向缓冲区的指针数组。数组大小必须与定位器数组大小相同。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-CE7231A7-0260-4880-A175-32C638E06C56"><!-- --></a> <span class="bold">bufl</span> _arr（IN）</dt>
                        <dd>
                           <p>一组<code class="codeph">oraub8</code>变量，指示缓冲区数组的缓冲区长度。数组大小必须与定位器数组大小相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-CC64A6F5-ED34-456C-8DAE-69706FA50CE6"><!-- --></a>件（IN）</dt>
                        <dd>
                           <p><code class="codeph">OCI_ONE_PIECE</code> - 呼叫从不假设轮询。如果指示的量大于缓冲区长度，则尽可能多地填充缓冲区。
                           </p>
                           <p>对于轮询，首次传递<code class="codeph">OCI_NEXT_PIECE</code> ，后续调用传递<code class="codeph">OCI_FIRST_PIECE</code> 。使用回调时应该传递<code class="codeph">OCI_FIRST_PIECE</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-11481E14-9BF4-45E7-98B5-2F252AC4B981"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文指针。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-FD0D9F0A-F877-46FF-BC5E-7222D0AF67FE"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                        <dd>
                           <p>可以注册为每个部分调用的回调。如果这是<code class="codeph">NULL</code> ，则为每个部分返回<code class="codeph">OCI_NEED_DATA</code> 。
                           </p>
                           <p>回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续读取。如果返回任何其他错误代码，则终止LOB读取。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-64FB09FC-FBC0-491A-A335-272252AB244A"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-7E3E523D-8306-43CB-9DE9-E08D07F57EB4"><!-- --></a> <span class="bold">array_iter</span> （IN）</dt>
                        <dd>
                           <p>从中读取元素的索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-949C6230-8A54-4D35-BC5E-BB54C32F028F"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                        <dd>
                           <p>这件作品的缓冲指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-7559451E-6C85-45C4-A9F6-46A754F64919"><!-- --></a> <span class="bold">lenp</span> （IN）</dt>
                        <dd>
                           <p><code class="codeph">bufp</code>当前段的长度（以字节为<code class="codeph">bufp</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-BA303466-E3B5-4B82-B0C4-023B52C5CA7D"><!-- --></a> <span class="bold">piecep</span> （IN）</dt>
                        <dd>
                           <p>哪一块： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-26709006-74F7-4F8F-A147-38E74C24759F"><!-- --></a> changed_bufpp（OUT）</dt>
                        <dd>
                           <p>如果回调函数更喜欢使用新缓冲区来读取下一个片段，则它可以放置新缓冲区的地址。如果此参数设置为<code class="codeph">NULL</code>则使用默认的旧缓冲区<code class="codeph">bufp</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-0B1A6541-DC2D-4766-A74B-A30643C1B4B4"><!-- --></a> changed_lenp（OUT）</dt>
                        <dd>
                           <p>新缓冲区的长度（如果提供）。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-ED4BD5A7-5ED6-4EEF-830D-357B66F7903D"><!-- --></a> <span class="bold">csid</span> （IN）</dt>
                        <dd>
                           <p>缓冲区数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。除非服务器和客户端具有相同的设置，否则永远不会假定它是服务器字符集。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-3F32887F-2BE0-4F34-83A8-09D9DEB886FF"><!-- --></a> <span class="bold">csfrm（IN）</span></dt>
                        <dd>
                           <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                           <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。如果未指定<code class="codeph">csfrm</code> ，则假定为默认值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-30A623F0-990C-4B10-A285-AC791A2377C1">评论</p>
                     <p>尝试从<code class="codeph">NULL</code> LOB或<code class="codeph">BFILE</code>读取是错误的。</p>
                     <div class="infoboxnote" id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-9A6EB2BB-AF7E-4B65-A5E5-552DB5E2B99B">
                        <p class="notep1">注意：</p>
                        <p>读取或写入LOB时，指定的字符集形式（ <code class="codeph">csfrm</code> ）应与定位器本身的形式匹配。
                        </p>
                        <p>当远程定位器传递给它时， <code class="codeph">OCILobArrayRead()</code>会引发错误。
                        </p>
                     </div>
                     <p>对于<code class="codeph">BFILE</code> ，操作系统文件必须存在于服务器上，并且必须由<code class="codeph">OCILobFileOpen()</code>或<code class="codeph">OCILobOpen()</code>使用输入定位器打开。Oracle数据库必须具有读取操作系统文件的权限，并且用户必须具有目录对象的读取权限。
                     </p>
                     <p>当您使用轮询模式<code class="codeph">OCILobArrayRead()</code>第一个呼叫必须为指定值<code class="codeph">offset_arr</code>和<code class="codeph">amt_arr</code> ，但在随后的轮询调用<code class="codeph">OCILobArrayRead()</code>则无需指定这些值。
                     </p>
                     <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                     </p>
                     <div class="infoboxnote" id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-0AF28BD7-FBBD-40DF-9315-2EEAE902F426">
                        <p class="notep1">注意：</p>
                        <p>要终止<code class="codeph">OCILobArrayRead()</code>操作并释放语句句柄，请使用<code class="codeph">OCIBreak()</code>调用。
                        </p>
                     </div>
                     <p>以下几点适用于以流模式读取LOB数据：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当您使用轮询方式，一定要指定<code class="codeph">char_amt_arr</code>和<code class="codeph">byte_amt_arr</code>和<code class="codeph">offset_arr</code>只在第一次调用参数<code class="codeph">OCILobArrayRead()</code>在后续轮询调用中，将忽略这些参数。如果<code class="codeph">byte_amt_arr</code>和<code class="codeph">char_amt_arr</code>都设置为0并且传递了<code class="codeph">OCI_FIRST_PIECE</code> ，则假定轮询模式并且数据被读取到LOB的末尾。在输出时， <code class="codeph">byte_amt_arr</code>给出当前片段中读取的字节数。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ， <code class="codeph">char_amt_arr</code>给出当前片段中读取的字符数。
                           </p>
                        </li>
                        <li>
                           <p>使用回调时，输入到回调的<code class="codeph">lenp</code>参数指示缓冲区中填充的字节数。在回调处理期间检查<code class="codeph">lenp</code>参数，因为整个缓冲区可能没有填充数据。
                           </p>
                        </li>
                        <li>
                           <p>使用轮询时，请检查<code class="codeph">byte_amt_arr</code>参数以查看当前块的缓冲区填充量。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ， <code class="codeph">char_amt_arr</code>返回缓冲区中读取的字符数。
                           </p>
                        </li>
                     </ul>
                     <p>要读取UTF-16格式的数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了c <code class="codeph">sid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" title="在BFILE定位器中设置目录对象和文件名。">OCILobFileSetName（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="lob-functions.html#GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93">OCILobArrayWrite（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-47652C79-0635-4595-A34B-CD03B7F81A9F__GUID-7FD7639E-9EF4-4511-95E0-4C840124B761">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                        </li>
                        <li>
                           <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a></p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17176"></a><div class="props_rev_3"><a id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93" name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93"></a><h3 id="LNOCI-GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93" class="sect3"><span class="enumeration_section">26.3.5</span> OCILobArrayWrite（）</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-5C2B3F9D-F824-4A6E-A0EF-43AFF3C2F22A">目的</p>
                     <p>在一次往返中为多个定位器写入LOB数据。此函数可用于大小小于或小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-4100F75A-6AFD-44F9-A8D8-8333D22024DE">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobArrayWrite（OCISvcCtx * svchp，OCIError * errhp，ub4 * array_iter，OCILobLocator ** locp_arr，oraub8 * byte_amt_arr，oraub8 * char_amt_arr，oraub8 * offset_arr，void ** bufp_arr，oraub8 * bufl_arr，ub1 piece，void * ctxp，OCICallbackLobArrayWrite（ cbfp）（void * ctxp，ub4 array_iter，void * bufp，oraub8 * lenp，ub1 * piecep void ** changed_bufpp，oraub8 * changed_lenp）ub2 csid，ub1 csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-8946ACB0-46E8-4497-B17E-604C392EB201">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-14C9FF89-1B86-43A9-A549-18FC788B3A8E"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-ECE29059-73C2-4A67-A818-221829D6E059"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-BC7B245A-221B-4523-AA85-F54290226543"><!-- --></a> <span class="bold">array_iter</span> （IN / OUT）</dt>
                        <dd>
                           <p>IN  - 此参数指示LOB定位器阵列的大小。对于轮询，这仅与第一次呼叫相关，并在后续呼叫中被忽略。</p>
                           <p>OUT  - 在轮询模式下，此参数指示刚刚写入的元素的数组索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-0DA9D654-D5CD-4D7D-9A7D-D2E2D5F89C67"><!-- --></a> <span class="bold">locp_arr</span> （IN / OUT）</dt>
                        <dd>
                           <p>一组LOB定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-054C9D6A-80DF-40D3-92BB-1188685056A2"><!-- --></a> <span class="bold">byte_amt</span> _arr（IN / OUT）</dt>
                        <dd>
                           <p>指向<code class="codeph">oraub8</code>变量的指针数组。数组大小必须与定位器数组大小相同。条目对应于定位器的字节数。
                           </p>
                           <p>IN  - 要写入数据库的字节数。一直用于<code class="codeph">BLOB</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ，仅在<code class="codeph">char_amt_arr</code>为零时使用。
                           </p>
                           <p>OUT  - 写入数据库的字节数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-6EFAFC92-2872-47D5-835B-456E8B6BE80E"><!-- --></a> char_amt（IN / OUT）</dt>
                        <dd>
                           <p>指向<code class="codeph">oraub8</code>变量的指针数组。数组大小必须与定位器数组大小相同。条目对应于定位器的字符数量。
                           </p>
                           <p>IN  - 要写入数据库的最大字符数。忽略了<code class="codeph">BLOB</code> 。</p>
                           <p>OUT  - 写入数据库的字符数。未定义<code class="codeph">BLOB</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-0B83E2CD-F974-4E7B-91FB-59EB575A7000"><!-- --></a> <span class="bold">偏移</span> _arr（IN）</dt>
                        <dd>
                           <p>指向<code class="codeph">oraub8</code>变量的指针数组。数组大小必须与定位器数组大小相同。数组中的每个条目都是从LOB值开头的绝对偏移量。对于字符LOB（ <code class="codeph">CLOB</code> s， <code class="codeph">NCLOB</code> s），它是从LOB开始的字符数;对于<code class="codeph">BLOB</code> ，它是字节数。第一个位置是1。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-96F6FC8F-38EC-41CD-B573-D3BEC7ED6C27"><!-- --></a> <span class="bold">bufp_arr</span> （IN / OUT）</dt>
                        <dd>
                           <p>指向缓冲区的指针数组，其中写入定位器的各个部分。数组大小必须与定位器数组大小相同。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-359FCD9D-5EA7-4432-A9AF-81BDFE909863"><!-- --></a> <span class="bold">bufl_arr</span> （IN）</dt>
                        <dd>
                           <p>一组<code class="codeph">oraub8</code>变量，指示缓冲区数组的缓冲区长度。数组大小必须与定位器数组大小相同。
                           </p>
                           <div class="infoboxnote" id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-C176E383-E364-46BB-AEA2-5F6DDDE63530">
                              <p class="notep1">注意：</p>
                              <p>此参数假定为8位字节。如果操作系统使用较长的字节，则必须相应地调整<code class="codeph">bufl_arr</code>的值。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-78BC09BE-378E-4376-8520-E32DA6EA06FD"><!-- --></a> <span class="bold">件</span> （IN）</dt>
                        <dd>
                           <p>正在编写哪个缓冲区。此参数的默认值为<code class="codeph">OCI_ONE_PIECE</code> ，表示缓冲区是单个写入的。
                           </p>
                           <p>对于分段或回调模式，以下其他值也是可能的： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>和<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-CCF1AE3A-C7E4-4B30-9269-295D8BFF1509"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-2C84A071-DA1D-4BAC-BFFD-471BA2E26BC3"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                        <dd>
                           <p>可以注册为每个部分调用的回调。如果这是<code class="codeph">NULL</code> ，则为每个部分返回<code class="codeph">OCI_NEED_DATA</code> 。回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续写入。如果返回任何其他错误代码，则终止LOB写入。
                           </p>
                           <p>回调采用以下参数：</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-D56C1DAF-986C-476A-B2C7-8B800F37343F"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-80A2523B-AFFD-48E3-AADC-A52F9D651CD6"><!-- --></a> <span class="bold">array_iter</span> （IN）</dt>
                        <dd>
                           <p>写入的元素的索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-9E015324-AB0D-48DB-871B-089FD6E9D92C"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                        <dd>
                           <p>这件作品的缓冲指针。这与作为<code class="codeph">OCILobArrayWrite()</code>例程的输入传递的<code class="codeph">bufp</code>相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-770F28F5-AF0E-4889-A311-FAE1E8B87EB9"><!-- --></a> <span class="bold">lenp</span> （IN / OUT）</dt>
                        <dd>
                           <p>缓冲区（IN）中数据的长度（以字节为单位），以及<code class="codeph">bufp</code> （OUT）中当前块的长度（以字节为单位）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-E14562CE-75CD-4B42-A7A8-5F2739D1FD3E"><!-- --></a> <span class="bold">piecep</span> （OUT）</dt>
                        <dd>
                           <p>哪一块： <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-C0DA0890-9C2F-4E3F-8C1A-C68EFBD9D907"><!-- --></a> changed_bufpp（OUT）</dt>
                        <dd>
                           <p>如果回调函数更喜欢使用新缓冲区来读取下一个片段，则它可以放置新缓冲区的地址。如果此参数设置为<code class="codeph">NULL</code>则使用默认的旧缓冲区<code class="codeph">bufp</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-7156D705-4469-4DB6-A1A6-5EBD0A694588"><!-- --></a> changed_lenp（OUT）</dt>
                        <dd>
                           <p>新缓冲区的长度（如果提供）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-3A072FF5-871E-4CFA-8FD3-541D0DE6ED65"><!-- --></a> csid（IN）</dt>
                        <dd>
                           <p>缓冲区中数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-54015378-CF98-4580-A9F0-F07503733512"><!-- --></a> csfrm（IN）</dt>
                        <dd>
                           <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                           <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                              </li>
                              <li>
                                 <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                              </li>
                           </ul>
                           <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-C16CFEFE-FC96-48EA-9FD5-BB86672CDF2B">评论</p>
                     <p>如果存在LOB数据，则会用存储在缓冲区中的数据覆盖它。可以使用此调用将缓冲区写入LOB中，也可以使用回调或标准轮询方法分段提供缓冲区。</p>
                     <p>当远程定位器传递给它时， <code class="codeph">OCILobArrayWrite()</code>会引发错误。
                     </p>
                     <div class="infoboxnote" id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-1BB4F54A-499B-4FF0-A139-C812A983DDCB">
                        <p class="notep1">注意：</p>
                        <p>读取或写入LOB时，请指定与定位器本身的形式匹配的字符集形式（ <code class="codeph">csfrm</code> ）。
                        </p>
                        <p>参数<code class="codeph">piece</code> ， <code class="codeph">csid</code>和<code class="codeph">csfrm</code>对于数组的所有定位符都是相同的。
                        </p>
                     </div>
                     <p>当您使用轮询模式<code class="codeph">OCILobArrayWrite()</code>第一个呼叫必须为指定值<code class="codeph">offset_arr</code> ， <code class="codeph">byte_amt_arr</code>和<code class="codeph">char_amt_arr</code> ，但在随后的轮询调用<code class="codeph">OCILobArrayWrite()</code>则无需指定这些值。
                     </p>
                     <p>如果<code class="codeph">piece</code>参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则可能需要通过回调或轮询提供数据。
                     </p>
                     <p>如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后，将调用此回调函数以获取下一个片段。每件都是从<code class="codeph">bufp_arr</code>写的。如果未定义回调函数，则<code class="codeph">OCILobArrayWrite()</code>返回<code class="codeph">OCI_NEED_DATA</code>错误代码。应用程序必须再次调用<code class="codeph">OCILobArrayWrite()</code>来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。
                     </p>
                     <p>无论是否使用轮询或回调方法， <code class="codeph">OCI_LAST_PIECE</code>的<code class="codeph">piece</code>值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                     </p>
                     <p>如果传递给数据库的数据量（通过任一输入机制）小于<code class="codeph">byte_amt_arr</code>或<code class="codeph">char_amt_arr</code>参数指定的数量，则返回ORA-22993错误。
                     </p>
                     <p>此功能仅对内部LOB有效。<code class="codeph">BFILE</code>无效，因为它们是只读的。如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                     </p>
                     <p>如果<code class="codeph">byte_amt_arr</code>和<code class="codeph">char_amt_arr</code>都设置为指向零，并且<code class="codeph">OCI_FIRST_PIECE</code>作为输入，则假定轮询模式并写入数据，直到指定<code class="codeph">OCI_LAST_PIECE</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ， <code class="codeph">byte_amt_arr</code>和<code class="codeph">char_amt_arr</code>返回每个部分写入的数据的字节数和字符数。对于<code class="codeph">BLOB</code> ， <code class="codeph">byte_amt_arr</code>返回每个部分写入的字节数，而<code class="codeph">char_amt_arr</code>在输出时未定义。
                     </p>
                     <p>要以UTF-16格式写入数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了<code class="codeph">csid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                     </p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="lob-functions.html#GUID-47652C79-0635-4595-A34B-CD03B7F81A9F" title="在一次往返中读取多个定位器的LOB数据。">OCILobArrayRead（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93__GUID-8C261640-9D5E-4B4F-BD75-C4A161C53518">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                        </li>
                        <li>
                           <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                        </li>
                        <li>
                           <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a></p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17177"></a><div class="props_rev_3"><a id="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" name="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC"></a><h3 id="LNOCI-GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" class="sect3"><span class="enumeration_section">26.3.6</span> OCILobAssign（）</h3>
               <div>
                  <p>将一个LOB或<code class="codeph">BFILE</code>定位器分配给另一个</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-C2404BB9-4664-4B0F-ADA3-652AC62299B6">目的</p>
                     <p>将一个LOB或<code class="codeph">BFILE</code>定位器分配给另一个。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-BA827FA1-45EE-4722-A6BD-D3567F7D88FB">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobAssign（OCIEnv * envhp，OCIError * errhp，const OCILobLocator * src_locp，OCILobLocator ** dst_locpp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-C0A33AC3-E634-40D1-9BB2-ACDD4D0A376F">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-E34BA3C2-0504-43D2-95F9-AEAEE56CB411"><!-- --></a> envhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-D31A64B5-6FE1-4F1F-AFDC-6E62BBF754DF"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-EBC544B4-8240-495A-9BEE-449E9238AB56"><!-- --></a> src_locp（IN）</dt>
                        <dd>
                           <p>要复制的LOB或<code class="codeph">BFILE</code>定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-48E0D8C6-89CD-442B-9336-517FD186B9FF"><!-- --></a> dst_locpp（IN / OUT）</dt>
                        <dd>
                           <p>要复制到的LOB或<code class="codeph">BFILE</code>定位器。调用者必须通过调用<code class="codeph">OCIDescriptorAlloc()</code>为目标定位器分配空间。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC__GUID-D9CB1E52-7C41-4E14-BC38-890CF1FDFFBE">评论</p>
                     <p>将<span class="italic">源</span>定位器分配给<span class="italic">目标</span>定位器。赋值后，两个定位器都引用相同的LOB值。对于内部LOB，仅当<span class="italic">目标</span>定位器存储在表中时，源定位器的LOB值才会复制到<span class="italic">目标</span>定位器的LOB值。因此，发出包含<span class="italic">目标</span>定位符的对象的刷新会复制LOB值。
                     </p>
                     <p>当远程定位器传递给它时， <code class="codeph">OCILobAssign()</code>会抛出错误。
                     </p>
                     <p><code class="codeph">OCILobAssign()</code>不能用于临时LOB;它会生成<code class="codeph">OCI_INVALID_HANDLE</code>错误。对于临时LOB，请使用<code class="codeph">OCILobLocatorAssign()</code> 。
                     </p>
                     <p>对于<code class="codeph">BFILE</code> ，只有引用该文件的定位器被复制到该表中。不复制操作系统文件本身。
                     </p>
                     <p>将<code class="codeph">BFILE</code>定位器分配给内部LOB定位器是错误的，反之亦然。
                     </p>
                     <p>如果源定位器用于已启用缓冲的内部LOB，并且源定位器已用于通过LOB缓冲子系统修改LOB数据，并且自写入后缓冲区尚未刷新，则源定位器可能不会被分配到目标定位器。这是因为每个LOB只有一个定位器可以通过LOB缓冲子系统修改LOB数据。</p>
                     <p>必须通过调用<code class="codeph">OCIDescriptorAlloc()</code>来分配输入目标定位器的值。例如，假设以下声明：</p><pre class="oac_no_warn" dir="ltr">OCILobLocator * source_loc =（OCILobLocator *）0; OCILobLocator * dest_loc =（OCILobLocator *）0;</pre><p>以下代码示例显示了应用程序如何分配<code class="codeph">source_loc</code>定位器。
                     </p>
                     <p>分配source_loc源定位器</p><pre class="oac_no_warn" dir="ltr">if（OCIDescriptorAlloc（（void *）envhp，（void **）＆source_loc，（ub4）OCI_DTYPE_LOB，（size_t）0，（void **）0））handle_error;</pre><p>假设它然后从表中选择一个LOB到<code class="codeph">source_loc</code>来初始化它。应用程序必须在发出<code class="codeph">OCILobAssign()</code>调用之前分配目标定位器<code class="codeph">dest_loc</code> ，以将<code class="codeph">source_loc</code>的值分配给<code class="codeph">dest_loc</code> ，如以下代码示例所示。
                     </p>
                     <p>分配dest_loc目标定位器</p><pre class="oac_no_warn" dir="ltr">if（OCIDescriptorAlloc（（void *）envhp，（void **）＆dest_loc，（ub4）OCI_DTYPE_LOB，（size_t）0，（void **）0））handle_error; if（OCILobAssign（envhp，errhp，source_loc，＆dest_loc））handle_error</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="分配存储以保存描述符或LOB定位符。">OCIDescriptorAlloc（）</a></li>
                        <li><a href="lob-functions.html#GUID-5142710F-03AD-43D5-BBAB-6732B874E52E" title="比较两个LOB或BFILE定位器是否相等。">OCILobIsEqual（）</a></li>
                        <li><a href="lob-functions.html#GUID-F7887376-4B3C-430C-94A3-11FE96E26627" title="将一个LOB或BFILE定位器分配给另一个。">OCILobLocatorAssign（）</a></li>
                        <li><a href="lob-functions.html#GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" title="测试是否初始化给定的LOB或BFILE定位器。">OCILobLocatorIsInit（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17178"></a><div class="props_rev_3"><a id="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8" name="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8"></a><h3 id="LNOCI-GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8" class="sect3"><span class="enumeration_section">26.3.7</span> OCILobCharSetForm（）</h3>
               <div>
                  <p>获取LOB定位器的字符集形式（如果有）。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-49FD0FBF-764F-4D8B-9DDB-7E20E3688237">目的</p>
                     <p>获取LOB定位器的字符集形式（如果有）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-81DF017E-B4AD-491F-A9D0-86B4FFE55073">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobCharSetForm（OCIEnv * envhp，OCIError * errhp，const OCILobLocator * locp，ub1 * csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-08F08B00-45E6-45B4-A487-83D3A0196BBB">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-D8A86704-4A00-44C7-AB1D-EB6637ECFD13"><!-- --></a> envhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-48CF548A-C954-4261-B162-77BF1427B0BB"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-9E086D41-12F1-4CF8-BDDE-34D6A0F02B11"><!-- --></a> locp（IN）</dt>
                        <dd>
                           <p>要获取字符集形式的LOB定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-793225FA-7E6E-47C5-BC6E-CDBFD2B290D8"><!-- --></a> csfrm（OUT）</dt>
                        <dd>
                           <p>输入LOB定位器的字符集形式。如果输入定位符<code class="codeph">locp,</code>用于<code class="codeph">BLOB</code>或<code class="codeph">BFILE</code> ，则<code class="codeph">csfrm</code>设置为0，因为没有二进制LOB和<code class="codeph">BFILE</code>的字符集概念。调用者必须为<code class="codeph">csfrm</code>分配空间（a <span class="italic"> </span> <code class="codeph">ub1</code> ）。
                           </p>
                           <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID，默认值</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8__GUID-E6EAB4CD-4CC3-4920-92DA-D88038337379">评论</p>
                     <p>返回<code class="codeph">csfrm</code>输出参数中输入<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>定位符的字符集形式。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B" title="获取LOB定位符的LOB定位符的数据库字符集ID（如果有）。">OCILobCharSetId（）</a></li>
                        <li><a href="lob-functions.html#GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" title="测试是否初始化给定的LOB或BFILE定位器。">OCILobLocatorIsInit（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17179"></a><div class="props_rev_3"><a id="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B" name="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B"></a><h3 id="LNOCI-GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B" class="sect3"><span class="enumeration_section">26.3.8</span> OCILobCharSetId（）</h3>
               <div>
                  <p>获取LOB定位符的LOB定位符的数据库字符集ID（如果有）。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-5FBC1673-369F-4528-B7BB-46D03E73E61C">目的</p>
                     <p>获取LOB定位符的LOB定位符的数据库字符集ID（如果有）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-92876F28-8251-4960-B242-5176FCD01678">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobCharSetId（OCIEnv * envhp，OCIError * errhp，const OCILobLocator * locp，ub2 * csid）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-DE306A8A-4131-4CBD-BE33-99CD7575ACAA">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-376E9F18-ADEC-4549-9C89-F702E1A75192"><!-- --></a> envhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-B359B67C-36F8-43CD-BB34-A2B7BF31A754"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-B3110C6A-76A7-4D35-ACA0-34314298D2E7"><!-- --></a> locp（IN）</dt>
                        <dd>
                           <p>要获取字符集ID的LOB定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-006580A9-1FD1-440B-AAAA-DA00C73D9B05"><!-- --></a> csid（OUT）</dt>
                        <dd>
                           <p>输入LOB定位符的数据库字符集ID。如果输入定位符用于<code class="codeph">BLOB</code>或<code class="codeph">BFILE</code> ，则<code class="codeph">csid</code>设置为0，因为没有二进制LOB或二进制文件的字符集概念。调用者必须为<code class="codeph">csid</code> <code class="codeph">ub2</code>分配空间。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A243691D-8180-4AF6-AA6E-DF9333F8258B__GUID-C7094B5E-283D-4BAA-AE4D-46698C178DDB">评论</p>
                     <p>返回<code class="codeph">csid</code>输出参数中输入<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>定位符的字符集ID。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-9B25760D-649E-4B83-A0AA-8C4F3C479BC8" title="获取LOB定位器的字符集形式（如果有）。">OCILobCharSetForm（）</a></li>
                        <li><a href="lob-functions.html#GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" title="测试是否初始化给定的LOB或BFILE定位器。">OCILobLocatorIsInit（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17180"></a><div class="props_rev_3"><a id="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" name="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557"></a><h3 id="LNOCI-GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" class="sect3"><span class="enumeration_section">26.3.9</span> OCILobClose（）</h3>
               <div>
                  <p>关闭先前打开的LOB或<code class="codeph">BFILE</code> 。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557__GUID-B6A4983F-25E6-407A-ABBA-36885DE440E7">目的</p>
                     <p>关闭先前打开的LOB或<code class="codeph">BFILE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557__GUID-46217BCC-5CB8-4832-9885-709300145235">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobClose（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557__GUID-FD269ED4-D396-4975-B7C8-4C28E08EEA3C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557__GUID-D6002BAE-0E2D-4D10-AD56-709C25578A7B"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557__GUID-1CC6F9E4-5700-4569-99A6-351BE4AC9C2B"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557__GUID-4F57D737-F737-4F35-ACB5-038DF9ED6BCB"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>LOB关闭。定位器可以指内部或外部LOB。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557__GUID-0F5B9F3D-1291-445F-86F5-03F0C0C78400">评论</p>
                     <p>关闭先前打开的内部或外部LOB。如果<code class="codeph">BFILE</code>存在但未打开，则不会返回错误。如果内部LOB未打开，则会返回错误。
                     </p>
                     <p>关闭LOB需要为内部和外部LOB往返服务器。对于内部LOB，close触发依赖于close调用的其他代码和外部LOB（ <code class="codeph">BFILEs</code> ），close实际上会关闭服务器端操作系统文件。
                     </p>
                     <p>并非必须将所有LOB操作包装在打开或关闭调用中。但是，如果您打开LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。在关闭由事务打开的所有打开的LOB之前提交事务是错误的。</p>
                     <p>返回错误时，LOB不再标记为打开，但事务已成功提交。因此，提交对事务中的LOB和非LOB数据所做的所有更改，但不更新基于域和函数的索引。如果发生这种情况，请在LOB列上重建功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响，因此，如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" title="测试LOB或BFILE是否打开。">OCILobIsOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="lobs-and-bfile-operations.html#GUID-7BFEAAEE-0BF5-4104-844B-0AF8C4C6D6C9" title="OCI提供了显式打开LOB，OCILobOpen（），关闭LOB，OCILobClose（）以及测试LOB是否打开的函数，OCILobIsOpen（）。">打开和关闭LOB的功能</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17182"></a><div class="props_rev_3"><a id="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF"></a><h3 id="LNOCI-GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" class="sect3"><span class="enumeration_section">26.3.10</span> OCILobCopy2（）</h3>
               <div>
                  <p>将全部或部分LOB值复制到另一个LOB值。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-ADEE4DD9-18A7-4F08-8AB9-1108C6AC0EBB">目的</p>
                     <p>将全部或部分LOB值复制到另一个LOB值。此函数必须用于大小超过4 GB的LOB。您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-114BA345-EC4F-47FA-9A61-02DEA68FBFB2">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobCopy2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * dst_locp，OCILobLocator * src_locp，oraub8 amount，oraub8 dst_offset，oraub8 src_offset）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-BF0895F3-50D0-416F-9DCE-D37B0998FEC1">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-2457F05D-2168-4E56-9EA0-275A8B7C6AC8"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-F3F17FD6-9D89-4B0D-BEE6-79253551F4AD"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-6334EAFE-35D8-4873-A3DC-E58E11430FD3"><!-- --></a> <span class="bold">dst_locp</span> （IN / OUT）</dt>
                        <dd>
                           <p>唯一引用目标LOB的内部LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-7FB4136F-B32D-491B-A227-A42FC3D3172F"><!-- --></a> <span class="bold">src_locp</span> （IN）</dt>
                        <dd>
                           <p>内部LOB定位器，唯一引用源LOB。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-98B73F61-37E9-4793-A24E-6F4A64F1FB7F"><!-- --></a> <span class="bold">金额</span> （IN）</dt>
                        <dd>
                           <p><code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数或要从源LOB复制到目标LOB的<code class="codeph">BLOB</code>的字节数。此参数接受的最大值为<code class="codeph">UB8MAXVAL</code> （18446744073709551615）。指定<code class="codeph">UB8MAXVAL</code>还表示将使用指定的源和目标偏移将整个源LOB复制到目标LOB。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-0FA306BA-331C-4CE2-9509-867A6B1E7A01"><!-- --></a> <span class="bold">dst_offset</span> （IN）</dt>
                        <dd>
                           <p>这是目标LOB的绝对偏移量。对于字符LOB，它是从LOB开头开始写入的字符数。对于二进制LOB，它是从LOB开头开始写入的字节数。偏移量从1开始。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-394DD504-D33A-476D-9042-7E73D3BC6604"><!-- --></a> <span class="bold">src_offset</span> （IN）</dt>
                        <dd>
                           <p>这是源LOB的绝对偏移量。对于字符LOB，它是从LOB开头的字符数。对于二进制LOB，它是字节数。从1开始。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-5D51F5B5-525B-45E8-A03D-CF1888019EAE">评论</p>
                     <p>将所有或部分内部LOB值复制到指定的另一个内部LOB中。数据从源复制到目标。源（ <code class="codeph">src_locp</code> ）和目标（ <code class="codeph">dst_locp</code> ）LOB必须存在。
                     </p>
                     <p>将启用了重复数据删除的列或分区中的完整SecureFile复制到同一列或分区中的LOB，会导致对副本进行重复数据删除。</p>
                     <p>如果数据存在于目标的起始位置，则会被源数据覆盖。如果目标的起始位置超出当前数据的末尾，则从当前数据的末尾到新写入的数据的开头，将零字节填充符（对于<code class="codeph">BLOBs</code> ）或空格（对于<code class="codeph">CLOBs</code> ）写入目标LOB。来源。如果目标LOB超出目标LOB的当前长度，则扩展目标LOB以容纳新写入的数据。将目标LOB扩展到允许的最大长度（即4千兆字节）或尝试从<code class="codeph">NULL</code> LOB复制是错误的。对大小超过4 GB的LOB使用<a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a> 。</p>
                     <p>源LOB定位器和目标LOB定位器必须属于同一类型（即，它们必须都是<code class="codeph">BLOBs</code>或两者都是<code class="codeph">CLOBs</code> ）。不能为任何一个定位器启用LOB缓冲。
                     </p>
                     <p>此函数不接受<code class="codeph">BFILE</code>定位器作为源或目标。
                     </p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                     <div class="infoboxnote" id="GUID-404C8A50-516F-4DFD-939D-646A232AF7DF__GUID-AFB29F4C-D12B-4469-A6F5-DEFCCD60A3DA">
                        <p class="notep1">注意：</p>
                        <p>您可以调用<a href="lob-functions.html#GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" title="获取LOB的长度。此函数必须用于大小超过4 GB的LOB。">OCILobGetLength2（）</a>来确定源LOB的长度。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17183"></a><div class="props_rev_3"><a id="GUID-63F75EC5-EB14-4E25-B593-270FF814615A" name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A"></a><h3 id="LNOCI-GUID-63F75EC5-EB14-4E25-B593-270FF814615A" class="sect3"><span class="enumeration_section">26.3.11</span> OCILobCreateTemporary（）</h3>
               <div>
                  <p>创建一个临时LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-A41FE653-07C0-41F9-BD88-60A40164A299">目的</p>
                     <p>创建一个临时LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-8A9118B5-BB77-4BFA-99B1-FF4211A3E16C">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobCreateTemporary（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub2 csid，ub1 csfrm，ub1 lobtype，boolean cache，OCIDuration duration）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-75E965CD-C635-4F15-9BB8-06A34B0E7FC6">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-F175D538-8520-44BB-978A-24CC7C65B673"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-309C7C6B-C832-4F7C-8C5C-00C0034DA88E"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-4F0F16B0-6A14-4409-8392-56729B1387FC"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>一个指向临时LOB的定位器。在将定位器传递给此函数之前，必须使用<code class="codeph">OCIDescriptorAlloc()</code>分配定位器。这个定位器是否指向LOB并不重要;临时LOB会被覆盖。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-7C41E6E5-5153-4304-81B1-007A2EB5619E"><!-- --></a> csid（IN）</dt>
                        <dd>
                           <p>LOB字符集ID。对于Oracle8 <span class="italic">i</span>或更高版本，传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-1ED22381-BFCC-454C-9EC0-836AE31AA74E"><!-- --></a> csfrm（IN）</dt>
                        <dd>
                           <p>缓冲区数据的LOB字符集形式。<code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID，用于创建<code class="codeph">CLOB</code> 。 <code class="codeph">OCI_DEFAULT</code>也可用于隐式创建<code class="codeph">CLOB</code> 。</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLCS_NCHAR</code> - <code class="codeph">NCHAR</code>字符集ID，用于创建<code class="codeph">NCLOB</code> 。</p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-44ECED4C-E031-416A-BD25-C64C1906475F"><!-- --></a> lobtype（IN）</dt>
                        <dd>
                           <p>要创建的LOB的类型。有效值包括：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_TEMP_BLOB</code> - 用于临时<code class="codeph">BLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TEMP_CLOB</code> - 用于临时<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code></p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-C07E52AE-DE2D-4C1D-99D7-46D1D86AD193"><!-- --></a>缓存（IN）</dt>
                        <dd>
                           <p>如果应将临时LOB读入缓存，则传递<code class="codeph">TRUE</code> ;如果不应该传递<code class="codeph">FALSE</code> 。<code class="codeph">NOCACHE</code>功能的默认值为<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-107EF1B1-94EA-40A3-BFF3-1012B2C05894"><!-- --></a>持续时间（IN）</dt>
                        <dd>
                           <p>临时LOB的持续时间。以下是有效值：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DURATION_SESSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_CALL</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-2977BE9F-54B3-45D7-BCD0-56DA57DC108E">评论</p>
                     <p>此函数在用户的临时表空间中创建临时LOB及其相应的索引。</p>
                     <p>当此函数完成时， <code class="codeph">locp</code>参数指向长度为零的空临时LOB。
                     </p>
                     <p>临时LOB的生存期由<code class="codeph">duration</code>参数确定。在其持续时间结束时，临时LOB被释放。应用程序可以通过<code class="codeph">OCILobFreeTemporary()</code>调用更快地释放临时LOB。
                     </p>
                     <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-E0FBF017-1B08-410C-9E53-F6E14008813A" title="释放临时LOB。">OCILobFreeTemporary（）</a></li>
                        <li><a href="lob-functions.html#GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3" title="测试定位器是否指向临时LOB。">OCILobIsTemporary（）</a></li>
                        <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="分配存储以保存描述符或LOB定位符。">OCIDescriptorAlloc（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-63F75EC5-EB14-4E25-B593-270FF814615A__GUID-161E22DA-78AD-4F99-8F6C-C43903EB1C20">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="lobs-and-bfile-operations.html#GUID-B9A9B78B-570B-4B54-A4C4-A2F2D2808B06" title="OCI提供用于创建和释放临时LOB，OCILobCreateTemporary（）和OCILobFreeTemporary（）的函数，以及用于确定LOB是否是临时的函数OCILobIsTemporary（）。">临时LOB支持</a>有关临时LOB及其持续时间的更多信息</p>
                  </div>
               </div>
               
            </div><a id="LNOCI17187"></a><div class="props_rev_3"><a id="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" name="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA"></a><h3 id="LNOCI-GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" class="sect3"><span class="enumeration_section">26.3.12</span> OCILobErase2（）</h3>
               <div>
                  <p>从指定的偏移量开始擦除内部LOB数据的指定部分。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-869E63EB-F05C-4918-878F-F3BB18B71851">目的</p>
                     <p>从指定的偏移量开始擦除内部LOB数据的指定部分。此函数必须用于大小超过4 GB的LOB。您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-E46B41D1-6817-4EBB-93B6-B81F27100F97">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobErase2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，oraub8 * amount，oraub8 offset）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-0A971525-9681-4247-A358-07F0D610DD9E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-BC511059-D975-4488-87A8-F5F3A3DC6DD1"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-3A74B034-9D49-46BB-9944-70FA77A8564F"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-AA3B8C90-FE1A-4C49-AF2D-75A3A816932A"><!-- --></a> <span class="bold">locp</span> （IN / OUT）</dt>
                        <dd>
                           <p>唯一引用LOB的内部LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-CDDB2A8B-8B19-4011-8933-D57579BD93AB"><!-- --></a> <span class="bold">金额</span> （IN / OUT）</dt>
                        <dd>
                           <p>要擦除的<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数或<code class="codeph">BLOB</code>的字节数。在IN上，该值表示要擦除的字符数或字节数。在OUT上，该值标识擦除的实际字符数或字节数。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-BF6B04F3-6551-43DC-9118-D1EDEF1C5506"><!-- --></a> <span class="bold">偏移量</span> （IN）</dt>
                        <dd>
                           <p><code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符绝对偏移量，或<code class="codeph">BLOB</code>的字节，从LOB值的开头开始擦除数据。从1开始。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA__GUID-205882BE-120E-476F-9D17-9A82A52BCCEA">评论</p>
                     <p>返回实际删除的字符数或字节数。对于<code class="codeph">BLOB</code> ，擦除意味着零字节填充程序会覆盖现有的LOB值。对于<code class="codeph">CLOB</code> ，擦除意味着空格会覆盖现有的LOB值。
                     </p>
                     <p>该功能仅对内部LOB有效;不允许使用<code class="codeph">BFILE</code> 。
                     </p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17188"></a><div class="props_rev_3"><a id="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" name="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A"></a><h3 id="LNOCI-GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" class="sect3"><span class="enumeration_section">26.3.13</span> OCILobFileClose（）</h3>
               <div>
                  <p>关闭先前打开的<code class="codeph">BFILE</code> 。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-D06A0F1A-4A00-4DA9-B021-E419D615421D">目的</p>
                     <p>关闭先前打开的<code class="codeph">BFILE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-1D8AF945-29AE-4257-AB5D-D3AE8230841D">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFileClose（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * filep）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-A794FEA2-E17D-42A9-B57D-8443DD78404E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-E409BC00-8CA8-4916-A50A-211B41887397"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-90B2C670-C9AF-45B9-9D1A-F8B78EA59C01"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-A98ADB39-4143-42A5-BFC1-D12950AADD68"><!-- --></a> <span class="bold">filep</span> （IN / OUT）</dt>
                        <dd>
                           <p>指向<code class="codeph">BFILE</code>定位器的指针，该定位器引用要关闭的<code class="codeph">BFILE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-2C254A20-458C-4CD2-927E-8FF1D3DFD4DB">评论</p>
                     <p>关闭先前打开的<code class="codeph">BFILE</code> 。如果为内部LOB调用此函数，则会出错。如果<code class="codeph">BFILE</code>存在但未打开，则不会返回错误。
                     </p>
                     <p>此函数仅在第一次为特定<code class="codeph">BFILE</code>定位符调用时才有意义。使用相同的<code class="codeph">BFILE</code>定位器对此函数的后续调用无效。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" title="关闭先前打开的LOB或BFILE。">OCILobClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" title="关闭给定服务上下文中的所有打开的BFILE。">OCILobFileCloseAll（）</a></li>
                        <li><a href="lob-functions.html#GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" title="测试服务器操作系统上是否存在BFILE。">OCILobFileExists（）</a></li>
                        <li><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" title="测试LOB或BFILE是否打开。">OCILobIsOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A__GUID-0FBBAB16-C786-4517-871A-4E5DB597375E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17189"></a><div class="props_rev_3"><a id="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" name="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B"></a><h3 id="LNOCI-GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" class="sect3"><span class="enumeration_section">26.3.14</span> OCILobFileCloseAll（）</h3>
               <div>
                  <p>关闭给定服务上下文中的所有打开的<code class="codeph">BFILE</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B__GUID-0D747C65-CFC3-4BAD-9341-A793FFB1B417">目的</p>
                     <p>关闭给定服务上下文中的所有打开的<code class="codeph">BFILE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B__GUID-21589827-4307-4101-9A25-38A2D7BBC677">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFileCLoseAll（OCISvcCtx * svchp，OCIError * errhp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B__GUID-530258E7-19FF-49EC-8746-88A832FD2FFF">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B__GUID-C6C3D54A-A40D-4209-846A-8295AECC6126"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B__GUID-C2E94D29-4299-4B33-B86F-7604DCAA02D4"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B__GUID-EF7D2FDE-8461-4B7B-AC7B-07C39FFF4DA8">评论</p>
                     <p>关闭给定服务上下文中的所有打开的<code class="codeph">BFILE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" title="关闭先前打开的BFILE。">OCILobFileClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" title="测试服务器操作系统上是否存在BFILE。">OCILobFileExists（）</a></li>
                        <li><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B__GUID-CC0A4EF7-ED5D-47CD-9AEE-00AAEDB9F255">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17190"></a><div class="props_rev_3"><a id="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" name="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147"></a><h3 id="LNOCI-GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" class="sect3"><span class="enumeration_section">26.3.15</span> OCILobFileExists（）</h3>
               <div>
                  <p>测试服务器操作系统上是否存在<code class="codeph">BFILE</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-6076BC1C-A37D-42E8-B6C6-F925BCD2CB0D">目的</p>
                     <p>测试服务器操作系统上是否存在<code class="codeph">BFILE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-DED7251F-A158-4988-8331-F59071529CCC">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFileExists（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * filep，boolean * flag）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-40095DFE-641E-47F5-8B44-62A3030FC6E2">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-F5D8441D-9433-4A47-8E5E-D1DF19584DFC"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-05649A8A-4607-4DEA-BD82-52D8AB9169AD"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-3C612E4C-BED5-41BF-9CB6-F644D8A9D112"><!-- --></a> filep（IN）</dt>
                        <dd>
                           <p>指向引用文件的<code class="codeph">BFILE</code>定位符的指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-6F1A82F0-E529-4875-B576-4D441F056777"><!-- --></a>标志（OUT）</dt>
                        <dd>
                           <p>如果服务器上存在<code class="codeph">BFILE</code> ，则返回<code class="codeph">TRUE</code>否则返回<code class="codeph">TRUE</code> 。如果没有，则为<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-BFD1F396-14DD-4369-A751-67EDF43B2A09">评论</p>
                     <p>检查服务器文件系统上是否存在<code class="codeph">BFILE</code> 。为内部LOB调用此函数是错误的。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" title="关闭先前打开的BFILE。">OCILobFileClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" title="关闭给定服务上下文中的所有打开的BFILE。">OCILobFileCloseAll（）</a></li>
                        <li><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" title="测试LOB或BFILE是否打开。">OCILobIsOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-977F905D-DAFB-4D88-8FE0-7A345837B147__GUID-FF93487E-7871-48BD-AF90-F195EC031558">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17191"></a><div class="props_rev_3"><a id="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813" name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813"></a><h3 id="LNOCI-GUID-BF637A34-B18A-47EE-A060-93C4E79D1813" class="sect3"><span class="enumeration_section">26.3.16</span> OCILobFileGetName（）</h3>
               <div>
                  <p>获取<code class="codeph">BFILE</code>定位符的目录对象和文件名。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-A7B9E3F9-F26A-42D5-87DD-D43A950FAFF2">目的</p>
                     <p>获取<code class="codeph">BFILE</code>定位符的目录对象和文件名。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-D74CA19C-04FD-49D1-9CFD-17B3B5F44487">句法</p><pre class="oac_no_warn" dir="ltr">sword OCILobFileGetName（OCIEnv * envhp，OCIError * errhp，const OCILobLocator * filep，OraText * dir_alias，ub2 * d_length，OraText * filename，ub2 * f_length）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-82F69F29-EBFF-40B0-A6C4-63FAB386DC19">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-0BA08DF7-DDEE-4BB1-A23B-CBBB7C3CCC7E"><!-- --></a> envhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-12CD80EA-8604-4AD2-BA8C-FE86DCC5AF93"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-F2BCA184-8054-456E-8D26-BE14F48C508B"><!-- --></a> filep（IN）</dt>
                        <dd>
                           <p>要获取目录对象和文件名的<code class="codeph">BFILE</code>定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-5CA72723-DB45-45A8-BB87-ED6CB24C7115"><!-- --></a> dir_alias（OUT）</dt>
                        <dd>
                           <p>放置目录对象名称的缓冲区。这可以是UTF-16。您必须为目录对象名称分配足够的空间。目录对象的最大长度为30个字节。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-71B87B77-019B-4B70-8F09-B93C1488FD56"><!-- --></a> d_length（IN / OUT）</dt>
                        <dd>
                           <p>具有以下用途（可以在Unicode或字节的代码点）：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>IN：输入<code class="codeph">dir_alias</code>字符串的长度</p>
                        </li>
                        <li>
                           <p>OUT：返回的<code class="codeph">dir_alias</code>字符串的长度</p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-3018FA92-765A-4AFC-8171-8CB1B2F85F0C"><!-- --></a>文件名（OUT）</dt>
                        <dd>
                           <p>放置文件名的缓冲区。您必须为文件名分配足够的空间。文件名的最大长度为255个字节。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-68CAC74B-0A29-407E-96A1-4A4AB1BB1DB1"><!-- --></a> f_length（IN / OUT）</dt>
                        <dd>
                           <p>用于以下目的（以字节数表示）：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>IN：输入<code class="codeph">filename</code>缓冲区的长度</p>
                        </li>
                        <li>
                           <p>OUT：返回的<code class="codeph">filename</code>字符串的长度</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-04BC05FE-15C1-4619-8B4E-DD663D88B334">评论</p>
                     <p>返回与此<code class="codeph">BFILE</code>定位符关联的目录对象和文件名。环境句柄确定它是否是Unicode。为内部LOB调用此函数是错误的。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" title="在BFILE定位器中设置目录对象和文件名。">OCILobFileSetName（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-BF637A34-B18A-47EE-A060-93C4E79D1813__GUID-C68E5CD6-F7CA-4A82-8A21-6421E8B1F455">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17192"></a><div class="props_rev_3"><a id="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" name="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7"></a><h3 id="LNOCI-GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" class="sect3"><span class="enumeration_section">26.3.17</span> OCILobFileIsOpen（）</h3>
               <div>
                  <p>测试<code class="codeph">BFILE</code>是否打开。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-FBB54204-010A-429F-B7E5-39FAFE715FDE">目的</p>
                     <p>测试<code class="codeph">BFILE</code>是否打开。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-AB0B21F4-687D-4EE7-BB6F-600E8082910B">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFileIsOpen（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * filep，boolean * flag）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-EA08FD9B-AFAA-48B7-A9CE-93F1E6BBD149">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-9C8FFA8E-8729-498E-8426-E2B6E45EDD87"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-6A0BADEC-44D9-4168-A4C3-5F07FB3F345F"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-2C446D2F-334F-4195-A479-59FA64683E4A"><!-- --></a> filep（IN）</dt>
                        <dd>
                           <p>指向要检查的<code class="codeph">BFILE</code>定位器的指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-C41337C5-BD49-49E5-AF24-176F03B3605E"><!-- --></a>标志（OUT）</dt>
                        <dd>
                           <p>如果使用此特定定位器打开<code class="codeph">BFILE</code>则返回<code class="codeph">TRUE</code>否则返回<code class="codeph">TRUE</code> 。如果不是，则返回<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-49487D7D-4A50-446E-86F1-C06CC3E33ED2">评论</p>
                     <p>检查服务器上的文件是否使用<code class="codeph">filep</code> <code class="codeph">BFILE</code>定位器打开。为内部LOB调用此函数是错误的。</p>
                     <p>如果输入的<code class="codeph">BFILE</code>定位符从未传递给<code class="codeph">OCILobFileOpen()</code>或<code class="codeph">OCILobOpen()</code>命令，则该定位器认为该文件不被打开。但是，不同的定位器可能会打开文件。开放性与特定定位器相关联。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" title="关闭先前打开的LOB或BFILE。">OCILobClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" title="关闭给定服务上下文中的所有打开的BFILE。">OCILobFileCloseAll（）</a></li>
                        <li><a href="lob-functions.html#GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" title="测试服务器操作系统上是否存在BFILE。">OCILobFileExists（）</a></li>
                        <li><a href="lob-functions.html#GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" title="关闭先前打开的BFILE。">OCILobFileClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" title="测试LOB或BFILE是否打开。">OCILobIsOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7__GUID-AAC82DA7-5C76-4F7E-8817-4E871B1BC41D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17193"></a><div class="props_rev_3"><a id="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" name="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0"></a><h3 id="LNOCI-GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" class="sect3"><span class="enumeration_section">26.3.18</span> OCILobFileOpen（）</h3>
               <div>
                  <p>在服务器的文件系统上打开<code class="codeph">BFILE</code>以进行只读访问。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-C8C0960E-BAB4-40EA-9C3E-85D1CED91F4D">目的</p>
                     <p>在服务器的文件系统上打开<code class="codeph">BFILE</code>以进行只读访问。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-7E56B7D2-DB8F-43F0-894F-943DCC5C9B80">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFileOpen（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * filep，ub1模式）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-C371FFB7-5B07-4F5A-A4C8-5DFA64B63A6D">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-39454DE2-48DA-436B-8D96-FD873E534EDE"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-D4768B9A-0EDE-4F57-B1FD-0B1620B15207"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-F070185A-7E5F-4A11-A0B2-D68A82A9333B"><!-- --></a> <span class="bold">filep</span> （IN / OUT）</dt>
                        <dd>
                           <p><code class="codeph">BFILE</code>打开。如果定位器未引用<code class="codeph">BFILE</code> ，则会出错。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-A8632C04-9604-4EC2-AB7F-D11AACB4C001"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                        <dd>
                           <p>打开文件的模式。唯一有效的模式是<code class="codeph">OCI_FILE_READONLY</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-A6D479D3-CB80-42EE-9B4A-0B9F65865C0D">评论</p>
                     <p>在服务器的文件系统上打开<code class="codeph">BFILE</code> 。可以打开<code class="codeph">BFILE</code>以进行只读访问。无法通过Oracle数据库写入<code class="codeph">BFILE</code> 。为内部LOB调用此函数是错误的。</p>
                     <p>此函数仅在第一次为特定<code class="codeph">BFILE</code>定位符调用时才有意义。使用相同的<code class="codeph">BFILE</code>定位器对此函数的后续调用无效。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" title="关闭先前打开的LOB或BFILE。">OCILobClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" title="关闭给定服务上下文中的所有打开的BFILE。">OCILobFileCloseAll（）</a></li>
                        <li><a href="lob-functions.html#GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" title="测试服务器操作系统上是否存在BFILE。">OCILobFileExists（）</a></li>
                        <li><a href="lob-functions.html#GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" title="关闭先前打开的BFILE。">OCILobFileClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" title="测试LOB或BFILE是否打开。">OCILobIsOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0__GUID-91AE7373-2E76-494C-B9B9-442DBC4F6D71">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17194"></a><div class="props_rev_3"><a id="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C"></a><h3 id="LNOCI-GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" class="sect3"><span class="enumeration_section">26.3.19</span> OCILobFileSetName（）</h3>
               <div>
                  <p>在<code class="codeph">BFILE</code>定位器中设置目录对象和文件名。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-ABB07ADB-77C0-4CDC-B320-535AF7B5CC89">目的</p>
                     <p>在<code class="codeph">BFILE</code>定位器中设置目录对象和文件名。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-CDC410CC-C98D-49CC-80C6-C299011913F9">句法</p><pre class="oac_no_warn" dir="ltr">sword OCILobFileSetName（OCIEnv * envhp，OCIError * errhp，OCILobLocator ** filepp，const OraText * dir_alias，ub2 d_length，const OraText * filename，ub2 f_length）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-D2318808-D25B-4068-B6CE-50D106438F1B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-5D87BE81-DC84-4DC7-85F1-5963AD55B72C"><!-- --></a> envhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境处理。包含UTF-16设置。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-8586740F-CDB5-4E77-AC44-C475D5AE79E0"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-AA35FE83-E1C2-42D1-B843-A65211FD5C0B"><!-- --></a> filepp（IN / OUT）</dt>
                        <dd>
                           <p>指向要为其设置目录对象和文件名的<code class="codeph">BFILE</code>定位符的指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-C2C6F8F4-EF98-4945-8456-4AF738C75373"><!-- --></a> dir_alias（IN）</dt>
                        <dd>
                           <p>包含目录对象名称的缓冲区（必须是在先前调用<a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a>的<code class="codeph">charset</code>参数指定的编码中，以在<code class="codeph">BFILE</code>定位符中设置。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-D222F83A-375E-4CFC-8E9A-973D23951F43"><!-- --></a> d_length（IN）</dt>
                        <dd>
                           <p>输入<code class="codeph">dir_alias</code>参数的长度（以字节为单位）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-EA7CF9AC-663E-4860-9538-58EAD9003BFC"><!-- --></a>文件名（IN）</dt>
                        <dd>
                           <p>包含文件名的缓冲区（必须采用先前调用<code class="codeph">OCIEnvNlsCreate()</code>的<code class="codeph">charset</code>参数指定的编码，以在<code class="codeph">BFILE</code>定位器中设置。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-59B5BD42-5C4E-4E5C-AB82-09161E57D023"><!-- --></a> f_length（IN）</dt>
                        <dd>
                           <p>输入<code class="codeph">filename</code>参数的长度（以字节为单位）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-466E5991-CDE7-4621-AB53-97C7FABB8871">评论</p>
                     <p>为内部LOB调用此函数是错误的。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-BF637A34-B18A-47EE-A060-93C4E79D1813" title="获取BFILE定位符的目录对象和文件名。">OCILobFileGetName（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C__GUID-9C0F74A0-53D8-4055-B741-34A292B9CC2E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17196"></a><div class="props_rev_3"><a id="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A" name="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A"></a><h3 id="LNOCI-GUID-E0FBF017-1B08-410C-9E53-F6E14008813A" class="sect3"><span class="enumeration_section">26.3.20</span> OCILobFreeTemporary（）</h3>
               <div>
                  <p>释放临时LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A__GUID-1975AB33-513A-4018-AC5E-24F892256869">目的</p>
                     <p>释放临时LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A__GUID-A01E3EF8-88F5-4FA8-8AF3-572391BBC8F7">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFreeTemporary（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A__GUID-8D3A14E7-DCE3-41B2-A0C4-9CD138CF6E8E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A__GUID-A3C7852F-AEEB-4FC5-A34F-CCAF2F6BE4FF"><!-- --></a> svchp（IN / OUT）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A__GUID-11BBE01A-A739-4077-8134-4E50F36BD330"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A__GUID-B61CC364-0CDD-4756-BAE0-72AE1467871E"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>唯一引用要释放的LOB的定位器。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E0FBF017-1B08-410C-9E53-F6E14008813A__GUID-43838383-4045-4191-8938-09FA373834F8">评论</p>
                     <p>此函数释放此定位器指向的临时LOB的内容。请注意，在调用<code class="codeph">OCIDescriptorFree()</code>之前，不会释放定位器本身。你必须始终调用<code class="codeph">OCILobFreeTemporary()</code>调用之前<code class="codeph">OCIDescriptorFree()</code>或<code class="codeph">OCIArrayDescriptorFree()</code>来释放临时LOB的内容。有关更多信息，请参阅<a href="lobs-and-bfile-operations.html#GUID-19F5922C-3560-476B-B414-27F13B5C2BAC" title="每当您的OCI程序从SQL或PL / SQL获取LOB定位器时，请使用OCILobIsTemporary（）函数检查定位器是否是临时的。">关于释放临时LOB</a> 。
                     </p>
                     <p>如果在<code class="codeph">locp</code>参数中传递的LOB定位符未指向临时LOB，则此函数返回错误，可能是因为LOB定位符：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指向永久LOB</p>
                        </li>
                        <li>
                           <p>指向已释放的临时LOB</p>
                        </li>
                        <li>
                           <p>从未指出任何事情</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-63F75EC5-EB14-4E25-B593-270FF814615A" title="创建一个临时LOB。">OCILobCreateTemporary（）</a></li>
                        <li><a href="lob-functions.html#GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3" title="测试定位器是否指向临时LOB。">OCILobIsTemporary（）</a></li>
                        <li><a href="handle-and-descriptor-functions.html#GUID-A32BF051-3DC1-491C-AAFD-A46034DD1629" title="释放先前分配的描述符。">OCIDescriptorFree（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17197"></a><div class="props_rev_3"><a id="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072" name="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072"></a><h3 id="LNOCI-GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072" class="sect3"><span class="enumeration_section">26.3.21</span> OCILobGetChunkSize（）</h3>
               <div>
                  <p>获取LOB的块大小。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-5A4961F3-1FC1-400B-849E-74908804579E">目的</p>
                     <p>获取LOB的块大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-F2F4B55B-8839-4791-BA05-1A03A49D607F">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobGetChunkSize（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * chunk_size）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-83972D33-D750-47D2-B561-26CFA310214E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-C308B4F2-ABA7-43C4-9842-71B4E8CCA917"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-C5365B1B-C693-4104-8EC4-48A69B315E57"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-347D46B2-FC7C-47C9-9E69-744708C1931C"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>获取可用块大小的内部LOB。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-8D68539F-4004-45BB-BE13-B95379A3A971"><!-- --></a> chunk_size（OUT）</dt>
                        <dd>
                           <p>对于具有存储参数<code class="codeph">BASICFILE</code> LOB，用于存储内部LOB值的块空间量。这是用户在读取或写入LOB值时应使用的金额。如果可能，用户应该在块边界开始写入，例如块的开头，并一次写入一个块。
                           </p>
                           <p><code class="codeph">chunk_size</code>参数以<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的字节为单位返回。
                           </p>
                           <p>对于具有存储参数<code class="codeph">SECUREFILE</code> LOB， <code class="codeph">chunk_size</code>是一个建议大小，用于向后兼容。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-791504A0-2A54-4726-A7FB-D58DE110948D">评论</p>
                     <p>在创建包含内部LOB的表时，用户可以指定分块因子，该分块因子可以是Oracle数据库块的倍数。这对应于LOB数据层在访问和修改LOB值时使用的块大小。块的一部分用于存储与系统相关的信息，其余部分存储LOB值。此函数返回LOB块中用于存储LOB值的空间量。如果应用程序使用此块大小的倍数发出读取或写入请求，则性能会得到改善。对于写入，还有一个额外的好处，因为LOB块是版本化的，如果所有写入都是以块为基础完成的，则不会进行额外的版本控制或重复。用户可以批量写入，直到他们有足够的块，而不是为同一块发出几个写调用。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27" title="获取内部LOB（BLOB，CLOB或NCLOB）的最大长度（以字节为单位）。">OCILobGetStorageLimit（）</a></li>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072__GUID-C88D1308-4E54-4816-82E4-A73501E10E33">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="lobs-and-bfile-operations.html#GUID-8C5ABC9E-3048-49AE-BFE3-DB4CB1A63AB3" title="如何提高LOB读/写性能。">关于提高LOB读/写性能</a></p>
                  </div>
               </div>
               
            </div><a id="LNOCI17198"></a><div class="props_rev_3"><a id="GUID-D62200EF-FA60-4788-950F-0C0686D807FD" name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD"></a><h3 id="LNOCI-GUID-D62200EF-FA60-4788-950F-0C0686D807FD" class="sect3"><span class="enumeration_section">26.3.22</span> OCILobGetContentType（）</h3>
               <div>
                  <p>获取SecureFile中数据的用户指定的内容类型字符串（如果已设置）。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-5731DAFA-E452-4002-8B0C-D756CFEBE8AD">目的</p>
                     <p>获取SecureFile中数据的用户指定的内容类型字符串（如果已设置）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-5FB0351B-C011-41B6-B838-63ED43C70BDA">句法</p><pre class="oac_no_warn" dir="ltr">sword OCILobGetContentType（OCIEnv * envhp，OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * lobp，oratext * contenttypep，ub4 * contenttypelenp，ub4 mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-904A77C8-2D6D-4A0E-8F6C-39B13704F058">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-E726CFE5-A9F0-4EF9-867D-CCF82322CE9E"><!-- --></a> envhp（IN）</dt>
                        <dd>
                           <p>环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-C99E57FD-E282-4BA9-8561-8037790A2816"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-AA794D69-B82A-42B3-BE15-805F80F57350"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>出现错误时可以传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息的错误句柄。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-D3D967CF-D721-43EA-93C6-1D72F3A060AF"><!-- --></a> lobp（IN）</dt>
                        <dd>
                           <p>唯一引用LOB的LOB定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-356262E1-E781-4A2D-A16A-D8D71C9A5914"><!-- --></a> contenttypep（IN / OUT）</dt>
                        <dd>
                           <p>指向成功执行后存储内容类型的缓冲区的指针。您必须在调用此函数之前分配缓冲区。分配的缓冲区的大小必须<code class="codeph">&gt;= OCI_LOB_CONTENTTYPE_MAXSIZE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-B49A7353-D171-40D2-AF5C-664B99336B27"><!-- --></a> contenttypelenp（IN / OUT）</dt>
                        <dd>
                           <p>将此字段设置为<code class="codeph">contenttypep</code> buffer的大小。调用成功执行后，此字段保存返回的<code class="codeph">contenttypep</code>的大小。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-76C6E6D5-0713-43A5-9940-45CB69EA34D5"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>供将来使用。现在通过零。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D62200EF-FA60-4788-950F-0C0686D807FD__GUID-58DD53C5-ADFD-4AEA-90DE-AACA1B9E4DB3">评论</p>
                     <p>此功能仅适用于SecureFiles。如果<code class="codeph">lobp</code>不是SecureFile，则返回错误<code class="codeph">SECUREFILE_WRONGTYPE</code> 。如果缓冲<code class="codeph">lobp</code> ，临时LOB或抽象LOB，则返回错误<code class="codeph">SECUREFILE_BADLOB</code> 。
                     </p>
                     <p>如果SecureFile没有<code class="codeph">contenttype</code>关联的<code class="codeph">contenttype</code> ，则<code class="codeph">contenttype</code> length（ <code class="codeph">contenttypelenp</code> ）将返回为0，而不会修改缓冲区<code class="codeph">contenttypep</code> 。
                     </p>
                     <p><code class="codeph">ContentType</code>字符串的最大可能大小定义为：</p><pre class="oac_no_warn" dir="ltr">#define OCI_LOB_CONTENTTYPE_MAXSIZE 128</pre><p><code class="codeph">ContentType</code>是ASCII（即1字节/ 7位UTF8）。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-789C0971-76D5-4439-9379-E3DCE7885528" title="将SecureFile中的数据的内容类型字符串设置为可由应用程序使用的内容。">OCILobSetContentType（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17200"></a><div class="props_rev_3"><a id="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" name="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C"></a><h3 id="LNOCI-GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" class="sect3"><span class="enumeration_section">26.3.23</span> OCILobGetLength2（）</h3>
               <div>
                  <p>获取LOB的长度。此函数必须用于大小超过4 GB的LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-E65EFF3B-26C6-430B-BA57-B21B3328951E">目的</p>
                     <p>您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-807689C9-718B-4973-9282-4A76C25E1B32">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobGetLength2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，oraub8 * lenp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-139823F4-5080-4AE9-A2DD-439E9E4BBB07">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-0D737A6A-8823-492D-933A-5921729B433F"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-F064C54C-B54F-49BD-BAAA-4482721AD9FD"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-12880DDB-B901-4687-B110-4B5E0895400B"><!-- --></a> <span class="bold">locp</span> （IN）</dt>
                        <dd>
                           <p>唯一引用LOB的LOB定位器。对于内部LOB，此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。对于<code class="codeph">BFILE</code> ，可以通过<code class="codeph">OCILobFileSetName()</code> ， <code class="codeph">SELECT</code>语句或<code class="codeph">OCIObjectPin()</code>设置定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-A71E9B5D-803A-4497-B704-DEF586DE8F7C"><!-- --></a> <span class="bold">lenp</span> （OUT）</dt>
                        <dd>
                           <p>在输出时，如果LOB不为<code class="codeph">NULL</code>则为LOB的长度。对于字符LOB，它是字符数;对于二进制LOB和<code class="codeph">BFILE</code> ，它是LOB中的字节数。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-668AF44F-88CE-4CE3-83BF-FC4D15B456CB">评论</p>
                     <p>获取LOB的长度。如果LOB为<code class="codeph">NULL</code> ，则长度未定义。<code class="codeph">BFILE</code>的长度包括EOF（如果存在）。空内部LOB的长度为零。
                     </p>
                     <p>无论客户端字符集是否为宽度变化，输出长度都是<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的字符， <code class="codeph">BLOB</code>和<code class="codeph">BFILE</code>的字节数。
                     </p>
                     <div class="infoboxnote" id="GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C__GUID-74E32597-64F1-4DCF-A75E-122B86B38D3E">
                        <p class="notep1">注意：</p>
                        <p>由先前调用<code class="codeph">OCILobErase2()</code>或<code class="codeph">OCILobWrite2()</code>写入的LOB中的任何零字节或空格填充程序也包含在长度计数中。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="lob-functions.html#GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" title="在BFILE定位器中设置目录对象和文件名。">OCILobFileSetName（）</a></li>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" title="将全部或部分文件加载并复制到内部LOB中。此函数必须用于大小超过4 GB的LOB。">OCILobLoadFromFile2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17201"></a><div class="props_rev_3"><a id="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5" name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5"></a><h3 id="LNOCI-GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5" class="sect3"><span class="enumeration_section">26.3.24</span> OCILobGetOptions（）</h3>
               <div>
                  <p>获取与给定<span>SecureFile</span> LOB的给定输入选项类型相对应的已启用设置。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-74A589F5-DC17-4805-869C-02DE1F64C2E4">目的</p>
                     <p>获取与给定<span>SecureFile</span> LOB的给定输入选项类型相对应的已启用设置。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-B9A03131-AEBF-4C43-B4E2-A195C1F957A0">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobGetOptions（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 option_types，void * optionsp，ub4 optionslenp，ub4 mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-DA38F7D8-9129-4B7A-903E-F97C9AE0E05B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-DA0C11EB-3020-4CA1-B3B8-4FB532806AC9"><!-- --></a> svchp（IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-02586A22-B2D6-430C-836C-A250CCB5F097"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-283EF787-0D98-4CA1-AA43-AA1F4FC787DD"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>唯一引用LOB或<code class="codeph">BFILE</code>的LOB定位符或<code class="codeph">BFILE</code>定位符。必须从<code class="codeph">svchp</code>指定的服务器获取此定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-A351958E-DBBF-4097-A870-BC95DCD3D2BD"><!-- --></a> option_types（IN）</dt>
                        <dd>
                           <p>给定的选项类型可以通过逐位包含<code class="codeph">OR</code> （符号“|”）组合：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>压缩 - <code class="codeph">OCI_LOB_OPT_COMPRESS</code></p>
                              </li>
                              <li>
                                 <p>加密 - <code class="codeph">OCI_LOB_OPT_ENCRYPT</code></p>
                              </li>
                              <li>
                                 <p>重复数据删除 - <code class="codeph">OCI_LOB_OPT_DEDUPLICATE</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-C5C8A7F7-D46B-46D3-AD6D-8B33179FCD50"><!-- --></a> optionsp（OUT）</dt>
                        <dd>
                           <p>给出的每种选项类型的当前设置。可能的值是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_LOB_OPT_COMPRESS_ON</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_LOB_OPT_ENCRYPT_ON</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_LOB_OPT_DEDUPLICATE_ON</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-B349351D-CD52-4D2F-8304-78B83014858B"><!-- --></a> optionslenp（OUT）</dt>
                        <dd>
                           <p><code class="codeph">optionsp</code>值的长度。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-AEB4EF31-AC27-409C-BEEF-54A32F5718C7"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>保留供将来使用。传递0。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5__GUID-64018664-A558-46CB-838C-4997341250BE">评论</p>
                     <p>您只能指定已在列上启用的选项类型。尝试获取列上未启用的选项类型的值时，将返回错误。举例来说，如果你有一个LOB列启用压缩，并调用<code class="codeph">OCILobGetOptions()</code>与<code class="codeph">OCI_LOB_OPT_ENCRYPT</code>在设置<code class="codeph">option_types</code>参数，则会出现错误。
                     </p>
                     <p>请注意，返回的值是一个<code class="codeph">ub4</code>指针，它被转换为<code class="codeph">void</code>指针，以便将来扩展选项类型和值。返回的<code class="codeph">optionslenp</code>应该等于<code class="codeph">sizeof(ub4)</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26" title="启用SecureFile LOB的选项设置。">OCILobSetOptions（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17203"></a><div class="props_rev_3"><a id="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27" name="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27"></a><h3 id="LNOCI-GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27" class="sect3"><span class="enumeration_section">26.3.25</span> OCILobGetStorageLimit（）</h3>
               <div>
                  <p>获取内部LOB（ <code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> ）的最大长度（以字节为单位）。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-5CDD4EFF-8B4D-4ECD-9B19-BC148079B95C">目的</p>
                     <p>获取内部LOB（ <code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> ）的最大长度（以字节为单位）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-09677DBB-1A14-4068-9093-677DC8125555">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobGetStorageLimit（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，oraub8 * limitp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-3B9B00EE-8C15-47E7-9FFC-A54E5DAD119B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-EFBD3A63-B00E-44EB-A6C0-D1077FDD4B45"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-B25462BF-7CC0-44BE-9EFF-92CF076904B4"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-C57A1467-9572-42A3-8A5C-95C1CF34E534"><!-- --></a> locp（IN）</dt>
                        <dd>
                           <p>唯一引用LOB的LOB定位器。定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-AC8AA520-010C-4089-B0A1-BFDA27D62A31"><!-- --></a> limitp（OUT）</dt>
                        <dd>
                           <p>可以存储在数据库中的LOB的最大长度（以字节为单位）。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CBDB3C7-8A27-4A82-8C46-698B83C45A27__GUID-254DA44E-BD17-4D1B-925F-AEEC2DD02A3A">评论</p>
                     <p>由于块大小范围为2 KB到32 KB，因此LOB的最大LOB大小范围为8 TB到128 TB（TB）。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-ABB71585-172E-4F3E-A0CF-F70D709F2072" title="获取LOB的块大小。">OCILobGetChunkSize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="lobs-and-bfile-operations.html#GUID-EC49588A-0534-4E43-8CB1-3D0FAE205BAB" title="从OCI的Oracle数据库10g第1版开始，引入了一些函数来支持大小超过4 GB的LOB。这些新功能也可用于少于4 GB的LOB的新应用程序。">关于使用大小超过4 GB的LOB</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17204"></a><div class="props_rev_3"><a id="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E" name="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E"></a><h3 id="LNOCI-GUID-5142710F-03AD-43D5-BBAB-6732B874E52E" class="sect3"><span class="enumeration_section">26.3.26</span> OCILobIsEqual（）</h3>
               <div>
                  <p>比较两个LOB或<code class="codeph">BFILE</code>定位器是否相等。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-18ACA791-44D2-4D7C-AB0B-9ECA5E8E39FF">目的</p>
                     <p>比较两个LOB或<code class="codeph">BFILE</code>定位器是否相等。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-910ECC1A-A4D1-4F17-B65B-3C07014D497A">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobIsEqual（OCIEnv * envhp，const OCILobLocator * x，const OCILobLocator * y，boolean * is_equal）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-BF75E70C-568D-4CA1-81AE-748912EF24D2">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-F71C54E8-61EF-4462-8D71-37C6DEFD9069"><!-- --></a> envhp（IN）</dt>
                        <dd>
                           <p>OCI环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-54760A7B-A898-48FE-AE45-B4329621A695"><!-- --></a> x（IN）</dt>
                        <dd>
                           <p>LOB定位器来比较。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-FE05BB1B-12D0-4031-ABFD-3DF5D39C3E92"><!-- --></a> y（IN）</dt>
                        <dd>
                           <p>LOB定位器来比较。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-A4DACC53-E5A8-4FC8-AB64-56B0F313B391"><!-- --></a> is_equal（OUT）</dt>
                        <dd>
                           <p>如果LOB定位器相等，则为<code class="codeph">TRUE</code> ;如果不是，则为<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5142710F-03AD-43D5-BBAB-6732B874E52E__GUID-A07B2D5F-E77C-418B-ABA8-457C1E660C9B">评论</p>
                     <p>比较给定的LOB或<code class="codeph">BFILE</code>定位器是否相等。当且仅当它们都引用相同的LOB或<code class="codeph">BFILE</code>值时，两个LOB或<code class="codeph">BFILE</code>定位器是相等的。
                     </p>
                     <p>此函数认为两个<code class="codeph">NULL</code>定位符<span class="italic">不</span>相等。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" title="将一个LOB或BFILE定位器分配给另一个">OCILobAssign（）</a></li>
                        <li><a href="lob-functions.html#GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" title="测试是否初始化给定的LOB或BFILE定位器。">OCILobLocatorIsInit（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17205"></a><div class="props_rev_3"><a id="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" name="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E"></a><h3 id="LNOCI-GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" class="sect3"><span class="enumeration_section">26.3.27</span> OCILobIsOpen（）</h3>
               <div>
                  <p>测试LOB或<code class="codeph">BFILE</code>是否打开。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-D8DB6D88-4B12-4F03-ADB2-4078DE12CEED">目的</p>
                     <p>测试LOB或<code class="codeph">BFILE</code>是否打开。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-D06758E6-03DA-4EC8-8C49-A0F2524B60C9">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobIsOpen（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，boolean * flag）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-72DA4A3D-39D8-4560-B778-D7239323D04D">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-79F4AD34-E05A-43C8-BEAC-DDCC9E31CDA3"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-F4CBD8C9-06BA-4D30-97B0-2D2B14A897B6"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>出现错误时可以传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息的错误句柄。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-707D584B-1513-43D9-A94D-A01DE0D6D495"><!-- --></a> locp（IN）</dt>
                        <dd>
                           <p>指向正在检查的LOB定位器的指针。定位器可以指内部或外部LOB。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-01F6672D-1FC8-436D-956A-3512DED10E99"><!-- --></a>标志（OUT）</dt>
                        <dd>
                           <p>如果内部LOB打开或者使用输入定位器打开<code class="codeph">BFILE</code>则返回<code class="codeph">TRUE</code> 。如果不是，则返回<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-4B5FDEB4-36DE-4E3F-AA1A-DFE0DD68C544">评论</p>
                     <p>检查内部LOB是否打开或者是否使用输入定位器打开了<code class="codeph">BFILE</code> 。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-59D32D60-2771-44FD-840D-169E416F4F68"><!-- --></a>对于BFILE</dt>
                        <dd>
                           <p>如果输入的<code class="codeph">BFILE</code>定位器从未传递给<code class="codeph">OCILobOpen()</code>或<code class="codeph">OCILobFileOpen()</code> ，则认为<code class="codeph">BFILE</code>不会被此<code class="codeph">BFILE</code>定位器打开。但是，不同的<code class="codeph">BFILE</code>定位器可能已打开<code class="codeph">BFILE</code> 。可以使用不同的定位器在同一<code class="codeph">BFILE</code>上执行多次打开。换句话说，开放性与<code class="codeph">BFILEs</code>的特定定位器相关联。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FFF883CE-3B99-4319-A81C-A11F8740209E__GUID-993AF0BD-0B34-46B7-BD55-C4C4F8C63604"><!-- --></a>对于内部LOB</dt>
                        <dd>
                           <p>开放性与LOB相关联，而不是与定位器相关联。如果<code class="codeph">locator1</code>打开LOB，则<code class="codeph">locator2</code>也将LOB视为打开。
                           </p>
                           <p>对于内部LOB，此调用需要服务器往返，因为它会检查服务器上的状态以查看LOB是否已打开。对于外部LOB（ <code class="codeph">BFILEs</code> ），此调用还需要往返，因为必须检查服务器端的操作系统文件以查看它是否已打开。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" title="关闭先前打开的LOB或BFILE。">OCILobClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" title="关闭给定服务上下文中的所有打开的BFILE。">OCILobFileCloseAll（）</a></li>
                        <li><a href="lob-functions.html#GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" title="测试服务器操作系统上是否存在BFILE。">OCILobFileExists（）</a></li>
                        <li><a href="lob-functions.html#GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" title="关闭先前打开的BFILE。">OCILobFileClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="lobs-and-bfile-operations.html#GUID-7BFEAAEE-0BF5-4104-844B-0AF8C4C6D6C9" title="OCI提供了显式打开LOB，OCILobOpen（），关闭LOB，OCILobClose（）以及测试LOB是否打开的函数，OCILobIsOpen（）。">打开和关闭LOB的功能</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17206"></a><div class="props_rev_3"><a id="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3" name="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3"></a><h3 id="LNOCI-GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3" class="sect3"><span class="enumeration_section">26.3.28</span> OCILobIsTemporary（）</h3>
               <div>
                  <p>测试定位器是否指向临时LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-66D7BB4C-F7D5-4A5C-B657-DC84D83789BB">目的</p>
                     <p>测试定位器是否指向临时LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-A87489E4-BB9E-4EAF-B5D6-90DED9C8A89C">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobIsTemporary（OCIEnv * envhp，OCIError * errhp，OCILobLocator * locp，boolean * is_temporary）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-89832020-5760-4A44-B44E-7D2F542660B9">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-BB7FD1B4-C4F1-4357-A21A-A1392FE9F3AC"><!-- --></a> envhp（IN）</dt>
                        <dd>
                           <p>OCI环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-AF4AD03A-98EB-48E5-AC4F-F27E83B950E9"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-4D57E57F-735C-4A37-841D-07399610AAA5"><!-- --></a> locp（IN）</dt>
                        <dd>
                           <p>要测试的定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-AB0689DF-9A47-4EDE-B17B-8F66DECB7749"><!-- --></a> is_temporary（OUT）</dt>
                        <dd>
                           <p>如果LOB定位符指向临时LOB，则返回<code class="codeph">TRUE</code>否则返回<code class="codeph">TRUE</code> 。如果没有，则为<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-071D8134-F9E7-4C5A-8E63-E90831FA7AC3__GUID-56BD127D-D9F9-4D1D-AB61-9B862D7354A4">评论</p>
                     <p>此函数测试定位器以确定它是否指向临时LOB。如果是这样， <code class="codeph">is_temporary</code>设置为<code class="codeph">TRUE</code> 。如果不是，则<code class="codeph">is_temporary</code>设置为<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-63F75EC5-EB14-4E25-B593-270FF814615A" title="创建一个临时LOB。">OCILobCreateTemporary（）</a></li>
                        <li><a href="lob-functions.html#GUID-E0FBF017-1B08-410C-9E53-F6E14008813A" title="释放临时LOB。">OCILobFreeTemporary（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17208"></a><div class="props_rev_3"><a id="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4"></a><h3 id="LNOCI-GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" class="sect3"><span class="enumeration_section">26.3.29</span> OCILobLoadFromFile2（）</h3>
               <div>
                  <p>将全部或部分文件加载并复制到内部LOB中。此函数必须用于大小超过4 GB的LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-02E85E53-6134-4860-A0E6-BBCBD4F60B9B">目的</p>
                     <p>您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-EA70D8D4-2F5F-4BBF-AFFD-3ADC1B444E65">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobLoadFromFile2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * dst_locp，OCILobLocator * src_locp，oraub8 amount，oraub8 dst_offset，oraub8 src_offset）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-1984BD5E-8273-49C7-B0C7-70971CB68FCA">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-5DD9818D-1FF5-4E3A-987C-40F6CA1B1C53"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-2416583D-AE87-487F-BCBD-72BFAEF09421"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-10FD0C3E-6F8E-4641-A7D9-673EAA407DB6"><!-- --></a> dst_locp（IN / OUT）</dt>
                        <dd>
                           <p>唯一引用目标内部LOB的定位器，可以是<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-917663D7-8D76-4A22-894E-BA2CF9BF5B02"><!-- --></a> src_locp（IN / OUT）</dt>
                        <dd>
                           <p>唯一引用源<code class="codeph">BFILE</code>定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-79B7ABDE-D3A0-4D75-B38F-D4B7EF7E75D5"><!-- --></a>金额（IN）</dt>
                        <dd>
                           <p>要加载的字节数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-1F259067-B673-4E9E-AE68-2BC43C0233EC"><!-- --></a> dst_offset（IN）</dt>
                        <dd>
                           <p>这是目标LOB的绝对偏移量。对于字符LOB，它是从LOB开头开始写入的字符数。对于二进制LOB，它是从LOB开头开始读取的字节数。偏移量从1开始。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-99A7E031-26B1-4BFA-8883-8C514E823601"><!-- --></a> src_offset（IN）</dt>
                        <dd>
                           <p>这是源<code class="codeph">BFILE</code>的绝对偏移量。它是从<code class="codeph">BFILE</code>开头的字节数。偏移量从1开始。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4__GUID-28898A82-8411-4F16-8A8C-E6745D8BAE67">评论</p>
                     <p>将部分或全部<code class="codeph">BFILE</code>值加载并复制到指定的内部LOB中。数据从源<code class="codeph">BFILE</code>复制到目标内部LOB（ <code class="codeph">BLOB</code>或<code class="codeph">CLOB</code> ）。将<code class="codeph">BFILE</code>数据复制到<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>时，不执行字符集转换。此外，当二进制数据加载到<code class="codeph">BLOB</code> ，不执行字符集转换。因此， <code class="codeph">BFILE</code>数据必须与数据库中的LOB具有相同的字符集。不执行错误检查来验证这一点。
                     </p>
                     <p><code class="codeph">OCILobLoadFromFile2()</code>在向其传递远程定位器时抛出错误。
                     </p>
                     <p>源（ <code class="codeph">src_locp</code> ）和目标（ <code class="codeph">dst_locp</code> ）LOB必须存在。如果数据存在于目标的起始位置，则会被源数据覆盖。如果目标的起始位置超出当前数据的末尾，则从数据末尾到新写入数据的开头将零字节填充符（对于<code class="codeph">BLOB</code> ）或空格（对于<code class="codeph">CLOB</code> ）写入目标LOB来自消息来源。如果目标LOB超出目标LOB的当前长度，则扩展目标LOB以容纳新写入的数据。</p>
                     <p>将目标LOB扩展到允许的最大长度（4千兆字节）（请参阅<code class="codeph">OCILobLoadFromFile2()</code>以用于大小超过4 GB的LOB）或尝试从NULL <code class="codeph">BFILE</code>复制是错误的。</p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" title="获取LOB的长度。此函数必须用于大小超过4 GB的LOB。">OCILobGetLength2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17209"></a><div class="props_rev_3"><a id="GUID-F7887376-4B3C-430C-94A3-11FE96E26627" name="GUID-F7887376-4B3C-430C-94A3-11FE96E26627"></a><h3 id="LNOCI-GUID-F7887376-4B3C-430C-94A3-11FE96E26627" class="sect3"><span class="enumeration_section">26.3.30</span> OCILobLocatorAssign（）</h3>
               <div>
                  <p>将一个LOB或<code class="codeph">BFILE</code>定位器分配给另一个。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-8CE5CCAE-219A-494A-A592-1F1C64202F7F">目的</p>
                     <p>将一个LOB或<code class="codeph">BFILE</code>定位器分配给另一个。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-446D3EED-EB90-4227-AFC5-B2209BE39A66">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobLocatorAssign（OCISvcCtx * svchp，OCIError * errhp，const OCILobLocator * src_locp，OCILobLocator ** dst_locpp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-7B411782-9BEC-473A-9E4B-73ECF4B35147">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-BA03ECFC-A293-46BC-9886-1D4A35FE7BCB"><!-- --></a> svchp（IN / OUT）</dt>
                        <dd>
                           <p>OCI服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-468510A4-1076-4662-AF77-6D2836126B73"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-481F8BB9-4DF0-483F-9ABB-E61C8E8FEE0B"><!-- --></a> src_locp（IN）</dt>
                        <dd>
                           <p>要从中复制的LOB或<code class="codeph">BFILE</code>定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-22EABEAA-6DA6-4911-BAE7-5F86559B8095"><!-- --></a> dst_locpp（IN / OUT）</dt>
                        <dd>
                           <p>要复制到的LOB或<code class="codeph">BFILE</code>定位器。调用者必须通过调用<code class="codeph">OCIDescriptorAlloc()</code>为<code class="codeph">OCILobLocator</code>分配空间。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-021FC679-D0B9-4F7B-81E0-E416AB04A227">评论</p>
                     <p>此调用将源定位器分配给目标定位器。分配后，两个定位器都引用相同的LOB数据。对于内部LOB，仅当目标定位器存储在表中时，源定位器的LOB数据才会复制到目标定位器的LOB数据。因此，发出包含目标定位符的对象的刷新会复制LOB数据。对于<code class="codeph">BFILE</code> ，只有引用操作系统文件的定位器被复制到表中;不复制操作系统文件。
                     </p>
                     <p>当远程定位器传递给它时， <code class="codeph">OCILobLocatorAssign()</code>会抛出错误。
                     </p>
                     <p>请注意，此调用类似于<code class="codeph">OCILobAssign()</code> ，但<code class="codeph">OCILobLocatorAssign()</code>采用OCI服务句柄指针而不是OCI环境句柄指针。此外， <code class="codeph">OCILobLocatorAssign()</code>可用于临时LOB，但<code class="codeph">OCILobAssign()</code>不能用于临时LOB。
                     </p>
                     <div class="infoboxnote" id="GUID-F7887376-4B3C-430C-94A3-11FE96E26627__GUID-0467982B-4404-4550-B052-51666847BACC">
                        <p class="notep1">注意：</p>
                        <p>如果<code class="codeph">OCILobLocatorAssign()</code>函数失败，则目标定位器不会还原到其先前的状态。除非重新初始化，否则不应在后续操作中使用目标定位器。
                        </p>
                     </div>
                     <p>如果目标定位器用于临时LOB，则在为源LOB定位器分配目标临时LOB之前释放目标临时LOB。</p>
                     <p>如果源LOB定位器引用临时LOB，则目标也将成为临时LOB。源和目的地在概念上是不同的临时LOB。在<code class="codeph">OCI_DEFAULT</code>模式下，深度复制源临时LOB，并创建目标定位器以引用临时LOB的新深层副本。因此， <code class="codeph">OCILobIsEqual()</code>在<code class="codeph">OCILobLocatorAssign()</code>调用后返回<code class="codeph">FALSE</code> 。但是，在<code class="codeph">OCI_OBJECT</code>模式中，进行了优化以最小化深拷贝的数量，因此源和目标定位器指向相同的LOB，直到通过任一LOB定位器进行任何修改。因此， <code class="codeph">OCILobIsEqual()</code>在<code class="codeph">OCILobLocatorAssign()</code>之后<code class="codeph">OCILobLocatorAssign()</code>返回<code class="codeph">TRUE</code> ，直到第一次修改。在这两种情况下，在<code class="codeph">OCILobLocatorAssign()</code> ，对源或目标的任何更改都不会反映在另一个（即目标或源）LOB中。如果希望源和目标指向同一个LOB并希望更改反映在另一个中，则必须使用等号来确保两个LOB定位符指针引用相同的LOB定位符。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="分配存储以保存描述符或LOB定位符。">OCIDescriptorAlloc（）</a></li>
                        <li><a href="lob-functions.html#GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" title="将一个LOB或BFILE定位器分配给另一个">OCILobAssign（）</a></li>
                        <li><a href="lob-functions.html#GUID-5142710F-03AD-43D5-BBAB-6732B874E52E" title="比较两个LOB或BFILE定位器是否相等。">OCILobIsEqual（）</a></li>
                        <li><a href="lob-functions.html#GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" title="测试是否初始化给定的LOB或BFILE定位器。">OCILobLocatorIsInit（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17210"></a><div class="props_rev_3"><a id="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" name="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE"></a><h3 id="LNOCI-GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE" class="sect3"><span class="enumeration_section">26.3.31</span> OCILobLocatorIsInit（）</h3>
               <div>
                  <p>测试是否初始化给定的LOB或<code class="codeph">BFILE</code>定位器。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-D04ADECE-D724-4B97-A80D-8347C802E836">目的</p>
                     <p>测试是否初始化给定的LOB或<code class="codeph">BFILE</code>定位器。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-900115E9-4962-42F7-A76D-8410B6B9022D">句法</p><pre class="oac_no_warn" dir="ltr">sword OCILobLocatorIsInit（OCIEnv * envhp，OCIError * errhp，const OCILobLocator * locp，boolean * is_initialized）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-0CD405CB-8395-46CE-A907-DDE1589FE49A">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-3A7C84F8-8B1D-4DB0-AA3C-EB9DBFD7C2F0"><!-- --></a> envhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-87C9D283-411C-4C50-A40D-54AE409556F5"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-1D214448-EF9D-400C-A26A-26860686CF2C"><!-- --></a> locp（IN）</dt>
                        <dd>
                           <p>正在测试的LOB或<code class="codeph">BFILE</code>定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-4F910AB9-C543-42DD-9A66-CD55E9435FB9"><!-- --></a> is_initialized（OUT）</dt>
                        <dd>
                           <p>如果初始化给定的LOB或<code class="codeph">BFILE</code>定位符，则返回<code class="codeph">TRUE</code>否则返回<code class="codeph">TRUE</code> 。如果不是，则返回<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-51609360-72B5-408C-BF88-0A850DF6E6B2">评论</p>
                     <p>测试是否初始化给定的LOB或<code class="codeph">BFILE</code>定位器。
                     </p>
                     <p>内部LOB定位器可以通过以下方法之一进行初始化：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在定位器中选择非<code class="codeph">NULL</code> LOB</p>
                        </li>
                        <li>
                           <p>通过<code class="codeph">OCIObjectPin()</code>固定包含非<code class="codeph">NULL</code> LOB属性的<code class="codeph">OCIObjectPin()</code></p>
                        </li>
                        <li>
                           <p>通过<code class="codeph">OCIAttrSet()</code>将定位器设置为空 
                           </p>
                           <div class="infoboxnotealso" id="GUID-4CA17A83-795F-43B2-8B76-611B13E4C8DE__GUID-C72B799A-2B95-498F-9213-515C7B111102">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-E3E231A7-00B9-42F0-B47D-A38E3F131A67" title="列出并描述LOB定位器属性。">LOB描述符和LOB定位器属性</a> 
                              </p>
                           </div>
                        </li>
                     </ul>
                     <p>可以通过以下方法之一初始化<code class="codeph">BFILE</code>定位器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在定位器中选择非<code class="codeph">NULL</code> <code class="codeph">BFILE</code></p>
                        </li>
                        <li>
                           <p>通过<code class="codeph">OCIObjectPin()</code>固定包含非<code class="codeph">NULL</code> <code class="codeph">BFILE</code>属性的<code class="codeph">OCIObjectPin()</code></p>
                        </li>
                        <li>
                           <p>调用<a href="lob-functions.html#GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" title="在BFILE定位器中设置目录对象和文件名。">OCILobFileSetName（）</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="设置句柄或描述符的属性值。">OCIAttrSet（）</a></li>
                        <li><a href="lob-functions.html#GUID-5142710F-03AD-43D5-BBAB-6732B874E52E" title="比较两个LOB或BFILE定位器是否相等。">OCILobIsEqual（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17211"></a><div class="props_rev_3"><a id="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" name="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470"></a><h3 id="LNOCI-GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" class="sect3"><span class="enumeration_section">26.3.32</span> OCILobOpen（）</h3>
               <div>
                  <p>以指示的模式打开内部或外部LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-7F8A3D5E-38ED-493C-921D-410D0FFA69AF">目的</p>
                     <p>以指示的模式打开内部或外部LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-E8918B8F-897F-4B6A-BA35-918CA581F71F">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobOpen（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub1模式）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-194488C4-09A8-40F4-9A55-9449BF92F038">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-F34D7B22-8BCB-4153-90EA-EA271650798B"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-0F6FBCC3-6B36-44D7-AAC2-F76EC2A2ED6C"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-1DEADA25-CE33-4794-9DCE-E1AF942095CE"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>LOB开放。定位器可以指内部或外部LOB。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-AAC42E28-C8CF-414A-8A49-383B2B6516D5"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>打开LOB或<code class="codeph">BFILE</code> 。在Oracle8 <span class="italic">i</span>或更高版本中，LOB的有效模式为<code class="codeph">OCI_LOB_READONLY</code>和<code class="codeph">OCI_LOB_READWRITE</code> 。请注意， <code class="codeph">OCI_FILE_READONLY</code>作为<code class="codeph">OCILobFileOpen()</code>输入存在。如果输入定位器用于<code class="codeph">BFILE</code>则<code class="codeph">OCI_FILE_READONLY</code>可与<code class="codeph">OCILobOpen()</code>一起使用。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470__GUID-0EA79DA8-CE1E-4AEA-95F5-0B8E8D96AABD">评论</p>
                     <p>两次打开相同的LOB是错误的。无法在读/写模式下打开<code class="codeph">BFILE</code> 。如果用户尝试写入以只读模式打开的LOB或<code class="codeph">BFILE</code> ，则会返回错误。
                     </p>
                     <p>打开LOB需要为服务器往返内部和外部LOB。对于内部LOB，open会触发依赖于open调用的其他代码。对于外部LOB（ <code class="codeph">BFILE</code> ），open需要往返，因为正在打开服务器端的实际操作系统文件。
                     </p>
                     <p>没有必要打开LOB来对其执行操作。当使用基于函数的索引，可扩展索引或上下文，并进行多次调用以更新或写入LOB时，应首先调用<code class="codeph">OCILobOpen()</code> ，然后根据需要多次更新LOB，最后调用<code class="codeph">OCILobClose()</code> 。这一系列操作确保索引仅在所有写操作结束时更新一次，而不是每次写操作一次。
                     </p>
                     <p>并非必须将所有LOB操作包装在打开和关闭调用中。但是，如果您打开LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。在关闭由事务打开的所有打开的LOB之前提交事务是错误的。</p>
                     <p>返回错误时，LOB不再标记为打开，但事务已成功提交。因此，提交对事务中的LOB和非LOB数据所做的所有更改，但不更新基于域和函数的索引。如果发生这种情况，请在LOB列上重建功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响，因此，如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-CBEB9238-6B47-4A08-8C8D-FC2E5ED56557" title="关闭先前打开的LOB或BFILE。">OCILobClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-7401D38E-DDB4-4826-8910-94A2FB739A4B" title="关闭给定服务上下文中的所有打开的BFILE。">OCILobFileCloseAll（）</a></li>
                        <li><a href="lob-functions.html#GUID-977F905D-DAFB-4D88-8FE0-7A345837B147" title="测试服务器操作系统上是否存在BFILE。">OCILobFileExists（）</a></li>
                        <li><a href="lob-functions.html#GUID-40AFA7A3-3A24-4DF7-A719-AECA7C1F522A" title="关闭先前打开的BFILE。">OCILobFileClose（）</a></li>
                        <li><a href="lob-functions.html#GUID-A662166C-DC74-40B4-9BFA-8D3ED216FDE7" title="测试BFILE是否打开。">OCILobFileIsOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-FFF883CE-3B99-4319-A81C-A11F8740209E" title="测试LOB或BFILE是否打开。">OCILobIsOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="lobs-and-bfile-operations.html#GUID-7BFEAAEE-0BF5-4104-844B-0AF8C4C6D6C9" title="OCI提供了显式打开LOB，OCILobOpen（），关闭LOB，OCILobClose（）以及测试LOB是否打开的函数，OCILobIsOpen（）。">打开和关闭LOB的功能</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17214"></a><div class="props_rev_3"><a id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA"></a><h3 id="LNOCI-GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" class="sect3"><span class="enumeration_section">26.3.33</span> OCILobRead2（）</h3>
               <div>
                  <p>将调用所指定的LOB或<code class="codeph">BFILE</code>的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-B34E810D-5CC0-4A05-9F78-4A67940B6D46">目的</p>
                     <p>您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-B1AF9786-68E1-44C3-ABF6-F6014058DF32">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobRead2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，oraub8 * byte_amtp，oraub8 * char_amtp，oraub8 offset，void * bufp，oraub8 bufl，ub1 piece，void * ctxp，OCICallbackLobRead2（cbfp）（void * ctxp，const void * bufp，oraub8 lenp，ub1 piecep void ** changed_bufpp，oraub8 * changed_lenp）ub2 csid，ub1 csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-DA353218-D692-4074-9BAA-F0326F29BBF4">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-40C00149-00A0-4153-91A0-76A74003B911"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-C34C65E6-256B-4CB1-949C-27B9ACC7C09B"><!-- --></a> <span class="bold">errhp</span> （输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-3FD289CD-D458-4F05-A8CD-C0D51F1AC221"><!-- --></a> <span class="bold">locp</span> （IN）</dt>
                        <dd>
                           <p>唯一引用LOB或<code class="codeph">BFILE</code> LOB或<code class="codeph">BFILE</code>定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-F52F0B89-9686-4BF0-947A-B47A7625E942"><!-- --></a> <span class="bold">byte_amtp</span> （IN / OUT）</dt>
                        <dd>
                           <p>IN  - 从数据库中读取的字节数。始终用于<code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ，仅在<code class="codeph">char_amtp</code>为零时使用它。
                           </p>
                           <p>OUT  - 读入用户缓冲区的字节数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-39E48457-379F-4B88-AB72-2636CBA9BAF9"><!-- --></a> <span class="bold">char_amtp</span> （IN / OUT）</dt>
                        <dd>
                           <p>IN  - 读入用户缓冲区的最大字符数。忽略<code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> 。</p>
                           <p>OUT  - 读入用户缓冲区的字符数。未定义<code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-E365EB53-296A-4363-8D84-45346CA415EB"><!-- --></a> <span class="bold">偏移量</span> （IN）</dt>
                        <dd>
                           <p>输入时，这是从LOB值开始的绝对偏移量。对于字符LOB（ <code class="codeph">CLOB</code> s， <code class="codeph">NCLOB</code> s），它是从LOB开始的字符数;对于二进制LOB或<code class="codeph">BFILE</code> ，它是字节数。第一个位置是1。
                           </p>
                           <p>如果使用流式传输（通过轮询或回调），请在第一次调用中指定偏移量;在后续轮询调用中，忽略offset参数。使用回调时，没有偏移参数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-1D9F0427-192E-4CAC-B0E3-2D49372DC2E5"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                        <dd>
                           <p>指向读取片段的缓冲区的指针。假定分配的内存的长度为<code class="codeph">bufl</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-41366CEA-374E-40EC-ACB4-CB0B91D08E6A"><!-- --></a> <span class="bold">bufl</span> （IN）</dt>
                        <dd>
                           <p>以八位字节为单位的缓冲区长度。该值从不同<code class="codeph">amtp</code>为值<code class="codeph">CLOB</code> S和用于<code class="codeph">NCLOB</code> S（ <code class="codeph">csfrm</code> = <code class="codeph">SQLCS_NCHAR</code> ）当<code class="codeph">amtp</code>中的字符条款指定参数，并且<code class="codeph">bufl</code>参数以字节为单位指定。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-2A17C859-7EC6-4CA1-B319-1E981A6E856E"><!-- --></a> <span class="bold">件</span> （IN）</dt>
                        <dd>
                           <p><code class="codeph">OCI_ONE_PIECE</code> - 呼叫从不假设轮询。如果指示的量大于缓冲区长度，则尽可能多地填充缓冲区。
                           </p>
                           <p>对于轮询，首次传递<code class="codeph">OCI_NEXT_PIECE</code> ，后续调用传递<code class="codeph">OCI_FIRST_PIECE</code> 。使用回调时应该传递<code class="codeph">OCI_FIRST_PIECE</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-0D8496F4-3FF4-48FD-831E-2177B925B501"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文指针。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-C0DDE29E-9C8A-402B-8ACE-CB0F69BE42A5"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                        <dd>
                           <p>可以注册为每个部分调用的回调。如果这是<code class="codeph">NULL</code> ，则为每个部分返回<code class="codeph">OCI_NEED_DATA</code> 。
                           </p>
                           <p>回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续读取。如果返回任何其他错误代码，则终止LOB读取。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-D9A2E5EE-7ADD-4F81-84DE-34FD3972FC78"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-7BB96A85-400C-46C0-97A9-B8DAA1EA3BF8"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                        <dd>
                           <p>这件作品的缓冲指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-46871C4B-D06B-472E-BE1D-64851EA93CBB"><!-- --></a> <span class="bold">lenp</span> （IN）</dt>
                        <dd>
                           <p><code class="codeph">bufp</code>当前段的长度（以字节为<code class="codeph">bufp</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-C2F6DFC1-56B9-4EBA-AAEC-FB322A49489B"><!-- --></a> <span class="bold">片断</span> （IN）</dt>
                        <dd>
                           <p>哪一块： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-C2960DF2-86DB-4D78-B491-1E5194093D85"><!-- --></a> <span class="bold">changed_bufpp</span> （OUT）</dt>
                        <dd>
                           <p>如果回调函数更喜欢使用新缓冲区来读取下一个片段，则它可以放置新缓冲区的地址。如果此参数设置为<code class="codeph">NULL</code>则使用默认的旧缓冲区<code class="codeph">bufp</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-94955212-670F-4B0F-B90E-A03384C09986"><!-- --></a> <span class="bold">changed_lenp</span> （OUT）</dt>
                        <dd>
                           <p>新缓冲区的长度（如果提供）。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-ED6D3582-75B2-4718-8413-A1B15A9263F2"><!-- --></a> <span class="bold">csid</span> （IN）</dt>
                        <dd>
                           <p>缓冲区数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。除非服务器和客户端具有相同的设置，否则永远不会假定它是服务器字符集。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-AC152F41-481A-4C48-97FD-3B75FC82BB02"><!-- --></a> <span class="bold">csfrm（IN）</span></dt>
                        <dd>
                           <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                           <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。如果未指定<code class="codeph">csfrm</code> ，则假定为默认值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-121F441F-B5D7-4F35-A404-82D3E764467D">评论</p>
                     <p>将调用指定的LOB或<code class="codeph">BFILE</code>的一部分读入缓冲区。尝试从<code class="codeph">NULL</code> LOB或<code class="codeph">BFILE</code>读取是错误的。</p>
                     <div class="infoboxnote" id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-68F65D81-AECB-4FB7-91F6-2B76B0129275">
                        <p class="notep1">注意：</p>
                        <p>读取或写入LOB时，请指定与定位器本身的形式匹配的字符集形式（ <code class="codeph">csfrm</code> ）。
                        </p>
                     </div>
                     <p>对于<code class="codeph">BFILE</code> ，操作系统文件必须存在于服务器上，并且必须由<code class="codeph">OCILobFileOpen()</code>或<code class="codeph">OCILobOpen()</code>使用输入定位器打开。Oracle数据库必须具有读取操作系统文件的权限，并且用户必须具有目录对象的读取权限。
                     </p>
                     <p>当您对<code class="codeph">OCILobRead2()</code>使用轮询模式时，第一个调用必须指定<code class="codeph">offset</code>和<code class="codeph">amtp</code>值，但是在对<code class="codeph">OCILobRead2()</code>后续轮询调用中，您不需要指定这些值。
                     </p>
                     <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                     </p>
                     <div class="infoboxnote" id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-8C0591DB-5B32-47EF-A1DD-C8A84CBC3182">
                        <p class="notep1">注意：</p>
                        <p>要终止<code class="codeph">OCILobRead2()</code>操作并释放语句句柄，请使用<code class="codeph">OCIBreak()</code>调用。
                        </p>
                     </div>
                     <p>以下几点适用于以流模式读取LOB数据：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用轮询模式时，请确保仅在第一次调用<code class="codeph">OCILobRead2()</code>指定<code class="codeph">char_amtp</code>和<code class="codeph">byte_amtp</code>以及偏移参数。在后续轮询调用中，将忽略这些参数。如果<code class="codeph">byte_amtp</code>和<code class="codeph">char_amtp</code>都设置为0并且传递<code class="codeph">OCI_FIRST_PIECE</code> ，则假定轮询模式并且读取数据直到LOB结束。在输出时， <code class="codeph">byte_amtp</code>给出当前片中读取的字节数。
                           </p>
                           <p>对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ， <code class="codeph">char_amtp</code>给出当前片段中读取的字符数。
                           </p>
                           <p>对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ，如果不传递<code class="codeph">char_amtp</code> ，则<code class="codeph">char_amtp</code>在内部计算为<code class="codeph">byte_amtp</code> / <code class="codeph">max char width</code> ，因此如果<code class="codeph">max char width</code>为4，则<code class="codeph">char_amtp</code>计算为<code class="codeph">byte_amtp</code> / 4。因此， <code class="codeph">OCILobRead2()</code>不计算每个字符需要多少字节。相反， <code class="codeph">OCILobRead2()</code>在最坏的情况下获取可以适合<code class="codeph">byte_amtp</code>的字符数。要填充缓冲区，请检查<code class="codeph">byte_amtp</code>参数以查看填充了多少缓冲区，然后再次调用<code class="codeph">OCILobRead2()</code>以获取剩余字节。
                           </p>
                        </li>
                        <li>
                           <p>使用回调时，输入到回调的<code class="codeph">len</code>参数指示缓冲区中填充的字节数。在回调处理期间检查<code class="codeph">len</code>参数，因为整个缓冲区不能填充数据。
                           </p>
                        </li>
                        <li>
                           <p>使用轮询时，请查看<code class="codeph">byte_amtp</code>参数以查看当前块的缓冲区填充量。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ， <code class="codeph">char_amtp</code>返回缓冲区中读取的字符数。
                           </p>
                        </li>
                     </ul>
                     <p>要读取UTF-16格式的数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了c <code class="codeph">sid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a></li>
                        <li><a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-A414B5DE-07A3-4593-A448-B6023F87C2D0" title="执行立即异步中断。">OCIBreak（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-507AC0EF-4CAB-437E-BB94-1FD77EDC1B5C" title="在BFILE定位器中设置目录对象和文件名。">OCILobFileSetName（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA__GUID-C69BFABE-974A-4799-90D8-44C1582DB20A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                        </li>
                        <li>
                           <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a></p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI呼吁完成民意调查。">OCI中的轮询模式操作</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17215"></a><div class="props_rev_3"><a id="GUID-789C0971-76D5-4439-9379-E3DCE7885528" name="GUID-789C0971-76D5-4439-9379-E3DCE7885528"></a><h3 id="LNOCI-GUID-789C0971-76D5-4439-9379-E3DCE7885528" class="sect3"><span class="enumeration_section">26.3.34</span> OCILobSetContentType（）</h3>
               <div>
                  <p>将SecureFile中的数据的内容类型字符串设置为可由应用程序使用的内容。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-915D07E2-C6BE-4A72-BCBB-AB9FA799321F">目的</p>
                     <p>将SecureFile中的数据的内容类型字符串设置为可由应用程序使用的内容。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-ECE07FA8-5AB8-4BDD-9218-A12A77006611">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobSetContentType（OCIEnv * envhp，OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * lobp，const oratext * contenttypep，ub4 contenttypelen，ub4 mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-00D3DFB1-DAB3-4241-9049-E07265D2C1A0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-2D9A23CD-5412-4610-960A-43EE9679B52C"><!-- --></a> envhp（IN）</dt>
                        <dd>
                           <p>环境处理。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-B7C5AB93-1213-416C-A796-E20ED2085B97"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-1A2AF403-06EA-4B93-8259-E2AA573CC3FC"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>出现错误时可以传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息的错误句柄。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-934FC9AA-356B-46D5-BC3D-C12043A8C1E9"><!-- --></a> lobp（IN）</dt>
                        <dd>
                           <p>唯一引用LOB的LOB定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-F4B6C359-CF04-4BFE-B684-EFF5A4F46F4D"><!-- --></a> contenttypep（IN）</dt>
                        <dd>
                           <p>要为给定LOB设置的<code class="codeph">contenttype</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-8F32DC8A-C517-4EA7-8FCE-D22A16AFE3C4"><!-- --></a> contenttypelen（IN）</dt>
                        <dd>
                           <p><code class="codeph">contenttype</code>的大小（以字节为单位）。大小必须小于或等于<code class="codeph">OCI_LOB_CONTENTTYPE_MAXSIZE</code>个字节。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-7CEEC09B-7A92-437D-B672-8191933ADBEE"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>供将来使用。现在通过零。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-789C0971-76D5-4439-9379-E3DCE7885528__GUID-6DF546B7-A51D-4842-8523-22CF2E499E24">评论</p>
                     <p>此功能仅适用于SecureFiles。如果<code class="codeph">lobp</code>不是SecureFile，则返回错误<code class="codeph">SECUREFILE_WRONGTYPE</code> 。如果缓冲<code class="codeph">lobp</code> ，临时LOB或抽象LOB，则返回错误<code class="codeph">SECUREFILE_BADLOB</code> 。
                     </p>
                     <p><code class="codeph">ContentType</code>字符串的最大可能大小定义为：</p><pre class="oac_no_warn" dir="ltr">#define OCI_LOB_CONTENTTYPE_MAXSIZE 128</pre><p><code class="codeph">ContentType</code>是ASCII（即1字节/ 7位UTF8）。
                     </p>
                     <p>要清除SecureFile上设置的现有内容<code class="codeph">contenttype</code> ，请调用<code class="codeph">OCILobSetContentType()</code> ， <code class="codeph">contenttypep</code>设置为（ <code class="codeph">oratext *)0</code>并将<code class="codeph">contenttypelen</code>设置为<code class="codeph">0</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-D62200EF-FA60-4788-950F-0C0686D807FD" title="获取SecureFile中数据的用户指定的内容类型字符串（如果已设置）。">OCILobGetContentType（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17216"></a><div class="props_rev_3"><a id="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26" name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26"></a><h3 id="LNOCI-GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26" class="sect3"><span class="enumeration_section">26.3.35</span> OCILobSetOptions（）</h3>
               <div>
                  <p>启用<span>SecureFile</span> LOB的选项设置。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-252D766F-286F-4D9F-B72B-5C18FB7A0C57">目的</p>
                     <p>启用<span>SecureFile</span> LOB的选项设置。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-B614C60F-3FC3-4A49-94CE-D8BF1421E428">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobSetOptions（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 option_types，void * optionsp，ub4 optionslen，ub4 mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-26031CD0-56A4-49CF-9FF7-DC21A1FCCA68">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-0EE2266F-29E7-4885-AE31-5F3519DA230F"><!-- --></a> svchp（IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-E145443C-A9FC-44FB-819B-005272FD2C67"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-69C2B901-D008-4A39-B0E4-2761D0F7B14D"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>唯一引用LOB的LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-530AC5D6-9624-420F-BC0C-13F72CD07B78"><!-- --></a> option_types（IN）</dt>
                        <dd>
                           <p>您可以使用按位包含OR（“|”）指定多个选项类型和值。如果指定未在LOB列上启用的<code class="codeph">option_types</code>值，则会导致错误。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>压缩 - <code class="codeph">OCI_LOB_OPT_COMPRESS</code></p>
                              </li>
                              <li>
                                 <p>加密 - <code class="codeph">OCI_LOB_OPT_ENCRYPT</code></p>
                              </li>
                              <li>
                                 <p>重复数据删除 - <code class="codeph">OCI_LOB_OPT_DEDUPLICATE</code></p>
                              </li>
                              <li>
                                 <p>分配大小 - <code class="codeph">OCI_LOB_OPT_ALLOCSIZE</code></p>
                              </li>
                              <li>
                                 <p>内容类型 - <code class="codeph">OCI_LOB_OPT_CONTENTTYPE</code></p>
                              </li>
                              <li>
                                 <p>修改时间 - <code class="codeph">OCI_LOB_OPT_MODTIME</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-1E55119F-D3A2-4420-9333-2CA9065F782A"><!-- --></a> optionsp（IN）</dt>
                        <dd>
                           <p>可能的设置是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_LOB_OPT_COMPRESS_OFF</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_LOB_OPT_COMPRESS_ON</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_LOB_ENCRYPT_OFF</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_LOB_ENCRYPT_ON</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_LOB_OPT_DEDUPLICATE_OFF</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_LOB_OPT_DEDUPLICATE_ON</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-26D9CAD6-8718-49FA-9A81-3F212E49F1F1"><!-- --></a> optionslen（IN）</dt>
                        <dd>
                           <p><code class="codeph">optionsp</code>值的长度。请注意，此时唯一有效的长度是<code class="codeph">sizeof(ub4)</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A6CCDD69-980B-423A-B6B4-BF75B8DBCC26__GUID-06B4391F-DA21-4470-9F91-A0D110D4F718"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>保留供将来使用。传递0。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-E989E74D-F00C-476A-A8A5-D8E84F83F2F5" title="获取与给定SecureFile LOB的给定输入选项类型相对应的已启用设置。">OCILobGetOptions（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17218"></a><div class="props_rev_3"><a id="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" name="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733"></a><h3 id="LNOCI-GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" class="sect3"><span class="enumeration_section">26.3.36</span> OCILobTrim2（）</h3>
               <div>
                  <p>将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-F8DF8E30-B5EC-4DE4-86D0-9F1DFE449D46">目的</p>
                     <p>您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-73FAFB07-80C8-4375-B575-A7BA0DC55122">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobTrim2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，oraub8 newlen）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-17FCFB9E-4BFE-49C5-B17A-693C7E0D4C21">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-021633D0-5408-49F0-89C7-049E40483C97"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-F999AFFB-C96C-42BE-BC72-056D55C5FAFB"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-5F51A442-E5CA-46B0-AA39-6B4050D00448"><!-- --></a> <span class="bold">locp</span> （IN / OUT）</dt>
                        <dd>
                           <p>唯一引用LOB的内部LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-03505F63-7D6D-4E18-9E55-DDD12BFB661D"><!-- --></a> <span class="bold">newlen</span> （IN）</dt>
                        <dd>
                           <p>LOB值的新长度，必须小于或等于当前长度。对于字符LOB，它是字符数;对于二进制LOB和<code class="codeph">BFILE</code> ，它是LOB中的字节数。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABDB1543-1782-4216-AD80-55FA82CFF733__GUID-D90121DF-E8C4-4DA0-9279-2A30A93D13D6">评论</p>
                     <p>此函数将LOB数据修剪为指定的较短长度。如果<code class="codeph">newlen</code>大于当前LOB长度，则该函数返回错误。此功能仅对内部LOB有效。不允许使用<code class="codeph">BFILE</code> 。
                     </p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" title="从指定的偏移量开始擦除内部LOB数据的指定部分。">OCILobErase2（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17221"></a><div class="props_rev_3"><a id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE"></a><h3 id="LNOCI-GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" class="sect3"><span class="enumeration_section">26.3.37</span> OCILobWrite2（）</h3>
               <div>
                  <p>将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-48318E4D-6BCE-41EB-A497-0034DC1C1968">目的</p>
                     <p>您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-52381780-C665-43E2-AC74-06DE7AD508D1">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobWrite2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，oraub8 * byte_amtp，oraub8 * char_amtp，oraub8 offset，void * bufp，oraub8 buflen，ub1 piece，void * ctxp，OCICallbackLobWrite2（cbfp）（void * ctxp，void * bufp，oraub8 * lenp，ub1 * piecep void ** changed_bufpp，oraub8 * changed_lenp）ub2 csid，ub1 csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-736FBF34-D6AC-4E0B-B480-7EE26D7019B1">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-D48E74C9-17FC-4FA1-9B07-F58212409B01"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-EF59A221-781C-45F8-AFC2-BA6556F0BC3F"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-02969115-F471-4647-9A99-42AA1D1134E3"><!-- --></a> <span class="bold">locp</span> （IN / OUT）</dt>
                        <dd>
                           <p>唯一引用LOB的内部LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-4A2203A3-029E-4AF4-86A4-9DAAA8A3657C"><!-- --></a> <span class="bold">byte_amtp</span> （IN / OUT）</dt>
                        <dd>
                           <p>IN  - 要写入数据库的字节数。一直用于<code class="codeph">BLOB</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ，仅在<code class="codeph">char_amtp</code>为零时使用。
                           </p>
                           <p>OUT  - 写入数据库的字节数。在轮询模式下，它是片段的长度，以字节为单位，只是写入。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-B7FBA7C5-9B22-4A74-A8E2-63EDF4BBCCAA"><!-- --></a> char_amtp（IN / OUT）</dt>
                        <dd>
                           <p>IN  - 要写入数据库的最大字符数。忽略了<code class="codeph">BLOB</code> 。</p>
                           <p>OUT  - 写入数据库的字符数。未定义<code class="codeph">BLOB</code> 。在轮询模式中，它是片段的长度，以字符为单位，仅写入。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-02598C9A-2861-4F08-8643-B6E62EA877C7"><!-- --></a> <span class="bold">偏移量</span> （IN）</dt>
                        <dd>
                           <p>在输入时，它是从LOB值开始的绝对偏移量。对于字符LOB，它是从LOB开始的字符数;对于二进制LOB，它是字节数。第一个位置是1。</p>
                           <p>如果使用流式传输（通过轮询或回调），请在第一次调用中指定偏移量;在后续轮询调用中，忽略offset参数。使用回调时，没有偏移参数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-A0037592-AF15-4A1A-899E-26D7B8E0114D"><!-- --></a> <span class="bold">bufp</span> （IN）</dt>
                        <dd>
                           <p>指向写入片段的缓冲区的指针。缓冲区中数据的长度假定为<code class="codeph">buflen</code>传递的值。即使使用轮询方法将数据<code class="codeph">bufp</code>写入，当调用此调用时， <code class="codeph">bufp</code>必须包含LOB的第一部分。如果提供回调， <code class="codeph">bufp</code>不得使用<code class="codeph">bufp</code>来提供数据或错误结果。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-6474528F-ED2C-49A0-99BD-5EAB75C6B11D"><!-- --></a> <span class="bold">buflen</span> （IN）</dt>
                        <dd>
                           <p>缓冲区中数据的长度（以字节为单位）。当使用<code class="codeph">char_amtp</code>参数以字符指定数量时，此值与<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的<code class="codeph">char_amtp</code>值不同，并且<code class="codeph">buflen</code>参数以字节为单位指定。
                           </p>
                           <div class="infoboxnote" id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-0E7372B0-6B69-421C-A89B-317E01A2AB1B">
                              <p class="notep1">注意：</p>
                              <p>此参数假定为8位字节。如果操作系统使用较长的字节，则必须相应地调整<code class="codeph">buflen</code>的值。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-B7937983-E92F-450C-BC03-007BE39E1A98"><!-- --></a> <span class="bold">件</span> （IN）</dt>
                        <dd>
                           <p>正在编写哪个缓冲区。此参数的默认值为<code class="codeph">OCI_ONE_PIECE</code> ，表示缓冲区是单个写入的。
                           </p>
                           <p>对于分段或回调模式，以下其他值也是可能的： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>和<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-DB7B8B47-BAA3-46A9-ACB7-2A6F4E8BE284"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-9429BDAD-219B-440F-A051-E74DA7F26F71"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                        <dd>
                           <p>可以注册为分段写入中的每个片段调用的回调。如果为<code class="codeph">NULL</code> ，则使用标准轮询方法。
                           </p>
                           <p>回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续写入。如果返回任何其他错误代码，则终止LOB写入。回调采用以下参数：</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-F9C7D95D-8E4A-48C3-9C3E-021EDC282951"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-41887C26-DBB0-444B-AB60-992786778EE4"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                        <dd>
                           <p>这件作品的缓冲指针。这与作为<code class="codeph">OCILobWrite()</code>例程的输入传递的<code class="codeph">bufp</code>相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-065C1A25-0E5D-453D-ABB4-0460737E0C6C"><!-- --></a> <span class="bold">lenp</span> （IN / OUT）</dt>
                        <dd>
                           <p>缓冲区（IN）中数据的长度（以字节为单位），以及<code class="codeph">bufp</code> （OUT）中当前块的长度（以字节为单位）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-E40BC756-73AC-4F91-B273-39D1029FD2BC"><!-- --></a> <span class="bold">piecep</span> （OUT）</dt>
                        <dd>
                           <p>哪一块： <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-FD6AE89B-A9F0-43AD-9529-72C0FA0259C0"><!-- --></a> changed_bufpp（OUT）</dt>
                        <dd>
                           <p>回调函数可以放置新缓冲区的地址，如果它更喜欢使用新的缓冲区来读取下一条。如果此参数设置为<code class="codeph">NULL</code>则使用默认的旧缓冲区<code class="codeph">bufp</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-EB5D2DDA-1ACB-4387-85F2-083C3FE94408"><!-- --></a> changed_lenp（OUT）</dt>
                        <dd>
                           <p>新缓冲区的长度（如果提供）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-595C409D-AA9E-4DB7-97E2-65F4BDD08505"><!-- --></a> csid（IN）</dt>
                        <dd>
                           <p>缓冲区中数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-785DB159-A566-4D75-A65B-185490F0C541"><!-- --></a> csfrm（IN）</dt>
                        <dd>
                           <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                           <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                              </li>
                              <li>
                                 <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                              </li>
                           </ul>
                           <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-7597E519-CEC7-452C-A894-3EDD6A1E99A8">评论</p>
                     <p>将缓冲区写入指定的内部LOB。如果存在LOB数据，则会用存储在缓冲区中的数据覆盖它。缓冲区可以通过此调用以单件形式写入LOB，也可以使用回调或标准轮询方法分段提供。</p>
                     <div class="infoboxnote" id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-32EA906C-35AB-4F2C-A0A7-8C4E72093FB6">
                        <p class="notep1">注意：</p>
                        <p>读取或写入LOB时，请指定与定位器本身的形式匹配的字符集形式（ <code class="codeph">csfrm</code> ）。
                        </p>
                     </div>
                     <p>当您对<code class="codeph">OCILobWrite2()</code>使用轮询模式时，第一个调用必须指定<code class="codeph">offset</code> ， <code class="codeph">byte_amtp</code>和<code class="codeph">char_amtp</code> ，但是在对<code class="codeph">OCILobWrite2()</code>后续轮询调用中，您不需要指定这些值。
                     </p>
                     <p>如果<code class="codeph">piece</code>参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则可能需要通过回调或轮询提供数据。
                     </p>
                     <p>如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后，将调用此回调函数以获取下一个片段。每篇文章都是用<code class="codeph">bufp</code>编写的。如果未定义回调函数，则<code class="codeph">OCILobWrite2()</code>返回<code class="codeph">OCI_NEED_DATA</code>错误代码。应用程序必须再次调用<code class="codeph">OCILobWrite2()</code>来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。
                     </p>
                     <p>无论是否使用轮询或回调方法， <code class="codeph">OCI_LAST_PIECE</code>的<code class="codeph">piece</code>值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                     </p>
                     <p>如果传递给数据库的数据量（通过任一输入机制）小于<code class="codeph">byte_amtp</code>或<code class="codeph">char_amtp</code>参数指定的数量，则返回ORA-22993错误。
                     </p>
                     <p>此功能仅对内部LOB有效。不允许使用<code class="codeph">BFILE</code> ，因为它们是只读的。如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                     </p>
                     <p>如果<code class="codeph">byte_amtp</code>和<code class="codeph">char_amtp</code>都设置为指向零金额，并且<code class="codeph">OCI_FIRST_PIECE</code>作为输入，则假定轮询模式并写入数据，直到指定<code class="codeph">OCI_LAST_PIECE</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ， <code class="codeph">byte_amtp</code>和<code class="codeph">char_amtp</code>返回每个部分写入的数据的字节数和字符数。对于<code class="codeph">BLOB</code> ， <code class="codeph">byte_amtp</code>返回每个部分写入的字节数，而<code class="codeph">char_amtp</code>在输出时未定义。
                     </p>
                     <p>要以UTF-16格式写入数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了<code class="codeph">csid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                     </p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE__GUID-55682921-8212-4BFA-BEF3-1EB7A0F610A6">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                        </li>
                        <li>
                           <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                        </li>
                        <li>
                           <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a></p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI呼吁完成民意调查。">OCI中的轮询模式操作</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17224"></a><div class="props_rev_3"><a id="GUID-87D3275A-B042-4991-B261-AB531BB83CA2" name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2"></a><h3 id="LNOCI-GUID-87D3275A-B042-4991-B261-AB531BB83CA2" class="sect3"><span class="enumeration_section">26.3.38</span> OCILobWriteAppend2（）</h3>
               <div>
                  <p>从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-41AE65AF-B157-4202-BEF9-AA835473A3FE">目的</p>
                     <p>您还可以将此函数用于小于4 GB的LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-1F6DDD24-6886-4A93-AEC7-427A7B7F2960">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobWriteAppend2（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，oraub8 * byte_amtp，oraub8 * char_amtp，void * bufp，oraub8 buflen，ub1 piece，void * ctxp，OCICallbackLobWrite2（cbfp）（void * ctxp，void * bufp， oraub8 * lenp，ub1 * piecep void ** changed_bufpp，oraub8 * changed_lenp）ub2 csid，ub1 csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-D83F83C9-08F2-41A3-A05F-8341AAD4FA69">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-C24E3764-C503-4830-B573-0DA41C0E22AC"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-0E267A0F-CC74-45FD-8BC3-E93954EC7243"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-73B1A33E-9731-43B1-9F27-D37BE38D8960"><!-- --></a> locp（IN / OUT）</dt>
                        <dd>
                           <p>唯一引用LOB的内部LOB定位器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-169F338F-B221-49E4-A0AB-3233093A56EB"><!-- --></a> byte_amtp（IN / OUT）</dt>
                        <dd>
                           <p>IN  - 要写入数据库的字节数。用于<code class="codeph">BLOB</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ，仅在<code class="codeph">char_amtp</code>为零时使用。
                           </p>
                           <p>OUT  - 写入数据库的字节数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-B2F6A7E1-3EAC-4581-902D-DC1B6DAE2CB4"><!-- --></a> char_amtp（IN / OUT）</dt>
                        <dd>
                           <p>IN  - 要写入数据库的最大字符数。忽略了<code class="codeph">BLOB</code> 。</p>
                           <p>OUT  - 写入数据库的字符数。未定义<code class="codeph">BLOB</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-8629E463-D355-4DDB-8223-CD5CE3DC0604"><!-- --></a> bufp（IN）</dt>
                        <dd>
                           <p>指向写入片段的缓冲区的指针。缓冲区中数据的长度假定为<code class="codeph">buflen</code>传递的值。即使数据是<code class="codeph">bufp</code>编写的，当调用此调用时， <code class="codeph">bufp</code>必须包含LOB的第一部分。如果提供回调， <code class="codeph">bufp</code>不得使用<code class="codeph">bufp</code>来提供数据或错误结果。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-0AA60E89-F312-4111-BE50-0191F62ABD0E"><!-- --></a> buflen（IN）</dt>
                        <dd>
                           <p>缓冲区中数据的长度（以字节为单位）。请注意，此参数假定为8位字节。如果您的操作系统使用较长的字节，则必须相应地调整<code class="codeph">buflen</code>的值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-82C370A6-994A-44F5-BE86-655BE6CC8C70"><!-- --></a>件（IN）</dt>
                        <dd>
                           <p>正在编写哪个缓冲区。此参数的默认值为<code class="codeph">OCI_ONE_PIECE</code> ，表示缓冲区是单个写入的。对于分段或回调模式，以下其他值也是可能的： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>和<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-A002E997-9813-4FE8-B9D8-B811E8D524BC"><!-- --></a> ctxp（IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-9EFAF4A2-5C11-402A-9E9C-8F959E6F331C"><!-- --></a> cbfp（IN）</dt>
                        <dd>
                           <p>可以注册为分段写入中的每个片段调用的回调。如果为<code class="codeph">NULL</code> ，则使用标准轮询方法。回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续写入。如果返回任何其他错误代码，则终止LOB写入。回调采用以下参数：</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-3CA55C35-7FA6-4642-A366-8DFAD7E34720"><!-- --></a> ctxp（IN）</dt>
                        <dd>
                           <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-ED08A1D4-6022-4269-BB2F-6F65048F318B"><!-- --></a> bufp（IN / OUT）</dt>
                        <dd>
                           <p>这件作品的缓冲指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-6E2491DB-8BCE-469A-BC52-E10BC3EE8B9A"><!-- --></a> <span class="bold">lenp</span> （IN / OUT）</dt>
                        <dd>
                           <p>缓冲区（IN）中数据的长度（以字节为单位），以及<code class="codeph">bufp</code> （OUT）中当前块的长度（以字节为单位）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-D1DEFB4E-4D37-4845-B2F8-3BCEDD8CE749"><!-- --></a> <span class="bold">piecep</span> （OUT）</dt>
                        <dd>
                           <p>哪一块： <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-047CF229-362E-4CAE-A40C-FF51ABFEB8E5"><!-- --></a> changed_bufpp（OUT）</dt>
                        <dd>
                           <p>回调函数可以放置新缓冲区的地址，如果它更喜欢使用新缓冲区来写入下一条。如果此参数设置为<code class="codeph">NULL</code>则使用默认的旧缓冲区<code class="codeph">bufp</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-8890B110-FEC6-4ABB-8B49-448CBAB5C68D"><!-- --></a> changed_lenp（OUT）</dt>
                        <dd>
                           <p>新缓冲区的长度（如果提供）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-C68FB496-52A0-43E2-A20E-E5E400B166D4"><!-- --></a> csid（IN）</dt>
                        <dd>
                           <p>缓冲区数据的字符集ID。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-CEA7955B-02CF-4A01-9B33-4200445F054D"><!-- --></a> csfrm（IN）</dt>
                        <dd>
                           <p>缓冲区数据的字符集形式。</p>
                           <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                              </li>
                              <li>
                                 <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                              </li>
                           </ul>
                           <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-58D1072C-AB67-4162-8578-5AB9702C81E4">评论</p>
                     <p>缓冲区可以通过此调用以单件形式写入LOB，也可以使用回调或标准轮询方法分段提供。如果piece参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则必须通过回调或轮询提供数据。如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后，将调用此回调函数以获取下一个片段。每篇文章都是用<code class="codeph">bufp</code>编写的。如果未定义回调函数，则<code class="codeph">OCILobWriteAppend2()</code>返回<code class="codeph">OCI_NEED_DATA</code>错误代码。
                     </p>
                     <p>应用程序必须再次调用<code class="codeph">OCILobWriteAppend2()</code>来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。片段值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                     </p>
                     <p>如果启用了LOB缓冲，则不支持<code class="codeph">OCILobWriteAppend2()</code>函数。
                     </p>
                     <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                     </p>
                     <p>如果<code class="codeph">byte_amtp</code>和<code class="codeph">char_amtp</code>都设置为指向零，并且<code class="codeph">OCI_FIRST_PIECE</code>被指定为输入，则假定轮询模式并写入数据，直到指定<code class="codeph">OCI_LAST_PIECE</code> 。对于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> ， <code class="codeph">byte_amtp</code>和<code class="codeph">char_amtp</code>返回每个部分写入的数据的字节数和字符数。对于<code class="codeph">BLOB</code> ， <code class="codeph">byte_amtp</code>返回每个部分写入的字节数，而<code class="codeph">char_amtp</code>在输出时未定义。
                     </p>
                     <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                     <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        <li><a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a></li>
                        <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-87D3275A-B042-4991-B261-AB531BB83CA2__GUID-A878ED53-D5D0-4380-85AF-BE27584B481C">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="lobs-and-bfile-operations.html#GUID-8C5ABC9E-3048-49AE-BFE3-DB4CB1A63AB3" title="如何提高LOB读/写性能。">关于提高LOB读/写性能</a></p>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>