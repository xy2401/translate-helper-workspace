<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring OCI and JDBC Applications for Column Authorization</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Security Administrator's and Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Security Administrator's and Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95725-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="predefined-objects-in-real-application-security.html" title="Previous" type="text/html">
      <link rel="next" href="real-application-security-hr-demo-files.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator's and Developer's Guide">
    <meta name="dcterms.isVersionOf" content="DBFSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="predefined-objects-in-real-application-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="real-application-security-hr-demo-files.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring OCI and JDBC Applications for Column Authorization</li>
            </ol>
            <a id="GUID-07681DFA-7A8E-4F3C-B655-3C202882AC03" name="GUID-07681DFA-7A8E-4F3C-B655-3C202882AC03"></a><a id="DBFSG12001"></a>
            
            <h2 id="DBFSG-GUID-07681DFA-7A8E-4F3C-B655-3C202882AC03" class="sect2"><span class="enumeration_appendix">B </span> Configuring OCI and JDBC Applications for Column Authorization
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">This appendix contains: 
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-FFC8DE4A-D80E-4D6D-805A-802E15092642">About Using OCI to Retrieve Column Authorization Indicators</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-14EDF7D1-3807-4935-9BED-33070F36505E">About Using JDBC to Retrieve Column Authorization Indicators</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99644"></a><div class="props_rev_3"><a id="GUID-FFC8DE4A-D80E-4D6D-805A-802E15092642" name="GUID-FFC8DE4A-D80E-4D6D-805A-802E15092642"></a><h3 id="DBFSG-GUID-FFC8DE4A-D80E-4D6D-805A-802E15092642" class="sect3">About Using OCI to Retrieve Column Authorization Indicators</h3>
               <div>
                  <p>Oracle Call Interface (OCI) applications can access database tables that have data security policies enabled and then test columns for authorization indicators.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the column is determined to be unauthorized to the user, a null column value is returned to the user with indicator "unauthorized".</p>
                     </li>
                     <li>
                        <p>If the column authorization cannot be determined, the evaluated column (or column expression) value will be returned to the user along with the indicator "unknown." If any of the underlying table columns involved in the top column expression evaluation is unauthorized, the authorization indicator can be "unknown" and a null value will be used as the underlying column value for expression valuation. </p>
                     </li>
                     <li>
                        <p>If the column is determined as authorized to the user, the evaluated column value and indicator will be returned to the user without authorization indicator. </p>
                     </li>
                  </ul>
                  <p>The OCI return code is to communicate column authorization information to the user. To obtain the authorization information for a column, you must provide a return-code buffer when the column buffer is bound or defined. After the column data is returned to the user buffer, you can check the return code associated with the column for authorization information. The column authorization indicator is applicable to define variables or out-bind variables defined by the application. The return code buffer does not have to be provided if the application is not retrieving the column authorization indicator.</p>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-A09D4AD1-9CE0-4B08-8747-FAC5F6A8D326">Example of Obtaining the Return Code</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-5A1F3B8B-5690-4728-9E61-E6BFAB360E87">About Using the Return Code and Indicator with Authorization Indicator</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89">About the Warning for Unknown Authorization Indicator</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-DDDD02FE-1773-438C-9862-67F247CA8123">Using OCI Describe for Column Security</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99646"></a><a id="DBFSG99645"></a><div class="props_rev_3"><a id="GUID-A09D4AD1-9CE0-4B08-8747-FAC5F6A8D326" name="GUID-A09D4AD1-9CE0-4B08-8747-FAC5F6A8D326"></a><h4 id="DBFSG-GUID-A09D4AD1-9CE0-4B08-8747-FAC5F6A8D326" class="sect4">Example of Obtaining the Return Code</h4>
                  <div>
                     <div class="section">
                        <p>The <a id="d131202e392" class="indexterm-anchor"></a>following return codes are used to find the column authorizations:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>ORA-24530: column <a id="d131202e402" class="indexterm-anchor"></a><a id="d131202e408" class="indexterm-anchor"></a>value is unauthorized to the user
                              </p>
                           </li>
                           <li>
                              <p>ORA-24531: column <a id="d131202e418" class="indexterm-anchor"></a><a id="d131202e424" class="indexterm-anchor"></a>value authorization is unknown
                              </p>
                           </li>
                           <li>
                              <p>ORA-24536: column <a id="d131202e434" class="indexterm-anchor"></a><a id="d131202e440" class="indexterm-anchor"></a>authorization unknown
                              </p>
                           </li>
                        </ul>
                        <p>If the unknown value authorization indicator (ORA-24531) is returned for any column, the OCI function status will be <code class="codeph">OCI_SUCCESS_WITHINFO</code> and the error ORA-24536 will be returned in the error handle as warning. To suppress the warning, the application can set attribute, <code class="codeph">OCI_ATTR_NO_COLUMN_AUTH_WARNING</code> to <code class="codeph">TRUE</code> in the statement handle before fetching:
                        </p><pre class="oac_no_warn" dir="ltr"> no_warning = TRUE;
 OCIAttrSet(stmthp, OCI_HTYPE_STMT, (void *)&amp;no_warning, 0,
            OCI_ATTR_NO_COLUMN_AUTH_WARNING, errhp);
</pre><p>The default boolean value of <code class="codeph">OCI_ATTR_NO_COLUMN_AUTH_WARNING</code> is <code class="codeph">FALSE</code>.
                        </p>
                        <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-A09D4AD1-9CE0-4B08-8747-FAC5F6A8D326__BHCIIAIA">Example B-1</a> shows OCI code that retrieves the return codes. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A09D4AD1-9CE0-4B08-8747-FAC5F6A8D326__BHCIIAIA">
                        <p class="titleinexample">Example B-1 Retrieving Return Codes from OCI for a Column Authorization</p><pre class="oac_no_warn" dir="ltr">OCIDefineByPos(stmthp, &amp;dfnhp, errhp,  1, (void *)data_bufp,  (sb4)data_bufl,
               data_typ, (void *)&amp;data_ind, (ub2 *)&amp;data_rlen, 
               (ub2 *)&amp;data_rcode, (ub4)OCI_DEFAULT);
status = OCIStmtFetch(stmthp, errhp, 1, OCI_FETCH_NEXT, OCI_DEFAULT);
if (data_rcode == 24530)
    printf("column value not authorized, indicator=%d\n", data_ind);
else if (data_rcode == 24531)
         printf("column value authorization unknown, indicator=%d\n", data_ind);
else  {
       printf("column value authorized, indicator=%d\n", data_ind);
       /* process column data */
       ...
};</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99647"></a><div class="props_rev_3"><a id="GUID-5A1F3B8B-5690-4728-9E61-E6BFAB360E87" name="GUID-5A1F3B8B-5690-4728-9E61-E6BFAB360E87"></a><h4 id="DBFSG-GUID-5A1F3B8B-5690-4728-9E61-E6BFAB360E87" class="sect4">About Using the Return Code and Indicator with Authorization Indicator</h4>
                  <div>
                     <p>To access tables with column security, you should access the return code at least when the column is bound or defined. If the return code is not accessed, the application needs to know if the column value is authorized with other means so that it can correctly interpret the indicator and the value.</p>
                     <p>You should also provide the indicator for the bind or define if column security is enabled. If the indicator is not provided and the column value is not authorized or unknown, Oracle Database returns error ORA-1405.</p>
                     <p>If column value authorization is unknown, the authorization indicator (for ORA-24531) will take precedence over the regular return codes that may otherwise be returned to the user. For example, column null fetch (ORA-1405) and column truncation (ORA-1406) may occur at the same time when a non-null column value is returned along with unknown authorization indicator. In that case, the application gets ORA-24531 as the return code for this column, instead of getting ORA-1405 or ORA-1406. Hence the application should not rely on column return code ORA-1405 or ORA-1406 to find the exact column that is null fetched or truncated.</p>
                     <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89__CHDFCIJJ" title="Shows default authorization indicator behavior. This table has 6 columns. Column 1 is column authorization, column 2 is column value, column 3 is IND providedRC provided, column 4 is IND not providedRC provided, column 5 is IND prvidedRC not provided, and column 6 is IND not providedRC not provided.">Table B-1</a> and <a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89__CHDHIFDF" title="Shows default authorization indicator behavior when the OCI_ATTR_NO_AUTH_WARNING parameter is set to TRUE. This table has 6 columns. Column 1 is column authorization, column 2 is column value, column 3 is IND providedRC provided, column 4 is IND not providedRC provided, column 5 is IND prvidedRC not provided, and column 6 is IND not providedRC not provided.">Table B-2</a> summarizes the behavior of the authorization indicator, return code, indicator, and return status.
                     </p>
                  </div>
               </div><a id="DBFSG99649"></a><a id="DBFSG99650"></a><a id="DBFSG99648"></a><div class="props_rev_3"><a id="GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89" name="GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89"></a><h4 id="DBFSG-GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89" class="sect4">About the Warning for Unknown Authorization Indicator</h4>
                  <div>
                     <div class="section">
                        <p>If the unknown authorization indicator (ORA-24531) is returned for any column, an OCI warning is returned to the application, that is, the OCI function status will be <code class="codeph">OCI_SUCCESS_WITH_INFO</code>, instead of <code class="codeph">OCI_SUCCESS</code>. At the same time, ORA-24536 will be set in the error handle returned to the application.You must check this warning, examine the SQL being executed, and take appropriate action. The error ORA-24536 takes precedence over the error that is returned when the column is authorized or column security is not enabled.
                        </p>
                        <p>If a column value is unauthorized or authorized, the OCI function status code will not be changed.</p>
                        <p>By default the column authorization warning is turned on for unknown authorizations. The application should be designed to handle the error. If the application is prepared for column security and wants to ignore any unknown authorization indicator, the OCI warning can be turned off by setting the OCI attribute, <code class="codeph">OCI_ATTR_NO_COLUMN_AUTH_WARNING</code> to <code class="codeph">TRUE</code> in the OCI statement handle before the column value is fetched.
                        </p>
                        <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89__CHDFCIJJ" title="Shows default authorization indicator behavior. This table has 6 columns. Column 1 is column authorization, column 2 is column value, column 3 is IND providedRC provided, column 4 is IND not providedRC provided, column 5 is IND prvidedRC not provided, and column 6 is IND not providedRC not provided.">Table B-1</a> describes the default authorization behavior for OCI return indicators. 
                        </p>
                        <div class="tblformalwide" id="GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89__CHDFCIJJ">
                           <p class="titleintable">Table B-1 Authorization Indicator Behavior (By Default)</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Authorization Indicator Behavior (By Default)" summary="Shows default authorization indicator behavior. This table has 6 columns. Column 1 is column authorization, column 2 is column value, column 3 is IND providedRC provided, column 4 is IND not providedRC provided, column 5 is IND prvidedRC not provided, and column 6 is IND not providedRC not provided." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d131202e759">Column Authorization</th>
                                    <th align="left" valign="bottom" width="12%" id="d131202e762">Column Value</th>
                                    <th align="left" valign="bottom" width="18%" id="d131202e765">IND ProvidedRC Provided</th>
                                    <th align="left" valign="bottom" width="18%" id="d131202e770">IND Not ProvidedRC Provided</th>
                                    <th align="left" valign="bottom" width="18%" id="d131202e775">IND ProvidedRC Not Provided</th>
                                    <th align="left" valign="bottom" width="17%" id="d131202e780">IND Not ProvidedRC Not Provided</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d131202e787" headers="d131202e759 ">
                                       <p>Unauthorized</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d131202e787 d131202e762 ">
                                       <p>Any</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e787 d131202e765 ">
                                       <p>OCI_SUCCESS</p>
                                       <p>Error = 0</p>
                                       <p>IND = -1</p>
                                       <p>RC = 24530</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e787 d131202e770 ">
                                       <p>OCI_SUCCESS</p>
                                       <p>Error = 1405</p>
                                       <p>IND = N/A</p>
                                       <p>RC = 24530</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e787 d131202e775 ">
                                       <p>OCI_SUCCESS</p>
                                       <p>Error = 0</p>
                                       <p>IND = -1</p>
                                       <p>RC = N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d131202e787 d131202e780 ">
                                       <p>OCI_SUCCESS</p>
                                       <p>Error = 1405</p>
                                       <p>IND =-N/A</p>
                                       <p>RC = N/A</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d131202e830" headers="d131202e759 ">
                                       <p>Unknown</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d131202e830 d131202e762 ">
                                       <p>Null</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e830 d131202e765 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (0)</p>
                                       <p>IND = -1</p>
                                       <p>RC = 24531 (0)</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e830 d131202e770 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (1405)</p>
                                       <p>IND = N/A</p>
                                       <p>RC = 24531 (1405)</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e830 d131202e775 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (0)</p>
                                       <p>IND = -1</p>
                                       <p>RC = N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d131202e830 d131202e780 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (1405)</p>
                                       <p>IND = N/A</p>
                                       <p>RC = N/A</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d131202e873" headers="d131202e759 ">
                                       <p>Unknown</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d131202e873 d131202e762 ">
                                       <p>Not Null and Not Truncated</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e873 d131202e765 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (0)</p>
                                       <p>IND = 0</p>
                                       <p>RC = 24531 (0)</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e873 d131202e770 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (0)</p>
                                       <p>IND = N/A</p>
                                       <p>RC = 24531 (0)</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e873 d131202e775 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (0)</p>
                                       <p>IND = 0</p>
                                       <p>RC = N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d131202e873 d131202e780 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (0)</p>
                                       <p>IND = N/A</p>
                                       <p>RC = N/A</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d131202e916" headers="d131202e759 ">
                                       <p>Unknown</p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d131202e916 d131202e762 ">
                                       <p>Not Null and Truncated</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e916 d131202e765 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (24345)</p>
                                       <p>IND = data_len</p>
                                       <p>RC = 24531 (1406)</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e916 d131202e770 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (24345)</p>
                                       <p>IND = N/A</p>
                                       <p>RC = 24531 (1406)</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d131202e916 d131202e775 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (1406)</p>
                                       <p>IND = data_len</p>
                                       <p>RC = N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d131202e916 d131202e780 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24536 (1406)</p>
                                       <p>IND = N/A</p>
                                       <p>RC = N/A</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89__GUID-C32EB7BD-A9C0-4757-99F2-E6C0AA7EE50E">
                           <p class="notep1">See Also:</p>
                           <p><a href="../lnoci/oci-programming-basics.html#LNOCI020" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide </span></a>Table 2-4 shows the default fetch behavior without column security
                           </p>
                        </div>
                        <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89__CHDHIFDF" title="Shows default authorization indicator behavior when the OCI_ATTR_NO_AUTH_WARNING parameter is set to TRUE. This table has 6 columns. Column 1 is column authorization, column 2 is column value, column 3 is IND providedRC provided, column 4 is IND not providedRC provided, column 5 is IND prvidedRC not provided, and column 6 is IND not providedRC not provided.">Table B-2</a> describes the default behavior when the <code class="codeph">OCI_ATTR_NO_AUTH_WARNING</code> parameter is set to <code class="codeph">TRUE</code>. 
                        </p>
                        <div class="tblformalwide" id="GUID-DAA3C287-C25F-4B0E-8E15-91A28ABE4F89__CHDHIFDF">
                           <p class="titleintable">Table B-2 Authorization Indicator Behavior (By Default) - OCI_ATTR_NO_AUTH_WARNING=TRUE</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Authorization Indicator Behavior (By Default) - OCI_ATTR_NO_AUTH_WARNING=TRUE" summary="Shows default authorization indicator behavior when the OCI_ATTR_NO_AUTH_WARNING parameter is set to TRUE. This table has 6 columns. Column 1 is column authorization, column 2 is column value, column 3 is IND providedRC provided, column 4 is IND not providedRC provided, column 5 is IND prvidedRC not provided, and column 6 is IND not providedRC not provided." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="18%" id="d131202e991">Column Authorization</th>
                                    <th align="left" valign="bottom" width="16%" id="d131202e996">Column Value</th>
                                    <th align="left" valign="bottom" width="19%" id="d131202e1001">IND ProvidedRC Provided</th>
                                    <th align="left" valign="bottom" width="20%" id="d131202e1006">IND Not ProvidedRC Provided</th>
                                    <th align="left" valign="bottom" width="13%" id="d131202e1011">IND ProvidedRC Not Provided</th>
                                    <th align="left" valign="bottom" width="15%" id="d131202e1016">IND Not ProvidedRC Not Provided</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d131202e1023" headers="d131202e991 ">
                                       <p>Unknown</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d131202e1023 d131202e996 ">
                                       <p>Null</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d131202e1023 d131202e1001 ">
                                       <p>Error = 0</p>
                                       <p>IND = -1</p>
                                       <p>RC = 24531 (0)</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d131202e1023 d131202e1006 ">
                                       <p>Error = 1405</p>
                                       <p>IND = N/A</p>
                                       <p>RC = 24531 (1405)</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d131202e1023 d131202e1011 ">
                                       <p>Error = 0</p>
                                       <p>IND = -1</p>
                                       <p>RC = N/A)</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d131202e1023 d131202e1016 ">
                                       <p>Error = 1405</p>
                                       <p>IND = N/A</p>
                                       <p>RC = N/A</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d131202e1058" headers="d131202e991 ">
                                       <p>Unknown</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d131202e1058 d131202e996 ">
                                       <p>Not Null and Not Truncated</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d131202e1058 d131202e1001 ">
                                       <p>Error = 0</p>
                                       <p>IND = 0</p>
                                       <p>RC = 24531 (0)</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d131202e1058 d131202e1006 ">
                                       <p>Error = 0</p>
                                       <p>IND = N/A</p>
                                       <p>RC = 24531 (0)</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d131202e1058 d131202e1011 ">
                                       <p>Error = 0</p>
                                       <p>IND = 0</p>
                                       <p>RC = N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d131202e1058 d131202e1016 ">
                                       <p>Error = 0</p>
                                       <p>IND = N/A</p>
                                       <p>RC = N/A</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d131202e1093" headers="d131202e991 ">
                                       <p>Unknown</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d131202e1093 d131202e996 ">
                                       <p>Not Null and Truncated</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d131202e1093 d131202e1001 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24345</p>
                                       <p>IND = data_len</p>
                                       <p>RC = 24531 (1406)</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d131202e1093 d131202e1006 ">
                                       <p>SUCCESS_WITH_INFO</p>
                                       <p>Error = 24345</p>
                                       <p>IND = N/A</p>
                                       <p>RC = 24531 (1406)</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d131202e1093 d131202e1011 ">
                                       <p>Error = 1406</p>
                                       <p>IND = data_len</p>
                                       <p>RC = N/A)</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d131202e1093 d131202e1016 ">
                                       <p>Error = 1406</p>
                                       <p>IND = N/A</p>
                                       <p>RC = N/A</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99652"></a><a id="DBFSG99651"></a><div class="props_rev_3"><a id="GUID-DDDD02FE-1773-438C-9862-67F247CA8123" name="GUID-DDDD02FE-1773-438C-9862-67F247CA8123"></a><h4 id="DBFSG-GUID-DDDD02FE-1773-438C-9862-67F247CA8123" class="sect4">Using OCI Describe for Column Security</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">OCIDescribeAny()</code> function enables an explicit describe of schema objects. Applications sometimes need to know if a column is protected by a column constraint before fetching data. You can use this information to guide the application to process the data and indicators. This is especially useful to applications that handle dynamic SQL. The attribute <code class="codeph">OCI_ATTR_XDS_POLICY_STATUS</code> for the OCI parameter handle<a id="d131202e1253" class="indexterm-anchor"></a> is of data type <code class="codeph">ub4</code> and has the following possible values:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCI_XDS_POLICY_NONE</code>: No XDS policy <a id="d131202e1268" class="indexterm-anchor"></a>for the column or the policy is not enabled
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_XDS_POLICY_ENABLED</code>: policy is <a id="d131202e1280" class="indexterm-anchor"></a>enabled for the column
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_XDS_POLICY_UNKNOWN</code>: policy <a id="d131202e1292" class="indexterm-anchor"></a>unknown
                              </p>
                           </li>
                        </ul>
                        <p>If the column status is <code class="codeph">OCI_XDS_POLICY_NONE</code>, then the column values will always be "authorized." If the column status is <code class="codeph">OCI_XDS_POLICY_ENABLED</code>, then the column values will be either "authorized" or "unauthorized." If the column status is <code class="codeph">OCI_XDS_POLICY_UNKNOWN</code>, the column value authorization will always be "unknown."
                        </p>
                        <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-DDDD02FE-1773-438C-9862-67F247CA8123__BHCGCGBC">Example B-2</a> shows how to use the <code class="codeph">OCIDescribeAny()</code> function to perform an explicit describe on a set of schema objects. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-DDDD02FE-1773-438C-9862-67F247CA8123__GUID-4462F058-E559-4499-AB71-77842BF3A94A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../lnoci/describing-schema-metadata.html#LNOCI060" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DDDD02FE-1773-438C-9862-67F247CA8123__BHCGCGBC">
                        <p class="titleinexample">Example B-2 Using the OCIDescribeAny Function to Enable an Explicit Describe</p><pre class="oac_no_warn" dir="ltr">void desc_explicit()
{
  const char *table = "col_sec_tab";
  ub4 pos;
  ub2 numcol;
  OCIParam *paramh;
  OCIParam *collst;
  OCIParam *col;
  ub4 colnamelen, colseclen;
  ub1 colname[20];
  ub1 *colnm;
  ub4 colsec;
  ub4 tablen = strlen((char *)table);
 
  checkerr(errhp, OCIDescribeAny(svchp, errhp, (dvoid *)table, tablen,
                                 OCI_OTYPE_NAME, 0, OCI_PTYPE_TABLE, deschp));
 
  checkerr(errhp, OCIAttrGet(deschp, OCI_HTYPE_DESCRIBE, &amp;paramh, 0,
                             OCI_ATTR_PARAM, errhp));
 
  checkerr(errhp, OCIAttrGet(paramh, OCI_DTYPE_PARAM, &amp;numcol, 0,
                             OCI_ATTR_NUM_COLS, errhp));
 
 
  checkerr(errhp, OCIAttrGet(paramh, OCI_DTYPE_PARAM, &amp;collst, 0,
                             OCI_ATTR_LIST_COLUMNS, errhp));
 
  printf("Number of columns = %d\n\n", numcol);
 
  printf(" Column No   Column Name   Column Security\n");
  printf(" ---------   -----------   ---------------\n\n");
 
 
  for (pos = 1; (ub4) pos &lt;= numcol; pos++)
  {
    checkerr(errhp, OCIParamGet (collst, OCI_DTYPE_PARAM, errhp,
                                 (dvoid **)&amp;col, pos));
 
    checkerr(errhp, OCIAttrGet ((dvoid *)col, (ub4) OCI_DTYPE_PARAM,
                                (dvoid **)&amp;colnm, (ub4 *) &amp;colnamelen,
                                (ub4) OCI_ATTR_NAME, errhp));
 
    memset (colname, ' ', 20);
    strncpy((char *)colname, (char *)colnm, colnamelen);
    colname[10] = '\0';
 
    checkerr(errhp, OCIAttrGet ((dvoid *)col, (ub4) OCI_DTYPE_PARAM,
                                (dvoid **)&amp;colsec, (ub4 *) &amp;colseclen,
                                (ub4) OCI_ATTR_XDS_POLICY_STATUS, errhp));
 
    printf("    %d         %s     %s\n", pos, colname,
                           ((colsec == OCI_XDS_POLICY_ENABLED) ? "ENABLED" :
                           ((colsec == OCI_XDS_POLICY_NONE)   ?  "NONE"    :
                           ((colsec == OCI_XDS_POLICY_UNKNOWN) ? "UNKNOWN" :
                                                                 "ERROR"))));
  }
 
  return;
}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DBFSG99653"></a><div class="props_rev_3"><a id="GUID-14EDF7D1-3807-4935-9BED-33070F36505E" name="GUID-14EDF7D1-3807-4935-9BED-33070F36505E"></a><h3 id="DBFSG-GUID-14EDF7D1-3807-4935-9BED-33070F36505E" class="sect3">About Using JDBC to Retrieve Column Authorization Indicators</h3>
               <div>
                  <p>JDBC applications can access database tables that have data security policies enabled, and test columns for authorization indicators. You can use the JDBC APIs described in this section to check the security attributes and user authorization for a table column. </p>
                  <div class="p">This section contains:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-B0E9D4FC-3EDA-4120-B358-38439B8A72C1">About Checking Security Attributes for a Table Column</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-B0FBF985-51B0-4531-931B-CA6496B547F4">About Checking User Authorization for a Table Column</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB">Example of Checking Security Attributes and User Authorization</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99654"></a><div class="props_rev_3"><a id="GUID-B0E9D4FC-3EDA-4120-B358-38439B8A72C1" name="GUID-B0E9D4FC-3EDA-4120-B358-38439B8A72C1"></a><h4 id="DBFSG-GUID-B0E9D4FC-3EDA-4120-B358-38439B8A72C1" class="sect4">About Checking Security Attributes for a Table Column</h4>
                  <div>
                     <p>The <code class="codeph">getSecurityAttribute</code> method of the <a id="d131202e1584" class="indexterm-anchor"></a><code class="codeph">oracle.jdbc.OracleResultSetMetaData</code> interface enables you to check the data security policy attribute for a column. The security attribute has the following definition:
                     </p><pre class="oac_no_warn" dir="ltr">public static enum SecurityAttribute
  { 
    NONE,
    ENABLED,
    UNKNOWN;
  }
</pre><p><code class="codeph">SecurityAttribute</code> can have the following values:
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">NONE</code> implies that no column <a id="d131202e1606" class="indexterm-anchor"></a>data security policy is enabled for the column. This means that the column either does not have a policy applied to it, or the policy is not enabled.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ENABLED</code> implies that column <a id="d131202e1618" class="indexterm-anchor"></a>data security policy is enabled for the column.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">UNKNOWN</code> implies that the column <a id="d131202e1630" class="indexterm-anchor"></a>data security policy for the column is unknown. This could happen, for example, if the column is a union of two columns but only one of the columns has data security attributes.
                              </p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">getSecurityAttribute</code> method has the following signature:
                        </p><pre class="oac_no_warn" dir="ltr">public SecurityAttribute getSecurityAttribute(int indexOfColumnInResultSet) throws SQLException;
</pre><p>The <code class="codeph">getSecurityAttribute</code> method returns the <code class="codeph">SecurityAttribute</code> value for the column.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B0E9D4FC-3EDA-4120-B358-38439B8A72C1__GUID-0E0595F6-6F6C-4523-8CE7-E4BCD45DB911">
                           <p class="notep1">See Also:</p>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB__BHCCDEEG">Example B-3</a> for an example of using the <code class="codeph">getSecurityAttribute</code> method
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99655"></a><div class="props_rev_3"><a id="GUID-B0FBF985-51B0-4531-931B-CA6496B547F4" name="GUID-B0FBF985-51B0-4531-931B-CA6496B547F4"></a><h4 id="DBFSG-GUID-B0FBF985-51B0-4531-931B-CA6496B547F4" class="sect4">About Checking User Authorization for a Table Column</h4>
                  <div>
                     <p>The<a id="d131202e1773" class="indexterm-anchor"></a> <code class="codeph">getAuthorizationIndicator</code> method of the <code class="codeph">oracle.jdbc.OracleResultSet</code> interface enables you to check the <code class="codeph">AuthorizationIndicator</code> attribute for a column. The <code class="codeph">AuthorizationIndicator</code> attribute has the following definition:
                     </p><pre class="oac_no_warn" dir="ltr">public static enum AuthorizationIndicator
  { 
    NONE,
    UNAUTHORIZED,
    UNKNOWN;
  }
</pre><p><code class="codeph">AuthorizationIndicator</code> can have the following values:
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">NONE</code> implies that access <a id="d131202e1805" class="indexterm-anchor"></a>to column data is authorized. The user might have explicit authorization or the column could be lacking security attributes.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">UNAUTHORIZED</code> implies that <a id="d131202e1817" class="indexterm-anchor"></a>access to column data is not authorized.
                              </p>
                              <p>When the column value is retrieved, the authorization indicator is evaluated based on the enabled column constraint policy for the column. If the user is not authorized to access the column value, a <code class="codeph">NULL</code> value is returned to the application along with the authentication indicator, <code class="codeph">AuthorizationIndicator.UNAUTHORIZED</code>. 
                              </p>
                              <p>If there is a column expression involving the unauthorized base column, the evaluated value is returned to the application along with the <code class="codeph">AuthorizationIndicator.UNAUTHORIZED</code> indicator. The application should examine the authorization indicator before interpreting the returned data.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">UNKNOWN</code> implies that the <a id="d131202e1842" class="indexterm-anchor"></a>authorization indicator cannot be determined.
                              </p>
                              <p>Sometimes, the server fails to determine the authorization indicator for a <code class="codeph">SELECT</code> item due to functionality limitations or performance constrains. This can happen if the query involves a column expression, for example, and the server is unable to compute whether the top operator is supposed to be authorized. In such a scenario, the server returns the authorization indicator, <code class="codeph">AuthorizationIndicator.UNKNOWN</code> to the application. The returned value can be <code class="codeph">NULL</code> or not <code class="codeph">NULL</code> depending on how the column expression operates on the underlying column value. 
                              </p>
                              <p>If the application sees an <code class="codeph">UNKNOWN</code> authorization indictor, it should determine whether or not the returned value should be accessed. If the query and its column expressions are designed to handle unauthorized <code class="codeph">NULL</code> values from the underlying columns, then the application can use the returned value. Otherwise the application may have to take appropriate actions for the returned value.
                              </p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">getAuthorizationIndicator</code> method has the following forms:
                        </p><pre class="oac_no_warn" dir="ltr">/**
 * Accepts the column index number as an argument and retrieves the corresponding column security AuthorizationIndicator value
 */
public AuthorizationIndicator getAuthorizationIndicator(int columnIndex) throws SQLException;

/**
 * Accepts the column name as a string and retrieves the column security AuthorizationIndicator value
 */
public AuthorizationIndicator getAuthorizationIndicator(String columnName)throws SQLException;
</pre><div class="infoboxnote" id="GUID-B0FBF985-51B0-4531-931B-CA6496B547F4__GUID-2069CC0C-FB95-4EFC-88BB-61AD9B74098E">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The preceding methods throw a <code class="codeph">SQLException</code> if the index specified in the argument is invalid.
                                 </p>
                              </li>
                              <li>
                                 <p>If a column is masked, the JDBC user sees it as a NULL value. An exception is not thrown for this.</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-B0FBF985-51B0-4531-931B-CA6496B547F4__GUID-3C2EA72B-767F-4BF6-9A52-FB7E7A7FD14F">
                           <p class="notep1">See Also:</p>
                           <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB__BHCCDEEG">Example B-3</a> for an example of using the <code class="codeph">getAuthorizationIndicator</code> method
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99657"></a><a id="DBFSG99656"></a><div class="props_rev_2"><a id="GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB" name="GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB"></a><h4 id="DBFSG-GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB" class="sect4">Example of Checking Security Attributes and User Authorization</h4>
                  <div>
                     <div class="section">
                        <p><a href="configuring-oci-and-jdbc-applications-for-column-authorization.html#GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB__BHCCDEEG">Example B-3</a> <a id="d131202e2014" class="indexterm-anchor"></a><a id="d131202e2020" class="indexterm-anchor"></a>illustrates <a id="d131202e2027" class="indexterm-anchor"></a><a id="d131202e2033" class="indexterm-anchor"></a>the use of the <code class="codeph">getSecurityAttribute</code> and <code class="codeph">getAuthorization</code> methods to check security attributes and user authorization. The program uses the sample <code class="codeph">EMP</code> table to illustrate the procedure.
                        </p>
                        <p>The <code class="codeph">EMP</code> table is configured as follows:
                        </p>
                        <div class="tblformal" id="GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB__GUID-154CAEAF-8CED-4A1A-8825-9B1B1F86D5D3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Shows the configuration of the EMP table columns and their security attributes." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="15%" id="d131202e2064">Column No.</th>
                                    <th align="left" valign="bottom" width="32%" id="d131202e2067">Column Title</th>
                                    <th align="left" valign="bottom" width="54%" id="d131202e2070">Security Attribute</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2075" headers="d131202e2064 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2075 d131202e2067 ">
                                       <p><code class="codeph">EMPNO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2075 d131202e2070 ">
                                       <p>No security attribute</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2086" headers="d131202e2064 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2086 d131202e2067 ">
                                       <p><code class="codeph">ENAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2086 d131202e2070 ">
                                       <p>Active security</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2097" headers="d131202e2064 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2097 d131202e2067 ">
                                       <p><code class="codeph">JOB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2097 d131202e2070 ">
                                       <p>No security attribute</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2108" headers="d131202e2064 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2108 d131202e2067 ">
                                       <p><code class="codeph">MGR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2108 d131202e2070 ">
                                       <p>Active security</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2119" headers="d131202e2064 ">
                                       <p>5</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2119 d131202e2067 ">
                                       <p><code class="codeph">HIREDATE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2119 d131202e2070 ">
                                       <p>Unknown security attribute</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2131" headers="d131202e2064 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2131 d131202e2067 ">
                                       <p><code class="codeph">SAL</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2131 d131202e2070 ">
                                       <p>Active security</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2143" headers="d131202e2064 ">
                                       <p>7</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2143 d131202e2067 ">
                                       <p><code class="codeph">COMM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2143 d131202e2070 ">
                                       <p>No security attribute</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d131202e2154" headers="d131202e2064 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d131202e2154 d131202e2067 ">
                                       <p><code class="codeph">DEPTNO</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="54%" headers="d131202e2154 d131202e2070 ">
                                       <p>Active security</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The program performs the following actions: </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Selects rows from the <code class="codeph">EMP</code> table</span></li>
                        <li class="stepexpand"><span>Uses the <code class="codeph">getSecurityAttribute</code> method to extract the security setting for each column in the result set. It prints these as column headings</span></li>
                        <li class="stepexpand"><span>Uses the <code class="codeph">getAuthorizationIndicator</code> method to check the user authorization for returned column values. The program prints these values and formats them as follows:</span><div>
                              <p>An unauthorized value that is returned as <code class="codeph">NULL</code> is represented by four asterisk characters (<code class="codeph">****</code>).
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-B407C69C-807A-4AF9-9644-1B0E1F596ABB__BHCCDEEG">
                        <p class="titleinexample">Example B-3 Check Security Attributes and User Authorization</p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement("SELECT * FROM EMP");
  ResultSet rs = pstmt.executeQuery();
  OracleResultSetMetaData metaData = 
   (OracleResultSetMetaData)rs.getMetaData();
  int nbOfColumns = metaData.getColumnCount();
  OracleResultSetMetaData.SecurityAttribute[] columnSecurity
    = new OracleResultSetMetaData.SecurityAttribute[nbOfColumns];
  // display which columns are protected:
  for(int i=0;i&lt;nbOfColumns;i++)
  {
    columnSecurity[i] = metaData.getSecurityAttribute(i+1);
    System.out.print(columnSecurity[i]);
    System.out.print("\t");
  }
  System.out.println();
  System.out.println("---------------------------------------------");
  while(rs.next())
  {
    for(int colIndex=0;colIndex&lt;nbOfColumns;colIndex++)
    {
      OracleResultSet.AuthorizationIndicator visibility
        = ((OracleResultSet)rs).getAuthorizationIndicator(colIndex+1);
      if(visibility == OracleResultSet.AuthorizationIndicator.UNAUTHORIZED)
        System.out.print("****");
      else
        System.out.print(rs.getString(colIndex+1));
      System.out.print("\t");
    }
    System.out.println("");
  }
  rs.close();
  pstmt.close();    
</pre><p>The program generates the following output:</p><pre class="oac_no_warn" dir="ltr">NONE   ENABLED   NONE       ENABLED   UNKNOWN      ENABLED   NONE   ENABLED
----------------------------------------------------------------------------------
7369   SMITH     CLERK      7902      1980-12-17   ****      null   20  
7499   ALLEN     SALESMAN   7698      1981-02-20   ****      300    30  
7521   WARD      SALESMAN   7698      1981-02-22   ****      500    30
7566   JONES     MANAGER    7839      1981-04-02   ****      null   20  
7654   MARTIN    SALESMAN   7698      1981-09-28   ****      1400   30  
7698   BLAKE     MANAGER    7839      1981-05-01   ****      null   30  
7782   CLARK     MANAGER    7839      1981-06-09   ****      null   10  
7788   SCOTT     ANALYST    7566      1987-04-19   ****      null   20  
7839   KING      PRESIDENT  null      1981-11-17   ****      null   10  
7844   TURNER    SALESMAN   7698      1981-09-08   ****      0      30  
7876   ADAMS     CLERK      7788      1987-05-23   ****      null   20  
7900   JAMES     CLERK      7698      1981-12-03   ****      null   30  
7902   FORD      ANALYST    7566      1981-12-03   ****      null   20  
7934   MILLER    CLERK      7782      1982-01-23   ****      null   10  
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>