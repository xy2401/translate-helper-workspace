<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="There are many SQL and SQL*Plus statements that are useful for performing operations on standby databases in an Oracle Data Guard environment."></meta>
      <meta name="description" content="There are many SQL and SQL*Plus statements that are useful for performing operations on standby databases in an Oracle Data Guard environment."></meta>
      <title>与Oracle Data Guard相关的SQL语句</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Concepts and Administration "></meta>
      <meta property="og:description" content="There are many SQL and SQL*Plus statements that are useful for performing operations on standby databases in an Oracle Data Guard environment."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Concepts and Administration"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96244-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="LOG_ARCHIVE_DEST_n-parameter-attributes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-data-guard-in-oracle-database-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration"></meta>
    <meta name="dcterms.isVersionOf" content="SBYDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-data-guard-in-oracle-database-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-parameters-views.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">与Oracle Data Guard相关的SQL语句</li>
            </ol>
            <a id="GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF" name="GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF"></a><a id="SBYDB01222"></a>
            
            <h2 id="SBYDB-GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF" class="sect2"><span class="enumeration_chapter">18</span>与Oracle Data Guard相关的SQL语句</h2>
         </header>
         <div class="ind">
            <div>
               <p>有许多SQL和SQL * Plus语句可用于在Oracle Data Guard环境中对备用数据库执行操作。</p>
               <p>请参阅以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="sql-statements-used-by-oracle-data-guard.html#GUID-F690B602-6582-465B-8E86-0B0A52838D66" title="此表描述与Oracle Data Guard相关的ALTER DATABASE语句。">ALTER DATABASE语句</a></p>
                  </li>
                  <li>
                     <p><a href="sql-statements-used-by-oracle-data-guard.html#GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739" title="此表描述了与Oracle Data Guard相关的ALTER SESSION语句。">ALTER SESSION语句</a></p>
                  </li>
                  <li>
                     <p><a href="sql-statements-used-by-oracle-data-guard.html#GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934" title="此表描述了与Oracle Data Guard相关的ALTER SYSTEM语句。">更改系统声明</a></p>
                  </li>
               </ul>
               <p>有关所有SQL语句的完整语法和说明，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF008" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
               </p>
               <p>有关可以使用<code class="codeph">ALTER SYSTEM SET</code>语句设置和动态更新的初始化参数列表，请参阅<a href="oracle-initialization-parameters-used-by-oracle-data-guard.html#GUID-A1CF9B00-F0F5-4F3B-A0E0-9D6ABF775EC9" title="这是您为Data Guard环境设置的初始化参数的字母顺序列表。它指示参数是为主角色还是备用角色设置的，还提供了设置每个参数的提示。">初始化参数</a> 。
               </p>
            </div><a id="SBYDB5080"></a><a id="SBYDB4903"></a><div class="props_rev_3"><a id="GUID-F690B602-6582-465B-8E86-0B0A52838D66" name="GUID-F690B602-6582-465B-8E86-0B0A52838D66"></a><h3 id="SBYDB-GUID-F690B602-6582-465B-8E86-0B0A52838D66" class="sect3"><span class="enumeration_section">18.1</span> ALTER DATABASE语句</h3>
               <div>
                  <p>此表描述与Oracle Data Guard相关的<code class="codeph">ALTER DATABASE</code>语句。
                  </p>
                  <div class="tblformalwide" id="GUID-F690B602-6582-465B-8E86-0B0A52838D66__G1050519">
                     <p class="titleintable">表18-1 Data Guard环境中使用的ALTER DATABASE语句</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Data Guard环境中使用的ALTER DATABASE语句" width="100%" border="1" summary="This 2 column table lists the ALTER DATABASE statements and describes how each one is applicable to the Data Guard environment." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d53597e211">ALTER DATABASE语句</th>
                              <th align="left" valign="bottom" width="55%" id="d53597e214">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e219" headers="d53597e211 ">
                                 <p><code class="codeph">激活[实体|逻辑]待机数据库完成应用]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e219 d53597e214 ">
                                 <p>执行故障转移。必须先装入备用数据库，然后才能使用此语句激活备用数据库。</p>
                                 <p><span class="bold">注意：</span>不要使用<code class="codeph">ALTER DATABASE ACTIVATE STANDBY DATABASE</code>语句进行故障转移，因为它会导致数据丢失。相反，请使用以下最佳实践：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>对于物理备用数据库，请使用<a id="d53597e237" class="indexterm-anchor"></a><a id="d53597e243" class="indexterm-anchor"></a><a id="d53597e247" class="indexterm-anchor"></a> <code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE</code>使用<code class="codeph">FINISH</code>关键字<code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE</code>语句，以尽可能快地执行角色转换，几乎没有数据丢失，也不会使其他备用数据库无法使用。
                                       </p>
                                    </li>
                                    <li>
                                       <p>对于逻辑备用数据库，请使用<code class="codeph">ALTER DATABASE PREPARE TO SWITCHOVER</code>和<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code>语句。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e267" headers="d53597e211 ">
                                 <p><code class="codeph">ADD</code> <code class="codeph">[STANDBY</code> ] <code class="codeph">LOGFILE [THREAD</code> <span class="variable" translate="no">integer</span> <code class="codeph">] [GROUP</code> <span class="variable" translate="no">integer</span> <code class="codeph">]</code> <span class="italic"><code class="codeph">filespec</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e267 d53597e214 ">
                                 <p><a id="d53597e294" class="indexterm-anchor"></a>将一个或多个联机重做日志文件组或备用重做日志文件组添加到指定的线程，使日志文件可用于分配了该线程的实例。
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-64E46731-490D-4228-AC87-A07CDE3C75FE" title="在主数据库上添加或删除日志文件组后，应重新评估和调整物理备用数据库上的重做日志和备用重做日志的配置。">添加或删除重做日志文件组</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e309" headers="d53597e211 ">
                                 <p><code class="codeph">ADD [STANDBY</code> ] <code class="codeph">LOGFILE</code> <code class="codeph">MEMBER</code> ' <span class="variable" translate="no">filename</span> ' <code class="codeph">[REUSE]</code> <code class="codeph">TO</code> <span class="variable" translate="no">logfile-descriptor</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e309 d53597e214 ">
                                 <p><a id="d53597e334" class="indexterm-anchor"></a>将新成员添加到现有联机重做日志文件组或备用重做日志文件组。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e340" headers="d53597e211 ">
                                 <p><code class="codeph">[ADD</code> | <code class="codeph">DROP</code> ] <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> <code class="codeph">DATA {PRIMARY KEY|UNIQUE INDEX}</code> <code class="codeph">COLUMNS</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e340 d53597e214 ">
                                 <p><a id="d53597e361" class="indexterm-anchor"></a>此语句仅适用于逻辑备用数据库。
                                 </p>
                                 <p>在创建逻辑备用数据库之前，使用它来启用完全补充日志记录。这是必要的，因为补充日志记录是逻辑备用数据库的更改源。要实现完整的补充日志记录，必须在此语句中指定<code class="codeph">PRIMARY KEY COLUMNS</code>或<code class="codeph">UNIQUE INDEX COLUMNS</code>关键字。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e375" headers="d53597e211 ">
                                 <p><code class="codeph">承诺转向</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e375 d53597e214 ">
                                 <p><a id="d53597e381" class="indexterm-anchor"></a><a id="d53597e385" class="indexterm-anchor"></a>执行切换到：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>将当前主数据库更改为备用数据库角色</p>
                                    </li>
                                    <li>
                                       <p>将一个备用数据库更改为主数据库角色。</p>
                                    </li>
                                 </ul>
                                 <p>切换到物理备用数据库时，从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始， <code class="codeph">COMMIT TO SWITCHOVER</code>语句已替换为<code class="codeph">SWITCHOVER TO</code>语句。仍支持<code class="codeph">COMMIT TO SWITCHOVER</code>语句，但Oracle建议您使用新的<code class="codeph">SWITCHOVER TO</code>语句。
                                 </p>
                                 <p><span class="bold">注意：</span>在逻辑备用数据库上，在发出<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code>语句之前，发出<code class="codeph">ALTER DATABASE PREPARE TO SWITCHOVER</code>语句以准备切换<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code> 。
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="performing-oracle-data-guard-role-transitions.html#GUID-65C1BE5E-A2AC-4938-B03F-2495761DE500" title="在主数据库上启动切换，并在目标备用数据库上完成切换。">使用旧语法执行切换到物理备用数据库并使用旧语法</a> <a href="performing-oracle-data-guard-role-transitions.html#GUID-AAAA9A3B-7A1A-4044-90EC-F581D87439F4" title="这些步骤描述了如何执行到物理备用数据库的故障转移。">执行到物理备用数据库的故障转移</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e441" headers="d53597e211 ">
                                 <p><a id="d53597e443" class="indexterm-anchor"></a><code class="codeph">CONVERT TO [[PHYSICAL|SNAPSHOT] STANDBY] DATABASE</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e441 d53597e214 ">
                                 <p>将物理备用数据库转换为快照备用数据库，反之亦然。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e451" headers="d53597e211 ">
                                 <p><code class="codeph">CREATE [PHYSICAL|LOGICAL] STANDBY CONTROLFILE AS '</code> <span class="variable" translate="no">filename</span> <code class="codeph">' [REUSE]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e451 d53597e214 ">
                                 <p><a id="d53597e461" class="indexterm-anchor"></a><a id="d53597e467" class="indexterm-anchor"></a>创建用于维护物理或逻辑备用数据库的控制文件。在主数据库上发出此语句。
                                 </p>
                                 <p>有关此语句的示例，请参见<a href="creating-oracle-data-guard-physical-standby.html#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" title="为备用数据库创建控制文件（主数据库不必打开，但必须至少安装它）。">为备用数据库创建控制文件</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e482" headers="d53597e211 ">
                                 <p><code class="codeph">DROP [STANDBY] LOGFILE</code> <span class="variable" translate="no">logfile_descriptor</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e482 d53597e214 ">
                                 <p> <a id="d53597e491" class="indexterm-anchor"></a><a id="d53597e495" class="indexterm-anchor"></a>删除联机重做日志文件组或备用重做日志文件组的所有成员。 <a id="d53597e500" class="indexterm-anchor"></a><a id="d53597e504" class="indexterm-anchor"></a> 
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-64E46731-490D-4228-AC87-A07CDE3C75FE" title="在主数据库上添加或删除日志文件组后，应重新评估和调整物理备用数据库上的重做日志和备用重做日志的配置。">添加或删除重做日志文件组</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e519" headers="d53597e211 ">
                                 <p><code class="codeph">DROP [STANDBY] LOGFILE MEMBER</code> <span class="variable" translate="no">'filename'</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e519 d53597e214 ">
                                 <p><a id="d53597e527" class="indexterm-anchor"></a><a id="d53597e531" class="indexterm-anchor"></a>删除一个或多个联机重做日志文件成员或备用重做日志文件成员。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e537" headers="d53597e211 ">
                                 <p><code class="codeph">FAILOVER TO</code> <span class="italic"><code class="codeph">target_db_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e537 d53597e214 ">
                                 <p>此语句仅适用于物理备用数据库。</p>
                                 <p>它启动到指定主机数据库的故障转移。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e551" headers="d53597e211 ">
                                 <p><code class="codeph">[NO]强制记录</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e551 d53597e214 ">
                                 <p>控制Oracle数据库是否记录数据库中的所有更改，但临时表空间和临时段的更改除外。需要<code class="codeph">[NO]FORCE LOGGING</code>子句来防止备用数据库不一致。
                                 </p>
                                 <p>发出此语句时，必须至少挂载主数据库（并且它也可以打开）。有关此语句的示例，请参见<a href="creating-oracle-data-guard-physical-standby.html#GUID-AE2B1237-57A1-4745-A04C-4246A831A963" title="作为准备备用数据库创建的主数据库的一部分，您必须启用适合您计划使用Data Guard配置的方式的日志记录模式。">启用强制日志记录</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e572" headers="d53597e211 ">
                                 <p><code class="codeph">守护</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e572 d53597e214 ">
                                 <p>控制用户对逻辑备用数据库中的表的访问。可能的值为<code class="codeph">ALL</code> ， <code class="codeph">STANDBY</code>和<code class="codeph">NONE</code> 。有关详细信息，请参阅<a href="managing-oracle-data-guard-logical-standby-databases.html#GUID-572B9755-69F5-4BD7-9DFF-1F7EB1DE3771" title="SQL ALTER DATABASE GUARD语句控制用户对逻辑备用数据库中表的访问。">控制用户对逻辑备用数据库中的表的访问权限</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e599" headers="d53597e211 ">
                                 <p><code class="codeph">MOUNT</code> [ <code class="codeph">STANDBY DATABASE</code> ]</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e599 d53597e214 ">
                                 <p><a id="d53597e609" class="indexterm-anchor"></a><a id="d53597e613" class="indexterm-anchor"></a>安装备用数据库，允许备用实例从主实例接收重做数据。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e619" headers="d53597e211 ">
                                 <p><code class="codeph">打开</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e619 d53597e214 ">
                                 <p><a id="d53597e625" class="indexterm-anchor"></a><a id="d53597e629" class="indexterm-anchor"></a>打开以前启动并挂载的数据库：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>物理备用数据库以只读模式打开，将用户限制为只读事务并阻止生成重做数据。</p>
                                    </li>
                                    <li>
                                       <p>逻辑备用数据库以读/写模式打开。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e642" headers="d53597e211 ">
                                 <p><code class="codeph">PREPARE</code> <code class="codeph">SWITCHOVER</code> <code class="codeph">TO</code> <code class="codeph">SWITCHOVER</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e642 d53597e214 ">
                                 <p><a id="d53597e654" class="indexterm-anchor"></a><a id="d53597e658" class="indexterm-anchor"></a>此语句仅适用于逻辑备用数据库。
                                 </p>
                                 <p>它通过在切换发生<span class="italic">之前</span>构建LogMiner字典来准备主数据库和逻辑备用数据库以进行切换。字典构建完成后，发出<code class="codeph">ALTER DATABASE COMMIT TO SWITCHOVER</code>语句以切换主数据库和逻辑备用数据库的角色。
                                 </p>
                                 <p>有关此语句的示例，请参阅<a href="managing-oracle-data-guard-role-transitions.html#GUID-42B8B448-90E0-4D7D-82A3-AAA273E6E49B" title="执行切换以更改主数据库和逻辑备用数据库之间的角色时，请始终在主数据库上启动切换并在逻辑备用数据库上完成切换。">执行切换到逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e681" headers="d53597e211 ">
                                 <p><code class="codeph">恢复管理备用数据库[{DISCONNECT [FROM SESSION] | PARALLEL n | NODELAY | UNTIL CHANGE整数} ...]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e681 d53597e214 ">
                                 <p><a id="d53597e687" class="indexterm-anchor"></a><a id="d53597e691" class="indexterm-anchor"></a>此语句启动并控制物理备用数据库上的Redo Apply <a id="d53597e696" class="indexterm-anchor"></a><a id="d53597e700" class="indexterm-anchor"></a> 。您可以在已装入，打开或关闭的物理备用数据库上使用<code class="codeph">RECOVER MANAGED STANDBY DATABASE</code>子句。有关示例，请参阅<a href="creating-oracle-data-guard-physical-standby.html#GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" title="这些是启动物理备用数据库和重做应用的步骤。">启动物理备用数据库中的</a>步骤3以及<a href="oracle-data-guard-redo-apply-services.html#GUID-2B839172-947E-48A4-9FFD-33CC6907809F" title="执行重做应用时，物理备用数据库可以使用实时应用功能直接从备用重做日志文件应用重做，因为它们是由远程文件服务器（RFS）进程写入的。">将重做数据应用于物理备用数据库</a> 。
                                 </p>
                                 <p><span class="bold">注意：</span>不推荐使用多个子句和关键字，仅支持向后兼容性。有关这些已弃用的子句的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF52467" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e732" headers="d53597e211 ">
                                 <p><code class="codeph">RECOVER</code> <code class="codeph">MANAGED</code> <code class="codeph">STANDBY</code> <code class="codeph">DATABASE</code> <code class="codeph">CANCEL</code>  
                                 </p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e732 d53597e214 ">
                                 <p><a id="d53597e753" class="indexterm-anchor"></a><a id="d53597e757" class="indexterm-anchor"></a>应用当前归档重做日志文件后， <code class="codeph">CANCEL</code>子句取消物理备用数据库上的Redo Apply。
                                 </p>
                                 <p><span class="bold">注意：</span>不推荐使用多个子句和关键字，仅支持向后兼容性。有关这些子句的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF52467" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e775" headers="d53597e211 ">
                                 <p><code class="codeph">RECOVER</code> <code class="codeph">MANAGED</code> <code class="codeph">STANDBY</code> <code class="codeph">DATABASE</code> <code class="codeph">FINISH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e775 d53597e214 ">
                                 <p><code class="codeph">FINISH</code>子句在目标物理备用数据库上启动故障转移，并恢复当前备用重做日志文件。仅在主数据库发生故障时才使用<code class="codeph">FINISH</code>子句。该子句覆盖指定的任何延迟间隔。
                                 </p>
                                 <p><span class="bold">注意：</span>不推荐使用多个子句和关键字，仅支持向后兼容性。有关这些子句的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF52467" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e811" headers="d53597e211 ">
                                 <p><code class="codeph">REGISTER [OR REPLACE] [PHYSICAL|LOGICAL] LOGFILE</code> <span class="italic"><code class="codeph">filespec</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e811 d53597e214 ">
                                 <p>允许注册手动复制的归档重做日志文件。</p>
                                 <p><span class="bold">注意</span> ：仅在将相应的归档重做日志文件手动复制到备用数据库后才发出此命令。在日志文件处于复制过程中或日志文件不存在时发出此命令可能会导致备用数据库稍后出现错误。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e828" headers="d53597e211 ">
                                 <p><code class="codeph">RECOVER TO LOGICAL STANDBY</code> <span class="variable" translate="no">new_database_name</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e828 d53597e214 ">
                                 <p>指示应用服务以继续将更改应用于<span class="italic">物理</span>备用数据库，直到您发出将数据库转换为<span class="italic">逻辑</span>备用数据库的命令。有关详细信息，请参阅<a href="creating-oracle-data-guard-logical-standby.html#GUID-715EBEC1-21B9-4DA9-80A5-ED58033F94C8" title="重做日志包含将物理备用数据库转换为逻辑备用数据库所需的信息。">转换为逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e852" headers="d53597e211 ">
                                 <p><code class="codeph">RESET DATABASE TO INCARNATION</code> <span class="variable" translate="no">integer</span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e852 d53597e214 ">
                                 <p>将数据库的目标恢复版本从当前版本重置为不同的版本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e862" headers="d53597e211 ">
                                 <p><code class="codeph">SET</code> <code class="codeph">STANDBY</code> <code class="codeph">DATABASE</code> <code class="codeph">TO</code> <code class="codeph">MAXIMIZE</code> { <code class="codeph">PROTECTION</code> | <code class="codeph">AVAILABILITY</code> | <code class="codeph">PERFORMANCE</code> }</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e862 d53597e214 ">
                                 <p><a id="d53597e891" class="indexterm-anchor"></a><a id="d53597e897" class="indexterm-anchor"></a><a id="d53597e901" class="indexterm-anchor"></a><a id="d53597e907" class="indexterm-anchor"></a>使用此子句指定Oracle Data Guard配置中数据的保护级别。您可以从主数据库中指定此子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e914" headers="d53597e211 ">
                                 <p><code class="codeph">START LOGICAL STANDBY APPLY INITIAL</code> [ <span class="variable" translate="no">scn-value</span> ]] [ <code class="codeph">NEW PRIMARY</code> <span class="variable" translate="no">dblink</span> ]</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e914 d53597e214 ">
                                 <p>此语句仅适用于逻辑备用数据库。</p>
                                 <p>它在逻辑备用数据库上启动SQL Apply。有关此语句的示例，请参见<a href="oracle-data-guard-redo-apply-services.html#GUID-5E640AEE-12C7-4ED8-8C42-B989F7768E91" title="使用ALTER DATABASE SQL语句启动SQL Apply。">启动SQL Apply</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e944" headers="d53597e211 ">
                                 <p><code class="codeph">{STOP | ABORT} LOGICAL STANDBY APPLY</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e944 d53597e214 ">
                                 <p>此语句仅适用于逻辑备用数据库。</p>
                                 <p>使用<code class="codeph">STOP</code>子句以有序的方式停止逻辑备用数据库上的SQL Apply。使用<code class="codeph">ABORT</code>子句突然停止SQL Apply。有关此语句的示例，请参阅<a href="managing-oracle-data-guard-role-transitions.html#GUID-EBD0C21B-6356-446E-8BF5-7B7D96554713" title="涉及逻辑备用数据库的故障转移角色转换需要对发生故障的主数据库和所有旁观者逻辑备用数据库采取纠正措施。">执行故障转移到逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e967" headers="d53597e211 ">
                                 <p><code class="codeph">SWITCHOVER TO</code> <span class="italic"><code class="codeph">target_db_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e967 d53597e214 ">
                                 <p>此语句仅适用于物理备用数据库。</p>
                                 <p>它启动主数据库切换到指定的物理备用数据库。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="SBYDB5081"></a><a id="SBYDB4904"></a><div class="props_rev_3"><a id="GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739" name="GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739"></a><h3 id="SBYDB-GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739" class="sect3"><span class="enumeration_section">18.2</span>更改会话声明</h3>
               <div>
                  <p>此表描述了与Oracle Data Guard相关的<code class="codeph">ALTER SESSION</code>语句。
                  </p>
                  <div class="tblformalwide" id="GUID-0C30DE80-F67E-4B27-9ABE-F6FA51358739__BEIBDJAF">
                     <p class="titleintable">表18-2 Oracle Data Guard环境中使用的ALTER SESSION语句</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Data Guard环境中使用的ALTER SESSION语句" width="100%" border="1" summary="This 2 column table lists the ALTER SESSION statement and describes its relevance to the Data Guard environment." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d53597e1067">ALTER SESSION声明</th>
                              <th align="left" valign="bottom" width="55%" id="d53597e1070">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e1075" headers="d53597e1067 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">SESSION</code> [ <code class="codeph">ENABLE</code> | <code class="codeph">DISABLE</code> ] <code class="codeph">GUARD</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e1075 d53597e1070 ">
                                 <p><a id="d53597e1093" class="indexterm-anchor"></a><a id="d53597e1097" class="indexterm-anchor"></a><a id="d53597e1101" class="indexterm-anchor"></a>此语句仅适用于逻辑备用数据库。
                                 </p>
                                 <p>此语句允许特权用户为当前会话打开和关闭数据库保护。</p>
                                 <p>有关更多信息，请参阅<a href="managing-oracle-data-guard-logical-standby-databases.html#GUID-43971CB9-3337-4575-B4EF-D591878982F1" title="即使在应用SQL语句时，逻辑备用数据库也可用于报告活动。">修改逻辑备用数据库</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e1118" headers="d53597e1067 ">
                                 <p><code class="codeph">ALTER SESSION SYNC with PRIMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e1118 d53597e1070 ">
                                 <p>此语句仅适用于物理备用数据库。</p>
                                 <p>此语句通过阻塞来同步物理备用数据库与主数据库，直到应用语句调用时物理备用数据库接收到的所有重做数据。</p>
                                 <p>有关详细信息，请参阅<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-194B1448-84FB-4357-A6AD-72A77701F918" title="要确保从主数据库接收的所有重做数据都已应用于物理备用数据库，可以使用SQL ALTER SESSION语句。">在实时查询环境中强制重做应用同步</a> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="SBYDB5118"></a><a id="SBYDB5117"></a><div class="props_rev_3"><a id="GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934" name="GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934"></a><h3 id="SBYDB-GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934" class="sect3"><span class="enumeration_section">18.3</span>更改系统声明</h3>
               <div>
                  <p>此表描述了与Oracle Data Guard相关的<code class="codeph">ALTER SYSTEM</code>语句。
                  </p>
                  <div class="tblformalwide" id="GUID-7CFC5C95-68EF-49E7-A95E-4926EFA2C934__CIHBAGDB">
                     <p class="titleintable">表18-3 Oracle Data Guard环境中使用的ALTER SYSTEM语句</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Data Guard环境中使用的ALTER SYSTEM语句" width="100%" border="1" summary="This 2 column table lists relevant ALTER SYSTEM statements for Data Guard." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d53597e1225">ALTER SYSTEM声明</th>
                              <th align="left" valign="bottom" width="55%" id="d53597e1228">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d53597e1233" headers="d53597e1225 ">
                                 <p><code class="codeph">ALTER SYSTEM FLUSH REDO TO target_db_name [[NO] CONFIRM APPLY]</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d53597e1233 d53597e1228 ">
                                 <p>此语句将重做数据从主数据库刷新到备用数据库，并可选择等待刷新的重做数据应用于物理或逻辑备用数据库。</p>
                                 <p>必须在已安装但未打开的主数据库上发出此语句。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>