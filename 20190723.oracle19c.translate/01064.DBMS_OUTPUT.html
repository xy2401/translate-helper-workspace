<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_OUTPUT package enables you to send messages from stored procedures, packages, and triggers. The package is especially useful for displaying PL/SQL debugging information."></meta>
      <meta name="description" content="The DBMS_OUTPUT package enables you to send messages from stored procedures, packages, and triggers. The package is especially useful for displaying PL/SQL debugging information."></meta>
      <title>DBMS_OUTPUT</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_OUTPUT package enables you to send messages from stored procedures, packages, and triggers. The package is especially useful for displaying PL/SQL debugging information."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_OUTLN.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_PARALLEL_EXECUTE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_OUTLN.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_PARALLEL_EXECUTE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_OUTPUT</li>
            </ol>
            <a id="GUID-C1400094-18D5-4F36-A2C9-D28B0E12FD8C" name="GUID-C1400094-18D5-4F36-A2C9-D28B0E12FD8C"></a><a id="ARPLS036"></a><a id="ARPLS036"></a>
            
            <h2 id="ARPLS-GUID-C1400094-18D5-4F36-A2C9-D28B0E12FD8C" class="sect2"><span class="enumeration_chapter">114</span> DBMS_OUTPUT</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_OUTPUT</code>包使您可以从存储过程，包和触发器发送消息。该包对于显示PL / SQL调试信息特别有用。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-3C2FDFF2-4A8A-4555-988C-7AA3D0FF7971" title="该软件包通常用于调试，或用于向SQL * DBA或SQL * Plus显示消息和报告（例如通过将SQL命令DESCRIBE应用于过程而生成）。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-F6851836-8DDE-4FFC-A975-D6EBACF3424B" title="dbmsotpt.sql脚本必须以用户SYS身份运行。这将创建公共同义词DBMS_OUTPUT，并且此包的EXECUTE权限授予public。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-D399B956-76BF-4882-9113-E872FDC335A1" title="以下操作说明适用于DBMS_OUTPUT。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-DCF44F7C-A888-497D-910A-9E1871C3CF7E" title="DBMS_OUTPUT子程序引发应用程序错误ORA-20000并返回错误。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-CEC56D3F-3BA6-4CA0-8D53-E286AB6A0269" title="以下是DBMS_OUTPUT行和缓冲区大小的限制。">规则和限制</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5" title="本主题包含三个使用DBMS_OUTPUT的示例。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-84FF0AFD-52AB-4259-BE77-6BCBE7B16375" title="DBMS_OUTPUT包声明了2个集合类型，以便与GET_LINES过程一起使用。">数据结构</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_OUTPUT.html#GUID-977C8AD1-D62B-4EFE-B24D-D0E6B262D9ED" title="该表列出了DBMS_OUTPUT子程序并简要描述了它们。">DBMS_OUTPUT子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS67301"></a><a id="ARPLS67301"></a><div class="props_rev_3"><a id="GUID-3C2FDFF2-4A8A-4555-988C-7AA3D0FF7971" name="GUID-3C2FDFF2-4A8A-4555-988C-7AA3D0FF7971"></a><h3 id="ARPLS-GUID-3C2FDFF2-4A8A-4555-988C-7AA3D0FF7971" class="sect3"><span class="enumeration_section">114.1</span> DBMS_OUTPUT概述</h3>
               <div>
                  <p>该软件包通常用于调试，或用于向SQL * DBA或SQL * Plus显示消息和报告（例如通过将SQL命令<code class="codeph">DESCRIBE</code>应用于过程而生成）。
                  </p>
                  <div class="section">
                     <p>此<a href="DBMS_OUTPUT.html#GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" title="This procedure places a partial line in the buffer.">程序</a>包中的<a href="DBMS_OUTPUT.html#GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" title="此过程将部分行放在缓冲区中。">PUT过程</a>和<a href="DBMS_OUTPUT.html#GUID-19FA480D-591E-4584-9650-5D37C4AFA530" title="此过程在缓冲区中放置一行。">PUT_LINE过程</a>使您可以将信息放在缓冲区中，该缓冲区可由另一个触发器，过程或程序包读取。在单独的PL / SQL过程或匿名块中，您可以通过调用<a href="DBMS_OUTPUT.html#GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21" title="此过程检索单行缓冲信息。">GET_LINE过程</a>和<a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="此过程从缓冲区中检索行数组。">GET_LINES过程</a>来显示缓冲的信息。
                     </p>
                     <p>如果禁用该程序包，则忽略对子程序的所有调用。通过这种方式，您可以设计应用程序，以便仅在客户端能够处理信息时才能使用子程序。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67302"></a><a id="ARPLS67302"></a><div class="props_rev_3"><a id="GUID-F6851836-8DDE-4FFC-A975-D6EBACF3424B" name="GUID-F6851836-8DDE-4FFC-A975-D6EBACF3424B"></a><h3 id="ARPLS-GUID-F6851836-8DDE-4FFC-A975-D6EBACF3424B" class="sect3"><span class="enumeration_section">114.2</span> DBMS_OUTPUT安全模型</h3>
               <div>
                  <p><code class="codeph">dbmsotpt.sql</code>脚本必须以用户<code class="codeph">SYS</code>身份运行。这将创建公共同义词<code class="codeph">DBMS_OUTPUT</code> ，并且此包的<code class="codeph">EXECUTE</code>权限授予<code class="codeph">public</code> 。
                  </p>
               </div>
            </div><a id="ARPLS67303"></a><a id="ARPLS67303"></a><div class="props_rev_3"><a id="GUID-D399B956-76BF-4882-9113-E872FDC335A1" name="GUID-D399B956-76BF-4882-9113-E872FDC335A1"></a><h3 id="ARPLS-GUID-D399B956-76BF-4882-9113-E872FDC335A1" class="sect3"><span class="enumeration_section">114.3</span> DBMS_OUTPUT操作说明</h3>
               <div>
                  <p>以下操作说明适用于DBMS_OUTPUT。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果不调用<code class="codeph">GET_LINE</code> ，或者如果未在SQL * Plus中显示屏幕上的消息，则忽略缓冲的消息。
                           </p>
                        </li>
                        <li>
                           <p>发出SQL语句或匿名PL / SQL调用后，SQL * Plus调用<code class="codeph">GET_LINES</code> 。
                           </p>
                        </li>
                        <li>
                           <p>在SQL * Plus中键入<code class="codeph">SET</code> <code class="codeph">SERVEROUTPUT</code> <code class="codeph">ON</code>具有调用的效果</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.ENABLE（buffer_size =&gt; NULL）;</pre><p>对输出没有限制。</p>
                        </li>
                        <li>
                           <p>通常应避免让应用程序代码调用<a href="DBMS_OUTPUT.html#GUID-8A57A5B6-0550-4477-84D0-B3B59B74A9D4" title="此过程禁用对PUT，PUT_LINE，NEW_LINE，GET_LINE和GET_LINES的调用，并清除任何剩余信息的缓冲区。">DISABLE Procedure</a>或<a href="DBMS_OUTPUT.html#GUID-C742297F-A8DC-4E62-A18D-76DDF2638356" title="此过程启用对PUT，PUT_LINE，NEW_LINE，GET_LINE和GET_LINES的调用。">ENABLE Procedure，</a>因为这可能会破坏SQL * Plus等外部工具的控制，以控制是否显示输出。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-D399B956-76BF-4882-9113-E872FDC335A1__GUID-D278F08D-7BE7-4A2D-BFFB-15E100028FA5">
                        <p class="notep1">注意：</p>
                        <p>在发送子程序或触发器完成之前，实际上不会发送使用<code class="codeph">DBMS_OUTPUT</code>发送的消息。在执行过程期间没有用于刷新输出的机制。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67304"></a><a id="ARPLS67305"></a><a id="ARPLS67305"></a><a id="ARPLS67304"></a><div class="props_rev_3"><a id="GUID-DCF44F7C-A888-497D-910A-9E1871C3CF7E" name="GUID-DCF44F7C-A888-497D-910A-9E1871C3CF7E"></a><h3 id="ARPLS-GUID-DCF44F7C-A888-497D-910A-9E1871C3CF7E" class="sect3"><span class="enumeration_section">114.4</span> DBMS_OUTPUT异常</h3>
               <div>
                  <p><code class="codeph">DBMS_OUTPUT</code>子程序引发应用程序错误<code class="codeph">ORA-20000</code>并返回错误。
                  </p>
                  <div class="section">
                     <p>输出过程可以返回以下错误：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DCF44F7C-A888-497D-910A-9E1871C3CF7E__GUID-62AF7FC0-59C2-4591-980B-FAF14C0DD486">
                     <p class="titleintable">表114-1 DBMS_OUTPUT错误</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_OUTPUT错误" width="100%" border="1" summary="This table describes the Exceptions raised by DBMS_OUTPUT subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="36%" id="d644698e686">错误</th>
                              <th align="left" valign="bottom" width="64%" id="d644698e689">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d644698e694" headers="d644698e686 ">
                                 <p><code class="codeph">ORU-10027：</code></p>
                              </td>
                              <td align="left" valign="top" width="64%" headers="d644698e694 d644698e689 ">
                                 <p>缓冲区溢出</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d644698e702" headers="d644698e686 ">
                                 <p><code class="codeph">ORU-10028：</code></p>
                              </td>
                              <td align="left" valign="top" width="64%" headers="d644698e702 d644698e689 ">
                                 <p>线长溢出</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67306"></a><a id="ARPLS67306"></a><div class="props_rev_3"><a id="GUID-CEC56D3F-3BA6-4CA0-8D53-E286AB6A0269" name="GUID-CEC56D3F-3BA6-4CA0-8D53-E286AB6A0269"></a><h3 id="ARPLS-GUID-CEC56D3F-3BA6-4CA0-8D53-E286AB6A0269" class="sect3"><span class="enumeration_section">114.5</span> DBMS_OUTPUT规则和限制</h3>
               <div>
                  <p>以下是DBMS_OUTPUT行和缓冲区大小的限制。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>最大行大小为32767字节。</p>
                        </li>
                        <li>
                           <p>默认缓冲区大小为20000字节。最小大小为2000字节，最大值为无限制。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67307"></a><a id="ARPLS67308"></a><a id="ARPLS67309"></a><a id="ARPLS67310"></a><a id="ARPLS67308"></a><a id="ARPLS67309"></a><a id="ARPLS67310"></a><a id="ARPLS67307"></a><div class="props_rev_3"><a id="GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5" name="GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5"></a><h3 id="ARPLS-GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5" class="sect3"><span class="enumeration_section">114.6</span> DBMS_OUTPUT示例</h3>
               <div>
                  <p>本主题包含三个使用DBMS_OUTPUT的示例。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5__GUID-D801A7DD-5141-4B70-8AC2-16CAC6667E58">示例1：使用触发器生成输出</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以使用触发器从调试过程中打印出一些输出。例如，您可以编写触发器来调用：</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.PUT_LINE（'我来到这里：'||：new.col ||'是新值'）;</pre><p>如果您已启用<code class="codeph">DBMS_OUTPUT</code>包，则此<code class="codeph">PUT_LINE</code>生成的文本将被缓冲，并且您可以在执行语句（可能是某些导致触发器触发的<code class="codeph">INSERT</code> ， <code class="codeph">DELETE</code>或<code class="codeph">UPDATE</code> ）之后检索信息行。例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_OUTPUT.GET_LINE（：buffer，：status）;结束;</pre><p>然后，您可以选择在屏幕上显示缓冲区。您重复调用<code class="codeph">GET_LINE</code>直到<code class="codeph">status</code>恢复为非零。为了获得更好的性能，您应该使用对<a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="This procedure retrieves an array of lines from the buffer.">GET_LINES过程的</a>调用， <a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="此过程从缓冲区中检索行数组。">该过程</a>可以返回一行数组。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5__GUID-B3CD81C5-84B2-47F7-8C94-CE80EDB091B0">示例2：调试存储过程和触发器</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">DBMS_OUTPUT</code>包通常用于调试存储过程和触发器。此包还可用于使您能够检索有关对象的信息并格式化此输出，如<span class="q">“ <a href="DBMS_OUTPUT.html#GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5__I999837">示例3：检索有关对象的信息</a> ”中所示</span> 。
                     </p>
                     <p>此函数查询employee表并返回指定部门的总薪水。该函数包括对<code class="codeph">PUT_LINE</code>过程的多次调用：</p><pre class="oac_no_warn" dir="ltr">CREATE FUNCTION dept_salary（dnum NUMBER）RETURN NUMBER IS CURSOR emp_cursor IS SELECT sal，comm FROM emp WHERE deptno = dnum; total_wages NUMBER（11,2）：= 0;计数器NUMBER（10）：= 1; BEGIN FOR emp_record IN emp_cursor LOOP emp_record.comm：= NVL（emp_record.comm，0）; total_wages：= total_wages + emp_record.sal + emp_record.comm; DBMS_OUTPUT.PUT_LINE（'Loop number ='|| counter ||'; Wages ='|| TO_CHAR（total_wages））; / *调试行* / counter：=计数器+ 1; / *递增调试计数器* / END LOOP; / *调试行* / DBMS_OUTPUT.PUT_LINE（'总工资='|| TO_CHAR（total_wages））;返回total_wages;结束dept_salary;</pre><p>假设<code class="codeph">EMP</code>表包含以下行：</p><pre class="oac_no_warn" dir="ltr">EMPNO SAL COMM DEPT ----- ------- -------- ------- 1002 1500 500 20 1203 1000 30 1289 1000 10 1347 1000 250 20</pre><p>假设用户在SQL * Plus中执行以下语句：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON VARIABLE工资号码;执行：salary：= dept_salary（20）;</pre><p>然后，用户将看到输出窗格中显示的以下信息：</p><pre class="oac_no_warn" dir="ltr">循环数= 1;工资= 2000圈数= 2;工资= 3250总工资= 3250 PL / SQL程序成功执行。</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5__I999837">
                     <p class="subhead2" id="GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5__GUID-C192F2AE-27E2-4D89-8698-2B19E4D4266E">示例3：检索有关对象的信息</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在此示例中，用户使用<code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>命令检索有关语句执行计划的信息，并将其存储在<code class="codeph">PLAN_TABLE</code> 。用户还为此语句分配了语句ID。示例<code class="codeph">EXPLAIN_OUT</code>过程从此表中检索信息，并以嵌套方式格式化输出，以更接近地描述处理SQL语句时所经历的步骤的顺序。
                     </p><pre class="oac_no_warn" dir="ltr">/ ******************* *************** // *创建EXPLAIN_OUT程序。用户必须将STATEMENT_ID传递给* / / *到过程，以唯一标识语句。* / / ********************************************* ***************** /创建或替换过程explain_out（statement_id IN VARCHAR2）AS  - 将PLAN_TABLE中的信息检索到游标EXPLAIN_ROWS中。 CURSOR explain_rows IS SELECT级别，id，位置，操作，选项，object_name FROM plan_table WHERE statement_id = explain_out.statement_id CONNECT BY PRIOR id = parent_id AND statement_id = explain_out.statement_id START WITH id = 0 ORDER BY id; BEGIN  - 循环检索从PLAN_TABLE检索的信息：FOR line IN explain_rows LOOP  - 在输出开始时，包括带有估计成本的标题。IF line.id = 0那么DBMS_OUTPUT.PUT_LINE（'计划声明'|| statement_id ||'，估计成本='|| line.position）;万一; - 输出格式化信息。LEVEL确定缩进级别。DBMS_OUTPUT.PUT_LINE（lpad（''，2 *（line.level-1））|| line.operation ||''|| line.options ||''|| line.object_name）;结束循环;结束;</pre><div class="infoboxnotealso" id="GUID-3AB08768-2C94-44AB-A2BF-6EA38F7BA8A5__GUID-17BFB6AD-9374-4606-B459-F91DB4FD3340">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="UTL_FILE.html#GUID-EBC42A36-EB72-4AA1-B75F-8CF4BC6E29B4" title="使用UTL_FILE包，PL / SQL程序可以读写操作系统文本文件。UTL_FILE提供操作系统流文件I / O的受限版本。">UTL_FILE</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67311"></a><a id="ARPLS67311"></a><div class="props_rev_3"><a id="GUID-84FF0AFD-52AB-4259-BE77-6BCBE7B16375" name="GUID-84FF0AFD-52AB-4259-BE77-6BCBE7B16375"></a><h3 id="ARPLS-GUID-84FF0AFD-52AB-4259-BE77-6BCBE7B16375" class="sect3"><span class="enumeration_section">114.7</span> DBMS_OUTPUT数据结构</h3>
               <div>
                  <p><code class="codeph">DBMS_OUTPUT</code>包声明了2个集合类型，以便与GET_LINES过程一起使用。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-84FF0AFD-52AB-4259-BE77-6BCBE7B16375__GUID-DA25B24E-070C-4EA2-9072-A3EFC32A100A">表类型</p>
                     <p><a href="DBMS_OUTPUT.html#GUID-DA053137-4749-4085-B08C-117EDE7BBA73" title="此包类型将与GET_LINES过程一起使用，以获取通过PUT过程和PUT_LINE过程提交的文本。">CHARARR表类型</a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-84FF0AFD-52AB-4259-BE77-6BCBE7B16375__GUID-B0A4A35F-EB33-4749-B165-E91F2F63E6F4">对象类型</p>
                     <p><a href="DBMS_OUTPUT.html#GUID-1D0470DC-F23A-4ED6-87EE-3724FB99BF2E" title="在包外部定义的此类型将与GET_LINES过程一起使用，以获取通过PUT过程和PUT_LINE过程提交的文本。">DBMSOUTPUT_LINESARRAY对象类型</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="此过程从缓冲区中检索行数组。">GET_LINES程序</a></li>
                     </ul>
                  </div>
               </div><a id="ARPLS67312"></a><a id="ARPLS67312"></a><div class="props_rev_3"><a id="GUID-DA053137-4749-4085-B08C-117EDE7BBA73" name="GUID-DA053137-4749-4085-B08C-117EDE7BBA73"></a><h4 id="ARPLS-GUID-DA053137-4749-4085-B08C-117EDE7BBA73" class="sect4"><span class="enumeration_section">114.7.1</span> CHARARR表类型</h4>
                  <div>
                     <p>此包类型将与GET_LINES过程一起使用，以获取通过PUT过程和PUT_LINE过程提交的文本。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DA053137-4749-4085-B08C-117EDE7BBA73__GUID-DD90ADED-F42A-488D-9469-FDB6E230836F">句法</p><pre class="oac_no_warn" dir="ltr">TYPE CHARARR是VARCHAR2的表（32767）索引由BINARY_INTEGER;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="此过程从缓冲区中检索行数组。">GET_LINES程序</a></li>
                           <li><a href="DBMS_OUTPUT.html#GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" title="此过程将部分行放在缓冲区中。">PUT程序</a></li>
                           <li><a href="DBMS_OUTPUT.html#GUID-19FA480D-591E-4584-9650-5D37C4AFA530" title="此过程在缓冲区中放置一行。">PUT_LINE程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS67313"></a><a id="ARPLS67313"></a><div class="props_rev_3"><a id="GUID-1D0470DC-F23A-4ED6-87EE-3724FB99BF2E" name="GUID-1D0470DC-F23A-4ED6-87EE-3724FB99BF2E"></a><h4 id="ARPLS-GUID-1D0470DC-F23A-4ED6-87EE-3724FB99BF2E" class="sect4"><span class="enumeration_section">114.7.2</span> DBMS_OUTPUT DBMSOUTPUT_LINESARRAY对象类型</h4>
                  <div>
                     <p>在包外部定义的此类型将与GET_LINES过程一起使用，以获取通过PUT过程和PUT_LINE过程提交的文本。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1D0470DC-F23A-4ED6-87EE-3724FB99BF2E__GUID-499DAA61-E1AC-4A2F-AB14-0A2B2ECCEBD9">句法</p><pre class="oac_no_warn" dir="ltr">TYPE DBMSOUTPUT_LINESARRAY是VARRAR2的变换（2147483647）（32767）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="此过程从缓冲区中检索行数组。">GET_LINES程序</a></li>
                           <li><a href="DBMS_OUTPUT.html#GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" title="此过程将部分行放在缓冲区中。">PUT程序</a></li>
                           <li><a href="DBMS_OUTPUT.html#GUID-19FA480D-591E-4584-9650-5D37C4AFA530" title="此过程在缓冲区中放置一行。">PUT_LINE程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ARPLS67314"></a><a id="ARPLS67315"></a><a id="ARPLS67315"></a><a id="ARPLS67314"></a><div class="props_rev_3"><a id="GUID-977C8AD1-D62B-4EFE-B24D-D0E6B262D9ED" name="GUID-977C8AD1-D62B-4EFE-B24D-D0E6B262D9ED"></a><h3 id="ARPLS-GUID-977C8AD1-D62B-4EFE-B24D-D0E6B262D9ED" class="sect3"><span class="enumeration_section">114.8</span> DBMS_OUTPUT子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_OUTPUT</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-977C8AD1-D62B-4EFE-B24D-D0E6B262D9ED__GUID-4E8FEE17-6A45-4DB7-912D-85125BECECAA">
                     <p class="titleintable">表114-2 DBMS_OUTPUT包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_OUTPUT包子程序" width="100%" border="1" summary="This table lists the DBMS_OUTPUT subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d644698e1461">子程序</th>
                              <th align="left" valign="bottom" width="55%" id="d644698e1464">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d644698e1469" headers="d644698e1461 ">
                                 <p><a href="DBMS_OUTPUT.html#GUID-8A57A5B6-0550-4477-84D0-B3B59B74A9D4" title="此过程禁用对PUT，PUT_LINE，NEW_LINE，GET_LINE和GET_LINES的调用，并清除任何剩余信息的缓冲区。">禁用程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d644698e1469 d644698e1464 ">
                                 <p>禁用消息输出</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d644698e1496" headers="d644698e1461 ">
                                 <p><a href="DBMS_OUTPUT.html#GUID-C742297F-A8DC-4E62-A18D-76DDF2638356" title="此过程启用对PUT，PUT_LINE，NEW_LINE，GET_LINE和GET_LINES的调用。">启用程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d644698e1496 d644698e1464 ">
                                 <p>启用消息输出</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d644698e1523" headers="d644698e1461 ">
                                 <p><a href="DBMS_OUTPUT.html#GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21" title="此过程检索单行缓冲信息。">GET_LINE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d644698e1523 d644698e1464 ">
                                 <p>从缓冲区中检索一行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d644698e1535" headers="d644698e1461 ">
                                 <p><a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="此过程从缓冲区中检索行数组。">GET_LINES程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d644698e1535 d644698e1464 ">
                                 <p>从缓冲区中检索一行数组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d644698e1547" headers="d644698e1461 ">
                                 <p><a href="DBMS_OUTPUT.html#GUID-770FBCCF-C95F-41D6-96E4-553EE49EDB16" title="此过程放置行尾标记。">NEW_LINE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d644698e1547 d644698e1464 ">
                                 <p>终止使用<code class="codeph">PUT</code>创建的行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d644698e1561" headers="d644698e1461 ">
                                 <p><a href="DBMS_OUTPUT.html#GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" title="此过程将部分行放在缓冲区中。">PUT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d644698e1561 d644698e1464 ">
                                 <p>在缓冲区中放置部分行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d644698e1573" headers="d644698e1461 ">
                                 <p><a href="DBMS_OUTPUT.html#GUID-19FA480D-591E-4584-9650-5D37C4AFA530" title="此过程在缓冲区中放置一行。">PUT_LINE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d644698e1573 d644698e1464 ">
                                 <p>将行放在缓冲区中</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-977C8AD1-D62B-4EFE-B24D-D0E6B262D9ED__GUID-236A8A40-97F9-466A-A0AB-8C1ED4C45634">
                        <p class="notep1">注意：</p>
                        <p>采用数字的<a href="DBMS_OUTPUT.html#GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" title="此过程将部分行放在缓冲区中。">PUT过程</a>已过时，虽然目前支持，但仅出于遗留原因包含在此版本中。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS67316"></a><a id="ARPLS67316"></a><div class="props_rev_3"><a id="GUID-8A57A5B6-0550-4477-84D0-B3B59B74A9D4" name="GUID-8A57A5B6-0550-4477-84D0-B3B59B74A9D4"></a><h4 id="ARPLS-GUID-8A57A5B6-0550-4477-84D0-B3B59B74A9D4" class="sect4"><span class="enumeration_section">114.8.1</span>禁用程序</h4>
                  <div>
                     <p>此过程禁用对<code class="codeph">PUT</code> ， <code class="codeph">PUT_LINE</code> ， <code class="codeph">NEW_LINE</code> ， <code class="codeph">GET_LINE</code>和<code class="codeph">GET_LINES</code> ，并清除任何剩余信息的缓冲区。
                     </p>
                     <div class="section">
                        <p>与<a href="DBMS_OUTPUT.html#GUID-C742297F-A8DC-4E62-A18D-76DDF2638356" title="此过程启用对PUT，PUT_LINE，NEW_LINE，GET_LINE和GET_LINES的调用。">ENABLE过程一样</a> ，如果使用SQL * Plus的<code class="codeph">SERVEROUTPUT</code>选项，则无需调用此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A57A5B6-0550-4477-84D0-B3B59B74A9D4__GUID-DECFD307-566D-4704-A041-73F98C6043BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.DISABLE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A57A5B6-0550-4477-84D0-B3B59B74A9D4__GUID-CE51F382-2A82-4536-ABAA-BBCB597A5DE0">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（禁用，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67317"></a><a id="ARPLS67318"></a><a id="ARPLS67318"></a><a id="ARPLS67317"></a><div class="props_rev_3"><a id="GUID-C742297F-A8DC-4E62-A18D-76DDF2638356" name="GUID-C742297F-A8DC-4E62-A18D-76DDF2638356"></a><h4 id="ARPLS-GUID-C742297F-A8DC-4E62-A18D-76DDF2638356" class="sect4"><span class="enumeration_section">114.8.2</span> ENABLE程序</h4>
                  <div>
                     <p>此过程启用对<code class="codeph">PUT</code> ， <code class="codeph">PUT_LINE</code> ， <code class="codeph">NEW_LINE</code> ， <code class="codeph">GET_LINE</code>和<code class="codeph">GET_LINES</code> 。</p>
                     <div class="section">
                        <p>如果未激活<code class="codeph">DBMS_OUTPUT</code>程序包，则忽略对这些过程的调用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C742297F-A8DC-4E62-A18D-76DDF2638356__GUID-E0340366-72D5-4C6A-B936-E18B2AE9B7D3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.ENABLE（buffer_size IN INTEGER DEFAULT 20000）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C742297F-A8DC-4E62-A18D-76DDF2638356__GUID-2DC258B9-B7D8-4F55-AB10-DABA227BE849">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（enable，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C742297F-A8DC-4E62-A18D-76DDF2638356__GUID-54966CE4-E36A-43B0-B91A-FA6C2E3FD7B3">参数</p>
                        <div class="tblformal" id="GUID-C742297F-A8DC-4E62-A18D-76DDF2638356__GUID-857B8C13-6318-4E2B-B1FB-86E96449DF74">
                           <p class="titleintable">表114-3 ENABLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_OUTPUT.ENABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d644698e1877">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d644698e1880">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d644698e1885" headers="d644698e1877 ">
                                       <p><code class="codeph">缓冲区大小</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d644698e1885 d644698e1880 ">
                                       <p>上限，以字节为单位，缓冲信息量。将<code class="codeph">buffer_size</code>设置为<code class="codeph">NULL</code>指定应该没有限制。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C742297F-A8DC-4E62-A18D-76DDF2638356__GUID-4E847A0F-6D4F-413C-A6E3-E2D203B98B4B">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用SQL * Plus的<code class="codeph">SET</code> <code class="codeph">SERVEROUTPUT</code>选项时，无需调用此过程。
                              </p>
                           </li>
                           <li>
                              <p>如果有多个<code class="codeph">ENABLE</code>调用，则<code class="codeph">buffer_size</code>是指定的最后一个值。最大大小为1,000,000，当用户指定<code class="codeph">buffer_size</code> （ <code class="codeph">NOT</code> <code class="codeph">NULL</code> ）时，最小大小为2,000。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NULL</code>通常是通常的选择。默认值为20,000，以便向后兼容不支持无限缓冲的早期数据库版本。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67319"></a><a id="ARPLS67320"></a><a id="ARPLS67320"></a><a id="ARPLS67319"></a><div class="props_rev_3"><a id="GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21" name="GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21"></a><h4 id="ARPLS-GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21" class="sect4"><span class="enumeration_section">114.8.3</span> GET_LINE程序</h4>
                  <div>
                     <p>此过程检索单行缓冲信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21__GUID-81D6479D-18FC-46B9-B610-BED65266766F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.GET_LINE（行OUT VARCHAR2，状态OUT INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21__GUID-3CBCBB59-3DD2-4210-832C-825FB6EA733D">参数</p>
                        <div class="tblformal" id="GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21__GUID-F1BE4CAA-0242-4962-8755-0D94895CF405">
                           <p class="titleintable">表114-4 GET_LINE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_LINE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_OUTPUT.GET_LINE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d644698e2044">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d644698e2047">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d644698e2052" headers="d644698e2044 ">
                                       <p><code class="codeph">线</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d644698e2052 d644698e2047 ">
                                       <p>返回一行缓冲信息，不包括最终换行符。您应该将此参数的实际声明为<code class="codeph">VARCHAR2 (32767)</code>以避免“ <code class="codeph">ORA-06502</code> ：PL / SQL：数字或值错误：字符串缓冲区太小”的风险。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d644698e2066" headers="d644698e2044 ">
                                       <p><code class="codeph">状态</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d644698e2066 d644698e2047 ">
                                       <p>如果调用成功完成，则状态返回0。如果缓冲区中没有其他行，则状态为1。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21__GUID-666A1C47-441F-448E-BD01-A8085F1EE1A2">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以选择从缓冲区中检索单行或行数组。调用<code class="codeph">GET_LINE</code>过程以检索单行缓冲信息。要减少对服务器的调用次数，请调用<code class="codeph">GET_LINES</code>过程以从缓冲区中检索行数组。
                              </p>
                           </li>
                           <li>
                              <p>如果使用特殊的<code class="codeph">SET</code> <code class="codeph">SERVEROUTPUT</code> <code class="codeph">ON</code>命令使用SQL * Plus，则可以选择自动显示此信息。
                              </p>
                           </li>
                           <li>
                              <p>在调用<code class="codeph">GET_LINE</code>或<code class="codeph">GET_LINES</code> ，在下次调用<code class="codeph">PUT</code> ， <code class="codeph">PUT_LINE</code>或<code class="codeph">NEW_LINE</code>之前未检索到的任何行都将被丢弃，以避免将它们与下一条消息混淆。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67321"></a><a id="ARPLS67322"></a><a id="ARPLS67322"></a><a id="ARPLS67321"></a><div class="props_rev_3"><a id="GUID-E9459EA9-4498-4131-B858-64C04C79762E" name="GUID-E9459EA9-4498-4131-B858-64C04C79762E"></a><h4 id="ARPLS-GUID-E9459EA9-4498-4131-B858-64C04C79762E" class="sect4"><span class="enumeration_section">114.8.4</span> GET_LINES程序</h4>
                  <div>
                     <p>此过程从缓冲区中检索行数组。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E9459EA9-4498-4131-B858-64C04C79762E__GUID-11DBBE38-9ABF-4BA7-A9C5-1BB5461E99F8">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.GET_LINES（行OUT CHARARR，numlines IN OUT INTEGER）; DBMS_OUTPUT.GET_LINES（行END DBMSOUTPUT_LINESARRAY，numlines IN OUT INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9459EA9-4498-4131-B858-64C04C79762E__GUID-0B3F356D-CE9F-4672-AB9A-2F464A663912">参数</p>
                        <div class="tblformal" id="GUID-E9459EA9-4498-4131-B858-64C04C79762E__GUID-A7D21040-C3A9-4296-8505-081BDB8911D0">
                           <p class="titleintable">表114-5 GET_LINES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_LINES过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_OUTPUT.GET_LINES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d644698e2226">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d644698e2229">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d644698e2234" headers="d644698e2226 ">
                                       <p><code class="codeph">线</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d644698e2234 d644698e2229 ">
                                       <p>返回缓冲信息的行数组。数组中每行的最大长度为32767字节。建议您在3GL主机程序中使用<code class="codeph">VARRAY</code>重载版本，以从PL / SQL匿名块执行该过程。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d644698e2245" headers="d644698e2226 ">
                                       <p><code class="codeph">numlines</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d644698e2245 d644698e2229 ">
                                       <p>要从缓冲区中检索的行数。</p>
                                       <p>检索指定数量的行后，该过程返回实际检索的行数。如果此数字小于请求的行数，则缓冲区中不再有行。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9459EA9-4498-4131-B858-64C04C79762E__GUID-0ABFDF98-020F-4608-BF3E-A8BCDE417C9D">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以选择从缓冲区中检索单行或行数组。调用<code class="codeph">GET_LINE</code>过程以检索单行缓冲信息。要减少对服务器的调用次数，请调用<code class="codeph">GET_LINES</code>过程以从缓冲区中检索行数组。
                              </p>
                           </li>
                           <li>
                              <p>如果使用特殊的<code class="codeph">SET</code> <code class="codeph">SERVEROUTPUT</code> <code class="codeph">ON</code>命令使用SQL * Plus，则可以选择自动显示此信息。
                              </p>
                           </li>
                           <li>
                              <p>在调用<code class="codeph">GET_LINE</code>或<code class="codeph">GET_LINES</code> ，在下次调用<code class="codeph">PUT</code> ， <code class="codeph">PUT_LINE</code>或<code class="codeph">NEW_LINE</code>之前未检索到的任何行都将被丢弃，以避免将它们与下一条消息混淆。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67323"></a><a id="ARPLS67323"></a><div class="props_rev_3"><a id="GUID-770FBCCF-C95F-41D6-96E4-553EE49EDB16" name="GUID-770FBCCF-C95F-41D6-96E4-553EE49EDB16"></a><h4 id="ARPLS-GUID-770FBCCF-C95F-41D6-96E4-553EE49EDB16" class="sect4"><span class="enumeration_section">114.8.5</span> NEW_LINE程序</h4>
                  <div>
                     <p>此过程放置行尾标记。</p>
                     <div class="section">
                        <p><a href="DBMS_OUTPUT.html#GUID-3D7EEBD1-298F-4643-A736-C36EC4C32F21" title="此过程检索单行缓冲信息。">GET_LINE过程</a>和<a href="DBMS_OUTPUT.html#GUID-E9459EA9-4498-4131-B858-64C04C79762E" title="此过程从缓冲区中检索行数组。">GET_LINES过程</a>返回“换行符”分隔的“行”。每次调用<a href="DBMS_OUTPUT.html#GUID-19FA480D-591E-4584-9650-5D37C4AFA530" title="此过程在缓冲区中放置一行。">PUT_LINE过程</a>或<a href="DBMS_OUTPUT.html#GUID-770FBCCF-C95F-41D6-96E4-553EE49EDB16" title="此过程放置行尾标记。">NEW_LINE过程都会</a>生成一条由<code class="codeph">GET_LINE</code> （ <code class="codeph">S</code> ）返回的行。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-770FBCCF-C95F-41D6-96E4-553EE49EDB16__GUID-69A64F46-CF33-4CB9-8179-7D828B0A0876">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.NEW_LINE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67324"></a><a id="ARPLS67325"></a><a id="ARPLS67326"></a><a id="ARPLS67325"></a><a id="ARPLS67326"></a><a id="ARPLS67324"></a><div class="props_rev_3"><a id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" name="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7"></a><h4 id="ARPLS-GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7" class="sect4"><span class="enumeration_section">114.8.6</span> PUT程序</h4>
                  <div>
                     <p>此过程将部分行放在缓冲区中。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7__GUID-B9514FB2-DE6D-4E84-BE36-C3862AB05AA4">
                           <p class="notep1">注意：</p>
                           <p>采用<code class="codeph">NUMBER</code>的<code class="codeph">PUT</code>过程已过时，虽然目前支持，但仅出于传统原因包含在此版本中。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7__GUID-66BC977D-5C78-461C-9218-E013839E4947">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.PUT（item IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7__GUID-4D7CB675-F42E-447E-9E0B-ECE5A03CAA0D">参数</p>
                        <div class="tblformal" id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7__GUID-E33A87E7-D44B-44EE-B9A0-58865612FC73">
                           <p class="titleintable">表114-6 PUT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUT程序参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_OUTPUT.PUT and PUT_LINE subprograms." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d644698e2553">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d644698e2556">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d644698e2561" headers="d644698e2553 ">
                                       <p><code class="codeph">项目</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d644698e2561 d644698e2556 ">
                                       <p>项目缓冲。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7__GUID-B3FAD6B8-1AED-434E-BD09-6CEA55B300F0">例外</p>
                        <div class="tblformal" id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7__GUID-EB33079A-2B48-4C20-8084-471AD1A4E17F">
                           <p class="titleintable">表114-7 PUT过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUT程序例外" width="100%" border="1" summary="This table describes the Exceptions raised by the PUT and PUT_LINE subprograms." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d644698e2581">错误</th>
                                    <th align="left" valign="bottom" width="74%" id="d644698e2584">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d644698e2589" headers="d644698e2581 ">
                                       <p><code class="codeph">ORA-20000，ORU-10027：</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d644698e2589 d644698e2584 ">
                                       <p>缓冲区溢出，&lt; <code class="codeph">buf_limit</code> &gt;字节的限制。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d644698e2600" headers="d644698e2581 ">
                                       <p><code class="codeph">ORA-20000，ORU-10028：</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d644698e2600 d644698e2584 ">
                                       <p>行长溢出，每行限制32767字节。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCA24ED-0799-4ACA-9FB1-4CEC24FE41E7__GUID-996FF1D6-0E96-4E79-979E-C399D6676790">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以通过多次调用<code class="codeph">PUT</code>逐个构建一行信息，或者通过调用<code class="codeph">PUT_LINE</code>将整行信息放入缓冲区。</p>
                           </li>
                           <li>
                              <p>当您调用<code class="codeph">PUT_LINE</code> ，您指定的项目后面会自动跟一个行尾标记。如果您拨打<code class="codeph">PUT</code>来建立一条线路，那么您必须通过调用<code class="codeph">NEW_LINE</code>添加自己的行尾标记。 <code class="codeph">GET_LINE</code>和<code class="codeph">GET_LINES</code>不返回尚未使用换行符终止的行。
                              </p>
                           </li>
                           <li>
                              <p>如果您的行超出行限制，则会收到错误消息。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">PUT</code>或<code class="codeph">PUT_LINE</code>创建的输出被缓冲。在缓冲它的PL / SQL程序单元返回其调用者之前，无法检索输出。
                              </p>
                              <p>例如，在PL / SQL程序完成之前，SQL * Plus不显示<code class="codeph">DBMS_OUTPUT</code>消息。没有用于刷新PL / SQL程序中的<code class="codeph">DBMS_OUTPUT</code>缓冲区的机制。
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON SQL&gt; BEGIN 2 DBMS_OUTPUT.PUT_LINE（'hello'）; 3 DBMS_LOCK.SLEEP（10）; 4结束;</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67327"></a><a id="ARPLS67328"></a><a id="ARPLS67329"></a><a id="ARPLS67328"></a><a id="ARPLS67329"></a><a id="ARPLS67327"></a><div class="props_rev_3"><a id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530" name="GUID-19FA480D-591E-4584-9650-5D37C4AFA530"></a><h4 id="ARPLS-GUID-19FA480D-591E-4584-9650-5D37C4AFA530" class="sect4"><span class="enumeration_section">114.8.7</span> PUT_LINE程序</h4>
                  <div>
                     <p>此过程在缓冲区中放置一行。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530__GUID-4E6184E2-F5BC-4B9F-99EC-7D2679AE9AF3">
                           <p class="notep1">注意：</p>
                           <p>采用<code class="codeph">NUMBER</code>的<code class="codeph">PUT_LINE</code>过程已过时，虽然目前支持，但仅出于遗留原因包含在此版本中。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530__GUID-99F99571-7B7F-413E-9FED-2E48017D9D05">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_OUTPUT.PUT_LINE（item IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530__GUID-ADC1F29F-419B-4B27-9BAD-79C9F9E1E305">参数</p>
                        <div class="tblformal" id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530__GUID-3D6B5B4A-D90F-415E-92C7-A508110F47E3">
                           <p class="titleintable">表114-8 PUT_LINE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUT_LINE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_OUTPUT.PUT and PUT_LINE subprograms." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d644698e2782">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d644698e2785">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d644698e2790" headers="d644698e2782 ">
                                       <p><code class="codeph">项目</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d644698e2790 d644698e2785 ">
                                       <p>项目缓冲。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530__GUID-8702B1B7-27F2-4E55-9998-A2FEB8E08BE2">例外</p>
                        <div class="tblformal" id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530__GUID-9C6D6AB5-D6DB-4C0C-9D9D-AF388A99BBF0">
                           <p class="titleintable">表114-9 PUT_LINE过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUT_LINE过程异常" width="100%" border="1" summary="This table describes the Exceptions raised by the PUT and PUT_LINE subprograms." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d644698e2810">错误</th>
                                    <th align="left" valign="bottom" width="74%" id="d644698e2813">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d644698e2818" headers="d644698e2810 ">
                                       <p><code class="codeph">ORA-20000，ORU-10027：</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d644698e2818 d644698e2813 ">
                                       <p>缓冲区溢出，&lt; <code class="codeph">buf_limit</code> &gt;字节的限制。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d644698e2829" headers="d644698e2810 ">
                                       <p><code class="codeph">ORA-20000，ORU-10028：</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d644698e2829 d644698e2813 ">
                                       <p>行长溢出，每行限制32767字节。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-19FA480D-591E-4584-9650-5D37C4AFA530__GUID-84F9EF3E-A44B-43A4-B3A4-66E53F4D2683">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以通过多次调用<code class="codeph">PUT</code>逐个构建一行信息，或者通过调用<code class="codeph">PUT_LINE</code>将整行信息放入缓冲区。</p>
                           </li>
                           <li>
                              <p>当您调用<code class="codeph">PUT_LINE</code> ，您指定的项目后面会自动跟一个行尾标记。如果您拨打<code class="codeph">PUT</code>来建立一条线路，那么您必须通过调用<code class="codeph">NEW_LINE</code>添加自己的行尾标记。 <code class="codeph">GET_LINE</code>和<code class="codeph">GET_LINES</code>不返回尚未使用换行符终止的行。
                              </p>
                           </li>
                           <li>
                              <p>如果您的行超出行限制，则会收到错误消息。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">PUT</code>或<code class="codeph">PUT_LINE</code>创建的输出被缓冲。在缓冲它的PL / SQL程序单元返回其调用者之前，无法检索输出。
                              </p>
                              <p>例如，在PL / SQL程序完成之前，SQL * Plus不显示<code class="codeph">DBMS_OUTPUT</code>消息。没有用于刷新PL / SQL程序中的<code class="codeph">DBMS_OUTPUT</code>缓冲区的机制。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON SQL&gt; BEGIN 2 DBMS_OUTPUT.PUT_LINE（'hello'）; 3 DBMS_LOCK.SLEEP（10）; 4结束;</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>