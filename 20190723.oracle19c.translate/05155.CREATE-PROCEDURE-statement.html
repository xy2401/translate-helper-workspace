<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The CREATE PROCEDURE statement creates or replaces a standalone procedure or a call specification."></meta>
      <meta name="description" content="The CREATE PROCEDURE statement creates or replaces a standalone procedure or a call specification."></meta>
      <title>CREATE PROCEDURE声明</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database PL/SQL Language Reference "></meta>
      <meta property="og:description" content="The CREATE PROCEDURE statement creates or replaces a standalone procedure or a call specification."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database PL/SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96448-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-PACKAGE-BODY-statement.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-TRIGGER-statement.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="LNPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-PACKAGE-BODY-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-TRIGGER-statement.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-statements-for-stored-plsql-units.html" property="item" typeof="WebPage"><span property="name">存储的PL / SQL单元的SQL语句</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE PROCEDURE声明</li>
            </ol>
            <a id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54" name="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54"></a><a id="LNPLS1981"></a><a id="LNPLS2182"></a><a id="LNPLS1527"></a><a id="LNPLS1982"></a><a id="LNPLS1989"></a><a id="LNPLS1990"></a><a id="LNPLS1991"></a><a id="LNPLS1992"></a><a id="LNPLS1993"></a><a id="LNPLS1994"></a><a id="LNPLS1997"></a><a id="LNPLS1998"></a><a id="LNPLS1700"></a><a id="LNPLS1540"></a><a id="LNPLS2003"></a><a id="LNPLS2004"></a><a id="LNPLS01373"></a>
            
            <h2 id="LNPLS-GUID-5F84DB47-B5BE-4292-848F-756BF365EC54" class="sect2"><span class="enumeration_section">14.11</span> CREATE PROCEDURE声明</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>语句创建或替换独立过程或调用规范。
               </p>
               <div class="section">
                  <p><span class="bold">独立过程</span>是存储在数据库中的过程（执行特定操作的子程序）。
                  </p>
                  <div class="infoboxnote" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-FF8E0CAB-036F-4A91-BD42-441735B00211">
                     <p class="notep1">注意：</p>
                     <p>使用<code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>语句创建的独立过程与在PL / SQL块或包中声明和定义的过程不同。有关信息，请参阅<span class="q">“ <a href="procedure-declaration-and-definition.html#GUID-9A48D7CE-3720-46A4-B5CA-C2250CA86AF2" title="在调用过程之前，必须声明并定义它。您可以先声明它（使用procedure_declaration），然后在同一个块，子程序或包中使用procedure_definition定义它，或者同时声明和定义它（使用procedure_definition）。">过程声明和定义</a> ”</span>或<span class="q">“ <a href="CREATE-PACKAGE-statement.html#GUID-03A70A54-90FF-4293-B6B8-F0B35E184AC5" title="CREATE PACKAGE语句创建或替换存储包的规范，存储包是数据库中作为一个单元存储的相关过程，函数和其他程序对象的封装集合。">CREATE PACKAGE语句</a> ”</span> 。
                     </p>
                  </div>
                  <p><span class="bold">调用规范</span>声明了Java方法或C语言过程，以便可以从PL / SQL调用它。您还可以使用SQL <code class="codeph">CALL</code>语句来调用此类方法或子程序。调用规范告诉数据库在调用时调用哪个Java方法或哪个命名过程来调用共享库。它还告诉数据库为参数和返回值进行的类型转换。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-6D644315-8EAD-4DFF-8E96-9B18A029BE36">话题</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="CREATE-PROCEDURE-statement.html#GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABEEBDA">先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PROCEDURE-statement.html#GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABJEGID">句法</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PROCEDURE-statement.html#GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABJHFAG">语义</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PROCEDURE-statement.html#GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABDIJJC">例子</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PROCEDURE-statement.html#GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABIIJCG">相关话题</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABEEBDA">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-5681081A-3EC9-4FE8-BA02-72454A4B7169">先决条件</p>
                  <p>要在模式中创建或替换独立过程，您必须具有<code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>系统特权。要在另一个用户的模式中创建或替换独立过程，您必须具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">PROCEDURE</code>系统特权。
                  </p>
                  <p>要调用调用规范，您可能需要其他权限，例如，对C调用规范的C库的<code class="codeph">EXECUTE</code>对象特权。
                  </p>
                  <p>要在Oracle预编译器程序中嵌入<code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>语句，必须使用关键字<code class="codeph">END-EXEC</code>后跟特定语言的嵌入式SQL语句终止符来终止该语句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABJEGID">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-2C938507-673D-4B77-958A-6DE72DA0D0A8">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-27641D02-78A5-409B-A35A-D8B29303DB48"><span class="italic">create_procedure</span> :: =</p>
                  <div class="figure" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-2860AAB0-49D9-4CA9-B969-60CAFFFA7F54"><img src="img/create_procedure.gif" alt="下面是create_procedure.eps的描述" title="下面是create_procedure.eps的描述" longdesc="img_text/create_procedure.html"><br><a href="img_text/create_procedure.html">说明create_procedure.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-48D3D692-3896-4F67-BF52-6A0DA3CF06BC"><span class="italic">plsql_procedure_source</span> :: =</p>
                  <div class="figure" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-057853FA-F91D-4C8B-97CA-8920B77F8912"><img src="img/plsql_procedure_source.gif" alt="下面是plsql_procedure_source.eps的说明" title="下面是plsql_procedure_source.eps的说明" longdesc="img_text/plsql_procedure_source.html"><br><a href="img_text/plsql_procedure_source.html">说明plsql_procedure_source.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="SHARING-clause.html#GUID-3C830338-8B7E-43C0-9EA0-4E292AA1A97B__SHARING_CLAUSE-5ADB7CDA">sharing_clause :: =</a> ， <a href="DEFAULT-COLLATION-clause.html#GUID-453FC0EA-7B83-407B-A991-87A48017B358__DEFAULT_COLLATION_CLAUSE-FE9CA794">default_collation_clause :: =</a> ， <a href="invokers_rights_clause.html#GUID-66745CF3-81D9-491B-BD49-E83E05A5C4E4__INVOKER_RIGHTS_CLAUSE-0566ECA9">invoker_rights_clause :: =</a> ， <a href="ACCESSIBLE-BY-clause.html#GUID-9720619C-9862-4123-96E7-3E85F240FF36__ACCESSIBLE_BY_CLAUSE-0B7B66E4">accessible_by_clause :: =</a> ， <a href="call-specification.html#GUID-C5F117AE-E9A2-499B-BA6A-35D072575BAD__CALL_SPEC-5BE1CB5C">call_spec :: =</a> ， <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACHDGG">body :: =</a> ， <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJAIABJJ">declare_section :: =</a> ， <a href="formal-parameter-declaration.html#GUID-5BA8E033-96B9-439A-A4FC-4844FEC14AD8__CJAJDGCC">parameter_declaration :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABJHFAG">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-06FB9CA4-1620-4D04-965E-C4C8CDF843C8">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-112AF118-5DA1-4A72-A3CF-411F176D88F4"><span class="italic">create_procedure</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">或替换</span></p>
                  <p>如果存在，则重新创建该过程，然后重新编译它。</p>
                  <p>在重新定义过程之前被授予权限的用户仍然可以访问该过程而无需重新授予权限。</p>
                  <p>如果任何基于函数的索引依赖于该过程，则数据库会将索引标记为<code class="codeph">DISABLED</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[版权所有|不可挽回的]</span></p>
                  <p>指定的程序是否是editioned或noneditioned对象如果editioning为架构对象类型启用<code class="codeph">PROCEDURE</code>在<span class="italic"><code class="codeph">schema</code></span> 。<span class="bold">默认值：</span> <code class="codeph">EDITIONABLE</code> 。有关已编辑和未编辑的对象的信息，请参见“ <a href="../adfns/editions.html#ADFNS99923" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-619DC7A4-952D-474F-80BD-3E3BF9B8D351"><span class="italic">plsql_procedure_source</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>包含该过程的模式的名称。<span class="bold">默认值：</span>您的架构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">PROCEDURE_NAME</span></span></p>
                  <p>要创建的过程的名称。</p>
                  <div class="infoboxnote" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-A2139BEE-43E5-4F55-A9E1-8B1681602F62">
                     <p class="notep1">注意：</p>
                     <p>如果计划使用SQL * Module生成的存根调用存储的子程序，则存储的子程序名称也必须是调用主机3GL语言中的合法标识符，例如Ada或C.</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">身体</span></span></p>
                  <p>过程所需的可执行部分，以及可选的过程的异常处理部分。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">declare_section</span></span></p>
                  <p>过程的可选声明部分。声明是过程的本地声明，可以在<span class="italic"><code class="codeph">body</code></span>引用，并在过程完成执行时停止存在。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABDIJJC">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-B6F1AE06-50E9-4217-8347-DDE8D2051D55">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__CREATINGAPROCEDURE-95963E77">
                  <p class="titleinexample">示例14-21创建过程</p>
                  <p>此语句在模式<code class="codeph">hr</code>创建过程<code class="codeph">remove_emp</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">CREATE PROCEDURE remove_emp（employee_id NUMBER）AS <span class="italic">tot_emps NUMBER;</span> BEGIN DELETE FROM employees WHERE employees.employee_id = remove_emp.employee_id; tot_emps：= tot_emps  -  1;结束; /</pre><p><code class="codeph">remove_emp</code>过程删除指定的员工。调用过程时，必须指定要删除的<code class="codeph">employee_id</code>的employee_id。
                  </p>
                  <p>该过程使用<code class="codeph">DELETE</code>语句从删除<code class="codeph">employee</code>的桌子排<code class="codeph">employee_id</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-66659695-267B-4CB5-A11F-5BD1688537C9">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="CREATE-PACKAGE-BODY-statement.html#GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE" title="CREATE PACKAGE BODY语句创建或替换存储包的主体，该包是相关过程，存储函数和作为单元存储在数据库中的其他程序对象的封装集合。">CREATE PACKAGE BODY Statement</a> ”</span>以了解如何将此过程合并到包中</p>
                  </div>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__CREATINGANEXTERNALPROCEDURE-95964313">
                  <p class="titleinexample">示例14-22创建外部过程</p>
                  <p>在此示例中，外部过程<code class="codeph">c_find_root</code>期望指针作为参数。过程<code class="codeph">find_root</code>使用<code class="codeph">BY</code> <code class="codeph">REFERENCE</code>短语通过引用传递参数。
                  </p><pre class="oac_no_warn" dir="ltr">创建过程find_root（x IN REAL）是语言C名称c_find_root LIBRARY c_utils PARAMETERS（x BY REFERENCE）;</pre></div>
               <!-- class="example" -->
               <div class="section" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__BABIIJCG">
                  <p class="subhead1" id="GUID-5F84DB47-B5BE-4292-848F-756BF365EC54__GUID-9AC8E9D5-6B6A-4625-A64E-EC95BA1E4A3F">相关话题</p>
                  <p>在这一章当中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="ALTER-PROCEDURE-statement.html#GUID-17EAA51A-308B-4DA3-856C-DA5C4480AAA9" title="ALTER PROCEDURE语句显式重新编译独立过程。">更改程序声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="CREATE-FUNCTION-statement.html#GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2" title="CREATE FUNCTION语句创建或替换独立函数或调用规范。">创造功能声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="DROP-PROCEDURE-statement.html#GUID-A66E96E6-A582-4A59-B97E-8E6EA52EC292" title="DROP PROCEDURE语句从数据库中删除独立过程。">DROP PROCEDURE声明</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他章节中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="formal-parameter-declaration.html#GUID-5BA8E033-96B9-439A-A4FC-4844FEC14AD8" title="形式参数声明指定参数的名称和数据类型，以及（可选）其模式和默认值。">正式参数声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="procedure-declaration-and-definition.html#GUID-9A48D7CE-3720-46A4-B5CA-C2250CA86AF2" title="在调用过程之前，必须声明并定义它。您可以先声明它（使用procedure_declaration），然后在同一个块，子程序或包中使用procedure_definition定义它，或者同时声明和定义它（使用procedure_definition）。">程序声明和定义</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="plsql-subprograms.html#GUID-13BEBBEC-02D4-48E8-A059-DFEAC4751A3B" title="当PL / SQL函数具有RESULT_CACHE选项时，其结果将缓存在共享全局区域（SGA）中，因此连接到同一实例的会话可以在可用时重用这些结果。PL / SQL函数结果缓存与结果缓存共享其管理和可管理性基础结构。如果在DR单元（定义者权限单元）中包含已连接的用户数据库链接，则必须向将运行DR单元的用户授予INHERIT REMOTE PRIVILEGES权限。">PL / SQL子程序</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他书籍中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关<code class="codeph">CALL</code>语句的信息，请<a href="../sqlrf/CALL.html#SQLRF01108" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </li>
                     <li>
                        <p><a href="../adfns/design_basics.html#ADFNS010" target="_blank"><span class="italic">Oracle数据库开发指南</span></a>关于呼叫规范的详细信息</p>
                     </li>
                     <li>
                        <p>有关调用存储的PL / SQL子程序的详细信息，请参见<a href="../adfns/coding-subprograms-and-packages.html#ADFNS00906" target="_blank"><span class="italic">“Oracle数据库开发指南”</span></a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>