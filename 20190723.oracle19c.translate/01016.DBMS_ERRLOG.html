<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_ERRLOG package provides a procedure that enables you to create an error logging table so that DML operations can continue after encountering errors rather than abort and roll back. This enables you to save time and system resources."></meta>
      <meta name="description" content="The DBMS_ERRLOG package provides a procedure that enables you to create an error logging table so that DML operations can continue after encountering errors rather than abort and roll back. This enables you to save time and system resources."></meta>
      <title>DBMS_ERRLOG</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_ERRLOG package provides a procedure that enables you to create an error logging table so that DML operations can continue after encountering errors rather than abort and roll back. This enables you to save time and system resources."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_EPG.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_FGA.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_EPG.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_FGA.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_ERRLOG</li>
            </ol>
            <a id="GUID-D17A2343-FABA-454E-B227-479DC951D0D1" name="GUID-D17A2343-FABA-454E-B227-479DC951D0D1"></a><a id="ARPLS680"></a><a id="ARPLS680"></a>
            
            <h2 id="ARPLS-GUID-D17A2343-FABA-454E-B227-479DC951D0D1" class="sect2"><span class="enumeration_chapter">65</span> DBMS_ERRLOG</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_ERRLOG</code>包提供了一个过程，使您可以创建错误日志记录表，以便DML操作在遇到错误后可以继续，而不是中止和回滚。这使您可以节省时间和系统资源。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_ERRLOG.html#GUID-CB7A1BCC-ACAD-4955-82B1-46AD235B464E" title="可以通过将此程序包上的EXECUTE授予选定的用户或角色来控制此程序包的安全性。EXECUTE特权是公开授予的。但是，要创建错误日志记录表，您需要在基表或视图上使用SELECT访问权限，CREATE TABLE权限以及目标表空间的表空间配额。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ERRLOG.html#GUID-9E1284A7-BD6E-4E66-B2BC-B66AFF7B0AF7" title="DBMS_ERRORLOG包中包含CREATE_ERROR_LOG过程子程序。">DBMS_ERRLOG子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D17A2343-FABA-454E-B227-479DC951D0D1__GUID-F7199A96-ABD0-4944-995A-1CFE9D80B8F1">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../dwhsg/loading-transformation-date-warehouses.html#DWHSG-GUID-5B2CC8B6-8503-4B41-A75E-79A4925FCE4B" target="_blank"><span class="variable" translate="no">Oracle Database Data Warehousing Guide</span></a> ，了解有关如何使用<code class="codeph">DBMS_ERRLOG</code>和<a href="../sqlrf/INSERT.html#SQLRF01604" target="_blank"><span class="italic">Oracle数据库SQL语言参考的</span></a>更多信息，以获取<code class="codeph">error_logging_clause</code>语法</p>
               </div>
            </div><a id="ARPLS66321"></a><a id="ARPLS66321"></a><div class="props_rev_3"><a id="GUID-CB7A1BCC-ACAD-4955-82B1-46AD235B464E" name="GUID-CB7A1BCC-ACAD-4955-82B1-46AD235B464E"></a><h3 id="ARPLS-GUID-CB7A1BCC-ACAD-4955-82B1-46AD235B464E" class="sect3"><span class="enumeration_section">65.1</span> DBMS_DIMENSION安全模型</h3>
               <div>
                  <p>可以通过将此程序包上的<code class="codeph">EXECUTE</code>授予选定的用户或角色来控制此程序包的安全性。<code class="codeph">EXECUTE</code>特权是公开授予的。但是，要创建错误日志记录表，您需要在基表或视图上使用<code class="codeph">SELECT</code>访问权限， <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>权限以及目标表空间的表空间配额。
                  </p>
               </div>
            </div><a id="ARPLS66322"></a><a id="ARPLS66323"></a><a id="ARPLS66323"></a><a id="ARPLS66322"></a><div class="props_rev_3"><a id="GUID-9E1284A7-BD6E-4E66-B2BC-B66AFF7B0AF7" name="GUID-9E1284A7-BD6E-4E66-B2BC-B66AFF7B0AF7"></a><h3 id="ARPLS-GUID-9E1284A7-BD6E-4E66-B2BC-B66AFF7B0AF7" class="sect3"><span class="enumeration_section">65.2</span> DBMS_ERRLOG子程序摘要</h3>
               <div>
                  <p><code class="codeph">DBMS_ERRORLOG</code>包中包含CREATE_ERROR_LOG过程子程序。
                  </p>
                  <div class="tblformal" id="GUID-9E1284A7-BD6E-4E66-B2BC-B66AFF7B0AF7__GUID-386C7D8F-8585-44D1-A0DF-D6CBFF065FD0">
                     <p class="titleintable">表65-1 DBMS_ERRLOG包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ERRLOG包子程序" width="100%" border="1" summary="This table list the subprograms of DBMS_ERRORLOG and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d423394e349">子程序</th>
                              <th align="left" valign="bottom" width="69%" id="d423394e352">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d423394e357" headers="d423394e349 ">
                                 <p><a href="DBMS_ERRLOG.html#GUID-D63954DD-5CE5-4317-A334-026F3BC8D042" title="此过程将创建使用DML错误日志记录功能所需的错误日志记录表。">CREATE_ERROR_LOG过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d423394e357 d423394e352 ">
                                 <p>创建DML错误日志记录中使用的错误日志记录表</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66324"></a><a id="ARPLS66325"></a><a id="ARPLS66325"></a><a id="ARPLS66324"></a><div class="props_rev_3"><a id="GUID-D63954DD-5CE5-4317-A334-026F3BC8D042" name="GUID-D63954DD-5CE5-4317-A334-026F3BC8D042"></a><h4 id="ARPLS-GUID-D63954DD-5CE5-4317-A334-026F3BC8D042" class="sect4"><span class="enumeration_section">65.2.1</span> CREATE_ERROR_LOG过程</h4>
                  <div>
                     <p>此过程将创建使用DML错误日志记录功能所需的错误日志记录表。</p>
                     <div class="section">
                        <p>列中不支持<code class="codeph">LONG</code> ， <code class="codeph">CLOB</code> ， <code class="codeph">BLOB</code> ， <code class="codeph">BFILE</code>和<code class="codeph">ADT</code>数据类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D63954DD-5CE5-4317-A334-026F3BC8D042__GUID-6F88B874-0CEA-47C1-9E88-137DE3C3929B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ERRLOG.CREATE_ERROR_LOG（dml_table_name IN VARCHAR2，err_log_table_name IN VARCHAR2：= NULL，err_log_table_owner IN VARCHAR2：= NULL，err_log_table_space IN VARCHAR2：= NULL，skip_unsupported IN BOOLEAN：= FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D63954DD-5CE5-4317-A334-026F3BC8D042__GUID-A3B00431-FE3A-4BA9-AD3B-439DE9A9341B">参数</p>
                        <div class="tblformal" id="GUID-D63954DD-5CE5-4317-A334-026F3BC8D042__GUID-62E1FD4C-9FA9-4D19-B2B0-6338C6AD1A08">
                           <p class="titleintable">表65-2 CREATE_ERROR_LOG过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_ERROR_LOG过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_ERRLOG.CREATE_ERROR_LOG procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d423394e495">参数</th>
                                    <th align="left" valign="bottom" width="72%" id="d423394e498">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d423394e503" headers="d423394e495 ">
                                       <p><code class="codeph">dml_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d423394e503 d423394e498 ">
                                       <p>用于基于错误日志记录表的DML表的名称。名称可以是完全限定的（例如， <code class="codeph">emp</code> ， <code class="codeph">scott.emp</code> ， <code class="codeph">"EMP"</code> ， <code class="codeph">"SCOTT"."EMP"</code> ）。如果名称组件用双引号括起来，则不会是大写的。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d423394e523" headers="d423394e495 ">
                                       <p><code class="codeph">err_log_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d423394e523 d423394e498 ">
                                       <p>您将创建的错误记录表的名称。</p>
                                       <p>默认值是前缀为<code class="codeph">'ERR$_'</code>的DML表名称中的前25个字符。示例如下：</p>
                                       <p><code class="codeph">dml_table_name</code> ： <code class="codeph">'EMP'</code> ， <code class="codeph">err_log_table_name</code> ： <code class="codeph">'ERR$_EMP'</code></p>
                                       <p><code class="codeph">dml_table_name</code> ： <code class="codeph">'"Emp2"'</code> ， <code class="codeph">err_log_table_name</code> ： <code class="codeph">'ERR$_Emp2'</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d423394e560" headers="d423394e495 ">
                                       <p><code class="codeph">err_log_table_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d423394e560 d423394e498 ">
                                       <p>错误记录表的所有者的名称。您可以在<code class="codeph">dml_table_name</code>指定所有者。否则，使用当前连接用户的模式。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d423394e571" headers="d423394e495 ">
                                       <p><code class="codeph">err_log_table_space</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d423394e571 d423394e498 ">
                                       <p>将在其中创建错误日志记录表的表空间。如果未指定，将使用拥有DML错误日志记录表的用户的默认表空间。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d423394e579" headers="d423394e495 ">
                                       <p><code class="codeph">skip_unsupported</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d423394e579 d423394e498 ">
                                       <p>设置为<code class="codeph">TRUE</code> ，将跳过错误日志记录不支持的列类型，而不会将其添加到错误日志记录表中。
                                       </p>
                                       <p>设置为<code class="codeph">FALSE</code> ，不受支持的列类型将导致过程终止。
                                       </p>
                                       <p>默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D63954DD-5CE5-4317-A334-026F3BC8D042__GUID-C942A263-2A5B-4844-AB58-90270AA6723F">例子</p>
                        <p>首先，使用默认名称生成为<code class="codeph">SH</code>模式中的<code class="codeph">channels</code>表创建错误日志表。
                        </p>
                        <p>然后，查看表<code class="codeph">channels</code>所有列：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESC频道名称是否为空？类型--------------------------- ------- ----- CHANNEL_ID NOT NULL CHAR（1）CHANNEL_DESC NOT NULL VARCHAR2（20）CHANNEL_CLASS VARCHAR2（20）</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>最后，查看生成的错误日志表的所有列。请注意包创建的强制控制列：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESC ERR $ _CHANNELS名称是否为空？输入----------------- ---- ---- ORA_ERR_NUMBER $ NUMBER ORA_ERR_MESG $ VARCHAR2（2000）ORA_ERR_ROWID $ ROWID ORA_ERR_OPTYP $ VARCHAR2（2）ORA_ERR_TAG $ VARCHAR2（2000） CHANNEL_ID VARCHAR2（4000）CHANNEL_DESC VARCHAR2（4000）CHANNEL_CLASS VARCHAR2（4000）</pre><p>有关控制列的详细信息，请参见“ <a href="../admin/managing-tables.html#ADMIN10261" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>