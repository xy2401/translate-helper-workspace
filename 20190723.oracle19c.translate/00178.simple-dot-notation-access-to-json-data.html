<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Dot notation is designed for easy, general use and common use cases. Queries of JSON data that use dot-notation syntax return JSON values whenever possible.">
      <meta name="description" content="Dot notation is designed for easy, general use and common use cases. Queries of JSON data that use dot-notation syntax return JSON values whenever possible.">
      <title>Simple Dot-Notation Access to JSON Data</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JSON Developer's Guide">
      <meta property="og:description" content="Dot notation is designed for easy, general use and common use cases. Queries of JSON data that use dot-notation syntax return JSON values whenever possible.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JSON Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="json-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-22T10:58:31-08:00">
      <meta name="dcterms.title" content="JSON Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="2015, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96227-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="query-json-data.html" title="Previous" type="text/html">
      <link rel="next" href="json-path-expressions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADJSN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="query-json-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="json-path-expressions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JSON Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="query-json-data.html" property="item" typeof="WebPage"><span property="name">Query JSON Data</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Simple Dot-Notation Access to JSON Data</li>
            </ol>
            <a id="GUID-7249417B-A337-4854-8040-192D5CEFD576" name="GUID-7249417B-A337-4854-8040-192D5CEFD576"></a>
            
            <h2 id="ADJSN-GUID-7249417B-A337-4854-8040-192D5CEFD576" class="sect2"><span class="enumeration_chapter">12 </span>Simple Dot-Notation Access to JSON Data
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='simple-dot-notation-access-to-json-data'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Dot notation is designed for easy, general use and common use cases. Queries of JSON data that use dot-notation syntax return JSON values whenever possible.</p>
               <p>The return value for a dot-notation query is <span class="italic">always a string</span> (data type <code class="codeph">VARCHAR2(4000)</code>) representing JSON data. The content of the string depends on the targeted JSON data, as follows:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>If a <span class="italic">single</span> JSON value is targeted, then that value is the string content, whether it is a JSON scalar, object, or array.
                     </p>
                  </li>
                  <li>
                     <p>If <span class="italic">multiple</span> JSON values are targeted, then the string content is a JSON array whose elements are those values.
                     </p>
                  </li>
               </ul>
               <p>This behavior contrasts with that of SQL/JSON functions <code class="codeph">json_value</code> and <code class="codeph">json_query</code>, which you can use for more complex queries. They can return <code class="codeph">NULL</code> or raise an error if the path expression you provide them does not match the queried JSON data. They accept optional clauses to specify the data type of the return value (<code class="codeph">RETURNING</code> clause), whether or not to wrap multiple values as an array (wrapper clause), how to handle errors generally (<code class="codeph">ON ERROR</code> clause), and how to handle missing JSON fields (<code class="codeph">ON EMPTY</code> clause).
               </p>
               <p>In the first case above, the dot-notation behavior is similar to that of function <code class="codeph">json_value</code> for a <span class="italic">scalar</span> value, and it is similar to that of <code class="codeph">json_query</code> for an <span class="italic">object</span> or <span class="italic">array</span> value. In the second case, the behavior is similar to that of <code class="codeph">json_query</code> with an array wrapper.
               </p>
               <p>The dot-notation <span class="italic">syntax</span> is a table alias (mandatory) followed by a dot, that is, a period (<span class="bold"><code class="codeph">.</code></span>), the name of a JSON column, and one or more pairs of the form <span class="bold"><code class="codeph">.</code></span> <span class="italic"><code class="codeph">json_field</code></span> or <span class="bold"><code class="codeph">.</code></span> <span class="italic"><code class="codeph">json_field</code></span> followed by <span class="italic"><code class="codeph">array_step</code></span>, where <span class="italic"><code class="codeph">json_field</code></span> is a JSON field name and <span class="italic"><code class="codeph">array_step</code></span> is an array step expression as described in <a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="The basic syntax of a SQL/JSON path expression is presented. It is composed of a context-item symbol ($) followed by zero or more object, array, and descendant steps, each of which can be followed by a filter expression, followed optionally by a function step. Examples are provided.">Basic SQL/JSON Path Expression Syntax</a>.
               </p>
               <p>Each <span class="italic"><code class="codeph">json_field</code></span> <span class="italic">must</span> be a valid SQL identifier,<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "In particular, this means that you cannot use an empty field name (\"\") with dot-notation syntax.")"><sup>Foot&nbsp;1</sup></a> and the column <span class="italic">must</span> have an <code class="codeph">is json</code> check constraint, which ensures that it contains well-formed JSON data. If either of these rules is not respected then an error is raised at query compile time. (The check constraint must be present to avoid raising an error; however, it need not be active. If you deactivate the constraint then this error is not raised.)
               </p>
               <p>For the dot notation for JSON queries, <span class="italic">unlike the case generally for SQL</span>, unquoted identifiers (after the column name) are treated <span class="italic">case sensitively</span>, that is, just as if they were quoted. This is a convenience: you can use JSON field names as identifiers without quoting them. For example, you can write <code class="codeph">jcolumn.friends</code> instead of <code class="codeph">jcolumn."friends"</code>. This also means that if a JSON object is named using uppercase, such as <code class="codeph">FRIENDS</code>, then you must write <code class="codeph">jcolumn.FRIENDS</code>, not <code class="codeph">jcolumn.friends</code>.
               </p>
               <p>Here are some examples of dot notation syntax. All of them refer to JSON column <code class="codeph">po_document</code> of a table that has alias <code class="codeph">po</code>.
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><code class="codeph">po.po_document.PONumber</code> &#x2013; The value of field <code class="codeph">PONumber</code>.
                     </p>
                  </li>
                  <li>
                     <p><code class="codeph">po.po_document.LineItems[1]</code> &#x2013; The second element of array <code class="codeph">LineItems</code> (array positions are zero-based).
                     </p>
                  </li>
                  <li>
                     <p><code class="codeph">po.po_document.LineItems[*]</code> &#x2013; All of the elements of array <code class="codeph">LineItems</code> (<code class="codeph">*</code> is a wildcard).
                     </p>
                  </li>
                  <li>
                     <p><code class="codeph">po.po_document.ShippingInstructions.name</code> &#x2013; The value of field <code class="codeph">name</code>, a child of object <code class="codeph">ShippingInstructions</code>.
                     </p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-7249417B-A337-4854-8040-192D5CEFD576__GUID-70273649-FEBB-4437-8E6A-A6938CBF7245">
                  <p class="notep1">Note:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Each component of the dot-notation syntax is limited to a maximum of 128 bytes. </p>
                        <p>See <a href="../sqlrf/Database-Object-Names-and-Qualifiers.html#SQLRF51129" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about <span class="italic">SQL</span> dot-notation syntax and SQL identifiers.
                        </p>
                     </li>
                     <li>
                        <p>A simple dot-notation JSON query cannot return a value longer than 4K bytes. If the value surpasses this limit then SQL <code class="codeph">NULL</code> is returned instead. To obtain the actual value, use SQL/JSON function <code class="codeph">json_query</code> or <code class="codeph">json_value</code> instead of dot notation, specifying an appropriate  return type with a <code class="codeph">RETURNING</code> clause.
                        </p>
                        <p>See <a href="../sqlrf/JSON-Object-Access-Expressions.html#SQLRF57024" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about <span class="italic">JSON</span> dot-notation syntax.
                        </p>
                     </li>
                  </ul>
               </div>
               <p><span class="italic">Matching</span> of a JSON dot-notation expression against JSON data is the same as matching of a SQL/JSON path expression, including the relaxation to allow implied array iteration (see <a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="The basic SQL/JSON path-expression syntax is relaxed to allow implicit array wrapping and unwrapping. This means that you need not change a path expression in your code if your data evolves to replace a JSON value with an array of such values, or vice versa. Examples are provided.">SQL/JSON Path Expression Syntax Relaxation</a>). The JSON column of a dot-notation expression corresponds to the context item of a path expression, and each identifier used in the dot notation corresponds to an identifier used in a path expression.
               </p>
               <p>For example, if JSON column <code class="codeph">jcolumn</code> corresponds to the path-expression context item, then the expression <code class="codeph">jcolumn.friends</code> corresponds to path expression <code class="codeph">$.friends</code>, and <code class="codeph">jcolumn.friends.name</code> corresponds to path expression <code class="codeph">$.friends.name</code>. 
               </p>
               <p>For the latter example, the context item could be an object or an array of objects. If it is an array of objects then each of the objects in the array is matched for a field <code class="codeph">friends</code>. The value of field <code class="codeph">friends</code> can itself be an object or an array of objects. In the latter case, the first object in the array is used.
               </p>
               <div class="infoboxnote" id="GUID-7249417B-A337-4854-8040-192D5CEFD576__GUID-44D99971-E80A-4565-82A2-5BB5C4EF4100">
                  <p class="notep1">Note:</p>
                  <p>Other than (1) the <span class="italic">implied</span> use of a wildcard for array elements (see <a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="The basic SQL/JSON path-expression syntax is relaxed to allow implicit array wrapping and unwrapping. This means that you need not change a path expression in your code if your data evolves to replace a JSON value with an array of such values, or vice versa. Examples are provided.">SQL/JSON Path Expression Syntax Relaxation</a>) and (2) the explicit use of a wildcard between array brackets (<code class="codeph">[*]</code>), you <span class="italic">cannot</span> use wildcards in a path expression when you use the dot-notation syntax. This is because an asterisk (<code class="codeph">*</code>) is not a valid <span class="italic">SQL identifier</span>. 
                  </p>
                  <p>For example, this raises a syntax error: <code class="codeph">mytable.mycolumn.object1.<span class="bold">*</span>.object2</code>.
                  </p>
                  <p>Dot-notation syntax is a handy alternative to using simple path expressions; it is not a replacement for using path expressions in general.</p>
               </div>
               <p><a href="simple-dot-notation-access-to-json-data.html#GUID-7249417B-A337-4854-8040-192D5CEFD576__CACGDHDB">Example 12-1</a> shows equivalent dot-notation and <code class="codeph">json_value</code> queries. Given the data from <a href="creating-a-table-with-a-json-column.html#GUID-E6CC0DCF-3D72-41EF-ACA4-B3BF54EE3CA0__CACCIEFA">Example 4-2</a>, each of the queries returns the string <code class="codeph">"1600"</code>, a <code class="codeph">VARCHAR2</code> value representing the JSON number <code class="codeph">1600</code>. 
               </p>
               <p><a href="simple-dot-notation-access-to-json-data.html#GUID-7249417B-A337-4854-8040-192D5CEFD576__CACCBEGC">Example 12-2</a> shows equivalent dot-notation and <code class="codeph">json_query</code> queries. Each query in the first pair returns (a <code class="codeph">VARCHAR2</code> value representing) a JSON array of phone objects. Each query in the second pair returns (a <code class="codeph">VARCHAR2</code> value representing) an array of phone types, just as in <a href="function-JSON_QUERY.html#GUID-D64C7BE9-335D-449C-916D-1123539BF1FB__CACEAIBD">Example 17-1</a>.
               </p>
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-7249417B-A337-4854-8040-192D5CEFD576__GUID-F22876BA-5F7B-4D42-A26A-58F522EE2A0F">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/JSON-Object-Access-Expressions.html#SQLRF57024" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about dot notation used for SQL object and object attribute access (object access expressions)
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-7249417B-A337-4854-8040-192D5CEFD576__CACGDHDB">
                  <p class="titleinexample">Example 12-1 JSON Dot-Notation Query Compared With JSON_VALUE</p><pre class="pre codeblock"><code>SELECT <span class="bold">po</span>.po_document<span class="bold">.</span>PONumber FROM j_purchaseorder <span class="bold">po</span>;

SELECT json_value(po_document, '$.PONumber') FROM j_purchaseorder;

</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-7249417B-A337-4854-8040-192D5CEFD576__CACCBEGC">
                  <p class="titleinexample">Example 12-2 JSON Dot-Notation Query Compared With JSON_QUERY</p><pre class="pre codeblock"><code>SELECT <span class="bold">po</span>.po_document<span class="bold">.</span>ShippingInstructions<span class="bold">.</span>Phone FROM j_purchaseorder <span class="bold">po</span>;

SELECT json_query(po_document, '$.ShippingInstructions.Phone')
  FROM j_purchaseorder;

SELECT <span class="bold">po</span>.po_document.ShippingInstructions<span class="bold">.</span>Phone<span class="bold">.</span>type FROM j_purchaseorder <span class="bold">po</span>;

SELECT json_query(po_document, '$.ShippingInstructions.Phone.type' <span class="bold">WITH WRAPPER</span>)
  FROM j_purchaseorder;</code></pre></div>
               <!-- class="example" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="json-path-expressions.html#GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F" title="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">Overview of SQL/JSON Path Expressions</a></li>
                     <li><a href="creating-a-table-with-a-json-column.html#GUID-E6CC0DCF-3D72-41EF-ACA4-B3BF54EE3CA0" title="You can create a table that has JSON columns. You use SQL condition is json as a check constraint to ensure that data inserted into a column is (well-formed) JSON data. Oracle recommends that you always use an is_json check constraint when you create a column intended for JSON data.">Creating a Table With a JSON Column</a></li>
                     <li><a href="function-JSON_TABLE.html#GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" title="SQL/JSON function json_table projects specific JSON data to columns of various SQL data types. You use it to map parts of a JSON document into the rows and columns of a new, virtual table, which you can also think of as an inline view.">SQL/JSON Function JSON_TABLE</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="query-json-data.html#GUID-119E5069-77F2-45DC-B6F0-A1B312945590" title="You can query JSON data using a simple dot notation or, for more functionality, using SQL/JSON functions and conditions. You can create and query a data guide that summarizes the structure and type information of a set of JSON documents.">Query JSON Data</a></p>
                  </div>
               </div>
            </div>
            
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: In particular, this means that you <span class="italic">cannot</span> use an empty field name (<code class="codeph">""</code>) with dot-notation syntax.<br></div>
      </article>
   </body>
</html>