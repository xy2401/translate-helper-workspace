<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle数据库性能方法</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-2-day-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:50:24-08:00"></meta>
      <meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96346-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-II-proactive-database-tuning.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TDPPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-II-proactive-database-tuning.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库2天+性能调整指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-I-getting-started.html" property="item" typeof="WebPage"><span property="name">入门</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle数据库性能方法</li>
            </ol>
            <a id="GUID-6203E485-FA06-4EE3-9003-4449FBDE214B" name="GUID-6203E485-FA06-4EE3-9003-4449FBDE214B"></a><a id="TDPPT006"></a>
            
            <h2 id="TDPPT-GUID-6203E485-FA06-4EE3-9003-4449FBDE214B" class="sect2"><span class="enumeration_chapter">2</span> Oracle数据库性能方法</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d3429e79" class="indexterm-anchor"></a><a id="d3429e83" class="indexterm-anchor"></a>性能改进是一个迭代过程。消除第一个<span class="bold">瓶颈</span> （资源争用最高的点）可能不会立即导致性能提升，因为可能会发现另一个瓶颈对系统产生更大的性能影响。准确诊断性能问题是确保您的更改提高性能的第一步。
               </p>
               <p>通常，性能问题是由于缺乏<span class="bold">吞吐量</span> （可在指定时间内完成的工作量），不可接受的用户或作业<span class="bold">响应时间</span> （完成指定工作负载的时间）或两者兼而有之。问题可能已本地化到特定的应用程序模块，也可能跨越系统。
               </p>
               <p>在查看数据库或操作系统统计信息之前，从系统用户和负责应用程序的人员那里获取反馈至关重要。此反馈可以更轻松地设置性能目标。可以根据业务目标而不是系统统计来衡量改进的性能。</p>
               <p>可以应用Oracle性能方法，直到达到性能目标或认为不切实际。由于此过程是迭代的，因此某些调查可能对系统性能几乎没有影响。准确快速地确定关键瓶颈需要时间和经验。自动数据库诊断监视器（ADDM）实现Oracle性能方法并分析统计信息，以提供主要性能问题的自动诊断。由于ADDM可以显着缩短提高系统性能所需的时间，因此它是本指南中使用的方法。</p>
               <p>本章讨论Oracle数据库性能方法，并包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-database-performance-method.html#GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95">使用自动工作负载存储库收集数据库统计信息</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-performance-method.html#GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65">使用Oracle性能方法</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-performance-method.html#GUID-D5B54332-FE40-4537-B1C9-0704343CEF54">数据库中常见的性能问题</a></p>
                  </li>
               </ul>
            </div><a id="TDPPT007"></a><div class="props_rev_3"><a id="GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95" name="GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95"></a><h3 id="TDPPT-GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95" class="sect3"><span class="enumeration_section">2.1</span>使用自动工作负载存储库收集数据库统计信息</h3>
               <div>
                  <p>数据库统计信息提供有关数据库上的负载类型以及数据库使用的内部和外部资源的信息。要使用ADDM准确诊断数据库的性能问题，必须提供统计信息。</p>
                  <p><span class="bold">累积统计量</span>是一个计数，例如块读取的数量。Oracle数据库为系统，会话和单个SQL语句生成许多类型的累积统计信息。Oracle数据库还跟踪有关细分和服务的累积统计信息。自动工作负载存储库（AWR）通过收集，处理和维护性能统计信息来自动化数据库统计信息收集，以便进行数据库问题检测和自我调整。
                  </p>
                  <p>默认情况下，数据库每小时收集统计信息并创建一个<span class="bold">AWR快照</span> ，这是一组用于性能比较的特定时间的数据。快照捕获的增量值表示该时间段内每个统计信息的更改。AWR收集的统计信息是从内存中查询的。收集的数据可以显示在报告和视图中。
                  </p>
                  <p>以下初始化参数与AWR相关：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">STATISTICS_LEVEL</code></p>
                        <p>将此参数设置为<code class="codeph">TYPICAL</code> （默认值）或<code class="codeph">ALL</code>以启用AWR的统计信息收集。将<code class="codeph">STATISTICS_LEVEL</code>设置为<code class="codeph">BASIC</code>会禁用许多数据库功能，包括AWR，因此不建议这样做。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code></p>
                        <p>设置为<code class="codeph">DIAGNOSTIC+TUNING</code> （默认）或<code class="codeph">DIAGNOSTIC</code>以启用自动数据库诊断监控。将<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>设置为<code class="codeph">NONE</code>会禁用许多数据库功能，包括ADDM，强烈建议不要这样做。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95__GUID-964279E3-5C7B-49C8-9420-0CBD597153DC">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">STATISTICS_LEVEL</code>初始化参数的更多信息，请<a href="../refrn/STATISTICS_LEVEL.html#REFRN10214" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>初始化参数的详细信息，请<a href="../refrn/CONTROL_MANAGEMENT_PACK_ACCESS.html#REFRN10296" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p>AWR收集和处理的数据库统计信息包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290">时间模型统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C">等待事件统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835">会话和系统统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38">活动会话历史统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9">高负载SQL统计信息</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT345"></a><a id="TDPPT346"></a><a id="TDPPT008"></a><div class="props_rev_3"><a id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290" name="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290"></a><h4 id="TDPPT-GUID-8DEA5079-6AAB-47D8-857A-9B5301843290" class="sect4"><span class="enumeration_section">2.1.1</span>时间模型统计</h4>
                  <div>
                     <p><a id="d3429e421" class="indexterm-anchor"></a><a id="d3429e425" class="indexterm-anchor"></a><a id="d3429e429" class="indexterm-anchor"></a>时间模型统计信息按操作类型测量数据库中花费的时间。最重要的时间模型统计是<span class="bold">数据库时间（DB时间）</span> 。数据库时间表示前台会话在数据库调用中花费的总时间，并且是总实例工作负载的指示符。<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHCDGCI">如图2-1</a>所示，数据库时间构成了应用程序整体用户响应时间的一部分。
                     </p>
                     <div class="figure" id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHCDGCI">
                        <p class="titleinfigure">图2-1总体用户响应时间内的DB时间</p><img src="img/tdppt001.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/tdppt001.html"><br><a href="img_text/tdppt001.html">“图2-1总体用户响应时间中的DB时间”的说明</a></div>
                     <!-- class="figure" -->
                     <p><a id="d3429e445" class="indexterm-anchor"></a><a id="d3429e449" class="indexterm-anchor"></a><a id="d3429e453" class="indexterm-anchor"></a><a id="d3429e455" class="indexterm-anchor"></a><a id="d3429e457" class="indexterm-anchor"></a> <span class="bold">会话</span>是数据库实例内存中的逻辑实体，表示当前用户登录数据库的状态。通过聚合所有<span class="bold">活动会话</span> （非空闲会话）的CPU时间和等待时间来计算数据库时间。对于任何数据库请求，CPU时间是处理请求所花费的时间的总和，而等待时间是各种数据库实例资源的所有等待的总和。数据库时间仅包括在客户端进程上花费的时间，不包括在后台进程（如PMON）上花费的时间。</p>
                     <p>例如，用户会话可能涉及在线书商进行的在线交易，该在线书商包括<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">图2-2</a>中<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">所示</a>的动作。
                     </p>
                     <div class="figure" id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">
                        <p class="titleinfigure">图2-2用户事务中的DB时间</p><img src="img/tdppt002.gif" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/tdppt002.html"><br><a href="img_text/tdppt002.html">“图2-2用户事务中的DB时间”的说明</a></div>
                     <!-- class="figure" -->
                     <ol>
                        <li>
                           <p>通过作者查询小说</p>
                           <p>用户执行特定作者对小说的搜索。此操作使应用程序为作者执行小说的数据库查询。</p>
                        </li>
                        <li>
                           <p>浏览查询结果</p>
                           <p>用户浏览作者返回的小说列表并访问其他详细信息，例如用户评论和库存状态。此操作会导致应用程序执行其他数据库查询。</p>
                        </li>
                        <li>
                           <p>将商品添加到购物车</p>
                           <p>在浏览了关于小说的细节之后，用户决定将一本小说添加到购物车中。此操作会导致应用程序进行数据库调用以更新购物车。</p>
                        </li>
                        <li>
                           <p>查看</p>
                           <p>用户通过使用先前在先前购买的书店网站上保存的地址和支付信息签出来完成交易。此操作使应用程序执行各种数据库操作以检索用户的信息，添加新订单，更新库存以及生成电子邮件确认。</p>
                        </li>
                     </ol>
                     <p>对于上述每个操作，用户向数据库发出请求， <a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">如图2-2中</a>的向下箭头<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">所示</a> 。处理请求的数据库所花费的CPU时间和等待数据库所花费的等待时间被视为DB时间，如阴影区域所示。请求完成后，结果将返回给用户，如向上箭头所示。向上和向下箭头之间的空格表示处理请求的总用户响应时间，其中包含除DB时间之外的其他组件， <a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHCDGCI">如图2-1所示</a> 。
                     </p>
                     <div class="infoboxnote" id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__GUID-11031689-027C-4FE1-AD2E-7519A2B3D313">
                        <p class="notep1">注意：</p>
                        <p>从实例开始时累积测量DB时间。由于DB时间结合了所有非空闲用户会话的时间，因此DB时间可能超过实例启动后经过的时间。例如，运行5分钟的实例可能有四个活动会话，其累积数据库时间为20分钟。</p>
                     </div>
                     <p>数据库调优的目的是减少DB时间。通过这种方式，您可以改善应用程序中用户事务的总体响应时间。</p>
                  </div>
               </div><a id="TDPPT009"></a><div class="props_rev_3"><a id="GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C" name="GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C"></a><h4 id="TDPPT-GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C" class="sect4"><span class="enumeration_section">2.1.2</span>等待事件统计</h4>
                  <div>
                     <p><a id="d3429e590" class="indexterm-anchor"></a><a id="d3429e594" class="indexterm-anchor"></a><a id="d3429e598" class="indexterm-anchor"></a>等待事件由会话递增，以指示会话必须等待事件完成才能继续处理。当会话在处理用户请求时必须等待时，数据库通过使用一组预定义的等待事件之一来记录等待。然后将事件分组为等待类，例如用户I / O和网络。等待事件数据显示可能影响性能的问题的症状，例如锁存，缓冲或I / O争用。
                     </p>
                     <div class="infoboxnotealso" id="GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C__GUID-ED761ADC-6FD5-427B-8BBE-EF81FD56CFD3">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../tgdba/measuring-database-performance.html#TGDBA149" target="_blank"><span class="italic">Oracle数据库性能调整指南</span></a></p>
                           </li>
                           <li>
                              <p><a href="../refrn/oracle-wait-events.html#REFRN101" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TDPPT010"></a><div class="props_rev_3"><a id="GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835" name="GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835"></a><h4 id="TDPPT-GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835" class="sect4"><span class="enumeration_section">2.1.3</span>会话和系统统计</h4>
                  <div>
                     <p><a id="d3429e699" class="indexterm-anchor"></a><a id="d3429e703" class="indexterm-anchor"></a>系统和会话级别上提供了大量累积数据库统计信息。其中一些统计数据由AWR收集。</p>
                  </div>
               </div><a id="TDPPT347"></a><a id="TDPPT348"></a><a id="TDPPT011"></a><div class="props_rev_3"><a id="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38" name="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38"></a><h4 id="TDPPT-GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38" class="sect4"><span class="enumeration_section">2.1.4</span>活动会话历史统计</h4>
                  <div>
                     <p><a id="d3429e792" class="indexterm-anchor"></a><a id="d3429e796" class="indexterm-anchor"></a><a id="d3429e800" class="indexterm-anchor"></a><a id="d3429e804" class="indexterm-anchor"></a>活动会话历史记录（ASH）统计信息是数据库中会话活动的样本。数据库每秒对活动会话进行采样，并将它们存储在系统全局区域（SGA）中的循环缓冲区中。连接到数据库并使用CPU或正在等待不属于空闲等待类的事件的任何会话都被视为活动会话。通过仅捕获活动会话，可以表示一组可管理的数据。数据的大小与正在执行的工作直接相关，而不是与数据库上允许的会话数相关。
                     </p>
                     <p>使用<span class="q">“ <a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290">时间模型统计</a> ”中</span>描述的DB时间示例，会话活动的样本从书商网站上进行的在线交易中收集，表示为<a href="oracle-database-performance-method.html#GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHBAFGI">图2-3中</a>水平箭头下方的垂直线。
                     </p>
                     <div class="figure" id="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHBAFGI">
                        <p class="titleinfigure">图2-3活动会话历史记录</p><img src="img/tdppt003.gif" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/tdppt003.html"><br><a href="img_text/tdppt003.html">“图2-3活动会话历史”的描述</a></div>
                     <!-- class="figure" -->
                     <p>浅垂直线表示未在ASH统计中捕获的非活动会话活动的样本。粗体垂直线表示在以下位置捕获的活动会话样本：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>7:38，而作者的小说正在被查询</p>
                        </li>
                        <li>
                           <p>7:42，用户正在浏览查询结果</p>
                        </li>
                        <li>
                           <p>7:50，将一本小说添加到购物车中</p>
                        </li>
                        <li>
                           <p>7:52，在结账过程中</p>
                        </li>
                     </ul>
                     <p><a href="oracle-database-performance-method.html#GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHDGJAH" title="列出了4个ASH采样，其中包含时间，SID，模块，SQL ID，状态和事件的值">表2-1</a>列出了为活动会话收集的ASH统计信息，以及会话ID（SID），模块，SQL ID，会话状态和采样的等待事件的示例。
                     </p>
                     <div class="tblformal" id="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHDGJAH">
                        <p class="titleintable">表2-1活动会话历史记录</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="活动会话历史记录" width="100%" border="1" summary="4 ASH samplings are listed with values for time, SID, module, SQL  ID, state, and event" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d3429e858">时间</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e861">SID</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e864">模</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e867">SQL ID</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e870">州</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e873">事件</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e878" headers="d3429e858 ">
                                    <p>7:38</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e864 ">
                                    <p>按作者预订</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e867 ">
                                    <p>qa324jffritcf</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e870 ">
                                    <p>等候</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e873 ">
                                    <p>db文件顺序读取</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e897" headers="d3429e858 ">
                                    <p>7:42</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e864 ">
                                    <p>获取评论ID</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e867 ">
                                    <p>aferv5desfzs5</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e870 ">
                                    <p>中央处理器</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e873 ">
                                    <p>N / A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e916" headers="d3429e858 ">
                                    <p>7:50</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e864 ">
                                    <p>将商品添加到购物车</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e867 ">
                                    <p>hk32pekfcbdfr</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e870 ">
                                    <p>等候</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e873 ">
                                    <p>缓冲忙等待</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e935" headers="d3429e858 ">
                                    <p>7:52</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e864 ">
                                    <p>查看</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e867 ">
                                    <p>abngldf95f4de</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e870 ">
                                    <p>等候</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e873 ">
                                    <p>日志文件同步</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="TDPPT012"></a><div class="props_rev_3"><a id="GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9" name="GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9"></a><h4 id="TDPPT-GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9" class="sect4"><span class="enumeration_section">2.1.5</span>高负载SQL统计</h4>
                  <div>
                     <p><a id="d3429e1034" class="indexterm-anchor"></a><a id="d3429e1038" class="indexterm-anchor"></a>消耗最多资源的SQL语句会根据已用时间和CPU时间等条件在系统上产生最高负载。
                     </p>
                  </div>
               </div>
            </div><a id="TDPPT490"></a><div class="props_rev_3"><a id="GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65" name="GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65"></a><h3 id="TDPPT-GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65" class="sect3"><span class="enumeration_section">2.2</span>使用Oracle性能方法</h3>
               <div>
                  <p>使用Oracle性能方法进行性能调整<a id="d3429e1125" class="indexterm-anchor"></a>通过识别和消除数据库中的瓶颈，以及开发有效的SQL语句来实现。数据库调优分两个阶段进行：主动和被动。
                  </p>
                  <p>在主动调优阶段，您必须执行调整任务，作为日常数据库维护例程的一部分，例如查看ADDM分析和结果，监视数据库的实时性能以及响应警报。</p>
                  <p>在响应调优阶段，您必须响应用户报告的问题，例如可能在短时间内发生的性能问题，或者在一段时间内数据库性能下降。</p>
                  <p>SQL调优是一个迭代过程，用于识别，调整和提高高负载SQL语句的效率。</p>
                  <p>应用Oracle性能方法涉及以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>执行预调整准备工作，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E">准备调整数据库</a> ”中所述</span></p>
                     </li>
                     <li>
                        <p>定期主动调整数据库，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-1272C55B-4D9C-4249-8637-CCF336411AC9">主动调整数据库</a> ”中所述</span></p>
                     </li>
                     <li>
                        <p>在用户报告性能问题时反应性地调整数据库，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A">反应性地调整数据库</a> ”中所述</span></p>
                     </li>
                     <li>
                        <p>识别，调整和优化高负载SQL语句，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-8A2BF70E-A635-4675-8189-606B35B49FD6">调整SQL语句</a> ”中所述</span></p>
                     </li>
                  </ul>
                  <p>要提高数据库性能，必须迭代应用这些原则。</p>
               </div><a id="TDPPT491"></a><div class="props_rev_3"><a id="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E" name="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E"></a><h4 id="TDPPT-GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E" class="sect4"><span class="enumeration_section">2.2.1</span>准备数据库以进行调整</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了在正确调整数据库之前必须执行的步骤。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E__GUID-F17EAF65-953C-47D5-B465-2252771B4A83">准备数据库以进行调整：</p>
                        <ol>
                           <li>
                              <p>获取用户的反馈。</p>
                              <p>确定绩效项目的范围和后续绩效目标，并确定未来的绩效目标。此过程是未来容量规划的关键。</p>
                           </li>
                           <li>
                              <p>检查涉及用户性能的所有系统的操作系统。</p>
                              <p>检查已充分利用的硬件或操作系统资源。列出任何过度使用的资源，以便以后分析。此外，确保所有硬件都正常运行。</p>
                           </li>
                           <li>
                              <p>确保<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为<code class="codeph">TYPICAL</code> （默认值）或<code class="codeph">ALL</code>以启用Oracle数据库的自动性能调整功能，包括AWR和ADDM。</p>
                           </li>
                           <li>
                              <p><a id="d3429e1291" class="indexterm-anchor"></a><a id="d3429e1293" class="indexterm-anchor"></a>确保<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>初始化参数设置为<code class="codeph">DIAGNOSTIC+TUNING</code> （默认值）或<code class="codeph">DIAGNOSTIC</code>以启用ADDM。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E__GUID-DF2E6B79-39CC-44C0-B2C8-A12A17DD6423">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="oracle-database-performance-method.html#GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95">使用自动工作负载存储库收集数据库统计</a></span>信息<span class="q">”</span>以获取有关配置AWR的信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="automatic-database-performance-monitoring.html#GUID-DE45C80A-1825-4E24-A9C6-521610B63B07">配置自动数据库诊断监视器</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT492"></a><div class="props_rev_3"><a id="GUID-1272C55B-4D9C-4249-8637-CCF336411AC9" name="GUID-1272C55B-4D9C-4249-8637-CCF336411AC9"></a><h4 id="TDPPT-GUID-1272C55B-4D9C-4249-8637-CCF336411AC9" class="sect4"><span class="enumeration_section">2.2.2</span>主动调整数据库</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了定期对数据库进行适当调整所需的主动步骤。执行这些步骤作为Oracle数据库日常维护的一部分。重复调整过程，直到达到性能目标或由于其他限制而无法实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1272C55B-4D9C-4249-8637-CCF336411AC9__GUID-26A0D1D8-2799-4701-B2C2-696003981D1C">要主动调整数据库：</p>
                        <ol>
                           <li>
                              <p>查看ADDM结果，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监控中所述</a> 。
                              </p>
                              <p>ADDM自动检测并报告数据库的性能问题，包括大多数<span class="q">“ <a href="oracle-database-performance-method.html#GUID-D5B54332-FE40-4537-B1C9-0704343CEF54">数据库中发现的常见性能问题</a> ”</span> 。结果在Oracle Enterprise Manager云控制（云控制）中的数据库主页上显示为ADDM结果。通过查看这些发现，您可以快速确定需要引起注意的性能问题。
                              </p>
                           </li>
                           <li>
                              <p>实现ADDM建议，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。
                              </p>
                              <p>通过每次ADDM发现，ADDM会自动提供一系列建议，以减少性能问题的影响。实施建议应用建议的更改以提高数据库性能。</p>
                           </li>
                           <li>
                              <p>实时监控数据库的性能问题，如<a href="monitoring-real-time-database-performance.html#GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704">监控实时数据库性能中所述</a> 。
                              </p>
                              <p>Cloud Control中的“性能”页面使您能够识别并响应实时性能问题。通过深入到适当的页面，您可以实时识别和解决数据库的性能问题，而无需等到下一次ADDM分析。</p>
                           </li>
                           <li>
                              <p>响应与性能相关的警报，如<a href="monitoring-performance-alerts.html#GUID-884BBFEE-BDEB-447E-9384-9FE8FC1D69F9">监控性能警报中所述</a> 。
                              </p>
                              <p>Cloud Control中的数据库主页显示数据库生成的与性能相关的警报。通常，解决这些警报指示的问题可提高数据库性能。</p>
                           </li>
                           <li>
                              <p>验证所有更改是否产生了所需的效果，并验证用户是否体验到了性能改进。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT493"></a><div class="props_rev_3"><a id="GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A" name="GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A"></a><h4 id="TDPPT-GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A" class="sect4"><span class="enumeration_section">2.2.3</span>反应调优数据库</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了根据用户反馈调整数据库所需的步骤。该调整过程被认为是被动的。当用户报告性能问题时，请定期执行此过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A__GUID-8A44A55F-D067-4271-9FD1-11B62762CB88">以反应方式调整数据库：</p>
                        <ol>
                           <li>
                              <p>手动运行ADDM以在用户报告性能问题时诊断当前和历史数据库性能，如<a href="manual-database-performance-monitoring.html#GUID-BF18504A-3CFC-46FC-A2D9-F17D38EA38E8">手动数据库性能监视中所述</a> 。
                              </p>
                              <p>通过这种方式，您可以在下一次ADDM分析之前分析当前数据库性能，或者在未主动监视系统时分析历史数据库性能。</p>
                           </li>
                           <li>
                              <p>解决瞬态性能问题，如<a href="resolving-transient-performance-problems.html#GUID-2AE0B06D-65E5-45A2-AFCB-F027568BC601">解决瞬态性能问题中所述</a> 。
                              </p>
                              <p>通过活动会话历史记录（ASH）报告，您可以分析数据库的瞬态性能问题，这些问题是短暂的，并且不会出现在ADDM分析中。</p>
                           </li>
                           <li>
                              <p>解决性能随时间降低的问题，如<a href="resolving-performance-degradation-over-time.html#GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8">解决性能随时间的降级中</a>所述。
                              </p>
                              <p>自动工作负载存储库（AWR）比较周期报告使您能够比较两个时间段之间的数据库性能，并解决从一个时间段到另一个时间段可能发生的性能下降。</p>
                           </li>
                           <li>
                              <p>验证所做的更改是否产生了所需的效果，并验证用户是否体验到了性能改进。</p>
                           </li>
                           <li>
                              <p>重复这些步骤，直到达到您的性能目标或由于其他限制而无法实现。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT494"></a><div class="props_rev_3"><a id="GUID-8A2BF70E-A635-4675-8189-606B35B49FD6" name="GUID-8A2BF70E-A635-4675-8189-606B35B49FD6"></a><h4 id="TDPPT-GUID-8A2BF70E-A635-4675-8189-606B35B49FD6" class="sect4"><span class="enumeration_section">2.2.4</span>调整SQL语句</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了识别，调优和优化高负载SQL语句所需的步骤。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A2BF70E-A635-4675-8189-606B35B49FD6__GUID-6ACBC7C5-970A-4958-9AE9-07C2078EE1EA">调整SQL语句：</p>
                        <ol>
                           <li>
                              <p>识别高负载SQL语句，如<a href="identifying-high-load-sql-statements.html#GUID-D4D8C985-93B4-402C-A6C9-D5ABA980BEDB">识别高负载SQL语句中所述</a> 。
                              </p>
                              <p>使用ADDM结果和Top SQL部分来识别导致最大争用的高负载SQL语句。</p>
                           </li>
                           <li>
                              <p>调整高负载SQL语句，如<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">调整SQL语句中所述</a> 。
                              </p>
                              <p>您可以通过使用SQL Tuning Advisor进行调优来提高高负载SQL语句的效率。</p>
                           </li>
                           <li>
                              <p>优化数据访问路径，如<a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C">优化数据访问路径中所述</a> 。
                              </p>
                              <p>您可以通过创建适当的集合来优化数据访问路径的性能<a id="d3429e1728" class="indexterm-anchor"></a>物化观点， <a id="d3429e1733" class="indexterm-anchor"></a>物化视图日志，和<a id="d3429e1738" class="indexterm-anchor"></a>使用SQL Access Advisor的给定工作负载的索引。
                              </p>
                           </li>
                           <li>
                              <p>使用SQL Performance Analyzer分析SQL调优和其他系统更改对SQL性能的影响。</p>
                              <p>要了解如何使用SQL Performance Analyzer，请参阅“ <a href="../ratug/introduction-to-sql-performance-analyzer.html#RATUG166" target="_blank"><span class="italic">Oracle数据库测试指南”</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>重复这些步骤，直到调优所有高负载SQL语句以获得最高效率。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT018"></a><div class="props_rev_3"><a id="GUID-D5B54332-FE40-4537-B1C9-0704343CEF54" name="GUID-D5B54332-FE40-4537-B1C9-0704343CEF54"></a><h3 id="TDPPT-GUID-D5B54332-FE40-4537-B1C9-0704343CEF54" class="sect3"><span class="enumeration_section">2.3</span>数据库中常见的性能问题</h3>
               <div>
                  <p>本节列出并描述了数据库中常见的性能问题。通过遵循Oracle性能方法，您应该能够在Oracle数据库实例中避免这些问题。如果遇到这些问题，请重复Oracle性能方法中的步骤，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65">使用Oracle性能方法</a> ”中所述</span> ，或参考解决这些问题的相应部分：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>CPU瓶颈</p>
                        <p>由于系统受CPU限制，应用程序是否表现不佳？由CPU瓶颈引起的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用“云控制<span class="q">”</span>中的<span class="q">“</span>性能”页面来识别CPU瓶颈，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002">监控CPU利用率</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>小型内存结构</p>
                        <p>Oracle内存结构（如系统全局区域（SGA），程序全局区域（PGA）和缓冲区缓存）是否足够大？ADDM会诊断由尺寸过小的内存结构导致的性能问题，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用“云控制<span class="q">”</span>中的<span class="q">“</span>性能”页面来识别内存使用问题，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A">监视内存利用率</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>I / O容量问题</p>
                        <p>I / O子系统是否按预期运行？由I / O容量问题引起的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用Cloud Control中的<span class="q">“</span>性能”页面来识别磁盘I / O问题，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF">监视磁盘I / O利用率</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>应用程序对Oracle数据库的次优使用</p>
                        <p>该应用程序是否使用Oracle数据库次优？诸如重复建立新的数据库连接，过多的SQL解析以及针对少量数据的高级别争用（也称为应用程序级块争用）等问题会显着降低应用程序性能。应用程序对Oracle数据库的次优使用导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用“云控制<span class="q">”</span>中的<span class="q">“</span>性能”页面监视各种维度的顶级活动，包括SQL，会话，服务，模块和操作，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>并发问题</p>
                        <p>由于数据库中的高度并发活动，数据库是否执行次优？高度并发活动可能导致争用共享资源，这些资源可以以锁的形式显示或等待缓冲区缓存。并发问题导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用云控制中的热门会话来识别并发问题，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC">监控热门会话</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>数据库配置问题</p>
                        <p>数据库是否以最佳方式配置以提供所需的性能级别？例如，是否有证据表明日志文件大小不正确，归档问题，检查点太多或参数设置次优？数据库配置问题导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>短暂的性能问题</p>
                        <p>用户是否抱怨短暂或间歇性的性能问题？根据AWR拍摄的快照之间的间隔，ADDM可能无法捕获持续时间较短的性能问题。您可以使用“活动会话历史记录”报告来识别短期性能问题，如<a href="resolving-transient-performance-problems.html#GUID-2AE0B06D-65E5-45A2-AFCB-F027568BC601">解决瞬态性能问题中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>随着时间的推移降低数据库性能</p>
                        <p>是否有证据表明数据库性能随着时间的推移而降低？例如，您或您的用户是否注意到数据库的性能不如6个月前？您可以生成AWR比较周期报告，以将性能较差的周期与性能稳定的周期进行比较，以识别这两个时间段之间不同的配置设置，工作负载配置文件和统计信息。此技术可帮助您确定性能下降的原因，如<a href="resolving-performance-degradation-over-time.html#GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8">解决性能随时间的降级中</a>所述。
                        </p>
                     </li>
                     <li>
                        <p>低效或高负载的SQL语句</p>
                        <p>是否有任何SQL语句使用过多影响系统的系统资源？高负载SQL语句导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视</a>和<span class="q">“ <a href="identifying-high-load-sql-statements.html#GUID-795AF9F0-5CBF-44FB-8D20-FC170EFA149C">使用ADDM查找识别高负载SQL语句</a> ”中所述</span> 。您还可以使用Cloud Control中的Top SQL来识别高负载SQL语句，如<span class="q">“ <a href="identifying-high-load-sql-statements.html#GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E">使用Top SQL识别高负载SQL语句</a> ”中所述</span> 。确定它们之后，您可以使用SQL Tuning Advisor调整高负载SQL语句，如<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">调整SQL语句中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>对象争用</p>
                        <p>是否有任何数据库对象成为瓶颈的源头，因为它们会被持续访问？由ADDM诊断由对象争用引起的性能问题，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用SQL Access Advisor <a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C">优化</a>这些对象的数据访问路径，如<a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C">优化数据访问路径中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>调优SQL语句后出现意外的性能回归</p>
                        <p>调整后SQL语句的性能是否会降低？调优SQL语句可能会导致其执行计划发生更改，从而对SQL性能产生重大影响。在某些情况下，更改可能会导致SQL性能的提高。在其他情况下，更改可能导致SQL语句回退，从而导致SQL性能下降。</p>
                        <p>在对生产系统进行更改之前，您可以使用SQL Performance Analyzer分析SQL调优对测试系统的影响。此功能使您可以通过以下方式预测系统更改对SQL工作负载的影响：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>测量变化前后的性能</p>
                           </li>
                           <li>
                              <p>生成描述性能变化的报告</p>
                           </li>
                           <li>
                              <p>识别回归或改进的SQL语句</p>
                           </li>
                           <li>
                              <p>为每个回归的SQL语句提供调优建议</p>
                           </li>
                           <li>
                              <p>允许您在适当时实施调整建议</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-D5B54332-FE40-4537-B1C9-0704343CEF54__GUID-92E36EBD-0365-4A97-8F11-9A6C396E66D9">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdppt&amp;id=RATUG166" target="_blank"><span class="italic">Oracle数据库测试指南</span></a>了解有关如何使用SQL Performance Analyzer的更多信息</p>
                        </div>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>