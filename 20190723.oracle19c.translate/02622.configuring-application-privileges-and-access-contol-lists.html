<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置应用程序权限和访问控制列表</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-application-sessions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-data-security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-application-sessions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-data-security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置应用程序权限和访问控制列表</li>
            </ol>
            <a id="GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E" name="GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E"></a><a id="DBFSG99152"></a>
            
            <h2 id="DBFSG-GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E" class="sect2"><span class="enumeration_chapter">4</span>配置应用程序权限和访问控制列表</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何在Oracle Database Real Application Security中配置应用程序权限和访问控制列表（ACL）。它包括有关如何创建，设置和修改ACL的信息，并描述ACL安全性如何与其他Oracle数据库安全机制交互。</p>
               <div class="p">本章包含以下部分：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E">关于应用程序权限</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">关于配置安全类</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6">关于配置访问控制列表</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-23630E01-8BE5-4850-807D-D00CB299655C">数据安全</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8">ACL绑定</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99761"></a><div class="props_rev_3"><a id="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E" name="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E"></a><h3 id="DBFSG-GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E" class="sect3">关于应用程序权限</h3>
               <div>
                  <p>数据库具有预定义的系统特权，例如<code class="codeph">CREATE TABLE</code>和对象特权，例如<code class="codeph">UPDATE</code> 。必须为企业应用程序定义的大量自定义权限通常称为应用程序定义的权限。Real Application Security在数据库中引入了这些权限的定义，称为应用程序权限。对于应用程序开发人员，这些自定义应用程序权限用于应用程序级别操作的访问控制。这些应用程序级操作允许在粒度级别的列，行或单元格上对数据进行细粒度访问。
                  </p>
                  <p>当应用程序特权显式绑定到资源（例如，表的行和列）时，可以使用应用程序特权来保护数据库对象上的应用程序级操作。或者，当不需要绑定到资源时，它可以以与系统特权相同的方式使用。</p>
                  <div class="infoboxnotealso" id="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E__GUID-84D880FD-005E-46E7-9F9B-7E729BA3C132">
                     <p class="notep1">也可以看看：</p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">关于检查权限的ACL</a></div>
                  <p>本节包含以下主题： <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884">聚合权限</a> 。
                  </p>
               </div><a id="DBFSG423"></a><a id="DBFSG424"></a><a id="DBFSG99778"></a><div class="props_rev_3"><a id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884" name="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884"></a><h4 id="DBFSG-GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884" class="sect4">聚合权限</h4>
                  <div>
                     <p>Real Application Security <span class="bold">聚合权限</span>意味着一组其他应用程序权限。聚合权限的隐含应用程序权限可以是当前安全类或继承的应用程序权限定义的任何应用程序权限（有关详细信息，请参阅<span class="q">“ <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">关于配置安全性类</a> ”</span> ）。授予或拒绝聚合权限时，将隐式授予或拒绝其隐含的应用程序权限。
                     </p>
                     <p>当聚合权限<code class="codeph">AG</code>意味着应用程序权限<code class="codeph">p1</code>和<code class="codeph">p2</code> ，授予应用程序权限<code class="codeph">AG</code>意味着授予<code class="codeph">p1</code>和<code class="codeph">p2</code> 。但是，同时授予<code class="codeph">p1</code>和<code class="codeph">p2</code>并不意味着授予<code class="codeph">AG</code> 。
                     </p>
                     <p>聚合权限可用于以下目的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>启用分组并将一组应用程序权限授予单个授权，从而简化应用程序权限管理。组名称或一组应用程序特权的别名（其中组名称本身不是应用程序特权）在检查组中的每个应用程序特权时检查集合是否更简单。</p>
                        </li>
                        <li>
                           <p>提供基于单个应用程序权限检查检查一组应用程序权限的有效方法。</p>
                        </li>
                     </ul>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDEIFIJ">示例4-1</a>将名为<code class="codeph">UPDATE_INFO</code>的聚合权限<code class="codeph">UPDATE_INFO</code>到<code class="codeph">HRPRIVS</code>安全性类。聚合权限包含隐含权限<code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code> 。</p>
                     <p>当组名本身是第一类权限时，根据其与其成员的关系，聚合权限可能有几种可能的语义。在定义表示聚合权限的语义时，必须考虑聚合权限与其成员之间的各种关系，例如<span class="italic">imply</span>和<span class="italic">include</span> 。例如，考虑Java Security中的<span class="italic">暗示</span>关系;在授予聚合权限时选择此语义意味着单独授予其所有成员应用程序权限，但不授予聚合权限。因此，授予聚合的所有成员应用程序特权并不意味着授予聚合特权。
                     </p>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDBGIJE">示例4-2</a>为聚合权限<code class="codeph">UPDATE_INFO</code>添加了隐含应用程序权限的列表。</p>
                     <p>聚合权限不是应用程序角色。应用程序角色本身不是保护资源的应用程序特权。应用程序角色用于激活和停用应用程序用户可用的应用程序权限，以强制执行基于角色的访问控制约束。</p>
                     <p>此外，聚合权限不是安全性类。安全类不是可以授予用户的应用程序特权。安全性类列出了一组应用程序权限，包括可在ACL中授予或拒绝的聚合权限。在安全性类中，可以基于安全性类中可用的应用程序特权来定义许多聚合特权。</p>
                     <p>聚合权限可以具有其他聚合权限作为其成员。请注意，聚合权限的成员权限必须在与聚合权限相同的安全性类（或祖先安全性类）中定义。聚合权限定义不能创建循环。</p>
                     <div class="example" id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDEIFIJ">
                        <p class="titleinexample">示例4-1将聚合权限添加到安全性类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_PRIVILEGES</span> （sec_class =&gt;'HRPRIVS'，priv =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“ <span class="bold">UPDATE</span> ”'，'“ <span class="bold">DELETE</span> ”'，'“ <span class="bold">INSERT</span> ”'））;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDBGIJE">
                        <p class="titleinexample">示例4-2将隐含权限添加到聚合权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <a id="d17697e504" class="indexterm-anchor"></a> <span class="bold">ADD_IMPLIED_PRIVILEGES（sec_class =&gt;'HRPRIVS'，</span> （priv =&gt;' <span class="bold">UPDATE_INFO</span> '， <span class="bold">implied_priv_list</span> =&gt; XS $ NAME_LIST（'“ <span class="bold">UPDATE</span> ”'，'“ <span class="bold">DELETE</span> ”'，'“ <span class="bold">INSERT</span> ”'）; END;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>本节包含： <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE">ALL Privilege</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBFSG99833"></a><a id="DBFSG99779"></a><div class="props_rev_3"><a id="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE" name="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE"></a><h5 id="DBFSG-GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE" class="sect5">所有特权</h5>
                     <div>
                        <p><code class="codeph">ALL</code>权限是预定义的聚合权限。每个安全类都具有<code class="codeph">ALL</code>权限，并且它包含该安全性类的所有应用程序权限。<code class="codeph">ALL</code>未在每个安全类中明确定义，但系统基于与ACL关联的安全性类在内部理解它。无论何时从安全性类添加或删除应用程序权限，安全性类的<code class="codeph">ALL</code>的基数都会更改。
                        </p>
                        <p>使用<code class="codeph">ALL</code>构造使Real Application Security能够表达访问控制策略，例如“向除了特定权限<code class="codeph">p1</code>之外的应用程序定义的应用程序用户<code class="codeph">u1</code>授予所有应用程序权限”。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE__CHDIHHIH">示例4-3</a>显示了安全性类<code class="codeph">AppSecurityClass</code>中的ACL，该ACL具有应用程序的所有应用程序权限。ACE的有序评估确保除了<code class="codeph">p1</code>之外的<code class="codeph">ALL</code>被授予应用程序用户<code class="codeph">u1</code> 。
                        </p>
                        <div class="example" id="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE__CHDIHHIH">
                           <p class="titleinexample">示例4-3使用ALL Grant</p><pre class="oac_no_warn" dir="ltr">从DBA_XS_ACLS中选择NAME，SECURITY_CLASS，PARENT_ACL; NAME SECURITY_CLASS PARENT_ACL ---------- ---------------- --------------- sampleACL AppSecurityClass选择ACL，ACE_ORDER来自DBA_XS_ACES的GRANT_TYPE，PRINCIPAL，PRIVILEGE; ACL ACE_ORDER GRANT_TYPE PRINCIPAL PRIVILEGE --------- --------- ---------- ------------ ----- ----- sampleACL 1 DENY U1 p1 sampleACL 2 GRANT U1 ALL</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="DBFSG99818"></a><div class="props_rev_3"><a id="GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985" name="GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985"></a><h3 id="DBFSG-GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985" class="sect3">关于配置安全类</h3>
               <div>
                  <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472">关于安全类</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC">安全类继承</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC">安全类作为权限范围</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML安全类</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61">关于验证安全类</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906">操纵安全类</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99819"></a><div class="props_rev_3"><a id="GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472" name="GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472"></a><h4 id="DBFSG-GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472" class="sect4">关于安全类</h4>
                  <div>
                     <p>一个<a id="d17697e956" class="indexterm-anchor"></a> <span class="bold">安全性类</span>是一组应用程序特权的范围。可以在多个安全性类中定义相同的应用程序特权。安全性类限制可在ACL中授予或拒绝的应用程序权限集。安全类既是定义相关应用程序特权集合的地方，也是将ACL与一个安全类相关联的方法。
                     </p>
                     <p>Real Application Security支持一组预定义的应用程序权限和安全性类，还允许应用程序使用安全性类定义自己的自定义应用程序权限。受保护的每个对象类都与一个安全类相关联，该安全类指示可以对其对象执行的操作集。有预定义的安全类，用于定义内置应用程序特权。</p>
                     <p>安全性类简化了管理大量应用程序权限的任务。每个ACL与一个安全类相关联。此安全性类定义可在ACL中授予的应用程序特权的范围。</p>
                     <p>每种对象类型都可以支持大量的应用程序权限，许多不同的对象类型可以共享一组通用的操作。为简化这些类型的规范，安全性类支持继承。</p>
                  </div>
               </div><a id="DBFSG99820"></a><a id="DBFSG99775"></a><div class="props_rev_3"><a id="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC" name="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC"></a><h4 id="DBFSG-GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC" class="sect4">安全类继承</h4>
                  <div>
                     <p>安全性类可以从父安全性类继承应用程序特权。子安全性类隐式包含父安全性类中定义的所有应用程序特权。安全性类中可用的应用程序权限是安全性类中定义的应用程序权限与从父安全性类继承的应用程序权限的组合。</p>
                     <p>安全性类可以指定父安全性类的列表。这些父类中可用的应用程序权限在子类中可用。在子级及其父级安全性类中定义相同的应用程序特权名称时，子级中的应用程序特权将替换或覆盖父级中的应用程序特权。</p>
                     <p><a id="d17697e1093" class="indexterm-anchor"></a><a id="d17697e1097" class="indexterm-anchor"></a> <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">示例4-4</a>通过创建名为<code class="codeph">HRPRIVS</code>的安全性类来显示安全性类继承。 <code class="codeph">HRPRIVS</code>安全类定义了两个应用程序权限： <code class="codeph">VIEW_SENSITIVE_INFO</code>和<code class="codeph">UPDATE_INFO</code> 。 <code class="codeph">UPDATE_INFO</code> ，这是一个聚合权限，它隐含三个其他权限： <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code> 。安全类<code class="codeph">HRPRIVS</code>从<code class="codeph">parent_list</code>参数指定的<code class="codeph">DML</code>安全性类继承应用程序特权。
                     </p>
                     <div class="example" id="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">
                        <p class="titleinexample">示例4-4显示安全类继承</p><pre class="oac_no_warn" dir="ltr">DECLARE pr_list XS $ PRIVILEGE_LIST; BEGIN pr_list：= XS $ PRIVILEGE_LIST（XS $ PRIVILEGE（name =&gt;' <span class="bold">VIEW_SENSITIVE_INFO</span> '），XS $ PRIVILEGE（name =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“UPDATE”'，'“DELETE”'， '“插入”'）））; sys.xs_security_class.create_security_class（name =&gt;' <span class="bold">HRPRIVS</span> '， <span class="bold">parent_list</span> =&gt; XS $ NAME_LIST（' <span class="bold">DML</span> '），priv_list =&gt; pr_list）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99780"></a><div class="props_rev_3"><a id="GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC" name="GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC"></a><h4 id="DBFSG-GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC" class="sect4">安全类作为权限范围</h4>
                  <div>
                     <p>ACL具有单个安全类作为其<strong class="term">范围</strong> 。ACL为主体授予应用程序权限，以控制对受保护数据或功能的访问;它只能授予其安全性类中定义的应用程序权限。<code class="codeph">security_class</code>参数用于指定ACL中的安全性类。在针对ACL检查应用程序特权时，将根据ACL的安全性类解析应用程序特权的安全性类，因为ACL始终具有关联的安全性类。如果未指定安全性类，则<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML安全性类</a>将用作默认安全性类。不同的ACL可以具有相同的安全级别作为其范围。
                     </p>
                  </div>
               </div><a id="DBFSG99776"></a><div class="props_rev_3"><a id="GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D" name="GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D"></a><h4 id="DBFSG-GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D" class="sect4">DML安全类</h4>
                  <div>
                     <p><code class="codeph">DML</code>安全性类是在安装期间预定义或创建的。<code class="codeph">DML</code>安全性类包含对象操作的常见应用程序特权： <code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code> 。如果ACL未指定其安全性类，则<code class="codeph">DML</code>是ACL的默认安全性类。</p>
                     <p>Real Application Security DML应用程序权限与数据库对象权限相同，并且由数据库对象级别操作固有地强制执行。但是，仅当为数据库表启用了Real Application Security Data Security时，Real Application Security DML应用程序权限才有效。</p>
                  </div>
               </div><a id="DBFSG99787"></a><div class="props_rev_3"><a id="GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61" name="GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61"></a><h4 id="DBFSG-GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61" class="sect4">关于验证安全类</h4>
                  <div>
                     <p>Oracle建议您在管理配置更改后始终验证Real Application Security对象。<code class="codeph">XS_DIAG</code>包提供了一组验证API，以帮助确保这些更改不会破坏Real Application Security对象之间的复杂关系。
                     </p>
                     <p>有关验证安全性类的详细信息，请参阅<span class="q">“ <a href="XS_DIAG-package.html#GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB">VALIDATE_SECURITY_CLASS函数</a> ”</span> 。
                     </p>
                  </div>
               </div><a id="DBFSG395"></a><a id="DBFSG397"></a><a id="DBFSG398"></a><a id="DBFSG400"></a><a id="DBFSG399"></a><a id="DBFSG401"></a><a id="DBFSG403"></a><a id="DBFSG402"></a><a id="DBFSG404"></a><a id="DBFSG405"></a><a id="DBFSG393"></a><div class="props_rev_3"><a id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906" name="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906"></a><h4 id="DBFSG-GUID-AD671E89-120C-4255-BEF3-C950A8E0C906" class="sect4">操纵安全类</h4>
                  <div>
                     <div class="section">
                        <p>要操作安全类，请使用PL / SQL包<code class="codeph">XS_SECURITY_CLASS</code> ;它包括创建，管理和删除安全类及其应用程序权限的过程。该软件包还包括管理安全类继承的过程;请参阅<span class="q">“ <a href="XS_SECURITY_CLASS-package.html#GUID-0141A8A6-DF49-49F6-95C8-B14231092BB8">XS_SECURITY_CLASS包</a> ”</span> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHDHIFA">例4-5</a>调用<code class="codeph">ADD_PARENTS</code>将父安全类<code class="codeph">GENPRIVS</code>添加到<code class="codeph">HRPRIVS</code>安全类。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGBCDG">示例4-6</a>调用<code class="codeph">REMOVE_PARENTS</code>以从<code class="codeph">HRPRIVS</code>安全性类中删除父安全性类<code class="codeph">GENPRIVS</code> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIFCID">示例4-7</a>调用<code class="codeph">ADD_PRIVILEGES</code>将名为<code class="codeph">UPDATE_INFO</code>的聚合权限添加到<code class="codeph">HRPRIVS</code>安全性类。聚合权限包含隐含权限<code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code> 。请注意， <code class="codeph">ADD_PRIVILEGES</code>可用于向安全性类添加多个应用程序权限。有关详细信息，请参阅<span class="q">“ <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884">聚合权限</a> ”</span> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHCCGCB">示例4-8</a>调用<code class="codeph">REMOVE_PRIVILEGES</code>以从<code class="codeph">HRPRIVS</code>安全性类中删除<code class="codeph">UPDATE_INFO</code>应用程序特权。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHBBICH">例4-9</a>调用<code class="codeph">REMOVE_PRIVILEGES</code>从<code class="codeph">HRPRIVS</code>安全类中删除所有应用程序权限。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHEFFJE">示例4-10</a>调用<code class="codeph">ADD_IMPLIED_PRIVILEGES</code>为集合特权<code class="codeph">UPDATE_INFO</code>添加隐含应用程序特权的列表。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHHHCIA">示例4-11</a>调用<code class="codeph">REMOVE_IMPLIED_PRIVILEGES</code>从聚合权限<code class="codeph">UPDATE_INFO</code>删除隐式权限<code class="codeph">DELETE</code> 。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIIIGA">示例4-12</a>调用<code class="codeph">REMOVE_IMPLIED_PRIVILEGES</code>以从聚合权限<code class="codeph">UPDATE_INFO</code>删除所有隐式应用程序权限。</p>
                        <p>该过程为指定的安全性类设置描述字符串。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHFAFCC">示例4-13</a>调用<code class="codeph">SET_DESCRIPTION</code>为<code class="codeph">HRPRIVS</code>安全类设置描述字符串。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGJDGA">示例4-14</a>调用<code class="codeph">DELETE_SECURITY_CLASS</code>以使用默认删除选项<code class="codeph">DEFAULT_OPTION</code>删除<code class="codeph">HRACL</code> ACL。请注意，此选项在<span class="q">“ <a href="XS_ADMIN_UTIL-package.html#GUID-F39AEA2C-EF16-4E19-BE15-55CFD799E7F8">XS_ADMIN_UTIL包</a> ”中</span>定义。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHDHIFA">
                        <p class="titleinexample">示例4-5为指定的安全性类添加父安全性类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_PARENTS</span> （' <span class="bold">HRPRIVS</span> '，' <span class="bold">GENPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGBCDG">
                        <p class="titleinexample">示例4-6删除指定安全性类的一个或多个父类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_PARENTS</span> （' <span class="bold">HRPRIVS</span> '，' <span class="bold">GENPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIFCID">
                        <p class="titleinexample">示例4-7将一个或多个应用程序权限添加到安全性类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_PRIVILEGES</span> （sec_class =&gt;' <span class="bold">HRPRIVS</span> '，priv =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“ <span class="bold">UPDATE</span> ”'，'“ <span class="bold">DELETE</span> ”'，'“ <span class="bold">INSERT</span> ”'））;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHCCGCB">
                        <p class="titleinexample">示例4-8从指定的安全性类中删除一个或多个应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_PRIVILEGES</span> （' <span class="bold">HRPRIVS</span> '，' <span class="bold">UPDATE_INFO</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHBBICH">
                        <p class="titleinexample">示例4-9删除指定安全类的所有应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_PRIVILEGES</span> （' <span class="bold">HRPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHEFFJE">
                        <p class="titleinexample">示例4-10将一个或多个隐含应用程序权限添加到聚合权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_IMPLIED_PRIVILEGES</span> （priv =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“UPDATE”'，'“DELETE”'，'“INSERT”'））;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHHHCIA">
                        <p class="titleinexample">示例4-11从聚合权限中删除指定的隐含应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_IMPLIED_PRIVILEGES</span> （' <span class="bold">UPDATE_INFO</span> '，'“ <span class="bold">DELETE</span> ”'）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIIIGA">
                        <p class="titleinexample">示例4-12从聚合权限中删除所有隐含的应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_IMPLIED_PRIVILEGES</span> （' <span class="bold">UPDATE_INFO</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHFAFCC">
                        <p class="titleinexample">示例4-13为指定的安全性类设置描述字符串</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">SET_DESCRIPTION</span> （' <span class="bold">HRPRIVS</span> '，'包含管理HR数据所需的权限'）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGJDGA">
                        <p class="titleinexample">示例4-14删除指定的安全类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS.DELETE_SECURITY_CLASS（ <span class="bold">'HRPRIVS'，XS_ADMIN_UTIL</span> <span class="bold">DEFAULT_OPTION。）;</span>结束;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DBFSG99821"></a><div class="props_rev_3"><a id="GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6" name="GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6"></a><h3 id="DBFSG-GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6" class="sect3">关于配置访问控制列表</h3>
               <div>
                  <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-DC08E175-5405-4482-BCDF-76086F6CA59C">关于ACL和ACE</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651">创建ACL和ACE</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-79900B96-F923-4218-A75B-2D00835A3EF5">关于验证访问控制列表</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E">更新访问控制列表</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">关于检查权限的ACL</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57">关于使用多级身份验证</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6">主要类型</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB">访问解决结果</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-4E467F69-E91A-4D5D-AE24-992574517750">ACE评估订单</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A">ACL继承</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B">关于ACL目录视图</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C">关于安全类目录视图</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99823"></a><a id="DBFSG99822"></a><div class="props_rev_3"><a id="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C" name="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C"></a><h4 id="DBFSG-GUID-DC08E175-5405-4482-BCDF-76086F6CA59C" class="sect4">关于ACL和ACE</h4>
                  <div>
                     <p>Real Application Security包含访问控制列表（ACL），并支持授权，拒绝和各种冲突解决方法。<a id="d17697e2362" class="indexterm-anchor"></a>扩展ACL以支持应用程序定义的权限，使应用程序能够控制对其有意义的权限。授权查询的格式如下：“应用程序用户是否已获得ACL <span class="italic"><code class="codeph">a</code></span>权限<span class="italic"><code class="codeph">p</code></span>授权？“应用程序定义的权限是通过中间层和数据库中支持的API实现的。这些API使应用程序能够保护敏感操作，例如批准采购订单。
                     </p>
                     <p>在执行敏感操作之前，应用程序必须确定所需的应用程序权限。例如，如果应用程序需要<code class="codeph">approvePO</code>应用程序权限，则它必须找到与所需采购订单<code class="codeph">a1</code>关联的ACL，并发出查询以确定Real Application Security会话是否已获得<code class="codeph">a1</code>应用程序权限<code class="codeph">approvePO</code>授权。请注意，必须信任应用程序才能正确执行授权。数据安全性通过提供将ACL与表中的行相关联的声明方法来改进这一点;数据安全策略允许管理员或开发人员使用SQL谓词标识表中的一组行，并将该集与用于控制对其成员行的访问的ACL相关联。
                     </p>
                     <p>数据安全系统提供SQL运算符，该运算符返回与行关联的ACL。此SQL运算符使用与该行关联的ACL引用执行授权检查。默认情况下，查询返回允许用户查看的所有行;这些ACL引用可以在中间层中用于确定对特定行的适当访问，作为限制结果集的<code class="codeph">WHERE</code>子句中的参数。因此，可以进一步限制结果集以基于用户的授权仅显示某些特定操作的那些行，例如<code class="codeph">approvePO</code> 。
                     </p>
                     <p>Real Application Security系统为数据库中的SQL操作提供本机实施，限制了应用程序中由于安全性错误而造成的损坏范围。因此，应用程序的一部分中的SQL注入攻击将不提供对该组件外部的表的访问。</p>
                     <p>ACL通过指定资源上的主体的应用程序特权来保护资源。ACL是访问控制条目（ACE）的列表，其中每个ACE维护从主体到授予或拒绝的资源应用程序特权的映射。主体可以是数据库用户或Real Application Security应用程序用户或应用程序角色。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C__GUID-4B64F9A6-B682-49EE-B47F-13375C24ACEB">访问控制条目或ACE</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>一个<a id="d17697e2407" class="indexterm-anchor"></a> <span class="bold">访问控制条目</span>或<span class="bold">ACE</span>表示应用程序权限授予，ACL表示绑定到资源的一组应用程序权限授予。这里，资源可以是数据库表，表中的列，或使用SQL谓词选择的表中的一组行。因此，当访问资源时，仅检查与资源相关联的ACL的访问权限。
                        </p>
                        <p>ACE授予或拒绝访问特定主体的某些应用程序功能或其他数据库数据。ACE本身并未指定要保护的数据;通过将ACL与目标数据相关联，在ACE和ACL之外完成。</p>
                        <p><code class="codeph">XS$ACE_TYPE</code>类型来构造ACL的每个ACE条目。 <code class="codeph">XS$ACE_LIST</code>对象由权限列表和授予或拒绝权限的主体组成。可以通过<code class="codeph">DBA_XS_ACES</code>访问ACE相关信息<a id="d17697e2429" class="indexterm-anchor"></a>视图。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99825"></a><a id="DBFSG99824"></a><div class="props_rev_3"><a id="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651" name="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651"></a><h4 id="DBFSG-GUID-B6EFA21A-327E-461F-B6E4-003FDA109651" class="sect4">创建ACL和ACE</h4>
                  <div>
                     <div class="section">
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">例4-15</a>创建了一个名为<code class="codeph">HRACL</code>的ACL。此ACL包含<code class="codeph">ace_list</code>包含的ACE。<code class="codeph">ace_list</code>中使用的应用程序权限在<code class="codeph">HRPRIVS</code>安全性类中可用。<code class="codeph">st_date</code>和<code class="codeph">en_date</code>参数指定此ACL的活动开始和结束时间;请注意，只有<code class="codeph">SELECT</code>和<code class="codeph">VIEW_SENSITIVE_INFO</code>应用程序权限是临时的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">
                        <p class="titleinexample">示例4-15创建访问控制列表</p><pre class="oac_no_warn" dir="ltr">DECLARE带有时区的<span class="bold">st_date</span> TIMESTAMP; <span class="bold">en_date</span> TIMESTAMP WITH TIME ZONE; <span class="bold">ace_list</span> XS $ ACE_LIST; BEGIN <span class="bold">st_date</span> ：= SYSTIMESTAMP; <span class="bold">en_date</span> ：= TO_TIMESTAMP_TZ（'2019-06-18 11:00:00 -5：00'，'YYYY-MM-DD HH：MI：SS TZH：TZM'）; <span class="bold">ace_list</span> ：= XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'，'VIEW_SENSITIVE_INFO'），grant =&gt; true，principal_name =&gt;'HRREP'，start_date =&gt; st_date，end_date =&gt; en_date ），XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'UPDATE_INFO'），授予=&gt; true，principal_name =&gt;'HRMGR'），XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'），授予=&gt; true，principal_name =&gt;'DB_HR'，principal_type =&gt; XS_ACL.PTYPE_DB））; sys.xs_acl.create_acl（name =&gt; <span class="bold">'HRACL'</span> ，ace_list =&gt; ace_list，sec_class =&gt; <span class="bold">'HRPRIVS'</span> ，description =&gt;'HR Representative Access'）;结束; /</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="p">每个ACE都包含作为授权目标的主体和应用程序特权列表。授权受以下主题中描述的以下属性的约束：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8">拒绝</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A2595721-58A0-4791-A5A3-31075DCD22E5">倒置</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF">ACE开始日期和结束日期</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBFSG415"></a><a id="DBFSG99766"></a><div class="props_rev_3"><a id="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8" name="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8"></a><h5 id="DBFSG-GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8" class="sect5">拒绝</h5>
                     <div>
                        <p>授予被否定时，应用程序权限被拒绝。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8__CHDGAJDC">示例4-16</a>设置<code class="codeph">granted</code> <code class="codeph">FALSE</code>的属性的值以拒绝对主体的应用程序特权。默认值为<code class="codeph">TRUE</code> 。</p>
                        <p>Real Application Security ACL仅支持ACE的有序评估。授予或拒绝所请求的应用程序特权的第一个ACE有助于最终授予或拒绝。请参见<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-EE179ED6-98B5-4FB5-A907-BA390D3C7D9F">DBA_XS_ACES</a> ”</span>部分。
                        </p>
                        <div class="example" id="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8__CHDGAJDC">
                           <p class="titleinexample">示例4-16拒绝权限</p><pre class="oac_no_warn" dir="ltr">XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'UPDATE_INFO'）， <span class="bold">授予</span> =&gt; <span class="bold">FALSE</span> ，principal_name =&gt;'HRREP'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG416"></a><a id="DBFSG99767"></a><div class="props_rev_3"><a id="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5" name="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5"></a><h5 id="DBFSG-GUID-A2595721-58A0-4791-A5A3-31075DCD22E5" class="sect5">倒置</h5>
                     <div>
                        <p>当指定的应用程序特权被赋予除1之外的所有主体时，该主体被反转; <code class="codeph">inverted</code>属性设置为<code class="codeph">TRUE</code> 。 <code class="codeph">inverted</code>属性的默认值为<code class="codeph">FALSE</code> 。在<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A2595721-58A0-4791-A5A3-31075DCD22E5__CHDCFHAG">示例4-17中</a> ，对反向角色<code class="codeph">HRGUEST</code>的授权为未启用角色的任何用户提供应用程序权限。
                        </p>
                        <div class="example" id="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5__CHDCFHAG">
                           <p class="titleinexample">示例4-17反转应用程序权限</p><pre class="oac_no_warn" dir="ltr">XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（ 'UPDATE_INFO'）， <span class="bold">反相</span> =&gt; <span class="bold">TRUE，principal_name</span> =&gt; <span class="bold">'HRGUEST'）;</span></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG417"></a><a id="DBFSG99769"></a><div class="props_rev_3"><a id="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF" name="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF"></a><h5 id="DBFSG-GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF" class="sect5">ACE开始日期和结束日期</h5>
                     <div>
                        <p>每个ACE都可以根据开始日期和结束日期设置时间约束，指定ACE生效的时间。</p>
                        <p>在<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF__CHDHJEIH">示例4-18中</a> ，可选属性<code class="codeph">start_date</code>和<code class="codeph">end_date</code> （数据类型<code class="codeph">TIMESTAMP WITH TIME ZONE</code> ）定义ACE有效的时间段。<code class="codeph">end_date</code>值必须大于<code class="codeph">start_date</code>值。
                        </p>
                        <div class="example" id="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF__CHDHJEIH">
                           <p class="titleinexample">示例4-18设置ACE开始日期和结束日期</p><pre class="oac_no_warn" dir="ltr">XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'，'VIEW_SENSITIVE_INFO'），grant =&gt; true，principal_name =&gt;'HRREP'， <span class="bold">start_date =&gt; st_date，</span> <span class="bold">end_date =&gt; en_date））</span></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG235"></a><div class="props_rev_3"><a id="GUID-79900B96-F923-4218-A75B-2D00835A3EF5" name="GUID-79900B96-F923-4218-A75B-2D00835A3EF5"></a><h4 id="DBFSG-GUID-79900B96-F923-4218-A75B-2D00835A3EF5" class="sect4">关于验证访问控制列表</h4>
                  <div>
                     <p>Oracle建议您在管理配置更改后始终验证Real Application Security对象。<code class="codeph">XS_DIAG</code>包提供了一组验证API，以帮助确保这些更改不会破坏Real Application Security对象之间的复杂关系。
                     </p>
                     <p>有关验证ACL的详细信息，请参阅<span class="q">“ <a href="XS_DIAG-package.html#GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9">VALIDATE_ACL函数</a> ”</span> 。</p>
                  </div>
               </div><a id="DBFSG406"></a><a id="DBFSG407"></a><a id="DBFSG408"></a><a id="DBFSG409"></a><a id="DBFSG411"></a><a id="DBFSG412"></a><a id="DBFSG413"></a><a id="DBFSG414"></a><a id="DBFSG99826"></a><div class="props_rev_3"><a id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E" name="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E"></a><h4 id="DBFSG-GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E" class="sect4">更新访问控制列表</h4>
                  <div>
                     <div class="section">
                        <p>要操作ACL，请使用PL / SQL包<code class="codeph">XS_ACL</code> ;它包含创建和管理ACL的过程。请参阅<span class="q">“ <a href="XS_ACL-package.html#GUID-7EDC932E-82DE-4CC5-A9AC-F5A376D7621F">XS_ACL包</a> ”</span> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDIDGEJ">例4-19</a>调用<code class="codeph">APPEND_ACES</code>将ACE， <code class="codeph">ace_entry</code>添加到<code class="codeph">HRACL</code> ACL。 ACE将<code class="codeph">SELECT</code>权限授予<code class="codeph">DB_HR</code>数据库用户。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDICBAF">例4-20</a>调用<code class="codeph">REMOVE_ACES</code>从名为<code class="codeph">HRACL</code>的ACL中删除所有ACE。</p>
                        <p>该过程设置或修改ACL的安全性类。 <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDBIEGI">示例4-21</a>调用<code class="codeph">SET_SECURITY_CLASS</code>过程以将<code class="codeph">HRPRIVS</code>安全性类与ACL <code class="codeph">HRACL</code>相关联。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEBIAC">实施例4-22</a>调用<code class="codeph">SET_PARENT_ACL</code>设置<code class="codeph">AllDepACL</code> ACL作为父ACL <code class="codeph">HRACL</code> ACL。继承类型设置为<code class="codeph">EXTEND</code> 。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCAGH">例4-23</a>调用<code class="codeph">REMOVE_ACL_PARAMETERS</code>删除<code class="codeph">ACL1</code>所有ACL参数。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCACE">例4-24</a>调用<code class="codeph">REMOVE_ACL_PARAMETERS</code>来删除<code class="codeph">ACL1</code>的<code class="codeph">REGION</code>参数。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDAJIC">例4-25</a>调用<code class="codeph">SET_DESCRIPTION</code>来设置ACL <code class="codeph">HRACL</code>的描述。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEIEFE">示例4-26</a>调用<code class="codeph">DELETE_ACL</code>以使用默认删除选项删除ACL <code class="codeph">HRACL</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDIDGEJ">
                        <p class="titleinexample">示例4-19将ACE附加到访问控制列表</p><pre class="oac_no_warn" dir="ltr">DECLARE ace_entry XS $ ACE_TYPE; BEGIN ace_entry：= XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“ <span class="bold">SELECT</span> ”'）， <span class="bold">grant</span> =&gt; true，principal_name =&gt;' <span class="bold">DB_HR</span> '，principal_type =&gt; XS_ACL.PTYPE_DB）; SYS.XS_ACL。 <span class="bold">APPEND_ACES</span> （' <span class="bold">HRACL</span> '， <span class="bold">ace_entry</span> ）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDICBAF">
                        <p class="titleinexample">示例4-20从ACL中删除所有ACE</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">REMOVE_ACES</span> （' <span class="bold">HRACL</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDBIEGI">
                        <p class="titleinexample">示例4-21修改ACL的安全级别</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">SET_SECURITY_CLASS</span> （' <span class="bold">HRACL</span> '，' <span class="bold">HRPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEBIAC">
                        <p class="titleinexample">示例4-22设置或修改父ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL.SET_PARENT_ACL（'HRACL'，'AllDepACL'，XS_ACL.EXTENDED）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCAGH">
                        <p class="titleinexample">示例4-23删除ACL的所有ACL参数</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">REMOVE_ACL_PARAMETERS</span> （' <span class="bold">ACL1</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCACE">
                        <p class="titleinexample">示例4-24删除ACL的指定ACL参数</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">REMOVE_ACL_PARAMETERS</span> （' <span class="bold">ACL1</span> '，' <span class="bold">REGION</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDAJIC">
                        <p class="titleinexample">示例4-25设置ACL的描述字符串</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">SET_DESCRIPTION</span> （' <span class="bold">HRACL</span> '，'授予人力资源代表和经理的权限。“）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEIEFE">
                        <p class="titleinexample">示例4-26删除ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">DELETE_ACL</span> （' <span class="bold">HRACL</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99834"></a><div class="props_rev_3"><a id="GUID-597A7EB2-F904-4483-B17C-FEEA12421469" name="GUID-597A7EB2-F904-4483-B17C-FEEA12421469"></a><h4 id="DBFSG-GUID-597A7EB2-F904-4483-B17C-FEEA12421469" class="sect4">关于检查权限的ACL</h4>
                  <div>
                     <p>有两种执法形式;系统对受数据安全保护的对象强制执行DML权限，用户添加的SQL运算符强制执行所有其他应用程序权限。</p>
                     <p>要检查ACL以获取应用程序特权，请调用SQL运算符<code class="codeph">ORA_CHECK_ACL</code> ：</p><pre class="oac_no_warn" dir="ltr"><a id="d17697e3692" class="indexterm-anchor"></a><a id="d17697e3696" class="indexterm-anchor"></a><a id="d17697e3700" class="indexterm-anchor"></a><a id="d17697e3704" class="indexterm-anchor"></a> ORA_CHECK_ACL（acls，privilege [，privilege] ...）</pre><p><code class="codeph">ORA_CHECK_ACL</code> SQL运算符根据有序ACL列表评估应用程序权限列表。评估过程继续进行，直到发生以下三个事件中的任何一个：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在任何可能拒绝相同应用程序特权之前，为每个应用程序特权都会遇到授权。结果是授予了应用程序权限。</p>
                        </li>
                        <li>
                           <p>在任何潜在授权之前，将拒绝指定的应用程序权限之一。结果是至少有一个应用程序权限被拒绝。</p>
                        </li>
                        <li>
                           <p>ACE列表已完全遍历。结果是并非所有应用程序权限都被授予。</p>
                        </li>
                     </ul>
                     <p>为了评估应用程序权限，Oracle会检查ACE（按顺序保留），并在找到授予或拒绝所请求的应用程序权限的ACE时停止评估。</p>
                     <p>要查找与表或视图的行关联的ACL，请调用SQL运算符<code class="codeph">ORA_GET_ACLIDS</code> ： <code class="codeph">ORA_GET_ACLIDS(table, ...)</code> 。例如，要在表， <code class="codeph">tab</code>上强制实施应用程序权限<code class="codeph">priv</code> ，用户查询会添加以下检查：</p><pre class="oac_no_warn" dir="ltr">ORA_CHECK_ACL（ORA_GET_ACLIDS（tab），priv）</pre><p>此函数回答了应用程序权限是被授予，被拒绝还是两者都没有的问题。相应的Java API也可用。</p>
                  </div>
               </div><a id="DBFSG99808"></a><div class="props_rev_3"><a id="GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57" name="GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57"></a><h4 id="DBFSG-GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57" class="sect4">关于使用多级身份验证</h4>
                  <div>
                     <p><a id="d17697e3878" class="indexterm-anchor"></a><a id="d17697e3880" class="indexterm-anchor"></a> <span class="bold">多级认证</span> <a id="d17697e3887" class="indexterm-anchor"></a><a id="d17697e3889" class="indexterm-anchor"></a><a id="d17697e3893" class="indexterm-anchor"></a><a id="d17697e3897" class="indexterm-anchor"></a>使用户能够通过系统约束ACL，根据身份验证级别指定应用程序权限。<span class="bold">系统约束ACL</span>基于反映应用程序用户的身份验证级别的动态角色，指定对象的最小应用程序范围的应用程序权限集。尝试访问对象时，应用程序用户可能是<a id="d17697e3906" class="indexterm-anchor"></a>强烈或<a id="d17697e3911" class="indexterm-anchor"></a>在防火墙内部或外部进行弱验证，具有以下四种可能的身份验证级别：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>防火墙内部经过严格认证</p>
                        </li>
                        <li>
                           <p>经过强烈认证，外部防火墙</p>
                        </li>
                        <li>
                           <p>防火墙内部经过严格认证</p>
                        </li>
                        <li>
                           <p>在防火墙外部经过严格认证</p>
                        </li>
                     </ul>
                     <p>系统约束ACL可以指定应用程序特权，这些特权适用于应用程序中每个身份验证级别的应用程序用户。根据应用程序要求，管理员可以根据任何必要的标准向特定用户授予其他应用程序权限;此类附加应用程序权限独立于任何系统约束ACL。 <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">例4-28</a>和<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">例4-29</a>实现了系统约束ACL。</p>
                  </div>
               </div><a id="DBFSG99768"></a><div class="props_rev_3"><a id="GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6" name="GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6"></a><h4 id="DBFSG-GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6" class="sect4">主要类型</h4>
                  <div>
                     <p>除Real Application Security主体，应用程序用户和应用程序角色外，Real Application Security还支持基于数据库用户和角色的授权。当系统在Real Application Security会话的上下文中评估ACL时，它会忽略基于数据库架构的授权，但会尊重基于数据库角色的授权，因为它们是Real Application Security用户角色列表的一部分。在ACL中，多个ACE可以向主体授予权限。</p>
                  </div>
               </div><a id="DBFSG99770"></a><div class="props_rev_3"><a id="GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB" name="GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB"></a><h4 id="DBFSG-GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB" class="sect4">访问解决结果</h4>
                  <div>
                     <p>访问请求可能有两种可能的结果： <code class="codeph">true</code>或<code class="codeph">false</code> 。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">true</code>的结果意味着授予了所请求的应用程序权限</p>
                        </li>
                        <li>
                           <p><code class="codeph">false</code>的结果意味着未授予或拒绝所请求的应用程序权限。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99829"></a><div class="props_rev_3"><a id="GUID-4E467F69-E91A-4D5D-AE24-992574517750" name="GUID-4E467F69-E91A-4D5D-AE24-992574517750"></a><h4 id="DBFSG-GUID-4E467F69-E91A-4D5D-AE24-992574517750" class="sect4">ACE评估订单</h4>
                  <div>
                     <p>ACE按照它们在ACL中出现的顺序进行评估。评估特定ACE的结果可能是以下之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>授予应用程序权限。</p>
                        </li>
                        <li>
                           <p>应用程序权限被拒绝。</p>
                        </li>
                        <li>
                           <p>应用程序权限既未被授予也未被拒绝。</p>
                        </li>
                     </ul>
                     <p>请注意，如果ACE授予先前ACE拒绝的应用程序特权，则结果为拒绝，因为按顺序评估ACE。</p>
                  </div>
               </div><a id="DBFSG99830"></a><div class="props_rev_3"><a id="GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A" name="GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A"></a><h4 id="DBFSG-GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A" class="sect4">ACL继承</h4>
                  <div>
                     <p>ACL可以显式地从单个父ACL继承，使应用程序能够跨多个对象共享策略。当对应用程序特权的请求涉及两个ACL时，访问解析算法的最终结果可以基于ACL的各个访问解析结果的语义。Real Application Security支持两种类型的继承语义：扩展ACL继承（带有有序评估的<code class="codeph">OR</code> ）和约束ACL继承（ <code class="codeph">AND</code> ）。
                     </p>
                     <div class="p">本节包含：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E">扩展ACL继承</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B">约束ACL继承</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG419"></a><a id="DBFSG418"></a><div class="props_rev_3"><a id="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E" name="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E"></a><h5 id="DBFSG-GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E" class="sect5">扩展ACL继承</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17697e4583" class="indexterm-anchor"></a><a id="d17697e4587" class="indexterm-anchor"></a>扩展ACL继承（ <code class="codeph">OR</code>与有序评估）规定ACE从继承树的底部到其顶部（从子级到父级）进行评估。在扩展ACL继承时，如果子ACL或父ACL授予该特权，则授予应用程序特权，如果子ACL或父ACL拒绝该特权，则授予应用特权。实际上，显式授予或拒绝所请求的应用程序权限的第一个ACL确定最终结果。在第一次授予或拒绝之后，不会尝试进一步评估剩余的ACL。请注意，此评估规则与ACL中ACE的有序评估相同。</p>
                           <p>下面的示例将<code class="codeph">AllDepACL</code> ACL作为父ACL <code class="codeph">HRACL</code> ACL。继承类型设置为<code class="codeph">EXTENDED</code> 。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E__GUID-7AFC049E-7E9E-4EFB-BB96-C63D769D9D4B">
                           <p class="titleinexample">示例4-27扩展ACL继承</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL.SET_PARENT_ACL（ 'HRACL'， 'AllDepACL'，XS_ACL <span class="bold">EXTENDED。）;</span>结束;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG421"></a><a id="DBFSG422"></a><a id="DBFSG420"></a><div class="props_rev_3"><a id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B" name="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B"></a><h5 id="DBFSG-GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B" class="sect5">约束ACL继承</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17697e4760" class="indexterm-anchor"></a><a id="d17697e4764" class="indexterm-anchor"></a>约束ACL继承（ <code class="codeph">AND</code> ）要求子ACL和父ACL都授予应用程序特权，以便ACL检查的计算结果为<code class="codeph">true</code> 。
                           </p>
                           <p>如果应用程序的所有ACL都受到相同父ACL的约束，则可以强制实施应用程序范围的安全策略。例如，假设一个示例策略，其中经过身份验证的公司防火墙内的用户除了具有<code class="codeph">SELECT</code>权限外，还可以拥有应用程序权限。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">示例4-28</a>显示了此策略的约束ACL（继承类型设置为<code class="codeph">CONSTRAINED</code> ），其中具有<code class="codeph">XSPUBLIC</code>应用程序角色的所有应用程序用户都被授予<code class="codeph">SELECT</code>权限。请注意，只有谁是在企业防火墙内部的应用程序的用户动态应用程序角色<code class="codeph">FIREWALL</code>启用。因此，防火墙内的应用程序用户将被授予<code class="codeph">HRPRIVS</code>安全性类中的所有应用程序权限。由于此ACL约束所有ACL（例如<code class="codeph">guestACL</code> ，因此<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">示例4-29</a>显示这些ACL的应用程序权限授予受<code class="codeph">FIREWALL_ACL</code>约束。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">
                           <p class="titleinexample">示例4-28约束ACL继承：特定于防火墙的身份验证权限</p><pre class="oac_no_warn" dir="ltr">DECLARE ace_list XS $ ACE_LIST; BEGIN ace_list：= XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'），grant =&gt; true，principal_name =&gt;'XSPUBLIC'），XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（ 'ALL'），被授予=&gt; true，principal_name =&gt;'防火墙'））; sys.xs_acl.create_acl（name =&gt;'FIREWALL_ACL'，ace_list =&gt; ace_list，sec_class =&gt;'HRPRIVS'，description =&gt;'如果不在防火墙内，则仅选择权限'）;结束; / BEGIN SYS.XS_ACL.SET_PARENT_ACL（ 'GuestACL'， 'FIREWALL_ACL'，XS_ACL <span class="bold">约束</span> 。）;结束;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">
                           <p class="titleinexample">示例4-29使用约束应用程序权限</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从DBA_XS_ACES中选择ACE_ORDER，GRANT_TYPE，PRINCIPAL，PRIVILEGE，其中ACL ='FIREWALL_ACL'; ACE_ORDER GRANT_TYPE PRINCIPAL PRIVILEGE ---------- ---------- --------- ---------- 1 GRANT XSPUBLIC SELECT 2 GRANT FIREWALL所有</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG99831"></a><div class="props_rev_2"><a id="GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B" name="GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B"></a><h4 id="DBFSG-GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B" class="sect4">关于ACL目录视图</h4>
                  <div>
                     <p>ACL具有以下目录视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DBA_XS_ACLS</code>目录视图，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-2F2051EB-000E-49CA-BF7E-A4541B5B74CD">DBA_XS_ACLS</a> ”</span>部分中描述</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_ACES</code>目录视图，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-EE179ED6-98B5-4FB5-A907-BA390D3C7D9F">DBA_XS_ACES</a> ”</span>部分中描述</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99832"></a><div class="props_rev_2"><a id="GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C" name="GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C"></a><h4 id="DBFSG-GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C" class="sect4">关于安全类目录视图</h4>
                  <div>
                     <p>安全性类具有以下目录视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DBA_XS_SECURITY_CLASSES</code> ，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-84536AC8-E0EA-4A48-A36D-6A404D8971C2">DBA_XS_SECURITY_CLASSES</a> ”</span>部分中描述</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_SECURITY_CLASS_DEP</code> ，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-9A5A3AD3-7964-4FF7-88E3-7C80ABE68D1B">DBA_XS_SECURITY_CLASS_DEP</a> ”中</span>描述</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_PRIVILEGES</code> ，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-FDB19BE4-5158-47D4-BB0D-FC4D473104AF">DBA_XS_PRIVILEGES</a> ”中</span>描述</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="DBFSG99835"></a><div class="props_rev_3"><a id="GUID-23630E01-8BE5-4850-807D-D00CB299655C" name="GUID-23630E01-8BE5-4850-807D-D00CB299655C"></a><h3 id="DBFSG-GUID-23630E01-8BE5-4850-807D-D00CB299655C" class="sect3">数据安全</h3>
               <div>
                  <p>数据安全性将ACL与逻辑行组相关联，称为数据域。</p>
                  <p>这使应用程序能够通过定义数据域及其访问权限的策略在数据库层定义和实施特定于应用程序的权限。这些数据域包括标识一组行的SQL谓词和保护标识的行的ACL。ACL评估基于应用程序用户，而不是架构所有者。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0">数据领域</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448">参数化ACL</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99836"></a><div class="props_rev_3"><a id="GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0" name="GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0"></a><h4 id="DBFSG-GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0" class="sect4">数据领域</h4>
                  <div>
                     <p>Real Application Security的数据安全策略<a id="d17697e5353" class="indexterm-anchor"></a> <span class="bold">data realms将</span> ACL与表中的行相关联。数据领域有两个部分：</p>
                     <ol>
                        <li>
                           <p>表示为SQL谓词的规则，用于选择一组行。</p>
                        </li>
                        <li>
                           <p>一组ACL，用于指定行的访问策略。</p>
                        </li>
                     </ol>
                     <p>Data Security管理由关联的ACL授予的DML Real Application Security应用程序权限。该<a id="d17697e5369" class="indexterm-anchor"></a> <code class="codeph">DataSecurity</code>模块本身并不强制实施其他（非DML）Real Application Security应用程序权限。当在SQL运算符或数据域谓词中调用<code class="codeph">CHECK_PRIVILEGE</code>运算符时，可以以编程方式强制执行此类应用程序特权作为DML操作的一部分。
                     </p>
                  </div>
               </div><a id="DBFSG99837"></a><div class="props_rev_3"><a id="GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448" name="GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448"></a><h4 id="DBFSG-GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448" class="sect4">参数化ACL</h4>
                  <div>
                     <p>由于每个数据领域都定义了一组使用一组参数的规则，因此这些参数的不同值会选择不同的行。这些行集可能需要不同的ACL。因此，ACL和一组行之间的关联取决于数据领域规则及其<a id="d17697e5491" class="indexterm-anchor"></a>参数名称和值。
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG99838"></a><div class="props_rev_3"><a id="GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8" name="GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8"></a><h3 id="DBFSG-GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8" class="sect3">ACL绑定</h3>
               <div>
                  <p>在数据库中，可以通过以下方式将特权绑定到资源：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>它可以显式绑定为权限授予的一部分。例如，数据库对象特权作为特权授予的一部分绑定到资源，例如<code class="codeph">GRANT</code> <span class="italic"><code class="codeph">user_N</code></span> <code class="codeph">update ON</code> <span class="italic"><code class="codeph">table_M</code></span> 。</p>
                     </li>
                     <li>
                        <p>它也可以作为权限定义的一部分进行全局绑定，例如系统权限<code class="codeph">ALTER SYSTEM</code>或<code class="codeph">CREATE ANY TABLE</code> ，它们不需要将资源名称作为其grant语句的一部分。
                        </p>
                     </li>
                  </ul>
                  <p>同样，Real Application Security应用程序特权可以是以下类型之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>作为数据安全策略的一部分，通过ACL和数据域明确绑定;请参阅<a href="configuring-data-security.html#GUID-ED34EBA9-8906-41A9-9491-B303DA4824E1" title="描述在同一模式中跨不同应用程序引入Real Application Security策略管理的模式级权限。介绍如何为两个应用程序管理员设置和启用架构级别数据安全策略。介绍如何禁用数据安全策略并撤消用户的系统权限。">配置数据安全性</a></p>
                     </li>
                     <li>
                        <p>作为其定义的一部分，在全球范围内绑定资源</p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>