<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>加盟</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Sorting-Query-Results.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Using-Subqueries.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Sorting-Query-Results.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Using-Subqueries.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Queries-and-Subqueries.html" property="item" typeof="WebPage"><span property="name">SQL查询和子查询</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">加盟</li>
            </ol>
            <a id="GUID-39081984-8D38-4D64-A847-AA43F515D460" name="GUID-39081984-8D38-4D64-A847-AA43F515D460"></a><a id="SQLRF30046"></a>
            
            <h2 id="SQLRF-GUID-39081984-8D38-4D64-A847-AA43F515D460" class="sect2">加盟</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><span class="bold">联接</span>是一种组合来自两个或多个表，视图或物化视图的行的查询。只要查询的<code class="codeph">FROM</code>子句中出现多个表，Oracle数据库就会执行连接。查询的选择列表可以从任何这些表中选择任何列。如果这些表中的任何两个具有共同的列名，那么您必须在整个查询中使用表名限定对这些列的所有引用，以避免歧义。
                  </p>
               </div>
               <!-- class="section" -->
            </div><a id="SQLRF52349"></a><div class="props_rev_3"><a id="GUID-A7F5091B-9C42-4FC3-8F2B-BB238518FA14" name="GUID-A7F5091B-9C42-4FC3-8F2B-BB238518FA14"></a><h3 id="SQLRF-GUID-A7F5091B-9C42-4FC3-8F2B-BB238518FA14" class="sect3">加入条件</h3>
               <div>
                  <div class="section">
                     <p>大多数连接查询在<code class="codeph">FROM</code>子句或<code class="codeph">WHERE</code>子句中至少包含一个<span class="bold">连接条件</span> 。连接条件比较两列，每列来自不同的表。为了执行连接，Oracle数据库组合了多对行，每行包含每个表中的一行，连接条件的计算结果为<code class="codeph">TRUE</code> 。连接条件中的列不必也出现在选择列表中。
                     </p>
                     <p>要执行三个或更多表的连接，Oracle首先根据比较其列的连接条件连接其中两个表，然后根据包含连接表和新表的列的连接条件将结果连接到另一个表。Oracle继续此过程，直到所有表都加入到结果中。优化程序根据连接条件，表上的索引以及表的任何可用统计信息确定Oracle连接表的顺序。</p>
                     <p>包含连接条件的<code class="codeph">WHERE</code>子句还可以包含仅引用一个表的列的其他条件。这些条件可以进一步限制连接查询返回的行。<a id="d195390e281" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-A7F5091B-9C42-4FC3-8F2B-BB238518FA14__GUID-5DF84BFB-366B-48F3-A331-19C2A8092281">
                        <p class="notep1">注意：</p>
                        <p>如果<code class="codeph">WHERE</code>子句包含连接条件，则不能在<code class="codeph">WHERE</code>子句中指定LOB列。在<code class="codeph">WHERE</code>子句中使用LOB也受到其他限制。有关更多信息，请参见<a href="../adlob/SQL-semantics-and-LOBs.html#ADLOB010" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide</span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52350"></a><div class="props_rev_3"><a id="GUID-3AA5EB23-2D84-4E19-BD7E-E66A3C59D888" name="GUID-3AA5EB23-2D84-4E19-BD7E-E66A3C59D888"></a><h3 id="SQLRF-GUID-3AA5EB23-2D84-4E19-BD7E-E66A3C59D888" class="sect3">等值连接</h3>
               <div>
                  <div class="section">
                     <p><span class="bold">等值连接</span>是一个包含等于运算符的连接条件的连接。等值连接组合了具有指定列的等效值的行。根据优化程序选择执行连接的内部算法，单个表中等值连接条件中列的总大小可能会限制为数据块的大小减去一些开销。数据块的大小由初始化参数<code class="codeph">DB_BLOCK_SIZE</code>指定。</p>
                     <div class="infoboxnotealso" id="GUID-3AA5EB23-2D84-4E19-BD7E-E66A3C59D888__GUID-06F8651B-36A4-475D-B537-B9649E966FAA">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066611">使用连接查询：示例</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-568EC26F-199A-4339-BFD9-C4A0B9588937" name="GUID-568EC26F-199A-4339-BFD9-C4A0B9588937"></a><h3 id="SQLRF-GUID-568EC26F-199A-4339-BFD9-C4A0B9588937" class="sect3">乐队加入</h3>
               <div>
                  <div class="section">
                     <p><span class="bold">带连接</span>是一种特殊类型的非连接，其中一个数据集中的键值必须落在第二个数据集的指定范围（“带”）内。同一个表可以作为第一个和第二个数据集。
                     </p>
                     <div class="infoboxnotealso" id="GUID-568EC26F-199A-4339-BFD9-C4A0B9588937__GUID-06F8651B-36A4-475D-B537-B9649E966FAA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../tgsql/joins.html#TGSQL-GUID-24F34188-110F-4245-9DE7-43954092AFE0" target="_blank"><span class="italic">数据库SQL调整指南</span></a> ，了解有关波段连接的更多信息</p>
                           </li>
                           <li>
                              <p><a href="Comments.html#GUID-EE3246B9-3060-4F84-8C49-4524844E6B9C">USE_BAND提示</a></p>
                           </li>
                           <li>
                              <p><a href="Comments.html#GUID-3406DC08-3D03-483B-8EFA-9D8E33AAEB2D">NO_USE_BAND提示</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52351"></a><div class="props_rev_3"><a id="GUID-B0F5C614-CBDD-45F6-966D-00BAD6463440" name="GUID-B0F5C614-CBDD-45F6-966D-00BAD6463440"></a><h3 id="SQLRF-GUID-B0F5C614-CBDD-45F6-966D-00BAD6463440" class="sect3">自我加入</h3>
               <div>
                  <div class="section">
                     <p><span class="bold">自联接</span>是表与自身的连接。此表在<code class="codeph">FROM</code>子句中出现两次，后跟表别名，用于限定连接条件中的列名。要执行自联接，Oracle Database会合并并返回满足连接条件的表的行。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B0F5C614-CBDD-45F6-966D-00BAD6463440__GUID-775B55D5-F4A1-4800-992C-614B5750825E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066652">使用自联接：示例</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52352"></a><div class="props_rev_3"><a id="GUID-70DD48FA-BF46-4479-9C3F-146C5616E440" name="GUID-70DD48FA-BF46-4479-9C3F-146C5616E440"></a><h3 id="SQLRF-GUID-70DD48FA-BF46-4479-9C3F-146C5616E440" class="sect3">笛卡尔积</h3>
               <div>
                  <div class="section">
                     <p>如果连接查询中的两个表没有连接条件，则Oracle数据库将返回其<span class="bold">笛卡尔积</span> 。Oracle将一个表的每一行与另一个表的每一行组合在一起。笛卡尔积总是生成很多行，很少有用。例如，两个表的笛卡尔积，每个表有100行，有10,000行。除非您特别需要笛卡尔积，否则请始终包含连接条件。如果查询连接三个或更多表并且您没有为特定对指定连接条件，则优化程序可以选择一个避免生成中间笛卡尔积的连接顺序。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52353"></a><div class="props_rev_3"><a id="GUID-794F7DD5-FB18-4ADC-9E46-ADDA8C30C3C6" name="GUID-794F7DD5-FB18-4ADC-9E46-ADDA8C30C3C6"></a><h3 id="SQLRF-GUID-794F7DD5-FB18-4ADC-9E46-ADDA8C30C3C6" class="sect3">内部联接</h3>
               <div>
                  <div class="section">
                     <p><span class="bold">内连接</span> （有时称为<span class="bold">简单连接</span> ）是两个或多个表的连接，仅返回满足连接条件的那些行。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52354"></a><div class="props_rev_3"><a id="GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A" name="GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A"></a><h3 id="SQLRF-GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A" class="sect3">外连接</h3>
               <div>
                  <div class="section">
                     <p><span class="bold">外连接</span>扩展了简单连接的结果。外连接返回满足连接条件的所有行，并返回一个表中的部分或全部行，而另一个表中没有行满足连接条件。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要编写执行表A和B的外连接并从A返回所有行的查询（ <span class="bold">左外连接</span> ），请使用<code class="codeph">FROM</code>子句中的<code class="codeph">LEFT</code> [ <code class="codeph">OUTER</code> ] <code class="codeph">JOIN</code>语法，或应用外连接运算符（+） <code class="codeph">WHERE</code>子句中连接条件中B的所有列。对于A中B中没有匹配行的所有行，Oracle数据库对包含B列的任何选择列表表达式返回null。</p>
                        </li>
                        <li>
                           <p>要编写执行表A和B的外连接并从B返回所有行的查询（ <span class="bold">右外连接</span> ），请在<code class="codeph">FROM</code>子句中使用<code class="codeph">RIGHT</code> [ <code class="codeph">OUTER</code> ] <code class="codeph">JOIN</code>语法，或应用外连接运算符（+） <code class="codeph">WHERE</code>子句中连接条件中A的所有列。对于B中A中没有匹配行的所有行，Oracle对包含A列的任何选择列表表达式返回null。</p>
                        </li>
                        <li>
                           <p>要编写执行外部<code class="codeph">JOIN</code>的查询并返回A和B中的所有行，如果它们不满足连接条件（ <span class="bold">完全外部</span> <code class="codeph">JOIN</code> ），则使用空值进行扩展，请在<code class="codeph">FROM</code>子句中使用<code class="codeph">FULL</code> [ <code class="codeph">OUTER</code> ] <code class="codeph">JOIN</code>语法。
                           </p>
                        </li>
                     </ul>
                     <p>无论您指定哪种形式，都无法在任何外部联接的<code class="codeph">WHERE</code>子句中将列与子查询进行比较。
                     </p>
                     <p><a id="d195390e1192" class="indexterm-anchor"></a><a id="d195390e1198" class="indexterm-anchor"></a>您可以使用外部联接来填充稀疏数据中的间隙。这种连接称为<span class="bold">分区外连接</span> ，使用<span class="italic"><code class="codeph">join_clause</code></span>语法的<span class="italic"><code class="codeph">query_partition_clause</code></span>形成。稀疏数据是没有所有可能的维度值（如时间或部门）的行的数据。例如，对于在给定日期没有销售的产品，销售数据表通常没有行。在数据稀疏性使分析计算复杂化或者如果直接查询稀疏数据可能遗漏某些数据的情况下，填充数据间隙非常有用。
                     </p>
                     <div class="infoboxnotealso" id="GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A__GUID-CBA78328-66C5-4527-85F7-B62A7F2B7C53">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2080416">join_clause</a></span>有关使用外连接填充稀疏数据中的间隙的更多信息</p>
                           </li>
                           <li>
                              <p><a href="../dwhsg/sql-analysis-reporting-data-warehouses.html#DWHSG02013" target="_blank"><span class="italic">Oracle数据库数据仓库指南，</span></a>用于完整讨论组外连接和填充稀疏数据中的间隙</p>
                           </li>
                        </ul>
                     </div>
                     <p><a id="d195390e1232" class="indexterm-anchor"></a><a id="d195390e1238" class="indexterm-anchor"></a> Oracle建议您使用<code class="codeph">FROM</code>子句<code class="codeph">OUTER</code> <code class="codeph">JOIN</code>语法而不是Oracle join运算符。使用Oracle连接运算符（+）的外连接查询受以下规则和限制的约束，这些规则和限制不适用于<code class="codeph">FROM</code>子句<code class="codeph">OUTER</code> <code class="codeph">JOIN</code>语法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您不能在同样包含<code class="codeph">FROM</code>子句连接语法的查询块中指定（+）运算符。
                           </p>
                        </li>
                        <li>
                           <p>（+）运算符只能出现在<code class="codeph">WHERE</code>子句中，或者出现在<code class="codeph">FROM</code>子句中左对齐（指定<code class="codeph">TABLE</code>子句时）的上下文中，并且只能应用于表或视图的列。
                           </p>
                        </li>
                        <li>
                           <p>如果A和B通过多个连接条件连接，则必须在所有这些条件中使用（+）运算符。如果不这样做，那么Oracle数据库将仅返回由简单连接产生的行，但没有警告或错误，建议您没有外连接的结果。</p>
                        </li>
                        <li>
                           <p>如果在外部查询中指定一个表而在内部查询中指定另一个表，则（+）运算符不会生成外部联接。</p>
                        </li>
                        <li>
                           <p>虽然自联接有效，但您不能使用（+）运算符将表外连接到自身。例如，下面的语句是<span class="bold">无效</span>的：</p><pre class="oac_no_warn" dir="ltr">- 以下语句无效：SELECT employee_id，manager_id FROM employees WHERE employees.manager_id（+）= employees.employee_id;</pre><p>但是，以下自联接有效：</p><pre class="oac_no_warn" dir="ltr">SELECT e1.employee_id，e1.manager_id，e2.employee_id FROM employees e1，employees e2 WHERE e1.manager_id（+）= e2.employee_id ORDER BY e1.employee_id，e1.manager_id，e2.employee_id;</pre></li>
                     </ul><pre class="oac_no_warn" dir="ltr"></pre><ul style="list-style-type:disc">
                        <li>
                           <p>（+）运算符只能应用于列，而不能应用于任意表达式。但是，任意表达式可以包含一个或多个用（+）运算符标记的列。</p>
                        </li>
                        <li>
                           <p>包含（+）运算符的<code class="codeph">WHERE</code>条件不能与使用<code class="codeph">OR</code>逻辑运算符的其他条件组合。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WHERE</code>条件不能使用<code class="codeph">IN</code>比较条件将标有（+）运算符的列与表达式进行比较。
                           </p>
                        </li>
                     </ul>
                     <p>如果<code class="codeph">WHERE</code>子句包含将表B中的列与常量进行比较的条件，则必须将（+）运算符应用于该列，以便Oracle从表A返回已为此列生成空值的行。否则，Oracle仅返回简单连接的结果。
                     </p>
                     <p>在以前版本的Oracle数据库中，在执行两个以上表对的外连接的查询中，单个表可以是仅为一个其他表的空生成表。从Oracle Database 12 <span class="italic">c开始</span> ，单个表可以是多个表的空生成表。例如，Oracle Database 12 <span class="italic">c中</span>允许使用以下语句：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM A，B，D WHERE A.c1 = B.c2（+）和D.c3 = B.c4（+）;</pre><p>在此示例中， <code class="codeph">B</code> （空生成的表）外部连接到两个表<code class="codeph">A</code>和<code class="codeph">D</code>有关外部联接的语法，请参阅<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6">SELECT</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52355"></a><div class="props_rev_3"><a id="GUID-D688F2E3-7F1E-4339-894F-01A73E62328C" name="GUID-D688F2E3-7F1E-4339-894F-01A73E62328C"></a><h3 id="SQLRF-GUID-D688F2E3-7F1E-4339-894F-01A73E62328C" class="sect3">Antijoins</h3>
               <div>
                  <div class="section">
                     <p>反连接从谓词的左侧返回行，在谓词的右侧没有对应的行。它返回无法匹配（ <code class="codeph">NOT</code> <code class="codeph">IN</code> ）右侧子查询的行。
                     </p>
                     <div class="infoboxnotealso" id="GUID-D688F2E3-7F1E-4339-894F-01A73E62328C__GUID-D840389F-54A0-4C6C-AA36-DE286719D771">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182875">使用反连接：示例</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52356"></a><div class="props_rev_3"><a id="GUID-E98C180E-8A17-469D-8E68-56245E28104B" name="GUID-E98C180E-8A17-469D-8E68-56245E28104B"></a><h3 id="SQLRF-GUID-E98C180E-8A17-469D-8E68-56245E28104B" class="sect3">半连接</h3>
               <div>
                  <div class="section">
                     <p>当右侧的多行满足子查询的条件时，semijoin返回与<code class="codeph">EXISTS</code>子查询匹配的行，而不复制谓词左侧的行。
                     </p>
                     <p>如果子查询位于<code class="codeph">WHERE</code>子句的<code class="codeph">OR</code>分支上，则无法进行半连接和反连接转换。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E98C180E-8A17-469D-8E68-56245E28104B__GUID-F577F44E-C7E8-4D27-A12D-756BEA7D3B09">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2166436">使用半连接：示例</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>