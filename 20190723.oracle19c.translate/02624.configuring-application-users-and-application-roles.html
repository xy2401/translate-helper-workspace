<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置应用程序用户和应用程序角色</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="indroducing-oracle-database-real-application-security.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-application-sessions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="indroducing-oracle-database-real-application-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-application-sessions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置应用程序用户和应用程序角色</li>
            </ol>
            <a id="GUID-D6986696-8068-418F-914C-F33B9AD165DF" name="GUID-D6986696-8068-418F-914C-F33B9AD165DF"></a><a id="DBFSG20000"></a>
            
            <h2 id="DBFSG-GUID-D6986696-8068-418F-914C-F33B9AD165DF" class="sect2"><span class="enumeration_chapter">2</span>配置应用程序用户和应用程序角色</h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">本章包含：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC" title="描述对Real Application Security用户的Oracle Label Security支持。">关于配置应用程序用户</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8">关于配置应用程序角色</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F">应用程序用户和应用程序角色的有效日期</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-413EB606-55E3-4339-9247-F7814E1ACA31">关于向委托人授予应用程序权限</a></p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-D6986696-8068-418F-914C-F33B9AD165DF__GUID-0CF9C0A6-C02B-41B3-9D16-FBA4DE2D093E">
                  <p class="notep1">也可以看看：</p>
                  <p><span class="q">“ <a href="XS_PRINCIPAL-package.html#GUID-50D04FCD-BB85-42A5-851D-559D5D537325">XS_PRINCIPAL包</a> ”</span></p>
               </div>
            </div><a id="DBFSG20021"></a><div class="props_rev_3"><a id="GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC" name="GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC"></a><h3 id="DBFSG-GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC" class="sect3">关于配置应用程序用户</h3>
               <div>
                  <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-2F1A1A87-633B-4F45-99B1-CFFCEAFD73AB">关于应用用户帐户</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-7FAC6DD4-6D98-4EBB-A68E-101E1C576D0D">创建一个简单的应用程序用户帐</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" title="描述对Real Application Security用户的Oracle Label Security支持。">关于创建直接登录应用程序用户帐户</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-7940BF68-53EA-4068-89CB-679A63C412D9">使用SQL * Plus PASSWORD命令重置应用程序用户的密码</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE">配置应用用户交换机</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-C9D5D045-7604-4771-AA58-A5F7DE702EC1">验证应用程序用户</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99050"></a><div class="props_rev_3"><a id="GUID-2F1A1A87-633B-4F45-99B1-CFFCEAFD73AB" name="GUID-2F1A1A87-633B-4F45-99B1-CFFCEAFD73AB"></a><h4 id="DBFSG-GUID-2F1A1A87-633B-4F45-99B1-CFFCEAFD73AB" class="sect4">关于应用用户帐户</h4>
                  <div>
                     <p>传统数据库用户拥有数据库模式，可以为这些模式创建传统的重量级数据库会话。</p>
                     <p>应用程序用户不拥有数据库模式，但可以通过中间层创建到数据库的应用程序会话，前提是他们被授予角色或具有访问表的适当对象权限的角色。应用程序用户还可以通过直接登录应用程序用户帐户直接连接到数据库来创建重量级数据库会话，前提是这些帐户与架构相关联，并且<code class="codeph">XSCONNECT</code>应用程序角色已授予这些应用程序用户。还可以创建配置文件并将其分配给每个应用程序用户。
                     </p>
                     <p>本节包含： <a href="configuring-application-users-and-application-roles.html#GUID-FE5E0C6A-7452-444E-A28F-B54518972EC6">创建应用程序用户帐户的一般过程</a> 。
                     </p>
                  </div><a id="DBFSG99803"></a><a id="DBFSG99802"></a><div class="props_rev_3"><a id="GUID-FE5E0C6A-7452-444E-A28F-B54518972EC6" name="GUID-FE5E0C6A-7452-444E-A28F-B54518972EC6"></a><h5 id="DBFSG-GUID-FE5E0C6A-7452-444E-A28F-B54518972EC6" class="sect5">创建应用程序用户帐户的一般过程</h5>
                     <div>
                        <div class="section">
                           <p>创建应用程序用户帐户的一般过程如下：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>创建安全管理器用户<code class="codeph">sec_mgr</code> ，如下所示，并授予此用户<code class="codeph">create session</code>数据库权限和Real Application Security <code class="codeph">xs_session_admin</code>数据库角色。接下来，执行<code class="codeph">xs_admin_util.grant_system_privilege</code>调用以将Real Application Security最低系统权限<code class="codeph">PROVISION</code>授予<code class="codeph">sec_mgr</code>作为数据库用户。作为安全管理器，您现在可以创建用户和角色，设置密码等，并使用Real Application Security最低系统权限管理会话。</span><div><pre class="pre codeblock"><code>sqlplus / nolog SQL&gt; connect sys / password as sysdba SQL&gt; grant create session，xs_session_admin to sec_mgr password; SQL&gt; exec sys.xs_admin_util.grant_system_privilege（'provision'，'sec_mgr'，sys.xs_admin_util.ptype_db）;</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>以具有Real Application Security <code class="codeph">PROVISION</code>系统特权或数据库<code class="codeph">CREATE USER</code>系统特权的用户身份登录SQL * Plus。</span><div><pre class="pre codeblock"><code>sqlplus sec_mgr输入密码：密码已连接。</code></pre><p>请参阅<span class="q">“ <a href="XS_PRINCIPAL-package.html#GUID-50D04FCD-BB85-42A5-851D-559D5D537325">XS_PRINCIPAL包</a> ”</span>有关更多信息<code class="codeph">XS_PRINCIPAL</code>包，特别是<span class="q">“ <a href="XS_PRINCIPAL-package.html#GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D">CREATE_USER程序</a> ”。</span>
                                 </p>
                                 <p>您必须具有创建，修改或删除应用程序用户和角色所需的权限。这些权限由创建，修改或删除数据库用户和角色所需的相同系统权限控制。有关这些和其他SQL语句的详细信息，请参阅<a href="../sqlrf/CREATE-USER.html#SQLRF01503" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>使用<code class="codeph">XS_PRINCIPAL.CREATE_USER</code>过程创建应用程序用户。</span><div>
                                 <p>选择适当的类型，然后按照以下部分中的说明操作：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-7FAC6DD4-6D98-4EBB-A68E-101E1C576D0D">创建简单的应用程序用户帐户</a> ”</span></p>
                                    </li>
                                    <li>
                                       <p><span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" title="描述对Real Application Security用户的Oracle Label Security支持。">关于创建直接登录应用程序用户帐户</a> ”</span></p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div class="sect5"><a id="OTHERTASKS-F989C668" name="OTHERTASKS-F989C668"></a><h6 id="DBFSG-OTHERTASKS-F989C668" class="sect6">其他任务</h6>
                        <div>
                           <div class="section">
                              <p>创建应用程序用户帐户后，可以为该帐户授予一个角色，该角色为应用程序用户提供权限。有关更多信息，请参阅<span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-D40E9BEE-7EB1-4CDF-BF78-828050C4C469">向现有应用程序用户授予应用程序角色</a> ”</span> 。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div><a id="DBFSG99052"></a><div class="props_rev_3"><a id="GUID-7FAC6DD4-6D98-4EBB-A68E-101E1C576D0D" name="GUID-7FAC6DD4-6D98-4EBB-A68E-101E1C576D0D"></a><h4 id="DBFSG-GUID-7FAC6DD4-6D98-4EBB-A68E-101E1C576D0D" class="sect4">创建一个简单的应用程序用户帐</h4>
                  <div>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-7FAC6DD4-6D98-4EBB-A68E-101E1C576D0D__GUID-A9972B3E-67D6-4BE2-8409-4809CA0200F1">
                           <p class="notep1">注意：</p>
                           <p>在SQL * Plus中，区分大小写是小写字符和特殊字符的问题，因此请牢记这些准则。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>名称包含小写或特殊字符的应用程序用户必须使用双引号中的帐户名连接到SQL * Plus：</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT“lwuser1”输入密码： <span class="italic">密码</span>已连接。
</pre></li>
                              <li>
                                 <p>必须在用双引号括起来的SQL * Plus中输入包含小写或特殊字符的应用程序角色的名称。</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">GRANT cust_role TO“app_regular_role”;</pre></li>
                           </ul>
                        </div>
                        <p>创建简单应用程序用户帐户时，schema参数指定用于解析非限定名称的模式名称。这不会为您提供任何权限，它仅用于名称解析。如果未指定模式名称，则使用<code class="codeph">XS$NULL</code> 。
                        </p>
                        <p>要创建简单的应用程序用户帐户，请执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>登录。</span><div>
                              <p>例如，如果<code class="codeph">sec_mgr</code>具有<code class="codeph">CREATE USER</code>权限，请按以下方式登录：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码： <span class="italic">密码</span>已连接。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建应用程序用户帐户。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_PRINCIPAL.CREATE_USER（'lwuser1'）;结束; /</pre><p>作为具有<code class="codeph">DBA</code>角色的用户，您可以通过查询<code class="codeph">DBA_XS_USERS</code>数据字典视图来检查用户创建，如下所示。有关更多信息，请参阅<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-97B36DFE-DA8F-41E3-9141-37C8B0E6E2ED">DBA_XS_USERS</a> ”</span> 。
                              </p><pre class="oac_no_warn" dir="ltr">从DBA_XS_USERS中选择名称;姓名-------------------------- XSGUEST LWUSER1</pre><p>此输出显示现有的应用程序用户帐户。<code class="codeph">XSGUEST</code>用户帐户是已存在或预定义的系统创建的用户帐户。
                              </p>
                              <p>有关<code class="codeph">XS_PRINCIPAL.CREATE_USER</code>过程的详细信息，请参阅<span class="q">“ <a href="XS_PRINCIPAL-package.html#GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D">CREATE_USER过程</a> ”</span> 。
                              </p>
                              <p>您可以使用<code class="codeph">XS_PRINCIPAL.DELETE_PRINCIPAL</code>过程删除应用程序用户帐户，请参阅<span class="q">“ <a href="XS_PRINCIPAL-package.html#GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8">DELETE_PRINCIPAL过程</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DBFSG99054"></a><div class="props_rev_3"><a id="GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" name="GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B"></a><h4 id="DBFSG-GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" class="sect4">关于创建直接登录应用程序用户帐户</h4>
                  <div>
                     <div class="p">本节包含：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-7D8FB729-6855-4599-BEB8-348D26418684">创建直接登录应用程序用户帐户</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-4463501E-6F61-445B-A028-44ED33C6F084">创建直接登录应用程序用户帐户的过程</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-6BA62709-3BF9-4DE1-829C-3C4C6EE1B992">为直接应用程序用户帐户设置密码验证程序</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-C4479AC6-FADE-4012-ADCC-88AF598986D4" title="描述对Real Application Security用户的Oracle Label Security支持。">Oracle Label Security上下文在Direct Logon Session中建立</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG99804"></a><div class="props_rev_3"><a id="GUID-7D8FB729-6855-4599-BEB8-348D26418684" name="GUID-7D8FB729-6855-4599-BEB8-348D26418684"></a><h5 id="DBFSG-GUID-7D8FB729-6855-4599-BEB8-348D26418684" class="sect5">创建直接登录应用程序用户帐户</h5>
                     <div>
                        <div class="section">
                           <p>您<a id="d8629e1114" class="indexterm-anchor"></a><a id="d8629e1118" class="indexterm-anchor"></a>可以使用应用程序用户帐户直接登录数据库。这对于需要执行诸如直接登录到SQL * Plus而无需通过SSO或Web界面登录等功能的用户非常有用。直接登录用户必须拥有密码。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG99805"></a><div class="props_rev_3"><a id="GUID-4463501E-6F61-445B-A028-44ED33C6F084" name="GUID-4463501E-6F61-445B-A028-44ED33C6F084"></a><h5 id="DBFSG-GUID-4463501E-6F61-445B-A028-44ED33C6F084" class="sect5">创建直接登录应用程序用户帐户的过程</h5>
                     <div>
                        <div class="section">
                           <p>要创建直接登录应用程序用户帐户：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>按照<span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-FE5E0C6A-7452-444E-A28F-B54518972EC6">创建应用程序用户帐户的一般过程</a> ”中的说明</span>登录。</span><div><pre class="pre codeblock"><code>sqlplus sec_mgr输入密码：密码已连接。</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>创建应用程序用户帐户。</span><div>
                                 <p>例如，要创建应用程序用户帐户<code class="codeph">lwuser1</code> ，其默认数据库架构为<code class="codeph">HR</code> ：</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_PRINCIPAL.CREATE_USER（name =&gt;'lwuser1'，schema =&gt;'HR'）;结束;/</pre><div class="infoboxnote" id="GUID-4463501E-6F61-445B-A028-44ED33C6F084__GUID-88250F73-E313-489E-9267-1B2775AE9427">
                                    <p class="notep1">注意：</p>
                                    <p>如果架构不存在，则直接登录失败。</p>
                                 </div>
                                 <p>当此Real Application用户直接连接到数据库以查询查询中的非限定数据库对象时， <code class="codeph">HR</code>模式将用作默认模式。例如：</p><pre class="oac_no_warn" dir="ltr">从员工中选择COUNT（*）;</pre></div>
                           </li>
                           <li class="stepexpand"><span>为应用程序用户帐户创建密码。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_PRINCIPAL.SET_PASSWORD（'lwuser1'，' <span class="italic">password</span> '）;结束; /</pre><p>按<span class="q">“ <a href="XS_PRINCIPAL-package.html#GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD">SET_PASSWORD过程</a> ”中</span>所述设置密码。使用<code class="codeph">SET_PASSWORD</code>过程时，它会根据密码和<code class="codeph">type</code>参数为您创建验证程序，然后将验证程序和<code class="codeph">type</code>参数的值插入到字典表中。
                                 </p>
                                 <div class="infoboxnote" id="GUID-4463501E-6F61-445B-A028-44ED33C6F084__GUID-D06E1E06-BBEE-47F2-970E-3364884AA96E">
                                    <p class="notep1">注意：</p>
                                    <p>更换<span class="italic"><code class="codeph">password</code></span>使用安全密码。有关密码准则的详细信息，请参见<a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10005" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> 。
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>创建名为<code class="codeph">prof</code>的概要文件，并将此概要文件分配给应用程序用户帐户。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">CREATE PROFILE prof LIMIT PASSWORD_REUSE_TIME 1/1440 PASSWORD_REUSE_MAX 3 PASSWORD_VERIFY_FUNCTION Verify_Pass; BEGIN SYS.XS_PRINCIPAL.SET_PROFILE（'lwuser1'，'prof'）;结束;</pre><p>分配配置文件的用户必须具有<code class="codeph">ALTER_USER</code>权限。有关更多信息，请参阅<span class="q">“ <a href="XS_PRINCIPAL-package.html#GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F">SET_PROFILE过程</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将角色<code class="codeph">XSCONNECT</code>授予用户以允许访问数据库。</span><div>
                                 <div class="p">例如：<pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_PRINCIPAL.GRANT_ROLES（'lwuser1'，'XSCONNECT'）;结束; /</pre></div>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>接下来，您已准备好为应用程序用户帐户分配权限。转到<span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-413EB606-55E3-4339-9247-F7814E1ACA31">关于向主体授予应用程序权限</a> ”</span> 。
                           </p>
                           <p>之后，用户可以按如下方式连接到数据库。例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT lwuser1密码： <span class="italic">密码</span></pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG234"></a><a id="DBFSG99806"></a><div class="props_rev_3"><a id="GUID-6BA62709-3BF9-4DE1-829C-3C4C6EE1B992" name="GUID-6BA62709-3BF9-4DE1-829C-3C4C6EE1B992"></a><h5 id="DBFSG-GUID-6BA62709-3BF9-4DE1-829C-3C4C6EE1B992" class="sect5">为直接应用程序用户帐户设置密码验证程序</h5>
                     <div>
                        <div class="section">
                           <p>（可选）您可以为此密码设置<a href="glossary.html#GUID-706241A2-7285-4781-9DF2-4B6783B9457B"><span class="xrefglossterm">密码验证程序</span></a> （哈希转换密码），使管理员能够在知道验证者而不是密码的情况下将用户迁移到Real Application Security。如果未设置密码验证程序，则默认哈希算法为<code class="codeph">XS_SHA512</code> 。有关更多信息，请参见<a href="XS_PRINCIPAL-package.html#GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD">SET_PASSWORD过程</a>和<a href="XS_PRINCIPAL-package.html#GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A">SET_VERIFIER过程</a> 。
                           </p>
                           <div class="p"><a href="configuring-application-users-and-application-roles.html#GUID-6BA62709-3BF9-4DE1-829C-3C4C6EE1B992__CJAFIGFF">示例2-1</a>显示了如何使用<code class="codeph">XS_PRINCIPAL.SET_VERIFIER</code>过程将密码验证程序设置为根据<code class="codeph">XS$VERIFIERS</code>字典表的查询确定的值，使用应用程序用户帐户<code class="codeph">LWUSER1</code>的散列算法<code class="codeph">XS_SHA512</code> ，执行以下步骤：<ol>
                                 <li>
                                    <p>查询视图<code class="codeph">DBA_XS_OBJECTS</code>以获取用户<code class="codeph">LWUSER1</code>的ID值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>查询ID为2147493730的用户<code class="codeph">LWUSER1</code>的<code class="codeph">XS$VERIFIERS</code>字典表。验证者的值包括其类型值“T”后跟冒号（:)以表示它是<code class="codeph">XS_SHA512</code>的验证者类型，其也被指示为类型＃2。
                                    </p>
                                 </li>
                                 <li>
                                    <p>使用包括“ <code class="codeph">T:</code> ”的整个验证程序值，为用户<code class="codeph">LWUSER1</code>设置验证程序。以下示例显示了每个步骤。
                                    </p>
                                 </li>
                              </ol>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-6BA62709-3BF9-4DE1-829C-3C4C6EE1B992__CJAFIGFF">
                           <p class="titleinexample">示例2-1使用哈希算法XS_SHA512设置密码验证程序</p><pre class="pre codeblock"><code>sqlplus sec_mgr输入密码：密码已连接。SQL&gt;列名格式A10; SQL&gt;列所有者格式A6; SQL&gt;从DBA_XS_OBJECTS中选择NAME，OWNER，ID，TYPE，STATUS，其中NAME ='LWUSER1';姓名所有者ID类型状态---------- ------ ---------- ------------------  - ------- LWUSER1 SYS 2147493730 PRINCIPAL VALID SQL&gt; column user＃format 9999999999; SQL&gt;列类型#format 99; SQL&gt;列验证器格式A62; SQL&gt;从XS $ VERIFIERS中选择USER＃，VERIFIER，TYPE＃，其中USER＃='2147493730'; USER＃VERIFIER TYPE＃----------- ---------------------------------- ---------------------------- ----- 2147493730 T：9BA95FEF2C2630A2BAACF2E7C5E41B0D50CDC7B0B60C88AD4FE81F8155D0 2 02F99EEAF9D95477E4749870C67FDE870E154ED17809C359777F979E269010 823FB981B2A998915EB1439FE3C6C1542A239C SQL&gt; BEGIN SYS.XS_PRINCIPAL.SET_VERIFIER（' lwuser1'，'T：9BA95FEF2C2630A2BAACF2E7C5E41B0D50CDC7B0B6 0C88AD4FE81F8155D002F99EEAF9D95477E4749870C67FDE870E154ED17809C359777F979E269010823FB 981B2A998915EB1439FE3C6C1542A239C'，XS_PRINCIPAL.XS_SHA512）;结束; / 2 3 4 5 PL / SQL过程成功完成。</code></pre><p>要成功完成此过程，验证程序值及其类型必须与正在设置验证程序的用户的<code class="codeph">XS$VERIFIERS</code>字典表的<code class="codeph">VERIFIER</code>列中的信息匹配。请注意，当您更改应用程序用户的密码时，它会自动更改其验证程序值，并选择更改其验证程序类型。
                           </p>
                           <p>此示例将验证程序设置为其完全相同的值，以显示所涉及的步骤。只要验证程序值与您设置的验证程序类型匹配，就可以选择将密码验证程序设置为在查询<code class="codeph">XS$VERIFIERS</code>字典表时为应用程序用户显示的任何验证程序值。例如，如果要将验证程序值和验证程序类型更改为<code class="codeph">XS_SALTED_SHA1</code> ，请执行以下操作。
                           </p><pre class="pre codeblock"><code>SQL&gt; BEGIN SYS.XS_PRINCIPAL.SET_VERIFIER（'lwuser1'，'S：14DC0F5ABB72FC869549B1F845C548E0BEF7B863A116DB24DFAE22F0501E'，XS_PRINCIPAL.XS_SALTED_SHA1）;结束; / 2 3 4 PL / SQL过程成功完成。</code></pre><p>请注意，这与为应用程序用户<code class="codeph">LWUSER3</code>设置的验证程序值和验证程序类型相同，如<a href="XS_PRINCIPAL-package.html#GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A">SET_VERIFIER过程中</a>所示。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-C4479AC6-FADE-4012-ADCC-88AF598986D4" name="GUID-C4479AC6-FADE-4012-ADCC-88AF598986D4"></a><h5 id="DBFSG-GUID-C4479AC6-FADE-4012-ADCC-88AF598986D4" class="sect5">Oracle Label Security上下文在Direct Logon Session中建立</h5>
                     <div>
                        <p>描述对Real Application Security用户的Oracle Label Security支持。</p>
                        <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，Oracle Label Security支持Real Application Security用户。这意味着当Real Application Security用户通过直接登录附加Real Application Security用户会话时，用户可以使用自己的Oracle Label Security授权。Oracle Label Security上下文是在附加会话期间建立的。
                        </p>
                        <div class="infoboxnotealso" id="GUID-C4479AC6-FADE-4012-ADCC-88AF598986D4__GUID-4320A2E6-1E32-4E10-8D23-9A3D0B0002E3">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-C5889D1C-AE40-4FAE-A453-B65157155D17">将应用程序会话附加到传统数据库会话，</a>以获取有关Oracle Label Security如何支持Real Application Security用户的更多信息</p>
                              </li>
                              <li>
                                 <p><a href="../olsag/oracle-label-security-pl-sql-packages.html#OLSAG-GUID-73B905A4-6B4F-4BA0-A44E-9475F2AEC414" target="_blank"><span><cite>有关Oracle Label Security的</cite></span></a>详细信息，请参阅<a href="../olsag/oracle-label-security-pl-sql-packages.html#OLSAG-GUID-73B905A4-6B4F-4BA0-A44E-9475F2AEC414" target="_blank"><span><cite>“Oracle Label Security管理员指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="DBFSG839"></a><a id="DBFSG840"></a><a id="DBFSG841"></a><a id="DBFSG838"></a><div class="props_rev_3"><a id="GUID-7940BF68-53EA-4068-89CB-679A63C412D9" name="GUID-7940BF68-53EA-4068-89CB-679A63C412D9"></a><h4 id="DBFSG-GUID-7940BF68-53EA-4068-89CB-679A63C412D9" class="sect4">使用SQL * Plus PASSWORD命令重置应用程序用户的密码</h4>
                  <div>
                     <div class="section">
                        <p>作为安全管理员<code class="codeph">sec_mgr</code> ，您具有<code class="codeph">create session</code>数据库权限和Real Application Security <code class="codeph">xs_session_admin</code>数据库角色，此外， <code class="codeph">sec_mgr</code>被授予Real Application Security <code class="codeph">PROVISION</code>最低系统权限作为数据库用户。作为安全管理器，您现在可以创建用户和角色，设置密码等，并使用Real Application Security最低系统权限管理会话。<a href="configuring-application-users-and-application-roles.html#GUID-7940BF68-53EA-4068-89CB-679A63C412D9__CHDIFGDC">示例2-2</a>显示了安全管理员如何使用SQL * Plus <code class="codeph">PASSWORD</code>命令重置用户<code class="codeph">lwuser2</code>的<code class="codeph">PASSWORD</code> 。
                        </p>
                        <p>但是，如果您是用户<code class="codeph">lwuser2</code> ，请使用从显式连接的会话（使用<code class="codeph">ATTACH_SESSION</code>过程附加的会话或Java中的<code class="codeph">attachSession()</code>方法）调用的SQL * Plus <code class="codeph">PASSWORD</code>命令执行自密码更改，会话必须具有<code class="codeph">ALTER USER</code>必须使用<code class="codeph">PASSWORD</code>命令提供<code class="codeph">ALTER USER</code>权限和用户名。
                        </p>
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-7940BF68-53EA-4068-89CB-679A63C412D9__CHDJBAEB">示例2-3</a>显示了应用程序用户<code class="codeph">lwuser2</code>如何显式附加到会话，执行自密码更改失败，因为用户会话没有<code class="codeph">ALTER USER</code>权限。
                        </p>
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-7940BF68-53EA-4068-89CB-679A63C412D9__CHDEDDAA">示例2-4</a>显示了应用程序用户<code class="codeph">lwuser2</code>如何显式附加到具有<code class="codeph">ALTER USER</code>权限的会话可以执行自密码更改。用户的自密码更改成功。
                        </p>
                        <p><code class="codeph">SET_PASSWORD</code>过程不会提示输入旧密码，但需要Real Application Security <code class="codeph">PROVISION</code>特权作为最小特权，或要求数据库<code class="codeph">ALTER USER</code>特权。（请注意， <code class="codeph">SET_PASSWORD</code>是Real Application Security PL / SQL过程，而不是SQL * Plus <code class="codeph">PASSWORD</code>命令。）如果用户的会话具有<code class="codeph">PROVISION</code>最低权限或<code class="codeph">ALTER USER</code>权限，则可以从任何应用程序用户的会话（包括显式连接和直接登录会话）或数据库用户会话重置任何应用程序用户的密码（如果该会话具有<code class="codeph">PROVISION</code>最小权限或<code class="codeph">ALTER USER</code>权限。如果要更改其他应用程序用户的密码，SQL * Plus <code class="codeph">PASSWORD</code>命令永远不会提示输入旧密码。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7940BF68-53EA-4068-89CB-679A63C412D9__CHDIFGDC">
                        <p class="titleinexample">示例2-2 DBA在没有明确附加到会话时使用用户lwuser2的密码更改操作重置密码</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码： <span class="italic">密码</span>已连接。SQL&gt; BEGIN 2 SYS.XS_PRINCIPAL.CREATE_USER（'lwuser2'）; 3结束; 4 / PL / SQL orocedure成功完成。SQL&gt; PASSWORD lwuser2更改lwuser2的密码新密码： <span class="italic">password</span>重新输入新密码： <span class="italic">password</span>密码已更改</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7940BF68-53EA-4068-89CB-679A63C412D9__CHDJBAEB">
                        <p class="titleinexample">示例2-3用户lwuser2执行自定义附加到会话时失败的自密码更改，因为会话缺少ALTER USER权限</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码： <span class="italic">密码</span>已连接。SQL&gt; DECLARE 2 SESSIONID RAW（16）; 3 BEGIN 4 SYS.DBMS_XS_SESSIONS.CREATE_SESSION（'lwuser2'，sessionid）; 5 SYS.DBMS_XS_SESSIONS.ATTACH_SESSION（sessionid）; 6结束; 7 / PL / SQL过程成功完成。SQL&gt; CONNECT lwuser2输入密码： <span class="italic">密码</span>已连接。SQL&gt; SELECT SYS.XS_SYS_CONTEXT（'XS $ SESSION'，'USERNAME'）FROM DUAL; XS_SYS_CONTEXT（'XS $ SESSION'，'USERNAME'）-------------------------------------- ------------------------------------------ LWUSER2 SQL&gt; PASSWORD lwuser2更改密码lwuser2旧密码： <span class="italic">密码</span>新密码： <span class="italic">密码</span>重新输入新密码： <span class="italic">密码</span>错误：ORA-01031：权限不足密码不变</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7940BF68-53EA-4068-89CB-679A63C412D9__CHDEDDAA">
                        <p class="titleinexample">示例2-4显式连接到会话和用户时自身密码更改成功lwuser2的会话具有ALTER USER权限</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码： <span class="italic">密码</span>已连接。SQL&gt; CREATE ROLE pwdchg;角色创建。SQL&gt; GRANT ALTER USER to pwdchg;格兰特成功了。SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_ROLE（NAME =&gt;'resetpwd_role'，ENABLED =&gt; TRUE）; PL / SQL过程成功完成。SQL&gt; GRANT pwdchg TO resetpwd_role;格兰特成功了。SQL&gt; EXEC SYS.XS_PRINCIPAL.GRANT_ROLES（'lwuser2'，'resetpwd_role'）; PL / SQL过程成功完成。SQL&gt; CONNECT lwuser2输入密码： <span class="italic">密码</span>已连接。SQL&gt; SELECT SYS.XS_SYS_CONTEXT（'XS $ SESSION'，'USERNAME'）FROM DUAL; SYS.XS_SYS_CONTEXT（'XS $ SESSION'，'USERNAME'）------------------------------------ -------------------------------------------- LWUSER2 SQL&gt; PASSWORD lwuser2更改lwuser2的密码旧密码： <span class="italic">password</span>新密码： <span class="italic">password</span>重新输入新密码： <span class="italic">password</span>密码已更改SQL&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG252"></a><a id="DBFSG254"></a><a id="DBFSG99055"></a><div class="props_rev_3"><a id="GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE" name="GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE"></a><h4 id="DBFSG-GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE" class="sect4">配置应用用户交换机</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">XS_PRINCIPAL.ADD_PROXY_USER</code>过程<a id="d8629e2127" class="indexterm-anchor"></a>可以添加应用程序用户代理另一个<a id="d8629e2132" class="indexterm-anchor"></a>应用程序用户并承担该应用程序用户的应用程序角色。如果已将用户添加为代理，则可以使用<code class="codeph">DBMS_XS_SESSIONS.SWITCH_USER</code>过程在会话中切换应用程序用户。
                        </p>
                        <p>假设<code class="codeph">app_user1</code>具有应用程序角色<code class="codeph">role1</code>和<code class="codeph">role2</code> 。<a href="configuring-application-users-and-application-roles.html#GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE__CJAEJEEG">示例2-5</a>允许您将<code class="codeph">role1</code>的应用程序角色<code class="codeph">role1</code>和<code class="codeph">role2</code> <code class="codeph">app_user1</code>到<code class="codeph">app_user2</code> 。调用<code class="codeph">add_proxy_user('app_user1', 'app_user2', pxy_roles)</code>允许<code class="codeph">app_user2</code>切换到<code class="codeph">app_user1</code>并假设<code class="codeph">app_user1</code>的角色， <code class="codeph">role1</code>和<code class="codeph">role2</code> 。它不会将角色授予<code class="codeph">app_user2</code> 。
                        </p>
                        <p>查看<code class="codeph">DBA_XS_ROLE_GRANTS</code>的查询显示，角色， <code class="codeph">roles1</code>和<code class="codeph">roles2</code>仍然仅授予<code class="codeph">app_user1</code>而不授予<code class="codeph">app_user2</code> ，并且<code class="codeph">app_user2</code>仅将这些角色视为代理用户。
                        </p>
                        <p>查看<code class="codeph">DBA_XS_PROXY_ROLES</code>的查询显示<code class="codeph">app_user2</code>是代理用户， <code class="codeph">app_user1</code>是目标用户，目标角色是<code class="codeph">role1</code>和<code class="codeph">role2</code> 。
                        </p>
                        <p>查看<code class="codeph">DBA_XS_SESSIONS</code>的查询还显示<code class="codeph">app_user2</code>是此会话中的代理用户。
                        </p>
                        <p>作为具有DBA角色的应用程序用户，您可以为<code class="codeph">app_user2</code>和switch创建会话<a id="d8629e2241" class="indexterm-anchor"></a>应用程序用户到<code class="codeph">app_user1</code> ，如<a href="configuring-application-users-and-application-roles.html#GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE__CJACEJBC">例2-6</a>所示。
                        </p>
                        <p>此示例首先使用<code class="codeph">app_user2</code>创建会话并附<code class="codeph">app_user2</code>该会话。然后<code class="codeph">app_user2</code>切换到<code class="codeph">app_user1</code>并假设<code class="codeph">app_user1</code>的角色， <code class="codeph">role1</code>和<code class="codeph">role2</code> 。
                        </p>
                        <p>查看<code class="codeph">DBA_XS_ROLE_GRANTS</code>的查询显示，角色， <code class="codeph">roles1</code>和<code class="codeph">roles2</code>仍然仅授予<code class="codeph">app_user1</code>而不授予<code class="codeph">app_user2</code> ，并且<code class="codeph">app_user2</code>仅将这些角色视为代理用户。
                        </p>
                        <p>查看<code class="codeph">DBA_XS_SESSION_ROLES</code>的查询显示角色<code class="codeph">role1</code>和<code class="codeph">role2</code>与使用<code class="codeph">app_user1</code>切换<code class="codeph">app_user2</code>的同一会话ID相关联。
                        </p>
                        <p>查看<code class="codeph">DBA_XS_SESSIONS</code>的查询还显示<code class="codeph">app_user2</code>是此会话中的代理用户。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE__CJAEJEEG">
                        <p class="titleinexample">示例2-5配置代理应用程序用户</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_ROLE（'role1'，true）; SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_ROLE（'role2'，true）;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_USER（'app_user1'，'HR'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.SET_PASSWORD（'app_user1'，'password'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_USER（'app_user2'，'HR'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.SET_PASSWORD（'app_user2'，'password'）;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC SYS.XS_PRINCIPAL.GRANT_ROLES（'app_user1'，'role1'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.GRANT_ROLES（'app_user1'，'role2'）;</pre><pre class="oac_no_warn" dir="ltr">DECLARE pxy_roles XS $ NAME_LIST;开始pxy_roles：= XS $ NAME_LIST（'role1'，'role2'）; sys.xs_principal.add_proxy_user（target_user =&gt;'app_user1'，proxy_user =&gt;'app_user2'，target_roles =&gt; pxy_roles）;结束; /</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT grantee，granted_role FROM DBA_XS_ROLE_GRANTS;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT proxy_user，target_user，target_role FROM DBA_XS_PROXY_ROLES;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT user_name，sessionid，proxy_user FROM DBA_XS_SESSIONS;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B5204FD3-0048-4A5D-A2C1-0E7996FF25BE__CJACEJBC">
                        <p class="titleinexample">示例2-6创建会话并切换应用程序用户</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_USER（'app_user1'，'HR'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.SET_PASSWORD（'app_user1'，'password'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_USER（'app_user2'，'HR'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.SET_PASSWORD（'app_user2'，'password'）;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_ROLE（'role1'，true）; SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_ROLE（'role2'，true）;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_USER（'app_user1'，'HR'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.SET_PASSWORD（'app_user1'，'password'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.CREATE_USER（'app_user2'，'HR'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.SET_PASSWORD（'app_user2'，'password'）;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC SYS.XS_PRINCIPAL.GRANT_ROLES（'app_user1'，'role1'）; SQL&gt; EXEC SYS.XS_PRINCIPAL.GRANT_ROLES（'app_user1'，'role2'）;</pre><pre class="oac_no_warn" dir="ltr">声明sessionid raw（16）; begin sys.dbms_xs_sessions.create_session（'app_user2'，sessionid）; sys.dbms_xs_sessions.attach_session（的sessionid）; sys.dbms_xs_sessions.switch_user（ 'app_user1'）;结束; /</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT grantee，granted_role FROM DBA_XS_ROLE_GRANTS;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT sessionid，角色FROM DBA_XS_SESSION_ROLES;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT user_name，sessionid，proxy_user FROM DBA_XS_SESSIONS;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99058"></a><div class="props_rev_3"><a id="GUID-C9D5D045-7604-4771-AA58-A5F7DE702EC1" name="GUID-C9D5D045-7604-4771-AA58-A5F7DE702EC1"></a><h4 id="DBFSG-GUID-C9D5D045-7604-4771-AA58-A5F7DE702EC1" class="sect4">验证应用程序用户</h4>
                  <div>
                     <div class="section">
                        <p>Oracle建议您在管理配置更改后始终验证Real Application Security对象。<code class="codeph">XS_DIAG</code>包提供了一组验证API，以帮助确保这些更改不会破坏Real Application Security对象之间的复杂关系。要验证应用程序用户帐户，请使用<code class="codeph">XS_DIAG.VALIDATE_PRINCIPAL</code>函数。调用者对此程序包具有调用者权限，并且必须具有<code class="codeph">ADMIN_ANY_SEC_SECURITY</code>权限才能运行<code class="codeph">XS_DIAG</code>程序包。
                        </p>
                        <p>有关更多信息，请参阅<span class="q">“ <a href="XS_DIAG-package.html#GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1">VALIDATE_PRINCIPAL函数</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DBFSG20022"></a><div class="props_rev_3"><a id="GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8" name="GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8"></a><h3 id="DBFSG-GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8" class="sect3">关于配置应用程序角色</h3>
               <div>
                  <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-9AF42A31-752B-4020-B3C1-BBDBF31537CA">关于应用程序角色</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-06D95E44-F752-44CB-B8AC-89CBD5405053">常规和动态应用程序角色</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-70AF6228-27BB-4F50-8FBE-20277F5875DA">关于配置应用程序角色</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-D627A919-536B-4F3A-B6A3-911791B91566">预定义的常规应用程序角色和动态应用程序角色</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99061"></a><div class="props_rev_3"><a id="GUID-9AF42A31-752B-4020-B3C1-BBDBF31537CA" name="GUID-9AF42A31-752B-4020-B3C1-BBDBF31537CA"></a><h4 id="DBFSG-GUID-9AF42A31-752B-4020-B3C1-BBDBF31537CA" class="sect4">关于应用程序角色</h4>
                  <div>
                     <p>应用程序角色是只能授予应用程序用户或其他应用程序角色的角色。应用程序角色为分组应用程序用户提供了一种方法，这些用户必须具有在ACL中标识的公共应用程序特权才能访问应用程序。<code class="codeph">XS_PRINCIPAL.CREATE_ROLE</code>过程可以创建常规应用程序角色。<code class="codeph">XS_PRINCIPAL.CREATE_DYNAMIC_ROLE</code>过程可以创建动态应用程序角色（一种类型的应用程序角色）。
                     </p>
                     <p>应用程序角色在概念上类似于企业角色。企业角色只能授予企业用户，并且授权发生在数据库之外。同样，应用程序角色只能授予应用程序用户或应用程序角色，并且该授权发生在标准数据库授予机制之外。动态角色不能授予应用程序用户或其他应用程序角色，但只能在应用程序会话中作为附加会话调用中的参数启用，如<span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-B2ED6DE8-38B8-4E57-A360-E44007ACCB7D">动态应用程序角色</a> ”中所述</span> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9AF42A31-752B-4020-B3C1-BBDBF31537CA__GUID-AD2E7177-B848-441D-9EDB-710496F66EFB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关SQL的更多信息，请<a href="../sqlrf/CREATE-ROLE.html#SQLRF01311" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关PL / SQL API的更多信息，请<a href="../lnpls/plsql-language-elements.html#LNPLS-GUID-285DFAEE-1A34-4248-BA4B-2591476A0C3C" target="_blank"><span><cite>参见Oracle Database PL / SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DBFSG255"></a><div class="props_rev_3"><a id="GUID-06D95E44-F752-44CB-B8AC-89CBD5405053" name="GUID-06D95E44-F752-44CB-B8AC-89CBD5405053"></a><h4 id="DBFSG-GUID-06D95E44-F752-44CB-B8AC-89CBD5405053" class="sect4">常规和动态应用程序角色</h4>
                  <div>
                     <p>Real Application Security允许定期和动态应用程序角色。</p>
                     <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-5C540286-12E2-4D49-87FE-3BE0764820FE">常规应用角色</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-B2ED6DE8-38B8-4E57-A360-E44007ACCB7D">动态应用程序角色</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG288"></a><div class="props_rev_3"><a id="GUID-5C540286-12E2-4D49-87FE-3BE0764820FE" name="GUID-5C540286-12E2-4D49-87FE-3BE0764820FE"></a><h5 id="DBFSG-GUID-5C540286-12E2-4D49-87FE-3BE0764820FE" class="sect5">常规应用角色</h5>
                     <div>
                        <p>一个<a id="d8629e3042" class="indexterm-anchor"></a><a id="d8629e3046" class="indexterm-anchor"></a><a id="d8629e3048" class="indexterm-anchor"></a>常规应用程序角色是您可以授予应用程序用户或其他应用程序角色（常规或动态）的应用程序角色。您可以指定是否要在默认情况下启用常规应用程序角色。
                        </p>
                     </div>
                  </div><a id="DBFSG289"></a><div class="props_rev_3"><a id="GUID-B2ED6DE8-38B8-4E57-A360-E44007ACCB7D" name="GUID-B2ED6DE8-38B8-4E57-A360-E44007ACCB7D"></a><h5 id="DBFSG-GUID-B2ED6DE8-38B8-4E57-A360-E44007ACCB7D" class="sect5">动态应用程序角色</h5>
                     <div>
                        <p>动态应用程序角色是仅在某些情况下启用的应用程序角色，例如，当用户使用SSL登录时，或在特定时间段内，等等。例如，如果在工作日期间为所有连接的应用程序用户授予了某些应用程序权限，则可以使用动态应用程序角色。如果满足该标准，则应用程序将启用这些应用程序角色。</p>
                        <p>应用程序确定启用动态应用程序角色的条件，但应用程序或应用程序请求时，应用程序或数据库可以评估条件。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当应用程序评估标准时</p>
                              <p>如果应用程序评估条件并且应用程序角色满足它，则应用程序（如果它附加到应用程序会话）可以为应用程序用户启用动态应用程序角色。当应用程序从应用程序会话中分离时，将自动禁用动态应用程序角色。</p>
                              <p>出于安全原因，您无法在会话期间禁用动态应用程序角色。这一点尤为重要，因为它们可能会推断出负面的应用程</p>
                           </li>
                           <li>
                              <p>当数据库评估标准时</p>
                              <p>如果数据库评估条件并且应用程序角色满足条件，则数据库可以为应用程序用户启用应用程序角色。数据库可以基于两种类型的超时来禁用动态应用程序角色：一次是从上次访问会话时开始，一次是从上一次会话身份验证开始。首次连接会话时，Oracle数据库会检查这些超时。</p>
                           </li>
                        </ul>
                        <p>您不需要事先正式向用户授予动态应用程序角色。无法通过标准启用和禁用API启用或禁用动态应用程序角色。您无法将动态应用程序角色授予其他应用程序角色，但您可以将其他应用程序角色授予动态角色。</p>
                        <div class="infoboxnotealso" id="GUID-B2ED6DE8-38B8-4E57-A360-E44007ACCB7D__GUID-6B2162F7-C6E5-4842-8C27-05C5D9D0FE7C">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-D627A919-536B-4F3A-B6A3-911791B91566">预定义的常规应用程序角色和动态应用程序角色</a> ”</span></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBFSG99063"></a><div class="props_rev_3"><a id="GUID-70AF6228-27BB-4F50-8FBE-20277F5875DA" name="GUID-70AF6228-27BB-4F50-8FBE-20277F5875DA"></a><h4 id="DBFSG-GUID-70AF6228-27BB-4F50-8FBE-20277F5875DA" class="sect4">关于配置应用程序角色</h4>
                  <div>
                     <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-863E8BD2-B07C-4E1B-B473-DF490D75F7DF">创建常规应用程序角色</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-8493761A-71A2-4602-9909-9B46208E41BA">创建动态应用程序角色</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-users-and-application-roles.html#GUID-25776BDE-57D3-4057-B39E-3E769D7176F0">验证应用程序角色</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG99065"></a><a id="DBFSG99064"></a><div class="props_rev_3"><a id="GUID-863E8BD2-B07C-4E1B-B473-DF490D75F7DF" name="GUID-863E8BD2-B07C-4E1B-B473-DF490D75F7DF"></a><h5 id="DBFSG-GUID-863E8BD2-B07C-4E1B-B473-DF490D75F7DF" class="sect5">创建常规应用程序角色</h5>
                     <div>
                        <div class="section">
                           <p>要创建常规应用程序角色， <code class="codeph">sec_mgr</code>以具有<code class="codeph">CREATE ROLE</code>系统特权的用户<code class="codeph">sec_mgr</code>身份登录SQL * Plus，然后使用<code class="codeph">XS_PRINCIPAL.CREATE_ROLE</code>过程。
                           </p>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-863E8BD2-B07C-4E1B-B473-DF490D75F7DF__CIHFBFAG">示例2-7</a>显示了如何创建名为<code class="codeph">app_regular_role</code>的常规应用程序角色。<code class="codeph">start_date</code>和<code class="codeph">end_date</code>参数指定此应用程序角色的活动开始和结束时间。<code class="codeph">enable</code>参数设置为<code class="codeph">TRUE</code> 。</p>
                           <p>创建常规应用程序角色后，您就可以将其授予一个或多个应用程序用户或应用程序角色。请参阅以下部分：</p>
                           <p><span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-6D1B34A7-28D4-4334-BAEE-975E4701969D">关于向应用程序用户授予应用程序角色</a> ”</span></p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-863E8BD2-B07C-4E1B-B473-DF490D75F7DF__CIHFBFAG">
                           <p class="titleinexample">示例2-7创建常规应用程序角色</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">DECLARE带有时区的st_date TIMESTAMP; ed_date TIMESTAMP WITH TIME ZONE; BEGIN st_date：= SYSTIMESTAMP; ed_date：= TO_TIMESTAMP_TZ（'2013-06-18 11:00:00 -5：00'，'YYYY-MM-DD HH：MI：SS'）; SYS.XS_PRINCIPAL.CREATE_ROLE <span class="bold">（name =&gt;'app_regular_role'，</span> enabled =&gt; TRUE，start_date =&gt; st_date，end_date =&gt; ed_date）;结束; /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG99067"></a><a id="DBFSG99066"></a><div class="props_rev_3"><a id="GUID-8493761A-71A2-4602-9909-9B46208E41BA" name="GUID-8493761A-71A2-4602-9909-9B46208E41BA"></a><h5 id="DBFSG-GUID-8493761A-71A2-4602-9909-9B46208E41BA" class="sect5">创建动态应用程序角色</h5>
                     <div>
                        <div class="section">
                           <p>创建一个<a id="d8629e3624" class="indexterm-anchor"></a><a id="d8629e3628" class="indexterm-anchor"></a>动态应用程序角色，以具有<code class="codeph">CREATE ROLE</code>系统特权的用户<code class="codeph">sec_mgr</code>登录SQL * Plus，然后<a id="d8629e3639" class="indexterm-anchor"></a>使用<code class="codeph">XS_PRINCIPAL.CREATE_DYNAMIC_ROLE</code>过程。
                           </p>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-8493761A-71A2-4602-9909-9B46208E41BA__CIHCFJIE">示例2-8</a>显示了如何创建名为<code class="codeph">app_dynamic_role</code>的动态应用程序角色。可选的<code class="codeph">duration</code>参数指定应用程序角色处于活动状态的时间段（以分钟为单位）。<code class="codeph">scope</code>参数指定此角色的范围，可以是<code class="codeph">SESSION_SCOPE</code> （默认值）或<code class="codeph">REQUEST_SCOPE</code> 。 <code class="codeph">SESSION_SCOPE</code>表示在分离会话并再次附加到会话时仍会启用已启用的动态角色，除非您明确指定在会话重新附加时禁用它。<code class="codeph">REQUEST_SCOPE</code>表示在分离会话后禁用该角色。
                           </p>
                           <p>在此示例中，动态应用程序角色处于活动状态40分钟，并且范围设置为当前应用程序会话的<code class="codeph">SESSION_SCOPE</code> 。因此，只要在创建动态应用程序角色后时间限制未超过40分钟时，即使分离会话并再次附加到会话，动态应用程序角色也会处于活动状态。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8493761A-71A2-4602-9909-9B46208E41BA__CIHCFJIE">
                           <p class="titleinexample">示例2-8创建动态应用程序角色</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">BEGIN <span class="bold">SYS.XS_PRINCIPAL.CREATE_DYNAMIC_ROLE</span> <span class="bold">（name =&gt;'app_dynamic_role'</span> ，duration =&gt; 40，scope =&gt; XS_PRINCIPAL.SESSION_SCOPE）;结束; /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG99068"></a><div class="props_rev_3"><a id="GUID-25776BDE-57D3-4057-B39E-3E769D7176F0" name="GUID-25776BDE-57D3-4057-B39E-3E769D7176F0"></a><h5 id="DBFSG-GUID-25776BDE-57D3-4057-B39E-3E769D7176F0" class="sect5">验证应用程序角色</h5>
                     <div>
                        <div class="section">
                           <p>Oracle建议您在管理配置更改后始终应验证Real Application Security对象。<code class="codeph">XS_DIAG</code>包提供了一组验证API，以帮助确保这些更改不会破坏Real Application Security对象之间的复杂关系。要验证应用程序角色，请使用<code class="codeph">XS_DIAG.VALIDATE_PRINCIPAL</code>函数。有关更多信息，请参阅<span class="q">“ <a href="XS_DIAG-package.html#GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1">VALIDATE_PRINCIPAL函数</a> ”</span> 。
                           </p>
                           <p>有关<a href="troubleshooting_real_application_security.html#GUID-B5B42EA3-D8A1-4F84-9C39-727A473733D0">故障</a>排除建议，请参阅<a href="troubleshooting_real_application_security.html#GUID-B5B42EA3-D8A1-4F84-9C39-727A473733D0">Oracle Database Real Application Security</a>故障排除
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DBFSG290"></a><div class="props_rev_3"><a id="GUID-D627A919-536B-4F3A-B6A3-911791B91566" name="GUID-D627A919-536B-4F3A-B6A3-911791B91566"></a><h4 id="DBFSG-GUID-D627A919-536B-4F3A-B6A3-911791B91566" class="sect4">预定义的常规应用程序角色和动态应用程序角色</h4>
                  <div>
                     <p>在Real Application Security会话中使用预定义的动态应用程序角色，应用程序用户可以根据其运行时状态获取应用程序权限。授权不能获得这些应用程序角色。</p>
                     <p>例如，可以为从公司防火墙内部连接的应用程序用户启用应用程序角色，从而为应用程序用户授予比从防火墙外部连接更多的应用程序权限。</p>
                     <p>有关Real Application Security预定义常规应用程序角色，动态应用程序角色和数据库角色的说明，请参阅<span class="q">“ <a href="predefined-objects-in-real-application-security.html#GUID-FC441B5C-2741-48BA-940E-DC1EFC2FD450">角色</a> ”</span> 。
                     </p>
                     <p>可以向应用程序用户授予常规应用程序角色，但动态应用程序角色则不能。根据用户状态启用动态应用程序角色。</p>
                     <p>有关说明，请参阅<span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-06D95E44-F752-44CB-B8AC-89CBD5405053">常规和动态应用程序角色</a> ”</span> 。
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG99078"></a><a id="DBFSG99079"></a><a id="DBFSG99077"></a><div class="props_rev_3"><a id="GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F" name="GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F"></a><h3 id="DBFSG-GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F" class="sect3">应用程序用户和应用程序角色的有效日期</h3>
               <div>
                  <div class="section">
                     <p>您可以为应用程序用户，应用程序角色和角色授予指定生效日期。应用程序用户或<a id="d8629e4101" class="indexterm-anchor"></a><a id="d8629e4105" class="indexterm-anchor"></a>应用程序角色仅在有效开始和结束日期定义的期间内可用。<a href="configuring-application-users-and-application-roles.html#GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F__CJAEIHCH">例2-9</a>显示<a id="d8629e4112" class="indexterm-anchor"></a>如何为应用程序用户指定有效日期。
                     </p>
                     <p>有时，生效日期限制不需要是应用程序用户或应用程序角色的属性。相反，只需要在每个角色授予的基础上限制生效日期。在这种情况下，您可以指定应用程序角色授予的开始和结束生效日期。这仅限制特定应用程序角色授予并允许实现细粒度访问控制策略。<a href="configuring-application-users-and-application-roles.html#GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F__CJAGFABH">示例2-10</a>显示了如何为应用程序角色指定生效日期。
                     </p>
                     <p>这些是有效日期限制的最直接后果：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果应用程序用户当前无效（即，在其开始和结束日期定义的时间段内），则无法创建特定应用程序用户的会话。</p>
                        </li>
                        <li>
                           <p>如果应用程序角色当前无效，则会话中的应用程序用户无法使用应用程序角色（以及任何后代）。</p>
                        </li>
                        <li>
                           <p>对于作为多个应用程序角色的共享子级的应用程序角色，只要至少有一个父级有效，子级应用程序角色就可用。</p>
                        </li>
                        <li>
                           <p>如果应用程序角色的应用程序角色授予当前无效，则应用程序角色（以及任何后代）对于授予它的应用程序用户或应用程序角色不可用。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F__GUID-740A4879-866E-4553-8FEC-819F75BF8ED4">
                        <p class="notep1">注意：</p>
                        <p>在仔细考虑它们对应用程序用户和应用程序角色的使用所施加的限制的性质之后，应在策略中使用生效日期。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F__CJAEIHCH">
                     <p class="titleinexample">例2-9为应用程序用户设置有效日期</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">DECLARE startDate TIMESTAMP：= TO_TIMESTAMP（'2012-01-01 11:00:00'，'YYYY-MM-DD HH：MI：SS'）; endDate TIMESTAMP：= TO_TIMESTAMP（'2013-01-01 11:00:00'，'YYYY-MM-DD HH：MI：SS'）; BEGIN SYS.XS_PRINCIPAL.CREATE_USER（name =&gt;'lwuser1'，start_date =&gt; startDate，end_date =&gt; endDate）;结束; /</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-AF9250D6-C579-4F8A-B210-AF357F42FA6F__CJAGFABH">
                     <p class="titleinexample">示例2-10为应用程序用户的应用程序角色设置有效日期</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">DECLARE startDate TIMESTAMP：= TO_TIMESTAMP（'2012-01-01 11:00:00'，'YYYY-MM-DD HH：MI：SS'）; endDate TIMESTAMP：= TO_TIMESTAMP（'2013-01-01 11:00:00'，'YYYY-MM-DD HH：MI：SS'）; BEGIN SYS.XS_PRINCIPAL.GRANT_ROLES（grantee =&gt;'lwuser1'，role =&gt;'app_regular_role'，start_date =&gt; startDate，end_date =&gt; endDate）;结束; /</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBFSG99080"></a><div class="props_rev_3"><a id="GUID-413EB606-55E3-4339-9247-F7814E1ACA31" name="GUID-413EB606-55E3-4339-9247-F7814E1ACA31"></a><h3 id="DBFSG-GUID-413EB606-55E3-4339-9247-F7814E1ACA31" class="sect3">关于向委托人授予应用程序权限</h3>
               <div>
                  <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-6D1B34A7-28D4-4334-BAEE-975E4701969D">关于向应用程序用户授予应用程序角色</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-DAD55007-5D55-4034-A8C8-A913FD1165FA">将应用程序角色授予另一个应用程序角色</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-A94AF3CD-8E27-4F26-8306-7A477F0DDA5F">向应用程序角色授予数据库角色</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99081"></a><div class="props_rev_3"><a id="GUID-6D1B34A7-28D4-4334-BAEE-975E4701969D" name="GUID-6D1B34A7-28D4-4334-BAEE-975E4701969D"></a><h4 id="DBFSG-GUID-6D1B34A7-28D4-4334-BAEE-975E4701969D" class="sect4">关于向应用程序用户授予应用程序角色</h4>
                  <div>
                     <p>本节包含以下主题：</p>
                  </div><a id="DBFSG99083"></a><a id="DBFSG99082"></a><div class="props_rev_3"><a id="GUID-F5596DD1-46BB-4D12-8826-E2AE214EB849" name="GUID-F5596DD1-46BB-4D12-8826-E2AE214EB849"></a><h5 id="DBFSG-GUID-F5596DD1-46BB-4D12-8826-E2AE214EB849" class="sect5">创建新的应用程序用户并授予此用户应用程序角色</h5>
                     <div>
                        <div class="section">
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-F5596DD1-46BB-4D12-8826-E2AE214EB849__CIHFJCCH">例2-11</a> <a id="d8629e4522" class="indexterm-anchor"></a><a id="d8629e4526" class="indexterm-anchor"></a>显示了在创建应用程序用户帐户时如何将应用程序角色<code class="codeph">appl1_regular_role</code>授予应用程序用户<code class="codeph">lwuser1</code> 。
                           </p>
                           <p>要查找现有应用程序角色的列表，请查询<code class="codeph">DBA_XS_ROLES</code>数据字典视图。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-F5596DD1-46BB-4D12-8826-E2AE214EB849__CIHFJCCH">
                           <p class="titleinexample">示例2-11创建新的应用程序用户并授予此用户应用程序角色</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_PRINCIPAL.CREATE_USER（'lwuser1'）; SYS.XS_PRINCIPAL.GRANT_ROLES（'lwuser1'，'appl1_regular_role'）;结束; /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG99085"></a><a id="DBFSG99084"></a><div class="props_rev_3"><a id="GUID-D40E9BEE-7EB1-4CDF-BF78-828050C4C469" name="GUID-D40E9BEE-7EB1-4CDF-BF78-828050C4C469"></a><h5 id="DBFSG-GUID-D40E9BEE-7EB1-4CDF-BF78-828050C4C469" class="sect5">向现有应用程序用户授予应用程序角色</h5>
                     <div>
                        <div class="section">
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-D40E9BEE-7EB1-4CDF-BF78-828050C4C469__CIHJAFAJ">示例2-12</a>显示了如何将应用程序角色<code class="codeph">appl1_regular_role</code>授予现有角色<a id="d8629e4671" class="indexterm-anchor"></a><a id="d8629e4675" class="indexterm-anchor"></a>应用程序用户， <code class="codeph">lwuser1</code> 。您无法将动态应用程序角色授予现有应用程序用户。
                           </p>
                           <p>您可以找到现有的列表<a id="d8629e4687" class="indexterm-anchor"></a>应用程序用户帐户通过查询<code class="codeph">DBA_XS_USERS</code>视图。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-D40E9BEE-7EB1-4CDF-BF78-828050C4C469__CIHJAFAJ">
                           <p class="titleinexample">示例2-12向现有应用程序用户授予应用程序角色</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_PRINCIPAL.GRANT_ROLES（'lwuser1'，'appl1_regular_role'）;结束; /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG99087"></a><a id="DBFSG99086"></a><div class="props_rev_3"><a id="GUID-DAD55007-5D55-4034-A8C8-A913FD1165FA" name="GUID-DAD55007-5D55-4034-A8C8-A913FD1165FA"></a><h4 id="DBFSG-GUID-DAD55007-5D55-4034-A8C8-A913FD1165FA" class="sect4">将应用程序角色授予另一个应用程序角色</h4>
                  <div>
                     <div class="section">
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-DAD55007-5D55-4034-A8C8-A913FD1165FA__CIHDEJCG">示例2-13</a>显示了如何将常规应用程序角色授予另一个常规应用程序角色。您无法将动态应用程序角色授予其他常规应用程序角色，但您可以将其他常规应用程序角色授予动态应用程序角色。要查找现有应用程序角色的列表，请查询<code class="codeph">DBA_XS_ROLES</code>视图（请参阅<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-05DD81BD-98F4-4409-B42A-CA76EA4CED76">DBA_XS_ROLES</a> ”</span> ）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DAD55007-5D55-4034-A8C8-A913FD1165FA__CIHDEJCG">
                        <p class="titleinexample">示例2-13将常规应用程序角色授予另一个常规应用程序角色</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_PRINCIPAL.GRANT_ROLES（grantee =&gt;'app_regular_role'，role =&gt;'appl1_regular_role'）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99089"></a><a id="DBFSG99088"></a><div class="props_rev_3"><a id="GUID-A94AF3CD-8E27-4F26-8306-7A477F0DDA5F" name="GUID-A94AF3CD-8E27-4F26-8306-7A477F0DDA5F"></a><h4 id="DBFSG-GUID-A94AF3CD-8E27-4F26-8306-7A477F0DDA5F" class="sect4">向应用程序角色授予数据库角色</h4>
                  <div>
                     <div class="section">
                        <p>至<a id="d8629e4966" class="indexterm-anchor"></a><a id="d8629e4970" class="indexterm-anchor"></a>将数据库角色授予应用程序角色，使用SQL <code class="codeph">GRANT</code>语句。您可以通过查询<code class="codeph">DBA_ROLES</code>数据字典视图找到现有数据库角色的列表。
                        </p>
                        <p><a href="configuring-application-users-and-application-roles.html#GUID-A94AF3CD-8E27-4F26-8306-7A477F0DDA5F__CIHIJEIF">示例2-14</a>显示了如何将数据库角色<code class="codeph">cust_role</code>授予应用程序角色<code class="codeph">app_regular_role</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A94AF3CD-8E27-4F26-8306-7A477F0DDA5F__CIHIJEIF">
                        <p class="titleinexample">示例2-14向应用程序角色授予数据库角色</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_mgr输入密码：密码已连接。</pre><pre class="oac_no_warn" dir="ltr">GRANT cust_role TO app_regular_role;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>