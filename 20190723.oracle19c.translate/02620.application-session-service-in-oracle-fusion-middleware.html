<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Application Session Service in Oracle Fusion Middleware</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-fusion-middleware-integration-with-real-application-security.html" title="Previous" type="text/html"></link>
      <link rel="next" href="real-application-security-data-dictionary-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-fusion-middleware-integration-with-real-application-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="real-application-security-data-dictionary-views.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Application Session Service in Oracle Fusion Middleware </li>
            </ol>
            <a id="GUID-2A7FA2B2-FD21-4506-808E-669ACC6E40A2" name="GUID-2A7FA2B2-FD21-4506-808E-669ACC6E40A2"></a><a id="DBFSG457"></a>
            
            <h2 id="DBFSG-GUID-2A7FA2B2-FD21-4506-808E-669ACC6E40A2" class="sect2"><span class="enumeration_chapter">8 </span>Application Session Service in Oracle Fusion Middleware 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Real Application Security provides an application session service in Oracle Fusion Middleware to set up an application session transparently and securely that supports existing application users, roles, and security context. This application session service is a servlet filter that is responsible for application session setup and a set of APIs that the application can use with the application session. This application session service supports user and roles managed externally by Oracle Fusion Middleware.</p>
               <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), this application session service supports a Java EE Web application using Oracle Platform Security Service (OPSS) as the application security provider. This application session service can be deployed to the Java EE container that OPSS can support, together with the application. 
               </p>
               <div class="p">This chapter describes the following topics:
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0">About Real Application Security Concepts</a></p>
                     </li>
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-01DB7183-5FF7-402D-A9A8-6B03B599A40D">About Application Session Service in Oracle Fusion Middleware</a></p>
                     </li>
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-2D2C6243-6F27-41E0-89AD-1F4D1521BC93">About the Application Session Filter</a></p>
                     </li>
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-5E3146D1-DECF-4DE8-B84B-83C3088E42C7">About Deployment</a></p>
                     </li>
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-6E4769A1-196E-4281-AB53-BBCC0837B962">About Application Configuration of the Application Session Filter</a></p>
                     </li>
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-8658F999-8219-4E28-8C6D-349DA989B162">Domain Configuration: Setting Up an Application Session Service to Work with OPSS and Oracle Fusion Middleware</a></p>
                     </li>
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-9ED4C2EC-1ACD-4753-9F5E-D4E6E0BB27F2">About Application Session APIs</a></p>
                     </li>
                     <li>
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-3264D95D-A161-4A5B-9C16-61A6E5929F0E">Human Resources Demo Use Case: Implementation in Java</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG460"></a><a id="DBFSG709"></a><a id="DBFSG715"></a><a id="DBFSG716"></a><a id="DBFSG459"></a><div class="props_rev_3"><a id="GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0" name="GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0"></a><h3 id="DBFSG-GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0" class="sect3">About Real Application Security Concepts </h3>
               <div>
                  <p>As an Oracle Database authorization system, Real Application Security supports application security by enforcing who (application user) can do what application-level operations (ApprovePurchaseOrder, ViewSSN) on which database resource (purchase order records of employees under my report, my SSN). An application session is used to enforce application security. Typically, the users and roles are provisioned externally, that is, enterprise users are provisioned in an identity store and application roles are managed in a policy store, such as, Oracle Identity Management and Oracle Entitlement Server (OES). </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0__GUID-300B77A1-2003-4D6E-86F0-D510AAD32B89">Application Users and Roles Managed Externally</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Real Application Security supports users and roles that are provisioned by an external party, such as Oracle Entitlement Server for managing application users and roles provisioning, while OPSS provides a runtime security framework for enforcing security for application roles. Theses are referred to as external application users and application roles (see <a href="oracle-fusion-middleware-integration-with-real-application-security.html#GUID-BDA0279D-FB0F-4704-9605-BFC8A24F0056">Oracle Fusion Middleware Integration with Real Application Security</a> for more information.) 
                     </p>
                     <p>Real Application Security also has users and roles for the application natively managed in the database, and these are referred to as Real Application Security application users and application roles (see <a href="configuring-application-users-and-application-roles.html#GUID-D6986696-8068-418F-914C-F33B9AD165DF" title="Describes Oracle Label Security support for Real Application Security users.">Configuring Application Users and Application Roles</a> for more information). 
                     </p>
                     <p>For external application users and application roles, Real Application Security does not manage user provisioning including users' role assignment. However, for native application users and application roles in the database, grants of application roles to application users, database roles to application roles, and application roles to application roles are managed in the database. Both Real Application Security application users and application roles, and external application users and application roles are supported in an application session, and can be used in a data security policy. An application privilege can be granted to users managed both in the identity store externally or in the database natively.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0__GUID-5383EAC7-ADAB-492B-956D-CD85B8CE313D">Application Session in Oracle Fusion Middleware</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>An application session represents an application user's runtime security context, which includes the user identity, database and application roles, and namespace attribute values. The application session here in Oracle Fusion Middleware is using externally managed user and roles. See <a href="configuring-application-sessions.html#GUID-B44ACBB0-AC90-439D-9CDE-541285C31328" title="Describes session privilege scoping through an ACL allowing per principal session privilege grants through an ACL set on the principal, where the principal can be either an application user or a dynamic role.Describes how to grant session privileges on a principal using an ACL while creating the user and after the user is already created.">Configuring Application Sessions</a> for more information about configuring an application session.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0__GUID-3CD534C3-DA84-4719-8E0F-904C91D0BAE0">Session Manager in Oracle Fusion Middleware</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>In Real Application Security, the session manager authorizes the application session operation and has the necessary privileges to create or modify the application session. The application code or application database connection should <span class="italic">not</span> have these privileges. To the database, the session manager is a Real Application Security direct logon user (see <span class="q">"<a href="configuring-application-users-and-application-roles.html#GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" title="Describes Oracle Label Security support for Real Application Security users.">About Creating a Direct Login Application User Account</a>"</span>). It communicates with the database at the beginning of application session service initialization to build a trust relation with the database server based on authorization credentials. This mechanism is used subsequently to further authorize the application session operations on behalf of the application.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EB70FAF0-323B-4BAF-9DF9-35E781AEB4B0__GUID-3B0DEDA6-1EEC-4552-AC25-57A6A3D8ECBE">Dynamic Roles in Oracle Fusion Middleware</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Other than the application roles, an application session supports a dynamic role. This is a type of Real Application Security role that must be defined natively in the database (see <span class="q">"<a href="configuring-application-users-and-application-roles.html#GUID-B2ED6DE8-38B8-4E57-A360-E44007ACCB7D">Dynamic Application Roles</a>"</span>). This role is not granted to the user or other roles. It must be enabled programmatically in the application session at run time. This can be done by the Real Application Security filter automatically or by the trusted application code explicitly.
                     </p>
                     <p>The dynamic role can be defined as request scope or session scope. Session scope means the enabled dynamic role is still enabled in the next attach, unless you explicitly specify that it is disabled in the next attach. Request scope means that the role is disabled after the application session is detached from the connection.</p>
                     <p>Dynamic role serves two general purposes:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Object privilege</p>
                           <p>An application user is not a database user. These object privileges can be granted to a Real Application Security dynamic role when application users and roles are provisioned in external identity stores. When the Real Application Security filter sets up the application session for the application user, it enables the dynamic role in every application session accessing the current application. The dynamic role is specific to the current application only.</p>
                        </li>
                        <li>
                           <p>Application Session privilege elevation</p>
                           <p>Certain trusted application code must temporarily have higher privileges in order to do some database operations. This is supported by enabling a Real Application Security dynamic role during application session attach from the trusted code declared using a Java code based policy. The role should be disabled upon detach.</p>
                           <p>One use case is application namespace setup where session namespace attributes are secured in Real Application Security in a fine grained manner. The namespace must be predefined at the database as a namespace template. Upon definition, in the associated ACL of the namespace authorization policy can be specified, that is, who (user/role) can do what (modify_namespace, modify_attribute) on the namespace. To ensure that only trusted application code can modify the namespace attributes, the privileges are granted to a dynamic role. Also, the dynamic role can only be programmatically enabled by certain trusted application code identified by Java code permission. This supports the use case that only the trusted code can set up certain namespaces.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG718"></a><a id="DBFSG717"></a><div class="props_rev_3"><a id="GUID-01DB7183-5FF7-402D-A9A8-6B03B599A40D" name="GUID-01DB7183-5FF7-402D-A9A8-6B03B599A40D"></a><h3 id="DBFSG-GUID-01DB7183-5FF7-402D-A9A8-6B03B599A40D" class="sect3">About Application Session Service in Oracle Fusion Middleware</h3>
               <div>
                  <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-01DB7183-5FF7-402D-A9A8-6B03B599A40D__BABJBJHA">Figure 8-1</a> shows application session service as it is implemented in Oracle Fusion Middleware. 
                  </p>
                  <div class="figure" id="GUID-01DB7183-5FF7-402D-A9A8-6B03B599A40D__BABJBJHA">
                     <p class="titleinfigure">Figure 8-1 Application Session Service in Oracle Fusion Middleware</p><img src="img/dbfsg_vm_005.png" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/dbfsg_vm_005.html"><br><a href="img_text/dbfsg_vm_005.html">Description of "Figure 8-1 Application Session Service in Oracle Fusion Middleware"</a></div>
                  <!-- class="figure" -->
                  <p>An application session service is an integrated solution with Oracle Fusion Middleware, to leverage Oracle Fusion Middleware to provide an application session at the database. In Oracle Fusion Middleware:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>The application user is authenticated by the container. In WLS, typically the authenticator works with the SSO server to authenticate the user.</p>
                     </li>
                     <li>
                        <p>The application user and group are managed by the Identity Store.</p>
                     </li>
                     <li>
                        <p>OPSS is an application security framework to set up the application security context based on the container's security context. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=JISEC1834" target="_blank"><span class="italic">Oracle Application Server Containers for J2EE Security Guide</span></a> for more information about application security with OPSS.
                        </p>
                     </li>
                  </ul>
                  <p>The <a id="d33792e496" class="indexterm-anchor"></a>Real Application Security servlet filter sets up the application session transparently and synchronizes the application session with the OPSS subject. The server filter code consists of a set of APIs that function in the application session to: 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d33792e504" class="indexterm-anchor"></a>Attach, detach, and destroy the session (see <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C6D4BB2D-5BF4-4123-859F-D545F4F43A2B">About Application Session APIs</a>"</span>)
                        </p>
                     </li>
                     <li>
                        <p><a id="d33792e515" class="indexterm-anchor"></a>Provide privilege elevation (see <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7DEA6BD4-9AC2-4019-9522-34A41787744D">About the Privilege Elevation API</a>"</span>)
                        </p>
                     </li>
                     <li>
                        <p>Provide <a id="d33792e527" class="indexterm-anchor"></a>namespace operations (see <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7C937814-DA08-49E0-9EBB-DD2340B4F211">About Namespace APIs</a>"</span>)
                        </p>
                     </li>
                     <li>
                        <p>Provide <a id="d33792e539" class="indexterm-anchor"></a>authorization (see <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-FC8BF034-6E5C-47DF-9713-7B9DD561C9A0">About the Check Privilege API</a>"</span>)
                        </p>
                     </li>
                  </ul>
                  <p>Real Application Security provides:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>APIs that support external users and roles in the application session</p>
                     </li>
                     <li>
                        <p>Authorizes the session operation through the session manager </p>
                     </li>
                     <li>
                        <p>Support for fine-grained access control on namespace</p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG719"></a><div class="props_rev_3"><a id="GUID-2D2C6243-6F27-41E0-89AD-1F4D1521BC93" name="GUID-2D2C6243-6F27-41E0-89AD-1F4D1521BC93"></a><h3 id="DBFSG-GUID-2D2C6243-6F27-41E0-89AD-1F4D1521BC93" class="sect3">About the Application Session Filter</h3>
               <div>
                  <p>The Real Application Security application session filter is a standard Java EE servlet filter that implements the <code class="codeph">javax.servlet.Filter</code> interface. The basic function of this filter is to set up an application session transparently according to the authenticated user's security context (OPSS Subject).
                  </p>
                  <p>This application session filter allows the application session to be continuously shared among applications. It cannot be created for every request, but must be tied to a stateful context and reused for the same user until logout. For web applications, the http session is such a context. It is maintained by the container for the same user's continuous access from logon until logout, across multiple single sign-on applications or containers. </p>
                  <p>The http session object is always accessible from the <code class="codeph">ServletFilter</code>, but may not be accessible from the generic application code.
                  </p>
                  <p>This section includes the following topic: <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-EB72DD51-F532-4228-80D3-78DE74EEA10B">About the Application Session Filter Operation</a>.
                  </p>
               </div><a id="DBFSG720"></a><div class="props_rev_3"><a id="GUID-EB72DD51-F532-4228-80D3-78DE74EEA10B" name="GUID-EB72DD51-F532-4228-80D3-78DE74EEA10B"></a><h4 id="DBFSG-GUID-EB72DD51-F532-4228-80D3-78DE74EEA10B" class="sect4">About the Application Session Filter Operation</h4>
                  <div>
                     <p>The application session filter sets up the application session in the following manner:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>It creates an application session at the user's first access.</p>
                           <p>If the user has been logged in, it creates the application session as the user in the authentication context (OPSS Subject). </p>
                           <p>If the user has not been logged in, it creates the application session as an anonymous user. </p>
                        </li>
                        <li>
                           <p>It reuses the existing application session instance for the user's subsequent access to the same application.</p>
                        </li>
                        <li>
                           <p>It shares the same application session among multiple applications when multiple applications access the same Real Application Security database.</p>
                        </li>
                        <li>
                           <p>It synchronizes the application session at the beginning of each http request to make sure the user and roles in the current application session are always synchronized with the authentication context (OPSS Subject), and only the configured dynamic roles are enabled for every application session.</p>
                           <p>The synchronization is done by pushing the OPSS Subject values to the server and getting back the server computed values for the current application session.</p>
                        </li>
                     </ul>
                     <p>User and roles in the application session are fixed once the filter is fired before application code execution. The filter is responsible for synchronizing the user and roles, not application code.</p>
                     <p>Application code is responsible for the namespace setup. The filter can only help to bring back the previous namespace. See <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7C937814-DA08-49E0-9EBB-DD2340B4F211">About Namespace APIs</a>"</span> for more information about namespace setup.
                     </p>
                     <p>The application session is cached locally based on the http session ID. The http session is managed by the container. Real Application Security has an application session listener to listen for the container's application session event. When the http session is invalidated by the container, the application session is removed from the local cache by the Real Application Security listener.</p>
                  </div>
               </div>
            </div><a id="DBFSG722"></a><a id="DBFSG721"></a><div class="props_rev_3"><a id="GUID-5E3146D1-DECF-4DE8-B84B-83C3088E42C7" name="GUID-5E3146D1-DECF-4DE8-B84B-83C3088E42C7"></a><h3 id="DBFSG-GUID-5E3146D1-DECF-4DE8-B84B-83C3088E42C7" class="sect3">About Deployment</h3>
               <div>
                  <p>Real Application Security application session service is delivered in one jar file, <code class="codeph">xsee.jar</code>. Oracle recommends that you deploy the <code class="codeph">xsee.jar</code> jar file to a common directory, not together with the web application (WAR file inside <code class="codeph">web-inf/lib</code>). In this way, you can separate the jar from application code, and grant some special code based permissions to only the <code class="codeph">xsee.jar</code> jar file, and not to the application code. 
                  </p>
                  <p>For the <code class="codeph">xsee.jar</code> jar file to get the session manager's credential from the CSF store, you must grant code based permission <code class="codeph">CredentialAccessPermission</code> to the <code class="codeph">xsee.jar</code> jar file. The filter internally uses Real Application Security session manager to authorize the session operation.
                  </p>
                  <p>In <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-5E3146D1-DECF-4DE8-B84B-83C3088E42C7__BABJHAFG">Example 8-1</a>, the <code class="codeph">xsee.jar</code> jar file is deployed to WLS's domain <code class="codeph">/lib</code> directory. The java policy file (<code class="codeph">system-jazn-data.xml</code>) has the <code class="codeph">CredentialAccessPermission</code> grant, assuming that the session manager's key/map is using the default value.
                  </p>
                  <p>For deployment instructions, see the section about standard Java EE deployment in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=INTRO206" target="_blank"><span class="italic">Understanding Oracle WebLogic Server</span></a>.
                  </p>
                  <p>For a simple and quick method of deploying an application for testing or evaluation, use Auto-Deployment. This is an easier way to deploy the application session service by packaging everything (class, <code class="codeph">web.xml</code>) in to one WAR file, and copying it to the Weblogic <code class="codeph">autodeploy</code> directory. See the section about auto-deploying applications in development domains in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=DEPGD254" target="_blank"><span class="italic">Deploying Applications to Oracle WebLogic Server</span></a>.
                  </p>
                  <p>To create the session manager's credential, see Step <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABJJACG">2</a> in <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9">Manual Configuration</a>"</span> for more information.
                  </p>
                  <div class="example" id="GUID-5E3146D1-DECF-4DE8-B84B-83C3088E42C7__BABJHAFG">
                     <p class="titleinexample">Example 8-1 Granting the Code-Based Permission CredentialAccessPermission to the xsee.jar File</p><pre class="oac_no_warn" dir="ltr">&lt;grant&gt;
            &lt;grantee&gt;
                &lt;codesource&gt;
                    &lt;url&gt;file:${domain.home}/lib/xsee.jar&lt;/url&gt;
                &lt;/codesource&gt;
            &lt;/grantee&gt;
            &lt;permissions&gt;
                &lt;permission&gt;
                    &lt;class&gt;oracle.security.jps.service.credstore.CredentialAccessPermission&lt;/class&gt;
                    &lt;name&gt;context=SYSTEM,mapName=oracle.rdbms.ras, keyName=default&lt;/name&gt;
                    &lt;actions&gt;read&lt;/actions&gt;
                &lt;/permission&gt;
            &lt;/permissions&gt;
 &lt;/grant&gt;
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBFSG724"></a><a id="DBFSG723"></a><div class="props_rev_3"><a id="GUID-6E4769A1-196E-4281-AB53-BBCC0837B962" name="GUID-6E4769A1-196E-4281-AB53-BBCC0837B962"></a><h3 id="DBFSG-GUID-6E4769A1-196E-4281-AB53-BBCC0837B962" class="sect3">About Application Configuration of the Application Session Filter</h3>
               <div>
                  <p>The filter is configured in the <a id="d33792e1154" class="indexterm-anchor"></a>application's <code class="codeph">web.xml</code> configuration file in a standard way. It can be configured to apply to only specific URLs. This avoids unnecessary application session setup for certain pages for which it does not need database access.The filter assumes that user authentication has been done and an authentication context has been established. In OPSS, the user's application context is computed at the OPSS filter, so the OPSS filter must be deployed ahead of the application session filter in the filter chain.The application session filter uses the following <code class="codeph">web.xml</code> parameters:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">application.datasource</code></p>
                        <p>The application uses this <code class="codeph">application.datasource</code> parameter. The application session filter requires this parameter for initialization, application session setup and namespace operations.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">dynamic.roles</code> 
                        </p>
                        <p>A list of Real Application Security dynamic roles to be used are separated by a comma(,). The dynamic roles must already be created at the database as session scope; otherwise, the following exception is thrown: <code class="codeph">ORA-46055: invalid role specified</code>.
                        </p>
                        <p>The roles are enabled for every application session in the current application, and automatically disabled in other applications. Note that these dynamic roles are enabled for the anonymous session. You should not over grant any privileges to dynamic roles if they are not needed for every application session. Normally, only object privileges should be granted to the dynamic roles.</p>
                        <p>For any tables not protected by Real Application Security, the application still has the flexibility to use the database connection pool user for access, not the application user. In that case, no attach application session API call is needed and no object privilege is granted to the dynamic roles.</p>
                     </li>
                     <li>
                        <p><code class="codeph">session.manager.pwd.key</code> and <code class="codeph">session.manager.pwd.map</code></p>
                        <p>The <code class="codeph">session.manager.pwd.key</code> parameter and the <code class="codeph">session.manager.pwd.map</code> parameter (fixed as <code class="codeph">oracle.rdbms.ras</code>) point to a credential (user ID and password) in the credential store. The <code class="codeph">session.manager.pwd.key</code> parameter is used to retrieve the session manager's credential. Currently, the OPSS CSF credential store is used to store the credential, and the CSF API is used to retrieve the credential at run time. In addition, both the session manager's user ID and password can be retrieved from the store.
                        </p>
                        <p>The default value is <code class="codeph">default</code> for the <code class="codeph">session.manager.pwd.key</code> parameter. If the application is using the default credential, then this parameter can be omitted.
                        </p>
                        <p>If an application wants to use a specific session manager, not the default credential, the application's administrator must create the credential with a different key name, and configure it using this parameter. See configuring the OPSS security store in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=JISEC2291" target="_blank"><span class="italic">Oracle Application Server Containers for J2EE Security Guide</span></a> for more information.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">session.manager.pool.min</code> and <code class="codeph">session.manager.pool.max</code></p>
                        <p>The session manager's connection is also used to query the data security policy (ACL) at the mid-tier. This connection is managed as a pool. The <code class="codeph">session.manager.pool.min</code> parameter determines the minimum size of the pool. This parameter is optional. The default value is 1.
                        </p>
                        <p>The <code class="codeph">session.manager.pool.max</code> parameter determines the maximum size of the pool. This parameter is optional. The default value is 3.
                        </p>
                        <p>If the privilege check is not needed, the pool size should be set to 1 for both <code class="codeph">session.manager.pool.min</code> and <code class="codeph">session.manager.pool.max</code> values. 
                        </p>
                     </li>
                  </ul>
                  <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-6E4769A1-196E-4281-AB53-BBCC0837B962__BABIHFHI">Example 8-2</a> shows an application session filter sample configuration that includes the servlet filter, its parameters, and the listener. Any parameters, which have default values, are omitted from this example.
                  </p>
                  <div class="example" id="GUID-6E4769A1-196E-4281-AB53-BBCC0837B962__BABIHFHI">
                     <p class="titleinexample">Example 8-2 Application Session Filter Sample Configuration </p><pre class="oac_no_warn" dir="ltr">&lt;filter&gt;
        &lt;filter-name&gt;ApplicationSessionFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;oracle.security.xs.ee.session.ApplicationSessionFilter&lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;application.datasource&lt;/param-name&gt;
            &lt;param-value&gt;jdbc/myDBDS&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;dynamic.roles&lt;/param-name&gt;
            &lt;param-value&gt;my_drole&lt;/param-value&gt;
        &lt;/init-param&gt;
&lt;/filter&gt;
&lt;listener&gt;
    &lt;description&gt;RAS Session Listener&lt;/description&gt;
    &lt;listener-class&gt;oracle.security.xs.ee.session.ApplicationSessionListener&lt;/listener-class&gt;
&lt;/listener&gt;
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBFSG725"></a><div class="props_rev_3"><a id="GUID-8658F999-8219-4E28-8C6D-349DA989B162" name="GUID-8658F999-8219-4E28-8C6D-349DA989B162"></a><h3 id="DBFSG-GUID-8658F999-8219-4E28-8C6D-349DA989B162" class="sect3">Domain Configuration: Setting Up an Application Session Service to Work with OPSS and Oracle Fusion Middleware</h3>
               <div>
                  <p>This section describes the prerequisites and configuration required for an application to use an application session service.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-E8503532-9859-4E58-A416-5E6C14FDA558">Prerequisites</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9">Manual Configuration</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-46069D84-A240-44E1-80EB-F841C78AA675">About Automatic Configuration</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG726"></a><div class="props_rev_3"><a id="GUID-E8503532-9859-4E58-A416-5E6C14FDA558" name="GUID-E8503532-9859-4E58-A416-5E6C14FDA558"></a><h4 id="DBFSG-GUID-E8503532-9859-4E58-A416-5E6C14FDA558" class="sect4">Prerequisites</h4>
                  <div>
                     <p>To use<a id="d33792e1508" class="indexterm-anchor"></a> Real Application Security, both the application session service and OPSS must be deployed and configured in a Oracle Fusion Middleware's Java EE container. 
                     </p>
                     <p>For WebLogic server, the prerequisites include:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>A JRF based WLS domain (OPSS is built-in) certified with the Oracle database 12<span class="italic">c</span> JDBC driver. The required JDBC jars could be many, not just one driver jar depending on the features you need (UCP, I18N, SQLXML and so forth).
                           </p>
                        </li>
                        <li>
                           <p>Oracle Database 12<span class="italic">c</span> Release 1 (12.1) and later
                           </p>
                        </li>
                     </ul>
                     <p>For WebLogic server 10.3.6 and 12.1.2 JRF release (part of Oracle Fusion Middleware), the JDBC driver shipped is not Oracle Database 12<span class="italic">c</span> compatible. You must obtain the Oracle Database 12<span class="italic">c</span> JDBC jars (<code class="codeph">ojdbc6.jar</code> or <code class="codeph">ojdbc7.jar</code> and other matched jars depending on the features you need), and add these jars to the front of your WebLogic Server's classpath. For detailed instruction, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=JDBCA263" target="_blank"><span class="italic">Administering JDBC Data Sources for Oracle WebLogic Server</span></a>, Section B.
                     </p>
                     <p>If there is version mismatch between the JDBC driver and the database, the Real Application Security filter initialization fails with an error message. For example, </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>If the Oracle Database 11<span class="italic">g</span> JDBC driver is being used with Oracle Database 12<span class="italic">c</span>, the following error message appears in the server log: <code class="codeph">Fail to initialize RAS session manager due to method missing</code>. 
                           </p>
                        </li>
                        <li>
                           <p>If the Oracle Database 12<span class="italic">c</span> JDBC driver is being used with Oracle Database 11<span class="italic">g</span>, the following error message appears in the server log: <code class="codeph">ORA-00439: feature not enabled: Fusion Security</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG727"></a><div class="props_rev_3"><a id="GUID-D694C0E7-F342-497E-8DD8-56782835A6A9" name="GUID-D694C0E7-F342-497E-8DD8-56782835A6A9"></a><h4 id="DBFSG-GUID-D694C0E7-F342-497E-8DD8-56782835A6A9" class="sect4">Manual Configuration</h4>
                  <div>
                     <div class="section">
                        <p>Follow these manual configuration steps for an application to use an application session service. These steps should work for both WebLogic 10.3.6 and 12.1.2, JRF release.</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand" id="GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABEIAEG"><span>Install the Real Application Security jars.</span><div>
                              <p>Copy the <code class="codeph">xsee.jar</code> and <code class="codeph">xs.jar</code> (<code class="codeph">ORACLE_HOME/jlib/</code>) to a common directory that applications can consume. For WebLogic, a good location is <code class="codeph">DOMAIN_HOME/lib</code>. This allows Real Application Security jars to be shared by many applications deployed in the same domain.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABJJACG"><span>Create a Real Application Security session manager credential.</span><div>
                              <p>As discussed in <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-6E4769A1-196E-4281-AB53-BBCC0837B962">About Application Configuration of the Application Session Filter</a>"</span>, a session manager's credential must be created in OPSS's credential store. This can be done using an OPSS script. For details about how to use OPSS script, see the section about the OPSS script in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=JISEC2936" target="_blank"><span class="italic">Oracle Application Server Containers for J2EE Security Guide</span></a>.
                              </p><pre class="oac_no_warn" dir="ltr">createCred(map='oracle.rdbms.ras', key='default', user='myUsr', password='myPassword')  
</pre><p>The session manager's credential is stored in the default credential store, which is configured for the domain. The <code class="codeph">map</code> name must be <code class="codeph">oracle.rdbms.ras</code>, which is predefined for the Real Application Security application session service. This is fixed and cannot be changed.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABHDIIH"><span>Grant code permission to the Real Application Security jar files.</span><div>
                              <p>As discussed in <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-5E3146D1-DECF-4DE8-B84B-83C3088E42C7">About Deployment</a>"</span>, the CSF permission must be granted to the <code class="codeph">xsee.jar</code> file. This is also done using OPSS script.
                              </p><pre class="oac_no_warn" dir="ltr">grantPermission(codeBaseURL='file:${domain.home}/lib/xsee.jar', permClass='oracle.security.jps.service.credstore.CredentialAccessPermission',  permTarget='context=SYSTEM,mapName=oracle.rdbms.ras,keyName=*', permActions='read')
</pre><p>Note that the above <code class="codeph">keyName (*)</code> is for all keys. No further grants are needed for a non-default key, if it is created for a specific application.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABGEEEA"><span>Configure <code class="codeph">web.xml</code>, invoke Real Application Security APIs (attach/detach), and build/deploy the application. See <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-6E4769A1-196E-4281-AB53-BBCC0837B962__BABIHFHI">Example 8-2</a> to see how <code class="codeph">web.xml</code> is configured.</span><div>
                              <p>These are standard Java EE development procedures.</p>
                              <p>If the <code class="codeph">attachSessionPrivileged</code> API is invoked in the application code, <code class="codeph">SessionCodePermission</code> must be granted to the application code as discussed in <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7DEA6BD4-9AC2-4019-9522-34A41787744D">About the Privilege Elevation API</a>"</span>. That is similar to step <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABHDIIH">3</a>. Here is an example:
                              </p><pre class="oac_no_warn" dir="ltr">grantPermission(codeBaseURL='file:${domain.home}/servers/DefaultServer/tmp/_WL_user/MyWar/pi47ig/war/WEB-INF/lib/trusted.jar', permClass=' oracle.security.xs.ee.session.SessionCodePermission',  permTarget=' MY_NS_DROLE, permActions='attach')
grantPermission(codeBaseURL='file:${domain.home}/lib/xsee.jar', permClass=' oracle.security.xs.ee.session.SessionCodePermission',  permTarget=' MY_NS_DROLE, permActions='attach')
</pre><p>OPSS scripts require that the WLS administrative server is running. This manual approach only supports online configuration. Step <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABGEEEA">4</a> is always the responsibility of the application administrator, while Steps <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABEIAEG">1</a> through <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABHDIIH">3</a> can be automated as discussed in <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-46069D84-A240-44E1-80EB-F841C78AA675">About Automatic Configuration</a>"</span>.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DBFSG728"></a><div class="props_rev_3"><a id="GUID-46069D84-A240-44E1-80EB-F841C78AA675" name="GUID-46069D84-A240-44E1-80EB-F841C78AA675"></a><h4 id="DBFSG-GUID-46069D84-A240-44E1-80EB-F841C78AA675" class="sect4">About Automatic Configuration</h4>
                  <div>
                     <p>With Oracle Fusion Middleware, you can use a configuration utility to configure common settings for a group of applications. For WebLogic, this is the domain configuration wizard. In a future WLS release (release 12.1.3), the Steps <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABEIAEG">1</a> through <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABHDIIH">3</a> (in <span class="q">"<a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9">Manual Configuration</a>"</span>) could be automated by this configuration wizard. This automatic approach also has the advantage of supporting offline configuration (when the administrative server is not running).
                     </p>
                     <p>When the configuration wizard is started (<code class="codeph">&lt;ORACLE_HOME&gt;/oracle_common/common/bin/config.sh</code>), the following user interfaces (UIs) will be shown to prompt for Real Application Security configuration information.
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>In the first UI, the application session service is shown as one of the Oracle Fusion Middleware features for selection. Once selected, its dependency (OPSS, part of JRF) is automatically selected.</p>
                        </li>
                        <li>
                           <p>In the second UI, you are prompted to enter the default session manager's credential.</p>
                        </li>
                     </ul>
                     <p>There is no UI for granting code permission. This is automatically done by merging a predefined xml file to the domain's <code class="codeph">system-jazn-data.xml</code> file. The predefined xml file contains all the Real Application Security code permission grants that are needed.
                     </p>
                     <p>If the administrator decides to use a different session manager for an application, then the administrator must complete manual Step <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-D694C0E7-F342-497E-8DD8-56782835A6A9__BABJJACG">2</a> or add a special key name from the UI. The same key name must be passed to the application's <code class="codeph">web.xml</code>. In this case, the map name (store name) is still fixed as <code class="codeph">oracle.rdbms.ras</code>, and you do not need to grant code permission because all keys have already been granted internally.
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG729"></a><div class="props_rev_3"><a id="GUID-9ED4C2EC-1ACD-4753-9F5E-D4E6E0BB27F2" name="GUID-9ED4C2EC-1ACD-4753-9F5E-D4E6E0BB27F2"></a><h3 id="DBFSG-GUID-9ED4C2EC-1ACD-4753-9F5E-D4E6E0BB27F2" class="sect3">About Application Session APIs</h3>
               <div>
                  <p>All application session APIs are exposed through class <code class="codeph">ApplicationSessionService</code> as static methods. The APIs operate on the current application session, which is set up based on the current Subject. Inside each API, an identity assertion is performed internally, to make sure the current application session matches the subject. If a mismatch is found, an <code class="codeph">ApplicationSesseionException</code> exception is thrown. The caller code of the application session API should always be executed inside <code class="codeph">Subject.doAs</code>, to be invoked as the subject. See the <a href="http://docs.oracle.com/javase/7/docs/api/javax/security/auth/Subject.html" target="_blank">JDK's</a> <code class="codeph">Subject.doAs</code> for more information. 
                  </p>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C6D4BB2D-5BF4-4123-859F-D545F4F43A2B">About Application Session APIs</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7DEA6BD4-9AC2-4019-9522-34A41787744D">About the Privilege Elevation API</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7C937814-DA08-49E0-9EBB-DD2340B4F211">About Namespace APIs</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-FC8BF034-6E5C-47DF-9713-7B9DD561C9A0">About the Check Privilege API</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG730"></a><div class="props_rev_3"><a id="GUID-C6D4BB2D-5BF4-4123-859F-D545F4F43A2B" name="GUID-C6D4BB2D-5BF4-4123-859F-D545F4F43A2B"></a><h4 id="DBFSG-GUID-C6D4BB2D-5BF4-4123-859F-D545F4F43A2B" class="sect4">About Application Session APIs</h4>
                  <div>
                     <div class="p">This section describes the following topics:
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-465ED9A4-4136-4038-876C-AA2E68A93E27">About Attaching to an Application Session</a></p>
                           </li>
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3">Detaching from an Application Session</a></p>
                           </li>
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-102B0761-3B5D-4B6C-A077-11F89E196663">Destroying an Application Session</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG732"></a><a id="DBFSG733"></a><a id="DBFSG734"></a><a id="DBFSG731"></a><div class="props_rev_3"><a id="GUID-465ED9A4-4136-4038-876C-AA2E68A93E27" name="GUID-465ED9A4-4136-4038-876C-AA2E68A93E27"></a><h5 id="DBFSG-GUID-465ED9A4-4136-4038-876C-AA2E68A93E27" class="sect5">About Attaching to an Application Session</h5>
                     <div>
                        <p>Attach the current user's application session to the given database connection.</p>
                        <p>For application code to attach to the current user's application session, no code based permission is needed. The application session works as is, no extra privilege is elevated through the attach.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-465ED9A4-4136-4038-876C-AA2E68A93E27__GUID-D22DFB5D-4BFB-4E0E-AD41-1E79D6055C03">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void attachSession(java.sql.Connection conn)
                          throws ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-465ED9A4-4136-4038-876C-AA2E68A93E27__GUID-487C777F-12BA-4AFF-B805-A59F7CA71634">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-465ED9A4-4136-4038-876C-AA2E68A93E27__GUID-638CD16A-2C4B-4CA8-B80E-3980B332AD69">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e2389">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e2392">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e2397" headers="d33792e2389 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e2397 d33792e2392 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-465ED9A4-4136-4038-876C-AA2E68A93E27__GUID-F8A607F2-949E-4C96-A8E2-DE5581CDD00B">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>See <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3__BABECEAC">Example 8-3</a> and <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">Example 8-6</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG736"></a><a id="DBFSG737"></a><a id="DBFSG738"></a><a id="DBFSG739"></a><a id="DBFSG735"></a><div class="props_rev_3"><a id="GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3" name="GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3"></a><h5 id="DBFSG-GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3" class="sect5">Detaching from an Application Session</h5>
                     <div>
                        <div class="section">
                           <p>Detach the current user's application session from the given database connection.</p>
                           <p>It is always a good practice to detach the application session at the application code's final block. Not doing so may give an attached connection to some code that is not running under the correct user. It is caller's responsibility to properly detach the application session once used.</p>
                           <p>If detach is not called, but attach is called again on the same connection, the server forces the detach from the previous attached application session, and attaches to the current application session.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3__GUID-9C43F94D-DC34-44D8-A9D8-6924A6934227">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void detachSession(java.sql.Connection conn)
                          throws ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3__GUID-9A0E9C2A-7EEE-4C8F-9F0A-C9F40B43DDC8">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3__GUID-6FF6BF9E-8DDE-4B40-BAF7-58E315E4C627">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e2555">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e2558">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e2563" headers="d33792e2555 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e2563 d33792e2558 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3__GUID-25B1A32D-0088-46D3-9720-76E79F31C367">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3__BABECEAC">Example 8-3</a> shows sample code that uses the attach and detach API with a database query. The caller must decide the boundary of the attach and detach calls, based on the needs of the query.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-7BC0D04B-FD33-4FF7-86F0-F68D24C087F3__BABECEAC">
                           <p class="titleinexample">Example 8-3 Application Session APIs: AttachSession and DetachSession</p><pre class="oac_no_warn" dir="ltr">/**
  * Typical application code calling attach/detach for database query
  */
public void queryHR(Connection conn) {
      String query = " select emp.employee_id, emp.salary from hr.employees emp";
      Statement stmt = null;
      ResultSet rs = null;
      String id, salary;
      try {
        // attach connection to the current application session
        <span class="bold">ApplicationSessionService.attachSession(conn);</span>
        stmt = conn.createStatement();
        rs = stmt.executeQuery(query);      
        while (rs.next()) {
          id = rs.getString("employee_id");
          salary = rs.getString("salary");
        }
      } catch (ApplicationSessionException e) {
      } catch (SQLException e) {
      } finally {   
         // detach the current application session from the connection
         try { <span class="bold">ApplicationSessionService.detachSession(conn);</span> } catch (Exception e) {}
         if (stmt != null) try {stmt.close();} catch (SQLException e) {};
         if (rs != null) try { rs.close();} catch (SQLException e{};
      }  
    }
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG741"></a><a id="DBFSG742"></a><a id="DBFSG743"></a><a id="DBFSG744"></a><a id="DBFSG740"></a><div class="props_rev_3"><a id="GUID-102B0761-3B5D-4B6C-A077-11F89E196663" name="GUID-102B0761-3B5D-4B6C-A077-11F89E196663"></a><h5 id="DBFSG-GUID-102B0761-3B5D-4B6C-A077-11F89E196663" class="sect5">Destroying an Application Session</h5>
                     <div>
                        <div class="section">
                           <p>Destroys the current application session at the database, and removes it from current thread's execution context. This should be invoked by the application at logout. It destroys the current application session originally set up by the filter.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-102B0761-3B5D-4B6C-A077-11F89E196663__GUID-CCA2C9FA-BED4-4772-BF2F-9FE0ABD2FB1B">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void destroySession(java.sql.Connection conn)
                           throws ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-102B0761-3B5D-4B6C-A077-11F89E196663__GUID-3365D10B-F061-4484-A45D-8F5640E4F37E">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-102B0761-3B5D-4B6C-A077-11F89E196663__GUID-D3D370E6-7103-41A7-AD3E-27F84E75F2F3">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e2726">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e2729">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e2734" headers="d33792e2726 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e2734 d33792e2729 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-102B0761-3B5D-4B6C-A077-11F89E196663__GUID-B000A66A-4834-4BAC-A630-754AEFEE17F8">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-102B0761-3B5D-4B6C-A077-11F89E196663__BABEIBBA">Example 8-4</a> shows sample code that destroys the application session service.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-102B0761-3B5D-4B6C-A077-11F89E196663__BABEIBBA">
                           <p class="titleinexample">Example 8-4 Application Session APIs: DestroySession</p><pre class="oac_no_warn" dir="ltr">    void doLogout(HttpServletRequest request) {
 
        DataSource dataSource = null;
        Connection conn = null;
 
 
        try {
            InitialContext ic;
            try {
                ic = new InitialContext();
 
                dataSource = (DataSource)ic.lookup("jdbc/myDBDS");
 
                if (dataSource != null)
                    try {
                        conn = dataSource.getConnection();
                    } catch (SQLException e) {
                        e.printStackTrace();
                    }
            } catch (NamingException e) {
                e.printStackTrace();
            }
            // invalidate Http session
            request.getSession().invalidate();
            // destroy XS session at DB
            ApplicationSessionService.<span class="bold">destroySession</span>(conn);
 
        } catch (ApplicationSessionException e) {
            e.printStackTrace();
        } finally {
 
            if (conn != null)
                try {
                    conn.close();
                } catch (SQLException e) {
                }
        }
 
    }
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG745"></a><div class="props_rev_3"><a id="GUID-7DEA6BD4-9AC2-4019-9522-34A41787744D" name="GUID-7DEA6BD4-9AC2-4019-9522-34A41787744D"></a><h4 id="DBFSG-GUID-7DEA6BD4-9AC2-4019-9522-34A41787744D" class="sect4">About the Privilege Elevation API</h4>
                  <div>
                     <p>This section describes the following topic: <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-11B01617-D414-41F8-B579-84DDCFE00423">Enabling a Dynamic Role in the Application Session</a>.
                     </p>
                  </div><a id="DBFSG747"></a><a id="DBFSG748"></a><a id="DBFSG749"></a><a id="DBFSG751"></a><a id="DBFSG750"></a><a id="DBFSG746"></a><div class="props_rev_3"><a id="GUID-11B01617-D414-41F8-B579-84DDCFE00423" name="GUID-11B01617-D414-41F8-B579-84DDCFE00423"></a><h5 id="DBFSG-GUID-11B01617-D414-41F8-B579-84DDCFE00423" class="sect5">Enabling a Dynamic Role in the Application Session</h5>
                     <div>
                        <div class="section">
                           <p>Attaches the current application session to a given database connection, and enables the Real Application Security dynamic role in the attached application session. This allows trusted application code to have higher privileges temporarily in order to perform some database operations, such as setting up application namespace.</p>
                           <p>This is for certain trusted application code to elevate the application session privilege. A Real Application Security dynamic role is enabled during attach. The trusted code is identified by java code permission. </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11B01617-D414-41F8-B579-84DDCFE00423__GUID-9704F9FC-713F-476B-90EA-5FF02632A3E0">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void attachSessionPrivileged(java.sql.Connection conn,
                                           java.lang.String role)
                                    throws ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11B01617-D414-41F8-B579-84DDCFE00423__GUID-53A79CF9-EB68-4C07-BE28-E144E3F60EFA">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-11B01617-D414-41F8-B579-84DDCFE00423__GUID-0B37C6D7-E02E-411F-A185-8EF24EFDA922">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e3019">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e3022">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3027" headers="d33792e3019 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3027 d33792e3022 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3035" headers="d33792e3019 ">
                                          <p><code class="codeph">role</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3035 d33792e3022 ">
                                          <p>The given dynamic role; must be request scope</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11B01617-D414-41F8-B579-84DDCFE00423__GUID-0CE16A1A-C48D-4169-ABA9-4AAC2962AD31">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Each given dynamic role is associated with a code base permission as shown in <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-11B01617-D414-41F8-B579-84DDCFE00423__BABCBFFD">Example 8-5</a> (permission grant in <code class="codeph">jazn-data.xml</code>)
                           </p>
                           <p>See <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">Example 8-6</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11B01617-D414-41F8-B579-84DDCFE00423__GUID-1701827A-C2EE-4CBD-BCF0-0476FF940131">Usage Notes</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The permission is always checked internally in the API, whether the java security manager is on or off. If the caller has the permission (that implies that the given role also matches the role defined in the policy file), the given dynamic role is enabled during attach; otherwise, the API fails with an <code class="codeph">AccessControlException</code>.
                           </p>
                           <p>The caller code (<code class="codeph">caller.jar</code> file) and application session service code (<code class="codeph">xsee.jar</code>) should both have the <code class="codeph">SessioncodePermission</code> permission. This is sufficient when the <code class="codeph">caller.jar</code> is invoked directly by the container. When <code class="codeph">caller.jar</code> is invoked by another application code, it is up to the caller to decide whether the application code needs to have this permission. If the caller does not need the application to have this permission, the caller can invoke <code class="codeph">attachSessionPrivileged</code> under <code class="codeph">AccessController.doPrivileged</code> with a null <code class="codeph">AccessControllerContext</code>. See the Java API for details. By doing this, the <code class="codeph">caller.jar</code> fully trusts the application code.
                           </p>
                           <p>Note that the dynamic role is only enabled on the attached application session, not the current application session. It is enabled within the window of attach and detach. The dynamic role must be defined as request scope at the database; otherwise, the following exception <code class="codeph">ORA-46055: invalid role specified</code> is thrown.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-11B01617-D414-41F8-B579-84DDCFE00423__BABCBFFD">
                           <p class="titleinexample">Example 8-5 Privilege Elevation API</p><pre class="oac_no_warn" dir="ltr">&lt;grant&gt;
            &lt;grantee&gt;
                &lt;codesource&gt;
                    &lt;url&gt;file:${domain.home}/servers/DefaultServer/tmp/_WL_user/MyWar/pi47ig/war/WEB-INF/lib/trusted.jar' &lt;/url&gt;
                &lt;/codesource&gt;
            &lt;/grantee&gt;
            &lt;permissions&gt;
                &lt;permission&gt;
                    &lt;class&gt;oracle.security.xs.ee.session.SessionCodePermission&lt;/class&gt;
                    &lt;name&gt; MY_NS_DROLE&lt;/name&gt;
                    &lt;actions&gt;attach &lt;/actions&gt;
                &lt;/permission&gt;
            &lt;/permissions&gt;
        &lt;/grant&gt;
        &lt;grant&gt;
            &lt;grantee&gt;
                &lt;codesource&gt;
                    &lt;url&gt;file:${domain.home}/lib/xsee.jar&lt;/url&gt;
                &lt;/codesource&gt;
            &lt;/grantee&gt;
            &lt;permissions&gt;
                &lt;permission&gt;
                    &lt;class&gt;oracle.security.xs.ee.session.SessionCodePermission&lt;/class&gt;
                    &lt;name&gt;MY_NS_DROLE&lt;/name&gt;
                    &lt;actions&gt;attac &lt;/actions&gt;
                &lt;/permission&gt;
            &lt;/permissions&gt;
        &lt;/grant&gt;
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG752"></a><div class="props_rev_3"><a id="GUID-7C937814-DA08-49E0-9EBB-DD2340B4F211" name="GUID-7C937814-DA08-49E0-9EBB-DD2340B4F211"></a><h4 id="DBFSG-GUID-7C937814-DA08-49E0-9EBB-DD2340B4F211" class="sect4">About Namespace APIs</h4>
                  <div>
                     <div class="p">This section describes the following topics:
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D">About Creating a Namespace</a></p>
                           </li>
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F">About Deleting a Namespace</a></p>
                           </li>
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4">About Setting the Namespace Attribute</a></p>
                           </li>
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B">About Deleting a Namespace Attribute</a></p>
                           </li>
                           <li>
                              <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983">Getting a Namespace Attribute</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG754"></a><a id="DBFSG755"></a><a id="DBFSG756"></a><a id="DBFSG753"></a><div class="props_rev_3"><a id="GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D" name="GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D"></a><h5 id="DBFSG-GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D" class="sect5">About Creating a Namespace</h5>
                     <div>
                        <p>Creates a namespace in the current application session. The namespace given must be predefined at the database, and the namespace ACL must allow the attached application session to perform a <code class="codeph">MODIFY_NAMESPACE</code> operation, unless the <code class="codeph">ADMIN_ANY_NAMESPACE</code> privilege is enabled in the application session.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D__GUID-9A77C44D-0DE0-4E9F-870B-8E1BA4A20C9D">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void createNamespace(java.sql.Connection conn,
                                   java.lang.String name)
                            throws ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D__GUID-D03D6FDB-FD3C-4D4B-9AB3-14681692EE47">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D__GUID-2AE460C3-AEFF-4335-B619-80C4223E18E0">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e3389">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e3392">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3397" headers="d33792e3389 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3397 d33792e3392 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3405" headers="d33792e3389 ">
                                          <p><code class="codeph">name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3405 d33792e3392 ">
                                          <p>The given namespace name</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-09363E90-8B85-4330-9F5D-86AF3B5B1D3D__GUID-9A15ECAF-2087-4051-A0FC-733D4CCA10D8">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>See <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">Example 8-6</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG758"></a><a id="DBFSG759"></a><a id="DBFSG760"></a><a id="DBFSG757"></a><div class="props_rev_2"><a id="GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F" name="GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F"></a><h5 id="DBFSG-GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F" class="sect5">About Deleting a Namespace</h5>
                     <div>
                        <p>Deletes a namespace from the current application session. The namespace given must be predefined at the database, and the namespace ACL must allow the attached application session to perform a <code class="codeph">MODIFY_NAMESPACE</code> operation, unless the <code class="codeph">ADMIN_ANY_NAMESPACE</code> privilege is enabled in the application session.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F__GUID-22328236-5A05-49A0-901A-F263B8CE12D7">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void deleteNamespace(java.sql.Connection conn,
                                   java.lang.String name)
                            throws NamespaceNotFoundException,
                                   ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F__GUID-57D48517-0B68-4D6C-9265-CAAAAA49FF56">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F__GUID-0ED24499-DE42-4BFC-A9AD-D233A9C160F6">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e3561">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e3564">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3569" headers="d33792e3561 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3569 d33792e3564 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3577" headers="d33792e3561 ">
                                          <p><code class="codeph">name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3577 d33792e3564 ">
                                          <p>The given namespace name.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-15E658A5-7CE0-4E16-A1F6-EB81C4893E0F__GUID-0F078184-F263-4241-A12E-88271950665D">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>See <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">Example 8-6</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG762"></a><a id="DBFSG763"></a><a id="DBFSG764"></a><a id="DBFSG761"></a><div class="props_rev_3"><a id="GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4" name="GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4"></a><h5 id="DBFSG-GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4" class="sect5">About Setting the Namespace Attribute</h5>
                     <div>
                        <p>Sets the attribute value to the namespace in the current application session. The namespace given must be predefined at the database, and the namespace ACL must allow the attached application session to perform a <code class="codeph">MODIFY_ATTRIBUTE</code> operation, unless the <code class="codeph">ADMIN_ANY_NAMESPACE</code> privilege is enabled in the application session.
                        </p>
                        <p>If the attribute does not exist on the namespace, the API creates the attribute with the given value; otherwise, it simply sets the existing value to the given value.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4__GUID-50BD1403-7EF5-478A-B5BE-A428CEFE850C">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void setNamespaceAttribute(java.sql.Connection conn,
                                         java.lang.String name,
                                         java.lang.String attribute,
                                         java.lang.String value)
                                  throws NamespaceNotFoundException,
                                         ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4__GUID-ED1C0067-9156-4413-A297-B2A2CF666779">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4__GUID-C35263EA-4102-4F05-A785-36DE8E83D8F3">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e3736">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e3739">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3744" headers="d33792e3736 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3744 d33792e3739 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3752" headers="d33792e3736 ">
                                          <p><code class="codeph">name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3752 d33792e3739 ">
                                          <p>The given namespace name</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3760" headers="d33792e3736 ">
                                          <p><code class="codeph">attribute</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3760 d33792e3739 ">
                                          <p>The given namespace attribute name</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3768" headers="d33792e3736 ">
                                          <p><code class="codeph">value</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3768 d33792e3739 ">
                                          <p>The given namespace attribute value</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-50E5C1B4-35CC-447C-A8BB-5BE5EB8676E4__GUID-67618963-D55D-4BBC-B5E1-E1D5A70F4A42">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>See <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">Example 8-6</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG766"></a><a id="DBFSG767"></a><a id="DBFSG768"></a><a id="DBFSG765"></a><div class="props_rev_3"><a id="GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B" name="GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B"></a><h5 id="DBFSG-GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B" class="sect5">About Deleting a Namespace Attribute</h5>
                     <div>
                        <p>Deletes the attribute from the namespace in the current application session. The namespace given must be predefined at the database, and the namespace ACL must allow the attached application session to perform a <code class="codeph">MODIFY_ATTRIBUTE</code> operation, unless the <code class="codeph">ADMIN_ANY_NAMESPACE</code> privilege is enabled in the application session.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B__GUID-1DF9B7CA-43FE-438E-88D6-F0666E765A4D">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static void deleteNamespaceAttribute(java.sql.Connection conn,
                                            java.lang.String name,
                                            java.lang.String attribute)
                                     throws NamespaceNotFoundException,
                                            ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B__GUID-136959D2-3FCD-4A3A-9812-AA5A688B405C">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B__GUID-AE60B0FA-9B4A-4760-A404-38074DB6892D">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e3924">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e3927">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3932" headers="d33792e3924 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3932 d33792e3927 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3940" headers="d33792e3924 ">
                                          <p><code class="codeph">name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3940 d33792e3927 ">
                                          <p>The given namespace name</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e3948" headers="d33792e3924 ">
                                          <p><code class="codeph">attribute</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e3948 d33792e3927 ">
                                          <p>The given namespace attribute name</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34BC90F3-3325-4F2C-8936-79ADCA99DC8B__GUID-9741102E-D69A-421A-BF23-04080DB7A7A4">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>See <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">Example 8-6</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG770"></a><a id="DBFSG771"></a><a id="DBFSG772"></a><a id="DBFSG774"></a><a id="DBFSG773"></a><a id="DBFSG769"></a><div class="props_rev_3"><a id="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983" name="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983"></a><h5 id="DBFSG-GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983" class="sect5">Getting a Namespace Attribute</h5>
                     <div>
                        <div class="section">
                           <p>Gets the attribute from the namespace in the current application session. The given namespace must be created. No database connection is needed and no privilege is checked for this operation. </p>
                           <p>The APIs that change namespace (other than <code class="codeph">getNamespaceAttribute</code>) have a database connection as an input parameter. Those APIs update the namespace in the current application session in the JVM, as well as serialize the change to the database table. The connection must be attached. It uses the attached application session to determine whether the server can authorize the namespace change.
                           </p>
                           <p>To allow <span class="italic">only</span> certain trusted application code to set up namespace. The connection can be attached with a dynamic role, which has elevated privileges (<code class="codeph">MODIFY_NAMESPACE</code>, <code class="codeph">MODIFY_ATTRIBUTE</code>) on the namespace. This is achieved using the <code class="codeph">attachSessionPrivileged</code> API, and only granting the namespace privileges to the dynamic role.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__GUID-30C9F602-8AF5-4662-8E10-F4D967C6FF13">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static java.lang.String getNamespaceAttribute(java.lang.String name,
                                                     java.lang.String attribute)
                                              throws NamespaceNotFoundException,
                                                     ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__GUID-34EFD412-1337-4F24-8636-C20CEF0597CE">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__GUID-0BC8D846-40EB-4161-93A7-FFCBB4B84599">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e4120">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e4123">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e4128" headers="d33792e4120 ">
                                          <p><code class="codeph">name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e4128 d33792e4123 ">
                                          <p>The given namespace name</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e4136" headers="d33792e4120 ">
                                          <p><code class="codeph">attribute</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e4136 d33792e4123 ">
                                          <p>The given namespace attribute name</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__GUID-3E31813B-B2E1-4064-8C2B-21510228E81A">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">Example 8-6</a> shows a sample servlet filter that sets up namespace using namespace APIs and uses the application session privilege elevation API.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__GUID-EDBDD8B0-9E79-4307-B145-CB1C2BA7552F">Important Points to Know About Using Application Namespace</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following usage information summarizes important points about using application namespace.</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>The Real Application Security filter caches all the application namespace to the current application session.</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>For first time access, a new application session must be created in the database. No application namespace has been set up yet at this time. </p>
                                    </li>
                                    <li>
                                       <p>For the user's subsequent access, the filter always brings all the namespaces created for the application session, and caches them in the current application session in JVM.</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Application code always accesses namespace from the current application session. Each update operation is a round trip to the server to change the values in the table and current application session (JVM). That is why each update API has a database connection parameter. However, the read attribute is a local operation to read from the current application session in JVM without accessing the database.</p>
                              </li>
                              <li>
                                 <p>Whenever a namespace change is successfully done, the change is propagated to the already attached application sessions, as well as newly attached application sessions because all these attached application sessions refer to the single source - the current application session.</p>
                              </li>
                              <li>
                                 <p>The namespace in the current application session is consistent within an http request scope for the web application. Even the namespace can be changed at any time by other applications. The change is only picked up once at the beginning of the current http request by the Real Application Security filter. All attaches that happen within the same http request refer to the same namespace in the current application session.</p>
                              </li>
                              <li>
                                 <p>Application code has complete control for changing the namespace value. It can read the current application session's namespace at any time and decide whether to update the namespace by calling the namespace APIs. </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-C08DF9B6-BD9F-486B-9F0A-924DA0EB3983__BABCBCJA">
                           <p class="titleinexample">Example 8-6 Namespace APIs</p><pre class="oac_no_warn" dir="ltr">/**
  * Trusted application code (servlet filter) sets up namespace
  * Using privilege elevation and namespace APIs
  */
public void doFilter(ServletRequest request, ServletResponse response,  FilterChain chain) throws IOException, ServletException {
   Connection conn = null;
   try {
     conn = myDatasource.getConnection();
     // Attach an application session with a dynamic role.
     ApplicationSessionService.<span class="bold">attachSessionPrivileged</span>(conn, "myNSRole");
     try {
       // Get the current value.
       String currentValue = ApplicationSessionService.<span class="bold">getNamespaceAttribute</span>("mySecuredNS", "myAttribute");
       // If the current value is not desired, set it.
       if  ("myValue".compareToIgnoreCase(currentValue) != 0)
          ApplicationSessionService.<span class="bold">setNamespaceAttribute</span>(conn, "mySecuredNS", "myAttribute", "myValue");             
     } catch (NamespaceNotFoundException e) {
       // Namespace is not found, create it.
       ApplicationSessionService.<span class="bold">createNamespace</span>(conn, "mySecuredNS");
       // Set the attribute.
       ApplicationSessionService.<span class="bold">setNamespaceAttribute</span>(conn, "mySecuredNS", "myAttribute", "myValue");            
     }
   } catch (SQLException e) {
   } catch (ApplicationSessionException e) {
   } finally {
     // Detach an application session.
     try { ApplicationSessionService.detachSession(conn); } catch (Exception e) {}
     if (conn != null) try { conn.close();} catch (Exception e) {}
   }
    // Execution of application code.
    chain.doFilter(request, response);
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG775"></a><div class="props_rev_3"><a id="GUID-FC8BF034-6E5C-47DF-9713-7B9DD561C9A0" name="GUID-FC8BF034-6E5C-47DF-9713-7B9DD561C9A0"></a><h4 id="DBFSG-GUID-FC8BF034-6E5C-47DF-9713-7B9DD561C9A0" class="sect4">About the Check Privilege API</h4>
                  <div>
                     <p>This section describes the following topic: <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98">Checking a Privilege on the ACLs</a>.
                     </p>
                  </div><a id="DBFSG777"></a><a id="DBFSG778"></a><a id="DBFSG779"></a><a id="DBFSG780"></a><a id="DBFSG776"></a><div class="props_rev_3"><a id="GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98" name="GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98"></a><h5 id="DBFSG-GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98" class="sect5">Checking a Privilege on the ACLs</h5>
                     <div>
                        <div class="section">
                           <p>Checks the privilege on the ACLs using the attached application session of the given connection and includes these usage notes:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>An attached connection must be given. The privilege check is based on the attached application session. Note that an attached application session can have extra privileges compared to the current application session through the <code class="codeph">attachSessionPrivileged</code> call. 
                                 </p>
                              </li>
                              <li>
                                 <p>The API takes the input parameter of ACL IDs, which can be queried from the table using the <code class="codeph">ORA_GET_ACLID</code> operator. The operator returns a set of ACL IDs associated with the current row. 
                                 </p>
                              </li>
                              <li>
                                 <p>This API takes the input parameter of privilege name. This input parameter can be DML privileges, such as <code class="codeph">SELECT</code> or <code class="codeph">UPDATE</code>, or it can be any user defined privilege.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98__GUID-ABEF041A-329D-4CC1-95A3-4C5A339BFEBC">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">public static boolean checkPrivilege(java.sql.Connection conn,
                                     byte[] acls,
                                     java.lang.String privilege)
                              throws ApplicationSessionException
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98__GUID-EAF2939B-AD10-463A-BB72-F022825AB8B0">Parameter</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="tblformal" id="GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98__GUID-E8D46DCB-BDA2-429C-9396-A35AF9D81FA5">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameter description for createSession method for external users" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d33792e4482">Parameter</th>
                                       <th align="left" valign="bottom" width="75%" id="d33792e4485">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e4490" headers="d33792e4482 ">
                                          <p><code class="codeph">conn</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e4490 d33792e4485 ">
                                          <p>The JDBC connection for database server roundtrip</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e4498" headers="d33792e4482 ">
                                          <p><code class="codeph">acls</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e4498 d33792e4485 ">
                                          <p>The given ACL IDs in row format</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d33792e4506" headers="d33792e4482 ">
                                          <p><code class="codeph">privilege</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d33792e4506 d33792e4485 ">
                                          <p>The given privilege name</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98__GUID-312891F2-E69D-4487-A2CC-3305FDCBECF0">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98__BABBHEGF">Example 8-7</a> shows getting the ACL associated with the row and checking the <code class="codeph">UPDATE</code> privilege on the ACL.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-AF2828A0-A004-43A8-8237-59C34AEBBA98__BABBHEGF">
                           <p class="titleinexample">Example 8-7 CheckPrivilege API</p><pre class="oac_no_warn" dir="ltr">    public Collection&lt;Employee&gt; queryHR(Connection conn ) {
 
 
 
      Statement stmt = null;
      ResultSet rs = null;
 
      Collection&lt;Employee&gt; result = new ArrayList&lt;Employee&gt;();
 
      try {
        // attach session
        ApplicationSessionService.attachSession(conn);
 
        stmt = conn.createStatement();
        rs = stmt.executeQuery(query);
 
        while (rs.next()) {
          Employee emp = new Employee();
 
          emp.setId(rs.getString("EMPLOYEE_ID"));
 
          AuthorizationIndicator ai =
                    ((OracleResultSet)rs).getAuthorizationIndicator("salary");
 
          if (ai == AuthorizationIndicator.NONE) {
            emp.setSalary(rs.getString("salary"));
          } else {
            emp.setSalary("******")  ;
          }
 
 
          // get ACL associated with the row
          emp.setAcl(rs.getBytes("acl_id"));
          // check "update" privilege
          boolean canUpdate = ApplicationSessionService.<span class="bold">checkPrivilege</span>(conn, emp.getAcl(), "UPDATE");
 
 
          emp.setUpdate(canUpdate);
          result.add(emp);
 
 
          emp.setFname(rs.getString("first_name"));
          emp.setLname(rs.getString("last_name"));
          emp.setEmail(rs.getString("email"));
          emp.setPhone(rs.getString("phone_number"));
          emp.setManagerId(rs.getString("manager_id"));
          emp.setDepId(rs.getString("department_id"));
 
        }
      } catch (ApplicationSessionException e) {
          e.printStackTrace();
          // process me
      } catch (SQLException e) {
          // process me
          e.printStackTrace();
      } finally {
         if (stmt != null) try {stmt.close();} catch (SQLException e) {};
         if (rs != null) try { rs.close();} catch (SQLException e)  {};
         try {ApplicationSessionService.detachSession(conn);} catch (ApplicationSessionException e) {};
 
      }
 
      return result;
    }
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="DBFSG781"></a><div class="props_rev_3"><a id="GUID-3264D95D-A161-4A5B-9C16-61A6E5929F0E" name="GUID-3264D95D-A161-4A5B-9C16-61A6E5929F0E"></a><h3 id="DBFSG-GUID-3264D95D-A161-4A5B-9C16-61A6E5929F0E" class="sect3">Human Resources Demo Use Case: Implementation in Java </h3>
               <div>
                  <p>This section describes how an application session service supports user and roles managed externally by Oracle Fusion Middleware. This Java example is based on the Security Human Resources (HR) scenario. It uses the <code class="codeph">EMPLOYEES</code> table in the sample <code class="codeph">HR</code> schema. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-3264D95D-A161-4A5B-9C16-61A6E5929F0E__GUID-E3CBE007-70DE-41D9-94A6-79C0B6F99972">
                     <p class="notep1">See Also:</p>
                     <p>For information about user and group to application roles mapping, see <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-5285B57E-6D2C-4A4F-93EF-32E367D9ABB4">About the HR Demo Use Case - User Roles</a>.
                     </p>
                  </div>
                  <div class="p">This example includes the following files and employee records that the three types of users can access:
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-429659FC-7930-4E65-9529-2A020929668A">Setting Up the HR Demo Application for External Principals (setup.sql)</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18">About the Application Session Filter Configuration File (web.xml)</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-732B8690-0543-4F49-9E5C-ABA3943CEFEF">About the Sample Servlet Application (MyHR.java)</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-39AEC441-82BD-4578-9D01-9ABE811D518C">About the Filter to Set Up the Application Namespace (MyFilter.java)</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-87CC7FC4-EADA-48D4-99FD-66AA41C8E36B">About the HR Demo (1) - Logged in as Employee LPOPP</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-8BE14FBC-A226-46CF-A586-D6BB7A8D4446">About the HR Demo (2) - Logged in as HRMGR</a></p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-1B338D1C-535A-4E85-9A03-F73DF2050E80">About the HR Demo (3) - Logged in as a Team Manager</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG783"></a><a id="DBFSG782"></a><div class="props_rev_3"><a id="GUID-429659FC-7930-4E65-9529-2A020929668A" name="GUID-429659FC-7930-4E65-9529-2A020929668A"></a><h4 id="DBFSG-GUID-429659FC-7930-4E65-9529-2A020929668A" class="sect4">Setting Up the HR Demo Application for External Principals (setup.sql)</h4>
                  <div>
                     <div class="section">
                        <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-429659FC-7930-4E65-9529-2A020929668A__BABBBFBA">Example 8-8</a> shows a set up script (<code class="codeph">setup.sql</code>) for setting up the HR Demo application for external principals. 
                        </p>
                        <p>This setup script performs the following operations:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Creates a dynamic role, <code class="codeph">HROBJ</code>, for object privileges for the external user
                              </p>
                           </li>
                           <li>
                              <p>Creates a security class, <code class="codeph">HRPRIVS</code>, with privilege <code class="codeph">view_sensitive_info</code>, and aggregate privilege <code class="codeph">update_info</code> that implies data privileges, update, delete, insert, which come from pre-defined security class <code class="codeph">DML</code>.
                              </p>
                           </li>
                           <li>
                              <p>Creates an <code class="codeph">EMP</code> ACL, <code class="codeph">EMP_ACL</code>, to grant <code class="codeph">EMP</code>, <code class="codeph">HRMGR</code> and <code class="codeph">HRREP</code> privileges to access employee record in the restricted departments. Note that each external principal, (application role: <code class="codeph">HRREP</code>, <code class="codeph">HRMGR</code>, and <code class="codeph">EMP</code>) must match the OPSS policy store GUID values.
                              </p>
                           </li>
                           <li>
                              <p>Creates an self ACL, <code class="codeph">SELF_ACL</code>, to grant <code class="codeph">EMP</code> privileges for an employee to see and update his or her own record.
                              </p>
                           </li>
                           <li>
                              <p>Creates a Manager ACL, <code class="codeph">MGR_ACL</code>, to allow a manager to see his or her employee's salary information.
                              </p>
                           </li>
                           <li>
                              <p>Creates a data security policy, <code class="codeph">EMPLOYEE_DS</code>, for the <code class="codeph">EMPLOYEES</code> table. The policy defines an instance set to control access to the employees in department 60 and 100 to <code class="codeph">EMP_ACL</code>. It also defines an attribute constraint to control access to the sensitive SALARY column.
                              </p>
                           </li>
                           <li>
                              <p>Defines two additional instance sets to <code class="codeph">SELF_ACL</code> and <code class="codeph">MGR_ACL</code> that are appended to the data security policy, <code class="codeph">EMPLOYEE_DS</code>.
                              </p>
                           </li>
                           <li>
                              <p>Grants to the dispatcher some additional privileges.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-429659FC-7930-4E65-9529-2A020929668A__BABBBFBA">
                        <p class="titleinexample">Example 8-8 Set Up the HR Demo Application for External Principals</p><pre class="oac_no_warn" dir="ltr">Rem Copyright (c) 2009, 2014, Oracle and/or its affiliates.
Rem All rights reserved.

SET ECHO ON
SET FEEDBACK 1
SET NUMWIDTH 10
SET LINESIZE 80
SET TRIMSPOOL ON
SET TAB OFF
SET PAGESIZE 100
 
-- A PL/SQL function to determine manager-report relationship
conn hr/hr;
 
create or replace package hrutil as
 function ismyreport(id IN PLS_INTEGER)
 return PLS_INTEGER ;
end hrutil;
/
 
create or replace package body hrutil as
 function ismyreport(id IN PLS_INTEGER)
   return PLS_INTEGER is
   mycount PLS_INTEGER ;
   myid    PLS_INTEGER ;
 begin
   select employee_id into myid from hr.employees
   where UPPER(email) = XS_SYS_CONTEXT('PROFILE_NS','EMAIL');
 
   select count(employee_id) into mycount from hr.employees
   where employee_id = id start with manager_id = myid
   connect by prior employee_id = manager_id ;
   return mycount ;
 end ismyreport ;
end hrutil ;
/
 
-- Create a dynamic role for object privileges for external users.
connect sys/<span class="italic">password</span> as sysdba
show con_name;
 
-- Create a dynamic role for HR object privileges.
exec xs_principal.delete_principal('HROBJ',XS_ADMIN_UTIL.CASCADE_OPTION);
exec xs_principal.create_dynamic_role('HROBJ');
 
-- Create a db role to have HR object privileges.
drop role hr_db_obj;
create role hr_db_obj;
-- Grant object privilege to the db role.
grant select, insert, update, delete on hr.employees to hr_db_obj;
 
-- Grant db role to dynamic role.
grant hr_db_obj to HROBJ;
 
 
-- Create a security class with privilege view_sensitive_info, and
-- aggregate privilege update_info that implies data privileges,
-- update, delete, insert, which come from pre-defined security class
-- DML.
DECLARE
  priv_list  XS$PRIVILEGE_LIST;
BEGIN
  priv_list :=XS$PRIVILEGE_LIST(
     XS$PRIVILEGE(name=&gt;'VIEW_SENSITIVE_INFO'),
     XS$PRIVILEGE(name=&gt;'UPDATE_INFO',
                  implied_priv_list=&gt;XS$NAME_LIST
                    ('"UPDATE"', '"DELETE"', '"INSERT"')));
 
  xs_security_class.create_security_class(
     name=&gt;'HRPRIVS',
     parent_list=&gt;XS$NAME_LIST('DML'),
     priv_list=&gt;priv_list);
END;
/
 
-- External Principal (app role) Used for data security:
-- Such a principal must match the OPSS policy store.
-- roleName="HRREP" guid="37ED0D108C2F11E2BF802D569259982"
-- roleName="HRMGR" guid="4077A2B08C2F11E2BF802D569259982"
-- roleName="EMP"   guid="F917C3608CF011E2BF802D569259982"
 
-- Create an EMP Acl to grant EMP, HRMGR and HRREP privileges to access an employee record in the restricted departments.
DECLARE
  ace_list XS$ACE_LIST;
BEGIN
  ace_list := XS$ACE_LIST(
      XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"SELECT"','VIEW_SENSITIVE_INFO'),
                  granted=&gt;true,
                  principal_name=&gt;'"37ED0D108C2F11E2BF802D569259982"', principal_type=&gt;XS_ACL.PTYPE_EXTERNAL),
      XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('UPDATE_INFO'),
                  granted=&gt;true,
                  principal_name=&gt;'"4077A2B08C2F11E2BF802D569259982"', principal_type=&gt;XS_ACL.PTYPE_EXTERNAL),
      XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"SELECT"'),
                  granted=&gt;true,
                  principal_name=&gt;'"F917C3608CF011E2BF802D569259982"', principal_type=&gt;XS_ACL.PTYPE_EXTERNAL));
 
  xs_acl.create_acl(name=&gt; 'EMP_ACL',
                   ace_list=&gt; ace_list,
                   sec_class=&gt;'HRPRIVS',
                   description=&gt; 'Employee access to his/her data');
END;
/
 
-- Create a self Acl to grant EMP privileges to for an employee to see and update his own record.
-- Grant UPDATE, VIEW_SENSITIVE_INFO privileges to the EMP role.
DECLARE
 ace_list XS$ACE_LIST;
BEGIN
 ace_list := XS$ACE_LIST(
   XS$ACE_TYPE(privilege_list=&gt; XS$NAME_LIST('"UPDATE"', 'VIEW_SENSITIVE_INFO'),
               principal_name=&gt;'"F917C3608CF011E2BF802D569259982"', principal_type=&gt;XS_ACL.PTYPE_EXTERNAL));
 
 xs_acl.create_acl(name=&gt; 'SELF_ACL',
                   ace_list=&gt; ace_list,
                   sec_class=&gt;'HRPRIVS',
                   description=&gt; 'Employee access to his/her data');
END;
/
 
--   Create Manager ACL, to allow a manager to see his employee's salary.
--   Grant VIEW_SENSITIVE_INFO privileges to EMP role on the Manager's employees.
--
DECLARE
 ace_list XS$ACE_LIST;
BEGIN
 ace_list := XS$ACE_LIST(
   XS$ACE_TYPE(privilege_list=&gt; XS$NAME_LIST('VIEW_SENSITIVE_INFO'),
               principal_name=&gt;'"F917C3608CF011E2BF802D569259982"', principal_type=&gt;XS_ACL.PTYPE_EXTERNAL));
 
 xs_acl.create_acl(name=&gt; 'MGR_ACL',
                   ace_list=&gt; ace_list,
                   sec_class=&gt;'HRPRIVS',
                   description=&gt; 'Manager can see his reports salaray');
END;
/
 
-- Create data security policy for the EMPLOYEE table. The policy defines
-- an instant set to control the access to the employees in department
-- 60 and 100. It also defines an attribute constraint to control
-- the access to sensitive column SALARY.
DECLARE
  inst_sets XS$REALM_CONSTRAINT_LIST;
  attr_secs XS$COLUMN_CONSTRAINT_LIST;
BEGIN
  inst_sets :=
    XS$REALM_CONSTRAINT_LIST(
      XS$REALM_CONSTRAINT_TYPE(realm=&gt; 'DEPARTMENT_ID in (60, 100)',
                           acl_list=&gt; XS$NAME_LIST('EMP_ACL')));
 
  attr_secs :=
    XS$COLUMN_CONSTRAINT_LIST(
      XS$COLUMN_CONSTRAINT_TYPE(column_list=&gt; XS$LIST('SALARY'),
                            privilege=&gt; 'VIEW_SENSITIVE_INFO'));
 
  xs_data_security.create_policy(
          name=&gt;'EMPLOYEES_DS',
          realm_constraint_list=&gt;inst_sets,
          column_constraint_list=&gt;attr_secs);
END;
/
 
-- Add more instance sets to the above data security.
declare
  inst1 xs$REALM_CONSTRAINT_TYPE;
  inst2 xs$REALM_CONSTRAINT_TYPE;
begin
 
  inst1 := xs$REALM_CONSTRAINT_TYPE(realm=&gt; 'UPPER(email) = XS_SYS_CONTEXT(''PROFILE_NS'',''EMAIL'')',
                                acl_list=&gt; XS$NAME_LIST('SELF_ACL'));
 
  xs_data_security.append_realm_constraints('EMPLOYEES_DS', inst1);
 
 
  inst2 := xs$REALM_CONSTRAINT_TYPE(realm=&gt; 'hr.hrutil.ismyreport(employee_id) = 1',
                                acl_list=&gt; XS$NAME_LIST('MGR_ACL'));
 
  xs_data_security.append_realm_constraints('EMPLOYEES_DS', inst2);
end;
/
 
-- Apply the data security policy on the table.
 
begin
  XS_DATA_SECURITY.apply_object_policy(schema=&gt;'HR', object=&gt;'EMPLOYEES',
                                       policy=&gt;'EMPLOYEES_DS');
end;
/
 
-- Grant more privileges for the dispatcher.
exec XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE('ADMIN_ANY_NAMESPACE','ts',XS_ADMIN_UTIL.PTYPE_XS);
grant select on  sys.dba_xs_session_roles to ts_role;
 
EXIT;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG785"></a><a id="DBFSG784"></a><div class="props_rev_3"><a id="GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18" name="GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18"></a><h4 id="DBFSG-GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18" class="sect4">About the Application Session Filter Configuration File (web.xml) </h4>
                  <div>
                     <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18__BABGDAJE">Example 8-9</a> shows a complete application session filter sample configuration file (<code class="codeph">web.xml</code>) that includes the filter, its parameters, and the listener. It references a filter for setting up the namespace (<code class="codeph">MyFilter.java</code>) shown in <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-39AEC441-82BD-4578-9D01-9ABE811D518C__BABHECIF">Example 8-11</a>, and the sample servlet applications named <code class="codeph">MyHR.java</code> shown in <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-732B8690-0543-4F49-9E5C-ABA3943CEFEF__BABEGBGH">Example 8-10</a>, in addition to: <code class="codeph">MySession.java</code>, <code class="codeph">MyUpdate.java</code>, and <code class="codeph">LogoutServlet.java</code>, which are not shown. 
                     </p>
                     <p><code class="codeph">MySession</code> queries the <code class="codeph">V$XS_SESSION_ROLES</code> view to show the roles in the application session, queries the users in <code class="codeph">XS$SESSION</code> namespace to show the user in the application session, and queries the <code class="codeph">V$XS_SESSION_NS_ATTRIBUTES</code> view to show the namespace in the application session, and then attaches to an application session.
                     </p>
                     <p><code class="codeph">MyUpdate</code> performs an update on the <code class="codeph">HR.EMPLOYEES</code> table to update the phone number for an employee.
                     </p>
                     <p><code class="codeph">LogoutServlet</code> performs a logout operation, and then destroys the application session at the database.
                     </p>
                     <p>In the <code class="codeph">ApplicationSessionFilter</code> filter configuration, the filter section references the class <code class="codeph">ApllicationSessionFilter</code>, describes a parameter <code class="codeph">application.datasource</code> with a parameter value <code class="codeph">jdbc/myDBDS</code>, and describes a parameter <code class="codeph">dynamic roles</code> with a value of <code class="codeph">HROBJ</code> that was created in the set up script in <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-429659FC-7930-4E65-9529-2A020929668A__BABBBFBA">Example 8-8</a>. 
                     </p>
                     <div class="example" id="GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18__BABGDAJE">
                        <p class="titleinexample">Example 8-9 A Complete Application Session Filter Sample Configuration </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
         version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;JpsFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;oracle.security.jps.ee.http.JpsFilter&lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;enable.anonymous&lt;/param-name&gt;
            &lt;param-value&gt;true&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;remove.anonymous.role&lt;/param-name&gt;
            &lt;param-value&gt;false&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;application.name&lt;/param-name&gt;
            &lt;param-value&gt;MyHRApp&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;!-- Following needed for Menu Security --&gt;
        &lt;!--init-param&gt;
            &lt;param-name&gt;oracle.security.jps.jaas.mode&lt;/param-name&gt;
            &lt;param-value&gt;subjectOnly&lt;/param-value&gt;
        &lt;/init-param--&gt;
    &lt;/filter&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;ApplicationSessionFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;oracle.security.xs.ee.session.<span class="bold">ApplicationSessionFilter</span>&lt;/filter-class&gt;
 
        &lt;init-param&gt;
            &lt;param-name&gt;application.datasource&lt;/param-name&gt;
            &lt;param-value&gt;<span class="bold">jdbc/myDBDS</span>&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;dynamic.roles&lt;/param-name&gt;
            &lt;param-value&gt;<span class="bold">HROBJ</span>&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;!--
         &lt;init-param&gt;
            &lt;param-name&gt;dispatcher.pool.max&lt;/param-name&gt;
            &lt;param-value&gt;90&lt;/param-value&gt;
        &lt;/init-param&gt;
        --&gt;
        &lt;!-- init-param&gt;
            &lt;param-name&gt;application.id&lt;/param-name&gt;
            &lt;param-value&gt;MyHRApp&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;session.provider&lt;/param-name&gt;
            &lt;param-value&gt;XS&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;db.url&lt;/param-name&gt;
            &lt;param-value&gt;jdbc:oracle:thin:@myhost:1521:orcl&lt;/param-value&gt;
        &lt;/init-param&gt;
 
        &lt;init-param&gt;
            &lt;param-name&gt;dispatcher.id&lt;/param-name&gt;
            &lt;param-value&gt;ts&lt;/param-value&gt;
        &lt;/init-param&gt;
 
        &lt;init-param&gt;
            &lt;param-name&gt;dispatcher.pwd.map&lt;/param-name&gt;
            &lt;param-value&gt;XS_MAP&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;dispatcher.pwd.key&lt;/param-name&gt;
            &lt;param-value&gt;XS_KEY&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;dispatcher.pool.min&lt;/param-name&gt;
            &lt;param-value&gt;3&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;dispatcher.pool.max&lt;/param-name&gt;
            &lt;param-value&gt;10&lt;/param-value&gt;
        &lt;/init-param --&gt;
 
        &lt;!--init-param&gt;
            &lt;param-name&gt;namespaces&lt;/param-name&gt;
            &lt;param-value&gt;sec_ns&lt;/param-value&gt;
        &lt;/init-param--&gt;
    &lt;/filter&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;MyFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;trusted.MyFilter&lt;/filter-class&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;JpsFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;
        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;
    &lt;/filter-mapping&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;ApplicationSessionFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/myhr&lt;/url-pattern&gt;
        &lt;url-pattern&gt;/mysession&lt;/url-pattern&gt;
        &lt;url-pattern&gt;/myupdate&lt;/url-pattern&gt;
        &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;
        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;
        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;
    &lt;/filter-mapping&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;MyFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/myhr&lt;/url-pattern&gt;
        &lt;url-pattern&gt;/mysession&lt;/url-pattern&gt;
        &lt;url-pattern&gt;/myupdate&lt;/url-pattern&gt;
        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;
        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;
    &lt;/filter-mapping&gt;
    &lt;listener&gt;
        &lt;listener-class&gt;oracle.security.xs.ee.session.ApplicationSessionListener&lt;/listener-class&gt;
    &lt;/listener&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;MySession&lt;/servlet-name&gt;
        &lt;servlet-class&gt;app.MySession&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;
        &lt;servlet-class&gt;app.MyLogout&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;MyHR&lt;/servlet-name&gt;
        &lt;servlet-class&gt;app.MyHR&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;MyUpdate&lt;/servlet-name&gt;
        &lt;servlet-class&gt;app.MyUpdate&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;MySession&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/mysession&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;MyHR&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/myhr&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;MyUpdate&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/myupdate&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;security-constraint&gt;
        &lt;web-resource-collection&gt;
            &lt;web-resource-name&gt;my servlet&lt;/web-resource-name&gt;
            &lt;url-pattern&gt;/myhr&lt;/url-pattern&gt;
            &lt;url-pattern&gt;/mysession&lt;/url-pattern&gt;
            &lt;url-pattern&gt;/myupdate&lt;/url-pattern&gt;
        &lt;/web-resource-collection&gt;
        &lt;auth-constraint&gt;
            &lt;role-name&gt;valid-users&lt;/role-name&gt;
        &lt;/auth-constraint&gt;
    &lt;/security-constraint&gt;
    &lt;login-config&gt;
        &lt;auth-method&gt;CLIENT-CERT,FORM&lt;/auth-method&gt;
        &lt;form-login-config&gt;
            &lt;form-login-page&gt;/login.jsp&lt;/form-login-page&gt;
            &lt;form-error-page&gt;/error.jsp&lt;/form-error-page&gt;
        &lt;/form-login-config&gt;
    &lt;/login-config&gt;
    &lt;security-role&gt;
        &lt;role-name&gt;valid-users&lt;/role-name&gt;
    &lt;/security-role&gt;
&lt;/web-app&gt;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG787"></a><a id="DBFSG786"></a><div class="props_rev_3"><a id="GUID-732B8690-0543-4F49-9E5C-ABA3943CEFEF" name="GUID-732B8690-0543-4F49-9E5C-ABA3943CEFEF"></a><h4 id="DBFSG-GUID-732B8690-0543-4F49-9E5C-ABA3943CEFEF" class="sect4">About the Sample Servlet Application (MyHR.java)</h4>
                  <div>
                     <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-732B8690-0543-4F49-9E5C-ABA3943CEFEF__BABEGBGH">Example 8-10</a> shows the sample servlet application named <code class="codeph">MyHR.java</code>, which is referenced in the application session filter sample configuration (<code class="codeph">web.xml</code> file) shown in <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18__BABGDAJE">Example 8-9</a>.
                     </p>
                     <p>The MyHR application performs a query on the <code class="codeph">EMPLOYEES</code> table and returns the results. If you have authorization, depending on your login credentials, you can perform certain tasks as described in:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-87CC7FC4-EADA-48D4-99FD-66AA41C8E36B">About the HR Demo (1) - Logged in as Employee LPOPP</a></p>
                           <p>As an employee, you can see your own salary information, but no one elses, and you can update only your own contact information. </p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-8BE14FBC-A226-46CF-A586-D6BB7A8D4446">About the HR Demo (2) - Logged in as HRMGR</a></p>
                           <p>If you are logged in as a HR Manager, you can see the salary records of all employees and you can update their contact information.</p>
                        </li>
                        <li>
                           <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-1B338D1C-535A-4E85-9A03-F73DF2050E80">About the HR Demo (3) - Logged in as a Team Manager</a></p>
                           <p>If you are logged in as a Team Manager, you can see only your teams's employees salary information, but you cannot update their contact information, only your own contact information. </p>
                        </li>
                     </ul>
                     <p>From a check of the privilege on the ACLs (<code class="codeph">checkPrivilege</code>), if you have <code class="codeph">UPDATE</code> privilege, then you are authorized to perform an update of that employee's record and the <code class="codeph">EMPLOYEE_ID</code> will show a link that allows you access to that employee's record.
                     </p>
                     <div class="example" id="GUID-732B8690-0543-4F49-9E5C-ABA3943CEFEF__BABEGBGH">
                        <p class="titleinexample">Example 8-10 Sample Servlet Application MyHR.java</p><pre class="oac_no_warn" dir="ltr">/* Copyright (c) 2009, 2014, Oracle and/or its affiliates.
All rights reserved.*/
 
package app;
 
import java.io.IOException;
import java.io.PrintWriter;
 
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
 
import java.util.ArrayList;
import java.util.Collection;
 
import javax.naming.InitialContext;
import javax.naming.NamingException;
 
import javax.servlet.ServletConfig;
import javax.servlet.http.HttpServlet;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
 
import javax.sql.DataSource;
 
import oracle.jdbc.OracleResultSet;
import oracle.jdbc.OracleResultSet.AuthorizationIndicator;
import oracle.security.xs.ee.session.ApplicationSessionException;
import oracle.security.xs.ee.session.ApplicationSessionService;
 
public class MyHR extends HttpServlet {
    private static final String CONTENT_TYPE = "text/html; charset=UTF-8";
 
    String query = " select emp.EMPLOYEE_ID, emp.first_name, emp.last_name, " +
                   "        emp.email, emp.phone_number, salary, emp.manager_id, " +
                   "        emp.department_id,ora_get_aclids(emp) as acl_id" +
                   " from hr.employees emp";
 
    public void init(ServletConfig config) throws ServletException {
        super.init(config);
    }
 
    public void queryHR(PrintWriter out) throws ApplicationSessionException {
 
        DataSource dataSource = null;
        Connection conn = null;
 
        try {
            InitialContext ic;
            try {
                ic = new InitialContext();
 
                dataSource = (DataSource)ic.lookup("jdbc/myDBDS");
 
                if (dataSource != null)
                    try {
                        conn = dataSource.getConnection();
                    } catch (SQLException e) {
                        e.printStackTrace();
                    }
            } catch (NamingException e) {
                e.printStackTrace();
            }
 
            try {
                queryHR(conn, out);
            } catch (Exception e) {
                e.printStackTrace();
            }
 
        } finally {
 
            if (conn != null)
                try {
                    conn.close();
                } catch (SQLException e) {
                }
        }
 
    }
 
    public void doGet(HttpServletRequest request,
                      HttpServletResponse response) throws ServletException,
                                                           IOException {
        response.setContentType(CONTENT_TYPE);
        PrintWriter pw = response.getWriter();
 
        pw.println(HEADER);
 
        pw.println("&lt;h1&gt;&lt;font size=\"+2\"&gt;RAS Session Service Demo&lt;/font&gt;&lt;/h1&gt;");
        pw.println("&lt;font size=\"+1\"&gt;");
        pw.println("You are logged in as &lt;b&gt;" + request.getRemoteUser() + "&lt;/b&gt;");
 
        try {
            queryHR(pw);
        } catch (ApplicationSessionException e) {
            e.printStackTrace();
        }
 
        pw.println(FOOTER);
        pw.close();
    }
 
 
    public Collection&lt;Employee&gt; queryHR(Connection conn ) {
 
      Statement stmt = null;
      ResultSet rs = null;
 
      Collection&lt;Employee&gt; result = new ArrayList&lt;Employee&gt;();
 
      try {
        // attach session
        ApplicationSessionService.attachSession(conn);
 
        stmt = conn.createStatement();
        rs = stmt.executeQuery(query);
 
        while (rs.next()) {
          Employee emp = new Employee();
 
          emp.setId(rs.getString("EMPLOYEE_ID"));
 
          AuthorizationIndicator ai =
                    ((OracleResultSet)rs).getAuthorizationIndicator("salary");
 
          if (ai == AuthorizationIndicator.NONE) {
            emp.setSalary(rs.getString("salary"));
          } else {
            emp.setSalary("******")  ;
          }
 
          // get ACL associated with the row
          emp.setAcl(rs.getBytes("acl_id"));
          // check "update" privilege
          boolean canUpdate = ApplicationSessionService.checkPrivilege(conn, emp.getAcl(), "UPDATE");
 
          emp.setUpdate(canUpdate);
          result.add(emp);
 
          emp.setFname(rs.getString("first_name"));
          emp.setLname(rs.getString("last_name"));
          emp.setEmail(rs.getString("email"));
          emp.setPhone(rs.getString("phone_number"));
          emp.setManagerId(rs.getString("manager_id"));
          emp.setDepId(rs.getString("department_id"));
 
        }
      } catch (ApplicationSessionException e) {
          e.printStackTrace();
          // process me
      } catch (SQLException e) {
          // process me
          e.printStackTrace();
      } finally {
         if (stmt != null) try {stmt.close();} catch (SQLException e) {};
         if (rs != null) try { rs.close();} catch (SQLException e)  {};
         try {ApplicationSessionService.detachSession(conn);} catch (ApplicationSessionException e) {};
 
      }
 
      return result;
    }
 
    public void queryHR(Connection conn, PrintWriter out ) {
 
        Collection&lt;Employee&gt; list = queryHR(conn);
 
        PrintWriter pw = out;
 
        pw.println("&lt;br&gt;Displaying employee record(s) that you can access.&lt;br&gt;");
        pw.println("&lt;/font&gt;");
        pw.println("&lt;i&gt;NOTE: Salary is only shown if you are authorized to view,
 and ID is shown as a link if you are authorized to perform an update.&lt;/i&gt;&lt;br&gt;");
 
        out.println("&lt;table border=\"1\"&gt;");
 
        String tmp;
 
        if (list.size() &gt; 0) {
            out.println("&lt;tr&gt;");
            out.println("&lt;th&gt;ID&lt;/th&gt;");
            out.println("&lt;th&gt;First Name&lt;/th&gt;");
            out.println("&lt;th&gt;Last Name&lt;/th&gt;");
            out.println("&lt;th&gt;Email&lt;/th&gt;");
            out.println("&lt;th&gt;Phone&lt;/th&gt;");
            out.println("&lt;th&gt;Salary&lt;/th&gt;");
 
            out.println("&lt;th&gt;Department ID&lt;/th&gt;");
            out.println("&lt;th&gt;Manager ID&lt;/th&gt;");
            out.println("&lt;/tr&gt;");
        }
 
        for (Employee e: list)  {
 
            if (e.canUpdate()) {
                tmp = "&lt;a href=\"update.jsp?id=" + e.getId() + "\"&gt;" + e.getId() + "&lt;/a&gt;";
            } else {
                tmp = e.getId();
            }
 
            out.println("&lt;tr&gt;&lt;td&gt;" + tmp + "&lt;/td&gt;");
            out.println("&lt;td&gt;" +  e.getFname() + "&lt;/td&gt;");
            out.println("&lt;td&gt;" +  e.getLname() + "&lt;/td&gt;");
            out.println("&lt;td&gt;" +  e.getEmail() + "&lt;/td&gt;");
            out.println("&lt;td&gt;" +  e.getPhone() + "&lt;/td&gt;");
            out.println("&lt;td&gt;" +  e.getSalary() + "&lt;/td&gt;");
            out.println("&lt;td&gt;" +  e.getDepId() + "&lt;/td&gt;");
            out.println("&lt;td&gt;" +  e.getManagerId() + "&lt;/td&gt;&lt;/tr&gt;");
 
        }
 
        out.println("&lt;/TABLE&gt;");
 
    };
 
    class Employee {
 
        String id;
        String salary;
        boolean update;
        String fname;
        String lname;
        String email;
        String phone;
        String managerId;
        String depId;
        byte[] acl;
 
        public void setId(String id) {
            this.id = id;
        }
 
        public String getId() {
            return id;
        }
 
        public void setSalary(String salary) {
            this.salary = salary;
        }
 
        public String getSalary() {
            return salary;
        }
 
        public void setUpdate(boolean canUpdate) {
            this.update = canUpdate;
        }
 
        public boolean canUpdate() {
            return update;
        }
 
        public void setFname(String fname) {
            this.fname = fname;
        }
 
        public String getFname() {
            return fname;
        }
 
        public void setLname(String lname) {
            this.lname = lname;
        }
 
        public String getLname() {
            return lname;
        }
 
        public void setEmail(String email) {
            this.email = email;
        }
 
        public String getEmail() {
            return email;
        }
 
        public void setPhone(String phone) {
            this.phone = phone;
        }
 
        public String getPhone() {
            return phone;
        }
 
        public void setManagerId(String managerId) {
            this.managerId = managerId;
        }
 
        public String getManagerId() {
            return managerId;
        }
 
        public void setDepId(String depId) {
            this.depId = depId;
        }
 
        public String getDepId() {
            return depId;
        }
 
        public void setAcl(byte[] acl) {
            this.acl = acl;
        }
 
        public byte[] getAcl() {
            return acl;
        }
    }
 
    private static String HEADER = "&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;head&gt;"
            + "&lt;meta content=\"text/html; charset=UTF-8\" http-equiv=\"content-type\"/&gt;"
            + "&lt;title&gt;Oracle&lt;/title&gt;"
            + "&lt;link href=\"css/general.css\" type=\"text/css\" rel=\"stylesheet\"/&gt;"
            + "&lt;link href=\"css/window.css\" type=\"text/css\" rel=\"stylesheet\"/&gt;"
            + "&lt;link href=\"css/login.css\" type=\"text/css\" rel=\"stylesheet\"/&gt;"
            + "&lt;script type=\"text/javascript\"&gt;"
            + "  if (top != self) top.location.href = location.href;"
            + "&lt;/script&gt;"
            + "&lt;style type=\"text/css\"&gt;"
            + "html { background-color: #001C34;}"
            + "&lt;/style&gt;"
            + "&lt;/head&gt;"
            + "&lt;body onload=\"document.loginData.j_username.focus();\"&gt;"
            + "  &lt;div id=\"top\"&gt;"
            + "   &lt;div id=\"login-header\"&gt;"
            + "    &lt;div id=\"login-logo\"&gt;"
            + "    &lt;img  src=\"images/logo.png\"/&gt;"
            + "&lt;/div&gt;"
            + "  &lt;/div&gt;"
            + "  &lt;div id=\"content\"&gt;"
            + "&lt;div id=\"app_data\"&gt;&lt;div id=\"title\"&gt;&lt;/div&gt;";
 
        private static String FOOTER = "&lt;a href=\"/myapp/logout\"&gt;Logout&lt;/a&gt;"
                + "&lt;/div&gt;&lt;/div&gt;&lt;div id=\"info\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;";
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG789"></a><a id="DBFSG788"></a><div class="props_rev_3"><a id="GUID-39AEC441-82BD-4578-9D01-9ABE811D518C" name="GUID-39AEC441-82BD-4578-9D01-9ABE811D518C"></a><h4 id="DBFSG-GUID-39AEC441-82BD-4578-9D01-9ABE811D518C" class="sect4">About the Filter to Set Up the Application Namespace (MyFilter.java)</h4>
                  <div>
                     <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-39AEC441-82BD-4578-9D01-9ABE811D518C__BABHECIF">Example 8-11</a> shows a filter to set up the application namespace. This filter is named <code class="codeph">MyFilter.java</code>, which is referenced in the application session filter sample configuration (<code class="codeph">web.xml</code> file) shown in <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-4838A77C-3E07-4AD8-884C-34E68FE0FC18__BABGDAJE">Example 8-9</a>.
                     </p>
                     <p>This filter should be deployed as a separate jar, and <code class="codeph">SessionCodePermission</code> should be granted to the jar file.
                     </p>
                     <p>This filter first queries the <code class="codeph">V$XS_SESSION_ROLES</code> view to show the roles in the Real Security Application session. Next, this filter demonstrates how trusted application code (a filter) firsts checks to see if a namespace exists (getNamespaceAttribute); then if not, it can set up a security critical namespace using session privilege elevation (<code class="codeph">attachSessionPrivileged</code>) and namespace APIs (<code class="codeph">createNamespace</code>, and <code class="codeph">setNamespaceAttribute</code>) to create the namespace and set some namespace attributes. 
                     </p>
                     <div class="example" id="GUID-39AEC441-82BD-4578-9D01-9ABE811D518C__BABHECIF">
                        <p class="titleinexample">Example 8-11 Filter to Set Up Application Namespace</p><pre class="oac_no_warn" dir="ltr">/* Copyright (c) 2009, 2014, Oracle and/or its affiliates.
All rights reserved.*/

package trusted;
 
 
import java.io.IOException;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.naming.InitialContext;
import javax.naming.NamingException;
 
import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletRequest;
import javax.sql.DataSource;
import oracle.security.xs.ee.session.ApplicationSessionException;
import oracle.security.xs.ee.session.ApplicationSessionService;
import oracle.security.xs.ee.session.NamespaceNotFoundException;
 
 
/**
 * Demonstrate how trusted application code (a filter) can set up
 * security critical namespace using session privilege elevation and
 * namespace APIs.
 *
 * The filter should be deployed as a separate jar, and SessionCodePermission
 * should be granted to the jar.
 */
 
public class MyFilter implements Filter {
    private FilterConfig _filterConfig = null;
    DataSource myDatasource = null;
 
    public void init(FilterConfig filterConfig) throws ServletException {
        _filterConfig = filterConfig;
 
    }
 
    public void destroy() {
        _filterConfig = null;
    }
 
 
    public void querySessionRoles(Connection conn) throws SQLException {
 
        String query =
            "select role_name from v$xs_session_roles order by role_name";
        String roles = null;
 
        try {
 
            Statement stmt = conn.createStatement();
            ResultSet rs = stmt.executeQuery(query);
 
            System.out.println("&lt;p&gt; roles in RAS session (from myfilter):&lt;/p&gt;");
 
            System.out.println("&lt;TABLE&gt;");
 
            while (rs.next()) {
 
                roles = rs.getString(1);
                System.out.println("&lt;tr&gt;&lt;td&gt;" + roles + "&lt;/td&gt;&lt;/tr&gt;");
            }
            System.out.println("&lt;/TABLE&gt;");
        } finally {
 
        }
 
        return;
    }
 
 
    private boolean namespaceExists(String ns, String attribute, String value) throws ApplicationSessionException {
 
 
        try {
            return value.equalsIgnoreCase(ApplicationSessionService.getNamespaceAttribute(ns, attribute));
        } catch (NamespaceNotFoundException e) {
            return false;
        }
    }
 
    private Connection getConnection() {
 
        DataSource dataSource = null;
        InitialContext ic;
        try {
            ic = new InitialContext(); //TODO cache context
 
            dataSource = (DataSource)ic.lookup("jdbc/myDBDS");
 
            if (dataSource != null)
                try {
                    return dataSource.getConnection();
                } catch (SQLException e) {
                    e.printStackTrace();
                }
        } catch (NamingException e) {
            e.printStackTrace();
        }
        return null;
    }
 
 
    public void doFilter(ServletRequest request, ServletResponse response,
                         FilterChain chain) {
 
        Connection conn = null;
 
        try {
 
            String email = ((HttpServletRequest)request).getRemoteUser();
            if ( email != null &amp;&amp; !namespaceExists("PROFILE_NS", "EMAIL", email )) {
 
 
 
                conn = getConnection();
 
                //AccessController.doPrivileged(new AttachAction(conn), null);
                ApplicationSessionService.attachSessionPrivileged(conn, "SESSION_NS_DROLE");
 
 
 
                ApplicationSessionService.createNamespace(conn, "PROFILE_NS");
                ApplicationSessionService.setNamespaceAttribute(conn, "PROFILE_NS", "EMAIL", email);
 
                ApplicationSessionService.detachSession(conn);
            }
 
        } catch (ApplicationSessionException e) {
            e.printStackTrace();
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
 
            if (conn != null)
                try {
                    conn.close();
                } catch (SQLException e) {
                }
            }
 
        try {
            chain.doFilter(request, response);
        } catch (IOException e) {
            e.printStackTrace();
        } catch (ServletException e) {
            e.printStackTrace();
        }
    }
}

</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG791"></a><a id="DBFSG790"></a><div class="props_rev_3"><a id="GUID-5285B57E-6D2C-4A4F-93EF-32E367D9ABB4" name="GUID-5285B57E-6D2C-4A4F-93EF-32E367D9ABB4"></a><h4 id="DBFSG-GUID-5285B57E-6D2C-4A4F-93EF-32E367D9ABB4" class="sect4">About the HR Demo Use Case - User Roles</h4>
                  <div>
                     <p>In the HR Demo Use Case, the Identity Management store contains the user name, user name's password, and group name, while the OPSS security store contains the application roles and the user and group to application roles mapping. <a href="application-session-service-in-oracle-fusion-middleware.html#GUID-5285B57E-6D2C-4A4F-93EF-32E367D9ABB4__BABFAAAA">Example 8-12</a> shows a code snippet for the user and group to application roles mapping for one user <code class="codeph">LPOPP</code>.
                     </p>
                     <div class="example" id="GUID-5285B57E-6D2C-4A4F-93EF-32E367D9ABB4__BABFAAAA">
                        <p class="titleinexample">Example 8-12 User and Group to Application Roles Mapping</p><pre class="oac_no_warn" dir="ltr">&lt;app-role&gt;   
&lt;name&gt;EMP&lt;/name&gt;
&lt;display-name&gt;Employee for dept #60 and dept #100&lt;/display-name&gt;
&lt;description&gt;HR manager for dept #60 and representative for dept #100&lt;/description&gt;
&lt;guid&gt;F917C3608CF011E2BF802D569259982&lt;/guid&gt;
&lt;class&gt;oracle.security.jps.service.policystore.ApplicationRole&lt;/class&gt;
&lt;members&gt;
    &lt;member&gt;
        &lt;class&gt;weblogic.security.principal.WLSUserImpl&lt;/class&gt;
        &lt;name&gt;<span class="bold">LPOPP</span>&lt;/name&gt;
    &lt;/member&gt;
&lt;/members&gt;
&lt;/app-role&gt;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG793"></a><a id="DBFSG792"></a><div class="props_rev_3"><a id="GUID-87CC7FC4-EADA-48D4-99FD-66AA41C8E36B" name="GUID-87CC7FC4-EADA-48D4-99FD-66AA41C8E36B"></a><h4 id="DBFSG-GUID-87CC7FC4-EADA-48D4-99FD-66AA41C8E36B" class="sect4">About the HR Demo (1) - Logged in as Employee LPOPP</h4>
                  <div>
                     <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-87CC7FC4-EADA-48D4-99FD-66AA41C8E36B__BABBFJAD" title="This table shows the results of HR Demo (1), displaying employee records that you can access logged in as an employee. This table has 8 columns. Column 1 is ID, column 2 is first name, column 3 is last name, column 4 is email, column 5 is phone, column 6 is salary, column 7 is department ID, and column 8 is manager ID.">Table 8-1</a> displays employee records that you can access logged in as an employee, <code class="codeph">LPOPP</code>. You can see everyone's record except their salary information, you can see your own salary information, and you can update your own contact information. 
                     </p>
                     <p>This access is set by: </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Realm and grant (1): <code class="codeph">DEPARTMENT_ID in (60, 100)</code> and <code class="codeph">SELECT to EMP</code></p>
                        </li>
                        <li>
                           <p>Realm and grant (2): <code class="codeph">UPPER(email) = XS_SYS_CONTEXT("PROFILE_NS","EMAIL") </code>and <code class="codeph">UPDATE, VIEW_SENSITIVE_INFO to EMP</code></p>
                        </li>
                        <li>
                           <p>Column Constraints: <code class="codeph">SALARY</code> requires <code class="codeph">VIEW_SENSITIVE_INFO</code> privilege
                           </p>
                        </li>
                     </ul>
                     <p>Salary is only shown if you are authorized to view, and ID is shown as a link (Italic format in the table) if you are authorized to update.</p>
                     <div class="tblformalwide" id="GUID-87CC7FC4-EADA-48D4-99FD-66AA41C8E36B__BABBFJAD">
                        <p class="titleintable">Table 8-1 Session Service HR Demo(1) Logged in as Employee LPOPP</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Session Service HR Demo(1) Logged in as Employee LPOPP" width="100%" border="1" summary="This table shows the results of HR Demo (1), displaying employee records that you can access logged in as an employee. This table has 8 columns. Column 1 is ID, column 2 is first name, column 3 is last name, column 4 is email, column 5 is phone, column 6 is salary, column 7 is department ID, and column 8 is manager ID." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="8%" id="d33792e5721">ID</th>
                                 <th align="left" valign="bottom" width="11%" id="d33792e5724">First Name</th>
                                 <th align="left" valign="bottom" width="11%" id="d33792e5727">Last Name</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e5730">Email</th>
                                 <th align="left" valign="bottom" width="14%" id="d33792e5733">Phone</th>
                                 <th align="left" valign="bottom" width="10%" id="d33792e5736">Salary</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e5739">Department ID</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e5742">Manager ID</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5747" headers="d33792e5721 ">
                                    <p>103</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5747 d33792e5724 ">
                                    <p>Alexander</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5747 d33792e5727 ">
                                    <p>Hunold</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5747 d33792e5730 ">
                                    <p>AHUNOLD</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5747 d33792e5733 ">
                                    <p>510.222.3388</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5747 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5747 d33792e5739 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5747 d33792e5742 ">
                                    <p>102</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5772" headers="d33792e5721 ">
                                    <p>104</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5772 d33792e5724 ">
                                    <p>Bruce</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5772 d33792e5727 ">
                                    <p>Ernst</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5772 d33792e5730 ">
                                    <p>BERNST</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5772 d33792e5733 ">
                                    <p>590.423.4568</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5772 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5772 d33792e5739 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5772 d33792e5742 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5797" headers="d33792e5721 ">
                                    <p>105</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5797 d33792e5724 ">
                                    <p>David</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5797 d33792e5727 ">
                                    <p>Austin</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5797 d33792e5730 ">
                                    <p>DAUSTIN</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5797 d33792e5733 ">
                                    <p>590.423.4569</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5797 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5797 d33792e5739 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5797 d33792e5742 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5822" headers="d33792e5721 ">
                                    <p>106</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5822 d33792e5724 ">
                                    <p>Valli</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5822 d33792e5727 ">
                                    <p>Pataballa</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5822 d33792e5730 ">
                                    <p>VPATABAL</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5822 d33792e5733 ">
                                    <p>590.423.4560</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5822 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5822 d33792e5739 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5822 d33792e5742 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5847" headers="d33792e5721 ">
                                    <p>107</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5847 d33792e5724 ">
                                    <p>Diana</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5847 d33792e5727 ">
                                    <p>Lorentz</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5847 d33792e5730 ">
                                    <p>DLORENTZ</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5847 d33792e5733 ">
                                    <p>590.423.4567</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5847 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5847 d33792e5739 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5847 d33792e5742 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5872" headers="d33792e5721 ">
                                    <p>108</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5872 d33792e5724 ">
                                    <p>Nancy</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5872 d33792e5727 ">
                                    <p>Greenberg</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5872 d33792e5730 ">
                                    <p>NGREENBE</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5872 d33792e5733 ">
                                    <p>515.124.4569</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5872 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5872 d33792e5739 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5872 d33792e5742 ">
                                    <p>101</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5897" headers="d33792e5721 ">
                                    <p>109</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5897 d33792e5724 ">
                                    <p>Daniel</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5897 d33792e5727 ">
                                    <p>Faviet</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5897 d33792e5730 ">
                                    <p>DFAVIET</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5897 d33792e5733 ">
                                    <p>515.124.4169</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5897 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5897 d33792e5739 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5897 d33792e5742 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5922" headers="d33792e5721 ">
                                    <p>110</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5922 d33792e5724 ">
                                    <p>John</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5922 d33792e5727 ">
                                    <p>Chen</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5922 d33792e5730 ">
                                    <p>JCHEN</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5922 d33792e5733 ">
                                    <p>515.124.4269</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5922 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5922 d33792e5739 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5922 d33792e5742 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5947" headers="d33792e5721 ">
                                    <p>111</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5947 d33792e5724 ">
                                    <p>Ismael</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5947 d33792e5727 ">
                                    <p>Sciarra</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5947 d33792e5730 ">
                                    <p>ISCIARRA</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5947 d33792e5733 ">
                                    <p>515.124.4369</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5947 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5947 d33792e5739 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5947 d33792e5742 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5972" headers="d33792e5721 ">
                                    <p>112</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5972 d33792e5724 ">
                                    <p>Jose Manuel</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5972 d33792e5727 ">
                                    <p>Urman</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5972 d33792e5730 ">
                                    <p>JMURMAN</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5972 d33792e5733 ">
                                    <p>515.124.4469</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5972 d33792e5736 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5972 d33792e5739 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5972 d33792e5742 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e5997" headers="d33792e5721 ">
                                    <p><span class="italic">113</span></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5997 d33792e5724 ">
                                    <p>Luis</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d33792e5997 d33792e5727 ">
                                    <p>Popp</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5997 d33792e5730 ">
                                    <p>LPOOP</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e5997 d33792e5733 ">
                                    <p>133.444.5555</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e5997 d33792e5736 ">
                                    <p>6900</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5997 d33792e5739 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e5997 d33792e5742 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DBFSG795"></a><a id="DBFSG794"></a><div class="props_rev_3"><a id="GUID-8BE14FBC-A226-46CF-A586-D6BB7A8D4446" name="GUID-8BE14FBC-A226-46CF-A586-D6BB7A8D4446"></a><h4 id="DBFSG-GUID-8BE14FBC-A226-46CF-A586-D6BB7A8D4446" class="sect4">About the HR Demo (2) - Logged in as HRMGR</h4>
                  <div>
                     <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-8BE14FBC-A226-46CF-A586-D6BB7A8D4446__BABGAGEI" title="This table shows the results of HR Demo (2), displaying employee records that you can access logged in as an HR Manager. This table has 8 columns. Column 1 is ID, column 2 is first name, column 3 is last name, column 4 is email, column 5 is phone, column 6 is salary, column 7 is department ID, and column 8 is manager ID.">Table 8-2</a> displays employee records that you can access logged in as an HR Manager, <code class="codeph">HRMGR</code>. You can see every employee's salary information, and you can update every employee's contact information. 
                     </p>
                     <p>This access is set by the realm and grant: <code class="codeph">DEPARTMENT_ID in (60, 100)</code>, <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">VIEW_SENSITIVE_INFO to HRMGR</code>. 
                     </p>
                     <p>Salary is only shown if you are authorized to view, and ID is shown as a link (Italic format in the table) if you are authorized to update.</p>
                     <div class="tblformalwide" id="GUID-8BE14FBC-A226-46CF-A586-D6BB7A8D4446__BABGAGEI">
                        <p class="titleintable">Table 8-2 Session Service HR Demo(2) Logged in as HR Manager HRMGR</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Session Service HR Demo(2) Logged in as HR Manager HRMGR" width="100%" border="1" summary="This table shows the results of HR Demo (2), displaying employee records that you can access logged in as an HR Manager. This table has 8 columns. Column 1 is ID, column 2 is first name, column 3 is last name, column 4 is email, column 5 is phone, column 6 is salary, column 7 is department ID, and column 8 is manager ID." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="8%" id="d33792e6176">ID</th>
                                 <th align="left" valign="bottom" width="12%" id="d33792e6179">First Name</th>
                                 <th align="left" valign="bottom" width="12%" id="d33792e6182">Last Name</th>
                                 <th align="left" valign="bottom" width="14%" id="d33792e6185">Email</th>
                                 <th align="left" valign="bottom" width="14%" id="d33792e6188">Phone</th>
                                 <th align="left" valign="bottom" width="10%" id="d33792e6191">Salary</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e6194">Department ID</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e6197">Manager ID</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6202" headers="d33792e6176 ">
                                    <p><span class="italic">103</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6202 d33792e6179 ">
                                    <p>Alexander</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6202 d33792e6182 ">
                                    <p>Hunold</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6202 d33792e6185 ">
                                    <p>AHUNOLD</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6202 d33792e6188 ">
                                    <p>510.222.3388</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6202 d33792e6191 ">
                                    <p>9000</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6202 d33792e6194 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6202 d33792e6197 ">
                                    <p>102</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6228" headers="d33792e6176 ">
                                    <p><span class="italic">104</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6228 d33792e6179 ">
                                    <p>Bruce</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6228 d33792e6182 ">
                                    <p>Ernst</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6228 d33792e6185 ">
                                    <p>BERNST</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6228 d33792e6188 ">
                                    <p>590.423.4568</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6228 d33792e6191 ">
                                    <p>6000</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6228 d33792e6194 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6228 d33792e6197 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6254" headers="d33792e6176 ">
                                    <p><span class="italic">105</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6254 d33792e6179 ">
                                    <p>David</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6254 d33792e6182 ">
                                    <p>Austin</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6254 d33792e6185 ">
                                    <p>DAUSTIN</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6254 d33792e6188 ">
                                    <p>590.423.4569</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6254 d33792e6191 ">
                                    <p>4800</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6254 d33792e6194 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6254 d33792e6197 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6280" headers="d33792e6176 ">
                                    <p><span class="italic">106</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6280 d33792e6179 ">
                                    <p>Valli</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6280 d33792e6182 ">
                                    <p>Pataballa</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6280 d33792e6185 ">
                                    <p>VPATABAL</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6280 d33792e6188 ">
                                    <p>590.423.4560</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6280 d33792e6191 ">
                                    <p>4800</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6280 d33792e6194 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6280 d33792e6197 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6306" headers="d33792e6176 ">
                                    <p><span class="italic">107</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6306 d33792e6179 ">
                                    <p>Diana</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6306 d33792e6182 ">
                                    <p>Lorentz</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6306 d33792e6185 ">
                                    <p>DLORENTZ</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6306 d33792e6188 ">
                                    <p>590.423.4567</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6306 d33792e6191 ">
                                    <p>4200</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6306 d33792e6194 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6306 d33792e6197 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6332" headers="d33792e6176 ">
                                    <p><span class="italic">108</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6332 d33792e6179 ">
                                    <p>Nancy</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6332 d33792e6182 ">
                                    <p>Greenberg</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6332 d33792e6185 ">
                                    <p>NGREENBE</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6332 d33792e6188 ">
                                    <p>515.124.4569</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6332 d33792e6191 ">
                                    <p>12008</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6332 d33792e6194 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6332 d33792e6197 ">
                                    <p>101</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6358" headers="d33792e6176 ">
                                    <p><span class="italic">109</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6358 d33792e6179 ">
                                    <p>Daniel</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6358 d33792e6182 ">
                                    <p>Faviet</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6358 d33792e6185 ">
                                    <p>DFAVIET</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6358 d33792e6188 ">
                                    <p>515.124.4169</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6358 d33792e6191 ">
                                    <p>9000</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6358 d33792e6194 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6358 d33792e6197 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6384" headers="d33792e6176 ">
                                    <p><span class="italic">110</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6384 d33792e6179 ">
                                    <p>John</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6384 d33792e6182 ">
                                    <p>Chen</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6384 d33792e6185 ">
                                    <p>JCHEN</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6384 d33792e6188 ">
                                    <p>515.124.4269</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6384 d33792e6191 ">
                                    <p>8200</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6384 d33792e6194 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6384 d33792e6197 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6410" headers="d33792e6176 ">
                                    <p><span class="italic">111</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6410 d33792e6179 ">
                                    <p>Ismael</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6410 d33792e6182 ">
                                    <p>Sciarra</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6410 d33792e6185 ">
                                    <p>ISCIARRA</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6410 d33792e6188 ">
                                    <p>515.124.4369</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6410 d33792e6191 ">
                                    <p>7700</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6410 d33792e6194 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6410 d33792e6197 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6436" headers="d33792e6176 ">
                                    <p><span class="italic">112</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6436 d33792e6179 ">
                                    <p>Jose Manuel</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6436 d33792e6182 ">
                                    <p>Urman</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6436 d33792e6185 ">
                                    <p>JMURMAN</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6436 d33792e6188 ">
                                    <p>515.124.4469</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6436 d33792e6191 ">
                                    <p>7800</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6436 d33792e6194 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6436 d33792e6197 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6462" headers="d33792e6176 ">
                                    <p><span class="italic">113</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6462 d33792e6179 ">
                                    <p>Luis</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6462 d33792e6182 ">
                                    <p>Popp</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6462 d33792e6185 ">
                                    <p>LPOOP</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6462 d33792e6188 ">
                                    <p>133.444.5555</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6462 d33792e6191 ">
                                    <p>6900</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6462 d33792e6194 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6462 d33792e6197 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DBFSG797"></a><a id="DBFSG796"></a><div class="props_rev_3"><a id="GUID-1B338D1C-535A-4E85-9A03-F73DF2050E80" name="GUID-1B338D1C-535A-4E85-9A03-F73DF2050E80"></a><h4 id="DBFSG-GUID-1B338D1C-535A-4E85-9A03-F73DF2050E80" class="sect4">About the HR Demo (3) - Logged in as a Team Manager</h4>
                  <div>
                     <p><a href="application-session-service-in-oracle-fusion-middleware.html#GUID-1B338D1C-535A-4E85-9A03-F73DF2050E80__BABGJCHB" title="This table shows the results of HR Demo (3), displaying employee records that you can access logged in as a Team Manager. This table has 8 columns. Column 1 is ID, column 2 is first name, column 3 is last name, column 4 is email, column 5 is phone, column 6 is salary, column 7 is department ID, and column 8 is manager ID.">Table 8-3</a> displays employee records that you can access logged in as a Team Manager, <code class="codeph">AHUNOLD</code>. You can see your team member's salary information; however, you cannot update their contact information, only your own contact information. 
                     </p>
                     <p>This access is set by the realm and grant: <code class="codeph">is my member(employee_id) =1</code> and <code class="codeph">VIEW_SENSITIVE_INFO to EMP</code>.
                     </p>
                     <p>Salary is only shown if you are authorized to view, and ID is shown as a link (Italic format in the table) if you are authorized to update.</p>
                     <div class="tblformalwide" id="GUID-1B338D1C-535A-4E85-9A03-F73DF2050E80__BABGJCHB">
                        <p class="titleintable">Table 8-3 Session Service HR Demo(3) Logged in as Team Manager AHUNOLD</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Session Service HR Demo(3) Logged in as Team Manager AHUNOLD" width="100%" border="1" summary="This table shows the results of HR Demo (3), displaying employee records that you can access logged in as a Team Manager. This table has 8 columns. Column 1 is ID, column 2 is first name, column 3 is last name, column 4 is email, column 5 is phone, column 6 is salary, column 7 is department ID, and column 8 is manager ID." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="8%" id="d33792e6635">ID</th>
                                 <th align="left" valign="bottom" width="12%" id="d33792e6638">First Name</th>
                                 <th align="left" valign="bottom" width="12%" id="d33792e6641">Last Name</th>
                                 <th align="left" valign="bottom" width="14%" id="d33792e6644">Email</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e6647">Phone</th>
                                 <th align="left" valign="bottom" width="10%" id="d33792e6650">Salary</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e6653">Department ID</th>
                                 <th align="left" valign="bottom" width="15%" id="d33792e6656">Manager ID</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6661" headers="d33792e6635 ">
                                    <p><span class="italic">103</span></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6661 d33792e6638 ">
                                    <p>Alexander</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6661 d33792e6641 ">
                                    <p>Hunold</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6661 d33792e6644 ">
                                    <p>AHUNOLD</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6661 d33792e6647 ">
                                    <p>510.222.3388</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6661 d33792e6650 ">
                                    <p>9000</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6661 d33792e6653 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6661 d33792e6656 ">
                                    <p>102</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6687" headers="d33792e6635 ">
                                    <p>104</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6687 d33792e6638 ">
                                    <p>Bruce</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6687 d33792e6641 ">
                                    <p>Ernst</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6687 d33792e6644 ">
                                    <p>BERNST</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6687 d33792e6647 ">
                                    <p>590.423.4568</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6687 d33792e6650 ">
                                    <p>6000</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6687 d33792e6653 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6687 d33792e6656 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6712" headers="d33792e6635 ">
                                    <p>105</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6712 d33792e6638 ">
                                    <p>David</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6712 d33792e6641 ">
                                    <p>Austin</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6712 d33792e6644 ">
                                    <p>DAUSTIN</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6712 d33792e6647 ">
                                    <p>590.423.4569</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6712 d33792e6650 ">
                                    <p>4800</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6712 d33792e6653 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6712 d33792e6656 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6737" headers="d33792e6635 ">
                                    <p>106</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6737 d33792e6638 ">
                                    <p>Valli</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6737 d33792e6641 ">
                                    <p>Pataballa</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6737 d33792e6644 ">
                                    <p>VPATABAL</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6737 d33792e6647 ">
                                    <p>590.423.4560</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6737 d33792e6650 ">
                                    <p>4800</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6737 d33792e6653 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6737 d33792e6656 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6762" headers="d33792e6635 ">
                                    <p>107</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6762 d33792e6638 ">
                                    <p>Diana</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6762 d33792e6641 ">
                                    <p>Lorentz</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6762 d33792e6644 ">
                                    <p>DLORENTZ</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6762 d33792e6647 ">
                                    <p>590.423.4567</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6762 d33792e6650 ">
                                    <p>4200</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6762 d33792e6653 ">
                                    <p>60</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6762 d33792e6656 ">
                                    <p>103</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6787" headers="d33792e6635 ">
                                    <p>108</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6787 d33792e6638 ">
                                    <p>Nancy</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6787 d33792e6641 ">
                                    <p>Greenberg</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6787 d33792e6644 ">
                                    <p>NGREENBE</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6787 d33792e6647 ">
                                    <p>515.124.4569</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6787 d33792e6650 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6787 d33792e6653 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6787 d33792e6656 ">
                                    <p>101</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6812" headers="d33792e6635 ">
                                    <p>109</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6812 d33792e6638 ">
                                    <p>Daniel</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6812 d33792e6641 ">
                                    <p>Faviet</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6812 d33792e6644 ">
                                    <p>DFAVIET</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6812 d33792e6647 ">
                                    <p>515.124.4169</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6812 d33792e6650 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6812 d33792e6653 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6812 d33792e6656 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6837" headers="d33792e6635 ">
                                    <p>110</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6837 d33792e6638 ">
                                    <p>John</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6837 d33792e6641 ">
                                    <p>Chen</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6837 d33792e6644 ">
                                    <p>JCHEN</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6837 d33792e6647 ">
                                    <p>515.124.4269</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6837 d33792e6650 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6837 d33792e6653 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6837 d33792e6656 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6862" headers="d33792e6635 ">
                                    <p>111</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6862 d33792e6638 ">
                                    <p>Ismael</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6862 d33792e6641 ">
                                    <p>Sciarra</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6862 d33792e6644 ">
                                    <p>ISCIARRA</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6862 d33792e6647 ">
                                    <p>515.124.4369</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6862 d33792e6650 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6862 d33792e6653 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6862 d33792e6656 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6887" headers="d33792e6635 ">
                                    <p>112</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6887 d33792e6638 ">
                                    <p>Jose Manuel</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6887 d33792e6641 ">
                                    <p>Urman</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6887 d33792e6644 ">
                                    <p>JMURMAN</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6887 d33792e6647 ">
                                    <p>515.124.4469</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6887 d33792e6650 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6887 d33792e6653 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6887 d33792e6656 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="8%" id="d33792e6912" headers="d33792e6635 ">
                                    <p>113</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6912 d33792e6638 ">
                                    <p>Luis</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d33792e6912 d33792e6641 ">
                                    <p>Popp</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33792e6912 d33792e6644 ">
                                    <p>LPOOP</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6912 d33792e6647 ">
                                    <p>133.444.5555</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d33792e6912 d33792e6650 ">
                                    <p>******</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6912 d33792e6653 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33792e6912 d33792e6656 ">
                                    <p>108</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>