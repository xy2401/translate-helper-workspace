<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter introduces concepts and procedures involved in programming with OCI."></meta>
      <meta name="description" content="This chapter introduces concepts and procedures involved in programming with OCI."></meta>
      <title>OCI编程基础</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="This chapter introduces concepts and procedures involved in programming with OCI."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="build-and-configure-oci-applications.html" title="Previous" type="text/html"></link>
      <link rel="next" href="data-types.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="build-and-configure-oci-applications.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="data-types.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI编程基础</li>
            </ol>
            <a id="GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5" name="GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5"></a><a id="LNOCI020"></a>
            
            <h2 id="LNOCI-GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5" class="sect2"><span class="enumeration_chapter">4</span> OCI编程基础</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍了使用OCI进行编程所涉及的概念和过程。</p>
               <p>阅读本章后，您应该拥有理解和创建基本OCI应用程序所需的大部分工具。</p>
               <p>本章包括以下主要部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oci-programming-basics.html#GUID-15C10430-3EBA-44B4-9518-BB097972A0F2" title="OCI应用程序的一般目标是代表多个用户进行操作。">OCI程序设计概述</a> 
                     </p>
                  </li>
                  <li>
                     <p><a href="oci-programming-basics.html#GUID-3CA268B4-AFC8-467C-B127-0E15E90A14DB" title="句柄和描述符是在OCI应用程序中定义的不透明数据结构。">OCI数据结构</a> 
                     </p>
                  </li>
                  <li>
                     <p><a href="oci-programming-basics.html#GUID-BD1CD486-6EA8-4C23-828F-DD1115317E5B" title="以下部分详细描述了开发OCI应用程序的每个步骤。">OCI编程步骤</a></p>
                  </li>
                  <li>
                     <p><a href="oci-programming-basics.html#GUID-39339E95-A79E-43BD-B57E-4DB536CB3475" title="OCI函数调用具有一组返回码。">OCI中的错误处理</a></p>
                  </li>
                  <li>
                     <p><a href="oci-programming-basics.html#GUID-A0A2BC74-CCF6-48B4-831F-768E1B65C33C" title="本节介绍了编写OCI应用程序时的一些其他问题。">其他编码指南</a></p>
                  </li>
                  <li>
                     <p><a href="oci-programming-basics.html#GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3" title="PL / SQL是Oracle对SQL语言的过程扩展。">关于在OCI程序中使用PL / SQL</a></p>
                  </li>
                  <li>
                     <p><a href="oci-programming-basics.html#GUID-09672717-CAFD-41D3-9D11-9139B6FB460C" title="以下部分介绍可用于全球化目的的OCI函数，例如派生语言环境信息，操作字符串，字符集转换和OCI消息传递。">OCI全球化支持</a> 
                     </p>
                  </li>
               </ul>
               <p>新用户应特别注意本章中提供的信息，因为它构成了本指南中提供的其他材料的基础。本章中的信息由后面章节中的信息补充。</p>
               <div class="infoboxnotealso" id="GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5__GUID-DB7D44CA-B4D2-4F8B-A42B-EC256DDB86F5">
                  <p class="notep1">也可以看看：</p>
                  <p><span class="bold"></span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../nlspg/programming-with-unicode.html#NLSPG0074" target="_blank"><span><cite>“Oracle数据库全球化支持指南”，</cite></span></a>用于讨论适用于多语言环境的OCI功能</p>
                     </li>
                     <li>
                        <p><a href="../addci/implementing-data-cartridges-in-C-CPP-and-java.html#ADDCI250" target="_blank"><span><cite>Oracle数据库数据盒式开发人员指南，</cite></span></a>用于讨论适用于盒式磁带服务的OCI功能</p>
                     </li>
                  </ul>
               </div>
            </div><a id="LNOCI16179"></a><a id="LNOCI16178"></a><div class="props_rev_3"><a id="GUID-15C10430-3EBA-44B4-9518-BB097972A0F2" name="GUID-15C10430-3EBA-44B4-9518-BB097972A0F2"></a><h3 id="LNOCI-GUID-15C10430-3EBA-44B4-9518-BB097972A0F2" class="sect3"><span class="enumeration_section">4.1</span> OCI程序设计概述</h3>
               <div>
                  <p>OCI应用程序的一般目标是代表多个用户进行操作。</p>
                  <p>在n层配置中，多个用户正在向客户端应用程序发送HTTP请求。客户端应用程序可能需要执行一些数据操作，包括交换数据和执行数据处理。</p>
                  <p>OCI使用以下基本程序流程：</p>
                  <ol>
                     <li>
                        <p>通过初始化OCI编程环境和线程来创建环境。</p>
                     </li>
                     <li>
                        <p>分配必要的句柄，并建立服务器连接和用户会话。</p>
                     </li>
                     <li>
                        <p>通过在服务器上执行SQL语句与数据库服务器交换数据，并执行必要的应用程序数据处理。</p>
                     </li>
                     <li>
                        <p>执行预准备语句，或准备新语句以便执行。</p>
                     </li>
                     <li>
                        <p>终止用户会话并断开与服务器连接的连接。</p>
                     </li>
                     <li>
                        <p>免费句柄和数据结构。</p>
                     </li>
                  </ol>
                  <p><a href="oci-programming-basics.html#GUID-15C10430-3EBA-44B4-9518-BB097972A0F2__I461082">图4-1</a>说明了OCI应用程序中的步骤流程。<a href="oci-programming-basics.html#GUID-BD1CD486-6EA8-4C23-828F-DD1115317E5B" title="以下部分详细描述了开发OCI应用程序的每个步骤。">OCI编程步骤</a>更详细地描述了每个步骤。
                  </p>
                  <div class="figure" id="GUID-15C10430-3EBA-44B4-9518-BB097972A0F2__I461082">
                     <p class="titleinfigure">图4-1基本OCI程序流程</p><img src="img/lnoci017.gif" alt="下面是图4-1的描述" title="下面是图4-1的描述" longdesc="img_text/lnoci017.html"><br><a href="img_text/lnoci017.html">“图4-1基本OCI程序流程”的说明</a></div>
                  <!-- class="figure" -->
                  <p>该图和步骤列表提供了OCI编程步骤的简单概括。可能会有变化，具体取决于程序的功能。包含更复杂功能的OCI应用程序（例如管理多个会话和事务以及使用对象）需要额外的步骤。</p>
                  <p>所有OCI函数调用都在环境的上下文中执行。OCI流程中可以有多个环境。如果环境需要任何进程级初始化，则会自动执行。</p>
                  <div class="infoboxnote" id="GUID-15C10430-3EBA-44B4-9518-BB097972A0F2__GUID-6DF50731-751D-46CA-9C25-4992F08C3141">
                     <p class="notep1">注意：</p>
                     <p>在OCI应用程序中可以有多个活动连接和语句。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-15C10430-3EBA-44B4-9518-BB097972A0F2__GUID-761E00D6-02CE-45E2-A72A-C1130E6E6845">
                     <p class="notep1">也可以看看：</p>
                     <p> <a href="oci-object-relational-programming.html#GUID-8A9E9784-9D10-40B1-ADE9-4CE9325255E5" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。它还讨论了OCI的对象导航函数调用。">OCI对象关系编程</a>通过<a href="using-object-type-translator-in-oci.html#GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" title="本章讨论了对象类型转换器（OTT），它用于将数据库对象类型和命名集合类型映射到C结构，以便在OCI应用程序中使用。">使用带OCI的对象类型转换</a>器获取有关访问和操作对象的信息</p>
                  </div>
               </div>
            </div><a id="LNOCI16180"></a><div class="props_rev_3"><a id="GUID-3CA268B4-AFC8-467C-B127-0E15E90A14DB" name="GUID-3CA268B4-AFC8-467C-B127-0E15E90A14DB"></a><h3 id="LNOCI-GUID-3CA268B4-AFC8-467C-B127-0E15E90A14DB" class="sect3"><span class="enumeration_section">4.2</span> OCI数据结构</h3>
               <div>
                  <p><span class="italic">句柄</span>和<span class="italic">描述符</span>是在OCI应用程序中定义的不透明数据结构。
                  </p>
                  <p>句柄和描述符可以通过特定的分配调用直接分配，也可以由OCI函数隐式分配。</p>
                  <div class="infoboxnote" id="GUID-3CA268B4-AFC8-467C-B127-0E15E90A14DB__GUID-8CE54B6D-B689-4211-89A7-0BAAA031CF5D">
                     <p class="notep1">注意：</p>
                     <p>以前编写过7.x OCI应用程序的程序员必须熟悉大多数OCI调用所使用的这些数据结构。</p>
                  </div>
                  <p>句柄和描述符存储与数据，连接或应用程序行为有关的信息。句柄在下一节中有更详细的定义。</p>
                  <p>本节包括以下主题： <a href="oci-programming-basics.html#GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E" title="几乎每个OCI调用都在其参数列表中包含一个或多个句柄。">句柄</a></p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-programming-basics.html#GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C" title="OCI描述符和定位符是不透明的数据结构，用于维护特定于数据的信息。">OCI描述符</a></li>
                     </ul>
                  </div>
               </div><a id="LNOCI16182"></a><a id="LNOCI16181"></a><div class="props_rev_3"><a id="GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E" name="GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E"></a><h4 id="LNOCI-GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E" class="sect4"><span class="enumeration_section">4.2.1</span>手柄</h4>
                  <div>
                     <p>几乎每个OCI调用都在其参数列表中包含一个或多个句柄。</p>
                     <div class="section">
                        <p>句柄是指向OCI库分配的存储区域的不透明指针。您使用句柄来存储上下文或连接信息（例如，环境或服务上下文句柄），或者它可以存储有关OCI函数或数据的信息（例如，错误或描述句柄）。句柄可以使编程更容易，因为库而不是应用程序维护这些数据。</p>
                        <p>大多数OCI应用程序必须访问存储在句柄中的信息。get和set属性OCI调用， <code class="codeph">OCIAttrGet()</code>和<code class="codeph">OCIAttrSet()</code>访问并设置此信息。
                        </p>
                        <p><a href="oci-programming-basics.html#GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E__G466063" title="该表有3列。第1列是句柄类型描述，第2列是C数据类型，第3列是句柄类型常量。">表4-1</a>列出了为OCI定义的句柄。对于每种句柄类型，列出了用于标识OCI调用中句柄类型的C数据类型和句柄类型常量。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E__G466063">
                        <p class="titleintable">表4-1 OCI句柄类型</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI句柄类型" width="100%" border="1" summary="This table has 3 columns. Column 1 is the handle type description, column 2 is the C data type, and column 3 is the handle type constant." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d26512e1059">描述</th>
                                 <th align="left" valign="bottom" width="30%" id="d26512e1062">C数据类型</th>
                                 <th align="left" valign="bottom" width="35%" id="d26512e1065">处理类型常量</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1070" headers="d26512e1059 ">
                                    <p>OCI环境处理</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1070 d26512e1062 ">
                                    <p><code class="codeph">OCIEnv</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1070 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_ENV</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1082" headers="d26512e1059 ">
                                    <p>OCI错误句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1082 d26512e1062 ">
                                    <p><code class="codeph">OCIError</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1082 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_ERROR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1094" headers="d26512e1059 ">
                                    <p>OCI服务上下文句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1094 d26512e1062 ">
                                    <p><code class="codeph">OCISvcCtx</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1094 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SVCCTX</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1106" headers="d26512e1059 ">
                                    <p>OCI语句句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1106 d26512e1062 ">
                                    <p><code class="codeph">OCIStmt</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1106 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_STMT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1118" headers="d26512e1059 ">
                                    <p>OCI绑定句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1118 d26512e1062 ">
                                    <p><code class="codeph">OCIBind</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1118 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_BIND</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1130" headers="d26512e1059 ">
                                    <p>OCI定义句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1130 d26512e1062 ">
                                    <p><code class="codeph">OCIDefine</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1130 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_DEFINE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1142" headers="d26512e1059 ">
                                    <p>OCI描述句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1142 d26512e1062 ">
                                    <p><code class="codeph">OCIDescribe</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1142 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_DESCRIBE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1154" headers="d26512e1059 ">
                                    <p>OCI服务器句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1154 d26512e1062 ">
                                    <p><code class="codeph">OCIServer</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1154 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SERVER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1166" headers="d26512e1059 ">
                                    <p>OCI用户会话句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1166 d26512e1062 ">
                                    <p><code class="codeph">OCISession</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1166 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SESSION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1178" headers="d26512e1059 ">
                                    <p>OCI身份验证信息句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1178 d26512e1062 ">
                                    <p><code class="codeph">OCIAuthInfo</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1178 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_AUTHINFO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1190" headers="d26512e1059 ">
                                    <p>OCI连接池句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1190 d26512e1062 ">
                                    <p><code class="codeph">OCICPool</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1190 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_CPOOL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1203" headers="d26512e1059 ">
                                    <p>OCI会话池句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1203 d26512e1062 ">
                                    <p><code class="codeph">OCISPool</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1203 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SPOOL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1215" headers="d26512e1059 ">
                                    <p>OCI交易句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1215 d26512e1062 ">
                                    <p><code class="codeph">OCITrans</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1215 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_TRANS</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1227" headers="d26512e1059 ">
                                    <p>OCI复杂对象检索（COR）句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1227 d26512e1062 ">
                                    <p><code class="codeph">OCIComplexObject</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1227 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_COMPLEXOBJECT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1239" headers="d26512e1059 ">
                                    <p>OCI线程句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1239 d26512e1062 ">
                                    <p><code class="codeph">OCIThreadHandle</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1239 d26512e1065 ">
                                    <p>不适用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1250" headers="d26512e1059 ">
                                    <p>OCI订阅句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1250 d26512e1062 ">
                                    <p><code class="codeph">OCISubscription</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1250 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SUBSCRIPTION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1262" headers="d26512e1059 ">
                                    <p>OCI直接路径上下文句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1262 d26512e1062 ">
                                    <p><code class="codeph">OCIDirPathCtx</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1262 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_DIRPATH_CTX</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1274" headers="d26512e1059 ">
                                    <p>OCI直接路径函数上下文句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1274 d26512e1062 ">
                                    <p><code class="codeph">OCIDirPathFuncCtx</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1274 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_DIRPATH_FN_CTX</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1286" headers="d26512e1059 ">
                                    <p>OCI直接路径列数组句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1286 d26512e1062 ">
                                    <p><code class="codeph">OCIDirPathColArray</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1286 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_DIRPATH_COLUMN_ARRAY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1298" headers="d26512e1059 ">
                                    <p>OCI直接路径流句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1298 d26512e1062 ">
                                    <p><code class="codeph">OCIDirPathStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1298 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_DIRPATH_STREAM</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1310" headers="d26512e1059 ">
                                    <p>OCI流程处理</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1310 d26512e1062 ">
                                    <p><code class="codeph">OCIProcess</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1310 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_PROC</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1322" headers="d26512e1059 ">
                                    <p>OCI管理处理</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1322 d26512e1062 ">
                                    <p><code class="codeph">OCIAdmin</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1322 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_ADMIN</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1335" headers="d26512e1059 ">
                                    <p>OCI HA事件句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1335 d26512e1062 ">
                                    <p><code class="codeph">OCIEvent</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1335 d26512e1065 ">
                                    <p>不适用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1346" headers="d26512e1059 ">
                                    <p>OCI SODA收集手柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1346 d26512e1062 ">
                                    <p><code class="codeph">OCISodaColl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1346 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SODA_COLLECTION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1358" headers="d26512e1059 ">
                                    <p>OCI SODA收集光标手柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1358 d26512e1062 ">
                                    <p><code class="codeph">OCISodaCollCursor</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1358 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SODA_CURSOR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1370" headers="d26512e1059 ">
                                    <p>OCI SODA文档光标句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1370 d26512e1062 ">
                                    <p><code class="codeph">OCISodaDocCursor</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1370 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SODA_DOC_CURSOR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1382" headers="d26512e1059 ">
                                    <p>OCI SODA文档句柄</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1382 d26512e1062 ">
                                    <p><code class="codeph">OCISodaDoc</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1382 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SODA_DOCUMENT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1394" headers="d26512e1059 ">
                                    <p>OCI SODA输出选项处理</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1394 d26512e1062 ">
                                    <p><code class="codeph">OCISodaOutputOptions</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1394 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SODA_OUTPUT_OPTIONS</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d26512e1406" headers="d26512e1059 ">
                                    <p>OCI SODA操作选项处理</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d26512e1406 d26512e1062 ">
                                    <p><code class="codeph">OCISodaOperationOptions</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d26512e1406 d26512e1065 ">
                                    <p><code class="codeph">OCI_HTYPE_SODA_OPER_OPTIONS</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-6374C1BF-9959-4791-8FA9-C630CD932992" title="您的应用程序为特定环境句柄分配所有句柄（绑定，定义和线程句柄除外）。">关于分配和释放句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-8C59F2D9-3A69-41EE-927B-13659F6AD411">环境处理</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-53AE9E90-F7F7-42B0-9266-D6173191F463" title="错误句柄作为参数传递给大多数OCI调用。">错误句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B" title="服务上下文句柄定义用于确定对服务器的OCI调用的操作上下文的属性。">服务上下文句柄和关联句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-37CEA9AF-A95A-463B-BA0D-1377F1912B03" title="语句句柄是标识SQL或PL / SQL语句及其关联属性的上下文">声明，绑定和定义句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-63B7D9FD-A125-4948-A1BF-BDCCA785B835" title="描述句柄由OCI描述调用OCIDescribeAny（）使用。">描述句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-69A6ADB9-FBAD-4BD3-8D09-B601C0118F06" title="复杂对象检索（COR）句柄由一些与Oracle数据库中的对象一起使用的OCI应用程序使用。">复杂对象检索句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-9ED08575-41FB-4116-8EB6-25CEC359444B" title="线程句柄用于多线程应用程序。">线程句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-30BFCB00-7024-4936-842E-9A8986A9D9FC" title="订阅句柄由OCI客户端应用程序使用，该应用程序注册并订阅以接收AQ名称空间中的数据库事件或事件的通知。">订阅句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-F3338E24-AFCD-44B3-8C64-7A959810C482" title="直接路径句柄对于在Oracle数据库中使用直接路径加载引擎的OCI应用程序是必需的。">直接路径句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-DEA5B616-503F-47C0-AAFB-273EAC1B918A" title="连接池句柄用于将物理连接池化为虚拟连接的应用程序。">连接池句柄</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-1072961E-BF2A-436D-B74C-D54F962C059C" title="所有OCI句柄都具有表示存储在该句柄中的数据的属性。">处理属性</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C" title="OCI描述符和定位符是不透明的数据结构，用于维护特定于数据的信息。">OCI描述符</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oci-programming-basics.html#GUID-1072961E-BF2A-436D-B74C-D54F962C059C">处理属性</a></li>
                           <li><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03">OCIAttrSet（）</a></li>
                           <li><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9">OCIAttrGet（）</a></li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16183"></a><div class="props_rev_3"><a id="GUID-6374C1BF-9959-4791-8FA9-C630CD932992" name="GUID-6374C1BF-9959-4791-8FA9-C630CD932992"></a><h5 id="LNOCI-GUID-6374C1BF-9959-4791-8FA9-C630CD932992" class="sect5"><span class="enumeration_section">4.2.1.1</span>关于分配和释放句柄</h5>
                     <div>
                        <p>您的应用程序为特定环境句柄分配所有句柄（绑定，定义和线程句柄除外）。</p>
                        <p>您将环境句柄作为句柄分配调用的参数之一传递。然后，分配的句柄特定于该特定环境。</p>
                        <p>bind和define句柄为语句句柄分配，并包含有关该句柄表示的语句的信息。</p>
                        <div class="infoboxnote" id="GUID-6374C1BF-9959-4791-8FA9-C630CD932992__GUID-30F77D9B-45F7-4BF6-8783-337C726B12CF">
                           <p class="notep1">注意：</p>
                           <p>绑定和定义句柄由OCI库隐式分配，不需要用户分配。</p>
                        </div>
                        <p>通过调用<code class="codeph">OCIEnvNlsCreate()</code>或<code class="codeph">OCIEnvCreate()</code>来分配和初始化环境句柄，其中一个是所有OCI应用程序所必需的。
                        </p>
                        <p>使用OCI句柄分配调用<code class="codeph">OCIHandleAlloc()</code>初始化所有用户分配的句柄。
                        </p>
                        <p>句柄类型包括：会话池句柄，直接路径上下文句柄，线程句柄，COR句柄，订阅句柄，描述句柄，语句句柄，服务上下文句柄，错误句柄，服务器句柄，连接池句柄，事件句柄和管理句柄。</p>
                        <p>线程句柄分配有<code class="codeph">OCIThreadHndInit()</code>调用。
                        </p>
                        <p>应用程序必须在不再需要时释放所有句柄。<code class="codeph">OCIHandleFree()</code>函数释放所有句柄。
                        </p>
                        <div class="infoboxnote" id="GUID-6374C1BF-9959-4791-8FA9-C630CD932992__GUID-C7DBC94A-4E71-4D40-AB68-F34A2ECA6575">
                           <p class="notep1">注意：</p>
                           <p><span class="bold"></span>释放父句柄时，与其关联的所有子句柄也将被释放，并且不能再使用。例如，当释放语句句柄时，也会释放与其关联的任何绑定和定义句柄。
                           </p>
                        </div>
                        <p>句柄减少了对全局变量的需求。句柄也使错误报告更容易。错误句柄用于返回错误和诊断信息。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26">OCI示范计划</a></li>
                              <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244">OCIEnvCreate（）</a></li>
                              <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9">OCIEnvNlsCreate（）</a></li>
                              <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5">OCIHandleAlloc（）</a></li>
                              <li><a href="thread-management-functions.html#GUID-1D3F6256-B071-436D-B6D6-5C34AF691304">OCIThreadHndInit（）</a></li>
                              <li><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A">OCIHandleFree（）</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16184"></a><div class="props_rev_3"><a id="GUID-8C59F2D9-3A69-41EE-927B-13659F6AD411" name="GUID-8C59F2D9-3A69-41EE-927B-13659F6AD411"></a><h5 id="LNOCI-GUID-8C59F2D9-3A69-41EE-927B-13659F6AD411" class="sect5"><span class="enumeration_section">4.2.1.2</span>环境处理</h5>
                     <div>
                        <p><span class="italic">环境句柄</span>定义了一个调用所有OCI函数的上下文。每个环境句柄都包含一个内存缓存，可以实现快速内存访问环境句柄下的所有内存分配都是从此缓存完成的。如果多个线程尝试在同一环境句柄下分配内存，则会序列化对缓存的访问。当多个线程共享单个环境句柄时，它们可能会阻止对缓存的访问。
                        </p>
                        <p>环境句柄作为<span class="italic">父</span>参数传递给<a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="返回指向已分配和初始化句柄的指针。">OCIHandleAlloc（）</a>调用以分配所有其他句柄类型。绑定和定义句柄是隐式分配的。
                        </p>
                     </div>
                  </div><a id="LNOCI16185"></a><div class="props_rev_3"><a id="GUID-53AE9E90-F7F7-42B0-9266-D6173191F463" name="GUID-53AE9E90-F7F7-42B0-9266-D6173191F463"></a><h5 id="LNOCI-GUID-53AE9E90-F7F7-42B0-9266-D6173191F463" class="sect5"><span class="enumeration_section">4.2.1.3</span>错误句柄</h5>
                     <div>
                        <p><span class="italic">错误句柄</span>作为参数传递给大多数OCI调用。
                        </p>
                        <p>错误句柄维护有关OCI操作期间发生的错误的信息。如果调用中发生错误，则可以将错误句柄传递给<code class="codeph">OCIErrorGet()</code>以获取有关发生的错误的其他信息。
                        </p>
                        <p>分配错误句柄是OCI应用程序的第一步，因为大多数OCI调用都需要将错误句柄作为参数。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="managing-scalable-platforms.html#GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69" title="要利用线程安全性，应用程序必须在线程安全的操作系统上运行。">关于实现线程安全</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16187"></a><a id="LNOCI16186"></a><div class="props_rev_3"><a id="GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B" name="GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B"></a><h5 id="LNOCI-GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B" class="sect5"><span class="enumeration_section">4.2.1.4</span>服务上下文句柄和关联句柄</h5>
                     <div>
                        <p><span class="italic">服务上下文句柄</span>定义用于确定对服务器的OCI调用的操作上下文的属性。
                        </p>
                        <p>服务上下文句柄包含三个句柄作为其属性，表示服务器连接，用户会话和事务。这些属性<a href="oci-programming-basics.html#GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B__I461365">如图4-2所示</a> 。
                        </p>
                        <div class="figure" id="GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B__I461365">
                           <p class="titleinfigure">图4-2服务上下文的组件</p><img src="img/lnoci019.gif" alt="下面是图4-2的描述" title="下面是图4-2的描述" longdesc="img_text/lnoci019.html"><br><a href="img_text/lnoci019.html">“图4-2服务上下文的组件”的描述</a></div>
                        <!-- class="figure" -->
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic">服务器句柄</span>标识与数据库的连接。它转换为面向连接的传输机制中的物理连接。
                              </p>
                           </li>
                           <li>
                              <p><span class="italic">用户会话句柄</span>定义用户的角色和权限（也称为用户的安全域），以及调用执行的操作上下文。
                              </p>
                           </li>
                           <li>
                              <p><span class="italic">事务句柄</span>定义执行SQL操作的事务。事务上下文包括用户会话状态信息，包括任何获取状态和包实例化。
                              </p>
                           </li>
                        </ul>
                        <p>以这种方式打破服务上下文句柄提供了可伸缩性，并使程序员能够创建复杂的多层应用程序和事务处理（TP）监视器，以代表多个应用程序服务器和不同事务上下文上的多个用户执行请求。</p>
                        <p>您必须先使用<code class="codeph">OCIHandleAlloc()</code> ， <code class="codeph">OCILogon()</code>或<code class="codeph">OCILogon2()</code>分配和初始化服务上下文句柄，然后才能使用它。服务上下文句柄由<code class="codeph">OCIHandleAlloc()</code>显式分配。它可以使用<code class="codeph">OCIAttrSet()</code>与服务器，用户会话和事务句柄进行初始化。如果使用<code class="codeph">OCILogon()</code>隐式分配服务上下文句柄，则它已经初始化。
                        </p>
                        <p>在任何时候只为每个数据库连接维护一个用户会话的应用程序可以调用<code class="codeph">OCILogon()</code>来获取初始化的服务上下文句柄。
                        </p>
                        <p>在需要更复杂会话管理的应用程序中，必须显式分配服务上下文句柄，并且必须将服务器和用户会话句柄显式设置到服务上下文句柄中。<code class="codeph">OCIServerAttach()</code>和<code class="codeph">OCISessionBegin()</code>调用分别初始化服务器和用户会话句柄。
                        </p>
                        <p>如果应用程序是全局事务，或者有多个事务处理活动，则应用程序仅显式定义事务。当应用程序对数据库进行更改时，它可以与OCI自动创建的隐式事务一起正常工作。</p>
                        <div class="infoboxnotealso" id="GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B__GUID-AE5F125F-D883-4021-9675-9D85AD409DF6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="managing-scalable-platforms.html#GUID-3E96017A-64D3-4A29-B617-C9879610B5F2" title="OCI有一组API调用来支持本地和全局事务的操作。">OCI对交易的支持</a></p>
                              </li>
                              <li>
                                 <p>有关建立服务器连接和用户会话的更多信息，请参阅<a href="oci-programming-basics.html#GUID-BA2B78A2-A855-4116-8ADC-13BFA1ADEAB3" title="本节介绍如何初始化OCI环境，建立与服务器的连接以及授权用户对数据库执行操作。">OCI环境初始化</a>和<a href="managing-scalable-platforms.html#GUID-5579C27E-2536-4B21-96DB-3EDFECF576B5" title="OCI可以验证和维护多个用户。">密码和会话管理</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="返回指向已分配和初始化句柄的指针。">OCIHandleAlloc（）</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-F4592576-BE9D-4583-83AD-5D56D2E592E6" title="创建一个简单的登录会话。">OCILogon（）</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="获取一个会话。">OCILogon2（）</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="设置句柄或描述符的属性值。">OCIAttrSet（）</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="为OCI操作创建数据源的访问路径。">OCIServerAttach（）</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="创建用户会话并开始给定服务器的用户会话。">OCISessionBegin（）</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="获取一个会话。">OCISessionGet（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16189"></a><a id="LNOCI16188"></a><div class="props_rev_3"><a id="GUID-37CEA9AF-A95A-463B-BA0D-1377F1912B03" name="GUID-37CEA9AF-A95A-463B-BA0D-1377F1912B03"></a><h5 id="LNOCI-GUID-37CEA9AF-A95A-463B-BA0D-1377F1912B03" class="sect5"><span class="enumeration_section">4.2.1.5</span>语句，绑定和定义句柄</h5>
                     <div>
                        <p><span class="italic">语句句柄</span>是标识SQL或PL / SQL语句及其关联属性的上下文</p>
                        <p>语句句柄<a href="oci-programming-basics.html#GUID-37CEA9AF-A95A-463B-BA0D-1377F1912B03__CHDIBGAG">如图4-3</a>所示。
                        </p>
                        <div class="figure" id="GUID-37CEA9AF-A95A-463B-BA0D-1377F1912B03__CHDIBGAG">
                           <p class="titleinfigure">图4-3语句句柄</p><img src="img/lnoci041.gif" alt="下面是图4-3的描述" title="下面是图4-3的描述" longdesc="img_text/lnoci041.html"><br><a href="img_text/lnoci041.html">“图4-3语句句柄”的说明</a></div>
                        <!-- class="figure" -->
                        <p>有关输入和输出绑定变量的信息存储在<span class="italic">绑定句柄中</span> 。OCI库为与<code class="codeph">OCIBindByName()</code>或<code class="codeph">OCIBindByName2()</code>或<code class="codeph">OCIBindByPos()</code>或<code class="codeph">OCIBindByPos2()</code>函数绑定的每个占位符分配绑定句柄。用户不得分配绑定句柄。它们由bind调用隐式分配。
                        </p>
                        <p>查询返回的提取数据（select语句）将根据<span class="italic">define句柄</span>的规范进行转换和检索。OCI库为使用<code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code>定义的每个输出变量分配一个define句柄。用户不得分配定义句柄。它们由define调用隐式分配。
                        </p>
                        <p>绑定和定义句柄由OCI库隐式分配，并且如果重复绑定或定义操作，则透明地重用。应用程序需要绑定或定义句柄的实际值，以便<a href="binding-and-defining-in-oci.html#GUID-4C2BD7BB-5768-4E8A-82BF-84FB0030A8C5" title="This chapter describes binding and defining in OCI.">在OCI</a>中<a href="binding-and-defining-in-oci.html#GUID-4C2BD7BB-5768-4E8A-82BF-84FB0030A8C5" title="本章介绍OCI中的绑定和定义。">绑定和定义中</a>描述高级绑定或定义操作。释放语句句柄或在语句句柄上准备新语句时释放句柄。显式分配绑定或定义句柄可能会导致内存泄漏。显式释放绑定或定义句柄可能会导致程序异常终止。
                        </p>
                        <div class="infoboxnotealso" id="GUID-37CEA9AF-A95A-463B-BA0D-1377F1912B03__GUID-9A5B855B-94BD-4ABC-9967-EA42B19E315F">
                           <p class="notep1">也可以看看：</p>
                           <p> </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="binding-and-defining-in-oci.html#GUID-EE9AD90D-8CFD-4380-9D5E-819555EB3A8E" title="更高级的绑定操作包括多步骤绑定，以及命名数据类型和REF的绑定。">OCI中的高级绑定操作</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="binding-and-defining-in-oci.html#GUID-237FC150-290A-42B8-99CB-2C6AFA5B9F9E" title="本节介绍高级定义操作，包括命名数据类型和REF的多步定义和定义。">OCI中的高级定义操作</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-CD63DF78-2178-4727-A896-B9673C4A37F0" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。">OCIBindByName（）</a></p>
                              </li>
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-55C47708-5468-4106-89BE-1AB60861D037" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此函数。">OCIBindByName2（）</a></p>
                              </li>
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-D28DF5A7-3C75-4E52-82F7-A5D6D5714E69" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。">OCIBindByPos（）</a></p>
                              </li>
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-5C505821-323D-473D-825B-448C8D9A6702" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此调用。">OCIBindByPos2（）</a></p>
                              </li>
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="将选择列表中的项与类型和输出数据缓冲区相关联。">OCIDefineByPos（）</a></p>
                              </li>
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-74939FB5-919E-4D24-B327-AFB532435061" title="将选择列表中的项与类型和输出数据缓冲区相关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此调用。">OCIDefineByPos2（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16190"></a><div class="props_rev_3"><a id="GUID-63B7D9FD-A125-4948-A1BF-BDCCA785B835" name="GUID-63B7D9FD-A125-4948-A1BF-BDCCA785B835"></a><h5 id="LNOCI-GUID-63B7D9FD-A125-4948-A1BF-BDCCA785B835" class="sect5"><span class="enumeration_section">4.2.1.6</span>描述句柄</h5>
                     <div>
                        <p><span class="italic">描述句柄</span>由OCI描述调用<code class="codeph">OCIDescribeAny()</code> 。
                        </p>
                        <p><code class="codeph">OCIDescribeAny()</code>调用获取有关数据库中的架构对象的信息（例如，函数或过程）。该调用将描述句柄作为其参数之一，以及有关所描述对象的信息。调用完成后，将使用有关对象的信息填充describe句柄。然后，OCI应用程序可以通过参数描述符的属性获得描述信息。
                        </p>
                        <div class="infoboxnotealso" id="GUID-63B7D9FD-A125-4948-A1BF-BDCCA785B835__GUID-02AB653D-5C3B-4166-883A-227D8A3229DD">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关使用<code class="codeph">OCIDescribeAny()</code>函数的更多信息，请<a href="describing-schema-metadata.html#GUID-CED0D15A-D873-43F7-A5B2-51FC0662C250" title="执行模式对象及其子模式对象的显式描述。OCIDescribeAny（）调用限制返回到基本信息的信息，并停止扩展节点（如果它等于另一个描述操作）。执行描述操作时应注意什么。OCI_ATTR_TYPECODE属性返回表示使用CREATE TYPE语句创建新类型时用户提供的类型的类型代码。要描述类型对象，必须在对象模式下初始化OCI进程。可以使用带有OCIStmtExecute（）的隐式描述和带有OCIDescribeAny（）的显式描述来返回列属性OCI_ATTR_PRECISION。类型方法的OCI_ATTR_LIST_ARGUMENTS属性表示方法的第二级参数。本节介绍属于不同参数的属性和句柄。列出并描述表或视图的参数的类型特定属性。列出并描述参数用于过程或函数时的特定于类型的属性。列出并描述参数用于包时的属性。列出并描述参数用于类型时的属性。列出并描述参数用于类型属性时的属性。当参数用于类型的方法时，列出并记录属性。列出并描述参数用于集合类型时的属性。列出并描述参数用于同义词时的属性。列出并描述参数用于序列时的属性。列出并描述参数用于表或视图列时的属性。列出并描述参数用于过程或函数的参数时的属性。当参数用于列，参数和子程序列表或包记录类型的字段时，列出并描述属性。列出并描述参数用于模式类型时的属性。列出并描述参数用于数据库类型时的属性。列出并描述参数用于规则时的属性。列出并描述参数用于规则集时的属性。列出并描述参数用于评估上下文时的属性。列出并描述参数用于表别名时的属性。列出并描述参数用于变量时的属性。列出并描述参数用于名称 - 值对时的属性。查询和列信息支持字符长度语义。如果使用字符长度语义创建数据库列，则隐式描述信息包含字符长度，字节长度和指示如何创建数据库列的标志。表的显式描述有三个属性：OCI_ATTR_DATA_SIZE，OCI_ATTR_CHAR_SIZE和OCI_ATTR_CHAR_USED.Character-length语义取决于服务器或客户端的发布。最好在服务器和客户端都是Oracle9i或更高版本时进行描述。否则，将导致兼容性问题。以下示例演示了如何使用OCIDescribeAny（）来描述不同类型的架构对象。说明使用显式描述来检索表的列数据类型。描述类型方法（也分为函数和过程）所需的步骤与常规PL / SQL函数和过程相同。说明在命名对象类型上使用显式描述。说明在命名集合类型上使用显式描述。显示一个循环，用于在查询执行后检索与查询对应的列名和数据类型。说明使用不可见列属性并检查每列以确定它是否为不可见列。">描述架构元数据</a></p>
                              </li>
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="描述现有的模式和子模式对象。">OCIDescribeAny（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16191"></a><div class="props_rev_3"><a id="GUID-69A6ADB9-FBAD-4BD3-8D09-B601C0118F06" name="GUID-69A6ADB9-FBAD-4BD3-8D09-B601C0118F06"></a><h5 id="LNOCI-GUID-69A6ADB9-FBAD-4BD3-8D09-B601C0118F06" class="sect5"><span class="enumeration_section">4.2.1.7</span>复杂对象检索句柄</h5>
                     <div>
                        <p><span class="italic">复杂对象检索（COR）句柄</span>由一些与Oracle数据库中的对象一起使用的OCI应用程序使用。
                        </p>
                        <p>复杂对象检索（COR）句柄包含<span class="italic">COR描述符，</span>提供检索另一个对象引用的对象的指令。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="oci-object-relational-programming.html#GUID-03683C87-7758-421A-BC51-C54A5A7679F2" title="复杂对象包括其根对象及其逻辑相关对象集，每个对象基于给定深度级别被预取。">复杂对象检索</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16192"></a><div class="props_rev_3"><a id="GUID-9ED08575-41FB-4116-8EB6-25CEC359444B" name="GUID-9ED08575-41FB-4116-8EB6-25CEC359444B"></a><h5 id="LNOCI-GUID-9ED08575-41FB-4116-8EB6-25CEC359444B" class="sect5"><span class="enumeration_section">4.2.1.8</span>螺纹手柄</h5>
                     <div>
                        <p>线程句柄用于多线程应用程序。</p>
                        <p>有关在多线程应用程序中使用的线程句柄的信息，请参阅以下OCIThread包。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="managing-scalable-platforms.html#GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717" title="OCIThread包提供了一些常用的线程原语。">OCIThread包</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16193"></a><div class="props_rev_3"><a id="GUID-30BFCB00-7024-4936-842E-9A8986A9D9FC" name="GUID-30BFCB00-7024-4936-842E-9A8986A9D9FC"></a><h5 id="LNOCI-GUID-30BFCB00-7024-4936-842E-9A8986A9D9FC" class="sect5"><span class="enumeration_section">4.2.1.9</span>订阅句柄</h5>
                     <div>
                        <p>订阅句柄由OCI客户端应用程序使用，该应用程序注册并订阅以接收AQ名称空间中的数据库事件或事件的通知。</p>
                        <p>订阅句柄封装了与客户端注册相关的所有信息。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="notification-streams-advanced-queuing.html#GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" title="发布 - 订阅通知功能允许OCI应用程序直接接收客户端通知，注册可以向其发送通知的电子邮件地址，注册可以发布通知的HTTP URL，或者注册要在其上调用的PL / SQL过程。通知。">在OCI中发布 - 订阅通知</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16195"></a><a id="LNOCI16194"></a><div class="props_rev_3"><a id="GUID-F3338E24-AFCD-44B3-8C64-7A959810C482" name="GUID-F3338E24-AFCD-44B3-8C64-7A959810C482"></a><h5 id="LNOCI-GUID-F3338E24-AFCD-44B3-8C64-7A959810C482" class="sect5"><span class="enumeration_section">4.2.1.10</span>直接路径句柄</h5>
                     <div>
                        <p>直接路径句柄对于在Oracle数据库中使用直接路径加载引擎的OCI应用程序是必需的。</p>
                        <p>直接路径加载接口使应用程序能够访问Oracle数据库的直接块格式化程序。<a href="oci-programming-basics.html#GUID-F3338E24-AFCD-44B3-8C64-7A959810C482__CHDIHGED">图4-4</a>显示了不同类型的直接路径句柄。
                        </p>
                        <div class="figure" id="GUID-F3338E24-AFCD-44B3-8C64-7A959810C482__CHDIHGED">
                           <p class="titleinfigure">图4-4直接路径句柄</p><img src="img/lnoci042.gif" alt="下面是图4-4的描述" title="下面是图4-4的描述" longdesc="img_text/lnoci042.html"><br><a href="img_text/lnoci042.html">“图4-4直接路径句柄”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="direct-path-load-interface.html#GUID-5636C859-A1CD-4229-9CDF-0D477238AA05" title="直接路径加载接口使OCI应用程序能够访问Oracle数据库的直接路径加载引擎，以执行SQL * Loader实用程序的功能。">直接路径加载概述</a></li>
                              <li><a href="handle-and-descriptor-attributes.html#GUID-0097B016-DAD2-4AFA-9D3C-37689FA75B41">直接路径加载句柄属性</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16196"></a><div class="props_rev_3"><a id="GUID-DEA5B616-503F-47C0-AAFB-273EAC1B918A" name="GUID-DEA5B616-503F-47C0-AAFB-273EAC1B918A"></a><h5 id="LNOCI-GUID-DEA5B616-503F-47C0-AAFB-273EAC1B918A" class="sect5"><span class="enumeration_section">4.2.1.11</span>连接池句柄</h5>
                     <div>
                        <p><span class="italic">连接池句柄</span>用于将物理连接池化为虚拟连接的应用程序。
                        </p>
                        <p><span class="italic">连接池句柄</span>用于通过调用特定OCI函数将物理连接汇集到虚拟连接的应用程序。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="session-and-connection-pooling.html#GUID-1C9A6E8F-EF5A-478D-B65E-CE39D4F00683" title="连接池是指通过多个会话使用可重用物理连接的组（池）来平衡负载。">OCI中的连接池</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI72575"></a><a id="LNOCI72576"></a><a id="LNOCI16197"></a><div class="props_rev_3"><a id="GUID-1072961E-BF2A-436D-B74C-D54F962C059C" name="GUID-1072961E-BF2A-436D-B74C-D54F962C059C"></a><h5 id="LNOCI-GUID-1072961E-BF2A-436D-B74C-D54F962C059C" class="sect5"><span class="enumeration_section">4.2.1.12</span>句柄属性</h5>
                     <div>
                        <p>所有OCI句柄都具有表示存储在该句柄中的数据的<span class="italic">属性</span> 。
                        </p>
                        <p>您可以使用属性get调用<code class="codeph">OCIAttrGet()</code>来读取句柄属性，并且可以使用属性集调用<code class="codeph">OCIAttrSet()</code>来更改它们。
                        </p>
                        <p>例如， <a href="oci-programming-basics.html#GUID-1072961E-BF2A-436D-B74C-D54F962C059C__CIHCFIFH">示例4-1中</a>的语句通过写入<code class="codeph">OCI_ATTR_USERNAME</code>属性在会话句柄中设置用户名：</p>
                        <p>某些OCI函数要求在调用函数之前设置特定的句柄属性。例如，当<code class="codeph">OCISessionBegin()</code>来建立用户的登录会话时，必须在进行调用之前在用户会话句柄中设置用户名和密码。
                        </p>
                        <p>其他OCI函数在函数完成后在句柄属性中提供有用的返回数据。例如，当<code class="codeph">OCIStmtExecute()</code>来执行SQL查询时，将在语句句柄中返回与select-list项相关的信息，如<a href="oci-programming-basics.html#GUID-1072961E-BF2A-436D-B74C-D54F962C059C__CIHGFEBG">例4-2</a>所示。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1072961E-BF2A-436D-B74C-D54F962C059C__GUID-742C5CE9-47B8-4EC6-8F92-A11CB92ADFF5">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-8218D5F2-139B-4FA9-BA4A-ED0126687C0F" title="分配一组描述符。">OCIArrayDescriptorAlloc（）</a>的描述显示了如何分配大量描述符的示例</p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-CB59C987-07E7-42D4-ADDF-96142CBD3D11" title="本附录描述了OCI句柄和描述符的属性。">句柄和描述符属性</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="获取句柄属性的值。">OCIAttrGet（）</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="设置句柄或描述符的属性值。">OCIAttrSet（）</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="创建用户会话并开始给定服务器的用户会话。">OCISessionBegin（）</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="将应用程序请求与服务器关联。">OCIStmtExecute（）</a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="example" id="GUID-1072961E-BF2A-436D-B74C-D54F962C059C__CIHCFIFH">
                           <p class="titleinexample">示例4-1使用OCI_ATTR_USERNAME属性在会话句柄中设置用户名</p><pre class="oac_no_warn" dir="ltr">text username [] =“hr”; err = OCIAttrSet（（void *）mysessp，OCI_HTYPE_SESSION，（void *）username，（ub4）strlen（（char *）username），OCI_ATTR_USERNAME，（OCIError *）myerrhp）;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-1072961E-BF2A-436D-B74C-D54F962C059C__CIHGFEBG">
                           <p class="titleinexample">示例4-2返回与选择列表项有关的语句句柄中的描述信息</p><pre class="oac_no_warn" dir="ltr">ub4 parmcnt; / *获取选择列表中的列数* / err = OCIAttrGet（（void *）stmhp，（ub4）OCI_HTYPE_STMT，（void *）＆parmcnt，（ub4 *）0，（ub4）OCI_ATTR_PARAM_COUNT，errhp）;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNOCI16199"></a><a id="LNOCI16198"></a><div class="props_rev_3"><a id="GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C" name="GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C"></a><h5 id="LNOCI-GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C" class="sect5"><span class="enumeration_section">4.2.1.13</span> OCI描述符</h5>
                     <div>
                        <p>OCI <span class="italic">描述符</span>和<span class="italic">定位符</span>是不透明的数据结构，用于维护特定于数据的信息。
                        </p>
                        <div class="section">
                           <p> <a href="oci-programming-basics.html#GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C__G466207" title="该表有3列。第1列是描述符类型描述，第2列是C数据类型，第3列是OCI类型常量。">表4-2</a>列出了OCI描述符及其C数据类型，以及在调用<code class="codeph">OCIDescriptorAlloc()</code>分配该类型描述符的OCI类型常量。<code class="codeph">OCIDescriptorFree()</code>函数释放描述符和定位符。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C__G466207">
                           <p class="titleintable">表4-2描述符类型</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="描述符类型" width="100%" border="1" summary="This table has 3 columns. Column 1 is the descriptor type description, column 2 is the C data type, and column 3 is the OCI type constant." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="37%" id="d26512e4814">描述</th>
                                    <th align="left" valign="bottom" width="26%" id="d26512e4817">C数据类型</th>
                                    <th align="left" valign="bottom" width="37%" id="d26512e4820">OCI类型常量</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4825" headers="d26512e4814 ">
                                       <p>快照描述符<a id="d26512e4828" class="indexterm-anchor"></a><a id="d26512e4832" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4825 d26512e4817 ">
                                       <p><code class="codeph">OCISnapshot</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4825 d26512e4820 ">
                                       <p><a id="d26512e4840" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_SNAP</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4845" headers="d26512e4814 ">
                                       <p>结果集描述符<a id="d26512e4848" class="indexterm-anchor"></a><a id="d26512e4852" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4845 d26512e4817 ">
                                       <p><code class="codeph">OCIResult</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4845 d26512e4820 ">
                                       <p><code class="codeph">OCI_DTYPE_RSET</code> （已弃用）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4864" headers="d26512e4814 ">
                                       <p>LOB数据类型定位器<a id="d26512e4867" class="indexterm-anchor"></a><a id="d26512e4871" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4864 d26512e4817 ">
                                       <p><code class="codeph">OCILobLocator</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4864 d26512e4820 ">
                                       <p><a id="d26512e4879" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_LOB</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4884" headers="d26512e4814 ">
                                       <p><code class="codeph">BFILE</code>数据类型定位器<a id="d26512e4889" class="indexterm-anchor"></a><a id="d26512e4893" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4884 d26512e4817 ">
                                       <p><code class="codeph">OCILobLocator</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4884 d26512e4820 ">
                                       <p><a id="d26512e4901" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_FILE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4906" headers="d26512e4814 ">
                                       <p>只读参数描述符<a id="d26512e4909" class="indexterm-anchor"></a><a id="d26512e4913" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4906 d26512e4817 ">
                                       <p><code class="codeph">OCIParam</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4906 d26512e4820 ">
                                       <p><a id="d26512e4921" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_PARAM</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4926" headers="d26512e4814 ">
                                       <p><code class="codeph">ROWID</code>描述符<a id="d26512e4931" class="indexterm-anchor"></a><a id="d26512e4935" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4926 d26512e4817 ">
                                       <p><code class="codeph">OCIRowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4926 d26512e4820 ">
                                       <p><a id="d26512e4943" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_ROWID</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4948" headers="d26512e4814 ">
                                       <p><code class="codeph">ANSI DATE</code>描述符<a id="d26512e4953" class="indexterm-anchor"></a><a id="d26512e4957" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4948 d26512e4817 ">
                                       <p><code class="codeph">OCIDateTime</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4948 d26512e4820 ">
                                       <p><a id="d26512e4965" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_DATE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4970" headers="d26512e4814 ">
                                       <p><code class="codeph">TIMESTAMP</code>描述符<a id="d26512e4975" class="indexterm-anchor"></a><a id="d26512e4979" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4970 d26512e4817 ">
                                       <p><code class="codeph">OCIDateTime</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4970 d26512e4820 ">
                                       <p><a id="d26512e4987" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_TIMESTAMP</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e4992" headers="d26512e4814 ">
                                       <p><code class="codeph">TIMESTAMP WITH TIME ZONE</code>描述符<a id="d26512e4997" class="indexterm-anchor"></a><a id="d26512e5001" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e4992 d26512e4817 ">
                                       <p><code class="codeph">OCIDateTime</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e4992 d26512e4820 ">
                                       <p><a id="d26512e5009" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_TIMESTAMP_TZ</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5014" headers="d26512e4814 ">
                                       <p><code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>描述符<a id="d26512e5019" class="indexterm-anchor"></a><a id="d26512e5023" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5014 d26512e4817 ">
                                       <p><code class="codeph">OCIDateTime</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5014 d26512e4820 ">
                                       <p><a id="d26512e5031" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_TIMESTAMP_LTZ</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5036" headers="d26512e4814 ">
                                       <p><code class="codeph">INTERVAL YEAR TO MONTH</code>描述符<a id="d26512e5041" class="indexterm-anchor"></a><a id="d26512e5045" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5036 d26512e4817 ">
                                       <p><code class="codeph">OCIInterval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5036 d26512e4820 ">
                                       <p><a id="d26512e5053" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_INTERVAL_YM</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5059" headers="d26512e4814 ">
                                       <p><code class="codeph">INTERVAL DAY TO SECOND</code>描述符<a id="d26512e5064" class="indexterm-anchor"></a><a id="d26512e5068" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5059 d26512e4817 ">
                                       <p><code class="codeph">OCIInterval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5059 d26512e4820 ">
                                       <p><a id="d26512e5076" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_INTERVAL_DS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5081" headers="d26512e4814 ">
                                       <p>用户回调描述符<a id="d26512e5084" class="indexterm-anchor"></a><a id="d26512e5088" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5081 d26512e4817 ">
                                       <p><code class="codeph">OCIUcb</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5081 d26512e4820 ">
                                       <p><code class="codeph">OCI_DTYPE_UCB</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5099" headers="d26512e4814 ">
                                       <p><a id="d26512e5101" class="indexterm-anchor"></a><a id="d26512e5105" class="indexterm-anchor"></a>注册请求中数据库服务器的专有名称</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5099 d26512e4817 ">
                                       <p><code class="codeph">OCIServerDNs</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5099 d26512e4820 ">
                                       <p><a id="d26512e5114" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_SRVDN</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5119" headers="d26512e4814 ">
                                       <p>复杂对象描述符<a id="d26512e5122" class="indexterm-anchor"></a><a id="d26512e5126" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5119 d26512e4817 ">
                                       <p><code class="codeph">OCIComplexObjectComp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5119 d26512e4820 ">
                                       <p><a id="d26512e5134" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_COMPLEXOBJECTCOMP</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5139" headers="d26512e4814 ">
                                       <p><a id="d26512e5141" class="indexterm-anchor"></a><a id="d26512e5147" class="indexterm-anchor"></a>高级排队入队选项</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5139 d26512e4817 ">
                                       <p><code class="codeph">OCIAQEnqOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5139 d26512e4820 ">
                                       <p><a id="d26512e5158" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_AQENQ_OPTIONS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5163" headers="d26512e4814 ">
                                       <p><a id="d26512e5165" class="indexterm-anchor"></a><a id="d26512e5171" class="indexterm-anchor"></a>高级排队出列选项</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5163 d26512e4817 ">
                                       <p><code class="codeph">OCIAQDeqOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5163 d26512e4820 ">
                                       <p><a id="d26512e5182" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_AQDEQ_OPTIONS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5187" headers="d26512e4814 ">
                                       <p><a id="d26512e5189" class="indexterm-anchor"></a><a id="d26512e5195" class="indexterm-anchor"></a>高级排队消息属性</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5187 d26512e4817 ">
                                       <p><code class="codeph">OCIAQMsgProperties</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5187 d26512e4820 ">
                                       <p><a id="d26512e5206" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5211" headers="d26512e4814 ">
                                       <p><a id="d26512e5213" class="indexterm-anchor"></a><a id="d26512e5219" class="indexterm-anchor"></a>高级排队代理</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5211 d26512e4817 ">
                                       <p><code class="codeph">OCIAQAgent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5211 d26512e4820 ">
                                       <p><a id="d26512e5230" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_AQAGENT</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5235" headers="d26512e4814 ">
                                       <p><a id="d26512e5237" class="indexterm-anchor"></a><a id="d26512e5243" class="indexterm-anchor"></a>高级排队通知</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5235 d26512e4817 ">
                                       <p><code class="codeph">OCIAQNotify</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5235 d26512e4820 ">
                                       <p><a id="d26512e5254" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_AQNFY</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5259" headers="d26512e4814 ">
                                       <p><a id="d26512e5261" class="indexterm-anchor"></a><a id="d26512e5267" class="indexterm-anchor"></a>高级排队侦听选项</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5259 d26512e4817 ">
                                       <p><code class="codeph">OCIAQListenOpts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5259 d26512e4820 ">
                                       <p><code class="codeph">OCI_DTYPE_AQLIS_OPTIONS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5281" headers="d26512e4814 ">
                                       <p><a id="d26512e5283" class="indexterm-anchor"></a><a id="d26512e5289" class="indexterm-anchor"></a>高级排队消息属性</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5281 d26512e4817 ">
                                       <p><code class="codeph">OCIAQLisMsgProps</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5281 d26512e4820 ">
                                       <p><code class="codeph">OCI_DTYPE_AQLIS_MSG_PROPERTIES</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5304" headers="d26512e4814 ">
                                       <p><a id="d26512e5306" class="indexterm-anchor"></a><a id="d26512e5310" class="indexterm-anchor"></a>更改通知</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5304 d26512e4817 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5304 d26512e4820 ">
                                       <p><a id="d26512e5318" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_CHDES</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5323" headers="d26512e4814 ">
                                       <p><a id="d26512e5325" class="indexterm-anchor"></a><a id="d26512e5329" class="indexterm-anchor"></a>表变化</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5323 d26512e4817 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5323 d26512e4820 ">
                                       <p><code class="codeph">OCI_DTYPE_TABLE_CHDES</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5340" headers="d26512e4814 ">
                                       <p><a id="d26512e5342" class="indexterm-anchor"></a><a id="d26512e5346" class="indexterm-anchor"></a>换行</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5340 d26512e4817 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5340 d26512e4820 ">
                                       <p><code class="codeph">OCI_DTYPE_ROW_CHDES</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d26512e5357" headers="d26512e4814 ">
                                       <p><a id="d26512e5359" class="indexterm-anchor"></a><a id="d26512e5363" class="indexterm-anchor"></a>分片键和分片组键描述符</p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d26512e5357 d26512e4817 ">
                                       <p><code class="codeph">OCIShardkey</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d26512e5357 d26512e4820 ">
                                       <p><a id="d26512e5372" class="indexterm-anchor"></a><code class="codeph">OCI_DTYPE_SHARD_KEY</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C__GUID-2985DA49-AAA8-4B15-95E6-AE9A834AE60B">
                              <p class="notep1">注意：</p>
                              <p>虽然<code class="codeph">OCILobLocator</code>有一个C类型， <code class="codeph">OCILobLocator</code>为内部和外部LOB分配了不同的OCI类型常量。<a href="oci-programming-basics.html#GUID-47F2594A-C4EA-4B2B-B564-EFD1F9691D58" title="大对象（LOB）是可以保存二进制大对象（BLOB）或字符大对象（CLOB）数据的Oracle数据类型。">LOB和BFILE定位器</a>讨论了这种差异。
                              </p>
                           </div>
                           <p>以下列表描述了每种描述符类型的主要用途。以下各节更详细地描述了每种描述符类型：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCISnapshot</code> - 用于语句执行</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobLocator</code> -用于LOB（ <code class="codeph">OCI_DTYPE_LOB</code> ）或者<code class="codeph">BFILE</code> （ <code class="codeph">OCI_DTYPE_FILE</code> ）调用</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIParam</code> - 用于描述调用</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIRowid</code> - 用于绑定或定义<code class="codeph">ROWID</code>值</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIDateTime</code>和<code class="codeph">OCIInterval</code> - 用于日期时间和间隔数据类型</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIComplexObjectComp</code> - 用于复杂对象检索</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIAQEnqOptions</code> ， <code class="codeph">OCIAQDeqOptions</code> ， <code class="codeph">OCIAQMsgProperties</code> ， <code class="codeph">OCIAQAgent</code> - 用于高级排队</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIAQNotify</code> - 用于发布 - 订阅通知</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIServerDNs</code> - 用于基于LDAP的发布 - 订阅通知</p>
                              </li>
                           </ul>
                           <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-F07DAAEB-04C7-493D-A758-D5B0D489C0CD" title="快照描述符是执行调用OCIStmtExecute（）的可选参数。">快照描述符</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-47F2594A-C4EA-4B2B-B564-EFD1F9691D58" title="大对象（LOB）是可以保存二进制大对象（BLOB）或字符大对象（CLOB）数据的Oracle数据类型。">LOB和BFILE定位器</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-A425D636-6972-455F-A9E9-75CC82740328" title="OCI应用程序使用参数描述符来获取有关选择列列或架构对象的信息。">参数描述符</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-A33DC882-3CD2-45A5-888E-080EC1A755DF" title="ROWID描述符OCIRowid由必须检索和使用Oracle ROWID的应用程序使用。">ROWID描述符</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-067D34CE-A52C-47E3-8AF5-B140E85121AF" title="日期，日期时间和间隔描述符由使用日期，日期时间或间隔数据类型（OCIDate，OCIDateTime和OCIInterval）的应用程序使用。">日期，日期时间和间隔描述符</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-36DDADE1-C692-4F83-823F-163897C0E221" title="复杂对象检索（COR）可以在处理对象时提高应用程序性能。">复杂对象描述符</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-907B8692-16A7-4DF0-90B7-723AC44B9A52" title="有许多Oracle数据库高级队列描述符用于维护特定于数据的信息。">高级排队描述符</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-394C2CED-C264-4F81-BD97-CCF9F149CC4C" title="OCIDescriptorAlloc（）调用在其参数列表中有一个xtramem_sz参数。">用户内存分配</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F">OCIDescriptorAlloc（）</a></li>
                              <li><a href="handle-and-descriptor-functions.html#GUID-A32BF051-3DC1-491C-AAFD-A46034DD1629">OCIDescriptorFree（）</a></li>
                              <li><a href="handle-and-descriptor-functions.html#GUID-8218D5F2-139B-4FA9-BA4A-ED0126687C0F">OCIArrayDescriptorAlloc（）</a></li>
                              <li><a href="handle-and-descriptor-functions.html#GUID-0CBCF1BE-45A0-409D-B386-433070E244E3" title="释放先前分配的描述符数组。">OCIArrayDescriptorFree（）</a></li>
                           </ul>
                        </div>
                     </div><a id="LNOCI16200"></a><div class="props_rev_3"><a id="GUID-F07DAAEB-04C7-493D-A758-D5B0D489C0CD" name="GUID-F07DAAEB-04C7-493D-A758-D5B0D489C0CD"></a><h6 id="LNOCI-GUID-F07DAAEB-04C7-493D-A758-D5B0D489C0CD" class="sect6"><span class="enumeration_section">4.2.1.13.1</span>快照描述符</h6>
                        <div>
                           <p><span class="italic">快照描述符</span>是执行调用<code class="codeph">OCIStmtExecute()</code>的可选参数。
                           </p>
                           <p>快照描述符指示正在针对表示特定时间的数据库状态的数据库快照执行查询。</p>
                           <p>分配快照描述符与一个呼叫<code class="codeph">OCIDescriptorAlloc()</code>通过传递<code class="codeph">OCI_DTYPE_SNAP</code>作为<code class="codeph">type</code>参数。
                           </p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9">OCIStmtExecute（）</a></li>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F">OCIDescriptorAlloc（）</a></li>
                                 <li><a href="using-sql_statements-in-oci.html#GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF" title="OCIStmtExecute（）调用提供了确保多个服务上下文在数据库提交的数据的相同一致快照上运行的能力。">执行快照</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="LNOCI16201"></a><div class="props_rev_3"><a id="GUID-47F2594A-C4EA-4B2B-B564-EFD1F9691D58" name="GUID-47F2594A-C4EA-4B2B-B564-EFD1F9691D58"></a><h6 id="LNOCI-GUID-47F2594A-C4EA-4B2B-B564-EFD1F9691D58" class="sect6"><span class="enumeration_section">4.2.1.13.2</span> LOB和BFILE定位器</h6>
                        <div>
                           <p>大对象（LOB）是可以保存二进制大对象（ <code class="codeph">BLOB</code> ）或字符大对象（ <code class="codeph">CLOB</code> ）数据的Oracle数据类型。
                           </p>
                           <p>在数据库中，称为<span class="italic">LOB定位符</span>的不透明数据结构存储在数据库行的LOB列中，或者存储在对象的LOB属性的位置。定位器用作指向实际LOB值的指针，该值存储在单独的位置。
                           </p>
                           <div class="infoboxnote" id="GUID-47F2594A-C4EA-4B2B-B564-EFD1F9691D58__GUID-5B69D96F-162E-4A8F-9491-9410A92010B7">
                              <p class="notep1">注意：</p>
                              <p>根据您的应用程序，您可能想要也可能不想使用LOB定位器。您可以使用LOB的数据接口，它不需要LOB定位器。在此界面中，您可以绑定或定义<code class="codeph">CLOB</code>列的字符数据或<code class="codeph">BLOB</code>列的<code class="codeph">RAW</code>数据。
                              </p>
                           </div>
                           <p>OCI LOB定位符用于对LOB（ <code class="codeph">BLOB</code>或<code class="codeph">CLOB</code> ）或FILE（ <code class="codeph">BFILE</code> ）执行OCI操作。<code class="codeph">OCILobXXX</code>函数采用LOB定位器参数而不是LOB值。OCI LOB函数不使用实际的LOB数据作为参数。它们使用LOB定位器作为参数，并对它们引用的LOB数据进行操作。
                           </p>
                           <p>LOB定位器被分配有到呼叫<code class="codeph">OCIDescriptorAlloc()</code>通过传递<code class="codeph">OCI_DTYPE_LOB</code>作为<code class="codeph">type</code>为参数<code class="codeph">BLOB</code>秒或<code class="codeph">CLOB</code> s和<code class="codeph">OCI_DTYPE_FILE</code>为<code class="codeph">BFILE</code>秒。
                           </p>
                           <div class="infoboxnote" id="GUID-47F2594A-C4EA-4B2B-B564-EFD1F9691D58__GUID-4C0517A5-1346-420D-B9BF-763FD081E71A">
                              <p class="notep1">注意：</p>
                              <p>两个LOB定位器类型<span class="italic">不可</span>互换。绑定或定义<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code> ，应用程序必须注意使用<code class="codeph">OCI_DTYPE_LOB</code>正确分配定位器。同样，在绑定或定义<code class="codeph">BFILE</code> ，应用程序必须确保使用<code class="codeph">OCI_DTYPE_FILE</code>分配定位符。</p>
                           </div>
                           <p>OCI应用程序可以通过发出包含LOB列或属性作为选择列表中元素的SQL语句，从Oracle数据库中检索LOB定位器。在这种情况下，应用程序将首先分配LOB定位器，然后使用它来定义输出变量。类似地，LOB定位器可以用作绑定操作的一部分，以在SQL语句中的LOB和占位符之间创建关联。</p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="lobs-and-bfile-operations.html#GUID-0A094518-F97C-40BE-A336-259AA82BD0A2" title="本章介绍LOB和BFILE操作。">LOB和BFILE操作</a></li>
                                 <li><a href="binding-and-defining-in-oci.html#GUID-D757C946-BCDA-4A32-867B-BE951BA9BBF4" title="Oracle数据库允许对任何大小的LOB的INSERT和UPDATE进行非零绑定。">关于绑定LOB数据</a></li>
                                 <li><a href="binding-and-defining-in-oci.html#GUID-FE7DB3D8-9310-41ED-8869-B5106E60D29E">关于定义LOB数据</a></li>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F">OCIDescriptorAlloc（）</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="LNOCI16202"></a><div class="props_rev_3"><a id="GUID-A425D636-6972-455F-A9E9-75CC82740328" name="GUID-A425D636-6972-455F-A9E9-75CC82740328"></a><h6 id="LNOCI-GUID-A425D636-6972-455F-A9E9-75CC82740328" class="sect6"><span class="enumeration_section">4.2.1.13.3</span>参数描述符</h6>
                        <div>
                           <p>OCI应用程序使用<span class="italic">参数描述符</span>来获取有关选择列列或架构对象的信息。
                           </p>
                           <p>该信息通过描述操作获得。</p>
                           <p>参数描述符是唯一<span class="italic">未</span>使用<code class="codeph">OCIDescriptorAlloc()</code>分配的描述符类型。您可以通过使用<code class="codeph">OCIParamGet()</code>调用指定参数的位置，仅将其作为描述句柄，语句句柄的属性或通过复杂对象检索句柄获取。
                           </p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F">OCIDescriptorAlloc（）</a></li>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-35D2FF91-139B-4A5C-97C8-8BC29866CCA4">OCIParamGet（）</a></li>
                                 <li><a href="using-sql_statements-in-oci.html#GUID-DDB109DD-52EB-4AA8-A69A-34015F8D5D6E" title="如果您的OCI应用程序正在处理查询，您可能需要获取有关选择列表中的项目的更多信息。">关于描述选择列表项</a></li>
                                 <li><a href="describing-schema-metadata.html#GUID-CED0D15A-D873-43F7-A5B2-51FC0662C250" title="执行模式对象及其子模式对象的显式描述。OCIDescribeAny（）调用限制返回到基本信息的信息，并停止扩展节点（如果它等于另一个描述操作）。执行描述操作时应注意什么。OCI_ATTR_TYPECODE属性返回表示使用CREATE TYPE语句创建新类型时用户提供的类型的类型代码。要描述类型对象，必须在对象模式下初始化OCI进程。可以使用带有OCIStmtExecute（）的隐式描述和带有OCIDescribeAny（）的显式描述来返回列属性OCI_ATTR_PRECISION。类型方法的OCI_ATTR_LIST_ARGUMENTS属性表示方法的第二级参数。本节介绍属于不同参数的属性和句柄。列出并描述表或视图的参数的类型特定属性。列出并描述参数用于过程或函数时的特定于类型的属性。列出并描述参数用于包时的属性。列出并描述参数用于类型时的属性。列出并描述参数用于类型属性时的属性。当参数用于类型的方法时，列出并记录属性。列出并描述参数用于集合类型时的属性。列出并描述参数用于同义词时的属性。列出并描述参数用于序列时的属性。列出并描述参数用于表或视图列时的属性。列出并描述参数用于过程或函数的参数时的属性。当参数用于列，参数和子程序列表或包记录类型的字段时，列出并描述属性。列出并描述参数用于模式类型时的属性。列出并描述参数用于数据库类型时的属性。列出并描述参数用于规则时的属性。列出并描述参数用于规则集时的属性。列出并描述参数用于评估上下文时的属性。列出并描述参数用于表别名时的属性。列出并描述参数用于变量时的属性。列出并描述参数用于名称 - 值对时的属性。查询和列信息支持字符长度语义。如果使用字符长度语义创建数据库列，则隐式描述信息包含字符长度，字节长度和指示如何创建数据库列的标志。表的显式描述有三个属性：OCI_ATTR_DATA_SIZE，OCI_ATTR_CHAR_SIZE和OCI_ATTR_CHAR_USED.Character-length语义取决于服务器或客户端的发布。最好在服务器和客户端都是Oracle9i或更高版本时进行描述。否则，将导致兼容性问题。以下示例演示了如何使用OCIDescribeAny（）来描述不同类型的架构对象。说明使用显式描述来检索表的列数据类型。描述类型方法（也分为函数和过程）所需的步骤与常规PL / SQL函数和过程相同。说明在命名对象类型上使用显式描述。说明在命名集合类型上使用显式描述。显示一个循环，用于在查询执行后检索与查询对应的列名和数据类型。说明使用不可见列属性并检查每列以确定它是否为不可见列。">描述架构元数据</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="LNOCI16203"></a><div class="props_rev_3"><a id="GUID-A33DC882-3CD2-45A5-888E-080EC1A755DF" name="GUID-A33DC882-3CD2-45A5-888E-080EC1A755DF"></a><h6 id="LNOCI-GUID-A33DC882-3CD2-45A5-888E-080EC1A755DF" class="sect6"><span class="enumeration_section">4.2.1.13.4</span> ROWID描述符</h6>
                        <div>
                           <p><code class="codeph">ROWID</code>描述符<code class="codeph">OCIRowid</code>由必须检索和使用Oracle ROWID的应用程序使用。
                           </p>
                           <p>要使用<code class="codeph">ROWID</code> ，应用程序可以为SQL选择列表中的rowid位置定义<code class="codeph">ROWID</code>描述符，并将<code class="codeph">ROWID</code>检索到描述符中。稍后可以将此相同的描述符绑定到<code class="codeph">INSERT</code>语句或<code class="codeph">WHERE</code>子句中的输入变量。
                           </p>
                           <p>在执行操作之后， <code class="codeph">ROWID</code>也会在语句句柄上使用<code class="codeph">OCIAttrGet()</code>重定向到描述符中。
                           </p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9">OCIAttrGet（）</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="LNOCI16204"></a><div class="props_rev_3"><a id="GUID-067D34CE-A52C-47E3-8AF5-B140E85121AF" name="GUID-067D34CE-A52C-47E3-8AF5-B140E85121AF"></a><h6 id="LNOCI-GUID-067D34CE-A52C-47E3-8AF5-B140E85121AF" class="sect6"><span class="enumeration_section">4.2.1.13.5</span>日期，日期时间和间隔描述符</h6>
                        <div>
                           <p>日期，日期时间和间隔描述符由使用日期，日期时间或间隔数据类型（ <code class="codeph">OCIDate</code> ， <code class="codeph">OCIDateTime</code>和<code class="codeph">OCIInterval</code> ）的应用程序使用。
                           </p>
                           <p>这些描述符可用于绑定和定义，并作为参数传递给函数<code class="codeph">OCIDescriptorAlloc()</code>和<code class="codeph">OCIDescriptorFree()</code>以分配和释放内存。
                           </p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F">OCIDescriptorAlloc（）</a></li>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-A32BF051-3DC1-491C-AAFD-A46034DD1629">OCIDescriptorFree（）</a></li>
                                 <li><a href="data-types.html#GUID-027FB2E2-593C-43F1-9184-DFEF7A984A27">数据类型</a></li>
                                 <li><a href="oci-data-type-mapping-and-manipulation-functions.html#GUID-B94C677C-E38D-4231-BF8C-DCDC203BAEF5">OCI数据类型映射和操作功能</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="LNOCI16205"></a><div class="props_rev_3"><a id="GUID-36DDADE1-C692-4F83-823F-163897C0E221" name="GUID-36DDADE1-C692-4F83-823F-163897C0E221"></a><h6 id="LNOCI-GUID-36DDADE1-C692-4F83-823F-163897C0E221" class="sect6"><span class="enumeration_section">4.2.1.13.6</span>复杂对象描述符</h6>
                        <div>
                           <p>复杂对象检索（COR）可以在处理对象时提高应用程序性能。</p>
                           <p>使用<span class="italic">复杂对象检索（COR）</span>可以增加处理对象时的应用程序性能。
                           </p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="oci-object-relational-programming.html#GUID-03683C87-7758-421A-BC51-C54A5A7679F2" title="复杂对象包括其根对象及其逻辑相关对象集，每个对象基于给定深度级别被预取。">复杂对象检索</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="LNOCI16206"></a><div class="props_rev_3"><a id="GUID-907B8692-16A7-4DF0-90B7-723AC44B9A52" name="GUID-907B8692-16A7-4DF0-90B7-723AC44B9A52"></a><h6 id="LNOCI-GUID-907B8692-16A7-4DF0-90B7-723AC44B9A52" class="sect6"><span class="enumeration_section">4.2.1.13.7</span>高级排队描述符</h6>
                        <div>
                           <p>有许多Oracle数据库高级队列描述符用于维护特定于数据的信息。</p>
                           <p>Oracle Database Advanced Queuing提供消息队列作为Oracle数据库的集成部分。</p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI提供了数据库高级队列（Database AQ）功能的接口。数据库高级队列将消息队列作为Oracle数据库的集成部分提供。">OCI和数据库高级排队</a></li>
                                 <li><a href="notification-streams-advanced-queuing.html#GUID-1E9445D7-DFD9-4230-BFFD-EF3630691ECE" title="您可以使用轻量级目录访问协议（LDAP）直接注册到数据库或注册。">在OCI中发布 - 订阅注册功能</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="LNOCI16207"></a><div class="props_rev_3"><a id="GUID-394C2CED-C264-4F81-BD97-CCF9F149CC4C" name="GUID-394C2CED-C264-4F81-BD97-CCF9F149CC4C"></a><h6 id="LNOCI-GUID-394C2CED-C264-4F81-BD97-CCF9F149CC4C" class="sect6"><span class="enumeration_section">4.2.1.13.8</span>用户内存分配</h6>
                        <div>
                           <p><code class="codeph">OCIDescriptorAlloc()</code>调用在其参数列表中有一个<code class="codeph">xtramem_sz</code>参数。
                           </p>
                           <p><code class="codeph">xtramem_sz</code>参数用于指定应与描述符或定位符一起分配的用户内存量。
                           </p>
                           <p>通常，应用程序使用此参数来分配与描述符或定位符具有相同生命周期的应用程序定义的结构。该结构可用于应用程序<span class="italic">簿记</span>或存储上下文信息。
                           </p>
                           <p>使用<code class="codeph">xtramem_sz</code>参数意味着应用程序不需要在分配和释放每个描述符或定位符时显式分配和释放内存。内存与描述符或定位器一起分配，释放描述符或定位符（使用<code class="codeph">OCIDescriptorFree()</code> ）也释放用户的数据结构。
                           </p>
                           <p><code class="codeph">OCIHandleAlloc()</code>调用具有类似的参数，用于分配与句柄具有相同生命周期的用户内存。
                           </p>
                           <p><code class="codeph">OCIEnvInit()</code> <code class="codeph">OCIEnvCreate()</code>和（ <code class="codeph">OCIEnvInit()</code>已弃用）调用具有类似的参数，用于分配与环境句柄具有相同生命周期的用户内存。
                           </p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F">OCIDescriptorAlloc（）</a></li>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-A32BF051-3DC1-491C-AAFD-A46034DD1629">OCIDescriptorFree（）</a></li>
                                 <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5">OCIHandleAlloc（）</a></li>
                                 <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244">OCIEnvCreate（）</a></li>
                                 <li><a href="deprecated-oci-functions.html#GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7">OCIEnvInit（）</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16208"></a><div class="props_rev_3"><a id="GUID-BD1CD486-6EA8-4C23-828F-DD1115317E5B" name="GUID-BD1CD486-6EA8-4C23-828F-DD1115317E5B"></a><h3 id="LNOCI-GUID-BD1CD486-6EA8-4C23-828F-DD1115317E5B" class="sect3"><span class="enumeration_section">4.3</span> OCI编程步骤</h3>
               <div>
                  <p>以下部分详细描述了开发OCI应用程序的每个步骤。</p>
                  <p>有些步骤是可选的。例如，如果语句不是查询，则无需描述或定义选择列表项。特定于应用程序的处理也发生在任何和所有OCI功能步骤之间。</p>
                  <p>以下部分描述了OCI应用程序所需的步骤：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oci-programming-basics.html#GUID-BA2B78A2-A855-4116-8ADC-13BFA1ADEAB3" title="本节介绍如何初始化OCI环境，建立与服务器的连接以及授权用户对数据库执行操作。">OCI环境初始化</a></p>
                     </li>
                     <li>
                        <p><a href="oci-programming-basics.html#GUID-A139C136-0AA7-4568-94D4-B042AEFAB6D1" title="在OCI中处理SQL语句涉及哪些具体步骤。">关于在OCI中处理SQL语句</a></p>
                     </li>
                     <li>
                        <p><a href="oci-programming-basics.html#GUID-9D7C87CC-47F1-49BB-86D6-DF6490A99AA0" title="应用程序通过调用OCITransCommit（）来提交对数据库的更改。">提交或回滚操作</a></p>
                     </li>
                     <li>
                        <p><a href="oci-programming-basics.html#GUID-046BE629-DEC6-4608-885C-7B922DC825C3" title="应用程序在终止之前应该做什么。">关于终止应用程序</a></p>
                     </li>
                     <li>
                        <p><a href="oci-programming-basics.html#GUID-39339E95-A79E-43BD-B57E-4DB536CB3475" title="OCI函数调用具有一组返回码。">OCI中的错误处理</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-BD1CD486-6EA8-4C23-828F-DD1115317E5B__GUID-AEDFFD27-0D2D-4A78-A79B-71F167EC2599">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI演示程序中</a>的第一个示例程序，用于显示使用OCI调用处理SQL语句的示例。
                           </p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="You can use OCI to perform piecewise inserts, updates, and fetches of data.">OCI</a>中的<a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">运行时数据分配和分段操作，</a>详细描述了在运行时动态提供数据的特殊情况</p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-094F4767-1BE0-45AE-BA6C-3B114714F87A" title="定义结构数组需要初始调用OCIDefineByPos（）或OCIDefineByPos2（）。">关于在OCI中绑定和定义结构数组，</a>以描述涉及结构数组的操作的特殊注意事项</p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-39339E95-A79E-43BD-B57E-4DB536CB3475" title="OCI function calls have a set of return codes.">OCI</a>中的<a href="oci-programming-basics.html#GUID-39339E95-A79E-43BD-B57E-4DB536CB3475" title="OCI函数调用具有一组返回码。">错误处理，</a>概述了在OCI程序中处理SQL语句所涉及的步骤</p>
                        </li>
                        <li>
                           <p>有关使用OCI编写多线程应用程序的信息，请参阅<a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="线程是存在于更大进程中的轻量级进程。">OCI多线程开发概述</a></p>
                        </li>
                        <li>
                           <p><a href="introduction.html#GUID-0938E7F8-63F4-4D27-B86C-C27E8E6099F2" title="OCI应用程序的主要任务之一是处理SQL语句。">SQL语句</a>有关类型的SQL语句的更多信息</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16209"></a><div class="props_rev_3"><a id="GUID-BA2B78A2-A855-4116-8ADC-13BFA1ADEAB3" name="GUID-BA2B78A2-A855-4116-8ADC-13BFA1ADEAB3"></a><h4 id="LNOCI-GUID-BA2B78A2-A855-4116-8ADC-13BFA1ADEAB3" class="sect4"><span class="enumeration_section">4.3.1</span> OCI环境初始化</h4>
                  <div>
                     <p>本节介绍如何初始化OCI环境，建立与服务器的连接以及授权用户对数据库执行操作。</p>
                     <p>首先，以下各节介绍了初始化OCI环境的三个主要步骤：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-083E4689-0B45-4120-9FBD-3E5FE6BB1589" title="每个OCI函数调用都是在使用OCIEnvCreate（）调用创建的环境的上下文中执行的。">关于创建OCI环境</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-7A2B16D3-B937-4D32-9F87-46198629A2D3" title="Oracle数据库提供OCI函数来分配和释放句柄和描述符。">关于分配句柄和描述符</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-A4B693E9-7554-4721-A7F7-0B5B15589DEE" title="应用程序必须调用OCIEnvNlsCreate（）来初始化OCI环境句柄。现有应用程序可能使用了OCIEnvCreate（）。">应用程序初始化，连接和会话创建</a></p>
                        </li>
                     </ul>
                  </div><a id="LNOCI16210"></a><div class="props_rev_3"><a id="GUID-083E4689-0B45-4120-9FBD-3E5FE6BB1589" name="GUID-083E4689-0B45-4120-9FBD-3E5FE6BB1589"></a><h5 id="LNOCI-GUID-083E4689-0B45-4120-9FBD-3E5FE6BB1589" class="sect5"><span class="enumeration_section">4.3.1.1</span>关于创建OCI环境</h5>
                     <div>
                        <p>每个OCI函数调用都是在使用<code class="codeph">OCIEnvCreate()</code>调用创建的环境的上下文中执行的。
                        </p>
                        <p>必须在执行任何其他OCI调用之前调用<code class="codeph">OCIEnvCreate()</code>调用。唯一的例外是为OCI共享模式设置进程级属性。
                        </p>
                        <p><code class="codeph">OCIEnvCreate()</code>的<code class="codeph">mode</code>参数指定调用OCI库函数的应用程序是否可以：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在线程环境中运行（ <code class="codeph">mode</code> = <code class="codeph">OCI_THREADED</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>使用对象（ <code class="codeph">mode</code> = <code class="codeph">OCI_OBJECT</code> ）。与AQ订阅注册一起使用。
                              </p>
                           </li>
                           <li>
                              <p>使用订阅（ <code class="codeph">mode</code> <span class="italic"> </span> = <code class="codeph">OCI_EVENTS</code> ）。
                              </p>
                           </li>
                        </ul>
                        <p>可以在每个环境中独立设置模式。</p>
                        <p>如果应用程序绑定并定义对象，或者它使用OCI的对象导航调用，则必须在对象模式下初始化。程序也可以选择不使用这些功能（ <code class="codeph">mode</code> = <code class="codeph">OCI_DEFAULT</code> ）或它们的某种组合，用垂直条分隔选项。例如，如果<code class="codeph">mode</code> =（ <code class="codeph">OCI_THREADED</code> | <code class="codeph">OCI_OBJECT</code> ），则应用程序在线程环境中运行并使用对象。
                        </p>
                        <p>您可以为每个OCI环境指定用户定义的内存管理功能。</p>
                        <div class="infoboxnotealso" id="GUID-083E4689-0B45-4120-9FBD-3E5FE6BB1589__GUID-AA28342A-0EE0-4C5A-8815-7C8055FD27DE">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关初始化调用的更多信息，请<a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">参见OCIEnvCreate（）</a> ， <a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a>和<a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a> （不建议使用）</p>
                              </li>
                              <li>
                                 <p><a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="线程是存在于更大进程中的轻量级进程。">OCI多线程开发概述</a> 
                                 </p>
                              </li>
                              <li>
                                 <p><a href="oci-object-relational-programming.html#GUID-8A9E9784-9D10-40B1-ADE9-4CE9325255E5" title="This chapter introduces the OCI facility for working with objects in an Oracle database. It also discusses the object navigational function calls of OCI.">OCI对象关系编程</a> ， <a href="oci-object-relational-programming.html#GUID-8A9E9784-9D10-40B1-ADE9-4CE9325255E5" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。它还讨论了OCI的对象导航函数调用。">OCI中的对象</a> <a href="object-relational-data-types-in-oci.html#GUID-C62AEE74-0CC5-4FAB-A91F-997F71C49C2C" title="本章描述了可由OCI数据类型映射和操作函数操作的每种数据类型的用途和结构。">关系数据类型</a> ， <a href="direct-path-load-interface.html#GUID-596F5F9B-47A1-48DB-8702-FEED7BE038B9" title="直接路径加载函数用于将外部文件中的数据加载到表和分区中。">直接路径加载接口</a> ， <a href="object-advanced-topics-in-oci.html#GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" title="This chapter introduces the OCI facility for working with objects in an Oracle Database.">OCI中的对象高级主题</a> ，以及<a href="using-object-type-translator-in-oci.html#GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" title="This chapter discusses the Object Type Translator (OTT), which is used to map database object types and named collection types to C structs for use in OCI applications.">使用</a> <a href="object-advanced-topics-in-oci.html#GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。">OCI</a> <a href="using-object-type-translator-in-oci.html#GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" title="本章讨论了对象类型转换器（OTT），它用于将数据库对象类型和命名集合类型映射到C结构，以便在OCI应用程序中使用。">的对象类型转换器</a></p>
                              </li>
                              <li>
                                 <p><a href="notification-streams-advanced-queuing.html#GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" title="发布 - 订阅通知功能允许OCI应用程序直接接收客户端通知，注册可以向其发送通知的电子邮件地址，注册可以发布通知的HTTP URL，或者注册要在其上调用的PL / SQL过程。通知。">在OCI中发布 - 订阅通知</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16211"></a><div class="props_rev_3"><a id="GUID-7A2B16D3-B937-4D32-9F87-46198629A2D3" name="GUID-7A2B16D3-B937-4D32-9F87-46198629A2D3"></a><h5 id="LNOCI-GUID-7A2B16D3-B937-4D32-9F87-46198629A2D3" class="sect5"><span class="enumeration_section">4.3.1.2</span>关于分配句柄和描述符</h5>
                     <div>
                        <p>Oracle数据库提供OCI函数来分配和释放句柄和描述符。</p>
                        <p>除非OCI调用（如<code class="codeph">OCIBindByPos()</code>或<code class="codeph">OCIBindByPos2()</code>为您分配句柄，否则必须先使用<code class="codeph">OCIHandleAlloc()</code>分配句柄，然后再将其传递给OCI调用。
                        </p>
                        <p>您可以使用<code class="codeph">OCIHandleAlloc()</code>分配<a href="oci-programming-basics.html#GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E__G466063" title="该表有3列。第1列是句柄类型描述，第2列是C数据类型，第3列是句柄类型常量。">表4-1中</a>列出的句柄类型。根据应用程序的功能，它必须分配部分或全部句柄。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5">OCIHandleAlloc（）</a></li>
                              <li><a href="bind-define-describe-functions.html#GUID-D28DF5A7-3C75-4E52-82F7-A5D6D5714E69">OCIBindByPos（）</a></li>
                              <li><a href="bind-define-describe-functions.html#GUID-5C505821-323D-473D-825B-448C8D9A6702">OCIBindByPos2（）</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16212"></a><div class="props_rev_3"><a id="GUID-A4B693E9-7554-4721-A7F7-0B5B15589DEE" name="GUID-A4B693E9-7554-4721-A7F7-0B5B15589DEE"></a><h5 id="LNOCI-GUID-A4B693E9-7554-4721-A7F7-0B5B15589DEE" class="sect5"><span class="enumeration_section">4.3.1.3</span>应用程序初始化，连接和会话创建</h5>
                     <div>
                        <p>应用程序必须调用<code class="codeph">OCIEnvNlsCreate()</code>来初始化OCI环境句柄。现有应用程序可能使用了<code class="codeph">OCIEnvCreate()</code> 。
                        </p>
                        <p>在此步骤之后，应用程序有几个选项可用于建立Oracle数据库连接和开始用户会话。</p>
                        <p>这些方法包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796" title="单用户单连接选项是简化的登录方法，如果应用程序在任何时候仅为每个数据库连接维护单个用户会话，则可以使用该方法。">单用户，单连接</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC" title="代理身份验证是通常在具有中间层（例如防火墙）的环境中使用的过程，其中最终用户对中间层进行身份验证，然后中间层代表用户对数据库进行身份验证 - 作为其代理。">客户端通过代理访问</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-065FF1E3-FF87-4507-A72A-7D089D897B14" title="nonproxy多会话或连接选项使用显式附加和开始会话调用来维护数据库连接上的多个用户会话和连接。">非代理多个会话或连接</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-A4B693E9-7554-4721-A7F7-0B5B15589DEE__GUID-D959FDB4-15EF-49D9-8331-98D64DFCCA3E">
                           <p class="notep1">注意：</p>
                           <p>应该使用<code class="codeph">OCIEnvNlsCreate()</code> <code class="codeph">OCIEnvCreate()</code>或<code class="codeph">OCIEnvCreate()</code>代替<code class="codeph">OCIInitialize()</code>和<code class="codeph">OCIEnvInit()</code>调用。<code class="codeph">OCIInitialize()</code>和<code class="codeph">OCIEnvInit()</code>调用以实现向后兼容性。
                           </p>
                        </div>
                     </div><a id="LNOCI72577"></a><a id="LNOCI16213"></a><div class="props_rev_3"><a id="GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796" name="GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796"></a><h6 id="LNOCI-GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796" class="sect6"><span class="enumeration_section">4.3.1.3.1</span>单用户，单连接</h6>
                        <div>
                           <p>单用户单连接选项是简化的登录方法，如果应用程序在任何时候仅为每个数据库连接维护单个用户会话，则可以使用该方法。</p>
                           <p>当应用程序调用<code class="codeph">OCILogon2()</code>或<code class="codeph">OCILogon()</code> ，OCI库初始化传递给它的服务上下文句柄，并为发出请求的用户创建指定Oracle数据库的连接。</p>
                           <p><a href="oci-programming-basics.html#GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796__CIHBFIIG">例4-3</a>显示了对于具有用户名<code class="codeph">hr</code> ，密码<code class="codeph">hr</code>和数据库<code class="codeph">oracledb</code>的单个用户会话，对<code class="codeph">OCILogon2()</code>的调用是什么样的。
                           </p>
                           <p>此调用的参数包括服务上下文句柄（已初始化），用户名，用户密码以及用于建立连接的数据库名称。使用最后一个参数<code class="codeph">mode</code>设置为<code class="codeph">OCI_DEFAULT</code> ，此调用与调用旧<code class="codeph">OCILogon()</code>具有相同的效果。对任何新应用程序使用<code class="codeph">OCILogon2()</code> 。服务器和用户会话句柄由此函数隐式分配。
                           </p>
                           <p>如果应用程序使用此登录方法，则服务上下文，服务器和用户会话句柄都是只读的;应用程序无法通过使用<code class="codeph">OCIAttrSet()</code>调用更改服务上下文句柄的相应属性来切换会话或事务。
                           </p>
                           <p>使用<code class="codeph">OCILogon2()</code>初始化其会话和授权的应用程序必须使用<code class="codeph">OCILogoff()</code>终止它们。
                           </p>
                           <div class="infoboxnote" id="GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796__GUID-CC13D12D-61F8-497B-AA8B-ECD8FB70DA0A">
                              <p class="notep1">注意：</p>
                              <p>为了简化演示此功能，此示例不执行已部署系统通常使用的密码管理技术。在生产环境中，请遵循Oracle数据库密码管理准则，并禁用任何示例帐户。有关密码管理指南和其他安全建议，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=DBSEG10005" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> 。
                              </p>
                           </div>
                           <div class="example" id="GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796__CIHBFIIG">
                              <p class="titleinexample">示例4-3使用OCILogon2调用单个用户会话</p><pre class="oac_no_warn" dir="ltr">OCILogon2（envhp，errhp，＆svchp，（text *）“hr”，（ub4）strlen（“hr”），（text *）“hr”，（ub4）strlen（“hr”），（text *）“oracledb “，（ub4）strlen（”oracledb“），OCI_DEFAULT）;</pre></div>
                           <!-- class="example" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796__GUID-E07BAD9F-6286-41B8-AC09-A46878322DAB"></p>
                              <div class="infoboxnotealso" id="GUID-0BAFD661-8271-4D64-9501-31BE1ABD6796__GUID-FD912DD8-9C84-44FA-B6B7-A19581DC2C51">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="oci-programming-basics.html#GUID-715E7F0A-E534-4929-939E-996FF27BAD17" title="Operating systems may provide facilities for spawning processes that allow child processes to reuse the state created by their parent process.">操作系统</a>有关操作系统信息的<a href="oci-programming-basics.html#GUID-715E7F0A-E534-4929-939E-996FF27BAD17" title="操作系统可以提供产生进程的工具，允许子进程重用其父进程创建的状态。">注意事项</a> ，该操作系统提供产生进程的工具，允许子进程重用其父进程创建的状态。本节说明了为什么子进程不能使用与父进程相同的数据库连接。
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="LNOCI72578"></a><a id="LNOCI72579"></a><a id="LNOCI72580"></a><a id="LNOCI72581"></a><a id="LNOCI72582"></a><a id="LNOCI72583"></a><a id="LNOCI72584"></a><a id="LNOCI72585"></a><a id="LNOCI13341"></a><div class="props_rev_3"><a id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC" name="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC"></a><h6 id="LNOCI-GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC" class="sect6"><span class="enumeration_section">4.3.1.3.2</span>通过代理访问客户端</h6>
                        <div>
                           <p>代理身份验证是通常在具有中间层（例如防火墙）的环境中使用的过程，其中最终用户对中间层进行身份验证，然后中间层代表用户对数据库进行身份验证 - 作为其代理。</p>
                           <p>中间层以代理用户身份登录数据库。代理用户可以切换身份，登录数据库后，切换到最终用户的身份。它可以使用适合该特定最终用户的授权代表最终用户执行操作。</p>
                           <div class="infoboxnote" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__GUID-14E60179-C4CD-46D6-9349-E85D45ADFE15">
                              <p class="notep1">注意：</p>
                              <p>在Oracle <span class="italic">11g的第</span> 1版中，大大提高了可接受密码的标准以提高安全性。本节中的密码示例不正确。密码必须包含不少于八个字符。有关其他信息，请参阅“ <a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10005" target="_blank"><span><cite>Oracle数据库安全指南”的</cite></span></a>保护密码准则。
                              </p>
                           </div>
                           <p>使用OCI和<code class="codeph">ALTER</code> <code class="codeph">USER</code>语句支持对数据库用户的代理，其BNF语法为：</p><pre class="oac_no_warn" dir="ltr">ALTER USER &lt; <span class="italic">targetuser</span> &gt; GRANT CONNECT通过&lt;proxy&gt; [AUTHENTICATION REQUIRED];</pre><p><code class="codeph">ALTER</code> <code class="codeph">USER</code>语句在应用程序中使用一次。之后可以多次连接。在OCI中，您可以使用连接字符串或函数<code class="codeph">OCIAttrSet()</code>和参数<code class="codeph">OCI_ATTR_PROXY_CLIENT</code> 。</p>
                           <p>即使从Oracle Database 12 <code class="codeph">c</code> Release 2（12.2）开始，每个标识符的最大长度也增加到128个字节，用户名和代理组合不能超过250个字节。
                           </p>
                           <p>在进行代理切换之后，当前和连接的用户是代理的目标用户。原始用户的身份不用于任何权限计算。原始用户可以是本地或外部用户。</p>
                           <p><a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGEIDA">示例4-4</a>到<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHHBCID">示例4-11</a>显示了可以在<code class="codeph">OCILogon2()</code> （设置<code class="codeph">mode</code> = <code class="codeph">OCI_DEFAULT</code> ）， <code class="codeph">OCILogon()</code> ， <code class="codeph">OCISessionBegin()</code>和<code class="codeph">OCIAttrSet()</code>等函数中使用的连接字符串（传递会话句柄的属性<code class="codeph">OCI_ATTR_USERNAME</code> ）， 等等。
                           </p>
                           <p>在<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGEIDA">例4-4中</a> ，Dilbert和Joe是两个本地数据库用户。要使Dilbert充当Joe的代理，请使用<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGEIDA">示例4-4中</a>显示的SQL语句。
                           </p>
                           <p>当用户名<code class="codeph">dilbert</code>代表<code class="codeph">joe</code> ，请使用<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGAGIJ">例4-5中</a>所示的连接字符串。（用户名<code class="codeph">dilbert</code>的密码为<code class="codeph">tiger123</code> ）。
                           </p>
                           <p>在连接字符串中输入左右括号“[”和“]”。</p>
                           <p>在<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHIFFBF">例4-6中</a> ，“Dilbert”和“Joe”是两个本地数据库用户。名称区分大小写，必须用双引号括起来。要使“Dilbert”能够充当“Joe”的代理，请使用<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHIFFBF">示例4-6中</a>所示的SQL语句。
                           </p>
                           <p>当“Dilbert”代表“Joe”行事时，请使用<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHJDDAC">例4-7中</a>所示的连接字符串。请务必包含双引号（“）字符。
                           </p>
                           <p>当代理用户创建为“dilbert [mybert]”时，使用<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGAEIC">例4-8中</a>所示的连接字符串连接到数据库。（在连接字符串中输入左右括号“[”和“]”。）
                           </p>
                           <p>在<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHBJDDA">例4-9中</a> ，dilbert [mybert]和joe [myjoe]是两个包含左右括号字符“[”和“]”的数据库用户。如果dilbert [mybert]想代表joe [myjoe]行事， <a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHBJDDA">例4-9</a>显示了要使用的connect语句。
                           </p>
                           <p>在<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHBGCBI">示例4-10中</a> ，您可以使用<code class="codeph">ALTER</code> <code class="codeph">USER</code>语句设置目标用户名。
                           </p>
                           <div class="infoboxnotealso" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__GUID-6B6FE90D-3D06-4363-8C8C-11BF1DC85BD3">
                              <p class="notep1">也可以看看：</p>
                              <p> </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__BAJFJCJG">OCI_ATTR_PROXY_CLIENT</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../dbseg/configuring-authentication.html#DBSEG33101" target="_blank"><span><cite>“Oracle数据库安全指南”，</cite></span></a>用于讨论代理身份验证</p>
                                 </li>
                                 <li>
                                    <p><a href="managing-scalable-platforms.html#GUID-5579C27E-2536-4B21-96DB-3EDFECF576B5" title="OCI可以验证和维护多个用户。">密码和会话管理</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="设置句柄或描述符的属性值。">OCIAttrSet（）</a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnote" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__GUID-D9362429-293B-443C-8F33-168017CBCD7A">
                              <p class="notep1">注意：</p>
                              <p>通过代理存在客户端访问的兼容性问题。由于此功能是在Oracle数据库10.2版中引入的，因此10.2之前的客户端没有此功能。如果较新的客户端将此功能与10.2之前的Oracle数据库一起使用，则连接将失败，并且客户端会在检查数据库发行版级别后返回错误。</p>
                           </div>
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGEIDA">
                              <p class="titleinexample">示例4-4启用本地用户作为其他用户的代理服务器</p><pre class="oac_no_warn" dir="ltr">ALTER USER joe GRANT CONNECT通过dilbert;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGAGIJ">
                              <p class="titleinexample">示例4-5用于代理用户的连接字符串</p><pre class="oac_no_warn" dir="ltr">迪尔伯特[乔] / tiger123 @ DB1</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHIFFBF">
                              <p class="titleinexample">示例4-6在启用本地用户作为另一个用户的代理时保持大小写敏感性</p><pre class="oac_no_warn" dir="ltr">ALTER USER“Joe”GRANT CONNECT通过“Dilbert”;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHJDDAC">
                              <p class="titleinexample">例4-7在连接字符串中保留大小写敏感性</p><pre class="oac_no_warn" dir="ltr">“迪尔伯特”[ “乔”] / tiger123 @ DB1</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHGAEIC">
                              <p class="titleinexample">例4-8在连接字符串中使用“dilbert [mybert]”</p><pre class="oac_no_warn" dir="ltr">“dilbert [mybert]”/ tiger123 rem用户已经创建了这种方式：rem CREATE USER“dilbert [mybert]”IDENTIFIED by tiger123;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHBJDDA">
                              <p class="titleinexample">例4-9在连接字符串中使用“dilbert [mybert]”[“joe [myjoe]”]</p><pre class="oac_no_warn" dir="ltr">“呆伯特[mybert]”[ “乔[myjoe]”] / tiger123</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHBGCBI">
                              <p class="titleinexample">示例4-10设置目标用户名</p><pre class="oac_no_warn" dir="ltr">ALTER USER joe GRANT CONNECT通过dilbert;</pre><p>然后，如<a href="oci-programming-basics.html#GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHHBCID">例4-11</a>所示，在OCI程序中，使用<code class="codeph">OCIAttrSet()</code>调用来设置属性<code class="codeph">OCI_ATTR_PROXY_CLIENT</code>和代理<code class="codeph">dilbert</code> 。在您的程序中，使用这些语句多次连接。
                              </p>
                           </div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC__CIHHBCID">
                              <p class="titleinexample">例4-11使用OCI设置OCI_ATTR_PROXY_CLIENT属性和代理程序dilbert</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet（session，OCI_HTYPE_SESSION，（void *）“dilbert”，（ub4）strlen（“dilbert”），OCI_ATTR_USERNAME，error_handle）; OCIAttrSet（session，OCI_HTYPE_SESSION，（void *）“tiger123”，（ub4）strlen（“tiger123”），OCI_ATTR_PASSWORD，error_handle）; OCIAttrSet（session，OCI_HTYPE_SESSION，（void *）“joe”，（ub4）strlen（“joe”），OCI_ATTR_PROXY_CLIENT，error_handle）;</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="LNOCI72586"></a><a id="LNOCI16215"></a><div class="props_rev_3"><a id="GUID-065FF1E3-FF87-4507-A72A-7D089D897B14" name="GUID-065FF1E3-FF87-4507-A72A-7D089D897B14"></a><h6 id="LNOCI-GUID-065FF1E3-FF87-4507-A72A-7D089D897B14" class="sect6"><span class="enumeration_section">4.3.1.3.3非</span>代理多会话或连接</h6>
                        <div>
                           <p>nonproxy多会话或连接选项使用显式附加和开始会话调用来维护数据库连接上的多个用户会话和连接。</p>
                           <p>附加到Oracle数据库并开始会话的特定调用是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCIServerAttach()</code> - 为OCI操作创建Oracle数据库的访问路径。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph"></code> <code class="codeph">OCISessionBegin()</code> - 为特定Oracle数据库的用户建立会话。用户需要此调用才能在Oracle数据库上执行操作。
                                 </p>
                              </li>
                           </ul>
                           <p>随后使用不同的服务上下文和会话上下文调用<code class="codeph">OCISessionBegin()</code>会处理先前用户的注销并导致错误。要同时运行两个不可迁移的会话，必须使用相同的服务上下文句柄和新的会话上下文句柄进行第二次<code class="codeph">OCISessionBegin()</code>调用。
                           </p>
                           <p>这些调用设置了一个操作环境，使您可以对数据库执行SQL和PL / SQL语句。</p>
                           <div class="infoboxnotealso" id="GUID-065FF1E3-FF87-4507-A72A-7D089D897B14__GUID-C4276652-8104-4DE4-AC3F-F0007B42D69D">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-8EDDA0CC-6755-49D8-89D0-81713E10B156" title="列出并描述连接，授权和初始化功能。">连接，授权和初始化函数</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p>有关维护多个会话，事务和连接的详细信息，请参阅<a href="session-and-connection-pooling.html#GUID-FD512A09-1A33-424B-AD4D-728956AFDBD8" title="本章介绍OCI会话池和连接池功能。">OCI中的会话池和连接池</a></p>
                                 </li>
                                 <li>
                                    <p><a href="oci-programming-basics.html#GUID-87D07567-1165-4DE7-B551-F70DD61DF1A8" title="函数OCIEnvNlsCreate（）使您可以独立于NLS_LANG和NLS_NCHAR设置在应用程序中设置字符集信息。">来自OCI的客户端字符集控制，</a>用于<code class="codeph">OCIEnvNlsCreate()</code>的使用</p>
                                 </li>
                              </ul>
                           </div>
                           <p><a href="oci-programming-basics.html#GUID-065FF1E3-FF87-4507-A72A-7D089D897B14__CIHDEGIE">例4-12</a>演示了OCI环境的创建和初始化。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在服务句柄中创建并设置服务器上下文。</p>
                              </li>
                              <li>
                                 <p>然后，使用数据库用户名和密码创建并初始化用户会话句柄。</p>
                              </li>
                              <li>
                                 <p>为简单起见，不包括错误检查。</p>
                              </li>
                           </ul>
                           <p><code class="codeph">demo</code>目录中的<code class="codeph">demo</code>程序<code class="codeph">cdemo81.c</code>说明了此过程，并进行了错误检查。
                           </p>
                           <div class="example" id="GUID-065FF1E3-FF87-4507-A72A-7D089D897B14__CIHDEGIE">
                              <p class="titleinexample">示例4-12创建和初始化OCI环境</p><pre class="oac_no_warn" dir="ltr">#include &lt;oci.h&gt; ...main（）{...OCIEnv * myenvhp; / *环境句柄* / OCIServer * mysrvhp; / *服务器句柄* / OCIError * myerrhp; / *错误句柄* / OCISession * myusrhp; / *用户会话句柄* / OCISvcCtx * mysvchp; / *服务处理* / .../ *将模式初始化为线程和对象环境* /（void）OCIEnvCreate（＆myenvhp，OCI_THREADED | OCI_OBJECT，（void *）0,0,0,0，（size_t）0，（void **）0）; / *分配服务器句柄* /（void）OCIHandleAlloc（（void *）myenvhp，（void **）＆mysrvhp，OCI_HTYPE_SERVER，0，（void **）0）; / *分配错误句柄* /（void）OCIHandleAlloc（（void *）myenvhp，（void **）＆myerrhp，OCI_HTYPE_ERROR，0，（void **）0）; / *创建服务器上下文* /（void）OCIServerAttach（mysrvhp，myerrhp，（text *）“inst1_alias”，strlen（“inst1_alias”），OCI_DEFAULT）; / *分配服务句柄* /（void）OCIHandleAlloc（（void *）myenvhp，（void **）＆mysvchp，OCI_HTYPE_SVCCTX，0，（void **）0）; / *在服务上下文句柄中设置服务器属性* /（void）OCIAttrSet（（void *）mysvchp，OCI_HTYPE_SVCCTX，（void *）mysrvhp，（ub4）0，OCI_ATTR_SERVER，myerrhp）; / *分配用户会话句柄* /（void）OCIHandleAlloc（（void *）myenvhp，（void **）＆myusrhp，OCI_HTYPE_SESSION，0，（void **）0）; / *在用户会话句柄中设置用户名属性* /（void）OCIAttrSet（（void *）myusrhp，OCI_HTYPE_SESSION，（void *）“hr”，（ub4）strlen（“hr”），OCI_ATTR_USERNAME，myerrhp）; / *在用户会话句柄中设置密码属性* /（void）OCIAttrSet（（void *）myusrhp，OCI_HTYPE_SESSION，（void *）“hr”，（ub4）strlen（“hr”），OCI_ATTR_PASSWORD，myerrhp）; （void）OCISessionBegin（（void *）mysvchp，myerrhp，myusrhp，OCI_CRED_RDBMS，OCI_DEFAULT）; / *在服务上下文句柄中设置用户会话属性* /（void）OCIAttrSet（（void *）mysvchp，OCI_HTYPE_SVCCTX，（void *）myusrhp，（ub4）0，OCI_ATTR_SESSION，myerrhp）; ...}</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16217"></a><div class="props_rev_3"><a id="GUID-A139C136-0AA7-4568-94D4-B042AEFAB6D1" name="GUID-A139C136-0AA7-4568-94D4-B042AEFAB6D1"></a><h4 id="LNOCI-GUID-A139C136-0AA7-4568-94D4-B042AEFAB6D1" class="sect4"><span class="enumeration_section">4.3.2</span>关于在OCI中处理SQL语句</h4>
                  <div>
                     <p>在OCI中处理SQL语句涉及哪些具体步骤。</p>
                     <p><a href="using-sql_statements-in-oci.html#GUID-3F20EDC9-D436-4A54-9698-4FA95988A819" title="This chapter discusses the concepts and steps involved in processing SQL statements with Oracle Call Interface.">在OCI中使用SQL语句</a>概述了<a href="using-sql_statements-in-oci.html#GUID-3F20EDC9-D436-4A54-9698-4FA95988A819" title="本章讨论使用Oracle Call Interface处理SQL语句时涉及的概念和步骤。">在OCI</a>中处理SQL语句所涉及的特定步骤。</p>
                  </div>
               </div><a id="LNOCI16218"></a><div class="props_rev_3"><a id="GUID-9D7C87CC-47F1-49BB-86D6-DF6490A99AA0" name="GUID-9D7C87CC-47F1-49BB-86D6-DF6490A99AA0"></a><h4 id="LNOCI-GUID-9D7C87CC-47F1-49BB-86D6-DF6490A99AA0" class="sect4"><span class="enumeration_section">4.3.3</span>提交或回滚操作</h4>
                  <div>
                     <p>应用程序通过调用<code class="codeph">OCITransCommit()</code>来提交对数据库的更改。
                     </p>
                     <p><code class="codeph">OCITransCommit()</code>调用使用服务上下文作为其参数之一。事务与提交更改的服务上下文相关联。此事务可以由应用程序显式创建，也可以在应用程序修改数据库时隐式创建。
                     </p>
                     <div class="infoboxnote" id="GUID-9D7C87CC-47F1-49BB-86D6-DF6490A99AA0__GUID-7DC893E6-D507-4F65-80D6-DC4488D85D8A">
                        <p class="notep1">注意：</p>
                        <p>通过使用<code class="codeph">OCIStmtExecute()</code>调用的<code class="codeph">OCI_COMMIT_ON_SUCCESS</code>模式，应用程序可以在每个语句执行后有选择地提交事务，从而节省额外的往返。
                        </p>
                     </div>
                     <p>要回滚事务，请使用<code class="codeph">OCITransRollback()</code>调用。
                     </p>
                     <p>如果应用程序以非正常注销方式与Oracle数据库断开连接（例如丢失网络连接），并且尚未调用<code class="codeph">OCITransCommit()</code> ，则会自动回滚所有活动事务。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9D7C87CC-47F1-49BB-86D6-DF6490A99AA0__GUID-780D5841-AE97-43F6-87B1-06486A9C79DC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oci-programming-basics.html#GUID-AE250EB9-0C4F-428F-9965-8DD525C3332B" title="服务上下文句柄定义用于确定对服务器的OCI调用的操作上下文的属性。">服务上下文句柄和关联句柄</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-scalable-platforms.html#GUID-3E96017A-64D3-4A29-B617-C9879610B5F2" title="OCI有一组API调用来支持本地和全局事务的操作。">OCI对交易的支持</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16219"></a><div class="props_rev_3"><a id="GUID-046BE629-DEC6-4608-885C-7B922DC825C3" name="GUID-046BE629-DEC6-4608-885C-7B922DC825C3"></a><h4 id="LNOCI-GUID-046BE629-DEC6-4608-885C-7B922DC825C3" class="sect4"><span class="enumeration_section">4.3.4</span>关于终止应用程序</h4>
                  <div>
                     <p>应用程序在终止之前应该做什么。</p>
                     <p>OCI应用程序应在终止之前执行以下步骤：</p>
                     <ol>
                        <li>
                           <p>通过为每个会话调用<code class="codeph">OCISessionEnd()</code>来删除用户会话。
                           </p>
                        </li>
                        <li>
                           <p>通过为每个源调用<code class="codeph">OCIServerDetach()</code>来删除对数据源的访问。
                           </p>
                        </li>
                        <li>
                           <p>通过为每个句柄调用<code class="codeph">OCIHandleFree()</code>显式释放所有句柄。
                           </p>
                        </li>
                        <li>
                           <p>删除环境句柄，该句柄释放与其关联的所有其他句柄。</p>
                           <div class="infoboxnote" id="GUID-046BE629-DEC6-4608-885C-7B922DC825C3__GUID-2C80793C-A6FB-415D-AC0D-DAFC5FE94779">
                              <p class="notep1">注意：</p>
                              <p>释放父OCI句柄时，将自动释放与其关联的所有子句柄</p>
                           </div>
                        </li>
                     </ol>
                     <p>对<code class="codeph">OCIServerDetach()</code>和<code class="codeph">OCISessionEnd()</code>的调用不是强制性的，但建议使用。如果应用程序终止，并且尚未调用<code class="codeph">OCITransCommit()</code> （事务提交），则会自动回滚任何挂起的事务。
                     </p>
                     <div class="infoboxnotealso" id="GUID-046BE629-DEC6-4608-885C-7B922DC825C3__GUID-761348EE-8437-4B88-B716-E4C4281BF5CC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI演示程序中</a>的第一个示例程序，用于显示在应用程序结束时释放句柄的示例</p>
                     </div>
                     <div class="infoboxnote" id="GUID-046BE629-DEC6-4608-885C-7B922DC825C3__GUID-C48D28EF-5B42-45B9-A98D-5CF6F13D1EA7">
                        <p class="notep1">注意：</p>
                        <p>如果应用程序使用<code class="codeph">OCILogon2()</code>的简化登录方法，则对<code class="codeph">OCILogoff()</code>的调用将终止会话，断开与Oracle数据库的连接，并释放服务上下文和关联的句柄。应用程序仍负责释放它分配的其他句柄。
                        </p>
                     </div>
                  </div>
               </div><a id="LNOCI16221"></a><a id="LNOCI16220"></a><div class="props_rev_3"><a id="GUID-39339E95-A79E-43BD-B57E-4DB536CB3475" name="GUID-39339E95-A79E-43BD-B57E-4DB536CB3475"></a><h4 id="LNOCI-GUID-39339E95-A79E-43BD-B57E-4DB536CB3475" class="sect4"><span class="enumeration_section">4.3.5</span> OCI中的错误处理</h4>
                  <div>
                     <p>OCI函数调用具有一组返回码。</p>
                     <div class="section">
                        <p><a href="oci-programming-basics.html#GUID-39339E95-A79E-43BD-B57E-4DB536CB3475__G466363" title="该表有3列。第1列是OCI返回码，第2列是其值，第3列是其描述。">表4-3</a>列出了这些OCI函数调用返回码，表示调用成功或失败，如<code class="codeph">OCI_SUCCESS</code>或<code class="codeph">OCI_ERROR</code> ，或提供应用程序可能需要的其他信息，如<code class="codeph">OCI_NEED_DATA</code>或<code class="codeph">OCI_STILL_EXECUTING</code> 。大多数OCI调用返回其中一个代码。
                        </p>
                        <p>要验证<code class="codeph">OCI_ERROR</code>是否未终止与服务器的连接，应用程序可以检查服务器句柄中属性<code class="codeph">OCI_ATTR_SERVER_STATUS</code>的值。如果属性的值为<code class="codeph">OCI_SERVER_NOT_CONNECTED</code> ，则必须重新建立与服务器和用户会话的连接。
                        </p>
                        <div class="infoboxnotealso" id="GUID-39339E95-A79E-43BD-B57E-4DB536CB3475__GUID-78545497-CD6A-4832-8562-C60CB8E6B2CA">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“</span>异常<span class="q"><a href="oci-programming-basics.html#GUID-253C3621-6459-4D78-862F-1C13C5ECB97B" title="某些函数返回OCI错误代码以外的值。">返回其他值的函数</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a> ”</span>以获取完整的详细信息和使用示例</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="handle-and-descriptor-attributes.html#GUID-2B6D06A7-8EDF-46FF-BDEF-320D293DCA65" title="列出并描述服务器句柄属性。">服务器句柄属性</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-39339E95-A79E-43BD-B57E-4DB536CB3475__G466363">
                        <p class="titleintable">表4-3 OCI返回代码</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI退货代码" width="100%" border="1" summary="This table has 3 columns. Column 1 is the OCI return code, column 2 is its value, and column 3 is its description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d26512e10800">OCI退货代码</th>
                                 <th align="left" valign="bottom" width="10%" id="d26512e10803">值</th>
                                 <th align="left" valign="bottom" width="60%" id="d26512e10806">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10811" headers="d26512e10800 ">
                                    <p><a id="d26512e10813" class="indexterm-anchor"></a><code class="codeph">OCI_SUCCESS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10811 d26512e10803 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10811 d26512e10806 ">
                                    <p>该功能成功完成。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10824" headers="d26512e10800 ">
                                    <p><a id="d26512e10826" class="indexterm-anchor"></a><code class="codeph">OCI_SUCCESS_WITH_INFO</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10824 d26512e10803 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10824 d26512e10806 ">
                                    <p>功能成功完成;对<code class="codeph">OCIErrorGet()</code>的调用将返回其他诊断信息。这可能包括警告。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10840" headers="d26512e10800 ">
                                    <p><a id="d26512e10842" class="indexterm-anchor"></a><code class="codeph">OCI_NO_DATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10840 d26512e10803 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10840 d26512e10806 ">
                                    <p>功能已完成，没有更多数据。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10853" headers="d26512e10800 ">
                                    <p><a id="d26512e10855" class="indexterm-anchor"></a><code class="codeph">OCI_ERROR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10853 d26512e10803 ">
                                    <p>-1</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10853 d26512e10806 ">
                                    <p>功能失败;对<code class="codeph">OCIErrorGet()</code>的调用返回其他信息。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10869" headers="d26512e10800 ">
                                    <p><a id="d26512e10871" class="indexterm-anchor"></a><code class="codeph">OCI_INVALID_HANDLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10869 d26512e10803 ">
                                    <p>-2</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10869 d26512e10806 ">
                                    <p>无效句柄作为参数传递，或者用户回调传递了无效句柄或无效上下文。没有进一步的诊断。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10882" headers="d26512e10800 ">
                                    <p><a id="d26512e10884" class="indexterm-anchor"></a><code class="codeph">OCI_NEED_DATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10882 d26512e10803 ">
                                    <p>99</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10882 d26512e10806 ">
                                    <p>应用程序必须提供运行时数据。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10895" headers="d26512e10800 ">
                                    <p><a id="d26512e10897" class="indexterm-anchor"></a><code class="codeph">OCI_STILL_EXECUTING</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10895 d26512e10803 ">
                                    <p>-3123</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10895 d26512e10806 ">
                                    <p>服务上下文是在非阻塞模式下建立的，当前操作无法立即完成。必须再次调用该操作才能完成。<code class="codeph">OCIErrorGet()</code>返回<code class="codeph">ORA-03123</code>作为错误代码。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10914" headers="d26512e10800 ">
                                    <p><a id="d26512e10916" class="indexterm-anchor"></a><code class="codeph">OCI_CONTINUE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10914 d26512e10803 ">
                                    <p>-24200</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10914 d26512e10806 ">
                                    <p>此代码仅从回调函数返回。它表示回调函数希望OCI库恢复正常处理。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d26512e10927" headers="d26512e10800 ">
                                    <p><a id="d26512e10929" class="indexterm-anchor"></a><code class="codeph">OCI_ROWCBK_DONE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d26512e10927 d26512e10803 ">
                                    <p>-24201</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d26512e10927 d26512e10806 ">
                                    <p>此代码仅从回调函数返回。它表示回调函数是通过用户行回调完成的。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>如果返回码表明发生了错误，则应用程序可以通过调用<code class="codeph">OCIErrorGet()</code>来检索特定于Oracle数据库的错误代码和消息。<code class="codeph">OCIErrorGet()</code>一个参数是传递给导致错误的调用的错误句柄。
                        </p>
                        <div class="infoboxnote" id="GUID-39339E95-A79E-43BD-B57E-4DB536CB3475__GUID-B188A674-C504-4D62-8413-4D0778B60DEA">
                           <p class="notep1">注意：</p>
                           <p>可以通过重复调用<code class="codeph">OCIErrorGet()</code>来检索多个诊断记录，直到没有更多记录（返回<code class="codeph">OCI_NO_DATA</code> ）。<code class="codeph">OCIErrorGet()</code>最多返回一条诊断记录。
                           </p>
                        </div>
                        <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-6D5785E4-A162-436F-B934-C8FC7534F9BB" title="当获取的数据是正常，空或截断时，指定OCI返回码，错误号，指示符变量和列返回码。">数据的返回和错误代码</a></p>
                              </li>
                              <li>
                                 <p><a href="intro-to-data-type-mapping-and-manipulation-functions.html#GUID-8A83C9F5-890A-4C26-9437-507DC76863F9" title="列出函数直接从函数调用返回值。">返回其他值的函数</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI16223"></a><a id="LNOCI16222"></a><div class="props_rev_3"><a id="GUID-6D5785E4-A162-436F-B934-C8FC7534F9BB" name="GUID-6D5785E4-A162-436F-B934-C8FC7534F9BB"></a><h5 id="LNOCI-GUID-6D5785E4-A162-436F-B934-C8FC7534F9BB" class="sect5"><span class="enumeration_section">4.3.5.1</span>数据的返回和错误代码</h5>
                     <div>
                        <p>当获取的数据是正常，空或截断时，指定OCI返回码，错误号，指示符变量和列返回码。</p>
                        <div class="section">
                           <p><a id="d26512e11165" class="indexterm-anchor"></a><a id="d26512e11169" class="indexterm-anchor"></a>在<a href="oci-programming-basics.html#GUID-6D5785E4-A162-436F-B934-C8FC7534F9BB__G466402" title="该表有4列。第1列是数据的状态，第2列是返回码，第3列是未提供的指示符，第4列是提供的指示符。">表4-4中</a> ，当获取的数据是正常，空或截断时，指定OCI返回码，错误号，指示符变量和列返回码。
                           </p>
                           <div class="infoboxnotealso" id="GUID-6D5785E4-A162-436F-B934-C8FC7534F9BB__GUID-FB4BFDA4-6745-4D8F-964A-EFEDC42236E7">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="oci-programming-basics.html#GUID-9966EDF7-37ED-42E5-AE57-67E394245BFA" title="每个绑定和定义OCI调用都有一个参数，它将指示符变量或指示符变量数组与DML语句，PL / SQL语句或查询相关联。">指标变量</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-6D5785E4-A162-436F-B934-C8FC7534F9BB__G466402">
                           <p class="titleintable">表4-4返回和错误代码</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="返回和错误代码" width="100%" border="1" summary="This table has 4 columns. Column 1 is the state of the data, column 2 is the return code, column 3 is the indicator not provided and column 4 is the indicator provided." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d26512e11199">数据状态</th>
                                    <th align="left" valign="bottom" width="18%" id="d26512e11202">退货代码</th>
                                    <th align="left" valign="bottom" width="31%" id="d26512e11205">指标 - 未提供</th>
                                    <th align="left" valign="bottom" width="32%" id="d26512e11209">指标 - 已提供</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d26512e11215" headers="d26512e11199 ">
                                       <p>不为null或截断</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26512e11215 d26512e11202 ">
                                       <p>不提供</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d26512e11215 d26512e11205 ">
                                       <p><code class="codeph">OCI_SUCCESS</code></p>
                                       <p>错误= 0</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d26512e11215 d26512e11209 ">
                                       <p><code class="codeph">OCI_SUCCESS</code></p>
                                       <p>错误= 0</p>
                                       <p>指标= 0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d26512e11236" headers="d26512e11199 ">
                                       <p>不为null或截断</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26512e11236 d26512e11202 ">
                                       <p>提供</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d26512e11236 d26512e11205 ">
                                       <p><code class="codeph">OCI_SUCCESS</code></p>
                                       <p>错误= 0</p>
                                       <p>返回码= 0</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d26512e11236 d26512e11209 ">
                                       <p><code class="codeph">OCI_SUCCESS</code></p>
                                       <p>错误= 0</p>
                                       <p>指标= 0</p>
                                       <p>返回码= 0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d26512e11261" headers="d26512e11199 ">
                                       <p>空数据</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26512e11261 d26512e11202 ">
                                       <p>不提供</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d26512e11261 d26512e11205 ">
                                       <p><code class="codeph">OCI_ERROR</code></p>
                                       <p>错误= 1405</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d26512e11261 d26512e11209 ">
                                       <p><code class="codeph">OCI_SUCCESS</code></p>
                                       <p>错误= 0</p>
                                       <p>指标= -1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d26512e11282" headers="d26512e11199 ">
                                       <p>空数据</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26512e11282 d26512e11202 ">
                                       <p>提供</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d26512e11282 d26512e11205 ">
                                       <p><code class="codeph">OCI_ERROR</code></p>
                                       <p>错误= 1405</p>
                                       <p>返回码= 1405</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d26512e11282 d26512e11209 ">
                                       <p><code class="codeph">OCI_SUCCESS</code></p>
                                       <p>错误= 0</p>
                                       <p>指标= -1</p>
                                       <p>返回码= 1405</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d26512e11307" headers="d26512e11199 ">
                                       <p>截断的数据</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26512e11307 d26512e11202 ">
                                       <p>不提供</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d26512e11307 d26512e11205 ">
                                       <p><code class="codeph">OCI_ERROR</code></p>
                                       <p>错误= 1406</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d26512e11307 d26512e11209 ">
                                       <p><code class="codeph">OCI_ERROR</code></p>
                                       <p>错误= 1406</p>
                                       <p>指标= data_len</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d26512e11328" headers="d26512e11199 ">
                                       <p>截断的数据</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d26512e11328 d26512e11202 ">
                                       <p>提供</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d26512e11328 d26512e11205 ">
                                       <p><code class="codeph">OCI_SUCCESS_WITH_INFO</code></p>
                                       <p>错误= 24345</p>
                                       <p>返回码= 1405</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d26512e11328 d26512e11209 ">
                                       <p><code class="codeph">OCI_SUCCESS_WITH_INFO</code></p>
                                       <p>错误= 24345</p>
                                       <p>指标= data_len</p>
                                       <p>返回码= 1406</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>对于截断数据， <code class="codeph">data_len</code>是如果此长度小于或等于<code class="codeph">SB2MAXVAL</code>截断的数据的实际长度。否则，指标设置为-2。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16224"></a><div class="props_rev_3"><a id="GUID-253C3621-6459-4D78-862F-1C13C5ECB97B" name="GUID-253C3621-6459-4D78-862F-1C13C5ECB97B"></a><h5 id="LNOCI-GUID-253C3621-6459-4D78-862F-1C13C5ECB97B" class="sect5"><span class="enumeration_section">4.3.5.2</span>返回其他值的函数</h5>
                     <div>
                        <p>某些函数返回OCI错误代码以外的值。</p>
                        <p><a href="oci-programming-basics.html#GUID-39339E95-A79E-43BD-B57E-4DB536CB3475__G466363" title="该表有3列。第1列是OCI返回码，第2列是其值，第3列是其描述。">表4-3</a>列出了这些其他OCI错误代码。使用这些函数时，请注意它们直接从函数调用返回值，而不是通过<code class="codeph">OUT</code>参数。有关每个函数及其返回值的更多详细信息，请参阅参考章节。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16225"></a><div class="props_rev_3"><a id="GUID-A0A2BC74-CCF6-48B4-831F-768E1B65C33C" name="GUID-A0A2BC74-CCF6-48B4-831F-768E1B65C33C"></a><h3 id="LNOCI-GUID-A0A2BC74-CCF6-48B4-831F-768E1B65C33C" class="sect3"><span class="enumeration_section">4.4</span>附加编码指南</h3>
               <div>
                  <p>本节介绍了编写OCI应用程序时的一些其他问题。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-715E7F0A-E534-4929-939E-996FF27BAD17" title="操作系统可以提供产生进程的工具，允许子进程重用其父进程创建的状态。">操作系统注意事项</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-96DEFED3-0752-44DB-87A8-F71F35D51DF0" title="OCI函数采用各种不同类型的参数，包括整数，句柄和字符串。">参数类型</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-B0824786-D546-4F10-8089-261B9238E390" title="如何将null插入数据库列。">将Null插入列中</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-9966EDF7-37ED-42E5-AE57-67E394245BFA" title="每个绑定和定义OCI调用都有一个参数，它将指示符变量或指示符变量数组与DML语句，PL / SQL语句或查询相关联。">指标变量</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-25EBC682-2D92-4748-985D-9F1B60F03CBA" title="如何取消长时间运行或重复的OCI呼叫。">关于取消呼叫</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-392BDD6B-01A9-4F9D-9A86-C230B0F59753" title="您可以使用与SELECT关联的ROWID ...FOR UPDATE OF ...语句在稍后的UPDATE或DELETE语句中。">定位更新和删除</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-6DCD7944-1AA5-40D6-B969-99564EF38299" title="有些词是由Oracle保留的。">保留字</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI呼吁完成民意调查。">OCI中的轮询模式操作</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-48410BC4-D4DB-442F-960F-D23D011377FB" title="OCI提供了在阻塞模式或非阻塞模式下建立服务器连接的能力。">OCI中的非阻塞模式</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-EDCDDC7B-A912-4EE8-AEB5-89755590190F" title="您可以通过调用OCIAttrSet（）来设置状态来修改或检查应用程序的阻塞状态，或者OCIAttrGet（）通过将attrtype参数设置为OCI_ATTR_NONBLOCKING_MODE来读取服务器上下文句柄上的状态。">设置阻止模式</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-615787D2-F6F5-4B8D-9EF5-7CCD0E3A58AF" title="您可以在OCI呼叫进行时使用OCIBreak（）函数取消长时间运行的OCI呼叫。">取消非阻止呼叫</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI72587"></a><div class="props_rev_3"><a id="GUID-715E7F0A-E534-4929-939E-996FF27BAD17" name="GUID-715E7F0A-E534-4929-939E-996FF27BAD17"></a><h4 id="LNOCI-GUID-715E7F0A-E534-4929-939E-996FF27BAD17" class="sect4"><span class="enumeration_section">4.4.1</span>操作系统注意事项</h4>
                  <div>
                     <p>操作系统可以提供产生进程的工具，允许子进程重用其父进程创建的状态。</p>
                     <p>在生成子进程后，子进程不能使用与父进程相同的数据库连接。代表子进程使用与父进程相同的数据库连接的任何尝试都可能导致意外的连接干扰并导致间歇性的<code class="codeph">ORA-03137</code>错误，因为Oracle Net只希望一个用户进程使用与数据库的连接。
                     </p>
                     <p>在需要多个并发连接的情况下，如果您的平台支持线程包，请考虑使用线程。单线程或多线程应用程序支持并发连接。为了在许多同时打开的连接中获得更好的性能，请考虑将它们合并。</p>
                     <div class="infoboxnotealso" id="GUID-715E7F0A-E534-4929-939E-996FF27BAD17__GUID-C47A1C5E-E739-4C12-915D-0F98317C87B0">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="线程是存在于更大进程中的轻量级进程。">OCI多线程开发概述</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717" title="OCIThread包提供了一些常用的线程原语。">OCIThread包</a></p>
                           </li>
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C" title="会话池意味着应用程序创建并维护一组无状态会话到数据库。">OCI中的会话池</a></p>
                           </li>
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-8DD97D4D-C7AA-4EF7-9B55-8DC58BDC2726" title="表示使用它们的环境。">何时使用连接池，会话池或两者都不使用</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16226"></a><div class="props_rev_3"><a id="GUID-96DEFED3-0752-44DB-87A8-F71F35D51DF0" name="GUID-96DEFED3-0752-44DB-87A8-F71F35D51DF0"></a><h4 id="LNOCI-GUID-96DEFED3-0752-44DB-87A8-F71F35D51DF0" class="sect4"><span class="enumeration_section">4.4.2</span>参数类型</h4>
                  <div>
                     <p>OCI函数采用各种不同类型的参数，包括整数，句柄和字符串。</p>
                     <div class="p">对于某些类型的参数，必须考虑特殊注意事项，如以下部分所述：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-DA3CDD12-DB34-44CA-A4A9-98DC50A2630F" title="地址参数用于将变量的地址传递给Oracle数据库。">地址参数</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-C9F8EAD7-D1B4-46B8-B513-E4FED303F33A" title="二进制整数和短二进制整数参数是其大小与系统相关的数字。">整数参数</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-C61D8B65-6883-4E3B-9625-20F0853B2596" title="字符串是一种特殊类型的地址参数。">字符串参数</a></p>
                           </li>
                        </ul>
                     </div>
                     <p>本节包括以下主题：</p>
                     <div class="infoboxnotealso" id="GUID-96DEFED3-0752-44DB-87A8-F71F35D51DF0__GUID-A90D6253-9037-4C46-88CE-93DDAF5E3DD5">
                        <p class="notep1">也可以看看：</p>
                        <p>有关参数数据类型和参数传递约定的更多信息<a href="connect-authorize-and-initialize-functions.html#GUID-8EDDA0CC-6755-49D8-89D0-81713E10B156" title="列出并描述连接，授权和初始化功能。">，请参见Connect，Authorize和Initialize函数</a></p>
                     </div>
                  </div><a id="LNOCI16227"></a><div class="props_rev_3"><a id="GUID-DA3CDD12-DB34-44CA-A4A9-98DC50A2630F" name="GUID-DA3CDD12-DB34-44CA-A4A9-98DC50A2630F"></a><h5 id="LNOCI-GUID-DA3CDD12-DB34-44CA-A4A9-98DC50A2630F" class="sect5"><span class="enumeration_section">4.4.2.1</span>地址参数</h5>
                     <div>
                        <p>地址参数用于将变量的地址传递给Oracle数据库。</p>
                        <p>在C中开发时应该小心，因为它通常按值传递标量参数。</p>
                     </div>
                  </div><a id="LNOCI16228"></a><div class="props_rev_3"><a id="GUID-C9F8EAD7-D1B4-46B8-B513-E4FED303F33A" name="GUID-C9F8EAD7-D1B4-46B8-B513-E4FED303F33A"></a><h5 id="LNOCI-GUID-C9F8EAD7-D1B4-46B8-B513-E4FED303F33A" class="sect5"><span class="enumeration_section">4.4.2.2</span>整数参数</h5>
                     <div>
                        <p>二进制整数和短二进制整数参数是其大小与系统相关的数字。</p>
                        <p>有关系统上这些整数的大小，请参阅特定于操作系统的Oracle数据库文档。</p>
                     </div>
                  </div><a id="LNOCI16229"></a><div class="props_rev_3"><a id="GUID-C61D8B65-6883-4E3B-9625-20F0853B2596" name="GUID-C61D8B65-6883-4E3B-9625-20F0853B2596"></a><h5 id="LNOCI-GUID-C61D8B65-6883-4E3B-9625-20F0853B2596" class="sect5"><span class="enumeration_section">4.4.2.3</span>字符串参数</h5>
                     <div>
                        <p>字符串是一种特殊类型的地址参数。</p>
                        <p>每个允许将字符串作为参数传递的OCI例程也具有字符串长度参数。length参数应设置为字符串的长度。</p>
                        <div class="infoboxnote" id="GUID-C61D8B65-6883-4E3B-9625-20F0853B2596__GUID-11CA565E-C2C7-4831-A74B-59AF3AF864AE">
                           <p class="notep1">注意：</p>
                           <p>与早期版本的OCI不同，您不会为以null结尾的字符串的字符串长度参数传递-1。</p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16230"></a><div class="props_rev_3"><a id="GUID-B0824786-D546-4F10-8089-261B9238E390" name="GUID-B0824786-D546-4F10-8089-261B9238E390"></a><h4 id="LNOCI-GUID-B0824786-D546-4F10-8089-261B9238E390" class="sect4"><span class="enumeration_section">4.4.3</span>将空值插入列中</h4>
                  <div>
                     <p>如何将null插入数据库列。</p>
                     <p>您可以通过多种方式将null插入数据库列。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>一种方法是在<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句的文本中使用文字<code class="codeph">NULL</code> 。例如，SQL语句使<code class="codeph">ENAME</code> <code class="codeph">NULL</code> 。</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp1（ename，empno，deptno）VALUES（NULL，8010,20）</pre></li>
                        <li>
                           <p>在OCI绑定调用中使用指示符变量。</p>
                        </li>
                        <li>
                           <p>插入<code class="codeph">NULL</code>以在绑定调用上将缓冲区长度和最大长度参数都设置为零。
                           </p>
                           <div class="infoboxnote" id="GUID-B0824786-D546-4F10-8089-261B9238E390__GUID-45409650-CCF1-4AF0-94FE-00D89C3D8EAB">
                              <p class="notep1">注意：</p>
                              <p>遵循SQL标准要求，如果尝试将null选择列表项提取到没有在define调用中指定的关联指示符变量的变量，Oracle数据库将返回错误。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oci-programming-basics.html#GUID-9966EDF7-37ED-42E5-AE57-67E394245BFA" title="每个绑定和定义OCI调用都有一个参数，它将指示符变量或指示符变量数组与DML语句，PL / SQL语句或查询相关联。">指标变量</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16231"></a><div class="props_rev_3"><a id="GUID-9966EDF7-37ED-42E5-AE57-67E394245BFA" name="GUID-9966EDF7-37ED-42E5-AE57-67E394245BFA"></a><h4 id="LNOCI-GUID-9966EDF7-37ED-42E5-AE57-67E394245BFA" class="sect4"><span class="enumeration_section">4.4.4</span>指标变量</h4>
                  <div>
                     <p>每个绑定和定义OCI调用都有一个参数，它将指示符变量或指示符变量数组与DML语句，PL / SQL语句或查询相关联。</p>
                     <p>C语言没有空值的概念;因此，您将指示符变量与输入变量相关联，以指定关联的占位符是否为<code class="codeph">NULL</code> 。将数据传递到Oracle数据库时，这些指示符变量的值将确定是否将<code class="codeph">NULL</code>分配给数据库字段。
                     </p>
                     <p>对于输出变量，指示符变量确定从Oracle返回的值是<code class="codeph">NULL</code>还是截断值。对于一个<code class="codeph">NULL</code>在取<code class="codeph">OCIStmtFetch2()</code>调用或截断在<code class="codeph">OCIStmtExecute()</code>调用，OCI调用返回<code class="codeph">OCI_SUCCESS_WITH_INFO</code> 。输出指示变量已设置。
                     </p>
                     <p>指标变量的数据类型是<code class="codeph">sb2</code> 。对于指示符变量数组，各个数组元素应为<code class="codeph">sb2</code>类型。
                     </p>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-D5C9F516-018D-4E75-B236-DE4A9B2938B3" title="可以为指标变量分配什么值。">输入</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-951C3617-BC07-445C-8C54-6413D7779542" title="可以为指标变量分配什么值。">产量</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-5FED7690-8C8C-408E-9652-EF1314EB6EE4" title="发布8.0之后引入的大多数数据类型的指示符变量的行为如前所述。">命名数据类型和REF的指标变量</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16232"></a><div class="props_rev_3"><a id="GUID-D5C9F516-018D-4E75-B236-DE4A9B2938B3" name="GUID-D5C9F516-018D-4E75-B236-DE4A9B2938B3"></a><h5 id="LNOCI-GUID-D5C9F516-018D-4E75-B236-DE4A9B2938B3" class="sect5"><span class="enumeration_section">4.4.4.1</span>输入</h5>
                     <div>
                        <p>可以为指标变量分配什么值。</p>
                        <div class="section">
                           <p>对于输入主变量，OCI应用程序可以将以下值分配给指标变量：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-D5C9F516-018D-4E75-B236-DE4A9B2938B3__GUID-D86DD14E-396F-4BC6-9C49-715EF4780C47">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Input indicator values vs. action taken" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d26512e13595">输入指标值</th>
                                    <th align="left" valign="bottom" width="71%" id="d26512e13598">Oracle数据库采取的措施</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d26512e13603" headers="d26512e13595 ">
                                       <p>-1</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d26512e13603 d26512e13598 ">
                                       <p>Oracle数据库为列分配<code class="codeph">NULL</code> ，忽略输入变量的值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d26512e13613" headers="d26512e13595 ">
                                       <p>&gt; = 0</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d26512e13613 d26512e13598 ">
                                       <p>Oracle数据库将输入变量的值分配给列。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="LNOCI16233"></a><div class="props_rev_3"><a id="GUID-951C3617-BC07-445C-8C54-6413D7779542" name="GUID-951C3617-BC07-445C-8C54-6413D7779542"></a><h5 id="LNOCI-GUID-951C3617-BC07-445C-8C54-6413D7779542" class="sect5"><span class="enumeration_section">4.4.4.2</span>输出</h5>
                     <div>
                        <p>可以为指标变量分配什么值。</p>
                        <div class="section">
                           <p>在输出时，Oracle数据库可以将以下值分配给指示符变量：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-951C3617-BC07-445C-8C54-6413D7779542__GUID-DBDE2787-8124-4FC1-994B-80DE8E096879">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Output indicator values and meaning" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d26512e13816">输出指标值</th>
                                    <th align="left" valign="bottom" width="71%" id="d26512e13819">含义</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d26512e13824" headers="d26512e13816 ">
                                       <p>-2</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d26512e13824 d26512e13819 ">
                                       <p>项的长度大于输出变量的长度;该项目已被截断。此外，原始长度比<code class="codeph">sb2</code>指示符变量中可返回的最大数据长度长。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d26512e13834" headers="d26512e13816 ">
                                       <p>-1</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d26512e13834 d26512e13819 ">
                                       <p>选定的值为null，输出变量的值不变。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d26512e13841" headers="d26512e13816 ">
                                       <p>0</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d26512e13841 d26512e13819 ">
                                       <p>Oracle数据库为主机变量分配了完整的值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d26512e13848" headers="d26512e13816 ">
                                       <p>&gt; 0</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d26512e13848 d26512e13819 ">
                                       <p>项的长度大于输出变量的长度;该项目已被截断。指标变量中返回的正值是截断前的实际长度。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="LNOCI16234"></a><div class="props_rev_3"><a id="GUID-5FED7690-8C8C-408E-9652-EF1314EB6EE4" name="GUID-5FED7690-8C8C-408E-9652-EF1314EB6EE4"></a><h5 id="LNOCI-GUID-5FED7690-8C8C-408E-9652-EF1314EB6EE4" class="sect5"><span class="enumeration_section">4.4.4.3</span>命名数据类型和REF的指标变量</h5>
                     <div>
                        <p>发布8.0之后引入的大多数数据类型的指示符变量的行为如前所述。</p>
                        <p>唯一的例外是SQLT_NTY（一种命名数据类型）。对于SQLT_NTY类型的数据，指示符变量必须是指向指标结构的指针。与其他变量类型一样，SQLT_REF类型的数据使用标准标量指示符。</p>
                        <p>当使用对象类型转换器（OTT）将数据库类型转换为C结构表示时，将为每个对象类型生成空指示符结构。此结构包括原子空指示符，以及每个对象属性的指示符。</p>
                        <div class="infoboxnotealso" id="GUID-5FED7690-8C8C-408E-9652-EF1314EB6EE4__GUID-A2C4C79A-70FA-4801-8AF3-1EE10AA49C21">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>文档的OTT在<a href="using-object-type-translator-in-oci.html#GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" title="本章讨论了对象类型转换器（OTT），它用于将数据库对象类型和命名集合类型映射到C结构，以便在OCI应用程序中使用。">与OCI使用对象类型转换</a> ，并且<a href="oci-object-relational-programming.html#GUID-D0FD9D2E-DAE1-4468-B90A-DE19B03CB0F3" title="如果数据库表的行中的列没有值，则该列称为NULL，或者包含NULL。">空指示符结构</a>有关NULL的指示器结构信息</p>
                              </li>
                              <li>
                                 <p>“ <a href="bind-define-describe-functions.html#GUID-1A6A21C8-F2EB-4F4C-9F23-DCE7D433C3A0" title="Lists and describes the bind, define, and describe functions.">绑定”，“定义”和“描述函数”中</a>的<code class="codeph">OCIBindByName()</code>和<code class="codeph">OCIBindByPos()</code> <a href="bind-define-describe-functions.html#GUID-1A6A21C8-F2EB-4F4C-9F23-DCE7D433C3A0" title="列出并描述绑定，定义和描述函数。">描述</a> ，以及<a href="object-relational-data-types-in-oci.html#GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB" title="使用命名数据类型和REF绑定时，请记住以下重要信息。">命名数据类型和REF绑定的</a> <a href="object-relational-data-types-in-oci.html#GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" title="Consider the following important information as you work with named data type and REF defines. It includes pointers about memory allocation and indicator variable usage.">信息</a> ，以及<a href="object-relational-data-types-in-oci.html#GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" title="在使用命名数据类型和REF定义时，请考虑以下重要信息。它包括有关内存分配和指示符变量用法的指针。">命名数据类型和REF定义的信息以及PL / SQL OUT绑定</a>有关的更多信息设置指定数据类型和<code class="codeph">REF</code>的指标参数</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16235"></a><div class="props_rev_3"><a id="GUID-25EBC682-2D92-4748-985D-9F1B60F03CBA" name="GUID-25EBC682-2D92-4748-985D-9F1B60F03CBA"></a><h4 id="LNOCI-GUID-25EBC682-2D92-4748-985D-9F1B60F03CBA" class="sect4"><span class="enumeration_section">4.4.5</span>关于取消呼叫</h4>
                  <div>
                     <p>如何取消长时间运行或重复的OCI呼叫。</p>
                     <p>在大多数操作系统上，您可以通过从键盘输入操作系统的中断字符（通常为Control + C）来取消长时间运行或重复的OCI调用。</p>
                     <div class="infoboxnote" id="GUID-25EBC682-2D92-4748-985D-9F1B60F03CBA__GUID-E04EAE4B-6421-4E83-9706-A2E34C312818">
                        <p class="notep1">注意：</p>
                        <p>这不要与取消游标混淆，游标是通过在<code class="codeph">nrows</code>参数设置为零的情况下调用<code class="codeph">OCIStmtFetch2()</code>来实现的。
                        </p>
                     </div>
                     <p>当您使用操作系统中断取消长时间运行或重复呼叫时，将返回错误代码<code class="codeph">ORA-01013</code> （“用户请求取消当前操作”）。
                     </p>
                     <p>当给定特定服务上下文指针或服务器上下文指针时， <code class="codeph">OCIBreak()</code>函数立即（异步）停止与服务器相关联的任何当前正在执行的OCI功能。它通常用于停止在服务器上处理的长时间运行的OCI调用。在OCI应用程序使用<code class="codeph">OCIBreak()</code>停止函数后， <code class="codeph">OCIReset()</code>函数是在非阻塞连接上执行协议同步所必需的。
                     </p>
                     <div class="infoboxnote" id="GUID-25EBC682-2D92-4748-985D-9F1B60F03CBA__GUID-2BC8FEA4-D72F-4669-A725-E9B2C5A20580">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">OCIBreak()</code>适用于Windows系统。
                        </p>
                     </div>
                     <p>可以使用非阻塞调用来监视可能长时间运行的呼叫的状态。将多线程用于新应用程序。</p>
                     <div class="infoboxnotealso" id="GUID-25EBC682-2D92-4748-985D-9F1B60F03CBA__GUID-7C87AF01-6A34-44BA-84C3-C4D5431B369B">
                        <p class="notep1">也可以看看：</p>
                        <p> </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="线程是存在于更大进程中的轻量级进程。">OCI多线程开发概述</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717" title="OCIThread包提供了一些常用的线程原语。">OCIThread包</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16236"></a><div class="props_rev_3"><a id="GUID-392BDD6B-01A9-4F9D-9A86-C230B0F59753" name="GUID-392BDD6B-01A9-4F9D-9A86-C230B0F59753"></a><h4 id="LNOCI-GUID-392BDD6B-01A9-4F9D-9A86-C230B0F59753" class="sect4"><span class="enumeration_section">4.4.6</span>定位更新和删除</h4>
                  <div>
                     <p>您可以使用与<code class="codeph">SELECT</code>关联的<code class="codeph">ROWID</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code> <code class="codeph">OF</code> ...语句在稍后的<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>语句中。
                     </p>
                     <p>通过在语句句柄上调用<code class="codeph">OCIAttrGet()</code>来检索<code class="codeph">ROWID</code>以检索句柄的<code class="codeph">OCI_ATTR_ROWID</code>属性。
                     </p>
                     <p>例如，考虑一个SQL语句，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT ename FROM emp1 WHERE empno = 7499 FOR saldate of sal</pre><p>执行提取时，句柄中的<code class="codeph">ROWID</code>属性包含所选行的行标识符。您可以通过调用<code class="codeph">OCIAttrGet()</code>将<code class="codeph">ROWID</code>检索到程序的缓冲区中，如下所示：</p><pre class="oac_no_warn" dir="ltr">OCIRowid * rowid; / *不透明格式的rowid * / / *使用OCIDescriptorAlloc（）分配描述符* / status = OCIDescriptorAlloc（（void *）envhp，（void **）＆rowid，（ub4）OCI_DTYPE_ROWID，（size_t）0，（void ** ）0）; status = OCIAttrGet（（void *）mystmtp，OCI_HTYPE_STMT，（void *）rowid，（ub4 *）0，OCI_ATTR_ROWID，（OCIError *）myerrhp）;</pre><p>然后，您可以在<code class="codeph">DELETE</code>或<code class="codeph">UPDATE</code>语句中使用已保存的<code class="codeph">ROWID</code> 。例如，如果<code class="codeph">rowid</code>是保存行标识符的缓冲区，则可以稍后通过将新工资绑定到<code class="codeph">:1</code>占位符和<code class="codeph">rowid</code>到<code class="codeph">:2</code>占位符来处理SQL语句（如下所示）。
                     </p><pre class="oac_no_warn" dir="ltr">UPDATE emp1 SET sal =：1 WHERE rowid =：2</pre><p>将<code class="codeph">rowid</code>绑定到<code class="codeph">:2</code>时，请务必使用数据类型代码104（ <code class="codeph">ROWID</code>描述符，请参阅<a href="data-types.html#GUID-D69455D9-CE01-44CC-B5A9-E541C7774805__CEGIEEJI" title="该表有4列。第1列是外部Oracle数据库数据类型，第2列是数据类型代码，第3列是C的程序变量类型，第4列是OCI定义的常量。">表5-2</a> ）。
                     </p>
                     <p>通过使用预取，您可以选择一个<code class="codeph">ROWID</code>数组，以便在后续批量更新中使用。
                     </p>
                     <div class="infoboxnotealso" id="GUID-392BDD6B-01A9-4F9D-9A86-C230B0F59753__GUID-D71BCC8B-2926-4D3E-B972-4C49B3CBCCE7">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">ROWID</code>的更多信息，请参阅<a href="data-types.html#GUID-F3B74702-3C7C-4A99-BBE5-52122277F9B6" title="Universal ROWID（UROWID）是一种数据类型，可以存储Oracle数据库表的逻辑和物理rowid。">UROWID</a>和<a href="data-types.html#GUID-C5E4228A-949E-4DAB-A10F-2A8C6C095328" title="DATE数据类型可以使用Oracle内部日期二进制格式更新，插入或检索日期值。">DATE</a></p>
                           </li>
                           <li>
                              <p><a href="data-types.html#GUID-D69455D9-CE01-44CC-B5A9-E541C7774805" title="列出并描述外部数据类型的数据类型代码。">外部数据类型</a>和代码表的外部数据类型</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16237"></a><div class="props_rev_3"><a id="GUID-6DCD7944-1AA5-40D6-B969-99564EF38299" name="GUID-6DCD7944-1AA5-40D6-B969-99564EF38299"></a><h4 id="LNOCI-GUID-6DCD7944-1AA5-40D6-B969-99564EF38299" class="sect4"><span class="enumeration_section">4.4.7</span>保留字</h4>
                  <div>
                     <p>有些词是由Oracle保留的。</p>
                     <p>也就是说，一些保留字对Oracle具有特殊含义，无法重新定义。因此，您不能使用它们来命名数据库对象，例如列，表或索引。</p>
                     <p>本节包括以下主题： <a href="oci-programming-basics.html#GUID-79245A3F-6AC1-4864-9F8C-B2A7BCCF58FC" title="Oracle保留了哪些名称空间。有关特定命名空间内的完整功能列表，请参阅与相应Oracle库对应的文档。">Oracle保留命名空间</a></p>
                     <div class="infoboxnotealso" id="GUID-6DCD7944-1AA5-40D6-B969-99564EF38299__GUID-E05F9466-0155-4643-B8FF-79DD06F02217">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="../sqlrf/Oracle-SQL-Reserved-Words-and-Keywords.html#SQLRF022" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a>和<a href="../lnpls/plsql-reserved-words-keywords.html#LNPLS019" target="_blank"><span><cite>Oracle数据库PL / SQL语言参考，</cite></span></a>用于查看SQL和PL / SQL的Oracle关键字或保留字的列表</p>
                     </div>
                  </div><a id="LNOCI16239"></a><a id="LNOCI16238"></a><div class="props_rev_3"><a id="GUID-79245A3F-6AC1-4864-9F8C-B2A7BCCF58FC" name="GUID-79245A3F-6AC1-4864-9F8C-B2A7BCCF58FC"></a><h5 id="LNOCI-GUID-79245A3F-6AC1-4864-9F8C-B2A7BCCF58FC" class="sect5"><span class="enumeration_section">4.4.7.1</span> Oracle保留命名空间</h5>
                     <div>
                        <p>Oracle保留了哪些名称空间。有关特定命名空间内的完整功能列表，请参阅与相应Oracle库对应的文档。</p>
                        <div class="section">
                           <p><a href="oci-programming-basics.html#GUID-79245A3F-6AC1-4864-9F8C-B2A7BCCF58FC__G466511" title="该表有2列。第1列是命名空间名称，第2列是其关联的Oracle库。">表4-5</a>包含Oracle保留的命名空间列表。Oracle库中函数名的初始字符仅限于此列表中的字符串。由于潜在的名称冲突，请不要使用以这些字符开头的函数名称。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-79245A3F-6AC1-4864-9F8C-B2A7BCCF58FC__G466511">
                           <p class="titleintable">表4-5 Oracle保留命名空间</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle预留命名空间" width="100%" border="1" summary="This table has 2 columns. Column 1 is the namespace name and column 2 is its associated Oracle library." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d26512e15140">命名空间</th>
                                    <th align="left" valign="bottom" width="74%" id="d26512e15143">图书馆</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15148" headers="d26512e15140 ">
                                       <p><code class="codeph">XA</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15148 d26512e15143 ">
                                       <p>仅适用于XA应用程序的外部函数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15156" headers="d26512e15140 ">
                                       <p><code class="codeph">SQ</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15156 d26512e15143 ">
                                       <p>Oracle预编译器和SQL *模块应用程序使用的外部SQLLIB函数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15164" headers="d26512e15140 ">
                                       <p><code class="codeph">O，OCI</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15164 d26512e15143 ">
                                       <p>外部OCI功能内部OCI功能</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15172" headers="d26512e15140 ">
                                       <p><code class="codeph">UPI，KP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15172 d26512e15143 ">
                                       <p>Oracle UPI层中的函数名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15180" headers="d26512e15140 ">
                                       <p><code class="codeph">NA</code></p>
                                       <p><code class="codeph">NC</code></p>
                                       <p><code class="codeph">ND</code></p>
                                       <p><code class="codeph">NL</code></p>
                                       <p><code class="codeph">NM</code></p>
                                       <p><code class="codeph">NR</code></p>
                                       <p><code class="codeph">NS</code></p>
                                       <p><code class="codeph">NT</code></p>
                                       <p><code class="codeph">NZ</code></p>
                                       <p><code class="codeph">OSN</code></p>
                                       <p><code class="codeph">TTC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15180 d26512e15143 ">
                                       <p>Oracle Net Native Services产品</p>
                                       <p>Oracle Net RPC项目</p>
                                       <p>Oracle Net Directory</p>
                                       <p>Oracle Net Network Library Layer</p>
                                       <p>Oracle Net Management Project</p>
                                       <p>Oracle Net Interchange</p>
                                       <p>Oracle Net透明网络服务</p>
                                       <p>Oracle网络驱动程序</p>
                                       <p>Oracle网络安全服务</p>
                                       <p>Oracle Net V1</p>
                                       <p>Oracle Net Two Task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15238" headers="d26512e15140 ">
                                       <p><code class="codeph">GEN，L，ORA</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15238 d26512e15143 ">
                                       <p>核心库函数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15246" headers="d26512e15140 ">
                                       <p><code class="codeph">LI，LM，LX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15246 d26512e15143 ">
                                       <p>Oracle全球化支持层中的函数名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15254" headers="d26512e15140 ">
                                       <p><code class="codeph">小号</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15254 d26512e15143 ">
                                       <p>来自系统相关库的函数名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d26512e15262" headers="d26512e15140 ">
                                       <p><code class="codeph">KO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d26512e15262 d26512e15143 ">
                                       <p>内核对象</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="LNOCI72588"></a><div class="props_rev_3"><a id="GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" name="GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D"></a><h4 id="LNOCI-GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" class="sect4"><span class="enumeration_section">4.4.8</span> OCI中的轮询模式操作</h4>
                  <div>
                     <p>OCI呼吁完成民意调查。</p>
                     <p>此类轮询模式调用的示例如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>OCI以非阻塞模式调用</p>
                        </li>
                        <li>
                           <p>OCI调用操作LOB数据，如<code class="codeph">OCILobRead2()</code>和<code class="codeph">OCILobWrite2()</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIStmtExecute()</code>和<code class="codeph">OCIStmtFetch2()</code>与<code class="codeph">OCIStmtSetPieceInfo()</code>和<code class="codeph">OCIStmtGetPieceInfo()</code></p>
                        </li>
                     </ul>
                     <p>在这种情况下，OCI要求应用程序确保在连接上重复相同的OCI调用，并且在此期间不会对连接进行任何其他操作。在这样的连接上执行任何其他OCI调用（当OCI将控制权交还给调用者时）可能导致意外行为。</p>
                     <p>因此，对于这种轮询模式OCI调用，调用者必须确保在连接上重复相同的调用，并且在调用完成之前不会执行任何其他操作。</p>
                     <p><code class="codeph">OCIBreak()</code>和<code class="codeph">OCIReset()</code>是规则的例外。允许这些调用，以便调用者可以停止已启动的OCI调用。
                     </p>
                  </div>
               </div><a id="LNOCI16240"></a><div class="props_rev_3"><a id="GUID-48410BC4-D4DB-442F-960F-D23D011377FB" name="GUID-48410BC4-D4DB-442F-960F-D23D011377FB"></a><h4 id="LNOCI-GUID-48410BC4-D4DB-442F-960F-D23D011377FB" class="sect4"><span class="enumeration_section">4.4.9</span> OCI中的非阻塞模式</h4>
                  <div>
                     <p>OCI提供了在<span class="italic">阻塞模式</span>或<span class="italic">非阻塞模式下</span>建立服务器连接的能力。
                     </p>
                     <div class="infoboxnote" id="GUID-48410BC4-D4DB-442F-960F-D23D011377FB__GUID-307E2D32-EC5C-4D6E-9AB2-F85E7FD7E5D8">
                        <p class="notep1">注意：</p>
                        <p>由于非阻塞模式要求调用者重复相同的调用直到完成，因此会增加CPU使用率。而是使用多线程模式。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-48410BC4-D4DB-442F-960F-D23D011377FB__GUID-E3D81807-262A-4F66-9FE0-A8C71C4C6866">
                        <p class="notep1">也可以看看：</p>
                        <p> </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="线程是存在于更大进程中的轻量级进程。">OCI多线程开发概述</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717" title="OCIThread包提供了一些常用的线程原语。">OCIThread包</a></p>
                           </li>
                        </ul>
                     </div>
                     <p>当在阻塞模式下建立连接时，OCI调用仅在调用成功或成功完成时才将控制权返回给OCI客户端应用程序。使用非阻塞模式，如果调用无法完成，则控制立即返回到OCI程序，并且调用返回值<code class="codeph">OCI_STILL_EXECUTING</code> 。</p>
                     <p>在非阻塞模式下，应用程序必须测试每个OCI函数的返回码，以查看它是否返回<code class="codeph">OCI_STILL_EXECUTING</code> 。如果是，则OCI客户端可以在等待重试对服务器的OCI调用时继续处理程序逻辑。此模式在图形用户界面（GUI）应用程序，实时应用程序和分布式环境中特别有用。
                     </p>
                     <p>非阻塞模式不是中断驱动的。相反，它基于轮询范例，这意味着客户端应用程序必须通过<span class="italic">使用完全相同的参数</span>再次执行调用来检查服务器上的挂起呼叫是否已完成。
                     </p>
                     <p>非阻塞模式不支持以下功能和特性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>直接路径加载</p>
                        </li>
                        <li>
                           <p>LOB缓冲</p>
                        </li>
                        <li>
                           <p>对象</p>
                        </li>
                        <li>
                           <p>查询缓存</p>
                        </li>
                        <li>
                           <p>可滚动游标</p>
                        </li>
                        <li>
                           <p>透明应用程序故障转移（TAF）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQEnqArray</code> （）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQDeqArray（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIDescribeAny（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCILobArrayRead（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCILobArrayWrite（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCITransStart（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCITransDetach（）</code></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16241"></a><div class="props_rev_3"><a id="GUID-EDCDDC7B-A912-4EE8-AEB5-89755590190F" name="GUID-EDCDDC7B-A912-4EE8-AEB5-89755590190F"></a><h4 id="LNOCI-GUID-EDCDDC7B-A912-4EE8-AEB5-89755590190F" class="sect4"><span class="enumeration_section">4.4.10</span>设置阻止模式</h4>
                  <div>
                     <p>您可以通过调用<code class="codeph">OCIAttrSet()</code>来设置状态来修改或检查应用程序的阻塞状态，或者<code class="codeph">OCIAttrGet()</code>通过将<code class="codeph">attrtype</code>参数设置为<code class="codeph">OCI_ATTR_NONBLOCKING_MODE</code>来读取服务器上下文句柄上的状态。</p>
                     <p>只有在<code class="codeph">OCISessionBegin()</code>或<code class="codeph">OCILogon2()</code>之后， <code class="codeph">OCISessionBegin()</code>必须设置此<code class="codeph">OCI_ATTR_NONBLOCKING_MODE</code>属性。否则，返回错误。
                     </p>
                     <div class="infoboxnote" id="GUID-EDCDDC7B-A912-4EE8-AEB5-89755590190F__GUID-EBB03E79-550B-4795-950D-227C9C52B3EC">
                        <p class="notep1">注意：</p>
                        <p>只有具有服务器上下文或服务上下文句柄作为参数的函数才能返回<code class="codeph">OCI_STILL_EXECUTING</code> 。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-EDCDDC7B-A912-4EE8-AEB5-89755590190F__GUID-E2AC6959-A306-4F32-B9FC-E4BB4990A321">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="handle-and-descriptor-attributes.html#GUID-2B6D06A7-8EDF-46FF-BDEF-320D293DCA65" title="列出并描述服务器句柄属性。">服务器句柄属性</a></p>
                     </div>
                  </div>
               </div><a id="LNOCI16242"></a><div class="props_rev_3"><a id="GUID-615787D2-F6F5-4B8D-9EF5-7CCD0E3A58AF" name="GUID-615787D2-F6F5-4B8D-9EF5-7CCD0E3A58AF"></a><h4 id="LNOCI-GUID-615787D2-F6F5-4B8D-9EF5-7CCD0E3A58AF" class="sect4"><span class="enumeration_section">4.4.11</span>取消非阻塞呼叫</h4>
                  <div>
                     <p>您可以在OCI呼叫进行时使用<code class="codeph">OCIBreak()</code>函数取消长时间运行的OCI呼叫。
                     </p>
                     <p>然后，您必须发出<code class="codeph">OCIReset()</code>调用以重置异步操作和协议。
                     </p>
                  </div>
               </div>
            </div><a id="LNOCI16243"></a><div class="props_rev_3"><a id="GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3" name="GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3"></a><h3 id="LNOCI-GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3" class="sect3"><span class="enumeration_section">4.5</span>关于在OCI程序中使用PL / SQL</h3>
               <div>
                  <p>PL / SQL是Oracle对SQL语言的过程扩展。</p>
                  <p>PL / SQL支持比简单查询和SQL数据操作语言（DML）语句更复杂的任务。PL / SQL使您能够将一些构造分组到一个块中并作为一个单元执行。这些结构包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>一个或多个SQL语句</p>
                     </li>
                     <li>
                        <p>变量声明</p>
                     </li>
                     <li>
                        <p>作业陈述</p>
                     </li>
                     <li>
                        <p>程序控制语句，如<code class="codeph">IF...然后...ELSE</code>语句和循环</p>
                     </li>
                     <li>
                        <p>异常处理</p>
                     </li>
                  </ul>
                  <p>您可以在OCI程序中使用PL / SQL块来执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>调用Oracle存储过程和存储函数</p>
                     </li>
                     <li>
                        <p>将过程控制语句与多个SQL语句组合在一起，作为一个单元执行</p>
                     </li>
                     <li>
                        <p>访问特殊的PL / SQL功能，例如表， <code class="codeph">CURSOR FOR</code>循环和异常处理</p>
                     </li>
                     <li>
                        <p>使用游标变量</p>
                     </li>
                     <li>
                        <p>对服务器中的对象进行操作</p>
                        <div class="infoboxnote" id="GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3__GUID-B3AACCE2-8701-4EF2-8558-93D8170A4C28">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>虽然OCI只能直接处理匿名块，而不能直接处理命名包或过程，但您始终可以将包或过程调用放在匿名块中并处理该块。</p>
                              </li>
                              <li>
                                 <p>请注意，在可以在OCI中执行PL / SQL开始结束块之前，必须将所有OUT变量初始化为<code class="codeph">NULL</code> （通过-1的指示符或实际长度为0）。</p>
                              </li>
                              <li>
                                 <p>OCI不支持PL / SQL <code class="codeph">RECORD</code>数据类型。
                                 </p>
                              </li>
                              <li>
                                 <p>在OCI中绑定PL / SQL VARCHAR2变量时，由于控制结构的开销，绑定变量的最大大小为32767字节。</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnote" id="GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3__GUID-5CD9C58C-DD1E-48E0-B757-74E1781A1796">
                           <p class="notep1">注意：</p>
                           <p>编写PL / SQL代码时，请务必记住解析器将一对连字符“ - ”和回车符之间的所有内容视为注释。因此，如果通过“ - ”在每一行上指示注释，则C编译器可以将PL / SQL块中的所有行连接成一行，而不为每行放置回车符“\ n”。在这种特殊情况下，如果前一行以注释结束，则解析器无法提取行的PL / SQL代码。为了避免这个问题，程序员应该在每个“ - ”注释后加上“\ n”以确保注释在那里结束。</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3__GUID-69FA61BE-6026-4E70-AB38-206329EFE0B6">
                           <p class="notep1">也可以看看：</p>
                           <p>有关编码PL / SQL块的信息，请<a href="../lnpls/overview.html#LNPLS-GUID-826B070B-4888-4398-889B-61A3C6B91349" target="_blank"><span><cite>参见Oracle Database PL / SQL语言参考</cite></span></a></p>
                        </div>
                     </li>
                  </ul>
               </div>
            </div><a id="LNOCI16244"></a><div class="props_rev_3"><a id="GUID-09672717-CAFD-41D3-9D11-9139B6FB460C" name="GUID-09672717-CAFD-41D3-9D11-9139B6FB460C"></a><h3 id="LNOCI-GUID-09672717-CAFD-41D3-9D11-9139B6FB460C" class="sect3"><span class="enumeration_section">4.6</span> OCI全球化支持</h3>
               <div>
                  <p>以下部分介绍可用于全球化目的的OCI函数，例如派生语言环境信息，操作字符串，字符集转换和OCI消息传递。</p>
                  <p>这些功能也在本指南的其他章节中详细介绍，因为它们具有多种用途和功能。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-87D07567-1165-4DE7-B551-F70DD61DF1A8" title="函数OCIEnvNlsCreate（）使您可以独立于NLS_LANG和NLS_NCHAR设置在应用程序中设置字符集信息。">来自OCI的客户端字符集控制</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-F76D4D82-156B-44EA-AF9B-5E52E6498ECC" title="如何通过OCI接口执行字符控制。">字符控制和OCI接口</a></p>
                        </li>
                        <li>
                           <p><a href="describing-schema-metadata.html#GUID-6941EC35-5C3F-4031-94E5-2347C4ABE96A" title="查询和列信息支持字符长度语义。">描述操作中的字符长度语义支持</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-B39E5781-C1FB-4A3A-8D9A-C9F0273966E5" title="OCI如何支持字符集。">OCI中的字符集支持</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-BD4EBBEC-3809-4944-B15A-5AEF34FD2470" title="还可以使用OCI环境句柄上的属性OCI_ATTR_ENV_NLS_LANGUAGE和OCI_ATTR_ENV_NLS_TERRITORY以编程方式设置NLS语言和区域。">在OCI中控制语言和地域</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-FE3D24F2-E3C7-4320-B713-B9A3CE7AA620" title="许多全球化支持函数接受环境句柄或用户会话句柄。">其他OCI全球化支持功能</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-A9961209-BBDB-464C-B102-50576FA501FB" title="Oracle数据库区域设置由语言，区域和字符集定义组成。">关于在OCI中获取区域设置信息</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-D1D359A3-5057-4492-805A-98A53E746322" title="OCI不支持也不处理BOM（字节顺序标记），并假定字节顺序对于执行应用程序的机器是本机的。">关于OCI和BOM（字节顺序标记）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA" title="字符串操作支持多字节字符串和宽字符串。">关于在OCI中操纵字符串</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-5A77144F-9929-4AA2-A48E-DF8C6A57320B" title="支持Oracle字符集和Unicode（16位，固定宽度Unicode编码）之间的转换。">关于在OCI中转换字符集</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-27257B5E-0604-4BF9-A616-73D2625885F7" title="用户消息API为磁带盒开发人员提供了一个简单的界面，可以检索自己的消息和Oracle数据库消息。">OCI消息传递功能</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-662DDC47-BB19-4988-BA99-1AA0520C84FE" title="lmsgen实用程序将基于文本的消息文件（.msg）转换为二进制格式（.msb），以便用户提供的Oracle数据库消息和OCI消息可以返回到所需语言的OCI函数。">lmsgen实用程序</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16245"></a><div class="props_rev_3"><a id="GUID-87D07567-1165-4DE7-B551-F70DD61DF1A8" name="GUID-87D07567-1165-4DE7-B551-F70DD61DF1A8"></a><h4 id="LNOCI-GUID-87D07567-1165-4DE7-B551-F70DD61DF1A8" class="sect4"><span class="enumeration_section">4.6.1</span>来自OCI的客户端字符集控制</h4>
                  <div>
                     <p>函数<code class="codeph">OCIEnvNlsCreate()</code>使您可以独立于<code class="codeph">NLS_LANG</code>和<code class="codeph">NLS_NCHAR</code>设置在应用程序中设置字符集信息。
                     </p>
                     <p> <code class="codeph">OCI_UTF16ID</code>不能从设置<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_NCHAR</code> ，必须使用设置<code class="codeph">OCIEnvNlsCreate()</code>一个应用程序可以使用不同的客户端字符集ID和国家字符集ID在同一系统环境中初始化多个环境句柄。例如：</p><pre class="oac_no_warn" dir="ltr">OCIEnvNlsCreate（OCIEnv ** envhpp，...，csid，ncsid）;</pre><p>在此示例中， <code class="codeph">csid</code>是参数<code class="codeph">charset</code>的字符集ID的值， <code class="codeph">csid</code>是参数<code class="codeph">ncsid</code>的国家字符集ID的<code class="codeph">ncharset</code> 。可以是0或<code class="codeph">OCI_UTF16ID</code> 。如果两者都为0，则相当于使用<code class="codeph">OCIEnvCreate()</code> 。其他参数与<code class="codeph">OCIEnvCreate()</code>调用相同。
                     </p>
                     <p>可以通过<code class="codeph">OCIEnvNlsCtrate()</code>函数指定除AL16UTF16之外的任何Oracle字符集ID，以指定元数据，SQL <code class="codeph">CHAR</code>数据和SQL <code class="codeph">NCHAR</code>数据的编码。
                     </p>
                     <p>您可以通过另一个函数<code class="codeph">OCINlsEnvironmentVariableGet()</code>在<code class="codeph">NLS_LANG</code>和<code class="codeph">NLS_NCHAR</code>检索字符集。
                     </p>
                     <div class="infoboxnotealso" id="GUID-87D07567-1165-4DE7-B551-F70DD61DF1A8__GUID-603E3859-CB73-4244-A23E-22C4A45DE647">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></p>
                           </li>
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-1EC425D9-4DC2-4A94-95E4-13DD7BFE3A28" title="You can set the client character sets through the OCIEnvNlsCreate() function parameters charset and ncharset.">关于在OCI中</a>为伪代码片段<a href="binding-and-defining-in-oci.html#GUID-1EC425D9-4DC2-4A94-95E4-13DD7BFE3A28" title="您可以通过OCIEnvNlsCreate（）函数参数charset和ncharset设置客户端字符集。">设置客户端字符集，</a>该片段说明了这些调用的示例用法</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16247"></a><div class="props_rev_3"><a id="GUID-F76D4D82-156B-44EA-AF9B-5E52E6498ECC" name="GUID-F76D4D82-156B-44EA-AF9B-5E52E6498ECC"></a><h4 id="LNOCI-GUID-F76D4D82-156B-44EA-AF9B-5E52E6498ECC" class="sect4"><span class="enumeration_section">4.6.2</span>字符控制和OCI接口</h4>
                  <div>
                     <p>如何通过OCI接口执行字符控制。</p>
                     <p>该<code class="codeph"></code> <code class="codeph">OCINlsGetInfo()</code>函数返回有关任何字符集的信息，如果在<code class="codeph">OCIEnvNlsCreate()</code>使用了该值，则包括<code class="codeph">OCI_UTF16ID</code> 。
                     </p>
                     <p><code class="codeph">OCIAttrGet()</code>函数返回传递给<code class="codeph">OCIEnvNlsCreate()</code>的字符集ID和国家字符集ID。这用于获取<code class="codeph">OCI_ATTR_ENV_CHARSET_ID</code>和<code class="codeph">OCI_ATTR_ENV_NCHARSET_ID</code> 。这包括值<code class="codeph">OCI_UTF16ID</code> 。</p>
                     <p>如果<code class="codeph">OCIEnvNlsCreate()</code>将<code class="codeph">charset</code>和<code class="codeph">ncharset</code>参数都设置为0，则返回<code class="codeph">NLS_LANG</code>和<code class="codeph">NLS_NCHAR</code>中的字符集ID。
                     </p>
                     <p>如果通过此函数重置<code class="codeph">OCI_ATTR_CHARSET_FORM</code>则<code class="codeph">OCIAttrSet()</code>函数将字符ID设置为默认值。符合条件的字符集ID包括<code class="codeph">OCI_UTF16ID</code>如果<code class="codeph">OCIEnvNlsCreate()</code>作为被传递<code class="codeph">charset</code>或<code class="codeph">ncharset</code> 。
                     </p>
                     <p><code class="codeph">OCIBindByName()</code>或<code class="codeph">OCIBindByName2()</code>和<code class="codeph">OCIBindByPos()</code>或<code class="codeph">OCIBindByPos2()</code>函数使用<code class="codeph">OCIEnvNlsCreate()</code>调用中的默认字符集绑定变量，包括<code class="codeph">OCI_UTF16ID</code> 。如果使用<code class="codeph">OCIEnvNlsCreate()</code>则实际长度和返回长度始终以字节为单位。
                     </p>
                     <p>所述<code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code>函数定义了的值的变量<code class="codeph">charset</code>在<code class="codeph">OCIEnvNlsCreate()</code>包括<code class="codeph">OCI_UTF16ID</code> ，作为默认值。如果使用<code class="codeph">OCIEnvNlsCreate()</code>则实际长度和返回长度始终以字节为单位。绑定和定义句柄的此行为与使用<code class="codeph">OCI_UTF16ID</code> <code class="codeph">OCIEnvCreate()</code>时的行为不同， <code class="codeph">OCI_UTF16ID</code>是绑定和定义句柄的字符集ID。
                     </p>
                  </div>
               </div><a id="LNOCI16248"></a><div class="props_rev_3"><a id="GUID-16736B67-A8B0-4AC5-BEE7-92B9C74AA230" name="GUID-16736B67-A8B0-4AC5-BEE7-92B9C74AA230"></a><h4 id="LNOCI-GUID-16736B67-A8B0-4AC5-BEE7-92B9C74AA230" class="sect4"><span class="enumeration_section">4.6.3</span> OCI中的字符长度语义</h4>
                  <div>
                     <p>OCI用作服务器和客户端之间的转换器，并传递字符信息以进行约束检查。</p>
                     <p>字符集有两种：可变宽度和固定宽度。（单字节字符集是固定宽度字符集的特殊情况，其中每个字节代表一个字符。）</p>
                     <p>对于固定宽度字符集，约束检查更容易，因为字节数等于字符数的倍数。因此，不需要扫描整个字符串来确定固定宽度字符集的字符数。但是，对于可变宽度字符集，需要完整扫描以确定字符串中的字符数。</p>
                  </div>
               </div><a id="LNOCI16249"></a><div class="props_rev_3"><a id="GUID-B39E5781-C1FB-4A3A-8D9A-C9F0273966E5" name="GUID-B39E5781-C1FB-4A3A-8D9A-C9F0273966E5"></a><h4 id="LNOCI-GUID-B39E5781-C1FB-4A3A-8D9A-C9F0273966E5" class="sect4"><span class="enumeration_section">4.6.4</span> OCI中的字符集支持</h4>
                  <div>
                     <p>OCI如何支持字符集。</p>
                     <p>有关<a href="binding-and-defining-in-oci.html#GUID-84576558-1974-4E61-B6E6-795FA67419E3" title="This section discusses issues involving character conversions between the client and the server.">OCI</a>中字符集支持的完整讨论，请参阅<a href="binding-and-defining-in-oci.html#GUID-84576558-1974-4E61-B6E6-795FA67419E3" title="This section discusses issues involving character conversions between the client and the server.">OCI绑定和定义</a> <a href="describing-schema-metadata.html#GUID-6941EC35-5C3F-4031-94E5-2347C4ABE96A" title="Query and column information are supported with character-length semantics.">中的描述操作</a>和<a href="binding-and-defining-in-oci.html#GUID-84576558-1974-4E61-B6E6-795FA67419E3" title="本节讨论涉及客户端和服务器之间的字符转换的问题。">字符转换中的</a> <a href="describing-schema-metadata.html#GUID-6941EC35-5C3F-4031-94E5-2347C4ABE96A" title="查询和列信息支持字符长度语义。">字符长度语义支持</a> 。</p>
                  </div>
               </div><a id="LNOCI73037"></a><div class="props_rev_3"><a id="GUID-BD4EBBEC-3809-4944-B15A-5AEF34FD2470" name="GUID-BD4EBBEC-3809-4944-B15A-5AEF34FD2470"></a><h4 id="LNOCI-GUID-BD4EBBEC-3809-4944-B15A-5AEF34FD2470" class="sect4"><span class="enumeration_section">4.6.5</span>在OCI中控制语言和地域</h4>
                  <div>
                     <p>还可以使用OCI环境句柄上的属性<code class="codeph">OCI_ATTR_ENV_NLS_LANGUAGE</code>和<code class="codeph">OCI_ATTR_ENV_NLS_TERRITORY</code>以编程方式设置NLS语言和区域。
                     </p>
                     <div class="p">有关其用法的更多详细信息，请参阅以下属性。在设置属性后，这些属性对从该环境句柄创建的数据库会话有效。
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-9CA5026C-B6A0-4233-8B22-F1DD94ACE9F8__CACDCDID">OCI_ATTR_ENV_NLS_LANGUAGE</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-9CA5026C-B6A0-4233-8B22-F1DD94ACE9F8__CACDFDCB">OCI_ATTR_ENV_NLS_TERRITORY</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16250"></a><div class="props_rev_3"><a id="GUID-FE3D24F2-E3C7-4320-B713-B9A3CE7AA620" name="GUID-FE3D24F2-E3C7-4320-B713-B9A3CE7AA620"></a><h4 id="LNOCI-GUID-FE3D24F2-E3C7-4320-B713-B9A3CE7AA620" class="sect4"><span class="enumeration_section">4.6.6</span>其他OCI全球化支持功能</h4>
                  <div>
                     <p>许多全球化支持函数接受环境句柄或用户会话句柄。</p>
                     <p>OCI环境句柄与客户端NLS环境变量相关联。向服务器发出<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句时，此环境不会更改。与环境句柄关联的字符集是客户端字符集。OCI会话句柄（由...返回） <code class="codeph"></code> <code class="codeph">OCISessionBegin()</code> ）与服务器会话环境相关联。使用<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句修改会话环境时，NLS设置会更改。与会话句柄关联的字符集是数据库字符集。
                     </p>
                     <p>请注意，在会话中第一个事务开始之前，OCI会话句柄没有与之关联的NLS设置。<code class="codeph">SELECT</code>语句不会开始事务。
                     </p>
                     <div class="infoboxnotealso" id="GUID-FE3D24F2-E3C7-4320-B713-B9A3CE7AA620__GUID-514D1C28-5D5D-4756-8C84-5B8FF0C9C628">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-globalization-support-functions.html#GUID-B76A21C9-1A6F-456F-8E5B-076826E92002" title="本章介绍了OCI全球化支持功能。">OCI全球化支持功能</a></p>
                           </li>
                           <li>
                              <p>有关使用Unicode进行OCI编程的信息，请参阅<a href="../nlspg/programming-with-unicode.html#NLSPG0074" target="_blank"><span><cite>“Oracle数据库全球化支持指南</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI72589"></a><a id="LNOCI16251"></a><div class="props_rev_3"><a id="GUID-A9961209-BBDB-464C-B102-50576FA501FB" name="GUID-A9961209-BBDB-464C-B102-50576FA501FB"></a><h4 id="LNOCI-GUID-A9961209-BBDB-464C-B102-50576FA501FB" class="sect4"><span class="enumeration_section">4.6.7</span>关于在OCI中获取区域设置信息</h4>
                  <div>
                     <p>Oracle数据库区域设置由语言，区域和字符集定义组成。</p>
                     <p>区域设置确定常规，例如日期和月份名称，以及日期，时间，数字和货币格式。全球化应用程序遵循用户的区域设置和文化约定。例如，当语言环境设置为德语时，用户希望以德语显示日期和月份名称。</p>
                     <div class="infoboxnotealso" id="GUID-A9961209-BBDB-464C-B102-50576FA501FB__GUID-459A3C61-918A-47F3-B595-EB3C8E51D8E1">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-locale-functions.html#GUID-BBB8CCE2-7438-4C35-8AF3-7B9349531F93" title="列出并描述OCI语言环境功能。">OCI语言环境功能</a></p>
                           </li>
                           <li>
                              <p><a href="oci-locale-functions.html#GUID-70CCE086-4BF8-42F9-A6CA-E0B926C4DD11" title="从NLS_LANG返回字符集ID或从NLS_NCHAR返回国家字符集ID。">OCINlsEnvironmentVariableGet（）</a></p>
                           </li>
                        </ul>
                     </div>
                     <p>您可以使用<code class="codeph">OCINlsGetInfo()</code>函数检索以下信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>一周中的几天（已翻译）</p>
                        </li>
                        <li>
                           <p>一周的缩短日期（已翻译）</p>
                        </li>
                        <li>
                           <p>月份名称（已翻译）</p>
                        </li>
                        <li>
                           <p>缩写的月份名称（已翻译）</p>
                        </li>
                        <li>
                           <p>是/否（已翻译）</p>
                        </li>
                        <li>
                           <p>上午/下午（翻译）</p>
                        </li>
                        <li>
                           <p>AD / BC（已翻译）</p>
                        </li>
                        <li>
                           <p>数字格式</p>
                        </li>
                        <li>
                           <p>借记卡信用卡</p>
                        </li>
                        <li>
                           <p>日期格式</p>
                        </li>
                        <li>
                           <p>货币格式</p>
                        </li>
                        <li>
                           <p>默认语言</p>
                        </li>
                        <li>
                           <p>默认地区</p>
                        </li>
                        <li>
                           <p>默认字符集</p>
                        </li>
                        <li>
                           <p>默认语言排序</p>
                        </li>
                        <li>
                           <p>默认日历</p>
                        </li>
                     </ul>
                     <p><a href="oci-programming-basics.html#GUID-A9961209-BBDB-464C-B102-50576FA501FB__CIHBCBGC">例4-13中</a>的代码检索区域设置信息并检查错误。
                     </p>
                     <div class="example" id="GUID-A9961209-BBDB-464C-B102-50576FA501FB__CIHBCBGC">
                        <p class="titleinexample">示例4-13在OCI中获取区域设置信息</p><pre class="oac_no_warn" dir="ltr">剑MyPrintLinguisticName（envhp，errhp）OCIEnv * envhp; OCIError * errhp; {OraText infoBuf [OCI_NLS_MAXBUFSZ];剑回; ret = OCINlsGetInfo（envhp，/ * environment handle * / errhp，/ * error handle * / infoBuf，/ * destination buffer * /（size_t）OCI_NLS_MAXBUFSZ，/ * buffer size * /（ub2）OCI_NLS_LINGUISTIC_NAME）; / * item * / if（ret！= OCI_SUCCESS）{checkerr（errhp，ret，OCI_HTYPE_ERROR）; ret = OCI_ERROR; } else {printf（“NLS语言：％s \ n”，infoBuf）; } return（ret）; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D1D359A3-5057-4492-805A-98A53E746322" name="GUID-D1D359A3-5057-4492-805A-98A53E746322"></a><h4 id="LNOCI-GUID-D1D359A3-5057-4492-805A-98A53E746322" class="sect4"><span class="enumeration_section">4.6.8</span>关于OCI和BOM（字节顺序标记）</h4>
                  <div>
                     <p>OCI不支持也不处理BOM（字节顺序标记），并假定字节顺序对于执行应用程序的机器是本机的。</p>
                     <p>您的OCI应用程序不得传递包含BOM的字符串，期望OCI可以检测字符串的编码。您的OCI应用程序必须删除BOM（如果它存在于传入的字符串中）并确保它处于OCI函数所期望的编码中。</p>
                  </div>
               </div><a id="LNOCI72590"></a><a id="LNOCI72591"></a><a id="LNOCI16253"></a><div class="props_rev_3"><a id="GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA" name="GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA"></a><h4 id="LNOCI-GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA" class="sect4"><span class="enumeration_section">4.6.9</span>关于操作OCI中的字符串</h4>
                  <div>
                     <p>字符串操作支持多字节字符串和宽字符串。</p>
                     <p>多字节字符串以本机Oracle字符集编码。对多字节字符串进行操作的函数将字符串作为整个单元，字符串的长度以字节为单位计算。宽字符串（ <code class="codeph">wchar</code> ）函数为字符串操作提供了更大的灵活性。它们支持基于字符和基于字符串的操作，其中字符串的长度以字符计算。
                     </p>
                     <p>宽字符数据类型<code class="codeph">OCIWchar</code>是特定于Oracle的，不应与ANSI / ISO C标准定义的<code class="codeph">wchar_t</code>数据类型混淆。所有操作系统中的Oracle宽字符数据类型总是4个字节，而<code class="codeph">wchar_t</code>的大小取决于实现和操作系统。Oracle宽字符数据类型规范化多字节字符，以便它们具有统一的固定宽度，以便于处理。这可确保Oracle宽字符集和本机字符集之间的往返转换不会丢失数据。
                     </p>
                     <p>字符串操作可以分为以下几类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在多字节和宽字符之间转换字符串</p>
                        </li>
                        <li>
                           <p>角色分类</p>
                        </li>
                        <li>
                           <p>案例转换</p>
                        </li>
                        <li>
                           <p>显示长度的计算</p>
                        </li>
                        <li>
                           <p>常规字符串操作，例如比较，连接和搜索</p>
                           <div class="infoboxnotealso" id="GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA__GUID-F1079617-9750-49C9-AE22-AD7D8C8DC910">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="oci-string-manipulation-functions.html#GUID-767B0982-8423-49C1-9C7D-4F2042E5D9A0" title="列出并描述OCI字符串操作函数。">OCI字符串操作函数</a></p>
                           </div>
                        </li>
                     </ul>
                     <p><a href="oci-programming-basics.html#GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA__CIHCHBAH">例4-14</a>显示了一个操作字符串的简单例子。
                     </p>
                     <p>所述OCI字符分类功能进行了详细描述<a href="oci-character-classification-functions.html#GUID-25048605-12AC-4DF0-9FF4-607EE9726217" title="列出并描述OCI字符分类功能。">OCI字符分类函数</a> 。
                     </p>
                     <p><a href="oci-programming-basics.html#GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA__CIHDCIFG">例4-15</a>显示了如何在OCI中对字符进行分类。</p>
                     <div class="example" id="GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA__CIHCHBAH">
                        <p class="titleinexample">例4-14 OCI中的基本字符串操作</p><pre class="oac_no_warn" dir="ltr">size_t MyConvertMultiByteToWideChar（envhp，dstBuf，dstSize，srcStr）OCIEnv * envhp; OCIWchar * dstBuf; size_t dstSize; OraText * srcStr; / * null终止源字符串* / {sword ret; size_t dstLen = 0; size_t srcLen; / *获取源字符串的长度* / srcLen = OCIMultiByteStrlen（envhp，srcStr）; ret = OCIMultiByteInSizeToWideChar（envhp，/ * environment handle * / dstBuf，/ * destination buffer * / dstSize，/ * destination buffer size * / srcStr，/ * source string * / srcLen，/ * source string of * / dstLen）; / *指向目标长度的指针* / if（ret！= OCI_SUCCESS）{checkerr（envhp，ret，OCI_HTYPE_ENV）; } return（dstLen）; }</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C8EDF903-1106-45B0-A33E-A883E978BCBA__CIHDCIFG">
                        <p class="titleinexample">例4-15对OCI中的字符进行分类</p><pre class="oac_no_warn" dir="ltr">boolean MyIsNumberWideCharString（envhp，srcStr）OCIEnv * envhp; OCIWchar * srcStr; / * wide char source string * / {OCIWchar * pstr = srcStr; / * define和init pointer * / boolean status = TRUE; / *定义和初始化状态变量* / / *检查输入* / if（pstr ==（OCIWchar *）NULL）return（FALSE）; if（* pstr ==（OCIWchar）NULL）return（FALSE）; / *检查每个字符的数字* / do {if（OCIWideCharIsDigit（envhp，* pstr）！= TRUE）{status = FALSE;打破; / *非十进制数字* /}} while（* ++ pstr！=（OCIWchar）NULL）;返回（状态）; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNOCI72592"></a><a id="LNOCI16256"></a><div class="props_rev_3"><a id="GUID-5A77144F-9929-4AA2-A48E-DF8C6A57320B" name="GUID-5A77144F-9929-4AA2-A48E-DF8C6A57320B"></a><h4 id="LNOCI-GUID-5A77144F-9929-4AA2-A48E-DF8C6A57320B" class="sect4"><span class="enumeration_section">4.6.10</span>关于在OCI中转换字符集</h4>
                  <div>
                     <p>支持Oracle字符集和Unicode（16位，固定宽度Unicode编码）之间的转换。</p>
                     <p>如果字符没有从Unicode到Oracle字符集的映射，则使用替换字符。因此，在没有数据丢失的情况下，并不总是可以转换回原始字符集。</p>
                     <p>涉及Unicode字符集的字符集转换函数需要数据绑定和定义缓冲区以在<code class="codeph">ub2</code>地址处对齐或引发错误。
                     </p>
                     <p><a href="oci-programming-basics.html#GUID-5A77144F-9929-4AA2-A48E-DF8C6A57320B__CIHCECEE">例4-16</a>显示了一个简单的Unicode转换。
                     </p>
                     <div class="infoboxnotealso" id="GUID-5A77144F-9929-4AA2-A48E-DF8C6A57320B__GUID-F77A73E6-2024-48EB-B30E-F5A13D23C01B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-character-set-conversion-functions.html#GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3" title="列出并描述OCI字符集转换功能。">OCI字符集转换功能</a></p>
                     </div>
                     <div class="example" id="GUID-5A77144F-9929-4AA2-A48E-DF8C6A57320B__CIHCECEE">
                        <p class="titleinexample">示例4-16在OCI中转换字符集</p><pre class="oac_no_warn" dir="ltr">/ *在OCI中转换字符集的示例----------------------------------------- --- * / size_t MyConvertMultiByteToUnicode（envhp，errhp，dstBuf，dstSize，srcStr）OCIEnv * envhp; OCIError * errhp; ub2 * dstBuf; size_t dstSize; OraText * srcStr; {size_t dstLen = 0; size_t srcLen = 0; OraText tb [OCI_NLS_MAXBUFSZ]; / * NLS信息缓冲区* / ub2 cid; / * OCIEnv字符集ID * / / *获取OCIEnv字符集* / checkerr（errhp，OCINlsGetInfo（envhp，errhp，tb，sizeof（tb），OCI_NLS_CHARACTER_SET））; cid = OCINlsCharSetNameToId（envhp，tb）; if（cid == OCI_UTF16ID）{ub2 * srcStrUb2 =（ub2 *）srcStr; while（* srcStrUb2 ++）++ srcLen; srcLen * = sizeof（ub2）; } else srcLen = OCIMultiByteStrlen（envhp，srcStr）; checkerr（errhp，OCINlsCharSetConvert（envhp，/ *环境句柄* / errhp，/ *错误句柄* / OCI_UTF16ID，/ * Unicode字符集ID * / dstBuf，/ *目标缓冲区* / dstSize，/ *目标缓冲区大小* / cid，/ * OCIEnv字符集ID * / srcStr，/ *源字符串* / srcLen，/ *源字符串长度* /＆dstLen））; / *指向目标长度的指针* / return dstLen / sizeof（ub2）; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNOCI72593"></a><a id="LNOCI216"></a><a id="LNOCI17690"></a><a id="LNOCI16258"></a><div class="props_rev_3"><a id="GUID-27257B5E-0604-4BF9-A616-73D2625885F7" name="GUID-27257B5E-0604-4BF9-A616-73D2625885F7"></a><h4 id="LNOCI-GUID-27257B5E-0604-4BF9-A616-73D2625885F7" class="sect4"><span class="enumeration_section">4.6.11</span> OCI消息传递功能</h4>
                  <div>
                     <p>用户消息API为磁带盒开发人员提供了一个简单的界面，可以检索自己的消息和Oracle数据库消息。</p>
                     <p><a href="oci-programming-basics.html#GUID-27257B5E-0604-4BF9-A616-73D2625885F7__CIHJDGHD">例4-17</a>创建了一个消息句柄，初始化它以从<code class="codeph">impus.msg</code>检索消息，检索消息号128，并关闭消息句柄。它假定OCI环境处理，OCI会话处理，并且产品，工具和缓存大小已正确初始化。
                     </p>
                     <div class="example" id="GUID-27257B5E-0604-4BF9-A616-73D2625885F7__CIHJDGHD">
                        <p class="titleinexample">示例4-17从文本消息文件中检索消息</p><pre class="oac_no_warn" dir="ltr">OCIMsg msghnd; / * message handle * / / *初始化一个消息句柄，用于从impus.msg * / err = OCIMessageOpen（hndl，errhp，＆msghnd，prod，fac，OCI_DURATION_SESSION）中检索消息;如果（错！= OCI_SUCCESS）/ *错误处理* / .../ *检索消息号为128的消息* / msgptr = OCIMessageGet（msghnd，128，msgbuf，sizeof（msgbuf））; / *对消息做一些事情，比如显示它* / .../ *当没有更多要检索的消息时关闭消息句柄* / OCIMessageClose（hndl，errhp，msghnd）;</pre><div class="infoboxnotealso" id="GUID-27257B5E-0604-4BF9-A616-73D2625885F7__GUID-EFE98E7B-2AF2-432F-A41A-BCE7119783CE">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../addci/using-cartridge-services.html#ADDCI4660" target="_blank"><span><cite>Oracle数据库数据盒开发人员指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="oci-messaging-functions.html#GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE" title="列出并描述OCI消息传递功能。">OCI消息传递功能</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNOCI16260"></a><div class="props_rev_3"><a id="GUID-662DDC47-BB19-4988-BA99-1AA0520C84FE" name="GUID-662DDC47-BB19-4988-BA99-1AA0520C84FE"></a><h4 id="LNOCI-GUID-662DDC47-BB19-4988-BA99-1AA0520C84FE" class="sect4"><span class="enumeration_section">4.6.12</span> lmsgen实用程序</h4>
                  <div>
                     <p><code class="codeph">lmsgen</code>实用程序将基于文本的消息文件（ <code class="codeph">.msg</code> ）转换为二进制格式（ <code class="codeph">.msb</code> ），以便用户提供的Oracle数据库消息和OCI消息可以返回到所需语言的OCI函数。
                     </p>
                     <p></p>
                     <p>Imsgen实用程序的BNF语法如下：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">lmsgen</code> <span class="italic"><code class="codeph">text_file</code></span> <span class="italic"><code class="codeph">product</code></span> <span class="italic"><code class="codeph">facility</code></span> [ <span class="italic"><code class="codeph">language</code></span> ]</pre><p>在上面的语法中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><code class="codeph">text_file</code></span>是消息文本文件。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">product</code></span>是<span class="italic"><code class="codeph">product</code></span>的名称。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">facility</code></span>是<span class="italic"><code class="codeph">facility</code></span>的名称。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">language</code></span>是与<code class="codeph">NLS_LANG</code>参数中指定的语言对应的可选消息语言。如果消息文件未使用语言正确标记，则需要语言参数。
                           </p>
                        </li>
                     </ul>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-DE5543AC-10DF-4B80-B214-B2322DA19864" title="文本消息文件必须遵循的准则是什么。">文本消息文件指南</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-288C4005-4299-454C-883B-2A028B69822F" title="如何从文本消息文件创建二进制消息文件。">从文本消息文件创建二进制消息文件的示例</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16262"></a><div class="props_rev_3"><a id="GUID-DE5543AC-10DF-4B80-B214-B2322DA19864" name="GUID-DE5543AC-10DF-4B80-B214-B2322DA19864"></a><h5 id="LNOCI-GUID-DE5543AC-10DF-4B80-B214-B2322DA19864" class="sect5"><span class="enumeration_section">4.6.12.1</span>文本消息文件指南</h5>
                     <div>
                        <p>文本消息文件必须遵循的准则是什么。</p>
                        <p>短信文件必须遵循以下准则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>以“ <code class="codeph">/"</code>和“ <code class="codeph">//</code> ”开头的行被视为内部注释，将被忽略。
                              </p>
                           </li>
                           <li>
                              <p>要使用特定语言标记消息文件，请包含类似于以下内容的行：</p><pre class="oac_no_warn" dir="ltr">＃CHARACTER_SET_NAME = Japanese_Japan。JA16EUC</pre></li>
                           <li>
                              <p>每条消息包含三个字段：</p><pre class="oac_no_warn" dir="ltr"><span class="italic"><code class="codeph">message_number</code></span> ， <span class="italic"><code class="codeph">warning_level</code></span> ， <span class="italic"><code class="codeph">message_text</code></span>
</pre><ul style="list-style-type:disc">
                                 <li>
                                    <p>消息编号在消息文件中必须是唯一的。</p>
                                 </li>
                                 <li>
                                    <p>目前未使用警告级别。设为0。</p>
                                 </li>
                                 <li>
                                    <p>消息文本不能超过76个字节。</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>以下是Oracle数据库消息文本文件的示例：</p><pre class="oac_no_warn" dir="ltr">/ Oracle Corporation版权所有（c）2001。版权所有。/这是测试us7ascii消息文件＃CHARACTER_SET_NAME = american_america.us7ascii / 00000,00000，“导出未成功终止\ n”00003,00000，“找不到段的存储定义（％lu，％lu）”</pre></div>
                  </div><a id="LNOCI16263"></a><div class="props_rev_3"><a id="GUID-288C4005-4299-454C-883B-2A028B69822F" name="GUID-288C4005-4299-454C-883B-2A028B69822F"></a><h5 id="LNOCI-GUID-288C4005-4299-454C-883B-2A028B69822F" class="sect5"><span class="enumeration_section">4.6.12.2</span>从文本消息文件创建二进制消息文件的示例</h5>
                     <div>
                        <p>如何从文本消息文件创建二进制消息文件。</p>
                        <div class="section">
                           <p>下表包含<code class="codeph">lmsgen</code>参数的示例值：</p>
                           <div class="tblformal" id="GUID-288C4005-4299-454C-883B-2A028B69822F__GUID-7C444B28-139D-4284-9F37-99A765FABF39">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="lmsgen parameter and value" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="56%" id="d26512e20266">lmsgen参数</th>
                                       <th align="left" valign="bottom" width="44%" id="d26512e20269">值</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="56%" id="d26512e20274" headers="d26512e20266 ">
                                          <p><span class="italic"><code class="codeph">产品</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="44%" headers="d26512e20274 d26512e20269 ">
                                          <p><code class="codeph">$ HOME /所有MyApplication</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="56%" id="d26512e20284" headers="d26512e20266 ">
                                          <p><span class="italic"><code class="codeph">设施</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="44%" headers="d26512e20284 d26512e20269 ">
                                          <p><code class="codeph">恶魔</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="56%" id="d26512e20294" headers="d26512e20266 ">
                                          <p><span class="italic"><code class="codeph">语言</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="44%" headers="d26512e20294 d26512e20269 ">
                                          <p><code class="codeph">AMERICAN</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="56%" id="d26512e20304" headers="d26512e20266 ">
                                          <p><span class="italic"><code class="codeph">文本文件</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="44%" headers="d26512e20304 d26512e20269 ">
                                          <p><code class="codeph">impus.msg</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>文本消息文件位于以下位置：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">$ HOME /对myApp / MESG / impus.msg</code>
</pre><p>文本消息文件中的一行是：</p><pre class="oac_no_warn" dir="ltr">00128,2，“在％s中找到重复的条目％s”</pre><p><code class="codeph">lmsgen</code>实用程序将文本消息文件（ <code class="codeph">impus.msg</code> ）转换为二进制格式，从而生成一个名为<code class="codeph">impus.msb</code>的文件：</p><pre class="oac_no_warn" dir="ltr">％lmsgen impus.msg $ HOME / myApplication imp AMERICAN</pre><p>以下输出结果：</p><pre class="oac_no_warn" dir="ltr">生成消息文件impus.msg  - &gt; /home/scott/myApplication/mesg/impus.msb NLS二进制消息文件生成实用程序：版本9.2.0.0.0  - 生产版权所有（c）Oracle Corporation 1979,2001。版权所有。CORE 9.2.0.0.0生产</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>