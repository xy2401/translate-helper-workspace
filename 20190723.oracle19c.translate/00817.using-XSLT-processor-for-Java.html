<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An explanation is given of how to use the Extensible Stylesheet Language Transformation (XSLT) processor for Java."></meta>
      <meta name="description" content="An explanation is given of how to use the Extensible Stylesheet Language Transformation (XSLT) processor for Java."></meta>
      <title>使用XSLT Processor for Java</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="An explanation is given of how to use the Extensible Stylesheet Language Transformation (XSLT) processor for Java."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-developers-kit-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:58:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96292-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-binary-XML-with-Java.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-xquery-processor-for-Java.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML Developers Kit Programmers Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDK"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-binary-XML-with-Java.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-xquery-processor-for-Java.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XDK-for-Java.html" property="item" typeof="WebPage"><span property="name">Oracle XML Developer's Kit for Java</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用XSLT Processor for Java</li>
            </ol>
            <a id="GUID-E148A072-BDBE-40A4-A393-F4FC362382F5" name="GUID-E148A072-BDBE-40A4-A393-F4FC362382F5"></a><a id="ADXDK986"></a><a id="ADXDK4000"></a>
            
            <h2 id="ADXDK-GUID-E148A072-BDBE-40A4-A393-F4FC362382F5" class="sect2"><span class="enumeration_chapter">14</span>使用XSLT Processor for Java</h2>
         </header>
         <div class="ind">
            <div>
               <p>解释了如何使用Java的可扩展样式表语言转换（XSLT）处理器。</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div><a id="ADXDK987"></a><a id="ADXDK19219"></a><div class="props_rev_4"><a id="GUID-1E8020C0-90D9-4CC5-86DE-48237A43E0DC" name="GUID-1E8020C0-90D9-4CC5-86DE-48237A43E0DC"></a><h3 id="ADXDK-GUID-1E8020C0-90D9-4CC5-86DE-48237A43E0DC" class="sect3">XSLT处理器简介</h3>
               <div>
                  <p>主题包括先决条件，标准和规范，以及使用XSLT进行XML转换的概述。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19220"></a><div class="props_rev_3"><a id="GUID-A29D44F3-5B8D-482C-ABD9-A8DDD6A1333D" name="GUID-A29D44F3-5B8D-482C-ABD9-A8DDD6A1333D"></a><h4 id="ADXDK-GUID-A29D44F3-5B8D-482C-ABD9-A8DDD6A1333D" class="sect4">使用XSLT Processor for Java的先决条件</h4>
                  <div>
                     <p>XSLT是一种基于可扩展标记语言（XML）的语言，可用于将一个XML文档转换为另一个文本文档。例如，您可以使用XSLT接受XML数据文档作为输入，对文档中的元素值执行算术计算，并生成显示计算结果的可扩展超文本标记语言（XHTML）文档。在XSLT中，XPath用于导航和处理源节点树中的元素。XPath将XML文档建模为由节点组成的树; XPath节点树中的节点类型对应于DOM树中的节点类型。</p>
                     <p>本章假定您熟悉这些万维网联盟（W3C）标准：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>可扩展样式表语言（XSL）和<a href="glossary.html#GUID-8AD9F98D-06CF-4FC6-8729-9FE297BD501F"><span class="xrefglossterm">可扩展样式表语言转换（XSLT）</span></a> 。有关XSLT的一般介绍，请参阅<a href="preface.html#GUID-2CD1F6B6-C8EC-42E3-97F2-589AABF9AFFB" title="列出了与此文档相关的Oracle资源。">相关文档中</a>列出的XML资源。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADXDK4001"></a><div class="props_rev_3"><a id="GUID-6119AB61-59F7-49E9-9139-BAA2BD28155C" name="GUID-6119AB61-59F7-49E9-9139-BAA2BD28155C"></a><h4 id="ADXDK-GUID-6119AB61-59F7-49E9-9139-BAA2BD28155C" class="sect4">用于Java的XSLT处理器的标准和规范</h4>
                  <div>
                     <p>Oracle XML Developer's Kit（XDK）XSLT处理器支持XSLT2.0建议。</p>
                     <p>XPath是XSLT和其他XML语言使用的导航语言，有两个版本：XPath 2.0和XPath 1.0 Recommendation。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XDK-standards.html#GUID-795A483B-12AC-4F6D-A606-6BE9DA963F0F" title="描述了Oracle XML Developer&#39;s Kit（XDK）标准。">Oracle XML Developer的套件标准</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-6119AB61-59F7-49E9-9139-BAA2BD28155C__GUID-2D0017D0-CA94-4706-86A3-B3ED3584C31D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xslt20" target="_blank">XSL转换（XSLT）版本2.0</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xpath_2_0" target="_blank">XML路径语言（XPath）2.0</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xpath" target="_blank">XML路径语言（XPath）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="ADXDK19221"></a><div class="props_rev_3"><a id="GUID-9753FDEC-327D-4747-B016-EA2F924507C6" name="GUID-9753FDEC-327D-4747-B016-EA2F924507C6"></a><h4 id="ADXDK-GUID-9753FDEC-327D-4747-B016-EA2F924507C6" class="sect4">使用XSLT 1.0和2.0进行XML转换</h4>
                  <div>
                     <p>Oracle XML Developer's Kit（XDK）提供了XSLT 1.0中未包含的一些有用功能。要使用XSLT 2.0，请在样式表中设置<code class="codeph">version</code>属性。
                     </p><pre class="pre codeblock"><code>&lt;？xml-stylesheet version =“2.0”......？&gt;</code></pre><p>有用的XSLT 2.0功能包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用户定义的函数</p>
                           <p>您可以使用<code class="codeph">&lt;xsl:function&gt;</code>声明来定义函数。此元素必须具有一个<code class="codeph">name</code>属性才能定义函数名称。<code class="codeph">name</code>属性的值是<code class="codeph">QName</code> 。<code class="codeph">&lt;xsl:function&gt;</code>元素的内容是零个或多个<code class="codeph">xsl:param</code>元素，它们指定函数的形式参数，后跟一个定义函数返回的值的序列构造函数。
                           </p>
                           <p><code class="codeph">QName</code>可以具有空命名空间，但用户定义的函数必须具有非空命名空间。也就是说，如果<code class="codeph">abc</code>被定义为命名空间，那么<code class="codeph">add</code>不是合法的用户定义函数，而是<code class="codeph">abc:add</code> is。
                           </p>
                        </li>
                        <li>
                           <p>分组</p>
                           <p>您可以使用<code class="codeph">&lt;xsl:for-each-group&gt;</code>元素， <code class="codeph">current-group()</code>函数和<code class="codeph">current-grouping-key()</code>函数对项目进行分组。
                           </p>
                        </li>
                        <li>
                           <p>多个结果文档</p>
                           <p>您可以使用<code class="codeph">&lt;xsl:result-document&gt;</code>元素来创建结果树。<code class="codeph">&lt;xsl:result-document&gt;</code>元素的内容是树的文档节点的子节点的序列构造函数。
                           </p>
                           <p>例如，通过此元素，您可以接受XML文档作为输入，并将其分解为单独的文档。您可以获取描述书籍列表的XML文档，并为每本书生成XHTML文档。然后，您可以验证每个输出文档。</p>
                        </li>
                        <li>
                           <p>临时树木</p>
                           <p>您可以将它们存储为一组文档节点，而不是像XSLT 1.0那样将中间XSL转换结果和XSL变量表示为字符串。可以使用<code class="codeph">&lt;xsl:variable&gt;</code> ， <code class="codeph">&lt;xsl:param&gt;</code>和<code class="codeph">&lt;xsl:with-param&gt;</code>元素构造的文档节点称为临时树。
                           </p>
                        </li>
                        <li>
                           <p>字符映射</p>
                           <p>在XSLT 1.0中，您必须使用<code class="codeph">&lt;xsl:text&gt;</code>和<code class="codeph">&lt;xsl:value-of&gt;</code>元素的<code class="codeph">disable-output-escaping</code>属性来指定字符转义。在XSLT 2.0中，您可以使用<code class="codeph">&lt;xsl:character-map&gt;</code>元素将映射字符声明为顶级<code class="codeph">stylesheet</code>元素。您可以使用此元素在XSLT输出中生成带有保留或无效XML字符的文件，例如<code class="codeph">&lt;</code> ， <code class="codeph">&gt;</code>和<code class="codeph">&amp;</code> 。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9753FDEC-327D-4747-B016-EA2F924507C6__GUID-50686D1B-5575-4BC8-8B35-AF1838F0E667">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xslt20" target="_blank">XSL转换（XSLT）版本2.0，</a>用于解释和XSLT 2.0功能的示例</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADXDK988"></a><a id="ADXDK19222"></a><div class="props_rev_3"><a id="GUID-322D83F3-DBA4-43C8-B378-8713854A3847" name="GUID-322D83F3-DBA4-43C8-B378-8713854A3847"></a><h3 id="ADXDK-GUID-322D83F3-DBA4-43C8-B378-8713854A3847" class="sect3">使用XSLT Processor for Java：概述</h3>
               <div>
                  <p>XDK XSLT处理器将XML文档转换为另一种基于文本的文档，格式如XML，HTML，XHTML或纯文本。您可以使用应用程序编程接口（API）以编程方式调用处理器，也可以从命令行运行它。</p>
                  <p>XSLT处理器可以执行以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>读取一个或多个XSLT样式表。处理器可以将多个样式表应用于单个XML输入文档并生成不同的结果。</p>
                     </li>
                     <li>
                        <p>读取一个或多个输入XML文档。处理器可以使用单个样式表来转换多个XML输入文档。</p>
                     </li>
                     <li>
                        <p>通过将样式表中的规则应用于输入XML文档来构建输出文档。输出是文档对象模型（DOM）树，输出流或一系列Simple API for XML（SAX）事件。</p>
                     </li>
                  </ul>
                  <p>XSLT是一种基于函数的语言，通常需要输入文档和样式表的DOM来执行转换，而XSLT处理器的XDK Java实现可以使用SAX创建样式表对象，以便以更高的效率和更少的资源执行转换。您可以重用此样式表对象来转换多个文档，而无需重新分析样式表。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19224"></a><a id="ADXDK19223"></a><div class="props_rev_3"><a id="GUID-A30EDC89-3A29-4995-9E14-0D443981571C" name="GUID-A30EDC89-3A29-4995-9E14-0D443981571C"></a><h4 id="ADXDK-GUID-A30EDC89-3A29-4995-9E14-0D443981571C" class="sect4">使用XSLT Processor for Java：基本过程</h4>
                  <div>
                     <p>介绍了用于Java的XSLT处理器的基本设计。</p>
                     <p><a href="using-XSLT-processor-for-Java.html#GUID-A30EDC89-3A29-4995-9E14-0D443981571C__I1012632">图14-1</a>说明了这个过程。
                     </p>
                     <div class="infoboxnotealso" id="GUID-A30EDC89-3A29-4995-9E14-0D443981571C__GUID-DC436AB7-241C-4FBF-9DFB-2866A190E076">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API参考</cite></span></a> ，了解<code class="codeph">XMLParser</code>和<code class="codeph">XSDBuilder</code>类</p>
                     </div>
                     <div class="figure" id="GUID-A30EDC89-3A29-4995-9E14-0D443981571C__I1012632">
                        <p class="titleinfigure">图14-1使用XSLT Processor for Java</p><img src="img/adxdk111.gif" width="362" alt="下面是图14-1的描述" title="下面是图14-1的描述" longdesc="img_text/adxdk111.html"><br><a href="img_text/adxdk111.html">“图14-1使用XSLT Processor for Java”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="ADXDK19226"></a><a id="ADXDK19225"></a><div class="props_rev_3"><a id="GUID-A934BBC3-82AC-4620-A20F-F8AE7E6CA62E" name="GUID-A934BBC3-82AC-4620-A20F-F8AE7E6CA62E"></a><h4 id="ADXDK-GUID-A934BBC3-82AC-4620-A20F-F8AE7E6CA62E" class="sect4">运行XSLT处理器演示程序</h4>
                  <div>
                     <p>用于Java的XSLT处理器的演示程序包含在<code class="codeph">$ORACLE_HOME/xdk/demo/java/parser/xslt</code> 。
                     </p>
                     <div class="section">
                        <p><a href="using-XSLT-processor-for-Java.html#GUID-A934BBC3-82AC-4620-A20F-F8AE7E6CA62E__CHDCGIAF" title="此表描述了可用于测试XSLT处理器的XML文件和程序。文件和描述是列。">表14-1</a>介绍了可用于测试XSLT处理器的XML文件和程序。
                        </p>
                        <div class="tblformalwide" id="GUID-A934BBC3-82AC-4620-A20F-F8AE7E6CA62E__CHDCGIAF">
                           <p class="titleintable">表14-1 XSLT处理器示例文件</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="XSLT处理器示例文件" width="100%" border="1" summary="This table describes the XML files and programs that you can use to test the XSLT processor. File and Description are the Columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d49252e870">文件</th>
                                    <th align="left" valign="bottom" width="81%" id="d49252e873">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e878" headers="d49252e870 ">
                                       <p><code class="codeph">match.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e878 d49252e873 ">
                                       <p>可用于测试ID选择和模式匹配的示例XML文档。其关联的样式表是<code class="codeph">match.xsl</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e889" headers="d49252e870 ">
                                       <p><code class="codeph">match.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e889 d49252e873 ">
                                       <p>用于<code class="codeph">match.xml</code>样本样式表。您可以使用它来测试简单的身份转换。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e900" headers="d49252e870 ">
                                       <p><code class="codeph">math.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e900 d49252e873 ">
                                       <p>可用于执行简单算术的示例XML数据文档。它的相关样式表是<code class="codeph">math.xsl</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e911" headers="d49252e870 ">
                                       <p><code class="codeph">math.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e911 d49252e873 ">
                                       <p>用于<code class="codeph">math.xml</code>样本样式表。样式表输出一个HTML页面，其中包含对<code class="codeph">math.xml</code>元素值执行的算术运算的结果。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e925" headers="d49252e870 ">
                                       <p><code class="codeph">number.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e925 d49252e873 ">
                                       <p>可用于测试源树编号的示例XML数据文档。该文件描述了一本书的结构。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e933" headers="d49252e870 ">
                                       <p><code class="codeph">number.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e933 d49252e873 ">
                                       <p>使用<code class="codeph">number.xml</code>示例样式表。样式表输出一个HTML页面，用于计算<code class="codeph">number.xml</code>描述的书中各节的节号。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e947" headers="d49252e870 ">
                                       <p><code class="codeph">position.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e947 d49252e873 ">
                                       <p>可用于在复杂模式中测试<code class="codeph">position()=X</code>的示例XML数据文档。其关联的样式表是<code class="codeph">position.xsl</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e961" headers="d49252e870 ">
                                       <p><code class="codeph">position.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e961 d49252e873 ">
                                       <p>用于<code class="codeph">position.xml</code>样本样式表。样式表输出一个HTML页面，其中包含复杂模式匹配的结果。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e972" headers="d49252e870 ">
                                       <p><code class="codeph">reverse.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e972 d49252e873 ">
                                       <p>可以与<code class="codeph">reverse.xsl</code>一起使用的示例XML数据文档，用于在树中向后遍历。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e983" headers="d49252e870 ">
                                       <p><code class="codeph">reverse.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e983 d49252e873 ">
                                       <p>使用<code class="codeph">reverse.xml</code>示例样式表。样式表以<code class="codeph">reverse.xml</code>的相反顺序输出项目编号。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e997" headers="d49252e870 ">
                                       <p><code class="codeph">string.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e997 d49252e873 ">
                                       <p>可用于测试的示例XML数据文档，执行各种字符串测试和操作。其关联的样式表是<code class="codeph">string.xsl</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e1009" headers="d49252e870 ">
                                       <p><code class="codeph">string.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e1009 d49252e873 ">
                                       <p>使用<code class="codeph">string.xml</code>示例样式表。样式表输出一个XML文档，显示字符串操作的结果。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e1020" headers="d49252e870 ">
                                       <p><code class="codeph">style.txt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e1020 d49252e873 ">
                                       <p>一个样式表，为HTML页面提供框架。样式表包含在<code class="codeph">number.xsl</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e1031" headers="d49252e870 ">
                                       <p><code class="codeph">variable.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e1031 d49252e873 ">
                                       <p>可用于测试XSL变量使用的示例XML数据文档。该文件描述了一本书的结构。其关联的样式表是<code class="codeph">variable.xsl</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e1042" headers="d49252e870 ">
                                       <p><code class="codeph">variable.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e1042 d49252e873 ">
                                       <p>用于<code class="codeph">variable.xml</code>样式表。样式表广泛使用XSL变量。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e1053" headers="d49252e870 ">
                                       <p><code class="codeph">XSLSample.java</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e1053 d49252e873 ">
                                       <p>一个示例应用程序，它提供了如何使用Oracle XSLT处理器的XSL处理功能的简单示例。该程序使用输入样式表转换输入XML文档。此程序将XSL转换的结果构建为<code class="codeph">DocumentFragment</code> ，并且不显示<code class="codeph">xsl:output</code>功能。
                                       </p>
                                       <p>使用目录中的任何XSLT样式表作为第一个参数运行此程序，并将其关联的<code class="codeph">*.xml</code> XML文档作为第二个参数。例如，使用<code class="codeph">variable.xsl</code>和<code class="codeph">variable.xml</code>或<code class="codeph">string.xsl</code>和<code class="codeph">string.xml</code>运行程序。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d49252e1084" headers="d49252e870 ">
                                       <p><code class="codeph">XSLSample2.java</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d49252e1084 d49252e873 ">
                                       <p>一个示例应用程序，它提供了如何使用Oracle XSLT处理器的XSL处理功能的简单示例。该程序使用输入样式表转换输入XML文档。该程序将结果输出到流并支持<code class="codeph">xsl:output</code>功能。与<code class="codeph">XSLSample.java</code>一样，您可以针对目录中的任何XML数据文档和样式表运行它。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>有关如何编译和运行示例程序的文档位于<code class="codeph">README</code> 。基本步骤是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>转到<code class="codeph">$ORACLE_HOME/xdk/demo/java/parser/xslt</code>目录（UNIX）或<code class="codeph">%ORACLE_HOME%\xdk\demo\java\parser\xslt</code>目录（Windows）。</span></li>
                        <li class="stepexpand"><span>确保按照<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="You can set up the XDK for Java environment using either an environment variable or a command-line option.">设置XDK for Java环境中的</a>描述<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="您可以使用环境变量或命令行选项设置XDK for Java环境。">设置</a>环境变量</span></li>
                        <li class="stepexpand"><span>在命令行运行<code class="codeph">make</code> （UNIX）或<code class="codeph">Make.bat</code> （Windows）。make文件编译源代码，然后为每个<code class="codeph">*.xml</code>文件及其关联的<code class="codeph">*.xsl</code>样式表运行<code class="codeph">XSLSample</code>和<code class="codeph">XSLSample2</code>程序。程序将每个转换的输出写入<code class="codeph">*.out</code> 。</span></li>
                        <li class="stepexpand"><span>您可以查看<code class="codeph">*.out</code>文件以查看XML转换的输出。您还可以在命令行上运行程序，如下所示，其中<span class="italic"><code class="codeph">name</code></span>由<code class="codeph">match</code> ， <code class="codeph">math</code>等替换：</span><div><pre class="oac_no_warn" dir="ltr">java XSLSample <span class="italic">name</span> .xsl <span class="italic">name</span> .xml java XSLSample2 <span class="italic">name</span> .xsl <span class="italic">name</span> .xml</pre><p>例如，运行<code class="codeph">match.xml</code>演示：</p><pre class="oac_no_warn" dir="ltr">java XSLSample match.xsl match.xml java XSLSample2 match.xsl match.xml</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19228"></a><a id="ADXDK19227"></a><div class="props_rev_3"><a id="GUID-354F13C8-024B-45DD-9EA7-ECF8C2CBC8EC" name="GUID-354F13C8-024B-45DD-9EA7-ECF8C2CBC8EC"></a><h4 id="ADXDK-GUID-354F13C8-024B-45DD-9EA7-ECF8C2CBC8EC" class="sect4">使用XSLT处理器命令行实用程序</h4>
                  <div>
                     <p>XDK包括<code class="codeph">oraxsl</code> ，它是一个命令行Java接口，可以将样式表应用于多个XML文档。在<code class="codeph">$ORACLE_HOME/bin/oraxsl</code>和<code class="codeph">%ORACLE_HOME%\bin\oraxsl.bat</code> shell脚本执行<code class="codeph">oracle.xml.jaxb.oraxsl</code>类。
                     </p>
                     <div class="section">
                        <p>要使用<code class="codeph">oraxsl</code> ，请确保按照<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="You can set up the XDK for Java environment using either an environment variable or a command-line option.">设置XDK for Java环境中的</a>描述<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="您可以使用环境变量或命令行选项设置XDK for Java环境。">设置</a> <code class="codeph">CLASSPATH</code> 。
                        </p>
                        <p>在命令行上使用此语法来调用<code class="codeph">oraxsl</code> ：</p><pre class="oac_no_warn" dir="ltr">oraxsl <span class="italic">选项源样式表结果</span>
</pre><p><code class="codeph">oraxsl</code>实用程序需要样式表，XML文件进行转换以及可选的结果文件。如果未指定结果文件，则实用程序会将转换后的文档发送到标准输出。如果必须通过样式表转换多个XML文档，请将<code class="codeph">-l</code>或<code class="codeph">-d</code>选项与<code class="codeph">-s</code>和<code class="codeph">-r</code>选项一起使用。<a href="using-XSLT-processor-for-Java.html#GUID-354F13C8-024B-45DD-9EA7-ECF8C2CBC8EC__BABGFEBA" title="此表描述了oraxsl接口的命令行选项。选项和目的是列。">表14-2</a>中描述了这些和其他选项。
                        </p>
                        <div class="tblformalwide" id="GUID-354F13C8-024B-45DD-9EA7-ECF8C2CBC8EC__BABGFEBA">
                           <p class="titleintable">表14-2 oraxsl的命令行选项</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="oraxsl的命令行选项" width="100%" border="1" summary="This table describes the command-Line options for the oraxsl interface. Option and Purpose are the columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d49252e1342">选项</th>
                                    <th align="left" valign="bottom" width="77%" id="d49252e1345">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1350" headers="d49252e1342 ">
                                       <p><code class="codeph">-w</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1350 d49252e1345 ">
                                       <p>显示警告。默认情况下，警告已关闭。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1358" headers="d49252e1342 ">
                                       <p><code class="codeph">-e</code> <span class="italic"><code class="codeph">error_log</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1358 d49252e1345 ">
                                       <p>指定程序写入错误和警告的文件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1369" headers="d49252e1342 ">
                                       <p><code class="codeph">-l</code> <span class="italic"><code class="codeph">xml_file_list</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1369 d49252e1345 ">
                                       <p>列出要处理的文件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1381" headers="d49252e1342 ">
                                       <p><code class="codeph">-d</code> <span class="italic"><code class="codeph">directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1381 d49252e1345 ">
                                       <p>指定包含要转换的文件的目录。默认行为是处理目录中的所有文件。如果只需处理该目录中的一部分文件（例如，一个文件），则通过设置<code class="codeph">-l</code>并指定必须处理的文件来更改此行为。您还可以使用<code class="codeph">-x</code>或<code class="codeph">-i</code>选项根据其扩展名选择文件来更改行为。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1402" headers="d49252e1342 ">
                                       <p><code class="codeph">-x</code> <span class="italic"><code class="codeph">source_extension</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1402 d49252e1345 ">
                                       <p>指定要排除的文件的扩展名。将此选项与<code class="codeph">-d</code> 。程序不会选择具有指定扩展名的任何文件。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1417" headers="d49252e1342 ">
                                       <p><code class="codeph">-i</code> <span class="italic"><code class="codeph">source_extension</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1417 d49252e1345 ">
                                       <p>指定要包含的文件的扩展名。将此选项与<code class="codeph">-d</code> 。程序仅选择具有指定扩展名的文件。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1432" headers="d49252e1342 ">
                                       <p><code class="codeph">-s</code> <span class="italic"><code class="codeph">stylesheet</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1432 d49252e1345 ">
                                       <p>指定样式表。如果设置<code class="codeph">-d</code>或<code class="codeph">-l</code> ，则设置<code class="codeph">-s</code>以指示要使用的样式表。您必须指定完整路径。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1453" headers="d49252e1342 ">
                                       <p><code class="codeph">-r</code> <span class="italic"><code class="codeph">result_extension</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1453 d49252e1345 ">
                                       <p>指定用于结果的扩展名。如果设置<code class="codeph">-d</code>或<code class="codeph">-l</code> ，则设置<code class="codeph">-r</code>以指定要用于转换结果的扩展名。所以，如果你指定扩展<code class="codeph">out</code> ，程序转换的输入文档<code class="codeph">doc</code>到<code class="codeph">doc.out</code> 。默认情况下，程序将结果放在当前目录中。您可以使用<code class="codeph">-o</code>选项更改此行为，该选项使您可以为结果指定目录。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1487" headers="d49252e1342 ">
                                       <p><code class="codeph">-o</code> <span class="italic"><code class="codeph">result_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1487 d49252e1345 ">
                                       <p>指定放置结果的目录。您必须使用<code class="codeph">-r</code>选项设置此选项。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1502" headers="d49252e1342 ">
                                       <p><code class="codeph">-p</code> <span class="italic"><code class="codeph">param_list</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1502 d49252e1345 ">
                                       <p>列出参数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1514" headers="d49252e1342 ">
                                       <p><code class="codeph">-t</code> <span class="italic"><code class="codeph">num_of_threads</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1514 d49252e1345 ">
                                       <p>指定用于处理的线程数。使用多个线程可以在处理多个文档时提供性能改进。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1527" headers="d49252e1342 ">
                                       <p><code class="codeph">-v</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1527 d49252e1345 ">
                                       <p>生成详细输出。该程序打印一些调试信息，可以帮助跟踪处理过程中遇到的任何问题。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d49252e1535" headers="d49252e1342 ">
                                       <p><code class="codeph">-debug</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d49252e1535 d49252e1345 ">
                                       <p>生成调试输出。默认情况下，禁用调试模式。Oracle JDeveloper中提供了XSLT调试器的图形用户界面（GUI）版本。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADXDK19230"></a><a id="ADXDK19231"></a><a id="ADXDK19232"></a><a id="ADXDK19229"></a><div class="props_rev_3"><a id="GUID-D6188498-793F-46D0-94C1-204004CA8B7B" name="GUID-D6188498-793F-46D0-94C1-204004CA8B7B"></a><h5 id="ADXDK-GUID-D6188498-793F-46D0-94C1-204004CA8B7B" class="sect5">使用XSLT Processor命令行实用程序：示例</h5>
                     <div>
                        <p>您可以在<code class="codeph">$ORACLE_HOME/xdk/demo/java/parser/xslt</code>的各种XML文件和样式表上测试<code class="codeph">oraxsl</code> 。
                        </p>
                        <div class="section">
                           <p><a href="using-XSLT-processor-for-Java.html#GUID-D6188498-793F-46D0-94C1-204004CA8B7B__CHDGHIJH">例14-1</a>显示了<code class="codeph">math.xml</code>的内容。
                           </p>
                           <p>名为<code class="codeph">math.xsl</code>的XSLT样式表如<a href="using-XSLT-processor-for-Java.html#GUID-D6188498-793F-46D0-94C1-204004CA8B7B__CHDFIAIH">例14-2</a>所示。
                           </p>
                           <p>您可以在这些文件上运行<code class="codeph">oraxsl</code>实用程序以生成HTML输出，如下例所示：</p><pre class="oac_no_warn" dir="ltr">oraxsl math.xml math.xsl math.htm</pre><p>输出文件<code class="codeph">math.htm</code>如<a href="using-XSLT-processor-for-Java.html#GUID-D6188498-793F-46D0-94C1-204004CA8B7B__CHDICDGA">例14-3</a>所示。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-D6188498-793F-46D0-94C1-204004CA8B7B__CHDGHIJH">
                           <p class="titleinexample">例14-1 math.xml</p><pre class="pre codeblock"><code>&lt;？xml版本=“1.0”？&gt; &lt;doc&gt; &lt;n1&gt; 5 &lt;/ n1&gt; &lt;n2&gt; 2 &lt;/ n2&gt; &lt;div&gt; -5 &lt;/ div&gt; &lt;mod&gt; 2 &lt;/ mod&gt; &lt;/ doc&gt;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D6188498-793F-46D0-94C1-204004CA8B7B__CHDFIAIH">
                           <p class="titleinexample">例14-2 math.xsl</p><pre class="pre codeblock"><code>&lt;？xml版本=“1.0”？&gt; &lt;xsl：stylesheet version =“1.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”&gt; &lt;xsl：template match =“doc”&gt; &lt;HTML&gt; &lt;H1&gt;测试mod。&lt;/ H1&gt; &lt;HR /&gt; &lt;P&gt;应该说“1”：&lt;xsl：value-of select =“5 mod 2”/&gt; &lt;/ P&gt; &lt;P&gt;应该说“1”：&lt;xsl： value-of select =“n1 mod n2”/&gt; &lt;/ P&gt; &lt;P&gt;应该说“-1”：&lt;xsl：value-of select =“div mod mod”/&gt; &lt;/ P&gt; &lt;P&gt; &lt;xsl ：value-of select =“div or（（mod））| or”/&gt; &lt;/ P&gt; &lt;/ HTML&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D6188498-793F-46D0-94C1-204004CA8B7B__CHDICDGA">
                           <p class="titleinexample">例14-3 math.htm</p><pre class="pre codeblock"><code>&lt;HTML&gt; &lt;H1&gt;测试mod。&lt;/ H1&gt; &lt;HR&gt; &lt;P&gt;应该说“1”：1 &lt;/ P&gt; &lt;P&gt;应该说“1”：1 &lt;/ P&gt; &lt;P&gt;应该说“-1”： -  1 &lt;/ P&gt; &lt;P&gt; true &lt;/ P&gt; &lt;/ HTML&gt;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADXDK989"></a><a id="ADXDK19233"></a><div class="props_rev_3"><a id="GUID-DC35FA19-A762-4380-B0E2-0352FAAE28C5" name="GUID-DC35FA19-A762-4380-B0E2-0352FAAE28C5"></a><h3 id="ADXDK-GUID-DC35FA19-A762-4380-B0E2-0352FAAE28C5" class="sect3">转换XML</h3>
               <div>
                  <p>这里的主题包括执行基本的XSL转换以及从转换中获取DOM结果。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19235"></a><a id="ADXDK19234"></a><div class="props_rev_3"><a id="GUID-66EB2FB4-0037-4CC9-A11B-FBA13CDE479A" name="GUID-66EB2FB4-0037-4CC9-A11B-FBA13CDE479A"></a><h4 id="ADXDK-GUID-66EB2FB4-0037-4CC9-A11B-FBA13CDE479A" class="sect4">执行基本XSL转换</h4>
                  <div>
                     <p>XSLT处理器使用的基本类是<code class="codeph">DOMParser</code>和<code class="codeph">XSLProcessor</code> 。<code class="codeph">XSL2Sample.java</code>演示程序很好地说明了如何使用这些类来使用XSLT样式表转换XML文档。
                     </p>
                     <div class="section">
                        <p><a href="using-XSLT-processor-for-Java.html#GUID-322D83F3-DBA4-43C8-B378-8713854A3847" title="XDK XSLT处理器将XML文档转换为另一种基于文本的文档，格式如XML，HTML，XHTML或纯文本。您可以使用应用程序编程接口（API）以编程方式调用处理器，也可以从命令行运行它。">使用XSLT Processor for Java：Overview</a>中描述了<code class="codeph">DOMParser</code>和<code class="codeph">XSLProcessor</code>类。
                        </p>
                        <p>使用这些基本步骤编写使用XSLT处理器的Java程序：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建一个DOM解析器对象，您可以使用它来解析XML数据文档和XSLT样式表。来自<code class="codeph">XSL2Sample.java</code>此代码片段显示了如何实例化解析器：</span><div><pre class="pre codeblock"><code>XMLDocument xml，xsldoc，out; URL xslURL; URL xmlURL; // ...parser = new DOMParser（）; parser.setPreserveWhitespace（true）;</code></pre><p>默认情况下，除非使用DTD，否则解析器不会保留空格。保留空白区非常重要，因为它可以使XSLT空白规则确定如何处理空白区域。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">DOMParser.parse()</code>方法解析XSLT样式表。来自<code class="codeph">XSL2Sample.java</code>这段代码片段展示了如何执行解析：</span><div><pre class="pre codeblock"><code>xslURL = DemoUtil.createURL（args [0]）; parser.parse（xslURL）; xsldoc = parser.getDocument（）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">DOMParser.parse()</code>方法解析XML数据文档。来自<code class="codeph">XSL2Sample.java</code>这段代码片段展示了如何执行解析：</span><div><pre class="pre codeblock"><code>xmlURL = DemoUtil.createURL（args [1]）; parser.parse（XMLURL）; xml = parser.getDocument（）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>创建一个新的XSLT样式表对象。您可以将这些类的对象传递给<code class="codeph">XSLProcessor.newXSLStylesheet()</code>方法：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">java.io.读者</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">java.io.的InputStream</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">的XMLDocument</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">java.net。网址</code></p>
                                 </li>
                              </ul>
                              <p>例如， <code class="codeph">XSL2Sample.java</code>显示了如何从<code class="codeph">XMLDocument</code>对象创建样式表对象：</p><pre class="pre codeblock"><code>XSLProcessor processor = new XSLProcessor（）; processor.setBaseURL（xslURL）; XSLStylesheet xsl = processor.newXSLStylesheet（xsldoc）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>设置XSLT处理器以显示任何警告。例如， <code class="codeph">XSL2Sample.java</code>调用<code class="codeph">showWarnings()</code>和<code class="codeph">setErrorStream()</code>方法：</span><div><pre class="pre codeblock"><code>processor.showWarnings（真）; processor.setErrorStream（System.err的）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">XSLProcessor.processXSL()</code>方法将样式表应用于输入XML数据文档。<a href="using-XSLT-processor-for-Java.html#GUID-66EB2FB4-0037-4CC9-A11B-FBA13CDE479A__CHDEBBCE" title="描述XSLProcessor方法。">表14-3</a>列出了一些其他可用的<code class="codeph">XSLProcessor</code>方法。</span><div>
                              <div class="tblformal" id="GUID-66EB2FB4-0037-4CC9-A11B-FBA13CDE479A__CHDEBBCE">
                                 <p class="titleintable">表14-3 XSLProcessor方法</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="XSLProcessor方法" width="90%" border="1" summary="Describes XSLProcessor methods." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="30%" id="d49252e1969">方法</th>
                                          <th align="left" valign="bottom" width="70%" id="d49252e1972">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d49252e1977" headers="d49252e1969 ">
                                             <p><code class="codeph">removeParam（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d49252e1977 d49252e1972 ">
                                             <p>删除参数。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d49252e1985" headers="d49252e1969 ">
                                             <p><code class="codeph">resetParams（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d49252e1985 d49252e1972 ">
                                             <p>重置所有参数。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d49252e1993" headers="d49252e1969 ">
                                             <p><code class="codeph">setParam（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d49252e1993 d49252e1972 ">
                                             <p>设置转换的参数。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d49252e2001" headers="d49252e1969 ">
                                             <p><code class="codeph">setBaseUrl（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d49252e2001 d49252e1972 ">
                                             <p>为样式表中的任何相对引用设置基本URL。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d49252e2009" headers="d49252e1969 ">
                                             <p><code class="codeph">的setEntityResolver（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d49252e2009 d49252e1972 ">
                                             <p>为样式表中的任何相对引用设置实体解析器。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d49252e2017" headers="d49252e1969 ">
                                             <p><code class="codeph">的setLocale（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d49252e2017 d49252e1972 ">
                                             <p>设置错误报告的区域设置。</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>来自<code class="codeph">XSL2Sample.java</code>此代码片段显示了如何将样式表应用于XML文档：</p><pre class="pre codeblock"><code>processor.processXSL（xsl，xml，System.out）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>处理转换后的输出。您可以通过创建XML文档对象，写入输出流或报告SAX事件来转换结果。</span><div>
                              <p>来自<code class="codeph">XSL2Sample.java</code>此代码片段显示了如何打印结果：</p><pre class="pre codeblock"><code>processor.processXSL（xsl，xml，System.out）;</code></pre><div class="infoboxnotealso" id="GUID-66EB2FB4-0037-4CC9-A11B-FBA13CDE479A__GUID-6DDEE800-55EE-48D2-A498-0BA863553A2D">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xslt" target="_blank"><span class="italic">XSL转换（XSLT）</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_xsl" target="_blank"><span class="italic">可扩展样式表语言系列（XSL）</span></a></p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-parsing-for-Java.html#GUID-33E0EA2B-A08A-462E-86B4-3F944409663D" title="描述了针对Java的可扩展标记语言（XML）解析。">用于Java的XML解析</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="ADXDK19237"></a><a id="ADXDK19236"></a><div class="props_rev_3"><a id="GUID-8005D27C-3BCC-4F13-AE48-22E87FEDAB5C" name="GUID-8005D27C-3BCC-4F13-AE48-22E87FEDAB5C"></a><h4 id="ADXDK-GUID-8005D27C-3BCC-4F13-AE48-22E87FEDAB5C" class="sect4">从XSL转换中获取DOM结果</h4>
                  <div>
                     <p>示例程序显示如何从XSL转换中获取结果。</p>
                     <div class="section">
                        <p><code class="codeph">XSLSample.java</code>演示程序显示了如何生成<code class="codeph">XSLSample.java</code> <code class="codeph">oracle.xml.parser.v2.XMLDocumentFragment</code>对象作为XSL转换的结果。<code class="codeph">XMLDocumentFragment</code>是一个<span class="italic">轻量级的</span> <code class="codeph">Document</code>对象，它提取XML文档树的一部分。<code class="codeph">XMLDocumentFragment</code>类实现<code class="codeph">org.w3c.dom.DocumentFragment</code>接口。
                        </p>
                        <p><code class="codeph">XSL2Sample.java</code>演示程序演示了如何生成<code class="codeph">DocumentFragment</code>对象。转换XML的基本步骤与<a href="using-XSLT-processor-for-Java.html#GUID-66EB2FB4-0037-4CC9-A11B-FBA13CDE479A" title="XSLT处理器使用的基本类是DOMParser和XSLProcessor。XSL2Sample.java演示程序很好地说明了如何使用这些类来使用XSLT样式表转换XML文档。">执行基本XSL转换中</a>描述的相同。唯一的区别在于传递给<code class="codeph">XSLProcessor.processXSL()</code>方法的参数。来自<code class="codeph">XSL2Sample.java</code>此代码片段显示了如何创建DOM片段，然后将其打印到标准输出：</p><pre class="oac_no_warn" dir="ltr">XMLDocumentFragment result = processor.processXSL（xsl，xml）; result.print（System.out的）;</pre><p><a href="using-XSLT-processor-for-Java.html#GUID-8005D27C-3BCC-4F13-AE48-22E87FEDAB5C__CHDGAEIF" title="描述XSLProcessor方法。">表14-4</a>列出了可用于操作对象的一些<code class="codeph">XMLDocumentFragment</code>方法。
                        </p>
                        <div class="tblformal" id="GUID-8005D27C-3BCC-4F13-AE48-22E87FEDAB5C__CHDGAEIF">
                           <p class="titleintable">表14-4 XMLDocumentFragment方法</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XMLDocumentFragment方法" width="100%" border="1" summary="Describes XSLProcessor methods." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d49252e2222">方法</th>
                                    <th align="left" valign="bottom" width="70%" id="d49252e2225">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2230" headers="d49252e2222 ">
                                       <p><code class="codeph">的getAttributes（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2230 d49252e2225 ">
                                       <p>获取包含此节点的属性的<code class="codeph">NamedNodeMap</code> （如果它是<code class="codeph">Element</code> ），否则返回null</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2244" headers="d49252e2222 ">
                                       <p><code class="codeph">号·getLocalName（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2244 d49252e2225 ">
                                       <p>获取此元素的本地名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2252" headers="d49252e2222 ">
                                       <p><code class="codeph">getNamespaceURI（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2252 d49252e2225 ">
                                       <p>获取此元素的名称空间URI</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2260" headers="d49252e2222 ">
                                       <p><code class="codeph">getNextSibling（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2260 d49252e2225 ">
                                       <p>获取紧跟当前节点的节点</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2268" headers="d49252e2222 ">
                                       <p><code class="codeph">getNodeName（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2268 d49252e2225 ">
                                       <p>获取节点的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2276" headers="d49252e2222 ">
                                       <p><code class="codeph">getNodeType（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2276 d49252e2225 ">
                                       <p>获取表示基础对象类型的代码</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2284" headers="d49252e2222 ">
                                       <p>	<code class="codeph">getParentNode（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2284 d49252e2225 ">
                                       <p>获取当前节点的父节点</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2293" headers="d49252e2222 ">
                                       <p><code class="codeph">getPreviousSibling（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2293 d49252e2225 ">
                                       <p>获取紧邻当前节点之前的节点</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d49252e2301" headers="d49252e2222 ">
                                       <p><code class="codeph">reportSAXEvents（）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d49252e2301 d49252e2225 ">
                                       <p>报告DOM树中的SAX事件</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADXDK990"></a><a id="ADXDK19238"></a><div class="props_rev_4"><a id="GUID-E867162C-6289-4062-BCC3-3291FD6A4ED0" name="GUID-E867162C-6289-4062-BCC3-3291FD6A4ED0"></a><h3 id="ADXDK-GUID-E867162C-6289-4062-BCC3-3291FD6A4ED0" class="sect3">使用Oracle XSLT扩展进行编程</h3>
               <div>
                  <p>这里的主题包括概述，为扩展函数指定名称空间，使用Java方法，使用构造函数扩展函数以及使用返回值扩展函数。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19239"></a><div class="props_rev_3"><a id="GUID-5B5119D6-90DF-42FD-BED1-942D67FBE10C" name="GUID-5B5119D6-90DF-42FD-BED1-942D67FBE10C"></a><h4 id="ADXDK-GUID-5B5119D6-90DF-42FD-BED1-942D67FBE10C" class="sect4">Oracle XSLT扩展概述</h4>
                  <div>
                     <p>XSLT 1.0标准定义了两种扩展：扩展元素和扩展函数。XDK为XSLT处理提供扩展功能，使XSLT处理器的用户能够从XSL表达式调用任何Java方法。使用Oracle XSLT扩展时，请遵循以下准则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在给定编程语言中定义XSLT扩展时，只能使用XSLT样式表和可以调用此扩展的XSLT处理器。因此，只有Java版本的处理器才能调用Java中定义的扩展函数。</p>
                        </li>
                        <li>
                           <p>仅当内置XSL函数无法解决给定问题时才使用XSLT扩展。</p>
                        </li>
                        <li>
                           <p>如本节所述，扩展类的名称空间必须以正确的URL开头。</p>
                        </li>
                     </ul>
                     <p>这些Oracle扩展函数特别有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">&lt;ora:output&gt;</code> ，您可以将<code class="codeph">&lt;ora:output&gt;</code>用作顶级元素或XSL模板。如果用作顶级元素，则它类似于<code class="codeph">&lt;xsl:output&gt;</code>扩展函数，除了它具有附加的<code class="codeph">name</code>属性。当用作模板时，它具有<code class="codeph">use</code>和<code class="codeph">href</code>的附加属性。此函数对于从一个XSL转换创建多个输出非常有用。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;ora:node-set&gt;</code> ，它将结果树片段转换为节点集。当您想要在XSL中引用现有文本或中间文本结果以进行进一步转换时，此功能非常有用。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADXDK19240"></a><div class="props_rev_3"><a id="GUID-6FD851D7-6B0C-488F-B521-5F9087CF6314" name="GUID-6FD851D7-6B0C-488F-B521-5F9087CF6314"></a><h4 id="ADXDK-GUID-6FD851D7-6B0C-488F-B521-5F9087CF6314" class="sect4">为XSLT扩展函数指定命名空间</h4>
                  <div>
                     <p>Oracle Java扩展函数属于与此通用资源标识符（URI）对应的命名空间： <code class="codeph">http://www.oracle.com/XSL/Transform/java/</code> ： <code class="codeph">http://www.oracle.com/XSL/Transform/java/</code> 。属于此命名空间的扩展函数引用Java <span class="italic"><code class="codeph">classname</code></span>方法，以便您可以使用以下格式构造URI： <code class="codeph">http://www.oracle.com/XSL/Transform/java/ <span class="codeinlineitalic">classname</span></code> ： <code class="codeph">http://www.oracle.com/XSL/Transform/java/ <span class="codeinlineitalic">classname</span></code> 。</p>
                     <div class="section">
                        <p>例如，您可以使用此命名空间来调用<code class="codeph">java.lang.XSL表达式中的String</code>方法： <code class="codeph">http://www.oracle.com/XSL/Transform/java/java.lang.String</code> ： <code class="codeph">http://www.oracle.com/XSL/Transform/java/java.lang.String</code> 。</p>
                        <div class="infoboxnote" id="GUID-6FD851D7-6B0C-488F-B521-5F9087CF6314__GUID-59334606-CE35-4BF8-93B3-7CD5086472E0">
                           <p class="notep1">注意：</p>
                           <p>将<code class="codeph">xsl</code>前缀分配给命名空间时，正确的URI是<code class="codeph">xmlns:xsl="http://www.w3.org/1999/XSL/Transform"</code> 。任何其他URI都无法提供正确的输出。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19242"></a><a id="ADXDK19241"></a><div class="props_rev_3"><a id="GUID-E5ECD775-DA86-4D72-87D3-10691E30E0BD" name="GUID-E5ECD775-DA86-4D72-87D3-10691E30E0BD"></a><h4 id="ADXDK-GUID-E5ECD775-DA86-4D72-87D3-10691E30E0BD" class="sect4">在XSLT中使用静态和非静态Java方法</h4>
                  <div>
                     <p>如果Java方法是类的<span class="italic">非</span>静态方法，则第一个参数用作调用该方法的实例，其余参数将传递给该方法。但是，如果扩展函数是<span class="italic">静态</span>方法，则扩展函数的<span class="italic">所有</span>参数都作为参数传递给静态函数。
                     </p>
                     <div class="section">
                        <p><a href="using-XSLT-processor-for-Java.html#GUID-E5ECD775-DA86-4D72-87D3-10691E30E0BD__CHDJFECJ">例14-4</a>显示了如何使用<code class="codeph">java.lang.XSLT样式表中的Math.ceil()</code>方法。
                        </p>
                        <p>例如，您可以将<code class="codeph">ceil.xsl</code> <a href="using-XSLT-processor-for-Java.html#GUID-E5ECD775-DA86-4D72-87D3-10691E30E0BD__CHDJFECJ">14-4</a>创建为样式表<code class="codeph">ceil.xsl</code> ，然后将其应用于任何格式良好的XML文档。例如，运行<code class="codeph">oraxsl</code>实用程序：</p><pre class="oac_no_warn" dir="ltr">oraxsl ceil.xsl ceil.xsl ceil.out</pre><p>输出文档<code class="codeph">ceil.out</code>具有以下内容：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version ='1.0'coding ='UTF-8'？&gt; 13</pre><div class="infoboxnote" id="GUID-E5ECD775-DA86-4D72-87D3-10691E30E0BD__GUID-01978C72-3CB1-48A7-91E6-83B553A5FA74">
                           <p class="notep1">注意：</p>
                           <p>XSL类加载器仅识别<code class="codeph">CLASSPATH</code>静态添加的JAR和路径以及<code class="codeph">wrapper.classpath</code>指定的JAR和路径。动态添加的文件对XSLT处理器不可见。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E5ECD775-DA86-4D72-87D3-10691E30E0BD__CHDJFECJ">
                        <p class="titleinexample">示例14-4在XSLT样式表中使用静态函数</p><pre class="oac_no_warn" dir="ltr">&lt;xsl：stylesheet version =“1.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”xmlns：math =“http://www.oracle.com/XSL/Transform/java /java.lang.Math“&gt; &lt;xsl：template match =”/“&gt; &lt;xsl：value-of select =”math：ceil（'12 .34'）“/&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19244"></a><a id="ADXDK19243"></a><div class="props_rev_3"><a id="GUID-8A201829-6863-49B3-AF3A-9AA8BD923A3C" name="GUID-8A201829-6863-49B3-AF3A-9AA8BD923A3C"></a><h4 id="ADXDK-GUID-8A201829-6863-49B3-AF3A-9AA8BD923A3C" class="sect4">使用构造函数扩展函数</h4>
                  <div>
                     <p>扩展函数<code class="codeph">new</code>创建一个类的新实例并充当构造函数。
                     </p>
                     <div class="section">
                        <p><a href="using-XSLT-processor-for-Java.html#GUID-8A201829-6863-49B3-AF3A-9AA8BD923A3C__CHDIAJAI">例14-5</a>创建一个值为<code class="codeph">Hello World</code>的新<code class="codeph">String</code>对象，将其存储在XSL变量<code class="codeph">str1</code> ，然后以大写形式输出。
                        </p>
                        <p>例如，您可以将此样式表创建为<code class="codeph">hello.xsl</code>并将其应用于任何格式良好的XML文档。例如，运行<code class="codeph">oraxsl</code>实用程序：</p><pre class="oac_no_warn" dir="ltr">oraxsl hello.xsl hello.xsl hello.out</pre><p>输出文档<code class="codeph">hello.out</code>具有以下内容：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version ='1.0'coding ='UTF-8'？&gt;你好世界</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8A201829-6863-49B3-AF3A-9AA8BD923A3C__CHDIAJAI">
                        <p class="titleinexample">示例14-5在XSLT样式表中使用构造函数</p><pre class="oac_no_warn" dir="ltr">&lt;xsl：stylesheet version =“1.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”xmlns：jstring =“http://www.oracle.com/XSL/Transform/java /java.lang.String“&gt; &lt;xsl：template match =”/“&gt; &lt;！ - 创建一个新的java.lang。String并将其存储在变量str1中 - &gt; &lt;xsl：variable name =“str1”select =“jstring：new（'HeLlO wOrLd'）”/&gt; &lt;xsl：value-of select =“jstring：toUpperCase（$ str1 ）“/&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19246"></a><a id="ADXDK19245"></a><div class="props_rev_3"><a id="GUID-687048B9-629F-4528-8C77-533B3E613362" name="GUID-687048B9-629F-4528-8C77-533B3E613362"></a><h4 id="ADXDK-GUID-687048B9-629F-4528-8C77-533B3E613362" class="sect4">使用返回值扩展函数</h4>
                  <div>
                     <p>扩展函数的结果可以是任何类型，包括XSL中定义的五种类型以及XSLT 2.0中定义的其他简单XML Schema数据类型：</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">NODESET</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">布尔</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">串</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">数</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ResultTree</code></p>
                           </li>
                        </ul>
                        <p>您可以将这些数据类型存储在变量中，或将它们传递给其他扩展函数。如果结果是XSL中定义的五种类型之一，则可以作为XSL表达式的结果返回。</p>
                        <p>XSLT处理器根据参数和类型的数量支持重载。处理器在XSL中定义的五种XSL类型之间执行隐式类型转换。它在这些数据类型之间隐式执行类型转换，也从<code class="codeph">NodeSet</code>到这些数据类型执行：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">串</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">数</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">布尔</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ResultTree</code></p>
                           </li>
                        </ul>
                        <p>不允许基于两种可以隐式转换为彼此的类型进行重载。这种重载会导致XSL出错，因为<code class="codeph">String</code>和<code class="codeph">Number</code>可以隐式转换为彼此：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">overloadme（int i）{}</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">overloadme（String s）{}</code></p>
                           </li>
                        </ul>
                        <p>XSL数据类型和Java数据类型之间的映射完成如下：</p><pre class="oac_no_warn" dir="ltr">String  - &gt; java.lang。String Number  - &gt; int，float，double Boolean  - &gt; boolean NodeSet  - &gt; NodeList ResultTree  - &gt; XMLDocumentFragment</pre><p><a href="using-XSLT-processor-for-Java.html#GUID-687048B9-629F-4528-8C77-533B3E613362__CHDEGHCG">例14-6中</a>的样式表解析了<code class="codeph">variable.xml</code>文档，该文档位于<code class="codeph">$ORACLE_HOME/xdk/demo/java/parser/xslt</code> ，并检索<code class="codeph">&lt;chapter&gt;</code>元素的<code class="codeph">&lt;title&gt;</code>子元素的值。
                        </p>
                        <p>您可以将<a href="using-XSLT-processor-for-Java.html#GUID-687048B9-629F-4528-8C77-533B3E613362__CHDEGHCG">示例14-6</a>创建为<code class="codeph">gettitle.xsl</code> ，然后运行<code class="codeph">oraxsl</code> ：</p><pre class="oac_no_warn" dir="ltr">oraxsl gettitle.xsl gettitle.xsl variable.out</pre><p>输出文档<code class="codeph">variable.out</code>具有以下内容：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version ='1.0'coding ='UTF-8'？&gt; title元素的值为：Section Tests</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-687048B9-629F-4528-8C77-533B3E613362__CHDEGHCG">
                        <p class="titleinexample">例14-6 gettitle.xsl</p><pre class="oac_no_warn" dir="ltr">&lt;xsl：stylesheet version =“1.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”xmlns：parser =“http://www.oracle.com/XSL/Transform/java /oracle.xml.parser.v2.DOMParser“xmlns：document =”http://www.oracle.com/XSL/Transform/java/oracle.xml.parser.v2.XMLDocument“&gt; &lt;xsl：template match =” /“&gt; &lt;！ - 创建解析器的新实例并将其存储在myparser变量中 - &gt; &lt;xsl：variable name =”myparser“select =”parser：new（）“/&gt; &lt;！ - 调用实例DOMParser的方法。第一个参数是对象。PI等同于$ myparser.parse（'file：/my_path/variable.xml'）。请注意，您应该将my_path替换为系统上的绝对路径。 - &gt; &lt;xsl：value-of select =“parser：parse（$ myparser，'file：/my_path/variable.xml'）”/&gt; &lt;！ - 获取XML Dom树的文档节点 - &gt; &lt; xsl：variable name =“mydocument”select =“parser：getDocument（$ myparser）”/&gt; &lt;！ - 在mydocument上调用getelementsbytagname  - &gt; &lt;xsl：for-each select =“document：getElementsByTagName（$ mydocument，'chapter '）“&gt; title元素的值为：&lt;xsl：value-of select =”docinfo / title“/&gt; &lt;/ xsl：for-each&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADXDK19247"></a><div class="props_rev_3"><a id="GUID-4458FCD9-7947-40ED-9BD1-A0AD54706683" name="GUID-4458FCD9-7947-40ED-9BD1-A0AD54706683"></a><h3 id="ADXDK-GUID-4458FCD9-7947-40ED-9BD1-A0AD54706683" class="sect3">转换XML的技巧和技巧</h3>
               <div>
                  <p>这里的主题包括使用XSLT合并XML文档和基于数据库表的列创建HTML输入表单。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19249"></a><a id="ADXDK19250"></a><a id="ADXDK19251"></a><a id="ADXDK19252"></a><a id="ADXDK19248"></a><div class="props_rev_3"><a id="GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308" name="GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308"></a><h4 id="ADXDK-GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308" class="sect4">将XML文档与XSLT合并</h4>
                  <div>
                     <p>示例显示如何使用XSLT合并XML文档。</p>
                     <div class="section">
                        <p><a href="XML-parsing-for-Java.html#GUID-F27F98D1-262F-49D4-8CDF-FAA1C9804ABD" title="描述了如何使用XMLElement.appendChild（）合并XML文档。">将文档与appendChild（）</a>合并讨论了合并文档的DOM技术。如果合并操作很简单，那么您也可以使用基于XSLT的方法。例如，您可能希望合并<a href="using-XSLT-processor-for-Java.html#GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDGJJHE">示例14-7</a>和<a href="using-XSLT-processor-for-Java.html#GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDIFHEH">示例14-8中</a>显示的XML文档。
                        </p>
                        <p><a href="using-XSLT-processor-for-Java.html#GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDBJIJF">示例14-9</a>显示了一个样本样式表，该样式表基于匹配<code class="codeph">&lt;key/&gt;</code>元素值来合并两个XML文档。
                        </p>
                        <p>在<a href="using-XSLT-processor-for-Java.html#GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDGJJHE">例14-7</a> ， <a href="using-XSLT-processor-for-Java.html#GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDIFHEH">例14-8</a>和<a href="using-XSLT-processor-for-Java.html#GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDBJIJF">例14-9中</a>创建XML文件，并在命令行运行：</p><pre class="oac_no_warn" dir="ltr">oraxsl msg_w_num.xml msgmerge.xsl msgmerge.xml</pre><p><a href="using-XSLT-processor-for-Java.html#GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDCHCDA">例14-10</a>显示了输出文档，它合并了<code class="codeph">msg_w_num.xml</code>和<code class="codeph">msg_w_text.xml</code>包含的数据。
                        </p>
                        <p>对于较大的文件而言，此技术不如两个表的等效数据库连接有效，但如果只有XML文件，则此方法很有用。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDGJJHE">
                        <p class="titleinexample">例14-7 msg_w_num.xml</p><pre class="oac_no_warn" dir="ltr">&lt;messages&gt; &lt;msg&gt; &lt;key&gt; AAA &lt;/ key&gt; &lt;num&gt; 01001 &lt;/ num&gt; &lt;/ msg&gt; &lt;msg&gt; &lt;key&gt; BBB &lt;/ key&gt; &lt;num&gt; 01011 &lt;/ num&gt; &lt;/ msg&gt; &lt; /消息&gt;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDIFHEH">
                        <p class="titleinexample">例14-8 msg_w_text.xml</p><pre class="oac_no_warn" dir="ltr">&lt;messages&gt; &lt;msg&gt; &lt;key&gt; AAA &lt;/ key&gt; &lt;text&gt;这是一条消息&lt;/ text&gt; &lt;/ msg&gt; &lt;msg&gt; &lt;key&gt; BBB &lt;/ key&gt; &lt;text&gt;这是另一条消息&lt;/ text &gt; &lt;/ msg&gt; &lt;/ messages&gt;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDBJIJF">
                        <p class="titleinexample">例14-9 msgmerge.xsl</p><pre class="oac_no_warn" dir="ltr">&lt;xsl：stylesheet version =“1.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”&gt; &lt;xsl：output indent =“yes”/&gt; &lt;！ -  store msg_w_text.xml在doc2变量中 - &gt; &lt;xsl：variable name =“doc2”select =“document（'msg_w_text.xml'）”/&gt; &lt;！ - 匹配输入xml文档中的每个节点，即msg_w_num.xml  - &gt; &lt;xsl：template match =“@ * | node（）”&gt; &lt;！ - 将当前节点复制到结果树 - &gt; &lt;xsl：copy&gt; &lt;xsl：apply-templates select =“@ * | node（） “/&gt; &lt;/ xsl：copy&gt; &lt;/ xsl：template&gt; &lt;！ - 匹配msg_w_num.xml中的每个&lt;msg&gt;元素 - &gt; &lt;xsl：template match =”msg“&gt; &lt;xsl：copy&gt; &lt;xsl： apply-templates select =“@ * | node（）”/&gt; &lt;！ - 插入两个空格，使输出文档中的缩进正确 - &gt; &lt;xsl：text&gt; &lt;/ xsl：text&gt; &lt;！ -  copy &lt;text &gt;从msg_w_text.xml到结果树的节点 - &gt; &lt;text&gt; &lt;xsl：value-of select =“$ doc2 / messages / msg [key = current（）/ key] / text”/&gt; &lt;/ text&gt; &lt;/ xsl：copy&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet&gt;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1C6105F3-92E0-4900-B1BB-43B1893D0308__CHDCHCDA">
                        <p class="titleinexample">例14-10 msgmerge.xml</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version ='1.0'coding ='UTF-8'？&gt; &lt;messages&gt; &lt;msg&gt; &lt;key&gt; AAA &lt;/ key&gt; &lt;num&gt; 01001 &lt;/ num&gt; &lt;text&gt;这是消息&lt;/ text&gt; &lt;/ msg&gt; &lt;msg&gt; &lt;key&gt; BBB &lt;/ key&gt; &lt; num&gt; 01011 &lt;/ num&gt; &lt;text&gt;这是另一条消息&lt;/ text&gt; &lt;/ msg&gt; &lt;/ messages&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19253"></a><div class="props_rev_3"><a id="GUID-2EB5EB0A-869C-4CED-9BDA-F8E6317181D2" name="GUID-2EB5EB0A-869C-4CED-9BDA-F8E6317181D2"></a><h4 id="ADXDK-GUID-2EB5EB0A-869C-4CED-9BDA-F8E6317181D2" class="sect4">基于表中的列创建HTML输入表单</h4>
                  <div>
                     <p>要生成用于输入使用数据库表中列名的数据的HTML表单，可以使用XML SQL实用程序（ <code class="codeph">user_tab_columns</code>基于<code class="codeph">user_tab_columns</code>表获取XML文档，然后使用XSLT将XML转换为HTML表单。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>使用XSU根据表中的列生成XML文档。例如，使用表<code class="codeph">hr.employees</code> ，您可以从命令行运行<code class="codeph">hr.employees</code> ：</span><div><pre class="oac_no_warn" dir="ltr">java OracleXML getXML -user“hr / <span class="italic">password</span> ”\“SELECT column_name FROM user_tab_columns WHERE table_name ='EMPLOYEES'”</pre></div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">emp_columns.xml</code>输出保存为名为<code class="codeph">emp_columns.xml</code>的XML文件。XML看起来像这样，一个<code class="codeph">&lt;ROW&gt;</code>元素对应于表中的每一列（一些<code class="codeph">&lt;ROW&gt;</code>元素已被删除以节省空间）：</span><div><pre class="oac_no_warn" dir="ltr">&lt;？xml版本='1.0'？&gt; &lt;ROWSET&gt; &lt;ROW num =“1”&gt; &lt;COLUMN_NAME&gt; EMPLOYEE_ID &lt;/ COLUMN_NAME&gt; &lt;/ ROW&gt; &lt;ROW num =“2”&gt; &lt;COLUMN_NAME&gt; FIRST_NAME &lt;/ COLUMN_NAME&gt; &lt;/ ROW&gt; &lt;！ - 行3通过10  - &gt; &lt;ROW num =“11”&gt; &lt;COLUMN_NAME&gt; DEPARTMENT_ID &lt;/ COLUMN_NAME&gt; &lt;/ ROW&gt; &lt;/ ROWSET&gt;</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建一个XSLT样式表以将XML转换为HTML。例如，创建<code class="codeph">columns.xsl</code>样式表：</span><div><pre class="oac_no_warn" dir="ltr">&lt;xsl：stylesheet version =“1.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”&gt; &lt;xsl：output method =“html”/&gt; &lt;xsl：template match =“/ “&gt; &lt;HTML&gt; &lt;xsl：apply-templates select =”@ * | node（）“/&gt; &lt;/ HTML&gt; &lt;/ xsl：template&gt; &lt;xsl：template match =”ROW“&gt; &lt;xsl：value-of select =“COLUMN_NAME”/&gt; &lt;xsl：text&gt;＆nbsp; &lt;/ xsl：text&gt; &lt;INPUT NAME =“{COLUMN_NAME}”/&gt; &lt;BR/&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet&gt;</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">oraxsl</code>实用程序以生成HTML表单。例如：</span><div><pre class="oac_no_warn" dir="ltr">oraxsl emp_columns.xml columns.xsl emp_form.htm</pre></div>
                        </li>
                        <li class="stepexpand"><span>查看输出HTML表单，其中包含与以下内容类似的内容：</span><div><pre class="oac_no_warn" dir="ltr">&lt;HTML&gt; EMPLOYEE_ID＆nbsp; &lt;输入名称=“EMPLOYEE_ID”&gt; &lt;BR&gt; FIRST_NAME＆nbsp; &lt;INPUT NAME =“FIRST_NAME”&gt; &lt;BR&gt; LAST_NAME＆nbsp; &lt;输入名称=“LAST_NAME”&gt; &lt;BR&gt;电子邮件＆nbsp; &lt;输入名称=“电子邮件“&gt; &lt;BR&gt; PHONE_NUMBER＆nbsp; &lt;INPUT NAME =”PHONE_NUMBER“&gt; &lt;BR&gt; HIRE_DATE＆nbsp; &lt;INPUT NAME =”HIRE_DATE“&gt; &lt;BR&gt; JOB_ID＆nbsp; &lt;输入名称=”JOB_ID“&gt; &lt;BR&gt; SALARY＆nbsp; &lt;输入名称= “SALARY”&gt; &lt;BR&gt; COMMISSION_PCT＆nbsp; &lt;INPUT NAME =“COMMISSION_PCT”&gt; &lt;BR&gt; MANAGER_ID＆nbsp; &lt;INPUT NAME =“MANAGER_ID”&gt; &lt;BR&gt; DEPARTMENT_ID＆nbsp; &lt;输入名称=“DEPARTMENT_ID”&gt; &lt;BR&gt; &lt;/ HTML&gt;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p> </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>