<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter discusses the Object Type Translator (OTT), which is used to map database object types and named collection types to C structs for use in OCI applications.">
      <meta name="description" content="This chapter discusses the Object Type Translator (OTT), which is used to map database object types and named collection types to C structs for use in OCI applications.">
      <title>Using the Object Type Translator with OCI</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter discusses the Object Type Translator (OTT), which is used to map database object types and named collection types to C structs for use in OCI applications.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oci-support-for-xml.html" title="Previous" type="text/html">
      <link rel="next" href="database-access-c-api.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-support-for-xml.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="database-access-c-api.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using the Object Type Translator with OCI</li>
            </ol>
            <a id="GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" name="GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890"></a><a id="LNOCI140"></a>
            
            <h2 id="LNOCI-GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" class="sect2"><span class="enumeration_chapter">24 </span> Using the Object Type Translator with OCI
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses the Object Type Translator (OTT), which  is used to map database object types and named collection types to C structs for use in OCI applications.</p>
               <p>This chapter contains these topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862" title="The Object Type Translator (OTT) assists in the development of C language applications that make use of user-defined types in an Oracle database.">What Is the Object Type Translator?</a></p>
                  </li>
                  <li>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-FB91284B-9AE7-44BD-98AE-74F5B489256F" title="On most operating systems, OTT is invoked on the command line.">OTT Command Line</a></p>
                  </li>
                  <li>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-7370C345-D500-4805-BDBC-B81BB1E42990" title="When OTT runs, the intype file tells OTT which database types should be translated.">Intype File</a></p>
                  </li>
                  <li>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2" title="When OTT generates a C struct from a database type, the struct contains one element corresponding to each attribute of the object type.">OTT Data Type Mappings</a></p>
                  </li>
                  <li>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0" title="The outtype file is named on the OTT command line.">Outtype File</a></p>
                  </li>
                  <li>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-D35CDFD1-8F5A-46D2-BC52-FD6B4A4D4F25" title="An OCI application that accesses objects in an Oracle server can use C header and implementation files that have been generated by OTT.">About Using OTT with OCI Applications</a></p>
                  </li>
                  <li>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-92EAE0E0-102C-4995-AE0E-F65BB120B749" title="Parameters that can appear on the OTT command line or in a CONFIG file control the behavior of OTT. Certain parameters can also appear in the intype file.">OTT Reference</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI72773"></a><a id="LNOCI72774"></a><a id="LNOCI72775"></a><a id="LNOCI17041"></a><div class="props_rev_3"><a id="GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862" name="GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862"></a><h3 id="LNOCI-GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862" class="sect3"><span class="enumeration_section">24.1 </span>What Is the Object Type Translator?
               </h3>
               <div>
                  <p>The Object Type Translator (OTT) assists in the development of C language applications that make use of user-defined types in an Oracle database.</p>
                  <p>With SQL <code class="codeph">CREATE TYPE</code> statements, you can create object types. The definitions of these types are stored in the database, and can be used in the creation of database tables. Once these tables are populated, an OCI programmer can access objects stored in the tables.
                  </p>
                  <p>An application that accesses object data must be able to represent the data in a host language format. This is accomplished by representing object types as C structs. Although it is possible for a programmer to code struct declarations by hand to represent database object types, this can be very time-consuming and error-prone if many types are involved. OTT obviates the need for such manual coding by automatically generating appropriate struct declarations. In OCI, the application also must call an initialization function generated by OTT.</p>
                  <p>In addition to creating structs that represent stored data types, OTT generates parallel indicator structs that indicate whether an object type or its fields are <code class="codeph">NULL</code>.
                  </p>
                  <p>The Object Type Translator (OTT) converts database definitions of object types and named collection types into C struct declarations that can be included in an OCI application.</p>
                  <p>You must explicitly invoke OTT to translate database types to C representations.</p>
                  <p>On most operating systems, OTT is invoked on the command line. It takes as input an <span class="italic">intype file</span>, and it generates an <span class="italic">outtype file</span> and one or more C <span class="italic">header files</span> and an optional <span class="italic">implementation file</span>. The following is an example of a command that invokes OTT:
                  </p><pre class="oac_no_warn" dir="ltr">ott userid=scott intype=demoin.typ outtype=demoout.typ code=c hfile=demo.h\
    initfile=demov.c
</pre><p>This command causes OTT to connect to the database with user name <code class="codeph">scott</code>. The user is prompted for the password.
                  </p>
                  <p>The implementation file (<code class="codeph">demov.c</code>) contains the function to initialize the type version table with information about the user-defined types translated.
                  </p>
                  <p>Later sections of this chapter describe each of these parameters in more detail.</p>
                  <p>Sample<code class="codeph"> demoin.typ</code> file:
                  </p><pre class="oac_no_warn" dir="ltr">CASE=LOWER
TYPE emptype
</pre><p>Sample <code class="codeph">demoout.typ</code> file:
                  </p><pre class="oac_no_warn" dir="ltr">CASE = LOWER
TYPE SCOTT.EMPTYPE AS emptype
  VERSION = "$8.0"
  HFILE = demo.h
</pre><p>In this example, the <code class="codeph">demoin.typ</code> file contains the type to be translated, preceded by <code class="codeph">TYPE</code> (for example, <code class="codeph">TYPE emptype</code>). The structure of the outtype file is similar to the intype file, with the addition of information obtained by OTT.
                  </p>
                  <p>Once OTT has completed the translation, the header file contains a C struct representation of each type specified in the intype file, and a <code class="codeph">NULL</code> indicator struct corresponding to each type. Suppose for example, that the employee type listed in the intype file was defined as shown in <a href="using-object-type-translator-in-oci.html#GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862__CIHHEFAF">Example 24-1</a>.
                  </p>
                  <p>Then the header file generated by OTT (<code class="codeph">demo.h</code>) includes, among other items, the declarations shown in <a href="using-object-type-translator-in-oci.html#GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862__CIHDJDHC">Example 24-2</a>.
                  </p>
                  <p><a href="using-object-type-translator-in-oci.html#GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862__CIHFDHDC">Example 24-3</a> shows what a sample implementation file (<code class="codeph">demov.c</code>) produced by this command contains.
                  </p>
                  <p>Parameters in the intype file control the way generated structs are named. In this example, the struct name <code class="codeph">emptype</code> matches the database type name<code class="codeph"> </code><code class="codeph">emptype</code>. The struct name is in lowercase because of the line <code class="codeph">CASE=lower</code> in the intype file.
                  </p>
                  <p>The data types that appear in the struct declarations (for example, <code class="codeph">OCIString</code>, <code class="codeph">OCIInd</code>) are special data types. 
                  </p>
                  <p>The remaining sections of this chapter discuss the use of OTT with OCI, followed by a reference section that describes command-line syntax, parameters, intype file structure, nested <code class="codeph">#include</code> file generation, schema names usage, default name mapping, and restrictions.
                  </p>
                  <div class="example" id="GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862__CIHHEFAF">
                     <p class="titleinexample">Example 24-1 Definition of the Employee Object Type Listed in the Intype File</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE emptype AS OBJECT
(
    name       VARCHAR2(30),
    empno      NUMBER,
    deptno     NUMBER,
    hiredate   DATE,
    salary     NUMBER
);
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862__CIHDJDHC">
                     <p class="titleinexample">Example 24-2 Contents of the Generated Header File demo.h </p><pre class="oac_no_warn" dir="ltr">struct emptype
{
    OCIString * name;
    OCINumber empno;
    OCINumber deptno;
    OCIDate   hiredate;
    OCINumber salary;
};
typedef struct emptype emptype;

struct emptype_ind
{
    OCIInd _atomic;
    OCIInd name;
    OCIInd empno;
    OCIInd deptno;
    OCIInd hiredate;
    OCIInd salary;
};
typedef struct employee_ind employee_ind;
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862__CIHFDHDC">
                     <p class="titleinexample">Example 24-3 Contents of the demov.c File</p><pre class="oac_no_warn" dir="ltr">#ifndef OCI_ORACLE
#include &lt;oci.h&gt;
#endif

sword demov(OCIEnv *env, OCIError *err)
{
   sword status = OCITypeVTInit(env, err);
   if (status == OCI_SUCCESS)
       status = OCITypeVTInsert(env, err, 
           "HR", 2,
           "EMPTYPE", 7,
           "$8.0", 4);
   return status;
}
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-9FFC30CB-6DAF-4EDC-97E8-761632468687" title="The first step in using OTT is to create object types or named collection types and store them in the database.">About Creating Types in the Database</a></p>
                           </li>
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-5615BF04-C5D6-4148-893A-120318E1F4FE" title="The next step is to invoke OTT. OTT parameters can be specified on the command line, or in a file called a configuration file.">About Invoking OTT</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-501C03B7-D4D8-4F88-B1B3-38B07B107862__GUID-C028C48B-7765-4CFA-83C0-5D12140747CC">
                        <p class="notep1">See Also:</p>
                        <p><a href="using-object-type-translator-in-oci.html#GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2" title="When OTT generates a C struct from a database type, the struct contains one element corresponding to each attribute of the object type.">OTT Data Type Mappings</a> for more information about these types
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNOCI17042"></a><div class="props_rev_3"><a id="GUID-9FFC30CB-6DAF-4EDC-97E8-761632468687" name="GUID-9FFC30CB-6DAF-4EDC-97E8-761632468687"></a><h4 id="LNOCI-GUID-9FFC30CB-6DAF-4EDC-97E8-761632468687" class="sect4"><span class="enumeration_section">24.1.1 </span>About Creating Types in the Database
                  </h4>
                  <div>
                     <p>The first step in using OTT is to create object types or named collection types and store them in the database.</p>
                     <p>This is accomplished through the use of the SQL <code class="codeph">CREATE TYPE</code> statement.
                     </p>
                     <div class="infoboxnotealso" id="GUID-9FFC30CB-6DAF-4EDC-97E8-761632468687__GUID-C9E4DB92-C2F3-4D4C-BF86-9C9139D96944">
                        <p class="notep1">See Also:</p>
                        <p>Oracle Database SQL Language Reference for information about the <code class="codeph">CREATE</code> <code class="codeph">TYPE</code> statement
                        </p>
                     </div>
                  </div>
               </div><a id="LNOCI17043"></a><div class="props_rev_3"><a id="GUID-5615BF04-C5D6-4148-893A-120318E1F4FE" name="GUID-5615BF04-C5D6-4148-893A-120318E1F4FE"></a><h4 id="LNOCI-GUID-5615BF04-C5D6-4148-893A-120318E1F4FE" class="sect4"><span class="enumeration_section">24.1.2 </span>About Invoking OTT
                  </h4>
                  <div>
                     <p>The next step is to invoke OTT. OTT parameters can be specified on the command line, or in a file called a configuration file.</p>
                     <p>Certain parameters can also be specified in the intype file.</p>
                     <p>If a parameter is specified in more than one place, its value on the command line takes precedence over its value in the intype file, which takes precedence over its value in a user-defined configuration file, which takes precedence over its value in the default configuration file.</p>
                     <p>For global options — that is, options on the command line or options at the beginning of the intype file before any <code class="codeph">TYPE</code> statements — the value on the command line overrides the value in the intype file. (The options that can be specified globally in the intype file are <code class="codeph">CASE,</code> <code class="codeph">CODE,</code> <code class="codeph">INITFILE</code>, and <code class="codeph">INITFUNC</code>, but not <code class="codeph">HFILE</code>.) However, anything in the intype file in a <code class="codeph">TYPE</code> specification applies to a particular type only, and overrides anything on the command line that would otherwise apply to the type. So if you enter <code class="codeph">TYPE person HFILE=p.h</code>, it applies to <code class="codeph">person</code> only and overrides the <code class="codeph">HFILE</code> on the command line. The statement is not considered a command-line parameter.
                     </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-28F71980-3820-4D7B-9F53-3CA0A7D43971" title="Parameters (also called options) set on the command line override any set elsewhere.">Command Line</a></p>
                           </li>
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-F8079DB0-8300-487F-AE52-2DEE0EEFF97F" title="A configuration file is a text file that contains OTT parameters.">Configuration File</a></p>
                           </li>
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-FEA329A6-7313-4FBD-95EF-5DF0D0ACEA38" title="The intype file gives a list of user-defined types for OTT to translate.">INTYPE File</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17044"></a><div class="props_rev_3"><a id="GUID-28F71980-3820-4D7B-9F53-3CA0A7D43971" name="GUID-28F71980-3820-4D7B-9F53-3CA0A7D43971"></a><h5 id="LNOCI-GUID-28F71980-3820-4D7B-9F53-3CA0A7D43971" class="sect5"><span class="enumeration_section">24.1.2.1 </span>Command Line
                     </h5>
                     <div>
                        <p>Parameters (also called options) set on the command line override any set elsewhere. </p>
                        <div class="infoboxnotealso" id="GUID-28F71980-3820-4D7B-9F53-3CA0A7D43971__GUID-5B0861D5-BAF3-476B-AE92-F1AF03D1521D">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-FB91284B-9AE7-44BD-98AE-74F5B489256F" title="On most operating systems, OTT is invoked on the command line.">OTT Command Line</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI17045"></a><div class="props_rev_3"><a id="GUID-F8079DB0-8300-487F-AE52-2DEE0EEFF97F" name="GUID-F8079DB0-8300-487F-AE52-2DEE0EEFF97F"></a><h5 id="LNOCI-GUID-F8079DB0-8300-487F-AE52-2DEE0EEFF97F" class="sect5"><span class="enumeration_section">24.1.2.2 </span>Configuration File
                     </h5>
                     <div>
                        <p>A configuration file is a text file that contains OTT parameters.</p>
                        <p>Each nonblank line in the file contains one parameter, with its associated value or values. If more than one parameter is put on a line, only the first one is used. Whitespace is not allowed on any nonblank line of a configuration file.</p>
                        <p>A configuration file can be named on the command line. In addition, a default configuration file is always read. This default configuration file must always exist, but can be empty. The name of the default configuration file is <code class="codeph">ottcfg.cfg</code>, and the location of the file is system-specific. For example, on Solaris, the file specification is <code class="codeph">$ORACLE_HOME/precomp/admin/ottcfg.cfg</code>. See your operating system-specific documentation for further information.
                        </p>
                     </div>
                  </div><a id="LNOCI17046"></a><div class="props_rev_3"><a id="GUID-FEA329A6-7313-4FBD-95EF-5DF0D0ACEA38" name="GUID-FEA329A6-7313-4FBD-95EF-5DF0D0ACEA38"></a><h5 id="LNOCI-GUID-FEA329A6-7313-4FBD-95EF-5DF0D0ACEA38" class="sect5"><span class="enumeration_section">24.1.2.3 </span>INTYPE File
                     </h5>
                     <div>
                        <p>The intype file gives a list of user-defined types for OTT to translate. </p>
                        <p>The parameters <code class="codeph">CASE, HFILE, INITFUNC</code>, and <code class="codeph">INITFILE</code> can appear in the intype file. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-FEA329A6-7313-4FBD-95EF-5DF0D0ACEA38__GUID-7BEFFD40-B89C-4D43-A3B0-F7AD364A0476">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-7370C345-D500-4805-BDBC-B81BB1E42990" title="When OTT runs, the intype file tells OTT which database types should be translated.">Intype File</a> 
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI17047"></a><div class="props_rev_3"><a id="GUID-FB91284B-9AE7-44BD-98AE-74F5B489256F" name="GUID-FB91284B-9AE7-44BD-98AE-74F5B489256F"></a><h3 id="LNOCI-GUID-FB91284B-9AE7-44BD-98AE-74F5B489256F" class="sect3"><span class="enumeration_section">24.2 </span>OTT Command Line
               </h3>
               <div>
                  <p>On most operating systems, OTT is invoked on the command line.</p>
                  <p>You can specify the input and output files, and the database connection information, among other things. Consult your operating system-specific documentation to see how to invoke OTT. </p>
                  <p>This section includes the following topic: <a href="using-object-type-translator-in-oci.html#GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C" title="Shows how to invoke OTT from the command line.">OTT Command-Line Invocation Example</a>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-FB91284B-9AE7-44BD-98AE-74F5B489256F__GUID-2F02D943-2E92-455C-BB36-5DC730562D17">
                     <p class="notep1">See Also:</p>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-0A924779-3CB5-421E-A02D-628022F92067" title="To take advantage of objects, run the Object Type Translator (OTT) against the database to generate a header file that includes the C structs.">About Using the Object Type Translator for Windows</a></p>
                  </div>
               </div><a id="LNOCI72776"></a><a id="LNOCI17048"></a><div class="props_rev_3"><a id="GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C" name="GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C"></a><h4 id="LNOCI-GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C" class="sect4"><span class="enumeration_section">24.2.1 </span>OTT Command-Line Invocation Example
                  </h4>
                  <div>
                     <p>Shows how to invoke OTT from the command line.</p>
                     <p><a href="using-object-type-translator-in-oci.html#GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__CIHBDJIB">Example 24-4</a> shows how to invoke OTT from the command line.
                     </p>
                     <div class="infoboxnote" id="GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__GUID-A23819BD-CBAE-4F76-A77A-25EA7400EE03">
                        <p class="notep1">Note:</p>
                        <p>No spaces are permitted around the equal sign (=).</p>
                     </div>
                     <div class="example" id="GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__CIHBDJIB">
                        <p class="titleinexample">Example 24-4 Invoking OTT from the Command Line</p><pre class="oac_no_warn" dir="ltr">ott userid=bren intype=demoin.typ outtype=demoout.typ code=c \
    hfile=demo.h initfile=demov.c
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>The following sections describe the elements of the command line used in this example.</p>
                        <div class="p">This section includes the following topics:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-62E1C317-8673-4F98-A875-6BCAE3047F91" title="Causes OTT to be invoked.">OTT</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-B4DBF87C-6E35-44B7-A05C-DB9D479589C3" title="Specifies the database connection information that OTT uses.">USERID</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-8B74A7CE-4B68-47F9-A73B-B14EB0CC16D1" title="Specifies the name of the intype file that is used.">INTYPE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-63C32F8A-1C45-44B0-8682-696BB9ED5550" title="Specifies the name of the outtype file.">OUTTYPE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-E6904C65-3A81-4638-86F8-74C7944F9783" title="Specifies the target language for the translation.">CODE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-8CBBEC6E-3417-45BE-A8D2-4E39CBB96B3A" title="Specifies the name of the C header file to which the generated structs should be written.">HFILE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-D1F48B2D-717C-4840-A791-0DAB64EBAD95" title="Specifies the name of the C source file into which the type initialization function is to be written.">INITFILE</a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__GUID-C479775E-EA22-4BB6-8B3D-F3AD8C93B55E">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-92EAE0E0-102C-4995-AE0E-F65BB120B749" title="Parameters that can appear on the OTT command line or in a CONFIG file control the behavior of OTT. Certain parameters can also appear in the intype file.">OTT Reference</a> for a detailed discussion of the various OTT command-line options 
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI17049"></a><div class="props_rev_3"><a id="GUID-62E1C317-8673-4F98-A875-6BCAE3047F91" name="GUID-62E1C317-8673-4F98-A875-6BCAE3047F91"></a><h5 id="LNOCI-GUID-62E1C317-8673-4F98-A875-6BCAE3047F91" class="sect5"><span class="enumeration_section">24.2.1.1 </span>OTT
                     </h5>
                     <div>
                        <p>Causes OTT to be invoked. </p>
                        <p>It must be the first item on the command line.</p>
                     </div>
                  </div><a id="LNOCI17050"></a><div class="props_rev_3"><a id="GUID-B4DBF87C-6E35-44B7-A05C-DB9D479589C3" name="GUID-B4DBF87C-6E35-44B7-A05C-DB9D479589C3"></a><h5 id="LNOCI-GUID-B4DBF87C-6E35-44B7-A05C-DB9D479589C3" class="sect5"><span class="enumeration_section">24.2.1.2 </span>USERID
                     </h5>
                     <div>
                        <p>Specifies the database connection information that OTT uses.</p>
                        <p>In <a href="using-object-type-translator-in-oci.html#GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__CIHBDJIB">Example 24-4</a>, OTT attempts to connect with user name <code class="codeph">bren</code> and is then prompted for the password.
                        </p>
                     </div>
                  </div><a id="LNOCI17051"></a><div class="props_rev_3"><a id="GUID-8B74A7CE-4B68-47F9-A73B-B14EB0CC16D1" name="GUID-8B74A7CE-4B68-47F9-A73B-B14EB0CC16D1"></a><h5 id="LNOCI-GUID-8B74A7CE-4B68-47F9-A73B-B14EB0CC16D1" class="sect5"><span class="enumeration_section">24.2.1.3 </span>INTYPE
                     </h5>
                     <div>
                        <p>Specifies the name of the intype file that is used.</p>
                        <p>In <a href="using-object-type-translator-in-oci.html#GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__CIHBDJIB">Example 24-4</a>, the name of the intype file is specified as <code class="codeph">demoin.typ</code>.
                        </p>
                     </div>
                  </div><a id="LNOCI17052"></a><div class="props_rev_3"><a id="GUID-63C32F8A-1C45-44B0-8682-696BB9ED5550" name="GUID-63C32F8A-1C45-44B0-8682-696BB9ED5550"></a><h5 id="LNOCI-GUID-63C32F8A-1C45-44B0-8682-696BB9ED5550" class="sect5"><span class="enumeration_section">24.2.1.4 </span>OUTTYPE
                     </h5>
                     <div>
                        <p>Specifies the name of the outtype file.</p>
                        <p>When OTT generates the C header file, it also writes information about the translated types into the outtype file. This file contains an entry for each of the types that is translated, including its version string, and the header file to which its C representation was written.</p>
                        <p>In <a href="using-object-type-translator-in-oci.html#GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__CIHBDJIB">Example 24-4</a>, the name of the outtype file is specified as <code class="codeph">demoout.typ</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-63C32F8A-1C45-44B0-8682-696BB9ED5550__GUID-2DB9C848-B2A2-40FD-A6CD-B9650639EA47">
                           <p class="notep1">Note:</p>
                           <p>If the file specified by the outtype keyword exists, it is overwritten when OTT runs. If the name of the outtype file is the same as the name of the intype file, the outtype information overwrites the intype file.</p>
                        </div>
                     </div>
                  </div><a id="LNOCI17053"></a><div class="props_rev_3"><a id="GUID-E6904C65-3A81-4638-86F8-74C7944F9783" name="GUID-E6904C65-3A81-4638-86F8-74C7944F9783"></a><h5 id="LNOCI-GUID-E6904C65-3A81-4638-86F8-74C7944F9783" class="sect5"><span class="enumeration_section">24.2.1.5 </span>CODE
                     </h5>
                     <div>
                        <p>Specifies the target language for the translation.</p>
                        <p>The following options are available:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>C (equivalent to ANSI_C)</p>
                           </li>
                           <li>
                              <p>ANSI_C (for ANSI C)</p>
                           </li>
                           <li>
                              <p>KR_C (for Kernighan &amp; Ritchie C)</p>
                           </li>
                        </ul>
                        <p>There is currently no default option, so this parameter is required.</p>
                        <p>Struct declarations are identical in both C dialects. The style in the initialization function defined in the <code class="codeph">INITFILE</code> file depends on whether <code class="codeph">KR_C</code> is used. If the <code class="codeph">INITFILE</code> option is not used, all three options are equivalent.
                        </p>
                     </div>
                  </div><a id="LNOCI17054"></a><div class="props_rev_3"><a id="GUID-8CBBEC6E-3417-45BE-A8D2-4E39CBB96B3A" name="GUID-8CBBEC6E-3417-45BE-A8D2-4E39CBB96B3A"></a><h5 id="LNOCI-GUID-8CBBEC6E-3417-45BE-A8D2-4E39CBB96B3A" class="sect5"><span class="enumeration_section">24.2.1.6 </span>HFILE
                     </h5>
                     <div>
                        <p>Specifies the name of the C header file to which the generated structs should be written. </p>
                        <p>In <a href="using-object-type-translator-in-oci.html#GUID-9BDD90C1-B5EC-47CD-AFBB-2EA5FD9A372C__CIHBDJIB">Example 24-4</a>, the generated structs are stored in a file called <code class="codeph">demo.h</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-8CBBEC6E-3417-45BE-A8D2-4E39CBB96B3A__GUID-036CF3B0-E596-43B5-B087-7529AAA173B8">
                           <p class="notep1">Note:</p>
                           <p>If the file specified by the <code class="codeph">hfile</code> keyword exists, it is overwritten when OTT runs, with one exception: if the contents of the file as generated by OTT are identical to the previous contents of the file, OTT does not actually write to the file. This preserves the modification time of the file so that Linux and UNIX <code class="codeph">make</code> and similar facilities on other operating systems do not perform unnecessary recompilations.
                           </p>
                        </div>
                     </div>
                  </div><a id="LNOCI17055"></a><div class="props_rev_3"><a id="GUID-D1F48B2D-717C-4840-A791-0DAB64EBAD95" name="GUID-D1F48B2D-717C-4840-A791-0DAB64EBAD95"></a><h5 id="LNOCI-GUID-D1F48B2D-717C-4840-A791-0DAB64EBAD95" class="sect5"><span class="enumeration_section">24.2.1.7 </span>INITFILE
                     </h5>
                     <div>
                        <p>Specifies the name of the C source file into which the type initialization function is to be written. </p>
                        <div class="infoboxnote" id="GUID-D1F48B2D-717C-4840-A791-0DAB64EBAD95__GUID-206CB695-4461-4C70-AE87-A9DF41B8FCA1">
                           <p class="notep1">Note:</p>
                           <p>If the file specified by the <code class="codeph">initfile</code> keyword exists, it is overwritten when OTT runs, with one exception: if the contents of the file as generated by OTT are identical to the previous contents of the file, OTT does not actually write to the file. This preserves the modification time of the file so that Linux and UNIX <code class="codeph">make </code>and similar facilities on other operating systems do not perform unnecessary recompilations.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI72777"></a><a id="LNOCI17056"></a><div class="props_rev_3"><a id="GUID-7370C345-D500-4805-BDBC-B81BB1E42990" name="GUID-7370C345-D500-4805-BDBC-B81BB1E42990"></a><h3 id="LNOCI-GUID-7370C345-D500-4805-BDBC-B81BB1E42990" class="sect3"><span class="enumeration_section">24.3 </span>Intype File
               </h3>
               <div>
                  <p>When OTT runs, the intype file tells OTT which database types should be translated. </p>
                  <p>It can also control the naming of the generated structs. The intype file can be a user-created file, or it can be the outtype file of a previous invocation of OTT. If the <code class="codeph">intype</code> parameter is not used, all types in the schema to which OTT connects are translated.
                  </p>
                  <p><a href="using-object-type-translator-in-oci.html#GUID-7370C345-D500-4805-BDBC-B81BB1E42990__CIHJFADB">Example 24-5</a> shows a simple user-created intype file.
                  </p>
                  <p><a href="using-object-type-translator-in-oci.html#GUID-7370C345-D500-4805-BDBC-B81BB1E42990__CIHJFADB">Example 24-5</a> is further described as follows.
                  </p>
                  <p>The first line, with the <code class="codeph">CASE</code> keyword, indicates that generated C identifiers should be in lowercase. However, this <code class="codeph">CASE</code> option is only applied to those identifiers that are not explicitly mentioned in the intype file. Thus, <code class="codeph">employee</code> and <code class="codeph">ADDRESS</code> would always result in C structures <code class="codeph">employee</code> and <code class="codeph">ADDRESS</code>, respectively. The members of these structures would be named in lowercase.
                  </p>
                  <p>In the lines that begin with the <code class="codeph">TYPE</code> keyword specify which types in the database should be translated: in this case, the <code class="codeph">employee, ADDRESS, item, Person</code>, and <code class="codeph">PURCHASE_ORDER</code> types.
                  </p>
                  <p>The <code class="codeph">TRANSLATE ... AS</code> keywords specify that the name of an object attribute should be changed when the type is translated into a C struct. In this case, the <code class="codeph">SALARY$</code> attribute of the employee type is translated to <code class="codeph">salary</code>.
                  </p>
                  <p>The <code class="codeph">AS</code> keyword in the final line specifies that the name of an object type should be changed when it is translated into a struct. In this case, the <code class="codeph">PURCHASE_ORDER</code> database type is translated into a struct called <code class="codeph">p_o</code>.
                  </p>
                  <p>If <code class="codeph">AS</code> is not used to translate a type or attribute name, the database name of the type or attribute is used as the C identifier name, except that the <code class="codeph">CASE</code> option is observed, and any character that cannot be mapped to a legal C identifier character is replaced by an underscore. Reasons for translating a type or attribute name include the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The name contains characters other than letters, digits, and underscores</p>
                     </li>
                     <li>
                        <p>The name conflicts with a C keyword.</p>
                     </li>
                     <li>
                        <p>The type name conflicts with another identifier in the same scope. This can happen, for example, if the program uses two types with the same name from different schemas.</p>
                     </li>
                     <li>
                        <p>The programmer prefers a different name.</p>
                     </li>
                  </ul>
                  <p>OTT may need to translate additional types that are not listed in the intype file. This is because OTT analyzes the types in the intype file for type dependencies before performing the translation, and translates other types as necessary. For example, if the <code class="codeph">ADDRESS</code> type were not listed in the intype file, but the <code class="codeph">"Person"</code> type had an attribute of type <code class="codeph">ADDRESS</code>, OTT would still translate <code class="codeph">ADDRESS</code> because it is required to define the <code class="codeph">"Person"</code> type.
                  </p>
                  <p>If you specify <code class="codeph">FALSE</code> as the value of the <code class="codeph">TRANSITIVE</code> parameter, then OTT does not generate types that are not specified in the intype file.
                  </p>
                  <p>A normal case-insensitive SQL identifier can be spelled in any combination of uppercase and lowercase in the intype file, and is not enclosed within quotation marks.</p>
                  <p>Use quotation marks, such as <code class="codeph">TYPE</code> <code class="codeph">"Person"</code>, to reference SQL identifiers that have been created in a case-sensitive manner (for example, <code class="codeph">CREATE TYPE "Person"</code>). A SQL identifier is case-sensitive if it was enclosed within quotation marks when it was declared. Quotation marks can also be used to refer to a SQL identifier that is an OTT-reserved word (for example, <code class="codeph">TYPE "CASE"</code>). Therefore, when a name is enclosed within quotation marks, the name enclosed within quotation marks must be in uppercase if the SQL identifier was created in a case-insensitive manner (for example, <code class="codeph">CREATE TYPE Case</code>). If an OTT-reserved word is used to refer to the name of a SQL identifier but is not enclosed within quotation marks, OTT reports a syntax error in the intype file.
                  </p>
                  <div class="example" id="GUID-7370C345-D500-4805-BDBC-B81BB1E42990__CIHJFADB">
                     <p class="titleinexample">Example 24-5 Contents of a User-Created Intype File</p><pre class="oac_no_warn" dir="ltr">CASE=LOWER
TYPE employee
  TRANSLATE SALARY$ AS salary
            DEPTNO AS department
TYPE ADDRESS
TYPE item
TYPE "Person"
TYPE PURCHASE_ORDER AS p_o
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7370C345-D500-4805-BDBC-B81BB1E42990__GUID-163209A0-39D5-4E3D-B446-C99831286A46"></p>
                     <div class="infoboxnotealso" id="GUID-7370C345-D500-4805-BDBC-B81BB1E42990__GUID-EBD77606-514C-4557-B4FC-767449CC0E31">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-DCB134A7-4A0F-4C91-AE55-6C05959AA60D" title="This CASE parameter affects the case of certain C identifiers generated by OTT.">CASE</a></p>
                           </li>
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-B4E872F1-7FF7-4E44-9480-56FF8567708C" title="The intype and outtype files list the types translated by OTT, and provide all the information needed to determine how a type or attribute name is translated to a legal C identifier.">Structure of the Intype File</a> for a more detailed specification of the structure of the intype file and the available options
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI72778"></a><a id="LNOCI72779"></a><a id="LNOCI17057"></a><div class="props_rev_3"><a id="GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2" name="GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2"></a><h3 id="LNOCI-GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2" class="sect3"><span class="enumeration_section">24.4 </span>OTT Data Type Mappings
               </h3>
               <div>
                  <p>When OTT generates a C struct from a database type, the struct contains one element corresponding to each attribute of the object type.</p>
                  <p>The data types of the attributes are mapped to types that are used in Oracle's object data types. The data types found in Oracle Database include a set of predefined, primitive types. These data types provide for the creation of user-defined types, such as object types and collections.</p>
                  <p>Oracle Database also includes a set of predefined types that are used to represent object type attributes in C structs. As an example, consider the object type definition in <a href="using-object-type-translator-in-oci.html#GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2__CIHIIIJA">Example 24-6</a>, and its corresponding OTT-generated struct declarations in <a href="using-object-type-translator-in-oci.html#GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2__CIHCCJFD">Example 24-7</a>.
                  </p>
                  <p>The OTT output, assuming <code class="codeph">CASE=LOWER</code> and no explicit mappings of type or attribute names, is shown in <a href="using-object-type-translator-in-oci.html#GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2__CIHCCJFD">Example 24-7</a>.
                  </p>
                  <p>The data types in the struct declarations—<code class="codeph">OCIString</code>, <code class="codeph">OCINumber</code>, <code class="codeph">OCIDate</code>, and <code class="codeph">OCIInd</code>—are used here to map the data types of the object type attributes. The <code class="codeph">NUMBER</code> data type of the <code class="codeph">empno</code> attribute maps to the <code class="codeph">OCINumber</code> data type, for example. These data types can also be used as the types of bind and define variables.
                  </p>
                  <div class="example" id="GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2__CIHIIIJA">
                     <p class="titleinexample">Example 24-6 Object Type Definition for Employee</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE employee AS OBJECT
(   name       VARCHAR2(30),
    empno      NUMBER,
    deptno     NUMBER,
    hiredate   DATE,
    salary$    NUMBER);
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2__CIHCCJFD">
                     <p class="titleinexample">Example 24-7 OTT-Generated Struct Declarations</p><pre class="oac_no_warn" dir="ltr">struct employee
{   OCIString * name;
    OCINumber empno;
    OCINumber deptno;
    OCIDate   hiredate;
    OCINumber salary_;
};
typedef struct emp_type emp_type;
struct employee_ind
{
    OCIInd _atomic;
    OCIInd name;
    OCIInd empno;
    OCIInd deptno;
    OCIInd hiredate;
    OCIInd salary_;
}
typedef struct employee_ind employee_ind;
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6" title="This section describes the mappings of Oracle object attribute types to C types generated by OTT.">About Mapping Object Data Types to C</a></p>
                           </li>
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23" title="Shows the various type mappings created by OTT when given the database types.">OTT Type Mapping Example</a></p>
                           </li>
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-4B43CFE7-39AF-4F7D-A580-0C73B6DF242D" title="Each time OTT generates a C struct to represent a database object type, it also generates a corresponding NULL indicator struct.">Null Indicator Structs</a></p>
                           </li>
                           <li>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-4009C803-B151-4836-AF6F-741E9F072466" title='To support type inheritance of objects, OTT generates a C struct to represent an object subtype by declaring the inherited attributes in an encapsulated struct with the special name "_super", before declaring the new attributes.'>OTT Support for Type Inheritance</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-BB88D6B6-2048-4756-AD4E-EE1DEC3DF1C2__GUID-9083A536-5160-462A-8691-217F93591593">
                        <p class="notep1">See Also:</p>
                        <p><a href="using-object-type-translator-in-oci.html#GUID-4B43CFE7-39AF-4F7D-A580-0C73B6DF242D" title="Each time OTT generates a C struct to represent a database object type, it also generates a corresponding NULL indicator struct.">Null Indicator Structs</a> for an explanation of the indicator struct (<code class="codeph">struct employee_ind</code>) 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNOCI17059"></a><a id="LNOCI17058"></a><div class="props_rev_3"><a id="GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6" name="GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6"></a><h4 id="LNOCI-GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6" class="sect4"><span class="enumeration_section">24.4.1 </span>About Mapping Object Data Types to C
                  </h4>
                  <div>
                     <p>This section describes the mappings of Oracle object attribute types to C types generated by OTT.</p>
                     <p>The previous section <a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23" title="Shows the various type mappings created by OTT when given the database types.">OTT Type Mapping Example</a> includes examples of many of these different mappings. <a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC" title="This table has 3 columns. Column 1 is the object attribute type, column 2 is its corresponding C mapping, and column 3 is its corresponding OCITypeCode value.">Table 24-1</a> lists the mappings from types that you can use as attributes to object data types that are generated by OTT and the corresponding OCI type code values.
                     </p>
                     <div class="tblformalwide" id="GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC">
                        <p class="titleintable">Table 24-1 Object Data Type Mappings for Object Type Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Object Data Type Mappings for Object Type Attributes" summary="This table has 3 columns. Column 1 is the object attribute type, column 2 is its corresponding C mapping, and column 3 is its corresponding OCITypeCode value." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d173568e4352">Object Attribute Types </th>
                                 <th align="left" valign="bottom" id="d173568e4355">C Mapping</th>
                                 <th align="left" valign="bottom" id="d173568e4358">OCITypeCode Values</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4362" headers="d173568e4352 ">
                                    <p><span>BFILE</span></p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4362 d173568e4355 ">
                                    <p>OCIBFileLocator*</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4362 d173568e4358 ">OCI_TYPECODE_BFILE</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4372" headers="d173568e4352 ">
                                    <p>BLOB</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4372 d173568e4355 ">
                                    <p>OCILobLocator * or OCIBlobLocator *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4372 d173568e4358 ">OCI_TYPECODE_BLOB</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4381" headers="d173568e4352 ">
                                    <p>CHAR(N), CHARACTER(N), NCHAR(N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4381 d173568e4355 ">
                                    <p>OCIString *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4381 d173568e4358 ">OCI_TYPECODE_CHAR (n), OCI_TYPECODE_NCHAR</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4390" headers="d173568e4352 ">
                                    <p>CLOB, NCLOB</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4390 d173568e4355 ">
                                    <p>OCILobLocator * or OCIClobLocator *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4390 d173568e4358 ">OCI_TYPECODE_CLOB, OCI_TYPECODE_NCLOB</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4399" headers="d173568e4352 ">
                                    <p>DATE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4399 d173568e4355 ">
                                    <p>OCIDate</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4399 d173568e4358 ">OCI_TYPECODE_DATE</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4408" headers="d173568e4352 ">
                                    <p>ANSI DATE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4408 d173568e4355 ">
                                    <p>OCIDateTime *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4408 d173568e4358 ">OCI_TYPECODE_TIMESTAMP</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4417" headers="d173568e4352 ">
                                    <p>TIMESTAMP, TIMESTAMP WITH TIME ZONE, TIMESTAMP WITH LOCAL TIME ZONE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4417 d173568e4355 ">
                                    <p>OCIDateTime *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4417 d173568e4358 ">OCI_TYPECODE_TIMESTAMP, OCI_TYPECODE_TIMESTAMP_TZ, OCI_TYPECODE_TIMESTAMP_LTZ</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4426" headers="d173568e4352 ">
                                    <p>INTERVAL YEAR TO MONTH, INTERVAL DAY TO SECOND</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4426 d173568e4355 ">
                                    <p>OCIInterval *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4426 d173568e4358 ">OCI_TYPECODE_INTERVAL_YM, OCI_TYPECODE_INTERVAL_DS</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4435" headers="d173568e4352 ">
                                    <p>DEC, DEC(N), DEC(N,N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4435 d173568e4355 ">
                                    <p>OCINumber</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4435 d173568e4358 ">OCI_TYPECODE_DECIMAL (p)</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4444" headers="d173568e4352 ">
                                    <p>DECIMAL, DECIMAL(N), DECIMAL(N,N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4444 d173568e4355 ">
                                    <p>OCINumber</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4444 d173568e4358 ">OCI_TYPECODE_DECIMAL (p)</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4453" headers="d173568e4352 ">
                                    <p>FLOAT, FLOAT(N), DOUBLE PRECISION</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4453 d173568e4355 ">
                                    <p>OCINumber</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4453 d173568e4358 ">OCI_TYPECODE_FLOAT (b)</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4463" headers="d173568e4352 ">
                                    <p>BINARY_FLOAT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4463 d173568e4355 ">
                                    <p>float</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4463 d173568e4358 ">OCI_TYPECODE_BFLOAT</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4472" headers="d173568e4352 ">
                                    <p>BINARY_DOUBLE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4472 d173568e4355 ">
                                    <p>double</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4472 d173568e4358 ">OCI_TYPECODE_BDOUBLE</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4481" headers="d173568e4352 ">
                                    <p>INT, INTEGER, SMALLINT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4481 d173568e4355 ">
                                    <p>OCINumber</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4481 d173568e4358 ">OCI_TYPECODE_INTEGER, OCI_TYPECODE_SMALLINT</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4490" headers="d173568e4352 ">
                                    <p>Nested Object Type</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4490 d173568e4355 ">
                                    <p>C name of the nested object type</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4490 d173568e4358 ">OCI_TYPECODE_OBJECT</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4499" headers="d173568e4352 ">
                                    <p>Nested Table</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4499 d173568e4355 ">
                                    <p>OCITable *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4499 d173568e4358 ">OCI_TYPECODE_TABLE</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4508" headers="d173568e4352 ">
                                    <p>NUMBER, NUMBER(N), NUMBER(N,N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4508 d173568e4355 ">
                                    <p>OCINumber</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4508 d173568e4358 ">OCI_TYPECODE_NUMBER (p, s)</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4517" headers="d173568e4352 ">
                                    <p>NUMERIC, NUMERIC(N), NUMERIC(N,N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4517 d173568e4355 ">
                                    <p>OCINumber</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4517 d173568e4358 ">OCI_TYPECODE_NUMBER (p, s)</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4526" headers="d173568e4352 ">
                                    <p>RAW(N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4526 d173568e4355 ">
                                    <p>OCIRaw *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4526 d173568e4358 ">OCI_TYPECODE_RAW</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4535" headers="d173568e4352 ">
                                    <p>REAL</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4535 d173568e4355 ">
                                    <p>OCINumber</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4535 d173568e4358 ">OCI_TYPECODE_REAL</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4544" headers="d173568e4352 ">
                                    <p>REF</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4544 d173568e4355 ">
                                    <p>OCIRef *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4544 d173568e4358 ">OCI_TYPECODE_REF</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4553" headers="d173568e4352 ">
                                    <p>VARCHAR(N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4553 d173568e4355 ">
                                    <p>OCIString *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4553 d173568e4358 ">OCI_TYPECODE_VARCHAR (n)</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4563" headers="d173568e4352 ">
                                    <p>VARCHAR2(N), NVARCHAR2(N)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4563 d173568e4355 ">
                                    <p>OCIString *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4563 d173568e4358 ">OCI_TYPECODE_VARCHAR2 (n), OCI_TYPECODE_NVARCHAR2</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4572" headers="d173568e4352 ">
                                    <p><a id="d173568e4574" class="indexterm-anchor"></a>VARRAY
                                    </p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4572 d173568e4355 ">
                                    <p>OCIArray *</p>
                                 </td>
                                 <td align="left" valign="top" headers="d173568e4572 d173568e4358 ">OCI_TYPECODE_VARRAY</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d173568e4585" headers="d173568e4352 ">collections</td>
                                 <td align="left" valign="top" headers="d173568e4585 d173568e4355 ">OCIColl *</td>
                                 <td align="left" valign="top" headers="d173568e4585 d173568e4358 ">OCI_TYPECODE_NAMEDCOLLECTION</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__GUID-AAB83492-18E5-4E71-9438-042BD5D162F2">
                        <p class="notep1">Note:</p>
                        <p>For <code class="codeph">REF</code>, <code class="codeph">varray</code>, and <code class="codeph">nested table</code> types, OTT generates a typedef. The type declared in the typedef is then used as the type of the data member in the struct declaration. For an example, see <a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23" title="Shows the various type mappings created by OTT when given the database types.">OTT Type Mapping Example</a>.
                        </p>
                     </div>
                     <p>If an object type includes an attribute of a <code class="codeph">REF</code> or collection type, a typedef for the <code class="codeph">REF</code> or collection type is first generated. Then the struct declaration corresponding to the object type is generated. The struct includes an element whose type is a pointer to the <code class="codeph">REF</code> or collection type.
                     </p>
                     <p>If an object type includes an attribute whose type is another object type, OTT first generates the nested type (if <code class="codeph">TRANSITIVE=TRUE</code>). It then maps the object type attribute to a nested struct of the type of the nested object type.
                     </p>
                     <p>The Oracle C data types to which OTT maps non-object database attribute types are structures, which, except for <code class="codeph">OCIDate</code>, are opaque.
                     </p>
                  </div>
               </div><a id="LNOCI72780"></a><a id="LNOCI72781"></a><a id="LNOCI17060"></a><div class="props_rev_3"><a id="GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23" name="GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23"></a><h4 id="LNOCI-GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23" class="sect4"><span class="enumeration_section">24.4.2 </span>OTT Type Mapping Example
                  </h4>
                  <div>
                     <p>Shows the various type mappings created by OTT when given the database types.</p>
                     <div class="section">
                        <p><a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__CIHCBFIH">Example 24-9</a> demonstrates the various type mappings created by OTT when given the database types shown in <a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__CIHJBHGE">Example 24-8</a>.
                        </p>
                        <p>The intype file includes the following:</p><pre class="oac_no_warn" dir="ltr">
CASE = LOWER
TYPE many_types
</pre><p>OTT generates the C structs shown in <a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__CIHCBFIH">Example 24-9</a>.
                        </p>
                        <div class="infoboxnote" id="GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__GUID-384C917E-F6D2-4DB2-BB0A-D1F7B1D3EE65">
                           <p class="notep1">Note:</p>
                           <p>Comments are provided in <a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__CIHCBFIH">Example 24-9</a> to help explain the structs. These comments are not part of actual OTT output.
                           </p>
                        </div>
                        <p>Notice that although only one item was listed for translation in the intype file, two object types and two named collection types were translated. This is because the OTT parameter <code class="codeph">TRANSITIVE</code> has the default value of <code class="codeph">TRUE</code>. As described in that section, when <code class="codeph">TRANSITIVE=TRUE</code>, OTT automatically translates any types that are used as attributes of a type being translated, to complete the translation of the listed type.
                        </p>
                        <p>This is not the case for types that are only accessed by a pointer or <code class="codeph">REF</code> in an object type attribute. For example, although the <code class="codeph">many_types</code> type contains the attribute <code class="codeph">another_ref REF other_type</code>, a declaration of struct <code class="codeph">other_type</code> was not generated.
                        </p>
                        <p>This example also illustrates how typedefs are used to declare <code class="codeph">varray, nested table</code>, and <code class="codeph">REF</code> types.
                        </p>
                        <p>The typedefs occur near the beginning:</p><pre class="oac_no_warn" dir="ltr">typedef OCIRef many_types_ref;
typedef OCIRef object_type_ref;
typedef OCIArray my_varray;    
typedef OCITable my_table; 
typedef OCIRef other_type_ref;
</pre><p>In the struct <code class="codeph">many_types</code>, the <code class="codeph">varray, nested table</code>, and <code class="codeph">REF</code> attributes are declared:
                        </p><pre class="oac_no_warn" dir="ltr">struct many_types
{  ...
   other_type_ref *   another_ref;
   many_types_ref *   the_ref;
   my_varray *        the_varray;
   my_table *         the_table;
   ...
}</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__CIHJBHGE">
                        <p class="titleinexample">Example 24-8 Object Type Definitions for the OTT Type Mapping Example</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE my_varray AS VARRAY(5) of integer;

CREATE TYPE object_type AS OBJECT
(object_name    VARCHAR2(20));

CREATE TYPE my_table AS TABLE OF object_type;

CREATE TYPE other_type AS OBJECT (object_number NUMBER);

CREATE TYPE many_types AS OBJECT
( the_varchar    VARCHAR2(30),
  the_char       CHAR(3),
  the_blob       BLOB,
  the_clob       CLOB,
  the_object     object_type,
  another_ref    REF other_type,
  the_ref        REF many_types,
  the_varray     my_varray,
  the_table      my_table,
  the_date       DATE,
  the_num        NUMBER,
  the_raw        RAW(255));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__CIHCBFIH">
                        <p class="titleinexample">Example 24-9 Various Type Mappings Created by OTT from Object Type Definitions</p><pre class="oac_no_warn" dir="ltr">#ifndef MYFILENAME_ORACLE
#define MYFILENAME_ORACLE

#ifndef OCI_ORACLE
#include &lt;oci.h&gt;
#endif

typedef OCIRef many_types_ref;
typedef OCIRef object_type_ref;
typedef OCIArray my_varray;            /* used in many_types */
typedef OCITable my_table;             /* used in many_types*/
typedef OCIRef other_type_ref;
struct object_type                     /* used in many_types */
{
   OCIString * object_name;
};
typedef struct object_type object_type;

struct object_type_ind               /*indicator struct for*/
{                                            /*object_types*/
   OCIInd _atomic;
   OCIInd object_name;
};
typedef struct object_type_ind object_type_ind;

struct many_types
{
   OCIString *        the_varchar;
   OCIString *        the_char;
   OCIBlobLocator *   the_blob;
   OCIClobLocator *   the_clob;
   struct object_type the_object;
   other_type_ref *   another_ref;
   many_types_ref *   the_ref;
   my_varray *        the_varray;
   my_table *         the_table; 
   OCIDate            the_date;
   OCINumber          the_num;
   OCIRaw *           the_raw;
};
typedef struct many_types many_types;

struct many_types_ind                  /*indicator struct for*/
{                                               /*many_types*/
   OCIInd _atomic;
   OCIInd the_varchar;
   OCIInd the_char;
   OCIInd the_blob;
   OCIInd the_clob;
   struct object_type_ind the_object;              /*nested*/
   OCIInd another_ref;
   OCIInd the_ref;
   OCIInd the_varray;
   OCIInd the_table;
   OCIInd the_date;
   OCIInd the_num;
   OCIInd the_raw;
};
typedef struct many_types_ind many_types_ind;

#endif
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__GUID-28A454D1-AA6C-4DA3-9948-80E0B018A3DB">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-D52FC80C-CA51-4638-AEB8-8F112982DB31" title="The TRANSITIVE parameter takes the values TRUE (the default) or FALSE.">TRANSITIVE</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI17061"></a><div class="props_rev_3"><a id="GUID-4B43CFE7-39AF-4F7D-A580-0C73B6DF242D" name="GUID-4B43CFE7-39AF-4F7D-A580-0C73B6DF242D"></a><h4 id="LNOCI-GUID-4B43CFE7-39AF-4F7D-A580-0C73B6DF242D" class="sect4"><span class="enumeration_section">24.4.3 </span>Null Indicator Structs
                  </h4>
                  <div>
                     <p>Each time OTT generates a C struct to represent a database object type, it also generates a corresponding <code class="codeph">NULL</code> indicator struct.
                     </p>
                     <p>When an object type is selected into a C struct, <code class="codeph">NULL</code> indicator information may be selected into a parallel struct.
                     </p>
                     <p>For example, the following <code class="codeph">NULL</code> indicator struct was generated in <a href="using-object-type-translator-in-oci.html#GUID-E0A4C79C-9500-49E0-99FD-6C5D85724D23__CIHCBFIH">Example 24-9</a>.
                     </p><pre class="oac_no_warn" dir="ltr">struct many_types_ind
{
OCIInd _atomic;
OCIInd the_varchar;
OCIInd the_char;
OCIInd the_blob;
OCIInd the_clob;
struct object_type_ind the_object;
OCIInd another_ref;
OCIInd the_ref;
OCIInd the_varray;
OCIInd the_table;
OCIInd the_date;
OCIInd the_num;
OCIInd the_raw;
};
typedef struct many_types_ind many_types_ind;
</pre><p>The layout of the <code class="codeph">NULL</code> struct is important. The first element in the struct (<code class="codeph">_atomic</code>) is the <span class="italic">atomic null indicator</span>. This value indicates the <code class="codeph">NULL</code> status for the object type as a whole. The atomic null indicator is followed by an indicator element corresponding to each element in the OTT-generated struct representing the object type.
                     </p>
                     <p>Notice that when an object type contains another object type as part of its definition (in the preceding example it is the <code class="codeph">object_type </code>attribute), the indicator entry for that attribute is the <code class="codeph">NULL</code> indicator struct (<code class="codeph">object_type_ind</code>) corresponding to the nested object type (if <code class="codeph">TRANSITIVE=TRUE</code>).
                     </p>
                     <p>The <code class="codeph">varrays</code> and <code class="codeph">nested tables</code> contain the <code class="codeph">NULL</code> information for their elements.
                     </p>
                     <p>The data type for all other elements of a <code class="codeph">NULL</code> indicator struct is <code class="codeph">OCIInd</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4B43CFE7-39AF-4F7D-A580-0C73B6DF242D__GUID-F10EF902-F6C8-467A-94B3-88B7CC65E800">
                        <p class="notep1">See Also:</p>
                        <p><a href="oci-object-relational-programming.html#GUID-D0FD9D2E-DAE1-4468-B90A-DE19B03CB0F3" title="If a column in a row of a database table has no value, then that column is said to be NULL, or to contain a NULL.">NULL Indicator Structure</a> for more information about atomic nullity
                        </p>
                     </div>
                  </div>
               </div><a id="LNOCI72782"></a><a id="LNOCI72783"></a><a id="LNOCI72784"></a><a id="LNOCI17062"></a><div class="props_rev_3"><a id="GUID-4009C803-B151-4836-AF6F-741E9F072466" name="GUID-4009C803-B151-4836-AF6F-741E9F072466"></a><h4 id="LNOCI-GUID-4009C803-B151-4836-AF6F-741E9F072466" class="sect4"><span class="enumeration_section">24.4.4 </span>OTT Support for Type Inheritance
                  </h4>
                  <div>
                     <p>To support type inheritance of objects, OTT generates a C struct to represent an object subtype by declaring the inherited attributes in an encapsulated struct with the special name "<code class="codeph">_super</code>", before declaring the new attributes. 
                     </p>
                     <p>Thus, for an object subtype that inherits from a supertype, the first element in the struct is named "<code class="codeph">_super</code>", followed by elements corresponding to each attribute of the subtype. The type of the element named "<code class="codeph">_super</code>" is the name of the supertype.
                     </p>
                     <p>For example, suppose that you have a type <code class="codeph">Person_t</code>, with subtype <code class="codeph">Student_t</code> and subtype <code class="codeph">Employee_t</code>, as shown in <a href="using-object-type-translator-in-oci.html#GUID-4009C803-B151-4836-AF6F-741E9F072466__CIHDFCFH">Example 24-10</a>.
                     </p>
                     <p>Suppose that you also have an intype file with the content shown in <a href="using-object-type-translator-in-oci.html#GUID-4009C803-B151-4836-AF6F-741E9F072466__CIHBJEBC">Example 24-11</a>.
                     </p>
                     <p>Then, OTT generates the C structs for <code class="codeph">Person_t</code>, <code class="codeph">Student_t</code>, and <code class="codeph">Employee_t</code>, and their <code class="codeph">NULL</code> indicator structs, as shown in <a href="using-object-type-translator-in-oci.html#GUID-4009C803-B151-4836-AF6F-741E9F072466__CIHCBDGA">Example 24-12</a>. 
                     </p>
                     <p>The preceding C mapping convention allows simple upcasting from an instance of a subtype to an instance of a supertype in C to work properly. For example:</p><pre class="oac_no_warn" dir="ltr">STUDENT_T *stu_ptr = some_ptr;               /* some STUDENT_T instance  */
PERSON_T  *pers_ptr = (PERSON_T *)stu_ptr;   /* upcasting */
</pre><p>The <code class="codeph">NULL</code> indicator structs are generated similarly. Note that for the supertype <code class="codeph">Person_t</code> <code class="codeph">NULL</code> indicator struct, the first element is "<code class="codeph">_atomic</code>", and that for the subtypes <code class="codeph">Employee_t</code> and <code class="codeph">Student_t</code> <code class="codeph">NULL</code> indicator structs, the first element is "<code class="codeph">_super</code>" (no atomic element is generated for subtypes).
                     </p>
                     <div class="example" id="GUID-4009C803-B151-4836-AF6F-741E9F072466__CIHDFCFH">
                        <p class="titleinexample">Example 24-10 Object Type and Subtype Definitions</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE Person_t AS OBJECT
( ssn     NUMBER,
  name    VARCHAR2(30),
  address VARCHAR2(100)) NOT FINAL;

CREATE TYPE Student_t UNDER Person_t
( deptid NUMBER,
  major  VARCHAR2(30)) NOT FINAL;

CREATE TYPE Employee_t UNDER Person_t
( empid NUMBER,
  mgr   VARCHAR2(30));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4009C803-B151-4836-AF6F-741E9F072466__CIHBJEBC">
                        <p class="titleinexample">Example 24-11 Contents of the Intype File</p><pre class="oac_no_warn" dir="ltr">CASE=SAME
TYPE EMPLOYEE_T
TYPE STUDENT_T
TYPE PERSON_T
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4009C803-B151-4836-AF6F-741E9F072466__CIHCBDGA">
                        <p class="titleinexample">Example 24-12 OTT Generates C Structs for the Types and Null Indicator Structs</p><pre class="oac_no_warn" dir="ltr">#ifndef MYFILENAME_ORACLE
#define MYFILENAME_ORACLE

#ifndef OCI_ORACLE
#include &lt;oci.h&gt;
#endif

typedef OCIRef EMPLOYEE_T_ref;
typedef OCIRef STUDENT_T_ref;
typedef OCIRef PERSON_T_ref;

struct PERSON_T
{
   OCINumber SSN;
   OCIString * NAME;
   OCIString * ADDRESS;
};
typedef struct PERSON_T PERSON_T;

struct PERSON_T_ind
{
   OCIInd _atomic;
   OCIInd SSN;
   OCIInd NAME;
   OCIInd ADDRESS;
};
typedef struct PERSON_T_ind PERSON_T_ind;

struct EMPLOYEE_T
{
   PERSON_T_ind;
   OCINumber EMPID;
   OCIString * MGR;
};
typedef struct EMPLOYEE_T EMPLOYEE_T;

struct EMPLOYEE_T_ind
{
   PERSON_T _super;
   OCIInd EMPID;
   OCIInd MGR;
};
typedef struct EMPLOYEE_T_ind EMPLOYEE_T_ind;

struct STUDENT_T
{
   PERSON_T _super;
   OCINumber DEPTID;
   OCIString * MAJOR;
};
typedef struct STUDENT_T STUDENT_T;

struct STUDENT_T_ind
{
   PERSON_T _super;
   OCIInd DEPTID;
   OCIInd MAJOR;
};
typedef struct STUDENT_T_ind STUDENT_T_ind;

#endif
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>This section includes the following topic: <a href="using-object-type-translator-in-oci.html#GUID-82611BF8-CF4C-48F6-AF6E-E52B960DF36D" title="For attributes of NOT FINAL types (potentially substitutable), the embedded attribute is represented as a pointer.">Substitutable Object Attributes</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI17063"></a><div class="props_rev_3"><a id="GUID-82611BF8-CF4C-48F6-AF6E-E52B960DF36D" name="GUID-82611BF8-CF4C-48F6-AF6E-E52B960DF36D"></a><h5 id="LNOCI-GUID-82611BF8-CF4C-48F6-AF6E-E52B960DF36D" class="sect5"><span class="enumeration_section">24.4.4.1 </span>Substitutable Object Attributes
                     </h5>
                     <div>
                        <p>For attributes of <code class="codeph">NOT FINAL</code> types (potentially substitutable), the embedded attribute is represented as a pointer.
                        </p>
                        <p>Consider a type <code class="codeph">Book_t</code> created as follows: 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE Book_t AS OBJECT 
( title   VARCHAR2(30),
  author  Person_t     /* substitutable */);
</pre><p>The corresponding C struct generated by OTT contains a pointer to <code class="codeph">Person_t</code>:
                        </p><pre class="oac_no_warn" dir="ltr">struct Book_t
{
  OCIString  *title;
  Person_t   *author;    /* pointer to Person_t struct */
}
</pre><p>The <code class="codeph">NULL</code> indicator struct corresponding to the preceding type is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">struct Book_t_ind
{ 
  OCIInd  _atomic;
  OCIInd  title;
  OCIInd  author;
}
</pre><p>Note that the <code class="codeph">NULL</code> indicator struct corresponding to the <code class="codeph">author</code> attribute can be obtained from the <code class="codeph">author</code> object itself. See <code class="codeph">OCIObjectGetInd()</code>.
                        </p>
                        <p>If a type is defined to be <code class="codeph">FINAL</code>, it cannot have any subtypes. An attribute of a <code class="codeph">FINAL</code> type is therefore not substitutable. In such cases, the mapping is as before: the attribute struct is inline. Now, if the type is altered and defined to be <code class="codeph">NOT FINAL</code>, the mapping must change. The new mapping is generated by running OTT again.
                        </p>
                        <div class="infoboxnotealso" id="GUID-82611BF8-CF4C-48F6-AF6E-E52B960DF36D__GUID-3EE8E732-9958-42EC-8F25-6FC80A8BECE7">
                           <p class="notep1">See Also:</p>
                           <p><a href="oci-miscellaneous-object-functions.html#GUID-22B229C0-369E-453E-A8D6-C7F7DBB1E80C" title="Retrieves the NULL indicator structure of a standalone instance.">OCIObjectGetInd()</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI72785"></a><a id="LNOCI72786"></a><a id="LNOCI17064"></a><div class="props_rev_3"><a id="GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0" name="GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0"></a><h3 id="LNOCI-GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0" class="sect3"><span class="enumeration_section">24.5 </span>Outtype File
               </h3>
               <div>
                  <p>The outtype file is named on the OTT command line.</p>
                  <p>When OTT generates the C header file, it also writes the results of the translation into the outtype file. This file contains an entry for each of the types that is translated, including its version string, and the header file to which its C representation was written.</p>
                  <p>The outtype file from one OTT run can be used as the intype file for a subsequent OTT invocation.</p>
                  <p>For example, suppose that you have a simple intype file, as shown in <a href="using-object-type-translator-in-oci.html#GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0__CIHBIJAH">Example 24-13</a>, which was used in <a href="using-object-type-translator-in-oci.html#GUID-7370C345-D500-4805-BDBC-B81BB1E42990__CIHJFADB">Example 24-5</a>.
                  </p>
                  <p>The user has chosen to specify the case for the OTT-generated C identifiers, and has provided a list of types to be translated. In two of these types, naming conventions are specified.</p>
                  <p><a href="using-object-type-translator-in-oci.html#GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0__CIHFHCAJ">Example 24-14</a> shows what the outtype file might look like after running OTT.
                  </p>
                  <p>When examining the contents of the outtype file, you might discover types listed that were not included in the intype specification. For example, suppose that the intype file only specified that the <code class="codeph">person</code> type was to be translated as follows:
                  </p><pre class="oac_no_warn" dir="ltr">CASE = LOWER
TYPE PERSON
</pre><p>However, because the definition of the <code class="codeph">person</code> type includes an attribute of type <code class="codeph">address</code>, the outtype file includes entries for both <code class="codeph">PERSON</code> and <code class="codeph">ADDRESS</code>. The <code class="codeph">person</code> type cannot be translated completely without first translating <code class="codeph">address</code>.
                  </p>
                  <p>When the parameter <code class="codeph">TRANSITIVE</code> has been set to <code class="codeph">TRUE</code> (it is the default), OTT analyzes the types in the intype file for type dependencies before performing the translation, and translates other types as necessary.
                  </p>
                  <div class="example" id="GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0__CIHBIJAH">
                     <p class="titleinexample">Example 24-13 Contents of an Intype File</p><pre class="oac_no_warn" dir="ltr">CASE=LOWER
TYPE employee
  TRANSLATE SALARY$ AS salary
            DEPTNO AS department
TYPE ADDRESS
TYPE item
TYPE "Person"
TYPE PURCHASE_ORDER AS p_o
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0__CIHFHCAJ">
                     <p class="titleinexample">Example 24-14 Contents of the Outtype File After Running OTT</p><pre class="oac_no_warn" dir="ltr">CASE = LOWER
TYPE EMPLOYEE AS employee
  VERSION = "$8.0"
  HFILE = demo.h
  TRANSLATE SALARY$ AS salary
             DEPTNO AS department
TYPE ADDRESS AS ADDRESS
  VERSION = "$8.0"
  HFILE = demo.h
TYPE ITEM AS item
  VERSION = "$8.0"
  HFILE = demo.h
TYPE "Person" AS Person
  VERSION = "$8.0"
  HFILE = demo.h
TYPE PURCHASE_ORDER AS p_o
  VERSION = "$8.0"
  HFILE = demo.h
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="LNOCI17066"></a><a id="LNOCI17065"></a><div class="props_rev_3"><a id="GUID-D35CDFD1-8F5A-46D2-BC52-FD6B4A4D4F25" name="GUID-D35CDFD1-8F5A-46D2-BC52-FD6B4A4D4F25"></a><h3 id="LNOCI-GUID-D35CDFD1-8F5A-46D2-BC52-FD6B4A4D4F25" class="sect3"><span class="enumeration_section">24.6 </span>About Using OTT with OCI Applications
               </h3>
               <div>
                  <p>An OCI application that accesses objects in an Oracle server can use C header and implementation files that have been generated by OTT.</p>
                  <p>The header file is incorporated into the OCI code with an <code class="codeph">#include</code> statement.
                  </p>
                  <p>Once the header file has been included, the OCI application can access and manipulate object data in the host language format.</p>
                  <p><a href="using-object-type-translator-in-oci.html#GUID-D35CDFD1-8F5A-46D2-BC52-FD6B4A4D4F25__I434792">Figure 24-1</a> shows the steps involved in using OTT with OCI for the simplest applications:
                  </p>
                  <ol>
                     <li>
                        <p>SQL is used to create type definitions in the database.</p>
                     </li>
                     <li>
                        <p>OTT generates a header file containing C representations of object types and named collection types. It also generates an implementation file, as named with the <code class="codeph">INITFILE</code> option.
                        </p>
                     </li>
                     <li>
                        <p>The application is written. User-written code in the OCI application declares and calls the <code class="codeph">INITFUNC</code> function.
                        </p>
                     </li>
                     <li>
                        <p>The header file is included in an OCI source code file.</p>
                     </li>
                     <li>
                        <p>The OCI application, including the implementation file generated by OTT, is compiled and linked with the OCI libraries.</p>
                     </li>
                     <li>
                        <p>The OCI executable is run against the Oracle database.</p>
                     </li>
                  </ol>
                  <div class="figure" id="GUID-D35CDFD1-8F5A-46D2-BC52-FD6B4A4D4F25__I434792">
                     <p class="titleinfigure">Figure 24-1 Using OTT with OCI</p><img src="img/lnoci029.gif" alt="Description of Figure 24-1 follows" title="Description of Figure 24-1 follows" longdesc="img_text/lnoci029.html"><br><a href="img_text/lnoci029.html">Description of "Figure 24-1 Using OTT with OCI"</a></div>
                  <!-- class="figure" -->
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-A7FE645D-3408-4FDC-8A5C-0FDE1C51E037" title="Within the application, the OCI program can perform bind and define operations using program variables declared to be of types that appear in the OTT-generated header file.">About Accessing and Manipulating Objects with OCI</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-D7512303-1266-40F5-838A-3F5895C229C5" title="OTT generates a C initialization function if requested. The initialization function tells the environment, for each object type used in the program, which version of the type is used.">Calling the Initialization Function</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-6C923475-9140-4A0B-9CC3-95764B7E3679" title="The C initialization function supplies version information about the types processed by OTT. It adds to the type-version table the name and version identifier of every OTT-processed object data type.">Tasks of the Initialization Function</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI17067"></a><div class="props_rev_3"><a id="GUID-A7FE645D-3408-4FDC-8A5C-0FDE1C51E037" name="GUID-A7FE645D-3408-4FDC-8A5C-0FDE1C51E037"></a><h4 id="LNOCI-GUID-A7FE645D-3408-4FDC-8A5C-0FDE1C51E037" class="sect4"><span class="enumeration_section">24.6.1 </span>About Accessing and Manipulating Objects with OCI
                  </h4>
                  <div>
                     <p>Within the application, the OCI program can perform bind and define operations using program variables declared to be of types that appear in the OTT-generated header file.</p>
                     <p>For example, an application might fetch a <code class="codeph">REF</code> to an object using a SQL <code class="codeph">SELECT</code> statement and then pin that object using the appropriate OCI function. Once the object has been pinned, its attribute data can be accessed and manipulated with other OCI functions.
                     </p>
                     <p>OCI includes a set of data type mapping and manipulation functions that are specifically designed to work on attributes of object types and named collection types.</p>
                     <p>The following are examples of the available functions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCIStringSize()</code> gets the size of an <code class="codeph">OCIString</code> string.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCINumberAdd()</code> adds two <code class="codeph">OCINumber</code> numbers together.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCILobIsEqual()</code> compares two LOB locators for equality.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIRawPtr()</code> gets a pointer to an <code class="codeph">OCIRaw</code> raw data type.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCICollAppend()</code> appends an element to a collection type (<code class="codeph">OCIArray </code>or <code class="codeph">OCITable</code>).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCITableFirst()</code> returns the index for the first existing element of a nested table (<code class="codeph">OCITable</code>).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIRefIsNull()</code> tests if a <code class="codeph">REF</code> (<code class="codeph">OCIRef</code>) is <code class="codeph">NULL</code>.
                           </p>
                        </li>
                     </ul>
                     <p>These functions are described in detail in other chapters of this guide.</p>
                     <div class="infoboxnotealso" id="GUID-A7FE645D-3408-4FDC-8A5C-0FDE1C51E037__GUID-27A0ECF2-CFCE-4B83-9FCB-0262A95E8856">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="oci-string-functions.html#GUID-DBDAB2D9-4E78-4752-85B6-55D30CA6AF30" title="Gets the size of the given string vs.">OCIStringSize()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-NUMBER-functions.html#GUID-F3DC6DF6-9110-4BAC-AB97-DC604CA04BCD" title="Adds a NUMBER to another NUMBER.">OCINumberAdd()</a></p>
                           </li>
                           <li>
                              <p><a href="lob-functions.html#GUID-5142710F-03AD-43D5-BBAB-6732B874E52E" title="Compares two LOB or BFILE locators for equality.">OCILobIsEqual()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-raw-functions.html#GUID-B05C44C5-7168-438B-AC2A-BD3AD309AAEA" title="Gets the pointer to raw data.">OCIRawPtr()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-1F50303F-38EB-4CF5-A333-A75E01255585" title="Appends an element to the end of a collection.">OCICollAppend()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-table-functions.html#GUID-F4807159-0E8C-4204-AD4C-B08587D813F9" title="Returns the index of the first existing element in a given table.">OCITableFirst()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-REF-functions.html#GUID-1DDD8B63-E9EE-46E7-866D-B8EB6355E339" title="Tests if a REF is NULL.">OCIRefIsNull()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI72787"></a><a id="LNOCI72788"></a><a id="LNOCI72789"></a><a id="LNOCI17068"></a><div class="props_rev_3"><a id="GUID-D7512303-1266-40F5-838A-3F5895C229C5" name="GUID-D7512303-1266-40F5-838A-3F5895C229C5"></a><h4 id="LNOCI-GUID-D7512303-1266-40F5-838A-3F5895C229C5" class="sect4"><span class="enumeration_section">24.6.2 </span>Calling the Initialization Function
                  </h4>
                  <div>
                     <p>OTT generates a C initialization function if requested. The initialization function tells the environment, for each object type used in the program, which version of the type is used.</p>
                     <div class="section">
                        <p>You can specify a name for the initialization function when you invoke OTT with the <code class="codeph">INITFUNC</code> option, or you can allow OTT to select a default name based on the name of the implementation file (<code class="codeph">INITFILE</code>) containing the function.
                        </p>
                        <p>The initialization function takes two arguments; an environment handle pointer and an error handle pointer. There is typically a single initialization function, but this is not required. If a program has several separately compiled pieces requiring different types, you may want to execute OTT separately for each piece, requiring for each piece, one initialization file containing an initialization function.</p>
                        <p>After an environment handle is created by an explicit OCI object call (for example, by calling <code class="codeph">OCIEnvCreate()</code>) you must also explicitly call the initialization functions. All the initialization functions must be called for each explicitly created environment handle. This gives each handle access to all the Oracle data types used in the entire program.
                        </p>
                        <p>If an environment handle is implicitly created by embedded SQL statements, such as <code class="codeph">EXEC SQL CONTEXT USE</code> and <code class="codeph">EXEC SQL CONNECT</code>, the handle is initialized implicitly, and the initialization functions need not be called. This is only relevant when Pro*C/C++ is being combined with OCI applications.
                        </p>
                        <p>The following example shows an initialization function.</p>
                        <p>Suppose that you have an intype file, <code class="codeph">ex2c.typ</code>, containing the content shown in <a href="using-object-type-translator-in-oci.html#GUID-D7512303-1266-40F5-838A-3F5895C229C5__CIHBJAIG">Example 24-15</a>.
                        </p>
                        <p>Then you invoke OTT from the command line and specify the initialization function, as shown in <a href="using-object-type-translator-in-oci.html#GUID-D7512303-1266-40F5-838A-3F5895C229C5__CIHIJJHH">Example 24-16</a>.
                        </p>
                        <p>OTT generates the <code class="codeph">ex2cv.c</code> file with the contents shown in <a href="using-object-type-translator-in-oci.html#GUID-D7512303-1266-40F5-838A-3F5895C229C5__CIHDFEGJ">Example 24-17</a>.
                        </p>
                        <p>The function <code class="codeph">ex2cv()</code> creates the type version table and inserts the types <code class="codeph">BREN.PERSON</code> and <code class="codeph">BREN.ADDRESS</code>.
                        </p>
                        <p>If a program explicitly creates an environment handle, all the initialization functions must be generated, compiled, and linked, because they must be called for each explicitly created handle. If a program does not explicitly create any environment handles, initialization functions are not required.</p>
                        <p>A program that uses an OTT-generated header file must also use the initialization function generated at the same time. When a header file is generated by OTT and an environment handle is explicitly created in the program, then the implementation file must also be compiled and linked into the executable. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D7512303-1266-40F5-838A-3F5895C229C5__CIHBJAIG">
                        <p class="titleinexample">Example 24-15 Content of an Intype File Named ex2c.typ</p><pre class="oac_no_warn" dir="ltr">TYPE BREN.PERSON
TYPE BREN.ADDRESS
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D7512303-1266-40F5-838A-3F5895C229C5__CIHIJJHH">
                        <p class="titleinexample">Example 24-16 Invoking OTT and Specifying the Initialization Function</p><pre class="oac_no_warn" dir="ltr">ott userid=bren intype=ex2c outtype=ex2co hfile=ex2ch.h initfile=ex2cv.c
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D7512303-1266-40F5-838A-3F5895C229C5__CIHDFEGJ">
                        <p class="titleinexample">Example 24-17 Content of an OTT-Generated File Named ex2cv.c</p><pre class="oac_no_warn" dir="ltr">#ifndef OCI_ORACLE
#include &lt;oci.h&gt;
#endif

sword ex2cv(OCIEnv *env, OCIError *err)
{
   sword status = OCITypeVTInit(env, err);
   if (status == OCI_SUCCESS)
      status = OCITypeVTInsert(env, err,
          "BREN", 5,
          "PERSON", 6,
          "$8.0", 4);
    if (status == OCI_SUCCESS)
        status = OCITypeVTInsert(env, err,
           "BREN", 5,
           "ADDRESS", 7,
           "$8.0", 4);
    return status;
}
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D7512303-1266-40F5-838A-3F5895C229C5__GUID-F77C6D9E-BEE9-4773-BA6B-120D51D3B2D3">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI17069"></a><div class="props_rev_3"><a id="GUID-6C923475-9140-4A0B-9CC3-95764B7E3679" name="GUID-6C923475-9140-4A0B-9CC3-95764B7E3679"></a><h4 id="LNOCI-GUID-6C923475-9140-4A0B-9CC3-95764B7E3679" class="sect4"><span class="enumeration_section">24.6.3 </span>Tasks of the Initialization Function
                  </h4>
                  <div>
                     <p>The C initialization function supplies version information about the types processed by OTT. It adds to the type-version table the name and version identifier of every OTT-processed object data type.</p>
                     <p>The type-version table is used by the Oracle database type manager to determine which version of a type a particular program uses. Different initialization functions generated by OTT at different times can add some of the same types to the type version table. When a type is added more than once, Oracle Database ensures that the same version of the type is registered each time.</p>
                     <p>It is the OCI programmer's responsibility to declare a function prototype for the initialization function, and to call the function.</p>
                     <div class="infoboxnote" id="GUID-6C923475-9140-4A0B-9CC3-95764B7E3679__GUID-4432E9ED-3B18-49ED-8056-278C20A97B45">
                        <p class="notep1">Note:</p>
                        <p> In the current release of Oracle Database, each type has only one version. Initialization of the type version table is required only for compatibility with future releases of Oracle Database.</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI17070"></a><div class="props_rev_3"><a id="GUID-92EAE0E0-102C-4995-AE0E-F65BB120B749" name="GUID-92EAE0E0-102C-4995-AE0E-F65BB120B749"></a><h3 id="LNOCI-GUID-92EAE0E0-102C-4995-AE0E-F65BB120B749" class="sect3"><span class="enumeration_section">24.7 </span>OTT Reference
               </h3>
               <div>
                  <p>Parameters that can appear on the OTT command line or in a <code class="codeph">CONFIG</code> file control the behavior of OTT. Certain parameters can also appear in the intype file.
                  </p>
                  <div class="section">
                     <p></p>
                     <p>This section provides detailed information about the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-28F6BA69-EB47-4A4F-9A4B-AA863EC19AEF" title="The OTT command-line interface is used when explicitly invoking OTT to translate database types into C structs.">OTT Command-Line Syntax</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-2E2FE6E6-1CE6-47C8-9709-D4E73458BFA1" title="The USERID parameter specifies the database user name, password, and optional database name (Oracle Net Services database specification string).The INTYPE parameter specifies the name of the file from which to read the list of object type specifications. OTT translates each type in the list.The OUTTYPE parameter specifies the name of a file into which OTT writes type information for all the object data types it processes.This is the desired host language for OTT output, which is specified as CODE=C, CODE=KR_C, or CODE=ANSI_C. The INITFILE parameter specifies the name of the file where the OTT-generated initialization file is to be written.The INITFUNC parameter is only used in OCI programs.The HFILE parameter specifies the name of the include (.h) file to be generated by OTT for the declarations of types that are mentioned in the intype file but whose include files are not specified there.The CONFIG parameter specifies the name of the OTT configuration file, which lists commonly used parameter specifications. If the ERRTYPE parameter is supplied, OTT writes a listing of the intype file to the ERRTYPE file, along with all informational and error messages. This CASE parameter affects the case of certain C identifiers generated by OTT. The SCHEMA_NAMES parameter offers control in qualifying the database name of a type from the default schema with a schema name in the outtype file. The TRANSITIVE parameter takes the values TRUE (the default) or FALSE.For the URL parameter, OTT uses JDBC (Java Database Connectivity), the Java interface for connecting to the database.">OTT Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-F440AB66-21CA-4199-B6C4-3E2020AE81C9" title="OTT parameters can appear on the command line, in a CONFIG file named on the command line, or both.">Where OTT Parameters Can Appear</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-B4E872F1-7FF7-4E44-9480-56FF8567708C" title="The intype and outtype files list the types translated by OTT, and provide all the information needed to determine how a type or attribute name is translated to a legal C identifier.">Structure of the Intype File</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582" title="Every HFILE generated by OTT uses #include directives to include other necessary files and #define directives to define a symbol constructed from the name of the file, which can be used to determine if the HFILE has been included.">Nested Included File Generation</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-43ADCF30-F829-4E8A-BB24-EC31A372CED6" title="The SCHEMA_NAMES parameter affects whether the name of a type from the default schema to which OTT is connected is qualified with a schema name in the outtype file.">SCHEMA_NAMES Usage</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-21CFD247-6655-4F3F-8322-E4344BF20318" title="When OTT creates a C identifier name for an object type or attribute, it translates the name from the database character set to a legal C identifier.">Default Name Mapping</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-6250D4A2-A45E-4CB0-8B4D-3ECC83D72C6F" title="Currently, OTT determines if two files are the same by comparing the file names provided by the user on the command line or in the intype file.">OTT Restriction on File Name Comparison</a></p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-62F0809F-90E1-47BF-A005-01E48857902A" title="OTT executable on Microsoft Windows in the current release is ott.bat, instead of ott.exe as in the earlier releases.">OTT Command on Microsoft Windows</a></p>
                        </li>
                     </ul>
                     <p>The following conventions are used in this section to describe OTT syntax:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Italic strings are variables or parameters to be supplied by the user.</p>
                        </li>
                        <li>
                           <p>Strings in UPPERCASE are entered as shown, except that case is not significant. </p>
                        </li>
                        <li>
                           <p>OTT keywords are listed in a lowercase monospaced font in examples and headings, but are printed in uppercase in text to make them more distinctive.</p>
                        </li>
                        <li>
                           <p>Square brackets [...] enclose optional items.</p>
                        </li>
                        <li>
                           <p>An ellipsis (...) immediately following an item (or items enclosed in brackets) means that the item can be repeated any number of times. </p>
                        </li>
                        <li>
                           <p>Punctuation symbols other than those described earlier are entered as shown. These include ".", "@", and so on.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNOCI17071"></a><div class="props_rev_3"><a id="GUID-28F6BA69-EB47-4A4F-9A4B-AA863EC19AEF" name="GUID-28F6BA69-EB47-4A4F-9A4B-AA863EC19AEF"></a><h4 id="LNOCI-GUID-28F6BA69-EB47-4A4F-9A4B-AA863EC19AEF" class="sect4"><span class="enumeration_section">24.7.1 </span>OTT Command-Line Syntax
                  </h4>
                  <div>
                     <p>The OTT command-line interface is used when explicitly invoking OTT to translate database types into C structs. </p>
                     <div class="section">
                        <p>This is always required when you develop OCI applications that use objects. </p>
                        <p>An OTT command-line statement consists of the keyword <code class="codeph">OTT</code>, followed by a list of OTT parameters.
                        </p>
                        <p>The parameters that can appear on an OTT command-line statement are as follows:</p><pre class="oac_no_warn" dir="ltr">[userid=<span class="italic">username/password[@db_name</span>]]

[intype=<span class="italic">filename</span>]

outtype=<span class="italic">filename</span>

code=C|ANSI_C|KR_C

[hfile=<span class="italic">filename</span>]

[errtype=<span class="italic">filename</span>]

[config=<span class="italic">filename</span>]

[initfile=<span class="italic">filename</span>]

[initfunc=<span class="italic">filename</span>]

[case=SAME|LOWER|UPPER|OPPOSITE]

[schema_name=ALWAYS|IF_NEEDED|FROM_INTYPE]

[transitive=TRUE|FALSE]

[URL=<span class="italic">url</span>]</pre><div class="infoboxnote" id="GUID-28F6BA69-EB47-4A4F-9A4B-AA863EC19AEF__GUID-28123C6E-8C06-45D1-9F5C-3C831244692E">
                           <p class="notep1">Note:</p>
                           <p>Generally, the order of the parameters following the <code class="codeph">ott</code> command does not matter. Only the <code class="codeph">OUTTYPE</code> and <code class="codeph">CODE</code> parameters are always required.
                           </p>
                        </div>
                        <p>The <code class="codeph">HFILE</code> parameter is almost always used. If omitted from the command line, <code class="codeph">HFILE</code> must be specified individually for each type in the intype file. If OTT determines that a type not listed in the intype file must be translated, an error is reported. Therefore, it is safe to omit the <code class="codeph">HFILE</code> parameter only if the intype file was previously generated as an OTT outtype file.
                        </p>
                        <p>If the intype file is omitted, the entire schema is translated. The OTT parameter descriptions are described in the sections that follow.</p>
                        <p>The following is an example of an OTT command-line statement (you are prompted for the password):</p><pre class="oac_no_warn" dir="ltr">ott userid=marc intype=in.typ outtype=out.typ code=c hfile=demo.h\
   errtype=demo.tls case=lower
</pre><p>The following sections describe each of the OTT command-line parameters.</p>
                        <div class="infoboxnotealso" id="GUID-28F6BA69-EB47-4A4F-9A4B-AA863EC19AEF__GUID-8F4FCD02-95DE-4D82-8A33-9FC949886E15">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-2E2FE6E6-1CE6-47C8-9709-D4E73458BFA1" title="The USERID parameter specifies the database user name, password, and optional database name (Oracle Net Services database specification string).The INTYPE parameter specifies the name of the file from which to read the list of object type specifications. OTT translates each type in the list.The OUTTYPE parameter specifies the name of a file into which OTT writes type information for all the object data types it processes.This is the desired host language for OTT output, which is specified as CODE=C, CODE=KR_C, or CODE=ANSI_C. The INITFILE parameter specifies the name of the file where the OTT-generated initialization file is to be written.The INITFUNC parameter is only used in OCI programs.The HFILE parameter specifies the name of the include (.h) file to be generated by OTT for the declarations of types that are mentioned in the intype file but whose include files are not specified there.The CONFIG parameter specifies the name of the OTT configuration file, which lists commonly used parameter specifications. If the ERRTYPE parameter is supplied, OTT writes a listing of the intype file to the ERRTYPE file, along with all informational and error messages. This CASE parameter affects the case of certain C identifiers generated by OTT. The SCHEMA_NAMES parameter offers control in qualifying the database name of a type from the default schema with a schema name in the outtype file. The TRANSITIVE parameter takes the values TRUE (the default) or FALSE.For the URL parameter, OTT uses JDBC (Java Database Connectivity), the Java interface for connecting to the database.">OTT Parameters</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI17072"></a><div class="props_rev_3"><a id="GUID-2E2FE6E6-1CE6-47C8-9709-D4E73458BFA1" name="GUID-2E2FE6E6-1CE6-47C8-9709-D4E73458BFA1"></a><h4 id="LNOCI-GUID-2E2FE6E6-1CE6-47C8-9709-D4E73458BFA1" class="sect4"><span class="enumeration_section">24.7.2 </span>OTT Parameters
                  </h4>
                  <div>
                     <div class="section">
                        <p>Enter parameters on the OTT command line using the following format:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">parameter</span>=<span class="italic">value</span>
</pre><p>In this format, <code class="codeph">parameter</code> is the literal parameter string and <code class="codeph">value</code> is a valid parameter setting. The literal parameter string is not case-sensitive.
                        </p>
                        <p>Separate command-line parameters by using either spaces or tabs.</p>
                        <p>Parameters can also appear within a configuration file, but, in that case, no whitespace is permitted within a line, and each parameter must appear on a separate line. Additionally, the parameters <code class="codeph">CASE,</code> <code class="codeph">HFILE,INITFUNC</code>, and <code class="codeph">INITFILE</code> can appear in the intype file.
                        </p>
                        <div class="p">This section includes the following OTT parameters:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-FE662479-DBB7-483C-8C0D-C3145FD74ED3" title="The USERID parameter specifies the database user name, password, and optional database name (Oracle Net Services database specification string).">USERID</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-19FD7F51-D387-4B70-A990-BBBE8F623FF5" title="The INTYPE parameter specifies the name of the file from which to read the list of object type specifications. OTT translates each type in the list.">INTYPE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-9847A850-7F84-475F-8133-C85EC228F994" title="The OUTTYPE parameter specifies the name of a file into which OTT writes type information for all the object data types it processes.">OUTTYPE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-9A7D4CF9-47A6-46EE-84B6-0F9C2E7C897F" title="This is the desired host language for OTT output, which is specified as CODE=C, CODE=KR_C, or CODE=ANSI_C.">CODE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-11A774DB-FB73-42C6-8415-930DE6FF3FEB" title="The INITFILE parameter specifies the name of the file where the OTT-generated initialization file is to be written.">INITFILE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-FBBE6A39-6C17-4E47-BEA8-E9465E8BB74A" title="The INITFUNC parameter is only used in OCI programs.">INITFUNC</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-5EAEA505-DA90-4F7D-BD27-8C2826AE2EE1" title="The HFILE parameter specifies the name of the include (.h) file to be generated by OTT for the declarations of types that are mentioned in the intype file but whose include files are not specified there.">HFILE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-771EE821-4D7B-4101-8FA4-4A251800F725" title="The CONFIG parameter specifies the name of the OTT configuration file, which lists commonly used parameter specifications.">CONFIG</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-D2586D15-D06B-4D43-9780-1E135BE09EBF" title="If the ERRTYPE parameter is supplied, OTT writes a listing of the intype file to the ERRTYPE file, along with all informational and error messages.">ERRTYPE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-DCB134A7-4A0F-4C91-AE55-6C05959AA60D" title="This CASE parameter affects the case of certain C identifiers generated by OTT.">CASE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-C585DAE6-D764-4986-A906-5CC3A2E1DAC5" title="The SCHEMA_NAMES parameter offers control in qualifying the database name of a type from the default schema with a schema name in the outtype file.">SCHEMA_NAMES</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-D52FC80C-CA51-4638-AEB8-8F112982DB31" title="The TRANSITIVE parameter takes the values TRUE (the default) or FALSE.">TRANSITIVE</a></p>
                              </li>
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-FCB30650-BB50-4279-B8D8-ACFD7DB056E9" title="For the URL parameter, OTT uses JDBC (Java Database Connectivity), the Java interface for connecting to the database.">URL</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI17073"></a><div class="props_rev_3"><a id="GUID-FE662479-DBB7-483C-8C0D-C3145FD74ED3" name="GUID-FE662479-DBB7-483C-8C0D-C3145FD74ED3"></a><h5 id="LNOCI-GUID-FE662479-DBB7-483C-8C0D-C3145FD74ED3" class="sect5"><span class="enumeration_section">24.7.2.1 </span>USERID
                     </h5>
                     <div>
                        <p>The <code class="codeph">USERID</code> parameter specifies the database user name, password, and optional database name (Oracle Net Services database specification string).
                        </p>
                        <div class="section">
                           <p> If the database name is omitted, the default database is assumed. The syntax of this parameter is:</p><pre class="oac_no_warn" dir="ltr">userid=<span class="italic">username/password[@db_name]</span>
</pre><p>The <code class="codeph">USERID</code> parameter is optional. If it is omitted, OTT automatically attempts to connect to the default database as user <code class="codeph">OPS$username</code>, where <code class="codeph">username</code> is the user's operating system user name. If this is the first parameter, "<code class="codeph">USERID=</code>" and the password and the database name can be omitted, as shown here:
                           </p><pre class="oac_no_warn" dir="ltr">ott <span class="italic">username ...</span>
</pre><p>For security purposes, when you enter only the user name you are prompted for the rest of the entry.</p>
                           <p>The <code class="codeph">username</code> and <code class="codeph">db_name</code> (schema name) combination is appended and used as a key in the <code class="codeph">OCIContextGetValue()</code> call, which supports a maximum length of 64 bytes in Oracle Database 12<span class="italic">c</span> Release 1 (12.1). In Oracle Database 12<span class="italic">c</span> Release 2 (12.2) this max length is extended to support 243 bytes, not including 1 character for the period (.).
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17074"></a><div class="props_rev_3"><a id="GUID-19FD7F51-D387-4B70-A990-BBBE8F623FF5" name="GUID-19FD7F51-D387-4B70-A990-BBBE8F623FF5"></a><h5 id="LNOCI-GUID-19FD7F51-D387-4B70-A990-BBBE8F623FF5" class="sect5"><span class="enumeration_section">24.7.2.2 </span>INTYPE
                     </h5>
                     <div>
                        <p>The <code class="codeph">INTYPE</code> parameter specifies the name of the file from which to read the list of object type specifications. OTT translates each type in the list.
                        </p>
                        <div class="section">
                           <p>The syntax for this parameter is</p><pre class="oac_no_warn" dir="ltr">intype=<span class="italic">filename</span>
</pre><p>"<code class="codeph">INTYPE=</code>" can be omitted if <code class="codeph">USERID</code> and <code class="codeph">INTYPE</code> are the first two parameters, in that order, and "<code class="codeph">USERID=</code>" is omitted. If the <code class="codeph">INTYPE</code> parameter is not specified, all types in the user's schema are translated.
                           </p><pre class="oac_no_warn" dir="ltr">ott <span class="italic">username filename...</span>
</pre><p>The intype file can be thought of as a makefile for type declarations. It lists the types for which C struct declarations are needed. </p>
                           <p>If the file name on the command line or in the intype file does not include an extension, an operating system-specific extension such as "<code class="codeph">TYP</code>" or "<code class="codeph">.typ</code>" is added.
                           </p>
                           <div class="infoboxnotealso" id="GUID-19FD7F51-D387-4B70-A990-BBBE8F623FF5__GUID-EF21D0CB-AB43-49C7-B4F0-2AAF658E6B5A">
                              <p class="notep1">See Also:</p>
                              <p> <a href="using-object-type-translator-in-oci.html#GUID-B4E872F1-7FF7-4E44-9480-56FF8567708C" title="The intype and outtype files list the types translated by OTT, and provide all the information needed to determine how a type or attribute name is translated to a legal C identifier.">Structure of the Intype File</a> for a description of the format of the intype file
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17075"></a><div class="props_rev_3"><a id="GUID-9847A850-7F84-475F-8133-C85EC228F994" name="GUID-9847A850-7F84-475F-8133-C85EC228F994"></a><h5 id="LNOCI-GUID-9847A850-7F84-475F-8133-C85EC228F994" class="sect5"><span class="enumeration_section">24.7.2.3 </span>OUTTYPE
                     </h5>
                     <div>
                        <p>The <code class="codeph">OUTTYPE</code> parameter specifies the name of a file into which OTT writes type information for all the object data types it processes.
                        </p>
                        <div class="section">
                           <p>This includes all types explicitly named in the intype file, and can include additional types that are translated because they are used in the declarations of other types that must be translated (if <code class="codeph">TRANSITIVE=TRUE</code>). This file must be used as an intype file in a future invocation of OTT.
                           </p><pre class="oac_no_warn" dir="ltr">outtype=<span class="italic">filename</span>
</pre><p>If the <code class="codeph">INTYPE</code> and <code class="codeph">OUTTYPE</code> parameters refer to the same file, the new <code class="codeph">INTYPE</code> parameter information replaces the old information in the intype file. This provides a convenient way for the same intype file to be used repeatedly in the cycle of altering types, generating type declarations, editing source code, precompiling, compiling, and debugging.
                           </p>
                           <p>The parameter <code class="codeph">OUTTYPE</code> must be specified.
                           </p>
                           <p>If the file name on the command line or in the outtype file does not include an extension, an operating system-specific extension such as "<code class="codeph">TYP</code>" or "<code class="codeph">.typ</code>" is added.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17076"></a><div class="props_rev_3"><a id="GUID-9A7D4CF9-47A6-46EE-84B6-0F9C2E7C897F" name="GUID-9A7D4CF9-47A6-46EE-84B6-0F9C2E7C897F"></a><h5 id="LNOCI-GUID-9A7D4CF9-47A6-46EE-84B6-0F9C2E7C897F" class="sect5"><span class="enumeration_section">24.7.2.4 </span>CODE
                     </h5>
                     <div>
                        <p>This is the desired host language for OTT output, which is specified as <code class="codeph">CODE=C, CODE=KR_C,</code> or <code class="codeph">CODE=ANSI_C</code>. 
                        </p>
                        <div class="section">
                           <p>"<code class="codeph">CODE=C</code>" is equivalent to "<code class="codeph">CODE=ANSI_C</code>".
                           </p><pre class="oac_no_warn" dir="ltr">CODE<code class="codeph">=</code>C|KR_C|ANSI_C
</pre><p>There is no default value for this parameter; it must be supplied.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17077"></a><div class="props_rev_3"><a id="GUID-11A774DB-FB73-42C6-8415-930DE6FF3FEB" name="GUID-11A774DB-FB73-42C6-8415-930DE6FF3FEB"></a><h5 id="LNOCI-GUID-11A774DB-FB73-42C6-8415-930DE6FF3FEB" class="sect5"><span class="enumeration_section">24.7.2.5 </span>INITFILE
                     </h5>
                     <div>
                        <p>The <code class="codeph">INITFILE</code> parameter specifies the name of the file where the OTT-generated initialization file is to be written.
                        </p>
                        <div class="section">
                           <p> The initialization function is not generated if this parameter is omitted.</p>
                           <p>For Pro*C/C++ programs, the <code class="codeph">INITFILE</code> is not necessary, because the SQLLIB runtime library performs the necessary initializations. An OCI program user must compile and link the <code class="codeph">INITFILE</code> files, and must call the initialization file functions when an environment handle is created.
                           </p>
                           <p>If the file name of an <code class="codeph">INITFILE</code> on the command line or in the intype file does not include an extension, an operating system-specific extension such as "<code class="codeph">C</code>" or "<code class="codeph">.c</code>" is added.
                           </p><pre class="oac_no_warn" dir="ltr">initfile=<span class="italic">filename</span></pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17078"></a><div class="props_rev_3"><a id="GUID-FBBE6A39-6C17-4E47-BEA8-E9465E8BB74A" name="GUID-FBBE6A39-6C17-4E47-BEA8-E9465E8BB74A"></a><h5 id="LNOCI-GUID-FBBE6A39-6C17-4E47-BEA8-E9465E8BB74A" class="sect5"><span class="enumeration_section">24.7.2.6 </span>INITFUNC
                     </h5>
                     <div>
                        <p>The <code class="codeph">INITFUNC</code> parameter is only used in OCI programs.
                        </p>
                        <div class="section">
                           <p>It specifies the name of the initialization function generated by OTT. If this parameter is omitted, the name of the initialization function is derived from the name of the <code class="codeph">INITFILE</code>.
                           </p><pre class="oac_no_warn" dir="ltr">initfunc=<span class="italic">filename</span></pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17079"></a><div class="props_rev_3"><a id="GUID-5EAEA505-DA90-4F7D-BD27-8C2826AE2EE1" name="GUID-5EAEA505-DA90-4F7D-BD27-8C2826AE2EE1"></a><h5 id="LNOCI-GUID-5EAEA505-DA90-4F7D-BD27-8C2826AE2EE1" class="sect5"><span class="enumeration_section">24.7.2.7 </span>HFILE
                     </h5>
                     <div>
                        <p>The <code class="codeph">HFILE</code> parameter specifies the name of the include (<code class="codeph">.h</code>) file to be generated by OTT for the declarations of types that are mentioned in the intype file but whose include files are not specified there.
                        </p>
                        <div class="section">
                           <p>This parameter is required unless the include file for each type is specified individually in the intype file. This parameter is also required if a type not mentioned in the intype file must be generated because other types require it, and these other types are declared in two or more different files, and <code class="codeph">TRANSITIVE=TRUE</code>.
                           </p>
                           <p>If the file name of an <code class="codeph">HFILE</code> on the command line or in the intype file does not include an extension, an operating system-specific extension such as "<code class="codeph">H</code>" or "<code class="codeph">.h</code>" is added.
                           </p><pre class="oac_no_warn" dir="ltr">hfile=<span class="italic">filename</span></pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17080"></a><div class="props_rev_3"><a id="GUID-771EE821-4D7B-4101-8FA4-4A251800F725" name="GUID-771EE821-4D7B-4101-8FA4-4A251800F725"></a><h5 id="LNOCI-GUID-771EE821-4D7B-4101-8FA4-4A251800F725" class="sect5"><span class="enumeration_section">24.7.2.8 </span>CONFIG
                     </h5>
                     <div>
                        <p>The <code class="codeph">CONFIG</code> parameter specifies the name of the OTT configuration file, which lists commonly used parameter specifications. 
                        </p>
                        <div class="section">
                           <p>Parameter specifications are also read from a system configuration file in an operating system-dependent location. All remaining parameter specifications must appear on the command line, or in the intype file.</p><pre class="oac_no_warn" dir="ltr">config=<span class="italic">filename</span> </pre><div class="infoboxnote" id="GUID-771EE821-4D7B-4101-8FA4-4A251800F725__GUID-DAD2C3E5-E5D0-483B-A703-A1E2938FA158">
                              <p class="notep1">Note:</p>
                              <p>A <code class="codeph">CONFIG</code> parameter is not allowed in the <code class="codeph">CONFIG</code> file.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17081"></a><div class="props_rev_3"><a id="GUID-D2586D15-D06B-4D43-9780-1E135BE09EBF" name="GUID-D2586D15-D06B-4D43-9780-1E135BE09EBF"></a><h5 id="LNOCI-GUID-D2586D15-D06B-4D43-9780-1E135BE09EBF" class="sect5"><span class="enumeration_section">24.7.2.9 </span>ERRTYPE
                     </h5>
                     <div>
                        <p>If the <code class="codeph">ERRTYPE</code> parameter is supplied, OTT writes a listing of the intype file to the <code class="codeph">ERRTYPE</code> file, along with all informational and error messages. 
                        </p>
                        <div class="section">
                           <p>Informational and error messages are sent to the standard output whether <code class="codeph">ERRTYPE</code> parameter is specified or not.
                           </p>
                           <p>Essentially, the <code class="codeph">ERRTYPE</code> file is a copy of the intype file with error messages added. In most cases, an error message includes a pointer to the text that caused the error.
                           </p>
                           <p>If the file name of an <code class="codeph">ERRTYPE</code> on the command line or in the intype file does not include an extension, an operating system-specific extension such as "<code class="codeph">TLS</code>" or "<code class="codeph">.tls</code>" is added.
                           </p><pre class="oac_no_warn" dir="ltr">errtype=<span class="italic">filename</span></pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17082"></a><div class="props_rev_3"><a id="GUID-DCB134A7-4A0F-4C91-AE55-6C05959AA60D" name="GUID-DCB134A7-4A0F-4C91-AE55-6C05959AA60D"></a><h5 id="LNOCI-GUID-DCB134A7-4A0F-4C91-AE55-6C05959AA60D" class="sect5"><span class="enumeration_section">24.7.2.10 </span>CASE
                     </h5>
                     <div>
                        <p>This <code class="codeph">CASE</code> parameter affects the case of certain C identifiers generated by OTT. 
                        </p>
                        <div class="section">
                           <p>The possible values of <code class="codeph">CASE</code> are <code class="codeph">SAME, LOWER, UPPER</code>, and <code class="codeph">OPPOSITE</code>. If <code class="codeph">CASE = SAME</code>, the case of letters is not changed when converting database type and attribute names to C identifiers. If <code class="codeph">CASE=LOWER</code>, all uppercase letters are converted to lowercase. If <code class="codeph">CASE=UPPER</code>, all lowercase letters are converted to uppercase. If <code class="codeph">CASE=OPPOSITE</code>, all uppercase letters are converted to lowercase, and vice versa.
                           </p><pre class="oac_no_warn" dir="ltr">CASE=[SAME|LOWER|UPPER|OPPOSITE]
</pre><p>This option affects only those identifiers (attributes or types not explicitly listed) not mentioned in the intype file. Case conversion occurs after a legal identifier has been generated.</p>
                           <p>Note that the case of the C struct identifier for a type specifically mentioned in the <code class="codeph">INTYPE</code> parameter option is the same as its case in the intype file. For example, if the intype file includes the following line:
                           </p><pre class="oac_no_warn" dir="ltr">TYPE Worker
</pre><p>Then OTT generates the following line:</p><pre class="oac_no_warn" dir="ltr">struct Worker {...};
</pre><p>However, suppose that the intype file is written as follows:</p><pre class="oac_no_warn" dir="ltr">TYPE wOrKeR
</pre><p>Then OTT generates the following line, following the case specified in the intype file.</p><pre class="oac_no_warn" dir="ltr">struct wOrKeR {...};
</pre><p>Case-insensitive SQL identifiers not mentioned in the intype file appear in uppercase if <code class="codeph">CASE=SAME</code>, and in lowercase if <code class="codeph">CASE=OPPOSITE</code>. A SQL identifier is case-insensitive if it was not enclosed in quotation marks when it was declared.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17083"></a><div class="props_rev_3"><a id="GUID-C585DAE6-D764-4986-A906-5CC3A2E1DAC5" name="GUID-C585DAE6-D764-4986-A906-5CC3A2E1DAC5"></a><h5 id="LNOCI-GUID-C585DAE6-D764-4986-A906-5CC3A2E1DAC5" class="sect5"><span class="enumeration_section">24.7.2.11 </span>SCHEMA_NAMES
                     </h5>
                     <div>
                        <p>The <code class="codeph">SCHEMA_NAMES</code> parameter offers control in qualifying the database name of a type from the default schema with a schema name in the outtype file. 
                        </p>
                        <div class="section">
                           <p>The outtype file generated by OTT contains information about the types processed by OTT, including the type names.</p>
                           <div class="infoboxnotealso" id="GUID-C585DAE6-D764-4986-A906-5CC3A2E1DAC5__GUID-63E5382F-0255-4F89-8A94-E92D951F7708">
                              <p class="notep1">See Also:</p>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-43ADCF30-F829-4E8A-BB24-EC31A372CED6" title="The SCHEMA_NAMES parameter affects whether the name of a type from the default schema to which OTT is connected is qualified with a schema name in the outtype file.">SCHEMA_NAMES Usage</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17084"></a><div class="props_rev_3"><a id="GUID-D52FC80C-CA51-4638-AEB8-8F112982DB31" name="GUID-D52FC80C-CA51-4638-AEB8-8F112982DB31"></a><h5 id="LNOCI-GUID-D52FC80C-CA51-4638-AEB8-8F112982DB31" class="sect5"><span class="enumeration_section">24.7.2.12 </span>TRANSITIVE
                     </h5>
                     <div>
                        <p>The <code class="codeph">TRANSITIVE</code> parameter takes the values <code class="codeph">TRUE</code> (the default) or <code class="codeph">FALSE</code>.
                        </p>
                        <div class="section">
                           <p>It indicates whether type dependencies not explicitly listed in the intype file are to be translated or not.</p>
                           <p>If <code class="codeph">TRANSITIVE=TRUE</code> is specified, then types needed by other types but not mentioned in the intype file are generated.
                           </p>
                           <p>If <code class="codeph">TRANSITIVE=FALSE</code> is specified, then types not mentioned in the intype file are not generated, even if they were used as attribute types of other generated types.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI17085"></a><div class="props_rev_3"><a id="GUID-FCB30650-BB50-4279-B8D8-ACFD7DB056E9" name="GUID-FCB30650-BB50-4279-B8D8-ACFD7DB056E9"></a><h5 id="LNOCI-GUID-FCB30650-BB50-4279-B8D8-ACFD7DB056E9" class="sect5"><span class="enumeration_section">24.7.2.13 </span>URL
                     </h5>
                     <div>
                        <p>For the <code class="codeph">URL</code> parameter, OTT uses JDBC (Java Database Connectivity), the Java interface for connecting to the database. 
                        </p>
                        <div class="section">
                           <p>The default value of parameter <code class="codeph">URL</code> is:
                           </p><pre class="oac_no_warn" dir="ltr"><code class="codeph">URL</code>=<code class="codeph">jdbc:oracle:oci8:@</code>
</pre><p>The OCI8 driver is for client-side use with an Oracle Database installation. </p>
                           <p>To specify the JDBC Thin driver (the Java driver for client-side use without an Oracle Database installation), use the following <code class="codeph">URL</code> parameter syntax:
                           </p><pre class="oac_no_warn" dir="ltr">URL=jdbc:oracle:thin:@<span class="italic">host:port:sid</span>
</pre><p>The <code class="codeph">host</code> is the name of the host on which the database is running, <code class="codeph">port</code> is the port number, and <code class="codeph">sid</code> is the Oracle SID.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNOCI17086"></a><div class="props_rev_3"><a id="GUID-F440AB66-21CA-4199-B6C4-3E2020AE81C9" name="GUID-F440AB66-21CA-4199-B6C4-3E2020AE81C9"></a><h4 id="LNOCI-GUID-F440AB66-21CA-4199-B6C4-3E2020AE81C9" class="sect4"><span class="enumeration_section">24.7.3 </span>Where OTT Parameters Can Appear
                  </h4>
                  <div>
                     <p>OTT parameters can appear on the command line, in a <code class="codeph">CONFIG</code> file named on the command line, or both.
                     </p>
                     <div class="section">
                        <p>Some parameters are also allowed in the intype file.</p>
                        <p>OTT is invoked as follows:</p><pre class="oac_no_warn" dir="ltr">ott <span class="italic">username</span>/<span class="italic">password</span> parameters
</pre><p>If one of the parameters on the command line is the following, then additional parameters are read from the configuration file <code class="codeph">filename</code>:
                        </p><pre class="oac_no_warn" dir="ltr">config=<span class="italic">filename</span>
</pre><p>In addition, parameters are also read from a default configuration file in an operating system-dependent location. This file must exist, but can be empty. Parameters in a configuration file must appear one in each line, with no whitespace on the line.</p>
                        <p>If OTT is executed without any arguments, an online parameter reference is displayed.</p>
                        <p>The types for OTT to translate are named in the file specified by the <code class="codeph">INTYPE</code> parameter. The parameters <code class="codeph">CASE, INITFILE, INITFUNC</code>, and <code class="codeph">HFILE</code> can also appear in the intype file. The outtype files generated by OTT include the <code class="codeph">CASE</code> parameter, and include the <code class="codeph">INITFILE</code>, and <code class="codeph">INITFUNC</code> parameters if an initialization file was generated. The outtype file specifies the <code class="codeph">HFILE</code> individually for each type.
                        </p>
                        <p>The case of the OTT command is operating system-dependent.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI17087"></a><div class="props_rev_3"><a id="GUID-B4E872F1-7FF7-4E44-9480-56FF8567708C" name="GUID-B4E872F1-7FF7-4E44-9480-56FF8567708C"></a><h4 id="LNOCI-GUID-B4E872F1-7FF7-4E44-9480-56FF8567708C" class="sect4"><span class="enumeration_section">24.7.4 </span>Structure of the Intype File
                  </h4>
                  <div>
                     <p>The intype and outtype files list the types translated by OTT, and provide all the information needed to determine how a type or attribute name is translated to a legal C identifier. </p>
                     <div class="section">
                        <p>These files contain one or more type specifications. These files also can contain specifications of the following options:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">HFILE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INITFILE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INITFUNC</code></p>
                           </li>
                        </ul>
                        <p>If the <code class="codeph">CASE, INITFILE</code>, or <code class="codeph">INITFUNC</code> options are present, they must precede any type specifications. If these options appear both on the command line and in the intype file, the value on the command line is used.
                        </p>
                        <p>This section includes the following topic: <a href="using-object-type-translator-in-oci.html#GUID-73D009AC-93E6-4207-AC85-5950BB09F901" title="A type specification in the intype file names an object data type that is to be translated.">Intype File Type Specifications</a>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B4E872F1-7FF7-4E44-9480-56FF8567708C__GUID-1041F5C0-49D4-4F9E-830D-21A3171FAD3E">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-77133295-EB6F-4B0D-81BE-2B7C117123A0" title="The outtype file is named on the OTT command line.">Outtype File</a> for an example of a simple user-defined intype file, and of the full outtype file that OTT generates from it 
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI17088"></a><div class="props_rev_3"><a id="GUID-73D009AC-93E6-4207-AC85-5950BB09F901" name="GUID-73D009AC-93E6-4207-AC85-5950BB09F901"></a><h5 id="LNOCI-GUID-73D009AC-93E6-4207-AC85-5950BB09F901" class="sect5"><span class="enumeration_section">24.7.4.1 </span>Intype File Type Specifications
                     </h5>
                     <div>
                        <p>A type specification in the intype file names an object data type that is to be translated. </p>
                        <div class="section">
                           <p>A type specification in the outtype file names an object data type that has been translated.</p><pre class="oac_no_warn" dir="ltr">TYPE employee
  TRANSLATE SALARY$ AS salary
            DEPTNO AS department
TYPE ADDRESS
TYPE PURCHASE_ORDER AS p_o
</pre><p>The structure of a type specification is as follows, where [] indicates optional inputs inside:</p><pre class="oac_no_warn" dir="ltr">TYPE <span class="italic">type_name</span> [AS <span class="italic">type_identifier</span>]
[VERSION [=] <span class="italic">version_string</span>]
[HFILE [=] <span class="italic">hfile_name</span>]
[TRANSLATE{<span class="italic">member_name</span> [AS <span class="italic">identifier</span>]}...]
</pre><p>The syntax of <code class="codeph">type_name</code> is:
                           </p><pre class="oac_no_warn" dir="ltr">[<span class="italic">schema_name</span>.]<span class="italic">type_name</span>
</pre><p>The <code class="codeph">schema_name</code> is the name of the schema that owns the given object data type, and <code class="codeph">type_name</code> is the name of the type. The default schema is that of the user running OTT. The default database is the local database.
                           </p>
                           <p>The components of a type specification are described as follows:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">type_name</code> is the name of an Oracle Database object data type.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">type_identifier</code> is the C identifier used to represent the type. If <code class="codeph">type_identifier</code> is omitted, the default name mapping algorithm is used.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">version_string</code> is the version string of the type that was used when the code was generated by a previous invocation of OTT. The version string is generated by OTT and written to the outtype file, which can be used as the intype file when OTT is executed later. The version string does not affect the operation of OTT, but is eventually used to select the version of the object data type that should be used in the running program.
                                 </p>
                              </li>
                           </ul>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">hfile_name</code> is the name of the header file in which the declarations of the corresponding struct or class appear. If <code class="codeph">hfile_name</code> is omitted, the file named by the command-line <code class="codeph">HFILE</code> parameter is used if a declaration is generated.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">member_name</code> is the name of an attribute (data member) that is to be translated to the <code class="codeph">identifier</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">identifier</code> is the C identifier used to represent the attribute in the user program. Identifiers can be specified in this way for any number of attributes. The default name mapping algorithm is used for the attributes that are not mentioned.
                                 </p>
                              </li>
                           </ul>
                           <p>An object data type may need to be translated for one of two reasons:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>It appears in the intype file.</p>
                              </li>
                              <li>
                                 <p>It is required to declare another type that must be translated, and <code class="codeph">TRANSITIVE=TRUE</code>.
                                 </p>
                              </li>
                           </ul>
                           <p>If a type that is not mentioned explicitly is required by types declared in exactly one file, OTT writes the translation of the required type to the same file or files as the explicitly declared types that require it.</p>
                           <p>If a type that is not mentioned explicitly is required by types declared in two or more different files, OTT writes the translation of the required type to the global <code class="codeph">HFILE</code> file.
                           </p>
                           <div class="infoboxnotealso" id="GUID-73D009AC-93E6-4207-AC85-5950BB09F901__GUID-54AB980B-8F85-4FE9-88AC-3DE0094DF17D">
                              <p class="notep1">See Also:</p>
                              <p><a href="using-object-type-translator-in-oci.html#GUID-21CFD247-6655-4F3F-8322-E4344BF20318" title="When OTT creates a C identifier name for an object type or attribute, it translates the name from the database character set to a legal C identifier.">Default Name Mapping</a> for more information about naming the intype file related to the <code class="codeph">version_string</code> component.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNOCI72790"></a><a id="LNOCI72791"></a><a id="LNOCI72792"></a><a id="LNOCI72793"></a><a id="LNOCI72794"></a><a id="LNOCI72795"></a><a id="LNOCI17089"></a><div class="props_rev_3"><a id="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582" name="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582"></a><h4 id="LNOCI-GUID-78BE8A56-DD08-42EF-8005-4A7923F84582" class="sect4"><span class="enumeration_section">24.7.5 </span>Nested Included File Generation
                  </h4>
                  <div>
                     <p>Every <code class="codeph">HFILE</code> generated by OTT uses <code class="codeph">#include</code> directives to include other necessary files and <code class="codeph">#define</code> directives to define a symbol constructed from the name of the file, which can be used to determine if the <code class="codeph">HFILE</code> has been included. 
                     </p>
                     <div class="section">
                        <p>Consider, for example, a database with the types shown in <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHEJEGB">Example 24-18</a>.
                        </p>
                        <p>The intype file content is shown in <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHDHGCG">Example 24-19</a>.
                        </p>
                        <p>If you invoke OTT with the command shown in <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHEIIFH">Example 24-20</a>, then it generates the header files shown in <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHGGFJH">Example 24-21</a> and <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHGFIEC">Example 24-22</a>.
                        </p>
                        <p>The content of the header file <code class="codeph">tott95b.h</code> is shown in <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHGGFJH">Example 24-21</a>.
                        </p>
                        <p>The content of the header file tott95a.h is shown in <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHGFIEC">Example 24-22</a>.
                        </p>
                        <p>In <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHGGFJH">Example 24-21</a>, the symbol <code class="codeph">TOTT95B_ORACLE</code> is defined first so that the programmer can conditionally include <code class="codeph">tott95b.h</code> without having to worry whether <code class="codeph">tott95b.h</code> depends on the include file using the construct, as shown in <a href="using-object-type-translator-in-oci.html#GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHEDJIA">Example 24-23</a>.
                        </p>
                        <p>Using this technique, the programmer can include <code class="codeph">tott95b.h</code> from some file, say <code class="codeph">foo.h</code>, without having to know whether some other file included by <code class="codeph">foo.h</code> also includes <code class="codeph">tott95b.h</code>.
                        </p>
                        <p>After the definition of the symbol <code class="codeph">TOTT95B_ORACLE</code>, the file <code class="codeph">oci.h</code> is included. Every <code class="codeph">HFILE</code> generated by OTT includes <code class="codeph">oci.h</code>, which contains type and function declarations that the Pro*C/C++ or OCI programmer can use. This is the only case in which OTT uses angle brackets in an <code class="codeph">#include</code> directive.
                        </p>
                        <p>Next, the file <code class="codeph">tott95a.h</code> is included. This file is included because it contains the declaration of "<code class="codeph">struct px1</code>", which<code class="codeph"> tott95b.h</code> requires. When the user's intype file requests that type declarations be written to more than one file, OTT determines which other files each <code class="codeph">HFILE</code> must include, and generates the necessary <code class="codeph">#includes</code> directives.
                        </p>
                        <p>Note that OTT uses quotation marks in this <code class="codeph">#include</code> directive. When a program including <code class="codeph">tott95b.h</code> is compiled, the search for <code class="codeph">tott95a.h</code> begins where the source program was found, and thereafter follows an implementation-defined search rule. If <code class="codeph">tott95a.h</code> cannot be found in this way, a complete file name (for example, a Linux or UNIX absolute path name beginning with /) should be used in the intype file to specify the location of <code class="codeph">tott95a.h</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHEJEGB">
                        <p class="titleinexample">Example 24-18 Object Type Definition to Demonstrate How OTT Generates Include Files</p><pre class="oac_no_warn" dir="ltr">create type px1 AS OBJECT (col1 number, col2 integer);
create type px2 AS OBJECT (col1 px1);
create type px3 AS OBJECT (col1 px1);
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHDHGCG">
                        <p class="titleinexample">Example 24-19 Content of the Intype File</p><pre class="oac_no_warn" dir="ltr">CASE=lower
type pxl
  hfile tott95a.h
type px3
  hfile tott95b.h
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHEIIFH">
                        <p class="titleinexample">Example 24-20 Invoking OTT from the Command Line </p><pre class="oac_no_warn" dir="ltr">ott scott tott95i.typ outtype=tott95o.typ code=c
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHGGFJH">
                        <p class="titleinexample">Example 24-21 Content of the Header File tott95b.h</p><pre class="oac_no_warn" dir="ltr">#ifndef TOTT95B_ORACLE
#define TOTT95B_ORACLE
#ifndef OCI_ORACLE
#include &lt;oci.h&gt;
#endif
#ifndef TOTT95A_ORACLE
#include "tott95a.h"
#endif
typedef OCIRef px3_ref;
struct px3
{
   struct px1 col1;
};
typedef struct px3 px3;
struct px3_ind
{
   OCIInd _atomic;
   struct px1_ind col1
};
typedef struct px3_ind px3_ind;
#endif
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHGFIEC">
                        <p class="titleinexample">Example 24-22 Content of the Header File tott95a.h</p><pre class="oac_no_warn" dir="ltr">#ifndef TOTT95A_ORACLE
#define TOTT95A_ORACLE
#ifndef OCI_ORACLE
#include &lt;oci.h&gt;
#endif
typedef OCIRef px1_ref;
struct px1
{
   OCINumber col1;
   OCINumber col2;
}
typedef struct px1 px1;
struct px1_ind
{
   OCIInd _atomic;
   OCIInd col1;
   OCIInd col2;
}
typedef struct px1_ind px1_ind;
#endif
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-78BE8A56-DD08-42EF-8005-4A7923F84582__CIHEDJIA">
                        <p class="titleinexample">Example 24-23 Construct to Use to Conditionally Include the Header File tott95b.h</p><pre class="oac_no_warn" dir="ltr">#ifndef TOTT95B_ORACLE
#include "tott95b.h"
#endif
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNOCI17090"></a><div class="props_rev_3"><a id="GUID-43ADCF30-F829-4E8A-BB24-EC31A372CED6" name="GUID-43ADCF30-F829-4E8A-BB24-EC31A372CED6"></a><h4 id="LNOCI-GUID-43ADCF30-F829-4E8A-BB24-EC31A372CED6" class="sect4"><span class="enumeration_section">24.7.6 </span>SCHEMA_NAMES Usage
                  </h4>
                  <div>
                     <p>The <code class="codeph">SCHEMA_NAMES</code> parameter affects whether the name of a type from the default schema to which OTT is connected is qualified with a schema name in the outtype file.
                     </p>
                     <div class="section">
                        <p>This parameter affects whether the name of a type from the default schema to which OTT is connected is qualified with a schema name in the outtype file.</p>
                        <p>The name of a type from a schema other than the default schema is always qualified with a schema name in the outtype file.</p>
                        <p>The schema name, or its absence, determines in which schema the type is found during program execution.</p>
                        <p>There are three settings:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">schema_names=ALWAYS </code>(default)
                              </p>
                              <p>All type names in the outtype file are qualified with a schema name.</p>
                           </li>
                           <li>
                              <p><code class="codeph">schema_names=IF_NEEDED</code></p>
                              <p>The type names in the outtype file that belong to the default schema are not qualified with a schema name. As always, type names belonging to other schemas are qualified with the schema name.</p>
                           </li>
                           <li>
                              <p><code class="codeph">schema_names=FROM_INTYPE</code></p>
                              <p>A type mentioned in the intype file is qualified with a schema name in the outtype file if, and only if, it was qualified with a schema name in the intype file. A type in the default schema that is not mentioned in the intype file but that must be generated because of type dependencies is written with a schema name only if the first type encountered by OTT that depends on it was written with a schema name. However, a type that is not in the default schema to which OTT is connected is always written with an explicit schema name. </p>
                           </li>
                        </ul>
                        <p>The outtype file generated by OTT is an input parameter to Pro*C/C++. From the point of view of Pro*C/C++, it is the Pro*C/C++ intype file. This file matches database type names to C struct names. This information is used at runtime to ensure that the correct database type is selected into the struct. If a type appears with a schema name in the outtype file (Pro*C/C++ intype file), the type is found in the named schema during program execution. If the type appears without a schema name, the type is found in the default schema to which the program connects, which can be different from the default schema that OTT used.</p>
                        <p>This section includes the following topic: <a href="using-object-type-translator-in-oci.html#GUID-739C795B-9AF2-4950-BEC3-A7D9E658EA17" title="Shows examples of using SCHEMA_NAMES parameter.">Example: Schema_Names Usage</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI17091"></a><div class="props_rev_3"><a id="GUID-739C795B-9AF2-4950-BEC3-A7D9E658EA17" name="GUID-739C795B-9AF2-4950-BEC3-A7D9E658EA17"></a><h5 id="LNOCI-GUID-739C795B-9AF2-4950-BEC3-A7D9E658EA17" class="sect5"><span class="enumeration_section">24.7.6.1 </span>Example: Schema_Names Usage
                     </h5>
                     <div>
                        <p>Shows examples of using <code class="codeph">SCHEMA_NAMES</code> parameter.
                        </p>
                        <p>Suppose that <code class="codeph">SCHEMA_NAMES</code> is set to <code class="codeph">FROM_INTYPE</code>, and the intype file reads as follows:
                        </p><pre class="oac_no_warn" dir="ltr">TYPE Person
TYPE david.Dept
TYPE sam.Company
</pre><p>Then the Pro*C/C++ application that uses the OTT-generated structs uses the types <code class="codeph">sam.Company</code>, <code class="codeph">david.Dept</code>, and <code class="codeph">Person</code>. Using <code class="codeph">Person</code> without a schema name refers to the <code class="codeph">Person</code> type in the schema to which the application is connected.
                        </p>
                        <p>If OTT and the application both connect to schema <code class="codeph">david</code>, the application uses the same type (<code class="codeph">david.Person</code>) that OTT used. If OTT connected to schema <code class="codeph">david</code> but the application connects to schema <code class="codeph">jana</code>, the application uses the type <code class="codeph">jana.Person</code>. This behavior is appropriate only if the same "<code class="codeph">CREATE TYPE Person</code>" statement has been executed in schema <code class="codeph">david</code> and schema <code class="codeph">jana</code>.
                        </p>
                        <p>In contrast, the application uses type <code class="codeph">david.Dept</code> regardless of to which schema the application is connected. If this is the behavior that you want, be sure to include schema names with your type names in the intype file.
                        </p>
                        <p>In some cases, OTT translates a type that the user did not explicitly name. For example, consider the following SQL declarations:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE Address AS OBJECT
( street    VARCHAR2(40),
  city      VARCHAR(30),
  state     CHAR(2),
  zip_code  CHAR(10) );

CREATE TYPE Person AS OBJECT
( name      CHAR(20),
  age       NUMBER,
  addr      ADDRESS );
</pre><p>Now suppose that OTT connects to schema <code class="codeph">david</code>, <code class="codeph">SCHEMA_NAMES=FROM_INTYPE</code> is specified, and the user's intype files include either TYPE <code class="codeph">Person</code> or TYPE <code class="codeph">david.Person</code>.
                        </p>
                        <p>However, the intype file does not mention the type <code class="codeph">david.Address</code>, which is used as a nested object type in type <code class="codeph">david.Person</code>. If "<code class="codeph">TYPE david.Person</code>" appeared in the intype file, then "<code class="codeph">TYPE david.Person</code>" and "<code class="codeph">TYPE david.Address</code>" appear in the outtype file. If "<code class="codeph">Type Person</code>" appeared in the intype file, then "<code class="codeph">TYPE Person</code>" and "<code class="codeph">TYPE Address</code>" appear in the outtype file.
                        </p>
                        <p>If the <code class="codeph">david.Address</code> type is embedded in several types translated by OTT, but is not explicitly mentioned in the intype file, the decision of whether to use a schema name is made the first time OTT encounters the embedded <code class="codeph">david.Address</code> type. If, for some reason, the user wants type <code class="codeph">david.Address</code> to have a schema name but does not want type <code class="codeph">Person</code> to have one, the user should explicitly specify the following in the intype file:
                        </p><pre class="oac_no_warn" dir="ltr">TYPE      david.Address
</pre><p>In the usual case in which each type is declared in a single schema, it is safest for the user to qualify all type names with schema names in the intype file. </p>
                     </div>
                  </div>
               </div><a id="LNOCI17092"></a><div class="props_rev_3"><a id="GUID-21CFD247-6655-4F3F-8322-E4344BF20318" name="GUID-21CFD247-6655-4F3F-8322-E4344BF20318"></a><h4 id="LNOCI-GUID-21CFD247-6655-4F3F-8322-E4344BF20318" class="sect4"><span class="enumeration_section">24.7.7 </span>Default Name Mapping
                  </h4>
                  <div>
                     <p>When OTT creates a C identifier name for an object type or attribute, it translates the name from the database character set to a legal C identifier. </p>
                     <p>First, the name is translated from the database character set to the character set used by OTT. Next, if a translation of the resulting name is supplied in the intype file, that translation is used. Otherwise, OTT translates the name character-by-character to the compiler character set, applying the <code class="codeph">CASE</code> option. The following describes this process in more detail.
                     </p>
                     <p>When OTT reads the name of a database entity, the name is automatically translated from the database character set to the character set used by OTT. In order for OTT to read the name of the database entity successfully, all the characters of the name must be found in the OTT character set, although a character can have different encodings in the two character sets. </p>
                     <p>The easiest way to guarantee that the character set used by OTT contains all the necessary characters is to make it the same as the database character set. Note, however, that the OTT character set must be a superset of the compiler character set. That is, if the compiler character set is 7-bit ASCII, the OTT character set must include 7-bit ASCII as a subset, and if the compiler character set is 7-bit EBCDIC, the OTT character set must include 7-bit EBCDIC as a subset. The user specifies the character set that OTT uses by setting the <code class="codeph">NLS_LANG</code> environment variable, or by some other operating system-specific mechanism. 
                     </p>
                     <p>Once OTT has read the name of a database entity, it translates the name from the character set used by OTT to the compiler's character set. If a translation of the name appears in the intype file, OTT uses that translation. </p>
                     <p>Otherwise, OTT attempts to translate the name by using the following steps: </p>
                     <ol>
                        <li>
                           <p>If the OTT character set is a multibyte character set, all multibyte characters in the name that have single-byte equivalents are converted to those single-byte equivalents. </p>
                        </li>
                        <li>
                           <p>The name is converted from the OTT character set to the compiler character set. The compiler character set is a single-byte character set such as US7ASCII. </p>
                        </li>
                        <li>
                           <p>The case of letters is set according to the <code class="codeph">CASE</code> option in effect, and any character that is not legal in a C identifier, or that has no translation in the compiler character set, is replaced by an underscore. If at least one character is replaced by an underscore, OTT gives a warning message. If all the characters in a name are replaced by underscores, OTT gives an error message. 
                           </p>
                        </li>
                     </ol>
                     <p>Character-by-character name translation does not alter underscores, digits, or single-byte letters that appear in the compiler character set, so legal C identifiers are not altered. </p>
                     <p>Name translation can, for example, translate accented single-byte characters such as "o" with an umlaut or "a" with an accent grave to "o" or "a", and can translate a multibyte letter to its single-byte equivalent. Name translation typically fails if the name contains multibyte characters that lack single-byte equivalents. In this case, the user must specify name translations in the intype file. </p>
                     <p>OTT does not detect a naming clash caused by two or more database identifiers being mapped to the same C name, nor does it detect a naming problem where a database identifier is mapped to a C keyword.</p>
                  </div>
               </div><a id="LNOCI17093"></a><div class="props_rev_3"><a id="GUID-6250D4A2-A45E-4CB0-8B4D-3ECC83D72C6F" name="GUID-6250D4A2-A45E-4CB0-8B4D-3ECC83D72C6F"></a><h4 id="LNOCI-GUID-6250D4A2-A45E-4CB0-8B4D-3ECC83D72C6F" class="sect4"><span class="enumeration_section">24.7.8 </span>OTT Restriction on File Name Comparison
                  </h4>
                  <div>
                     <p>Currently, OTT determines if two files are the same by comparing the file names provided by the user on the command line or in the intype file.</p>
                     <p>But one potential problem can occur when OTT needs to know if two file names refer to the same file. For example, if the OTT-generated file <code class="codeph">foo.h</code> requires a type declaration written to <code class="codeph">foo1.h</code>, and another type declaration written to <code class="codeph">/private/elias/foo1.h</code>, OTT should generate one <code class="codeph">#include</code> directive if the two files are the same, and two <code class="codeph">#includes</code> directives if the files are different. In practice, though, it would conclude that the two files are different, and would generate two <code class="codeph">#includes</code> directives, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">#ifndef FOO1_ORACLE
#include "foo1.h"
#endif
#ifndef FOO1_ORACLE
#include "/private/elias/foo1.h"
#endif
</pre><p>If <code class="codeph">foo1.h</code> and <code class="codeph">/private/elias/foo1.h</code> are different files, only the first one is included. If <code class="codeph">foo1.h</code> and <code class="codeph">/private/elias/foo1.h</code> are the same file, a redundant <code class="codeph">#include</code> directive is written.
                     </p>
                     <p>Therefore, if a file is mentioned several times on the command line or in the intype file, each mention of the file should use exactly the same file name.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-62F0809F-90E1-47BF-A005-01E48857902A" name="GUID-62F0809F-90E1-47BF-A005-01E48857902A"></a><h4 id="LNOCI-GUID-62F0809F-90E1-47BF-A005-01E48857902A" class="sect4"><span class="enumeration_section">24.7.9 </span>OTT Command on Microsoft Windows
                  </h4>
                  <div>
                     <p>OTT executable on Microsoft Windows in the current release is <code class="codeph">ott.bat</code>, instead of <code class="codeph">ott.exe</code> as in the earlier releases.
                     </p>
                     <p>This may break Windows batch scripts, as the scripts exit immediately after executing ott. To fix this problem, OTT should be invoked as follows, in Windows batch scripts:</p><pre class="oac_no_warn" dir="ltr">call ott [arguments]
</pre><div class="infoboxnote" id="GUID-62F0809F-90E1-47BF-A005-01E48857902A__GUID-B56BED8A-1A9C-4AA1-8685-24583B80CDAA">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">ORACLE_HOME\precomp\admin\ott.exe</code> can be used until the scripts are fixed, as an intermediate solution. However, this intermediate solution will not be provided in future releases.
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>