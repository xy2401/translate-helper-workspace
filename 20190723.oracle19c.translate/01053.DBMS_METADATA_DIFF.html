<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_METADATA_DIFF package contains the interfaces for comparing two metadata documents in SXML format."></meta>
      <meta name="description" content="The DBMS_METADATA_DIFF package contains the interfaces for comparing two metadata documents in SXML format."></meta>
      <title>DBMS_METADATA_DIFF</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_METADATA_DIFF package contains the interfaces for comparing two metadata documents in SXML format."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_METADATA.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_MGD_ID_UTL.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_METADATA.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_MGD_ID_UTL.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_METADATA_DIFF</li>
            </ol>
            <a id="GUID-61E3D222-163B-475F-9A33-D9307333D9ED" name="GUID-61E3D222-163B-475F-9A33-D9307333D9ED"></a><a id="ARPLS354"></a><a id="ARPLS354"></a>
            
            <h2 id="ARPLS-GUID-61E3D222-163B-475F-9A33-D9307333D9ED" class="sect2"><span class="enumeration_chapter">103</span> DBMS_METADATA_DIFF</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_METADATA_DIFF</code>包中包含用于比较SXML格式的两个元数据文档的接口。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_METADATA_DIFF.html#GUID-F6D08633-7C20-4DFC-A7F5-2063ACD8B394" title="您可以使用DBMS_METADATA_DIFF包中包含的接口来比较SXML格式的两个元数据文档。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_METADATA_DIFF.html#GUID-F3AE9677-0562-4B3C-BA8C-3D9B3ED23755" title="DBMS_METADATA_DIFF包的浏览界面实际上使用DBMS_METADATA包来获取要比较的元数据。因此，用于DBMS_METADATA的安全模型也适用于DBMS_METADATA_DIFF。 （但请注意，DBMS_METADATA_DIFF不支持所有对象类型。）">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_METADATA_DIFF.html#GUID-56A73E1B-4777-4A95-B256-B087A3241401" title="这些函数允许您通过单个调用比较两个对象的元数据。">浏览用于获取和比较对象的API</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_METADATA_DIFF.html#GUID-2265D44C-9DD7-4D4F-92C2-F8D5F5168911" title="DBMS_METADATA_DIFF子程序为不同的对象类型提供比较功能。">DBMS_METADATA_DIFF子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-61E3D222-163B-475F-9A33-D9307333D9ED__GUID-1512658E-C37D-4BFB-A9FC-3C721D414280">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../sutil/using-oracle-dbms_metadata-api.html#SUTIL-GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a>以获取更多信息以及使用<code class="codeph">DBMS_METADATA_DIFF</code>包的示例。
                  </p>
               </div>
            </div><a id="ARPLS73147"></a><a id="ARPLS73147"></a><div class="props_rev_3"><a id="GUID-F6D08633-7C20-4DFC-A7F5-2063ACD8B394" name="GUID-F6D08633-7C20-4DFC-A7F5-2063ACD8B394"></a><h3 id="ARPLS-GUID-F6D08633-7C20-4DFC-A7F5-2063ACD8B394" class="sect3"><span class="enumeration_section">103.1</span> DBMS_METADATA_DIFF概述</h3>
               <div>
                  <p>您可以使用<code class="codeph">DBMS_METADATA_DIFF</code>包中包含的接口来比较SXML格式的两个元数据文档。
                  </p>
                  <div class="section">
                     <p>比较的结果是SXML差异文档。可以使用<code class="codeph">DBMS_METADATA</code>提交界面和<code class="codeph">CONVERT</code> API将此文档转换为其他格式。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73148"></a><a id="ARPLS73148"></a><div class="props_rev_3"><a id="GUID-F3AE9677-0562-4B3C-BA8C-3D9B3ED23755" name="GUID-F3AE9677-0562-4B3C-BA8C-3D9B3ED23755"></a><h3 id="ARPLS-GUID-F3AE9677-0562-4B3C-BA8C-3D9B3ED23755" class="sect3"><span class="enumeration_section">103.2</span> DBMS_METADATA_DIFF安全模型</h3>
               <div>
                  <p><code class="codeph">DBMS_METADATA_DIFF</code>包的浏览界面实际上使用<code class="codeph">DBMS_METADATA</code>包来获取要比较的元数据。因此，用于<code class="codeph">DBMS_METADATA</code>的安全模型也适用于<code class="codeph">DBMS_METADATA_DIFF</code> 。 （但请注意， <code class="codeph">DBMS_METADATA_DIFF</code>不支持所有对象类型。）
                  </p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F3AE9677-0562-4B3C-BA8C-3D9B3ED23755__GUID-8ADE7503-4735-42F9-A980-02A550BA6EEC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="DBMS_METADATA.html#GUID-F72B5833-C14E-4713-A588-6BDF4D4CBA2A" title="DBMS_METADATA包提供了一种方法，您可以从数据库字典中检索元数据作为XML或创建DDL，并提交XML以重新创建对象。">DBMS_METADATA</a>有关DBMS_METADATA安全模型的信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS66915"></a><a id="ARPLS66916"></a><a id="ARPLS66916"></a><a id="ARPLS66915"></a><div class="props_rev_3"><a id="GUID-56A73E1B-4777-4A95-B256-B087A3241401" name="GUID-56A73E1B-4777-4A95-B256-B087A3241401"></a><h3 id="ARPLS-GUID-56A73E1B-4777-4A95-B256-B087A3241401" class="sect3"><span class="enumeration_section">103.3</span> DBMS_METADATA_DIFF  - 浏览用于获取和比较对象的API</h3>
               <div>
                  <p>这些函数允许您通过单个调用比较两个对象的元数据。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-56A73E1B-4777-4A95-B256-B087A3241401__GUID-78E065EF-4F65-4EDC-BE3A-CADE4FA7677E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_METADATA_DIFF.COMPARE_SXML（object_type IN VARCHAR2，name1 IN VARCHAR2，name2 IN VARCHAR2，schema1 IN VARCHAR2 DEFAULT NULL，schema2 IN VARCHAR2 DEFAULT NULL，network_link1 IN VARCHAR2 DEFAULT NULL，network_link2 IN VARCHAR2 DEFAULT NULL）RETURN CLOB; DBMS_METADATA_DIFF.COMPARE_ALTER（object_type IN VARCHAR2，name1 IN VARCHAR2，name2 IN VARCHAR2，schema1 IN VARCHAR2 DEFAULT NULL，schema2 IN VARCHAR2 DEFAULT NULL，network_link1 IN VARCHAR2 DEFAULT NULL，network_link2 IN VARCHAR2 DEFAULT NULL）RETURN CLOB; DBMS_METADATA_DIFF.COMPARE_ALTER_XML（object_type IN VARCHAR2，name1 IN VARCHAR2，name2 IN VARCHAR2，schema1 IN VARCHAR2 DEFAULT NULL，schema2 IN VARCHAR2 DEFAULT NULL，network_link1 IN VARCHAR2 DEFAULT NULL，network_link2 IN VARCHAR2 DEFAULT NULL）RETURN CLOB;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56A73E1B-4777-4A95-B256-B087A3241401__GUID-1A620E62-3FE9-44FD-9366-9DAEB4B32343">参数</p>
                     <div class="tblformal" id="GUID-56A73E1B-4777-4A95-B256-B087A3241401__GUID-644A90D3-E970-403C-92C5-2BB1D94EFDEB">
                        <p class="titleintable">表103-1 COMPARE_xxx功能参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="COMPARE_xxx函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_METADATA_DIFF.COMPARE_xxx subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d588365e473">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d588365e476">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d588365e481" headers="d588365e473 ">
                                    <p><code class="codeph">OBJECT_TYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d588365e481 d588365e476 ">
                                    <p>要比较的对象类型。有效的类型名称是<code class="codeph">CLUSTER</code> ， <code class="codeph">CONTEXT</code> ， <code class="codeph">DB_LINK</code> ， <code class="codeph">FGA_POLICY</code> ， <code class="codeph">INDEX</code> ， <code class="codeph">MATERIALIZED_VIEW</code> ， <code class="codeph">MATERIALIZED_VIEW_LOG</code> ， <code class="codeph">QUEUE</code> ， <code class="codeph">QUEUE_TABLE</code> ， <code class="codeph">RLS_CONTEXT</code> ， <code class="codeph">RLS_GROUP</code> ， <code class="codeph">RLS_POLICY</code> ， <code class="codeph">ROLE</code> ， <code class="codeph">SEQUENCE</code> ， <code class="codeph">SYNONYM</code> ， <code class="codeph">TABLE</code> ， <code class="codeph">TABLESPACE</code> ， <code class="codeph">TRIGGER</code> ， <code class="codeph">TYPE</code> ， <code class="codeph">TYPE_SPEC</code> ， <code class="codeph">TYPE_BODY</code> ， <code class="codeph">USER</code>和<code class="codeph">VIEW</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d588365e561" headers="d588365e473 ">
                                    <p><code class="codeph">名1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d588365e561 d588365e476 ">
                                    <p>比较中第一个对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d588365e569" headers="d588365e473 ">
                                    <p><code class="codeph">NAME2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d588365e569 d588365e476 ">
                                    <p>比较中第二个对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d588365e577" headers="d588365e473 ">
                                    <p><code class="codeph">schema1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d588365e577 d588365e476 ">
                                    <p>比较中第一个对象的模式。默认值是当前用户。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d588365e585" headers="d588365e473 ">
                                    <p><code class="codeph">SCHEMA2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d588365e585 d588365e476 ">
                                    <p>比较中第二个对象的模式。缺省值是<code class="codeph">schema1</code>的值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d588365e596" headers="d588365e473 ">
                                    <p><code class="codeph">network_link1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d588365e596 d588365e476 ">
                                    <p>指向第一个对象所在的数据库的数据库链接的名称。如果为NULL（缺省值），则假定该对象位于运行调用程序的数据库中。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d588365e604" headers="d588365e473 ">
                                    <p><code class="codeph">network_link2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d588365e604 d588365e476 ">
                                    <p>指向第二个对象所在的数据库的数据库链接的名称。默认值为<code class="codeph">network_link1</code>的值。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56A73E1B-4777-4A95-B256-B087A3241401__GUID-97272851-FD66-4517-BB26-789F96F58AB9">返回值</p>
                     <p><code class="codeph">DBMS_METADATA_DIFF.COMPARE_xxx</code>返回两个对象之间的差异。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56A73E1B-4777-4A95-B256-B087A3241401__GUID-69D5B90E-6920-496D-87CB-638976D16584">例外</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">INVALID_ARGVAL</code></p>
                           <p>为输入参数提供了<code class="codeph">NULL</code>或无效值。错误消息文本标识参数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OBJECT_NOT_FOUND</code></p>
                           <p>在数据库中找不到指定的对象。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56A73E1B-4777-4A95-B256-B087A3241401__GUID-416615B3-8870-429C-A563-7038D63C9CE2">使用说明</p>
                     <p>这些函数封装了对<code class="codeph">DBMS_METADATA</code>和<code class="codeph">DBMS_METADATA_DIFF</code>函数和过程的调用，以获取两个对象中每个对象的元数据并进行比较。
                     </p>
                     <p>您使用哪种功能取决于您想要的比较格式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">COMPARE_SXML</code>返回SXML差异文档。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">COMPARE_ALTER</code>返回一组<code class="codeph">ALTER</code>语句，用于使第一个对象像第二个对象一样。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">COMPARE_ALTER_XML</code>返回<code class="codeph">ALTER_XML</code>文档。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS66917"></a><a id="ARPLS66918"></a><a id="ARPLS66918"></a><a id="ARPLS66917"></a><div class="props_rev_3"><a id="GUID-2265D44C-9DD7-4D4F-92C2-F8D5F5168911" name="GUID-2265D44C-9DD7-4D4F-92C2-F8D5F5168911"></a><h3 id="ARPLS-GUID-2265D44C-9DD7-4D4F-92C2-F8D5F5168911" class="sect3"><span class="enumeration_section">103.4</span> DBMS_METADATA_DIFF子程序摘要</h3>
               <div>
                  <p><code class="codeph">DBMS_METADATA_DIFF</code>子程序为不同的对象类型提供比较功能。
                  </p>
                  <div class="section">
                     <p>这些子程序用于：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定要比较的对象类型</p>
                        </li>
                        <li>
                           <p>指定要比较的SXML文档</p>
                        </li>
                        <li>
                           <p>显示比较文档之间的差异</p>
                        </li>
                        <li>
                           <p>比较后清理</p>
                        </li>
                     </ul>
                     <p><a href="DBMS_METADATA_DIFF.html#GUID-2265D44C-9DD7-4D4F-92C2-F8D5F5168911__CHEEJBCD" title="此表按字母顺序列出了DBMS_METADATA_DIFF子程序，并简要介绍了它们。">表103-2</a>提供了<code class="codeph">DBMS_METADATA_DIFF</code>子程序的摘要。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2265D44C-9DD7-4D4F-92C2-F8D5F5168911__CHEEJBCD">
                     <p class="titleintable">表103-2 DBMS_METADATA_DIFF包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_METADATA_DIFF包子程序" width="100%" border="1" summary="This table lists the DBMS_METADATA_DIFF subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d588365e801">子程序</th>
                              <th align="left" valign="bottom" width="65%" id="d588365e804">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d588365e809" headers="d588365e801 ">
                                 <p><a href="DBMS_METADATA_DIFF.html#GUID-478B0A1B-D365-4482-8146-2D01DC864B24" title="此函数指定要比较的对象的类型。返回值是一个不透明的上下文句柄。">OPENC功能</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d588365e809 d588365e804 ">
                                 <p>指定要比较的对象的类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d588365e821" headers="d588365e801 ">
                                 <p><a href="DBMS_METADATA_DIFF.html#GUID-E3E644B4-C7CD-4831-961D-36D858F8D031" title="此过程指定要比较的SXML文档。">ADD_DOCUMENT过程</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d588365e821 d588365e804 ">
                                 <p>指定要比较的SXML文档</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d588365e833" headers="d588365e801 ">
                                 <p><a href="DBMS_METADATA_DIFF.html#GUID-7486A18F-C516-452F-BA4A-4E449FF86007" title="FETCH_CLOB函数和过程返回一个CLOB，显示ADD_DOCUMENT指定的两个文档之间的差异。">FETCH_CLOB函数和过程</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d588365e833 d588365e804 ">
                                 <p>返回一个CLOB，显示<code class="codeph">ADD_DOCUMENT</code>指定的两个文档之间的<code class="codeph">ADD_DOCUMENT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d588365e853" headers="d588365e801 ">
                                 <p><a href="DBMS_METADATA_DIFF.html#GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83" title="此过程使OPENC返回的句柄无效并清除关联状态。">关闭程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d588365e853 d588365e804 ">
                                 <p>使<code class="codeph">OPENC</code>返回的句柄无效并清除关联状态</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66919"></a><a id="ARPLS66920"></a><a id="ARPLS66920"></a><a id="ARPLS66919"></a><div class="props_rev_3"><a id="GUID-478B0A1B-D365-4482-8146-2D01DC864B24" name="GUID-478B0A1B-D365-4482-8146-2D01DC864B24"></a><h4 id="ARPLS-GUID-478B0A1B-D365-4482-8146-2D01DC864B24" class="sect4"><span class="enumeration_section">103.4.1</span> OPENC功能</h4>
                  <div>
                     <p>此函数指定要比较的对象的类型。返回值是一个不透明的上下文句柄。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-478B0A1B-D365-4482-8146-2D01DC864B24__GUID-3D6382E0-24FB-498F-A819-CB7EA55AA14E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_METADATA_DIFF.OPENC（object_type IN VARCHAR2）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-478B0A1B-D365-4482-8146-2D01DC864B24__GUID-279D05E0-903A-4871-B833-EB51F2B93B62">参数</p>
                        <div class="tblformal" id="GUID-478B0A1B-D365-4482-8146-2D01DC864B24__GUID-34469CE4-DEF6-4F09-ACB7-D8F1C74AC2D2">
                           <p class="titleintable">表103-3 OPENC功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPENC功能参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_METADATA_DIFF.OPENC subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d588365e982">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d588365e985">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d588365e990" headers="d588365e982 ">
                                       <p><code class="codeph">OBJECT_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d588365e990 d588365e985 ">
                                       <p>要比较的对象类型。有效的类型名称是<code class="codeph">CLUSTER</code> ， <code class="codeph">CONTEXT</code> ， <code class="codeph">DB_LINK</code> ， <code class="codeph">FGA_POLICY</code> ， <code class="codeph">INDEX</code> ， <code class="codeph">MATERIALIZED_VIEW</code> ， <code class="codeph">MATERIALIZED_VIEW_LOG</code> ， <code class="codeph">QUEUE</code> ， <code class="codeph">QUEUE_TABLE</code> ， <code class="codeph">RLS_CONTEXT</code> ， <code class="codeph">RLS_GROUP</code> ， <code class="codeph">RLS_POLICY</code> ， <code class="codeph">ROLE</code> ， <code class="codeph">SEQUENCE</code> ， <code class="codeph">SYNONYM</code> ， <code class="codeph">TABLE</code> ， <code class="codeph">TABLESPACE</code> ， <code class="codeph">TRIGGER</code> ， <code class="codeph">TYPE</code> ， <code class="codeph">TYPE_SPEC</code> ， <code class="codeph">TYPE_BODY</code> ， <code class="codeph">USER</code>和<code class="codeph">VIEW</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-478B0A1B-D365-4482-8146-2D01DC864B24__GUID-777534AD-11F2-4AA2-A977-14B90689376B">返回值</p>
                        <p>返回的不透明句柄用作<code class="codeph">ADD_DOCUMENT</code> ， <code class="codeph">FETCH_xxx</code>和<code class="codeph">CLOSE</code>输入。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-478B0A1B-D365-4482-8146-2D01DC864B24__GUID-B15EDDED-05F4-4431-9A99-EF133638B5F8">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">INVALID_ARGVAL</code></p>
                              <p>为输入参数提供了<code class="codeph">NULL</code>或无效值。错误消息文本标识参数。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66921"></a><a id="ARPLS66922"></a><a id="ARPLS66922"></a><a id="ARPLS66921"></a><div class="props_rev_3"><a id="GUID-E3E644B4-C7CD-4831-961D-36D858F8D031" name="GUID-E3E644B4-C7CD-4831-961D-36D858F8D031"></a><h4 id="ARPLS-GUID-E3E644B4-C7CD-4831-961D-36D858F8D031" class="sect4"><span class="enumeration_section">103.4.2</span> ADD_DOCUMENT过程</h4>
                  <div>
                     <p>此过程指定要比较的SXML文档。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E3E644B4-C7CD-4831-961D-36D858F8D031__GUID-6093DD33-6497-4294-8101-161CAB258B79">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_METADATA_DIFF.ADD_DOCUMENT（处理IN NUMBER，文档IN sys。XMLType的）; DBMS_METADATA_DIFF.ADD_DOCUMENT（处理IN NUMBER，文档IN CLOB）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3E644B4-C7CD-4831-961D-36D858F8D031__GUID-5D47C943-6AF9-453E-892F-82C3C3FA9D4F">参数</p>
                        <div class="tblformal" id="GUID-E3E644B4-C7CD-4831-961D-36D858F8D031__GUID-F598F4D6-133C-4745-8F11-FBA54B6DBB6E">
                           <p class="titleintable">表103-4 ADD_DOCUMENT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_DOCUMENT过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_METADATA_DIFF.ADD_DOCUMENT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d588365e1209">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d588365e1212">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d588365e1217" headers="d588365e1209 ">
                                       <p><code class="codeph">处理</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d588365e1217 d588365e1212 ">
                                       <p>从<code class="codeph">OPENC</code>返回的句柄</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d588365e1227" headers="d588365e1209 ">
                                       <p><code class="codeph">文献</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d588365e1227 d588365e1212 ">
                                       <p>要比较的文件。该文档必须是<code class="codeph">OPENC</code>指定的类型。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3E644B4-C7CD-4831-961D-36D858F8D031__GUID-701711BC-CB06-4440-ACCD-277498AD564B">使用说明</p>
                        <p>由于比较界面允许您准确比较两个SXML文档，因此程序必须为每个<code class="codeph">OPENC</code>句柄调用<code class="codeph">ADD_DOCUMENT</code>两次。在比较结果中，第一次调用指定的文档是文档1，第二次调用指定的文档是文档2。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3E644B4-C7CD-4831-961D-36D858F8D031__GUID-F4A5A9BE-11DC-4100-8C9E-4725125A856E">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">INVALID_ARGVAL</code></p>
                              <p>为输入参数提供了<code class="codeph">NULL</code>或无效值。错误消息文本标识参数。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66923"></a><a id="ARPLS66924"></a><a id="ARPLS66924"></a><a id="ARPLS66923"></a><div class="props_rev_3"><a id="GUID-7486A18F-C516-452F-BA4A-4E449FF86007" name="GUID-7486A18F-C516-452F-BA4A-4E449FF86007"></a><h4 id="ARPLS-GUID-7486A18F-C516-452F-BA4A-4E449FF86007" class="sect4"><span class="enumeration_section">103.4.3</span> FETCH_CLOB函数和过程</h4>
                  <div>
                     <p><code class="codeph">FETCH_CLOB</code>函数和过程返回一个CLOB，显示<code class="codeph">ADD_DOCUMENT</code>指定的两个文档之间的<code class="codeph">ADD_DOCUMENT</code> 。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7486A18F-C516-452F-BA4A-4E449FF86007__GUID-17B69A3F-90BC-4FB4-A24B-BA78CD103358">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_METADATA_DIFF.FETCH_CLOB（处理IN NUMBER）RETURN CLOB; DBMS_METADATA_DIFF.FETCH_CLOB（</pre><pre class="oac_no_warn" dir="ltr">处理IN NUMBER，doc IN OUT NOCOPY CLOB）; DBMS_METADATA_DIFF.FETCH_CLOB（处理IN NUMBER，doc IN OUT NOCOPY CLOB diff out OUT BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7486A18F-C516-452F-BA4A-4E449FF86007__GUID-4600F3A9-6859-45B7-915B-22DC0E419131">参数</p>
                        <div class="tblformal" id="GUID-7486A18F-C516-452F-BA4A-4E449FF86007__GUID-45258DCE-FFFA-43E4-9A01-0AE2922AAC02">
                           <p class="titleintable">表103-5 FETCH_CLOB子程序参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FETCH_CLOB子程序参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_METADATA_DIFF.FETCH_CLOB subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d588365e1381">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d588365e1384">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d588365e1389" headers="d588365e1381 ">
                                       <p><code class="codeph">处理</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d588365e1389 d588365e1384 ">
                                       <p>从<code class="codeph">OPENC</code>返回的句柄。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d588365e1400" headers="d588365e1381 ">
                                       <p><code class="codeph">DOC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d588365e1400 d588365e1384 ">
                                       <p>包含文档1和2之间差异的CLOB。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d588365e1408" headers="d588365e1381 ">
                                       <p><code class="codeph">diff文件</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d588365e1408 d588365e1384 ">
                                       <p>如果文档不同则为<code class="codeph">TRUE</code>如果文档相同则为<code class="codeph">FALSE</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7486A18F-C516-452F-BA4A-4E449FF86007__GUID-71B55789-5E67-4F9D-8115-4FF79ECA9370">返回值</p>
                        <p>文件1和2之间的差异。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7486A18F-C516-452F-BA4A-4E449FF86007__GUID-63EFB9BC-FE8B-4F0E-A02D-CF6DFA06358D">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">INVALID_ARGVAL</code></p>
                              <p>为输入参数提供了<code class="codeph">NULL</code>或无效值。错误消息文本标识参数。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66925"></a><a id="ARPLS66926"></a><a id="ARPLS66926"></a><a id="ARPLS66925"></a><div class="props_rev_3"><a id="GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83" name="GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83"></a><h4 id="ARPLS-GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83" class="sect4"><span class="enumeration_section">103.4.4</span>关闭程序</h4>
                  <div>
                     <p>此过程使<code class="codeph">OPENC</code>返回的句柄无效并清除关联状态。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83__GUID-569D8D94-D9F3-4FDF-9E71-5B662B27745D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_METADATA_DIFF.CLOSE（处理IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83__GUID-F63A94F3-D866-48AF-9C01-B9D648408ECC">参数</p>
                        <div class="tblformal" id="GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83__GUID-FFE58A18-201C-4C9C-8441-80010D4E0D91">
                           <p class="titleintable">表103-6 CLOSE功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="关闭功能参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_METADATA_DIFF.CLOSE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d588365e1547">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d588365e1550">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d588365e1555" headers="d588365e1547 ">
                                       <p><code class="codeph">处理</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d588365e1555 d588365e1550 ">
                                       <p>从<code class="codeph">OPENC</code>返回的句柄</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-184DCE56-9735-4FB4-8883-9A4B7FEF6D83__GUID-761E49B5-F4AA-480D-8665-CD3E1940F9DC">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">INVALID_ARGVAL</code></p>
                              <p>为输入参数提供了<code class="codeph">NULL</code>或无效值。错误消息文本标识参数。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>