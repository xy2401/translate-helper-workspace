<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>DROP TABLESPACE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DROP-TABLE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DROP-TABLESPACE-SET.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DROP-TABLE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DROP-TABLESPACE-SET.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-DROP-TABLE-to-LOCK-TABLE.html" property="item" typeof="WebPage"><span property="name">SQL语句：DROP TABLE到LOCK TABLE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DROP TABLESPACE</li>
            </ol>
            <a id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11" name="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11"></a><a id="SQLRF54949"></a><a id="SQLRF54950"></a><a id="SQLRF54951"></a><a id="SQLRF54952"></a><a id="SQLRF54953"></a><a id="SQLRF54954"></a><a id="SQLRF54955"></a><a id="SQLRF54956"></a><a id="SQLRF54957"></a><a id="SQLRF01807"></a>
            
            <h2 id="SQLRF-GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11" class="sect2">DROP TABLESPACE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-55D60E5E-7485-49DE-BF3B-2419D9D3BDAE">目的</p>
                  <p><a id="d391473e132" class="indexterm-anchor"></a>使用<code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code>语句从数据库中删除表空间。
                  </p>
                  <p>删除表空间时，Oracle数据库不会将其放在回收站中。因此，您无法随后清除或删除表空间。</p>
                  <div class="infoboxnotealso" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-6E866031-87B2-45B3-8B60-011C1E5A3925">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建和修改表空间的信息，请创建<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">TABLESPACE</a>和<a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-AB7C44D2-6D49-4188-A21D-5C2EDDA4D040">先决条件</p>
                  <p>您必须具有<code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code>系统特权。如果表空间包含任何包含活动事务的回滚段，则不能删除它。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-9B1B2439-A9BA-4852-93AC-D85AB296FED3">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-CD8188E9-E500-4617-B265-B1512E89BF0C"><span class="italic">drop_tablespace</span> :: =</p>
                  <div class="figure" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-8494890A-3F5D-4668-8354-F08A9CEA1E9C"><img src="img/drop_tablespace.gif" alt="drop_tablespace.eps的描述如下" title="drop_tablespace.eps的描述如下" longdesc="img_text/drop_tablespace.html"><br><a href="img_text/drop_tablespace.html">插图说明drop_tablespace.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-71D05547-20FF-4A8E-BF53-57B2015B9B92">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-40BD5443-7ADD-48B6-AA16-BC4EAC0F5D80"><span class="italic">表空间</span></p>
                  <p>指定要删除的表空间的名称，包括存储丢失的写保护更新的影子表空间的名称。</p>
                  <p>无论是在线还是离线，您都可以删除表空间。Oracle建议您在删除表空间之前将其保持脱机状态，以确保当前正在运行的事务中没有SQL语句访问表空间中的任何对象。</p>
                  <p>您不能删除<code class="codeph">SYSTEM</code>表空间。仅当您具有<code class="codeph">SYSDBA</code>系统特权并且已在<code class="codeph">UPGRADE</code>模式下启动数据库时，才能删除<code class="codeph">SYSAUX</code>表空间。
                  </p>
                  <p>您可能希望将已分配表空间的任何用户警告为默认或临时表空间。删除表空间后，这些用户无法为表空间中的对象或排序区域分配空间。您可以使用<code class="codeph">ALTER</code> <code class="codeph">USER</code>语句为<code class="codeph">USER</code>重新分配新的默认和临时表空间。
                  </p>
                  <p>先前从表空间中删除并移动到回收站的任何对象都将从回收站中清除。Oracle数据库从数据字典中删除有关表空间的所有元数据以及表空间中的所有数据文件和临时文件。数据库还会自动从操作系统中删除表空间中任何Oracle管理的数据文件和临时文件。除非您指定<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> <code class="codeph">AND</code> <code class="codeph">DATAFILES</code>否则不会从操作系统中删除其他数据文件和临时文件。</p>
                  <p>您不能使用此语句删除表空间组。但是，如果<span class="italic"><code class="codeph">tablespace</code></span>是表空间组中唯一的表空间，则Oracle数据库也会从数据字典中删除表空间组。
                  </p>
                  <p><span class="bold">删除表空间的限制</span><a id="d391473e231" class="indexterm-anchor"></a><a id="d391473e235" class="indexterm-anchor"></a></p>
                  <p>删除表空间受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能删除包含域索引的表空间或域索引创建的任何对象。</p>
                     </li>
                     <li>
                        <p>如果任何实例正在使用撤消表空间，或者它包含回滚未提交事务所需的任何撤消数据，则不能删除撤消表空间。</p>
                     </li>
                     <li>
                        <p>您不能删除已指定为数据库的默认表空间的表空间。您必须首先将另一个表空间重新指定为默认表空间，然后删除旧的默认表空间。</p>
                     </li>
                     <li>
                        <p>如果临时表空间是数据库缺省临时表空间组的一部分，则不能删除它。您必须首先从数据库默认临时表空间组中删除表空间，然后将其删除。</p>
                     </li>
                     <li>
                        <p>如果临时表空间包含现有会话正在使用的段，则无法删除它。在这种情况下，不会引发错误。数据库等待，直到现有会话没有使用的段，然后删除表空间。</p>
                     </li>
                     <li>
                        <p>即使使用<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>和<code class="codeph">CASCADE</code> <code class="codeph">CONSTRAINTS</code>子句，也不能删除表空间，如果这样做会禁用另一个表空间中的主键或唯一约束。例如，如果要删除的表空间包含主键索引，但主键列本身位于不同的表空间中，则在手动禁用其他表空间中的主键约束之前，不能删除表空间。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-DB1A038A-792F-45F0-88EB-942F57370E32">
                     <p class="notep1">也可以看看：</p>
                     <p>有关域索引的详细信息，请<a href="../addci/using-extensible-indexing.html#ADDCI270" target="_blank"><span class="italic">参见Oracle数据库数据盒开发人员指南</span></a>和<a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT607" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-84131501-0625-479C-8108-E0E6FD6DACC6">{DROP |保持} QUOTA</p>
                  <p>指定<code class="codeph">DROP</code> <code class="codeph">QUOTA</code>以删除表空间的所有用户配额。指定<code class="codeph">KEEP</code> <code class="codeph">QUOTA</code>以保留表空间的所有用户配额。默认值为<code class="codeph">KEEP</code> <code class="codeph">QUOTA</code> 。</p>
                  <p>您可以通过查询<code class="codeph">DBA_TS_QUOTAS</code>数据字典视图来查看表空间的所有用户配额。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__INCLUDINGCONTENTSINCLUDINGCONTENTSC-44AF7912">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-49F193E8-136C-4EA6-9B02-8DDBA1D45A7B">包括内容</p>
                  <p><a id="d391473e319" class="indexterm-anchor"></a><a id="d391473e323" class="indexterm-anchor"></a>指定<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>以删除表空间的所有内容，包括存储丢失的写保护更新的影子表空间的内容。您必须指定此子句以删除包含任何数据库对象的表空间。如果省略此子句，并且表空间不为空，则数据库将返回错误，并且不会删除表空间。
                  </p>
                  <p>如果表空间包含单个表的某些（但不是全部）分区或子分区，即使指定了<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> ， <code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code>也会失败。如果分区表的所有分区或子分区都驻留在<span class="italic"><code class="codeph">tablespace</code></span> ，则<code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> ...<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>删除<span class="italic"><code class="codeph">tablespace</code></span> ，以及任何相关的索引段，LOB数据和索引段，以及其他表空间<span class="italic"><code class="codeph">table</code></span>嵌套表数据和索引段。
                  </p>
                  <p>对于分区索引组织表，如果所有主键索引段都在此表空间中，则此子句还将删除其他表空间中存在的任何溢出段，以及其他表空间中的任何关联映射表。如果某些主键索引段<span class="italic">不在</span>此表空间中，则该语句将失败。在这种情况下，在删除表空间之前，必须使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ...<code class="codeph">MOVE</code> <code class="codeph">PARTITION</code>将这些主键索引段移动到此表空间中，删除溢出数据段不在此表空间中的分区，并删除分区的索引组织表。
                  </p>
                  <p>如果表空间包含实例化视图的主表，则数据库使实例化视图无效。</p>
                  <p>如果表空间包含实例化视图日志，则数据库将删除日志以及与该表关联的任何其他直接路径<code class="codeph">INSERT</code>刷新信息。
                  </p>
                  <p><span class="bold">和数据文件</span> <a id="d391473e400" class="indexterm-anchor"></a><a id="d391473e404" class="indexterm-anchor"></a><a id="d391473e408" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> ， <code class="codeph">AND</code> <code class="codeph">DATAFILES</code>子句允许您指示数据库删除关联的操作系统文件。对于删除的每个操作系统文件，Oracle数据库会将消息写入警报日志。Oracle Managed Files不需要此子句，因为即使您未指定<code class="codeph">AND</code> <code class="codeph">DATAFILES</code> ，它们也会从系统中删除。</p>
                  <p><span class="bold">保留数据文件</span> <a id="d391473e437" class="indexterm-anchor"></a><a id="d391473e441" class="indexterm-anchor"></a><a id="d391473e445" class="indexterm-anchor"></a></p>
                  <p>当您指定<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> ， <code class="codeph">KEEP</code> <code class="codeph">DATAFILES</code>子句允许您指示数据库保持不变的关联操作系统文件，包括Oracle Managed Files。如果您使用的是Oracle托管文件，并且不希望<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>子句删除关联的操作系统文件，则必须指定此子句。
                  </p>
                  <p><span class="bold">级联约束</span><a id="d391473e473" class="indexterm-anchor"></a><a id="d391473e477" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">CASCADE</code> <code class="codeph">CONSTRAINTS</code>以从表<span class="italic"><code class="codeph">tablespace</code></span>外的<span class="italic"><code class="codeph">tablespace</code></span>中删除所有引用完整性约束，这些表引用表<span class="italic"><code class="codeph">tablespace</code></span>内<span class="italic"><code class="codeph">tablespace</code></span>主键和唯一键。如果省略此子句并且存在此类参照完整性约束，则Oracle数据库将返回错误并且不会删除表空间。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-2126E589-3800-464C-80DB-BCA818A34D4E">例子</p>
                  <p><span class="bold">删除表空间：示例</span></p>
                  <p>以下语句删除<code class="codeph">tbs_01</code>表空间并删除引用<code class="codeph">tbs_01</code>内的主键和唯一键的所有引用完整性约束：</p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE tbs_01包括目录级联约束;</pre><p><span class="bold">删除影子表空间：示例</span></p>
                  <p>以下语句尝试将影子表空间中的跟踪数据移动到另一个影子表空间。这仅适用于PDB中有足够可用空间的影子表空间。</p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE &lt;shadow_tablespace_name&gt;</pre><p>以下语句删除了影子表空间及其所有内容。所有跟踪数据都将丢失。</p>
                  <p><span class="bold">删除包含内容的影子表空间：示例</span></p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE &lt;shadow_tablespace_name&gt;包含内容</pre><p><span class="bold">删除操作系统文件：示例</span></p>
                  <p>以下示例删除<code class="codeph">tbs_02</code>表空间并删除所有关联的操作系统数据文件：</p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE tbs_02包括内容和数据文件;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>