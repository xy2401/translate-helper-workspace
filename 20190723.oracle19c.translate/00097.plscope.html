<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用PL / Scope</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Development Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Development Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00"></meta>
      <meta name="dcterms.title" content="Database Development Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96334-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="coding-subprograms-and-packages.html" title="Previous" type="text/html"></link>
      <link rel="next" href="hierarchical-profiler.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="coding-subprograms-and-packages.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="hierarchical-profiler.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库开发指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-for-application-developers.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员的PL / SQL</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用PL / Scope</li>
            </ol>
            <a id="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C" name="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C"></a><a id="ADFNS1043"></a><a id="ADFNS022"></a>
            
            <h2 id="ADFNS-GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C" class="sect2"><span class="enumeration_chapter">14</span>使用PL / Scope</h2>
         </header>
         <div class="ind">
            <div>
               <p>PL / Scope允许您开发功能强大且有效的PL / Scope源代码工具，通过最大限度地减少浏览和理解源代码所花费的时间来提高PL / SQL开发人员的工作效率。</p>
               <p>PL / Scope适用于应用程序开发人员，通常用于开发数据库环境。</p>
               <div class="infoboxnote" id="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C__GUID-492FD18B-99D4-4FB8-8832-70F4E8B7ED17">
                  <p class="notep1">注意：</p>
                  <p>PL / Scope无法收集包含源代码的PL / SQL单元的数据。有关包装PL / SQL源代码的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS016" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a> 。
                  </p>
               </div>
               <div class="section">
                  <p class="subhead1" id="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C__GUID-2A1AB535-8559-40D5-86EE-E2F4B2A2752D">话题：</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="plscope.html#GUID-10A7702B-41E4-405D-BFAF-622956A40650" title="PL / Scope是一个编译器驱动的工具，它收集PL / SQL和SQL标识符以及PL / SQL源代码中的SQL语句用法。">PL / Scope概述</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246" title="默认情况下，PUBLIC对各种系统表和视图具有SELECT权限，对各种PL / SQL对象具有EXECUTE权限。">使用PL / Scope所需的权限</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3" title="默认情况下，PL / Scope不会收集PL / SQL源程序中的标识符和语句的数据。要启用和控制收集的内容，请设置PL / SQL编译参数PLSCOPE_SETTINGS。">指定标识符和语句集合</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-F20FA032-8441-4913-8734-736346EA84BB">PL / Scope数据使用多少空间？</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA" title="PL / Scope用法是描述代表标识符执行的动作的动词。每个标识符使用都被赋予一个在代码单元中唯一的数字ID。这是标识符的USAGE_ID。标识符用法可以是其他标识符用法的上下文。这在用法之间创建了一对多的父子关系。父上下文使用的USAGE_ID是子用法的USAGE_CONTEXT_ID。DBA_STATEMENTS静态字典视图系列描述了PL / Scope收集的SQL语句。PL / Scope语句类型表示PL / SQL中使用的SQL语句.DBA_STATEMENTS视图中的每一行代表PL / SQL单元中SQL语句的唯一位置。这相当于编译单元中的唯一键。语句可以充当其他语句或标识符的上下文。声明也可以在其他声明或标识符的上下文中。每个SQL语句都有一个唯一的PL / Scope签名，用于标识所有PL / SQL单元中的语句实例。">查看PL /范围数据</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046" title="除PL / Scope数据字典视图外，以下静态字典视图对PL / SQL程序员最有用，并且通常在与PL / SQL代码管理报告相关的查询中引用。这不是所有静态数据字典视图的详尽列表。">用于管理PL / SQL代码的数据字典视图概述</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-1D07E448-0183-42B6-A4CA-9163F2784928">样本PL /范围会话</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-10A7702B-41E4-405D-BFAF-622956A40650" name="GUID-10A7702B-41E4-405D-BFAF-622956A40650"></a><h3 id="ADFNS-GUID-10A7702B-41E4-405D-BFAF-622956A40650" class="sect3">PL / Scope概述</h3>
               <div>
                  <p>PL / Scope是一个编译器驱动的工具，它收集PL / SQL和SQL标识符以及PL / SQL源代码中的SQL语句用法。</p>
                  <p>PL / Scope在程序单元编译时收集PL / SQL标识符，SQL标识符和SQL语句元数据，并使其在静态数据字典视图中可用。收集的数据包括有关标识符类型，用法（声明，定义，参考，调用，分配）的信息以及源代码中每种用法的位置。</p>
                  <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，PL / Scope已得到增强，可以报告静态SQL和PL / SQL单元中的动态SQL调用站点的出现情况。收集本机动态SQL（EXECUTE IMMEDIATE，OPEN CURSOR FOR）和DBMS_SQL调用的调用站点。动态SQL语句是在执行时生成的，因此在编译时只能收集调用站点。可以与新的DBA_STATEMENTS视图一起查询收集的数据以及其他数据字典视图，以帮助回答有关编程项目所需的更改范围以及执行代码分析的问题。识别SQL语句的执行情况也很有用。PL / Scope提供了对表，视图和PL / SQL单元之间的依赖关系的深入了解。此级别的详细信息可用作迁移评估工具，以确定所需更改的范围。
                  </p>
                  <div class="p">PL / Scope可以帮助您回答以下问题：<ul style="list-style-type:disc">
                        <li>
                           <p>表格y中的列x在PL / SQL代码中的使用位置和方式是什么？</p>
                        </li>
                        <li>
                           <p>我的应用程序PL / SQL代码中的SQL是否与TimesTen兼容？</p>
                        </li>
                        <li>
                           <p>我的应用程序中声明但从未使用过的常量，变量和异常是什么？</p>
                        </li>
                        <li>
                           <p>我的代码是否有SQL注入的风险？</p>
                        </li>
                        <li>
                           <p>在应用程序中编码优化器提示的SQL语句是什么？</p>
                        </li>
                        <li>
                           <p>哪个SQL有BULK COLLECT子句？从哪里调用SQL？</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246" name="GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246"></a><h3 id="ADFNS-GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246" class="sect3">使用PL / Scope所需的权限</h3>
               <div>
                  <p>默认情况下，PUBLIC对各种系统表和视图具有SELECT权限，对各种PL / SQL对象具有EXECUTE权限。</p>
                  <div class="section">
                     <p>PL / Scope数据在DBA_IDENTIFIERS和DBA_STATEMENTS数据字典视图中可用。用户必须具有在这些视图中查询数据的权限。</p>
                     <p>已在这些相关视图上授予以下权限。</p>
                     <div class="tblformal" id="GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246__GUID-73B6F4FC-7BFB-4F56-BED1-83405AAD7A69">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="*_IDENTIFIERS and *_STATEMENTS Views Access Privileges Granted to Roles by Default" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d65520e411">查看名称</th>
                                 <th align="left" valign="bottom" width="20%" id="d65520e413">特权授予角色</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e417" headers="d65520e411 ">USER_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e417 d65520e413 ">阅读公开</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e422" headers="d65520e411 ">ALL_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e422 d65520e413 ">阅读公开</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e427" headers="d65520e411 ">DBA_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e427 d65520e413 ">SELECT到SELECT_CATALOG_ROLE</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e432" headers="d65520e411 ">USER_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e432 d65520e413 ">阅读公开</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e437" headers="d65520e411 ">ALL_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e437 d65520e413 ">阅读公开</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e442" headers="d65520e411 ">DBA_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e442 d65520e413 ">SELECT到SELECT_CATALOG_ROLE</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>数据库管理员可以使用类似于以下内容的查询来验证这些视图的权限列表：</p>
                     <div class="p"><pre class="pre codeblock"><code>SELECT * FROM SYS.DBA_TAB_PRIVS WHERE GRANTEE ='PUBLIC'和TABLE_NAME IN（'ALL_IDENTIFIERS'，'USER_IDENTIFIERS'，'ALL_STATEMENTS'，'USER_STATEMENTS'）;</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS02201"></a><div class="props_rev_3"><a id="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3" name="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3"></a><h3 id="ADFNS-GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3" class="sect3">指定标识符和语句集合</h3>
               <div>
                  <p>默认情况下，PL / Scope不会收集PL / SQL源程序中的标识符和语句的数据。要启用和控制收集的内容，请设置PL / SQL编译参数PLSCOPE_SETTINGS。</p>
                  <div class="section">
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始， <code class="codeph">PLSCOPE_SETTINGS</code>具有一种新语法，可提供更多控件和选项来收集标识符和SQL语句元数据。元数据收集在静态数据字典视图<code class="codeph">DBA_IDENTIFIERS</code>和<code class="codeph">DBA_STATEMENTS</code> 。</p>
                     <p>要收集PL / SQL源程序中所有标识符的PL / Scope数据，包括包体中的标识符，请将PL / SQL编译参数<code class="codeph">PLSCOPE_SETTINGS</code>为<code class="codeph">'IDENTIFIERS</code> ： <code class="codeph">ALL'</code> 。<code class="codeph">IDENTIFIERS</code>子句的可能值包括： <code class="codeph">ALL, NONE</code> （默认值）， <code class="codeph">PUBLIC, SQL</code>和<code class="codeph">PLSQL</code> 。引入了新的SQL标识符： <code class="codeph">ALIAS, COLUMN, MATERIALIZED VIEW, OPERATOR, TABLE, and VIEW</code> 。增强的元数据集合可以生成有助于理解应用程序的报告。PL / Scope现在可以用作评估PL / SQL应用程序编码项目复杂性的工具，其粒度比以前更精细。
                     </p>
                     <p>要收集PL / SQL源程序中使用的所有SQL语句的PL / Scope数据，请将PL / SQL编译参数<code class="codeph">PLSCOPE_SETTINGS</code>为<code class="codeph">'STATEMENTS</code> ： <code class="codeph">ALL'</code> 。默认值为<code class="codeph">NONE</code> 。</p>
                     <div class="infoboxnote" id="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3__GUID-FAF5E7DC-1005-4483-BC39-A353EEC8B0F8">
                        <p class="notep1">注意：</p>
                        <p>收集所有标识符和语句可能会生成大量数据并缩短编译时间。</p>
                     </div>
                     <p>PL / Scope存储它在<code class="codeph">SYSAUX</code>表空间中收集的数据。如果在编译程序单元期间启用了PL / Scope集合并且<code class="codeph">SYSAUX</code>表空间不可用，则PL / Scope不会收集编译对象的数据。编译器不会发出警告，但会在<code class="codeph">USER_ERRORS</code>保存警告。</p>
                     <div class="infoboxnotealso" id="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3__GUID-05CB1433-7843-42DB-864B-0D1BE0DAF138">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">PLSCOPE_SETTINGS</code>信息，请<code class="codeph">PLSCOPE_SETTINGS</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN10271" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p>有关PL / SQL编译参数的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS0121" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS402"></a><a id="ADFNS02202"></a><div class="props_rev_3"><a id="GUID-F20FA032-8441-4913-8734-736346EA84BB" name="GUID-F20FA032-8441-4913-8734-736346EA84BB"></a><h3 id="ADFNS-GUID-F20FA032-8441-4913-8734-736346EA84BB" class="sect3">PL / Scope数据使用多少空间？</h3>
               <div>
                  <div class="section">
                     <p>PL / Scope将其数据存储在<code class="codeph">SYSAUX</code>表空间中。如果以<code class="codeph">SYSDBA</code>身份登录，则可以使用<a href="plscope.html#GUID-F20FA032-8441-4913-8734-736346EA84BB__CDEFCGAF">示例14-1中</a>的查询显示PL / Scope数据正在使用的空间量。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F20FA032-8441-4913-8734-736346EA84BB__CDEFCGAF">
                     <p class="titleinexample">例14-1 PL / Scope数据使用了多少空间？</p>
                     <p>查询：</p><pre class="oac_no_warn" dir="ltr">SELECT VACE_USAGE_KBYTES FROM V $ SYSAUX_OCCUPANTS WHERE OCCUPANT_NAME ='PL / SCOPE';</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">SPACE_USAGE_KBYTES ------------------ 1920选择1行。
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F20FA032-8441-4913-8734-736346EA84BB__NOTE-1212-CABFF9F5">
                        <p class="notep1">也可以看看：</p>
                        <p>有关管理<code class="codeph">SYSAUX</code>表空间的信息，请<code class="codeph">SYSAUX</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN11384" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS02203"></a><div class="props_rev_3"><a id="GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA" name="GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA"></a><h3 id="ADFNS-GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA" class="sect3">查看PL /范围数据</h3>
               <div>
                  <div class="section">
                     <p>要查看PL / Scope收集的数据，您可以使用以下任一方法：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="plscope.html#GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7" title="PL / Scope用法是描述代表标识符执行的动作的动词。每个标识符使用都被赋予一个在代码单元中唯一的数字ID。这是标识符的USAGE_ID。标识符用法可以是其他标识符用法的上下文。这在用法之间创建了一对多的父子关系。父上下文使用的USAGE_ID是子用法的USAGE_CONTEXT_ID。">PL / SQL和SQL标识符的静态数据字典视图</a></p>
                        </li>
                        <li>
                           <p><a href="plscope.html#GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628" title="DBA_STATEMENTS静态字典视图系列描述了PL / Scope收集的SQL语句。">SQL语句的静态数据字典视图</a></p>
                        </li>
                        <li>
                           <p><a href="plscope.html#GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF">SQL Developer</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1044"></a><a id="ADFNS403"></a><div class="props_rev_3"><a id="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7" name="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7"></a><h4 id="ADFNS-GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7" class="sect4">PL / SQL和SQL标识符的静态数据字典视图</h4>
                  <div>
                     <p><code class="codeph">DBA_IDENTIFIERS</code>静态数据字典视图系列显示有关PL / Scope标识符的信息，包括其类型和用法。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7__GUID-2F2478EE-FE46-4C41-8279-5EF1FD3C4929">话题：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="plscope.html#GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A">PL / Scope收集的PL / SQL和SQL标识符类型</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" title="PL / Scope用法是描述代表标识符执行的动作的动词。">关于标识符用法</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC" title="每个标识符使用都被赋予一个在代码单元中唯一的数字ID。这是标识符的USAGE_ID。">标识符用法唯一键</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C" title="标识符用法可以是其他标识符用法的上下文。这在用法之间创建了一对多的父子关系。父上下文使用的USAGE_ID是子用法的USAGE_CONTEXT_ID。">关于标识符用法上下文</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1">关于标识符签名</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7__GUID-20CD7B36-659D-4794-A6E0-CEA4EE2F9396">
                           <p class="notep1">也可以看看：</p>有关字典视图<code class="codeph">DBA_IDENTIFIERS</code>视图的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN-GUID-F4B4C9F7-6335-42FF-97F4-FEB902A15E6E" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS409"></a><a id="ADFNS02204"></a><div class="props_rev_3"><a id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A" name="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A"></a><h5 id="ADFNS-GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A" class="sect5">PL / Scope收集的PL / SQL和SQL标识符类型</h5>
                     <div>
                        <p><a href="plscope.html#GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__G3152275" title="此表汇总了PL / Scope收集的标识符类型。">表14-1</a>按字母顺序显示了PL / Scope收集的标识符类型。<a href="plscope.html#GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__G3152275" title="此表汇总了PL / Scope收集的标识符类型。">表14-1中</a>的标识符类型显示在<code class="codeph">DBA_IDENTIFIERS</code>静态数据字典视图系列的<code class="codeph">TYPE</code>列中。
                        </p>
                        <div class="infoboxnote" id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__GUID-EA19EE62-1ACB-41AD-AE01-C15FD6143EEC">
                           <p class="notep1">注意：</p>
                           <p>在编译单元中声明的未使用<code class="codeph">PLSCOPE_SETTINGS='IDENTIFIERS:ALL'</code>编译<code class="codeph">PLSCOPE_SETTINGS='IDENTIFIERS:ALL'</code>不会出现在<code class="codeph">DBA_IDENTIFIERS</code>静态数据字典视图系列中。
                           </p>
                           <p>不支持Pseudocolumns，例如ROWNUM，因为它们不是用户定义的标识符。</p>
                           <p>PL / Scope忽略作为文字字符串的列名。</p>
                        </div>
                        <div class="tblformal" id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__G3152275">
                           <p class="titleintable">表14-1 PL / Scope收集的标识符类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PL / Scope收集的标识符类型" width="100%" border="1" summary="This table summarizes the identifier types that PL/Scope collects." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="42%" id="d65520e1182">TYPE列值</th>
                                    <th align="left" valign="bottom" width="58%" id="d65520e1185">评论</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1190" headers="d65520e1182 ">
                                       <p><code class="codeph">ALIAS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1190 d65520e1185 ">
                                       <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）中引入了新的SQL标识符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1202" headers="d65520e1182 ">
                                       <p><code class="codeph">联合阵营</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1202 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1210" headers="d65520e1182 ">
                                       <p><code class="codeph">柱</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1210 d65520e1185 ">
                                       <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）中引入了新的SQL标识符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1221" headers="d65520e1182 ">
                                       <p><code class="codeph">不变</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1221 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1228" headers="d65520e1182 ">
                                       <p><code class="codeph">光标</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1228 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1235" headers="d65520e1182 ">
                                       <p><code class="codeph">BFILE DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">BLOB DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">BOOLEAN DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">字符DATATYPE</code></p>
                                       <p> <code class="codeph">CLOB DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">日期DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">INTERVAL DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">NUMBER DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">时间数据</code> 
                                       </p>
                                       <p><code class="codeph">TIMESTAMP DATATYPE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1235 d65520e1185 ">
                                       <p>每个<code class="codeph">DATATYPE</code>都是在<code class="codeph">STANDARD</code>包中声明的基本类型。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1286" headers="d65520e1182 ">
                                       <p><code class="codeph">例外</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1286 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1293" headers="d65520e1182 ">
                                       <p><code class="codeph">正式的</code> 
                                       </p>
                                       <p><code class="codeph">正式进入</code></p>
                                       <p><code class="codeph">正式退出</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1293 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1308" headers="d65520e1182 ">
                                       <p><code class="codeph">功能</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1308 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1315" headers="d65520e1182 ">
                                       <p><code class="codeph">索引表</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1315 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1323" headers="d65520e1182 ">
                                       <p><code class="codeph">ITERATOR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1323 d65520e1185 ">
                                       <p>迭代器是<code class="codeph">FOR</code>循环的索引。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1335" headers="d65520e1182 ">
                                       <p><code class="codeph">标签</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1335 d65520e1185 ">
                                       <p>标签声明也充当上下文。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1343" headers="d65520e1182 ">
                                       <p><code class="codeph">图书馆</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1343 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1350" headers="d65520e1182 ">
                                       <p><code class="codeph">物质化的视图</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1350 d65520e1185 ">
                                       <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）中引入了新的SQL标识符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1361" headers="d65520e1182 ">
                                       <p><code class="codeph">嵌套表</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1361 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1369" headers="d65520e1182 ">
                                       <p><code class="codeph">宾语</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1369 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1376" headers="d65520e1182 ">
                                       <p><code class="codeph">不透明</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1376 d65520e1185 ">
                                       <p>内部不透明类型的示例是<code class="codeph">ANYDATA</code>和<code class="codeph">XMLType</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1390" headers="d65520e1182 ">
                                       <p><code class="codeph">操作员</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1390 d65520e1185 ">
                                       <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）中引入了新的SQL标识符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1401" headers="d65520e1182 ">
                                       <p><code class="codeph">包</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1401 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1408" headers="d65520e1182 ">
                                       <p><code class="codeph">程序</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1408 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1415" headers="d65520e1182 ">
                                       <p><code class="codeph">记录</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1415 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1422" headers="d65520e1182 ">
                                       <p><code class="codeph">REFCURSOR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1422 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1430" headers="d65520e1182 ">
                                       <p><code class="codeph">序列</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1430 d65520e1185 ">
                                       <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）中引入了新的SQL标识符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1441" headers="d65520e1182 ">
                                       <p><code class="codeph">SUBTYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1441 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1448" headers="d65520e1182 ">
                                       <p><code class="codeph">代名词</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1448 d65520e1185 ">
                                       <p>PL / Scope不解析同义词的基础对象名称。要查找同义词的基础对象名称，请查询<code class="codeph">*_SYNONYMS</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1459" headers="d65520e1182 ">
                                       <p><code class="codeph">表</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1459 d65520e1185 ">
                                       <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）中引入了新的SQL标识符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1470" headers="d65520e1182 ">
                                       <p><code class="codeph">触发</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1470 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1477" headers="d65520e1182 ">
                                       <p><code class="codeph">UROWID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1477 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1484" headers="d65520e1182 ">
                                       <p><code class="codeph">变量</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1484 d65520e1185 ">
                                       <p>可以是对象属性，局部变量，包变量或记录字段。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1492" headers="d65520e1182 ">
                                       <p><code class="codeph">VARRAY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1492 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1499" headers="d65520e1182 ">
                                       <p><code class="codeph">视图</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1499 d65520e1185 ">
                                       <p>此类型用于编辑视图。</p>
                                       <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）中引入了新的SQL标识符。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__NOTE-124-CAC17C79">
                           <p class="notep1">也可以看看：</p>
                           <p>有关存储对象中标识符的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20599" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </div>
                     </div>
                  </div><a id="ADFNS410"></a><a id="ADFNS02205"></a><div class="props_rev_3"><a id="GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" name="GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7"></a><h5 id="ADFNS-GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" class="sect5">关于标识符用法</h5>
                     <div>
                        <p>PL / Scope用法是描述代表标识符执行的动作的动词。</p>
                        <p><a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7__G3158742" title="此表总结了PL / Scope报告的操作。">表14-2</a>按字母顺序显示PL / Scope报告的用法。<a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7__G3158742" title="此表总结了PL / Scope报告的操作。">表14-2中</a>的标识符操作显示在<code class="codeph">DBA_IDENTIFIERS</code>静态数据字典视图系列的<code class="codeph">USAGE</code>列中，该<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20599" target="_blank"><span class="italic">数据库</span></a>在<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20599" target="_blank"><span class="italic">Oracle数据库参考中进行了</span></a>描述。
                        </p>
                        <div class="tblformal" id="GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7__G3158742">
                           <p class="titleintable">表14-2 PL / Scope报告的用法</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="用于PL /范围报告的用法" width="100%" border="1" summary="This table summarizes that actions that PL/Scope reports." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d65520e1652">使用列值</th>
                                    <th align="left" valign="bottom" width="80%" id="d65520e1655">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1660" headers="d65520e1652 ">
                                       <p><code class="codeph">分配</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1660 d65520e1655 ">
                                       <p>只能对可以具有值的标识符进行赋值，例如<code class="codeph">VARIABLE</code> 。</p>
                                       <p>作业的例子是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>使用赋值运算符左侧的标识符</p>
                                          </li>
                                          <li>
                                             <p>在<code class="codeph">FETCH</code>语句的<code class="codeph">INTO</code>子句中使用标识符</p>
                                          </li>
                                          <li>
                                             <p>通过引用将标识符传递给子程序（ <code class="codeph">OUT</code>模式）</p>
                                          </li>
                                          <li>
                                             <p>在<code class="codeph">OUT</code>或<code class="codeph">IN</code> <code class="codeph">OUT</code>模式下使用标识符作为<code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code>语句的<code class="codeph">USING</code>子句中的绑定变量</p>
                                          </li>
                                       </ul>
                                       <p>在<code class="codeph">IN</code> <code class="codeph">OUT</code>模式下传递给子程序的标识符具有<code class="codeph">REFERENCE</code>用法（对应于<code class="codeph">IN</code> ）和<code class="codeph">ASSIGNMENT</code>用法（对应于<code class="codeph">OUT</code> ）。
                                       </p>
                                       <p>表达式和嵌套子查询不支持作为赋值源。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1737" headers="d65520e1652 ">
                                       <p><code class="codeph">呼叫</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1737 d65520e1655 ">
                                       <p>在PL / Scope的上下文中， <code class="codeph">CALL</code>是一种将调用推送到调用堆栈的操作;那是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>对<code class="codeph">FUNCTION</code>或<code class="codeph">PROCEDURE</code>调用</p>
                                          </li>
                                          <li>
                                             <p>运行或获取游标标识符（对SQL的逻辑调用）</p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">GOTO</code>语句或异常引发不是<code class="codeph">CALL</code> ，因为它们都不会将调用推送到调用堆栈。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1768" headers="d65520e1652 ">
                                       <p><code class="codeph">宣言</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1768 d65520e1655 ">
                                       <p><code class="codeph">DECLARATION</code>告诉编译器存在标识符，并且每个标识符只有一个<code class="codeph">DECLARATION</code> 。每个<code class="codeph">DECLARATION</code>都可以具有关联的数据类型。
                                       </p>
                                       <p>对于循环索引声明， <code class="codeph">LINE</code>和<code class="codeph">COL</code> （在<code class="codeph">*_IDENTIFIERS</code>视图中）是<code class="codeph">FOR</code>子句的行和列，它隐式声明循环索引。
                                       </p>
                                       <p>对于标签声明， <code class="codeph">LINE</code>和<code class="codeph">COL</code>是在分隔符<code class="codeph">&lt;&lt;</code>和<code class="codeph">&gt;&gt;</code>出现（并隐式声明）标签的行和列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1813" headers="d65520e1652 ">
                                       <p><code class="codeph">定义</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1813 d65520e1655 ">
                                       <p><code class="codeph">DEFINITION</code>告诉编译器如何实现或使用先前声明的标识符。
                                       </p>
                                       <p>这些类型的标识符中的每一种都有一个<code class="codeph">DEFINITION</code> ：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">EXCEPTION</code> （可以有多个定义）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">功能</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">宾语</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">包</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">程序</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">触发</code></p>
                                          </li>
                                       </ul>
                                       <p>仅对于顶级标识符， <code class="codeph">DEFINITION</code>和<code class="codeph">DECLARATION</code>位于同一位置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1863" headers="d65520e1652 ">
                                       <p><code class="codeph">参考</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1863 d65520e1655 ">
                                       <p><code class="codeph">REFERENCE</code>使用标识符而不改变其值。
                                       </p>
                                       <p>参考的例子是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>提出异常标识符</p>
                                          </li>
                                          <li>
                                             <p>在变量或形式参数的声明中使用类型标识符</p>
                                          </li>
                                          <li>
                                             <p>使用其类型包含字段的变量标识符来访问字段。例如，在<code class="codeph">myrecordvar</code> 。 <code class="codeph">myfield</code> <code class="codeph">:=</code> <code class="codeph">1</code> ，引用<code class="codeph">myrecordvar</code> ，并对<code class="codeph">myfield</code>进行赋值。
                                             </p>
                                          </li>
                                          <li>
                                             <p>将游标用于除<code class="codeph">FETCH</code>之外的任何目的</p>
                                          </li>
                                          <li>
                                             <p>通过值将标识符传递给子程序（ <code class="codeph">IN</code>模式）</p>
                                          </li>
                                          <li>
                                             <p>在<code class="codeph">IN</code>或<code class="codeph">IN</code> <code class="codeph">OUT</code>模式下使用标识符作为<code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code>语句的<code class="codeph">USING</code>子句中的绑定变量</p>
                                          </li>
                                       </ul>
                                       <p>在<code class="codeph">IN</code> <code class="codeph">OUT</code>模式下传递给子程序的标识符具有<code class="codeph">REFERENCE</code>用法（对应于<code class="codeph">IN</code> ）和<code class="codeph">ASSIGNMENT</code>用法（对应于<code class="codeph">OUT</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="ADFNS404"></a><div class="props_rev_3"><a id="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC" name="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC"></a><h5 id="ADFNS-GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC" class="sect5">标识符用法唯一键</h5>
                     <div>
                        <p>每个标识符使用都被赋予一个在代码单元中唯一的数字ID。这是标识符的<code class="codeph">USAGE_ID</code> 。
                        </p>
                        <p><code class="codeph">*_IDENTIFIERS</code>视图的每一行代表PL / SQL单元中标识符的唯一用法。在每个视图中，这些是编译单元中的等效唯一键：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">LINE</code> ， <code class="codeph">COL</code>和<code class="codeph">USAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">USAGE_ID</code></p>
                           </li>
                        </ul>
                        <p></p>
                        <div class="infoboxnote" id="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC__GUID-887F8297-A62A-475E-9DE9-B5008626C7AF">
                           <p class="notep1">注意：</p>
                           <p>在<code class="codeph">IN OUT</code>模式下传递给子程序的标识符在<code class="codeph">*_IDENTIFIERS</code>有两行： <code class="codeph">REFERENCE</code>用法（对应于<code class="codeph">IN</code> ）和<code class="codeph">ASSIGNMENT</code>用法（对应于<code class="codeph">OUT</code> ）。
                           </p>
                        </div>
                        <p>此示例显示为PROCEDURE p1生成的USAGE_ID。</p><pre class="pre codeblock"><code>创建或替换过程p1（OUT VARCHAR2）IS b VARCHAR2（100）：='hello FROM p1';开始a：= b;结束; / SELECT USAGE_ID，USAGE，NAME FROM ALL_IDENTIFIERS WHERE OBJECT_NAME ='P1'ORDER BY USAGE_ID;</code></pre><pre class="oac_no_warn" dir="ltr">1声明P1 2定义P1 3声明A 4参考VARCHAR2 5声明B 6参考VARCHAR2 7作业B 8作业A 9参考B</pre><div class="infoboxnotealso" id="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC__NOTE-134-CAC251B0">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" title="PL / Scope用法是描述代表标识符执行的动作的动词。">关于标识符</a> <code class="codeph">*_IDENTIFIERS</code>视图中的用法用法</p>
                        </div>
                     </div>
                  </div><a id="ADFNS405"></a><a id="ADFNS00097"></a><div class="props_rev_3"><a id="GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C" name="GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C"></a><h5 id="ADFNS-GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C" class="sect5">关于标识符用法上下文</h5>
                     <div>
                        <p>标识符用法可以是其他标识符用法的上下文。这在用法之间创建了一对多的父子关系。该<code class="codeph">USAGE_ID</code>父上下文用法是<code class="codeph">USAGE_CONTEXT_ID</code>为孩子用途。
                        </p>
                        <p>上下文对于发现用法之间的关系很有用。除了顶级模式对象声明和定义之外，标识符的每次使用都发生在另一个用法的上下文中。</p>
                        <p>默认的顶级上下文（包含所有顶级对象）由<code class="codeph">USAGE_CONTEXT_ID</code>标识为0。
                        </p>
                        <p>例如：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>局部变量声明在顶级过程声明的上下文中发生。</p>
                           </li>
                           <li>
                              <p>如果一个标识符被声明为一个变量，如<code class="codeph">x VARCHAR2(10)</code>所述<code class="codeph">USAGE_CONTEXT_ID</code>所述的<code class="codeph">VARCHAR2</code>类型的参考包含<code class="codeph">USAGE_ID</code>所述的<code class="codeph">x</code>声明，允许你的变量声明其类型相关联。
                              </p>
                           </li>
                        </ul>
                        <p>换句话说， <code class="codeph">USAGE_CONTEXT_ID</code>是自反外键<code class="codeph">USAGE_ID</code> ，如<a href="plscope.html#GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C__CHDBBBJE">实施例14-2</a>示出。
                        </p>
                        <div class="example" id="GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C__CHDBBBJE">
                           <p class="titleinexample">例14-2 USAGE_CONTEXT_ID和USAGE_ID</p><pre class="pre codeblock"><code>ALTER SESSION SET PLSCOPE_SETTINGS ='IDENTIFIERS：ALL';创建或替换程序a（p1 in BOOLEAN）AUTHID DEFINER是v PLS_INTEGER; BEGIN v：= 42; DBMS_OUTPUT.PUT_LINE（V）; RAISE_APPLICATION_ERROR（-20000，'Bad'）; Program_Error THEN NULL时的异常;结束一个; / CREATE或REPLACE PROCEDURE b（p2 OUT PLS_INTEGER，p3 IN OUT VARCHAR2）AUTHID DEFINER是n NUMBER; q BOOLEAN：= TRUE;开始为j IN 1..5 LOOP a（q）;一个（TRUE）;一个（TRUE）;如果j&gt; 2那么GOTO z;万一;结束循环; &lt;&lt; z &gt;&gt; DECLARE d CONSTANT CHAR（1）：='X'; BEGIN SELECT COUNT（*）INTO n FROM WHERE Dummy = d;结束z;结束b; / WITH v AS（SELECT Line，Col，INITCAP（NAME）Name，LOWER（TYPE）Type，LOWER（USAGE）Usage，USAGE_ID，USAGE_CONTEXT_ID FROM USER_IDENTIFIERS WHERE Object_Name ='B'AND Object_Type ='PROCEDURE'）SELECT RPAD（LPAD） （''，2 *（Level-1））|| Name，20，'。'）||' “|| RPAD（类型，20）|| RPAD（用法，20）IDENTIFIER_USAGE_CONTEXTS FROM v START WITH USAGE_CONTEXT_ID = 0 <span class="bold">CONNECT BY PRIOR USAGE_ID = USAGE_CONTEXT_ID</span> ORDER SIBLINGS BY Line，Col /</code></pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">IDENTIFIER_USAGE_CONTEXTS ------------------------------------------------- ------------ B ...................程序声明B ............... ..程序定义P2 ..............正式输出声明Pls_Integer ...子类型参考P3 ..............正式输出声明Varchar2 .. ....字符数据类型引用N ...............变量声明数字........数字数据类型引用Q ............ ...变量声明Q .............变量赋值布尔值.......布尔数据类型引用J ...............迭代器声明一个.............程序调用Q ...........变量引用A .............程序调用A ... ..........程序调用J .............迭代器参考Z .............标签参考Z ..... ..........标签声明D .............常数声明D ...........常量赋值Char ....... 。子类型引用</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS406"></a><a id="ADFNS00098"></a><div class="props_rev_3"><a id="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1" name="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1"></a><h5 id="ADFNS-GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1" class="sect5">关于标识符签名</h5>
                     <div>
                        <p>标识符的签名在程序单元内和跨程序单元是唯一的。也就是说，签名将标识符与具有相同名称的其他标识符区分开，无论它们是在相同的程序单元中定义还是在不同的程序单元中定义。</p>
                        <p>对于<a href="plscope.html#GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1__CHDIGGCG">示例14-3</a>中具有两个名为<code class="codeph">p5</code>标识符的程序单元，静态数据字典视图<code class="codeph">USER_IDENTIFIERS</code>有几行，其中<code class="codeph">NAME</code>是<code class="codeph">p5</code> ，但在这些行中， <code class="codeph">SIGNATURE</code>有所不同。与外部过程<code class="codeph">p5</code>相关联的行具有一个签名，并且与内部过程<code class="codeph">p5</code>相关联的行具有另一个签名。如果程序单元<code class="codeph">q</code>调用过程<code class="codeph">p5</code> ，则<code class="codeph">q</code>的<code class="codeph">USER_IDENTIFIERS</code>视图有一行，其中<code class="codeph">NAME</code>是<code class="codeph">p5</code> ， <code class="codeph">SIGNATURE</code>是外部过程<code class="codeph">p5</code>的签名。
                        </p>
                        <div class="example" id="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1__CHDIGGCG">
                           <p class="titleinexample">例14-3带有两个标识符的程序单元，命名为p5</p>
                           <p>此示例显示了一个带有两个名为p5的标识符的程序单元，以演示签名的唯一性。</p><pre class="pre codeblock"><code>创建或替换过程p5 AUTHID DEFINER是程序p5是BEGIN DBMS_OUTPUT.PUT_LINE（'Inner p5'）;结束p5; BEGIN DBMS_OUTPUT.PUT_LINE（'外部p5'）; P5（）;结束p5; / SELECT LINE || '&gt;'||文件来自ALL_SOURCE，其中NAME ='P5'和TYPE ='程序'按行排序;</code></pre><pre class="oac_no_warn" dir="ltr">1&gt;程序p5 AUTHID DEFINER是2&gt;程序p5 IS 3&gt; BEGIN 4&gt; DBMS_OUTPUT.PUT_LINE（'Inner p5'）; 5&gt;结束p5; 6&gt; BEGIN 7&gt; DBMS_OUTPUT.PUT_LINE（'外部p5'）; 8&gt; p5（）; 9&gt;结束p5;</pre><p>以下查询显示PL / SQL单元的SIGNATURE与内部和外部p5的DECLARATION和DEFINITION相同。</p><pre class="pre codeblock"><code>SELECT SIGNATURE，USAGE，LINE，COL，USAGE_ID，USAGE_CONTEXT_ID FROM ALL_IDENTIFIERS WHERE OBJECT_NAME ='P5'ORDER BY LINE，COL，USAGE_ID;</code></pre><pre class="oac_no_warn" dir="ltr">75CD5986BA2EE5C61ACEED8C7162528F声明1 11 1 0 75CD5986BA2EE5C61ACEED8C7162528F定义1 11 2 1 33FB9F948F526C4B0634C0F35DFA91F6声明2 13 3 2 33FB9F948F526C4B0634C0F35DFA91F6定义2 13 4 3 33FB9F948F526C4B0634C0F35DFA91F6 CALL 8 3 7 2</pre><pre class="pre codeblock"><code>创建或替换程序q AUTHID DEFINER开始于p5（）;结束q; /</code></pre><pre class="oac_no_warn" dir="ltr">执行q;外p5内p5</pre><pre class="pre codeblock"><code>SELECT SIGNATURE，USAGE，LINE，COL，USAGE_ID，USAGE_CONTEXT_ID FROM ALL_IDENTIFIERS WHERE OBJECT_NAME ='Q'AND NAME ='P5'ORDER BY LINE，COL，USAGE_ID;</code></pre><pre class="oac_no_warn" dir="ltr">75CD5986BA2EE5C61ACEED8C7162528F CALL 3 3 3 2</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1__FINDALLUSAGESOFVARCHAR2-1FA55A26">
                           <p class="titleinexample">示例14-4查找VARCHAR2的所有用法</p>
                           <p>标识符签名是全球唯一的。这对于查找数据库中所有单元中的标识符的所有用法很有用。此示例显示查询以查找VARCHAR2的所有用法。</p><pre class="pre codeblock"><code>SELECT UNIQUE OBJECT_NAME uses_varchar2 FROM ALL_IDENTIFIERS WHERE SIGNATURE =（选择签名来自ALL_IDENTIFIERS，其中OBJECT_NAME ='标准'和OWNER ='SYS'和USAGE ='DECLARATION'和NAME ='VARCHAR2'）ORDER BY OBJECT_NAME;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628" name="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628"></a><h4 id="ADFNS-GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628" class="sect4">SQL语句的静态数据字典视图</h4>
                  <div>
                     <p>DBA_STATEMENTS静态字典视图系列描述了PL / Scope收集的SQL语句。</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）开始，新视图DBA_STATEMENTS报告PL / SQL单元中出现的静态SQL。它提供有关SQL_ID，规范语句文本，语句类型，有用语句用法属性，其签名以及PL / SQL代码中的位置的信息。每行代表PL / SQL代码中的SQL语句实例。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628__GUID-025D99EC-9956-4069-B09D-08BFF044D9B9">话题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="plscope.html#GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A" title="PL / Scope语句类型表示PL / SQL中使用的SQL语句。">PL / Scope收集的SQL语句类型</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668" title="DBA_STATEMENTS视图中的每一行代表PL / SQL单元中SQL语句的唯一位置。这相当于编译单元中的唯一键。">声明位置唯一键</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923" title="语句可以充当其他语句或标识符的上下文。声明也可以在其他声明或标识符的上下文中。">关于SQL语句用法上下文</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-2683886C-032F-4F96-8AD4-DFB007749EA2" title="每个SQL语句都有一个唯一的PL / Scope签名，用于标识所有PL / SQL单元中的语句实例。">关于SQL语句签名</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628__GUID-8D95BA0D-9421-4EF8-883A-E7AB1A23E7EA">
                           <p class="notep1">也可以看看：</p>有关DBA_STATEMENTS视图的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN-GUID-36FF82A6-DD4B-45E4-8B46-2ECD38C2AE47" target="_blank"><span class="italic">Oracle数据库参考</span></a></div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A" name="GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A"></a><h5 id="ADFNS-GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A" class="sect5">PL / Scope收集的SQL语句类型</h5>
                     <div>
                        <p>PL / Scope语句类型表示PL / SQL中使用的SQL语句。</p>
                        <p>SQL语句类型对应于可在PL / SQL中用于执行或以其他方式与SQL交互的语句。语句类型显示在DBA_STATEMENTS静态数据字典视图系列的TYPE列中。</p>
                        <p>您必须使用PLSCOPE_SETTINGS ='STATEMENTS：ALL'编译PL / SQL单元以收集此元数据。</p>
                        <div class="p" id="GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A__SQLSTATEMENTTYPESTHATPLSCOPECOLLECT-1E98BFD3">PL / Scope收集的SQL语句类型：<ul style="list-style-type:disc">
                              <li>
                                 <p>选择</p>
                              </li>
                              <li>
                                 <p>UPDATE</p>
                              </li>
                              <li>
                                 <p>插入</p>
                              </li>
                              <li>
                                 <p>删除</p>
                              </li>
                              <li>
                                 <p>合并</p>
                              </li>
                              <li>
                                 <p>执行立即</p>
                              </li>
                              <li>
                                 <p>设置交易</p>
                              </li>
                              <li>
                                 <p>锁表</p>
                              </li>
                              <li>
                                 <p>承诺</p>
                              </li>
                              <li>
                                 <p>SAVEPOINT</p>
                              </li>
                              <li>
                                 <p>ROLLBACK</p>
                              </li>
                              <li>
                                 <p>打开</p>
                              </li>
                              <li>
                                 <p>关</p>
                              </li>
                              <li>
                                 <p>取</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668" name="GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668"></a><h5 id="ADFNS-GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668" class="sect5">声明位置唯一键</h5>
                     <div>
                        <p>DBA_STATEMENTS视图中的每一行代表PL / SQL单元中SQL语句的唯一位置。这相当于编译单元中的唯一键。</p>
                        <p>以下列用于确定PL / SQL代码中语句的位置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OWNER，OBJECT_NAME，OBJECT_TYPE，LINE，COL</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">USAGE_ID</code></p>
                           </li>
                        </ul>
                        <p><code class="codeph">USAGE_ID</code>在PL / SQL单元中唯一定义。与标识符不同，SQL语句没有不同的用法，例如<code class="codeph">DECLARATION</code> ， <code class="codeph">ASSIGNMENT</code>或<code class="codeph">REFERENCE</code> 。所有语句都被认为是对SQL引擎的隐式<code class="codeph">CALL</code> ，因此， <code class="codeph">DBA_STATEMENTS</code>视图没有<code class="codeph">USAGE</code>列，但它确实使用了<code class="codeph">USAGE_ID</code> 。</p>
                        <div class="example" id="GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668__GUID-A89F62FA-0A14-40E2-931A-B26739725307">
                           <p class="titleinexample">示例14-5使用USAGE_ID列查询SQL标识符和语句</p><pre class="pre codeblock"><code>过程p1（p_cust_id NUMBER，p_cust_name OUT VARCHAR2）是BUSTIN SELECT（从CUSTOMERS中选择CUST_FIRST_NAME）INTO p_cust_name FROM CUSTOMERS WHERE CUSTOMER_ID = p_cust_id;结束; SELECT USAGE_ID，TYPE，NAME，USAGE，LINE，COL FROM（SELECT USAGE_ID，TYPE，NAME，USAGE，LINE，COL FROM ALL_IDENTIFIERS WHERE OBJECT_NAME ='P1'UNION SELECT USAGE_ID，TYPE，'SQL STATEMENT'，“”，LINE， COL FROM ALL_STATEMENTS，其中OBJECT_NAME ='P1'）按USAGE_ID排序;</code></pre><pre class="oac_no_warn" dir="ltr">USAGE_ID TYPE NAME USAGE LINE COL ---------- ------------------ ---------------  - ---------- ----- ----- 1程序P1声明1 11 2程序P1定义1 11 3 P_CUST_ID声明中的形式1 15 4数字数字参考号1 25 5正式输出P_CUST_NAME声明1 33 6字符数据表VARCHAR2参考1 49 7 SQL语句选择3 3 8表客户参考4 10 9 P_CUST_ID参考中的正式表4 38 10 CUSTOMER_ID参考表4 26 11正式输出P_CUST_NAME指派3 31 12 CUST_FIRST_NAME列13参考3 10</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923" name="GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923"></a><h5 id="ADFNS-GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923" class="sect5">关于SQL语句用法上下文</h5>
                     <div>
                        <p>语句可以充当其他语句或标识符的上下文。声明也可以在其他声明或标识符的上下文中。</p>
                        <p><code class="codeph">USAGE_CONTEXT_ID</code>列用于确定语句的上下文。出现在语句中的所有标识符都将在该语句的上下文中。
                        </p>
                        <p>表达式和嵌套子查询不支持作为赋值源。</p>
                        <div class="example" id="GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923__GUID-F7953139-3090-43B2-99A1-66DA05AA7BB8">
                           <p class="titleinexample">示例14-6使用DBA_STATEMENTS USAGE_CONTEXT_ID查询标识符</p>
                           <p>此示例显示如何使用<code class="codeph">USAGE_CONTEXT_ID</code>列在<code class="codeph">SELECT</code>语句的上下文中检索标识符。
                           </p>
                           <div class="p"><pre class="pre codeblock"><code>过程p1（p_cust_id NUMBER，p_cust_name OUT VARCHAR2）是BUSTIN SELECT（从CUSTOMERS中选择CUST_FIRST_NAME）INTO p_cust_name FROM CUSTOMERS WHERE CUSTOMER_ID = p_cust_id;结束; SELECT USAGE_ID，LPAD（''，2 *（level-1））|| TO_CHAR（USAGE）|| ''|| NAME用法，LINE，COL FROM（SELECT OBJECT_NAME，USAGE，USAGE_ID，USAGE_CONTEXT_ID，NAME，LINE，COL FROM ALL_IDENTIFIERS WHERE OBJECT_NAME ='P1'UNION SELECT OBJECT_NAME，TYPE用法，USAGE_ID，USAGE_CONTEXT_ID，'Statement'名称，LINE，COL FROM ALL_STATEMENTS WHERE OBJECT_NAME ='P1'）START WITH USAGE_CONTEXT_ID = 0 AND OBJECT_NAME ='P1'INNECT BY PRIOR USAGE_ID = USAGE_CONTEXT_ID AND OBJECT_NAME ='P1';</code></pre><pre class="oac_no_warn" dir="ltr">USAGE_ID USAGES LINE COL ---------- -----------------------------------  - --------- ---------- 1声明P1 1 11 2定义P1 1 11 3声明P_CUST_ID 1 15 4参考编号1 27 5声明P_CUST_NAME 2 33 6 REFERENCE VARCHAR2 2 49 7选择语句5 5 8参考客户8 12 9参考P_CUST_ID 9 26 10参考CUSTOMER_ID 9 12 11参考客户6 20 12参考CUST_FIRST_NAME 5 20 13分配P_CUST_NAME 7 12</pre></div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-2683886C-032F-4F96-8AD4-DFB007749EA2" name="GUID-2683886C-032F-4F96-8AD4-DFB007749EA2"></a><h5 id="ADFNS-GUID-2683886C-032F-4F96-8AD4-DFB007749EA2" class="sect5">关于SQL语句签名</h5>
                     <div>
                        <p>每个SQL语句都有一个唯一的PL / Scope签名，用于标识所有PL / SQL单元中的语句实例。</p>
                        <p>SQL语句签名将来自SQL的PL / SQL单元的调用与来自不同PL / SQL单元的另一个调用的相同SQL_ID进行区分。</p>
                        <p>嵌套子查询不是ALL_STATEMENTS中的单个SQL语句。</p>
                        <div class="example" id="GUID-2683886C-032F-4F96-8AD4-DFB007749EA2__GUID-F4B8A72C-4023-40EA-95AF-B0B2969A7FC2">
                           <p class="titleinexample">示例14-7从不同的PL / SQL单元调用时，同一SQL语句的不同SQL签名</p>
                           <p>此示例显示了从PROCEDURE p1和p2调用同一SQL语句时的两个不同签名。您可以观察到嵌套子查询未分配不同的SQL_ID，因此不是ALL_STATEMENTS中的单个SQL语句。</p>
                           <div class="p"><pre class="pre codeblock"><code>创建或替换过程p1（p_cust_id NUMBER，p_cust_name OUT VARCHAR2）是BUSTIN SELECT（从CUSTOMERS中选择CUST_FIRST_NAME）INTO p_cust_name FROM CUSTOMERS WHERE CUSTOMER_ID = p_cust_id;结束; /创建或替换过程P2（p_cust_id NUMBER，p_cust_name OUT VARCHAR2）是从客户端开始选择（从CUSTOMERS中选择CUST_FIRST_NAME）到c_cust_name来自CUSTOMER_ID = p_cust_id;结束; / ACCEPT nam CHAR PROMPT“输入OBJECT_NAME：”SELECT * FROM ALL_STATEMENTS WHERE OBJECT_NAME ='&amp;&amp; nam'ORDER BY LINE，COL;</code></pre></div>
                           <div class="p">为P1和P2选择<code class="codeph">ALL_STATEMENTS</code>以观察相同<code class="codeph">SQL_ID</code>的不同SQL签名。<pre class="oac_no_warn" dir="ltr">新3：WHERE OBJECT_NAME ='P1'OE 138835D3A2EBBA76A7A064E4DC14B466 SELECT P1程序7 5 5 2 c02b6yppqb46p NO NO NO NO NO NO NO SELECT（从客户中选择CUST_FIRST_NAME）来自CUSTOMER_ID = CUSTOMER_ID =的客户：B1客户选择CUST_FIRST_NAME来自客户CUSTOMER_ID 0新3：WHERE OBJECT_NAME ='P2'OE E6A5E27E5E90997A169C5C25393FAB35 SELECT P2程序7 5 5 2 c02b6yppqb46p NO NO NO NO NO NO NO YES（从客户中选择CUST_FIRST_NAME）来自CUSTOMER_ID = C的客户：B1 SELECT（从客户中选择CUST_FIRST_NAME）FROM客户在哪里CUSTOMER_ID 0</pre></div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADFNS408"></a><div class="props_rev_3"><a id="GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF" name="GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF"></a><h4 id="ADFNS-GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF" class="sect4">SQL Developer</h4>
                  <div>
                     <p>PL / Scope是SQL Developer的一个特性。有关从SQL Developer使用PL / Scope的信息，请参阅SQL Developer联机帮助</p>
                     <div class="infoboxnotealso" id="GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF__FORINFORMATIONABOUTUSINGPLSCOPEFROM-CAC295BD">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RPTUG-GUID-464C045C-FBDF-417A-A20B-037D294B3BDA" target="_blank"><span class="italic">Oracle SQL Developer用户指南</span></a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046" name="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046"></a><h3 id="ADFNS-GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046" class="sect3">用于管理PL / SQL代码的数据字典视图概述</h3>
               <div>
                  <p>除PL / Scope数据字典视图外，以下静态字典视图对PL / SQL程序员最有用，并且通常在与PL / SQL代码管理报告相关的查询中引用。这不是所有静态数据字典视图的详尽列表。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046__GUID-44AB427A-B26F-4A69-931C-2F6798D4550F">用于管理PL / SQL代码的数据字典视图摘要</p>
                     <div class="tblformal" id="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046__GUID-F6895B00-D3CC-4439-AEA8-CE487C7F689A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="List of static dictionary views most often used in queries related to PL/SQL code management reports" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d65520e3363">查看名称</th>
                                 <th align="left" valign="bottom" width="20%" id="d65520e3365">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3369" headers="d65520e3363 ">ALL_ARGUMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3369 d65520e3365 ">列出当前用户可访问的函数和过程的参数</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3374" headers="d65520e3363 ">ALL_DEPENDENCIES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3374 d65520e3365 ">描述当前用户可访问的过程，包，函数，包体和触发器之间的依赖关系</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3379" headers="d65520e3363 ">ALL_ERRORS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3379 d65520e3365 ">描述当前用户可访问的存储对象的当前错误</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3384" headers="d65520e3363 ">ALL_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3384 d65520e3365 ">显示有关当前用户可访问的存储对象中的标识符的信息</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3389" headers="d65520e3363 ">USER_OBJECT_SIZE</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3389 d65520e3365 ">描述当前用户拥有的PL / SQL对象的大小（以字节为单位）。尽管此信息旨在供编译器和运行时引擎使用，但您可以使用它来标识环境中的大型程序。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3394" headers="d65520e3363 ">ALL_OBJECTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3394 d65520e3365 ">描述当前用户可访问的所有对象</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3399" headers="d65520e3363 ">ALL_PLSQL_OBJECT_SETTINGS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3399 d65520e3365 ">显示有关当前用户可访问的存储对象的编译器设置的信息</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3404" headers="d65520e3363 ">ALL_PROCEDURES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3404 d65520e3365 ">描述当前用户可访问的所有PL / SQL函数和过程以及相关属性</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3409" headers="d65520e3363 ">ALL_SEQUENCES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3409 d65520e3365 ">描述当前用户可访问的序列</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3414" headers="d65520e3363 ">ALL_SOURCE</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3414 d65520e3365 ">描述当前用户可访问的存储对象的文本源</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3419" headers="d65520e3363 ">ALL_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3419 d65520e3365 ">描述用户可访问的存储PL / SQL对象中的所有SQL语句</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3425" headers="d65520e3363 ">ALL_STORED_SETTINGS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3425 d65520e3365 ">描述当前用户具有执行权限的已存储PL / SQL单元的持久性参数设置</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3430" headers="d65520e3363 ">ALL_SYNONYMS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3430 d65520e3365 ">描述当前用户可访问的同义词</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3435" headers="d65520e3363 ">ALL_TAB_COLUMNS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3435 d65520e3365 ">描述当前用户可访问的表，视图和集群的列</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3440" headers="d65520e3363 ">ALL_TABLES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3440 d65520e3365 ">描述当前用户可访问的关系表</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3445" headers="d65520e3363 ">ALL_TRIGGERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3445 d65520e3365 ">描述当前用户可访问的表上的触发器</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3450" headers="d65520e3363 ">ALL_VIEWS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3450 d65520e3365 ">描述当前用户可访问的视图</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS02206"></a><div class="props_rev_3"><a id="GUID-1D07E448-0183-42B6-A4CA-9163F2784928" name="GUID-1D07E448-0183-42B6-A4CA-9163F2784928"></a><h3 id="ADFNS-GUID-1D07E448-0183-42B6-A4CA-9163F2784928" class="sect3">样本PL /范围会话</h3>
               <div>
                  <div class="section">
                     <p>在此示例会话中，假设您以<code class="codeph">HR</code>身份登录。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>设置会话参数：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET PLSCOPE_SETTINGS ='IDENTIFIERS：ALL';</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建此包：</span><div><pre class="oac_no_warn" dir="ltr">创建或替换包PACKAGE pack1 AUTHID DEFINER是类型r1是RECORD（rf1 VARCHAR2（10））;功能f1（fp1 NUMBER）返回号码;程序p1（pp1 VARCHAR2）; END PACK1; /创建或替换包裹身体包1是功能f1（fp1号码）返回号码是一个数字：= 10; BEGIN RETURN a; END f1;程序p1（pp1 VARCHAR2）是pr1 r1; BEGIN pr1.rf1：= pp1;结束; END pack1; /</pre></div>
                     </li>
                     <li class="stepexpand"><span>验证PL / Scope是否收集了包体的所有标识符：</span><div><pre class="oac_no_warn" dir="ltr">从USER_PLSQL_OBJECT_SETTINGS中选择PLSCOPE_SETTINGS，其中NAME ='PACK1'和TYPE ='PACKAGE BODY'</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">PLSCOPE_SETTINGS ------------------------------------------------- -----------------------识别者：全部</pre></div>
                     </li>
                     <li class="stepexpand"><span>通过查询所有<code class="codeph">DECLARATION</code>用法在<code class="codeph">HR</code>显示唯一标识符。例如，要查看名称为<code class="codeph">%1</code>所有唯一标识符，请使用以下SQL * Plus格式化命令和此查询：</span><div><pre class="oac_no_warn" dir="ltr">列名称格式A6列名称格式A32列类型格式A9选择名称，签名，类型来自USER_IDENTIFIERS，其名称类似于'％1'和USAGE =''DECLARATION'ORDER BY OBJECT_TYPE，USAGE_ID;</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">名称签名类型------ -------------------------------- --------- PACK1 41820FA4D5EF6BE707895178D0C5C4EF PACKAGE R1 EEBB6849DEE31BC77BF186EBAE5D4E2D RECORD RF1 41D70040337349634A7F547BC83517C7变量f1 D51E825FF334817C977174423E3D0765 FUNCTION FP1 CAC3474C112DBEC67AB926978D9A16C1形式化IN P1 B7C0576BA4D00C33A65CC0C64CADAB89 PROCEDURE PP1 6B74CF95A5B7377A735925DFAA280266形式化IN FP1 98EB63B8A4AFEB5EF94D50A20165D6CC形式化IN PP1 62D8463A314BE1F996794723402278CF形式化IN PR1 BDB1CB26C97562CCC20CD1F32D341D7C VARIABLE选择的10个行。
</pre><p><code class="codeph">*_IDENTIFIERS</code>静态数据字典视图仅显示基本类型名称;例如，局部变量或记录字段的<code class="codeph">TYPE</code>是<code class="codeph">VARIABLE</code> 。要确定<code class="codeph">VARIABLE</code>的确切类型，必须使用其<code class="codeph">USAGE_CONTEXT_ID</code> 。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>查找所有局部变量：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN VARIABLE_NAME FORMAT A13 COLUMN CONTEXT_NAME格式A12选择a。名称variable_name，b。名称context_name，a。来自USER_IDENTIFIERS的签名a，USER_IDENTIFIERS b WHERE a。USAGE_CONTEXT_ID = b。USAGE_ID和a。TYPE ='VARIABLE'和a。USAGE =''DECLARATION'和a。OBJECT_NAME ='PACK1'和a。OBJECT_NAME = b。OBJECT_NAME和a。OBJECT_TYPE = b。OBJECT_TYPE和（b。TYPE ='FUNCTION'或b。TYPE ='PROCEDURE'）按顺序排序。OBJECT_TYPE，a。USAGE_ID;</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">VARIABLE_NAME CONTEXT_NAME SIGNATURE ------------- ------------ ---------------------- ----------选择2行F1 1691C6B3C951FCAA2CBEEB47F85CF128 PR1 P1 BDB1CB26C97562CCC20CD1F32D341D7C。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>查找在局部变量<code class="codeph">A</code>上执行的所有用法：</span><div><pre class="oac_no_warn" dir="ltr">列使用格式A11列USAGE_ID格式999 COLUMN OBJECT_NAME格式A11列OBJECT_TYPE格式A12选择使用，USAGE_ID，OBJECT_NAME，OBJECT_TYPE来自USER_IDENTIFIERS，其中SIGNATURE ='1691C6B3C951FCAA2CBEEB47F85CF128' -  A ORDER BY OBJECT_TYPE，USAGE_ID的签名;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">USAGE USAGE_ID OBJECT_NAME OBJECT_TYPE ----------- -------- ----------- ------------声明6 PACK1 PACKAGE BODY ASSIGNMENT 8 PACK1 PACKAGE BODY REFERENCE 9 PACK1 PACKAGE BODY选择3行。
</pre><p>在本地标识符<code class="codeph">A</code>上执行的使用是标识符声明（ <code class="codeph">USAGE_ID</code> <code class="codeph">6</code> ），赋值（ <code class="codeph">USAGE_ID</code> <code class="codeph">8</code> ）和引用（ <code class="codeph">USAGE_ID</code> <code class="codeph">9</code> ）。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>从本地标识符<code class="codeph">A</code>的声明中，找到它的类型：</span><div><pre class="oac_no_warn" dir="ltr">列名称格式A6列类型格式A15选择a。NAME，a。TYPE FROM USER_IDENTIFIERS a，USER_IDENTIFIERS b WHERE a。USAGE ='参考'和a。USAGE_CONTEXT_ID = b。USAGE_ID和b。USAGE =''DECLARATION'和b。SIGNATURE ='D51E825FF334817C977174423E3D0765' -  F1和a的签名。OBJECT_TYPE = b。OBJECT_TYPE和a。OBJECT_NAME = b。OBJECT_NAME;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">名称类型------ ---------------选择了NUMBER NUMBER DATATYPE 1行。</pre></div>
                     </li>
                     <li class="stepexpand"><span>找出本地标识符<code class="codeph">A</code>的分配位置：</span><div><pre class="oac_no_warn" dir="ltr">SELECT LINE，COL，OBJECT_NAME，OBJECT_TYPE FROM USER_IDENTIFIERS WHERE SIGNATURE ='1691C6B3C951FCAA2CBEEB47F85CF128' -  A和USAGE ='ASSIGNMENT'的签名;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">LINE COL OBJECT_NAME OBJECT_TYPE ---------- ---------- ----------- ------------ 3 5 PACK1 PACKAGE BODY 1行被选中。</pre></div>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>