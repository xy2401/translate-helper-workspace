<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用市场篮子数据</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="API Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="API Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-12T22:34:55-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E97869-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-nested-dita.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-retail-analysis-data.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DMAPI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-nested-dita.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-retail-analysis-data.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-data-mining-API.html" property="item" typeof="WebPage"><span property="name">使用Data Mining API</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="preparing-data.html" property="item" typeof="WebPage"><span property="name">准备数据</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用市场篮子数据</li>
            </ol>
            <a id="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9" name="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9"></a><a id="DMPRG171"></a>
            
            <h2 id="DMAPI-GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9" class="sect2"><span class="enumeration_section">29.4</span>使用市场篮子数据</h2>
         </header>
         <div class="ind">
            <div>
               <p>马克等<a id="d32128e27" class="indexterm-anchor"></a>篮子数据标识在一组篮子或交易中出售的物品。Oracle Data Mining为市场购物篮分析提供关联挖掘功能。
               </p>
               <p>关联模型使用<a id="d32128e32" class="indexterm-anchor"></a> Apriori算法生成关联规则，描述如何在组中购买项目。例如，关联规则可以断言购买花生酱的人有80％也可能购买果冻。
               </p>
               <p>市场篮子数据通常是<strong class="term">交易性的</strong> 。在交易中<a id="d32128e40" class="indexterm-anchor"></a>数据，案例是事务，事务的数据存储在多行中。Oracle Data Mining关联模型可以基于事务数据或单记录案例数据构建。<code class="codeph">ODMS_ITEM_ID_COLUMN_NAME</code>和<code class="codeph">ODMS_ITEM_VALUE_COLUMN_NAME</code>设置指定关联规则的数据是否为事务格式。
               </p>
               <div class="infoboxnote" id="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9__GUID-D4FC1943-78CA-4EFC-B6FC-177A8FA9912A">
                  <p class="notep1">注意：</p>
                  <p>关联模型是可以在本机事务数据上构建的唯一模型类型。对于所有其他类型的模型，Oracle Data Mining要求数据以单记录格式呈现。</p>
               </div>
               <p>Apriori算法假设数据是事务性的，并且它有许多缺失值。Apriori将所有缺失值解释为稀疏数据，并且它有自己的处理稀疏数据的本机机制。</p>
               <div class="infoboxnotealso" id="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9__GUID-ED76BA0D-574C-4BD8-A046-FB8F5D714C82">
                  <p class="notep1">也可以看看：</p>
                  <p>有关<code class="codeph">ODMS_ITEM_ID_COLUMN_NAME</code>和<code class="codeph">ODMS_ITEM_VALUE_COLUMN_NAME</code>设置的信息，请<code class="codeph">ODMS_ITEM_ID_COLUMN_NAME</code> <a href="DBMS_DATA_MINING.html#ARPLS617" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                  </p>
               </div>
            </div><a id="DMPRG170"></a><a id="DMPRG169"></a><div class="props_rev_3"><a id="GUID-F157D6D3-52E2-48BF-AABA-1226339DF510" name="GUID-F157D6D3-52E2-48BF-AABA-1226339DF510"></a><h3 id="DMAPI-GUID-F157D6D3-52E2-48BF-AABA-1226339DF510" class="sect3"><span class="enumeration_section">29.4.1</span>示例：为Market Basket Analysis创建嵌套列</h3>
               <div>
                  <p>该示例显示如何为市场购物篮分析定义嵌套列。</p>
                  <div class="section">
                     <p>关联模型可以基于本机事务数据或嵌套数据构建。以下示例显示如何为市场购物篮分析定义嵌套列。</p>
                     <p>下面的SQL语句这个数据转换为类型的列<code class="codeph">DM_NESTED_NUMERICALS</code>在一个名为视图<code class="codeph">SALES_TRANS_CUST_NESTED</code> 。此视图可用作挖掘的案例表。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW sales_trans_cust_nested AS SELECT trans_id，CAST（COLLECT（ <span class="bold"><code class="codeph">DM_NESTED_NUMERICAL</code></span> （prod_name，1））AS <span class="bold"><code class="codeph">DM_NESTED_NUMERICALS</code></span> ）custprods FROM sales_trans_cust GROUP BY trans_id;</pre><p>此查询从转换后的数据中返回两行。</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales_trans_cust_nested WHERE trans_id &lt;101000 AND trans_id&gt; 100997; TRANS_ID CUSTPRODS（ATTRIBUTE_NAME，VALUE）------- ------------------------------------ ------------ 100998 DM_NESTED_NUMERICALS（DM_NESTED_NUMERICAL（'O / S文档集 - 英文'，1）100999 DM_NESTED_NUMERICALS（DM_NESTED_NUMERICAL（'CD-RW，高速包5'，1），DM_NESTED_NUMERICAL （'外部8X CD-ROM'，1），DM_NESTED_NUMERICAL（'SIMM-16MB PCMCIAII卡'，1））</pre></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F157D6D3-52E2-48BF-AABA-1226339DF510__BJECGFEB">
                     <p class="titleinexample">示例29-7转换为嵌套列</p>
                     <p><code class="codeph">SALES_TRANS_CUST</code>视图提供了一个事务ID列表，用于标识每个市场购物篮以及每个购物篮中的产品列表。
                     </p><pre class="oac_no_warn" dir="ltr">描述sales_trans_cust名称是否为空？输入------------------------------------------------- ---- -------- ---------------- TRANS_ID NOT NULL NUMBER PROD_NAME NOT NULL VARCHAR2（50）QUANTITY NUMBER</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="handling-missing-values.html#GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B" title="随机将丢失的数据转换为稀疏或丢失。">处理缺失值</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>