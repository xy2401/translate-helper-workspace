<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置DRDA服务器</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:13:41-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="install-drda-gateway.html" title="Previous" type="text/html"></link>
      <link rel="next" href="config-gateway-drda.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for Microsoft Windows"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIW"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install-drda-gateway.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="config-gateway-drda.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-drda-gateway.html" property="item" typeof="WebPage"><span property="name">为DRDA安装和配置Oracle数据库网关</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置DRDA服务器</li>
            </ol>
            <a id="GUID-E9E5F9D0-0FA9-45AA-B500-DD62B12324CE" name="GUID-E9E5F9D0-0FA9-45AA-B500-DD62B12324CE"></a><a id="OTGIW130"></a>
            
            <h2 id="OTGIW-GUID-E9E5F9D0-0FA9-45AA-B500-DD62B12324CE" class="sect2"><span class="enumeration_chapter">13</span>配置DRDA服务器</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节介绍配置DRDA服务器必须执行的任务。每个支持的操作系统都单独处理。需要具有给定操作系统和数据库的经验。</p>
               <p><a id="d23762e31" class="indexterm-anchor"></a><a id="d23762e37" class="indexterm-anchor"></a><a id="d23762e41" class="indexterm-anchor"></a>配置远程DRDA服务器的步骤适用于以下DRDA服务器：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>DB2 UDB for z / OS</p>
                  </li>
                  <li>
                     <p>DB2 UDB for iSeries</p>
                  </li>
                  <li>
                     <p>DB2 UDB Linux版，UNIX版和Windows版</p>
                  </li>
               </ul>
               <p>配置DRDA数据库以启用网关访问需要对DRDA数据库和主机操作系统的某些组件执行操作。虽然主机系统上未安装Oracle软件，但在配置期间需要访问主机系统和DRDA数据库以及一些知识。有关主机系统和DRDA数据库的完整信息，请参阅供应商文档。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="config-drda-server.html#GUID-AAF0EE76-61A9-411E-AF84-3F4BA89EFBB0">为DB2 UDB for z / OS配置DRDA服务器</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-server.html#GUID-22D7889B-3CB9-4082-B0B0-99A48881972D">为DB2 UDB for iSeries配置DRDA服务器</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-server.html#GUID-AF8797B3-DF5E-4DF2-BAFB-C322B9B354BF">为DB2 UDB for Linux_ UNIX_和Windows配置DRDA服务器</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-server.html#GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B">DRDA网关包的手动绑定</a></p>
                  </li>
               </ul>
            </div><a id="OTGIW1051"></a><div class="props_rev_3"><a id="GUID-AAF0EE76-61A9-411E-AF84-3F4BA89EFBB0" name="GUID-AAF0EE76-61A9-411E-AF84-3F4BA89EFBB0"></a><h3 id="OTGIW-GUID-AAF0EE76-61A9-411E-AF84-3F4BA89EFBB0" class="sect3">为DB2 UDB for z / OS配置DRDA服务器</h3>
               <div>
                  <div class="section">
                     <p>执行以下任务以在z / OS系统上配置带有DB2的DRDA服务器：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>定义拥有该程序包的用户标识</span><div>
                           <p><a id="d23762e136" class="indexterm-anchor"></a><a id="d23762e142" class="indexterm-anchor"></a>在特定DRDA服务器的第一次网关使用期间，Oracle提供的软件包将自动绑定到DRDA服务器。使用的用户标识和密码（隐含为当前Oracle用户或在<code class="codeph">CREATE DATABASE LINK</code>命令中明确定义）必须在DRDA服务器上具有适当的权限才能创建软件包。以下是该用户所需的最低权限：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>包<a id="d23762e154" class="indexterm-anchor"></a>特权<a id="d23762e161" class="indexterm-anchor"></a> <code class="codeph">BIND</code> <a id="d23762e167" class="indexterm-anchor"></a> ， <a id="d23762e174" class="indexterm-anchor"></a> <code class="codeph">COPY</code> <a id="d23762e182" class="indexterm-anchor"></a> ，和<a id="d23762e190" class="indexterm-anchor"></a> <code class="codeph">EXECUTE</code> <a id="d23762e196" class="indexterm-anchor"></a> ， 例如：</p><pre class="oac_no_warn" dir="ltr">包裹上的GRANT BINDAGE oraclegtw。*对<span class="italic">用户ID</span> GRANT COPY ON PACKAGE oraclegtw。*对<span class="italic">用户ID</span> GRANT EXECUTE ON PACKAGE oraclegtw。*到公共场合</pre></li>
                              <li>
                                 <p>采集<a id="d23762e214" class="indexterm-anchor"></a>特权<a id="d23762e219" class="indexterm-anchor"></a> <code class="codeph">CREATE</code> <code class="codeph">IN</code> <a id="d23762e228" class="indexterm-anchor"></a> ， 例如：</p><pre class="oac_no_warn" dir="ltr">收集oraclegtw到USER用户<span class="italic">ID的</span> GRANT创建
</pre></li>
                              <li>
                                 <p>系统<a id="d23762e243" class="indexterm-anchor"></a>特权<a id="d23762e248" class="indexterm-anchor"></a> <code class="codeph">BINDADD</code> <a id="d23762e254" class="indexterm-anchor"></a>和<a id="d23762e261" class="indexterm-anchor"></a> <code class="codeph">BINDAGENT</code> <a id="d23762e267" class="indexterm-anchor"></a> ， 例如：</p><pre class="oac_no_warn" dir="ltr">GRANT BINDADD TO USER <span class="italic">userid</span> GRANT BINDAGENT TO USER <span class="italic">userid</span>
</pre></li>
                              <li>
                                 <p>数据库<a id="d23762e285" class="indexterm-anchor"></a>特权<a id="d23762e288" class="indexterm-anchor"></a> <code class="codeph">CREATETAB</code> <a id="d23762e294" class="indexterm-anchor"></a> ， 例如：</p><pre class="oac_no_warn" dir="ltr">GRANT CREATETAB ON DATABASE <span class="italic">数据库</span> TO USER <span class="italic">userid</span>
</pre></li>
                           </ul>
                           <p>（可选）您可以选择DRDA Gateway软件包的手动绑定。有关如何手动绑定DB2 UDB for Linux，Unix和Windows的<a href="config-drda-server.html#GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B">程序包</a>的说明，请参阅<a href="config-drda-server.html#GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B">DRDA网关程序包</a>的手动绑定。
                           </p>
                           <p>选择将拥有包和<code class="codeph">HS_TRANSACTION_LOG</code>表的用户标识。确保为DB2和OS / 390（MVS）定义了此用户标识。
                           </p>
                           <p>必须在表<code class="codeph">SYSIBM.SYSPACKSTMT</code>上为用户标识授予<code class="codeph">SELECT</code>权限。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>定义恢复用户标识</span><div>
                           <p>在网关配置期间， <a id="d23762e333" class="indexterm-anchor"></a>使用以下命令在网关初始化文件中指定恢复用户标识和密码<a id="d23762e338" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>和<a id="d23762e347" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_PWD</code> <a id="d23762e354" class="indexterm-anchor"></a>参数。如果分布式事务失败，则恢复过程连接到<a id="d23762e362" class="indexterm-anchor"></a>远程数据库使用在这些参数中定义的用户标识和密码。此用户标识必须具有包的执行权限，并且必须在DRDA数据库中定义。如果未指定用户标识<a id="d23762e369" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> ，然后网关尝试连接到用户ID <a id="d23762e376" class="indexterm-anchor"></a>当分布式交易存在疑问时<code class="codeph">RECOVER</code> 。
                           </p>
                           <p>确定将用于恢复的用户标识和密码。</p>
                           <p>必须在与恢复用户相同的模式下创建<code class="codeph">HS_TRANSACTION_LOG</code>表。
                           </p>
                           <p>必须在表<code class="codeph">SYSIBM.SYSPACKSTMT</code>上为恢复用户标识授予<code class="codeph">SELECT</code>权限。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>确定DB2实例的DRDA位置名称</span><div>
                           <p>DRDA位置名称是网关参数。要确定位置名称，请从DB2 SPUFI会话运行以下SQL查询：</p><pre class="oac_no_warn" dir="ltr">从<span class="italic">any_table中</span>选择当前服务器 
</pre><p>其中<span class="italic"><code class="codeph">any_table</code></span>是包含一行或多行的有效表。
                           </p>
                           <p>如果此查询返回的值为空或null，则尚未建立DRDA位置名称。请与系统管理员联系，以安排为实例设置位置名称。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>为Gateway配置DB2分布式数据工具</span><div>
                           <p><a id="d23762e422" class="indexterm-anchor"></a> DB2分布式数据工具（DDF）是DB2的组件，它管理所有分布式数据库操作，包括DRDA和非DRDA。</p>
                           <p>如果您的站点使用DB2 <a id="d23762e429" class="indexterm-anchor"></a>在分布式操作中，DDF可能在您计划通过网关访问的DB2实例上运行。如果DDF不可操作，则必须按照相应的DB2文档中的描述对其进行配置并启动它。
                           </p>
                           <p>即使DDF在DB2实例上运行，也可能需要对DDF进行更改<a id="d23762e436" class="indexterm-anchor"></a>通信数据库（CDB）表，用于指定来自网关的DRDA会话的授权行为。正确授权的用户可以使用诸如此类的实用程序来执行此操作<a id="d23762e439" class="indexterm-anchor"></a> DB2 SPUFI实用程序。如果对CDB表进行更改，则必须停止并重新启动DDF才能使更改生效。有关其他CDB表和安全信息，请参阅<a href="security-consideration-drda-gateway.html#GUID-8A5E29B7-B0A0-4A21-A072-97D3639FB141">安全注意事项</a> 。
                           </p>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="OTGIW1052"></a><div class="props_rev_3"><a id="GUID-22D7889B-3CB9-4082-B0B0-99A48881972D" name="GUID-22D7889B-3CB9-4082-B0B0-99A48881972D"></a><h3 id="OTGIW-GUID-22D7889B-3CB9-4082-B0B0-99A48881972D" class="sect3">为DB2 UDB for iSeries配置DRDA服务器</h3>
               <div>
                  <div class="section">
                     <p>需要具备DB2 UDB for iSeries和AS / 400的经验才能执行以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>定义拥有该程序包的用户标识</span><div>
                           <p>在特定DRDA服务器的第一次网关使用期间，Oracle提供的软件包将自动绑定到DRDA服务器。使用的用户标识和密码（隐含为当前Oracle用户或在<code class="codeph">CREATE DATABASE LINK</code>命令中显式定义）必须在DRDA服务器上具有适当的权限才能创建包。以下是此用户所需的最低权限：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在<code class="codeph">CRTSQLPKG</code>命令上使用权限</p>
                              </li>
                              <li>
                                 <p>更改将在其中创建包的库的权限</p>
                              </li>
                           </ul>
                           <p>现在选择将拥有包和<code class="codeph">HS_TRANSACTION_LOG</code>表的用户ID。确保已定义此用户标识<a id="d23762e546" class="indexterm-anchor"></a> DB2 UDB for iSeries和<a id="d23762e551" class="indexterm-anchor"></a> AS / 400。
                           </p>
                           <p>必须在表<code class="codeph">QSYS2.上为用户标识授予<code class="codeph">SELECT</code>权限<code class="codeph">QSYS2.SYSPACKAGE</code> 。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>定义恢复用户标识</span><div>
                           <p>在网关配置期间， <a id="d23762e570" class="indexterm-anchor"></a>使用以下命令在网关初始化文件中指定恢复用户标识和密码<a id="d23762e575" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> <a id="d23762e581" class="indexterm-anchor"></a>和<a id="d23762e588" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_PWD</code> <a id="d23762e594" class="indexterm-anchor"></a>参数。如果分布式事务失败，则恢复过程连接到<a id="d23762e602" class="indexterm-anchor"></a>远程数据库使用在这些参数中定义的用户标识和密码。此用户标识必须具有包的执行权限，并且必须定义到DRDA数据库。如果未指定用户标识<a id="d23762e609" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> ，然后网关尝试连接到用户ID <a id="d23762e616" class="indexterm-anchor"></a>当分布式交易存在疑问时<code class="codeph">RECOVER</code> 。
                           </p>
                           <p>确定将用于恢复的用户标识和密码。</p>
                           <p>必须在与恢复用户相同的模式下创建<code class="codeph">HS_TRANSACTION_LOG</code>表。
                           </p>
                           <p>必须在表<code class="codeph">QSYS2.上为恢复用户标识授予<code class="codeph">SELECT</code>权限<code class="codeph">QSYS2.SYSPACKAGE</code> 。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>确定DB2 UDB for iSeries实例的DRDA位置名称</span><div>
                           <p>DRDA位置名称是网关参数。要确定位置名称，请从STRSQL会话运行以下SQL查询。如果SQL在系统上不可用，则使用AS / 400 <a id="d23762e644" class="indexterm-anchor"></a>命令<a id="d23762e649" class="indexterm-anchor"></a> <code class="codeph">DSPRDBDIRE</code>用于识别您的<code class="codeph">LOCAL</code> DRDA服务器。
                           </p><pre class="oac_no_warn" dir="ltr">从<span class="italic">any_table中</span>选择当前服务器
</pre><p>其中<span class="italic"><code class="codeph">any_table</code></span>是包含一行或多行的有效表。
                           </p>
                           <p>如果此查询返回的值为空或null，则尚未建立DRDA位置名称。请与系统管理员联系，以安排为实例设置位置名称。</p>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="OTGIW1053"></a><div class="props_rev_3"><a id="GUID-AF8797B3-DF5E-4DF2-BAFB-C322B9B354BF" name="GUID-AF8797B3-DF5E-4DF2-BAFB-C322B9B354BF"></a><h3 id="OTGIW-GUID-AF8797B3-DF5E-4DF2-BAFB-C322B9B354BF" class="sect3">为DB2 UDB for Linux，UNIX和Windows配置DRDA服务器</h3>
               <div>
                  <div class="section">
                     <p>经验<a id="d23762e720" class="indexterm-anchor"></a> DB2 / UDB，配置DB2 UDB for Linux，UNIX和Windows的通信子系统以及主机系统管理工具是执行以下步骤所必需的。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>定义拥有该程序包的用户标识</span><div>
                           <p>在特定DRDA服务器的第一次网关使用期间，Oracle提供的软件包将自动绑定到DRDA服务器。使用的用户标识和密码（隐含为当前Oracle用户或在CREATE DATABASE LINK命令中明确定义）必须在DRDA服务器上具有适当的权限才能创建软件包。以下是该用户所需的最低权限：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>包<a id="d23762e736" class="indexterm-anchor"></a>特权<a id="d23762e741" class="indexterm-anchor"></a> <code class="codeph">BIND</code> <a id="d23762e747" class="indexterm-anchor"></a>和<a id="d23762e754" class="indexterm-anchor"></a> <code class="codeph">EXECUTE</code> <a id="d23762e760" class="indexterm-anchor"></a> ， 例如：</p><pre class="oac_no_warn" dir="ltr">包裹上的GRANT BINDAGE oraclegtw。*对<span class="italic">用户ID</span> GRANT EXECUTE ON PACKAGE oraclegtw。*到公共场合</pre></li>
                              <li>
                                 <p>架构<a id="d23762e775" class="indexterm-anchor"></a>特权<a id="d23762e778" class="indexterm-anchor"></a> <code class="codeph">CREATEIN</code> <a id="d23762e782" class="indexterm-anchor"></a> ， 例如：</p><pre class="oac_no_warn" dir="ltr">GRANT CREATEIN on SCHEMA otgdb2 TO USER <span class="italic">userid</span> GRANT CREATEIN ON SCHEMA oraclegtw TO USER <span class="italic">userid</span>
</pre></li>
                              <li>
                                 <p>数据库<a id="d23762e800" class="indexterm-anchor"></a>当局<a id="d23762e805" class="indexterm-anchor"></a> <code class="codeph">CONNECT</code> <a id="d23762e811" class="indexterm-anchor"></a> ， <a id="d23762e818" class="indexterm-anchor"></a> <code class="codeph">BINDADD</code> <a id="d23762e824" class="indexterm-anchor"></a> ，和<a id="d23762e832" class="indexterm-anchor"></a> <code class="codeph">CREATETAB</code> <a id="d23762e838" class="indexterm-anchor"></a> ， 例如：</p><pre class="oac_no_warn" dir="ltr">GRANT将DATABASE连接到USER <span class="italic">userid</span> GRANT BINDADD ON DATABASE TO USER <span class="italic">userid</span> GRANT CREATETAB ON DATABASE TO USER <span class="italic">userid</span>
</pre></li>
                           </ul>
                           <p>（可选）您可以选择DRDA Gateway软件包的手动绑定。有关如何手动绑定DB2 UDB for Linux，Unix和Windows的<a href="config-drda-server.html#GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B">程序包</a>的说明，请参阅<a href="config-drda-server.html#GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B">DRDA网关程序包</a>的手动绑定。
                           </p>
                           <p>选择将拥有包的用户ID <a id="d23762e863" class="indexterm-anchor"></a> <code class="codeph">HS_TRANSACTION_LOG</code>表。确保在DB2实例ID和操作系统中都定义了此用户标识。
                           </p>
                           <p>必须在表<code class="codeph">SYSIBM.SYSPLAN</code>上为用户标识授予<code class="codeph">SELECT</code>权限。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>定义恢复用户标识</span><div>
                           <p>在网关配置期间， <a id="d23762e884" class="indexterm-anchor"></a>使用以下命令在网关初始化文件中指定恢复用户标识和密码<a id="d23762e889" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> <a id="d23762e895" class="indexterm-anchor"></a>和<a id="d23762e902" class="indexterm-anchor"></a> <code class="codeph">HS_FDS_RECOVERY_PWD</code> <a id="d23762e908" class="indexterm-anchor"></a>参数。如果分布式事务失败，则恢复过程连接到<a id="d23762e916" class="indexterm-anchor"></a>远程数据库使用在这些参数中定义的用户标识和密码。此用户标识必须具有包的执行权限，并且必须定义到DRDA数据库。如果未在<code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>指定用户标识，则网关会尝试连接到用户标识<a id="d23762e926" class="indexterm-anchor"></a>当分布式交易存在疑问时<code class="codeph">RECOVER</code> 。
                           </p>
                           <p>确定将用于恢复的用户标识和密码。</p>
                           <p>必须在与恢复用户相同的模式下创建<code class="codeph">HS_TRANSACTION_LOG</code>表。
                           </p>
                           <p>必须在表<code class="codeph">SYSIBM.SYSPLAN</code>上为恢复用户标识授予<code class="codeph">SELECT</code>权限。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>确定DB2 UDB for Linux，UNIX和Windows实例的DRDA位置名称</span><div>
                           <p>DRDA位置名称是网关参数。要确定位置名称，请从DB2 CLI会话运行以下SQL查询：</p><pre class="oac_no_warn" dir="ltr">从<span class="italic">any_table中</span>选择当前服务器
</pre><p>其中<span class="italic"><code class="codeph">any_table</code></span>是包含一行或多行的有效表。
                           </p>
                           <p>如果此查询返回的值为空或null，则尚未建立DRDA位置名称。请与系统管理员联系以设置实例的位置名称。</p>
                        </div>
                     </li>
                  </ol>
               </div>
            </div>
            <div class="props_rev_2"><a id="GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B" name="GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B"></a><h3 id="OTGIW-GUID-D1F4A231-EFCB-4EB3-AFBE-A17356461D0B" class="sect3">DRDA网关包的手动绑定</h3>
               <div>
                  <div class="section">
                     <p>网关使用多个DB2包，它通常在网关连接到DB2实例的第一次上传和绑定。在某些客户环境中，连接用户标识可能没有执行绑定所需的权限，或者某些客户可能更喜欢手动绑定包而不是允许网关进行绑定。</p>
                     <p>在这种情况下，Oracle为手动绑定提供了一组预定义的包。这些软件包带有一些限制，必须通过设置特定的网关初始化参数来设置值，否则网关将尝试自动重新绑定软件包。</p>
                     <p>本节包含以下子部分：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="config-drda-server.html#GUID-31856D1E-D2C0-4206-803F-1CAA71CA70E6">手动绑定DB2 UDB for z / OS的包</a></p>
                        </li>
                        <li>
                           <p><a href="config-drda-server.html#GUID-3A7AEB70-3A75-4BEF-B4A8-DE6F852D6284">手动绑定DB2 UDB for Linux_Unix_和Windows的包</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="props_rev_3"><a id="GUID-31856D1E-D2C0-4206-803F-1CAA71CA70E6" name="GUID-31856D1E-D2C0-4206-803F-1CAA71CA70E6"></a><h4 id="OTGIW-GUID-31856D1E-D2C0-4206-803F-1CAA71CA70E6" class="sect4">手动绑定DB2 UDB for z / OS的包</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以手动绑定DB2 UDB for z / OS的包：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用参数<code class="codeph">DSORG=PS</code> ， <code class="codeph">RECFM=FB</code> ， <code class="codeph">RECFM=FB</code> <code class="codeph">LRECL=80</code>和<code class="codeph">BLKSIZE=3120</code>在z / OS上分配顺序数据集。例如，</span><div><pre class="oac_no_warn" dir="ltr">用户身份。DBRMFILE.XMIT</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用参数<code class="codeph">DSORG=PO</code> ， <code class="codeph">RECFM=FB</code> ， <code class="codeph">RECFM=FB</code> <code class="codeph">LRECL=80</code>和<code class="codeph">BLKSIZE=6160</code>分配分区<code class="codeph">LRECL=80</code> <code class="codeph">BLKSIZE=6160</code> 。例如，</span><div><pre class="oac_no_warn" dir="ltr">用户身份。TG4DRDA.CNTL</pre></div>
                        </li>
                        <li class="stepexpand"><span>将以下文件FTP到<code class="codeph">BINARY</code>模式中先前分配的顺序数据集：</span><div><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_dbrm.xmit</pre><p>使用<code class="codeph">PUT</code>命令替换顺序数据集内容。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将以下文件以ASCII模式FTP到先前分配的PDS：</span><div><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_bind.jcl</pre><p>使用<code class="codeph">PUT</code>命令将文件作为成员名称<code class="codeph">BIND</code>放入PDS。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用ISPF的TSO命令选项（选项6）发出<code class="codeph">RECEIVE</code>命令：</span><div><pre class="oac_no_warn" dir="ltr">接收INDS（'用户ID。DBRMFILE.XMIT“）</pre><p>指定DA（ <code class="codeph">userid.DDODBC.DBRMLIB</code> ）作为<code class="codeph">RECEIVE</code>命令的参数。这将解压缩xmit文件并创建指定的PDS名称。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>编辑<code class="codeph">BIND JCL</code> （ <code class="codeph">userid.TG4DRDA.CNTL(BIND)</code> ）并按照说明更新<code class="codeph">JCL</code> 。更新后，提交<code class="codeph">JCL</code>以执行包的实际绑定并授予包的执行权限。</span></li>
                     </ol>
                     <div class="section">
                        <p>要将这些软件包与网关一起使用，请在网关初始化文件中设置以下init参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">HS_OPEN_CURSORS = 200</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">HS_FDS_PACKAGE_COLLID = NULLID</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3A7AEB70-3A75-4BEF-B4A8-DE6F852D6284" name="GUID-3A7AEB70-3A75-4BEF-B4A8-DE6F852D6284"></a><h4 id="OTGIW-GUID-3A7AEB70-3A75-4BEF-B4A8-DE6F852D6284" class="sect4">手动绑定DB2 UDB for Linux，Unix和Windows的包</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以手动绑定DB2 UDB for Linux，Unix和Windows的包：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将以下文件从<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4db2\admin</code>复制到运行DB2实例的主机：</span><div><pre class="oac_no_warn" dir="ltr">DDOC510A.bnd DDOC510B.bnd DDOC510A.bnd DDON510A.bnd DDON510B.bnd DDON510C.bnd DDOR510A.bnd DDOR510B.bnd DDOR510C.bnd DDOS510A.bnd DDOS510B.bnd DDOS510C.bnd DDOU510A.bnd DDOU510B.bnd DDOU510C.bnd dg4db2_luw_pkglist.lst</pre><p>如果通过FTP复制， <code class="codeph">.bnd</code>结尾的文件应以BINARY模式传输，以<code class="codeph">.lst</code>结尾的文件应以ASCII模式传输。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>连接到DB2实例并发出bind命令。例如，</span><div><pre class="oac_no_warn" dir="ltr">db2'使用&lt;password&gt;'连接到&lt;database_name&gt; user &lt;userid&gt;'db2'bind @ dg4db2_luw_pkglist.lst grant public'</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>要将这些软件包与网关一起使用，请在网关初始化文件中设置以下初始化参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">HS_OPEN_CURSORS = 200</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">HS_FDS_PACKAGE_COLLID = NULLID</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>