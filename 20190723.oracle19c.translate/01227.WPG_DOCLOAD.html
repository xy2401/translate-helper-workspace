<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The WPG_DOCLOAD package provides an interface to download files, BLOBs and BFILEs.">
      <meta name="description" content="The WPG_DOCLOAD package provides an interface to download files, BLOBs and BFILEs.">
      <title>WPG_DOCLOAD</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The WPG_DOCLOAD package provides an interface to download files, BLOBs and BFILEs.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="UTL_URL.html" title="Previous" type="text/html">
      <link rel="next" href="ANYDATA-TYPE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="UTL_URL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="ANYDATA-TYPE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> WPG_DOCLOAD</li>
            </ol>
            <a id="GUID-991F60DB-E7AC-4F02-AED9-8EB201986D37" name="GUID-991F60DB-E7AC-4F02-AED9-8EB201986D37"></a><a id="ARPLS200"></a><a id="ARPLS200"></a>
            
            <h2 id="ARPLS-GUID-991F60DB-E7AC-4F02-AED9-8EB201986D37" class="sect2"><span class="enumeration_chapter">270 </span> WPG_DOCLOAD
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">WPG_DOCLOAD</code> package provides an interface to download files, <code class="codeph">BLOB</code>s and <code class="codeph">BFILE</code>s. 
               </p>
               <div class="infoboxnotealso" id="GUID-991F60DB-E7AC-4F02-AED9-8EB201986D37__GUID-581B51A0-5700-4570-87D5-B14894F89B30">
                  <p class="notep1">See Also:</p>
                  <p>For more information about implementation of this package:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=HSADM" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle HTTP Server</span></a></p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=YPMOD" target="_blank"><span class="italic">Oracle Fusion Middleware User's Guide for mod_plsql</span></a></p>
                     </li>
                  </ul>
               </div>
               <p>The chapter contains the following topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="WPG_DOCLOAD.html#GUID-3617C691-9CED-4DD3-9541-EF1E0C667B0C" title="WPG_DOCLOAD defines several constants to use when specifying parameter values.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="WPG_DOCLOAD.html#GUID-E61F243B-3C38-430C-A3BA-2340EC2E9EBB" title="The WPG_DOCLOAD package uses one subprogram, the DOWNLOAD_FILE procedure.">Summary of WPG_DOCLOAD Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS71594"></a><a id="ARPLS71594"></a><div class="props_rev_3"><a id="GUID-3617C691-9CED-4DD3-9541-EF1E0C667B0C" name="GUID-3617C691-9CED-4DD3-9541-EF1E0C667B0C"></a><h3 id="ARPLS-GUID-3617C691-9CED-4DD3-9541-EF1E0C667B0C" class="sect3"><span class="enumeration_section">270.1 </span>WPG_DOCLOAD Constants
               </h3>
               <div>
                  <p><code class="codeph">WPG_DOCLOAD</code> defines several constants to use when specifying parameter values. 
                  </p>
                  <div class="section">
                     <p>The <code class="codeph">WPG_DOCLOAD</code> constants are listed below:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>NAME_COL_LEN</p>
                        </li>
                        <li>
                           <p>MIMET_COL_LEN</p>
                        </li>
                        <li>
                           <p>MAX_DOCTABLE_NAME_LEN</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3617C691-9CED-4DD3-9541-EF1E0C667B0C__GUID-BA4E7C6A-A2BE-4416-84AB-A5039C63BCCB">NAME_COL_LEN</p>
                     <p>The <code class="codeph">NAME</code> column in your document table must be the same as the value of <code class="codeph">name_col_len</code>.
                     </p><pre class="oac_no_warn" dir="ltr">name_col_len CONSTANT pls_integer := 64;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3617C691-9CED-4DD3-9541-EF1E0C667B0C__GUID-0CA18119-C339-409E-95E8-E2A0086E6360">MIMET_COL_LEN</p>
                     <p>The <code class="codeph">MIME_TYPE</code> column in your document table must be the same as the value of <code class="codeph">mimet_col_len</code>.
                     </p><pre class="oac_no_warn" dir="ltr">mimet_col_len CONSTANT pls_integer := 48;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3617C691-9CED-4DD3-9541-EF1E0C667B0C__GUID-69467699-2580-421A-A4F6-C225155591E4">MAX_DOCTABLE_NAME_LEN</p>
                     <p>The name length of your document table must be less than <code class="codeph">max_doctable_name_len</code>.
                     </p><pre class="oac_no_warn" dir="ltr">max_doctable_name_len CONSTANT pls_integer := 256;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71598"></a><a id="ARPLS71599"></a><a id="ARPLS71599"></a><a id="ARPLS71598"></a><div class="props_rev_3"><a id="GUID-E61F243B-3C38-430C-A3BA-2340EC2E9EBB" name="GUID-E61F243B-3C38-430C-A3BA-2340EC2E9EBB"></a><h3 id="ARPLS-GUID-E61F243B-3C38-430C-A3BA-2340EC2E9EBB" class="sect3"><span class="enumeration_section">270.2 </span>Summary of WPG_DOCLOAD Subprograms
               </h3>
               <div>
                  <p>The WPG_DOCLOAD package uses one subprogram, the <code class="codeph">DOWNLOAD_FILE</code> procedure.
                  </p>
                  <div class="tblformal" id="GUID-E61F243B-3C38-430C-A3BA-2340EC2E9EBB__GUID-21F03467-41AF-4B42-A882-187F8E8F91B4">
                     <p class="titleintable">Table 270-1 WPG_DOCLOAD Package Subprograms </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="WPG_DOCLOAD Package Subprograms " summary="This table lists the WPG_DOCLOAD subprogram and briefly describes it." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d1557185e375">Subprogram</th>
                              <th align="left" valign="bottom" width="63%" id="d1557185e378">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d1557185e383" headers="d1557185e375 ">
                                 <p><a href="WPG_DOCLOAD.html#GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF" title="There are three versions of this download file procedure.">DOWNLOAD_FILE Procedures</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d1557185e383 d1557185e378 ">
                                 <p>Downloads files, <code class="codeph">BLOBS</code> and <code class="codeph">BFILES</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS71600"></a><a id="ARPLS71601"></a><a id="ARPLS71601"></a><a id="ARPLS71600"></a><div class="props_rev_3"><a id="GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF" name="GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF"></a><h4 id="ARPLS-GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF" class="sect4"><span class="enumeration_section">270.2.1 </span>DOWNLOAD_FILE Procedures
                  </h4>
                  <div>
                     <p>There are three versions of this download file procedure. </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The first version downloads files and is invoked from within a document download procedure to signal the PL/SQL Gateway that <code class="codeph">p_filename</code> is to be downloaded from the document table to the client's browser. 
                              </p>
                           </li>
                           <li>
                              <p>The second version can be called from within any procedure to signal the PL/SQL Gateway that <code class="codeph">p_blob</code> is to be downloaded to the client's browser.
                              </p>
                           </li>
                           <li>
                              <p>The third version can be called from within any procedure to signal the PL/SQL Gateway that <code class="codeph">p_bfile</code> is to be downloaded to the client's browser.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF__GUID-21496005-0B3E-4531-A5A9-4B7EDE8E99D1">Syntax</p><pre class="oac_no_warn" dir="ltr">WPG_DOCLOAD.DOWNLOAD_FILE(
   p_filename      IN             VARCHAR2, 
   p_bcaching      IN             BOOLEAN DEFAULT TRUE);</pre><p></p><pre class="oac_no_warn" dir="ltr">WPG_DOCLOAD.DOWNLOAD_FILE(
   p_blob          IN OUT NOCOPY  BLOB);

WPG_DOCLOAD.DOWNLOAD_FILE(
   p_bfile         IN OUT         BFILE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF__GUID-C07AC461-E68B-4CC5-86C5-1233D4D59630">Parameters</p>
                        <div class="tblformal" id="GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF__GUID-EE58382B-3805-4EB3-BA05-65D9F9D3C1B8">
                           <p class="titleintable">Table 270-2 DOWNLOAD_FILE Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DOWNLOAD_FILE Procedure Parameters " summary="This table describes the Parameters of the UTL_URL.DOWNLOAD_FILE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557185e533">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557185e536">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557185e541" headers="d1557185e533 ">
                                       <p><code class="codeph">p_filename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557185e541 d1557185e536 ">
                                       <p>The file to download from the document table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557185e549" headers="d1557185e533 ">
                                       <p><code class="codeph">p_blob</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557185e549 d1557185e536 ">
                                       <p>The <code class="codeph">BLOB</code> to download.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557185e560" headers="d1557185e533 ">
                                       <p><code class="codeph">p_bfile</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557185e560 d1557185e536 ">
                                       <p>The <code class="codeph">BFILE</code> to download (see <a href="WPG_DOCLOAD.html#GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF__I998646">Usage Notes</a>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557185e574" headers="d1557185e533 ">
                                       <p><code class="codeph">p_bcaching</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557185e574 d1557185e536 ">
                                       <p>Whether browser caching is enabled (see <a href="WPG_DOCLOAD.html#GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF__I998646">Usage Notes</a>).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF__I998646">
                        <p class="subhead3" id="GUID-5DDE8D34-7153-40F6-92D6-40B436A61CEF__GUID-3395564D-E2D7-42E5-9753-9517CDBD70B7">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Normally, a document will be downloaded to the browser unless the browser sends an 'If-Modified-Since' header to the gateway indicating that it has the requested document in its cache. In that case, the gateway will determine if the browser's cached copy is up to date, and if it is, it will send an HTTP 304 status message to the browser indicating that the browser should display the cached copy. However, because a document URL and a document do not necessarily have a one-to-one relationship in the PL/SQL Web Gateway, in some cases it may be undesirable to have the cached copy of a document displayed. In those cases, the <code class="codeph">p_bcaching</code> parameter should be set to FALSE to indicate to the gateway to ignore the 'If-Modified-Since' header, and download the document.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">p_bfile</code> and <code class="codeph">p_blob</code> are declared as <code class="codeph">IN</code> <code class="codeph">OUT</code> because the locator is initially opened to check for file accessibility and existence. The open operation can only be performed if the locator is writable and readable.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>