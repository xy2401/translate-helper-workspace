<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">
      <meta name="description" content="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">
      <title>SDO_GEOR_AGGR Package Reference</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="GeoRaster Developer's Guide ">
      <meta property="og:description" content="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="GeoRaster Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-georaster-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T11:48:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94793-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SDO_GEOR_ADMIN-reference.html" title="Previous" type="text/html">
      <link rel="next" href="SDO_GEOR_GDAL-reference.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer's Guide">
    <meta name="dcterms.isVersionOf" content="GEORS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_GEOR_ADMIN-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SDO_GEOR_GDAL-reference.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">GeoRaster Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_GEOR_AGGR Package Reference</li>
            </ol>
            <a id="GUID-92406947-E079-487D-B0D0-3342ECC23E34" name="GUID-92406947-E079-487D-B0D0-3342ECC23E34"></a><a id="GEORS1224"></a>
            
            <h2 id="GEORS-GUID-92406947-E079-487D-B0D0-3342ECC23E34" class="sect2"><span class="enumeration_chapter">9 </span>SDO_GEOR_AGGR Package Reference
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C">SDO_GEOR_AGGR.getMosaicExtent</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF">SDO_GEOR_AGGR.getMosaicResolutions</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-5B00266A-5935-40D0-9341-F6B8067F289D">SDO_GEOR_AGGR.getMosaicStatistics</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-89303715-7E1A-46B9-8CDE-0228C48388D7">SDO_GEOR_AGGR.getMosaicSubset</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF">SDO_GEOR_AGGR.mosaicSubset</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-517B4271-BF48-45C3-B989-88EE40CF780A">SDO_GEOR_AGGR.validateForMosaicSubset</a><br></li>
               </ul>
            </div>
            <a id="GEORS1225"></a><div class="props_rev_3"><a id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB" name="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB"></a><h3 id="GEORS-GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB" class="sect3"><span class="enumeration_section">9.1 </span>SDO_GEOR_AGGR.append
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-29F5EE44-7D42-4033-A0F1-2DF995B88533">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.append(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetGeoRaster    IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceGeoRaster    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourcePyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appendParam        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues           IN SDO_NUMBER_ARRAY DEFAULT NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-AA011762-514D-4380-9549-05447E9D7162">Description</p>
                     <p>Appends the source GeoRaster object to the target GeoRaster object. Internal rectification, common point rules, gap filling, and color balancing are performed whenever necessary.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-14E82DB4-0D76-4E56-9CFE-B9CB1449F73E">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-AE29A5CF-192C-4031-82F7-ED6FDA1773BB">
                              <!-- --></a>targetGeoRaster
                        </dt>
                        <dd>
                           <p>GeoRaster object to be updated. Cannot be the same as <code class="codeph">sourceGeoRaster</code>. (Be sure to make a copy of this object before you update it.)
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-39F192E3-2130-465F-AB27-9F4FF36897C1">
                              <!-- --></a>sourceGeoRaster
                        </dt>
                        <dd>
                           <p>GeoRaster object to be appended to <code class="codeph">targetGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-D14E223E-0AEE-419C-9A85-6DF83FC4D075">
                              <!-- --></a>sourcePyramidLevel
                        </dt>
                        <dd>
                           <p>Pyramid level of the source GeoRaster object to be appended at the target GeoRaster object pyramid Level 0. If NULL, pyramid level 0 is used. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-9D3010CD-0AA4-4CAF-81DF-6E9A9AFF11D0">
                              <!-- --></a>appendParam
                        </dt>
                        <dd>
                           <p>A comma-separated quoted string of <span class="italic">keyword=value</span> pairs for specifying parameters for the operation. It can contain one or more of the keywords in <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 9-1</a> in the <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF">SDO_GEOR_AGGR.mosaicSubset</a> reference section, unless specified in that table that the keyword is always ignored for SDO_GEOR_AGGR.append.
                           </p>
                           <p>If a nondefault value for <code class="codeph">colorBalance</code> is specified, it is performed on the source GeoRaster object using the target GeoRaster object's statistics as the reference, and the following keywords (if specified) are ignored: <code class="codeph">maxVal</code>, <code class="codeph">minVal</code>, <code class="codeph">std</code>, and <code class="codeph">min</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-460DC460-3A8A-4454-A9D9-221E89BC88C9">
                              <!-- --></a>bgValues
                        </dt>
                        <dd>
                           <p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="georaster-overview-and-concepts.html#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).
                           </p>
                           <p>The filling values must be valid cell values as specified by the target cell depth.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-E2E846CA-6C34-44E8-BCD1-B7EF22E65F8D">Usage Notes</p>
                     <div class="infoboxnote" id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-2DD4569E-F49D-42E3-8816-EC02AA73411C">
                        <p class="notep1">Note:</p>
                        <p>Be sure to make a copy of the <code class="codeph">targetGeoRaster</code> object before you call this procedure, because the changes made to this GeoRaster object might not be reversible after the procedure completes.
                        </p>
                     </div>
                     <p>The source and target GeoRaster objects must have the same number of bands or layers. If the cell depths of the source and target GeoRaster objects are not the same, the cell value of the source GeoRaster object is either expanded or truncated to the cell depth of the target GeoRaster object.</p>
                     <p>The target GeoRaster object's raster data must be blocked. </p>
                     <p>There is no change on metadata of target GeoRaster object, except that the extent and the number of blocks are updated and the statistics are removed.</p>
                     <p>The source GeoRaster object is appended to the target GeoRaster object pyramid level 0. The pyramids of the target GeoRaster object are also updated.</p>
                     <p>The overlapping areas and gaps of the source and target GeoRaster objects are resolved according to the rules defined in the <code class="codeph">appendParam</code> parameter.
                     </p>
                     <p>The source GeoRaster object can be located on or touching any side of the target GeoRaster object (that is, it does not have to be on the right or bottom side). The target GeoRaster object will be automatically expanded accordingly.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB__GUID-4E6A5C26-8382-4AEB-8594-45A0B4EF0294">Examples</p>
                     <p>The following example appends the GeoRaster object with <code class="codeph">georid</code> = 2 to the GeoRaster object with at <code class="codeph">georid</code> = 1.
                     </p><pre class="oac_no_warn" dir="ltr">declare
    gr1 sdo_georaster;
    gr1 sdo_georaster;
begin
     select georaster into gr1 from georaster_table where georid = 1 for update;
     select georaster into gr2 from georaster_table where georid = 2;
     sdo_geor_aggr.append(gr1, gr2, 0, null);
     update georaster_table set georaster = gr1 where georid= 1;
     commit;
end;
/</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_AGGR Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1288"></a><div class="props_rev_3"><a id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C" name="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C"></a><h3 id="GEORS-GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C" class="sect3"><span class="enumeration_section">9.2 </span>SDO_GEOR_AGGR.getMosaicExtent
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-D6D8AE6C-1369-4A85-95E4-443043A3CB88">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicExtent(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID      IN NUMBER DEFAULT NULL  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicExtent(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID              IN NUMBER DEFAULT NULL  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-C46D16CD-B053-4CCE-B8D6-BE48839C1B7C">Description</p>
                     <p>Calculates and returns the minimum bounding rectangle (MBR) of the spatial extent of a virtual mosaic or a collection of GeoRaster objects.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-3FCDBFA8-3E21-47AF-8558-C72AC45A72B9">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-256E9B42-8EDA-48A4-A985-19E993E2167C">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Source GeoRaster objects in a cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-DD133BB3-D232-4B95-8E55-AAEB3C8BEB82">
                              <!-- --></a>georasterTableNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-FB03941F-4D0E-4EC6-A7E0-E429F2F07307">
                              <!-- --></a>georasterColumnNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-F7A239E3-D15B-41FA-9089-8D2A128D4328">
                              <!-- --></a>outSRID
                        </dt>
                        <dd>
                           <p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table. If this parameter is null (the default), 4326 (EPSG SRID value for the WGS 84 (longitude/latitude) coordinate system) is used.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-B25C39CD-B184-4FCB-AFD0-929127C8B191">Usage Notes</p>
                     <p>In calculating the spatial extent of a virtual mosaic or a collection of GeoRaster objects, this function tries to use the <code class="codeph">spatialExtent</code> attribute of each GeoRaster object. If the <code class="codeph">spatialExtent</code> attribute is null, the extent of the GeoRaster object is calculated based on the object's metadata.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74A098CB-5EC9-406B-9437-FAEDEB012A2C__GUID-D6184FF7-6592-4CF8-B732-21D04701DB65">Examples</p>
                     <p>The following example shows how to get the spatial extent when the virtual mosaic or the collection of GeoRaster objects is a cursor. </p><pre class="oac_no_warn" dir="ltr">declare
    cur sys_refcursor,
begin
     open cur for select georaster from georaster_table_1 union all select georaster from georaster_table_2;
     extent := sdo_geor_aggr.getMosaicExtent(cur, 26986);
     close cur;
end;
/
</pre><p>The following example shows how to get the mosaic extent by specifying the table column names. </p><pre class="oac_no_warn" dir="ltr">select sdo_geor_aggr.getMosaicExtent('georaster_table_1, georaster_table_2', 'georaster, georaster', 26986) from dual;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_AGGR Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1289"></a><div class="props_rev_3"><a id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF" name="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF"></a><h3 id="GEORS-GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF" class="sect3"><span class="enumeration_section">9.3 </span>SDO_GEOR_AGGR.getMosaicResolutions
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-E3296D38-E170-49E8-85C3-300723D46E64">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicResolutions(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters    IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit IN VARCHAR2 DEFAULT NULL 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN  SDO_RANGE_ARRAY;;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicResolutions(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit      IN VARCHAR2 DEFAULT NULL 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN  SDO_RANGE_ARRAY; </pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-09ED6C20-214D-4FE3-B2E1-B204F933B3FC">Description</p>
                     <p>Returns the resolution range of a virtual mosaic or a collection of GeoRaster objects in a specified unit.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-9196F542-54CB-41C8-B79D-C13FA72DBA30">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-3FF7BFC5-B501-40BF-86C3-287B629FC881">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Source GeoRaster objects in a cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-B96DEC7F-2355-4F2A-9635-4EC89BCBB7AC">
                              <!-- --></a>georasterTableNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-25320219-8B5B-42E3-9466-BFAA664E6445">
                              <!-- --></a>georasterColumnNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-CEC212A3-FDCB-4C05-8904-15D3712292DC">
                              <!-- --></a>resolutionUnit
                        </dt>
                        <dd>
                           <p>Unit of measure for the returned resolution range. If specified, it must be a quoted string in the format <code class="codeph">'unit=</code><span class="italic"><code class="codeph">value</code></span><code class="codeph">'</code> where <span class="italic">value</span> is the unit name value (a valid UNIT_OF_MEAS_NAME value from the SDO_UNITS_OF_MEASURE table). If not specified or null, the returned resolution range is in the unit of <code class="codeph">meter</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-9DCAF82B-414B-48D9-86C3-B6ABD1DC63AC">Usage Notes</p>
                     <p>The returned resolution range is in the format of SDO_RANGE_ARRAY(SDO_RANGE(<code class="codeph">min_x</code>, <code class="codeph">max_x</code>), SDO_RANGE(<code class="codeph">min_y</code>, <code class="codeph">max_y</code>)). where <code class="codeph">min_x</code>, <code class="codeph">max_x</code> are the minimum and maximum resolution on the x dimension, and <code class="codeph">min_y</code>, <code class="codeph">max_y</code> are the minimum and maximum resolution on the y dimension. 
                     </p>
                     <p>The SDO_RANGE_ARRAY type is defined as <code class="codeph">VARRAY(1048576) OF SDO_RANGE</code>. The SDO_RANGE type is defined as:
                     </p><pre class="oac_no_warn" dir="ltr">Name                                      Null?    Type
----------------------------------------- -------- -------
LB                                                 NUMBER
UB                                                 NUMBER</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D0BB7FCA-490F-4988-95BD-5DDF49D5B8CF__GUID-E06141B1-F22B-434A-B91A-78094776F29D">Examples</p>
                     <p>The following example gets the spatial resolution of a virtual mosaic or a collection of GeoRaster objects with the returned values in meters.</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_geor_aggr.getMosaicResolutions('georatser_table_1, georaster_table_2', 'georaster, georaster', 'unit=meter') FROM DUAL;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_AGGR Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-5B00266A-5935-40D0-9341-F6B8067F289D" name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D"></a><h3 id="GEORS-GUID-5B00266A-5935-40D0-9341-F6B8067F289D" class="sect3"><span class="enumeration_section">9.4 </span>SDO_GEOR_AGGR.getMosaicStatistics
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-EB9D5076-90A5-4D70-90AA-D4FE56B4E20E">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicStatistics(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters   IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skipFactor     IN NUMBER DEFAULT 1, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;genHistogram   IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outStatistics  OUT SDO_NUMBER_ARRAYSET, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outHistograms  OUT SDO_GEOR_HISTOGRAM_ARRAY);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicStatistics(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skipFactor           IN NUMBER DEFAULT 1, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;genHistogram         IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outStatistics        OUT SDO_NUMBER_ARRAYSET, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outHistograms        OUT SDO_GEOR_HISTOGRAM_ARRAY);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-40563D8C-B218-4F4A-9EA1-7EF5B779C52B">Description</p>
                     <p>Calculates and returns the estimated statistics of a virtual mosaic or a collection of GeoRaster objects.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-36176ED0-5140-4E46-93E7-75EB68D4B378">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-4B26D9CD-64C4-43F2-8F77-B8E542116C3F">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Source GeoRaster objects in a cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-0E6AFB42-2CBE-416C-9D30-C0D112821352">
                              <!-- --></a>georasterTableNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-8916AC7B-5C08-45A0-8CCB-F4403222795B">
                              <!-- --></a>georasterColumnNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-41D27B15-4AFD-4227-BCDF-DDE9E3604329">
                              <!-- --></a>skipFactor
                        </dt>
                        <dd>
                           <p>Number indicating every <span class="italic">n</span>th image to be used during the calculation. For example, if <code class="codeph">skipFactor</code> is 3, then every third image in the source images is used in the statistics calculation. The <code class="codeph">skipFactor</code> parameter can be used to reduce the calculation time for a large image set. The default is 1 (that is, every image is used; no images are skipped).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-4CEED941-3CD2-494C-A5AF-0E014FA03305">
                              <!-- --></a>genHistogram
                        </dt>
                        <dd>
                           <p>String (<code class="codeph">true</code> or <code class="codeph">false</code>) whether to return the estimated histogram of the virtual mosaic. The default is <code class="codeph">false</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-F0584A3A-DF09-49E0-B385-95A1B2DE04E9">
                              <!-- --></a>outStatistics
                        </dt>
                        <dd>
                           <p>The returned statistics in the order of the bands of the source images. For each band, if <code class="codeph">genHistogram</code> is <code class="codeph">false</code>, the statistics that are returned are min, max, mean, and std; but if <code class="codeph">genHistogram</code> is <code class="codeph">true</code>, the statistics that are returned are min, max, mean, std, median, and mode. 
                           </p>
                           <p>For example, if the source images have three bands and </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>if <code class="codeph">genHistogram</code> is <code class="codeph">false</code>, the <code class="codeph">ourStatistics</code> parameter has the value: <code class="codeph">sdo_number_arrayset(sdo_number_array(17.0, 255.0, 154.64, 71.29), sdo_number_array(14.0, 255.0, 155.86, 56.08), sdo_number_array(0.0, 255.0, 98.60, 73.08))</code></p>
                              </li>
                              <li>
                                 <p>if <code class="codeph">genHistogram</code> is <code class="codeph">true</code>, the <code class="codeph">ourStatistics</code> parameter has the value: <code class="codeph">sdo_number_arrayset(sdo_number_array(17.0, 255.0, 154.64, 71.29, 112.0, 255.0), sdo_number_array(14.0, 255.0, 155.86, 56.08, 143.0, 255.0), sdo_number_array(0.0, 255.0, 98.60, 73.08, 61.0, 0.0))</code></p>
                              </li>
                           </ul>
                           <p>The SDO_NUMBER_ARRAYSET type is defined as <code class="codeph">VARRAY(1048576) OF SDO_NUMBER_ARRAY</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-7158985D-05B9-46DE-BA64-53C8B9A898E8">
                              <!-- --></a>outHistograms
                        </dt>
                        <dd>
                           <p>If <code class="codeph">genHistogram</code> is the string <code class="codeph">true</code>, <code class="codeph">outHistograms</code> will contain the returned histograms as an array of type <a href="georaster-datatypes.html#GUID-CAF85499-604A-4406-9025-722051C21434">SDO_GEOR_HISTOGRAM_ARRAY Collection Type</a>, with each item containing the histogram for each band.
                           </p>
                           <p>If <code class="codeph">genHistogram</code> is the string <code class="codeph">false</code>, <code class="codeph">outHistograms</code> will be null.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-CC1F9499-36BD-4043-B0C0-43D1AA6DEB5A">Usage Notes</p>
                     <p>To calculate the statistics of the source images, the statistics of the source images must be present in the GeoRaster object's metadata. </p>
                     <p>The source images must have the same number of bands and same <code class="codeph">celldepth</code>.
                     </p>
                     <p>The returned statistics for non-overlapping source images with <code class="codeph">celldepth</code> less than or equal to <code class="codeph">16bit</code> are accurate calculations; otherwise, the returned statistics are close estimates.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5B00266A-5935-40D0-9341-F6B8067F289D__GUID-0D941E4E-C368-49E0-83BE-DFB8990BB613">Examples</p>
                     <p>The following example shows how to get the statistics when the virtual mosaic or the collection of GeoRaster objects is a cursor. The <code class="codeph">skipFactor</code> is 1 and <code class="codeph">genHistogram</code> parameter is <code class="codeph">false</code>.
                     </p><pre class="oac_no_warn" dir="ltr">declare
    cur sys_refcursor,
    outStats sdo_number_arrayset := null;
    outHists sdo_geor_histogram_array := null;
begin
     open cur for select georaster from georaster_table_1 union all select georaster from georaster_table_2;
     sdo_geor_aggr.getMosaicStatistics(cur, 1, 'false', outStats, outHists);
     close cur;
end;
/
</pre><p>The following example shows how to get the statistics by specifying the table column names.&nbsp;The <code class="codeph">skipFactor</code> is 5 and <code class="codeph">genHistogram</code> parameter is <code class="codeph">true</code>.
                     </p><pre class="oac_no_warn" dir="ltr">declare
    outStats sdo_number_arrayset := null;
    outHists sdo_geor_histogram_array := null;
begin
     sdo_geor_aggr.getMosaicStatistics('georaster_table_1, georaster_table_2', 'georaster, georaster', 5, 'true', outStats, outHists);
end;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_AGGR Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1290"></a><div class="props_rev_3"><a id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7" name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7"></a><h3 id="GEORS-GUID-89303715-7E1A-46B9-8CDE-0228C48388D7" class="sect3"><span class="enumeration_section">9.5 </span>SDO_GEOR_AGGR.getMosaicSubset
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-EB9D5076-90A5-4D70-90AA-D4FE56B4E20E">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters     IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel     IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID          IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint   IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea         IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions   IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob       IN OUT NOCOPY BLOB, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea          OUT SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow        OUT SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam     IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues         IN SDO_NUMBER_ARRAY DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel         IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID              IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc     IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint       IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea             IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip          IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions       IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam          IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob           IN OUT NOCOPY BLOB, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea              OUT SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow            OUT SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam         IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues             IN SDO_NUMBER_ARRAY DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters     IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel     IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elevationParam   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID          IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint   IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea         IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions   IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob       IN OUT NOCOPY BLOB, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea          OUT SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow        OUT SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam     IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues         IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceImage   IN SDO_GEORASTER DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue1  IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue2  IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refHistograms    IN SDO_GEOR_HISTOGRAM_ARRAY DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.getMosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel         IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elevationParam       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID              IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc     IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint       IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea             IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip          IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions       IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam          IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob           IN OUT NOCOPY BLOB, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea              OUT SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow            OUT SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam         IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues             IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceImage       IN SDO_GEORASTER DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue1      IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue2      IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refHistograms        IN SDO_GEOR_HISTOGRAM_ARRAY DEFAULT NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-40563D8C-B218-4F4A-9EA1-7EF5B779C52B">Description</p>
                     <p>Performs subsetting over a virtual mosaic or a collection of GeoRaster objects. It performs mosaic operations dynamically for the queried area and returns the required result in a BLOB on-the-fly. Internal rectification, common point rules, gap filling, and color balancing are performed whenever necessary.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-36176ED0-5140-4E46-93E7-75EB68D4B378">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-4B26D9CD-64C4-43F2-8F77-B8E542116C3F">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Source GeoRaster objects in a cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-0E6AFB42-2CBE-416C-9D30-C0D112821352">
                              <!-- --></a>georasterTableNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
                           <p>For information about defining and using MIN_X_RES$ and MAX_X_RES$ columns in these tables, see the Usage Notes and <a href="image-processing-virtual-mosaic.html#GUID-0926A2AC-B835-470D-9D73-B63F745CDA7B">Improving Query Performance Using MIN_X_RES$ and MAX_X_RES$</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-8916AC7B-5C08-45A0-8CCB-F4403222795B">
                              <!-- --></a>georasterColumnNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-4CEED941-3CD2-494C-A5AF-0E014FA03305">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>Pyramid level of the source GeoRaster objects for the operation. This parameter is used when the <code class="codeph">outResolutions</code> parameter is not specified; otherwise, the pyramid level of the source GeoRaster objects is determined by the <code class="codeph">outResolutions</code> parameter.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-F0584A3A-DF09-49E0-B385-95A1B2DE04E9">
                              <!-- --></a>elevationParam
                        </dt>
                        <dd>
                           <p>A string containing the elevation parameter <code class="codeph">average</code> (average surface height). This parameter must be a quoted string that contains a keyword=value pair (for example, <code class="codeph">'average=800'</code>). This parameter specifies the elevation of the output GeoRaster object. If this parameter is null, 0 is assumed for <code class="codeph">average</code>.
                           </p>
                           <p>The use of the <code class="codeph">elevationParam</code> parameter requires that the input GeoRaster objects have a 3D model SRID and a nonzero average height.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-7158985D-05B9-46DE-BA64-53C8B9A898E8">
                              <!-- --></a>outSRID
                        </dt>
                        <dd>
                           <p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-79BAF786-C984-4B14-A13F-E1FC9645B774">
                              <!-- --></a>outModelCoordLoc
                        </dt>
                        <dd>
                           <p>A value specifying the model location of the base of the area represented by a cell: <code class="codeph">0</code> for <code class="codeph">CENTER</code> or <code class="codeph">1</code> for <code class="codeph">UPPERLEFT</code>. If null, <code class="codeph">CENTER</code> is used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-E5913B0C-153A-4830-AF40-10FA70206655">
                              <!-- --></a>referencePoint
                        </dt>
                        <dd>
                           <p>A point of type SDO_GEOMETRY used as the reference point of mosaic. If a point is specified, the mosaicked image's upper left corner aligns with the reference point, that is, the distance between the <code class="codeph">referencePoint</code> and the upper-left corner of the output will have an integer number of pixels. If this parameter is null, the reference point implicitly uses the upper-left corner of the <code class="codeph">cropArea</code>, or when the <code class="codeph">cropArea</code> is null, the upper-left corner of the output extent.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-3539EC0B-EA6A-478F-BCBE-930CADBC8EBC">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the SDO_GEOMETRY object has a non-null SRID, the coordinates specified in the SDO_GEOMETRY object are in model space and the source GeoRaster objects must be georeferenced; otherwise, the coordinates specified in the SDO_GEOMETRY object are in cell space and the source GeoRaster objects can be georeferenced or non-georeferenced. If <code class="codeph">polygonClip</code> is <code class="codeph">FALSE</code>, the MBR of the <code class="codeph">cropArea</code> is used to crop the mosaicked data. If <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, the geometry of the <code class="codeph">cropArea</code> is used to crop the mosaicked data.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-2327650C-9DD7-41DD-B8A0-FE8558F0D79B">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> value to be used to crop the mosaicked data; the string <code class="codeph">FALSE</code> or a null value causes the MBR of the <code class="codeph">cropArea</code> to be used to crop the mosaicked data.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-8118F0A3-C3EC-4AF0-97FB-6C2F70D74135">
                              <!-- --></a>boundaryClip
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> or a null value causes the boundary of the virtual mosaic to be used to clip the <code class="codeph">cropArea</code>; the string <code class="codeph">FALSE</code> causes the area that is outside the virtual mosaic but within the <code class="codeph">cropArea</code> to be filled with the background value.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-15FFF5E9-ECD3-4259-A913-8BBDDC6ECF32">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4). If not specified, the mosaic result contains the same number of bands as the source GeoRaster objects.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-DFF32979-C43B-413A-B9E2-E1E819FCE84A">
                              <!-- --></a>outResolutions
                        </dt>
                        <dd>
                           <p>Resolution requested for the output GeoRaster data. If null, the default is the resolution of the first encountered GeoRaster object. See the Usage Notes for details.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-70DCDC71-ACEC-48FF-90C1-2C0538885F9D">
                              <!-- --></a>resolutionUnit
                        </dt>
                        <dd>
                           <p>The unit of the <code class="codeph">outResolutions</code> parameter. If null, the default is the unit of the output SRID. If specified, it must be a quoted string in the format "unit=<span class="italic">value</span>" where <span class="italic">value</span> is the unit name value (a valid UNIT_OF_MEAS_NAME value from the SDO_UNITS_OF_MEASURE table). This parameter is ignored if <code class="codeph">outResolutions</code> is null.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-C4A3288E-7ADF-4BB1-860A-BD387CABC819">
                              <!-- --></a>mosaicParam
                        </dt>
                        <dd>
                           <p>A comma-separated quoted string of <span class="italic">keyword=value</span> pairs for specifying mosaic parameters. It can contain one or more of the keywords in <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 9-1</a> in the <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF">SDO_GEOR_AGGR.mosaicSubset</a> reference section.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-7B3C2C56-D533-44A1-BF94-D657F007ED84">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB (binary large object) to hold the result of the operation. It must exist or have been initialized before the operation is performed. It is usually a temporary BLOB.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-68F0030E-888A-42AB-9D9F-60134B186745">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>Geometry object that describes the extent of the output data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-5FDE9B02-F52C-41FF-895D-1592973518C4">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object that identifies the coordinates of the upper-left and lower-right corners of the output window in the cell space. For this function, the upper-left corner of the output window is always (0,0).</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-47E7B299-6560-45DD-B73A-8C8524FB329A">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>. If this parameter is null, the resulting GeoRaster object has the same storage parameters (<code class="codeph">cellDepth</code>, <code class="codeph">interleaving</code>, and <code class="codeph">compression</code>) as the first encountered source GeoRaster object in the model space (if applicable) or cell space.
                           </p>
                           <p>If <code class="codeph">pyramid=true</code> is specified, it is ignored for this procedure, but not for <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF">SDO_GEOR_AGGR.mosaicSubset</a>.
                           </p>
                           <p>If <code class="codeph">bitmapmask=true</code> is specified, it is ignored for this procedure.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-FB0F7C04-CE93-44AC-8680-8D9D7503A2EB">
                              <!-- --></a>bgValues
                        </dt>
                        <dd>
                           <p>Background cell values for filling partially empty raster blocks (full empty raster blocks are left as empty without filling). They are used to fill the empty areas resulted from the mosaicking operation, such as the areas that are outside of the clipping polygon or the gap areas not covered by any source images. (See also<a href="georaster-overview-and-concepts.html#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>.) The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).
                           </p>
                           <p>The filling values must be valid cell values as specified by the target cell depth.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-DA0EA061-A233-481D-9321-963C67F1B8B5">
                              <!-- --></a>referenceImage
                        </dt>
                        <dd>
                           <p>Specifies the reference image used during the color balance operation. If null, it defaults to the source image that is closest to the center of the output mosaic.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-DBC9933B-74B6-4668-9C01-EE979FE8FE56">
                              <!-- --></a>referenceValue1
                        </dt>
                        <dd>
                           <p>Specifies the reference value or values used during the color balance operation. The meaning of the values is determined by the color balance method.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-B00AB451-9762-4D00-AE3D-9B6539FFE814">
                              <!-- --></a>referenceValue2
                        </dt>
                        <dd>
                           <p>Specifies the reference value or values used during the color balance operation. The meaning of the values is determined by the color balance method.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-BD7D9D95-7740-4781-9D63-1D8D313BCB3B">
                              <!-- --></a>referenceHistograms
                        </dt>
                        <dd>
                           <p>Specifies the reference histograms used during the color balance operation.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-CC1F9499-36BD-4043-B0C0-43D1AA6DEB5A">Usage Notes</p>
                     <p>The first two formats of the procedure provide the basic color balancing method and assume that the elevation of the output GeoRaster object is 0. The last two formats of the procedure provide more advanced color balancing method using the reference values or reference images, and they let you specify the elevation value for the output GeoRaster object.</p>
                     <p>The source GeoRaster objects must be prepared images or raster data so that they can be mosaicked. That is, the GeoRaster objects in the virtual mosaic must:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Not be a mixture of georeferenced and nongeoreferenced objects. Either all of the objects are georeferenced, or none of the objects is georeferenced.</p>
                        </li>
                        <li>
                           <p>Have the same number of layers or bands. There is no restriction on the row and column dimension sizes of the source objects.</p>
                        </li>
                     </ul>
                     <p>If the GeoRaster objects to be mosaicked are georeferenced, they are co-located according to their georeferencing information. If the GeoRaster objects are not georeferenced, they are co-located according to their ULTCoordinate values. (The ULTCoordinate is explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                     </p>
                     <p>The resulting GeoRaster object's spatial reference metadata information is determined by the <code class="codeph">outSRID</code> and <code class="codeph">outResolutions</code> parameters. If <code class="codeph">outSRID</code> is not specified, the SRID of the first encountered source GeoRaster object is used. If <code class="codeph">outResolutions</code> is not specified, the spatial resolution of the first encountered source GeoRaster object at thespecified pyramid level (<code class="codeph">pyramidLevel</code> parameter) is used. The spatial resolution must be set in the metadata of all the source images.
                     </p>
                     <p>If any source GeoRaster object has a different SRID from <code class="codeph">outSRID</code> or is not rectified, it is dynamically reprojected or rectified so that the mosaicked GeoRaster object has uniform SRID and spatial resolution values.
                     </p>
                     <p>If the source GeoRaster objects overlap, data of the overlapping area follows the rules specified in the <code class="codeph">mosaicParam</code> parameter. By default, the cell value of the last encountered source GeoRaster object is used.
                     </p>
                     <p>The source GeoRaster objects that contributes to the output mosaic are selected by the <code class="codeph">cropArea</code> parameter spatially and&nbsp; <code class="codeph">outResolutions</code> parameter in resolution wise (resolution selection). 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">cropArea</code> parameter is used to query the source GeoRaster objects' spatial extents to determine the GeoRaster objects that are covered by the <code class="codeph">cropArea</code> geometry; thus, a patial index should be built on the <code class="codeph">spatialExtent</code> attribute of the GeoRaster objects.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">outResolutions</code> parameter is used to find the source GeoRaster objects so that the <code class="codeph">outResolutions</code> value is within the resolution range of the source GeoRaster objects. A GeoRaster object's spatial resolution range is determined by the resolution at pyramid level 0 and the resolution at the top pyramid level of the GeoRaster object. It is a half pyramid lower than the pyramid level 0 and a half pyramid level higher than the top pyramid level. For example, if a GeoRaster object has a resolution of 30 meters at pyramid level 0 and a resolution of 960 meters at the top pyramid level 5, this GeoRaster object’s spatial resolution range is between 22.5 meters ((30 + 30/2)/2) and 1440 meters ((960 + 960*2)/2).
                           </p>
                        </li>
                     </ul>
                     <p>The resolution selection using the <code class="codeph">outResolutions</code> parameter can be speeded up by defining the columns MIN_X_RES$ and MAX_X_RES$ (both of type NUMBER) in the tables listed in the <code class="codeph">georasterTableNames</code> parameter, where MIN_X_RES$ and MAX_X_RES$ specify the minimum and maximum spatial resolution values, respectively, of the source GeoRaster object. (A B-tree index should be created on the MIN_X_RES$ and MAX_X_RES$ columns if there are a large number of source GeoRaster objects.)&nbsp;To take advantage of this feature, the procedure format with the <code class="codeph">georasterTableNames</code> parameter must be used. It also requires that the resolution values stored in the MIN_X_RES$ and MAX_X_RES$ columns have the same unit as the unit of the SRID that is stored in the source GeoRaster object’s <code class="codeph">spatialExtent</code> attribute.
                     </p>
                     <p>The resolution selection can be turned off by setting <code class="codeph">resFilter=false</code> in the <code class="codeph">mosaicParam</code> parameter. When the resolution selection is turned off, the source GeoRaster objects will only be filtered spatially.
                     </p>
                     <p>If the source GeoRaster objects have empty raster blocks or do not cover the whole area, the empty areas are filled with the values specified in the <code class="codeph">bgValues</code> parameter, or with 0 if the <code class="codeph">bgValues</code> parameter is not specified.
                     </p>
                     <p>In order to use the <code class="codeph">colorBalance</code> option in <code class="codeph">mosaicParam</code>, you should call <a href="SDO_GEOR-reference.html#GUID-96B2E47F-17E2-491D-9FF6-AC7BEFB434D7">SDO_GEOR.generateStatistics</a> on the source images to generate the image's statistics and store them in the metadata for the source image.
                     </p>
                     <p>If all source GeoRaster objects are blank and have the same <code class="codeph">blankCellValue</code> value, the resulting <code class="codeph">rasterBlob</code> is filled with the <code class="codeph">blankCellValue</code> value.
                     </p>
                     <p>For more information, see <a href="image-processing-virtual-mosaic.html#GUID-16C91449-1E94-4B3F-9403-EEFE483251AD" title="A virtual mosaic treats a set of GeoRaster images as one large virtually mosaicked image.">Virtual Mosaic</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89303715-7E1A-46B9-8CDE-0228C48388D7__GUID-0D941E4E-C368-49E0-83BE-DFB8990BB613">Examples</p>
                     <p>The following example gets the subset of a virtual mosaic (defined as two GeoRaster tables) at SRID 32610 with resolution of 30 meters by specifying a <code class="codeph">cropArea</code> window. NODATA is considered at the resampling process (if there is one) and at the overlapping area of the source images.
                     </p><pre class="oac_no_warn" dir="ltr">declare
  lb blob;
  cropArea sdo_geometry;
  outArea  sdo_geometry := null;
  outWin   sdo_number_array:=null;
  resolutions sdo_number_array;
begin
    dbms_lob.createTemporary(lb, TRUE);
 
     cropArea :=  sdo_geometry(2003, 26986, null,                 
                    sdo_elem_info_array(1, 1003, 3), 
                    sdo_ordinate_array(399180, 4247820, 
                                       496140,4353900) );
      resolutions := sdo_number_array(30, 30);
     sdo_geor_aggr.getMosaicSubset('georaster_table_1, georaster_table_2', 
                 'georaster, georaster', 
                 0, 32610, null, null, cropArea,
                 null, null, null, resolutions, null, 
                 'nodata=true', 
                 lb, outArea, outWin);
    dbms_lob.freeTemporary(lb);
    if outWin is not null then
        dbms_output.put_line('output window: (' || outWin(1) || ',' || outWin(2) ||', ' || outWin(3) || ', ' || outWin(4) || ')');
    end if;
end;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_AGGR Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1292"></a><a id="GEORS1291"></a><div class="props_rev_3"><a id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF" name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF"></a><h3 id="GEORS-GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF" class="sect3"><span class="enumeration_section">9.6 </span>SDO_GEOR_AGGR.mosaicSubset
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-9D254CE4-EE3B-49BD-8FE0-DF2469E7A727">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters     IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel     IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID          IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint   IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea         IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions   IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster     IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues         IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam    IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel         IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID             IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc    IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea            IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster        IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues            IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam       IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters     IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel     IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elevationParam   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID          IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint   IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea         IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions   IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;storageParam&nbsp;     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster     IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues         IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam    IN VARCHAR2 DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceImage   IN SDO_GEORASTER DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue1  IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue2  IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refHistograms    IN SDO_GEOR_HISTOGRAM_ARRAY DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.mosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel        IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elevationParam      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;outSRID             IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outModelCoordLoc    IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referencePoint      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea            IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boundaryClip        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mosaicParam         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster        IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues            IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam       IN VARCHAR2 DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceImage      IN SDO_GEORASTER DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue1     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;referenceValue2     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refHistograms       IN SDO_GEOR_HISTOGRAM_ARRAY DEFAULT NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-78D13A32-0A14-47A1-9382-2C6D9887990A">Description</p>
                     <p>Performs advanced large-scale mosaicking or subsetting from a virtual mosaic or a collection of GeoRaster objects. The output data is written into a GeoRaster object for persistent storage or other processing. Internal rectification, common point rules, gap filling, and color balancing are performed whenever necessary.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-AF85E31B-6121-4A13-932B-8B5F3EDAA899">Parameters</p>
                     <dl class="0.99* 3.01*">
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-4EC47865-7129-4C2E-B511-3B5FFF1090E4">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Source GeoRaster objects in a cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-D6286CEA-BF72-466B-84B6-BAF56B683B7E">
                              <!-- --></a>georasterTableNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
                           <p>For information about defining and using MIN_X_RES$ and MAX_X_RES$ columns in these tables, see the Usage Notes and <a href="image-processing-virtual-mosaic.html#GUID-0926A2AC-B835-470D-9D73-B63F745CDA7B">Improving Query Performance Using MIN_X_RES$ and MAX_X_RES$</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-5D0CD2A3-03D6-43FB-8192-139C443EE5AD">
                              <!-- --></a>georasterColumnNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-F4F37842-9DED-49A9-9094-7E6BC9CD5E16">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>Pyramid level of the source GeoRaster objects for the operation. This parameter is used when the <code class="codeph">outResolutions</code> parameter is not specified; otherwise, the pyramid level of the source GeoRaster objects involved in the mosaic is determined by the <code class="codeph">outResolutions</code> parameter.
                           </p>
                           <p>The <code class="codeph">pyramidLevel</code> parameter and the option <code class="codeph">pyramid=true</code> in the <code class="codeph">storageParam</code> parameter are valid only when the source GeoRaster objects have the same resolution on pyramid level 0.&nbsp;
                           </p>
                           <p>If the <code class="codeph">outResolutions</code> parameter is not null, the <code class="codeph">pyramidLevel</code> parameter is ignored. 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-DB334E60-806E-4BA1-A584-A5A5463C8AAD">
                              <!-- --></a>elevationParam
                        </dt>
                        <dd>
                           <p>A string containing the elevation parameter <code class="codeph">average</code> (average surface height). This parameter must be a quoted string that contains a keyword=value pair (for example, <code class="codeph">'average=800'</code>). This parameter specifies the elevation of the output GeoRaster object. If this parameter is null, 0 is assumed for <code class="codeph">average</code>.
                           </p>
                           <p>The use of the <code class="codeph">elevationParam</code> parameter requires that the input GeoRaster objects have a 3D model SRID and a nonzero average surface height.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-9D7A13FD-85A9-40F4-B082-B3F65A86E456">
                              <!-- --></a>outSRID
                        </dt>
                        <dd>
                           <p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-7A6F781C-08BD-4F2E-B00A-D2CC919F85D9">
                              <!-- --></a>outModelCoordLoc
                        </dt>
                        <dd>
                           <p>A value specifying the model location of the base of the area represented by a cell: <code class="codeph">0</code> for <code class="codeph">CENTER</code> or <code class="codeph">1</code> for <code class="codeph">UPPERLEFT</code>. If null, <code class="codeph">CENTER</code> is used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-9F801CF5-18F2-4CA2-A966-B7E8A3CEC913">
                              <!-- --></a>referencePoint
                        </dt>
                        <dd>
                           <p>A point of type SDO_GEOMETRY used as the reference point of mosaic. If a point is specified, the mosaicked image's upper left corner aligns with the reference point, that is, the distance between the <code class="codeph">referencePoint</code> and the upper-left corner of the output will have an integer number of pixels. If this parameter is null, the reference point implicitly uses the upper-left corner of the <code class="codeph">cropArea</code>, or when the <code class="codeph">cropArea</code> is null, the upper-left corner of the output extent.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-919E151C-F083-4382-8A37-56E718DE1326">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the SDO_GEOMETRY object has a non-null SRID, the coordinates specified in the SDO_GEOMETRY object are in model space and the source GeoRaster objects must be georeferenced; otherwise, the coordinates specified in the SDO_GEOMETRY object are in cell space and the source GeoRaster objects can be georeferenced or non-georeferenced. If <code class="codeph">polygonClip</code> is <code class="codeph">FALSE</code>, the MBR of the <code class="codeph">cropArea</code> is used to crop the mosaicked data. If <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, the geometry of the <code class="codeph">cropArea</code> is used to crop the mosaicked data.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-3C1A3011-F5F5-4705-ABA1-0156187D225A">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> value to be used to crop the mosaicked data; the string <code class="codeph">FALSE</code> or a null value causes the MBR of the <code class="codeph">cropArea</code> to be used to crop the mosaicked data.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-5537486D-CA97-4853-A867-5041C08D2E41">
                              <!-- --></a>boundaryClip
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> or a null value causes the boundary of the virtual mosaic to be used to clip the <code class="codeph">cropArea</code>; the string <code class="codeph">FALSE</code> causes the area that is outside the virtual mosaic but within the <code class="codeph">cropArea</code> to be filled with the background value
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-05070B48-7EE4-4DA9-93F2-54CA665C5656">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4). If not specified, the mosaic result contains the same number of bands as the source GeoRaster objects.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-898152BA-699E-4FEB-A4B4-81A36F1062A5">
                              <!-- --></a>outResolutions
                        </dt>
                        <dd>
                           <p>Resolution of the output GeoRaster data. If null, the default is the resolution of the first encountered GeoRaster object. See the Usage Notes for details.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-24ACF482-8C7B-42B3-B58F-7B61E43E88A9">
                              <!-- --></a>resolutionUnit
                        </dt>
                        <dd>
                           <p>The unit of the <code class="codeph">outResolutions</code> parameter. If null, the default is the unit of the output SRID. If specified, it must be a quoted string in the format "unit=<span class="italic">value</span>" where <span class="italic">value</span> is the unit name value (a valid UNIT_OF_MEAS_NAME value from the SDO_UNITS_OF_MEASURE table). This parameter is ignored if <code class="codeph">outResolutions</code> is null.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-00AA13B7-E1CC-4D01-830C-2F17741F883C">
                              <!-- --></a>mosaicParam
                        </dt>
                        <dd>
                           <p>A comma-separated quoted string of <span class="italic">keyword=value</span> pairs for specifying mosaic parameters. It can contain one or more of the keywords in <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 9-1</a>.
                           </p>
                           <div class="infoboxnote" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-0A2930C6-DA07-416E-8EB2-F3AE6B15255D">
                              <p class="notep1">Note:</p>
                              <p>For any numbers in string (VARCHAR2) parameters to GeoRaster subprograms, the period (.) must be used for any decimal points regardless of the locale.</p>
                           </div>
                           <div class="tblformal" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE">
                              <p class="titleintable">Table 9-1 mosaicParam Keywords</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="mosaicParam Keywords" summary="This 2 column table lists mosaicParam Keywords.  Column 1 is the keyword. Column 2 explains the keyword." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d57535e1567">Keyword</th>
                                       <th align="left" valign="bottom" id="d57535e1570">Explanation</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1575" headers="d57535e1567 ">
                                          <p><a id="d57535e1577" class="indexterm-anchor"></a>cbreference
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1575 d57535e1570 ">
                                          <p>(Supported with the procedure formats that include the <code class="codeph">referenceImage</code>, <code class="codeph">referenceValue1</code>, /<code class="codeph">referenceValue2</code>, and <code class="codeph">refHistograms</code> parameters.) Specifies the source of the reference value used in <code class="codeph">colorBalance</code>. Can have one of the following values:
                                          </p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p><code class="codeph">VALUE</code>: The reference value is specified in the <code class="codeph">referenceValue1</code> and <code class="codeph">referenceValue2</code> parameters.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">IMAGE</code>: The reference value is retrieved from the <code class="codeph">referenceImage</code> parameter.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">OVERLAP</code>: the reference value is derived from the overlapping area of the source images.
                                                </p> (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1633" headers="d57535e1567 ">
                                          <p><a id="d57535e1635" class="indexterm-anchor"></a>colorBalance
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1633 d57535e1570 ">
                                          <p>Specifies the method for color balancing. Can have one of the following values:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p><code class="codeph">NONE</code> (the default): No color balancing is performed.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">LINEARSTRETCHING</code>: Use the linear stretching method to stretch the source image’s cell values to the reference minimum and maximum value. 
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">VALUE</code>, then parameter <code class="codeph">referenceValue1</code> has the reference minimum values and parameter <code class="codeph">referenceValue2</code> has the reference maximum values. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> is null, default values 0 and 255 are used, respectively. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> has only one value, it is applied to all the bands; otherwise, the reference values are corresponding to each band. Thus, the number of values in the SDO_NUMBER_ARRAY must be the same as the number of bands in the source images.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">IMAGE</code>, then the minimum and maximum values of <code class="codeph">referenceImage</code> are used as the reference.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is not specified, the <code class="codeph">minVal</code> and <code class="codeph">maxVal</code> parameters are used to specify the minimum and maximum reference values, respectively.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">STATISTICMATCHING</code>: Stretch the source images to match the reference statistics.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">VALUE</code>, then parameter <code class="codeph">referenceValue1</code> has the reference mean value and parameter <code class="codeph">referenceValue2</code> has the reference standard deviation value. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> is null, default values 128 and 100 are used, respectively. If the <code class="codeph">referenceValue1</code> or <code class="codeph">referenceValue2</code> has only one value, it is applied to all the bands; otherwise, the reference values are corresponding to each band. Thus, the number of values in the SDO_NUMBER_ARRAY must be the same as the number of bands in the source images.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">IMAGE</code>, then the reference image’s mean and standard deviation values are used for the matching.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">OVERLAP</code>, then the mean and standard deviation values are derived from the overlapping area.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is not specified, the <code class="codeph">std</code> and <code class="codeph">mean</code> parameters are used to specify the reference statistics.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">HISTOGRAMMATCHING</code>:  Use the reference histogram as the source image’s histogram.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">VALUE</code>, then parameter <code class="codeph">referenceHistogram</code> defines the reference histograms for each band. If only one reference histogram is specified, it is applied to all the bands.
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">IMAGE</code>, then the referencce image’s histograms for each band are used as the reference for matching
                                                </p>
                                                <p>If the <code class="codeph">cbreference</code> parameter is <code class="codeph">OVERLAP</code>, then histograms at the overlapping area are used to derive the matching.
                                                </p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1795" headers="d57535e1567 ">
                                          <p><a id="d57535e1797" class="indexterm-anchor"></a>commonPointRule
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1795 d57535e1570 ">
                                          <p>Specifies the method for getting the cell value at the overlapping area. Can have one of the following values:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p><code class="codeph">START</code>: The value from the first encountered GeoRaster object is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">END</code>: The value from the last encountered GeoRaster object is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">LATEST</code>: The value from the GeoRaster object that has the most recent <code class="codeph">EndDateTime</code> in the metadata is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">OLDEST</code>: The value from the GeoRaster object that has the oldest <code class="codeph">EndDateTime</code> in the metadata is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">CTC</code>: The call value from the GeoRaster object that is closest to the center of the output window is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">HIGH</code>: The maximum cell value of all the overlapping GeoRaster objects is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">LOW</code>: The minimum cell value of all the overlapping GeoRaster objects is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">AVERAGE</code>: The average of all cell values from the overlapping GeoRaster objects is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">HIGHRES</code>: The value from the GeoRaster object that has the highest spatial resolution is used.
                                                </p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1858" headers="d57535e1567 ">
                                          <p><a id="d57535e1860" class="indexterm-anchor"></a>fillGap
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1858 d57535e1570 ">
                                          <p>Specifies whether or not to fill the narrow gap between source images. <code class="codeph">TRUE</code> causes any gap that is less than or equal to 2 pixels wide to be filled with the nearest-neighbor pixel value. <code class="codeph">FALSE</code> causes any gaps to be filled with zero or <code class="codeph">bgValue</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1878" headers="d57535e1567 ">
                                          <p><a id="d57535e1880" class="indexterm-anchor"></a>maxVal
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1878 d57535e1570 ">
                                          <p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">LINEARSTRETCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the highest value in the range of the linear stretching method. Defaults to 255. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1904" headers="d57535e1567 ">
                                          <p><a id="d57535e1906" class="indexterm-anchor"></a>mean
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1904 d57535e1570 ">
                                          <p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">STATISTICMATCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the reference mean of the statistic matching method. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1930" headers="d57535e1567 ">
                                          <p><a id="d57535e1932" class="indexterm-anchor"></a>minVal
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1930 d57535e1570 ">
                                          <p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">LINEARSTRETCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the lowest value in the range of the linear stretching method. Defaults to 0. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1956" headers="d57535e1567 ">
                                          <p><a id="d57535e1958" class="indexterm-anchor"></a>nodata
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1956 d57535e1570 ">
                                          <p>Specifies whether or not to consider NODATA (NODATA value or NODATA bitmap mask) when handling the overlap area or when resampling is performed. The default value is <code class="codeph">FALSE</code>.
                                          </p>
                                          <p>When handling the overlap area, <code class="codeph">nodata=TRUE</code> causes any NODATA values cells not to be involved in the overlap area calculation; <code class="codeph">nodata=FALSE</code> causes all the overlapped cells to be involved in the overlap area calculation.
                                          </p>
                                          <p>When resampling is performed and the resampling method is <code class="codeph">BILINEAR</code>, <code class="codeph">BIQUADRATIC</code>, <code class="codeph">CUBIC</code>, <code class="codeph">AVERAGE4</code>, or <code class="codeph">AVERAGE16</code>, if any of the cells involved in the resampling has a NODATA value, then <code class="codeph">nodata=TRUE</code> causes the result of the resampling to be a NODATA value. 
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e1999" headers="d57535e1567 ">
                                          <p><a id="d57535e2001" class="indexterm-anchor"></a>resampling
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e1999 d57535e1570 ">
                                          <p>Specifies the resampling method (if resampling is involved or rectification is needed) to be used during the mosaic operation. Can have one of the following values: <code class="codeph">NN</code> (the default), <code class="codeph">BILINEAR</code>, <code class="codeph">BIQUADRATIC</code>, <code class="codeph">CUBIC</code>, <code class="codeph">AVERAGE4</code>, or <code class="codeph">AVERAGE16</code>. For more information, see <a href="georaster-overview-and-concepts.html#GUID-3BD837FF-70CF-44B3-8489-242FF4590D61" title="Many image and raster transformations and operations involve pixel or cell resampling and interpolation.">Resampling and Interpolation</a>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e2036" headers="d57535e1567 ">
                                          <p><a id="d57535e2038" class="indexterm-anchor"></a>resamplingTolerance
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e2036 d57535e1570 ">
                                          <p>Specifies the tolerance for not doing resampling when the source GeoRaster objects are not perfectly aligned. The value should be between 0 and 0.5, where the unit is pixel or cell (for example, <code class="codeph">0.5</code> meaning one-half pixel or cell). If not specified, <code class="codeph">0.5</code> is used, which means no resampling will occur.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e2053" headers="d57535e1567 ">
                                          <p><a id="d57535e2055" class="indexterm-anchor"></a>resFilter
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e2053 d57535e1570 ">
                                          <p>Specifies whether or not to filter the source GeoRaster objects to select only the GeoRaster object that is in the range of the output resolution (<code class="codeph">outResolution</code> parameter). <code class="codeph">TRUE</code> (the default) enables resolution filtering. <code class="codeph">FALSE</code> disables resolution filtering, causing all the source GeoRaster objects to be involved in the mosaicking process. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d57535e2080" headers="d57535e1567 ">
                                          <p><a id="d57535e2082" class="indexterm-anchor"></a>std
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d57535e2080 d57535e1570 ">
                                          <p>Ignored if <code class="codeph">colorBalance</code> is not <code class="codeph">STATISTICMATCHING</code> or if the <code class="codeph">cbreference</code> keyword is specified; otherwise, specifies the reference standard deviation for the statistic matching method. (Always ignored if specified in <code class="codeph">appendParam</code> for <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-D47B17BE-79C2-4610-B75A-D03182FD40FB">SDO_GEOR_AGGR.append</a>.)
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-4E522E3E-7294-4289-B782-0AF15DA0D5DD">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>. If this parameter is null, the resulting GeoRaster object has the same storage parameters (<code class="codeph">blockSize</code>, <code class="codeph">cellDepth</code>, <code class="codeph">interleaving</code>, and <code class="codeph">compression</code>) as the first encountered source GeoRaster object in the model space (if applicable) or cell space. However, it is recommended that you specify the storage parameters, particularly the blocking size, as appropriate for the size of the output mosaic, unless you want the mosaic to have the same storage parameters as those of the first encountered GeoRaster object to be mosaicked. 
                           </p>
                           <p>If <code class="codeph">pyramid=true</code> is specified, the pyramids of the source GeoRaster objects are mosaicked when the <code class="codeph">outResolutions</code> parameter is null and the <code class="codeph">pyramidLevel</code> parameter is not null. The maximum pyramid level of the result GeoRaster object is the minimal value of the maximum pyramid level of the source GeoRaster objects. By default, <code class="codeph">pyramid=false</code>, and thus the pyramids are not mosaicked.
                           </p>
                           <p>If <code class="codeph">bitmapmask=true</code> is specified, the bitmap masks of the source GeoRaster objects are mosaicked also.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-DE82FBEC-8EDA-4CC8-9718-47B029A8CC1B">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>GeoRaster object to hold the result of the operation. Cannot be the same as any source GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-64D72804-9E01-43CB-B362-D5C2A44F842A">
                              <!-- --></a>bgValues
                        </dt>
                        <dd>
                           <p>Background cell values for filling partially empty raster blocks (full empty raster blocks are left as empty without filling). They are used to fill the empty areas resulted from the mosaicking operation, such as the areas that are outside of the clipping polygon or the gap areas not covered by any source images. (See also<a href="georaster-overview-and-concepts.html#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>.) The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).
                           </p>
                           <p>The filling values must be valid cell values as specified by the target cell depth.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-5A335387-B1DC-480C-970A-1A398B045E49">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit operation. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting mosaicked GeoRaster object explicitly in order to roll back the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-EDAA0FA1-6A06-43DB-B2D3-E37F8619FD83">
                              <!-- --></a>referenceImage
                        </dt>
                        <dd>
                           <p>Specifies the reference image used during the color balance operation. If null, it defaults to the first image from the query.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-A10C72AC-C69D-46D5-8180-447EA308DCA9">
                              <!-- --></a>referenceValue1
                        </dt>
                        <dd>
                           <p>Specifies the reference value or values used during the color balance operation. The meaning of the values is determined by the color balance method.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-A528EC57-FB88-4311-93AF-3B85821A05A6">
                              <!-- --></a>referenceValue2
                        </dt>
                        <dd>
                           <p>Specifies the reference value or values used during the color balance operation. The meaning of the values is determined by the color balance method.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-677345AF-C0F3-4F6E-8846-1B58ED0CD2F2">
                              <!-- --></a>referenceHistograms
                        </dt>
                        <dd>
                           <p>Specifies the reference histograms used during the color balance operation.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-DBF73243-4FB3-450C-AD36-B7106CE36C9A">Usage Notes</p>
                     <p>The first two formats of the procedure provide the basic color balancing method and assume that the elevation of the output GeoRaster object is 0. The last two formats of the procedure provide more advanced color balancing method using the reference values or reference images, and they let you specify the elevation value for the output GeoRaster object.</p>
                     <p>The source GeoRaster objects must be prepared images or raster data so that they can be mosaicked. That is, the GeoRaster objects to be mosaicked must:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Not be a mixture of georeferenced and nongeoreferenced objects. Either all of the objects are georeferenced, or none of the objects is georeferenced.</p>
                        </li>
                        <li>
                           <p>Have the same number of layers or bands. There is no restriction on the row and column dimension sizes of the source objects.</p>
                        </li>
                     </ul>
                     <p>If the GeoRaster objects to be mosaicked are georeferenced, they are co-located according to their georeferencing information. If the GeoRaster objects are not georeferenced, they are co-located according to their ULTCoordinate values. (The ULTCoordinate is explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                     </p>
                     <p>The resulting GeoRaster object's spatial reference metadata information is determined by the <code class="codeph">outSRID</code> and <code class="codeph">outResolutions</code> parameters. If <code class="codeph">outSRID</code> is not specified, the SRID of the first encountered source GeoRaster object is used. If <code class="codeph">outResolutions</code> is not specified, the spatial resolution of the first encountered source GeoRaster object at specified pyramid level (<code class="codeph">pyramidLevel</code> parameter) is used. The spatial resolution must be set in the metadata of all the source images.
                     </p>
                     <p>If any source GeoRaster object has a different SRID from <code class="codeph">outSRID</code> or is not rectified, it is dynamically reprojected or rectified so that the mosaicked GeoRaster object has uniform SRID and spatial resolution values.
                     </p>
                     <p>If the source GeoRaster objects overlap, data of the overlapping area follows the rules specified in the <code class="codeph">mosaicParam</code> parameter. By default, the cell value of the last encountered source GeoRaster object is used.
                     </p>
                     <p>The source GeoRaster objects that contributes to the output mosaic are selected by the <code class="codeph">cropArea</code> parameter spatially and&nbsp; <code class="codeph">outResolutions</code> parameter in resolution wise (resolution selection). 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">cropArea</code> parameter is used to query the source GeoRaster objects' spatial extents to determine the GeoRaster objects that are covered by the <code class="codeph">cropArea</code> geometry,. Thus, a spatial index should be built on the <code class="codeph">spatialExtent</code> attribute of the GeoRaster objects.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">outResolutions</code> parameter is used to find the source GeoRaster objects so that the <code class="codeph">outResolutions</code> value is within the resolution range of the source GeoRaster objects. A GeoRaster object's spatial resolution range is determined by the resolution at pyramid level 0 and the resolution at the top pyramid level of the GeoRaster object. It is a half pyramid lower than the pyramid level 0 and a half pyramid level higher than the top pyramid level. For example, if a GeoRaster object has a resolution of 30 meters at pyramid level 0 and a resolution of 960 meters at the top pyramid level 5, this GeoRaster object’s spatial resolution range is between 22.5 meters ((30 + 30/2)/2) and 1440 meters ((960 + 960*2)/2).
                           </p>
                        </li>
                     </ul>
                     <p>The resolution selection using the <code class="codeph">outResolutions</code> parameter can be speeded up by defining the columns MIN_X_RES$ and MAX_X_RES$ (both of type NUMBER) in the tables listed in <code class="codeph">georasterTableNames</code> parameter, where MIN_X_RES$ and MAX_X_RES$ specify the minimum and maximum spatial resolution values, respectively, of the source GeoRaster object. (A B-tree index should be created on the MIN_X_RES$ and MAX_X_RES$ columns if there are a large number of source GeoRaster objects.)&nbsp; To take advantage of this feature, the procedure format with the <code class="codeph">georasterTableNames</code> parameter must be used. It also requires that the resolution values stored in the MIN_X_RES$ and MAX_X_RES$ columns have the same unit as the unit of the SRID that is stored in the source GeoRaster object spatialExtent attribute.
                     </p>
                     <p>The resolution selection can be turned off by setting <code class="codeph">resFilter=false</code> in the <code class="codeph">mosaicParam</code> parameter. When the resolution selection is turned off, the source GeoRaster objects will only be filtered spatially.
                     </p>
                     <p>If the source GeoRaster objects have empty raster blocks or do not cover the whole area, the mosaicked result GeoRaster object may have empty or partially empty raster blocks (see <a href="georaster-overview-and-concepts.html#GUID-51AA757B-0EE9-4EAD-8394-17ED95041F74">Empty Raster Blocks</a>). A result raster block that is not covered by any of the source GeoRaster objects is kept empty. Any partially empty raster blocks are filled with the values specified in the <code class="codeph">bgValues</code> parameter, or with 0 if the <code class="codeph">bgValues</code> parameter is not specified.
                     </p>
                     <p>If the <code class="codeph">bitmapmask</code> parameter is set to <code class="codeph">true</code> in the <code class="codeph">storageParam</code> string, the bitmap masks are mosaicked. By default, the bitmap masks are not mosaciked. Note that the bitmap mask may also be considered as NODATA; and if they are, see the NODATA keyword in <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__CHECHAHE" title="This 2 column table lists mosaicParam Keywords. Column 1 is the keyword. Column 2 explains the keyword.">Table 9-1</a>.
                     </p>
                     <p>In order to use the <code class="codeph">colorBalance</code> option in <code class="codeph">mosaicParam</code>, you should you should call <a href="SDO_GEOR-reference.html#GUID-96B2E47F-17E2-491D-9FF6-AC7BEFB434D7">SDO_GEOR.generateStatistics</a> on the source images to generate the image's statistics and store them in the metadata for the source image.
                     </p>
                     <p>If all source GeoRaster objects are blank and have the same <code class="codeph">blankCellValue</code> value, the resulting GeoRaster object is blank and has that <code class="codeph">blankCellValue</code> value; otherwise, the resulting GeoRaster object is not blank.
                     </p>
                     <p>The GeoRaster object to contain the results of the mosaic operation (<code class="codeph">georaster</code> parameter) must not be any of the source GeoRaster objects (the objects on which the mosaic operation is performed).
                     </p>
                     <p>The mosaic operation performs internal commit operations at regular intervals, and thus it cannot be rolled back. If the operation is interrupted, dangling raster blocks may exist in the raster data table. You can handle dangling raster blocks by maintaining GeoRaster objects and system data in the database, as explained as explained in <a href="georaster-database-creation-management.html#GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E">Maintaining GeoRaster Objects and System Data in the Database</a>.
                     </p>
                     <p>For more information, see <a href="image-processing-virtual-mosaic.html#GUID-992BAEDB-C6EC-4E0E-97AA-C18A59F960FA" title="A large geospatial area typically consists of many smaller aerial photographs or satellite images. Large-scale image mosaicking can stitch these small geospatial images into one large image to get a better view of the whole spatial area.">Large-Scale Image Mosaicking</a> and <a href="image-processing-virtual-mosaic.html#GUID-16C91449-1E94-4B3F-9403-EEFE483251AD" title="A virtual mosaic treats a set of GeoRaster images as one large virtually mosaicked image.">Virtual Mosaic</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-85F23FB6-7F4B-40C4-B023-25DE37FA53BF__GUID-12A46041-23ED-435B-A02F-6DE32010B0B0">Examples</p>
                     <p>The following example shows how to color balance the source images using the linear stretching method (<code class="codeph">colorBalance=linearstretching</code>). It stretches  the source image cell values (<code class="codeph">cbreference=value</code>) to the minimum and maximum reference values. The reference values are specified in the <code class="codeph">ref_min</code> and <code class="codeph">ref_max</code> variables. 
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
gr sdo_georaster;
resolutions  sdo_number_array;
ref_min    sdo_number_arrray;
ref_max   sdo_number_array;
BEGIN
    insert into georaster_table (georid, georaster)
        values (10, sdo_geor.init('RDT_1',10))
         returning georaster into gr;
    
     resolutions := sdo_number_array(30, 30);
     ref_min := sdo_number_array(10, 10, 10);
     ref_max := sdo_number_array(200, 255, 230);

     sdo_geor_aggr.mosaicSubset('georaster_table_1, georaster_table_2', 
                   'georaster, georaster', 
                   0, null, 32610, null, null, null,
                   null, null, null, resolutions, null, 
                   'commonPointRule=average, colorBalance=linearstretching, cbreference=value', 
                   'blocking=optimalpadding, blocksize=(512,512,3)', gr, null, 'parallel=4', null, ref_min, ref_max);
 
      update georaster_table set georaster = gr where georid=10;
      commit;                                                              
END;
/
</pre><p>The following example shows how to color balance the source images using the histogram matching method (<code class="codeph">colorBalance=histogramMatching</code>). It matches the histogram of each source image (<code class="codeph">cbreference=image</code>) to the reference image’s histogram. 
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
gr sdo_georaster;
resolutions  sdo_number_array;
refgr sdo_georaster;
BEGIN
    -- get the reference image
select georaster into refgr from georaster_table where georid = 1;

-- insert new georaster for the mosaic
    insert into georaster_table (georid, georaster)
        values (10, sdo_geor.init('RDT_1',10))
         returning georaster into gr;
    
     resolutions := sdo_number_array(30, 30);

    -- mosaic
     sdo_geor_aggr.mosaicSubset('georaster_table_1, georaster_table_2', 
                   'georaster, georaster', 
                   0, 32610, null, null, null, null,
                   null, null, null, resolutions, null, 
                   'commonPointRule=average, colorBalance=histogramMatching, cbreference=image', 
                   'blocking=optimalpadding, blocksize=(512,512,3)', gr, null, 'parallel=4', refgr);
 
      update georaster_table set georaster = gr where georid=10;
      commit;                                                              
END;
/
</pre><p>The following example shows how to color balance the source images using the statistic matching method (<code class="codeph">colorBalance=statisticMatching</code>). It  adjusts the statistics of the source images based on the overlapping areas (<code class="codeph">cbreference=overlap</code>).
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
gr sdo_georaster;
resolutions  sdo_number_array;
BEGIN
    -- get the reference image
select georaster into refgr from georaster_table where georid = 1;

-- insert new georaster for the mosaic
    insert into georaster_table (georid, georaster)
        values (10, sdo_geor.init('RDT_1',10))
         returning georaster into gr;
    
     resolutions := sdo_number_array(30, 30);

    -- mosaic
     sdo_geor_aggr.mosaicSubset('georaster_table_1, georaster_table_2', 
                   'georaster, georaster', 
                   0, null, 32610, null, null, null,
                   null, null, null, resolutions, null, 
                   'commonPointRule=average, colorBalance=statisticMatching, cbreference=overlap', 
                   'blocking=optimalpadding, blocksize=(512,512,3)', gr, null, 'parallel=4');
 
      update georaster_table set georaster = gr where georid=10;
      commit;                                                              
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_AGGR Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1293"></a><div class="props_rev_3"><a id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A" name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A"></a><h3 id="GEORS-GUID-517B4271-BF48-45C3-B989-88EE40CF780A" class="sect3"><span class="enumeration_section">9.7 </span>SDO_GEOR_AGGR.validateForMosaicSubset
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-1DB9C0BD-5F4E-4E22-9734-571E57886E78">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.validateForMosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters    IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID         IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions  IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resultTableName IN VARCHAR2);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.validateForMosaicSubset(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableNames  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnNames IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID              IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outResolutions       IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutionUnit       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resultTableName      IN VARCHAR2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-514204F3-EB59-40A4-AFFF-3436448C7BBD">Description</p>
                     <p>Checks if it is feasible to do mosaicking or subset query operations over a virtual mosaic or a large collection of GeoRaster objects. Any validation errors and notes are stored in a user-created result table.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-85E13D6A-09E6-42DA-972C-987B7C26C853">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-8BB67231-4C35-4290-89D6-0973C19EE0AE">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Source GeoRaster objects in a cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-DE64D2F3-47F5-476A-B6B3-6F9B0A9F41B2">
                              <!-- --></a>georasterTableNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the tables containing the source GeoRaster objects.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-6E297122-1D24-4FAD-812F-6EEB29B8CA36">
                              <!-- --></a>georasterColumnNames
                        </dt>
                        <dd>
                           <p>Names (comma-separated) of the columns of type SDO_GEORASTER in tables corresponding to the table names in <code class="codeph">georasterTableNames</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-8842000C-F287-4A54-B1B3-0C422118D24D">
                              <!-- --></a>outSRID
                        </dt>
                        <dd>
                           <p>Coordinate system for the output GeoRaster object. Must be either null or a value from the SRID column of the MDSYS.CS_SRS table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-A097C665-4CBE-4D37-8E36-FB0160350CE9">
                              <!-- --></a>outResolutions
                        </dt>
                        <dd>
                           <p>Resolution of the output GeoRaster data. If null, the default is the resolution of the first encountered source GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-31FE83C4-73C9-42B0-884C-36B769E3DE92">
                              <!-- --></a>resolutionUnit
                        </dt>
                        <dd>
                           <p>The unit of the <code class="codeph">outResolutions</code> parameter. If null, the default is the unit of the output SRID. If specified, it must be a quoted string in the format "unit=<span class="italic">value</span>" where <span class="italic">value</span> is the unit name value (a valid UNIT_OF_MEAS_NAME value from the SDO_UNITS_OF_MEASURE table). This parameter is ignored if <code class="codeph">outResolutions</code> is null.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-B4E570EB-0C62-4579-8CF7-02ADCF895A20">
                              <!-- --></a>resultTableName
                        </dt>
                        <dd>
                           <p>Name of the validation result table. This table must already exist, and it must have the following column definitions:</p><pre class="oac_no_warn" dir="ltr">time timestamp, 
type varchar2(16), 
description varchar2(512), 
table_name varchar2(32), 
column_name varchar2(1024), 
rdt_table_name varchar2(32), 
raster_id number</pre></dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-7FA150FF-F83B-4E1D-81C4-DB4E07015A8F">Usage Notes</p>
                     <p>The following considerations apply to the <code class="codeph">resultTableName</code> parameter value:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the specified table does not exist, an error is generated.</p>
                        </li>
                        <li>
                           <p>If the parameter is not specified or is specified as null, the procedure throws an error at the first validation error found; otherwise, the procedure puts all the validation errors in the table and completes without error.</p>
                        </li>
                        <li>
                           <p>If the specified table is not empty, the procedure appends rows to the existing data in the table; and if there is a unique constraint on any column and if the newly appended data has the same value as existing data in that constrained column, an error is generated.</p>
                        </li>
                        <li>
                           <p>The TYPE column of the table contains a string indicating the type of issue, such as <code class="codeph">ERROR</code> (something that must be fixed) or <code class="codeph">NOTE</code> (information that may or may not require some action). The DESCRIPTION column provides details about the issue.
                           </p>
                        </li>
                     </ul>
                     <p>This procedure performs the following validation checks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The source GeoRaster objects must have the same band dimension size.</p>
                        </li>
                        <li>
                           <p>The source GeoRaster objects must have consistent georeference status, that is, either all are georeferenced or all are not georeferenced.</p>
                        </li>
                        <li>
                           <p>If reprojection or rectification to be performed when doing the mosaic, the operation must be feasible.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4271-BF48-45C3-B989-88EE40CF780A__GUID-2BEF0EDE-37D2-488E-BDED-F59F650C0F2E">Examples</p>
                     <p>The following example checks if a mosaic operation is possible. Any validation errors are stored in the predefined table MOSAIC_ERROR.</p><pre class="oac_no_warn" dir="ltr">EXECUTE sdo_geor_aggr.validateForMosaicSubset('georaster_table_1, georaster_table_2', 'georaster, georaster', 26986, sdo_number_array(30, 30), 'unit=meter', 'mosaic_error');

-- Check the validation results:
SELECT table_name table, column_name column, rdt_table_name rdt, raster_id rid, type, description FROM mosaic_error ORDER BY time;

TABLE       COLUMN    RDT   RID TYPE  DESCRIPTION
----------  --------  ----- --- ----- ---------------------------------------
GEORASTER_1 GEORASTER RDT_1   2 ERROR The source georaster object is       
                                      not georeferenced.
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="The SDO_GEOR_AGGR package contains subprograms (functions and procedures) for performing advanced large-scale mosaicking, appending, and virtual mosaic operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_AGGR Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>