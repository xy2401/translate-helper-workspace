<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types."></meta>
      <meta name="description" content="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types."></meta>
      <title>XML模式存储和查询：基本</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="choice-of-XMLType-storage-and-indexing.html" title="Previous" type="text/html"></link>
      <link rel="next" href="XML-Schema-and-query-object-relational-storage.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="choice-of-XMLType-storage-and-indexing.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="XML-Schema-and-query-object-relational-storage.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-Schema-and-object-relational-XMLType.html" property="item" typeof="WebPage"><span property="name">XML Schema和Object-Relational XMLType</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XML模式存储和查询：基本</li>
            </ol>
            <a id="GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" name="GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1"></a><a id="ADXDB0600"></a>
            
            <h2 id="ADXDB-GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" class="sect2"><span class="enumeration_chapter">17</span> XML Schema存储和查询：基本</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='XML-Schema-and-query-basic'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。</p>
               <p>该<a id="d81865e22" class="indexterm-anchor"></a> XML Schema Recommendation由万维网联盟（W3C）创建，用于描述XML文档的内容和结构。它包括的全部功能<a id="d81865e27" class="indexterm-anchor"></a>文档类型定义（DTD），以便可以将现有DTD转换为XML架构。与DTD相比，XML模式具有其他功能。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B">XML Schema概述</a><br>W3C XML Schema Recommendation定义了一种标准化语言，用于指定一组XML文档的结构，内容和某些语义。可以将XML模式视为描述一类XML文档的元数据。
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172">使用XML架构与Oracle XML DB的概述</a><br>Oracle XML DB支持注册XML模式，根据XML模式验证文档，从SQL对象类型生成XML模式，从XML模式映射到SQL，创建和查询基于XML模式的表，视图和列，以及在XML时自动插入数据基于模式的文档将插入Oracle XML DB Repository中。
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF">使用Oracle XML DB进行XML模式注册</a><br>在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建<code class="codeph">XMLType</code>表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5">基于XML模式创建XMLType表和列</a><br>您可以创建受XML架构定义的全局元素约束的<code class="codeph">XMLType</code>表和列。在<code class="codeph">XMLType</code>列被约束到特定元素和特定模式之后，它只能包含符合该元素的模式定义的文档。
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6">识别XML模式实例文档的方法</a><br>在将XML文档插入基于XML模式的<code class="codeph">XMLType</code>表或列之前，必须标识关联的XML模式。您可以在创建表或列时执行此操作，也可以使用<code class="codeph">XMLSchema-instance</code>将所需的模式标识显式添加到XML实例文档中。
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4">XML模式数据类型映射到Oracle XML DB存储</a><br>符合XML模式的数据使用XML模式数据类型。当此XML数据存储在Oracle XML DB中时，其存储数据类型使用默认映射从XML架构数据类型派生，并且可选地使用您使用XML架构批注指定的映射信息。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1__GUID-977C4EA2-6C98-4748-AE8E-D345ADF363AB">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="XML-Schema-and-query-object-relational-storage.html#GUID-B0C1A0B0-2DD1-491A-8CE1-1F857FD267B7" title="基于XML Schema的数据的高级技术包括使用对象关系存储;注释XML模式;将Schema数据类型映射到SQL;使用complexType扩展和限制;创建，指定关系约束，分区基于XML Schema的数据，存储XMLType数据，使用复杂或大型模式，以及调试模式注册。">XML模式存储和查询：对象关系存储，</a>以获取有关将XML模式与Oracle XML DB一起使用的更多高级信息</p>
                     </li>
                     <li>
                        <p>有关在Oracle XML DB中优化XPath表达式的信息，请参阅<a href="XPath-rewrite-for-object-relational-storage.html#GUID-35551023-CCAC-477B-8BBF-CD0E0B44C962" title="对于以对象方式存储的XMLType数据，涉及各种SQL函数的XPath表达式参数的查询通常可以自动重写为针对高度优化的基础SQL表的查询。">对象关系存储的XPath重写</a></p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xschema0_primer" target="_blank">XML Schema第0部分：</a>引用XML Schema的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xschema0_primer" target="_blank">Primer Second Edition</a></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XML-Schema-and-object-relational-XMLType.html#GUID-817F95DE-D604-41DC-BCDE-76CDE30F9176" title="涵盖了XML Schema的使用和XMLType数据的对象关系存储。">XML模式和对象关系XMLType</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB6296"></a><div class="props_rev_3"><a id="GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" name="GUID-DF33451A-6F65-4BBC-8834-80FBD687100B"></a><h3 id="ADXDB-GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" class="sect3"><span class="enumeration_section">17.1</span> XML Schema概述</h3>
               <div>
                  <p>W3C XML Schema Recommendation定义了一种标准化语言，用于指定一组XML文档的结构，内容和某些语义。可以将XML模式视为描述一类XML文档的元数据。</p>
                  <p>本文档将XML Schema实例定义称为<strong class="term">XML模式</strong> （小写）。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-89C13D9D-C554-4080-B683-756FE129C790">架构的XML架构</a><br>W3C Schema工作组发布了一个XML模式，通常称为“Schema for Schemas”。此XML架构提供XML架构语言的定义或词汇表。可以将所有有效的XML模式视为此XML模式定义的类的成员。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB">XML架构功能</a><br>XML Schema定义了47种标量数据类型，用于强类型元素和属性。它支持面向对象的继承和扩展，因此您可以使用基础数据类型设计具有复杂对象的XML模式。它包括用于定义和排序的构造，默认值，强制内容，嵌套，重复集和重新定义。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C">XML实例文档</a><br>符合XML模式的文档可以视为该XML模式定义的类的实例。XML模式的一个常见用途是验证给定的此类<strong class="term">实例文档是否</strong>符合XML模式定义的规则。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511">XML命名空间和XML模式</a><br>XML模式可以指定<code class="codeph">targetNamespace</code>属性，其值为URL。如果省略，则架构没有目标命名空间。目标命名空间是XML模式中定义的所有内容的命名空间。<code class="codeph">targetNamespace</code>值通常是可以访问XML模式的URL。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4">编辑XML模式概述</a><br>您可以随意创作和编辑XML模式。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-DF33451A-6F65-4BBC-8834-80FBD687100B__GUID-9F7ECC10-F973-4A33-B611-12E817E8DDB9">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xschema0_primer" target="_blank">XML Schema第0部分：</a>用于XML Schema建议的一般描述的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xschema0_primer" target="_blank">入门</a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。">XML模式存储和查询：基本</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6297"></a><div class="props_rev_3"><a id="GUID-89C13D9D-C554-4080-B683-756FE129C790" name="GUID-89C13D9D-C554-4080-B683-756FE129C790"></a><h4 id="ADXDB-GUID-89C13D9D-C554-4080-B683-756FE129C790" class="sect4"><span class="enumeration_section">17.1.1</span>模式的XML模式</h4>
                  <div>
                     <p>W3C Schema工作组发布了一个XML模式，通常称为“Schema for Schemas”。此XML架构提供XML架构语言的定义或词汇表。可以将所有有效的XML模式视为此XML模式定义的类的成员。</p>
                     <p>因此，XML模式是一种XML文档，它符合由<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_2001_xmlschema" target="_blank"><code class="codeph">https://www.w3.org/2001/XMLSchema</code></a>发布的XML模式定义的类。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="W3C XML Schema Recommendation定义了一种标准化语言，用于指定一组XML文档的结构，内容和某些语义。可以将XML模式视为描述一类XML文档的元数据。">XML模式概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6298"></a><div class="props_rev_3"><a id="GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB" name="GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB"></a><h4 id="ADXDB-GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB" class="sect4"><span class="enumeration_section">17.1.2</span> XML模式功能</h4>
                  <div>
                     <p>XML Schema定义了47种标量数据类型，用于强类型元素和属性。它支持面向对象的继承和扩展，因此您可以使用基础数据类型设计具有复杂对象的XML模式。它包括用于定义和排序的构造，默认值，强制内容，嵌套，重复集和重新定义。</p>
                     <p>Oracle XML DB支持XML Schema定义的所有构造，但重新定义除外。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="W3C XML Schema Recommendation定义了一种标准化语言，用于指定一组XML文档的结构，内容和某些语义。可以将XML模式视为描述一类XML文档的元数据。">XML模式概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6299"></a><div class="props_rev_3"><a id="GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C" name="GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C"></a><h4 id="ADXDB-GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C" class="sect4"><span class="enumeration_section">17.1.3</span> XML实例文档</h4>
                  <div>
                     <p>符合XML模式的文档可以视为该XML模式定义的类的实例。XML模式的一个常见用途是验证给定的此类<strong class="term">实例文档是否</strong>符合XML模式定义的规则。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="W3C XML Schema Recommendation定义了一种标准化语言，用于指定一组XML文档的结构，内容和某些语义。可以将XML模式视为描述一类XML文档的元数据。">XML模式概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6300"></a><div class="props_rev_3"><a id="GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511" name="GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511"></a><h4 id="ADXDB-GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511" class="sect4"><span class="enumeration_section">17.1.4</span> XML命名空间和XML模式</h4>
                  <div>
                     <p>XML模式可以指定<code class="codeph">targetNamespace</code>属性，其值为URL。如果省略，则架构没有目标命名空间。目标命名空间是XML模式中定义的所有内容的命名空间。<code class="codeph">targetNamespace</code>值通常是可以访问XML模式的URL。
                     </p>
                     <p>XML实例文档必须指定命名空间<a id="d81865e399" class="indexterm-anchor"></a>文档的根元素（与实例符合的XML模式的目标名称空间相同）和定义此根元素的XML模式的位置（URL）。此信息由属性<code class="codeph">xsi:schemaLocation</code>指定。当XML模式没有目标名称空间时，请使用属性<code class="codeph">xsi:noNamespaceSchemaLocation</code>指定模式URL。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="W3C XML Schema Recommendation定义了一种标准化语言，用于指定一组XML文档的结构，内容和某些语义。可以将XML模式视为描述一类XML文档的元数据。">XML模式概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6302"></a><a id="ADXDB6301"></a><div class="props_rev_3"><a id="GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4" name="GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4"></a><h4 id="ADXDB-GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4" class="sect4"><span class="enumeration_section">17.1.5</span>编辑XML模式概述</h4>
                  <div>
                     <p>您可以随意创作和编辑XML模式。</p>
                     <p>例如，您可以使用以下任何一项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>一个简单的文本编辑器，例如Emacs或vi</p>
                        </li>
                        <li>
                           <p>一个支持XML Schema的编辑器，例如Oracle JDeveloper附带的XML编辑器</p>
                        </li>
                        <li>
                           <p>一种显式的XML Schema创作工具，例如Altova Corporation的XMLSpy</p>
                        </li>
                     </ul>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4__CEGDDAHG">图17-1</a>显示了使用XMLSpy编辑的采购订单XML模式。XMLSpy是Altova Corporation的图形化XML工具，可用于创建和编辑XML模式和其他XML文档。有关详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=altova_com" target="_blank">Altova.com</a> 。<a id="fn_1" name="fn_1" href="#fn_1" xmlspy="" also="" supports="" webdav="" and="" ftp="" protocols,="" so="" you="" can="" use="" it="" to="" directly="" access="" edit="" content="" stored="" in="" oracle="" xml&nbsp;db="" repository=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a> 
                     </p>
                     <div class="figure" id="GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4__CEGDDAHG">
                        <p class="titleinfigure">图17-1采购订单XML架构的XMLSpy图形表示</p><img src="img/po_spy.gif" width="585" alt="下面是图17-1的描述" title="下面是图17-1的描述" longdesc="img_text/po_spy.html"><br><a href="img_text/po_spy.html">“图17-1采购订单XML架构的XMLSpy图形表示”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="W3C XML Schema Recommendation定义了一种标准化语言，用于指定一组XML文档的结构，内容和某些语义。可以将XML模式视为描述一类XML文档的元数据。">XML模式概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB6303"></a><div class="props_rev_3"><a id="GUID-CD1BA605-196D-461C-9707-6A0B870F1172" name="GUID-CD1BA605-196D-461C-9707-6A0B870F1172"></a><h3 id="ADXDB-GUID-CD1BA605-196D-461C-9707-6A0B870F1172" class="sect3"><span class="enumeration_section">17.2</span>在Oracle XML DB中使用XML模式的概述</h3>
               <div>
                  <p>Oracle XML DB支持注册XML模式，根据XML模式验证文档，从SQL对象类型生成XML模式，从XML模式映射到SQL，创建和查询基于XML模式的表，视图和列，以及在XML时自动插入数据基于模式的文档将插入Oracle XML DB Repository中。</p>
                  <p>XML模式作为<code class="codeph">XMLType</code>实例存储在Oracle XML DB中，就像引用它们的XML文档一样。您必须向Oracle XML DB <span class="italic">注册</span> XML模式，以便将其与存储在数据库中的XML数据一起使用。
                  </p>
                  <p>Oracle XML DB利用XML Schema的强类型和其他功能来安全有效地处理XML数据库数据。</p>
                  <p>要在Oracle XML DB中注册，XML模式必须符合<strong class="term">根XML模式</strong> <strong class="term">XDBSchema.xsd</strong> 。这是Oracle XML DB XML模式的XML模式。您可以在Oracle XML DB存储库位置访问<code class="codeph">XDBSchema.xsd</code> <code class="codeph">/sys/schemas/PUBLIC/xmlns.oracle.com/xdb/XDBSchema.xsd</code> 。
                  </p>
                  <p>Oracle XML DB使用带<span class="italic">注释的</span> XML模式作为元数据。使用标准XML模式定义以及几个Oracle名称空间属性。这些属性确定XML实例文档如何映射到数据库。由于这些属性与XML Schema名称空间位于不同的名称空间中，因此这种带注释的XML模式遵循XML Schema标准。
                  </p>
                  <p>Oracle XML DB为以下任务提供XML Schema支持：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>注册符合W3C的XML模式，包括本地和全局。</p>
                     </li>
                     <li>
                        <p>根据已注册的XML模式定义验证XML文档。</p>
                     </li>
                     <li>
                        <p>从SQL对象类型生成XML模式。</p>
                     </li>
                     <li>
                        <p>引用其他用户拥有的XML架构。</p>
                     </li>
                     <li>
                        <p>当存在具有相同名称的本地XML架构时引用全局XML架构。</p>
                     </li>
                     <li>
                        <p>在XML模式注册期间从XML模式生成数据库映射。这包括生成SQL对象类型，集合类型和默认表，以及使用XML架构属性捕获映射信息。</p>
                     </li>
                     <li>
                        <p>在有多个允许的映射时指定特定的SQL数据类型映射。</p>
                     </li>
                     <li>
                        <p>基于已注册的XML模式创建<code class="codeph">XMLType</code>表，视图和列。
                        </p>
                     </li>
                     <li>
                        <p>操作和查询基于XML模式的<code class="codeph">XMLType</code>表。
                        </p>
                     </li>
                     <li>
                        <p>使用协议（FTP，HTTP（S）/ WebDAV）和SQL以外的语言将基于XML模式的文档插入Oracle XML DB存储库时，自动将数据插入默认表。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9">为什么在Oracle XML DB中使用XML Schema？</a><br>使用XML Schema的常见原因包括验证，约束定义，存储规范以及文档插入，存储和访问的优化。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8">注释XML模式以控制命名，映射和存储的概述</a><br>W3C XML Schema Recommendation允许将特定于供应商的注释添加到XML模式中。Oracle XML DB使用注释来控制XML模式和各种数据库功能之间的映射。您可以使用注释指定哪些表存储XML数据。注释对于对象关系存储尤其有用。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6">DOM富达</a><br>DOM保真度意味着保留XML文档中的所有信息，除了无关紧要的空白。您可以使用DOM保真度来确保存储在Oracle XML DB中的XML文档的准确性和完整性。</li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6">与XML Schema相关的XMLType方法</a><br>使用XML模式的最重要的<code class="codeph">XMLType</code>方法是： <code class="codeph">isSchemaBased()</code> ， <code class="codeph">getSchemaURL()</code> ， <code class="codeph">schemaValidate()</code> ， <code class="codeph">isSchemaValid()</code> ， <code class="codeph">isSchemaValidated()</code>和<code class="codeph">setSchemaValidated()</code> 。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。">XML模式存储和查询：基本</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6304"></a><div class="props_rev_3"><a id="GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9" name="GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9"></a><h4 id="ADXDB-GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9" class="sect4"><span class="enumeration_section">17.2.1</span>为什么在Oracle XML DB中使用XML模式？
                  </h4>
                  <div>
                     <p>使用XML Schema的常见原因包括验证，约束定义，存储规范以及文档插入，存储和访问的优化。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XML Schema的最常见用途是作为<span class="italic">验证</span> XML实例文档是否符合给定XML模式的机制，即验证XML数据是否符合其预期定义。此定义包括数据类型，允许的项目出现次数和允许的项目长度。
                           </p>
                        </li>
                        <li>
                           <p>在创建<code class="codeph">XMLType</code>表或列时，XML模式也可以用作<span class="italic">约束</span> 。例如，可以约束表或列以仅存储符合XML模式定义的全局元素之一的XML文档。
                           </p>
                        </li>
                        <li>
                           <p>Oracle XML DB还使用XML Schema作为定义如何将<code class="codeph">XMLType</code>实例的内容存储在数据库中的机制。<code class="codeph">XMLType</code>二进制XML和对象关系存储模型都支持使用XML Schema。当<code class="codeph">XMLType</code>数据以对象关系方式存储时，XML Schema用于有效地将XML Schema数据类型映射到SQL数据类型和对象关系表和列。
                           </p>
                        </li>
                        <li>
                           <p>使用协议FTP和HTTP（S）在Oracle XML DB中存储基于XML模式的文档时，XML模式信息还可以提高文档插入的效率。</p>
                        </li>
                        <li>
                           <p>当必须处理XML实例时，如果没有任何关于它们的先验信息，XML模式可用于预测最佳存储，保真度和访问。</p>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="intro-to-XML-DB.html#GUID-B8507F44-B010-4384-94E6-101131DD7D88" title="XMLType是一种抽象数据类型，它提供了不同的存储模型，以最好地适应您的数据及其使用。作为抽象数据类型，您的应用程序和数据库查询可以获得灵活性：所有XMLType操作都可以使用相同的接口。">XMLType存储模型</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML DB支持注册XML模式，根据XML模式验证文档，从SQL对象类型生成XML模式，从XML模式映射到SQL，创建和查询基于XML模式的表，视图和列，以及在XML时自动插入数据基于模式的文档将插入Oracle XML DB Repository中。">将XML架构与Oracle XML DB一起使用的概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6309"></a><a id="ADXDB6307"></a><div class="props_rev_3"><a id="GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8" name="GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8"></a><h4 id="ADXDB-GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8" class="sect4"><span class="enumeration_section">17.2.2</span>注释XML模式以控制命名，映射和存储的概述</h4>
                  <div>
                     <p>W3C XML Schema Recommendation允许将特定于供应商的注释添加到XML模式中。Oracle XML DB使用注释来控制XML模式和各种数据库功能之间的映射。您可以使用注释指定哪些表存储XML数据。注释对于对象关系存储尤其有用。</p>
                     <p>您可以将XML架构注释与Oracle XML DB一起使用来执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定用于存储XML数据的数据库表。</p>
                        </li>
                        <li>
                           <p>覆盖XML Schema数据类型和SQL数据类型之间的默认映射，用于对象关系存储。</p>
                        </li>
                        <li>
                           <p>命名为存储XML数据而创建的数据库对象和属性（用于对象关系存储）。</p>
                        </li>
                     </ul>
                     <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">示例A-2</a>显示了带注释的购买订单XML架构。它定义了以下两个XML命名空间：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">http://www.w3c.org/2001/XMLSchema</code> 。这是由W3C保留的Schema for Schemas。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">http://xmlns.oracle.com/xdb</code> 。这是Oracle为Oracle XML DB架构注释保留的。
                           </p>
                        </li>
                     </ul>
                     <p>在注释XML模式之前， <span class="italic">必须</span>声明Oracle XML DB名称空间。Oracle XML DB命名空间是<code class="codeph">http://xmlns.oracle.com/xdb</code> 。 <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">示例A-2</a>使用名称空间<span class="italic">前缀</span> <span class="bold"><code class="codeph">xdb</code></span>来缩写Oracle XML DB名称空间。
                     </p>
                     <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">示例A-2</a>使用多个XML模式注释，包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">PurchaseOrder</code>元素中的<code class="codeph">defaultTable</code>注释。这指定符合此XML模式的XML文档存储在名为<code class="codeph">purchaseorder</code>的数据库表中。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLType</code>注释。
                           </p>
                           <p>第一次出现注释<code class="codeph">SQLType</code>指定从<code class="codeph">complexType</code>元素<code class="codeph">PurchaseOrderType</code>生成的SQL数据类型的名称是<code class="codeph">purchaseorder_t</code> 。
                           </p>
                           <p>第二次出现注释<code class="codeph">SQLType</code>指定从<code class="codeph">complexType</code>元素<code class="codeph">LineItemType</code>生成的SQL数据类型的名称是<code class="codeph">lineitem_t</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLCollType</code>注释。这指定管理<code class="codeph">LineItem</code>元素集合的SQL varray类型的名称是<code class="codeph">lineitem_v</code> 。</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLName</code>注释。这为<code class="codeph">purchaseorder_t</code>每个SQL对象属性提供了显式名称。
                           </p>
                        </li>
                     </ul>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8__CEGIBHEB">图17-2</a>显示了XMLSpy <span class="bold">Oracle</span>选项卡，该选项卡有助于在图形编辑器中工作时将Oracle XML DB注释添加到XML模式。
                     </p>
                     <div class="figure" id="GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8__CEGIBHEB">
                        <p class="titleinfigure">图17-2 XMLSpy支持Oracle XML DB模式注释</p><img src="img/annot_spy.gif" width="585" alt="下面是图17-2的描述" title="下面是图17-2的描述" longdesc="img_text/annot_spy.html"><br><a href="img_text/annot_spy.html">“图17-2 XMLSpy支持Oracle XML DB模式注释”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML DB支持注册XML模式，根据XML模式验证文档，从SQL对象类型生成XML模式，从XML模式映射到SQL，创建和查询基于XML模式的表，视图和列，以及在XML时自动插入数据基于模式的文档将插入Oracle XML DB Repository中。">将XML架构与Oracle XML DB一起使用的概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4482"></a><div class="props_rev_3"><a id="GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6" name="GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6"></a><h4 id="ADXDB-GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6" class="sect4"><span class="enumeration_section">17.2.3</span> DOM保真度</h4>
                  <div>
                     <p>DOM保真度意味着保留XML文档中的所有信息，除了无关紧要的空白。您可以使用DOM保真度来确保存储在Oracle XML DB中的XML文档的准确性和完整性。</p>
                     <p><strong class="term">文档对象模型（DOM）保真度</strong>是与<strong class="term">DOM</strong>原始XML文档相比，为DOM遍历保留检索到的XML文档结构的概念。
                     </p>
                     <p>使用DOM保真度，从数据库中检索的XML数据具有与插入数据库之前相同的信息，只有无关紧要的空白。使用术语“DOM保真度”是因为这种保真度对于DOM遍历特别重要。</p>
                     <p>利用XML数据的二进制XML存储，所有重要信息都以二进制XML格式编码，从而确保DOM保真度。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6__GUID-7B1AFA1D-52A5-4F78-A2F8-88CCF7AD2C59">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="XML-Schema-and-query-object-relational-storage.html#GUID-AF8651CF-49C5-4B13-A198-0AE1F0770439" title="为了提供以对象关系存储的XML数据的DOM保真度，Oracle XML DB使用系统定义的二进制对象属性SYS_XDBPD $将所有无法存储在任何其他对象属性中的信息记录为实例级元数据（位置描述符或PD）。">用于对象关系存储的SYS_XDBPD $和DOM Fidelity，</a>用于获取有关DOM数据的DOM保真度和对象关系存储的信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML DB支持注册XML模式，根据XML模式验证文档，从SQL对象类型生成XML模式，从XML模式映射到SQL，创建和查询基于XML模式的表，视图和列，以及在XML时自动插入数据基于模式的文档将插入Oracle XML DB Repository中。">将XML架构与Oracle XML DB一起使用的概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4476"></a><a id="ADXDB4475"></a><div class="props_rev_3"><a id="GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6" name="GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6"></a><h4 id="ADXDB-GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6" class="sect4"><span class="enumeration_section">17.2.4</span>与XML Schema相关的XMLType方法</h4>
                  <div>
                     <p>使用XML模式的最重要的<code class="codeph">XMLType</code>方法是： <code class="codeph">isSchemaBased()</code> ， <code class="codeph">getSchemaURL()</code> ， <code class="codeph">schemaValidate()</code> ， <code class="codeph">isSchemaValid()</code> ， <code class="codeph">isSchemaValidated()</code>和<code class="codeph">setSchemaValidated()</code> 。
                     </p>
                     <div class="tblformalwide" id="GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6__G1048549">
                        <p class="titleintable">表17-1与XML模式相关的XMLType方法</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="与XML Schema相关的XMLType方法" width="100%" border="1" summary="This table describes XMLType API’s eight  XML Schema methods." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d81865e1121">XMLType方法</th>
                                 <th align="left" valign="bottom" width="75%" id="d81865e1124">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d81865e1129" headers="d81865e1121 "><pre class="oac_no_warn" dir="ltr">isSchemaBased（）</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d81865e1129 d81865e1124 ">
                                    <p>如果<code class="codeph">XMLType</code>实例基于XML架构，则返回<code class="codeph">TRUE</code>否则返回<code class="codeph">FALSE</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d81865e1145" headers="d81865e1121 "><pre class="oac_no_warn" dir="ltr">getSchemaURL（）</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d81865e1145 d81865e1124 ">
                                    <p><code class="codeph">XMLType</code>实例的XML架构URL。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d81865e1155" headers="d81865e1121 "><pre class="oac_no_warn" dir="ltr">schemaValidate（）isSchemaValid（）isSchemaValidated（）setSchemaValidated（）</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d81865e1155 d81865e1124 ">
                                    <p>针对已注册的XML模式验证<code class="codeph">XMLType</code>实例：验证，检查验证状态或设置记录的验证状态。请参阅<a href="transformation-and-validation-of-XMLType-data.html#GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" title="有几个Oracle SQL函数和XMLType API，用于使用XSLT样式表转换XMLType数据，以及根据XML模式验证XMLType实例。">XMLType数据的转换和验证</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML DB支持注册XML模式，根据XML模式验证文档，从SQL对象类型生成XML模式，从XML模式映射到SQL，创建和查询基于XML模式的表，视图和列，以及在XML时自动插入数据基于模式的文档将插入Oracle XML DB Repository中。">将XML架构与Oracle XML DB一起使用的概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB6310"></a><div class="props_rev_3"><a id="GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" name="GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF"></a><h3 id="ADXDB-GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" class="sect3"><span class="enumeration_section">17.3</span>使用Oracle XML DB进行XML模式注册</h3>
               <div>
                  <p>在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建<code class="codeph">XMLType</code>表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。
                  </p>
                  <p>与所有DDL操作一样，XML模式注册是非事务性的。但是，从这个意义上说，注册是<span class="italic">原子的</span> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果注册成功，则操作将自动提交。</p>
                     </li>
                     <li>
                        <p>如果注册失败，则数据库将回滚到注册开始之前的状态。</p>
                     </li>
                  </ul>
                  <p>由于XML模式注册可能涉及创建对象类型和表，因此错误恢复涉及删除由此创建的任何类型和表。整个XML模式注册过程保证是原子的：要么成功，要么数据库恢复到注册开始之前的状态。</p>
                  <p>使用Oracle XML DB注册XML模式需要两个项目：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>XML架构文档</p>
                     </li>
                     <li>
                        <p>在向Oracle数据库注册之后，可以将其用作XML模式的唯一标识符的字符串。XML实例文档使用此唯一标识符将自身标识为XML模式定义的类的成员。标识符通常采用URL的形式，通常称为<strong class="term">架构位置提示</strong>或<strong class="term">文档位置提示</strong> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF__GUID-E0C23F1A-CADE-43F8-860E-80EC3ED426C7">
                     <p class="notep1">注意：</p>
                     <p>注册XML模式的行为<span class="italic">不会影响</span> <span class="italic">已加载</span>到Oracle XML DB Repository中并引用该XML模式的任何实例文档的状态。
                     </p>
                     <p>这些实例文档在加载时被视为非基于XML模式的文档。他们仍然如此。在模式注册之后，您必须<span class="italic">删除</span>这些文档并<span class="italic">重新加载</span>它们，以获取基于XML模式的文档。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-88464A1A-32CB-40C3-A940-416E3442CF10">XML模式注册操作</a><br>作为注册XML模式的一部分，Oracle XML DB执行多个操作，以便于存储，访问和操作符合XML模式的XML实例。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660">向Oracle XML DB注册XML模式</a><br>一个示例说明了使用PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>来注册XML模式。此过程的主要参数是架构URL，架构源文档，源文档编码的字符集ID以及指定架构应如何注册的选项。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F">XML模式注册期间创建的SQL类型和表</a><br>注册XML模式会导致创建对象类型和表。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12">全局元素的默认表</a><br>默认情况下，为所有全局元素创建具有系统生成名称的表。您可以指定要使用的名称。您可以阻止为特定元素创建默认表，这可以减少处理器时间和使用的空间，尤其是在XML模式包含许多全局元素定义的情况下。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460">依赖于已注册的XML模式的数据库对象</a><br>几种数据库对象可以依赖于已注册的XML模式：表，视图，其他XML模式以及引用XML模式的游标。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4">本地和全局XML模式</a><br>XML模式可以注册为本地（默认情况下仅对其所有者可见）或全局（默认情况下对所有数据库用户可见）。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-7A661274-35C2-422B-A290-5E06D9BADAA0">完全合格的XML架构URL</a><br><span class="italic">完全限定的</span> XML模式URL允许显式引用特定的XML模式。拥有XML模式的数据库用户的名称被指定为URL的一部分。完全限定的模式URL属于Oracle XML DB名称空间。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F">删除XML模式</a><br>您可以使用过程<code class="codeph">DBMS_XMLSCHEMA.</code>删除已注册的XML模式<code class="codeph">DBMS_XMLSCHEMA.</code> <span class="bold"><code class="codeph">deleteSchema</code></span> 。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9">列出所有已注册的XML模式</a><br>示例列出了向Oracle XML DB注册的所有XML模式。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。">XML模式存储和查询：基本</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4460"></a><div class="props_rev_3"><a id="GUID-88464A1A-32CB-40C3-A940-416E3442CF10" name="GUID-88464A1A-32CB-40C3-A940-416E3442CF10"></a><h4 id="ADXDB-GUID-88464A1A-32CB-40C3-A940-416E3442CF10" class="sect4"><span class="enumeration_section">17.3.1</span> XML模式注册操作</h4>
                  <div>
                     <p>作为注册XML模式的一部分，Oracle XML DB执行多个操作，以便于存储，访问和操作符合XML模式的XML实例。</p>
                     <p>这些包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将XML Schema数据类型映射到Oracle XML DB存储。存储基于XML模式的数据时，其存储数据类型使用默认映射从XML模式数据类型派生，并可选择使用您使用XML模式注释指定的映射信息。对于二进制XML存储，XML Schema类型映射到二进制XML编码类型。对于对象关系存储，XML模式注册为符合文档的对象关系存储创建适当的SQL对象类型。</p>
                        </li>
                        <li>
                           <p>创建默认表。XML模式注册为所有全局元素生成默认<code class="codeph">XMLType</code>表。您可以使用XML模式注释来控制表的名称，并提供在表创建期间使用的列级和表级存储子句和约束。
                           </p>
                        </li>
                     </ul>
                     <p>在XML模式注册之后，Oracle XML DB可以自动处理使用XML模式实例机制引用XML模式的文档。对于以对象关系存储的XML数据，可以创建受XML架构定义的全局元素约束的<code class="codeph">XMLType</code>表和列。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4" title="符合XML模式的数据使用XML模式数据类型。当此XML数据存储在Oracle XML DB中时，其存储数据类型使用默认映射从XML架构数据类型派生，并且可选地使用您使用XML架构批注指定的映射信息。">XML模式数据类型映射到Oracle XML DB存储</a></li>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-54A3CBE8-19BE-43BB-8979-7769116B6F53" title="您可以在XML模式注册中创建默认表。使用API和协议（如FTP和HTTP（S））插入文档时，默认表最有用，它们不提供任何表规范。">XML架构注册期间创建的默认表</a></li>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-F7E43D3A-67D8-432E-833A-DE0EA4CFCE7A" title="您可以注释XML模式以影响XML模式注册过程生成的对象和表。您可以通过向XML模式声明的complexType，元素和属性定义添加特定于Oracle的属性来完成此操作。">Oracle XML Schema Annotations</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6312"></a><a id="ADXDB6311"></a><div class="props_rev_3"><a id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660" name="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660"></a><h4 id="ADXDB-GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660" class="sect4"><span class="enumeration_section">17.3.2</span>使用Oracle XML DB注册XML模式</h4>
                  <div>
                     <p>一个示例说明了使用PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>来注册XML模式。此过程的主要参数是架构URL，架构源文档，源文档编码的字符集ID以及指定架构应如何注册的选项。
                     </p>
                     <div class="section">
                        <p><code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>的主要参数如下：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SCHEMAURL</code> -  XML架构URL。这是Oracle XML DB中XML模式的唯一标识符。它通常以URL的形式出现，但这不是必需的。通过使架构位置提示与XML架构URL相同，XML架构URL与Oracle XML DB一起用于标识实例文档。 Oracle XML DB从不尝试访问由指定URL标识的Web服务器。</p>
                              <div class="infoboxnote" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__GUID-950A38B2-6813-4262-9D0D-00EBEFCAEB5D">
                                 <p class="notep1">注意：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p></p>
                                       <p>您不能使用与任何系统定义的XML架构相同的<code class="codeph">SCHEMAURL</code>注册XML架构。
                                       </p>
                                    </li>
                                    <li>
                                       <p>URL的非协议部分必须是唯一的。在测试唯一性时忽略协议部分（例如， <code class="codeph">http</code>或<code class="codeph">https</code> ）。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <p><code class="codeph">SCHEMADOC</code> -  XML架构源文档。这是<code class="codeph">VARCHAR</code> ， <code class="codeph">CLOB</code> ， <code class="codeph">BLOB</code> ， <code class="codeph">BFILE</code> ， <code class="codeph">XMLType</code>或<code class="codeph">URIType</code>值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CSID</code> - 当<code class="codeph">schemaDoc</code>是<code class="codeph">BFILE</code>或<code class="codeph">BLOB</code>值时，源文档编码的字符集ID。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OPTIONS</code> - 指定应如何注册XML模式的选项。最重要的选项是<code class="codeph">REGISTER_BINARYXML</code> ，它表示XML模式用于二进制XML存储。另一个选项是<code class="codeph">REGISTER_NT_AS_IOT</code> ，它强制将OCT存储为索引组织表（IOT）。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__GUID-30F39B84-5563-4270-A48E-0639502FA06B">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                        <p><a href="XML-Schema-and-query-basic.html#GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__CEGDEDDF">例17-1</a>注册了<a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">例A-2</a>的带注释的XML模式。
                        </p>
                        <p>在<a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">示例A-2中</a> ，XML模式的唯一标识符是：</p><pre class="oac_no_warn" dir="ltr">HTTP：//本地主机：8080 /源/模式/ poSource / XSD / purchaseOrder.xsd</pre><p>之前，XML模式文档已加载到Oracle XML DB Repository中： <code class="codeph">/source/schemas/poSource/xsd/purchaseOrder.xsd</code> 。
                        </p>
                        <p>在XML模式注册期间，选项<code class="codeph">SCHEMADOC</code>指定PL / SQL构造函数<code class="codeph">XDBURIType</code>将根据其在存储库中的位置来访问XML模式文档的内容。传递给过程<code class="codeph">registerSchema</code>其他选项指定将<a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">示例A-2</a>中的模式注册为本地XML模式（选项<code class="codeph">LOCAL</code> ），并在注册过程中生成SQL对象和那些表（选项<code class="codeph">GENTABLES</code> ）。
                        </p>
                        <p>PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>解析并验证XML模式。</p>
                           </li>
                           <li>
                              <p>在Oracle数据字典中创建一组描述XML模式的条目。</p>
                           </li>
                           <li>
                              <p>基于XML模式中定义的<code class="codeph">complexType</code>元素创建一组SQL对象定义。
                              </p>
                           </li>
                           <li>
                              <p>为XML模式定义的每个全局元素创建<code class="codeph">XMLType</code>表。
                              </p>
                           </li>
                        </ul>
                        <p>默认情况下，注册XML模式时，Oracle XML DB会自动生成管理实例文档所需的所有SQL对象类型和<code class="codeph">XMLType</code>表。XML模式可以注册为全局或本地。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__GUID-CA96B25F-AB87-44BA-BA18-F503B82FC9AB">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>信息<a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__CEGDEDDF">
                        <p class="titleinexample">示例17-1使用DBMS_XMLSCHEMA.REGISTERSCHEMA注册XML模式</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_XMLSCHEMA.registerSchema（SCHEMAURL =&gt;' <span class="bold">http：// localhost：8080 / source / schemas / poSource / xsd / purchaseOrder.xsd</span> '，SCHEMADOC =&gt; XDBURIType（' <span class="bold">/ ssource /schemas / poSource / xsd</span> <span class="bold">/purchaseOrder.xsd</span> '） .getCLOB（），LOCAL =&gt; <span class="bold">TRUE</span> ，GENTYPES =&gt; <span class="bold">TRUE</span> ，GENTABLES =&gt; TRUE）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="XML模式可以注册为本地（默认情况下仅对其所有者可见）或全局（默认情况下对所有数据库用户可见）。">本地和全局XML模式</a></li>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F" title="注册XML模式会导致创建对象类型和表。">XML模式注册期间创建的SQL类型和表</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6314"></a><a id="ADXDB6313"></a><div class="props_rev_3"><a id="GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F" name="GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F"></a><h4 id="ADXDB-GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F" class="sect4"><span class="enumeration_section">17.3.3</span> XML模式注册期间创建的SQL类型和表</h4>
                  <div>
                     <p>注册XML模式会导致创建对象类型和表。</p>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F__CEGHCACG">例17-2</a>显示了在XML模式注册期间创建的SQL类型定义，例如<a href="XML-Schema-and-query-basic.html#GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__CEGDEDDF">示例17-1</a> 。这些SQL类型定义包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">purchaseorder_t</code> 。此类型用于保留从<code class="codeph">PurchaseOrder</code>元素生成的SQL对象。当包含<code class="codeph">PurchaseOrder</code>元素的XML文档存储在Oracle XML DB中时，文档将被分解，并且文档的内容将存储为<code class="codeph">purchaseorder_t</code>的实例。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">lineitems_t</code> ， <code class="codeph">lineitem_v</code>和<code class="codeph">lineitem_t</code> 。这些类型管理可能存在于<code class="codeph">PurchaseOrder</code>文档中的<code class="codeph">LineItem</code>元素的集合。类型<code class="codeph">lineitems_t</code>由单个属性<code class="codeph">lineitem</code> ，定义为<code class="codeph">lineitem_v</code>类型的实例。类型<code class="codeph">lineitem_v</code>被定义为<code class="codeph">linteitem_t</code>对象的<code class="codeph">linteitem_t</code> 。对于文档中的每个<code class="codeph">LineItem</code>元素，有一个<code class="codeph">lineitem_t</code>对象的实例。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F__CEGHCACG">
                        <p class="titleinexample">示例17-2 XML架构注册期间创建的对象</p><pre class="pre codeblock"><code>DESCRIBE purchaseorder_t purchaseorder_t不是最终名称是否为空？输入----------------------------------------- -------- ---------------------------- SYS_XDBPD $ XDB.XDB $ RAW_LIST_T REFERENCE VARCHAR2（30 CHAR）ACTIONS_TTIONS REJECTION REJECTION_T REQUESTOR VARCHAR2（128 CHAR ）USERID VARCHAR2（10 CHAR）COST_CENTER VARCHAR2（4 CHAR）SHIPPING_INSTRUCTIONS SHIPPING_INSTRUCTIONS_T SPECIAL_INSTRUCTIONS VARCHAR2（2048 CHAR）LINEITEMS LINEITEMS_T DESCRIBE lineitems_t lineitems_t is NOTAL Name Null？输入----------------------------------------- -------- ---------------------------- SYS_XDBPD $ XDB.XDB $ RAW_LIST_T LINEITEM LINEITEM_V DESCRIBE lineitem_v lineitem_v VARRAY（2147483647）LINEITEM_T LINEITEM_T不是最终版名字空？输入----------------------------------------- -------- ---------------------------- SYS_XDBPD $ XDB.XDB $ RAW_LIST_T ITEMNUMBER NUMBER（38）DESCRIPTION VARCHAR2（256 CHAR）PART PART_T</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6316"></a><div class="props_rev_3"><a id="GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12" name="GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12"></a><h4 id="ADXDB-GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12" class="sect4"><span class="enumeration_section">17.3.4</span>全局元素的默认表</h4>
                  <div>
                     <p>默认情况下，为所有全局元素创建具有系统生成名称的表。您可以指定要使用的名称。您可以阻止为特定元素创建默认表，这可以减少处理器时间和使用的空间，尤其是在XML模式包含许多全局元素定义的情况下。</p>
                     <p>缺省情况下，向数据库注册XML模式时，Oracle XML DB会<span class="italic">为</span> XML模式定义的<span class="italic">每个全局元素</span>生成一个<span class="italic">缺省表</span> 。
                     </p>
                     <p>您可以使用属性<code class="codeph">xdb:defaultTable</code>指定给定全局元素的默认表的名称。您提供的每个<code class="codeph">xdb:defaultTable</code>属性值在给定数据库用户注册的<span class="italic">所有模式中</span>必须是<span class="italic">唯一的</span> 。如果您<span class="italic">没有</span>为某个元素提供非空的默认表名，则会自动提供唯一的名称。
                     </p>
                     <p>但实际上，您<span class="italic">不</span>希望为大多数全局元素创建默认表。从不作为XML实例文档的根元素的元素不需要默认表 - 从不使用这样的表。为所有全局元素创建缺省表可能会导致处理器时间和使用空间的显着开销，尤其是在XML模式包含大量全局元素定义的情况下。
                     </p>
                     <p>作为一般规则，那么，你要防止默认表的创建任何全局元素（或存储脱节任何本地元素），你就一定<span class="italic">不会</span>被用作任何文档中的根元素。您可以通过以下方式之一执行此操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将注释<code class="codeph">xdb:defaultTable =</code> <span class="bold"><code class="codeph">""</code></span> （空字符串）添加到<span class="italic">不会</span>显示为XML实例文档的根元素的<span class="italic">每个</span>全局元素的定义中。使用此方法，通常允许自动创建默认表，并使用<code class="codeph">xdb:defaultTable = ""</code>在需要时明确禁止它。
                           </p>
                        </li>
                        <li>
                           <p>在注册XML模式时将参数<code class="codeph">GENTABLES</code>设置为<code class="codeph">FALSE</code> ，然后为每个可以合法地显示为实例文档的根元素的全局元素<span class="italic">手动创建默认表</span> 。使用此方法，可以禁止自动创建默认表，并且只需手动创建所需的表。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4469"></a><div class="props_rev_3"><a id="GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460" name="GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460"></a><h4 id="ADXDB-GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460" class="sect4"><span class="enumeration_section">17.3.5</span>依赖于已注册的XML模式的数据库对象</h4>
                  <div>
                     <p>几种数据库对象可以依赖于已注册的XML模式：表，视图，其他XML模式以及引用XML模式的游标。</p>
                     <p>更确切地说：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>具有符合XML模式中的元素的<code class="codeph">XMLType</code>列的表或视图。
                           </p>
                        </li>
                        <li>
                           <p>包含或导入给定XML模式的其他XML模式，作为其定义的一部分。</p>
                        </li>
                        <li>
                           <p>引用XML模式的游标。这包括<code class="codeph">DBMS_XMLGEN</code>包的功能内的引用。这种游标是纯粹的瞬态对象。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4477"></a><div class="props_rev_3"><a id="GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" name="GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4"></a><h4 id="ADXDB-GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" class="sect4"><span class="enumeration_section">17.3.6</span>本地和全局XML模式</h4>
                  <div>
                     <p>XML模式可以注册为本地（默认情况下仅对其所有者可见）或全局（默认情况下对所有数据库用户可见）。</p>
                     <p>注册XML模式时，PL / SQL包<code class="codeph">DBMS_XMLSCHEMA</code>会将相应的资源添加到Oracle XML DB存储库。XML模式URL确定存储库中XML模式资源的路径名（并且它与PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>参数<code class="codeph">SCHEMAURL</code>相关联）。
                     </p>
                     <div class="infoboxnote" id="GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4__GUID-68C0ACB6-8FFF-4FC4-BFD2-6ECADB69D9AA">
                        <p class="notep1">注意：</p>
                        <p>在Oracle Enterprise Manager中，本地和全局注册的XML模式分别称为<strong class="term">私有</strong>和<strong class="term">公共</strong> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077">本地XML架构</a><br>默认情况下，XML模式是本地的，这意味着在向Oracle XML DB注册之后，它只属于您。对XML模式文档的引用以您的用户（数据库模式）名称存储在Oracle XML DB Repository中。
                        </li>
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9">全局XML模式</a><br>与本地XML模式相比，特权用户可以通过指定注册函数<code class="codeph">DBMS_XMLSCHEMA</code>的参数将XML模式注册为全局模式。对<span class="italic">所有</span>用户都可见。它们存储在Oracle XML DB Repository中的文件夹<code class="codeph">/sys/schemas/PUBLIC/</code> 。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4479"></a><a id="ADXDB4478"></a><div class="props_rev_3"><a id="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077" name="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077"></a><h5 id="ADXDB-GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077" class="sect5"><span class="enumeration_section">17.3.6.1</span>本地XML模式</h5>
                     <div>
                        <p>默认情况下，XML模式是本地的，这意味着在您使用Oracle XML DB注册后，它只属于您。对XML模式文档的引用以您的用户（数据库模式）名称存储在Oracle XML DB Repository中。</p>
                        <p>这种XML模式称为<strong class="term">本地</strong>模式。默认情况下，它们仅供您（所有者）使用。在Oracle XML DB中，在文件夹<code class="codeph">/sys/schemas/</code> <span class="italic"><code class="codeph">username</code></span>下创建本地XML模式资源。存储库路径名的其余部分派生自架构URL。</p>
                        <p>例如，如果用户<code class="codeph">QUINE</code>将XML模式<code class="codeph">purchaseOrder.xsd</code>注册为本地模式， <code class="codeph">QUINE</code>为其指定此路径名：</p><pre class="oac_no_warn" dir="ltr">/ sys / schemas / <span class="bold">QUINE</span> /xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</pre><div class="p">数据库用户需要适当的权限和访问控制列表（ACL）来创建具有给定路径名的资源，以便将XML模式注册为本地XML模式。可以注册本地XML架构的一些方法需要以下一个或多个特权：<ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">改变会话</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">创建程序</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">创建会话</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">创建表</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">创造触发器</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">创造TYOE</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnote" id="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077__GUID-63DC23EC-2ABA-4F36-85B6-C9EE9EE80742">
                           <p class="notep1">注意：</p>
                           <p>通常，只有XML模式的所有者才能使用它来定义<code class="codeph">XMLType</code>表，列或视图，验证文档等。但是，Oracle XML DB支持完全限定的XML架构URL。例如： <code class="codeph">http://xmlns.oracle.com/xdb/schemas/QUINE/xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</code> ： <code class="codeph">http://xmlns.oracle.com/xdb/schemas/QUINE/xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</code> 。特权用户可以使用此类扩展URL来指定属于其他用户的XML模式（在本例中为用户<code class="codeph">QUINE</code> ）。
                           </p>
                        </div>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077__BJFIJHJA">
                           <p class="titleinexample">示例17-3注册本地XML架构</p><pre class="pre codeblock"><code>BEGIN DBMS_XMLSCHEMA.registerSchema（SCHEMAURL =&gt;'http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd',SCHEMADOC =&gt; bfilename（'XMLDIR'，'purchaseOrder.xsd'），LOCAL =&gt; <span class="bold">TRUE</span> ，GENTYPES =&gt; TRUE，GENTABLES =&gt; FALSE，CSID =&gt; nls_charset_id（'AL32UTF8'））;结束; /</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="XML模式可以注册为本地（默认情况下仅对其所有者可见）或全局（默认情况下对所有数据库用户可见）。">本地和全局XML架构</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4481"></a><a id="ADXDB4480"></a><div class="props_rev_3"><a id="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9" name="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9"></a><h5 id="ADXDB-GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9" class="sect5"><span class="enumeration_section">17.3.6.2</span>全局XML模式</h5>
                     <div>
                        <p>与本地XML模式相比，特权用户可以通过指定注册函数<code class="codeph">DBMS_XMLSCHEMA</code>的参数将XML模式注册为全局模式。对<span class="italic">所有</span>用户都可见。它们存储在Oracle XML DB Repository中的文件夹<code class="codeph">/sys/schemas/PUBLIC/</code> 。
                        </p>
                        <div class="infoboxnote" id="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9__GUID-C0712B94-5A53-469E-B836-CBC574078E8F">
                           <p class="notep1">注意：</p>
                           <p>对文件夹<code class="codeph">/sys/schemas/PUBLIC</code>的访问由访问控制列表（ACL）控制。默认情况下，此文件夹只能由数据库管理员写入。您需要对此文件夹具有写权限才能注册全局XML模式。角色<code class="codeph">XDBADMIN</code>提供对此文件夹的写访问权，假设它受默认ACL保护。请参阅<a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a> 。
                           </p>
                        </div>
                        <p>您可以使用与现有全局模式相同的URL注册本地模式。本地模式始终隐藏（隐藏）具有相同名称（URL）的任何全局模式。</p>
                        <p><a href="XML-Schema-and-query-basic.html#GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9__BJFBGBEJ">例17-4</a>说明了全局模式的注册。
                        </p>
                        <div class="example" id="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9__BJFBGBEJ">
                           <p class="titleinexample">示例17-4注册全局XML架构</p><pre class="oac_no_warn" dir="ltr"><span class="bold">GRANT XDBADMIN TO QUINE;</span>格兰特成功了。CONNECT quine输入密码： <span class="italic">密码</span>已连接。BEGIN DBMS_XMLSCHEMA.registerSchema（SCHEMAURL =&gt;'http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd',SCHEMADOC =&gt; bfilename（'XMLDIR'，'purchaseOrder.xsd'），LOCAL =&gt; <span class="bold">FALSE</span> ，GENTYPES =&gt; TRUE，GENTABLES =&gt; FALSE，CSID =&gt; nls_charset_id（'AL32UTF8'））;结束; /</pre><p>如果用户<code class="codeph">QUINE</code>注册了此全局XML架构，则会为其指定此路径名：</p><pre class="oac_no_warn" dir="ltr">/ sys / schemas / <span class="bold">PUBLIC</span> /xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</pre><p>数据库用户需要适当的权限（ACL访问权限）才能创建此资源，以便将XML模式注册为全局模式。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="XML模式可以注册为本地（默认情况下仅对其所有者可见）或全局（默认情况下对所有数据库用户可见）。">本地和全局XML架构</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4634"></a><div class="props_rev_3"><a id="GUID-7A661274-35C2-422B-A290-5E06D9BADAA0" name="GUID-7A661274-35C2-422B-A290-5E06D9BADAA0"></a><h4 id="ADXDB-GUID-7A661274-35C2-422B-A290-5E06D9BADAA0" class="sect4"><span class="enumeration_section">17.3.7</span>完全限定的XML模式URL</h4>
                  <div>
                     <p><span class="italic">完全限定的</span> XML模式URL允许显式引用特定的XML模式。拥有XML模式的数据库用户的名称被指定为URL的一部分。完全限定的模式URL属于Oracle XML DB名称空间。
                     </p>
                     <p>默认情况下，XML架构URL在当前数据库用户的范围内引用。XML模式URL首先被解析为当前用户拥有的<span class="italic">本地</span> XML模式的名称。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果没有这样的XML模式，那么它们将被解析为<span class="italic">全局</span> XML模式的名称。
                           </p>
                        </li>
                        <li>
                           <p>如果没有<span class="italic">全局</span> XML模式，则Oracle XML DB会引发错误。
                           </p>
                        </li>
                     </ul>
                     <p>Oracle XML DB命名空间是：</p><pre class="oac_no_warn" dir="ltr">http://xmlns.oracle.com/xdb/schemas/ <span class="italic"><span class="bold">&lt;database-user&gt;</span></span> / &lt;schemaURL-minus-protocol&gt;</pre><p>例如，假设存在一个注册的全局XML模式，其URL为<code class="codeph">http://www.example.com/po.xsd</code> ，而用户<code class="codeph">QUINE</code>具有一个具有相同URL的本地注册XML模式。另一个用户可以使用此完全限定的XML Schema URL引用<code class="codeph">QUINE</code>拥有的模式，如下所示：</p><pre class="oac_no_warn" dir="ltr">http://xmlns.oracle.com/xdb/schemas/ <span class="bold">QUINE</span> /www.example.com/po.xsd</pre><p>全局XML架构的完全限定URL是：</p><pre class="oac_no_warn" dir="ltr">http://xmlns.oracle.com/xdb/schemas/ <span class="bold">PUBLIC</span> /www.example.com/po.xsd</pre><div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="XML模式可以注册为本地（默认情况下仅对其所有者可见）或全局（默认情况下对所有数据库用户可见）。">本地和全局XML模式</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4474"></a><a id="ADXDB4472"></a><div class="props_rev_3"><a id="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F" name="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F"></a><h4 id="ADXDB-GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F" class="sect4"><span class="enumeration_section">17.3.8</span>删除XML模式</h4>
                  <div>
                     <p>您可以使用过程<code class="codeph">DBMS_XMLSCHEMA.</code>删除已注册的XML模式<code class="codeph">DBMS_XMLSCHEMA.</code> <span class="bold"><code class="codeph">deleteSchema</code></span> 。
                     </p>
                     <p>默认情况下，这会执行以下操作：</p>
                     <ol>
                        <li>
                           <p>检查当前用户是否具有相应的权限，以删除与Oracle XML DB Repository中的XML模式相对应的资源。您可以通过在XML架构资源上设置适当的ACL来控制哪些用户可以删除哪些XML架构。</p>
                        </li>
                        <li>
                           <p>检查是否有任何表依赖于要删除的XML架构。如果是这样，则引发错误并取消删除。如果使用选项<code class="codeph">delete_invalidate</code>或<code class="codeph">delete_cascade_force</code>则不执行此检查。在这种情况下，不会引发错误。
                           </p>
                        </li>
                        <li>
                           <p>从Oracle XML DB存储库（文件夹<code class="codeph">/sys/schemas</code> ）中删除XML架构文档。
                           </p>
                        </li>
                        <li>
                           <p>从<code class="codeph">DBA_XML_SCHEMAS</code>删除XML模式文档，除非它已注册用于二进制XML实例，并且既不使用<code class="codeph">delete_invalidate</code>也不使用<code class="codeph">delete_cascade_force</code> 。
                           </p>
                        </li>
                        <li>
                           <p>如果使用<code class="codeph">delete_cascade</code>或<code class="codeph">delete_cascade_force</code> ，则删除默认表。如果指定了<code class="codeph">delete_cascade</code>并且其他表中的实例也依赖于XML模式，则会引发错误。
                           </p>
                        </li>
                     </ol>
                     <p>以下值可用于过程<code class="codeph">DBMS_XMLSCHEMA.deleteSchema</code>选项<code class="codeph">DELETE_OPTION</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DELETE_RESTRICT</code> - 如果检测到依赖关系，则引发错误并取消删除。这是默认行为。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELETE_INVALIDATE</code> - 如果检测到依赖项，则不引发错误。而是将每个依赖项标记为无效。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELETE_CASCADE</code> - 删除在XML模式注册期间生成的所有类型和默认表。如果存在依赖于存储在默认表以外的表中的XML架构的实例，则引发错误。但是，不要为使用<code class="codeph">ANY_SCHEMA</code>创建的<code class="codeph">XMLType</code>列中存储的任何此类实例引发错误。如果已注册XML模式以用于二进制XML，请不要将其从<code class="codeph">DBA_XML_SCHEMAS</code>删除。</p>
                        </li>
                        <li>
                           <p><code class="codeph">DELETE_CASCADE_FORCE</code> - 删除在XML模式注册期间生成的所有类型和默认表。如果存在依赖于存储在默认表以外的表中的XML模式的实例，请不要引发错误。而是将每个依赖项标记为无效。从<code class="codeph">DBA_XML_SCHEMAS</code>删除XML架构。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F__GUID-32452F70-71C2-48A7-BBDF-532A2D7A3EE3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                     </div>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F__CHDICCDF">例17-5</a>说明了<code class="codeph">DELETE_CASCADE_FORCE</code>的使用。</p>
                     <p>如果注册了XML模式以用于二进制XML，则在使用选项<code class="codeph">DELETE_RESTRICT</code> （默认值）或<code class="codeph">DELETE_CASCADE</code>删除它时，不会从<code class="codeph">DBA_XML_SCHEMAS</code>删除它。因此，尽管您不能再使用XML模式对新的XML实例文档进行编码，但Oracle XML DB中引用XML模式的任何现有文档仍然可以使用它进行<span class="italic">解码</span> 。
                     </p>
                     <p>在使用<code class="codeph">DBMS_XMLSCHEMA.</code>从<code class="codeph">DBA_XML_SCHEMAS</code>删除XML架构之前，情况仍然如此<code class="codeph">DBMS_XMLSCHEMA.</code> <span class="bold"><code class="codeph">purgeSchema</code></span> 。Oracle建议您通常使用<code class="codeph">delete_restrict</code>或<code class="codeph">delete_cascade</code> 。当您确定不再需要XML架构时，请调用<code class="codeph">DBMS_XMLSCHEMA.purgeSchema</code> ，而不是使用<code class="codeph">DELETE_CASCADE_FORCE</code> 。
                     </p>
                     <p>过程<code class="codeph">purgeSchema</code>从Oracle XML DB中完全删除XML模式。特别是，它将其从<code class="codeph">DBA_XML_SCHEMAS</code>删除。在使用<code class="codeph">DBMS_XMLSCHEMA.purgeSchema</code>之前，请确保已转换所有引用要清除的XML模式的现有XML文档，因此它们引用不同的XML模式或不引用XML模式。否则，在清除后将无法解码它们。
                     </p>
                     <div class="example" id="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F__CHDICCDF">
                        <p class="titleinexample">示例17-5使用DBMS_XMLSCHEMA.DELETESCHEMA删除XML架构</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_XMLSCHEMA.deleteSchema（SCHEMAURL =&gt;'http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd'，DELETE_OPTION <span class="bold">=&gt; DBMS_XMLSCHEMA.DELETE_CASCADE_FORCE</span> ）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4471"></a><a id="ADXDB4470"></a><div class="props_rev_3"><a id="GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9" name="GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9"></a><h4 id="ADXDB-GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9" class="sect4"><span class="enumeration_section">17.3.9</span>列出所有已注册的XML模式</h4>
                  <div>
                     <p>示例列出了向Oracle XML DB注册的所有XML模式。</p>
                     <div class="section">
                        <p><a href="XML-Schema-and-query-basic.html#GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9__CHDHHBEB">例17-6</a>显示了如何使用PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>来获取使用Oracle XML DB注册的所有XML模式的列表。您还可以检查视图<code class="codeph">USER_XML_SCHEMAS</code> ， <code class="codeph">ALL_XML_SCHEMAS</code> ， <code class="codeph">USER_XML_TABLES</code>和<code class="codeph">ALL_XML_TABLES</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9__CHDHHBEB">
                        <p class="titleinexample">例17-6注册模式的数据字典表</p><pre class="pre codeblock"><code>DESCRIBE DBA_XML_SCHEMAS名称是否为空？类型------------ ----- ----------------------- OWNER VARCHAR2（30）SCHEMA_URL VARCHAR2（700） ）LOCAL VARCHAR2（3）SCHEMA XMLTYPE（XMLSchema“http://xmlns.oracle.com/xdb/XDBSchema.xsd”元素“模式”）INT_OBJNAME VARCHAR2（4000）QUAL_SCHEMA_URL VARCHAR2（767）HIER_TYPE VARCHAR2（11）BINARY VARCHAR2（ 3）SCHEMA_ID RAW（16）HIDDEN VARCHAR2（3）从DBA_XML_SCHEMAS中选择所有者，本地，SCHEMA_URL; OWNER LOC SCHEMA_URL ----- --- ---------------------- XDB NO http://xmlns.oracle.com/xdb/XDBSchema.xsd XDB NO http://xmlns.oracle.com/xdb/XDBResource.xsd XDB NO http://xmlns.oracle.com/xdb/acl.xsd XDB NO http://xmlns.oracle.com/xdb/dav。 xsd XDB NO http://xmlns.oracle.com/xdb/XDBStandard.xsd XDB NO http://www.w3.org/2001/xml.xsd XDB NO http://xmlns.oracle.com/xdb/stats .xsd XDB NO http://xmlns.oracle.com/xdb/xdbconfig.xsd SCOTT YES http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd选择了13行。DESCRIBE DBA_XML_TABLES名称是否为空？键入------------ ----- ----------------------- OWNER VARCHAR2（30）TABLE_NAME VARCHAR2（30 ）XMLSCHEMA VARCHAR2（700）SCHEMA_OWNER VARCHAR2（30）ELEMENT_NAME VARCHAR2（2000）STORAGE_TYPE VARCHAR2（17）ANYSCHEMA VARCHAR2（3）NONSCHEMA VARCHAR2（3）SELECT TABLE_NAME FROM DBA_XML_TABLES WHERE XMLSCHEMA ='http：//xmlns.oracle.com/xdb /documentation/purchaseOrder.xsd'; TABLE_NAME --------------------- PurchaseOrder1669_TAB选择了1行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="在Oracle XML DB可以使用XML模式之前，您必须注册它。然后，它可用于创建XMLType表和列以及验证XML文档。如果模式注册失败，则数据库将恢复到注册尝试之前的状态。">使用Oracle XML DB进行XML模式注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4501"></a><a id="ADXDB4502"></a><a id="ADXDB4503"></a><a id="ADXDB4504"></a><a id="ADXDB4505"></a><a id="ADXDB4500"></a><div class="props_rev_3"><a id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5" name="GUID-A7862EBA-F10A-43BA-A540-933529E514E5"></a><h3 id="ADXDB-GUID-A7862EBA-F10A-43BA-A540-933529E514E5" class="sect3"><span class="enumeration_section">17.4</span>基于XML模式创建XMLType表和列</h3>
               <div>
                  <p>您可以创建受XML架构定义的全局元素约束的<code class="codeph">XMLType</code>表和列。在<code class="codeph">XMLType</code>列被约束到特定元素和特定模式之后，它只能包含符合该元素的模式定义的文档。
                  </p>
                  <p>通过向<code class="codeph">CREATE TABLE</code>操作添加适当的<code class="codeph">XMLSCHEMA</code>和<code class="codeph">ELEMENT</code>子句，可以将<code class="codeph">XMLType</code>表列限制为特定元素和XML模式。
                  </p>
                  <p>图<a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5__I1044839">17-3</a>到<a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5__BJFBIIIA">图17-6</a>显示了创建<code class="codeph">XMLType</code>表的语法。
                  </p>
                  <div class="infoboxnotealso" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-179239AF-6B31-4345-8E1B-E6F9874A5804">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">CREATE TABLE</code>的完整描述的<a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，包括<code class="codeph">object_properties</code>等语法元素。
                     </p>
                  </div>
                  <div class="infoboxnote" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-21C67238-CA2E-4281-8372-E2A71ACFAA58">
                     <p class="notep1">注意：</p>
                     <p>要在与您自己不同的数据库模式中创建<code class="codeph">XMLType</code>表，您不仅必须具有<code class="codeph">CREATE ANY TABLE</code>权限，还必须具有<code class="codeph">CREATE ANY INDEX</code>权限。这是因为在创建表时，会在列<code class="codeph">OBJECT_ID</code>上创建唯一索引。列<code class="codeph">OBJECT_ID</code>存储系统生成的对象标识符。
                     </p>
                  </div>
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__I1044839">
                     <p class="titleinfigure">图17-3创建XMLType表 -  CREATE TABLE语法</p><img src="img/create_table.gif" width="503" alt="下面是图17-3的描述" title="下面是图17-3的描述" longdesc="img_text/create_table.html"><br><a href="img_text/create_table.html">“图17-3创建XMLType表 -  CREATE TABLE语法”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-4F16853D-8E1A-42F6-8C48-6DAE2556EE32">
                     <p class="titleinfigure">图17-4创建XMLType表 -  XMLType_table语法</p><img src="img/xmltype_table.gif" width="590" alt="下面是图17-4的描述" title="下面是图17-4的描述" longdesc="img_text/xmltype_table.html"><br><a href="img_text/xmltype_table.html">“图17-4创建XMLType表 -  XMLType_table语法”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-D526D23F-ABB1-48C1-9159-CAB83E16EFE4">
                     <p class="titleinfigure">图17-5创建XMLType表 -  table_properties语法</p><img src="img/table_properties.gif" width="615" alt="下面是图17-5的描述" title="下面是图17-5的描述" longdesc="img_text/table_properties.html"><br><a href="img_text/table_properties.html">“图17-5创建XMLType表 -  table_properties语法”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__BJFBIIIA">
                     <p class="titleinfigure">图17-6创建XMLType表 -  XMLType_virtual_columns语法</p><img src="img/xmltype_virtual_columns.gif" width="371" alt="下面是图17-6的描述" title="下面是图17-6的描述" longdesc="img_text/xmltype_virtual_columns.html"><br><a href="img_text/xmltype_virtual_columns.html">“图17-6创建XMLType表 -  XMLType_virtual_columns语法”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-284E475A-1C17-4CA3-9765-DA471A56F9D3">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>子句<code class="codeph">XMLType_virtual_columns</code>仅可用于存储为<span class="italic">二进制XML的</span> <code class="codeph">XMLType</code>数据。特别是，如果将它用于以对象关系存储的数据，并且使用分区子句，则会引发错误。
                           </p>
                        </li>
                        <li>
                           <p>对于XML数据，虚拟列主要用于分区或定义SQL约束。如果您需要投射出特定的XML数据以便以关系方式访问它，那么请考虑将SQL / XML函数<code class="codeph">XMLTable</code>或<code class="codeph">XMLIndex</code>与结构化组件一起使用。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>XPointer表示法的子集也可用于提供包含XML架构位置和元素名称的单个URL。另请参阅<a href="query-and-update-XML.html#GUID-01C75289-804F-4BAA-AE7C-DFA73198581E" title="应用程序有许多方法可以查询和更新Oracle数据库中的XML数据，包括基于XML模式和非基于模式的数据。">XML数据的查询和更新</a> 。
                  </p>
                  <p><a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5__CHDDJDBD">例17-7</a>显示了两个<code class="codeph">CREATE TABLE</code>语句。第一个创建<code class="codeph">XMLType</code>表<code class="codeph">purchaseorder_as_table</code> 。第二个创建关系表<code class="codeph">purchaseorder_as_column</code> ，它具有<code class="codeph">XMLType</code>列<code class="codeph">xml_document</code> 。在每个表中， <code class="codeph">XMLType</code>实例都受限于<code class="codeph">PurchaseOrder</code>元素，该元素由URL <code class="codeph">http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</code>注册的XML模式定义。</p>
                  <p>有两种方法可以指定<code class="codeph">XMLSchema</code>和<code class="codeph">Element</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>作为单独的子句， <code class="codeph">XMLSchema</code>和<code class="codeph">Element</code></p>
                     </li>
                     <li>
                        <p>仅使用带有XPointer表示法的<code class="codeph">Element</code>子句</p>
                     </li>
                  </ul>
                  <p>与<code class="codeph">XMLType</code>表或列相关联的数据受限于XML模式，可以以不同方式存储：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>分解并存储对象关系</p>
                     </li>
                     <li>
                        <p>使用单个二进制XML列存储为二进制XML</p>
                     </li>
                  </ul>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__CHDDJDBD">
                     <p class="titleinexample">示例17-7创建基于XML模式的XMLType表和列</p><pre class="pre codeblock"><code>CREATE TABLE purchaseorder_as_table <span class="bold">OF XMLType</span> XMLSCHEMA“http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd”ELEMENT“PurchaseOrder”; CREATE TABLE purchaseorder_as_column（id NUMBER，xml_document <span class="bold">XMLType</span> ）XMLTYPE COLUMN xml_document ELEMENT“http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd#PurchaseOrder”;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5">基于XML模式的数据的XMLType存储选项规范</a><br>您可以指定在手动创建存储引用XML架构的XML实例文档的表时使用的存储选项。要指定特定的<code class="codeph">XMLType</code>存储模型，请在<code class="codeph">CREATE TABLE</code>语句中使用<code class="codeph">STORE AS</code>子句。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" title="您只能为存储为二进制XML的XMLType数据创建虚拟列。这些列可用于分区或约束数据。">在存储为二进制XML的XMLType数据上创建虚拟列</a></li>
                        <li><a href="xquery-and-XML-DB.html#GUID-F4508470-D420-4B5A-B5DF-59A424887F10" title="您可以使用SQL / XML函数XMLTable将XQuery表达式求值的结果分解为新虚拟表的关系行和列。您可以将此数据插入到预先存在的数据库表中，也可以使用SQL在连接表达式中查询它。">Oracle XML DB中的XMLTABLE SQL / XML函数</a></li>
                        <li><a href="indexes-for-XMLType-data.html#GUID-2DC9E402-5C06-4AED-B04B-C37B687DB6BB" title="您可以为XML内容的固定结构化岛屿项目的查询创建和使用XMLIndex索引的结构化组件，即使周围数据相对非结构化也是如此。">XMLIndex结构化组件</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。">XML模式存储和查询：基本</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4506"></a><div class="props_rev_3"><a id="GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" name="GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5"></a><h4 id="ADXDB-GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" class="sect4"><span class="enumeration_section">17.4.1</span>基于XML模式的数据的XMLType存储选项的规范</h4>
                  <div>
                     <p>您可以指定在手动创建存储引用XML架构的XML实例文档的表时使用的存储选项。要指定特定的<code class="codeph">XMLType</code>存储模型，请在<code class="codeph">CREATE TABLE</code>语句中使用<code class="codeph">STORE AS</code>子句。
                     </p>
                     <p>否则，将使用在注册XML模式期间指定的存储模型。如果在注册期间未指定存储模型，则使用对象关系存储。</p>
                     <p>除了为基于XML模式的数据指定存储选项外，还可以使用XML模式注释为自动创建的表指定存储选项。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E">基于XML模式的数据的二进制XML存储</a><br>如果指定<code class="codeph">STORE AS BINARY_XML</code>则使用二进制XML存储。如果指定文档必须符合的XML模式，则只能使用该模式创建存储为二进制XML的<code class="codeph">XMLType</code>表和列。</li>
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3">基于XML模式的数据的对象关系存储</a><br>注册XML模式后，您可以为符合该模式的文档创建对象关系<code class="codeph">XMLType</code>表或列。您可以选择为表或列指定对象关系存储选项。
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-F7E43D3A-67D8-432E-833A-DE0EA4CFCE7A" title="您可以注释XML模式以影响XML模式注册过程生成的对象和表。您可以通过向XML模式声明的complexType，元素和属性定义添加特定于Oracle的属性来完成此操作。">Oracle XML Schema Annotations</a></li>
                           <li><a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="应用程序的重要设计选择包括要使用的XMLType存储模型以及要使用的索引方法。">选择XMLType存储和索引</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5" title="您可以创建受XML架构定义的全局元素约束的XMLType表和列。在XMLType列被约束到特定元素和特定模式之后，它只能包含符合该元素的模式定义的文档。">基于XML模式创建XMLType表和列</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4508"></a><a id="ADXDB4507"></a><div class="props_rev_3"><a id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E" name="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E"></a><h5 id="ADXDB-GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E" class="sect5"><span class="enumeration_section">17.4.1.1</span>基于XML模式的数据的二进制XML存储</h5>
                     <div>
                        <p>如果指定<code class="codeph">STORE AS BINARY_XML</code>则使用二进制XML存储。如果指定文档必须符合的XML模式，则只能使用该模式创建存储为二进制XML的<code class="codeph">XMLType</code>表和列。</p>
                        <p>您<span class="italic">不能</span>使用相同的XML模式来创建以对象关系存储的<code class="codeph">XMLType</code>表和列。
                        </p>
                        <p>反过来也是如此：如果对已注册的XML模式使用对象关系存储，则只能使用该XML模式来创建存储为二进制XML的<code class="codeph">XMLType</code>表和列。</p>
                        <p>二进制XML存储为XML数据提供了极大的灵活性，尤其是关于XML模式的使用。二进制XML以不同的方式对XML数据进行编码，具体取决于XML模式是否用于编码，并且它可以使用不同的XML模式对不同的数据进行不同的编码。</p>
                        <p>当编写XML模式以编码二进制XML数据时，XML模式数据类型将映射到编码类型以进行存储。或者，您可以将XML数据编码为非基于模式的二进制XML，无论数据是否引用XML模式。在这种情况下，将忽略任何引用的XML模式，并且不存在XML模式数据类型的编码。</p>
                        <p>创建<code class="codeph">XMLType</code>表或列并使用二进制XML存储时，可以指定如何对列或表进行编码以使用XML模式。从以下可能性中进行选择：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将列或表数据编码<span class="italic">为非基于模式的</span>二进制XML。存储在列中的XML数据仍然可以符合XML模式，但它不需要。出于编码目的，将忽略任何引用的XML模式，并且在插入或更新文档时不会自动验证文档。
                              </p>
                              <p>但是，您可以显式验证基于XML模式的文档，该文档被编码为非基于模式的二进制XML。这代表了一个重要的用例：您不希望将文档与特定XML模式过于紧密地绑定，因为您可能会更改或删除它。</p>
                           </li>
                           <li>
                              <p>对列或表数据进行编码以符合<span class="italic">单个XML模式</span> 。所有行（文档）必须符合相同的XML模式。但是，您可以指定非基于模式的文档也可以存储在同一列中。
                              </p>
                           </li>
                           <li>
                              <p>对列或表数据进行编码以符合它引用的任何XML模式每行（文档）都可以引用<span class="italic">任何XML模式</span> ，并且该XML模式用于编码该特定XML文档。在这种情况下，您也可以指定非基于模式的文档也可以存储在同一列中。
                              </p>
                              <p>您可以通过这种方式使用同一XML模式的多个<span class="italic">版本</span> 。存储符合不同版本的文档。每个都根据它引用的XML模式进行编码。
                              </p>
                           </li>
                        </ul>
                        <p>您可以在创建表时使用选项<code class="codeph">ALLOW ANYSCHEMA</code>指定任何XML架构可用于编码。
                        </p>
                        <div class="infoboxnote" id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__GUID-AAE3334F-4802-4E24-A26B-3BF67F6EEA61">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果使用选项<code class="codeph">ALLOW ANYSCHEMA</code> ，则实例文档引用的任何XML模式<span class="italic">仅用于验证</span> 。它<span class="italic">不在</span>查询时使用。对数据的查询将其视为非基于XML架构的数据。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle建议您<span class="italic">不要</span>使用选项<code class="codeph">ALLOW ANYSCHEMA</code>如果预计使用基于复制的XML模式演变（参见<a href="XML-Schema-evolution.html#GUID-0E4FC235-D8D1-4F27-85DC-A3DCCC2662AB" title="您使用PL / SQL过程DBMS_XMLSCHEMA.copyEvolve执行基于副本的XML模式演变。这会将现有实例文档备份到临时XMLType表，删除旧版本的XML架构（也会删除关联的实例文档），注册新版本，并将备份的实例文档复制到新的XMLType表。">复制为基础的架构演进</a> ）。如果使用此选项，则无法确定哪些行（文档）可能符合演进的XML架构。在基于副本的演化过程中，不会转换符合行，之后它们不可解码。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>对于使用基于XML模式的编码的表和列，您可以使用选项<code class="codeph">ALLOW NONSCHEMA</code>指定它们也可以接受非基于模式的文档。在没有关键字<code class="codeph">XMLSCHEMA</code>的情况下，编码用于非基于模式的文档。如果没有关键字<code class="codeph">ALLOW NONSCHEMA</code>但存在关键字<code class="codeph">XMLSCHEMA</code> ，则编码适用于指定的单个XML模式。如果没有关键字<code class="codeph">ALLOW NONSCHEMA</code>但存在关键字<code class="codeph">ALLOW ANYSCHEMA</code> ，则编码适用于所引用的任何XML架构。
                        </p>
                        <p>如果您尝试将XML文档插入到与该文档不对应的<code class="codeph">XMLType</code>表或列中，则会引发错误。
                        </p>
                        <p><a href="XML-Schema-and-query-basic.html#GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__CHDIAFJH" title="此表总结了二进制XML的CREATE TABLE编码选项。">表17-2</a>总结了各种可能性。
                        </p>
                        <div class="tblformal" id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__CHDIAFJH">
                           <p class="titleintable">表17-2二进制XML的CREATE TABLE编码选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="用于二进制XML的CREATE TABLE编码选项" width="100%" border="1" summary="This table summarizes the CREATE TABLE Encoding Options for Binary XML." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d81865e3248">存储选项</th>
                                    <th align="left" valign="bottom" width="75%" id="d81865e3251">编码效果</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3256" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">存储为二进制XML</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3256 d81865e3251 ">
                                       <p>使用非基于模式的编码对所有文档进行编码。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3263" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">存储为二进制XML XMLSCHEMA ...</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3263 d81865e3251 ">
                                       <p>使用基于引用的XML模式的编码对所有文档进行编码。</p>
                                       <p>尝试插入或更新不符合XML架构的文档会引发错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3272" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">存储为二进制XML XMLSCHEMA ...允许NONSCHEMA</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3272 d81865e3251 ">
                                       <p>使用基于引用的XML模式的编码对所有基于XML模式的文档进行编码。使用非基于模式的编码对所有非基于模式的文档进行编码。</p>
                                       <p>尝试插入或更新不符合引用的XML模式的基于XML模式的文档会引发错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3281" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">存储为二进制XML允许ANYSCHEMA</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3281 d81865e3251 ">
                                       <p>使用基于文档引用的XML模式的编码对所有基于XML模式的文档进行编码。</p>
                                       <p>尝试插入或更新未引用已注册XML模式的文档或不符合其引用的XML模式的文档会引发错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3290" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">存储为二进制XML允许ANYSCHEMA允许NONSCHEMA</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3290 d81865e3251 ">
                                       <p>使用基于文档引用的XML模式的编码对所有基于XML模式的文档进行编码。使用非基于模式的编码对所有非基于模式的文档进行编码。</p>
                                       <p>尝试插入或更新不符合其引用的已注册XML模式的基于XML模式的文档会引发错误。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__GUID-917ECA57-9353-4220-B942-A4F730E45354">
                           <p class="notep1">注意：</p>
                           <p>如果您使用带有<code class="codeph">ALLOW NONSCHEMA</code>但不允许<code class="codeph">ALLOW ANYSCHEMA</code> <code class="codeph">CREATE TABLE</code> ，则所有文档（甚至基于XML模式的文档）都使用非基于模式的编码进行编码。如果稍后在同一个表上使用<code class="codeph">ALTER TABLE</code>和<code class="codeph">ALLOW ANYSCHEMA</code> ，这对<code class="codeph">ALTER TABLE</code>操作之前存储的文档的编码没有影响 - 所有这些文档继续使用非基于模式的编码进行编码，无论如何他们是否引用XML模式。只有在<code class="codeph">ALTER TABLE</code>操作之后插入表中的基于XML模式的文档才会使用基于XML模式的编码进行编码。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" title="您可以指定在手动创建存储引用XML架构的XML实例文档的表时使用的存储选项。要指定特定的XMLType存储模型，请在CREATE TABLE语句中使用STORE AS子句。">基于XML模式的数据的XMLType存储选项的规范</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB6366"></a><a id="ADXDB4512"></a><a id="ADXDB5836"></a><a id="ADXDB4511"></a><div class="props_rev_3"><a id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3" name="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3"></a><h5 id="ADXDB-GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3" class="sect5"><span class="enumeration_section">17.4.1.2</span>基于XML模式的数据的对象关系存储</h5>
                     <div>
                        <p>注册XML模式后，您可以为符合该模式的文档创建对象关系<code class="codeph">XMLType</code>表或列。您可以选择为表或列指定对象关系存储选项。
                        </p>
                        <p>假设您已注册采购订单XML架构，由URL <code class="codeph">http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</code>标识。然后，创建一个对象关系<code class="codeph">XMLType</code>表<code class="codeph">purchaseorder_as_table</code> ，以存储符合XML模式的元素<code class="codeph">PurchaseOrder</code>的实例，如<a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__CEGBEEAJ">例17-8所示</a> 。
                        </p>
                        <p>这会自动创建与<code class="codeph">PurchaseOrder</code>元素已映射到的数据库对象类型相对应的隐藏列。此外， <code class="codeph">XMLEXTRA</code>创建一个<code class="codeph">XMLEXTRA</code>对象列，以存储顶级实例数据，例如命名空间声明。<code class="codeph">XMLEXTRA</code>保留供内部使用。
                        </p>
                        <p>假设XML模式<code class="codeph">purchaseOrder.xsd</code>将元素<code class="codeph">LineItems</code>定义为元素<code class="codeph">PurchaseOrder</code>的子元素，并且<code class="codeph">LineItems</code>是<code class="codeph">LineItem</code>元素的集合。
                        </p>
                        <p>使用对象关系存储，集合将映射到SQL varray值。XML <strong class="term">集合</strong>是由XML模式定义的任何元素， <code class="codeph">maxOccurs</code> &gt; 1，允许它多次出现。默认情况下，此类varray的全部内容将作为一组行存储在有序集合表（OCT）中。
                        </p>
                        <p><a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFGGABH">例17-9</a>创建表<code class="codeph">purchaseorder_as_table</code>与<a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__CEGBEEAJ">例17-8</a>不同。它指定了其他存储选项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">LineItems</code>集合varray存储为LOB，而不是表。
                              </p>
                           </li>
                           <li>
                              <p>表空间<code class="codeph">USERS</code>用于存储元素<code class="codeph">Notes</code> 。
                              </p>
                           </li>
                           <li>
                              <p>该表被压缩用于在线事务处理（OLTP）。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-3E56EFF6-C688-4006-ACE1-1AAF246CFB65">
                           <p class="notep1">注意：</p>
                           <p>在Oracle Database 11gR2之前的版本中， <code class="codeph">CREATE TABLE</code>的默认行为是使用存储为LOB的varray存储集合，而不是存储为表的varray。
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-CFA51E25-D881-4D87-B2C4-C1858A2464B5">
                           <p class="notep1">注意：</p>
                           <p>为父<code class="codeph">XMLType</code>表或列指定压缩时，所有后代<code class="codeph">XMLType</code>有序集合表（OCT）都被类似地压缩。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-621B91CD-3705-4F32-A653-5664F1A6599D">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关使用XML架构注释指定存储选项的信息，请参阅<a href="XML-Schema-and-query-object-relational-storage.html#GUID-F7E43D3A-67D8-432E-833A-DE0EA4CFCE7A" title="您可以注释XML模式以影响XML模式注册过程生成的对象和表。您可以通过向XML模式声明的complexType，元素和属性定义添加特定于Oracle的属性来完成此操作。">Oracle XML Schema Annotations</a></p>
                              </li>
                              <li>
                                 <p>有关OLTP压缩的信息，请<a href="../sqlrf/CREATE-TABLE.html#SQLRF54484" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <p>为方便起见，如果您需要指定将<code class="codeph">XMLType</code>表或列中的<span class="italic">所有</span> varrays存储为LOB，或者将<span class="italic">所有</span> varrays存储为表，则可以使用语法子句<code class="codeph">STORE ALL VARRAYS AS</code> ，然后使用<code class="codeph">LOBS</code>或<code class="codeph">TABLES</code>分别为。这是使用多个<code class="codeph">VARRAY</code>的便捷替代方案......<code class="codeph">STORE AS</code>条款，每个集合一个。<a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFCHIJH">例17-10</a>说明了这一点。
                        </p>
                        <div class="infoboxnotealso" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-60A4936D-FC4F-45FC-8054-B92A59E39C37">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用<code class="codeph">STORE ALL VARRAYS AS LOBS</code>信息，请参阅<a href="../sqlrf/CREATE-TABLE.html#SQLRF01709" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                        </div>
                        <div class="example" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__CEGBEEAJ">
                           <p class="titleinexample">示例17-8使用默认存储创建对象关系XMLType表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE purchaseorder_as_table OF XMLType ELEMENT“http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd#PurchaseOrder”;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFGGABH">
                           <p class="titleinexample">示例17-9为XMLType表和列指定对象关系存储选项</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE purchaseorder_as_table OF XMLType（UNIQUE（“XMLDATA”。“Reference”），FOREIGN KEY（“XMLDATA”。“User”）REFERENCES hr.employees（email））ELEMENT“http://xmlns.oracle.com/xdb/ documentation / purchaseOrder.xsd＃PurchaseOrder“ <span class="bold">VARRAY</span> ”XMLDATA“。”LineItems“。”LineItem“ <span class="bold">STORE AS LOB</span> lineitem_lob <span class="bold">LOB</span> （”XMLDATA“。” <span class="bold">Notes</span> “） <span class="bold">STORE AS</span> （TABLESPACE <span class="bold">用户</span>在行存储中启用存储（初始4K下一个32K） ） <span class="bold">COMPRESS FOR OLTP</span> ; CREATE TABLE purchaseorder_as_column（id NUMBER，xml_document XMLType，UNIQUE（xml_document。“XMLDATA”。“Reference”），FOREIGN KEY（xml_document。“XMLDATA”。“User”）REFERENCES hr.employees（email））XMLTYPE COLUMN xml_document XMLSCHEMA“http ：//xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd“ELEMENT”PurchaseOrder“ <span class="bold">VARRAY</span> xml_document。”XMLDATA“。”LineItems“。”LineItem“ <span class="bold">STORE AS LOB</span> lineitem_lob <span class="bold">LOB</span> （xml_document。”XMLDATA“。” <span class="bold">Notes</span> “ <span class="bold">存储为</span> （TABLESPACE <span class="bold">用户</span>在行存储中启用存储（初始4K下一个32K）） <span class="bold">COMPRESS for OLTP</span> ;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFCHIJH">
                           <p class="titleinexample">示例17-10使用STORE ALL VARRAYS AS</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE purchaseorder_as_table OF XMLType（UNIQUE（“XMLDATA”。“Reference”），FOREIGN KEY（“XMLDATA”。“User”）REFERENCES hr.employees（email））ELEMENT“http://xmlns.oracle.com/xdb/ documentation / purchaseOrder.xsd＃PurchaseOrder“ <span class="bold">STORE ALL VARRAYS AS LOBS</span> ;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" title="您可以指定在手动创建存储引用XML架构的XML实例文档的表时使用的存储选项。要指定特定的XMLType存储模型，请在CREATE TABLE语句中使用STORE AS子句。">基于XML模式的数据的XMLType存储选项的规范</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADXDB4098"></a><div class="props_rev_3"><a id="GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" name="GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6"></a><h3 id="ADXDB-GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" class="sect3"><span class="enumeration_section">17.5</span>识别XML模式实例文档的方法</h3>
               <div>
                  <p>在将XML文档插入基于XML模式的<code class="codeph">XMLType</code>表或列之前，必须标识关联的XML模式。您可以在创建表或列时执行此操作，也可以使用<code class="codeph">XMLSchema-instance</code>将所需的模式标识显式添加到XML实例文档中。
                  </p>
                  <p>要在创建<code class="codeph">XMLType</code>表或列时显式标识XML模式，可以将XML模式的名称传递给<code class="codeph">XMLType</code>构造函数，也可以调用<code class="codeph">XMLType</code>方法<code class="codeph">createSchemaBasedXML()</code> 。
                  </p>
                  <p><code class="codeph">XMLSchema-instance</code>机制的优点是它允许Oracle XML DB协议服务器识别插入Oracle XML DB Repository的XML文档是已注册XML模式的实例。实例文档的内容自动存储在该XML模式指定的默认表中。
                  </p>
                  <p><code class="codeph">XMLSchema-instance</code>机制由W3C XML Schema工作组定义。它基于将标识目标XML模式的属性添加到实例文档的根元素。这些属性由<code class="codeph">XMLSchema-instance</code>名称空间定义。
                  </p>
                  <p>要将实例文档标识为由特定XML模式定义的类的成员，必须通过向实例文档的根元素添加名称空间声明来声明<code class="codeph">XMLSchema-instance</code>名称空间。例如：</p>
                  <p><code class="codeph">xmlns：xsi = http://www.w3.org/2001/XMLSchema-instance</code></p>
                  <p>一旦声明了<code class="codeph">XMLSchema-instance</code>名称空间并给出了<code class="codeph">namespace</code>前缀，就可以将标识XML模式的属性添加到实例文档的根元素中。在前面的示例中， <code class="codeph">XMLSchema-instance</code>命名空间的名称空间前缀定义为<code class="codeph">xsi</code> 。然后，可以在将<code class="codeph">XMLSchema-instance</code>属性添加到实例文档的根元素时使用此前缀。
                  </p>
                  <p>必须添加哪些属性取决于几个因素。有两种可能性， <code class="codeph">noNamespaceSchemaLocation</code>和<code class="codeph">schemaLocation</code> 。根据XML模式，需要这些属性中的一个或两个来标识与实例文档关联的XML模式。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055">属性noNamespaceSchemaLocation和schemaLocation</a><br>如果目标XML模式未声明目标名称空间，则使用属性<code class="codeph">noNamespaceSchemaLocation</code>标识XML模式。属性值是<span class="italic">架构位置提示</span> 。这是在向数据库注册XML模式时传递给PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>的唯一标识符。
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66">XML模式和多个命名空间</a><br>当XML模式包含在多个名称空间中定义的元素时，必须在每个XML模式的<code class="codeph">schemaLocation</code>属性中出现一个条目。每个条目都包含名称空间声明和<span class="italic">模式位置提示</span> 。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。">XML模式存储和查询：基本</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4099"></a><div class="props_rev_3"><a id="GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055" name="GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055"></a><h4 id="ADXDB-GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055" class="sect4"><span class="enumeration_section">17.5.1</span>属性noNamespaceSchemaLocation和schemaLocation</h4>
                  <div>
                     <p>如果目标XML模式未声明目标名称空间，则使用属性<code class="codeph">noNamespaceSchemaLocation</code>标识XML模式。属性值是<span class="italic">架构位置提示</span> 。这是在向数据库注册XML模式时传递给PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>的唯一标识符。
                     </p>
                     <p>对于XML模式<code class="codeph">purchaseOrder.xsd</code> ，实例文档的根元素的正确定义如下所示：</p><pre class="pre codeblock"><code>&lt;PurchaseOrder xmlns：xsi = http：//www.w3.org/2001/XMLSchema-instance xsi：noNamespaceSchemaLocation =“http：// localhost：8080 / source / schemas / poSource / xsd / purchaseOrder.xsd”&gt;</code></pre><p>如果目标XML模式声明了目标名称空间，则<code class="codeph">schemaLocation</code>属性用于标识XML模式。此属性的值是由空格分隔的一对值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XML架构中声明的<span class="italic">目标命名空间</span>的值</p>
                        </li>
                        <li>
                           <p><span class="italic">架构位置提示</span> ，在向数据库注册架构时传递给过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>的唯一标识符</p>
                        </li>
                     </ul>
                     <p>例如，假设<code class="codeph">PurchaseOrder</code> XML模式包含目标名称空间声明。架构的根元素如下所示：</p><pre class="pre codeblock"><code>&lt;xs：schema <span class="bold">targetNamespace =“http://demo.oracle.com/xdb/purchaseOrder”</span> xmlns：xs =“http://www.w3.org/2001/XMLSchema”xmlns：xdb =“http：// xmlns .oracle.com / xdb“version =”1.0“&gt; &lt;xs：element name =”PurchaseOrder“type =”PurchaseOrderType“xdb：defaultTable =”PURCHASEORDER“/&gt;</code></pre><p>在这种情况下，实例文档的根元素的正确形式如下所示：</p><pre class="pre codeblock"><code>&lt;PurchaseOrder xnlns =“http://demo.oracle.com/xdb/purchaseOrder”xmlns：xsi = http：//www.w3.org/2001/XMLSchema-instance <span class="bold">xsi：schemaLocation =</span> “ <span class="bold">http://demo.oracle .com / xdb / purchaseOrder</span> <span class="bold">http：// mdrake-lap：8080 / source / schemas / poSource / xsd / purchaseOrder.xsd</span> “&gt;</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" title="在将XML文档插入基于XML模式的XMLType表或列之前，必须标识关联的XML模式。您可以在创建表或列时执行此操作，也可以使用XMLSchema-instance将所需的模式标识显式添加到XML实例文档中。">识别XML模式实例文档的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4100"></a><div class="props_rev_3"><a id="GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66" name="GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66"></a><h4 id="ADXDB-GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66" class="sect4"><span class="enumeration_section">17.5.2</span> XML模式和多个命名空间</h4>
                  <div>
                     <p>当XML模式包含在多个名称空间中定义的元素时，必须在每个XML模式的<code class="codeph">schemaLocation</code>属性中出现一个条目。每个条目都包含名称空间声明和<span class="italic">模式位置提示</span> 。
                     </p>
                     <p>条目通过一个或多个空格字符彼此分开。</p>
                     <p>如果主XML模式未声明目标名称空间，则XML实例文档还需要包含<code class="codeph">noNamespaceSchemaLocation</code>属性，该属性提供主XML模式的<span class="italic">模式位置提示</span> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" title="在将XML文档插入基于XML模式的XMLType表或列之前，必须标识关联的XML模式。您可以在创建表或列时执行此操作，也可以使用XMLSchema-instance将所需的模式标识显式添加到XML实例文档中。">识别XML模式实例文档的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4526"></a><a id="ADXDB4525"></a><div class="props_rev_3"><a id="GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4" name="GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4"></a><h3 id="ADXDB-GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4" class="sect3"><span class="enumeration_section">17.6</span> XML模式数据类型映射到Oracle XML DB存储</h3>
               <div>
                  <p>符合XML模式的数据使用XML模式数据类型。当此XML数据存储在Oracle XML DB中时，其存储数据类型使用默认映射从XML架构数据类型派生，并且可选地使用您使用XML架构批注指定的映射信息。</p>
                  <p>每当您未指定用于存储的数据类型时，Oracle XML DB都会使用默认映射在注册期间适当地注释XML模式。通过这种方式，已注册的XML模式具有一组完整的数据类型注释。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于对象关系存储，XML Schema数据类型映射到SQL数据类型。</p>
                     </li>
                     <li>
                        <p>对于二进制XML存储，XML Schema数据类型映射到Oracle XML DB二进制XML编码类型。</p>
                     </li>
                  </ul>
                  <p><a href="XML-Schema-and-query-basic.html#GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4__I1044841">图17-7</a>显示了Oracle XML DB如何使用XML文档和XML模式中指定的映射创建基于XML模式的<code class="codeph">XMLType</code>表。根据XML模式中指定的存储方法，XML实例文档可以作为单个<code class="codeph">XMLType</code>列中的二进制XML值存储，也可以使用多个对象关系列存储。
                  </p>
                  <div class="figure" id="GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4__I1044841">
                     <p class="titleinfigure">图17-7 Oracle XML DB如何映射基于XML模式的XMLType表</p><img src="img/adxdb025.png" width="437" alt="下面是图17-7的描述" title="下面是图17-7的描述" longdesc="img_text/adxdb025.html"><br><a href="img_text/adxdb025.html">“图17-7 Oracle XML DB如何映射基于XML模式的XMLType表”</a></div>
                  <!-- class="figure" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-844D686D-D95A-4C5B-8624-71BABDBF1EF5" title="您可以使用PL / SQL包DBMS_XMLSCHEMA将XML Schema属性和元素的数据类型映射到SQL数据类型。">使用DBMS_XMLSCHEMA将XML架构数据类型映射到SQL数据类型</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。">XML模式存储和查询：基本</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：<p>XMLSpy还支持WebDAV和FTP协议，因此您可以使用它直接访问和编辑存储在Oracle XML DB Repository中的内容。</p><br></div>
      </article>
   </body>
</html>