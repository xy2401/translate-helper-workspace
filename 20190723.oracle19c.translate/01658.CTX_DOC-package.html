<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CTX_DOC包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CTX_DDL-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CTX_ENTITY-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_DDL-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CTX_ENTITY-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CTX_DOC包</li>
            </ol>
            <a id="GUID-7A07AEB1-2647-468A-A071-A2443EF1A514" name="GUID-7A07AEB1-2647-468A-A071-A2443EF1A514"></a><a id="CCREF2115"></a><a id="CCREF0700"></a>
            
            <h2 id="CCREF-GUID-7A07AEB1-2647-468A-A071-A2443EF1A514" class="sect2"><span class="enumeration_chapter">9</span> CTX_DOC包</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d98925e62" class="indexterm-anchor"></a><a id="d98925e64" class="indexterm-anchor"></a> <code class="codeph">CTX_DOC</code> PL / SQL包提供了用于请求文档服务的过程和函数，例如突出显示提取的文本或生成文档的主题列表。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="CTX_DOC-package.html#GUID-0F7C5088-CFD6-48D6-BE9F-67D333ABC49D">关于CTX_DOC包程序</a></p>
                  </li>
               </ul>
               <p></p>
               <p><code class="codeph">CTX_DOC</code>包包括以下过程和功能：</p>
               <div class="tblformal" id="GUID-7A07AEB1-2647-468A-A071-A2443EF1A514__GUID-CCF458F2-BA28-4BE0-8BA6-7CF0B600B3C7">
                  <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes CTX_DOC Package." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="38%" id="d98925e92">名称</th>
                           <th align="left" valign="bottom" width="62%" id="d98925e95">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e100" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6">过滤</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e100 d98925e95 ">
                              <p>生成文档的纯文本或HTML版本。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e109" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521">要旨</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e109 d98925e95 ">
                              <p>生成文档的要旨或主题摘要。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e118" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511">突出</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e118 d98925e95 ">
                              <p>生成纯文本或HTML突出显示文档的偏移信息。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e127" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4">IFilter的</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e127 d98925e95 ">
                              <p>生成二进制数据的纯文本版本。可以从<code class="codeph">USER_DATASTORE</code>过程调用。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e139" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9">MARKUP</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e139 d98925e95 ">
                              <p>生成文本的纯文本或HTML版本，并突出显示查询字词。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e148" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A">PKENCODE</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e148 d98925e95 ">
                              <p>对复合textkey字符串（值）进行编码，以便在其他<code class="codeph">CTX_DOC</code>过程中使用。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e160" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D">POLICY_FILTER</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e160 d98925e95 ">
                              <p>生成文档的纯文本或HTML版本，无需索引。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e169" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3">POLICY_GIST</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e169 d98925e95 ">
                              <p>生成文档的Gist或主题摘要，无需索引。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e178" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06">POLICY_HIGHLIGHT</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e178 d98925e95 ">
                              <p>生成纯文本或HTML突出显示文档的偏移信息，而无需索引。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e187" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB">POLICY_LANGUAGES</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e187 d98925e95 ">
                              <p>提供为一段文本获取语言的功能。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e196" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-74E74073-E7E9-483E-91EB-C714F726E95A">POLICY_MARKUP</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e196 d98925e95 ">
                              <p>生成文本的纯文本或HTML版本，突出显示查询字词，无需索引。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e206" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4">POLICY_NOUN_PHRASES</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e206 d98925e95 ">
                              <p>提取文档的名词短语。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e216" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD">POLICY_PART_OF_SPEECH</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e216 d98925e95 ">
                              <p>提取文档中每个单词的词性。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e225" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355">POLICY_SNIPPET</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e225 d98925e95 ">
                              <p>根据查询术语生成文档的一致性，无需索引。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e234" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A">POLICY_STEMS</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e234 d98925e95 ">
                              <p>为文本正文中的每个单词提取词干。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e243" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-173B409F-5A0F-4561-A540-37AE6A277F80">POLICY_THEMES</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e243 d98925e95 ">
                              <p>生成文档主题列表，无需索引。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e252" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-74625382-FB75-452C-A2B3-854A6696C2E5">POLICY_TOKENS</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e252 d98925e95 ">
                              <p>生成文档的所有索引标记，而不需要索引。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e261" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E" title="使用此过程可对文档执行情绪分析，确定文档中每个主题的情绪分数，并将结果填充到结果表中。">情绪</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e261 d98925e95 ">
                              <p>对单个文档执行情绪分析，并为文档中的每个细分提供单独的情绪分数。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e272" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-F1588275-38FF-4515-BD39-DD67C98444CB" title="使用此过程执行情绪分析并返回每个文档的单个聚合情绪分数。总体情绪分数是介于-100和100之间的值。">SENTIMENT_AGGREGATE</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e272 d98925e95 ">
                              <p>对单个文档执行情绪分析，并为整个文档提供总体情绪分数。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e283" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A">SET_KEY_TYPE</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e283 d98925e95 ">
                              <p>设置<code class="codeph">CTX_DOC</code>过程以接受rowid或主键文档标识符。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e295" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e295 d98925e95 ">
                              <p>根据查询字词为文档生成一致性。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e304" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">THEMES</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e304 d98925e95 ">
                              <p>生成文档的主题列表。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="38%" id="d98925e314" headers="d98925e92 ">
                              <p><a href="CTX_DOC-package.html#GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71">TOKENS</a></p>
                           </td>
                           <td align="left" valign="top" width="62%" headers="d98925e314 d98925e95 ">
                              <p>生成文档的所有索引标记。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p>通过使用正向索引功能以及<a href="CTX_DOC-package.html#GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6">FILTER</a> ， <a href="CTX_DOC-package.html#GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521">GIST</a> ， <a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">THEMES</a>过程的性能，可以提高<a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a> ， <a href="CTX_DOC-package.html#GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511">HIGHLIGHT</a>和<a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9">MARKUP</a>程序的性能。使用Oracle Text的保存复制功能可以改进<a href="CTX_DOC-package.html#GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71">TOKENS</a> 。
               </p>
               <div class="infoboxnotealso" id="GUID-7A07AEB1-2647-468A-A071-A2443EF1A514__GUID-9ECD2C22-5EF7-42EE-8E80-FACE132688AD">
                  <p class="notep1">也可以看看：</p>
                  <p> 有关正向索引和保存副本功能的详细信息，请参阅<a href="../ccapp/indexing-with-oracle-text.html#CCAPP9542" target="_blank"><span class="italic">“Oracle Text Application Developer's Guide”</span></a></p>
               </div>
            </div><a id="CCREF99140"></a><div class="props_rev_3"><a id="GUID-0F7C5088-CFD6-48D6-BE9F-67D333ABC49D" name="GUID-0F7C5088-CFD6-48D6-BE9F-67D333ABC49D"></a><h3 id="CCREF-GUID-0F7C5088-CFD6-48D6-BE9F-67D333ABC49D" class="sect3"><span class="enumeration_section">9.1</span>关于CTX_DOC包程序</h3>
               <div>
                  <p><a id="d98925e424" class="indexterm-anchor"></a><a id="d98925e426" class="indexterm-anchor"></a><a id="d98925e428" class="indexterm-anchor"></a>许多<code class="codeph">CTX_DOC</code> PL / SQL包过程存在两个版本：使用索引的版本和不使用索引的版本。那些不使用索引的人称为“基于策略”的程序。提供它们是因为有时您可能希望在单个文档上使用文档服务而不事先创建CONTEXT索引。基于策略的过程使您可以执行此操作。
                  </p>
                  <p>policy_ <span class="italic">*</span>过程镜像传统的内存中文档服务，并与<tt>policy_name</tt>替换<tt>index_ name</tt> ，以及替换<tt>textkey</tt>的<code class="codeph">VARCHAR2</code> ， <code class="codeph">CLOB</code> ， <code class="codeph">BLOB</code>或<code class="codeph">BFILE</code>类型的文档<tt>一起使用</tt> 。因此，您无需使用这些过程创建索引来获取文档服务输出。
                  </p>
                  <p>对于生成字符偏移和长度的过程，例如<code class="codeph">HIGHLIGHT</code>和<code class="codeph">TOKENS</code> ，Oracle Text遵循USC-2码点语义。
                  </p>
                  <div class="infoboxnote" id="GUID-0F7C5088-CFD6-48D6-BE9F-67D333ABC49D__GUID-3529116E-2560-4F26-B7E6-EA6EAD093CAD">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">CTX_DOC</code>包中的API不支持以架构或所有者名称为前缀的标识符。
                     </p>
                  </div>
               </div>
            </div><a id="CCREF23904"></a><a id="CCREF0702"></a><div class="props_rev_3"><a id="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6" name="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6"></a><h3 id="CCREF-GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6" class="sect3"><span class="enumeration_section">9.2</span>过滤器</h3>
               <div>
                  <div class="section">
                     <p>使用<code class="codeph">CTX_DOC.FILTER</code>过程生成文档的纯文本或HTML版本。您可以将呈现的文档存储在结果表或内存中。通常在查询后调用此过程，从中可以识别要过滤的文档。
                     </p>
                     <div class="infoboxnote" id="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-EB75B797-A41B-4757-AE2C-EB5738118A12">
                        <p class="notep1">注意：</p>
                        <p>生成的HTML文档不包含图形。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-AF2E4278-546D-4905-BD2E-E650E49136E2">语法1：内存中结果存储</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.FILTER（index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN OUT NOCOPY CLOB，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）; exec CTX_DOC.HIGHLIGHT_CLOB_QUERY（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN CLOB，restab IN OUT NOCOPY HIGHLIGHT_TAB，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-4B9A6436-2356-48C2-84DB-6EF92A9F47FC">语法2：结果表存储</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.FILTER（index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）; exec CTX_DOC.HIGHLIGHT_CLOB_QUERY（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN CLOB，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-EC77A970-C076-4D5F-9801-B07A25BCE3CD"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定与包含<tt>textkey</tt>标识的文档的文本列关联的索引的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-C2635E73-427B-4897-BF10-966F557BFD24"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。</p>
                           <p><tt>textkey</tt>参数可以如下：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单列主键值</p>
                        </li>
                        <li>
                           <p>复合（多列）主键的编码规范。使用CTX_DOC。 <a href="CTX_DOC-package.html#GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A">PKENCODE</a></p>
                        </li>
                        <li>
                           <p>包含文档的行的rowid</p>
                        </li>
                     </ul>
                     <p>使用CTX_DOC在主键和rowid标识之间切换。 <a href="CTX_DOC-package.html#GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A">SET_KEY_TYPE</a> 。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-C04CCAB6-8414-4597-8D64-9732345E61E3"><!-- --></a> restab</dt>
                        <dd>
                           <p>您可以指定此过程将标记的文本存储到表或内存中的<code class="codeph">CLOB</code> 。</p>
                           <p>要将结果存储到表中，请指定表的名称。在进行此调用之前，您要存储结果的表必须存在。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-380B5D6B-69DF-44DF-9225-924C3BBA4DCD">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75">Oracle文本结果表中的</a> <span class="q">“ <a href="oracle-text-result-tables.html#GUID-844E3D90-0479-435D-A6FC-BFD0E9EB322E">过滤表</a> ”</span> ，以获取有关过滤结果表结构的更多信息</p>
                     </div>
                     <p>要将结果存储在内存中，请指定<code class="codeph">CLOB</code>定位器的名称。如果<tt>restab</tt>为<code class="codeph">NULL</code> ，则分配并返回临时<code class="codeph">CLOB</code> 。与<code class="codeph">DBMS_LOB.FREETEMPORARY()</code>一起使用后，必须取消分配定位器。
                     </p>
                     <p>如果<tt>restab</tt>不为<code class="codeph">NULL</code> ，则在操作之前截断<code class="codeph">CLOB</code> 。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-1C562657-B73B-4CA0-AEA4-B322A7C18A73"><!-- --></a> query_id</dt>
                        <dd>
                           <p>指定用于标识插入<tt>restab</tt>的行的<tt>标识符</tt> 。
                           </p>
                           <p>如果未指定<tt>query_id</tt>或将其设置为<code class="codeph">NULL</code> ，则默认为0。您必须手动截断<tt>restab</tt>中指定的表。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-49C75C8D-F3FB-4406-A39D-48EE9087EC22"><!-- --></a>明文</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以生成文档的纯文本版本。如果使用<code class="codeph">AUTO_FILTER</code>过滤器或索引HTML文档，请指定<code class="codeph">FALSE</code>以生成文档的HTML版本。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-5A52714C-22CF-491E-B620-9CA83C4DAE22"><!-- --></a> use_saved_copy</dt>
                        <dd>
                           <p>指定是否引用$ D表来获取文档的副本，以及在$ D表中没有文档副本时要采取的操作。</p>
                           <p>您可以为<code class="codeph">use_saved_copy</code>参数指定以下值之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则从数据存储中获取该文档。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_ERROR</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则显示错误消息。如果要在$ D表中没有文档副本时实现特定的回退逻辑，请指定此值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_IGNORE</code> ：始终从数据存储中获取文档。
                           </p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6__GUID-C42D66B5-E5D8-492D-A5D3-67D345C9BC73">例</p>
                     <p>内存过滤器<a id="d98925e747" class="indexterm-anchor"></a></p>
                     <p>以下代码显示如何将文档过滤到内存中的HTML。</p><pre class="oac_no_warn" dir="ltr">宣布mklob clob; amt number：= 40; line varchar2（80）;开始ctx_doc.filter（'myindex'，'1'，mklob，FALSE）; - 传入时mklob为NULL，因此ctx-doc.filter将为我们分配一个临时的CLOB并将结果放在那里。dbms_lob.read（mklob，amt，1，line）; dbms_output.put_line（'FIRST 40 CHARS ARE：'|| line）; - 必须取消分配temp lob dbms_lob.freetemporary（mklob）;结束;</pre><p>创建<a id="d98925e757" class="indexterm-anchor"></a>过滤结果表用于存储过滤后的文档，如下所示：</p><pre class="oac_no_warn" dir="ltr">create table filtertab（query_id number，document clob）;</pre><p>要使用textkey 20获取文本的纯文本版本，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.filter（'newsindex'，'20'，'filtertab'，'0'，TRUE）;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23905"></a><a id="CCREF23906"></a><a id="CCREF23907"></a><a id="CCREF23908"></a><a id="CCREF0704"></a><div class="props_rev_3"><a id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521" name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521"></a><h3 id="CCREF-GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521" class="sect3"><span class="enumeration_section">9.3</span> GIST</h3>
               <div>
                  <div class="section">
                     <p>使用<code class="codeph">CTX_DOC.GIST</code>过程为文档生成要点和主题摘要。您可以生成段落级或句子级别的要点或主题摘要。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-6D8A1424-7024-4D28-84D0-2A50E4473D0A">语法1：内存存储</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.GIST（</pre><pre class="oac_no_warn" dir="ltr">index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN OUT CLOB，glevel IN VARCHAR2 DEFAULT'P'，pov IN VARCHAR2 DEFAULT'GENERIC'，numParagraphs IN NUMBER DEFAULT 16，maxPercent IN NUMBER DEFAULT 10，num_themes IN NUMBER DEFAULT 50，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-C3FB8071-2EF2-4802-839A-9D5B2269C50B">语法2：结果表存储</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.GIST（</pre><pre class="oac_no_warn" dir="ltr">index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，glevel IN VARCHAR2 DEFAULT'P'，pov IN VARCHAR2 DEFAULT NULL，numParagraphs IN NUMBER DEFAULT 16，maxPercent IN NUMBER DEFAULT 10，num_themes IN NUMBER DEFAULT 50， use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-65F5A130-5431-426D-86D7-BDC852C16550"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定与包含<tt>textkey</tt>标识的文档的文本列关联的索引的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-DECC6C0F-8B4E-431E-BAD6-6550A0C21C8D"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。</p>
                           <p><tt>textkey</tt>参数可以如下：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单列主键值</p>
                        </li>
                        <li>
                           <p>复合（多列）主键的编码规范。要对复合textkey进行编码，请使用<code class="codeph">CTX_DOC.PKENCODE</code>过程</p>
                        </li>
                        <li>
                           <p>包含文档的行的rowid</p>
                        </li>
                     </ul>
                     <p>使用<code class="codeph">CTX_DOC.SET_KEY_TYPE</code>在主键和rowid标识之间切换。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-FC88EDF3-31EF-4444-8E93-E75FDB964118"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定此过程将要点和主题摘要存储到表或内存中<code class="codeph">CLOB</code> 。</p>
                           <p>要将结果存储到表中，请指定现有表的名称。</p>
                           <div class="infoboxnotealso" id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-64F44E8E-3F68-4342-B7AB-292F36204D0F">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75">Oracle文本结果表中的</a> <span class="q">“ <a href="oracle-text-result-tables.html#GUID-2D51F917-19AF-4163-A146-5ED32C80E202">Gist表</a> ”</span> 
                              </p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要将结果存储在内存中，请指定<code class="codeph">CLOB</code>定位器的名称。如果<tt>restab</tt>为<code class="codeph">NULL</code> ，则分配并返回临时<code class="codeph">CLOB</code> 。您必须在使用后取消分配定位器。
                     </p>
                     <p>如果<code class="codeph">restab</code>不为<code class="codeph">NULL</code> ，则在操作之前截断<code class="codeph">CLOB</code> 。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-C9428E7E-AF8E-4FA8-8D26-80F226C74C6A"><!-- --></a> query_id</dt>
                        <dd>
                           <p>指定用于标识插入<tt>restab</tt>的行的<tt>标识符</tt> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-E28F0994-34FF-402A-BFDA-5A76CBEF3A66"><!-- --></a> glevel</dt>
                        <dd>
                           <p>指定要生成的要点或主题摘要的类型。可能的值是：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">P</span>代表段落</p>
                        </li>
                        <li>
                           <p><span class="italic">S</span>判刑</p>
                        </li>
                     </ul>
                     <p>默认值为<span class="italic">P.</span></p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-3051D7E9-A9C1-4BB5-9BAD-DB8AE63B25F5"><!-- --></a> pov</dt>
                        <dd>
                           <p>指定是否生成要点或单个主题摘要。生成的要点或主题摘要的类型（句子级别或段落级别）取决于为<code class="codeph">glevel</code>指定的值。
                           </p>
                           <p>要为整个文档生成要点，请为<code class="codeph">pov</code>指定值' <code class="codeph">GENERIC</code> '。要为文档中的单个主题生成主题摘要，请将主题指定为<code class="codeph">pov</code>的值。</p>
                           <p>使用结果表存储时，如果未指定<code class="codeph">pov</code>的值，则此过程将返回通用要点以及最多50个文档的主题摘要。
                           </p>
                           <p>将内存结果存储用于<code class="codeph">CLOB</code> ，必须指定<code class="codeph">pov</code> 。但是，如果您未指定<code class="codeph">pov</code> ，则此过程仅为文档生成通用要点。
                           </p>
                           <div class="infoboxnote" id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-79E1F023-AD68-425B-A702-21FDAB8E05F7">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">pov</code>参数区分大小写。要返回文档的要点，请以全部大写形式指定“ <code class="codeph">GENERIC</code> ”。要返回主题摘要，请指定与为文档生成的主题完全相同的主题。
                              </p>
                              <p>只有<a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">THEMES</a>为文档生成的<a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">主题</a>才能用作<code class="codeph">pov</code>输入。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-5C8C8179-05C1-4FDD-8632-EC9A33C8FA7F"><!-- --></a> numParagraphs</dt>
                        <dd>
                           <p>指定为文档要点或主题摘要选择的最大文档段落（或句子）数。默认值为16。</p>
                           <div class="infoboxnote" id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-F2F18B60-54C6-448C-A151-5601CF8B3847">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">numParagraphs</code>参数仅在此参数产生的gist或主题摘要大小小于<code class="codeph">maxPercent</code>参数产生的gist或主题摘要大小时使用。
                              </p>
                              <p>这意味着系统始终返回最小尺寸的要点或主题摘要。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-2D0CE871-F363-4651-9D2D-109733D28C62"><!-- --></a> maxPercent</dt>
                        <dd>
                           <p>指定为文档要点或主题摘要选择的文档段落（或句子）的最大数量，作为文档中总段落（或句子）的百分比。默认值为10。</p>
                           <div class="infoboxnote" id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-AF646DD5-8503-443C-B068-A8FC389D0959">
                              <p class="notep1">注意：</p>
                              <p>所述<code class="codeph">maxPercent</code>使用参数仅当该参数产生一个较小的要旨或主题摘要大小大于由产生主旨或主题摘要大小<code class="codeph">numParagraphs</code>参数。
                              </p>
                              <p>这意味着系统始终返回最小尺寸的要点或主题摘要。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-9D1E8999-FF6E-4F9C-901C-A39A7AB44F3D"><!-- --></a> num_themes</dt>
                        <dd>
                           <p>指定未指定<code class="codeph">pov</code>值时要生成的主题摘要数。例如，如果指定10，则此过程将返回前10个主题摘要。默认值为50。
                           </p>
                           <p>如果指定0或NULL，则此过程将返回文档中的所有主题。如果文档包含50个以上的主题，则只有前50个主题显示概念层次结构。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-ADDECB98-90C4-4D4C-829C-9E22A5E43120"><!-- --></a> use_saved_copy</dt>
                        <dd>
                           <p>指定是否引用$ D表来获取文档的副本，以及在$ D表中没有文档副本时要采取的操作。</p>
                           <p>您可以为<code class="codeph">use_saved_copy</code>参数指定以下值之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则从数据存储中获取该文档。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_ERROR</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则显示错误消息。如果要在$ D表中没有文档副本时实现特定的回退逻辑，请指定此值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_IGNORE</code> ：始终从数据存储中获取文档。
                           </p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521__GUID-73C4A606-8EF8-41B3-91C3-727A78D63F58">例子</p>
                     <p>内存中的要点</p>
                     <p>以下示例生成最多10个段落的非默认大小通用要点。结果存储在<code class="codeph">CLOB</code>定位器的内存中。然后代码在使用它之后取消分配返回的<code class="codeph">CLOB</code>定位符。
                     </p><pre class="oac_no_warn" dir="ltr">set serveroutput on;宣布gklob clob; amt number：= 40; line varchar2（80）;开始ctx_doc.gist（'newsindex'，'34'，gklob，pov =&gt;'GENERIC'，numParagraphs =&gt; 10）; - 传入时gklob为NULL，因此ctx-doc.gist将为我们分配一个临时的CLOB并将结果放在那里。dbms_lob.read（gklob，amt，1，line）; dbms_output.put_line（'FIRST 40 CHARS ARE：'|| line）; - 必须取消分配temp lob dbms_lob.freetemporary（gklob）;结束;</pre><p>结果表格列表</p>
                     <p>以下示例创建名为<code class="codeph">CTX_GIST</code>的gist表：</p><pre class="oac_no_warn" dir="ltr">create table CTX_GIST（query_id number，pov varchar2（80），gist CLOB）;</pre><p><a id="d98925e1150" class="indexterm-anchor"></a><a id="d98925e1154" class="indexterm-anchor"></a>要点和主题摘要</p>
                     <p>以下示例返回文档34的默认大小的段落级要点以及文档中的前10个主题摘要：</p><pre class="oac_no_warn" dir="ltr">开始<span>  </span> ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，num_themes =&gt; 10）;结束;</pre><p>以下示例生成最多10个段落的非默认大小要点：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，pov =&gt;'GENERIC'，numParagraphs =&gt; 10）;结束;</pre><p>以下示例生成一个要点，其段落数最多为文档中总段落的10％：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，pov =&gt;'GENERIC'，maxPercent =&gt; 10）;结束;</pre><p>主题摘要</p>
                     <p>以下示例返回文档34的<span class="italic">昆虫</span>的段落级主题摘要。将返回默认主题摘要大小。
                     </p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，'34'，'CTX_GIST'，1，pov =&gt;'昆虫'）;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23909"></a><a id="CCREF99090"></a><a id="CCREF23910"></a><a id="CCREF23911"></a><a id="CCREF0706"></a><div class="props_rev_3"><a id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511" name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511"></a><h3 id="CCREF-GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511" class="sect3"><span class="enumeration_section">9.4</span>突出显示</h3>
               <div>
                  <div class="section">
                     <p>使用<code class="codeph">CTX_DOC.HIGHLIGHT</code>过程为文档生成突出显示偏移。将为文档中满足您指定的查询的条件生成偏移量信息。这些突出显示的术语是满足单词查询的单词或满足<code class="codeph">ABOUT</code>查询的主题。
                     </p>
                     <p>您可以为文档的纯文本或HTML版本生成突出显示偏移。<code class="codeph">CTX_DOC.HIGHLIGHT</code>返回的<code class="codeph">CTX_DOC.HIGHLIGHT</code>不包括原始文档中的任何图形。将偏移量信息应用于使用CTX_DOC过滤的相同文档。 <a href="CTX_DOC-package.html#GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6">过滤器</a> 。
                     </p>
                     <p>您通常在查询后调用此过程，从中可以识别要处理的文档。您可以将高亮偏移存储到内存中的PL / SQL表或结果表中。</p>
                     <p>请注意，对于在查询时具有主要用于过滤文档的谓词的查询，在突出显示期间将忽略谓词。这适用于<code class="codeph">SNIPPET</code> ， <code class="codeph">MARKUP</code>和<code class="codeph">HIGHLIGHT</code>程序。为此目的，以下谓词被视为过滤谓词： <code class="codeph">SDATA</code> ， <code class="codeph">HASPATH</code>和<code class="codeph">WITHIN</code> / <code class="codeph">INPATH</code>在XML属性中搜索。
                     </p>
                     <p>见CTX_DOC。 <a href="CTX_DOC-package.html#GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06">POLICY_HIGHLIGHT</a>用于此过程的一个版本，不需要索引。
                     </p>
                     <p>通过使用Oracle Text的正向索引功能，可以提高<a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a> ， <code class="codeph">HIGHLIGHT</code>和<a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9">MARKUP</a>过程的性能。
                     </p>
                     <div class="infoboxnotealso" id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-7D0A50E9-948A-4E68-A289-B1EBE7D4C7F9">
                        <p class="notep1">也可以看看：</p>
                        <p> 有关正向索引的详细信息，请参阅<a href="../ccapp/indexing-with-oracle-text.html#CCAPP9542" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-9C037D24-06F0-44F9-864C-FB6A80289AD7">语法1：内存中结果存储</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.HIGHLIGHT（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN VARCHAR2，restab IN OUT NOCOPY HIGHLIGHT_TAB，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）; exec CTX_DOC.HIGHLIGHT_CLOB_QUERY（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN CLOB，restab IN OUT NOCOPY HIGHLIGHT_TAB，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-3E3F37EE-6B8E-49FD-A68B-28DAAF09836E">语法2：结果表存储</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.HIGHLIGHT（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN VARCHAR2，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）; exec CTX_DOC.HIGHLIGHT_CLOB_QUERY（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN CLOB，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，plaintext IN BOOLEAN DEFAULT FALSE，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-6D120A61-5BC8-49DB-A1B0-D6355B3FAC2D"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定与包含<tt>textkey</tt>标识的文档的文本列关联的索引的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-5A5FFE1B-7656-4C8A-A2D5-C397F47DB321"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。</p>
                           <p><tt>textkey</tt>参数可以如下：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单列主键值</p>
                        </li>
                        <li>
                           <p>复合（多列）主键的编码规范。使用CTX_DOC。 <a href="CTX_DOC-package.html#GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A">PKENCODE</a>程序。
                           </p>
                        </li>
                        <li>
                           <p>包含文档的行的rowid</p>
                        </li>
                     </ul>
                     <p>使用CTX_DOC在主键和rowid标识之间切换。 <a href="CTX_DOC-package.html#GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A">SET_KEY_TYPE</a> 。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-F5A75CAE-3A0D-4496-9EF0-267B2091C1DF"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定用于检索文档的原始查询表达式。如果为NULL，则不生成高亮显示。</p>
                           <p>如果<code class="codeph">text_query</code>包含通配符，词干，模糊匹配导致返回停用词，则<code class="codeph">HIGHLIGHT</code>不会突出显示停用词。
                           </p>
                           <p>如果<code class="codeph">text_query</code>包含阈值运算符，则忽略运算符。<code class="codeph">HIGHLIGHT</code>过程始终返回整个结果集的突出显示信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-BE150BE1-413C-4A95-85DB-E9D7007855FB"><!-- --></a> restab</dt>
                        <dd>
                           <p>您可以指定此过程存储高亮显示偏移到表或内存中的PL / SQL表。</p>
                           <p>要将结果存储到表中，请指定表的名称。在调用此过程之前，该表必须存在。</p>
                           <div class="infoboxnotealso" id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-436E93CD-7516-4F82-B42C-8DE102C01696">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75">Oracle文本结果表中的</a> <span class="q">“ <a href="oracle-text-result-tables.html#GUID-4168E86D-32D5-4C32-BE1A-685ACAEAB46C">突出显示表</a> ”</span> ，以获取有关突出显示结果表结构的更多信息。
                              </p>
                           </div>
                           <p>要将结果存储到内存表，请指定<code class="codeph">CTX_DOC.HIGHLIGHT_TAB</code>类型的内存表的<code class="codeph">CTX_DOC.HIGHLIGHT_TAB</code> 。 <code class="codeph">HIGHLIGHT_TAB</code>数据类型定义如下：</p><pre class="oac_no_warn" dir="ltr">类型highlight_rec是记录（偏移号，长度号）;类型highlight_tab是由binary_integer表示的highlight_rec索引表;</pre><p><code class="codeph">CTX_DOC.HIGHLIGHT</code>在操作前清除<code class="codeph">HIGHLIGHT_TAB</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-0228F1DC-E385-4274-8646-BF761E9CAB0B"><!-- --></a> query_id</dt>
                        <dd>
                           <p>指定用于标识插入<tt>restab</tt>的行的<tt>标识符</tt> 。如果未指定<tt>query_id</tt>或将其设置为<code class="codeph">NULL</code> ，则默认为0。您必须手动截断<tt>restab</tt>中指定的表。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-1F299BF9-FF3E-49C7-A4DE-8C3A534B1F05"><!-- --></a>明文</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以生成文档的明文偏移量。如果使用<code class="codeph">AUTO_FILTER</code>过滤器或索引HTML文档，请指定<code class="codeph">FALSE</code>以生成文档的HTML偏移量。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-DCAC655A-0A47-4D6F-AD47-827F2D5C21D9"><!-- --></a> use_saved_copy</dt>
                        <dd>
                           <p>指定是否引用$ D表来获取文档的副本，以及在$ D表中没有文档副本时要采取的操作。默认值为<code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> 。</p>
                           <p>您可以为<code class="codeph">use_saved_copy</code>参数指定以下值之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则从数据存储中获取该文档。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_ERROR</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则显示错误消息。如果要在$ D表中没有文档副本时实现特定的回退逻辑，请指定此值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_IGNORE</code> ：始终从数据存储中获取文档。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-FC190038-4BDE-4FEF-A98D-C11B7A66E6C4">例子</p>
                     <p>创建突出显示表<a id="d98925e1529" class="indexterm-anchor"></a></p>
                     <p>创建突出显示表以存储突出显示偏移信息：</p><pre class="oac_no_warn" dir="ltr">create table hightab（query_id number，offset number，length number）;</pre><p>在滤波器存在的情况下突出显示的单词<a id="d98925e1539" class="indexterm-anchor"></a></p>
                     <p>在对诸如以下的查询执行突出显示时，仅突出显示关键字（这些示例中的“dog”）。<code class="codeph">AND</code>运算符之后的过滤谓词将被忽略。
                     </p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.highlight（'newsindex'，'20'，'dog AND cat WITHIN titlesection @ name'，'hightab'，0，FALSE）;结束;开始ctx_doc.highlight（'newsindex'，'20'，'dog AND SDATA（price&gt; 100）'，'hightab'，0，FALSE）;结束;</pre><p>单词突出显示偏移</p>
                     <p>获得单词<span class="italic">dog的</span>文档20的HTML高亮偏移信息：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.highlight（'newsindex'，'20'，'dog'，'hightab'，0，FALSE）;结束;开始ctx_doc.highlight（'newsindex'，'20'，'dog AND cat WITHIN titlesection'，'hightab'，0，FALSE）;结束;</pre><p>主题突出显示偏移<a id="d98925e1566" class="indexterm-anchor"></a><a id="d98925e1570" class="indexterm-anchor"></a></p>
                     <p>假设索引<span class="italic">newsindex</span>具有主题组件，通过发出以下查询获取<span class="italic">政治</span>主题查询的HTML高亮偏移信息：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.highlight（'newsindex'，'20'，'about（politics）'，'hightab'，0，FALSE）;结束;</pre><p>此语句的输出是突出显示的单词和短语的偏移量，这些单词和短语代表了文档中的<span class="italic">政治</span>主题。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-7D6F285C-95F3-40C2-A43C-ECDE057275AF">限制</p>
                     <p><code class="codeph">CTX_DOC.HIGHLIGHT</code>不支持使用查询模板或突出显示XML属性值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511__GUID-5A0AD4A5-A15F-4407-A424-9A3A5BB178B9">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06">POLICY_HIGHLIGHT</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9">MARKUP</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF0708"></a><div class="props_rev_3"><a id="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4" name="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4"></a><h3 id="CCREF-GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4" class="sect3"><span class="enumeration_section">9.5</span>艾滋病</h3>
               <div>
                  <div class="section">
                     <p>使用此过程将二进制数据过滤为文本。</p>
                     <p>此过程采用二进制数据（ <code class="codeph">BLOB IN</code> ），使用<code class="codeph">AUTO_FILTER</code>过滤器过滤数据，并将文本版本写入<code class="codeph">CLOB</code> 。 （原始文档中的任何图形都将被忽略。）<code class="codeph">CTX_DOC.IFILTER</code>使用安全标注，它不需要索引，如<code class="codeph">CTX_DOC.FILTER</code>所做的那样。
                     </p>
                     <div class="infoboxnote" id="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4__GUID-4CDC6525-6EEF-42A6-9552-E613B82CCA39">
                        <p class="notep1">注意：</p>
                        <p>将来的版本不支持此过程。应用程序应使用CTX_DOC。 <a href="CTX_DOC-package.html#GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D">相反，POLICY_FILTER</a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4__GUID-08035CF3-3597-4C3E-BEC9-DD9A9A669BEB">要求</p>
                     <p>由于<code class="codeph">CTX_DOC.IFILTER</code>采用安全标注机制，因此必须运行SQL * Net侦听器并为<code class="codeph">extproc</code>代理启动进行配置。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4__GUID-BD3E65C9-F58D-4EEE-B56E-9C432D6192EF">句法</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.IFILTER（BLOB中的数据，IN IN NOCOPY CLOB中的文本）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4__GUID-1F31DDCB-E8FC-4F65-A4CD-35C99613C80A"><!-- --></a>数据</dt>
                        <dd>
                           <p>指定要过滤的二进制数据。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4__GUID-64D86188-D13B-4961-AA6A-F60BC30A3D26"><!-- --></a>文字</dt>
                        <dd>
                           <p>指定目标<code class="codeph">CLOB</code> 。过滤后的数据放在此处。此参数必须是可写的有效<code class="codeph">CLOB</code>定位器。传递<code class="codeph">NULL</code>或不可写的<code class="codeph">CLOB</code>将导致错误。过滤的文本将附加到现有内容的末尾（如果有）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D56BC634-3A96-4B30-A449-CB0AA2D613E4__GUID-02EC5283-514B-4435-ADB7-5EAA330D0410">例</p>
                     <p><code class="codeph">MATCHES</code>查询中使用的文档文本可以是<code class="codeph">VARCHAR2</code>或<code class="codeph">CLOB</code> 。它不接受<code class="codeph">BLOB</code>输入，因此您无法直接匹配过滤的文档。相反，您必须使用<code class="codeph">AUTO_FILTER</code>过滤器将二进制内容过滤为<code class="codeph">CLOB</code> 。假设文档数据在绑定变量中<code class="codeph">:doc_blob</code> ：</p><pre class="oac_no_warn" dir="ltr">声明doc_text clob; begin  - 创建一个临时CLOB来保存文档文本dbms_lob.createtemporary（doc_text，TRUE，DBMS_LOB.SESSION）; - 调用ctx_doc.ifilter将BLOB过滤为CLOB数据ctx_doc.ifilter（：doc_blob，doc_text）; - 现在使用cOB in的CLOB版本进行匹配查询（select * from matches where matches（query_string，doc_text）&gt; 0）loop  - 在这里做你需要做的结束循环; dbms_lob.freetemporary（doc_text）;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23912"></a><a id="CCREF23913"></a><a id="CCREF23914"></a><a id="CCREF99091"></a><a id="CCREF23915"></a><a id="CCREF0710"></a><div class="props_rev_3"><a id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9" name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9"></a><h3 id="CCREF-GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9" class="sect3"><span class="enumeration_section">9.6</span> MARKUP</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">CTX_DOC.MARKUP</code>过程采用查询规范和文档textkey，并返回标记查询术语的文档版本。这些标记的术语是满足单词查询的单词或满足<code class="codeph">ABOUT</code>查询的主题。
                     </p>
                     <p>您可以将标记输出设置为纯文本或HTML。 <code class="codeph">CTX_DOC.MARKUP</code>返回的标记文档不包含原始文档中的任何图形。
                     </p>
                     <p>您可以使用其中一个预定义标记集来标记突出显示的术语，包括启用HTML导航的标记序列。</p>
                     <p>您通常在查询后调用<code class="codeph">CTX_DOC.MARKUP</code> ，从中可以识别要处理的文档。
                     </p>
                     <p>您可以将标记的文档存储在内存或结果表中。</p>
                     <p>请注意，对于在查询时具有主要用于过滤文档的谓词的查询，在<code class="codeph">MARKUP</code>期间将忽略谓词。为此目的，以下谓词被视为过滤谓词： <code class="codeph">SDATA</code> ， <code class="codeph">HASPATH</code>和<code class="codeph">WITHIN</code> / <code class="codeph">INPATH</code>在XML属性中搜索。
                     </p>
                     <p>见CTX_DOC。 <a href="CTX_DOC-package.html#GUID-74E74073-E7E9-483E-91EB-C714F726E95A">POLICY_MARKUP</a>用于此过程的一个版本，不需要索引。
                     </p>
                     <p>通过使用Oracle Text的正向索引功能，可以提高<a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a> ， <a href="CTX_DOC-package.html#GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511">HIGHLIGHT</a>和<code class="codeph">MARKUP</code>过程的性能。
                     </p>
                     <div class="infoboxnotealso" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-7A226861-627C-4E44-8A93-9E5286088873">
                        <p class="notep1">也可以看看：</p>
                        <p> 有关正向索引的详细信息，请参阅<a href="../ccapp/indexing-with-oracle-text.html#CCAPP9542" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                     </div>
                     <div class="infoboxnote" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-1F35CBA5-16C6-48A5-8C5C-5742D408E0EE">
                        <p class="notep1">注意：</p>
                        <p>Oracle Text不保证<code class="codeph">CTX.DOC.MARKUP</code>良好的输出，特别是对于已经用HTML或XML标记的术语。特别是，偶尔会出现意外的标记标记嵌套。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-C24E3B07-C3D3-464E-A2B2-919494B90AA3">语法1：内存中结果存储</p><pre class="oac_no_warn" dir="ltr">执行CTX_DOC.MARKUP（</pre><pre class="oac_no_warn" dir="ltr">index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN VARCHAR2，restab IN OUT NOCOPY CLOB，plaintext IN BOOLEAN DEFAULT FALSE，tagset IN VARCHAR2 DEFAULT'TEXT_DEFAULT'，starttag IN VARCHAR2 DEFAULT NULL，endtag IN VARCHAR2 DEFAULT NULL，prevtag IN VARCHAR2 DEFAULT NULL， nexttag IN VARCHAR2 DEFAULT NULL，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）; exec CTX_DOC.MARKUP_CLOB_QUERY（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN CLOB，restab IN OUT NOCOPY CLOB，plaintext IN BOOLEAN DEFAULT FALSE，tagset IN VARCHAR2 DEFAULT'TEXT_DEFAULT'，starttag IN VARCHAR2 DEFAULT NULL，endtag IN VARCHAR2 DEFAULT NULL，prevtag IN VARCHAR2 DEFAULT NULL，nexttag IN VARCHAR2 DEFAULT NULL，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-5C2D3BF9-CA75-4F7E-BFEF-850A3B60A0B5">语法2：结果表存储</p><pre class="oac_no_warn" dir="ltr">执行CTX_DOC.MARKUP（</pre><pre class="oac_no_warn" dir="ltr">index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN VARCHAR2，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，plaintext IN BOOLEAN DEFAULT FALSE，tagset IN VARCHAR2 DEFAULT'TEXT_DEFAULT'，starttag IN VARCHAR2 DEFAULT NULL，endtag IN VARCHAR2 DEFAULT NULL，prevtag IN VARCHAR2 DEFAULT NULL，nexttag IN VARCHAR2 DEFAULT NULL，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）; exec CTX_DOC.MARKUP_CLOB_QUERY（index_name IN VARCHAR2，textkey IN CLOB，text_query IN VARCHAR2，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，plaintext IN BOOLEAN DEFAULT FALSE，tagset IN VARCHAR2 DEFAULT'TEXT_DEFAULT'，starttag IN VARCHAR2 DEFAULT NULL，endtag IN VARCHAR2 DEFAULT NULL，prevtag IN VARCHAR2 DEFAULT NULL，nexttag IN VARCHAR2 DEFAULT NULL，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-E23716F0-228B-48F9-8571-BA6DD436891B"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定与包含<tt>textkey</tt>标识的文档的文本列关联的索引的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-1C52B079-C60F-459A-B1BC-472D6F0BB3CD"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。</p>
                           <p><tt>textkey</tt>参数可以如下：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单列主键值</p>
                        </li>
                        <li>
                           <p>复合（多列）主键的编码规范。使用CTX_DOC。 <a href="CTX_DOC-package.html#GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A">PKENCODE</a>程序。
                           </p>
                        </li>
                        <li>
                           <p>包含文档的行的rowid</p>
                        </li>
                     </ul>
                     <p>使用CTX_DOC在主键和rowid标识之间切换。 <a href="CTX_DOC-package.html#GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A">SET_KEY_TYPE</a> 。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-094018FF-A27F-4393-AD7A-7322BFBCBDBD"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定用于检索文档的原始查询表达式。</p>
                           <p>如果<tt>text_query</tt>包含通配符，词干，模糊匹配导致返回停用词，则<code class="codeph">MARKUP</code>不会突出显示停用词。
                           </p>
                           <p>如果<tt>text_query</tt>包含阈值运算符，则忽略运算符。<code class="codeph">MARKUP</code>过程始终返回整个结果集的突出显示信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-20D5B13C-6301-4273-AF79-F5310CB4FBE9"><!-- --></a> restab</dt>
                        <dd>
                           <p>您可以指定此过程将标记的文本存储到表或内存中的<code class="codeph">CLOB</code> 。</p>
                           <p>要将结果存储到表中，请指定表的名称。在调用此过程之前，结果表必须存在。</p>
                           <div class="infoboxnotealso" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-4BBC2098-7F87-43A8-A0E8-13211D3A04E8">
                              <p class="notep1">也可以看看：</p>
                              <p>有关标记结果表结构的更多信息，请参阅<a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75">Oracle文本结果表中的</a> <span class="q">“ <a href="oracle-text-result-tables.html#GUID-F1C95C5C-7D81-4DA4-8116-07AD92E777BF">标记表</a> ”</span> 。
                              </p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要将结果存储在内存中，请指定CLOB定位器的名称。如果<tt>restab</tt>为<code class="codeph">NULL</code> ，则分配并返回临时CLOB。您必须在使用后取消分配定位器。
                     </p>
                     <p>如果<tt>restab</tt>不为<code class="codeph">NULL</code> ，则在操作之前截断CLOB。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-282F908C-E76D-4AF3-A052-12A870BD48C3"><!-- --></a> query_id</dt>
                        <dd>
                           <p>指定用于标识插入<tt>restab</tt>的行的<tt>标识符</tt> 。
                           </p>
                           <p>如果未指定<tt>query_id</tt>或将其设置为<code class="codeph">NULL</code> ，则默认为0。您必须手动截断<tt>restab</tt>中指定的表。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-66382DEF-E7C0-4638-8527-231D4788BA61"><!-- --></a>明文</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以生成明文标记文档。如果使用<code class="codeph">AUTO_FILTER</code>过滤器或索引HTML文档，请指定<code class="codeph">FALSE</code>以生成标记的HTML文档。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI"><!-- --></a>标记集</dt>
                        <dd>
                           <p>指定以下预定义标记集之一。第二和第三列显示不同的标签是如何为每个定义的<code class="codeph">tagset</code> ：</p>
                           <div class="tblformal" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-2B42130B-75C9-4F5D-9374-D4544FE1074A">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table shows predefined tag sets and how the different tags are defined for each tagset." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="30%" id="d98925e2139">标记集</th>
                                       <th align="left" valign="bottom" width="19%" id="d98925e2142">标签</th>
                                       <th align="left" valign="bottom" width="52%" id="d98925e2145">标签值</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2150" headers="d98925e2139 ">
                                          <p><code class="codeph">TEXT_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2150 d98925e2142 ">
                                          <p>STARTTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2150 d98925e2145 ">
                                          <p><code class="codeph">&lt;&lt;&lt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2162" headers="d98925e2139 ">
                                          <p><code class="codeph">TEXT_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2162 d98925e2142 ">
                                          <p>ENDTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2162 d98925e2145 ">
                                          <p><code class="codeph">&gt;&gt;&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2174" headers="d98925e2139 ">
                                          <p><code class="codeph">HTML_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2174 d98925e2142 ">
                                          <p>STARTTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2174 d98925e2145 ">
                                          <p><code class="codeph">&lt;B&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2186" headers="d98925e2139 ">
                                          <p><code class="codeph">HTML_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2186 d98925e2142 ">
                                          <p>ENDTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2186 d98925e2145 ">
                                          <p><code class="codeph">&lt;/ B&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2198" headers="d98925e2139 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2198 d98925e2142 ">
                                          <p>STARTTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2198 d98925e2145 ">
                                          <p><code class="codeph">&lt;A NAME=ctx%CURNUM&gt; &lt;B&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2210" headers="d98925e2139 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2210 d98925e2142 ">
                                          <p>ENDTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2210 d98925e2145 ">
                                          <p><code class="codeph">&lt;/ B&gt; &lt;/A&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2222" headers="d98925e2139 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2222 d98925e2142 ">
                                          <p>prevtag</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2222 d98925e2145 ">
                                          <p><code class="codeph">&lt;A HREF=#ctx%PREVNUM&gt;＆lt; &lt;/A&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e2234" headers="d98925e2139 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e2234 d98925e2142 ">
                                          <p>nexttag</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e2234 d98925e2145 ">
                                          <p><code class="codeph">&lt;A HREF=#ctx%NEXTNUM&gt;＆gt; &lt;/A&gt;</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-A2656A1D-93B2-478A-973B-0FED6FC5D792"><!-- --></a> starttag</dt>
                        <dd>
                           <p>指定<code class="codeph">MARKUP</code>插入的字符以指示突出显示的术语的开始。
                           </p>
                           <p>关于突出显示的单词的<tt>starttag，endtag，prevtag</tt>和<tt>nexttag</tt>的顺序如下：</p><pre class="oac_no_warn" dir="ltr">... prevtag starttag <span class="italic">word</span> endtag nexttag ...</pre></dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-5BF22F01-58B2-47C6-800F-CA89F965EA7D"><!-- --></a> endtag</dt>
                        <dd>
                           <p>指定<code class="codeph">MARKUP</code>插入的字符以指示突出显示的术语的结尾。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABBADIC"><!-- --></a>上市标签</dt>
                        <dd>
                           <p>指定标记序列，该标记序列定义将用户导航到上一个突出显示的标记。</p>
                           <p>在标记序列<tt>prevtag</tt>和<tt>nexttag中</tt> ，您可以指定以下动态设置的偏移量变量：</p>
                           <div class="tblformal" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-CDA3AAA1-AB9D-4D92-BF7C-FD00D81B77A1">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table shows offset variables and their values." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="29%" id="d98925e2298">偏移量变量</th>
                                       <th align="left" valign="bottom" width="71%" id="d98925e2301">值</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d98925e2306" headers="d98925e2298 ">
                                          <p><code class="codeph">％CURNUM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d98925e2306 d98925e2301 ">
                                          <p>当前的偏移号码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d98925e2314" headers="d98925e2298 ">
                                          <p><code class="codeph">％PREVNUM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d98925e2314 d98925e2301 ">
                                          <p>先前的偏移号</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d98925e2322" headers="d98925e2298 ">
                                          <p><code class="codeph">％NEXTNUM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d98925e2322 d98925e2301 ">
                                          <p>下一个偏移号码</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                     </dl>
                     <p>有关示例，请参阅<code class="codeph">HTML_NAVIGATE</code> <span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI">”</a></span> <code class="codeph">HTML_NAVIGATE</code> <span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI">”</a></span>的说明。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-423E16D0-6072-4753-A21E-CAA200DDA349"><!-- --></a>标签</dt>
                        <dd>
                           <p>指定标记序列，该标记序列定义将用户导航到下一个高亮标记的标记。</p>
                           <p>在标记序列中，您可以使用用于<tt>prevtag</tt>的相同偏移量变量。有关示例，请参阅<span class="q"><a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABBADIC">“prevtag”</a> “</span>和<code class="codeph">HTML_NAVIGATE</code> <span class="q">” <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI">“</a></span> <code class="codeph">HTML_NAVIGATE</code> <span class="q">” <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI">“</a></span>的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-0BEDD685-C935-4EFD-9E67-56217384CEBC"><!-- --></a> use_saved_copy</dt>
                        <dd>
                           <p>指定是否引用$ D表来获取文档的副本，以及在$ D表中没有文档副本时要采取的操作。</p>
                           <p>您可以为<code class="codeph">use_saved_copy</code>参数指定以下值之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则从数据存储中获取该文档。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_ERROR</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则显示错误消息。如果要在$ D表中没有文档副本时实现特定的回退逻辑，请指定此值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_IGNORE</code> ：始终从数据存储中获取文档。
                           </p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-BF477696-0A18-436E-9C61-827CEA029F71">例子</p>
                     <p>内存中标记</p>
                     <p>以下代码获取文档（ <span class="italic">狗追逐猫</span> ），在其上执行指定的标记，并将结果存储在内存中。
                     </p><pre class="oac_no_warn" dir="ltr">在drop table mark_tab上设置serveroutput; create table mark_tab（id number primary key，text varchar2（80））;插入mark_tab值（'1'，'狗追猫。“）;在mark_tab（text）上创建索引mark_tab_idx indextype是ctxsys.context参数（'filter ctxsys.null_filter'）;宣布mklob clob; amt number：= 40; line varchar2（80）;开始ctx_doc.markup（'mark_tab_idx'，'1'，'dog AND cat'，mklob）; - 传入时mklob为NULL，因此ctx_doc.markup将为我们分配一个临时CLOB并将结果放在那里。dbms_lob.read（mklob，amt，1，line）; dbms_output.put_line（'FIRST 40 CHARS ARE：'|| line）; - 必须取消分配temp lob dbms_lob.freetemporary（mklob）;结束; /</pre><p>此示例的输出显示标记文档的外观：</p><pre class="oac_no_warn" dir="ltr">第一个40个字符是：&lt;&lt;&lt; dog &gt;&gt;&gt;追逐&lt;&lt;&lt; cat &gt;&gt;&gt;。</pre><p>标记表</p>
                     <p>创建<a id="d98925e2412" class="indexterm-anchor"></a><a id="d98925e2416" class="indexterm-anchor"></a>高亮标记表用于存储标记文档，如下所示：</p><pre class="oac_no_warn" dir="ltr">create table markuptab（query_id number，document clob）;</pre><p>HTML中的单词突出显示<a id="d98925e2425" class="indexterm-anchor"></a><a id="d98925e2429" class="indexterm-anchor"></a></p>
                     <p>您还可以将<code class="codeph">MARKUP</code>结果存储在表格中。要为文档23的单词<span class="italic">dog</span>或<span class="italic">cat</span>创建HTML高亮标记，请输入以下示例：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.markup（index_name =&gt;'my_index'，textkey =&gt;'23'，text_query =&gt;'dog | cat'，restab =&gt;'markuptab'，query_id =&gt;'1'，tagset =&gt;'HTML_DEFAULT'）;结束;开始ctx_doc.markup（index_name =&gt;'my_index'，textkey =&gt;'23'，text_query =&gt;'dog AND cat WITHIN titlesection @ name'，restab =&gt;'markuptab'，query_id =&gt;'1'，tagset =&gt;' HTML_DEFAULT'）;结束;</pre><p>在滤波器存在的情况下突出显示的单词</p>
                     <p>对以下查询执行标记时，只会标记关键字（这些示例中的“dog”）。<code class="codeph">AND</code>运算符之后的过滤谓词将被忽略。
                     </p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.markup（index_name =&gt;'my_index'，textkey =&gt;'23'，text_query =&gt;'dog AND cat WITHIN titlesection @ name'，restab =&gt;'markuptab'，query_id =&gt;'1'，tagset =&gt;' HTML_DEFAULT'）;结束;开始ctx_doc.markup（index_name =&gt;'my_index'，textkey =&gt;'23'，text_query =&gt;'dog AND SDATA（price&gt; 100）'，restab =&gt;'markuptab'，query_id =&gt;'1'，tagset =&gt; 'HTML_DEFAULT'）;结束;</pre><p>HTML中的主题突出显示<a id="d98925e2458" class="indexterm-anchor"></a></p>
                     <p>要为文档23的<span class="italic">政治</span>主题创建HTML高亮标记，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.markup（index_name =&gt;'my_index'，textkey =&gt;'23'，text_query =&gt;'about（politics）'，restab =&gt;'markuptab'，query_id =&gt;'1'，tagset =&gt;'HTML_DEFAULT'） ;结束;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-3BCFC259-AF9B-4DA6-A23F-BBE61B0B3C87">限制</p>
                     <p><code class="codeph">CTX_DOC.MARKUP</code>不支持使用查询模板。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__GUID-AF696DCA-3EC1-4836-8A83-48CDCB75911F">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-74E74073-E7E9-483E-91EB-C714F726E95A">POLICY_MARKUP</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23916"></a><div class="props_rev_3"><a id="GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A" name="GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A"></a><h3 id="CCREF-GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A" class="sect3"><span class="enumeration_section">9.7</span> PKENCODE</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">CTX_DOC.PKENCODE</code>函数将复合textkey列表转换为单个字符串并返回该字符串。
                     </p>
                     <p><code class="codeph">PKENCODE</code>创建的字符串可用作主键参数<tt>textkey</tt> <span class="italic"> </span>在其他<code class="codeph">CTX_DOC</code>过程中，例如CTX_DOC。 <a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">主题</a>和CTX_DOC。 <a href="CTX_DOC-package.html#GUID-5C46E3F4-2DD7-4DF0-8904-D4AAB7E2C521">GIST</a> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A__GUID-67899D9A-F9E4-4C34-987E-BAC80233A7BE">句法</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.PKENCODE（pk1 IN VARCHAR2，pk2 IN VARCHAR2 DEFAULT NULL，pk4 IN VARCHAR2 DEFAULT NULL，pk5 IN VARCHAR2 DEFAULT NULL，pk6 IN VARCHAR2 DEFAULT NULL，pk7 IN VARCHAR2 DEFAULT NULL，pk8 IN VARCHAR2 DEFAULT NULL，pk9 IN VARCHAR2 DEFAULT NULL， pk10 IN VARCHAR2 DEFAULT NULL，pk11 IN VARCHAR2 DEFAULT NULL，pk12 IN VARCHAR2 DEFAULT NULL，pk13 IN VARCHAR2 DEFAULT NULL，pk14 IN VARCHAR2 DEFAULT NULL，pk15 IN VARCHAR2 DEFAULT NULL，pk16 IN VARCHAR2 DEFAULT NULL）RETURN VARCHAR2;</pre><dl>
                        <dt class="dlterm"><a name="GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A__GUID-BBF230E7-FBCE-4C61-9500-96D3C97FF816"><!-- --></a> pk1-pk16</dt>
                        <dd>
                           <p>每个PK参数指定复合textkey列表中的列元素。您最多可以编码16个列元素。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A__GUID-B69EB69A-1C27-4187-8815-F977C85F5979">返回</p>
                     <p>表示复合textkey的编码值的字符串。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A__GUID-15D86B1E-186F-4A41-962A-B3F0D9BE39DF">例</p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.gist（'newsindex'，CTX_DOC.PKENCODE（'smith'，14），'CTX_GIST'）;结束;</pre><p>在此示例中， <span class="italic">smith</span>和<span class="italic">14</span>构成文档的复合textkey值。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2116"></a><div class="props_rev_3"><a id="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D" name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D"></a><h3 id="CCREF-GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D" class="sect3"><span class="enumeration_section">9.8</span> POLICY_FILTER</h3>
               <div>
                  <div class="section">
                     <p>生成文档的纯文本或HTML版本。使用此过程，不需要<code class="codeph">CONTEXT</code>索引。
                     </p>
                     <p>此过程使用受信任的标注。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-8A229CFF-E43D-47BB-9737-F8366FE4AC40">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.policy_filter（在VARCHAR2中的policy_name，在[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，在nocopy中返回CLOB，在BOOLEAN中的明文默认为FALSE，VARCHAR2中的语言默认为NULL，VARCHAR2中的格式默认为NULL，VARCHAR2中的字符集默认为NULL） ;</pre><dl>
                        <dt class="dlterm"><a name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-C3141946-5728-4984-93AE-4034C2CB317D"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-2EAB4063-0E73-42CC-9264-5A744D79CB59"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定要过滤的文档。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-FB3EDE07-8EF2-4381-99C1-3BBE4BF79F87"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">CLOB</code>定位器的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-B385A819-802B-4F91-BFE5-6FB740AF09F9"><!-- --></a>明文</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以生成文档的纯文本版本。如果使用<code class="codeph">AUTO_FILTER</code>过滤器或索引HTML文档，请指定<code class="codeph">FALSE</code>以生成文档的HTML版本。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-D1F02A04-534C-4178-8D55-75FDDE958797"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定文档的语言。使用Oracle Text支持的语言值，就像在基表的语言列中一样。请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <a href="oracle-text-indexing-elements.html#GUID-118602A6-7B96-4D66-9BAD-4747186894BE">BASIC_LEXER</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-1323CE66-878C-4B80-8B80-A16F8A89E4B8"><!-- --></a>格式</dt>
                        <dd>
                           <p>指定文档的格式。使用Oracle Text支持的格式值，TEXT，BINARY或IGNORE，如您在基表的格式列中指定的那样。有关更多信息，请参阅<a href="oracle-text-SQL-statements-and-operators.html#GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB" title="本节描述CREATE SEARCH INDEX语句，因为它与创建JSON搜索索引有关。">Oracle Text SQL语句和操作</a>符中<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a>中的格式列说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CFA758A8-BAF3-4888-8A14-A29928C5D53D__GUID-0C1A517E-EF71-4A2F-8003-007DF0DC8D91"><!-- --></a>字符集</dt>
                        <dd>
                           <p>指定文档的字符集。使用Oracle Text支持的值，就像在基表的charset列中指定的那样。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-24A7DF95-CDA5-4062-82D5-6DFC45F736BF">过滤器类型</a> ”</span> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2117"></a><div class="props_rev_3"><a id="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3" name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3"></a><h3 id="CCREF-GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3" class="sect3"><span class="enumeration_section">9.9</span> POLICY_GIST</h3>
               <div>
                  <div class="section">
                     <p>为文档生成要点或主题摘要。您可以生成段落级或句子级别的要点或主题摘要。使用此过程，不需要<code class="codeph">CONTEXT</code>索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-E23E9FC4-AE0A-4A99-B502-67110FFDEBA6">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.policy_gist（VARCHAR2中的policy_name，[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，nocopy CLOB中的restab，VARCHAR2中的glevel默认'P'，VARCHAR2中的pov默认'GENERIC'，VARCHAR2中的numParagraphs默认为NULL，maxPercent in NUMBER默认为NULL，NUMBER中的num_themes默认为50种语言，VARCHAR2中的默认值为NULL，VARCHAR2中的格式为default NULL，VARCHAR2中的charset默认为NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-9582EAEE-C9D6-43C3-98E3-DBA33C13CFFB"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-4A558027-D452-4680-ABD4-28DB57548102"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定要为其生成Gist或主题摘要的文档。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-E1911664-7335-4E96-97ED-DE667145A033"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">CLOB</code>定位器的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-CFDDC512-6CE0-455D-BAA4-EFA78FDA0851"><!-- --></a> glevel</dt>
                        <dd>
                           <p>指定要生成的要点或主题摘要的类型。可能的值是：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">P</span>代表段落</p>
                        </li>
                        <li>
                           <p><span class="italic">S</span>判刑</p>
                        </li>
                     </ul>
                     <p>默认值为<span class="italic">P.</span></p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-089BAE41-A84C-4765-B331-3CD7EDAA7ED8"><!-- --></a> pov</dt>
                        <dd>
                           <p>指定是否生成要点或单个主题摘要。生成的要点或主题摘要的类型（句子级别或段落级别）取决于为<code class="codeph">glevel</code>指定的值。
                           </p>
                           <p>要为整个文档生成要点，请为<code class="codeph">pov</code>指定值'GENERIC'。要为文档中的单个主题生成主题摘要，请将主题指定为<code class="codeph">pov</code>的值。</p>
                           <p>使用结果表存储时，如果没有为<code class="codeph">pov</code>指定值，则此过程将返回通用要点以及最多50个文档主题摘要。
                           </p>
                           <div class="infoboxnote" id="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-34DC30B4-DDFD-46B8-9036-D07637818F3F">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">pov</code>参数区分大小写。要返回文档的要点，请以全部大写形式指定“ <code class="codeph">GENERIC</code> ”。要返回主题摘要，请指定与为文档生成的主题<span class="italic">完全相同</span>的主题。
                              </p>
                              <p>只有<a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">THEMES</a>为文档生成的<a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">主题</a>才能用作<code class="codeph">pov</code>输入。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-1A8D8A3F-47C3-4699-A2AF-B7F4ED37770D"><!-- --></a> numParagraphs</dt>
                        <dd>
                           <p>指定为文档要点或主题摘要选择的最大文档段落（或句子）数。默认值为16。</p>
                           <div class="infoboxnote" id="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-C4A28880-C960-4B27-8D9C-B569DC27BA66">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">numParagraphs</code>参数仅在此参数产生的gist或主题摘要大小小于<code class="codeph">maxPercent</code>参数产生的gist或主题摘要大小时使用。
                              </p>
                              <p>这意味着系统始终返回最小尺寸的要点或主题摘要。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-4C35BAA3-7B3A-4749-A341-14543FB0D839"><!-- --></a> maxPercent</dt>
                        <dd>
                           <p>指定为文档要点或主题摘要选择的文档段落（或句子）的最大数量，作为文档中总段落（或句子）的百分比。默认值为10。</p>
                           <div class="infoboxnote" id="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-2C7D388E-F0F2-4155-B510-EF202A22694E">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">maxPercent</code> <span class="italic"> </span>仅当此参数产生的gist或主题摘要大小小于<code class="codeph">numParagraphs</code>参数产生的gist或主题摘要大小时，才使用该参数。
                              </p>
                              <p>这意味着系统始终返回最小尺寸的要点或主题摘要。</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-9F13F401-D7B4-4E3F-85E0-15D7AB14714C"><!-- --></a> num_themes</dt>
                        <dd>
                           <p>指定未指定<code class="codeph">pov</code>值时要生成的主题摘要数。例如，如果指定10，则此过程将返回前10个主题摘要。默认值为50。
                           </p>
                           <p>如果指定0或NULL，则此过程将返回文档中的所有主题。如果文档包含50个以上的主题，则只有前50个主题显示概念层次结构。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-9BD0E501-8D16-4703-91E4-FF2236E0C6B8"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定文档的语言。使用Oracle Text支持的语言值，就像在基表的语言列中一样。请参见<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-4C126140-03A8-439C-A362-1B75BF7B9D5A"><!-- --></a>格式</dt>
                        <dd>
                           <p>指定文档的格式。使用Oracle Text支持的格式值，TEXT，BINARY或IGNORE，如您在基表的格式列中指定的那样。有关更多信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> ”中</span>的格式列说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F6BDC6E9-2C2A-46FA-8ABB-4529A4258DF3__GUID-DA69539B-40FA-49AA-B4F5-BB71FB27D936"><!-- --></a>字符集</dt>
                        <dd>
                           <p>指定文档的字符集。使用Oracle Text支持的值，就像在基表的charset列中指定的那样。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2118"></a><div class="props_rev_3"><a id="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06" name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06"></a><h3 id="CCREF-GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06" class="sect3"><span class="enumeration_section">9.10</span> POLICY_HIGHLIGHT</h3>
               <div>
                  <div class="section">
                     <p>生成纯文本或HTML突出显示文档的偏移信息。使用此过程，不需要<code class="codeph">CONTEXT</code>索引。
                     </p>
                     <p>将为文档中满足您指定的查询的条件生成偏移量信息。这些突出显示的术语是满足单词查询的单词或满足<code class="codeph">ABOUT</code>查询的主题。
                     </p>
                     <p>您可以为文档的纯文本或HTML版本生成突出显示偏移。您可以将偏移信息应用于使用CTX_DOC过滤的相同文档。 <a href="CTX_DOC-package.html#GUID-66B252A2-4C02-4E11-80DF-71BECD3BAFD6">过滤器</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-C5505B65-0622-460D-BAD2-254E749CBEE0">句法</p><pre class="oac_no_warn" dir="ltr">exec ctx_doc.policy_highlight（VARCHAR2中的policy_name，[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，VARCHAR2中的text_query，nocopy highlight_tab中的restab，VARCHAR2中的布尔FALSE语言中的明文默认为NULL，VARCHAR2中的格式为NULL，VARCHAR2中的字符集默认为NULL）; exec ctx_doc.policy_highlight_clob_query（VARCHAR2中的policy_name，[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，CLOB中的text_query，nocopy highlight_tab中的restab，VARCHAR2中的布尔FALSE语言中的明文默认为NULL，VARCHAR2中的格式为NULL，VARCHAR2中的字符集默认为NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-2E430F7A-7A50-4E3E-966B-7108B6677C26"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-846E7211-6A82-449C-AFB7-378A05F217BC"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定文档以生成突出显示偏移信息。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-8C880682-2A5E-4F7D-ABF4-92D06F41727C"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定用于检索文档的原始查询表达式。如果为NULL，则不生成高亮显示。</p>
                           <p>如果<code class="codeph">text_query</code>包含通配符，词干或模糊匹配，导致返回停用词，则此过程不会突出显示停用词。
                           </p>
                           <p>如果<code class="codeph">text_query</code>包含阈值运算符，则忽略运算符。此过程始终返回整个结果集的突出显示信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-D78880F7-8344-4734-B696-4845073D0BC3"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">highlight_tab</code> PL / SQL逐个表类型的名称。
                           </p>
                           <div class="infoboxnotealso" id="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-54A9D5F7-6E36-4B32-9DA7-27604992D216">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511">突出显示</a> ”</span>有关<code class="codeph">highlight_tab</code>表类型结构的更多信息</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-54CB781A-A8BC-4CBB-BFEC-D213E14FFDBB"><!-- --></a>明文</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以生成文档的明文偏移量。
                           </p>
                           <p>如果使用<code class="codeph">AUTO_FILTER</code>过滤器或索引HTML文档，请指定<code class="codeph">FALSE</code>以生成文档的HTML偏移量。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-88334298-863C-4BF2-B31A-2C5C9C858F60"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定文档的语言。使用Oracle Text支持的语言值，就像在基表的语言列中一样。请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-4D1E452C-4624-4F34-937F-BBCDFC5F7459"><!-- --></a>格式</dt>
                        <dd>
                           <p>指定文档的格式。使用Oracle Text支持的格式值，TEXT，BINARY或IGNORE，如您在基表的格式列中指定的那样。有关更多信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> ”</span>下的格式列说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-210BD8D1-5F83-4E1A-88A4-57CA52063C81"><!-- --></a>字符集</dt>
                        <dd>
                           <p>指定文档的字符集。使用Oracle Text支持的值，就像在基表的charset列中指定的那样。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1E0B8D2A-8373-40D5-9546-FF56D8D20D06__GUID-CDCED3D3-3F77-46D5-A2E7-74CE4EBEB9DE">限制</p>
                     <p><code class="codeph">CTX_DOC.POLICY_HIGHLIGHT</code>不支持使用查询模板。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24102"></a><div class="props_rev_3"><a id="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB" name="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB"></a><h3 id="CCREF-GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB" class="sect3"><span class="enumeration_section">9.11</span> POLICY_LANGUAGES</h3>
               <div>
                  <div class="section">
                     <p>提供为一段文本获取语言的功能。</p>
                     <p>返回语言描述符和分数表，其中分数是系统可以断言所提供的文本使用特定语言的置信度。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB__GUID-31F9DB5F-8E27-471D-909C-00624FE0545A">句法</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.POLICY_LANGUAGES（policy_name IN VARCHAR2 | CLOB，文档IN VARCHAR2，restab IN OUT NOCOPY CTX_DOC.LANGUAGE_TAB）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB__GUID-672F9E49-90C1-459A-B803-2A30C92298D4"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>以前使用CTX_DDL创建的策略。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a>方法。如果指定的策略包含切片首选项，则API将遵循切片首选项。例如，如果指定了HTML分区，则在处理输入文档之前将删除HTML标记。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB__GUID-640071C1-B08F-4AB5-BF32-DA5A704EF870"><!-- --></a>文件</dt>
                        <dd>
                           <p>要提取语言的文本正文。假定文本是具有UTF-8字符编码的纯文本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB__GUID-61E5A5E5-5F53-4957-81E6-26EA076E90EE"><!-- --></a> restab</dt>
                        <dd>
                           <p>语言提取过程的结果。结果是一个记录表。每条记录都有两个属性：语言字符串和每个语言字符串的分数。分数范围从0到100，表示系统可以断言所提供的文本是否使用指定语言的置信度。生成的语言按排序顺序返回，首先出现最自信的语言。</p>
                           <p><code class="codeph">restab</code>的表格布局类似于HIGHLIGHT。</p>
                           <div class="infoboxnotealso" id="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB__GUID-04106AFA-673F-464D-88F4-4D886B22C050">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">restab</code>布局信息的<span class="q">“ <a href="CTX_DOC-package.html#GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511">突出显示</a> ”</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB__GUID-3B91E9CE-4147-417D-B0D1-E85D12F21850">支持的CTX_DOC.POLICY_LANGUAGES和POLICY_STEMS语言</p>
                     <p><a href="oracle-text-indexing-elements.html#GUID-71743C74-2B44-45D3-AE5E-3AF595200364">AUTO_LEXER</a>支持的语言支持语言提取。 CTX_DOC.POLICY_LANGUAGES和CTX_DOC支持的语言。此版本的<a href="CTX_DOC-package.html#GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A">POLICY_STEMS</a>是：</p>
                     <p>阿拉伯</p>
                     <p>博克马尔</p>
                     <p>加泰罗尼亚</p>
                     <p>克罗地亚</p>
                     <p>捷克</p>
                     <p>丹麦</p>
                     <p>荷兰人</p>
                     <p>英语</p>
                     <p>芬兰</p>
                     <p>法国</p>
                     <p>德语</p>
                     <p>希腊语</p>
                     <p>希伯来语</p>
                     <p>匈牙利</p>
                     <p>意大利</p>
                     <p>日本</p>
                     <p>朝鲜的</p>
                     <p>抛光</p>
                     <p>尼诺斯克</p>
                     <p>波斯语</p>
                     <p>葡萄牙语</p>
                     <p>罗马尼亚</p>
                     <p>俄语</p>
                     <p>塞尔维亚</p>
                     <p>斯洛伐克</p>
                     <p>斯洛文尼亚</p>
                     <p>简体中文</p>
                     <p>西班牙语</p>
                     <p>瑞典</p>
                     <p>泰国</p>
                     <p>繁体中文</p>
                     <p>土耳其</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB__GUID-E7D5A489-CF70-48AE-BF92-64429EEB4BC2">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A">POLICY_STEMS</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-71743C74-2B44-45D3-AE5E-3AF595200364">AUTO_LEXER</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2119"></a><div class="props_rev_3"><a id="GUID-74E74073-E7E9-483E-91EB-C714F726E95A" name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A"></a><h3 id="CCREF-GUID-74E74073-E7E9-483E-91EB-C714F726E95A" class="sect3"><span class="enumeration_section">9.12</span> POLICY_MARKUP</h3>
               <div>
                  <div class="section">
                     <p>生成纯文本或HTML版本的文档，并突出显示查询字词。使用此过程，不需要<code class="codeph">CONTEXT</code>索引。
                     </p>
                     <p><code class="codeph">CTX_DOC.POLICY_MARKUP</code>过程采用查询规范和文档，并返回标记查询术语的文档版本。这些标记的术语是满足单词查询的单词或满足<code class="codeph">ABOUT</code>查询的主题。
                     </p>
                     <p>您可以将标记输出设置为纯文本或HTML。</p>
                     <p>您可以使用其中一个预定义标记集来标记突出显示的术语，包括启用HTML导航的标记序列。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-7BFA48C5-0343-44D1-836B-915B8499FAFC">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.policy_markup（VARCHAR2中的policy_name，[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，VARCHAR2中的text_query，nocopy CLOB中的restab，BOOLEAN中的明文默认为FALSE，VARCHAR2中的tagset默认为'TEXT_DEFAULT'，VARCHAR2中的starttag默认为NULL， vartag中的endtag默认为NULL，VARCHAR2中的prevtag默认为NULL，VARCHAR2中的nexttag默认为VARCHAR2中的NULL语言，默认为NULL，格式为VARCHAR2，默认为NULL，VARCHAR2中的charset默认为NULL）; ctx_doc.policy_markup_clob_query（VARCHAR2中的policy_name，[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，CLOB中的text_query，nocopy CLOB中的restab，BOOLEAN中的明文默认为FALSE，VARCHAR2中的tagset默认为'TEXT_DEFAULT'，VARCHAR2中的starttag默认为NULL， vartag中的endtag默认为NULL，VARCHAR2中的prevtag默认为NULL，VARCHAR2中的nexttag默认为VARCHAR2中的NULL语言，默认为NULL，格式为VARCHAR2，默认为NULL，VARCHAR2中的charset默认为NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-925FB331-2FE1-4ACA-9D50-F29170462635"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-177AA7F7-CA12-492B-9B13-87EA1486E9FE"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定文档以生成突出显示偏移信息。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-4D0F117D-0FBF-4F34-8E50-CFF617F3AA6D"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定用于检索文档的原始查询表达式。</p>
                           <p>如果<code class="codeph">text_query</code>包含NULL，则此过程将失败并生成错误。
                           </p>
                           <p>如果<code class="codeph">text_query</code>包含通配符，词干或模糊匹配，导致返回停用词，则此过程不会突出显示停用词。
                           </p>
                           <p>如果<code class="codeph">text_query</code>包含阈值运算符，则忽略运算符。此过程始终返回整个结果集的突出显示信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-6962E1B6-553D-4922-8B7C-6D321B81E2DA"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">CLOB</code>定位器的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-4C3F5349-C6F2-4261-92BD-0A2E10440665"><!-- --></a>明文</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以生成明文标记文档。如果使用<code class="codeph">AUTO_FILTER</code>过滤器或索引HTML文档，请指定<code class="codeph">FALSE</code>以生成文档的标记HTML版本。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-A211D144-5E5A-4026-A4D6-BE731A45607A"><!-- --></a>标记集</dt>
                        <dd>
                           <p>指定以下预定义标记集之一。第二列和第三列显示如何为每个标记集定义不同的标记：</p>
                           <div class="tblformal" id="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-B4E9B044-7343-435C-80D7-3030A24608B8">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table shows predefined tag sets and how the different tags are defined for each tagset." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="30%" id="d98925e3676">标记集</th>
                                       <th align="left" valign="bottom" width="19%" id="d98925e3679">标签</th>
                                       <th align="left" valign="bottom" width="52%" id="d98925e3682">标签值</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3687" headers="d98925e3676 ">
                                          <p><code class="codeph">TEXT_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3687 d98925e3679 ">
                                          <p>STARTTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3687 d98925e3682 ">
                                          <p><code class="codeph">&lt;&lt;&lt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3699" headers="d98925e3676 ">
                                          <p><code class="codeph">TEXT_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3699 d98925e3679 ">
                                          <p>ENDTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3699 d98925e3682 ">
                                          <p><code class="codeph">&gt;&gt;&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3711" headers="d98925e3676 ">
                                          <p><code class="codeph">HTML_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3711 d98925e3679 ">
                                          <p>STARTTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3711 d98925e3682 ">
                                          <p><code class="codeph">&lt;B&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3723" headers="d98925e3676 ">
                                          <p><code class="codeph">HTML_DEFAULT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3723 d98925e3679 ">
                                          <p>ENDTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3723 d98925e3682 ">
                                          <p><code class="codeph">&lt;/ B&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3735" headers="d98925e3676 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3735 d98925e3679 ">
                                          <p>STARTTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3735 d98925e3682 ">
                                          <p><code class="codeph">&lt;A NAME=ctx%CURNUM&gt; &lt;B&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3747" headers="d98925e3676 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3747 d98925e3679 ">
                                          <p>ENDTAG</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3747 d98925e3682 ">
                                          <p><code class="codeph">&lt;/ B&gt; &lt;/A&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3759" headers="d98925e3676 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3759 d98925e3679 ">
                                          <p>prevtag</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3759 d98925e3682 ">
                                          <p><code class="codeph">&lt;A HREF=#ctx%PREVNUM&gt;＆lt; &lt;/A&gt;</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d98925e3771" headers="d98925e3676 ">
                                          <p><code class="codeph">HTML_NAVIGATE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="19%" headers="d98925e3771 d98925e3679 ">
                                          <p>nexttag</p>
                                       </td>
                                       <td align="left" valign="top" width="52%" headers="d98925e3771 d98925e3682 ">
                                          <p><code class="codeph">&lt;A HREF=#ctx%NEXTNUM&gt;＆gt; &lt;/A&gt;</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-BCB23D01-73DE-4B77-8482-B5D4C6980061"><!-- --></a> starttag</dt>
                        <dd>
                           <p>指定<code class="codeph">MARKUP</code>插入的字符以指示突出显示的术语的开始。
                           </p>
                           <p>关于突出显示的单词的<tt>starttag，endtag，prevtag</tt>和<tt>nexttag</tt>的顺序如下：</p><pre class="oac_no_warn" dir="ltr">... prevtag starttag <span class="italic">word</span> endtag nexttag ...</pre></dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-3DFF46B5-DDD5-4AA2-8A6B-085FA94DD680"><!-- --></a> endtag</dt>
                        <dd>
                           <p>指定<code class="codeph">MARKUP</code>插入的字符以指示突出显示的术语的结尾。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-A23C6E27-2FCA-497B-BF85-053B3430FED3"><!-- --></a> prevtag</dt>
                        <dd>
                           <p>指定标记序列，该标记序列定义将用户导航到上一个突出显示的标记。</p>
                           <p>在标记序列<tt>prevtag</tt>和<tt>nexttag中</tt> ，您可以指定以下动态设置的偏移量变量：</p>
                           <div class="tblformal" id="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-381943E3-5D08-4800-AEAF-6097C1078E3C">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table shows offset variables and their values." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="29%" id="d98925e3835">偏移量变量</th>
                                       <th align="left" valign="bottom" width="71%" id="d98925e3838">值</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d98925e3843" headers="d98925e3835 ">
                                          <p><code class="codeph">％CURNUM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d98925e3843 d98925e3838 ">
                                          <p>当前的偏移号码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d98925e3851" headers="d98925e3835 ">
                                          <p><code class="codeph">％PREVNUM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d98925e3851 d98925e3838 ">
                                          <p>先前的偏移号</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d98925e3859" headers="d98925e3835 ">
                                          <p><code class="codeph">％NEXTNUM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d98925e3859 d98925e3838 ">
                                          <p>下一个偏移号码</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>有关示例<span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI">”tagset“</a> ”的信息，</span>请参阅<code class="codeph">HTML_NAVIGATE</code>的说明。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-7A7FB225-5563-4DF4-AFD8-2062E4472455"><!-- --></a> nexttag</dt>
                        <dd>
                           <p>指定标记序列，该标记序列定义将用户导航到下一个高亮标记的标记。</p>
                           <p>在标记序列中，您可以使用用于<tt>prevtag</tt>的相同偏移量变量。有关示例，请参阅<tt>prevtag</tt>的说明和<code class="codeph">HTML_NAVIGATE</code> <span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI">”</a></span> <code class="codeph">HTML_NAVIGATE</code> <span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9__BABDADEI">”</a></span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-1907C19F-E80D-4E3D-BFD8-535CDAD41876"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定文档的语言。使用Oracle Text支持的语言值，就像在基表的语言列中一样。请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-9ED0CA14-9DBC-428E-9274-278D8A34BD07"><!-- --></a>格式</dt>
                        <dd>
                           <p>指定文档的格式。使用Oracle Text支持的格式值，TEXT，BINARY或IGNORE，如您在基表的格式列中指定的那样。有关更多信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> ”中</span>的格式列说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-F36E9F64-F9B9-496F-8312-D2C26ED6CF4E"><!-- --></a>字符集</dt>
                        <dd>
                           <p>指定文档的字符集。使用Oracle Text支持的值，就像在基表的charset列中指定的那样。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-24A7DF95-CDA5-4062-82D5-6DFC45F736BF">过滤器类型</a> ”</span> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74E74073-E7E9-483E-91EB-C714F726E95A__GUID-FD38E9A1-78C4-4BD1-9773-F203BE481B94">限制</p>
                     <p><code class="codeph">CTX_DOC.POLICY_MARKUP</code>不支持使用查询模板。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF99092"></a><a id="CCREF99093"></a><a id="CCREF99027"></a><div class="props_rev_3"><a id="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4" name="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4"></a><h3 id="CCREF-GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4" class="sect3"><span class="enumeration_section">9.13</span> POLICY_NOUN_PHRASES</h3>
               <div>
                  <div class="section">
                     <p>提供从给定文档中提取名词短语以及每个名词短语中每个单词的词性信息的能力。</p>
                     <p>例如，请考虑以下句子：</p>
                     <p>“芝加哥市长正在举行简短的新闻发布会。”</p>
                     <p>此输入的名词短语是“芝加哥市长”和“简短的新闻发布会”。不返回输入文本中的子组。例如，在上面的例子中，不返回诸如“市长，芝加哥，简报，新闻发布会，新闻，会议”等子组。</p>
                     <div class="p">POLICY_NOUN_PHRASES（和<a href="CTX_DOC-package.html#GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD">POLICY_PART_OF_SPEECH</a> ）支持以下语言：<ul style="list-style-type:disc">
                           <li>
                              <p>荷兰人</p>
                           </li>
                           <li>
                              <p>英语</p>
                           </li>
                           <li>
                              <p>德语</p>
                           </li>
                           <li>
                              <p>法国</p>
                           </li>
                           <li>
                              <p>意大利</p>
                           </li>
                           <li>
                              <p>日本</p>
                           </li>
                           <li>
                              <p>朝鲜的</p>
                           </li>
                           <li>
                              <p>简体中文</p>
                           </li>
                           <li>
                              <p>西班牙语</p>
                           </li>
                           <li>
                              <p>繁体中文</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-FA973C22-3BBD-42D6-A8E4-662A5CABC6DA">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.policy_noun_phrases（varchar2中的policy_name，varchar2中的文档| CLOB，nocopy中的restab名词_phrase_tab，varchar2中的语言默认为NULL，varchar2中的格式默认为NULL，varchar2中的charset默认为NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-A9BF12B8-476B-4560-B1B8-B7BAF0D139E9"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-3AC1A9AC-652D-4431-8804-8C3020AA0EC1"><!-- --></a>文件</dt>
                        <dd>
                           <p>要提取语言的文本正文。假定文本是具有UTF-8字符编码的纯文本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-027BCB4D-620A-4D6C-A287-818217059170"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">CLOB</code>定位器的名称。
                           </p>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-88CD497C-DB99-406F-8E90-6B8438B9419E"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定语言。请参阅本节中支持的语言列表。如果此参数为null，则将自动检测语言。与语言检测相关的成本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-76A8388D-DA72-4ECF-818D-DF00889FC8A3"><!-- --></a>格式</dt>
                        <dd>
                           <p>输入文本的格式。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-B7D24A40-3A4D-4D33-B322-FBD336AED38A"><!-- --></a>字符集</dt>
                        <dd>
                           <p>输入文本的字符集。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-FB450444-84E0-45DC-BB70-D2D900F3CB24">用于POLICY_NOUN_PHRASES和POLICY_PART_OF_SPEECH的缩写</p>
                     <p><a href="CTX_DOC-package.html#GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__BABFEHAF" title="此表列出了词性缩写">表9-1</a>提供了在<code class="codeph">POLICY_NOUN_PHRASES</code>和<code class="codeph">POLICY_PART_OF_SPEECH</code>查询中使用的缩写列表。这些示例使用这些缩写。
                     </p>
                     <div class="tblformal" id="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__BABFEHAF">
                        <p class="titleintable">表9-1词性缩写</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="部分语音缩写" width="100%" border="1" summary="This table lists part of speech abbreviations" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d98925e4136">缩写</th>
                                 <th align="left" valign="bottom" width="69%" id="d98925e4139">演讲的一部分</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4144" headers="d98925e4136 ">
                                    <p>ñ</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4144 d98925e4139 ">
                                    <p>名词</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4151" headers="d98925e4136 ">
                                    <p>propN</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4151 d98925e4139 ">
                                    <p>nounProper</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4158" headers="d98925e4136 ">
                                    <p>V</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4158 d98925e4139 ">
                                    <p>动词</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4165" headers="d98925e4136 ">
                                    <p>ADJ</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4165 d98925e4139 ">
                                    <p>形容词</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4172" headers="d98925e4136 ">
                                    <p>进阶</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4172 d98925e4139 ">
                                    <p>副词</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4179" headers="d98925e4136 ">
                                    <p>预备</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4179 d98925e4139 ">
                                    <p>介词</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4186" headers="d98925e4136 ">
                                    <p>部分</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4186 d98925e4139 ">
                                    <p>粒子</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4193" headers="d98925e4136 ">
                                    <p>PUNCT</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4193 d98925e4139 ">
                                    <p>PUNCT</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4200" headers="d98925e4136 ">
                                    <p>临</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4200 d98925e4139 ">
                                    <p>代词</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4207" headers="d98925e4136 ">
                                    <p>瓦</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4207 d98925e4139 ">
                                    <p>interrog</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4214" headers="d98925e4136 ">
                                    <p>DET</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4214 d98925e4139 ">
                                    <p>确定</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4222" headers="d98925e4136 ">
                                    <p>连词</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4222 d98925e4139 ">
                                    <p>连词</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4229" headers="d98925e4136 ">
                                    <p>卡</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4229 d98925e4139 ">
                                    <p>numCardinal</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4236" headers="d98925e4136 ">
                                    <p>奥德</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4236 d98925e4139 ">
                                    <p>numOrdinal</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4243" headers="d98925e4136 ">
                                    <p>SUF</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4243 d98925e4139 ">
                                    <p>后缀</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4250" headers="d98925e4136 ">
                                    <p>预</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4250 d98925e4139 ">
                                    <p>字首</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4257" headers="d98925e4136 ">
                                    <p>ACR</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4257 d98925e4139 ">
                                    <p>nounAcronym</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4264" headers="d98925e4136 ">
                                    <p>POSS</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4264 d98925e4139 ">
                                    <p>POSS</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d98925e4271" headers="d98925e4136 ">
                                    <p>UNK</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d98925e4271 d98925e4139 ">
                                    <p>未知</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-9FE4501A-FE5A-4104-8AE1-D78EF336D1A9">POLICY__NOUN_PHRASES的示例</p>
                     <p>本节中的示例使用<a href="CTX_DOC-package.html#GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__BABFEHAF" title="此表列出了词性缩写">表9-1中</a>显示的缩写。
                     </p><pre class="oac_no_warn" dir="ltr">在创建或替换函数上设置serverout toString（b boolean）如果（b）则返回'TRUE'，则返回varchar2;万一;返回'FALSE';结束; / declare the_nps ctx_doc.noun_phrase_tab;开始ctx_ddl.create_preference（'rvlex'，'AUTO_LEXER'）; ctx_ddl.set_attribute（ 'rvlex'， 'mixed_case'， 'YES'）; ctx_ddl.set_attribute（ 'rvlex'， '暂停'，0）; ctx_ddl.create_policy（policy_name =&gt;'rv_policy_21'，lexer =&gt;'rvlex'）; ctx_doc.policy_noun_phrases（'rv_policy_21'，'芝加哥市长正在举行简短的新闻发布会'，the_nps）; DBMS_OUTPUT.PUT_LINE（the_nps.count）;对于i在1..the_nps.count循环if（the_nps（i）.is_phrase_start）然后if（i&gt; 1）然后dbms_output.put（']'）; dbms_output.new_line;万一; dbms_output.put（'Phrase {term，POS，is_in_lex，offset，len，is_phrase_ start}：['）; else dbms_output.put（'，'）;万一; dbms_output.put（'{'|| the_nps（i）.term ||'，'|| the_nps（i）.pos_tag ||'，'|| toString（the_nps（i）.is_in_lexicon）||'，'| | the_nps（i）.offset ||'，'|| the_nps（i）.length ||'，'|| toString（the_nps（i）.is_phrase_start）||'}'）;结束循环; dbms_output.put（ ']'）; dbms_output.new_line;结束; /</pre><p>此示例的输出：</p><pre class="oac_no_warn" dir="ltr">短语{term，POS，is_in_lex，offset，len，is_phrase_start}：[{The，Det，TRUE，1,3，TRUE}，{mayor，N，TRUE，5,5，FALSE}，{of，Prep，TRUE ，11,2，FALSE}，{Chicago，propN，TRUE，14,7，FALSE}短语{term，POS，is_in_lex，offset，len，is_phrase_start}：[{a，Det，TRUE，32,1，TRUE} ，{brief，N，TRUE，34,5，FALSE}，{press，N，TRUE，40,5，FALSE}，{conference，N，TRUE，46,10，FALSE}]</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__GUID-BFA5A6CF-6DA4-436F-8B07-2A028FB951CA">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD">POLICY_PART_OF_SPEECH</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF99028"></a><div class="props_rev_3"><a id="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD" name="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD"></a><h3 id="CCREF-GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD" class="sect3"><span class="enumeration_section">9.14</span> POLICY_PART_OF_SPEECH</h3>
               <div>
                  <div class="section">
                     <p>提取文本正文中每个单词的词性信息。</p>
                     <p><a href="CTX_DOC-package.html#GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4">POLICY_NOUN_PHRASES</a>包含受支持的语言列表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-E851D691-42BA-4844-8F31-65C9543EA777">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.policy_part_of_speech（varchar2中的policy_name，varchar2中的文档| CLOB，nocopy中的restab名词_phrase_tab，varchar2中的语言默认为NULL，varchar2中的格式为default NULL，varchar2中的charset默认为NULL，默认情况下为disambiguate_tags，默认为TRUE）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-FD45BF4E-618E-4CD5-9F01-797D33180131"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。如果指定的策略包含切片首选项，则API将遵循切片首选项。例如，如果指定了HTML分区，则在处理输入文档之前将删除HTML标记。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-84D0560C-4ECE-4AFE-B706-D3A766066C2B"><!-- --></a>文件</dt>
                        <dd>
                           <p>要提取语言的文本正文。假定文本是具有UTF-8字符编码的纯文本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-73E6EEB2-8123-4BA3-98B6-F13E348E42B6"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">CLOB</code>定位器的名称。查询返回一个表，其中包含名词短语提取的结果。对于每个单词，还会返回以下属性：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">pos_tags</code> ：这个单词的词性标签。可能存在多个语音标签，其中最可能的标签首先列出。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">offset</code> ：输入字符串中单词的<code class="codeph">offset</code>量</p>
                              </li>
                              <li>
                                 <p><code class="codeph">length</code> ：输入字符串中单词的长度。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">is_in_lexicon</code> ：指示单词是否在词典中。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-E1B0237B-8E59-4F7E-8622-D3D9275C0549"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定语言。请参阅本节中支持的语言列表。如果此参数为null，则将自动检测语言。与语言检测相关的成本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-83E19F9F-CDF3-4693-A561-8EC62A85CADC"><!-- --></a>格式</dt>
                        <dd>
                           <p>输入文本的格式。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-34DA27CE-DAED-45FE-BCF0-55D3AF6C2813"><!-- --></a>字符集</dt>
                        <dd>
                           <p>输入文本的字符集。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-3401AAE1-884A-47EB-B672-24C5FDE77708">POLICY_PART_OF_SPEECH的示例</p>
                     <p>本节中的示例使用<a href="CTX_DOC-package.html#GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4__BABFEHAF" title="此表列出了词性缩写">表9-1中</a>显示的缩写。
                     </p><pre class="oac_no_warn" dir="ltr">set serveroutput on;声明the_nps ctx_doc.part_of_speech_tab;开始ctx_doc.policy_part_of_speech（policy_name =&gt;'rv_policy_21'，document =&gt;'芝加哥市长正在举行简短的新闻发布会'，restab =&gt; the_nps，disambiguate_tags =&gt; false，language =&gt;'english'）; for in in 1..the_nps.count loop dbms_output.put（'word：'|| the_nps（i）.word ||'，pos：['）; for j in 1..the_nps（i）.pos_tags.count loop dbms_output.put（the_nps（i）.pos_tags（j）||'，'）;结束循环; DBMS_OUTPUT.PUT_LINE（ ']'）;结束循环;结束; /</pre><p>此示例的输出：</p><pre class="oac_no_warn" dir="ltr">单词：the，pos：[Det，]单词：mayor，pos：[N，]单词：of，pos：[Prep，]单词：Chicago，pos：[propN，]单词：is，pos：[V，]单词：give，pos：[N，V，Adj，]单词：a，pos：[Det，]单词：brief，pos：[N，V，Adj，]单词：按，pos：[N，V，]字：会议，POS：[N，V，]</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DF42F88-4D44-4D57-A7B0-7A3F8572DBFD__GUID-7F1F0BA3-EB1D-44E0-AECF-219D98E6EFE2">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-376899B3-9F8E-4123-A737-F1E0EF2995F4">POLICY_NOUN_PHRASES</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_ANL-package.html#GUID-59CD9964-E388-4D61-AD9C-128FC2BAD2EE__BABGAEJF" title="该表列出了POS语音部分和每个部分的描述。">表6-1</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23917"></a><a id="CCREF23918"></a><a id="CCREF2120"></a><div class="props_rev_3"><a id="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355" name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355"></a><h3 id="CCREF-GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355" class="sect3"><span class="enumeration_section">9.15</span> POLICY_SNIPPET</h3>
               <div>
                  <div class="section">
                     <p>在上下文中显示标记的关键字。返回的文本包含满足单词查询的单词或满足<code class="codeph">ABOUT</code>查询的主题。这个版本的CTX_DOC。 <a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a>程序不需要索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-E76E9AE4-152F-4C88-87B2-F873B7735181">句法</p>
                     <p>语法1</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.POLICY_SNIPPET（</pre><pre class="oac_no_warn" dir="ltr">policy_name IN VARCHAR2，文档IN [VARCHAR2 | CLOB | BLOB | BFILE]，text_query IN VARCHAR2，语言IN VARCHAR2默认为NULL，格式IN VARCHAR2默认为NULL，charset IN VARCHAR2默认为NULL，starttag IN VARCHAR2 DEFAULT'&lt;b&gt;'，endtag IN VARCHAR2 DEFAULT'&lt;/ b&gt;'，entity_translation IN BOOLEAN DEFAULT TRUE，separator IN VARCHAR2 DEFAULT'&lt;b&gt; ... &lt;/ b&gt;'radius IN INTEGER DEFAULT 25，max_length IN INTEGER DEFAULT 150）return varchar2;</pre><p>语法2</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.POLICY_SNIPPET_CLOB_QUERY（policy_name IN VARCHAR2，文档IN [VARCHAR2 | CLOB | BLOB | BFILE]，text_query IN CLOB，语言IN VARCHAR2默认为NULL，格式IN VARCHAR2默认为NULL，charset IN VARCHAR2默认为NULL，starttag IN VARCHAR2 DEFAULT'&lt;b &gt;'，endtag IN VARCHAR2 DEFAULT'&lt;/ b&gt;'，entity_translation IN BOOLEAN DEFAULT TRUE，separator IN VARCHAR2 DEFAULT'&lt;b&gt; ... &lt;/ b&gt;'radius IN INTEGER DEFAULT 25，max_length IN INTEGER DEFAULT 150）return varchar2 ;</pre><dl>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-BA6C8A05-F676-4DE8-88C7-4B1150306360"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略的名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-F9040527-2871-4DA4-A895-EA36B207855B"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定要在其中搜索关键字的文档。</p>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-E2927CCE-109A-4BA9-8384-862F3FDDB181"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定用于检索文档的原始查询表达式。如果为NULL，则不生成高亮显示。</p>
                           <p>如果<code class="codeph">text_query</code>包含通配符，词干，模糊匹配导致返回停用词，则<code class="codeph">POLICY_SNIPPET</code>不会突出显示停用词。
                           </p>
                           <p>如果<code class="codeph">text_query</code>包含阈值运算符，则忽略运算符。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-55E8ABD4-A3E8-464D-85A5-9220EF0D4695"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定文档的语言。使用Oracle Text支持的语言值，就像在基表的语言列中一样。请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-9FE812B7-278A-4A20-8C02-2CA992158CA4"><!-- --></a>格式</dt>
                        <dd>
                           <p>指定文档的格式。使用Oracle Text支持的格式值，TEXT，BINARY或IGNORE，如您在基表的格式列中指定的那样。有关更多信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> ”中</span>的格式列说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-973B81F4-7105-4EA9-A8A2-3C110A374D3A"><!-- --></a>字符集</dt>
                        <dd>
                           <p>指定文档的字符集。使用Oracle Text支持的值，就像在基表的charset列中指定的那样。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-24A7DF95-CDA5-4062-82D5-6DFC45F736BF">过滤器类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-BA13C06E-4A2C-4258-BD94-E205AD64E368"><!-- --></a> starttag</dt>
                        <dd>
                           <p>指定用于标记查询关键字的开始标记。默认为' <span class="italic">&lt;b&gt;</span> '。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-04C108BA-9AD7-4D8F-BB0C-C72711D9D870"><!-- --></a> endtag</dt>
                        <dd>
                           <p>指定用于标记查询关键字的结束标记。默认为' <span class="italic">&lt;/ b&gt;</span> '。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-CA2EAE7D-96BC-422D-B042-486ABEA7EFD6"><!-- --></a> entity_translation</dt>
                        <dd>
                           <p>指定是否要翻译HTML实体。默认值为TRUE，这意味着当过程输出时，特殊实体（ <span class="italic">&lt;</span> ， <span class="italic">&gt;</span>和<span class="italic">＆</span> ）将被转换为其替代形式（' <span class="italic">＆lt;</span> '，' <span class="italic">＆gt;</span> '和' <span class="italic">＆amp;</span> '）。但是， <code class="codeph">CTX_DOC.POLICY_SNIPPET</code>生成的标记标记中的特殊字符将不会被翻译。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-70E25D0B-45C3-4CE2-800B-A95254EF43F4"><!-- --></a>分隔符</dt>
                        <dd>
                           <p>指定分隔不同返回片段的字符串。默认为' <span class="italic">&lt;b&gt; ... &lt;/ b&gt;</span> '。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-4681F5AD-6568-482C-9AE0-B7C8C129413B"><!-- --></a>半径</dt>
                        <dd>
                           <p>指定要在段中的匹配查询的任一侧显示的字符数。命中查询之前的字符数开始于段中显示的第一个匹配查询的第一个字符。因此，命中查询之后的字符计数开始于特定段上显示的最后一个命中查询的最后一个字符。如果半径重叠，则将两个段合并为一个。每侧显示的字符数可以修改+/- 10个字符，以最好地匹配句子或单词的开头或结尾。</p>
                           <p>值<code class="codeph">0</code>需要特别注意。指定时，半径设置为自动，并在句子之间变化。显示结果的最佳猜测，尝试匹配完整的句子。请注意，匹配查询每一侧的半径长度很可能会显着不同。
                           </p>
                           <p>默认值为25。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-496B39D5-112A-4D4B-BE14-BF7DE430DC68"><!-- --></a> max_length</dt>
                        <dd>
                           <p>以字符指定代码段输出的最大长度。此值当前由CTX_DOC的当前返回类型限制。 <a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a>和CTX_DOC.POLICY_SNIPPET（VARCHAR2）。如果输出长于返回类型VARCHAR2，则结果将被截断。
                           </p>
                           <p>max_length的默认值为150。</p>
                           <div class="infoboxnote" id="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-1306A66C-082D-44CA-9EE9-643CCBEDD54E">
                              <p class="notep1">注意：</p>
                              <p>如果将<code class="codeph">max_length</code>值设置为非常低的值，则不会生成任何代码段。例如，如果<code class="codeph">max_length</code>设置为<code class="codeph">0</code>或者<code class="codeph">max_length</code>低于查询标记本身的长度，则根本不会生成任何片段。
                              </p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-971D120F-BD12-480A-A52E-CAE9E0B3CD0A">限制</p>
                     <p><code class="codeph">CTX_DOC.POLICY_SNIPPET</code>不支持使用查询模板。
                     </p>
                     <p><code class="codeph">CTX_DOC.POLICY_SNIPPET</code>当用于显示标记的上下文关键字<code class="codeph">NULL_SECTION_GROUP</code> 。但是，将此过程与XML文档一起使用时存在一些限制。与<code class="codeph">XML_SECTION_GROUP</code>或<code class="codeph">AUTO_SECTION_GROUP</code> ，将忽略XML结构并删除用户指定的标记，这会导致部分周围文本包含在返回的代码段中。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355__GUID-40C6FBFB-0B2C-4AEC-9E42-FF513EB7284E">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9">MARKUP</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24103"></a><div class="props_rev_3"><a id="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A" name="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A"></a><h3 id="CCREF-GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A" class="sect3"><span class="enumeration_section">9.16</span> POLICY_STEMS</h3>
               <div>
                  <div class="section">
                     <p>为文本正文中的每个单词提取词干。此过程适用于<a href="oracle-text-indexing-elements.html#GUID-71743C74-2B44-45D3-AE5E-3AF595200364">AUTO_LEXER</a> 。此过程只能使用AUTO_LEXER支持的语言，这些语言列在<span class="q">“ <a href="CTX_DOC-package.html#GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB">POLICY_LANGUAGES</a> ”下</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-A4E79F9E-EA59-4C01-A21F-4AE59148A0E9">句法</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.POLICY_STEMS（varchar2中的policy_name，varchar2中的文档| CLOB，nocopy中的restab ctx_doc.stem_group_tab，varchar2中的语言默认为NULL，varchar2中的格式为default NULL，varchar2中的charset默认为NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-F21CAE60-37F0-406D-AF75-133070C31E1F"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>以前使用CTX_DDL创建的策略。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a>方法。如果指定的策略包含<code class="codeph">HTML_SECTION_GROUP</code>切片首选项，则API将<code class="codeph">HTML_SECTION_GROUP</code>切片首选项。例如，如果指定了HTML分区，则在处理输入文档之前将删除HTML标记。
                           </p>
                           <p>请注意，策略必须仅使用AUTO_LEXER。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-26253D61-23E9-4D0E-9E1D-15EC41C42B41"><!-- --></a>文件</dt>
                        <dd>
                           <p>要提取语言的文本正文。假定文本是具有UTF-8字符编码的纯文本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-D2A0CCEF-5C51-4BDA-A5E8-009B3B1F7D18"><!-- --></a> restab</dt>
                        <dd>
                           <p>茎提取过程的结果。PL / SQL表中返回的值将为输入字符串文档中的每个单词提供一个单元格。每个单词可以是由词法分析器确定的多个单词。对于每个单词，返回所有词干（包括所有备用词干）。对于每个词干，返回词语的偏移量和长度（在输入字符串中）。此外，对于每个词干，返回一个布尔值，指示是否在词典中找到词干。</p>
                           <p><code class="codeph">stem_group_tab</code>是一个<code class="codeph">stem_group_records</code>表。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-A5B70A60-3D9D-4246-BE92-CAA84DC34FDB"><!-- --></a>语言</dt>
                        <dd>
                           <p>输入文本的语言。语言字符串可以是上一节语言提取中指定的值之一。如果此参数为null，则将自动检测语言。与语言检测相关的成本。因此，如果语言已知，则最好提供语言值。有关语言列表，请参阅<span class="q">“ <a href="CTX_DOC-package.html#GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB">POLICY_LANGUAGES</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-1B44C6FD-95B6-47D7-83C5-1962F6F145EA"><!-- --></a>格式</dt>
                        <dd>
                           <p>输入文本的格式。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-F89F8DC4-3804-430B-8D44-F67363E4A117"><!-- --></a>字符集</dt>
                        <dd>
                           <p>输入文本的字符集。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-20ECE8F3-B501-40F4-AEA4-1F3D64E73EB4">限制和注释</p>
                     <p>词干提取过程支持某些非标准词形式 - 例如大小写错误 - 以及标准形式，因此可用于处理非正式或不完美的文本（例如电子邮件，在线文档或查询）。它还处理文本中的一些变化，包括案例变化，连字符和非重音字符等。</p>
                     <p>词干提取过程不会破坏复合词，而是将复合词与＃字符分开。这种复合词在德语中很常见。例如，德语复合词<span class="italic">Bildungsroman</span> （来自Bildung“教育”和罗马“小说”）产生了一个词干Bildungs #roman而不是两个词干<span class="italic">Bildungs</span>和<span class="italic">roman</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-71504863-B58A-49BE-B8DD-7B33C3B4022A__GUID-F0D0AC70-E1FD-4D49-B352-7F93E7EB7521">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-5C7629CF-3FD4-43DB-8E61-62CB287D36BB">POLICY_LANGUAGES</a> ”</span></p>
                     <p><span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-71743C74-2B44-45D3-AE5E-3AF595200364">AUTO_LEXER</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2121"></a><div class="props_rev_3"><a id="GUID-173B409F-5A0F-4561-A540-37AE6A277F80" name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80"></a><h3 id="CCREF-GUID-173B409F-5A0F-4561-A540-37AE6A277F80" class="sect3"><span class="enumeration_section">9.17</span> POLICY_THEMES</h3>
               <div>
                  <div class="section">
                     <p>生成文档的主题列表。使用此过程，不需要<code class="codeph">CONTEXT</code>索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-A2363C29-5E42-47AA-83A5-B77DB43C4EF4">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.policy_themes（VARCHAR2中的policy_name，[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，nocopy theme_tab中的restab，BOOLEAN中的full_themes默认为FALSE，数量中的num_themes默认值为DNCHAR2中的50种语言，默认为NULL，VARCHAR2中的格式为NULL，charset在VARCHAR2中默认为NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-C25B468F-EF24-4811-A509-378DD122A0E3"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-18A43C1B-6B85-4785-B8E6-C00BA2FC1379"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定要为其生成主题列表的文档。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-63F99BB9-05AE-495F-AD4F-EF3C54619295"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">theme_tab</code> PL / SQL逐个表类型的名称。
                           </p>
                           <div class="infoboxnotealso" id="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-4913B7CF-84E7-498E-944B-5377CA02BDD4">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">theme_tab</code>类型结构的更多信息，请参阅<span class="q">“ <a href="CTX_DOC-package.html#GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886">主题</a> ”</span> 。
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-ECF1DE68-1A07-4CE9-82E1-6852A35A56A0"><!-- --></a> full_themes</dt>
                        <dd>
                           <p>指定此过程是为每个文档主题生成单个主题还是父主题的分层列表（完整主题）。</p>
                           <p>为此过程指定<code class="codeph">TRUE</code>以将完整主题写入结果表的<code class="codeph">THEME</code>列。
                           </p>
                           <p>为此过程指定<code class="codeph">FALSE</code>以将单个主题信息写入结果表的<code class="codeph">THEME</code>列。这是默认值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-4BCE0F7B-E711-4658-962C-AA5033B787D6"><!-- --></a> num_themes</dt>
                        <dd>
                           <p>指定要检索的最大主题数。例如，如果指定10，则为文档返回最多10个主题。默认值为50。</p>
                           <p>如果指定0或<code class="codeph">NULL</code> ，则此过程将返回文档中的所有主题。如果文档包含50个以上的主题，则只有前50个主题显示概念层次结构。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-60488970-D9CA-4D07-83DA-E6C9CA5FD2BB"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定文档的语言。使用Oracle Text支持的语言值，就像在基表的语言列中一样。请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-1E3470BE-B45C-4761-AF83-E4D64EBF27FD"><!-- --></a>格式</dt>
                        <dd>
                           <p>指定文档的格式。使用Oracle Text支持的格式值， <code class="codeph">TEXT</code> ， <code class="codeph">BINARY</code>或<code class="codeph">IGNORE</code>如您在基表的格式列中指定的那样。有关更多信息，请参阅<a href="oracle-text-SQL-statements-and-operators.html#GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB" title="本节描述CREATE SEARCH INDEX语句，因为它与创建JSON搜索索引有关。">Oracle Text SQL语句和操作</a>符中<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> ”</span>中的格式列描述。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-5077198C-A09C-4FD9-85C6-2ADEF3B78F3B"><!-- --></a>字符集</dt>
                        <dd>
                           <p>指定文档的字符集。使用Oracle Text支持的值，就像在基表的charset列中指定的那样。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-24A7DF95-CDA5-4062-82D5-6DFC45F736BF">过滤器类型</a> ”</span> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-173B409F-5A0F-4561-A540-37AE6A277F80__GUID-3FE5A453-CA6B-4E7D-AF3A-2B808E009931">例</p>
                     <p>制定政策：</p><pre class="oac_no_warn" dir="ltr">exec ctx_ddl.create_policy（'mypolicy'）;</pre><p>运行主题：</p><pre class="oac_no_warn" dir="ltr">声明la varchar2（200）; rtab ctx_doc.theme_tab;开始ctx_doc.policy_themes（'mypolicy'，'定义真正的疯狂，什么是不是只是疯了？'，rtab）; for in 1..rtab.count loop dbms_output.put_line（rtab（i）.theme ||'：'|| rtab（i）.weight）;结束循环;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2122"></a><div class="props_rev_3"><a id="GUID-74625382-FB75-452C-A2B3-854A6696C2E5" name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5"></a><h3 id="CCREF-GUID-74625382-FB75-452C-A2B3-854A6696C2E5" class="sect3"><span class="enumeration_section">9.18</span> POLICY_TOKENS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-042AFE41-7588-43CF-BA9B-92FA6AF2C394"></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>生成文档的所有索引标记。使用此过程，不需要<code class="codeph">CONTEXT</code>索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-3BAA3094-C6B4-4931-B934-CDE3D852160C">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.policy_tokens（VARCHAR2中的policy_name，[VARCHAR2 | CLOB | BLOB | BFILE]中的文档，nocopy token_tab中的restab，VARCHAR2中的语言默认为NULL，VARCHAR2中的格式为NULL，VARCHAR2中的charset默认为NULL，VARCHAR2中的thes_name默认为NULL， VARCHAR2中的thes_toktype默认为'SYN'）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-84431982-A13E-4CF1-ABDD-6692857A746A"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定使用CTX_DDL创建的策略名称。 <a href="CTX_DDL-package.html#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-6F628A5C-D896-4A34-867F-FC6F8D5A7424"><!-- --></a>文件</dt>
                        <dd>
                           <p>指定要为其生成令牌的文档。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-51356A51-D793-4D5E-8BA9-EA4ABD77C9E5"><!-- --></a> restab</dt>
                        <dd>
                           <p>指定<code class="codeph">token_tab</code> PL / SQL逐个表类型的名称。
                           </p>
                           <p>返回的标记是插入到文档索引中的标记。不返回停用词。不返回节标记，因为它们不是文本标记。</p>
                           <div class="infoboxnotealso" id="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-10D59110-7ED8-47C6-B705-DBBE4FDB3393">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">token_tab</code>类型结构的更多信息，请参阅本章的<span class="q">“ <a href="CTX_DOC-package.html#GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71">TOKENS</a> ”</span></p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-41BC4712-7A5F-4F0C-BB92-185BB4129C3B"><!-- --></a>语言</dt>
                        <dd>
                           <p>指定文档的语言。使用Oracle Text支持的语言值，就像在基表的语言列中一样。请参阅<a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="使用SENTIMENT_CLASSIFIER类型为情绪分析查询创建首选项。该分类器指定与用户定义的情绪分类器偏好相关联的偏好。在使用CTX_CLS.SA_TRAIN_MODEL过程训练用户定义的情绪分类器之前，必须定义此类型的首选项。从Oracle Database Release 18c开始，对于单字节字符集，索引标记最大大小增加到255个字符。">Oracle Text Indexing Elements中的</a> <span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-93B17833-A046-468C-BE5F-2BD09A61935C">MULTI_LEXER</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-144CA596-5790-480C-ABB8-85C65C645CD7"><!-- --></a>格式</dt>
                        <dd>
                           <p>指定文档的格式。使用Oracle Text支持的格式值，TEXT，BINARY或IGNORE，如您在基表的格式列中指定的那样。有关更多信息，请参阅<span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> ”中</span>的格式列说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-3059969C-4A85-4DD1-B500-1F6E008D3388"><!-- --></a>字符集</dt>
                        <dd>
                           <p>指定文档的字符集。使用Oracle Text支持的值，就像在基表的charset列中指定的那样。请参阅<span class="q">“ <a href="oracle-text-indexing-elements.html#GUID-24A7DF95-CDA5-4062-82D5-6DFC45F736BF">过滤器类型</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-C2F7DC08-E03B-4F95-9AF0-C76190D570F0"><!-- --></a> thes_name</dt>
                        <dd>
                           <p>指定同义词库名称。如果未指定名称，则不会生成索引标记的同义词或更广泛的术语。</p>
                           <p>要使用系统默认同义词库，请指定<code class="codeph">DEFAULT</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-65395223-973F-45BC-B60D-4CA2AB402E69"><!-- --></a> thes_toktype</dt>
                        <dd>指定<code class="codeph">SYN</code>以生成同义词。或者，指定<code class="codeph">BT</code>以生成更广泛的索引令牌。默认情况下，仅生成同义词。要使用此参数，必须首先使用<code class="codeph">thes_name</code>参数指定同义词库名称。
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-F5F51F05-B3F7-4C68-A5D3-550CB8E7666A">例1</p>
                     <p>拿到令牌：</p><pre class="oac_no_warn" dir="ltr">声明la varchar2（200）; rtab ctx_doc.token_tab;开始ctx_doc.policy_tokens（'mypolicy'，'定义真正的疯狂，什么是不是只是疯了？”，RTAB）; for in 1..rtab.count loop dbms_output.put_line（rtab（i）.offset ||'：'|| rtab（i）.token）;结束循环;结束;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74625382-FB75-452C-A2B3-854A6696C2E5__GUID-1770196B-5D6B-4795-814A-B6AD07A333A8">例2</p>
                     <p>此示例使用词库支持生成标记的同义词：</p><pre class="oac_no_warn" dir="ltr">声明rtab ctx_doc.token_tab;开始ctx_doc.policy_tokens（'mypolicy'，'懒狗'，rtab，thes_name =&gt;'动物'）; for 1 in 1..rtab.count loop dbms_output.put_line（rtab（i）.token ||'a'|| rtab（i）.thes_tokens）;结束循环;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E" name="GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E"></a><h3 id="CCREF-GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E" class="sect3"><span class="enumeration_section">9.19</span>情感</h3>
               <div>
                  <p>使用此过程可对文档执行情绪分析，确定文档中每个主题的情绪分数，并将结果填充到结果表中。</p>
                  <div class="section">
                     <p></p>
                     <p>此过程的必需输入包括与文档集关联的文本索引的名称和文本键，文本键是标识每个文档的唯一标识符。在执行情绪分类之后，将来自文档的文本片段及其相关的情绪分数填充到结果表中。情绪分数是介于-100和100之间的值。</p>
                     <p>在运行此过程之前，结果表必须存在。如果结果表不存在或指定的主题为null，则返回错误。</p>
                     <p>如果文档中不存在指定的主题，则会将默认的片段和情感分数写入结果表中。如果未指定情绪分类器，则使用默认情绪分类器。默认分类器仅在使用<code class="codeph">AUTO_LEXER</code>时<code class="codeph">AUTO_LEXER</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E__GUID-80379365-B424-4672-92CF-027922E9FE2F">句法</p><pre class="pre codeblock"><code>SENTIMENT（index_name IN VARCHAR2，主题IN VARCHAR2，主题IN VARCHAR2，restab IN VARCHAR2，clsfier_name IN VARCHAR2默认为NULL，ttype IN VARCHAR2默认为'EXACT'，radius IN NUMBER默认为50，max_inst IN NUMBER默认为5，starttag IN VARCHAR2默认为'' ，endtag IN VARCHAR2默认为''，use_saved_copy IN NUMBER默认为0）;</code></pre><div class="p"><code class="codeph">SENTIMENT</code>中的大多数参数也用于<code class="codeph">SENTIMENT_AGGREGATE</code> 。有关<code class="codeph">SENTIMENT</code>和<code class="codeph">SENTIMENT_AGGREGATE</code>常用参数的说明，请参阅<a href="CTX_DOC-package.html#GUID-F1588275-38FF-4515-BD39-DD67C98444CB" title="使用此过程执行情绪分析并返回每个文档的单个聚合情绪分数。总体情绪分数是介于-100和100之间的值。">SENTIMENT_AGGREGATE</a> 。<dl class="1.00* 3.00*">
                           <dt class="dlterm"><a name="GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E__GUID-AE3E4981-AE17-4875-9707-D8C570CE26EB"><!-- --></a> restab</dt>
                           <dd>
                              <p>指定将使用生成的结果填充的结果表的名称。该表必须存在，并且您必须对表具有<code class="codeph">INSERT</code>权限。该表必须包含两列，数据类型为<code class="codeph">CLOB</code> <code class="codeph">snippet</code>和数据类型为<code class="codeph">NUMBER</code> <code class="codeph">score</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E__GUID-F744F062-4F26-4D51-B35E-EFF7BB56130C"><!-- --></a> starttag</dt>
                           <dd>
                              <p>指定要插入的字符以指示突出显示的术语的开头。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E__GUID-BB1F17A0-C69F-44E4-B473-BF94D750190D"><!-- --></a> endtag</dt>
                           <dd>
                              <p>指定要插入的字符以指示突出显示的术语的结尾。</p>
                           </dd>
                        </dl>
                     </div>
                     <div class="infoboxnotealso" id="GUID-539DCA29-C32C-4749-9C0E-EE57EAC42A6E__GUID-26BC8111-63DB-4F61-882A-21EB51829673">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用<code class="codeph">SENTIMENT</code>过程的示例，请参阅<a href="../ccapp/performing-sentiment-analysis-using-oracle-text.html#CCAPP-GUID-B18361E3-7A3E-4AA7-B96E-80F99247986D" target="_blank"><span><cite>Oracle Text Application Developer's Guide</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-F1588275-38FF-4515-BD39-DD67C98444CB" name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB"></a><h3 id="CCREF-GUID-F1588275-38FF-4515-BD39-DD67C98444CB" class="sect3"><span class="enumeration_section">9.20</span> SENTIMENT_AGGREGATE</h3>
               <div>
                  <p>使用此过程执行情绪分析并返回每个文档的单个聚合情绪分数。总体情绪分数是介于-100和100之间的值。</p>
                  <div class="section">
                     <p></p>
                     <p>您将搜索关键字指定为文本查询的一部分，然后识别与文档中的主题相关联的情绪。</p>
                     <p>此过程的必需输入包括与文档集关联的文本索引的名称和文本键，文本键是标识每个文档的唯一标识符。如果未指定情绪分类器，则使用默认情绪分类器。默认分类器仅在使用<code class="codeph">AUTO_LEXER</code>时<code class="codeph">AUTO_LEXER</code> 。</p>
                     <p>如果在文档中找不到指定的主题关键字，则返回零情绪分数。如果未指定主题，则返回整个文档的聚合情绪分数。</p>
                     <div class="infoboxnote" id="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-543DE238-DF9F-4F4F-B96D-18103AE85600">
                        <p class="notep1">注意：</p>
                        <p>避免将<code class="codeph">AUTO_LEXER</code>与用户定义的分类器一起使用，因为这可能会提供不一致的情绪分数。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-9C87BC8E-5E68-4279-A3A9-0F7AE7F33821">句法</p><pre class="pre codeblock"><code>SENTIMENT_AGGREGATE（index_name IN VARCHAR2，textkey IN VARCHAR2，主题IN VARCHAR2默认为NULL，clsfier_name IN VARCHAR2默认为NULL，ttype IN VARCHAR2默认为'EXACT'，radius IN NUMBER默认为50，max_inst IN NUMBER默认为5，use_saved_copy IN NUMBER默认为0）返回NUMBER ;</code></pre><dl class="0.99* 3.01*">
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-AE3E4981-AE17-4875-9707-D8C570CE26EB"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定文本列的<code class="codeph">CONTEXT</code>索引的名称。此参数是必需的。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-F744F062-4F26-4D51-B35E-EFF7BB56130C"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。<code class="codeph">textkey</code>是必需的，是单列主键值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-BB1F17A0-C69F-44E4-B473-BF94D750190D"><!-- --></a> clsfier_name</dt>
                        <dd>
                           <p>指定用于执行情绪分析的情绪分类器的名称。分类器名称支持的最大长度为24个字节。如果未指定分类器名称，则使用默认分类器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-C5351C8F-383C-4BB5-B519-4934749AB4BA"><!-- --></a>主题</dt>
                        <dd>指定必须为此文档生成情感分数的主题。如果未指定主题，则生成整个文档的情绪分数。</dd>
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-5BDD9548-F165-40F9-8C2E-2AB6E0A39461"><!-- --></a> ttype</dt>
                        <dd>指定要为此文档执行的搜索类型：<ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">EXACT:</code>表示必须在文档中搜索指定的搜索关键字。这是默认设置。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ABOUT:</code>表示必须使用同义词库来查找与搜索关键字相关的单词。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-67158CAA-6CA1-4D7E-8B05-E2CE3BE14C62"><!-- --></a>半径</dt>
                        <dd>
                           <p>指定在情绪分类期间要分析的周围文本的半径。默认值为50。</p>
                           <p>用于分析的确切文本数量因具体情况而异，因为Oracle Text会尝试根据附近的主题关键字，单词边界和句子边界找到最佳匹配文本段。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-8CB53E97-3DBE-4FA5-A290-82740DEDA7BD"><!-- --></a> max_inst</dt>
                        <dd>指定必须分析的<code class="codeph">topic</code>的最大实例/出现次数。此参数的默认值为5。
                        </dd>
                        <dt class="dlterm"><a name="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-31516EA7-995B-45D4-82DC-21619B097402"><!-- --></a> use_saved_copy</dt>
                        <dd>指定是否引用<code class="codeph">$D</code>表来获取文档的副本，以及当<code class="codeph">$D</code>表中的文档副本不可用时要采取的操作。此参数的默认值为零。
                        </dd>
                     </dl>
                     <div class="infoboxnotealso" id="GUID-F1588275-38FF-4515-BD39-DD67C98444CB__GUID-E720743B-CB9A-407E-B46C-5BA3AAD7AD27">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用<code class="codeph">SENTIMENT_AGGREGATE</code>过程的示例，请参阅<a href="../ccapp/performing-sentiment-analysis-using-oracle-text.html#CCAPP-GUID-B18361E3-7A3E-4AA7-B96E-80F99247986D" target="_blank"><span><cite>Oracle Text Application Developer's Guide</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF0714"></a><div class="props_rev_3"><a id="GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A" name="GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A"></a><h3 id="CCREF-GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A" class="sect3"><span class="enumeration_section">9.21</span> SET_KEY_TYPE</h3>
               <div>
                  <div class="section">
                     <p>使用此过程将<code class="codeph">CTX_DOC</code>过程设置为接受<code class="codeph">ROWID</code>或<code class="codeph">PRIMARY_KEY</code>文档标识符。此设置仅影响调用会话。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A__GUID-B51BD8FD-4D23-4D09-96B9-849798303FFB">句法</p><pre class="oac_no_warn" dir="ltr">ctx_doc.set_key_type（varchar2中的key_type）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A__GUID-FEA6DBF2-4544-4856-A38D-867301214CD9"><!-- --></a> key_type</dt>
                        <dd>
                           <p>指定<code class="codeph">ROWID</code>或<code class="codeph">PRIMARY_KEY</code>作为<code class="codeph">CTX_DOC</code>过程的输入密钥类型（文档标识符）。
                           </p>
                           <p>此参数默认为<code class="codeph">CTX_DOC_KEY_TYPE</code>系统参数的值。
                           </p>
                           <div class="infoboxnote" id="GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A__GUID-3CAE0F0D-4E1D-43A8-8647-9FDBD44E2E77">
                              <p class="notep1">注意：</p>
                              <p>如果基表没有主键，则忽略将key_type设置为<code class="codeph">PRIMARY_KEY</code> 。您为任何<code class="codeph">CTX_DOC</code>过程指定的textkey参数将被解释为<code class="codeph">ROWID</code> 。</p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A__GUID-28B7C54A-BD87-455C-83EF-1E3D2AA67C5B">例</p>
                     <p>以下示例将<code class="codeph">CTX_DOC</code>过程设置为接受主键文档标识符。
                     </p><pre class="oac_no_warn" dir="ltr">开始ctx_doc.set_key_type（'PRIMARY_KEY'）;结束</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23919"></a><a id="CCREF23920"></a><a id="CCREF2123"></a><div class="props_rev_3"><a id="GUID-07604453-9C9A-45EB-BF43-8CD565379F22" name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22"></a><h3 id="CCREF-GUID-07604453-9C9A-45EB-BF43-8CD565379F22" class="sect3"><span class="enumeration_section">9.22</span> SNIPPET</h3>
               <div>
                  <div class="section">
                     <p>使用<code class="codeph">CTX_DOC.SNIPPET</code>过程生成一致性<a id="d98925e5927" class="indexterm-anchor"></a>一份文件。代码段的输出是段的集合。一致性是一个文本片段，其中包含带有某些周围文本的查询词。这有时也被称为上下文中的关键词或KWIC <a id="d98925e5930" class="indexterm-anchor"></a><a id="d98925e5932" class="indexterm-anchor"></a> ，因为它返回在其周围文本中标记的查询关键字，这使用户能够在上下文中评估它们。返回的文本还可以包含满足<code class="codeph">ABOUT</code>查询的主题。
                     </p>
                     <p>例如，对<span class="italic">brillig</span>和<span class="italic">slithey</span>的搜索可能会返回文档的一个相关片段，如下所示：</p><pre class="oac_no_warn" dir="ltr">'Twas &lt;b&gt; brillig &lt;/ b&gt;，&lt;b&gt; slithey &lt;/ b&gt; toves做了旋转和</pre><p><code class="codeph">CTX_DOC.SNIPPET</code>为包含查询字词的文档返回一个或多个最相关的片段。因为<code class="codeph">CTX_DOC.SNIPPET</code>返回周围的文本，所以您可以立即评估返回的术语的<code class="codeph">CTX_DOC.SNIPPET</code> 。如果未标记返回文本中的单词， <code class="codeph">CTX_DOC.SNIPPET</code>将返回整个文档。
                     </p>
                     <p>请注意，对于在查询时具有主要用于过滤文档的谓词的查询，在<code class="codeph">SNIPPET</code>生成期间将忽略谓词。以下谓词被视为用于此目的的过滤谓词： <code class="codeph">SDATA</code> ， <code class="codeph">HASPATH</code>和<code class="codeph">WITHIN</code> / <code class="codeph">INPATH</code>在xml属性中搜索。
                     </p>
                     <div class="infoboxnotealso" id="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-B4BA7C65-221A-4FA0-B8B0-F850B95953CD">
                        <p class="notep1">也可以看看：</p>
                        <p>CTX_DOC。 <a href="CTX_DOC-package.html#GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355">POLICY_SNIPPET</a>用于此过程的基于策略的版本</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-17BBFC69-2489-438B-B2DB-6868C2733F9D">句法</p>
                     <p>语法1</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.SNIPPET（</pre><pre class="oac_no_warn" dir="ltr">index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN VARCHAR2，starttag IN VARCHAR2 DEFAULT'&lt;b&gt;'，endtag IN VARCHAR2 DEFAULT'&lt;/ b&gt;'，entity_translation IN BOOLEAN DEFAULT TRUE，separator IN VARCHAR2 DEFAULT'&lt;b&gt; ... &lt;/ b&gt;'，radius IN INTEGER DEFAULT 25，max_length IN INTEGER DEFAULT 250 use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK return varchar2）;</pre><p>语法2</p><pre class="oac_no_warn" dir="ltr">exec CTX_DOC.SNIPPET_CLOB_QUERY（index_name IN VARCHAR2，textkey IN VARCHAR2，text_query IN CLOB，starttag IN VARCHAR2 DEFAULT'&lt;b&gt;'，endtag IN VARCHAR2 DEFAULT'&lt;/ b&gt;'，entity_translation IN BOOLEAN DEFAULT TRUE，separator IN VARCHAR2 DEFAULT'&lt; b&gt; ... &lt;/ b&gt;'，radius IN INTEGER DEFAULT 25，max_length IN INTEGER DEFAULT 250 use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK return varchar2）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-2A2EF9F7-8A24-427D-B735-EFD3DAE58BFF"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定文本列的索引名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-BA586C12-2184-4195-AAE3-DA60689EB4B6"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。</p>
                           <p><tt>textkey</tt>参数可以如下：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单列主键值</p>
                        </li>
                        <li>
                           <p>复合（多列）主键的编码规范。当textkey是复合键时，必须使用<code class="codeph">CTX_DOC.PKENCODE</code>过程对复合textkey字符串进行编码。
                           </p>
                        </li>
                        <li>
                           <p>包含文档的行的rowid</p>
                        </li>
                     </ul>
                     <p>使用<code class="codeph">CTX_DOC.SET_KEY_TYPE</code>在主键和rowid标识之间切换。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-4B531D21-006F-4A08-8AF0-C08E6F5D14CF"><!-- --></a> text_query</dt>
                        <dd>
                           <p>指定用于检索文档的原始查询表达式。如果为NULL，则不生成高亮显示。</p>
                           <p>如果<code class="codeph">text_query</code>包含通配符，词干，模糊匹配导致返回停用词，则<code class="codeph">SNIPPET</code>不会突出显示停用词。
                           </p>
                           <p>如果<code class="codeph">text_query</code>包含阈值运算符，则忽略运算符。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-23BBAE8B-4AD7-4A53-8AEC-72DFD9CF39AA"><!-- --></a> starttag</dt>
                        <dd>
                           <p>指定用于标记查询关键字的开始标记。默认为' <span class="italic">&lt;b&gt;</span> '。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-4BD63795-C7EA-4A61-8FE2-6C5C52A45CE1"><!-- --></a> endtag</dt>
                        <dd>
                           <p>指定用于标记查询关键字的结束标记。默认为' <span class="italic">&lt;/ b&gt;</span> '。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-289A1DA7-8456-4EA8-B4BF-52F4EC8DEE41"><!-- --></a> entity_translation</dt>
                        <dd>
                           <p>指定是否要翻译HTML实体。默认值为TRUE，这意味着当过程输出时，特殊实体（ <span class="italic">&lt;</span> ， <span class="italic">&gt;</span>和<span class="italic">＆</span> ）将被转换为其替代形式（' <span class="italic">＆lt;</span> '，' <span class="italic">＆gt;</span> '和' <span class="italic">＆amp;</span> '）。但是， <code class="codeph">CTX_DOC.SNIPPET</code>生成的标记标记中的特殊字符将不会被翻译。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-925D0ABF-363E-4657-BA9E-CE2326710F41"><!-- --></a>分隔符</dt>
                        <dd>
                           <p>指定分隔不同返回片段的字符串。默认为' <span class="italic">&lt;b&gt; ... &lt;/ b&gt;</span> '。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-FF259C9B-F37E-48F9-9A3A-594A62D3D114"><!-- --></a>半径</dt>
                        <dd>
                           <p>指定要在段中的匹配查询的任一侧显示的字符数。命中查询之前的字符数开始于段中显示的第一个匹配查询的第一个字符。因此，命中查询之后的字符计数开始于特定段上显示的最后一个命中查询的最后一个字符。如果半径重叠，则将两个段合并为一个。每侧显示的字符数可以修改+/- 10个字符，以最好地匹配句子或单词的开头或结尾。</p>
                           <p>值<code class="codeph">0</code>需要特别注意。指定时，半径设置为自动，并在句子之间变化。显示结果的最佳猜测，尝试匹配完整的句子。请注意，匹配查询每一侧的半径长度很可能会显着不同。
                           </p>
                           <p>默认值为25。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-8CD3DACC-A7A3-4AB2-9E71-633D396980CD"><!-- --></a> max_length</dt>
                        <dd>
                           <p>以字符指定代码段输出的最大长度。此值当前由CTX_DOC的当前返回类型限制。 <a href="CTX_DOC-package.html#GUID-07604453-9C9A-45EB-BF43-8CD565379F22">SNIPPET</a>和CTX_DOC。 <a href="CTX_DOC-package.html#GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355">POLICY_SNIPPET</a> （VARCHAR2）。如果输出长于返回类型VARCHAR2，则结果将被截断。max_length的默认值为250。
                           </p>
                           <p>如果将<code class="codeph">max_length</code>值设置为非常低的值，则不会生成任何代码段。例如，如果<code class="codeph">max_length</code>设置为<code class="codeph">0</code>或者<code class="codeph">max_length</code>低于查询标记本身的长度，则根本不会生成任何片段。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-07F4BFA7-124D-4D5C-A9FD-94B8A7E57A33"><!-- --></a> use_saved_copy</dt>
                        <dd>
                           <p>指定是否引用$ D表来获取文档的副本，以及在$ D表中没有文档副本时要采取的操作。默认值为<code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> 。</p>
                           <p>您可以为<code class="codeph">use_saved_copy</code>参数指定以下值之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则从数据存储中获取该文档。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_DOC.SAVE_COPY_ERROR</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则显示错误消息。如果要在$ D表中没有文档副本时实现特定的回退逻辑，请指定此值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_DOC.SAVE_COPY_IGNORE</code> ：始终从数据存储中获取文档。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-03620465-AE4C-449A-A51C-6744A447272B">例</p><pre class="oac_no_warn" dir="ltr">create table tdrbhk01（id number primary key，text varchar2（4000））;插入到tdrbhk01值（1，'Oracle Text为Oracle数据库增加了强大的搜索和智能文本管理功能。完成。您可以使用任何语言搜索和管理150多种格式的文档，网页，目录条目。提供完整的文本查询语言和完整的角色支持。简单。您可以使用SQL索引和搜索文本。可以使用Oracle Enterprise Manager（一种GUI工具）完成Oracle Text Management。快速。您可以使用数据库的强大功能和可扩展性搜索数百万个文档，文档，网页，目录条目。智能。Oracle Text独特的知识库使您能够根据文本的含义及内容搜索，分类，管理文档，集群和汇总文本。“）;在tdrbhk01（text）上创建索引tdrbhk01x indextype是ctxsys.context;创建或替换函数my_snippet_wrapper（varchar2中的键，varchar2中的查询，数字中的半径，数字中的max_length）return varchar2是buff varchar2（4000）; begin buff：= ctx_doc.snippet（'tdrbhk01x'，key，query，'&lt;b&gt;'，'&lt;b&gt;'，true，'&lt;b&gt; .. &lt;b&gt;'，radius，max_length）;返回buff;结束; /显示错误;从dual中选择my_snippet_wrapper（'1'，'Oracle'，10,100）;</pre><p>结果看起来像这样：</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.SNIPPET（'TDRBHK01X'，'1'，'SEARCH | CLASSIFY'）-------------------------------- ---------------------------------------- Text的独特知识库使您能够&lt;b &gt;搜索&lt;/ b&gt;，&lt;b&gt;分类&lt;/ b&gt;，管理文档，群集和摘要</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-BE6D9113-245B-4415-B8C3-B04931F93331">限制</p>
                     <p><code class="codeph">CTX_DOC.SNIPPET</code>不支持使用查询模板。
                     </p>
                     <p><code class="codeph">CTX_DOC.SNIPPET</code>当用于显示标记的上下文关键字<code class="codeph">NULL_SECTION_GROUP</code> 。但是，将此过程与XML文档一起使用时存在一些限制。与<code class="codeph">XML_SECTION_GROUP</code>或<code class="codeph">AUTO_SECTION_GROUP</code> ，将忽略XML结构并删除用户指定的标记，这会导致部分周围文本包含在返回的代码段中。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-07604453-9C9A-45EB-BF43-8CD565379F22__GUID-3C914692-7E78-4CDD-B771-81122C693C93">相关话题</p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-F0EC7547-A6AF-40EB-A5AE-5F59367EE355">POLICY_SNIPPET</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-719549AC-234D-4BC4-B3E0-605F8C6EB511">亮点</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DOC-package.html#GUID-F1A960BD-70E6-4BAC-B194-717B37F803D9">MARKUP</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23921"></a><a id="CCREF23922"></a><a id="CCREF23923"></a><a id="CCREF23924"></a><a id="CCREF0716"></a><div class="props_rev_3"><a id="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886" name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886"></a><h3 id="CCREF-GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886" class="sect3"><span class="enumeration_section">9.23</span>主题</h3>
               <div>
                  <div class="section">
                     <p>使用<code class="codeph">CTX_DOC.THEMES</code>过程生成文档的主题列表。您可以将每个主题作为一行存储在结果表或指定的内存中PL / SQL表中。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-78587FAD-9AB0-4F6B-84D8-93ADB4F26E49">语法1：内存表存储</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.THEMES（</pre><pre class="oac_no_warn" dir="ltr">index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN OUT NOCOPY THEME_TAB，full_themes IN BOOLEAN DEFAULT FALSE，num_themes IN NUMBER DEFAULT 50，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-A29620BA-F5A2-4835-9E92-1E816C67FDDA">语法2：结果表存储</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.THEMES（</pre><pre class="oac_no_warn" dir="ltr">index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN VARCHAR2，query_id IN NUMBER DEFAULT 0，full_themes IN BOOLEAN DEFAULT FALSE，num_themes IN NUMBER DEFAULT 50，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-A40EAFA2-ADCB-4168-AACF-6FC6BF42D3FA"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定文本列的索引名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-06A4DDC3-E263-4565-A055-AA6A78842D5F"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。</p>
                           <p><tt>textkey</tt>参数可以如下：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单列主键值</p>
                        </li>
                        <li>
                           <p>复合（多列）主键的编码规范。当textkey是复合键时，必须使用<code class="codeph">CTX_DOC.PKENCODE</code>过程对复合<tt>textkey</tt>字符串进行编码。
                           </p>
                        </li>
                        <li>
                           <p>包含文档的行的rowid</p>
                        </li>
                     </ul>
                     <p>使用<code class="codeph">CTX_DOC.SET_KEY_TYPE</code>在主键和rowid标识之间切换。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-2135E762-E021-41E5-8C5A-953B9B805FF2"><!-- --></a> restab</dt>
                        <dd>
                           <p>您可以指定此过程以将结果存储到表或内存中的PL / SQL表。</p>
                           <p>要将结果存储在表中，请指定表的名称。</p>
                           <div class="infoboxnotealso" id="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-D0749AC5-2F03-4186-8184-114365996382">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75">Oracle文本结果表中的</a> <span class="q">“ <a href="oracle-text-result-tables.html#GUID-C1E30F78-91DF-4A69-93F2-801E0147582D">主题表</a> ”</span></p>
                           </div>
                           <p>要将结果存储在内存表中，请指定<code class="codeph">THEME_TAB</code>类型的内存中表的<code class="codeph">THEME_TAB</code> 。 <code class="codeph">THEME_TAB</code>数据类型定义如下：</p><pre class="oac_no_warn" dir="ltr">type theme_rec是record（theme varchar2（2000），weight number）; type theme_tab是binary_integer的theme_rec索引表;</pre><p><code class="codeph">CTX_DOC.THEMES</code>清除操作前指定的<code class="codeph">THEME_TAB</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-E7CBCA09-61AD-4476-B743-24F456DAD1EC"><!-- --></a> query_id</dt>
                        <dd>
                           <p>指定用于标识插入<tt>restab</tt>的行的<tt>标识符</tt> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-759D6CAD-6F98-4774-9BBE-F0124BD9967F"><!-- --></a> full_themes</dt>
                        <dd>
                           <p>指定此过程是为每个文档主题生成单个主题还是父主题的分层列表（完整主题）。</p>
                           <p>为此过程指定<code class="codeph">TRUE</code>以将完整主题写入结果表的<code class="codeph">THEME</code>列。
                           </p>
                           <p>为此过程指定<code class="codeph">FALSE</code>以将单个主题信息写入结果表的<code class="codeph">THEME</code>列。这是默认值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-42641E48-565F-42DD-A4CD-114E8FDB89F9"><!-- --></a> num_themes</dt>
                        <dd>
                           <p>指定要检索的最大主题数。例如，如果指定10，则最多为文档返回前10个主题。默认值为50。</p>
                           <p>如果指定0或<code class="codeph">NULL</code> ，则此过程将返回文档中的所有主题。如果文档包含50个以上的主题，则只有前50个主题显示概念层次结构。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-822E3CE6-36B1-4355-9BC4-7B7F5E9386AB"><!-- --></a> use_saved_copy</dt>
                        <dd>
                           <p>指定是否引用$ D表来获取文档的副本，以及在$ D表中没有文档副本时要采取的操作。</p>
                           <p>您可以为<code class="codeph">use_saved_copy</code>参数指定以下值之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则从数据存储中获取该文档。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_ERROR</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则显示错误消息。如果要在$ D表中没有文档副本时实现特定的回退逻辑，请指定此值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_IGNORE</code> ：始终从数据存储中获取文档。
                           </p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C7F3ED39-A1AD-4688-B38A-D344F820A886__GUID-3B07FCA7-3266-4C4D-B1BC-CB32E32A5F42">例子</p>
                     <p>内存主题</p>
                     <p>以下示例为文档1生成前10个主题，并将它们存储在名为<code class="codeph">the_themes</code>的内存表中。然后，该示例循环遍历表以显示文档主题。
                     </p><pre class="oac_no_warn" dir="ltr">声明the_themes ctx_doc.theme_tab;开始ctx_doc.themes（'myindex'，'1'，the_themes，num_themes =&gt; 10）; for in in 1..the_themes.count loop dbms_output.put_line（the_themes（i）.theme ||'：'|| the_themes（i）.weight）;结束循环;结束;</pre><p>主题表</p>
                     <p>以下示例创建一个名为<code class="codeph">CTX_THEMES</code>的主题表：</p><pre class="oac_no_warn" dir="ltr">create table CTX_THEMES（query_id number，theme varchar2（2000），weight number）;</pre><p>单一主题</p>
                     <p>要获取最多20个主题的列表，其中列表中的每个元素都是单个主题，请输入类似以下示例的语句：</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">ctx_doc.themes（'newsindex'，'34'，'CTX_THEMES'，1，full_themes =&gt; FALSE，num_themes =&gt; 20）;</pre><pre class="oac_no_warn" dir="ltr">结束;</pre><p>完整主题</p>
                     <p>至<a id="d98925e6509" class="indexterm-anchor"></a>获取前20个主题的列表，其中列表中的每个元素是父主题的分层列表，输入如下示例的语句：</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">ctx_doc.themes（'newsindex'，'34'，'CTX_THEMES'，1，full_themes =&gt; TRUE，num_ themes =&gt; 20）;</pre><pre class="oac_no_warn" dir="ltr">结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23925"></a><a id="CCREF23926"></a><a id="CCREF23927"></a><a id="CCREF23928"></a><a id="CCREF0718"></a><div class="props_rev_3"><a id="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71" name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71"></a><h3 id="CCREF-GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71" class="sect3"><span class="enumeration_section">9.24</span>令牌</h3>
               <div>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用此过程可识别文档中的所有文本标记。返回的标记是插入索引的标记。同义词库支持还使您能够生成查询索引标记的同义词或更广泛的术语。此功能对于实现文档分类，路由或群集非常有用。</p>
                     <p>不会返回停用词。不返回节标记，因为它们不是文本标记。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-05598D1B-3E6B-430F-AFAC-787F592E7D16">语法1：内存表存储</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.TOKENS（index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN OUT NOCOPY TOKEN_TAB，thes_name IN VARCHAR2 DEFAULT NULL，thes_toktype IN VARCHAR2 DEFAULT'SYN'，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-4AE6CBDA-2649-4B7B-9313-E02E028D1C4C">语法2：结果表存储</p><pre class="oac_no_warn" dir="ltr">CTX_DOC.TOKENS（index_name IN VARCHAR2，textkey IN VARCHAR2，restab IN VARCHAR2，thes_name IN VARCHAR2 DEFAULT NULL，thes_toktype IN VARCHAR2 DEFAULT'SYN'，query_id IN NUMBER DEFAULT 0，use_saved_copy IN NUMBER DEFAULT CTX_DOC.SAVE_COPY_FALLBACK）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-AAAB0B97-2045-47C5-9BE0-8B77E7BB84A3"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定文本列的索引名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-EFEE3A76-A33C-41C3-9CD0-9BB20FBC9C26"><!-- --></a> textkey</dt>
                        <dd>
                           <p>指定文档的唯一标识符（通常是主键）。</p>
                           <p><tt>textkey</tt>参数可以如下：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单列主键值</p>
                        </li>
                        <li>
                           <p>复合（多列）主键的编码规范。要对复合<tt>文本键</tt>进行编码，请使用CTX_DOC。 <a href="CTX_DOC-package.html#GUID-FCB1A16D-DFFA-4261-8C2E-96DB9D2E2C1A">PKENCODE</a>程序。
                           </p>
                        </li>
                        <li>
                           <p>包含文档的行的rowid</p>
                        </li>
                     </ul>
                     <p>使用CTX_DOC在主键和rowid标识之间切换。 <a href="CTX_DOC-package.html#GUID-65442C38-17F7-4BF9-89B4-35945EDCE92A">SET_KEY_TYPE</a> 。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-6F1C2E77-7119-49D4-9CCA-5F3A26C4D90E"><!-- --></a> restab</dt>
                        <dd>
                           <p>您可以指定此过程将结果存储到表或内存中的PL / SQL表。</p>
                           <p>返回的标记是插入到使用<tt>textkey</tt>命名的文档（或行）的索引中的<tt>标记</tt> 。不返回停用词。不返回节标记，因为它们不是文本标记。
                           </p>
                        </dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-0E7E3232-FA5A-4794-80C7-8C9CBB1B6CFE"><!-- --></a> thes_name</dt>
                        <dd>指定同义词库名称。如果未指定同义词库名称，则不会生成任何同义词或更广泛的术语。要使用系统默认同义词库，请指定<code class="codeph">DEFAULT</code> 。</dd>
                        <dt class="dlterm"><a name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-8002FC37-8AAC-472D-BBF4-D5D7AD335A5F"><!-- --></a> thes_toktype</dt>
                        <dd>指定<code class="codeph">SYN</code>以生成索引标记的同义词。或者，指定<code class="codeph">BT</code>以生成更广泛的索引令牌。默认情况下，会生成同义词。要使用此参数，必须首先使用<code class="codeph">thes_name</code>参数指定同义词库名称。
                        </dd>
                     </dl>
                     <p>指定令牌表</p>
                     <p>要将结果存储到表中，请指定表的名称。令牌表可以命名为任何名称，但必须包括下表中显示的列，并指定名称和数据类型。</p>
                     <div class="tblformal" id="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-C43F8B88-EA72-4131-AE23-3C7231931124">
                        <p class="titleintable">表9-2令牌表的必需列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="令牌表所需的列" width="100%" border="1" summary="This table describes required columns for token tables." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d98925e6708">列名称</th>
                                 <th align="left" valign="bottom" width="19%" id="d98925e6711">类型</th>
                                 <th align="left" valign="bottom" width="63%" id="d98925e6714">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d98925e6719" headers="d98925e6708 ">
                                    <p><code class="codeph">QUERY_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d98925e6719 d98925e6711 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d98925e6719 d98925e6714 ">
                                    <p>特定调用<code class="codeph">CTX_DOC.TOKENS</code>生成的结果的标识符（仅当表用于存储多个<code class="codeph">TOKEN</code>调用的结果时才填充）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d98925e6737" headers="d98925e6708 ">
                                    <p><code class="codeph">TOKEN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d98925e6737 d98925e6711 ">
                                    <p><code class="codeph">VARCHAR2（255）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d98925e6737 d98925e6714 ">
                                    <p>文本中的标记字符串。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d98925e6749" headers="d98925e6708 ">
                                    <p><code class="codeph">OFFSET</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d98925e6749 d98925e6711 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d98925e6749 d98925e6714 ">
                                    <p>令牌在文档中的位置，相对于位置为1的文档的开头。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d98925e6761" headers="d98925e6708 ">
                                    <p><code class="codeph">长度</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d98925e6761 d98925e6711 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d98925e6761 d98925e6714 ">
                                    <p>令牌的字符长度。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-36907548-DCC9-4DEC-8F50-1E7C21FFB1B9">指定内存表</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要将结果存储到内存表，请指定<code class="codeph">TOKEN_TAB</code>类型的内存表的<code class="codeph">TOKEN_TAB</code> 。 <code class="codeph">TOKEN_TAB</code>数据类型定义如下：</p><pre class="oac_no_warn" dir="ltr">类型token_rec是记录（</pre><pre class="oac_no_warn" dir="ltr">token varchar2（255），偏移号，长度号</pre><pre class="oac_no_warn" dir="ltr">）; type token_tab是binary_integer的token_rec索引表;</pre><p><code class="codeph">CTX_DOC.TOKENS</code>清除操作前指定的<code class="codeph">TOKEN_TAB</code> 。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-7F4C6BF3-E8E4-4D2F-AD29-99C06FA02D48"><!-- --></a> query_id</dt>
                        <dd>
                           <p>指定用于标识插入<tt>restab</tt>的行的<tt>标识符</tt> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-FCFE420A-6B26-4DE7-A107-521E78C61861"><!-- --></a> use_saved_copy</dt>
                        <dd>
                           <p>指定是否引用$ D表来获取文档的副本，以及在$ D表中没有文档副本时要采取的操作。</p>
                           <p>您可以为<code class="codeph">use_saved_copy</code>参数指定以下值之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则从数据存储中获取该文档。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_ERROR</code> ：从$ D表中获取文档的副本。如果$ D表中没有该文档的副本，则显示错误消息。如果要在$ D表中没有文档副本时实现特定的回退逻辑，请指定此值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.SAVE_COPY_IGNORE</code> ：始终从数据存储中获取文档。
                           </p>
                        </li>
                     </ul>
                     <p>默认值为<code class="codeph">CTX_DOC.SAVE_COPY_FALLBACK</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BD9D08B0-A249-45AD-ACC2-C8C9B6CE6D71__GUID-3239AAFE-8C1F-472F-A92D-3B63D27A573D">例</p>
                     <p>内存中令牌</p>
                     <p>以下示例为文档1生成标记，并将它们存储在内存表中，声明为<code class="codeph">the_tokens</code> 。然后，该示例循环遍历表以显示文档令牌。
                     </p><pre class="oac_no_warn" dir="ltr">声明the_tokens ctx_doc.token_tab;开始ctx_doc.tokens（'myindex'，'1'，the_tokens）; for in in 1..the_tokens.count loop dbms_output.put_line（the_tokens（i）.token）;结束循环;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>