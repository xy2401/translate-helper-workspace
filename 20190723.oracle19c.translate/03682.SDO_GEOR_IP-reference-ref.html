<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram."></meta>
      <meta name="description" content="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram."></meta>
      <title>SDO_GEOR_IP包参考</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="GeoRaster Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="GeoRaster Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-georaster-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T11:48:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94793-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SDO_GEOR_GDAL-reference.html" title="Previous" type="text/html"></link>
      <link rel="next" href="sdo-geor-ra-ref.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="GEORS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_GEOR_GDAL-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="sdo-geor-ra-ref.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">GeoRaster开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_GEOR_IP包参考</li>
            </ol>
            <a id="GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" name="GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F"></a>
            
            <h2 id="GEORS-GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" class="sect2"><span class="enumeration_chapter">11</span> SDO_GEOR_IP包参考</h2>
         </header>
         <div class="ind">
            <div>
               <p>SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。</p>
               <p>本章中的许多示例都引用了一个名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。
               </p>
               <p>所有SDO_GEOR_IP子程序都可以处理在当前连接模式以外的模式中定义的GeoRaster对象。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4">SDO_GEOR_IP.dodge</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-5E8228CC-DD00-42F4-80A4-458533A998EA">SDO_GEOR_IP.equalize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E">SDO_GEOR_IP.filter</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA">SDO_GEOR_IP.histogramMatch</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77">SDO_GEOR_IP.normalize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3">SDO_GEOR_IP.piecewiseStretch</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E">SDO_GEOR_IP.stretch</a><br></li>
               </ul>
            </div>
            
            <div class="props_rev_3"><a id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4" name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4"></a><h3 id="GEORS-GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4" class="sect3"><span class="enumeration_section">11.1</span> SDO_GEOR_IP.dodge</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.dodge（inGeoRaster IN SDO_GEORASTER，gridsize IN SDO_NUMBER_ARRAY，samplingFactor IN VARCHAR2 DEFAULT NULL，表示IN SDO_NUMBER_ARRAY DEFAULT NULL，standardDeviations IN SDO_NUMBER_ARRAY DEFAULT NULL，storageParam IN VARCHAR2 DEFAULT NULL，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.dodge（inGeoRaster IN SDO_GEORASTER，gridsize IN SDO_NUMBER_ARRAY，samplingFactor IN VARCHAR2 DEFAULT NULL，refGeoraster IN SDO_GEORASTER，standardDeviations IN SDO_NUMBER_ARRAY DEFAULT NULL，storageParam IN VARCHAR2 DEFAULT NULL，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-30001566-2066-4178-914A-29A2C4E14931">描述</p>
                     <p>在输入的GeoRaster对象上应用躲避算法以对图像进行色彩平衡。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a> GeoRaster中的<a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a></dt>
                        <dd>
                           <p>要处理的SDO_GEORASTER对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA"><!-- --></a> gridSize</dt>
                        <dd>
                           <p>每个网格的大小分别在x和y方向。它是一个包含一个或两个数字的数组。如果只指定了一个数字，那么它适用于x和y方向。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-6781222E-EB8D-4E59-9E8B-17C8E054D47A"><!-- --></a> samplingFactor</dt>
                        <dd>
                           <p>采样因子，用于控制统计的计算，格式为<code class="codeph">'samplingFactor=n'</code> ，分母<span class="italic">n</span>为1 /（ <span class="italic">n</span> * <span class="italic">n</span> ），表示在计算统计数据时在行和列维度中跳过的单元格数。例如，如果<code class="codeph">samplingFactor</code>为4，则对十六分之一的单元进行采样;但如果<code class="codeph">samplingFactor</code>为1，则对所有单元格进行采样。值越高，统计信息可能越不准确，但计算得越快。如果未指定（null），则默认值为1。
                           </p>
                           <p><code class="codeph">samplingFactor</code>不能大于或等于<code class="codeph">gridSize</code>的一半（0.5）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-601AB169-0880-4E5D-8A5F-B745FEE654CF"><!-- --></a>表示</dt>
                        <dd>
                           <p>每个输出频段的目标平均值。如果只指定了一个值，则将其应用于所有输出波段;否则，它必须具有与输出GeoRaster对象的数字带相同数量的值。如果为null，则计算为所有网格的平均值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-AF4C41A3-ECAB-4DF4-86E5-6C48265E2AA9"><!-- --></a> standardDeviations</dt>
                        <dd>
                           <p>每个输出频段的目标标准偏差值。如果只指定了一个值，则将其应用于所有输出波段;否则，它必须具有与输出GeoRaster对象的波段数相同的值。如果为null，则计算为所有网格的平均标准偏差。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-AFBD7B00-0596-40DA-AEA4-F8A403DB2B4D"><!-- --></a> refGeoraster</dt>
                        <dd>
                           <p>参考GeoRaster对象。闪避结果的输出将适应参考GeoRaster对象的统计数据。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084"><!-- --></a> storageParam</dt>
                        <dd>
                           <p>指定存储参数的字符串，如<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数中所述</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-2BEDAFFB-EF0C-4813-8821-D91342CE7381"><!-- --></a> outGeoRaster</dt>
                        <dd>
                           <p>输出SDO_GEORASTER对象，它反映了操作的结果。必须是有效的现有GeoRaster对象或空的GeoRaster对象。（空的GeoRaster对象在<a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">空白和空GeoRaster对象中</a>进行了解释。）不能与<code class="codeph">inGeoRaster</code> GeoRaster对象相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-07E2EEEE-819F-46A9-AA46-F77A18458317"><!-- --></a> parallelParam</dt>
                        <dd>
                           <p>指定操作的并行度。如果指定，则必须采用<code class="codeph">parallel=</code> <span class="italic">n</span>的形式，其中<span class="italic">n</span>大于1。数据库优化器使用此参数指定的并行度。如果未指定，则默认情况下不进行并行处理。（有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="GeoRaster有两种类型的并行处理。">GeoRaster中的并行处理</a> 。）
                           </p>
                           <p>如果指定了并行性，则该过程在进程运行时执行内部提交。因此，您无法回滚此过程的结果。如果发生错误（即使它是由Oracle并行服务器引发的），您必须显式删除生成的输出GeoRaster对象才能回滚操作。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">使用说明</p>
                     <p>该闪避操作使用自适应图像增强方法来使图像色调更平衡，即，较暗区域变得更亮并且明亮区域变得更暗。由<code class="codeph">gridsize</code>参数定义的网格统计数据<code class="codeph">gridsize</code>收集并调整为目标均值和标准差值。网格尺寸应小于不平衡区域，以消除不平衡。调整<code class="codeph">gridSize</code>参数以获得最佳结果。
                     </p>
                     <p>输入的GeoRaster图像的<code class="codeph">cellDepth</code>值必须为<code class="codeph">8BIT_U</code> 。存储参数中的任何<code class="codeph">celldepth</code>值都将被忽略。<code class="codeph">outGeoRaster</code>对象的单元格深度始终为<code class="codeph">8BIT_U</code> 。</p>
                     <p>不支持输入GeoRaster对象中的颜色映射。</p>
                     <p>输出GeoRaster对象没有金字塔或掩码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">例子</p>
                     <p>以下示例创建一个GeoRaster对象，该对象是在输入GeoRaster对象上躲避的结果。期望的平均值和标准偏差分别设定为125和80。x和y方向的网格大小为512。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.dodge（gr1，sdo_number_array（512,512），'samplingFactor = 3'，sdo_number_array（125），sdo_number_array（80），null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre><p>下面的示例创建一个GeoRaster对象，该对象是基于引用GeoRaster对象避开输入GeoRaster对象的结果。并行度为4时启用并行处理。x和y方向的网格大小为512。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; refgr sdo_georaster; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; SELECT georaster INTO refgr FROM georaster_table WHERE georid = 1; sdo_geor_ip.dodge（gr1，sdo_number_array（512,512），'samplingFactor = 3'，refgr，null，gr2，'parallel = 4'）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_IP包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA" name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA"></a><h3 id="GEORS-GUID-5E8228CC-DD00-42F4-80A4-458533A998EA" class="sect3"><span class="enumeration_section">11.2</span> SDO_GEOR_IP.equalize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-30001566-2066-4178-914A-29A2C4E14931">描述</p>
                     <p>使用直方图均衡方法处理输入的GeoRaster对象。处理后的图像存储在输出GeoRaster对象或BLOB中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a> GeoRaster中的<a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a></dt>
                        <dd>
                           <p>要均衡的SDO_GEORASTER对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843"><!-- --></a> pyramidLevel</dt>
                        <dd>
                           <p>一个数字，指定要在源GeoRaster对象中均衡的金字塔等级。如果为null，则默认值为0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-B990F65D-6226-455A-94B8-87A3958C9239"><!-- --></a> cropArea</dt>
                        <dd>
                           <p>作物面积定义。如果<code class="codeph">cropArea</code>的类型为SDO_GEOMETRY，请使用<code class="codeph">layerNumbers</code>参数指定一个或多个图层编号;如果<code class="codeph">cropArea</code>的类型为SDO_NUMBER_ARRAY，请使用<code class="codeph">bandNumbers</code>参数指定一个或多个波段号。
                           </p>
                           <p>如果数据类型为SDO_NUMBER_ARRAY，则该参数标识矩形窗口的左上角（行，列）和右下角（行，列）坐标，并假定为栅格空间。如果数据类型是SDO_GEOMETRY，则几何对象的最小边界矩形（MBR）用作裁剪区域;另请参阅SDO_SRID要求的使用说明。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA"><!-- --></a> bandNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的物理带编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于1,2和3的波段，使用<code class="codeph">1-3</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D"><!-- --></a> layerNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的逻辑层编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于第2,3和4层，使用<code class="codeph">2-4</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084"><!-- --></a> storageParam</dt>
                        <dd>
                           <p>指定存储参数的字符串，如<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数中所述</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-6B0389F3-BBAD-42E8-9206-F5875FF03A15"><!-- --></a> outGeoRaster</dt>
                        <dd>
                           <p>输出SDO_GEORASTER对象，它反映了操作的结果。必须是有效的现有GeoRaster对象或空的GeoRaster对象。（空的GeoRaster对象在<a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">空白和空GeoRaster对象中</a>进行了解释。）不能与<code class="codeph">inGeoRaster</code> GeoRaster对象相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-9E414F13-BBF7-411D-9B84-8382EB5900D2"><!-- --></a> parallelParam</dt>
                        <dd>
                           <p>指定操作的并行度。如果指定，则必须采用<code class="codeph">parallel=</code> <span class="italic">n</span>的形式，其中<span class="italic">n</span>大于1。数据库优化器使用此参数指定的并行度。如果未指定，则默认情况下不进行并行处理。（有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="GeoRaster有两种类型的并行处理。">GeoRaster中的并行处理</a> 。）
                           </p>
                           <p>如果指定了并行性，则该过程在进程运行时执行内部提交。因此，您无法回滚此过程的结果。如果发生错误（即使它是由Oracle并行服务器引发的），您必须显式删除生成的输出GeoRaster对象才能回滚操作。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-5E5A311B-2852-47E4-8D38-12E9EAC38E7C"><!-- --></a> rasterBlob</dt>
                        <dd>
                           <p>BLOB保存处理结果的输出。它必须存在或在操作之前已初始化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-8055532C-9900-40CB-8E43-64B682831D5C"><!-- --></a> outArea</dt>
                        <dd>
                           <p>一个SDO_GEOMETRY对象，包含结果对象的模型坐标系中的MBR（最小边界矩形）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-9C93D567-0081-43C9-9554-B7ADF2EB5032"><!-- --></a> outWindow</dt>
                        <dd>
                           <p>SDO_NUMBER_ARRAY对象，用于标识单元格空间中输出窗口的左上角和右下角的坐标。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">使用说明</p>
                     <p>输入的GeoRaster对象必须为每个输出波段生成直方图。</p>
                     <p>基于存储在输入GeoRaster对象的元数据中的直方图来执行均衡。</p>
                     <p>不支持存储在输入GeoRaster对象中的颜色映射。</p>
                     <p>输出GeoRaster对象没有金字塔或掩码。</p>
                     <p>输出GeoRaster对象的单元格深度始终为<code class="codeph">8BIT_U</code> 。</p>
                     <p>如果<code class="codeph">cropArea</code>参数数据类型为SDO_GEOMETRY，则SDO_SRID值必须为以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Null，指定栅格空间</p>
                        </li>
                        <li>
                           <p>MDSYS.CS_SRS表的SRID列中的值</p>
                           <p>如果<code class="codeph">cropArea</code>参数几何体和模型空间的SDO_SRID值不同，则<code class="codeph">cropArea</code>参数几何体将在执行操作之前自动转换为模型空间的坐标系。（栅格空间和模型空间在<a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="栅格数据可以包含以下部分或全部元素。">GeoRaster数据模型中</a>有解释。）
                           </p>
                        </li>
                     </ul>
                     <p>如果<code class="codeph">cropArea</code>参数指定大地测量MBR，则它不能越过日期行子午线</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">例子</p>
                     <p>以下示例创建一个GeoRaster对象，该对象的每个输入带均根据存储在元数据中的直方图进行均衡。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_number_array：= null; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.equalize（gr1，cropArea，null，null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre><p>以下示例基于存储在元数据中的直方图执行图像均衡;输出是临时BLOB。 （它引用一个名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; out_lob BLOB; cropArea sdo_number_array：= null; outArea sdo_geometry; outWindow sdo_number_array; BEGIN dbms_lob.create_temporary（out_lob，TRUE）; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.equalize（gr1，cropArea，null，null，out_lob，outArea，outWindow）;如果outWindow不为null则为dbms_output.put_line（'输出窗口：（'|| outWindow（1）||'，'|| outWindow（2）||'，'|| outWindow（3）||'，'| | outWindow（4）||'）'）;万一; dbms_lob.freeTemporary（out_lob）;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_IP包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E" name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E"></a><h3 id="GEORS-GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E" class="sect3"><span class="enumeration_section">11.3</span> SDO_GEOR_IP.filter</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，filterParam IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，filterParam IN VARCHAR2，filterKernel IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，filterKernel IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，filterKernel IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-30001566-2066-4178-914A-29A2C4E14931">描述</p>
                     <p>在输入的GeoRaster对象上应用卷积滤镜。处理后的图像存储在输出GeoRaster对象或BLOB中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a> GeoRaster中的<a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a></dt>
                        <dd>
                           <p>用于过滤操作的SDO_GEORASTER对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843"><!-- --></a> pyramidLevel</dt>
                        <dd>
                           <p>一个数字，指定源GeoRaster对象中过滤器操作的金字塔等级。如果为null，则默认值为0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-B990F65D-6226-455A-94B8-87A3958C9239"><!-- --></a> cropArea</dt>
                        <dd>
                           <p>作物面积定义。如果<code class="codeph">cropArea</code>的类型为SDO_GEOMETRY，请使用<code class="codeph">layerNumbers</code>参数指定一个或多个图层编号;如果<code class="codeph">cropArea</code>的类型为SDO_NUMBER_ARRAY，请使用<code class="codeph">bandNumbers</code>参数指定一个或多个波段号。
                           </p>
                           <p>如果数据类型为SDO_NUMBER_ARRAY，则该参数标识矩形窗口的左上角（行，列）和右下角（行，列）坐标，并假定为栅格空间。如果数据类型是SDO_GEOMETRY，则几何对象的最小边界矩形（MBR）用作裁剪区域;另请参阅SDO_SRID要求的使用说明。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA"><!-- --></a> bandNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的物理带编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于1,2和3的波段，使用<code class="codeph">1-3</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D"><!-- --></a> layerNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的逻辑层编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于第2,3和4层，使用<code class="codeph">2-4</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B"><!-- --></a> filterParam</dt>
                        <dd>
                           <p>要在输入GeoRaster上应用的过滤器类型。它的格式为<code class="codeph">'filterType=</code> <span class="italic">value</span> <code class="codeph">'</code> ，其中<span class="italic">value</span>可以是以下<span class="italic">值</span>之一： <code class="codeph">LPF</code> （低通滤波器，默认值）， <code class="codeph">HPF</code> （高通滤波器）， <code class="codeph">HBF</code> （高升压滤波器）， <code class="codeph">MIN</code> （最小滤波器） ）， <code class="codeph">MAX</code> （最大滤波器）， <code class="codeph">MEDIAN</code> （中值滤波器）， <code class="codeph">MODE</code> （模式滤波器）或<code class="codeph">CUSTOM</code> （用户提供的滤波器内核）。
                           </p>
                           <p><code class="codeph">filterParam</code>还可以包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">'kernelSize=(</code> <span class="italic">kx，ky</span> <code class="codeph">)'</code>其中<span class="italic">kx，ky</span>是x和y方向上内核的大小。对于<code class="codeph">CUSTOM</code>以外的滤波器类型， <code class="codeph">kx</code>和<code class="codeph">ky</code>应为大于或等于3的奇数。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">'p1 =</code> <span class="italic">value</span> <code class="codeph">'</code> ，由<code class="codeph">HBF</code>过滤器用来表示增强程度。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-82D89140-9FAE-4CBB-9EA1-39593A53014B"><!-- --></a> filterKernel</dt>
                        <dd>
                           <p>仅在<code class="codeph">filterType=CUSTOM</code> 。它是SDO_NUMBER_ARRAY对象中的<code class="codeph">kx * ky</code>数字。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084"><!-- --></a> storageParam</dt>
                        <dd>
                           <p>指定存储参数的字符串，如<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数中所述</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-CB1B5309-8CBB-401F-966B-A90331871EE0"><!-- --></a> outGeoRaster</dt>
                        <dd>
                           <p>输出SDO_GEORASTER对象，它反映了操作的结果。必须是有效的现有GeoRaster对象或空的GeoRaster对象。（空的GeoRaster对象在<a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">空白和空GeoRaster对象中</a>进行了解释。）不能与<code class="codeph">inGeoRaster</code> GeoRaster对象相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-E5C71A16-77E0-4F1C-8615-594727E526FE"><!-- --></a> parallelParam</dt>
                        <dd>
                           <p>指定操作的并行度。如果指定，则必须采用<code class="codeph">parallel=</code> <span class="italic">n</span>的形式，其中<span class="italic">n</span>大于1。数据库优化器使用此参数指定的并行度。如果未指定，则默认情况下不进行并行处理。（有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="GeoRaster有两种类型的并行处理。">GeoRaster中的并行处理</a> 。）
                           </p>
                           <p>如果指定了并行性，则该过程在进程运行时执行内部提交。因此，您无法回滚此过程的结果。如果发生错误（即使它是由Oracle并行服务器引发的），您必须显式删除生成的输出GeoRaster对象才能回滚操作。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-A7757357-237B-4C33-B6E1-46897551FC27"><!-- --></a> rasterBlob</dt>
                        <dd>
                           <p>BLOB保存处理结果的输出。它必须存在或在操作之前已初始化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-D475FA3B-5A8F-4A96-88D4-614729230A71"><!-- --></a> outArea</dt>
                        <dd>
                           <p>一个SDO_GEOMETRY对象，包含结果对象的模型坐标系中的MBR（最小边界矩形）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-3EA6ED19-EEA3-4006-9F23-A22DC31EF9AA"><!-- --></a> outWindow</dt>
                        <dd>
                           <p>SDO_NUMBER_ARRAY对象，用于标识单元格空间中输出窗口的左上角和右下角的坐标。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">使用说明</p>
                     <p>有关图像过滤的介绍，请参阅<a href="image-processing-virtual-mosaic.html#GUID-F3C5A387-4E89-4E85-B17D-75FB75917869" title="图像过滤是在图像上应用卷积滤波器以实现特定目的的过程。例如，在图像上应用低通滤波器可以平滑并降低图像中的噪声，而在图像上应用高通滤波器可以增强图像的细节甚至检测图像内的边缘。">图像过滤</a> 。
                     </p>
                     <p>以下是某些预定义3x3过滤器的<code class="codeph">filterKernel</code>值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>LPF：（1,1,1,1,1,1,1,1,1）* 1/9</p>
                        </li>
                        <li>
                           <p>HPF：（ -  1，-1，-1，-1,8，-1，-1，-1，-1）* 1/9</p>
                        </li>
                        <li>
                           <p>HBF：（ -  k，-k，-k，-k，8k，-k，-k，-k，-k）* 1/9，其中<span class="italic">k</span>是参数<code class="codeph">p1</code>指定的增压系数</p>
                        </li>
                     </ul>
                     <p>对于<code class="codeph">kernelSize</code> ， <span class="italic">kx * ky</span>必须小于10000。
                     </p>
                     <p>如果<code class="codeph">cropArea</code>参数数据类型为SDO_GEOMETRY，则SDO_SRID值必须为以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Null，指定栅格空间</p>
                        </li>
                        <li>
                           <p>MDSYS.CS_SRS表的SRID列中的值</p>
                           <p>如果<code class="codeph">cropArea</code>参数几何体和模型空间的SDO_SRID值不同，则<code class="codeph">cropArea</code>参数几何体将在执行操作之前自动转换为模型空间的坐标系。（栅格空间和模型空间在<a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="栅格数据可以包含以下部分或全部元素。">GeoRaster数据模型中</a>有解释。）
                           </p>
                        </li>
                     </ul>
                     <p>不支持输入GeoRaster对象中的颜色映射。</p>
                     <p>输出GeoRaster对象没有金字塔或掩码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">例子</p>
                     <p>以下示例创建一个GeoRaster对象，该对象是在输入GeoRaster对象上使用默认低通滤波器的结果。过滤器内核大小为3乘3。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_geometry：= null; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.filter（gr1,0，cropArea，null，'filtertype = LPF，kernelsize =（3,3）'，null，null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre><p>以下示例在输入的GeoRaster对象上应用自定义（用户提供的）3 x 3过滤器;输出是临时BLOB。 （它引用一个名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_geometry：= null; out_lob BLOB; outArea sdo_geometry：= null; outWindow sdo_geometry：= null; BEGIN dbms_lob.create_temporary（out_lob，TRUE）; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.filter（gr1,0，cropArea，null，'filtertype = CUSTOM，kernelsize =（3,3）'，sdo_number_array（1 / 4,1 / 2,1 / 4,1 / 2,1,1 / 2， 1 / 4,1.2,1 / 4），null，out_lob，outArea，outWindow）;如果outWindow不为null则为dbms_output.put_line（'输出窗口：（'|| outWindow（1）||'，'|| outWindow（2）||'，'|| outWindow（3）||'，'| | outWindow（4）||'）'）;万一; dbms_lob.freeTemporary（out_lob）;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_IP包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA" name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA"></a><h3 id="GEORS-GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA" class="sect3"><span class="enumeration_section">11.4</span> SDO_GEOR_IP.histogramMatch</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，refHistograms IN SDO_GEOR_HISTOGRAM_ARRAY，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropArea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，refHistograms IN SDO_GEOR_HISTOGRAM_ARRAY，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，refGeoRaster IN SDO_GEORASTER，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，refGeoRaster IN SDO_GEORASTER，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-30001566-2066-4178-914A-29A2C4E14931">描述</p>
                     <p>处理输入的GeoRaster对象，以便输出GeoRaster对象的直方图与参考GeoRaster对象（ <code class="codeph">refGeoRaster</code> ）或参考直方图（ <code class="codeph">refHistograms</code> ）的直方图<code class="codeph">refHistograms</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a> GeoRaster中的<a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a></dt>
                        <dd>
                           <p>用于直方图匹配操作的SDO_GEORASTER对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843"><!-- --></a> pyramidLevel</dt>
                        <dd>
                           <p>指定直方图匹配操作的金字塔等级的数字。如果为null，则默认值为0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-B990F65D-6226-455A-94B8-87A3958C9239"><!-- --></a> cropArea</dt>
                        <dd>
                           <p>作物面积定义。如果<code class="codeph">cropArea</code>的类型为SDO_GEOMETRY，请使用<code class="codeph">layerNumbers</code>参数指定一个或多个图层编号;如果<code class="codeph">cropArea</code>的类型为SDO_NUMBER_ARRAY，请使用<code class="codeph">bandNumbers</code>参数指定一个或多个波段号。
                           </p>
                           <p>如果数据类型为SDO_NUMBER_ARRAY，则该参数标识矩形窗口的左上角（行，列）和右下角（行，列）坐标，并假定为栅格空间。如果数据类型是SDO_GEOMETRY，则几何对象的最小边界矩形（MBR）用作裁剪区域;另请参阅SDO_SRID要求的使用说明。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA"><!-- --></a> bandNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的物理带编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于1,2和3的波段，使用<code class="codeph">1-3</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D"><!-- --></a> layerNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的逻辑层编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于第2,3和4层，使用<code class="codeph">2-4</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-A81F7EC9-782B-4076-A288-B652219D728B"><!-- --></a> refHistograms</dt>
                        <dd>
                           <p>一组参考直方图。如果数组中只有一个元素，则所有输出波段都与此直方图匹配;否则，数组的长度必须与输出GeoRaster对象中的band数相同。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B"><!-- --></a> refGeoRaster</dt>
                        <dd>
                           <p>参考GeoRaster对象。参考GeoRaster对象必须具有存储在元数据中的直方图，并且必须具有与输入GeoRaster对象相同数量的波段。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084"><!-- --></a> storageParam</dt>
                        <dd>
                           <p>指定存储参数的字符串，如<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数中所述</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-3F772D21-93B2-4674-AD00-B8D5117410B3"><!-- --></a> outGeoRaster</dt>
                        <dd>
                           <p>输出SDO_GEORASTER对象，它反映了操作的结果。必须是有效的现有GeoRaster对象或空的GeoRaster对象。（空的GeoRaster对象在<a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">空白和空GeoRaster对象中</a>进行了解释。）不能与<code class="codeph">inGeoRaster</code> GeoRaster对象相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-4CFABCAF-59E9-4E91-AFA8-F65CD9DACA15"><!-- --></a> parallelParam</dt>
                        <dd>
                           <p>指定操作的并行度。如果指定，则必须采用<code class="codeph">parallel=</code> <span class="italic">n</span>的形式，其中<span class="italic">n</span>大于1。数据库优化器使用此参数指定的并行度。如果未指定，则默认情况下不进行并行处理。（有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="GeoRaster有两种类型的并行处理。">GeoRaster中的并行处理</a> 。）
                           </p>
                           <p>如果指定了并行性，则该过程在进程运行时执行内部提交。因此，您无法回滚此过程的结果。如果发生错误（即使它是由Oracle并行服务器引发的），您必须显式删除生成的输出GeoRaster对象才能回滚操作。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">使用说明</p>
                     <p>输入的GeoRaster对象必须为每个波段生成直方图并存储在元数据中。</p>
                     <p>参考GeoRaster对象必须具有与输入GeoRaster对象相同的band数。参考GeoRaster的单元格深度不能大于<code class="codeph">outGeoRaster</code>对象的单元格深度。参考GeoRaster对象必须在元数据中设置直方图。
                     </p>
                     <p>如果<code class="codeph">cropArea</code>参数数据类型为SDO_GEOMETRY，则SDO_SRID值必须为以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Null，指定栅格空间</p>
                        </li>
                        <li>
                           <p>MDSYS.CS_SRS表的SRID列中的值</p>
                           <p>如果<code class="codeph">cropArea</code>参数几何体和模型空间的SDO_SRID值不同，则<code class="codeph">cropArea</code>参数几何体将在执行操作之前自动转换为模型空间的坐标系。（栅格空间和模型空间在<a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="栅格数据可以包含以下部分或全部元素。">GeoRaster数据模型中</a>有解释。）
                           </p>
                        </li>
                     </ul>
                     <p>不支持存储在输入GeoRaster对象中的颜色映射。</p>
                     <p>输出GeoRaster对象没有金字塔或掩码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">例子</p>
                     <p>以下示例创建一个GeoRaster对象，该对象是将输入GeoRaster对象与参考直方图匹配的直方图的结果。在该示例中，参考直方图存储在表<code class="codeph">histogram_table(histogram sdo_geor_histogram, band number)</code> 。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_number_array：= null; refHists sdo_geor_histogram_array; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; - 获取源GeoRaster对象SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; - 从histogram_table按顺序获取参考直方图SELECT histogram bulk collect到refHists; sdo_geor_ip.histogramMatch（gr1,0，cropArea，null，refHists，null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre><p>以下示例创建一个GeoRaster对象，该对象是将输入GeoRaster对象与参考GeoRaster对象匹配的直方图的结果。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; refgr sdo_georaster; cropArea sdo_number_array：= null; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; - 获取源GeoRaster对象SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; - 获取参考GeoRaster对象SELECT georaster INTO refgr FROM georaster_table WHERE georid = 5; sdo_geor_ip.histogramMatch（gr1,0，cropArea，null，refgr，null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_IP包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77" name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77"></a><h3 id="GEORS-GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77" class="sect3"><span class="enumeration_section">11.5</span> SDO_GEOR_IP.normalize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropArea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，表示IN SDO_NUMBER_ARRAY，standardDeviations IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropArea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，表示IN SDO_NUMBER_ARRAY，standardDeviations IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropArea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，表示IN SDO_NUMBER_ARRAY，standardDeviations IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize（inGeoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropArea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，表示IN SDO_NUMBER_ARRAY，standardDeviations IN SDO_NUMBER_ARRAY，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，refGeoRaster IN SDO_GEORASTER，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，refGeoRaster IN SDO_GEORASTER，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-30001566-2066-4178-914A-29A2C4E14931">描述</p>
                     <p>使用指定的均值和标准差对输入的GeoRaster对象进行标准化。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a> GeoRaster中的<a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a></dt>
                        <dd>
                           <p>要标准化的SDO_GEORASTER对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843"><!-- --></a> pyramidLevel</dt>
                        <dd>
                           <p>一个数字，指定要在源GeoRaster对象中规范化的金字塔等级。如果为null，则默认值为0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-B990F65D-6226-455A-94B8-87A3958C9239"><!-- --></a> cropArea</dt>
                        <dd>
                           <p>作物面积定义。如果<code class="codeph">cropArea</code>的类型为SDO_GEOMETRY，请使用<code class="codeph">layerNumbers</code>参数指定一个或多个图层编号;如果<code class="codeph">cropArea</code>的类型为SDO_NUMBER_ARRAY，请使用<code class="codeph">bandNumbers</code>参数指定一个或多个波段号。
                           </p>
                           <p>如果数据类型为SDO_NUMBER_ARRAY，则该参数标识矩形窗口的左上角（行，列）和右下角（行，列）坐标，并假定为栅格空间。如果数据类型是SDO_GEOMETRY，则几何对象的最小边界矩形（MBR）用作裁剪区域;另请参阅SDO_SRID要求的使用说明。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA"><!-- --></a> bandNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的物理带编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于1,2和3的波段，使用<code class="codeph">1-3</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D"><!-- --></a> layerNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的逻辑层编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于第2,3和4层，使用<code class="codeph">2-4</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-601AB169-0880-4E5D-8A5F-B745FEE654CF"><!-- --></a>表示</dt>
                        <dd>
                           <p>每个输出频段的目标平均值。如果只指定了一个值，则将其应用于所有输出波段;否则，它必须具有与输出GeoRaster对象的波段数相同的值。目标平均值必须在<code class="codeph">outGeoRaster</code>对象的单元格深度范围内。如果为null，则默认为128。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-AF4C41A3-ECAB-4DF4-86E5-6C48265E2AA9"><!-- --></a> standardDeviations</dt>
                        <dd>
                           <p>每个输出频段的目标标准偏差值。如果只指定了一个值，则将其应用于所有输出波段;否则，它必须具有与输出GeoRaster对象的波段数相同的值。目标标准偏差值必须在<code class="codeph">outGeoRaster</code>对象的单元格深度范围内。如果为null，则默认为100。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B"><!-- --></a> refGeoRaster</dt>
                        <dd>
                           <p>参考GeoRaster对象。不是给出目标平均值和标准偏差， <code class="codeph">refGeoRaster</code>使用<code class="codeph">refGeoRaster</code>的平均值和标准偏差作为目标。参考GeoRaster对象必须具有与输入GeoRaster对象相同的band数。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084"><!-- --></a> storageParam</dt>
                        <dd>
                           <p>指定存储参数的字符串，如<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数中所述</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-8A6B0107-A70D-45F4-8AA3-94310363730E"><!-- --></a> outGeoRaster</dt>
                        <dd>
                           <p>输出SDO_GEORASTER对象，它反映了操作的结果。必须是有效的现有GeoRaster对象或空的GeoRaster对象。（空的GeoRaster对象在<a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">空白和空GeoRaster对象中</a>进行了解释。）不能与<code class="codeph">inGeoRaster</code> GeoRaster对象相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-89C3EA11-4E66-47A3-8931-43A18D84E31E"><!-- --></a> parallelParam</dt>
                        <dd>
                           <p>指定操作的并行度。如果指定，则必须采用<code class="codeph">parallel=</code> <span class="italic">n</span>的形式，其中<span class="italic">n</span>大于1。数据库优化器使用此参数指定的并行度。如果未指定，则默认情况下不进行并行处理。（有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="GeoRaster有两种类型的并行处理。">GeoRaster中的并行处理</a> 。）
                           </p>
                           <p>如果指定了并行性，则该过程在进程运行时执行内部提交。因此，您无法回滚此过程的结果。如果发生错误（即使它是由Oracle并行服务器引发的），您必须显式删除生成的输出GeoRaster对象才能回滚操作。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-C53644EC-C8C1-4E9D-9C78-50A8997D4064"><!-- --></a> rasterBlob</dt>
                        <dd>
                           <p>BLOB保存处理结果的输出。它必须存在或在操作之前已初始化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-E2EFFD60-7601-491A-8FB5-EFEC9E6EFB0E"><!-- --></a> outArea</dt>
                        <dd>
                           <p>一个SDO_GEOMETRY对象，包含结果对象的模型坐标系中的MBR（最小边界矩形）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-43A2B3E0-9B49-4461-9577-903874CF7BAB"><!-- --></a> outWindow</dt>
                        <dd>
                           <p>SDO_NUMBER_ARRAY对象，用于标识单元格空间中输出窗口的左上角和右下角的坐标。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">使用说明</p>
                     <p>输入的GeoRaster对象必须为每个输出波段生成统计信息。</p>
                     <p>参考GeoRaster对象必须具有与输入GeoRaster对象相同的band数。所述的细胞深度<code class="codeph">refGeoRaster</code>对象不能比的小区深度大<code class="codeph">outGeoRaster</code>对象。参考GeoRaster对象必须在元数据中设置统计信息。
                     </p>
                     <p>如果<code class="codeph">cropArea</code>参数数据类型为SDO_GEOMETRY，则SDO_SRID值必须为以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Null，指定栅格空间</p>
                        </li>
                        <li>
                           <p>MDSYS.CS_SRS表的SRID列中的值</p>
                           <p>如果<code class="codeph">cropArea</code>参数几何体和模型空间的SDO_SRID值不同，则<code class="codeph">cropArea</code>参数几何体将在执行操作之前自动转换为模型空间的坐标系。（栅格空间和模型空间在<a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="栅格数据可以包含以下部分或全部元素。">GeoRaster数据模型中</a>有解释。）
                           </p>
                        </li>
                     </ul>
                     <p>不支持输入GeoRaster对象中的颜色映射。</p>
                     <p>输出GeoRaster对象没有金字塔或掩码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">例子</p>
                     <p>下面的示例创建一个GeoRaster对象，并根据给定的平均值和标准偏差对输入GeoRaster对象的波段执行标准化。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_number_array：= null; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.normalize（gr1,0，cropArea，null，sdo_number_array（50,80,100），sdo_number_array（30,20,50），null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre><p>以下示例基于给定的均值和标准偏差对输入GeoRaster对象的波段进行归一化;输出是临时BLOB。 （它引用一个名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_number_array：= null; out_lob BLOB; outArea sdo_geometry：= null; outWindow sdo_geometry：= null; BEGIN dbms_lob.create_temporary（out_lob，TRUE）; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.normalize（gr1,0，cropArea，null，sdo_number_array（50,80,100），sdo_number_array（30,20,50），null，out_lob，outArea，outWindow）;如果outWindow不为null则为dbms_output.put_line（'输出窗口：（'|| outWindow（1）||'，'|| outWindow（2）||'，'|| outWindow（3）||'，'| | outWindow（4）||'）'）;万一; dbms_lob.freeTemporary（out_lob）;结束; /</pre><p>下面的示例创建一个GeoRaster对象，并根据给定的引用GeoRaster对象对输入GeoRaster对象的band执行规范化。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; refgr sdo_georaster; cropArea sdo_number_array：= null; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; - 获取源GeoRaster对象SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; - 获取参考GeoRaster对象SELECT georaster INTO refgr FROM georaster_table WHERE georid = 5; sdo_geor_ip.normalize（gr1,0，cropArea，null，refgr，null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_IP包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3" name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3"></a><h3 id="GEORS-GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3" class="sect3"><span class="enumeration_section">11.6</span> SDO_GEOR_IP.piecewiseStretch</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，inValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，outValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，inValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，outValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER，parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch（inGeoRaster IN SDO_GEORASTER，pyramidLevel在数量，cropArea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，inValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，outValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，inValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，outValues IN SDO_NUMBER_ARRAYSET DEFAULT NULL，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-30001566-2066-4178-914A-29A2C4E14931">描述</p>
                     <p>使用最小值和最大值在输入GeoRaster对象上执行线性拉伸。处理后的图像存储在输出GeoRaster对象或BLOB中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a> GeoRaster中的<a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a></dt>
                        <dd>
                           <p>要拉伸的SDO_GEORASTER对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843"><!-- --></a> pyramidLevel</dt>
                        <dd>
                           <p>一个数字，指定要在源GeoRaster对象中拉伸的金字塔等级。如果为null，则默认值为0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-B990F65D-6226-455A-94B8-87A3958C9239"><!-- --></a> cropArea</dt>
                        <dd>
                           <p>作物面积定义。如果<code class="codeph">cropArea</code>的类型为SDO_GEOMETRY，请使用<code class="codeph">layerNumbers</code>参数指定一个或多个图层编号;如果<code class="codeph">cropArea</code>的类型为SDO_NUMBER_ARRAY，请使用<code class="codeph">bandNumbers</code>参数指定一个或多个波段号。
                           </p>
                           <p>如果数据类型为SDO_NUMBER_ARRAY，则该参数标识矩形窗口的左上角（行，列）和右下角（行，列）坐标，并假定为栅格空间。如果数据类型是SDO_GEOMETRY，则几何对象的最小边界矩形（MBR）用作裁剪区域;另请参阅SDO_SRID要求的使用说明。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA"><!-- --></a> bandNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的物理带编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于1,2和3的波段，使用<code class="codeph">1-3</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D"><!-- --></a> layerNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的逻辑层编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于第2,3和4层，使用<code class="codeph">2-4</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B"><!-- --></a> inValues</dt>
                        <dd>
                           <p>与每个输入波段对应的SDO_NUMBER_ARRAY对象数组。如果只指定了一个元素，则所有输出波段都以相同的方式拉伸。每个SDO_NUMBER_ARRAY指定拉伸中使用的输入GeoRaster对象单元格值范围。例如，sdo_number_array（0,50,255）指定两个值范围，从0到50和50到255。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-82D89140-9FAE-4CBB-9EA1-39593A53014B"><!-- --></a> outValues</dt>
                        <dd>
                           <p>与每个输出波段对应的SDO_NUMBER_ARRAY对象数组。如果只指定了一个元素，则所有输出波段都以相同的方式拉伸。每个SDO_NUMBER_ARRAY指定的目标值范围对应于所述的数值范围<code class="codeph">inValues</code>参数。例如，sdo_number_array（0,200,255）指定两个值范围，从0到200和200到255。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084"><!-- --></a> storageParam</dt>
                        <dd>
                           <p>指定存储参数的字符串，如<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数中所述</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-44642104-37C3-4CB8-AC3F-71AC8C4664E1"><!-- --></a> outGeoRaster</dt>
                        <dd>
                           <p>输出SDO_GEORASTER对象，它反映了操作的结果。必须是有效的现有GeoRaster对象或空的GeoRaster对象。（空的GeoRaster对象在<a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">空白和空GeoRaster对象中</a>进行了解释。）不能与<code class="codeph">inGeoRaster</code> GeoRaster对象相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-C4649244-7580-4F2D-8668-A6E937985730"><!-- --></a> parallelParam</dt>
                        <dd>
                           <p>指定操作的并行度。如果指定，则必须采用<code class="codeph">parallel=</code> <span class="italic">n</span>的形式，其中<span class="italic">n</span>大于1。数据库优化器使用此参数指定的并行度。如果未指定，则默认情况下不进行并行处理。（有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="GeoRaster有两种类型的并行处理。">GeoRaster中的并行处理</a> 。）
                           </p>
                           <p>如果指定了并行性，则该过程在进程运行时执行内部提交。因此，您无法回滚此过程的结果。如果发生错误（即使它是由Oracle并行服务器引发的），您必须显式删除生成的输出GeoRaster对象才能回滚操作。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-654735E8-DE8F-4C1B-AA4A-80CE0A3BD9E5"><!-- --></a> rasterBlob</dt>
                        <dd>
                           <p>BLOB保存处理结果的输出。它必须存在或在操作之前已初始化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-ECC10B88-473D-4626-8B0D-F593D0FA1577"><!-- --></a> outArea</dt>
                        <dd>
                           <p>一个SDO_GEOMETRY对象，包含结果对象的模型坐标系中的MBR（最小边界矩形）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-F177EB15-EB0D-487B-91AB-DE22AF4DE107"><!-- --></a> outWindow</dt>
                        <dd>
                           <p>SDO_NUMBER_ARRAY对象，用于标识单元格空间中输出窗口的左上角和右下角的坐标。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">使用说明</p>
                     <p><code class="codeph">inValues</code>和<code class="codeph">outValues</code>参数必须具有相同数量的值，并且<code class="codeph">inValues</code>参数中指定的范围必须按升序排列。<code class="codeph">inValues</code>参数中的值必须在<code class="codeph">inGeoRaster</code>对象的单元格深度范围内。<code class="codeph">outValues</code>参数中的值必须在<code class="codeph">outGeoRaster</code>对象的单元格深度范围内。
                     </p>
                     <p>如果<code class="codeph">cropArea</code>参数数据类型为SDO_GEOMETRY，则SDO_SRID值必须为以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Null，指定栅格空间</p>
                        </li>
                        <li>
                           <p>MDSYS.CS_SRS表的SRID列中的值</p>
                           <p>如果<code class="codeph">cropArea</code>参数几何体和模型空间的SDO_SRID值不同，则<code class="codeph">cropArea</code>参数几何体将在执行操作之前自动转换为模型空间的坐标系。（栅格空间和模型空间在<a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="栅格数据可以包含以下部分或全部元素。">GeoRaster数据模型中</a>有解释。）
                           </p>
                        </li>
                     </ul>
                     <p>不支持存储在输入GeoRaster对象中的颜色映射。</p>
                     <p>输出GeoRaster对象没有金字塔或掩码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">例子</p>
                     <p>下面的示例创建一个GeoRaster对象，该对象将输入GeoRaster对象的所有波段分段拉伸到不同的单元格深度：0到255之间的线性拉伸输入值到0到2000的范围。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_number_array：= null; inValues sdo_number_arrayset; outValues sdo_number_arrayset; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; - 定义输入和输出值范围inValues：= sdo_number_arrayset（sdo_number_array（0,255））; outValues：= sdo_number_arrayset（sdo_number_array（0,2000））; sdo_geor_ip.piecewisestretch（gr1,0，cropArea，null，inValues，outValues，'celldepth = 16bit_u'，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre><p>以下示例分段拉伸每个波段的不同范围;输出是临时BLOB。 （它引用一个名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; cropArea sdo_number_array：= null; inValues sdo_number_arrayset; outValues sdo_number_arrayset; out_lob BLOB; outArea sdo_geometry：= null; outWindow sdo_geometry：= null; BEGIN dbms_lob.create_temporary（out_lob，TRUE）; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; - 定义输入和输出值范围inValues：= sdo_number_arrayset（sdo_number_array（0,30,80,255），sdo_number_array（0,10,50,255），sdo_number_array（0,50,150,255））; outValues：= sdo_number_arrayset（sdo_number_array（0,80,200,255），sdo_number_array（0,60,150,255），sdo_number_array（0,100,250,255））; sdo_geor_ip.piecewisestretch（gr1,0，cropArea，null，inValues，outValues，null，out_lob，outArea，outWindow）;如果outWindow不为null则为dbms_output.put_line（'输出窗口：（'|| outWindow（1）||'，'|| outWindow（2）||'，'|| outWindow（3）||'，'| | outWindow（4）||'）'）;万一; dbms_lob.freeTemporary（out_lob）;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_IP包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E" name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E"></a><h3 id="GEORS-GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E" class="sect3"><span class="enumeration_section">11.7</span> SDO_GEOR_IP.stretch</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，minValues IN SDO_NUMBER_ARRAY DEFAULT NULL，maxValues IN SDO_NUMBER_ARRAY DEFAULT NULL，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER），parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，minValues IN SDO_NUMBER_ARRAY DEFAULT NULL，max_values IN SDO_NUMBER_ARRAY DEFAULT NULL，storageParam IN VARCHAR2，outGeoraster IN OUT SDO_GEORASTER），parallelParam IN VARCHAR2 DEFAULT NULL）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_NUMBER_ARRAY，bandNumbers IN VARCHAR2，minValues IN SDO_NUMBER_ARRAY DEFAULT NULL，maxValues IN SDO_NUMBER_ARRAY DEFAULT NULL，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch（inSoRaster IN SDO_GEORASTER，pyramidLevel IN NUMBER，cropNrea IN SDO_GEOMETRY，layerNumbers IN VARCHAR2，minValues IN SDO_NUMBER_ARRAY DEFAULT NULL，max_values IN SDO_NUMBER_ARRAY DEFAULT NULL，storageParam IN VARCHAR2，rasterBlob IN OUT BLOB，outArea OUT SDO_GEOMETRY，outWindow OUT SDO_NUMBER_ARRAY）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-30001566-2066-4178-914A-29A2C4E14931">描述</p>
                     <p>使用最小值和最大值在输入GeoRaster对象上执行最小 - 最大线性拉伸。处理后的图像存储在输出GeoRaster对象或BLOB中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a> GeoRaster中的<a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF"><!-- --></a></dt>
                        <dd>
                           <p>要拉伸的SDO_GEORASTER对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843"><!-- --></a> pyramidLevel</dt>
                        <dd>
                           <p>一个数字，指定要在源GeoRaster对象中拉伸的金字塔等级。如果为null，则默认值为0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-B990F65D-6226-455A-94B8-87A3958C9239"><!-- --></a> cropArea</dt>
                        <dd>
                           <p>作物面积定义。如果<code class="codeph">cropArea</code>的类型为SDO_GEOMETRY，请使用<code class="codeph">layerNumbers</code>参数指定一个或多个图层编号;如果<code class="codeph">cropArea</code>的类型为SDO_NUMBER_ARRAY，请使用<code class="codeph">bandNumbers</code>参数指定一个或多个波段号。
                           </p>
                           <p>如果数据类型为SDO_NUMBER_ARRAY，则该参数标识矩形窗口的左上角（行，列）和右下角（行，列）坐标，并假定为栅格空间。如果数据类型是SDO_GEOMETRY，则几何对象的最小边界矩形（MBR）用作裁剪区域;另请参阅SDO_SRID要求的使用说明。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA"><!-- --></a> bandNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的物理带编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于1,2和3的波段，使用<code class="codeph">1-3</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D"><!-- --></a> layerNumbers</dt>
                        <dd>
                           <p>标识要在其上执行操作的逻辑层编号的字符串。使用逗号分隔值，使用连字符表示范围（例如，对于第2,3和4层，使用<code class="codeph">2-4</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B"><!-- --></a> minValues</dt>
                        <dd>
                           <p>要拉伸的带的最小值。如果为null，则使用存储在图层元数据中的输入GeoRaster对象的最小值。如果SDO_NUMBER_ARRAY中只有一个值，则将其用作所有输入波段的最小值;否则，SDO_NUMBER_ARRAY中的值的数量必须与输出GeoRaster对象的波段数相同。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-82D89140-9FAE-4CBB-9EA1-39593A53014B"><!-- --></a> maxValues</dt>
                        <dd>
                           <p>要拉伸的带的最大值。如果为null，则使用存储在图层元数据中的输入GeoRaster对象的最大值。如果SDO_NUMBER_ARRAY中只有一个值，则将其用作所有输入波段的最大值;否则，SDO_NUMBER_ARRAY中的值的数量必须与输出GeoRaster对象的波段数相同。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084"><!-- --></a> storageParam</dt>
                        <dd>
                           <p>指定存储参数的字符串，如<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数中所述</a> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-ABBEC23E-E834-44B7-BF98-45E0F10B4474"><!-- --></a> outGeoRaster</dt>
                        <dd>
                           <p>输出SDO_GEORASTER对象，它反映了操作的结果。必须是有效的现有GeoRaster对象或空的GeoRaster对象。（空的GeoRaster对象在<a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">空白和空GeoRaster对象中</a>进行了解释。）不能与<code class="codeph">inGeoRaster</code> GeoRaster对象相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-C598A40B-39CE-4D1D-8327-CA139A11C4EC"><!-- --></a> parallelParam</dt>
                        <dd>
                           <p>指定操作的并行度。如果指定，则必须采用<code class="codeph">parallel=</code> <span class="italic">n</span>的形式，其中<span class="italic">n</span>大于1。数据库优化器使用此参数指定的并行度。如果未指定，则默认情况下不进行并行处理。（有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="GeoRaster有两种类型的并行处理。">GeoRaster中的并行处理</a> 。）
                           </p>
                           <p>如果指定了并行性，则该过程在进程运行时执行内部提交。因此，您无法回滚此过程的结果。如果发生错误（即使它是由Oracle并行服务器引发的），您必须显式删除生成的输出GeoRaster对象才能回滚操作。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-42FFD7A1-7CA2-47B0-8031-1959ECADD2D7"><!-- --></a> rasterBlob</dt>
                        <dd>
                           <p>BLOB保存处理结果的输出。它必须存在或在操作之前已初始化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-F35CAC73-6F21-4B19-8D8D-602E3D9ED51A"><!-- --></a> outArea</dt>
                        <dd>
                           <p>一个SDO_GEOMETRY对象，包含结果对象的模型坐标系中的MBR（最小边界矩形）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-09E38767-1E57-4BE6-A3E3-B0FCBA77F5D9"><!-- --></a> outWindow</dt>
                        <dd>
                           <p>SDO_NUMBER_ARRAY对象，用于标识单元格空间中输出窗口的左上角和右下角的坐标。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">使用说明</p>
                     <p>使用<code class="codeph">minValues</code>和<code class="codeph">maxValues</code>参数中的值或存储在图像的统计元数据中的最小值和最大值，将输入的GeoRaster对象拉伸到0-255。如果<code class="codeph">minValues</code>和<code class="codeph">maxValues</code>参数为null，则输入的GeoRaster对象必须在其元数据中设置统计信息。
                     </p>
                     <p>输出GeoRaster对象的单元格深度始终为<code class="codeph">8BIT_U</code> 。当需要将GeoRaster图像拉伸到<code class="codeph">8BIT_U</code>以外的单元格深度的图像时，可以使用<a href="SDO_GEOR_IP-reference-ref.html#GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3">SDO_GEOR_IP.piecewiseStretch</a> 。
                     </p>
                     <p>如果<code class="codeph">cropArea</code>参数数据类型为SDO_GEOMETRY，则SDO_SRID值必须为以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Null，指定栅格空间</p>
                        </li>
                        <li>
                           <p>MDSYS.CS_SRS表的SRID列中的值</p>
                           <p>如果<code class="codeph">cropArea</code>参数几何体和模型空间的SDO_SRID值不同，则<code class="codeph">cropArea</code>参数几何体将在执行操作之前自动转换为模型空间的坐标系。（栅格空间和模型空间在<a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="栅格数据可以包含以下部分或全部元素。">GeoRaster数据模型中</a>有解释。）
                           </p>
                        </li>
                     </ul>
                     <p>不支持存储在输入GeoRaster对象中的颜色映射。</p>
                     <p>输出GeoRaster对象没有金字塔或掩码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">例子</p>
                     <p>以下示例创建一个GeoRaster对象，该对象将输入GeoRaster对象的band 2从值范围（30,150）延伸到（0,255）。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_number_array：= null; BEGIN INSERT INTO georaster_table（georid，georaster）VALUES（41，sdo_geor.init（'RDT_1'））RETURNING georaster INTO gr2; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.stretch（gr1,0，cropArea，'2'，sdo_number_array（30），sdo_number_array（150），null，gr2）;更新georaster_table SET georaster = gr2 WHERE georid = 41;承诺;结束; /</pre><p>以下示例将输入GeoRaster对象的band 2从值范围（30,150）拉伸到（0,255）;输出是临时BLOB。 （它引用一个名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr1 sdo_georaster; gr2 sdo_georaster; cropArea sdo_number_array：= null; out_lob BLOB; outArea sdo_geometry：= null; outWindow sdo_geometry：= null; BEGIN dbms_lob.create_temporary（out_lob，TRUE）; SELECT georaster INTO gr1 FROM georaster_table WHERE georid = 4; sdo_geor_ip.stretch（gr1,0，cropArea，'2'，sdo_number_array（30），sdo_number_array（150），null，out_lob，outArea，outWindow）;如果outWindow不为null则为dbms_output.put_line（'输出窗口：（'|| outWindow（1）||'，'|| outWindow（2）||'，'|| outWindow（3）||'，'| | outWindow（4）||'）'）;万一; dbms_lob.freeTemporary（out_lob）;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="SDO_GEOR_IP包中包含用于对GeoRaster对象执行图像处理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_IP包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>