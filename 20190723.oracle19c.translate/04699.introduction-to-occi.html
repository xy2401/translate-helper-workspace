<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>OCCI简介</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96205-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="changes-in-this-release.html" title="Previous" type="text/html"></link>
      <link rel="next" href="installation-and-upgrading.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNCPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="changes-in-this-release.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="installation-and-upgrading.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCCI简介</li>
            </ol>
            <a id="GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" name="GUID-99077609-BFCC-4FF7-9D23-C45623DDD465"></a><a id="LNCPP001"></a>
            
            <h2 id="LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" class="sect2"><span class="enumeration_chapter">1</span> OCCI简介</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章概述了Oracle C ++调用接口（OCCI），并介绍了讨论OCCI时使用的术语。您将获得开发在Oracle环境中运行的C ++应用程序所需的背景信息。</p>
               <div class="p">本章包含以下主题：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="introduction-to-occi.html#GUID-0E00BC5A-5C7D-4870-BCA8-21DFF34EE848">OCCI概述</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-occi.html#GUID-B7D82E3B-4307-494A-A118-3DD71C0E013B">关于处理SQL语句</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-occi.html#GUID-876B6357-CF65-4126-8700-083E13E4D881">PL / SQL概述</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-occi.html#GUID-231FB20E-92BB-43ED-B461-E312AA73620F">关于特殊OCCI / SQL术语</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-occi.html#GUID-78CF4F42-7111-4C78-9D6F-44A0B6C98D99">关于对象支持</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-occi.html#GUID-7DABFB59-B330-4EA1-9D40-C23283CF425F">关于其他支持</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="LNCPP20045"></a><div class="props_rev_3"><a id="GUID-0E00BC5A-5C7D-4870-BCA8-21DFF34EE848" name="GUID-0E00BC5A-5C7D-4870-BCA8-21DFF34EE848"></a><h3 id="LNCPP-GUID-0E00BC5A-5C7D-4870-BCA8-21DFF34EE848" class="sect3"><span class="enumeration_section">1.1</span> OCCI概述</h3>
               <div>
                  <p>Oracle C ++调用接口（OCCI）是一种应用程序编程接口（API），它为C ++应用程序提供对Oracle数据库中数据的访问。OCCI使C ++程序员能够使用全范围的Oracle数据库操作，包括SQL语句处理和对象操作。</p>
                  <p>OCCI规定：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>通过有效使用系统内存和网络连接实现高性能应用</p>
                     </li>
                     <li>
                        <p>可扩展的应用程序，可以为越来越多的用户和请求提供服务</p>
                     </li>
                     <li>
                        <p>通过使用Oracle数据库对象（包括对Oracle数据库对象的客户端访问）全面支持应用程序开发</p>
                     </li>
                     <li>
                        <p>简化的用户身份验证和密码管理</p>
                     </li>
                     <li>
                        <p>n层认证</p>
                     </li>
                     <li>
                        <p>用于双层客户端/服务器环境或多层环境中的动态连接管理和事务管理的一致接口</p>
                     </li>
                     <li>
                        <p>封装和不透明的接口</p>
                     </li>
                  </ul>
                  <p>OCCI以动态运行时库（OCCI类）的形式提供标准数据库访问和检索功能库，可以在运行时在C ++应用程序中进行链接。这消除了在第三代语言（3GL）程序中嵌入SQL或PL / SQL的要求。</p>
                  <div class="p">本节讨论以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-93F953CD-AB09-4EDE-B84A-F9550A080C88">关于OCCI的好处</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-6659D61E-8DC1-434A-BF19-510428375789">关于使用OCCI构建C ++应用程序</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-AEEE3400-A9BC-4927-BA5C-1231F824A3AC">关于OCCI的功能</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-29BF54C3-0BEE-4501-9232-E51D93456098">关于程序和非程序要素</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20046"></a><div class="props_rev_3"><a id="GUID-93F953CD-AB09-4EDE-B84A-F9550A080C88" name="GUID-93F953CD-AB09-4EDE-B84A-F9550A080C88"></a><h4 id="LNCPP-GUID-93F953CD-AB09-4EDE-B84A-F9550A080C88" class="sect4"><span class="enumeration_section">1.1.1</span>关于OCCI的好处</h4>
                  <div>
                     <p>与其他访问Oracle数据库的方法相比，OCCI具有以下显着优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>利用C ++和面向对象的编程范例</p>
                        </li>
                        <li>
                           <p>很容易使用</p>
                        </li>
                        <li>
                           <p>熟悉JDBC的人很容易学习</p>
                        </li>
                        <li>
                           <p>有一个导航界面来操作用户定义类型的数据库对象作为C ++类实例</p>
                        </li>
                     </ul>
                     <p>请注意，OCCI不支持非阻塞模式。</p>
                  </div>
               </div><a id="LNCPP20048"></a><a id="LNCPP20047"></a><div class="props_rev_3"><a id="GUID-6659D61E-8DC1-434A-BF19-510428375789" name="GUID-6659D61E-8DC1-434A-BF19-510428375789"></a><h4 id="LNCPP-GUID-6659D61E-8DC1-434A-BF19-510428375789" class="sect4"><span class="enumeration_section">1.1.2</span>关于使用OCCI构建C ++应用程序</h4>
                  <div>
                     <p><a href="introduction-to-occi.html#GUID-6659D61E-8DC1-434A-BF19-510428375789__BABHECCH">如图1-1</a>所示，您编译和链接OCCI程序的方式与编译和链接不使用数据库的应用程序的方式相同。
                     </p>
                     <div class="figure" id="GUID-6659D61E-8DC1-434A-BF19-510428375789__BABHECCH">
                        <p class="titleinfigure">图1-1 OCCI开发流程</p><img src="img/occi_development_process.gif" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/occi_development_process.html"><br><a href="img_text/occi_development_process.html">“图1-1 OCCI开发过程”的描述</a></div>
                     <!-- class="figure" -->
                     <p>Oracle支持大多数流行的第三方编译器。连接OCCI程序的细节因系统而异。在某些平台上，除了OCCI库之外，可能还需要包含其他库以正确链接您的OCCI程序。</p>
                     <div class="infoboxnotealso" id="GUID-6659D61E-8DC1-434A-BF19-510428375789__GUID-3A571ACB-9E2F-492F-9E7A-A4AF2A85EBE3">
                        <p class="notep1">也可以看看：</p>
                        <p>特定于操作系统的Oracle文档和“ <span class="italic">Oracle数据库安装指南”</span> ，以获取有关为特定平台编译和链接OCCI应用程序的更多信息</p>
                     </div>
                  </div>
               </div><a id="LNCPP20049"></a><div class="props_rev_3"><a id="GUID-AEEE3400-A9BC-4927-BA5C-1231F824A3AC" name="GUID-AEEE3400-A9BC-4927-BA5C-1231F824A3AC"></a><h4 id="LNCPP-GUID-AEEE3400-A9BC-4927-BA5C-1231F824A3AC" class="sect4"><span class="enumeration_section">1.1.3</span>关于OCCI的功能</h4>
                  <div>
                     <p>OCCI提供以下功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用于设计可扩展的多线程应用程序的API，可以安全地支持大量用户</p>
                        </li>
                        <li>
                           <p>SQL访问函数，用于管理数据库访问，处理SQL语句以及操作从Oracle数据库服务器检索的对象</p>
                        </li>
                        <li>
                           <p>数据类型映射和操作函数，用于操作Oracle类型的数据属性</p>
                        </li>
                        <li>
                           <p>用于消息管理的高级队列</p>
                        </li>
                        <li>
                           <p>分布式事务支持的XA合规性</p>
                        </li>
                        <li>
                           <p>SQL和PL / SQL查询的语句缓存</p>
                        </li>
                        <li>
                           <p>用于管理多个连接的连接池</p>
                        </li>
                        <li>
                           <p>全球化和Unicode支持，可根据国际和地区语言要求定制应用程序</p>
                        </li>
                        <li>
                           <p>对象类型转换器实用程序</p>
                        </li>
                        <li>
                           <p>透明应用程序故障转移支持</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20050"></a><div class="props_rev_3"><a id="GUID-29BF54C3-0BEE-4501-9232-E51D93456098" name="GUID-29BF54C3-0BEE-4501-9232-E51D93456098"></a><h4 id="LNCPP-GUID-29BF54C3-0BEE-4501-9232-E51D93456098" class="sect4"><span class="enumeration_section">1.1.4</span>关于程序和非程序要素</h4>
                  <div>
                     <p>Oracle C ++调用接口（OCCI）使您能够在多层体系结构上开发可扩展的多线程应用程序，这些应用程序将结构化查询语言（SQL）的非过程数据访问功能与C ++的过程功能相结合。</p>
                     <p>在非过程语言程序中，指定要操作的数据集，但是未指定可执行的操作或如何执行操作。SQL的非过程性质使其成为一种易于学习和使用的语言来执行数据库事务。它也是用于访问和操纵现代关系数据库和对象关系数据库系统中的数据的标准语言。</p>
                     <p>在过程语言程序中，大多数语句的执行取决于先前或后续语句以及控制结构，例如循环或条件分支，这些在SQL中不可用。这些语言的程序性使它们比SQL更复杂，但它也使它们非常灵活和强大。</p>
                     <p>OCCI程序中的非过程语言元素和过程语言元素的组合使得可以在结构化编程环境中轻松访问Oracle数据库。</p>
                     <p>OCCI支持通过Oracle数据库服务器提供的所有SQL数据定义，数据操作，查询和事务控制工具。例如，OCCI程序可以对Oracle数据库运行查询。查询可以要求程序使用输入（绑定）变量向数据库提供数据，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM employees WHERE employee_id =： <span class="italic">empnum</span>
</pre><p>在此SQL语句中， <span class="italic"><code class="codeph">empnum</code></span>是应用程序提供的值的占位符。
                     </p>
                     <p>在OCCI应用程序中，您还可以利用PL / SQL，Oracle对SQL的过程扩展。您开发的应用程序比仅使用SQL编写的应用程序更强大，更灵活。OCCI还提供了访问和操作Oracle数据库服务器中对象的工具。</p>
                  </div>
               </div>
            </div><a id="LNCPP20051"></a><div class="props_rev_3"><a id="GUID-B7D82E3B-4307-494A-A118-3DD71C0E013B" name="GUID-B7D82E3B-4307-494A-A118-3DD71C0E013B"></a><h3 id="LNCPP-GUID-B7D82E3B-4307-494A-A118-3DD71C0E013B" class="sect3"><span class="enumeration_section">1.2</span>关于处理SQL语句</h3>
               <div>
                  <div class="p">OCCI应用程序的主要任务之一是处理SQL语句。不同类型的SQL语句需要程序中的不同处理步骤。在编写OCCI应用程序时，请务必考虑到这一点。Oracle识别几种类型的SQL语句：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23">关于数据定义语言语句</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-C8ABA717-8D4E-4844-AA61-BB72BBDAD05C">关于控制声明</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB">关于数据操作语言语句</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB">关于查询</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20053"></a><a id="LNCPP20054"></a><a id="LNCPP20055"></a><a id="LNCPP20052"></a><div class="props_rev_3"><a id="GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23" name="GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23"></a><h4 id="LNCPP-GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23" class="sect4"><span class="enumeration_section">1.2.1</span>关于数据定义语言语句</h4>
                  <div>
                     <p>数据定义语言（DDL）语句管理数据库中的模式对象。这些语句创建新表，删除旧表，并建立其他模式对象。它们还控制对架构对象的访问。<a href="introduction-to-occi.html#GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23__CACEGCDH">示例1-1</a>说明了如何创建表， <a href="introduction-to-occi.html#GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23__BABCJDAI">示例1-2</a>说明了如何在此表上授予和撤消权限。
                     </p>
                     <p>DDL语句还允许您使用Oracle数据库中的对象，如<a href="introduction-to-occi.html#GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23__CACICJFJ">示例1-3所示</a> ，该示例说明了如何创建对象表。
                     </p>
                     <div class="example" id="GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23__CACEGCDH">
                        <p class="titleinexample">示例1-1创建表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employee_information（employee_id NUMBER（6），ssn NUMBER（9），dependents NUMBER（1），mail_address VARCHAR（60））</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23__BABCJDAI">
                        <p class="titleinexample">示例1-2指定对表的访问</p><pre class="oac_no_warn" dir="ltr">对employee_information进行GRANT UPDATE，INSERT，DELETE，以便在employee_information上重新启动更新来自jamie</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-265CCEA9-AAAE-40C0-A8E6-57EE21480B23__CACICJFJ">
                        <p class="titleinexample">示例1-3创建对象表</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE person_info_type AS OBJECT（employee_id NUMBER（6），ssn NUMBER（9），dependents NUMBER（1），mail_address VARCHAR（60））CREATE TABLE person_info_table OF person_info_type</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNCPP20056"></a><div class="props_rev_3"><a id="GUID-C8ABA717-8D4E-4844-AA61-BB72BBDAD05C" name="GUID-C8ABA717-8D4E-4844-AA61-BB72BBDAD05C"></a><h4 id="LNCPP-GUID-C8ABA717-8D4E-4844-AA61-BB72BBDAD05C" class="sect4"><span class="enumeration_section">1.2.2</span>关于控制声明</h4>
                  <div>
                     <p>OCCI应用程序处理事务控制，连接控制和系统控制语句（例如，DML语句）。</p>
                     <div class="infoboxnotealso" id="GUID-C8ABA717-8D4E-4844-AA61-BB72BBDAD05C__GUID-67793FF9-CF24-4474-B0C0-987E3EA956E2">
                        <p class="notep1">也可以看看：</p>
                        <p>有关控制语句的信息，请<a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30043" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a>
                        </p>
                     </div>
                  </div>
               </div><a id="LNCPP20058"></a><a id="LNCPP20059"></a><a id="LNCPP20057"></a><div class="props_rev_3"><a id="GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB" name="GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB"></a><h4 id="LNCPP-GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB" class="sect4"><span class="enumeration_section">1.2.3</span>关于数据操作语言语句</h4>
                  <div>
                     <p>数据操作语言（DML）语句可以更改数据库表中的数据。例如，DML语句将新行插入表中，更新现有行中的列值，从表中删除行，锁定数据库中的表，以及解释SQL语句的执行计划。</p>
                     <p>DML语句可能需要应用程序通过使用输入绑定变量向数据库提供数据，如<a href="introduction-to-occi.html#GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB__CACIDBDF">例1-4所示</a> 。此语句可以使用不同的绑定值执行多次，或者可以通过数组插入在服务器的单个往返中添加多个行。
                     </p>
                     <p>DML语句还使您能够使用Oracle数据库中的对象，如<a href="introduction-to-occi.html#GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB__CACGIABH">示例1-5所示</a> ，该<a href="introduction-to-occi.html#GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB__CACGIABH">示例</a>显示了将类型实例插入到对象表中。
                     </p>
                     <div class="example" id="GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB__CACIDBDF">
                        <p class="titleinexample">示例1-4通过输入绑定变量插入数据</p><pre class="oac_no_warn" dir="ltr">插入部门VALUES（：1，：2，：3）</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-6BDCC960-9E74-43C5-8101-315F1CFD63DB__CACGIABH">
                        <p class="titleinexample">示例1-5将对象插入Oracle数据库</p><pre class="oac_no_warn" dir="ltr">INSERT INTO person_info_table VALUES（person_info_type（'450987'，'123456789'，'3'，'146 Winfield Street'））</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNCPP20061"></a><a id="LNCPP20062"></a><a id="LNCPP20060"></a><div class="props_rev_3"><a id="GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB" name="GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB"></a><h4 id="LNCPP-GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB" class="sect4"><span class="enumeration_section">1.2.4</span>关于查询</h4>
                  <div>
                     <p>查询是从数据库中的表中检索数据的语句。查询可以返回零行，一行或多行数据。所有查询都以SQL关键字<code class="codeph">SELECT</code>开头，如<a href="introduction-to-occi.html#GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB__BABBEJCG">例1-6所示</a> ：</p>
                     <p>查询可能要求程序使用输入绑定变量向数据库服务器提供数据，如<a href="introduction-to-occi.html#GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB__BABIEJBI">例1-7所示</a> ：</p>
                     <p>在此SQL语句中， <code class="codeph">emp_id</code>是应用程序提供的值的占位符。
                     </p>
                     <div class="example" id="GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB__BABBEJCG">
                        <p class="titleinexample">示例1-6使用简单SELECT语句</p><pre class="oac_no_warn" dir="ltr">SELECT department_name FROM departments WHERE department_id = 30</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-EB9848B8-2101-4322-A61A-CF9D395F63AB__BABIEJBI">
                        <p class="titleinexample">示例1-7将SELECT语句与输入变量一起使用</p><pre class="oac_no_warn" dir="ltr">SELECT first_name，last_name FROM employees WHERE employee_id =：emp_id</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNCPP20064"></a><a id="LNCPP20065"></a><a id="LNCPP20063"></a><div class="props_rev_3"><a id="GUID-876B6357-CF65-4126-8700-083E13E4D881" name="GUID-876B6357-CF65-4126-8700-083E13E4D881"></a><h3 id="LNCPP-GUID-876B6357-CF65-4126-8700-083E13E4D881" class="sect3"><span class="enumeration_section">1.3</span> PL / SQL概述</h3>
               <div>
                  <p><span class="bold">PL / SQL</span>是Oracle对SQL语言的过程扩展。PL / SQL处理比简单查询和SQL数据操作语言语句更复杂的任务。PL / SQL允许将多个构造分组为单个块并作为一个单元执行。其中包括以下结构：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>一个或多个SQL语句</p>
                     </li>
                     <li>
                        <p>变量声明</p>
                     </li>
                     <li>
                        <p>作业陈述</p>
                     </li>
                     <li>
                        <p>程序控制声明（ <code class="codeph">IF</code> <code class="codeph">...</code> <code class="codeph">THEN</code> <code class="codeph">...</code> <code class="codeph">ELSE</code>语句和循环）</p>
                     </li>
                     <li>
                        <p>异常处理</p>
                     </li>
                  </ul>
                  <p>除了从OCCI程序调用PL / SQL存储过程之外，还可以在OCCI程序中使用PL / SQL块来执行以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>调用其他PL / SQL存储过程和存储函数。</p>
                     </li>
                     <li>
                        <p>将过程控制语句与多个SQL语句组合在一起，作为一个单元执行。</p>
                     </li>
                     <li>
                        <p>访问特殊的PL / SQL功能，例如记录，表，游标FOR循环和异常处理。</p>
                     </li>
                     <li>
                        <p>使用游标变量。</p>
                     </li>
                     <li>
                        <p>访问和操作Oracle数据库中的对象。</p>
                     </li>
                  </ul>
                  <p>PL / SQL过程或函数也可以返回输出变量。这称为<span class="bold">out绑定变量</span> ，如<a href="introduction-to-occi.html#GUID-876B6357-CF65-4126-8700-083E13E4D881__BABGCHDI">例1-8所示</a> ：</p>
                  <p>这里，第一个参数是一个输入变量，它提供员工的ID号。第二个参数或out绑定变量包含员工姓名的返回值。</p>
                  <p>在给定特定员工编号的情况下，PL / SQL还可用于发出SQL语句以从员工表中检索值。<a href="introduction-to-occi.html#GUID-876B6357-CF65-4126-8700-083E13E4D881__BABIJDDG">例1-9</a>演示了在PL / SQL语句中使用占位符。
                  </p>
                  <p>请注意，此语句中的占位符不是PL / SQL变量。它们表示处理语句时传入和传出数据库服务器的输入和输出参数。必须在程序中指定这些占位符。</p>
                  <div class="example" id="GUID-876B6357-CF65-4126-8700-083E13E4D881__BABGCHDI">
                     <p class="titleinexample">示例1-8使用PL / SQL获取输出变量</p><pre class="oac_no_warn" dir="ltr">GET_EMPLOYEE_NAME（：1，：2）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-876B6357-CF65-4126-8700-083E13E4D881__BABIJDDG">
                     <p class="titleinexample">示例1-9使用PL / SQL将部分记录插入占位符</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，first_name，salary，commission_pct INTO：emp_last，：emp_first，：sal，：comm FROM employees WHERE employee_id =：emp_id;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="LNCPP20067"></a><a id="LNCPP20066"></a><div class="props_rev_3"><a id="GUID-231FB20E-92BB-43ED-B461-E312AA73620F" name="GUID-231FB20E-92BB-43ED-B461-E312AA73620F"></a><h3 id="LNCPP-GUID-231FB20E-92BB-43ED-B461-E312AA73620F" class="sect3"><span class="enumeration_section">1.4</span>关于特殊OCCI / SQL术语</h3>
               <div>
                  <p>本指南使用特殊术语来引用SQL语句的不同部分。考虑<a href="introduction-to-occi.html#GUID-231FB20E-92BB-43ED-B461-E312AA73620F__BABEDFCH">例1-10</a> ：</p>
                  <p>此示例包含以下部分：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>一个SQL <span class="bold">命令</span> ： <code class="codeph">SELECT</code></p>
                     </li>
                     <li>
                        <p>三个<span class="bold">选择列表项</span> ： <code class="codeph">first_name</code> ， <code class="codeph">last_name</code>和<code class="codeph">email</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">FROM</code>子句中的<span class="bold">表名</span> ： <code class="codeph">employees</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">WHERE</code>子句中的两个<span class="bold">列名</span> ： <code class="codeph">department_id</code>和<code class="codeph">commission_pct</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">WHERE</code>子句中的<span class="bold">数字输入值</span> ： <code class="codeph">40</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">WHERE</code>子句中输入绑定变量的<span class="bold">占位符</span> <code class="codeph">:base</code></p>
                     </li>
                  </ul>
                  <p>在开发OCCI应用程序时，可以调用为数据库服务器指定程序中输入和输出变量的值或引用的例程。在本指南中，为数据指定占位符变量称为a <a id="d8591e1347" class="indexterm-anchor"></a> <span class="bold">绑定操作</span> 。对于输入变量，这称为<span class="bold">绑定操作</span> 。对于输出变量，这称为<span class="bold">out绑定操作</span> 。
                  </p>
                  <div class="example" id="GUID-231FB20E-92BB-43ED-B461-E312AA73620F__BABEDFCH">
                     <p class="titleinexample">示例1-10使用SQL提取部分记录</p><pre class="oac_no_warn" dir="ltr">SELECT first_name，last_name，email FROM employees WHERE department_id = 80 AND commission_pct&gt;：base;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="LNCPP20068"></a><div class="props_rev_3"><a id="GUID-78CF4F42-7111-4C78-9D6F-44A0B6C98D99" name="GUID-78CF4F42-7111-4C78-9D6F-44A0B6C98D99"></a><h3 id="LNCPP-GUID-78CF4F42-7111-4C78-9D6F-44A0B6C98D99" class="sect3"><span class="enumeration_section">1.5</span>关于对象支持</h3>
               <div>
                  <p>OCCI具有处理<span class="bold">对象类型</span>和<span class="bold">对象的工具</span> 。<span class="bold">对象类型</span>是表示现实世界实体的抽象的用户定义的数据结构。例如，数据库可能包含<code class="codeph">person</code>对象的定义。该对象类型可能具有<span class="bold">属性</span> ，例如<code class="codeph">first_name</code> ， <code class="codeph">last_name</code>和<code class="codeph">age</code> ，它们表示人员的标识特征。
                  </p>
                  <p>对象类型定义用作创建<span class="bold">对象</span>的基础， <span class="bold">对象</span>表示对象类型的实例。通过使用对象类型作为结构定义，可以使用<code class="codeph">John</code> ， <code class="codeph">Bonivento</code>和<code class="codeph">30</code>属性创建<code class="codeph">person</code>对象。对象类型还可以包含表示该对象类型行为的<span class="bold">方法</span>或编程函数。
                  </p>
                  <div class="infoboxnotealso" id="GUID-78CF4F42-7111-4C78-9D6F-44A0B6C98D99__GUID-485610E0-760B-414C-996A-B1F535CA762E">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT88817" target="_blank"><span><cite>Oracle数据库概念</cite></span></a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="../adobj/introduction-to-oracle-objects.html#ADOBJ001" target="_blank"><span><cite>Oracle数据库对象关系开发人员指南，</cite></span></a>用于更详细地解释对象类型和对象</p>
                        </li>
                     </ul>
                  </div>
                  <div class="p">OCCI为寻求使用Oracle数据库服务器对象功能的程序员提供了全面的API。这些功能可分为几个主要类别，将在后续主题中讨论：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-3977F49C-B2CA-4242-90FD-E47CA4651089">关于客户端对象缓存</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-2FB24DF3-8495-4475-80DF-D1D4C34FEB2A">关于对象的运行时环境</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-FF541E7E-8E13-4760-9DB7-0FFD76205561">关于关联和导航接口</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-F0642BA8-8A54-4306-94FE-899EA16477BA">关于与C（OCI）的互操作性</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-912C041B-6924-44E9-B61D-FB0FC641B28C">关于元数据类</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-7A42657B-FE4E-44B1-B581-C68A04A19308">关于对象类型转换器实用程序</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20069"></a><div class="props_rev_3"><a id="GUID-3977F49C-B2CA-4242-90FD-E47CA4651089" name="GUID-3977F49C-B2CA-4242-90FD-E47CA4651089"></a><h4 id="LNCPP-GUID-3977F49C-B2CA-4242-90FD-E47CA4651089" class="sect4"><span class="enumeration_section">1.5.1</span>关于客户端对象缓存</h4>
                  <div>
                     <p>对象缓存是客户端内存缓冲区，为对象提供查找和内存管理支持。它存储和跟踪OCCI应用程序从服务器提取到客户端的对象。在<code class="codeph">object</code>模式下初始化OCCI环境时，将创建客户端对象缓存。针对同一服务器运行的多个应用程序具有自己的对象缓存。客户端对象缓存跟踪当前在内存中的对象，维护对对象的引用，管理自动对象交换以及跟踪元属性或键入有关对象的信息。客户端对象缓存提供以下好处：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过减少获取和操作对象所需的客户端/服务器往返次数来提高应用程序性能</p>
                        </li>
                        <li>
                           <p>通过支持从客户端缓存进行对象交换来增强可伸缩性</p>
                        </li>
                        <li>
                           <p>通过支持对象级锁定来改进并发性</p>
                        </li>
                        <li>
                           <p>超出缓存阈值时自动收集垃圾</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20070"></a><div class="props_rev_3"><a id="GUID-2FB24DF3-8495-4475-80DF-D1D4C34FEB2A" name="GUID-2FB24DF3-8495-4475-80DF-D1D4C34FEB2A"></a><h4 id="LNCPP-GUID-2FB24DF3-8495-4475-80DF-D1D4C34FEB2A" class="sect4"><span class="enumeration_section">1.5.2</span>关于对象的运行环境</h4>
                  <div>
                     <p>OCCI为对象提供运行时环境，提供一组方法来管理客户端如何使用Oracle对象。这些方法为执行这些任务提供了必要的功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>连接到Oracle数据库服务器以访问其对象功能</p>
                        </li>
                        <li>
                           <p>分配客户端对象缓存并调整其参数</p>
                        </li>
                        <li>
                           <p>检索错误和警告消息</p>
                        </li>
                        <li>
                           <p>控制访问数据库中对象的事务</p>
                        </li>
                        <li>
                           <p>通过SQL关联访问对象</p>
                        </li>
                        <li>
                           <p>描述其参数或结果属于Oracle对象类型的PL / SQL过程或函数</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20071"></a><div class="props_rev_3"><a id="GUID-FF541E7E-8E13-4760-9DB7-0FFD76205561" name="GUID-FF541E7E-8E13-4760-9DB7-0FFD76205561"></a><h4 id="LNCPP-GUID-FF541E7E-8E13-4760-9DB7-0FFD76205561" class="sect4"><span class="enumeration_section">1.5.3</span>关于关联和导航接口</h4>
                  <div>
                     <p>使用OCCI的应用程序可以通过几种类型的接口访问数据库中的对象，例如SQL <code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句，以及通过遍历相应的引用访问客户端对象缓存中的对象的C ++指针和引用。
                     </p>
                     <p>OCCI提供了一组方法，通过使用SQL <code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句来支持对象操作。要访问Oracle对象，这些SQL语句使用一组一致的步骤，就像访问关系表一样。OCCI提供了使用SQL语句访问对象的方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将对象类型实例和引用绑定为SQL语句和PL / SQL存储过程的输入和输出变量</p>
                        </li>
                        <li>
                           <p>执行包含对象类型实例和引用的SQL语句</p>
                        </li>
                        <li>
                           <p>获取对象类型实例和引用</p>
                        </li>
                        <li>
                           <p>从结果集中检索列值作为对象</p>
                        </li>
                        <li>
                           <p>描述Oracle对象类型的选择列表项</p>
                        </li>
                     </ul>
                     <p>OCCI提供了一个用于导航对象的无缝界面，使您能够以与在瞬态C ++对象上操作相同的方式操作数据库对象。您可以取消引用对象引用上的重载箭头（ <code class="codeph">-&gt;</code> ）运算符，以透明地将对象从数据库实现到应用程序空间。
                     </p>
                  </div>
               </div><a id="LNCPP21903"></a><div class="props_rev_3"><a id="GUID-F0642BA8-8A54-4306-94FE-899EA16477BA" name="GUID-F0642BA8-8A54-4306-94FE-899EA16477BA"></a><h4 id="LNCPP-GUID-F0642BA8-8A54-4306-94FE-899EA16477BA" class="sect4"><span class="enumeration_section">1.5.4</span>关于与C（OCI）的互操作性</h4>
                  <div>
                     <p>OCCI应用程序可以通过调用OCCI类实例上的<code class="codeph">getOCI</code> <span class="italic"><code class="codeph">xxx</code></span> <code class="codeph">()</code>方法来检索基础OCI句柄和描述符。这些句柄可用于调用OCI函数。
                     </p>
                     <p>请注意，应用程序必须知道，如果在OCI句柄上更改了任何属性，则相应的OCCI实例可能会或可能不会反映这一点。</p>
                     <p>如果应用程序将OCI函数用于任何与对象相关的功能，则不支持OCCI和OCI之间的这种互操作性。</p>
                  </div>
               </div><a id="LNCPP1014"></a><a id="LNCPP21185"></a><a id="LNCPP21186"></a><a id="LNCPP20072"></a><div class="props_rev_3"><a id="GUID-912C041B-6924-44E9-B61D-FB0FC641B28C" name="GUID-912C041B-6924-44E9-B61D-FB0FC641B28C"></a><h4 id="LNCPP-GUID-912C041B-6924-44E9-B61D-FB0FC641B28C" class="sect4"><span class="enumeration_section">1.5.5</span>关于元数据类</h4>
                  <div>
                     <p>每个Oracle数据类型都由OCCI中的C ++类表示。该类通过重载的运算符和方法公开数据类型的行为和特征。例如，Oracle数据类型<code class="codeph">NUMBER</code>由<code class="codeph">the Number</code>类表示。OCCI提供了一个元数据类，使您可以检索描述数据库对象的元数据，包括对象类型。
                     </p>
                  </div>
               </div><a id="LNCPP20073"></a><div class="props_rev_3"><a id="GUID-7A42657B-FE4E-44B1-B581-C68A04A19308" name="GUID-7A42657B-FE4E-44B1-B581-C68A04A19308"></a><h4 id="LNCPP-GUID-7A42657B-FE4E-44B1-B581-C68A04A19308" class="sect4"><span class="enumeration_section">1.5.6</span>关于对象类型转换器实用程序</h4>
                  <div>
                     <p>对象类型转换器（OTT）实用程序将有关Oracle对象类型的架构信息转换为客户端语言绑定。也就是说，OTT将对象类型信息转换为宿主语言变量的声明，例如结构和类。OTT将包含有关Oracle数据库模式对象的信息的<code class="codeph">intype</code>文件作为输入。OTT生成一个<code class="codeph">outtype</code>文件以及必须包含在针对对象模式运行的C ++应用程序中的必要头文件和实现文件。<a id="d8591e2145" class="indexterm-anchor"></a></p>
                     <p>总之，OCCI通过以下方式支持Oracle数据库中的对象处理：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过消除编写与模式对象对应的主机语言变量的要求，提高应用程序开发人员的工作效率</p>
                        </li>
                        <li>
                           <p>通过提供自动将SQL创建的Oracle数据库模式对象映射到宿主语言变量的能力，将SQL保持为首选数据定义语言;这使Oracle能够支持用户数据的一致的企业级模型</p>
                        </li>
                        <li>
                           <p>通过在更改模式时重新生成包含的头文件来促进对象类型的模式演变，从而允许Oracle应用程序支持模式演变</p>
                        </li>
                        <li>
                           <p>执行操作对象数据和架构信息的SQL语句</p>
                        </li>
                        <li>
                           <p>在SQL语句中将对象引用和实例作为输入变量传递</p>
                        </li>
                        <li>
                           <p>将对象引用和实例声明为变量以接收SQL语句的输出</p>
                        </li>
                        <li>
                           <p>从数据库中获取对象引用和实例</p>
                        </li>
                        <li>
                           <p>描述返回对象实例和引用的SQL语句的属性</p>
                        </li>
                        <li>
                           <p>用对象参数或结果描述PL / SQL过程或函数</p>
                        </li>
                        <li>
                           <p>扩展提交和回滚调用以同步对象和关系功能</p>
                        </li>
                        <li>
                           <p>对象的高级排队</p>
                        </li>
                     </ul>
                     <p>通常通过指定intype文件，outtype文件和特定数据库连接从命令行调用OTT。</p>
                  </div>
               </div>
            </div><a id="LNCPP20074"></a><div class="props_rev_3"><a id="GUID-7DABFB59-B330-4EA1-9D40-C23283CF425F" name="GUID-7DABFB59-B330-4EA1-9D40-C23283CF425F"></a><h3 id="LNCPP-GUID-7DABFB59-B330-4EA1-9D40-C23283CF425F" class="sect3"><span class="enumeration_section">1.6</span>关于其他支持</h3>
               <div>
                  <div class="p">本节讨论如何构建Oracle数据库附带的OCCI示例以及其他资源：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-C8613F77-37B1-4B30-AC76-129FF276FBE2">建立OCCI演示</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-occi.html#GUID-5BED41F0-D392-4A92-8A59-9664C1EC81F6">关于Oracle技术网上的OCCI</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNCPP20075"></a><div class="props_rev_3"><a id="GUID-C8613F77-37B1-4B30-AC76-129FF276FBE2" name="GUID-C8613F77-37B1-4B30-AC76-129FF276FBE2"></a><h4 id="LNCPP-GUID-C8613F77-37B1-4B30-AC76-129FF276FBE2" class="sect4"><span class="enumeration_section">1.6.1</span>构建OCCI演示</h4>
                  <div>
                     <div class="section">
                        <p>您必须按照“ <span class="italic">Oracle数据库示例安装指南”中</span>的说明安装演示程序。这些演示的一部分用作本书的示例。要构建示例，请参阅以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>导航到演示目录。</span><div>
                              <p><span class="italic"><span class="bold">在Windows上</span></span> ，此目录为<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\rdbms\demo</code> 。
                              </p>
                              <p><span class="italic"><span class="bold">在Linux和UNIX上</span></span> ，此目录是<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/rdbms/demo</code> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>确保此目录包含文件<code class="codeph">demo_rdbms.mk</code> 。</span></li>
                        <li class="stepexpand"><span>使用<code class="codeph">make</code>命令创建OCCI演示。</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要同时进行所有演示，请使用以下参数：</p><pre class="oac_no_warn" dir="ltr">make -f demo_rdbms.mk occidemos</pre></li>
                                 <li>
                                    <p>要只制作一个演示，请使用参数：</p><pre class="oac_no_warn" dir="ltr">make -f demo_rdbms.mk <span class="italic">demoname</span>
</pre></li>
                                 <li>
                                    <p>要使用对象进行单个演示，请使用参数：</p><pre class="oac_no_warn" dir="ltr">make -f demo_rdbms.mk buildocci EXE = <span class="italic">demoname</span> OBJS = <span class="italic">demoname.o</span>
</pre></li>
                                 <li>
                                    <p>要使用静态库进行单个演示，请使用参数：</p><pre class="oac_no_warn" dir="ltr">make -f demo_rdbms.mk buildocci_static EXE = <span class="italic">demoname</span> OBJS = <span class="italic">demoname.o</span>
</pre></li>
                                 <li>
                                    <p>有关更多选项，请检查<code class="codeph">demo_rdbms.mk</code>文件。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="LNCPP20076"></a><div class="props_rev_3"><a id="GUID-5BED41F0-D392-4A92-8A59-9664C1EC81F6" name="GUID-5BED41F0-D392-4A92-8A59-9664C1EC81F6"></a><h4 id="LNCPP-GUID-5BED41F0-D392-4A92-8A59-9664C1EC81F6" class="sect4"><span class="enumeration_section">1.6.2</span>关于Oracle技术网上的OCCI</h4>
                  <div>
                     <p>您可以在以下位置找到有关OCCI的更多信息，包括论坛，下载和白皮书： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lncpp&amp;id=oracle_cpp_call_interface" target="_blank">Oracle Technology Network  -  Oracle C _ ++ _ Call Interface</a> 。
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>