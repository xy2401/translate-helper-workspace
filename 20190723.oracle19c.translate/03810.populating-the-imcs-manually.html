<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL."></meta>
      <meta name="description" content="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL."></meta>
      <title>手动填充IM列存储</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database In-Memory Guide"></meta>
      <meta property="og:description" content="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database In-Memory Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00"></meta>
      <meta name="dcterms.title" content="Database In-Memory Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96137-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="populating-objects-in-memory.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-memory-management.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="populating-objects-in-memory.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-memory-management.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库内存指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-the-im-column-store.html" property="item" typeof="WebPage"><span property="name">配置和填充IM列存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">手动填充IM列存储</li>
            </ol>
            <a id="GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" name="GUID-A9113275-BCD4-4C0E-8A25-2388005E3360"></a>
            
            <h2 id="INMEM-GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" class="sect2"><span class="enumeration_chapter">5</span>手动填充IM列存储</h2>
         </header>
         <div class="ind">
            <div>
               <p>数据库不会自动填充<code class="codeph">PRIORITY</code>设置为<code class="codeph">NONE</code>的n-Memory对象。要填充这些对象，必须执行SQL或PL / SQL。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0">关于内存中对象的手动填充</a><br>使用全表扫描， <code class="codeph">DBMS_INMEMORY</code>程序单元或<code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>手动填充对象。</li>
                  <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB">强制内存中对象的初始填充</a><br>您可以使用全表扫描， <code class="codeph">POPULATE</code>过程， <code class="codeph">POPULATE_WAIT</code>函数或<code class="codeph">REPOPULATE</code>过程强制对象的<code class="codeph">REPOPULATE</code> 。
                  </li>
                  <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20">手动填充内存表：示例</a><br>以下示例说明如何手动填充In-Memory表。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="configuring-the-im-column-store.html#GUID-8844C889-E381-4B77-8A51-7AA6462B14D7" title="您可以启用内存列存储（IM列存储）并调整其大小。您还可以为对象配置内存设置，并在IM列存储中填充这些对象。">配置和填充IM列存储</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" name="GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0"></a><h3 id="INMEM-GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" class="sect3"><span class="enumeration_section">5.1</span>关于内存中对象的手动填充</h3>
               <div>
                  <p>使用全表扫描， <code class="codeph">DBMS_INMEMORY</code>程序单元或<code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>手动填充对象。</p>
                  <p>如果启用了<code class="codeph">PRIORITY</code>设置为<code class="codeph">NONE</code>的对象，并且如果要立即填充它，则可以使用以下部分中描述的选项：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-07007572-F30C-48F1-930D-867C1A7E76CB">人口使用SELECT</a><br>您可以通过发出强制执行全表扫描的<code class="codeph">SELECT</code>语句来启动填充。
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097">人口使用DBMS_INMEMORY.POPULATE</a><br><code class="codeph">DBMS_INMEMORY.POPULATE</code>过程实现与完全扫描相同的目标。
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D">人口使用DBMS_INMEMORY_ADMIN.POPULATE_WAIT</a><br><code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>函数<span>启动优先级大于或等于指定优先级的所有<code class="codeph">INMEMORY</code>对象的填充，并返回填充的状态值。用户指定的时间间隔指定函数在将值返回给调用者之前等待的最长时间。</span></li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-60789205-70D3-47D2-969C-67FD45A1CD19">使用DBMS_INMEMORY.REPOPULATE的人口</a><br><code class="codeph">DBMS_INMEMORY.REPOPULATE</code>强制重新填充当前填充在IM列存储中的表，分区或子分区。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" title="数据库不会自动填充PRIORITY设置为NONE的n-Memory对象。要填充这些对象，必须执行SQL或PL / SQL。">手动填充IM列存储</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-07007572-F30C-48F1-930D-867C1A7E76CB" name="GUID-07007572-F30C-48F1-930D-867C1A7E76CB"></a><h4 id="INMEM-GUID-07007572-F30C-48F1-930D-867C1A7E76CB" class="sect4"><span class="enumeration_section">5.1.1</span>使用SELECT的人口</h4>
                  <div>
                     <p>您可以通过发出强制执行全表扫描的<code class="codeph">SELECT</code>语句来启动填充。
                     </p>
                     <p>在这种情况下，数据库读取对象中的每一行并将其转换为列格式。请注意，以下语句不<span class="italic">保证</span>全表扫描：</p><pre class="pre codeblock"><code>SELECT COUNT（*）FROM <span class="italic">object</span></code></pre><p>原因是优化器可能会选择扫描索引。因此，Oracle建议使用<code class="codeph">SELECT COUNT(*)</code>查询的<code class="codeph">FULL</code>提示强制进行全表扫描，如下例所示：</p><pre class="pre codeblock"><code>SELECT / * + FULL（客户）NO_PARALLEL（客户）* / COUNT（*）来自客户;</code></pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-07007572-F30C-48F1-930D-867C1A7E76CB__GUID-A768693E-DCF5-4311-AB7B-80A903201F3C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5" title="此示例使用全表扫描将sh.sales表填充到IM列存储中。">使用全表扫描填充内存表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Comments.html#GUID-581F6C91-1395-4ED0-81DE-59AE168FE183" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>以了解有关<code class="codeph">FULL</code>提示的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="使用全表扫描，DBMS_INMEMORY程序单元或DBMS_INMEMORY_ADMIN.POPULATE_WAIT手动填充对象。">关于内存中对象的手动填充</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097" name="GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097"></a><h4 id="INMEM-GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097" class="sect4"><span class="enumeration_section">5.1.2</span>使用DBMS_INMEMORY.POPULATE的人口</h4>
                  <div>
                     <p><code class="codeph">DBMS_INMEMORY.POPULATE</code>过程实现与完全扫描相同的目标。
                     </p>
                     <p>数据库读取指定对象中的每一行，将其从行格式转换为列格式，然后在IM列存储中填充它。以下PL / SQL块启动<code class="codeph">customer</code>表的填充：</p><pre class="pre codeblock"><code>BEGIN DBMS_INMEMORY.POPULATE（schema_name =&gt;'SH'，table_name =&gt;'CUSTOMERS'）;结束; /</code></pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097__GUID-59470890-FBC9-483E-A35D-6FFFFD78B25D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-A1B65E31-2EAD-4721-8842-E601D420A16A" title="此示例使用DBMS_INMEMORY.POPULATE将sh.customers表的填充启动到IM列存储中。">使用POPULATE过程填充表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_INMEMORY</code>包</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="使用全表扫描，DBMS_INMEMORY程序单元或DBMS_INMEMORY_ADMIN.POPULATE_WAIT手动填充对象。">关于内存中对象的手动填充</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D" name="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D"></a><h4 id="INMEM-GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D" class="sect4"><span class="enumeration_section">5.1.3</span>使用DBMS_INMEMORY_ADMIN.POPULATE_WAIT的人口</h4>
                  <div>
                     <p><code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>函数<span>启动优先级大于或等于指定优先级的所有<code class="codeph">INMEMORY</code>对象的填充，并返回填充的状态值。用户指定的时间间隔指定函数在将值返回给调用者之前等待的最长时间。</span></p>
                     <p>确保填充对象的示例用例包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>关闭数据库时，使用<code class="codeph">STARTUP RESTRICT</code>打开数据库，以便只有管理员才能访问数据库，然后使用所需的超时设置执行<code class="codeph">POPULATE_WAIT</code> 。当函数返回<code class="codeph">0</code> ，禁用受限会话，以便非管理用户可以查询数据库。
                           </p>
                        </li>
                        <li>
                           <p>使用服务或应用程序层技术阻止数据库连接。如果不存在分析索引，并且当应用程序依赖于IM列存储来提供合理的性能时，这些技术可以防止失控查询。</p>
                        </li>
                     </ul>
                     <p><code class="codeph">POPULATE_WAIT</code>函数不接受表名作为输入。相反，该函数处理<span class="italic">所有</span> <code class="codeph">INMEMORY</code>对象，其<code class="codeph">PRIORITY</code>设置大于或等于指定的<code class="codeph">priority</code> （默认值为<code class="codeph">LOW</code> ）。如果priority为<code class="codeph">NONE</code> ，则该函数处理所有<code class="codeph">INMEMORY</code>对象。请注意， <code class="codeph">POPULATE_WAIT</code>不适用于没有优先级设置的外部表。
                     </p>
                     <p>该函数接受总体百分比作为输入，默认为<code class="codeph">100</code> ，以及超时间隔，默认为<code class="codeph">99999999</code>秒（115.74天）。执行该函数时，数据库会尝试在超时间隔内填充满足指定<code class="codeph">PRIORITY</code>条件的对象，然后返回一个指示填充状态的值。
                     </p>
                     <p>下表描述了<code class="codeph">POPULATE_WAIT</code>的可能返回值。该函数返回值<code class="codeph">0</code> ， <code class="codeph">1</code> ， <code class="codeph">2</code> ，和<code class="codeph">3</code>仅当条件被指定的时间间隔结束之前遇到<code class="codeph">timeout</code> 。例如，如果<code class="codeph">timeout</code>为<code class="codeph">600</code> ，则仅当在600秒之前发生内存不足错误时，该函数才返回<code class="codeph">1</code> 。在数据库完成请求的操作之前，超时间隔结束时，函数返回<code class="codeph">-1</code> 。
                     </p>
                     <div class="tblformal" id="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D__GUID-A2718B48-5DAF-4495-AE79-6413730A6D79">
                        <p class="titleintable">表5-1 POPULATE_WAIT的返回值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" border="1" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d16774e876">不变</th>
                                 <th align="left" valign="bottom" id="d16774e878">值</th>
                                 <th align="left" valign="bottom" id="d16774e880">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e884" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_TIMEOUT</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e884 d16774e878 ">
                                    <p><code class="codeph">-1</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e884 d16774e880 ">
                                    <p>在等待人口完成时，该功能超时。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e896" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_SUCCESS</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e896 d16774e878 ">
                                    <p><code class="codeph">0</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e896 d16774e880 ">
                                    <p>符合<code class="codeph">priority</code>标准的所有对象都填充到指定的完成<code class="codeph">percentage</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e914" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_OUT_OF_MEMORY</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e914 d16774e878 ">
                                    <p><code class="codeph">1</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e914 d16774e880 ">
                                    <p>内存池没有足够的内存来将满足<code class="codeph">priority</code>标准的对象填充到指定的完成<code class="codeph">percentage</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e932" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_NO_INMEMORY_OBJECTS</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e932 d16774e878 ">
                                    <p><code class="codeph">2</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e932 d16774e880 ">
                                    <p>没有<code class="codeph">INMEMORY</code>对象符合指定的<code class="codeph">priority</code>标准。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e950" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_INMEMORY_SIZE_ZERO</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e950 d16774e878 ">
                                    <p><code class="codeph">3</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e950 d16774e880 ">
                                    <p>未启用内存中列存储。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D__GUID-1C1C363C-71A8-4496-8B14-B58CCAC0365E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65" title="此示例使用DBMS_INMEMORY_ADMIN.POPULATE_WAIT填充所有In-Memory表，而不管优先级设置如何。">使用POPULATE_WAIT函数设置超时：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY_ADMIN.html#ARPLS-GUID-398720DF-7D8D-4418-B395-5F7C5FC85BC5" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_INMEMORY_ADMIN</code>包</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="使用全表扫描，DBMS_INMEMORY程序单元或DBMS_INMEMORY_ADMIN.POPULATE_WAIT手动填充对象。">关于内存中对象的手动填充</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-60789205-70D3-47D2-969C-67FD45A1CD19" name="GUID-60789205-70D3-47D2-969C-67FD45A1CD19"></a><h4 id="INMEM-GUID-60789205-70D3-47D2-969C-67FD45A1CD19" class="sect4"><span class="enumeration_section">5.1.4</span>使用DBMS_INMEMORY.REPOPULATE的人口</h4>
                  <div>
                     <p><code class="codeph">DBMS_INMEMORY.REPOPULATE</code>强制重新填充当前填充在IM列存储中的表，分区或子分区。
                     </p>
                     <p>如果对当前<span class="italic">未</span>填充的In-Memory对象使用此过程，则此过程在功能上等同于<code class="codeph">DBMS_INMEMORY.POPULATE</code> 。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-60789205-70D3-47D2-969C-67FD45A1CD19__GUID-CB4DFF3C-C14F-4EDA-9231-DD027C617C1E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-the-imcs-manually.html#GUID-2738BEB5-6A24-4160-9044-E1BD12321047" title="此示例重新填充当前填充的In-Memory外部表。">使用REPOPULATE过程刷新内存外部表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_INMEMORY</code>包</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Comments.html#GUID-581F6C91-1395-4ED0-81DE-59AE168FE183" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>以了解有关<code class="codeph">FULL</code>提示的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="使用全表扫描，DBMS_INMEMORY程序单元或DBMS_INMEMORY_ADMIN.POPULATE_WAIT手动填充对象。">关于内存中对象的手动填充</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB" name="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB"></a><h3 id="INMEM-GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB" class="sect3"><span class="enumeration_section">5.2</span>强制内存中对象的初始填充</h3>
               <div>
                  <p>您可以使用全表扫描， <code class="codeph">POPULATE</code>过程， <code class="codeph">POPULATE_WAIT</code>函数或<code class="codeph">REPOPULATE</code>过程强制对象的<code class="codeph">REPOPULATE</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__GUID-4559CA5F-9389-46BC-9C19-8A87097D5F1B">假设</p>
                     <p>此任务假定以下内容：</p>
                     <ul id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__THEIMCOLUMNSTOREISENABLED.YOUWANTTO-3B67CFCA" style="list-style-type:disc">
                        <li>
                           <p>IM列存储已启用。</p>
                        </li>
                        <li>
                           <p>您想为内存填充启用表。</p>
                        </li>
                        <li>
                           <p>您希望强制表的直接填充到IM列存储中。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__GUID-A409EBEC-2D27-4A5C-8AEF-16098F824F73">强制INMEMORY表的填充：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有管理权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>将<code class="codeph">INMEMORY</code>属性应用于表。
                           </p>
                           <p>例如，为IM群体启用<code class="codeph">sh.customers</code> ，如下所示：</p><pre class="pre codeblock"><code>ALTER TABLE sh.customers INMEMORY;</code></pre><p>在前面的示例中，默认优先级为<code class="codeph">NONE</code> 。</p>
                        </li>
                        <li>
                           <p>（可选）通过查询<code class="codeph">V$IM_SEGMENTS</code>来检查填充状态。</p>
                           <p>例如，使用以下语句（包括示例输出）：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a10; COL NAME FORMAT a25; COL STATUS FORMAT a10;选择所有者，SEGMENT_NAME名称，来自V $ IM_SEGMENTS的POPULATE_STATUS状态SEGMENT_NAME ='CUSTOMERS';没有选择任何行</code></pre><p>前面的输出显示该对象尚未填充在IM列存储中。</p>
                        </li>
                        <li>
                           <p>使用以下技术之一启动人口：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用带有<code class="codeph">FULL</code>提示的<code class="codeph">SELECT</code>查询表中的所有行。
                                 </p>
                                 <p>例如，发出以下语句：</p><pre class="pre codeblock"><code>SELECT / * + FULL（客户）NO_PARALLEL（客户）* / COUNT（*）FROM sh.customers;</code></pre></li>
                              <li>
                                 <p>执行<code class="codeph">DBMS_INMEMORY.POPULATE</code>过程。
                                 </p>
                                 <p>例如，对<code class="codeph">sh.customers</code>执行以下过程，如下所示：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.POPULATE（'SH'，'CUSTOMERS'）;</code></pre></li>
                              <li>
                                 <p>执行<code class="codeph">DBMS_INMEMORY.REPOPULATE</code>过程。
                                 </p>
                                 <p>对于未填充的表，此过程在功能上等同于<code class="codeph">POPULATE</code> 。例如，对<code class="codeph">sh.customers</code>执行以下过程，如下所示：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.REPOPULATE（'SH'，'CUSTOMERS'）;</code></pre></li>
                              <li>
                                 <p>执行<code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>函数。
                                 </p>
                                 <p>以下代码示例填充所有<code class="codeph">INMEMORY</code>对象，而不管<code class="codeph">PRIORITY</code>设置如何。该示例指定该函数应该等到所有对象都被100％填充，如果在1800秒（30分钟）内没有成功，它应该超时并出现错误。
                                 </p><pre class="pre codeblock"><code>VARIABLE b_pop_status NUMBER BEGIN SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT（priority =&gt;'NONE'，percentage =&gt; 100，timeout =&gt; 1800，force =&gt; FALSE）INTO：b_pop_status FROM dual;结束; / PRINT b_pop_status</code></pre></li>
                           </ul>
                        </li>
                        <li>
                           <p>（可选）要检查填充状态，请查询<code class="codeph">V$IM_SEGMENTS</code> 。</p>
                           <p>例如，使用以下语句（包括示例输出）：</p><pre class="pre codeblock"><code>选择所有者，SEGMENT_NAME名称，来自V $ IM_SEGMENTS的POPULATE_STATUS状态SEGMENT_NAME ='CUSTOMERS';自己的姓名状态--- ---------- -------------------- SH客户已完成</code></pre><p>该表现在填充在IM列存储中。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__GUID-5990A616-9569-4695-8EFA-649CE8B27F3A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../refrn/V-IM_SEGMENTS.html#GUID-1CD070FD-2864-452D-B2AA-50E977C4885A" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">V$IM_SEGMENTS</code></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_INMEMORY</code>子程序</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" title="数据库不会自动填充PRIORITY设置为NONE的n-Memory对象。要填充这些对象，必须执行SQL或PL / SQL。">手动填充IM列存储</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" name="GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20"></a><h3 id="INMEM-GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" class="sect3"><span class="enumeration_section">5.3</span>手动填充内存表：示例</h3>
               <div>
                  <p>以下示例说明如何手动填充In-Memory表。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5">使用全表扫描填充内存表：示例</a><br>此示例使用全表扫描将<code class="codeph">sh.sales</code>表填充到IM列存储中。
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-A1B65E31-2EAD-4721-8842-E601D420A16A">使用POPULATE过程填充表：示例</a><br>此示例使用<code class="codeph">DBMS_INMEMORY.POPULATE</code>将<code class="codeph">sh.customers</code>表的<code class="codeph">sh.customers</code>启动到IM列存储中。
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65">使用POPULATE_WAIT函数设置超时：示例</a><br>此示例使用<code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>填充所有In-Memory表，而不管优先级设置如何。
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0">使用DBMS_INMEMORY.POPULATE填充内存中的外部表：示例</a><br>此示例填充具有<code class="codeph">INMEMORY</code>选项的外部表。
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-2738BEB5-6A24-4160-9044-E1BD12321047">使用REPOPULATE过程刷新内存外部表：示例</a><br>此示例重新填充当前填充的In-Memory外部表。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="以下示例说明如何为IM列存储启用或禁用表。">为IM列存储启用和禁用表：示例</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" title="数据库不会自动填充PRIORITY设置为NONE的n-Memory对象。要填充这些对象，必须执行SQL或PL / SQL。">手动填充IM列存储</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5" name="GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5"></a><h4 id="INMEM-GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5" class="sect4"><span class="enumeration_section">5.3.1</span>使用全表扫描<span class="enumeration_section">填充</span>内存表：示例</h4>
                  <div>
                     <p>此示例使用全表扫描将<code class="codeph">sh.sales</code>表填充到IM列存储中。
                     </p>
                     <div class="example" id="GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5__GUID-91EBD78F-007C-4378-B829-4684D7E92EFC">
                        <p>假设您以管理员身份登录到数据库，并且已发出以下DDL语句以将<code class="codeph">INMEMORY</code>子句添加到<code class="codeph">sh.sales</code>表：</p><pre class="pre codeblock"><code>ALTER TABLE sh.sales INMEMORY;</code></pre><p>前面的语句使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY</code>和<code class="codeph">PRIORITY NONE</code> 。由于<code class="codeph">PRIORITY</code>为<code class="codeph">NONE</code> ，因此数据库不会自动将表填充到IM列存储中。以下查询确认当前未填充<code class="codeph">sh.sales</code>表：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a10; COL NAME FORMAT a25; COL STATUS FORMAT a10;选择所有者，SEGMENT_NAME NAME，来自V $ IM_SEGMENTS的POPULATE_STATUS状态，其中SEGMENT_NAME ='SALES';没有选择任何行</code></pre><p>以下查询使用<code class="codeph">FULL</code>提示强制对<code class="codeph">sales</code>进行全表扫描，从而启动填充（包括样本输出）：</p><pre class="pre codeblock"><code>SELECT / * + FULL（销售）NO_PARALLEL（销售）* / COUNT（*）FROM sh.sales; COUNT（*）---------- 918843</code></pre><p>以下查询显示<code class="codeph">sales</code>的总体状态（包括样本输出）：</p><pre class="pre codeblock"><code>SET PAGESIZE 50000 COL所有者格式a3 COL NAME格式a10 COL状态格式a20选择所有者，SEGMENT_NAME名称，来自V $ IM_SEGMENTS的POPULATE_STATUS状态SEGMENT_NAME ='SALES';自己的姓名状态--- ---------- -------------------- SH SALES完成销售已完成销售已完成销售已完成销售已完成销售已完成的销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成销售已完成已选择16行。
</code></pre><p>以下查询计算表的压缩率。该查询假定表未在磁盘上进一步压缩。</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5 COL SEGMENT_NAME FORMAT a5 SET PAGESIZE 50000 SELECT v.OWNER，v.SEGMENT_NAME，v.BYTES ORIG_SIZE，v.INMEMORY_SIZE IN_MEM_SIZE，ROUND（v.BYTES / v.INMEMORY_SIZE，2）COMP_RATIO FROM V $ IM_SEGMENTS v ORDER BY 4;所有者SEGME ORIG_SIZE IN_MEM_SIZE COMP_RATIO ----- ----- ---------- ----------- ---------- SH SALES 851968 1310720 .65 SH SALES 835584 1310720 .64 SH SALES 925696 1310720 .71 SH SALES 958464 1310720 .73 SH SALES 950272 1310720 .73 SH SALES 786432 1310720 .6 SH SALES 876544 1310720 .67 SH SALES 753664 1310720 .58 SH SALES 1081344 1310720 .83 SH SALES 901120 1310720 .69 SH SALES 925696 1310720 .71 SH SALES 933888 1310720 .71 SH SALES 843776 1310720 .64 SH SALES 999424 1310720 .76 SH SALES 581632 1507328 .39 SH SALES 696320 1507328 .46 16行选择。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="以下示例说明如何手动填充In-Memory表。">手动填充内存表：示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-A1B65E31-2EAD-4721-8842-E601D420A16A" name="GUID-A1B65E31-2EAD-4721-8842-E601D420A16A"></a><h4 id="INMEM-GUID-A1B65E31-2EAD-4721-8842-E601D420A16A" class="sect4"><span class="enumeration_section">5.3.2</span>使用POPULATE过程填充表：示例</h4>
                  <div>
                     <p>此示例使用<code class="codeph">DBMS_INMEMORY.POPULATE</code>将<code class="codeph">sh.customers</code>表的<code class="codeph">sh.customers</code>启动到IM列存储中。
                     </p>
                     <div class="example" id="GUID-A1B65E31-2EAD-4721-8842-E601D420A16A__GUID-9F5DE67C-8CAC-4844-8D2C-2AAE9D6375DD">
                        <p>假设您以管理员身份登录到数据库，并且已发出以下DDL语句以将<code class="codeph">INMEMORY</code>子句添加到<code class="codeph">sh.customers</code>表：</p><pre class="pre codeblock"><code>ALTER TABLE sh.customers INMEMORY;</code></pre><p>前面的语句使用<code class="codeph">INMEMORY</code>子句的默认值： <code class="codeph">MEMCOMPRESS FOR QUERY</code>和<code class="codeph">PRIORITY NONE</code> 。由于<code class="codeph">PRIORITY</code>为<code class="codeph">NONE</code> ，因此数据库不会自动将表填充到IM列存储中。以下查询确认当前未填充<code class="codeph">sh.customers</code>表：</p><pre class="pre codeblock"><code>COL OWNER FORMAT a10; COL NAME FORMAT a25; COL STATUS FORMAT a10;选择所有者，SEGMENT_NAME名称，来自V $ IM_SEGMENTS的POPULATE_STATUS状态SEGMENT_NAME ='CUSTOMERS';没有选择任何行</code></pre><p>以下PL / SQL代码使用<code class="codeph">POPULATE</code>过程来主动填充：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.POPULATE（'SH'，'CUSTOMERS'）;</code></pre><p>以下查询显示<code class="codeph">customers</code>的人口状态（包括样本输出）：</p><pre class="pre codeblock"><code>选择所有者，SEGMENT_NAME名称，来自V $ IM_SEGMENTS的POPULATE_STATUS状态SEGMENT_NAME ='CUSTOMERS';自己的姓名状态--- ---------- -------------------- SH客户已完成</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="以下示例说明如何手动填充In-Memory表。">手动填充内存表：示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65" name="GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65"></a><h4 id="INMEM-GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65" class="sect4"><span class="enumeration_section">5.3.3</span>使用POPULATE_WAIT函数设置超时：示例</h4>
                  <div>
                     <p>此示例使用<code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>填充所有In-Memory表，而不管优先级设置如何。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65__GUID-3D47ED34-5D2E-40AA-9127-B99CA48582AE">
                        <p class="titleinexample">例5-1指定内存中人口的超时间隔</p>
                        <p>在此示例中，数据库包含许多具有各种优先级设置的内存中表。您的目标是在受限数据库会话中将<span class="italic">每个</span> In-Memory表填充到100％完成，然后禁用受限会话，以便保证应用程序仅查询内存中表示。
                        </p>
                        <p>假设数据库已关闭。在SQL * Plus中，您以<code class="codeph">SYSDBA</code>身份连接到空闲实例，然后执行以下命令（包括示例输出）：</p><pre class="pre codeblock"><code>SQL&gt; STARTUP RESTRICT ORACLE实例已启动。系统全局总面积1157624280字节固定大小8839640字节可变大小754974720字节数据库缓冲区16777216字节重做缓冲区7933952字节内存区域369098752字节数据库已安装。数据库已打开
</code></pre><p>数据库已打开，但只能由管理用户访问。您在SQL * Plus中执行以下语句（示例输出以粗体显示）：</p><pre class="pre codeblock"><code>VARIABLE b_pop_status NUMBER SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT（priority =&gt;'NONE'，percentage =&gt; 100，timeout =&gt; 300）INTO b_pop_status FROM DUAL;打印b_pop_status <span class="bold">-1</span></code></pre><p>5分钟后，该函数返回数字<code class="codeph">–1</code> 。此代码表示在等待填充完成时函数超时。 5分钟不足以填充所有<code class="codeph">INMEMORY</code>表。您重新执行<code class="codeph">SELECT</code>语句，指定30分钟的超时：</p><pre class="pre codeblock"><code>SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT（priority =&gt;'NONE'，percentage =&gt; 100，timeout =&gt; 1800）INTO b_pop_status FROM DUAL;打印b_pop_status <span class="bold">0</span></code></pre><p>8分钟后，该函数返回数字<code class="codeph">0</code> 。此代码表示所有表都已完全填充。您现在禁用受限制的会话，以便应用程序可以开始查询内存中对象，并完全相信只会访问内存中表示：</p><pre class="pre codeblock"><code>更改系统禁用受限制的会议;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="以下示例说明如何手动填充In-Memory表。">手动填充内存表：示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" name="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0"></a><h4 id="INMEM-GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" class="sect4"><span class="enumeration_section">5.3.4</span>使用DBMS_INMEMORY.POPULATE填充内存中的外部表：示例</h4>
                  <div>
                     <p>此示例填充具有<code class="codeph">INMEMORY</code>选项的外部表。
                     </p>
                     <div class="p">
                        <p>此示例假定您使用<code class="codeph">sh_sales.csv</code>文件使用<code class="codeph">INMEMORY</code>选项创建了外部表<code class="codeph">sh.admin_ext_sales</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0__GUID-83FBBE4A-EA70-473B-87C0-1BC0A4A1EEA5">
                        <p>尚未填充<code class="codeph">admin_ext_sales</code>表。从<span>Oracle Database 19c开始</span> ，全表扫描会填充外部表，就像填充标准表一样。但是，在此方案中，您选择使用<code class="codeph">DBMS_INMEMORY</code>包启动填充。
                        </p>
                        <div class="infoboxnote" id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0__GUID-1AE27939-3B65-476A-8822-A52175C3FDA5">
                           <p class="notep1">注意：</p>
                           <p>查询内存外部表的会话必须将初始化参数<code class="codeph">QUERY_REWRITE_INTEGRITY</code>设置为<code class="codeph">stale_tolerated</code> 。如果修改了外部表，则IM列存储的结果未定义。
                           </p>
                        </div>
                        <p>要填充表，请执行以下步骤：</p>
                        <ol>
                           <li>
                              <p>以用户<code class="codeph">sh</code>身份登录。
                              </p>
                           </li>
                           <li>
                              <p>在数据库会话中设置<code class="codeph">QUERY_REWRITE_INTEGRITY</code> ：</p><pre class="pre codeblock"><code>ALTER SESSION SET QUERY_REWRITE_INTEGRITY = stale_tolerated;</code></pre></li>
                           <li>
                              <p>执行以下PL / SQL程序：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.POPULATE（'SH'，'ADMIN_EXT_SALES'）;</code></pre></li>
                           <li>
                              <p>通过查询<code class="codeph">V$IM_SEGMENTS</code>检查填充状态：</p><pre class="pre codeblock"><code>COL所有者格式a3 COL姓名格式a15 COL状态格式a9选择所有者，SEGMENT_NAME名称，来自V $ IM_SEGMENTS的POPULATE_STATUS状态;自己的名字状态--- --------------- --------- SH ADMIN_EXT_SALES已完成</code></pre><p>前面的输出显示已填充<code class="codeph">admin_ext_sales</code>表</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="views-related-to-im-column-store.html#GUID-2EBF8D9B-FA9E-4D67-8934-5908E6018D4E" title="本主题描述与内存中列存储（IM列存储）相关的数据字典和动态性能视图。">内存中的视图</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-DE324946-9889-49A6-A379-4ACEEF99C184" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解有关<code class="codeph">DBMS_INMEMORY.POPULATE</code>更多信息</p>
                           </li>
                           <li>
                              <p><a href="../refrn/QUERY_REWRITE_INTEGRITY.html#GUID-23655494-DF65-4F0E-A89F-8333222297F5" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">QUERY_REWRITE_INTEGRITY</code>初始化参数</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="以下示例说明如何手动填充In-Memory表。">手动填充内存表：示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2738BEB5-6A24-4160-9044-E1BD12321047" name="GUID-2738BEB5-6A24-4160-9044-E1BD12321047"></a><h4 id="INMEM-GUID-2738BEB5-6A24-4160-9044-E1BD12321047" class="sect4"><span class="enumeration_section">5.3.5</span>使用REPOPULATE过程刷新内存外部表：示例</h4>
                  <div>
                     <p>此示例重新填充当前填充的In-Memory外部表。</p>
                     <div class="p">此示例假定您使用逗号分隔的平面文件<code class="codeph">/tmp/data/sh_sales.csv</code>创建带有<code class="codeph">INMEMORY</code>选项的<code class="codeph">sh.admin_ext_sales</code>表，并将此表填充到IM列存储中。
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2738BEB5-6A24-4160-9044-E1BD12321047__GUID-82C525B8-5123-43B3-8E76-CCF58B757ED3">
                        <p>假设您将记录添加到<code class="codeph">/tmp/data/sh_sales.csv</code> ，如下所示：</p><pre class="pre codeblock"><code>echo“148,8787,23-NOV-01,2,999,1,23.43”&gt;&gt; /tmp/data/sh_sales.csv</code></pre><div class="p">与内部表不同，外部表不使用自动重新填充机制。要刷新外部表，必须使用以下技术之一：<ul style="list-style-type:disc">
                              <li>
                                 <p>调用<code class="codeph">DBMS_INMEMORY.REPOPULATE</code>过程</p>
                              </li>
                              <li>
                                 <p>将表指定为<code class="codeph">NO INMEMORY</code> ，将其指定为<code class="codeph">INMEMORY</code> ，然后执行全表扫描</p>
                              </li>
                           </ul>
                        </div>
                        <p>以下示例使用<code class="codeph">REPOPULATE</code>过程强制IM列存储刷新<code class="codeph">admin_ext_sales</code> ：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.REPOPULATE（'SH'，'ADMIN_EXT_SALES'）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2738BEB5-6A24-4160-9044-E1BD12321047__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" title="此示例使用INMEMORY选项创建外部表。">创建内存外部表：示例</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“重新<a href="repopulation-and-dml.html#GUID-3ACF448A-C685-432B-84E9-DB8719CF3359" title="默认情况下会自动进行重新填充，但您可以控制其侵略性，或完全禁用它。">填充IM列存储的控制</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-DE324946-9889-49A6-A379-4ACEEF99C184" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解有关<code class="codeph">DBMS_INMEMORY.REPOPULATE</code>更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="以下示例说明如何手动填充In-Memory表。">手动填充内存表：示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>