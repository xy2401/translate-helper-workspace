<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>设计基础</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Development Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Development Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00"></meta>
      <meta name="dcterms.title" content="Database Development Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96334-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="fundamentals.html" title="Previous" type="text/html"></link>
      <link rel="next" href="connection_strategies.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="fundamentals.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="connection_strategies.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库开发指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="fundamentals.html" property="item" typeof="WebPage"><span property="name">数据库开发基础</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">设计基础</li>
            </ol>
            <a id="GUID-F0B60232-0359-498F-A3CF-EC7D1FE5AE61" name="GUID-F0B60232-0359-498F-A3CF-EC7D1FE5AE61"></a>
            
            <h2 id="ADFNS-GUID-F0B60232-0359-498F-A3CF-EC7D1FE5AE61" class="sect2"><span class="enumeration_chapter">1</span>设计基础</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍了数据库开发人员的几个重要设计目标。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="design_basics.html#GUID-793C08D9-DD84-4FC3-AA5B-79D7C576C599">性能设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-A2E72586-8DC3-4CBF-BC28-ED55C9BAE414">可伸缩性设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-80416063-050F-45A8-8B7B-249303D3592F">可扩展性设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-5D58BB0B-4D14-46CC-AC0E-C7FB5F91A2C4">安全设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-E6452243-E055-4133-B564-CD8CA8093E2C">可用性设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-55115871-8BC9-470E-B336-53935BF7F698">便携性设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-FB58F267-B1AB-404A-9178-DE526F563AF4">可诊断性设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-D2EBDB2F-D7DD-4B67-8646-56F1B9DCA121">特殊环境设计</a></p>
                  </li>
                  <li>
                     <p><a href="design_basics.html#GUID-EE8C91F4-D512-4AAA-8D2E-D4B44A768574">特殊场景的功能</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-F0B60232-0359-498F-A3CF-EC7D1FE5AE61__ORACLEDATABASE2DAYDEVELOPERSGUIDEAN-B638AA25">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p> <a href="fundamentals.html#GUID-EBCEA9FE-4F25-40DF-B5FD-682C3692E92F">数据库开发</a>高级数据库概念的<a href="fundamentals.html#GUID-EBCEA9FE-4F25-40DF-B5FD-682C3692E92F">基础知识</a></p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TDDDG-GUID-AE8B7A74-AD1F-4474-B0CF-B3E95D075DDA" target="_blank"><span><cite>Oracle数据库2天开发人员指南</cite></span></a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMQS-GUID-78050887-822B-4091-8DBA-A8EC43602350" target="_blank"><span><cite>Oracle数据库2天DBA</cite></span></a>构成了有关oracle数据库概念和技术的更多信息</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADFNS120"></a><div class="props_rev_3"><a id="GUID-793C08D9-DD84-4FC3-AA5B-79D7C576C599" name="GUID-793C08D9-DD84-4FC3-AA5B-79D7C576C599"></a><h3 id="ADFNS-GUID-793C08D9-DD84-4FC3-AA5B-79D7C576C599" class="sect3">性能设计</h3>
               <div>
                  <p>数据库和应用程序性能的关键是设计，而不是调优。虽然调整非常有价值，但它无法弥补糟糕的设计。您的设计必须从高效的数据模型，明确定义的性能目标和指标以及合理的基准测试策略开始。否则，您将在实施过程中遇到问题，因为没有多少调整会产生您可以通过良好设计获得的结果。您可能不得不稍后重新设计系统，尽管已经调整了原始的糟糕设计。</p>
                  <div class="infoboxnotealso" id="GUID-793C08D9-DD84-4FC3-AA5B-79D7C576C599__GUID-1F26D5B3-42D5-4A86-B604-05C78E369B34">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-826DD1D3-C722-4915-8790-E870D6B5123A" title="您可以使用OCISessionPoolCreate API将连接类设置为HRMS。您可以使用OCISessionPoolCreate API创建连接类作为RECMS。此池优化select语句的读取操作本节介绍有关Oracle RAC Sharding的内容">性能和可伸缩性</a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA-GUID-DD122227-0E55-49DB-8DF0-0F321D03800F" target="_blank"><span><cite>Oracle数据库性能调整指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL-GUID-DD9CAA74-3E0B-48C9-8770-AADB614BC992" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS121"></a><div class="props_rev_3"><a id="GUID-A2E72586-8DC3-4CBF-BC28-ED55C9BAE414" name="GUID-A2E72586-8DC3-4CBF-BC28-ED55C9BAE414"></a><h3 id="ADFNS-GUID-A2E72586-8DC3-4CBF-BC28-ED55C9BAE414" class="sect3">可伸缩性设计</h3>
               <div>
                  <p><span class="bold">可伸缩性</span>是系统在负载增加时表现良好的能力。负载是数据量，用户数量和其他相关因素的组合。要设计可伸缩性，必须使用有效的基准测试策略，适当的应用程序开发技术（如绑定变量）和适当的Oracle数据库体系结构功能，如共享服务器连接，群集，分区和并行操作。
                  </p>
                  <div class="infoboxnotealso" id="GUID-A2E72586-8DC3-4CBF-BC28-ED55C9BAE414__NOTE-122-CBDDF331">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-826DD1D3-C722-4915-8790-E870D6B5123A" title="您可以使用OCISessionPoolCreate API将连接类设置为HRMS。您可以使用OCISessionPoolCreate API创建连接类作为RECMS。此池优化select语句的读取操作本节介绍有关Oracle RAC Sharding的内容">性能和可伸缩性</a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TDDDG-GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" target="_blank"><span class="italic">数据库2天开发人员指南</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS250"></a><a id="ADFNS249"></a><div class="props_rev_3"><a id="GUID-80416063-050F-45A8-8B7B-249303D3592F" name="GUID-80416063-050F-45A8-8B7B-249303D3592F"></a><h3 id="ADFNS-GUID-80416063-050F-45A8-8B7B-249303D3592F" class="sect3">可扩展性设计</h3>
               <div>
                  <p><span class="bold">可扩展性</span>是指数据库或数据库应用程序适应未来增长的难易程度。数据库或应用程序的可扩展性越高，就越容易添加或更改功能，而对现有功能的影响最小。
                  </p>
                  <div class="infoboxnote" id="GUID-80416063-050F-45A8-8B7B-249303D3592F__GUID-47A7BB1E-1249-420A-964B-AEE3825A2408">
                     <p class="notep1">注意：</p>
                     <p>可扩展性与<span class="bold">前向兼容性</span> ，应用程序从其自身的未来版本接受数据的能力以及仅使用其旨在接受的数据的能力不同。
                     </p>
                     <p>例如，假设应用程序的早期版本仅处理文本，同一应用程序的更高版本处理文本和图形。如果早期版本可以接受文本和图形，并忽略图形和处理文本，那么它是向前兼容的。如果可以升级早期版本以处理文本和图形，那么它是可扩展的。升级应用程序越容易，它就越具有可扩展性。</p>
                  </div>
                  <p>为了最大限度地提高可扩展性，您必须将其设计到数据库和应用程序中，方法是包含允许在不对基础结构进行重大更改的情早期版本的数据库或应用程序可能不会使用这些机制，也许没有版本会使用所有这些机制，但它们对于易于维护和避免早期过时至关重要。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-80416063-050F-45A8-8B7B-249303D3592F__GUID-7B0480F3-517B-4ACC-94BC-06D6EC2C9253">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="design_basics.html#GUID-CFA61BAB-5A52-4C12-BCC9-19804E194481">数据磁带</a></p>
                        </li>
                        <li>
                           <p><a href="design_basics.html#GUID-D9D1FB93-7E1D-443F-AAD0-FD3A5A6B4DFC">外部程序</a></p>
                        </li>
                        <li>
                           <p><a href="design_basics.html#GUID-33BBA856-0B32-4581-A870-5E93741E2B31">用户定义的函数和聚合函数</a></p>
                        </li>
                        <li>
                           <p><a href="design_basics.html#GUID-B77FEED7-7202-449A-A8E9-0470C6A4263A">对象关系特征</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS251"></a><div class="props_rev_3"><a id="GUID-CFA61BAB-5A52-4C12-BCC9-19804E194481" name="GUID-CFA61BAB-5A52-4C12-BCC9-19804E194481"></a><h4 id="ADFNS-GUID-CFA61BAB-5A52-4C12-BCC9-19804E194481" class="sect4">数据磁带</h4>
                  <div>
                     <p>数据盒式磁带利用Oracle可扩展性架构框架扩展了Oracle数据库服务器的功能。通过此框架，您可以捕获与用户定义的数据类型中的专用或特定于域的数据相关联的业务逻辑和流程。在不使用其他属性的情况下提供新行为的数据盒式磁带可以使用包而不是用户定义的数据类型来实现。使用用户定义的类型或包，可以确定服务器如何解释，存储，检索和索引应用程序数据。数据盒式磁带打包此功能，创建插入服务器的软件组件，并将其功能扩展到新域，使数据库本身可扩展。</p>
                     <p>您可以自定义可扩展数据库管理系统的索引和查询优化机制，并为用户定义的业务对象和丰富类型提供专门的服务或更有效的处理。通过可扩展性接口向服务器注册实现时，可以指示服务器实现自定义处理指令，而不是自己的默认进程。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADDCI-GUID-2B30E30F-D8A3-4B1D-A3FE-49DE7472A528" target="_blank"><span><cite>Oracle数据库数据盒开发人员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS010"></a><a id="ADFNS1089"></a><a id="ADFNS321"></a><div class="props_rev_3"><a id="GUID-D9D1FB93-7E1D-443F-AAD0-FD3A5A6B4DFC" name="GUID-D9D1FB93-7E1D-443F-AAD0-FD3A5A6B4DFC"></a><h4 id="ADFNS-GUID-D9D1FB93-7E1D-443F-AAD0-FD3A5A6B4DFC" class="sect4">外部程序</h4>
                  <div>
                     <p>外部过程具有高度可扩展性，因为您可以在不影响其调用者的情况下增强其功能。原因是外部过程的调用规范具有调用它所需的所有信息，它与具有实现细节的过程主体是分开的。如果您只更改正文而不是规范，那么调用者不会受到影响。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="external-procedures.html#GUID-230B2B41-2A6F-4756-AEC0-DBC99DCA8A37">用多种编程语言开发应用程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS383"></a><div class="props_rev_3"><a id="GUID-33BBA856-0B32-4581-A870-5E93741E2B31" name="GUID-33BBA856-0B32-4581-A870-5E93741E2B31"></a><h4 id="ADFNS-GUID-33BBA856-0B32-4581-A870-5E93741E2B31" class="sect4">用户定义的函数和聚合函数</h4>
                  <div>
                     <p>可以出现在SQL语句或表达式中的用户定义的PL / SQL函数可以扩展SQL的功能。</p>
                     <p>用户定义的聚合函数是Oracle可扩展性体系结构框架的一部分。</p>
                     <div class="infoboxnotealso" id="GUID-33BBA856-0B32-4581-A870-5E93741E2B31__GUID-62613D8F-DF9B-4249-A186-0E6A251B412E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="coding-subprograms-and-packages.html#GUID-C35B709B-EE78-4DB4-9B63-54EB8B4D639F" title="您可以在创建PL / SQL包时使用PRAGMA RESTRICT_REFERENCES子句。">从SQL语句调用存储的PL / SQL函数，</a>以获取有关在SQL语句和表达式中调用用户定义的PL / SQL函数的信息</p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADDCI2120" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a> ，了解有关用户定义的聚合函数的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS458"></a><div class="props_rev_3"><a id="GUID-B77FEED7-7202-449A-A8E9-0470C6A4263A" name="GUID-B77FEED7-7202-449A-A8E9-0470C6A4263A"></a><h4 id="ADFNS-GUID-B77FEED7-7202-449A-A8E9-0470C6A4263A" class="sect4">对象关系特征</h4>
                  <div>
                     <p>Oracle数据库的对象关系特性是用户定义的抽象数据类型（ADT）。ADT具有高度可扩展性，因为您可以在不影响其调用者的情况下增强其功能。原因是外部过程的调用规范具有调用它所需的所有信息，它与具有实现细节的过程主体是分开的。如果您只更改正文而不是规范，那么调用者不会受到影响。</p>
                     <div class="infoboxnotealso" id="GUID-B77FEED7-7202-449A-A8E9-0470C6A4263A__GUID-CB77C97D-748D-4405-BD96-07999813252A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS01375" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CREATE</code> <code class="codeph">TYPE</code> <code class="codeph">BODY</code>语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS01376" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关对象关系功能的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADOBJ-GUID-8A38BA82-CCD5-4424-AE19-10A994E25B0E" target="_blank"><span><cite>参见“Oracle数据库对象关系开发人员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS122"></a><div class="props_rev_3"><a id="GUID-5D58BB0B-4D14-46CC-AC0E-C7FB5F91A2C4" name="GUID-5D58BB0B-4D14-46CC-AC0E-C7FB5F91A2C4"></a><h3 id="ADFNS-GUID-5D58BB0B-4D14-46CC-AC0E-C7FB5F91A2C4" class="sect3">安全设计</h3>
               <div>
                  <p>数据库安全涉及广泛的潜在活动，包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>设计和实施安全策略，以保护组织，用户和应用程序的数据免遭意外，不当或未经授权的操作</p>
                     </li>
                     <li>
                        <p>为不当或未经授权的行为制定和实施审计和问责制的政策和做法</p>
                     </li>
                     <li>
                        <p>创建，维护和终止用户帐户，密码，角色和权限</p>
                     </li>
                     <li>
                        <p>开发能够在各种计算模型中安全地提供所需服务的应用程序，利用数据库和目录服务来最大限度地提高效率和易用性</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-5D58BB0B-4D14-46CC-AC0E-C7FB5F91A2C4__GUID-09EE3BFB-28DF-4A44-8B5E-AA8E04EF0166">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关安全性的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=DBSEG-GUID-41040F53-D7A6-48FA-A92A-0C23118BC8A0" target="_blank"><span><cite>参见“Oracle数据库安</cite></span></a>
                           </p>
                        </li>
                        <li>
                           <p><a href="security.html#GUID-986CF5A7-506D-43F4-B6E2-F90654804417">安全</a>有关的考虑和技术提供的安全信息。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS123"></a><div class="props_rev_3"><a id="GUID-E6452243-E055-4133-B564-CD8CA8093E2C" name="GUID-E6452243-E055-4133-B564-CD8CA8093E2C"></a><h3 id="ADFNS-GUID-E6452243-E055-4133-B564-CD8CA8093E2C" class="sect3">可用性设计</h3>
               <div>
                  <p><span class="bold">可用性</span>是指按需访问应用程序，服务或功能的程度。专为高可用性而设计的系统可在基本时间段内（全年大部分时段）提供不间断的计算服务，最大限度地减少操作，例如升级系统的硬件或软件。高可用性系统的主要特征是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>可靠性</p>
                     </li>
                     <li>
                        <p>可恢复</p>
                     </li>
                     <li>
                        <p>及时的错误检测</p>
                     </li>
                     <li>
                        <p>持续运作</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E6452243-E055-4133-B564-CD8CA8093E2C__GUID-CE26A19A-0171-4072-96E0-38B9D8871C74">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="high-availability.html#GUID-9DB4AA4F-8273-4761-9A51-7FAD6F8298F0" title="此功能允许在Traffic Director模式下配置Oracle数据库连接管理器（CMAN），以便为连接到不同数据库服务的客户端提供服务，HA和性能功能可在路由器级别进行配置，从而使所有连接的客户端受益。应用程序连续性是用于故障转移的DBA功能。Transaction Guard是一种用于自行编码故障转移的开发人员功能。">高可用性</a>有关的重要事项和技巧提供高可用性的信息。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS124"></a><div class="props_rev_3"><a id="GUID-55115871-8BC9-470E-B336-53935BF7F698" name="GUID-55115871-8BC9-470E-B336-53935BF7F698"></a><h3 id="ADFNS-GUID-55115871-8BC9-470E-B336-53935BF7F698" class="sect3">便携性设计</h3>
               <div>
                  <p>虽然PL / SQL不是为Oracle数据库和第三方数据库之间的可移植性而设计的，但它在操作系统和语言之间具有高度可移植性。大多数编程语言都可以调用PL / SQL，并且PL / SQL在支持Oracle数据库的每个平台上都是一致的，包括Macintosh，Linux和Windows。如果您在一个平台上开发PL / SQL应用程序，您可以非常确信它们将在所有其他平台上一致地工作。</p>
                  <p>PL / SQL存储过程提供跨多个数据库的一些应用程序可移植性。虽然使用以给定供应商的语言编写的存储过程可能在某种程度上将您与该供应商联系起来，但存储过程使应用程序的可视组件（用户界面）和应用程序逻辑可移植。数据逻辑针对运行应用程序的数据库进行了最佳编码。由于数据逻辑隐藏在存储过程中，因此您可以使用供应商的扩展和功能来优化数据层。</p>
                  <p>在数据库上开发和部署时，应用程序可以永久部署在该数据库上。如果将应用程序移动到另一个数据库，则可视组件和应用程序逻辑可以独立于存储过程中的数据逻辑移动，这简化了移动。（将该应用程序与移动结合使用会使移动变得复杂。）</p>
                  <div class="infoboxnotealso" id="GUID-55115871-8BC9-470E-B336-53935BF7F698__GUID-56D8879D-A992-448F-ADCB-44C80AC044B6">
                     <p class="notep1">也可以看看：</p>
                     <p>有关PL / SQL的概念，用法和参考信息的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS-GUID-2FBCFBBE-6B42-4DB8-83F3-55B63B75B1EB" target="_blank"><span><cite>Oracle Database PL / SQL语言参考</cite></span></a></p>
                  </div>
               </div>
            </div><a id="ADFNS126"></a><div class="props_rev_3"><a id="GUID-FB58F267-B1AB-404A-9178-DE526F563AF4" name="GUID-FB58F267-B1AB-404A-9178-DE526F563AF4"></a><h3 id="ADFNS-GUID-FB58F267-B1AB-404A-9178-DE526F563AF4" class="sect3">可诊断性设计</h3>
               <div>
                  <p>Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。问题包括严重错误，例如代码错误，元数据损坏和客户数据损坏。可诊断性基础架构的目标是主动检测问题，在检测到问题后限制损坏和中断，减少诊断和解决问题所需的时间，并简化与Oracle支持的任何可能的交互。</p>
                  <p>自动诊断存储库（ADR）是一个基于文件的存储库，用于存储数据库诊断数据，如跟踪文件，警报日志和运行状况监视器报告。ADR位于数据库之外，这使Oracle数据库能够在物理数据库不可用时访问和管理ADR。</p>
                  <div class="infoboxnotealso" id="GUID-FB58F267-B1AB-404A-9178-DE526F563AF4__GUID-D9468BCC-F027-498F-B699-7628FACD84C5">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关诊断文件概述的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1912" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                        </li>
                        <li>
                           <p>有关Oracle数据库故障可诊断性基础结构的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN11257" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS127"></a><div class="props_rev_3"><a id="GUID-D2EBDB2F-D7DD-4B67-8646-56F1B9DCA121" name="GUID-D2EBDB2F-D7DD-4B67-8646-56F1B9DCA121"></a><h3 id="ADFNS-GUID-D2EBDB2F-D7DD-4B67-8646-56F1B9DCA121" class="sect3">特殊环境设计</h3>
               <div>
                  <p>本主题介绍如何设计以下特殊数据库和应用程序环境：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="design_basics.html#GUID-DC3E804F-EAD7-484F-BE34-F768C7D79B72">数据仓库</a></p>
                     </li>
                     <li>
                        <p><a href="design_basics.html#GUID-4A9F5898-13CE-4867-B72A-3035115CA1C6">在线事务处理（OLTP）</a></p>
                     </li>
                  </ul>
               </div><a id="ADFNS128"></a><div class="props_rev_3"><a id="GUID-DC3E804F-EAD7-484F-BE34-F768C7D79B72" name="GUID-DC3E804F-EAD7-484F-BE34-F768C7D79B72"></a><h4 id="ADFNS-GUID-DC3E804F-EAD7-484F-BE34-F768C7D79B72" class="sect4">数据仓库</h4>
                  <div>
                     <p>数据仓库是一个关系数据库，专为查询和分析而不是事务处理而设计。它通常包含从事务数据派生的历史数据，但可以包含来自其他来源的数据。数据仓库将分析工作负载与事务工作负载分开，并使组织能够合并来自多个源的数据。此策略可帮助组织维护历史记录并分析数据，以便更好地了解和改进其业务。</p>
                     <p>除了关系数据库之外，数据仓库环境还可以包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>提取，运输，转化和装载（ETL）解决方案</p>
                        </li>
                        <li>
                           <p>统计分析</p>
                        </li>
                        <li>
                           <p>报告</p>
                        </li>
                        <li>
                           <p>数据挖掘功能</p>
                        </li>
                        <li>
                           <p>客户分析工具</p>
                        </li>
                        <li>
                           <p>管理收集数据过程的应用程序;将其转化为有用的，可操作的信息;并将其交付给业务用户</p>
                        </li>
                     </ul>
                     <p>数据仓库系统通常：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用许多索引</p>
                        </li>
                        <li>
                           <p>使用一些（但不是很多）连接</p>
                        </li>
                        <li>
                           <p>使用非规范化或部分非规范化模式（例如星型模式）来优化查询和分析性能</p>
                        </li>
                        <li>
                           <p>使用派生数据和聚合</p>
                        </li>
                        <li>
                           <p>具有旨在适应即席查询和数据分析的工作负载</p>
                           <p>由于您可能事先不知道数据仓库的工作负载，因此必须优化数据仓库以便在各种可能的查询和分析操作中正常运行。</p>
                        </li>
                        <li>
                           <p>使用批量数据修改技术，通过ETL过程定期（每晚或每周）更新</p>
                           <p>数据仓库的最终用户不会直接更新数据仓库，除非使用分析工具（如数据挖掘）进行相关概率的预测，将客户分配到细分市场并开发客户档案。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-DC3E804F-EAD7-484F-BE34-F768C7D79B72__GUID-800F8075-E131-47CE-9366-748DA09AF919">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=DWHSG-GUID-452FBA23-6976-4590-AA41-1369647AD14D" target="_blank"><span><cite>Oracle数据库数据仓库指南</cite></span></a> ，了解有关数据仓库的信息，包括与在线事务处理（OLTP）的比较</p>
                     </div>
                  </div>
               </div><a id="ADFNS129"></a><div class="props_rev_3"><a id="GUID-4A9F5898-13CE-4867-B72A-3035115CA1C6" name="GUID-4A9F5898-13CE-4867-B72A-3035115CA1C6"></a><h4 id="ADFNS-GUID-4A9F5898-13CE-4867-B72A-3035115CA1C6" class="sect4">在线事务处理（OLTP）</h4>
                  <div>
                     <p>在线事务处理（OLTP）系统经过优化，可实现快速可靠的事务处理。与数据仓库系统相比，大多数OLTP交互涉及相对较少的行，但涉及较大的一组表。在OLTP系统中，性能要求要求将历史数据频繁移动到存档。</p>
                     <p>OLTP系统通常：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用少量索引。</p>
                        </li>
                        <li>
                           <p>使用许多连接。</p>
                        </li>
                        <li>
                           <p>使用完全规范化的模式来优化更新，插入和删除性能，并保证数据的一致性。</p>
                        </li>
                        <li>
                           <p>很少使用派生数据和聚合。</p>
                        </li>
                        <li>
                           <p>具有由预定义操作组成的工作负载。</p>
                        </li>
                        <li>
                           <p>让用户定期向数据库发出单独的数据修改语句，以便OLTP数据库始终反映每个事务的当前状态。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-4A9F5898-13CE-4867-B72A-3035115CA1C6__GUID-64BF6D54-83E3-4097-BE42-59E43A47DC69">
                        <p class="notep1">也可以看看：</p>
                        <p>有关详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1453" target="_blank"><span class="italic">Oracle数据库概念</span></a> ，包括指向手册的链接</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1435"></a><a id="ADFNS999"></a><div class="props_rev_3"><a id="GUID-EE8C91F4-D512-4AAA-8D2E-D4B44A768574" name="GUID-EE8C91F4-D512-4AAA-8D2E-D4B44A768574"></a><h3 id="ADFNS-GUID-EE8C91F4-D512-4AAA-8D2E-D4B44A768574" class="sect3">特殊场景的功能</h3>
               <div>
                  <p>本主题介绍Oracle数据库功能，这些功能在涉及非常大的数据库和高性能需求的场景中特别有用。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EE8C91F4-D512-4AAA-8D2E-D4B44A768574__GUID-3B44E221-9CF6-448C-B7F0-E0D76BDDA563">话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="design_basics.html#GUID-DD6F2276-103E-4196-A596-F67C54AC4F97">SQL分析函数</a></p>
                        </li>
                        <li>
                           <p><a href="design_basics.html#GUID-F751E383-B05B-4EB7-9C55-924128F5F039">物化观点</a></p>
                        </li>
                        <li>
                           <p><a href="design_basics.html#GUID-E504E819-B79B-49EE-92EE-97FB2DF29D56">分区</a></p>
                        </li>
                        <li>
                           <p><a href="design_basics.html#GUID-53F19441-81F3-4A4D-923C-464CAE0964D3">时间有效性支持</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS460"></a><div class="props_rev_3"><a id="GUID-DD6F2276-103E-4196-A596-F67C54AC4F97" name="GUID-DD6F2276-103E-4196-A596-F67C54AC4F97"></a><h4 id="ADFNS-GUID-DD6F2276-103E-4196-A596-F67C54AC4F97" class="sect4">SQL分析函数</h4>
                  <div>
                     <p><span class="bold">SQL分析函数</span>根据一组行计算聚合值。SQL分析函数与聚合函数的不同之处在于它为每个组返回多行。对于每一行，定义一个行窗口。该窗口确定用于执行当前行计算的行范围。窗口大小可以基于物理行数或逻辑间隔（例如时间）。
                     </p>
                     <p>SQL分析函数使面向集合的SQL能够在结果集上使用数组语义。它们提供编码效率，因为它们能够实现简单，直接的逻辑编码，否则会很麻烦或不可能。它们还提供了处理效率，因为它们是Oracle数据库不可或缺的，并使用内部优化。</p>
                     <p>分析函数的典型用途是检索表中的最新信息。例如，以下表单的查询将返回具有最新更新时间的行中的信息，其中每个客户的记录都在表中：</p><pre class="oac_no_warn" dir="ltr">选择 ...FROM my_table t1 WHERE upd_time =（SELECT <span class="bold">MAX（UPD _TIME）</span> FROM my_table t2 WHERE t2.cust_id = t1.cust_id）;</pre><p>前面的查询使用相关子查询来查找<code class="codeph">cust _id</code>的<code class="codeph">MAX(UPD _TIME)</code> ，逐个记录。因此，可以针对表中的每一行评估相关子查询一次。如果表记录很少，那么性能可能就足够了;如果该表具有数万条记录，则重复执行相关子查询的累积成本很高。
                     </p>
                     <p>以下查询在表上进行单次传递，并计算该<code class="codeph">UPD_TIME</code>期间的最大<code class="codeph">UPD_TIME</code> 。根据各种因素，例如表大小和返回的行数，以下查询可能比前面的查询更有效：</p><pre class="oac_no_warn" dir="ltr">选择 ...FROM（选择t1。*， <span class="bold">MAX（UPD_TIME）OVER（PARTITION BY cust _id）</span> max_time FROM my_table t1）WHERE upd_time = max_time;</pre><p>可用的分析功能是：</p><pre class="oac_no_warn" dir="ltr">AVG CORR COUNT COVAR_POP COVAR_SAMP CUME_DIST DENSE_RANK FIRST FIRST_VALUE LAG LAST_VALUE LEAD LISTAGG MAX MIN NTH_VALUE NTILE PERCENT_RANK PERCENTILE_CONT PERCENTILE_DISC RANK RATIO_TO_REPORT REGR_（线性回归）函数ROW_NUMBER STDDEV STDDEV_POP STDDEV_SAMP SUM VAR_POP VAR_SAMP VARIANCE</pre><div class="infoboxnotealso" id="GUID-DD6F2276-103E-4196-A596-F67C54AC4F97__GUID-375118F5-EFCA-467F-B8A8-9D8742169A8A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关SQL分析函数概述的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1476" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                           </li>
                           <li>
                              <p>有关语法和参考信息的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF06174" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=DWHSG021" target="_blank"><span class="italic">Oracle数据库数据仓库指南，</span></a>用于广泛讨论用于分析和报告的SQL</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1000"></a><div class="props_rev_3"><a id="GUID-F751E383-B05B-4EB7-9C55-924128F5F039" name="GUID-F751E383-B05B-4EB7-9C55-924128F5F039"></a><h4 id="ADFNS-GUID-F751E383-B05B-4EB7-9C55-924128F5F039" class="sect4">物化观点</h4>
                  <div>
                     <p><span class="bold">物化视图</span>是已作为模式对象存储（“物化”）的查询结果。与表和视图一样，物化视图可以出现在查询的<code class="codeph">FROM</code>子句中。
                     </p>
                     <p>物化视图用于汇总，计算，复制和分发数据。它们对预先回答一般问题类很有用 - 用户可以查询物化视图，而不是单独聚合详细记录。物化视图有用的一些环境是数据仓库，复制和移动计算。</p>
                     <p>物化视图需要时间来创建和更新，以及用于存储的磁盘空间，但这些成本可以通过显着更快的查询来抵消。在这些方面，物化视图就像索引，它们被称为“数据仓库的索引”。与索引不同，可以直接查询实例化视图（使用<code class="codeph">SELECT</code>语句），有时使用DML语句进行更新（具体取决于所需的更新类型）。
                     </p>
                     <p>创建和维护物化视图的一个主要好处是能够利用<span class="bold">查询重写</span> ，该<span class="bold">查询重写</span>将表或视图表示的SQL语句转换为访问详细信息表中定义的一个或多个物化视图的语句。转换对最终用户或应用程序是透明的，不需要干预，也不需要引用SQL语句中的物化视图。由于查询重写是透明的，因此可以像索引一样添加或删除实例化视图，而不会使应用程序代码中的SQL无效。
                     </p>
                     <p>以下语句基于SH示例模式中的三个主表创建并填充实例化聚合视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW sales_mv AS SELECT t.calendar_year，p.prod_id，SUM（s.amount_sold）AS sum_sales FROM times t，products p，sales s WHERE t.time_id = s.time_id AND p.prod_id = s.prod_id GROUP BY t .calendar_year，p.prod_id;</pre><div class="infoboxnotealso" id="GUID-F751E383-B05B-4EB7-9C55-924128F5F039__GUID-23BA5F6F-6ADA-46DD-888F-FED386F1BFCA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关物化视图概述的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT411" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=DWHSG8110" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，了解如何在<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=DWHSG8110" target="_blank"><span class="italic">数据仓库</span></a>中使用物化视图，包括在物化视图中使用查询重写</p>
                           </li>
                           <li>
                              <p><a href="design_basics.html#GUID-E504E819-B79B-49EE-92EE-97FB2DF29D56">分区</a>以获取有关如何对表格等物化视图进行分区的更多信息。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1334"></a><div class="props_rev_3"><a id="GUID-E504E819-B79B-49EE-92EE-97FB2DF29D56" name="GUID-E504E819-B79B-49EE-92EE-97FB2DF29D56"></a><h4 id="ADFNS-GUID-E504E819-B79B-49EE-92EE-97FB2DF29D56" class="sect4">分区</h4>
                  <div>
                     <p><span class="bold">分区</span>是数据库将非常大的表，索引或物化视图物理地分解为可以独立管理的较小块的能力。分区类似于并行处理，它将大型过程分解为可以独立处理的较小块。
                     </p>
                     <p>每个分区都是一个独立的对象，它有自己的名称，也可以选择自己的存储特性。分区对许多不同类型的数据库应用程序很有用，特别是那些管理大量数据的应用程序。优点包括提高可用性，更轻松地管理模式对象，减少OLTP系统中共享资源的争用，以及增强数据仓库中的查询性能。</p>
                     <p>要对表进行<code class="codeph">PARTITION</code> ，请在<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句中指定<code class="codeph">PARTITION</code> <code class="codeph">BY</code>子句。<code class="codeph">SELECT</code>和DML语句不需要特殊的语法来从分区中受益。
                     </p>
                     <p>常见的策略是按日期范围划分记录。以下语句创建了四个分区，一个用于四年销售数据（2008年至2011年）中的每一个的记录：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE time_range_sales（prod_id NUMBER（6），cust_id NUMBER， <span class="bold">time_id DATE</span> ，channel_id CHAR（1），promo_id NUMBER（6），quantity_sold NUMBER（3），amount_sold NUMBER（10,2）） <span class="bold">PARTITION BY RANGE（time_id）</span> （PARTITION SALES_2008价值不到（截止日期（'01 -JAN-2009'，'DD-MON-YYYY'）），PARTITION SALES_2009价值不到（截止日期（'01 -JAN-2010'，'DD-MON-YYYY'）） ，PARTITION SALES_2010价值低于（截至_（01-JAN-2011'，'DD-MON-YYYY'）），PARTITION SALES_2011价值低于（MAXVALUE））;</pre><div class="infoboxnotealso" id="GUID-E504E819-B79B-49EE-92EE-97FB2DF29D56__GUID-081006DF-23BA-4B35-AA9B-D4984553FE1A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关分区概述的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT112" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=DWHSG008" target="_blank"><span class="italic">Oracle Database VLDB和分区指南</span></a> ，了解有关使用超大型数据库（VLDB）进行分区的详细说明和使用信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1005"></a><a id="ADFNS1424"></a><a id="ADFNS967"></a><div class="props_rev_3"><a id="GUID-53F19441-81F3-4A4D-923C-464CAE0964D3" name="GUID-53F19441-81F3-4A4D-923C-464CAE0964D3"></a><h4 id="ADFNS-GUID-53F19441-81F3-4A4D-923C-464CAE0964D3" class="sect4">时间有效性支持</h4>
                  <div>
                     <p><span class="bold">时间有效性支持</span>允许您将一个或多个有效时间维度与表关联，并使数据可见，具体取决于其基于时间的有效性，由给定记录被视为有效的期间的开始和结束日期或时间戳确定。基于时间的有效性的示例是人力资源应用程序中员工的雇用和终止日期，保险单的保险生效日期以及客户或客户的地址变更生效日期。
                     </p>
                     <p>对于在<code class="codeph">AS</code> <code class="codeph">OF</code>和<code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code>子句中指定有效时间段的查询，时间有效性支持通常与Oracle闪回技术一起使用。您还可以使用<code class="codeph">DBMS_FLASHBACK_ARCHIVE.ENABLE_AT_VALID_TIME</code>过程为表数据的可见性指定选项：所有表数据（默认值），在指定时间有效的数据，或会话级有效时间段内的当前有效数据。
                     </p>
                     <p>时间有效性支持在信息生命周期管理（ILM）和任何其他应用程序中非常有用，在这些应用程序中，重要的是要知道某些数据何时变为有效（从应用程序的角度来看）以及何时变为无效（如果有的话）。</p>
                     <div class="infoboxnote" id="GUID-53F19441-81F3-4A4D-923C-464CAE0964D3__GUID-54A54B9E-480A-42BA-A923-89174436532E">
                        <p class="notep1">注意：</p>
                        <p>使用时间有效性支持创建和使用具有有效时间支持和更改数据的表假定用户具有创建表并对其执行数据操作语言（DML）和（数据定义语言）DDL操作的权限。</p>
                     </div>
                     <div class="example" id="GUID-53F19441-81F3-4A4D-923C-464CAE0964D3__CACJBAJJ">
                        <p class="titleinexample">示例1-1创建和使用具有有效时间支持的表</p>
                        <p>以下示例创建一个具有临时有效性支持的表，插入行，并发出查询，其结果取决于各行的有效开始日期和结束日期。</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE my_emp（empno NUMBER，last_name VARCHAR2（30），start_time TIMESTAMP，end_time TIMESTAMP，PERIOD FOR user_valid_time（start_time，end_time））;插入my_emp VALUES（100，'Ames'，'01 -Jan-10'，'30 -Jun-11'）;插入my_emp VALUES（101，'Burton'，'01 -Jan-11'，'30 -Jun-11'）; INSERT INTO my_emp VALUES（102，'Chen'，'01 -Jan-12'，null）; - 有效时间查询 -   - 查询周期： - 仅返回Ames。SELECT * from my_emp AS OF PERIOD FOR user_valid_time TO_TIMESTAMP（'01 -Jun-10'）; - 归来艾姆斯和伯顿，但不是陈。SELECT * from my_emp AS OF PERIOD FOR user_valid_time TO_TIMESTAMP（'01 -Jun-11'）; - 不返回任何人。SELECT * from my_emp AS OF PERIOD FOR user_valid_time TO_TIMESTAMP（'01 -Jul-11'）; - 只返回陈。SELECT * from my_emp AS OF PERIOD FOR user_valid_time TO_TIMESTAMP（'01 -Feb-12'）; - 版本期间......BETWEEN查询： - 仅返回Ames。SELECT * from my_emp VERSIONS PERIOD for user_valid_time BETWEEN TO_TIMESTAMP（'01 -Jun-10'）AND TO_TIMESTAMP（'02 -Jun-10'）; - 归来艾姆斯和伯顿。SELECT * from my_emp VERSIONS PERIOD for user_valid_time BETWEEN TO_TIMESTAMP（'01 -Jun-10'）AND TO_TIMESTAMP（'01 -Mar-11'）; - 只返回陈。SELECT * from my_emp VERSIONS PERIOD for user_valid_time BETWEEN TO_TIMESTAMP（'01 -Nov-11'）AND TO_TIMESTAMP（'01 -Mar-12'）; - 不返回任何人。SELECT * from my_emp VERSIONS PERIOD for user_valid_time BETWEEN TO_TIMESTAMP（'01 -Jul-11'）AND TO_TIMESTAMP（'01 -Sep-11'）;</pre><p>要在不显式添加列的情况下将Temporal Validity Support添加到现有表，请使用带有<code class="codeph">ADD</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code>子句的<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句。例如，如果<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句未创建<code class="codeph">START_TIME</code>和<code class="codeph">END_TIME</code>列，则可以使用以下语句创建相同的语句：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE my_emp ADD PERIOD FOR user_valid_time;</pre><p>前面的语句向表<code class="codeph">MY_EMP</code>添加了两个隐藏列： <code class="codeph">USER_VALID_TIME_START</code>和<code class="codeph">USER_VALID_TIME_END</code> 。您可以插入指定这些列的值的行，但这些列不会出现在SQL * Plus <code class="codeph">DESCRIBE</code>语句的输出中，只有<code class="codeph">SELECT</code>列表明确包含列名时， <code class="codeph">SELECT</code>语句才会显示这些列中的数据。
                        </p>
                        <p><a href="design_basics.html#GUID-53F19441-81F3-4A4D-923C-464CAE0964D3__CACFBBBH">示例1-2</a>在<a href="design_basics.html#GUID-53F19441-81F3-4A4D-923C-464CAE0964D3__CACJBAJJ">示例1-1</a>中创建的表中使用Temporal Validity Support进行数据更改。在<a href="design_basics.html#GUID-53F19441-81F3-4A4D-923C-464CAE0964D3__CACFBBBH">示例1-2中</a> ，员工103的初始记录的姓氏为Davis。之后，员工将姓氏改为史密斯。原始行中的<code class="codeph">END_TIME</code>值从<code class="codeph">NULL</code>更改为更改生效之前的前一天。插入一个新行，其中新的姓氏，相应的<code class="codeph">START_TIME</code>值和<code class="codeph">END_TIME</code>设置为<code class="codeph">NULL</code>以指示它有效，直到另外设置为止。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-53F19441-81F3-4A4D-923C-464CAE0964D3__CACFBBBH">
                        <p class="titleinexample">示例1-2使用时间有效性支持的数据更改</p><pre class="oac_no_warn" dir="ltr">- 为戴维斯添加记录。INSERT INTO my_emp VALUES（103，'Davis'，'01 -Jan-12'，null）; - 要将员工103的姓氏更改为史密斯， - 首先使用旧名称设置记录的结束日期。UPDATE my_emp SET end_time = '01 -Feb-12'WHERE empno = 103; - 然后为员工103插入另一条记录，指定新的姓氏， - 相应的有效开始日期，以及有效结束日期的空值。- 在INSERT语句之后，＃103（戴维斯和史密斯）有两个记录。INSERT INTO my_emp VALUES（103，'Smith'，'02 -Feb-12'，null）; - 截至今天，员工103的有效信息是什么？SELECT * from my_emp AS OF PERIOD FOR user_valid_time SYSDATE WHERE empno = 103; - 截至指定日期，员工103的有效信息是什么？- 首先，自改为史密斯之后的日期。SELECT * from my_emp AS OF PERIOD FOR user_valid_time TO_TIMESTAMP（'01 -Jul-12'）WHERE empno = 103; - 接下来，截至改变史密斯之前的日期。SELECT * from my_emp AS OF PERIOD FOR user_valid_time TO_TIMESTAMP（'20 -Jan-12'）WHERE empno = 103;</pre><div class="infoboxnote" id="GUID-53F19441-81F3-4A4D-923C-464CAE0964D3__GUID-1D57337F-28F3-4ED7-89D5-304EBACE0ADD">
                           <p class="notep1">相关链接：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01402" target="_blank"><code class="codeph">CREATE TABLE</code></a> ， <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01001" target="_blank"><code class="codeph">ALTER TABLE</code></a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01702" target="_blank"><code class="codeph">SELECT</code></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS74552" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=VLDBG007" target="_blank"><span class="italic">Oracle数据库VLDB和分区指南</span></a></p>
                              </li>
                              <li>
                                 <p><a href="flashback.html#GUID-03D1CAAE-D940-444A-8771-B1BC636D105D">使用Oracle闪回技术</a></p>
                              </li>
                              <li>
                                 <p><a href="flashback.html#GUID-DECBC705-B421-4861-A341-E07EBB883AC9">Oracle闪回技术的多租户容器数据库限制</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>