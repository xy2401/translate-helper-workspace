<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter contains reference and usage information for the spatial aggregate functions."></meta>
      <meta name="description" content="This chapter contains reference and usage information for the spatial aggregate functions."></meta>
      <title>空间聚合函数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="This chapter contains reference and usage information for the spatial aggregate functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="spatial-operators-reference.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_CS-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="spatial-operators-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_CS-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">参考信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">空间聚合函数</li>
            </ol>
            <a id="GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" name="GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9"></a>
            
            <h2 id="SPATL-GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" class="sect2"><span class="enumeration_chapter">21</span>空间聚合函数</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章包含空间聚合函数的参考和用法信息。</p>
               <p>请参阅有关的空间聚集函数的使用信息<a href="spatial-concepts.html#GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4" title="SQL一直有聚合函数，用于聚合SQL查询的结果。">的空间聚集函数</a> 。
               </p>
               <p>这些聚合函数中的大多数都接受SDOAGGRTYPE类型的参数，该参数在<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE对象类型中</a>描述。
               </p>
               <div class="infoboxnote" id="GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9__GUID-D0A515B5-40BD-4A90-8180-13265C1DDF43">
                  <p class="notep1">注意：</p>
                  <p>空间聚合函数仅支持二维几何，但<a href="spatial-aggregate-functions.html#GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2">SDO_AGGR_MBR</a>除外，它支持二维和三维几何。
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-49306189-0C71-40BA-8170-C97C3781C137">SDO_AGGR_CENTROID</a><br></li>
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669">SDO_AGGR_CONCAT_LINES</a><br></li>
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5">SDO_AGGR_CONCAVEHULL</a><br></li>
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-28223B05-3381-4111-8F68-A7E0C528BA22">SDO_AGGR_CONVEXHULL</a><br></li>
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a><br></li>
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2">SDO_AGGR_MBR</a><br></li>
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB">SDO_AGGR_SET_UNION</a><br></li>
                  <li class="ulchildlink"><a href="spatial-aggregate-functions.html#GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627">SDO_AGGR_UNION</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">参考信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1043"></a><div class="props_rev_3"><a id="GUID-49306189-0C71-40BA-8170-C97C3781C137" name="GUID-49306189-0C71-40BA-8170-C97C3781C137"></a><h3 id="SPATL-GUID-49306189-0C71-40BA-8170-C97C3781C137" class="sect3"><span class="enumeration_section">21.1</span> SDO_AGGR_CENTROID</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-49306189-0C71-40BA-8170-C97C3781C137__GUID-EEA33949-0220-4B34-B680-8D212D2BDB6C">格式</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_CENTROID（AggregateGeometry SDOAGGRTYPE）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-49306189-0C71-40BA-8170-C97C3781C137__GUID-62E9FD85-EA46-440D-B480-B664C05371F0">描述</p>
                     <p>返回几何对象，该对象是指定几何对象的质心（“重心”）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-49306189-0C71-40BA-8170-C97C3781C137__GUID-74BF58A9-CB37-49B4-AF2F-D07911DCD788">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-49306189-0C71-40BA-8170-C97C3781C137__GUID-AA2FA6C1-E82D-4B30-AAFC-42A109D2B3C9"><!-- --></a> AggregateGeometry</dt>
                        <dd>
                           <p>SDOAGGRTYPE类型的对象（请参阅<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE对象类型</a> ），它指定几何列和维数组。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-49306189-0C71-40BA-8170-C97C3781C137__GUID-F473F2C0-BA11-4DF6-8389-37B3F6E2BA4F">使用说明</p>
                     <p>函数的行为取决于几何对象是否都是多边形，所有点，或多边形和点的混合：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果几何对象都是多边形，则返回所有对象的质心。</p>
                        </li>
                        <li>
                           <p>如果几何对象都是点，则返回所有对象的质心。</p>
                        </li>
                        <li>
                           <p>如果几何对象是多边形和点的混合（具体地，如果它们包括至少一个多边形和至少一个点），则忽略任何点，并返回所有多边形的质心。</p>
                        </li>
                     </ul>
                     <p>结果按几何对象中每个多边形的面积加权。如果几何对象是多边形和点的混合，则这些点不用于计算质心。如果几何对象都是点，则点具有相同的权重。</p>
                     <p>另请参阅<a href="SDO_GEOM-reference.html#GUID-0D52F048-18B4-4A2C-B5BF-6A5F6BD3E113" title="MDSIS.SDO_GEOM包中包含用于处理几何对象的子程序。">SDO_GEOM包（几何）中</a>有关<a href="SDO_GEOM-reference.html#GUID-C232C717-FE3C-48AA-B6E3-498EEB573262">SDO_GEOM.SDO_CENTROID</a>函数的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-49306189-0C71-40BA-8170-C97C3781C137__GUID-D2A56ECF-83CC-476B-BA52-F588A18B8E33">例子</p>
                     <p>以下示例返回COLA_MARKETS表中几何对象的质心。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_CENTROID（SDOAGGRTYPE（shape，0.005））FROM cola_markets; SDO_AGGR_CENTROID（SDOAGGRTYPE（SHAPE，0.005））（SDO_GTYPE，SDO_SRID，SDO_POINT ----------------------------------- --------------------------------------------- SDO_GEOMETRY（2001，NULL ，SDO_POINT_TYPE（5.21295938,5.00744233，NULL），NULL，NUL L）</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1044"></a><div class="props_rev_3"><a id="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669" name="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669"></a><h3 id="SPATL-GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669" class="sect3"><span class="enumeration_section">21.2</span> SDO_AGGR_CONCAT_LINES</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669__GUID-236EA5E5-A7C8-4F95-AB87-7C7ECBB31A0D">格式</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_CONCAT_LINES（geom SDO_GEOMETRY）返回SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669__GUID-AF9E1750-C397-4717-B801-442448C4E858">描述</p>
                     <p>返回连接指定线或多线几何的几何。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669__GUID-0A04056A-2011-4A9E-9EF7-747AF20ED9B4">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669__GUID-13C90AE1-BEC1-40F4-8459-A86F5738C6BD"><!-- --></a> geom</dt>
                        <dd>
                           <p>几何对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669__GUID-4431CE8B-9FE0-4943-B5DA-0FEC4A6E07F1">使用说明</p>
                     <p>每个输入几何必须是二维线或多线几何（即，SDO_GTYPE值必须是2002或2006）。LRS几何不支持此功能。要执行LRS几何段的聚合连接，请使用<a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a>空间聚合函数。
                     </p>
                     <p>输入几何必须是线串，其顶点通过直线段连接。不支持圆弧和复合线串。</p>
                     <p>如果任何输入几何是多线几何，则几何的元素必须是不相交的。如果它们不是不相交的，则此函数可能返回不正确的结果。</p>
                     <p>要连接的每对几何中几何形状之间的拓扑关系必须是DISJOINT或TOUCH;如果关系是TOUCH，则几何形状必须仅在两个端点相交。</p>
                     <p>您可以使用<a href="SDO_UTIL-reference.html#GUID-287550C8-E60D-4DB5-942F-EB1E2670127F">SDO_UTIL.CONCAT_LINES</a>函数（在<a href="SDO_UTIL-reference.html#GUID-7A79F1C4-FABF-432A-AF94-9E9CB23BBFBA" title="MDSYS.SDO_UTIL包中包含空间实用程序子程序。">SDO_UTIL包（实用程序）中</a>描述）来连接两个线或多线几何。
                     </p>
                     <p>如果任何输入几何不是直线或多线几何，或者如果不是所有输入几何都基于相同的坐标系，则会引发异常。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669__GUID-E049C0F3-86E6-4691-A5CC-2664D25213D8">例子</p>
                     <p>以下示例在COLA_MARKETS表中插入两个线几何，然后返回这些几何的聚合串联。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的数据定义<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">- 首先，插入两行几何。INSERT INTO cola_markets VALUES（1001，'line_1'，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（1,1,5,1）））; INSERT INTO cola_markets VALUES（1002，'line_2'，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（5,1,8,1）））; - 执行层中所有线几何的聚合连接。SELECT SDO_AGGR_CONCAT_LINES（c.shape）FROM cola_markets c WHERE c.mkt_id&gt; 1000; SDO_AGGR_CONCAT_LINES（C.SHAPE）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM ----------------------------- -------------------------------------------------- -  SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（1,1,5,1,8,1））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5" name="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5"></a><h3 id="SPATL-GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5" class="sect3"><span class="enumeration_section">21.3</span> SDO_AGGR_CONCAVEHULL</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5__GUID-082C9388-E645-491A-B671-FEBD3C94EA88">格式</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_CONCAVEHULL（AggregateGeometry SDOAGGRTYPE）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5__GUID-CBA96B37-8148-41C4-99F1-D0605CAE7890">描述</p>
                     <p>返回几何对象，该对象是指定几何对象的凹壳。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5__GUID-67F8FD74-897D-40D5-9130-0ACEEFFA19CF">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5__GUID-CBEB1493-211C-4094-A3F8-3928EA6B7003"><!-- --></a> AggregateGeometry</dt>
                        <dd>
                           <p>SDOAGGRTYPE类型的对象（请参阅<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE对象类型</a> ），它指定几何列和维数组。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5__GUID-7A3E7233-2770-47AB-BAC4-7366BF92967F">使用说明</p>
                     <p>另请参阅<a href="SDO_GEOM-reference.html#GUID-0D52F048-18B4-4A2C-B5BF-6A5F6BD3E113" title="MDSIS.SDO_GEOM包中包含用于处理几何对象的子程序。">SDO_GEOM包（几何）中</a>有关<a href="SDO_GEOM-reference.html#GUID-027816C6-A1D7-49C5-8D46-DE686439BD1C">SDO_GEOM.SDO_CONCAVEHULL</a>函数的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CDAA8BA-F7B1-4937-BDC5-BDB1210ADCA5__GUID-4553F9E4-10E3-4E80-AF87-0CEE19B811CB">例子</p>
                     <p>以下示例返回COLA_MARKETS表中几何对象的凹壳。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_CONCAVEHULL（SDOAGGRTYPE（shape，0.005））FROM cola_markets; SDO_AGGR_CONCAVEHULL（SDOAGGRTYPE（SHAPE，0.005））（SDO_GTYPE，SDO_SRID，SDO_POINT（X，-------------------------------- ------------------------------------------------ SDO_GEOMETRY（ 2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARR AY（3,3,5,1,8,1,10,1,12,1,14,1,14,5,13,9， 14,18,14,13,12,15,10,14,10,13,8,11,6,12,5,13,2,11,6,10,6,9,5,7,4,4 5,2,4,3,3））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1045"></a><div class="props_rev_3"><a id="GUID-28223B05-3381-4111-8F68-A7E0C528BA22" name="GUID-28223B05-3381-4111-8F68-A7E0C528BA22"></a><h3 id="SPATL-GUID-28223B05-3381-4111-8F68-A7E0C528BA22" class="sect3"><span class="enumeration_section">21.4</span> SDO_AGGR_CONVEXHULL</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-28223B05-3381-4111-8F68-A7E0C528BA22__GUID-082C9388-E645-491A-B671-FEBD3C94EA88">格式</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_CONVEXHULL（AggregateGeometry SDOAGGRTYPE）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28223B05-3381-4111-8F68-A7E0C528BA22__GUID-CBA96B37-8148-41C4-99F1-D0605CAE7890">描述</p>
                     <p>返回几何对象，该对象是指定几何对象的凸包。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28223B05-3381-4111-8F68-A7E0C528BA22__GUID-67F8FD74-897D-40D5-9130-0ACEEFFA19CF">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-28223B05-3381-4111-8F68-A7E0C528BA22__GUID-CBEB1493-211C-4094-A3F8-3928EA6B7003"><!-- --></a> AggregateGeometry</dt>
                        <dd>
                           <p>SDOAGGRTYPE类型的对象（请参阅<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE对象类型</a> ），它指定几何列和维数组。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28223B05-3381-4111-8F68-A7E0C528BA22__GUID-7A3E7233-2770-47AB-BAC4-7366BF92967F">使用说明</p>
                     <p>另请参阅<a href="SDO_GEOM-reference.html#GUID-0D52F048-18B4-4A2C-B5BF-6A5F6BD3E113" title="MDSIS.SDO_GEOM包中包含用于处理几何对象的子程序。">SDO_GEOM包（几何）中</a>有关<a href="SDO_GEOM-reference.html#GUID-DCFFF3D9-6642-457F-A7BD-1AF864A7510E">SDO_GEOM.SDO_CONVEXHULL</a>函数的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28223B05-3381-4111-8F68-A7E0C528BA22__GUID-4553F9E4-10E3-4E80-AF87-0CEE19B811CB">例子</p>
                     <p>以下示例返回COLA_MARKETS表中几何对象的凸包。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_CONVEXHULL（SDOAGGRTYPE（shape，0.005））FROM cola_markets; SDO_AGGR_CONVEXHULL（SDOAGGRTYPE（SHAPE，0.005））（SDO_GTYPE，SDO_SRID，SDO_POI ----------------------------------- --------------------------------------------- SDO_GEOMETRY（2003，NULL ，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARR AY（8,1,10,7,10,11,8,11,6,11,1,7,1,1,8,1））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1046"></a><div class="props_rev_3"><a id="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7" name="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7"></a><h3 id="SPATL-GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7" class="sect3"><span class="enumeration_section">21.5</span> SDO_AGGR_LRS_CONCAT</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7__GUID-DE6DE50E-90FB-47A5-814F-346A4D75F089">格式</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_LRS_CONCAT（AggregateGeometry SDOAGGRTYPE）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7__GUID-8069C51D-613D-416D-8D43-CB4CEE11124F">描述</p>
                     <p>返回连接指定LRS几何的LRS几何。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7__GUID-279D973B-9BF5-4840-95A2-93E21D1D6C8B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7__GUID-1F5ABD37-BD2F-43BF-A83F-A5D27027A265"><!-- --></a> AggregateGeometry</dt>
                        <dd>
                           <p>SDOAGGRTYPE类型的对象（请参阅<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE对象类型</a> ），它指定几何列和维数组。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7__GUID-AB53B8F6-4B8E-45A1-9856-27D741E79FAB">使用说明</p>
                     <p>此函数执行任意数量的LRS几何的聚合串联。如果要控制几何连接的顺序，则必须使用带有NO_MERGE优化程序提示和ORDER BY子句的子查询。（参见示例。）</p>
                     <p>结果段的方向与串联中第一个几何的方向相同。</p>
                     <p>可以使用此功能的<span class="italic">3D</span>格式（SDO_AGGR_LRS_CONCAT_3D）。有关LRS函数的<span class="italic">3D</span>格式的信息，请参阅LRS函数的<a href="lrs-linear-referencing-system-concepts.html#GUID-E392761D-EF47-4764-8287-8E3D1D799D53" title="大多数LRS函数的格式以_3D结尾：例如，DEFINE_GEOM_SEGMENT_3D，CLIP_GEOM_SEGMENT_3D，FIND_MEASURE_3D和LOCATE_PT_3D。如果函数具有3D格式，则在功能参考主题的使用说明中标识该函数。">3D格式</a> 。）
                     </p>
                     <p>有关空间和图形线性参考系统的信息，请参阅<a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用事业应用（如天然气和石油管道）。">线性参考系统</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7__GUID-8EECE621-0436-49D6-971F-B2002444B9F1">例子</p>
                     <p>以下示例将LRS几何添加到LRS_ROUTES表，然后执行两个查询以连接表中的LRS几何。第一个查询不控制连接的顺序，第二个查询控制连接的顺序。注意两个段的方向差异：由第二个查询得到的段具有递减的度量值，因为串联中的第一个段（ <code class="codeph">Route0</code> ）具有递减的度量值。（此示例使用<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770" title="This section presents a simplified example that uses LRS functions.">LRS函数</a>示例中的<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770" title="本节介绍使用LRS功能的简化示例。">示例中</a>的定义。）
                     </p><pre class="oac_no_warn" dir="ltr">- 添加route_id小于1的段（此处为零）。INSERT INTO lrs_routes VALUES（0，'Route0'，SDO_GEOMETRY（3302， - 线串; 3维（X，Y，M）;第3是测量尺寸。NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1）， - 一行字符串，直段SDO_ORDINATE_ARRAY（5,14,5， - 起始点 -  5从开始测量。10,14,0） - 结束点 -  0度量（减少量度）））;已创建1行。- 连接所有路由（未指定排序）。SELECT SDO_AGGR_LRS_CONCAT（SDOAGGRTYPE（route_geometry，0.005））FROM lrs_routes; SDO_AGGR_LRS_CONCAT（SDOAGGRTYPE（ROUTE_GEOMETRY，0.005））（SDO_GTYPE，SDO_SRID ------------------------------------- ------------------------------------------- SDO_GEOMETRY（3302，NULL，NULL ，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,2,8,4,8,12,4,12,12,10,18,8,10,22,5， 14,27,10,14,32）） - 使用子查询进行排序的聚合连接。SELECT SDO_AGGR_LRS_CONCAT（SDOAGGRTYPE（route_geometry，0.005））FROM（SELECT / * + NO_MERGE * / route_geometry FROM lrs_routes ORDER BY route_id）; SDO_AGGR_LRS_CONCAT（SDOAGGRTYPE（ROUTE_GEOMETRY，0.005））（SDO_GTYPE，SDO_SRID ------------------------------------- ------------------------------------------- SDO_GEOMETRY（3302，NULL，NULL ，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,32,2,4,30,8,4,24,12,4,20,12,10,14,8,10,10,5， 14,15,10,14,0））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1047"></a><div class="props_rev_3"><a id="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2" name="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2"></a><h3 id="SPATL-GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2" class="sect3"><span class="enumeration_section">21.6</span> SDO_AGGR_MBR</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2__GUID-815776FB-2584-4A4A-8802-68B3C71EBF4F">格式</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_MBR（geom SDO_GEOMETRY）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2__GUID-4FFF1B8D-47BD-4C3C-9DDA-A40E0702D54C">描述</p>
                     <p>返回指定几何的最小边界矩形（MBR），即最小程度地包围几何的单个矩形。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2__GUID-8E96AC1E-AA45-4167-B546-439496C6B40D">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2__GUID-495E1EF6-84DC-4F82-A6AF-450B8D8BB131"><!-- --></a> geom</dt>
                        <dd>
                           <p>几何对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2__GUID-CB4AFF42-A951-4238-AA74-E4A36230973D">使用说明</p>
                     <p>如果无法构造正确的MBR，则此函数不返回MBR几何。特别：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果输入几何全部为null，则该函数返回null几何。</p>
                        </li>
                        <li>
                           <p>如果输入几何中的所有数据都在一个点上，则该函数返回该点。</p>
                        </li>
                        <li>
                           <p>如果输入几何中的所有数据都由直线上的点组成，则该函数返回两点线。</p>
                        </li>
                     </ul>
                     <p><a href="SDO_TUNE-reference.html#GUID-76AF7E8B-95F2-4834-812F-D910551AA2CA" title="MDSYS.SDO_TUNE包中包含用于空间调整的子程序。">SDO_TUNE包（调整）中</a>记录的<a href="SDO_TUNE-reference.html#GUID-C3FD6805-1E13-4813-A5DF-EA6CA9716EEF">SDO_TUNE.EXTENT_OF</a>函数也返回几何的MBR。该<a href="SDO_TUNE-reference.html#GUID-C3FD6805-1E13-4813-A5DF-EA6CA9716EEF">SDO_TUNE.EXTENT_OF</a>函数具有比如果一个空间索引对几何列中定义的函数SDO_AGGR_MBR更好的性能;但是， <a href="SDO_TUNE-reference.html#GUID-C3FD6805-1E13-4813-A5DF-EA6CA9716EEF">SDO_TUNE.EXTENT_OF</a>函数仅限于二维几何，而SDO_AGGR_MBR函数则不是。此外， <a href="SDO_TUNE-reference.html#GUID-C3FD6805-1E13-4813-A5DF-EA6CA9716EEF">SDO_TUNE.EXTENT_OF</a>函数计算表中所有几何的范围;相反，SDO_AGGR_MBR函数可以对行的子集进行操作。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2__GUID-76D332E2-A3B9-4A4C-9061-4D71EFE91FC5">例子</p>
                     <p>以下示例返回COLA_MARKETS表中几何对象的最小边界矩形。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_MBR（shape）FROM cola_markets; SDO_AGGR_MBR（C.SHAPE）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SD --------------------------- -------------------------------------------------- --- SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（1,1,10,11））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1417"></a><div class="props_rev_3"><a id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB" name="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB"></a><h3 id="SPATL-GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB" class="sect3"><span class="enumeration_section">21.7</span> SDO_AGGR_SET_UNION</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-64B76B5F-4819-4E04-934C-163DC1E4AF5E">格式（作为SDO_AGGR包中的函数）</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR.SDO_AGGR_SET_UNION（几何SDO_GEOMETRY_ARRAY，tol NUMBER）返回SDO_GEOMETRY;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR.SDO_AGGR_SET_UNION（cur SYS_REFCURSOR，tol NUMBER）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-5CBB6C77-E059-4648-8441-1AC5BD44A5E1">格式（作为空间聚合函数[已弃用]）</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_SET_UNION（几何SDO_GEOMETRY_ARRAY，tol NUMBER）返回SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-7C938E9D-7C8C-440A-BA29-4E4867B2B4E0">描述</p>
                     <p>返回SDO_GEOMETRY对象的输入VARRAY或REF游标的所有几何对象的聚合并集。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-2B1C27D2-DEC9-4678-9D20-D894529023C4">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-FFDDBD3F-66D6-4C01-8ECC-16552B03781A"><!-- --></a>几何</dt>
                        <dd>
                           <p>对象类型为SDO_GEOMETRY_ARRAY的几何对象数组，定义为<code class="codeph">VARRAY OF SDO_GEOMETRY</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-1D5877AB-08F7-4267-8920-995831E3A9F5"><!-- --></a> cur</dt>
                        <dd>
                           <p>一个REF游标，返回一组几何对象，为其返回所有几何对象的聚合并集。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-AE291C29-4CB4-4AD2-B2D7-22914D6F6965"><!-- --></a> tol</dt>
                        <dd>
                           <p>公差值（见<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> ）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-45C581F9-7D69-45F1-935C-682DA1186AAC">使用说明</p>
                     <div class="infoboxnote" id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-F83B10A3-6A74-476C-AE6E-2B7CDBAE65F4">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database Release 12 <span class="italic">c</span> （12.1）开始，作为空间聚合函数的格式已弃用，将在即将发布的主要版本中删除。
                        </p>
                        <p>您应该使用SDO_AGGR.SDO_AGGR_SET_UNION函数的其中一种格式。</p>
                     </div>
                     <p>SDO_AGGR_SET_UNION提供比<a href="spatial-aggregate-functions.html#GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627">SDO_AGGR_UNION</a>更快的性能，但灵活性较低，当性能特别重要且满足您的功能需求时，应考虑SDO_AGGR_SET_UNION。
                     </p>
                     <p><a href="spatial-aggregate-functions.html#GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627">SDO_AGGR_UNION</a>是一个SQL聚合函数，因此它非常灵活，可以与复杂的SQL GROUP BY子句一起使用。但是，SDO_AGGR_SET_UNION可以比SDO_AGGR_UNION快得多。当要分组的几何图形可以轻松地收集到集合中时，SDO_AGGR_SET_UNION非常有用，例如SDO_GEOMETRY对象的VARRAY。
                     </p>
                     <p>SDO_AGGR_SET_UNION：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">无法</span>聚合一组<span class="italic">重叠的</span>多边形。对于重叠多边形，请使用<a href="spatial-aggregate-functions.html#GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627">SDO_AGGR_UNION</a> 。</p>
                        </li>
                        <li>
                           <p><span class="italic">可以</span>有效地聚合一组<span class="italic">非重叠</span>多边形，包括触摸的多边形。
                           </p>
                        </li>
                        <li>
                           <p>即使它们重叠，也可以聚合线和点集。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6D7F6FC-1740-4EA5-BA0C-1336E88222BB__GUID-61ABCDA9-B8CB-4FA8-8406-014439573F23">例子</p>
                     <p>以下示例创建一个通用例程，以构建要传递给SDO_AGGR_SET_UNION的几何集。它将输入表名，列名和可选谓词作为输入，并返回准备与SDO_AGGR_SET_UNION一起使用的SDO_GEOMETRY_ARRAY。创建<code class="codeph">get_geom_set</code>函数后的第一个SELECT语句调用SDO_AGGR.SDO_AGGR_UNION PL / SQL函数，第二个SELECT语句调用不推荐的空间聚合函数，第三个SELECT语句使用指定a的格式调用SDO_AGGR.SDO_AGGR_UNION PL / SQL函数光标。所有SELECT语句都返回相同的结果。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">创建或替换函数get_geom_set（table_name VARCHAR2，column_name VARCHAR2，predicate VARCHAR2：= NULL）RETURN SDO_GEOMETRY_ARRAY DETERMINISTIC AS类型cursor_type是REF CURSOR; query_crs cursor_type; g SDO_GEOMETRY; GeometryArr SDO_GEOMETRY_ARRAY; where_clause VARCHAR2（2000）; BEGIN IF谓词IS NULL THEN where_clause：= NULL; ELSE where_clause：='WHERE';万一; GeometryArr：= SDO_GEOMETRY_ARRAY（）;打开query_crs FOR'SELECT'|| column_name || 'FROM'|| table_name || where_clause ||谓语; LOOP FETCH query_crs为g;在query_crs％NOTFOUND时退出; GeometryArr.extend; GeometryArr（GeometryArr.count）：= g;结束循环; RETURN GeometryArr;结束; / <span class="bold">- 在SDO_AGGR PL / SQL包中调用SDO_AGGR_SET_UNION函数。</span>SELECT sdo_aggr.sdo_aggr_set_union（get_geom_set（'COLA_MARKETS'，'SHAPE'，'name &lt;&gt;''cola_c'''）,. 0005）FROM dual; SDO_AGGR.SDO_AGGR_SET_UNION（GET_GEOM_SET（'COLA_MARKETS'，'SHAPE'，'NAME &lt;&gt;''COLA_C'---------------------------- -------------------------------------------------- -  SDO_GEOMETRY（2007，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,2,11,1003,1），SDO _ORDINATE_ARRAY（8,11,6,9,8,7,10,9,8,11,1， <span class="bold">7,1,1,5,1,8,1,8,6,5,7,1,7</span> ）） <span class="bold">- 调用SDO_AGGR_SET_UNION空间聚合函数（不建议使用的格式）。</span>SELECT sdo_aggr_set_union（get_geom_set（'COLA_MARKETS'，'SHAPE'，'name &lt;&gt;''cola_c'''）,. 0005）FROM dual; SDO_AGGR.SDO_AGGR_SET_UNION（GET_GEOM_SET（'COLA_MARKETS'，'SHAPE'，'NAME &lt;&gt;''COLA_C'---------------------------- -------------------------------------------------- -  SDO_GEOMETRY（2007，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,2,11,1003,1），SDO _ORDINATE_ARRAY（8,11,6,9,8,7,10,9,8,11,1， <span class="bold">7,1,1,5,1,8,1,8,6,5,7,1,7</span> ）） <span class="bold">- 在SDO_AGGR PL / SQL包中调用SDO_AGGR_SET_UNION函数;指定</span> <span class="bold">- 将光标作为输入。</span>SELECT sdo_aggr.sdo_aggr_set_union（CURSOR（SELECT shape FROM COLA_MARKETS WHERE name &lt;&gt;'cola_c'）,. 0005）FROM dual; SDO_AGGR.SDO_AGGR_SET_UNION（CURSOR（SELECTSHAPEFROMCOLA_MARKETSWHERENAME &lt;&gt;'COLA_C --------------------------------------- ----------------------------------------- SDO_GEOMETRY（2007，NULL，NULL，SDO_ELEM_INFO_ARRAY （1,1003,2,11,1003,1），SDO _ORDINATE_ARRAY（8,11,6,9,8,7,10,9,8,11,1,7,1,1,5,1,8） ，1,8,6,5,7,1,7））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1048"></a><div class="props_rev_3"><a id="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627" name="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627"></a><h3 id="SPATL-GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627" class="sect3"><span class="enumeration_section">21.8</span> SDO_AGGR_UNION</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627__GUID-4B833637-6B25-407B-998B-440AFEA6220C">格式</p><pre class="oac_no_warn" dir="ltr">SDO_AGGR_UNION（AggregateGeometry SDOAGGRTYPE）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627__GUID-2437ED72-6048-4FC6-A072-05C6EA8ADFB9">描述</p>
                     <p>返回几何对象，该对象是指定几何对象的拓扑并集（OR运算）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627__GUID-3880E44A-85DD-4052-8E8D-A52A246D5B7F">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627__GUID-6FBA4CB7-A950-4FA9-8C6A-1405E100E2D8"><!-- --></a> AggregateGeometry</dt>
                        <dd>
                           <p>SDOAGGRTYPE类型的对象（请参阅<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE对象类型</a> ），它指定几何列和维数组。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627__GUID-B2CDA2C6-70A3-4719-97BE-E5D8CBD5D826">使用说明</p>
                     <p>不要使用SDO_AGGR_UNION来合并线串或多线串几何;相反，使用<a href="spatial-aggregate-functions.html#GUID-9DDDD717-83CC-4AD6-8196-B7309BA67669">SDO_AGGR_CONCAT_LINES</a>空间聚合函数。
                     </p>
                     <p>另请参阅<a href="SDO_GEOM-reference.html#GUID-0D52F048-18B4-4A2C-B5BF-6A5F6BD3E113" title="MDSIS.SDO_GEOM包中包含用于处理几何对象的子程序。">SDO_GEOM包（几何）中</a>有关<a href="SDO_GEOM-reference.html#GUID-35318AFF-1981-4A8B-BA8A-D4E8272E86AB">SDO_GEOM.SDO_UNION</a>函数的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627__GUID-2CD9DE27-254E-49CD-BBAA-12C5BDBE4A65">例子</p>
                     <p>以下示例返回除<code class="codeph">cola_d</code>之外的所有几何的并<code class="codeph">cola_d</code> （在本例中为<code class="codeph">cola_a</code> ， <code class="codeph">cola_b</code>和<code class="codeph">cola_c</code> ）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_UNION（SDOAGGRTYPE（c.shape，0.005））FROM cola_markets c WHERE c.name &lt;&gt;'cola_d'; SDO_AGGR_UNION（SDOAGGRTYPE（C.SHAPE，0.005））（SDO_GTYPE，SDO_SRID，SDO_POINT（-------------------------------- ------------------------------------------------ SDO_GEOMETRY（ 2007，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,2,11,1003,1），SDO _ORDINATE_ARRAY（8,11,6,9,8,7,10,9,8,11,1,7,1， 1,5,1,8,1,8,6,5,7,1,7））</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>