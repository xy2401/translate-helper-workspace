<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>投</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CARDINALITY.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CEIL.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CARDINALITY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CEIL.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">投</li>
            </ol>
            <a id="GUID-5A70235E-1209-4281-8521-B94497AAEF75" name="GUID-5A70235E-1209-4281-8521-B94497AAEF75"></a><a id="SQLRF51256"></a><a id="SQLRF51257"></a><a id="SQLRF51258"></a><a id="SQLRF51259"></a><a id="SQLRF51260"></a><a id="SQLRF00613"></a>
            
            <h2 id="SQLRF-GUID-5A70235E-1209-4281-8521-B94497AAEF75" class="sect2">投</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-5A70235E-1209-4281-8521-B94497AAEF75__GUID-7EB148CD-9AB6-4EC1-A680-66BB8E0F91CD">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-5A70235E-1209-4281-8521-B94497AAEF75__GUID-F8628C12-E6C3-4C70-89A9-6F2652081567"><img src="img/cast.gif" alt="cast.eps的描述如下" title="cast.eps的描述如下" longdesc="img_text/cast.html"><br><a href="img_text/cast.html">cast.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5A70235E-1209-4281-8521-B94497AAEF75__GUID-60AA0BB5-D5E9-4A77-B719-63B6BC5B5E60">目的</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">CAST</code>允许您将一种类型的内置数据类型或集合类型值转换为另一种内置数据类型或集合类型。您可以将未命名的操作数（例如子查询的日期或结果集）或命名集合（例如varray或嵌套表）转换为类型兼容的数据类型或命名集合。<span class="italic"><code class="codeph">type_name</code></span>必须是内置数据类型或集合类型的名称，操作数必须是内置数据类型或必须求值为集合值。
                  </p>
                  <p><a id="d106844e160" class="indexterm-anchor"></a>对于操作数， <span class="italic"><code class="codeph">expr</code></span>可以是内置数据类型，集合类型或<code class="codeph">ANYDATA</code>类型的实例。如果<span class="italic"><code class="codeph">expr</code></span>是<code class="codeph">ANYDATA</code>类型的实例，则<code class="codeph">CAST</code>尝试提取<code class="codeph">ANYDATA</code>实例的值，如果它与转换目标类型匹配则返回它，否则返回null。<code class="codeph">MULTISET</code>通知Oracle数据库获取子查询的结果集并返回集合值。<a href="CAST.html#GUID-5A70235E-1209-4281-8521-B94497AAEF75__G1514003" title="第一列列出目标数据类型，后续列的标题单元格包含源数据类型。单元格用X表示使用CAST从源到目标数据类型的可能转换。">表7-1</a>显示了哪些内置数据类型可以转换为其他内置数据类型。（ <code class="codeph">CAST</code>不支持<code class="codeph">LONG</code> ， <code class="codeph">LONG</code> <code class="codeph">RAW</code>或Oracle提供的类型。）
                  </p>
                  <p><code class="codeph">CAST</code>不直接支持任何LOB数据类型。当您使用<code class="codeph">CAST</code>将<code class="codeph">CLOB</code>值转换为字符数据类型或将<code class="codeph">BLOB</code>值转换为<code class="codeph">RAW</code>数据类型时，数据库会隐式将LOB值转换为字符数据或原始数据，然后将结果值显式转换为目标数据类型。如果结果值大于目标类型，则数据库返回错误。
                  </p>
                  <p>当你使用<code class="codeph">CAST</code> ......<code class="codeph">MULTISET</code>获取一个集合值，传递给<code class="codeph">CAST</code>函数的查询中的每个选择列表项都转换为目标集合元素类型的相应属性类型。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-5A70235E-1209-4281-8521-B94497AAEF75__G1514003">
                  <p class="titleintable">表7-1转换内置数据类型</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="转换内置数据类型" width="100%" border="1" summary="The first column lists the destination data types and the header cells of subsequent columns contain the source data types. The cells indicate with an X the possible conversions from source to destination data type using CAST." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="15%" id="d106844e250">目的地数据类型</th>
                           <th align="left" valign="bottom" width="12%" id="d106844e253">来自BINARY_FLOAT，BINARY_DOUBLE</th>
                           <th align="left" valign="bottom" width="12%" id="d106844e256">来自CHAR，VARCHAR2</th>
                           <th align="left" valign="bottom" width="12%" id="d106844e259">来自NUMBER / INTEGER</th>
                           <th align="left" valign="bottom" width="12%" id="d106844e262">来自DATETIME / INTERVAL（注1）</th>
                           <th align="left" valign="bottom" width="12%" id="d106844e265">来自RAW</th>
                           <th align="left" valign="bottom" width="12%" id="d106844e268">来自ROWID，UROWID（注2）</th>
                           <th align="left" valign="bottom" width="13%" id="d106844e271">来自NCHAR，NVARCHAR2</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="15%" id="d106844e276" headers="d106844e250 ">
                              <p><span class="bold">到BINARY_FLOAT，BINARY_DOUBLE</span></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e276 d106844e253 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e276 d106844e256 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e276 d106844e259 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e276 d106844e262 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e276 d106844e265 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e276 d106844e268 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d106844e276 d106844e271 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="15%" id="d106844e313" headers="d106844e250 ">
                              <p><span class="bold">到CHAR，VARCHAR2</span> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e313 d106844e253 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e313 d106844e256 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e313 d106844e259 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e313 d106844e262 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e313 d106844e265 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e313 d106844e268 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d106844e313 d106844e271 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="15%" id="d106844e347" headers="d106844e250 ">
                              <p><span class="bold">到NUMBER / INTEGER</span> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e347 d106844e253 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e347 d106844e256 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e347 d106844e259 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e347 d106844e262 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e347 d106844e265 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e347 d106844e268 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d106844e347 d106844e271 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="15%" id="d106844e385" headers="d106844e250 ">
                              <p><span class="bold">到DATETIME / INTERVAL</span> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e385 d106844e253 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e385 d106844e256 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e385 d106844e259 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e385 d106844e262 ">
                              <p><code class="codeph">X</code> （注3）</p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e385 d106844e265 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e385 d106844e268 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d106844e385 d106844e271 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="15%" id="d106844e421" headers="d106844e250 ">
                              <p><span class="bold">RAW</span> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e421 d106844e253 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e421 d106844e256 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e421 d106844e259 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e421 d106844e262 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e421 d106844e265 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e421 d106844e268 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d106844e421 d106844e271 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="15%" id="d106844e455" headers="d106844e250 ">
                              <p><span class="bold">到ROWID，UROWID</span> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e455 d106844e253 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e455 d106844e256 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e455 d106844e259 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e455 d106844e262 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e455 d106844e265 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e455 d106844e268 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d106844e455 d106844e271 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="15%" id="d106844e489" headers="d106844e250 ">
                              <p><span class="bold">到NCHAR，NVARCHAR2</span> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e489 d106844e253 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e489 d106844e256 ">
                              <p><code class="codeph">-</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e489 d106844e259 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e489 d106844e262 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e489 d106844e265 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="12%" headers="d106844e489 d106844e268 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d106844e489 d106844e271 ">
                              <p><code class="codeph">X</code></p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p><span class="bold">注1：</span>日期时间/间隔包括<code class="codeph">DATE</code> ， <code class="codeph">TIMESTAMP</code> ， <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> ， <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> ， <code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>和<code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code> 。</p>
                  <p><span class="bold">注意2：</span>如果<code class="codeph">UROWID</code>包含索引组织表的<code class="codeph">ROWID</code>值，则无法将<code class="codeph">UROWID</code>转换为<code class="codeph">ROWID</code> 。
                  </p>
                  <p><span class="bold">注3：</span>您可以为此类<code class="codeph">CONVERSION</code>指定<code class="codeph">DEFAULT</code> <span class="italic"><code class="codeph">return_value</code></span> <code class="codeph">ON</code> <code class="codeph">CONVERSION</code> <code class="codeph">ERROR</code>子句。您可以为此类转换指定<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>子句，但以下情况除外：转换为<code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>无法指定<span class="italic"><code class="codeph">fmt</code></span> ，转换为<code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>时无法指定<span class="italic"><code class="codeph">fmt</code></span>或<span class="italic"><code class="codeph">nlsparam</code></span> 。</p>
                  <p>如果要将命名集合类型转换为另一个命名集合类型，则两个集合的元素必须属于同一类型。</p>
                  <div class="infoboxnotealso" id="GUID-5A70235E-1209-4281-8521-B94497AAEF75__GUID-CFB36EA1-DA4E-4BA3-90A7-C2C65B6682E9">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694">隐式数据转换，</a>以获取有关Oracle数据库如何隐式将集合类型数据转换为字符数据以及<a href="Data-Type-Comparison-Rules.html#GUID-6A02902A-1EF1-41E4-9494-381488BD272F">数据转换的安全注意事项的信息</a></p>
                        </li>
                        <li>
                           <p>“ <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span><cite>数据库全球化支持指南”</cite></span></a>中的附录C，用于排序规则派生规则，它定义在<code class="codeph">CAST</code>为字符值时分配给<code class="codeph">CAST</code>返回值的排序规则</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">MULTISET</span></p>
                  <p>如果<span class="italic"><code class="codeph">subquery</code></span>的结果集可以计算为多行，则必须指定<code class="codeph">MULTISET</code>关键字。子查询产生的行形成了它们所投射的集合值的元素。如果没有<code class="codeph">MULTISET</code>关键字，子查询将被视为标<code class="codeph">MULTISET</code>查询。
                  </p>
                  <p><span class="bold">对MULTISET的限制</span></p>
                  <p>如果指定<code class="codeph">MULTISET</code>关键字，则无法指定<code class="codeph">DEFAULT</code> <span class="italic"><code class="codeph">return_value</code></span> <code class="codeph">ON</code> <code class="codeph">CONVERSION</code> <code class="codeph">ERROR</code> ， <span class="italic"><code class="codeph">fmt</code></span>或<span class="italic"><code class="codeph">nlsparam</code></span>子句。
                  </p>
                  <p><span class="bold">DEFAULT <span class="italic">return_value</span> ON CONVERSION ERROR</span></p>
                  <p>如果在将<span class="italic"><code class="codeph">expr</code></span>转换为<span class="italic"><code class="codeph">type_name</code></span>时发生错误，则此子句允许您指定此函数返回的值。如果在计算<span class="italic"><code class="codeph">expr</code></span>时发生错误，则此子句无效。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">expr</code></span>计算为<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NCHAR</code>或<code class="codeph">NVARCHAR2</code>类型的字符串，并且<span class="italic"><code class="codeph">type_name</code></span>为<code class="codeph">BINARY_DOUBLE</code> ， <code class="codeph">BINARY_FLOAT</code> ， <code class="codeph">DATE</code> ， <code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code> ， <code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">TIMESTAMP</code> ， <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> ，则此子句有效或<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> 。</p>
                  <p><span class="italic"><code class="codeph">return_value</code></span>可以是字符串文字，null，常量表达式或绑定变量，并且必须求值为null或<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NCHAR</code>或<code class="codeph">NVARCHAR2</code>类型的字符串。如果<span class="italic"><code class="codeph">return_value</code></span>无法转换为<span class="italic"><code class="codeph">type_name</code></span> ，则该函数返回错误。
                  </p>
                  <p><span class="bold"><span class="italic">fmt</span>和<span class="italic">nlsparam</span></span></p>
                  <p><span class="italic"><code class="codeph">fmt</code></span>参数允许您指定格式模型，而<span class="italic"><code class="codeph">nlsparam</code></span>参数允许您指定NLS参数。如果指定这些参数，则在将<span class="italic"><code class="codeph">expr</code></span>和<span class="italic"><code class="codeph">return_value</code></span> （如果指定）转换为<span class="italic"><code class="codeph">type_name</code></span>时将应用它们。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">type_name</code></span>是以下数据类型之一，则可以指定<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">BINARY_DOUBLE</code></p>
                        <p>如果指定<code class="codeph">BINARY_DOUBLE</code> ，则可选的<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>参数与<code class="codeph">TO_BINARY_DOUBLE</code>函数的用途相同。有关更多信息，请参阅<a href="TO_BINARY_DOUBLE.html#GUID-0BA2E065-8006-426C-A3CB-1F6B0C8F283C">TO_BINARY_DOUBLE</a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">BINARY_FLOAT</code></p>
                        <p>如果指定<code class="codeph">BINARY_FLOAT</code> ，则可选的<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>参数与<code class="codeph">TO_BINARY_FLOAT</code>函数的用途相同。有关更多信息，请参阅<a href="TO_BINARY_FLOAT.html#GUID-66A51BE2-BE4A-4B99-9C37-73B110452D27">TO_BINARY_FLOAT</a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">日期</code></p>
                        <p>如果指定<code class="codeph">DATE</code> ，则可选的<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>参数与<code class="codeph">TO_DATE</code>函数的用途相同。有关更多信息，请参阅<a href="TO_DATE.html#GUID-D226FA7C-F7AD-41A0-BB1D-BD8EF9440118">TO_DATE</a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">数</code></p>
                        <p>如果指定<code class="codeph">NUMBER</code> ，则可选的<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>参数与<code class="codeph">TO_NUMBER</code>函数的用途相同。有关更多信息，请参阅<a href="TO_NUMBER.html#GUID-D4807212-AFD7-48A7-9AED-BEC3E8809866">TO_NUMBER</a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">TIMESTAMP</code></p>
                        <p>如果指定<code class="codeph">TIMESTAMP</code> ，则可选的<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>参数用于与<code class="codeph">TO_TIMESTAMP</code>函数相同的目的。如果省略<span class="italic"><code class="codeph">fmt</code></span> ，则<span class="italic"><code class="codeph">expr</code></span>必须采用<code class="codeph">TIMESTAMP</code>数据类型的缺省格式，该格式由<code class="codeph">NLS_TIMESTAMP_FORMAT</code>参数显式确定，或由<code class="codeph">NLS_TERRITORY</code>参数隐式确定。有关更多信息，请参阅<a href="TO_TIMESTAMP.html#GUID-57E09334-E3CC-4CA2-809E-F0909458BCFA">TO_TIMESTAMP</a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        <p>如果指定<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> ，则可选的<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>参数与<code class="codeph">TO_TIMESTAMP_TZ</code>函数的用途相同。如果省略<span class="italic"><code class="codeph">fmt</code></span> ，则<span class="italic"><code class="codeph">expr</code></span>必须采用<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>数据类型的默认格式，该格式由<code class="codeph">NLS_TIMESTAMP_TZ_FORMAT</code>参数显式确定，或由<code class="codeph">NLS_TERRITORY</code>参数隐式确定。有关更多信息，请参阅<a href="TO_TIMESTAMP_TZ.html#GUID-3999303B-89CA-4AA3-9817-458F36ADC9DC">TO_TIMESTAMP_TZ</a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        <p>如果指定<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>则可选的<span class="italic"><code class="codeph">fmt</code></span>和<span class="italic"><code class="codeph">nlsparam</code></span>参数与<code class="codeph">TO_TIMESTAMP</code>函数的用途相同。如果省略<span class="italic"><code class="codeph">fmt</code></span> ，则<span class="italic"><code class="codeph">expr</code></span>必须采用<code class="codeph">TIMESTAMP</code>数据类型的缺省格式，该格式由<code class="codeph">NLS_TIMESTAMP_FORMAT</code>参数显式确定，或由<code class="codeph">NLS_TERRITORY</code>参数隐式确定。有关更多信息，请参阅<a href="TO_TIMESTAMP.html#GUID-57E09334-E3CC-4CA2-809E-F0909458BCFA">TO_TIMESTAMP</a> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5A70235E-1209-4281-8521-B94497AAEF75__GUID-3FBDAB52-3FDB-40B4-BE38-9D3B831E09BD">内置数据类型示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>以下示例将<code class="codeph">CAST</code>函数与标量数据类型一起使用。第一个示例通过应用会话参数<code class="codeph">NLS_TIMESTAMP_FORMAT</code>提供的格式模型将文本转换为时间戳值。如果要避免依赖此NLS参数，则可以使用<code class="codeph">TO_DATE</code> ，如第二个示例所示。
                  </p><pre class="oac_no_warn" dir="ltr">选择CAST（'22 -OCT-1997'AS TIMESTAMP WITH LOCAL TIME ZONE）来自DUAL; SELECT CAST（TO_DATE（'22 -Oct-1997'，'DD-Mon-YYYY'）作为TIMESTAMP与当地时区）来自DUAL;</pre><p>在前面的示例中， <code class="codeph">TO_DATE</code>从文本转换为<code class="codeph">DATE</code> ， <code class="codeph">CAST</code>从<code class="codeph">DATE</code>转换为<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> ，解释会话时区中的日期（ <code class="codeph">SESSIONTIMEZONE</code> ）。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT product_id，CAST（ad_sourcetext AS VARCHAR2（30））text FROM print_media ORDER BY product_id;</pre><p>如果在将指定值转换为指定数据类型时发生错误，以下示例将返回默认值。在这些示例中，转换发生时没有错误。</p><pre class="oac_no_warn" dir="ltr">来自DUAL的SELECT CAST（转换错误200个数字默认值为0）;</pre><pre class="oac_no_warn" dir="ltr">选择CAST（'1989年1月15日，上午11:00'转换错误的日期默认值为空，'月dd，YYYY，HH：MI AM'）来自DUAL;</pre><pre class="oac_no_warn" dir="ltr">SELECT CAST（'1999-12-01 11:00:00 -8：00'TI TIMESTAMP WITH TIME ZONE DEFAULT'2000-01-01 01:00:00 -8：00'CORVERSION ERROR，'YYYY-MM- DD HH：MI：SS TZH：TZM'，'NLS_DATE_LANGUAGE = American'）FROM DUAL;</pre><p>在以下示例中，将<code class="codeph">'N/A'</code>转换为<code class="codeph">NUMBER</code>值时发生错误。因此， <code class="codeph">CAST</code>函数返回默认值<code class="codeph">0</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">选择CAST（来自转换错误的'N / A'AS号码默认'0'）来自DUAL;</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5A70235E-1209-4281-8521-B94497AAEF75__GUID-B32DC25E-30EA-4A6C-99CE-AC686BE109E4">收集示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>接下来的<code class="codeph">CAST</code>示例构建在示例顺序条目模式<code class="codeph">oe</code>的<code class="codeph">cust_address_typ</code>上。
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE address_book_t AS TABLE OF cust_address_typ; / CREATE TYPE address_array_t AS VARRAY（3）OF cust_address_typ; / CREATE TABLE cust_address（custno NUMBER，street_address VARCHAR2（40），postal_code VARCHAR2（10），city VARCHAR2（30），state_province VARCHAR2（10），country_id CHAR（2））; CREATE TABLE cust_short（custno NUMBER，name VARCHAR2（31））; CREATE TABLE状态（state_id NUMBER，address address_array_t）;</pre><p>此示例强制转换子查询：</p><pre class="oac_no_warn" dir="ltr">SELECT s.custno，s.name，CAST（MULTISET（SELECT ca.street_address，ca.postal_code，ca.city，ca.state_province，ca.country_id FROM cust_address ca WHERE s.custno = ca.custno）AS address_book_t）FROM cust_short s ORDER BY s.custno;</pre><p><code class="codeph">CAST</code>将varray类型列转换为嵌套表：</p><pre class="oac_no_warn" dir="ltr">SELECT CAST（s.addresses AS address_book_t）FROM状态s WHERE s.state_id = 111;</pre><p>以下对象创建以下示例的基础：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE项目（employee_id NUMBER，project_name VARCHAR2（10））; CREATE TABLE emps_short（employee_id NUMBER，last_name VARCHAR2（10））; CREATE TYPE project_table_typ AS VARCHAR2表（10）; /</pre><p>以下<code class="codeph">MULTISET</code>表达式示例使用以下对象：</p><pre class="oac_no_warn" dir="ltr">SELECT e.last_name，CAST（MULTISET（SELECT p.project_name FROM projects p WHERE p.employee_id = e.employee_id ORDER BY p.project_name）AS project_table_typ）FROM emps_short e ORDER BY e.last_name;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>