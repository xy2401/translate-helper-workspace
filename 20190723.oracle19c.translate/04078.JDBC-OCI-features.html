<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>JDBC OCI驱动程序特有的功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="JDBC-Thin-features.html" title="Previous" type="text/html"></link>
      <link rel="next" href="server-side-internal-driver.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JDBC-Thin-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="server-side-internal-driver.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="overview-Oracle-JDBC.html" property="item" typeof="WebPage"><span property="name">Oracle JDBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JDBC OCI驱动程序特有的功能</li>
            </ol>
            <a id="GUID-A8201BD0-BAED-4C54-B53B-C26C5F295B32" name="GUID-A8201BD0-BAED-4C54-B53B-C26C5F295B32"></a><a id="JJDBC28217"></a>
            
            <h2 id="JJDBC-GUID-A8201BD0-BAED-4C54-B53B-C26C5F295B32" class="sect2"><span class="enumeration_chapter">6</span> JDBC OCI驱动程序特有的功能</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='JDBC-OCI-features'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>本章介绍Java数据库连接（JDBC）Oracle调用接口（OCI）驱动程序的特定功能。它还描述了OCI Instant Client。本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="JDBC-OCI-features.html#GUID-7F8D7992-FC1D-42DA-A2D7-2C547B9201DE">OCI连接池</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-OCI-features.html#GUID-9C10D66C-2317-4524-9503-33D75815C097">透明应用程序故障转移</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-OCI-features.html#GUID-487CE2C8-0432-42BC-8A4D-48AB77B96490">OCI Native XA</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-OCI-features.html#GUID-4DFA77E7-6D49-4FA0-9AC7-9EF5B536505B">OCI即时客户端</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-OCI-features.html#GUID-074BA20F-9157-4239-BFE5-6E6252BD1925">关于Instant Client Light（英文）</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28218"></a><div class="props_rev_3"><a id="GUID-7F8D7992-FC1D-42DA-A2D7-2C547B9201DE" name="GUID-7F8D7992-FC1D-42DA-A2D7-2C547B9201DE"></a><h3 id="JJDBC-GUID-7F8D7992-FC1D-42DA-A2D7-2C547B9201DE" class="sect3"><span class="enumeration_section">6.1</span> OCI连接池</h3>
               <div>
                  <p>OCI连接池功能是Oracle设计的扩展。JDBC OCI驱动程序提供的连接池使应用程序具有多个逻辑连接，所有这些连接都使用一小组物理连接。逻辑连接上的每个调用都会路由到给定时间可用的物理连接。</p>
                  <div class="infoboxnotealso" id="GUID-7F8D7992-FC1D-42DA-A2D7-2C547B9201DE__GUID-528B4447-C87D-4C29-AFF3-4BA63B81B5C2">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="OCI-connection-pooling.html#GUID-B861DEA4-3E3E-4882-B42F-6A0EE949F907">OCI连接池</a></p>
                  </div>
               </div>
            </div><a id="JJDBC27000"></a><a id="JJDBC28232"></a><div class="props_rev_3"><a id="GUID-9C10D66C-2317-4524-9503-33D75815C097" name="GUID-9C10D66C-2317-4524-9503-33D75815C097"></a><h3 id="JJDBC-GUID-9C10D66C-2317-4524-9503-33D75815C097" class="sect3"><span class="enumeration_section">6.2</span>透明应用程序故障转移</h3>
               <div>
                  <div class="section">
                     <p>JDBC OCI驱动程序的透明应用程序故障转移功能使您能够在建立连接的数据库实例关闭时自动重新连接到数据库。新数据库连接虽然由不同的节点创建，但与原始数据库连接相同。</p>
                     <div class="infoboxnotealso" id="GUID-9C10D66C-2317-4524-9503-33D75815C097__GUID-EDD2D8AF-F2FC-489A-A3EE-0959BCF4D6E4">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="transparent-application-failover.html#GUID-95B3215D-A988-4619-94BD-0C6F56B8F43C">透明应用程序故障转移</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28233"></a><div class="props_rev_3"><a id="GUID-487CE2C8-0432-42BC-8A4D-48AB77B96490" name="GUID-487CE2C8-0432-42BC-8A4D-48AB77B96490"></a><h3 id="JJDBC-GUID-487CE2C8-0432-42BC-8A4D-48AB77B96490" class="sect3"><span class="enumeration_section">6.3</span> OCI Native XA</h3>
               <div>
                  <div class="section">
                     <p>JDBC OCI驱动程序还提供了一个名为Native XA的功能。此功能允许使用本机API发送XA命令。与非本机API相比，本机API提供了高性能增益。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="distributed-transactions.html#GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55">OCI Native XA</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28234"></a><div class="props_rev_3"><a id="GUID-4DFA77E7-6D49-4FA0-9AC7-9EF5B536505B" name="GUID-4DFA77E7-6D49-4FA0-9AC7-9EF5B536505B"></a><h3 id="JJDBC-GUID-4DFA77E7-6D49-4FA0-9AC7-9EF5B536505B" class="sect3"><span class="enumeration_section">6.4</span> OCI Instant Client</h3>
               <div>
                  <div class="section">
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-694149CE-714C-4CEE-BC34-E054B82D76B0">Instant Client概述</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-7B493406-5246-4DE1-9A06-B521EDAE1F21">OCI即时客户端共享库</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-659C58E5-B44A-4A5D-B5AC-231D94867771">Instant Client的好处</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-5B91CD79-A534-4F9C-97D6-905DD9DA7106">JDBC OCI即时客户端安装过程</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-DCF585E2-EF46-4985-B9A5-EEC11C828FAC">使用Instant Client</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-CB69F1E3-D115-4547-8409-7FE964F986EC">关于修补Instant Client共享库</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-2A8760C7-26CC-48D3-8413-7A8A6C9F2C43">数据共享库和ZIP文件的重新生成</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1">OCI Instant Client的数据库连接名称</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-FC2B9CA5-6CB6-4C52-A59D-0CCC2F9429A8">OCI Instant Client的环境变量</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28235"></a><div class="props_rev_3"><a id="GUID-694149CE-714C-4CEE-BC34-E054B82D76B0" name="GUID-694149CE-714C-4CEE-BC34-E054B82D76B0"></a><h4 id="JJDBC-GUID-694149CE-714C-4CEE-BC34-E054B82D76B0" class="sect4"><span class="enumeration_section">6.4.1</span> Instant Client概述</h4>
                  <div>
                     <p>Instant Client的打包方式使得通过消除对Oracle主页的需求，可以非常轻松地部署OCI，Oracle C ++调用接口（OCCI），开放式数据库连接（ODBC）和基于JDBC-OCI的客户应用程序。与在完整客户端安装上运行的同一应用程序相比，使用Instant Client的JDBC OCI应用程序的存储空间要求显着降低。Instant Client共享库仅占完整客户端安装所用磁盘空间的四分之一。</p>
                  </div>
               </div><a id="JJDBC28236"></a><div class="props_rev_3"><a id="GUID-7B493406-5246-4DE1-9A06-B521EDAE1F21" name="GUID-7B493406-5246-4DE1-9A06-B521EDAE1F21"></a><h4 id="JJDBC-GUID-7B493406-5246-4DE1-9A06-B521EDAE1F21" class="sect4"><span class="enumeration_section">6.4.2</span> OCI Instant Client共享库</h4>
                  <div>
                     <div class="section">
                        <p>您必须具有部署JDBC OCI应用程序所需的Oracle客户端文件。此表中提到的库名称对应于Oracle Database Release 18c。库名称的数字部分将在未来版本中更改以与发布一致。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-7B493406-5246-4DE1-9A06-B521EDAE1F21__CHDIFGFG">
                        <p class="titleintable">表6-1 OCI Instant Client共享库</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI即时客户端共享库" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d29501e285">Linux和UNIX系统</th>
                                 <th align="left" valign="bottom" width="29%" id="d29501e288">Linux和UNIX系统的描述</th>
                                 <th align="left" valign="bottom" width="18%" id="d29501e291">微软Windows</th>
                                 <th align="left" valign="bottom" width="32%" id="d29501e294">Microsoft Windows的说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d29501e299" headers="d29501e285 ">
                                    <p><code class="codeph">libclntsh.so.18.1</code></p>
                                    <p><code class="codeph">libclntshcore.so.18.1</code> <a id="fn_1" name="fn_1" href="#fn_1" data="" beginning="" with="" oracle="" database="" 12c="" release="" 1,="" the="" libclntshcore.so.<release="" number&gt;="" library="" is="" separated="" from="" libclntsh.so.<release="" and="" shared="" library=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d29501e299 d29501e288 ">
                                    <p>客户端代码库</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d29501e299 d29501e291 ">
                                    <p><code class="codeph">OCI.DLL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d29501e299 d29501e294 ">
                                    <p>应用程序链接的转发功能</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d29501e329" headers="d29501e285 ">
                                    <p><code class="codeph">libociei.so</code> <a id="fn_2" name="fn_2" href="#fn_2" the="" libclntsh.so.18.1="" library,="" libclntshcore.so.18.1="" and="" libociei.so="" library="" must="" reside="" in="" same="" directory="" order="" to="" operate="" instant="" client="" mode=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d29501e329 d29501e288 ">
                                    <p>OCI即时客户端数据共享库</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d29501e329 d29501e291 ">
                                    <p><code class="codeph">oraociei18.dll</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d29501e329 d29501e294 ">
                                    <p>数据和代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d29501e356" headers="d29501e285 ">
                                    <p><code class="codeph">libnnz18.so</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d29501e356 d29501e288 ">
                                    <p>安全库</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d29501e356 d29501e291 ">
                                    <p><code class="codeph">orannzsbb18.dll</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d29501e356 d29501e294 ">
                                    <p>安全库</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d29501e371" headers="d29501e285 ">
                                    <p><code class="codeph">libocijdbc18.so</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d29501e371 d29501e288 ">
                                    <p>OCI Instant Client JDBC库</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d29501e371 d29501e291 ">
                                    <p><code class="codeph">ocijdbc18.dll</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d29501e371 d29501e294 ">
                                    <p>OCI Instant Client JDBC库</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d29501e386" headers="d29501e285 ">
                                    <p>所有JDBC Java Archive（JAR）文件</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d29501e386 d29501e288 ">
                                    <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="JDBC-getting-started.html#GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA">检查环境变量</a> ”</span></p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d29501e386 d29501e291 ">
                                    <p>所有JDBC JAR文件</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d29501e386 d29501e294 ">
                                    <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="JDBC-getting-started.html#GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA">检查环境变量</a> ”</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>从Oracle Database 12 <span class="italic">c</span>第1版开始， <code class="codeph">libclntshcore.so.&lt;release number&gt;</code>库与<code class="codeph">libclntsh.so.&lt;release number&gt;</code>库和数据共享库分离。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p><code class="codeph">libclntsh.so.18.1</code>库， <code class="codeph">libclntshcore.so.18.1</code>库和<code class="codeph">libociei.so</code>库必须位于同一目录中才能在即时客户端模式下运行。
                        </p>
                     <p></p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-7B493406-5246-4DE1-9A06-B521EDAE1F21__GUID-7285401A-A2D7-47CA-B87F-209EB6A5272C">
                           <p class="notep1">注意：</p>
                           <p>要提供本机XA功能，必须复制JDBC XA类库。在UNIX系统上，此库<code class="codeph">libheteroxa18.so</code>位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jdbc/lib</code>目录中。在Microsoft Windows上，此库<code class="codeph">heteroxa18.dll</code>位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\bin</code>目录中。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28237"></a><div class="props_rev_3"><a id="GUID-659C58E5-B44A-4A5D-B5AC-231D94867771" name="GUID-659C58E5-B44A-4A5D-B5AC-231D94867771"></a><h4 id="JJDBC-GUID-659C58E5-B44A-4A5D-B5AC-231D94867771" class="sect4"><span class="enumeration_section">6.4.3</span> Instant Client的优点</h4>
                  <div>
                     <div class="section">
                        <p>Instant Client的好处如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>安装涉及复制较少数量的文件。</p>
                           </li>
                           <li>
                              <p>Oracle客户端所需的文件数和总磁盘存储量大大减少。</p>
                           </li>
                           <li>
                              <p>使用Instant Client部署的应用程序不会丧失功能或性能。</p>
                           </li>
                           <li>
                              <p>独立软件供应商很容易打包应用程序。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28238"></a><div class="props_rev_3"><a id="GUID-5B91CD79-A534-4F9C-97D6-905DD9DA7106" name="GUID-5B91CD79-A534-4F9C-97D6-905DD9DA7106"></a><h4 id="JJDBC-GUID-5B91CD79-A534-4F9C-97D6-905DD9DA7106" class="sect4"><span class="enumeration_section">6.4.4</span> JDBC OCI Instant Client安装过程</h4>
                  <div>
                     <div class="section">
                        <p>可以通过从Oracle Universal Installer中选择Instant Client选项来安装Instant Client库。也可以从Oracle Technology Network网站下载Instant Client库。安装过程如下：</p>
                        <ol>
                           <li>
                              <p>将Instant Client共享库和Oracle JDBC类库下载并安装到目录（例如<code class="codeph">instantclient</code> 。
                              </p>
                           </li>
                           <li>
                              <p>将库路径环境变量设置为步骤1中的目录。例如，在UNIX系统上，将<code class="codeph">LD_LIBRARY_PATH</code>环境变量设置为<code class="codeph">instantclient</code> 。在Microsoft Windows上，设置<code class="codeph">PATH</code>环境变量以找到<code class="codeph">instantclient</code>目录。
                              </p>
                           </li>
                           <li>
                              <p>将JDBC类库的完整路径名添加到<code class="codeph">CLASSPATH</code>环境变量中。
                              </p>
                           </li>
                        </ol>
                        <p>完成这些步骤后，您就可以运行JDBC OCI应用程序了。</p>
                        <p>使用Instant Client时，可以通过JDBC OCI应用程序的库路径环境变量访问OCI和JDBC共享库。在这种情况下，不依赖于<code class="codeph">ORACLE_HOME</code> ，除了<code class="codeph">tnsnames.ora</code>文件之外，JDBC OCI不需要<code class="codeph">ORACLE_HOME</code>提供的其他任何代码和数据文件。
                        </p>
                        <p>也可以通过选择Instant Client选项从Oracle Universal Installer安装Instant Client。Instant Client文件应始终安装在空目录中。与OTN安装一样，必须将<code class="codeph">LD_LIBRARY_PATH</code>环境变量设置为Instant Client目录才能使用Instant Client。
                        </p>
                        <p>如果通过选择“ <code class="codeph">Admin</code>选项完成了完整的客户端安装，则还会安装Instant Client共享库。完整客户端安装中Instant Client共享库和JDBC类库的位置为：</p>
                        <p>在Linux或UNIX系统上：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">libociei.so</code>库位于<code class="codeph">$ORACLE_HOME/instantclient</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">libclnstsh.so.18.1</code> ， <code class="codeph">libocijdbc18.so</code>和<code class="codeph">libnnz18.so</code>位于<code class="codeph">$ORACLE_HOME/lib</code> 
                              </p>
                           </li>
                           <li>
                              <p>JDBC类库位于<code class="codeph">$ORACLE_HOME/jdbc/lib</code></p>
                           </li>
                        </ul>
                        <p>在Microsoft Windows上：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oraociei18.dll</code>库位于<code class="codeph">ORACLE_HOME\instantclient</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oci.dll</code> ， <code class="codeph">ocijdbc18.dll</code>和<code class="codeph">orannzsbb18.dll</code>在<code class="codeph">ORACLE_HOME\bin</code></p>
                           </li>
                           <li>
                              <p>JDBC类库位于<code class="codeph">ORACLE_HOME\jdbc\lib</code></p>
                           </li>
                        </ul>
                        <p>通过将这些文件复制到其他目录，设置库路径以找到此目录，并将JDBC类库的路径名添加到<code class="codeph">CLASSPATH</code>环境变量，可以启用运行JDBC OCI应用程序以使用Instant Client。
                        </p>
                        <div class="infoboxnote" id="GUID-5B91CD79-A534-4F9C-97D6-905DD9DA7106__GUID-550F2106-A212-4AD3-ADBC-9C43B78631A8">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要提供本机XA功能，必须复制JDBC XA类库。在UNIX上，此库<code class="codeph">libheteroxa18.so</code>位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jdbc/lib</code> 。在Windows上，此库<code class="codeph">heteroxa18.dll</code>位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\bin</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>必须从同一<span class="italic"><code class="codeph">ORACLE_HOME</code></span>复制所有库，并且必须将它们放在同一目录中。
                                 </p>
                              </li>
                              <li>
                                 <p>在混合平台（如Sparc64）上，如果JDBC OCI驱动程序需要使用Instant Client库，则必须从<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/instantclient32</code>目录复制<code class="codeph">libociei.so</code>库。您必须从<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/lib32</code>目录复制JDBC OCI Instant Client所需的所有其他Sparc64库。
                                 </p>
                              </li>
                              <li>
                                 <p>只应在库路径环境变量中指定一组Oracle库。也就是说，如果您有多个包含Instant Client库的目录，则只应在库路径环境变量中指定一个此类目录。</p>
                              </li>
                              <li>
                                 <p>如果您的计算机上有Oracle主目录，则不应同时在库路径环境变量中具有<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/lib</code>和Instant Client目录，而不管它们在变量中的显示顺序如何。也就是说，只应在库路径环境变量中指定<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/lib</code>目录（用于非Instant Client操作）或Instant Client目录（用于Instant Client操作）中的一个。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle建议您从Oracle技术网（OTN）下载Instant Client</p>
                                 <p><a href="https://www.oracle.com/technetwork/database/database-technologies/instant-client/overview/index.html" target="_blank"><code class="codeph">https://www.oracle.com/technetwork/database/database-technologies/instant-client/overview/index.html</code></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28239"></a><div class="props_rev_3"><a id="GUID-DCF585E2-EF46-4985-B9A5-EEC11C828FAC" name="GUID-DCF585E2-EF46-4985-B9A5-EEC11C828FAC"></a><h4 id="JJDBC-GUID-DCF585E2-EF46-4985-B9A5-EEC11C828FAC" class="sect4"><span class="enumeration_section">6.4.5</span> Instant Client的使用</h4>
                  <div>
                     <div class="section">
                        <p>Instant Client是一种部署功能，应该用于运行生产应用程序。对于开发，需要完整安装才能访问演示程序等。通常，使用Instant Client的应用程序可以使用所有JDBC OCI功能，但Instant Client仅用于客户端操作。因此，服务器端外部过程无法使用Instant Client。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28240"></a><div class="props_rev_3"><a id="GUID-CB69F1E3-D115-4547-8409-7FE964F986EC" name="GUID-CB69F1E3-D115-4547-8409-7FE964F986EC"></a><h4 id="JJDBC-GUID-CB69F1E3-D115-4547-8409-7FE964F986EC" class="sect4"><span class="enumeration_section">6.4.6</span>关于修补Instant Client共享库</h4>
                  <div>
                     <div class="section">
                        <p>Instant Client是一种部署功能，因此重点是减少运行JDBC OCI应用程序所需的文件数量和大小。因此，在Instant Client部署中无法使用修补Instant Client共享库所需的所有文件。需要基于<span class="italic"><code class="codeph">ORACLE_HOME</code></span>安装来修补Instant Client共享库。<code class="codeph">opatch</code>实用程序将负责修补Instant Client共享库。
                        </p>
                        <div class="infoboxnote" id="GUID-CB69F1E3-D115-4547-8409-7FE964F986EC__GUID-C443012A-D59E-41F4-A174-EAA1C4584B69">
                           <p class="notep1">注意：</p>
                           <p>在Microsoft Windows上，您<span class="italic">无法</span>修补共享库。
                           </p>
                        </div>
                        <p>在<span class="italic"><code class="codeph">ORACLE_HOME</code></span>环境中应用修补程序后，将<a href="JDBC-OCI-features.html#GUID-7B493406-5246-4DE1-9A06-B521EDAE1F21__CHDIFGFG" title="表">表6-1中</a>列出的文件复制到即时客户端目录。
                        </p>
                        <p>您可以为OCI，OCCI，JDBC和SQL * Plus生成Instant Client ZIP文件，而不是复制单个文件。然后，您可以将ZIP文件复制到目标计算机并解压缩。</p>
                        <p><code class="codeph">opatch</code>实用程序将<span class="italic"><code class="codeph">ORACLE_HOME</code></span>安装的修补信息存储在<code class="codeph">libclnstsh.so.18.1</code> 。可以通过以下命令检索此信息：</p><pre class="oac_no_warn" dir="ltr">genezi -v</pre><p>请注意，如果从那里即时客户端部署的计算机不具备<code class="codeph">genezi</code>工具，则必须从复制的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/bin</code>具有在计算机上目录<span class="italic"><code class="codeph">ORACLE_HOME</code></span>安装。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="JDBC-OCI-features.html#GUID-5B91CD79-A534-4F9C-97D6-905DD9DA7106">JDBC OCI即时客户端安装过程</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28241"></a><div class="props_rev_3"><a id="GUID-2A8760C7-26CC-48D3-8413-7A8A6C9F2C43" name="GUID-2A8760C7-26CC-48D3-8413-7A8A6C9F2C43"></a><h4 id="JJDBC-GUID-2A8760C7-26CC-48D3-8413-7A8A6C9F2C43" class="sect4"><span class="enumeration_section">6.4.7</span>重新生成数据共享库和ZIP文件</h4>
                  <div>
                     <div class="section">
                        <p>可以通过在<span class="italic"><code class="codeph">ORACLE_HOME</code></span>的管理员安装中执行以下步骤来重新生成OCI即时客户端数据共享库<code class="codeph">libociei.so</code> ：</p><pre class="oac_no_warn" dir="ltr">mkdir -p $ ORACLE_HOME / rdbms / install / instantclient / light cd $ ORACLE_HOME / rdbms / lib make -f ins_rdbms.mk ilibociei</pre><p>然后，基于<span class="italic"><code class="codeph">ORACLE_HOME</code></span>当前文件的<code class="codeph">libociei.so</code>数据共享库将放置在<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/rdbms/install/instantclient</code>目录中。
                        </p>
                        <p>请注意，重新生成的数据共享库<code class="codeph">libociei.so</code>的位置与原始数据共享库<code class="codeph">libociei.so</code> ，后者位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/instantclient</code>目录中。前面的步骤还为OCI，OCCI，JDBC和SQL * Plus生成Instant Client ZIP文件。
                        </p>
                        <p>Microsoft Windows平台上不提供数据共享库和ZIP文件的重新生成。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28243"></a><a id="JJDBC28242"></a><div class="props_rev_3"><a id="GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1" name="GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1"></a><h4 id="JJDBC-GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1" class="sect4"><span class="enumeration_section">6.4.8</span> OCI Instant Client的数据库连接名称</h4>
                  <div>
                     <div class="section">
                        <p>所有不需要<span class="italic"><code class="codeph">ORACLE_HOME</code></span>或<code class="codeph">TNS_ADMIN</code>环境变量来查找配置文件的Oracle Net命名方法（例如<code class="codeph">tnsnames.ora</code>或<code class="codeph">sqlnet.ora</code> ）都使用Instant Client。特别是，可以使用以下格式指定连接字符串：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>形式为Thin的连接字符串：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">host</span> ： <span class="italic">port</span> ： <span class="italic">service_name</span>
</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">URL = “的jdbc：神谕：OCI：@ example.com：5521：ORCL”</pre></li>
                           <li>
                              <p>表单的SQL连接URL字符串：</p><pre class="oac_no_warn" dir="ltr">// <span class="italic">host</span> ：[ <span class="italic">port</span> ] [/ <span class="italic">service_name</span> ]</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">URL = “的jdbc：神谕：OCI：@ // example.com:5521/orcl”</pre></li>
                           <li>
                              <p>作为Oracle Net关键字 - 值对。例如：</p><pre class="oac_no_warn" dir="ltr">url =“jdbc：oracle：oci：@（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = localhost）（PORT = 5521））（CONNECT_DATA =（SERVICE_NAME = orcl）））”</pre></li>
                        </ul>
                        <p>如果设置了<code class="codeph">TNS_ADMIN</code>环境变量，则需要<code class="codeph">TNS_ADMIN</code>定位配置文件的命名方法才能继续工作。
                        </p>
                        <div class="infoboxnotealso" id="GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1__GUID-4F18B466-8E63-40DB-BF60-3864E8F2A501">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../netag/managing-network-address-information.html#NETAG-GUID-428A2A41-8EF1-49E7-ABCB-D7B57B149148" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关连接格式的更多信息</p>
                        </div>
                        <p>如果未设置<code class="codeph">TNS_ADMIN</code>环境变量并且使用<code class="codeph">TNSNAMES</code>条目（例如<code class="codeph">inst1</code> ，则必须设置<code class="codeph">ORACLE_HOME</code>环境变量，并且配置文件应位于<code class="codeph">$ORACLE_HOME/network/admin</code>目录中。
                        </p>
                        <div class="infoboxnote" id="GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1__GUID-0FF96783-78AB-4892-A6CF-C6D53466A1D5">
                           <p class="notep1">注意：</p>
                           <p>在这种情况下， <code class="codeph">ORACLE_HOME</code>环境变量仅用于查找Oracle Net配置文件。客户端代码库的其他组件不使用<code class="codeph">ORACLE_HOME</code>环境变量的值。
                           </p>
                        </div>
                        <p>不支持空连接字符串。但是，使用空连接字符串的另一种方法是将UNIX系统上的<code class="codeph">TWO_TASK</code>环境变量或Microsoft Windows上的<code class="codeph">LOCAL</code>变量设置为<code class="codeph">tnsnames.ora</code>条目或Oracle Net关键字 - 值对。如果将<code class="codeph">TWO_TASK</code>或<code class="codeph">LOCAL</code>设置为<code class="codeph">tnsnames.ora</code>条目，则必须通过<code class="codeph">TNS_ADMIN</code>或<code class="codeph">ORACLE_HOME</code>设置加载<code class="codeph">tnsnames.ora</code>文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1__GUID-71D123FF-20AA-4164-8FF6-8BFC77E55462">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>请考虑数据库服务器上的<code class="codeph">listener.ora</code>文件包含以下信息：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 5221）））SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = rdbms3）（GLOBAL_DBNAME = rdbms3.server6.com）（ORACLE_HOME = /家庭/ DBA / rdbms3 / ORACLE）））</pre><p>您可以通过以下方式之一连接到此服务器：</p><pre class="oac_no_warn" dir="ltr">url =“jdbc：oracle：oci：@（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 5221））（CONNECT_DATA =（SERVICE_NAME = rdbms3.server6.com）））”</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">url =“jdbc：oracle：oci：@ // server6：5221 / rdbms3.server6.com”</pre><p>或者，您可以将<code class="codeph">TWO_TASK</code>环境变量设置为任何连接字符串并连接到数据库服务器，而不指定连接字符串以及<code class="codeph">sqlplus</code>命令。例如，使用以下方法之一设置<code class="codeph">TWO_TASK</code>环境：</p><pre class="oac_no_warn" dir="ltr">setenv TWO_TASK“（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 5221））（CONNECT_DATA =（SERVICE_NAME = rdbms3.server6.com）））”</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">setenv TWO_TASK //server6:5221/rdbms3.server6.com</pre><p>现在，您可以使用以下URL连接到数据库服务器：</p><pre class="oac_no_warn" dir="ltr">url =“jdbc：oracle：oci：@”</pre><p>连接字符串也可以存储在<code class="codeph">tnsnames.ora</code>文件中。例如，请考虑<code class="codeph">tnsnames.ora</code>文件包含以下内容：</p><pre class="oac_no_warn" dir="ltr">conn_str =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 5221））（CONNECT_DATA =（SERVICE_NAME = rdbms3.server6.com）））</pre><p>如果此<code class="codeph">tnsnames.ora</code>文件位于<code class="codeph">/home/webuser/instantclient</code>目录中，则可以按如下方式设置<code class="codeph">TNS_ADMIN</code>环境变量（或Microsoft Windows上的<code class="codeph">LOCAL</code> ）：</p><pre class="oac_no_warn" dir="ltr">setenv TNS_ADMIN / home / webuser / instantclient</pre><p>现在，您可以按如下方式连接：</p><pre class="oac_no_warn" dir="ltr">url =“jdbc：oracle：oci：@conn_str”</pre><div class="infoboxnote" id="GUID-7EE50886-6BF4-4156-A4F3-13E4AA8D9BD1__GUID-BB1D8D8F-DDCE-4C86-A3B5-9A8CCF7C54F1">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">TNS_ADMIN</code>环境变量指定<code class="codeph">tnsnames.ora</code>文件所在的目录。但是， <code class="codeph">TNS_ADMIN</code>不指定<code class="codeph">tnsnames.ora</code>文件的完整路径，而是指定目录。
                           </p>
                        </div>
                        <p>如果此<code class="codeph">tnsnames.ora</code>文件位于Oracle主目录的<code class="codeph">/network/server6/home/dba/oracle/network/admin</code>目录中，则可以设置<code class="codeph">ORACLE_HOME</code>环境变量，而不是使用<code class="codeph">TNS_ADMIN</code>来定位<code class="codeph">tnsnames.ora</code>文件。如下：</p><pre class="oac_no_warn" dir="ltr">setenv ORACLE_HOME / network / server6 / home / dba / oracle</pre><p>现在，您可以连接任何<code class="codeph">conn_str</code>连接字符串，如前所述。
                        </p>
                        <p>如果<code class="codeph">tnsnames.ora</code>可以通过<code class="codeph">TNS_ADMIN</code>或<code class="codeph">ORACLE_HOME</code> ，那么<code class="codeph">TWO_TASK</code>可以设置为：</p><pre class="oac_no_warn" dir="ltr">setenv TWO_TASK conn_str</pre><p>然后，您可以使用以下URL连接：</p><pre class="oac_no_warn" dir="ltr">url =“jdbc：oracle：oci：@”</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28244"></a><div class="props_rev_3"><a id="GUID-FC2B9CA5-6CB6-4C52-A59D-0CCC2F9429A8" name="GUID-FC2B9CA5-6CB6-4C52-A59D-0CCC2F9429A8"></a><h4 id="JJDBC-GUID-FC2B9CA5-6CB6-4C52-A59D-0CCC2F9429A8" class="sect4"><span class="enumeration_section">6.4.9</span> OCI Instant Client的环境变量</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">ORACLE_HOME</code>环境变量不再确定NLS，CORE和错误消息文件的位置。仅OCI应用程序不需要设置<code class="codeph">ORACLE_HOME</code>环境变量。但是，如果设置了变量，则它不会对OCI驱动程序的操作产生影响。OCI驱动程序始终从数据共享库中获取其数据。如果数据共享库不可用，则仅使用<code class="codeph">ORACLE_HOME</code>环境变量并假定完整客户端安装。即使不需要设置<code class="codeph">ORACLE_HOME</code>环境变量，如果已设置，则必须将其设置为标识目录的有效操作系统路径名。
                        </p>
                        <p>使用Instant Client时，将忽略环境变量<code class="codeph">ORA_NLS10</code>和<code class="codeph">ORA_NLSPROFILES33</code> 。
                        </p>
                        <p>如果未设置<code class="codeph">ORA_TZFILE</code>变量，则Instant Client将使用数据共享库中较大的<code class="codeph">timezlrg_n.dat</code>文件，这是默认设置。如果要从数据共享库中使用较小的<code class="codeph">timezone_n.dat</code>文件，则将<code class="codeph">ORA_TZFILE</code>环境变量设置为文件名，而不包含任何绝对路径名或相对路径名。那是：</p>
                        <p>在UNIX系统上：</p><pre class="oac_no_warn" dir="ltr">setenv ORA_TZFILE timezone_ <span class="italic">n</span> .dat</pre><p>在Microsoft Windows上：</p><pre class="oac_no_warn" dir="ltr">设置ORA_TZFILE timezone_ <span class="italic">n</span> .dat</pre><p>在上面的示例中， <span class="italic">n</span>是时区数据文件版本号。
                        </p>
                        <p>如果OCI驱动程序由于数据共享库不可用而未使用Instant Client，则<code class="codeph">ORA_TZFILE</code>变量（如果已设置）将命名完整路径名，就像在以前的Oracle数据库版本中一样。
                        </p>
                        <p>如果使用<code class="codeph">TNSNAMES</code>条目，则如前所述， <code class="codeph">TNS_ADMIN</code>目录必须包含<code class="codeph">TNSNAMES</code>配置文件，如果未设置<code class="codeph">TNS_ADMIN</code> ，则<code class="codeph">ORACLE_HOME/network/admin</code>目录必须包含Oracle Net Services配置文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28245"></a><div class="props_rev_3"><a id="GUID-074BA20F-9157-4239-BFE5-6E6252BD1925" name="GUID-074BA20F-9157-4239-BFE5-6E6252BD1925"></a><h3 id="JJDBC-GUID-074BA20F-9157-4239-BFE5-6E6252BD1925" class="sect3"><span class="enumeration_section">6.5</span>关于Instant Client Light（英文）</h3>
               <div>
                  <div class="section">
                     <p>Instant Client的轻量级版本称为Instant Client Light（英语）。Instant Client Light是简称。Instant Client Light是Instant Client的一个小得多的版本。这会将客户端安装的磁盘空间要求减少大约63 MB。这是通过UNIX系统上的轻量级数据共享库<code class="codeph">libociicus.so</code>实现的，其大小为4 MB，数据共享库的子集<code class="codeph">libociei.so</code> ，大小为67 MB。
                     </p>
                     <p>轻量级数据共享库仅支持少量仅使用英语的字符集和错误消息。因此，名称为Instant Client Light（英文）。Instant Client Light专为需要英语错误消息并使用US7ASCII，WE8DEC或其中一个Unicode字符集的应用程序而设计。</p>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-FC1ABAC7-68BC-4631-9913-253B5D957950">Instant Client Light的数据共享库（英语）</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-BDCC283C-C150-4BDA-9B93-B714A9F0569A">全球化设置</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-928F5D68-2F76-4F10-A968-CC37839E5AA2">手术</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-OCI-features.html#GUID-0E721E63-CE4A-4AA7-A66C-4A67ABEF98BC">安装Instant Client Light（英文）</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28246"></a><div class="props_rev_3"><a id="GUID-FC1ABAC7-68BC-4631-9913-253B5D957950" name="GUID-FC1ABAC7-68BC-4631-9913-253B5D957950"></a><h4 id="JJDBC-GUID-FC1ABAC7-68BC-4631-9913-253B5D957950" class="sect4"><span class="enumeration_section">6.5.1</span> Instant Client Light的数据共享库（英语）</h4>
                  <div>
                     <div class="section">
                        <p><a href="JDBC-OCI-features.html#GUID-FC1ABAC7-68BC-4631-9913-253B5D957950__CHDIDCBF" title="表">表6-2</a>列出了不同平台上Instant Client和Instant Client Light（英语）的数据共享库的名称。该表还在库文件名后面的括号中指定每个数据共享库的大小。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FC1ABAC7-68BC-4631-9913-253B5D957950__CHDIDCBF">
                        <p class="titleintable">表6-2 Instant Client和Instant Client Light的数据共享库（英语）</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Instant Client和Instant Client Light的数据共享库（英语）" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d29501e1344">平台</th>
                                 <th align="left" valign="bottom" width="35%" id="d29501e1347">即时客户端</th>
                                 <th align="left" valign="bottom" width="34%" id="d29501e1350">Instant Client Light（英文）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d29501e1355" headers="d29501e1344 ">
                                    <p>的Solaris</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d29501e1355 d29501e1347 ">
                                    <p><code class="codeph">libociei.so</code> （67 MB）</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d29501e1355 d29501e1350 ">
                                    <p><code class="codeph">libociicus.so</code> （4 MB）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d29501e1369" headers="d29501e1344 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d29501e1369 d29501e1347 ">
                                    <p><code class="codeph">libociei.so</code> （67 MB）</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d29501e1369 d29501e1350 ">
                                    <p><code class="codeph">libociicus.so</code> （4 MB）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d29501e1383" headers="d29501e1344 ">
                                    <p>微软Windows</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d29501e1383 d29501e1347 ">
                                    <p><code class="codeph">oraociei18.dll</code> （85 MB）</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d29501e1383 d29501e1350 ">
                                    <p><code class="codeph">oraociicus18.dll</code> （15 MB）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="JJDBC28247"></a><div class="props_rev_3"><a id="GUID-BDCC283C-C150-4BDA-9B93-B714A9F0569A" name="GUID-BDCC283C-C150-4BDA-9B93-B714A9F0569A"></a><h4 id="JJDBC-GUID-BDCC283C-C150-4BDA-9B93-B714A9F0569A" class="sect4"><span class="enumeration_section">6.5.2</span>全球化设置</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">NLS_LANG</code>设置将语言，区域和字符集确定为<span class="italic"><code class="codeph">language</code></span> <code class="codeph">_</code> <span class="italic"><code class="codeph">territory</code></span> <code class="codeph">.</code> <span class="italic"><code class="codeph">characterset</code></span> 。在Instant Client Light中， <span class="italic"><code class="codeph">language</code></span>只能是<code class="codeph">American</code> <span class="italic"><code class="codeph">language</code></span> ， <span class="italic"><code class="codeph">territory</code></span>可以是任何支持的语言，而<span class="italic"><code class="codeph">characterset</code></span>可以是以下任何一种：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>单字节</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>US7ASCII</p>
                                 </li>
                                 <li>
                                    <p>WE8DEC</p>
                                 </li>
                                 <li>
                                    <p>WE8MSWIN1252</p>
                                 </li>
                                 <li>
                                    <p>WE8ISO8859P1</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>统一</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>UTF8</p>
                                 </li>
                                 <li>
                                    <p>AL16UTF16</p>
                                 </li>
                                 <li>
                                    <p>AL32UTF8</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>指定除客户端或服务器字符集之外的字符集或国家字符集，或在客户端上设置<code class="codeph">NLS_LANG</code>的语言将引发以下错误之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-12734</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-12735</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-12736</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-12737</code></p>
                           </li>
                        </ul>
                        <p>使用Instant Client Light，获得的错误消息仅为英文。因此， <code class="codeph">NLS_LANG</code>设置的有效值是以下类型：</p><pre class="oac_no_warn" dir="ltr">美国<span class="italic">领土</span> 。 <span class="italic">字符集</span>
</pre><p>其中， <span class="italic"><code class="codeph">territory</code></span>可以是任何有效和受支持的区域，而<span class="italic"><code class="codeph">characterset</code></span>可以是先前列出的字符集中的任何一个。
                        </p>
                        <p>Instant Client Light可以使用在OCI_UTF16模式下创建的OCI环境句柄进行操作。</p>
                        <div class="infoboxnotealso" id="GUID-BDCC283C-C150-4BDA-9B93-B714A9F0569A__GUID-606EC4AB-C97A-4A75-8788-583E10966ADB">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../nlspg/setting-up-globalization-support-environment.html#NLSPG-GUID-6475CA50-6476-4559-AD87-35D431276B20" target="_blank"><span><cite>“Oracle数据库全球化支持指南”</cite></span></a> ，了解有关NLS设置的更多信息</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28248"></a><div class="props_rev_3"><a id="GUID-928F5D68-2F76-4F10-A968-CC37839E5AA2" name="GUID-928F5D68-2F76-4F10-A968-CC37839E5AA2"></a><h4 id="JJDBC-GUID-928F5D68-2F76-4F10-A968-CC37839E5AA2" class="sect4"><span class="enumeration_section">6.5.3</span>操作</h4>
                  <div>
                     <div class="section">
                        <p>要使用Instant Client Light，应用程序必须将UNIX系统中的<code class="codeph">LD_LIBARARY_PATH</code>环境变量或Microsoft Windows中的<code class="codeph">PATH</code>环境变量设置为包含客户端和数据共享库的位置。OCI应用程序在默认情况下认准OCI数据共享库， <code class="codeph">libociei.so</code>在<code class="codeph">LD_LIBRARY_PATH</code>在UNIX系统或环境变量<code class="codeph">oraociei18.dll</code>数据共享库在<code class="codeph">PATH</code>在Microsoft Windows环境变量，以确定应用程序应该使用即时客户端。如果此库未找到，则OCI尝试加载即时客户端发光数据共享库， <code class="codeph">libociicus.so</code>在UNIX系统或<code class="codeph">libociicus18.dll</code>在Microsoft Windows。如果找到此库，则应用程序将使用Instant Client Light。否则，使用非Instant Client。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28249"></a><div class="props_rev_3"><a id="GUID-0E721E63-CE4A-4AA7-A66C-4A67ABEF98BC" name="GUID-0E721E63-CE4A-4AA7-A66C-4A67ABEF98BC"></a><h4 id="JJDBC-GUID-0E721E63-CE4A-4AA7-A66C-4A67ABEF98BC" class="sect4"><span class="enumeration_section">6.5.4</span>安装Instant Client Light（英文）</h4>
                  <div>
                     <div class="section">
                        <p>Instant Client Light可以通过以下方式之一安装：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>来自OTN</p>
                              <p>您可以从中下载所需的文件</p>
                              <p><a href="https://www.oracle.com/technetwork/database/database-technologies/instant-client/overview/index.html" target="_blank"><code class="codeph">https://www.oracle.com/technetwork/database/database-technologies/instant-client/overview/index.html</code></a></p>
                              <p>对于Instant Client Light，请下载并解压缩Basic Light软件包，而不是下载和扩展Basic软件包。在解压缩文件之前，轻量级库解压缩的目录应该是空的。</p>
                           </li>
                           <li>
                              <p>从客户端管理安装</p>
                              <p>而不是复制的<code class="codeph">libociei.so</code>或<code class="codeph">oraociei18.dll</code>从<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/instantclient</code>目录，复制<code class="codeph">libociicus.so</code>或<code class="codeph">oraociic18.dll</code>从<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/instantclient/light</code>目录。也就是说，UNIX系统中<code class="codeph">LD_LIBRARY_PATH</code>环境变量上的Instant Client目录应包含Instant Client Light数据共享库<code class="codeph">libociicus.so</code> ，而不是更大的OCI Instant Client数据共享库<code class="codeph">libociei.so</code> 。在Microsoft Windows中， <code class="codeph">PATH</code>环境变量应包含<code class="codeph">oraociicus18.dll</code>而不是<code class="codeph">oraociei18.dll</code> 。
                              </p>
                           </li>
                           <li>
                              <p>来自Oracle Universal Installer</p>
                              <p>如果从Oracle Universal Installer中选择了“即时客户端”选项， <code class="codeph">oraociei18.dll</code>在安装的基本目录中安装<code class="codeph">libociei.so</code> （或Microsoft Windows上的<code class="codeph">oraociei18.dll</code> ），该目录将放置在<code class="codeph">LD_LIBRARY_PATH</code>环境变量上。这样默认情况下不启用Instant Client Light。Instant Client Light数据共享库<code class="codeph">libociicus.so</code> （或Microsoft Windows上的<code class="codeph">oraociicus18.dll</code> ）安装在基本目录的<code class="codeph">light</code>子目录中。因此，要在Instant Client Light中使用，必须删除或重命名OCI数据共享库<code class="codeph">libociei.so</code> （或Windows上的<code class="codeph">oraociei18.dll</code> ），并且必须将Instant Client Light数据共享库从<code class="codeph">light</code>子目录复制到基础安装目录。
                              </p>
                              <p>例如，如果Oracle Universal Installer已在<code class="codeph">LD_LIBRARY_PATH</code>环境变量的<code class="codeph">my_oraic_18_1</code>目录中安装了Instant Client，则必须执行以下操作才能使用Instant Client Light：</p><pre class="oac_no_warn" dir="ltr">cd my_oraic_18_1 rm libociei.so mv light / libociicus.so。
</pre><div class="infoboxnote" id="GUID-0E721E63-CE4A-4AA7-A66C-4A67ABEF98BC__GUID-E94D03A6-44D0-4FE0-9576-F3483D68E47B">
                                 <p class="notep1">注意：</p>
                                 <p>应始终将所有Instant Client文件复制或安装在空目录中。这是为了确保安装中不存在不兼容的二进制文件。</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>