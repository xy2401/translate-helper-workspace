<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>关于重定向服务器上的输出</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96468-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="running-on-server.html" title="Previous" type="text/html"></link>
      <link rel="next" href="installation-and-configuration.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JJDEV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="running-on-server.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="installation-and-configuration.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="calling-Java-methods.html" property="item" typeof="WebPage"><span property="name">在Oracle数据库中调用Java方法</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">关于重定向服务器上的输出</li>
            </ol>
            <a id="GUID-9045D497-CD72-43B7-B566-685EC301C654" name="GUID-9045D497-CD72-43B7-B566-685EC301C654"></a><a id="JJDEV13195"></a><a id="JJDEV13196"></a><a id="JJDEV13197"></a><a id="JJDEV13198"></a><a id="JJDEV13199"></a><a id="JJDEV13200"></a><a id="JJDEV13201"></a><a id="JJDEV13202"></a><a id="JJDEV13203"></a><a id="JJDEV13204"></a><a id="JJDEV13205"></a><a id="JJDEV13206"></a><a id="JJDEV13207"></a><a id="JJDEV13208"></a><a id="JJDEV13209"></a><a id="JJDEV13210"></a><a id="JJDEV13211"></a><a id="JJDEV13212"></a><a id="JJDEV13194"></a>
            
            <h2 id="JJDEV-GUID-9045D497-CD72-43B7-B566-685EC301C654" class="sect2"><span class="enumeration_section">3.3</span>关于重定向服务器上的输出</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>您可以将Java输出传递给SQL语句，以便对Oracle JVM的输出目标进行更广泛的控制。通过添加以下新功能增强了PL / SQL包<code class="codeph">DBMS_JAVA</code> ，这些新功能提供了以前只能通过<code class="codeph">DBMS_JAVA.SET_OUTPUT</code>过程使用的扩展功能：</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDIEICB">set_output_to_sql</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDGGBAC">remove_output_to_sql</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDDJEIF">enable_output_to_sql</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDFEEBE">disable_output_to_sql</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDFGBBJ">query_output_to_sql</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDIEICB">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-01A95BB3-DEB6-4000-B331-6C948F531CE7">set_output_to_sql</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">set_output_to_sql</code>定义一个命名输出规范，该规范构成执行SQL语句的指令，每当输出到默认的<code class="codeph">System.out</code>和<code class="codeph">System.err</code>流时。规范定义为当前会话的持续时间，或直到使用其ID调用<code class="codeph">remove_output_to_sql</code>函数。只要有Java输出，就会发生规范规定的SQL操作。这可以通过分别调用<code class="codeph">disable_output_to_sql</code>和<code class="codeph">enable_output_to_sql</code>函数来停止和启动。成功时此函数的返回值为null，否则为错误消息。
                  </p><pre class="oac_no_warn" dir="ltr">FUNCTION set_output_to_sql（id VARCHAR2，stmt VARCHAR2，bindings VARCHAR2，no_newline_stmt VARCHAR2 default null，no_newline_bindings VARCHAR2 default null，newline_only_nwts VARCHAR2 default null，newline_only_bindings VARCHAR2 default null，maximum_line_segment_length NUMBER default 0，allow_replace NUMBER default 1，from_stdout NUMBER default 1，from_stderr NUMBER default 1，include_newlines NUMBER默认为0，急切NUMBER默认为0）返回VARCHAR2;</pre><p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__BABBDJHC" title="表">表3-2</a>描述了<code class="codeph">set_output_to_sql</code>函数采用的参数。
                  </p>
                  <div class="tblformal" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__BABBDJHC">
                     <p class="titleintable">表3-2 set_output_to_sql参数摘要</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="set_output_to_sql参数摘要" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d21484e187">争论</th>
                              <th align="left" valign="bottom" width="74%" id="d21484e190">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e195" headers="d21484e187 ">
                                 <p>ID</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e195 d21484e190 ">
                                 <p>规范的名称。多个规范可能存在于同一会话中，但每个规范必须具有不同的ID。该ID用于标识函数<code class="codeph">remove_output_to_sql, enable_output_to_sql, disable_output_to_sql,</code>和<code class="codeph">query_output_to_sql.</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e207" headers="d21484e187 ">
                                 <p>语句</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e207 d21484e190 ">
                                 <p>发生Java输出时要执行的默认SQL语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e214" headers="d21484e187 ">
                                 <p>绑定</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e214 d21484e190 ">
                                 <p>包含来自集合<span class="italic">ID，TEXT，LENGTH，LINENO，SEGNO，NL</span>和<span class="italic">ERROUT的标记的字符串。</span>此字符串定义SQL语句<code class="codeph">stmt</code>的绑定方式。绑定字符串中的标记位置对应于SQL语句中的绑定位置。令牌的含义是：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>ID是规范的ID。它被绑定为VARCHAR2。</p>
                                    </li>
                                    <li>
                                       <p>TEXT是要输出的文本。它被绑定为VARCHAR2。</p>
                                    </li>
                                    <li>
                                       <p>LENGTH是文本的长度。它被绑定为NUMBER。</p>
                                    </li>
                                    <li>
                                       <p>LINENO是会话输出开始以来的行号。它被绑定为NUMBER。</p>
                                    </li>
                                    <li>
                                       <p>SEGNO是一行中的段号，它以多个片段输出。它被绑定为NUMBER。</p>
                                    </li>
                                    <li>
                                       <p>NL是一个布尔值，表示文本是否被视为换行终止。它被绑定为NUMBER。新行可能会或可能不会实际包含在文本中，具体取决于<code class="codeph">include_newlines</code>参数的值。
                                       </p>
                                    </li>
                                    <li>
                                       <p>ERROUT是一个布尔值，指示输出是来自<code class="codeph">System.out</code>还是<code class="codeph">System.err.</code> 它被绑定为NUMBER。如果输出来自<code class="codeph">System.out.</code> ，则值为0 <code class="codeph">System.out.</code></p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e263" headers="d21484e187 ">
                                 <p>no_newline_stmt</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e263 d21484e190 ">
                                 <p>当输出不是换行符时，要执行的可选备用SQL语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e270" headers="d21484e187 ">
                                 <p>no_newline_bindings</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e270 d21484e190 ">
                                 <p>一个字符串，其语法与前面讨论的bindings参数相同，描述了<code class="codeph">no_newline_stmt</code>的绑定方式。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e280" headers="d21484e187 ">
                                 <p>newline_only_stmt</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e280 d21484e190 ">
                                 <p>输出为单个换行符时要执行的可选备用SQL语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e287" headers="d21484e187 ">
                                 <p>newline_only_bindings</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e287 d21484e190 ">
                                 <p>一个字符串，其语法与前面讨论的bindings参数相同，描述了<code class="codeph">newline_only_stmt</code>的绑定方式。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e297" headers="d21484e187 ">
                                 <p>maximum_line_segment_length</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e297 d21484e190 ">
                                 <p>在给定的SQL语句执行中绑定的最大字符数。较长的输出序列被分解为具有不同SEGNO值的单独调用。值0表示<code class="codeph">no maximum.</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e306" headers="d21484e187 ">
                                 <p>allow_replace</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e306 d21484e190 ">
                                 <p>当存在具有相同ID的先前定义的规范时，控制行为。值为1表示替换旧规范。 0表示返回错误消息而不修改旧规范。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e313" headers="d21484e187 ">
                                 <p>from_stdout</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e313 d21484e190 ">
                                 <p>控制<code class="codeph">System.out</code>输出是否导致执行规范规定的SQL语句。值为0表示如果输出来自<code class="codeph">System.out,</code>则即使启用了规范，也不会执行该语句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e326" headers="d21484e187 ">
                                 <p>from_stderr</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e326 d21484e190 ">
                                 <p>控制<code class="codeph">System.err</code>输出是否导致执行规范规定的SQL语句。值为0表示如果输出来自<code class="codeph">System.err,</code>则即使启用了规范，也不会执行该语句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e340" headers="d21484e187 ">
                                 <p>include_newlines</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e340 d21484e190 ">
                                 <p>控制绑定到文本时换行符是否保留在输出中。值0表示不包括新行。但是新绑定的存在仍然由NL绑定和<code class="codeph">no_newline_stmt</code>的使用<code class="codeph">no_newline_stmt</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e350" headers="d21484e187 ">
                                 <p>急于</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e350 d21484e190 ">
                                 <p>控制输出是否未被换行符导致每次接收时都会导致执行SQL语句，或者在收到换行符之前累积此类输出。值0表示累积未终止的输出。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDGGBAC">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-03423FEB-3C10-4893-B4D4-4C7238AD63DC">remove_output_to_sql</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">remove_output_to_sql</code>删除由<code class="codeph">set_output_to_sql.</code>创建的规范<code class="codeph">set_output_to_sql.</code> 如果不存在此类规范，则返回错误消息。
                  </p><pre class="oac_no_warn" dir="ltr">功能remove_output_to_sql（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDDJEIF">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-D10DD2C6-80CB-40CC-AC73-F81EEEC9DD0C">enable_output_to_sql</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">enable_output_to_sql</code>重新启用由<code class="codeph">set_output_to_sql</code>创建的规范，随后由<code class="codeph">disable_output_to_sql.</code>禁用<code class="codeph">disable_output_to_sql.</code> 如果不存在此类规范，则返回错误消息。如果当前未禁用规范，则不会发生更改。
                  </p><pre class="oac_no_warn" dir="ltr">FUNCTION enable_output_to_sql（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDFEEBE">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-136FD586-732C-4B62-9D03-1430D34206DF">disable_output_to_sql</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">disable_output_to_sql</code>禁用<code class="codeph">set_output_to_sql.</code>创建的规范<code class="codeph">set_output_to_sql.</code> 您可以通过调用<code class="codeph">enable_output_to_sql</code>来启用规范。禁用时，不执行规范规定的SQL语句。如果不存在此类规范，则返回错误消息。如果规范已被禁用，则没有变化。
                  </p><pre class="oac_no_warn" dir="ltr">FUNCTION disable_output_to_sql（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDFGBBJ">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-109AFD00-985A-4EFF-B65A-5687213F1EB0">query_output_to_sql</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">query_output_to_sql</code>返回描述由<code class="codeph">set_output_to_sql.</code>创建的规范的消息<code class="codeph">set_output_to_sql.</code> 如果不存在此类规范，则返回错误消息。将<code class="codeph">null</code>传递给此函数会导致显示所有现有规范。
                  </p><pre class="oac_no_warn" dir="ltr">FUNCTION query_output_to_sql（id VARCHAR2）返回VARCHAR2;</pre><p>实现对Oracle JVM输出目标的控制的另一种方法是将Java输出传递给自治Java会话。这提供了一种非常通用的机制，用于将输出传播到各种目标，例如磁盘文件，套接字和URL。但是，您必须记住，处理输出的Java会话在逻辑上与主会话不同，因此它们之间不存在其他不需要的交互。为此，PL / SQL包<code class="codeph">DBMS_JAVA</code>提供以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCEAAI">set_output_to_java</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDFDAJF">remove_output_to_java</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCBDGE">enable_output_to_java</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDHCJEC">disable_output_to_java</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCIGJB">query_output_to_java</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDIFCAA">set_output_to_file</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCEAFA">remove_output_to_file</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDBDHJD">enable_output_to_file</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDHHEAE">disable_output_to_file</a></p>
                     </li>
                     <li>
                        <p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDGHJAB">query_output_to_file</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCEAAI">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-E3E94860-6E53-44CE-916F-33115CDD9C8F">set_output_to_java</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">set_output_to_java</code>定义了一个命名输出规范，它给出了每当输出到默认<code class="codeph">System.out</code>和<code class="codeph">System.err</code>流时执行Java方法的指令。规范规定的Java方法在单独的VM上下文中执行，其具有与会话的其余部分分开的Java会话状态。
                  </p><pre class="oac_no_warn" dir="ltr">功能set_output_to_java（id VARCHAR2，class_name VARCHAR2，class_schema VARCHAR2，方法VARCHAR2，绑定VARCHAR2，no_newline_method VARCHAR2默认为null，no_newline_bindings VARCHAR2默认为null，newline_only_method VARCHAR2默认为null，newline_only_bindings VARCHAR2默认为null，maximum_line_segment_length NUMBER默认为0，allow_replace NUMBER默认值为1，from_stdout为NUMBER默认1，from_stderr NUMBER默认为1，include_newlines NUMBER默认为0，eager NUMBER默认为0，initialization_statement VARCHAR2默认为null，finalization_statement VARCHAR2默认为null）返回VARCHAR2;</pre><p><a href="redirecting-server-output.html#GUID-9045D497-CD72-43B7-B566-685EC301C654__BABHCEAE" title="表">表3-3</a>描述了<code class="codeph">set_output_to_java</code>方法所采用的参数。
                  </p>
                  <div class="tblformal" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__BABHCEAE">
                     <p class="titleintable">表3-3 set_output_to_java参数摘要</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="set_output_to_java参数摘要" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d21484e499">争论</th>
                              <th align="left" valign="bottom" width="74%" id="d21484e502">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e507" headers="d21484e499 ">
                                 <p>班级名称</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e507 d21484e502 ">
                                 <p>定义一个或多个方法的类的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e514" headers="d21484e499 ">
                                 <p>class_schema</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e514 d21484e502 ">
                                 <p>定义类的模式。空值表示该类是在当前模式或PUBLIC中定义的。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e521" headers="d21484e499 ">
                                 <p>方法</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e521 d21484e502 ">
                                 <p>方法的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e528" headers="d21484e499 ">
                                 <p>绑定</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e528 d21484e502 ">
                                 <p>一个字符串，用于定义如何绑定方法的参数。这是一串令牌，其语法与<code class="codeph">set_output_to_sql.</code>相同<code class="codeph">set_output_to_sql.</code> 字符串中标记的位置决定了它描述的参数的位置。所有参数必须是INT类型，除了与标记ID或TEXT相对应的参数，它们必须是<code class="codeph">java.lang.类型<code class="codeph">java.lang.String</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e541" headers="d21484e499 ">
                                 <p>no_newline_method</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e541 d21484e502 ">
                                 <p>输出不是换行符时执行的可选替代方法。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e548" headers="d21484e499 ">
                                 <p>newline_only_method</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e548 d21484e502 ">
                                 <p>输出为单个换行符时执行的可选替代方法。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e555" headers="d21484e499 ">
                                 <p>initialization_statement</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e555 d21484e502 ">
                                 <p>一个可选的SQL语句，在第一次执行接收输出的方法之前，每个Java会话执行一次。此语句在执行输出方法的同一Java VM上下文中执行。通常，此类语句用于运行Java存储过程，该Java存储过程初始化单独VM上下文中的条件，以便接收输出的方法可以按预期运行。例如，这样的过程可能会打开输出方法写入的流。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d21484e562" headers="d21484e499 ">
                                 <p>finalization_statement</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d21484e562 d21484e502 ">
                                 <p>一个可选的SQL语句，在即将删除输出规范或会话结束时执行一次。与<code class="codeph">initialization_statement,</code>类似<code class="codeph">initialization_statement,</code>它在与接收输出的方法相同的JVM上下文中运行。它仅在初始化方法运行时或者没有初始化方法时运行。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDFDAJF">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-60BCD757-D893-4BA9-9285-8A9AE28EBA30">remove_output_to_java</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">remove_output_to_java</code>删除由<code class="codeph">set_output_to_java</code>创建的规范。如果不存在此类规范，则返回错误消息</p><pre class="oac_no_warn" dir="ltr">功能remove_output_to_java（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCBDGE">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-3ACB16EC-B07F-4169-B08F-B50384F3E7AE">enable_output_to_java</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">enable_output_to_java</code>重新启用由<code class="codeph">set_output_to_java</code>创建的规范，随后由<code class="codeph">disable_output_to_java.</code>禁用<code class="codeph">disable_output_to_java.</code> 如果不存在此类规范，则返回错误消息。如果当前未禁用规范，则不会发生更改。
                  </p><pre class="oac_no_warn" dir="ltr">功能enable_output_to_java（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDHCJEC">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-7F5AC154-CF69-4E8C-9247-2D0AD75543A3">disable_output_to_java</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">disable_output_to_java</code>禁用<code class="codeph">set_output_to_java</code>创建的规范。可以通过<code class="codeph">enable_output_to_java.</code>重新启用规范<code class="codeph">enable_output_to_java.</code> 禁用时，不执行规范规定的SQL语句。如果不存在此类规范，则返回错误消息。如果规范已被禁用，则没有变化。
                  </p><pre class="oac_no_warn" dir="ltr">功能disable_output_to_java（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCIGJB">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-91D6BAF9-38A0-42FF-9CD4-F2E8B59BC881">query_output_to_java</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">query_output_to_java</code>返回描述由<code class="codeph">set_output_to_java.</code>创建的规范的消息<code class="codeph">set_output_to_java.</code> 如果不存在此类规范，则返回错误消息。将<code class="codeph">null</code>传递给此函数会导致显示所有现有规范。
                  </p><pre class="oac_no_warn" dir="ltr">FUNCTION query_output_to_java（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDIFCAA">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-69F958CE-39C9-4332-92B2-76F755D8AD24">set_output_to_file</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">set_output_to_file</code>定义一个命名输出规范，该规范构成捕获发送到默认<code class="codeph">System.out</code>和<code class="codeph">System.err</code>流的任何输出的指令，并将其附加到指定文件。这是使用<code class="codeph">set_output_to_java.</code>的特殊情况实现的<code class="codeph">set_output_to_java.</code> 参数<code class="codeph">file_path</code>指定要附加输出的文件的路径。参数<code class="codeph">allow_replace, from_stdout,</code>和<code class="codeph">from_stderr</code>都类似于与<code class="codeph">set_output_to_sql.</code>具有相同名称的参数<code class="codeph">set_output_to_sql.</code></p><pre class="oac_no_warn" dir="ltr">FUNCTION set_output_to_file（id VARCHAR2，file_path VARCHAR2，allow_replace NUMBER default 1，from_stdout NUMBER default 1，from_stderr NUMBER default 1）return VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDCEAFA">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-775D6090-E48B-4226-909C-0CFB7DB4443F">remove_output_to_file</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此函数类似于<code class="codeph">remove_output_to_java</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">FUNCTION remove_output_to_file（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDBDHJD">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-8C4BCE30-6CF1-4F39-8EFA-D37A19C790D4">enable_output_to_file</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此函数类似于<code class="codeph">enable_output_to_java.</code></p><pre class="oac_no_warn" dir="ltr">FUNCTION enable_output_to_file（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDHHEAE">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-8E98FEAA-7519-4CE0-AD19-AFB0D19F17E7">disable_output_to_file</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此函数类似于<code class="codeph">disable_output_to_java.</code></p><pre class="oac_no_warn" dir="ltr">FUNCTION disable_output_to_file（id VARCHAR2）返回VARCHAR2;</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__CHDGHJAB">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-91EBED3E-A991-4CAB-B081-E9003379E960">query_output_to_file</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>此函数类似于<code class="codeph">query_output_to_java.</code></p><pre class="oac_no_warn" dir="ltr">FUNCTION query_output_to_file（id VARCHAR2）返回VARCHAR2;</pre><p>以下<code class="codeph">DBMS_JAVA</code>函数控制Java输出是否出现在<code class="codeph">.trc</code>文件中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">程序enable_output_to_trc;</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">PROCEDURE disable_output_to_trc;</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">FUNCTION query_output_to_trc返回VARCHAR2;</code></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-BD27DE77-81D6-4D66-8B80-AAFDB14762A3">
                     <p class="notep1">注意：</p>
                     <p>在<span class="italic">11g</span>版本1（11.1）之前，Java输出出现在<code class="codeph">.trc</code>文件中的事实是不可修改的。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-9045D497-CD72-43B7-B566-685EC301C654__GUID-4207F334-A87F-4B73-88DD-1CF300B19901">将输出重定向到SQL * Plus文本缓冲区</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>与以前的版本一样，您可以使用<code class="codeph">DBMS_JAVA</code>包过程<code class="codeph">SET_OUTPUT</code>将输出重定向到SQL * Plus文本缓冲区：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON SQL&gt; CALL dbms_java.set_output（2000）;</pre><p>最小和默认缓冲区大小为2,000字节，最大大小为1,000,000字节。在以下示例中，缓冲区大小增加到5,000字节：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON SIZE 5000 SQL&gt; CALL dbms_java.set_output（5000）;</pre><p>输出显示在通话结束时。</p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>