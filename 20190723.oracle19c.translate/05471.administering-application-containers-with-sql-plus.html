<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">
      <meta name="description" content="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">
      <title>Administering Application Containers</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator’s Guide ">
      <meta property="og:description" content="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96136-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="administering-pdb-snapshots.html" title="Previous" type="text/html">
      <link rel="next" href="managing-security-for-a-multitenant-environment.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="MULTI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="administering-pdb-snapshots.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-security-for-a-multitenant-environment.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">Administering a Multitenant Environment</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Administering Application Containers</li>
            </ol>
            <a id="GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" name="GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B"></a>
            
            <h2 id="MULTI-GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" class="sect2"><span class="enumeration_chapter">17 </span>Administering Application Containers
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.</p>
               <div class="infoboxnote" id="GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B__GUID-AFCA1EC1-62F0-4E80-945B-E61F35DF4779">
                  <p class="notep1">Note:</p>You can complete the tasks in this chapter using SQL*Plus or Oracle SQL Developer.
               </div>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-F98D88A2-E42A-49FF-B3F8-69D860323F79">About Application Container Administration</a><br>Some aspects of administering an application container are similar to administering the CDB root and the CDB as a whole, while other aspects are similar to administering a PDB.
                  </li>
                  <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-8BBB5E02-F0EA-4499-B23F-E5135DDA6B6D">About Modifying an Application Root</a><br>The <code class="codeph">ALTER DATABASE</code> statement can modify an application root. The <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement can modify the open mode of application PDBs.
                  </li>
                  <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854">Managing Applications in an Application Container</a><br>You install, upgrade, or patch an application in an application container. 
                  </li>
                  <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801">Managing Application Common Objects</a><br>Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.
                  </li>
                  <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-CE09995E-7805-484B-9017-B0AF7CF97313">Issuing DML Statements on Containers in an Application Container</a><br>A DML statement issued in an application root can modify one or more containers in the application container. In addition, you can specify one or more default container targets for DML statements.
                  </li>
                  <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-AAF93A02-7C70-4024-8758-E351C213543E">Partitioning by PDB with Container Maps</a><br>Container maps enable the partitioning of data at the application PDB level when the data is not physically partitioned at the table level.
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds</a></li>
                     <li><a href="overview-of-managing-a-multitenant-environment.html#GUID-C1EEE559-3E2B-42A4-B0A0-94C82769ECCB" title="You can use various tools to configure and administer a multitenant environment.">Tools for a Multitenant Environment</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="managing-a-multitenant-environment.html#GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" title="You can administer a multitenant environment using SQL*Plus or Enterprise Manager Cloud Control (Cloud Control).">Administering a Multitenant Environment</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-F98D88A2-E42A-49FF-B3F8-69D860323F79" name="GUID-F98D88A2-E42A-49FF-B3F8-69D860323F79"></a><h3 id="MULTI-GUID-F98D88A2-E42A-49FF-B3F8-69D860323F79" class="sect3"><span class="enumeration_section">17.1 </span>About Application Container Administration
               </h3>
               <div>
                  <p>Some aspects of administering an application container are similar to administering the CDB root and the CDB as a whole, while other aspects are similar to administering a PDB.</p>
                  <p>Administering an application container is similar to administering a CDB because you can manage both the application root and the application PDBs that are plugged into the application root. However, administering an application container is also similar to managing a PDB because changes to the application container do not affect other application containers or PDBs in the CDB.</p>
                  <p>The following table describes administrative tasks for application containers that are similar to administrative tasks that manage a CDB or CDB root.</p>
                  <div class="tblformal" id="GUID-F98D88A2-E42A-49FF-B3F8-69D860323F79__GUID-2E6C3AD5-D500-40EF-AD65-5C25A6E1AF47">
                     <p class="titleintable">Table 17-1 Application Container Administrative Tasks Similar to Those of a CDB</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Application Container Administrative Tasks Similar to Those of a CDB" summary="This table describes various administrative tasks for administering an application container and lists documentation for more information about the tasks." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d79238e250">Administrative Task</th>
                              <th align="left" valign="bottom" id="d79238e252">Description</th>
                              <th align="left" valign="bottom" id="d79238e254">More Information</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e258" headers="d79238e250 ">
                                 <p>Configuring application common users and commonly granted privileges</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e258 d79238e252 ">
                                 <p>Application common users and privileges are similar to common users and commonly granted privileges in a CDB root, but in an application container, common users and commonly granted privileges only exist within the containers of the application container, including the application root, application PDBs that belong to the application root, and an optional application seed that belongs to the application root.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e258 d79238e254 ">
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" title="If a user account owns objects that define the database, then this user account is common. User accounts that are not Oracle-supplied are either local or common.">Overview of Common and Local Users in a CDB</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e276" headers="d79238e250 ">
                                 <p>Creating application containers</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e276 d79238e252 ">
                                 <p>A common user whose current container is the CDB root can create application containers that are plugged into the CDB root by specifying the <code class="codeph">AS APPLICATION CONTAINER</code> clause in the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement. The database files must be Oracle Managed Files.
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e276 d79238e254 ">
                                 <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-3C6D4200-1FEC-4C0F-B335-EFDC655ADABC" title="You can use the CREATE PLUGGABLE DATABASE statement to create an application container in a CDB.">Creating Application Containers</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e300" headers="d79238e250 ">
                                 <p>Creating application PDBs</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e300 d79238e252 ">
                                 <p>A common user whose current container is the application root can create application PDBs that are plugged into the application root.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e300 d79238e254 ">
                                 <p><span class="q">"<a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e315" headers="d79238e250 ">
                                 <p>Switching to containers</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e315 d79238e252 ">
                                 <p>A common user with the proper privileges can switch between containers in an application container, including the application root, application PDBs that belong to the application root, and an optional application seed that belongs to the application root.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e315 d79238e254 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70" title="When you are connected to a container as a common user, you can switch to a different container and application service using the ALTER SESSION statement.">Switching to a Container Using the ALTER SESSION Statement</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e333" headers="d79238e250 ">
                                 <p>Issuing <code class="codeph">ALTER SYSTEM SET</code> statements
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e333 d79238e252 ">
                                 <p>The <code class="codeph">ALTER SYSTEM SET</code> statement can dynamically set an initialization parameter in one or more containers in an application container.
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e333 d79238e254 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="To modify a CDB at the system level, use the ALTER SYSTEM statement.">Modifying a CDB with ALTER SYSTEM</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e357" headers="d79238e250 ">
                                 <p>Issuing data definition language (DDL) statements</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e357 d79238e252 ">
                                 <p>In an application container, some DDL statements can apply to all containers in the application container or to the current container only.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e357 d79238e254 ">
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-B855567C-DE8D-4015-B3E1-86906EE1D119" title="When you modify an application common object in an application root with certain DDL statements, you must modify the object between ALTER PLUGGABLE DATABASE APPLICATION BEGIN and ALTER PLUGGABLE DATABASE APPLICATION END statements, and application PDBs must synchronize with the application to apply the changes.">Modifying Application Common Objects with DDL Statements</a>"</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>The following table describes administrative tasks for application containers that are similar to administrative tasks that manage a PDB.</p>
                  <div class="tblformal" id="GUID-F98D88A2-E42A-49FF-B3F8-69D860323F79__GUID-46B03495-0BAD-4E18-BB0D-862997A15D9A">
                     <p class="titleintable">Table 17-2 Application Container Administrative Tasks Similar to Those of a PDB</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Application Container Administrative Tasks Similar to Those of a PDB" summary="This table describes various administrative tasks for administering an application container and lists documentation for more information about the tasks." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d79238e390">Administrative Task</th>
                              <th align="left" valign="bottom" id="d79238e392">Description</th>
                              <th align="left" valign="bottom" id="d79238e394">More Information</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e398" headers="d79238e390 ">
                                 <p>Connecting to the application root</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e398 d79238e392 ">
                                 <p>The application root has its own service name, and users can connect to the application root in the same way that they connect to a PDB. Similarly, each application PDB has its own service name, and the application seed has its own service name.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e398 d79238e394 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" title="Access a container in a CDB with SQL*Plus by issuing a CONNECT or ALTER SESSION command.">Accessing a Container in a CDB</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e419" headers="d79238e390 ">
                                 <p>Issuing the <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e419 d79238e392 ">
                                 <p>An <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement can modify an application root, application PDB, and application seed in the same way it modifies a PDB. For example, an administrator can open or close an application root with an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement.
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e419 d79238e394 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" title="You can modify the entire CDB or the root with the ALTER DATABASE statement.">Modifying Containers When Connected to the CDB Root</a>"</span></p>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="You can modify a PDB using the ALTER PLUGGABLE DATABASE statement.">Modifying a PDB at the Database Level</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e456" headers="d79238e390 ">
                                 <p>Issuing the SQL*Plus <code class="codeph">STARTUP</code> and <code class="codeph">SHUTDOWN</code> commands
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e456 d79238e392 ">
                                 <p>SQL*Plus <code class="codeph">STARTUP</code> and <code class="codeph">SHUTDOWN</code> commands operate on an application root, application PDB, and application seed in the same way that they operate on a PDB.
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e456 d79238e394 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of One or More PDBs</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e489" headers="d79238e390 ">
                                 <p>Issuing the <code class="codeph">ALTER SYSTEM</code> statements
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e489 d79238e392 ">
                                 <p>An <code class="codeph">ALTER SYSTEM</code> statement operates on an application root, application PDB, and application seed in the same way that it operates on a PDB.
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d79238e489 d79238e394 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="To modify a CDB at the system level, use the ALTER SYSTEM statement.">Modifying a CDB with ALTER SYSTEM</a>"</span></p>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="You can use the ALTER SYSTEM statement to modify a PDB.">Modifying a PDB at the System Level</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e523" headers="d79238e390 ">
                                 <p>Managing tablespaces</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e523 d79238e392 ">
                                 <p>Administrators can create, modify, and drop tablespaces for an application root and for application PDBs. Each container has its own tablespaces.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e523 d79238e394 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="A tablespace is a logical storage container for database objects, such as tables and indexes, that consume storage space.">About Managing Tablespaces in a CDB</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e538" headers="d79238e390 ">
                                 <p>Managing data files and temp files</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e538 d79238e392 ">
                                 <p>Administrators can create, modify, and drop data files and temp files for an application root and for application PDBs. Each container has its own files.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e538 d79238e394 ">
                                 <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN-GUID-501A8889-3C18-4F99-B0B7-9095E981B970" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about managing data files and temp files
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d79238e553" headers="d79238e390 ">
                                 <p>Managing schema objects</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e553 d79238e392 ">
                                 <p>You can create, modify, and drop schema objects in an application root and in each application PDB in the same way that you would in a PDB. You can also create triggers that fire for a specific application root or application PDB.</p>
                                 <p>However, application containers support application common objects, which can be shared between the containers in an application container. Application common objects cannot be created in PDBs.</p>
                              </td>
                              <td align="left" valign="top" headers="d79238e553 d79238e394 ">
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.">Managing Application Common Objects</a>"</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-8BBB5E02-F0EA-4499-B23F-E5135DDA6B6D" name="GUID-8BBB5E02-F0EA-4499-B23F-E5135DDA6B6D"></a><h3 id="MULTI-GUID-8BBB5E02-F0EA-4499-B23F-E5135DDA6B6D" class="sect3"><span class="enumeration_section">17.2 </span>About Modifying an Application Root
               </h3>
               <div>
                  <p>The <code class="codeph">ALTER DATABASE</code> statement can modify an application root. The <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement can modify the open mode of application PDBs.
                  </p>
                  <p>The following table lists which containers are modified by clauses in <code class="codeph">ALTER DATABASE</code> and <code class="codeph">ALTER PLUGGABLE DATABASE</code> statements issued in an application root. The table also lists statements that are not allowed in an application root.
                  </p>
                  <div class="infoboxnote" id="GUID-8BBB5E02-F0EA-4499-B23F-E5135DDA6B6D__GUID-2A59ADBD-E4E3-4C46-B93B-8658B2099008">
                     <p class="notep1">Note:</p>Statements issued when the current container is the application root never affect the CDB root or PDBs that do not belong to the current application root.
                  </div>
                  <div class="tblformalwide" id="GUID-8BBB5E02-F0EA-4499-B23F-E5135DDA6B6D__STATEMENTSTHATMODIFYCONTAINERSINACD-66247266">
                     <p class="titleintable">Table 17-3 Statements That Modify Containers in an Application Root</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Statements That Modify Containers in an Application Root" summary="This table describes ALTER DATABASE statements that modify an application root, ALTER PLUGGABLE DATABASE statements, and ALTER DATABASE statements that are not allowed in an application root." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d79238e709">Modify Application Root Only</th>
                              <th align="left" valign="bottom" width="33%" id="d79238e712">Modify One or More Application PDBs</th>
                              <th align="left" valign="bottom" width="33%" id="d79238e715">Cannot Be Issued in an Application Root</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d79238e720" headers="d79238e709 ">
                                 <p>When connected as an application common user whose current container is the application root, <code class="codeph">ALTER DATABASE</code> statements with the following clauses modify the application root only:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52396" target="_blank"><span class="italic">database_file_clauses</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52540" target="_blank"><code class="codeph">DEFAULT EDITION</code> </a> clause
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52543" target="_blank"><code class="codeph">DEFAULT TABLESPACE</code></a> clause
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52544" target="_blank"><code class="codeph">DEFAULT TEMPORARY TABLESPACE</code></a> clause
                                       </p>
                                    </li>
                                 </ul>
                                 <p><code class="codeph">ALTER DATABASE</code> statements with the following clauses modify the application root and set default values for application PDBs:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52421" target="_blank"><span class="italic">flashback_mode_clause</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52542" target="_blank"><code class="codeph">SET DEFAULT {BIGFILE | SMALLFILE} TABLESPACE</code></a> clause
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52421" target="_blank"><span class="italic">set_time_zone_clause</span></a></p>
                                    </li>
                                 </ul>
                                 <p>You can use these clauses to set nondefault values for specific application PDBs.</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79238e720 d79238e712 ">
                                 <p>When connected as an application common user whose current container is the application root, <code class="codeph">ALTER PLUGGABLE DATABASE</code> statements with the following clause can modify the open mode of one or more application PDBs:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686" target="_blank"><span class="italic">pdb_change_state</span></a></p>
                                    </li>
                                 </ul>
                                 <p>When the current container is an application PDB, <code class="codeph">ALTER PLUGGABLE DATABASE</code> statements with this clause can modify the open mode of the current application PDB.
                                 </p>
                                 <p>When connected as an application common user whose current container is the application root, <code class="codeph">ALTER PLUGGABLE DATABASE</code> statements with the following clause can preserve or discard the open mode an application PDB when the CDB restarts:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686" target="_blank"><span class="italic">pdb_save_or_discard_state</span></a></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79238e720 d79238e715 ">
                                 <p>When connected as an application common user whose current container is the application root, <code class="codeph">ALTER DATABASE</code> statements with the following clauses are not allowed:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52389" target="_blank"><span class="italic">startup_clauses</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52390" target="_blank"><span class="italic">recovery_clauses</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52402" target="_blank"><span class="italic">logfile_clauses</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52410" target="_blank"><span class="italic">controlfile_clauses</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52412" target="_blank"><span class="italic">standby_database_clauses</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52423" target="_blank"><span class="italic">instance_clauses</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52424" target="_blank"><span class="italic">security_clause</span></a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52547" target="_blank"><code class="codeph">RENAME GLOBAL_NAME</code></a> clause
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52549" target="_blank"><code class="codeph">ENABLE BLOCK CHANGE TRACKING</code></a> clause
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52550" target="_blank"><code class="codeph">DISABLE BLOCK CHANGE TRACKING</code></a> clause
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8BBB5E02-F0EA-4499-B23F-E5135DDA6B6D__GUID-5AB716AC-DA19-4068-9F00-EB5F8D5ABFD4">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization.">About the Current Container</a>"</span></p>
                        </li>
                        <li>
                           <p> <span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="You can modify a PDB using the ALTER PLUGGABLE DATABASE statement.">Modifying a PDB at the Database Level</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" name="GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854"></a><h3 id="MULTI-GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" class="sect3"><span class="enumeration_section">17.3 </span>Managing Applications in an Application Container
               </h3>
               <div>
                  <p>You install, upgrade, or patch an application in an application container. </p>
                  <p>You can also uninstall an application from an application container. You perform these operations in the application root. The application container propagates the application changes to the application PDBs when the application PDBs synchronize with the application in the application root.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC">About Application Management</a><br>In an application container, an <strong class="term">application</strong> is a named, versioned set of application metadata and common data. The application is stored in the application root.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-BA920103-E69C-4B77-853E-BF1DC7709902">Installing Applications in an Application Container</a><br>You can install an application in an application container.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545">Upgrading Applications in an Application Container</a><br>Major changes to an application constitute application upgrades. You can upgrade an application in an application container.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397">Patching Applications in an Application Container</a><br>Minor changes to an application constitute application patches.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E">Migrating an Existing Application to an Application Container</a><br>You can migrate an application that is installed in a PDB to an application container.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1">Synchronizing Applications in an Application PDB</a><br>Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8">Synchronizing an Application Root Replica with a Proxy PDB</a><br>When application containers in different CDBs have the same application, their application roots can be kept synchronized by creating a master application root, a replica application root, and a proxy PDB. 
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C">Setting the Compatibility Version of an Application</a><br>The compatibility version of an application is the earliest version of the application possible for the application PDBs that belong to the application container.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-68C91677-24C7-4983-80F0-A94F0B6C2898">Performing Bulk Inserts During Application Install, Upgrade, and Patch Operations</a><br>SQL*Loader is the only supported utility for bulk inserts into tables during application install, upgrade, and patch operations. Only conventional path loads are supported for bulk inserts during application install, upgrade, and patch operations.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-68C8CA30-B1F7-4DB1-BC1C-0F60A521D887">Uninstalling Applications from an Application Container</a><br>You can uninstall an application in an application container.
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" name="GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC"></a><h4 id="MULTI-GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" class="sect4"><span class="enumeration_section">17.3.1 </span>About Application Management
                  </h4>
                  <div>
                     <p>In an application container, an <strong class="term">application</strong> is a named, versioned set of application metadata and common data. The application is stored in the application root.
                     </p>
                     <p>In this context, the term “application” means “application back-end.” Application common objects include user accounts, tables, PL/SQL packages, and so on. You can share an application with the application PDBs that belong to the application root. When you perform application changes, application PDBs can synchronize with the application in the application root. </p>
                     <p>This section contains the following topics:</p>
                     <p>i</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62">Basic Steps of Application Maintenance</a><br>You can install, upgrade, and patch an application in an application root.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-C6B17992-3874-46FD-9BFC-A7CF10F06780">Application Versions</a><br>The application container also manages the versions of the application and the patches to the application.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-2CE112B0-0F67-41DE-9072-AA78D043EC94">Application Module Names</a><br>The application module name is set by the <code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> procedure or the equivalent OCI attribute setting.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62" name="GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62"></a><h5 id="MULTI-GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62" class="sect5"><span class="enumeration_section">17.3.1.1 </span>Basic Steps of Application Maintenance
                     </h5>
                     <div>
                        <p>You can install, upgrade, and patch an application in an application root.</p>
                        <p>You must issue an <code class="codeph">ALTER PLUGGABLE DATABASE ... BEGIN</code> statement to start the operation and an <code class="codeph">ALTER PLUGGABLE DATABASE ... END</code> statement to end the operation. You can issue these statements in the same user session or in different user sessions.
                        </p>
                        <p>The following is the typical process for creating and maintaining an application in an application container:</p>
                        <ol id="GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62__OL_AZ1_5PM_DHB">
                           <li>
                              <p>Create the application container.</p>
                           </li>
                           <li>
                              <p id="GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62__P_VTV_BQM_DHB">Install the application in the application root using <code class="codeph">ALTER PLUGGABLE DATABASE ... BEGIN INSTALL</code>.
                              </p>
                              <p>This step includes creating the application data model and configuring the application common users and application common objects.</p>
                              <div class="infoboxnote" id="GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62__GUID-04203E0B-7DDA-4A8D-89BC-BE0C662E2D50">
                                 <p class="notep1">Note:</p>
                                 <p>SQL*Loader is the only supported utility for bulk inserts into tables during application install, upgrade, and patch operations.</p>
                              </div>
                           </li>
                           <li>
                              <p>Create the application PDBs in the application root.</p>
                           </li>
                           <li>
                              <p>Synchronize each application PDB that should install the application with the application root. The statement is <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... SYNC</code>.
                              </p>
                           </li>
                           <li>
                              <p>Load the data for each application PDB.</p>
                           </li>
                           <li>
                              <p>Maintain the application. Upgrade using <code class="codeph">ALTER PLUGGABLE DATABASE ... BEGIN UPGRADE</code>, and patch using <code class="codeph">ALTER PLUGGABLE DATABASE ... BEGIN PATCH</code>.
                              </p>
                           </li>
                           <li>
                              <p>Synchronize application PDBs that should apply changes from upgrades and patches.</p>
                           </li>
                           <li>
                              <p>Add new application PDBs whenever necessary.</p>
                           </li>
                           <li>
                              <p>If necessary, uninstall the application using <code class="codeph">ALTER PLUGGABLE DATABASE ... BEGIN UNINSTALL</code>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62__GUID-5AA822DF-A095-4919-AAD2-320E3E06C0A3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-1EF3D46C-C216-40E9-A09B-AFDB17584A62__UL_MNV_WWM_DHB">
                              <li>
                                 <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-3C6D4200-1FEC-4C0F-B335-EFDC655ADABC" title="You can use the CREATE PLUGGABLE DATABASE statement to create an application container in a CDB.">Creating Application Containers</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-audit-policies.html#DBSEG-GUID-F4394DDB-CD5F-4B54-B2AC-3649DF03541F" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to audit application maintenance operations
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="In an application container, an application is a named, versioned set of application metadata and common data. The application is stored in the application root.">About Application Management</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-C6B17992-3874-46FD-9BFC-A7CF10F06780" name="GUID-C6B17992-3874-46FD-9BFC-A7CF10F06780"></a><h5 id="MULTI-GUID-C6B17992-3874-46FD-9BFC-A7CF10F06780" class="sect5"><span class="enumeration_section">17.3.1.2 </span>Application Versions
                     </h5>
                     <div>
                        <p>The application container also manages the versions of the application and the patches to the application.</p>
                        <p>The application container manages versions as follows:</p>
                        <ul style="list-style-type: disc;" id="GUID-C6B17992-3874-46FD-9BFC-A7CF10F06780__UL_ZYG_RRM_DHB">
                           <li>
                              <p>When you install an application, you must specify the application version number.</p>
                           </li>
                           <li>
                              <p>When you upgrade an application, you must specify the old application version number and the new application version number.</p>
                           </li>
                           <li>
                              <p>When you patch an application, you must specify the minimum application version number for the patch and the patch number.</p>
                           </li>
                        </ul>
                        <p>As the application evolves, the application container maintains all of the versions and patch changes that you apply. </p>
                        <p>You can also configure the application container so that different application PDBs use different application versions. For example, if you provide an application to various customers, and each customer has its own application PDB, some customers might wait longer to upgrade the application. In this case, some application PDBs can use the latest version of the application, whereas other application PDBs can use an older version of the application.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="In an application container, an application is a named, versioned set of application metadata and common data. The application is stored in the application root.">About Application Management</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2CE112B0-0F67-41DE-9072-AA78D043EC94" name="GUID-2CE112B0-0F67-41DE-9072-AA78D043EC94"></a><h5 id="MULTI-GUID-2CE112B0-0F67-41DE-9072-AA78D043EC94" class="sect5"><span class="enumeration_section">17.3.1.3 </span>Application Module Names
                     </h5>
                     <div>
                        <p>The application module name is set by the <code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> procedure or the equivalent OCI attribute setting.
                        </p>
                        <p>The module name is necessary during application maintenance because of other activity that might be occurring in the database. For example, statements issued by background processes should not be captured in the application capture tables. Also, other users might execute statements that are unrelated to the application. A module name check distinguishes what should be captured from what should not be captured. Only sessions whose module name matches the module name of the session where <code class="codeph">APPLICATION BEGIN</code> was issued are considered for capture.
                        </p>
                        <p>Some clauses, such as the <code class="codeph">SHARING</code> clause, are valid only when issued between an <code class="codeph">ALTER PLUGGABLE DATABASE ... BEGIN</code> statement and an <code class="codeph">ALTER PLUGGABLE DATABASE ... END</code> statement. For these clauses, if the module name for a session does not match, then this session is not included in between the <code class="codeph">BEGIN</code> and <code class="codeph">END</code> statements, causing statements that include the clause to fail with <code class="codeph">ORA-65021</code> or other errors.
                        </p>
                        <p>The most common cause for a module name mismatch is the default module name. For example, SQL*Plus sets a default module name when a connection is made to the database. A connection as a <code class="codeph">SYSDBA</code> user results in one default module name (for example, <code class="codeph">sqlplus@host1 (TNS V1-V3)</code>), whereas a connection as a non-<code class="codeph">SYSDBA</code> user results in a different default module name (for example, <code class="codeph">SQL*Plus</code>). When <code class="codeph">SYSDBA</code> and non-<code class="codeph">SYSDBA</code> users are both performing maintenance, you must explicitly set the module name in each session to the same value, and not rely the default settings in SQL*Plus.
                        </p>
                        <div class="example" id="GUID-2CE112B0-0F67-41DE-9072-AA78D043EC94__GUID-1196CF28-6665-4E09-AD79-31C0FBA56868">
                           <p class="titleinexample">Example 17-1 Checking the Application Module Name</p>
                           <p>This example shows how the default module name changes depending on whether the connected user has <code class="codeph">SYSDBA</code> privileges.
                           </p><pre class="pre codeblock"><code>SQL&gt; CONNECT / AS SYSDBA
Connected.

SQL&gt; select module from v$session where audsid = SYS_CONTEXT('USERENV','sessionid'); 

MODULE
----------------------------------------------------------------
sqlplus@host1 (TNS V1-V3)

SQL&gt; CONNECT dba1
Password: *************
Connected.

SQL&gt; select module from v$session where audsid = SYS_CONTEXT('USERENV','sessionid'); 

MODULE
----------------------------------------------------------------
SQL*Plus</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2CE112B0-0F67-41DE-9072-AA78D043EC94__GUID-5AA822DF-A095-4919-AAD2-320E3E06C0A3">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS65239" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn how to set the application module name
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="In an application container, an application is a named, versioned set of application metadata and common data. The application is stored in the application root.">About Application Management</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BA920103-E69C-4B77-853E-BF1DC7709902" name="GUID-BA920103-E69C-4B77-853E-BF1DC7709902"></a><h4 id="MULTI-GUID-BA920103-E69C-4B77-853E-BF1DC7709902" class="sect4"><span class="enumeration_section">17.3.2 </span>Installing Applications in an Application Container
                  </h4>
                  <div>
                     <p>You can install an application in an application container.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-2E96A9B0-F543-46D7-930F-DED81A141CEA">About Installing Applications in an Application Container</a><br>You issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements to install an application in the application root.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-D06AD868-A2BA-449D-9C73-884F0378D175">Installing an Application in an Application Container with Automated Propagation</a><br>In automated propagation, the application is installed in the application PDBs that synchronize with the application in the application root.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-2E96A9B0-F543-46D7-930F-DED81A141CEA" name="GUID-2E96A9B0-F543-46D7-930F-DED81A141CEA"></a><h5 id="MULTI-GUID-2E96A9B0-F543-46D7-930F-DED81A141CEA" class="sect5"><span class="enumeration_section">17.3.2.1 </span>About Installing Applications in an Application Container
                     </h5>
                     <div>
                        <p>You issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements to install an application in the application root.
                        </p>
                        <p>You install the application in the application root only. Application PDBs that synchronize with the application install the application automatically. With the automated method, you can perform the installation using one or more of the following techniques: scripts, SQL statements, and graphical user interface tools.</p>
                        <p>Start of the installation with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN INSTALL</code> statement and the end of the install with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END INSTALL</code> statement. Each installation must be associated with an application name and version number, which are specified in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements.
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" title="You can use the catcon.pl script to run Oracle-supplied SQL or SQL scripts within a CDB.&nbsp;You can run the script against any specified containers.">Running Oracle-Supplied SQL Scripts in a CDB</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-BA920103-E69C-4B77-853E-BF1DC7709902" title="You can install an application in an application container.">Installing Applications in an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D06AD868-A2BA-449D-9C73-884F0378D175" name="GUID-D06AD868-A2BA-449D-9C73-884F0378D175"></a><h5 id="MULTI-GUID-D06AD868-A2BA-449D-9C73-884F0378D175" class="sect5"><span class="enumeration_section">17.3.2.2 </span>Installing an Application in an Application Container with Automated Propagation
                     </h5>
                     <div>
                        <p>In automated propagation, the application is installed in the application PDBs that synchronize with the application in the application root.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D06AD868-A2BA-449D-9C73-884F0378D175__GUID-4DB4663A-572B-41A4-ABD7-F1A474850BBB">Prerequisites</p>
                           <p>You must meet the following prerequisites:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The current user must have the&nbsp;<code class="codeph">ALTER&nbsp;PLUGGABLE DATABASE</code>&nbsp;system privilege, and the privilege must be commonly granted in the application root.
                                 </p>
                              </li>
                              <li>
                                 <p>The application root must be in open read/write.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D06AD868-A2BA-449D-9C73-884F0378D175__GUID-BAF77A98-D6D7-4E65-931A-9C7ADF1DD24C">To install an application using automated propagation:</p>
                           <ol>
                              <li>
                                 <p id="GUID-D06AD868-A2BA-449D-9C73-884F0378D175__d5e35">In SQL*Plus or SQL Developer, ensure that the current container is a PDB.</p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN INSTALL</code> statement in the following form:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION <span class="italic">application_name</span> BEGIN INSTALL '<span class="italic">application_version_number</span>';</code></pre><p>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">application_version_number</span> is 4.2:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN INSTALL '4.2';</code></pre></li>
                              <li>
                                 <p>Install the application using scripts, SQL statements, or graphical user interface tools.</p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END INSTALL</code> statement in the following form:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION <span class="italic">application_name</span> END INSTALL '<span class="italic">application_version_number</span>';</code></pre><p>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">application_version_number</span> is 4.2:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp END INSTALL '4.2';</code></pre><div class="infoboxnote" id="GUID-D06AD868-A2BA-449D-9C73-884F0378D175__ENSURETHATTHEAPPLICATION_NAMEANDAPP-04439E98">
                                    <p class="notep1">Note:</p>Ensure that the <span class="italic">application_name</span> and <span class="italic">application_version_number</span> match in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN INSTALL</code> statement and the<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END INSTALL</code> statement.
                                 </div>
                              </li>
                              <li>
                                 <p>Synchronize all of the application PDBs that must install the application by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" title="Access a container in a CDB with SQL*Plus by issuing a CONNECT or ALTER SESSION command.">Accessing a Container in a CDB</a></li>
                              <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-BA920103-E69C-4B77-853E-BF1DC7709902" title="You can install an application in an application container.">Installing Applications in an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" name="GUID-07C8EC31-0A4B-4F63-A40A-E87031858545"></a><h4 id="MULTI-GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" class="sect4"><span class="enumeration_section">17.3.3 </span>Upgrading Applications in an Application Container
                  </h4>
                  <div>
                     <p>Major changes to an application constitute application upgrades. You can upgrade an application in an application container.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3">About Upgrading Applications in an Application Container</a><br>You issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements to upgrade an application in the application root.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5">Upgrading an Application in an Application Container</a><br>After an upgrade, application changes caused by the upgrade propagate to the application PDBs that synchronize with the application root.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3" name="GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3"></a><h5 id="MULTI-GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3" class="sect5"><span class="enumeration_section">17.3.3.1 </span>About Upgrading Applications in an Application Container
                     </h5>
                     <div>
                        <p>You issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements to upgrade an application in the application root.
                        </p>
                        <p>You upgrade the application in the application root only, and application PDBs apply the changes in the upgrade when they synchronize with the application. Application PDBs synchronize with an application by running an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">SYNC</code> clause. You can upgrade using one or more of the following techniques: scripts, SQL statements, and graphical user interface tools.
                        </p>
                        <p>Indicate the start of the upgrade with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code> statement and the end of the upgrade with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code> statement. Each upgrade must be associated with an application name, starting version number, and ending version number, which are specified in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements.
                        </p>
                        <p>When you upgrade an application, Oracle Database automatically clones the application root. During the upgrade, application PDBs point to the clone. Applications continue to run during the upgrade. Application PDBs can perform DML on metadata-linked and extended data-linked tables and views. Application PDBs can query metadata-linked objects, extended data-linked objects, and data-linked objects.</p>
                        <p>After the upgrade, the application root clone remains and continues to support any application PDB that still uses the preupgrade version of the application in the clone. Application PDBs that upgrade are pointed to the upgraded application root. Application PDBs that do not upgrade might continue to use the clone, and application PDBs that are plugged into the application root might also use the same application version as the clone.</p>
                        <div class="infoboxnote" id="GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3__GUID-AE30760F-BA9F-4CCE-BC47-845B11E278AF">
                           <p class="notep1">Note:</p>
                           <p>Unlike an application upgrade, a patch does not create an application root clone. If an application PDB is not synchronized after a patch, then queries are directed to the application root, which has already been patched.</p>
                        </div>
                        <p>The following figure illustrates the upgrade process.</p>
                        <div class="figure" id="GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3__GUID-1C41F072-E52C-4B33-9D1C-466E57A6FC30">
                           <p class="titleinfigure">Figure 17-1 Upgrading Applications in an Application Container</p><img src="img/admin122.png" alt="Description of Figure 17-1 follows" title="Description of Figure 17-1 follows" longdesc="img_text/admin122.html"><br><a href="img_text/admin122.html">Description of "Figure 17-1 Upgrading Applications in an Application Container"</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3__GUID-056316CA-49D4-41DF-88EA-CF6E586AB5F5">
                           <p class="notep1">Note:</p>
                           <p>When the application root is in any open mode, the application root clone is in read-only mode. When the application root is closed, the application root clone is also closed.</p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" title="You can use the catcon.pl script to run Oracle-supplied SQL or SQL scripts within a CDB.&nbsp;You can run the script against any specified containers.">Running Oracle-Supplied SQL Scripts in a CDB</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="Major changes to an application constitute application upgrades. You can upgrade an application in an application container.">Upgrading Applications in an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5" name="GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5"></a><h5 id="MULTI-GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5" class="sect5"><span class="enumeration_section">17.3.3.2 </span>Upgrading an Application in an Application Container
                     </h5>
                     <div>
                        <p>After an upgrade, application changes caused by the upgrade propagate to the application PDBs that synchronize with the application root.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5__GUID-4D9AB491-0AA3-435B-AC5D-7FFEAC194AAC">Prerequisites</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The CDB must be in local undo mode.</p>
                              </li>
                              <li>
                                 <p>The current user must have the&nbsp;<code class="codeph">ALTER&nbsp;PLUGGABLE DATABASE</code>&nbsp;system privilege, and the privilege must be commonly granted in the application root.
                                 </p>
                              </li>
                              <li>
                                 <p>The application root must be in open read/write.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5__GUID-3F7A7719-A632-486B-AB2A-B4942BE518EF">To upgrade an application in an application container:</p>
                           <ol>
                              <li>
                                 <p id="GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5__d5e38">In SQL*Plus or SQL Developer, ensure that the current container is the application root.</p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code> statement in the following form:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION <span class="italic">application_name</span> BEGIN UPGRADE '<span class="italic">application_start_version_number</span>' TO '<span class="italic">application_end_version_number</span>';</code></pre><p>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code>, the <span class="italic">application_start_version_number</span> is 4.2, and the <span class="italic">application_end_version_number</span> is 4.3:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN UPGRADE '4.2' TO '4.3';</code></pre></li>
                              <li>
                                 <p>Upgrade the application using scripts, SQL statements, or graphical user interface tools.</p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code> statement in the following form:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION <span class="italic">application_name</span> END UPGRADE TO '<span class="italic">application_end_version_number</span>';</code></pre><p>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">application_end_version_number</span> is 4.3:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp END UPGRADE TO '4.3';</code></pre><div class="infoboxnote" id="GUID-E733EDB9-98EF-4CAD-BD83-605A04BEC5E5__ENSURETHATTHEAPPLICATION_NAMEANDAPP-04464BE5">
                                    <p class="notep1">Note:</p>Ensure that the <span class="italic">application_name</span> and <span class="italic">application_end_version_number</span> match in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code> statement and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code> statement.
                                 </div>
                              </li>
                              <li>
                                 <p>Synchronize all of the application PDBs that must upgrade the application by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" title="Access a container in a CDB with SQL*Plus by issuing a CONNECT or ALTER SESSION command.">Accessing a Container in a CDB</a></li>
                              <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a></li>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="When local undo is enabled, each container has its own undo tablespace for every instance in which it is open. When local undo is disabled, there is one undo tablespace for the entire CDB.">Setting the Undo Mode in a CDB Using ALTER DATABASE</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="Major changes to an application constitute application upgrades. You can upgrade an application in an application container.">Upgrading Applications in an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397" name="GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397"></a><h4 id="MULTI-GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397" class="sect4"><span class="enumeration_section">17.3.4 </span>Patching Applications in an Application Container
                  </h4>
                  <div>
                     <p>Minor changes to an application constitute application patches.</p>
                     <p>Examples of minor changes can include bug fixes and security patches. You can patch an application in an application container.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-FD950766-D847-45AE-A3EA-1AA67D7C1DF0">About Patching Applications in an Application Container</a><br>To patch an application in the application root, issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-D29C2A0B-992C-40F8-8527-34DC98F3AF74">Patching an Application in an Application Container with Automated Propagation</a><br>Application changes for the patch are propagated to the application PDBs that synchronize with the application in the application root.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-FD950766-D847-45AE-A3EA-1AA67D7C1DF0" name="GUID-FD950766-D847-45AE-A3EA-1AA67D7C1DF0"></a><h5 id="MULTI-GUID-FD950766-D847-45AE-A3EA-1AA67D7C1DF0" class="sect5"><span class="enumeration_section">17.3.4.1 </span>About Patching Applications in an Application Container
                     </h5>
                     <div>
                        <p>To patch an application in the application root, issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements.
                        </p>
                        <p>You patch the application in the application root only. The application PDBs that synchronize with the application apply the changes. You can perform the patch using one or more of the following techniques: scripts, SQL statements, and graphical user interface tools.</p>
                        <p>The patch is restricted to a small set of operations. In general, destructive operations, such as dropping a table, are not allowed in a patch. If you attempt to patch an application, and the operation raises an “operation not supported in an application patch” error, then upgrade the application instead of patching it to make the necessary changes.</p>
                        <div class="infoboxnote" id="GUID-FD950766-D847-45AE-A3EA-1AA67D7C1DF0__GUID-54546386-DE3B-4767-B562-4A035C80FA77">
                           <p class="notep1">Note:</p>
                           <p>Unlike an application upgrade, a patch does not create an application root clone. If an application PDB is not synchronized after a patch, then queries are directed to the application root, which has already been patched.</p>
                        </div>
                        <p>Indicate the start of the patch with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN PATCH</code> statement and the end of the patch with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END PATCH</code> statement. Each patch must be associated with an application name, starting version number, and ending version number. Specify these values in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements.
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" title="You can use the catcon.pl script to run Oracle-supplied SQL or SQL scripts within a CDB.&nbsp;You can run the script against any specified containers.">Running Oracle-Supplied SQL Scripts in a CDB</a></li>
                              <li><a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="Major changes to an application constitute application upgrades. You can upgrade an application in an application container.">Upgrading Applications in an Application Container</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397" title="Minor changes to an application constitute application patches.">Patching Applications in an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D29C2A0B-992C-40F8-8527-34DC98F3AF74" name="GUID-D29C2A0B-992C-40F8-8527-34DC98F3AF74"></a><h5 id="MULTI-GUID-D29C2A0B-992C-40F8-8527-34DC98F3AF74" class="sect5"><span class="enumeration_section">17.3.4.2 </span>Patching an Application in an Application Container with Automated Propagation
                     </h5>
                     <div>
                        <p>Application changes for the patch are propagated to the application PDBs that synchronize with the application in the application root.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D29C2A0B-992C-40F8-8527-34DC98F3AF74__GUID-E56BD53A-0D81-420F-BE30-705F4959D2DD">Prerequisites</p>
                           <p>The following prerequisites must be met:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The current user must have the&nbsp;<code class="codeph">ALTER&nbsp;PLUGGABLE DATABASE</code>&nbsp;system privilege, and the privilege must be commonly granted in the application root.
                                 </p>
                              </li>
                              <li>
                                 <p>The application root must be in open read/write mode.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the application root.</span></li>
                           <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN PATCH</code> statement in the following form:</span><div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> BEGIN PATCH <span class="codeinlineitalic">patch_number</span> MINIMUM VERSION '<span class="codeinlineitalic">minimum_application_version_number</span>';</code></div>
                              <div>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code>, the <span class="italic">patch_number</span> is 987654, and the <span class="italic">minimum_application_version_number</span> is 4.2:
                              </div>
                              <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN PATCH 987654 MINIMUM VERSION '4.2';</code></div>
                              <div>The <span class="italic">minimum_application_version_number</span> indicates the minimum application version at which an application installation must be before the patch can be applied to it.
                              </div>
                           </li>
                           <li class="stepexpand"><span>Patch the application using scripts, SQL statements, and graphical user interface tools.</span></li>
                           <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END PATCH</code> statement in the following form:</span><div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> END PATCH <span class="codeinlineitalic">patch_number</span>;</code></div>
                              <div>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">patch_number</span> is 987654:
                              </div>
                              <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION salesapp END PATCH 987654;</code><div class="infoboxnote" id="GUID-D29C2A0B-992C-40F8-8527-34DC98F3AF74__GUID-D64E1BBE-4F58-494D-934A-A5A17DD1A0D6">
                                    <p class="notep1">Note:</p>Ensure that the <span class="italic">application_name</span> and <span class="italic">patch_number</span> match in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN PATCH</code> statement and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END PATCH</code> statement.
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Synchronize all of the application PDBs that must patch the application by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" title="Access a container in a CDB with SQL*Plus by issuing a CONNECT or ALTER SESSION command.">Accessing a Container in a CDB</a></li>
                              <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397" title="Minor changes to an application constitute application patches.">Patching Applications in an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D2F30723-9E70-469C-8048-CB06DE00173E" name="GUID-D2F30723-9E70-469C-8048-CB06DE00173E"></a><h4 id="MULTI-GUID-D2F30723-9E70-469C-8048-CB06DE00173E" class="sect4"><span class="enumeration_section">17.3.5 </span>Migrating an Existing Application to an Application Container
                  </h4>
                  <div>
                     <p>You can migrate an application that is installed in a PDB to an application container.</p>
                     <p>You can migrate the application to the application root or to an application PDB. For example, you might migrate an application installed in a PDB plugged into an <span>Oracle Database 12c</span> Release 2 (12.2) CDB to an application container in an <span>Oracle Database 18c</span> CDB.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-81306C74-EB38-4662-9873-EB8D3AF9DF33">About Migrating an Existing Application to an Application Container</a><br>You can migrate an application to an application root by creating an application root using an existing PDB.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-4C6F56CF-1FA1-4490-8262-818A6DA7CE05">Creating an Application Root Using an Existing PDB</a><br>Migrate an application that is installed in a PDB by copying the PDB to an application container.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-D7448903-C3BB-47DA-9EC7-5D1B212C9D02">Creating an Application PDB Using an Existing PDB</a><br>After migrating an existing application to an application root, you can use an existing PDB that uses the application to create an application PDB.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-81306C74-EB38-4662-9873-EB8D3AF9DF33" name="GUID-81306C74-EB38-4662-9873-EB8D3AF9DF33"></a><h5 id="MULTI-GUID-81306C74-EB38-4662-9873-EB8D3AF9DF33" class="sect5"><span class="enumeration_section">17.3.5.1 </span>About Migrating an Existing Application to an Application Container
                     </h5>
                     <div>
                        <p>You can migrate an application to an application root by creating an application root using an existing PDB.</p>
                        <p> If the application is installed in more than one PDB, then you can use one of the PDBs to create the application root. You can use one of the methods available for copying a PDB to an application root, such as cloning the PDB or plugging in the PDB as an application root.</p>
                        <p>When common users, roles, or profiles exist in the PDB used to create the application root, you must run procedures in the <code class="codeph">DBMS_PDB</code> package to associate them with the application. When an application root created from a PDB is first opened, each local user, role, and profile is marked as common. The procedures in the <code class="codeph">DBMS_PDB</code> package associate the user, role, or profile with the application. Therefore, all DDL operations on the user, role, or profile must subsequently be done within an application <code class="codeph">BEGIN...END</code> block of this application.
                        </p>
                        <p>When shared database objects exist in the application root, you must run procedures in the <code class="codeph">DBMS_PDB</code> package to associate the database objects with the application as application common objects. Therefore, all DDL operations on the application common objects must subsequently be done within an application <code class="codeph">BEGIN...END</code> block of this application.
                        </p>
                        <p> After the application root is in place, you can create application PDBs in the new application container using the existing PDBs. The application PDBs that you create must contain the application objects, including their data. Additional steps are necessary to synchronize the application version and patch number and to establish shared database objects in the application PDBs.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-81306C74-EB38-4662-9873-EB8D3AF9DF33__GUID-15D5F739-8228-4766-B6CA-C5ADFA6322C1">Scenario with One Hundred PDBs Running the Same Application</p>
                           <p>Assume that you currently have one hundred PDBs that are running the same application, and you want to migrate these PDBs to an application container. These PDBs have the application common objects and common users, roles, and profiles required by the application. To migrate the PDBs to an application container, follow these steps:</p>
                           <ol>
                              <li>
                                 <p>Choose one of the PDBs, and use the instructions in <span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-4C6F56CF-1FA1-4490-8262-818A6DA7CE05" title="Migrate an application that is installed in a PDB by copying the PDB to an application container.">Creating an Application Root Using an Existing PDB</a>"</span> to create the application root with this PDB.
                                 </p>
                                 <p>As part of this step, you associate the database objects, users, roles, and profiles with the application by running procedures in the <code class="codeph">DBMS_PDB</code> package.
                                 </p>
                              </li>
                              <li>
                                 <p>Use the instructions in <span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-D7448903-C3BB-47DA-9EC7-5D1B212C9D02" title="After migrating an existing application to an application root, you can use an existing PDB that uses the application to create an application PDB.">Creating an Application PDB Using an Existing PDB</a>"</span> to create one hundred application PDBs using the PDBs that are running the application.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-81306C74-EB38-4662-9873-EB8D3AF9DF33__GUID-D8748DC7-2AF1-47BB-A044-9A246AAFCBB9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-20B0B12F-A6A5-4403-95FF-64B3A5CC00A9" title="You can create an application container using the CREATE PLUGGABLE DATABASE statement with the AS APPLICATION CONTAINER clause.">Creating an Application Container</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-D06AD868-A2BA-449D-9C73-884F0378D175" title="In automated propagation, the application is installed in the application PDBs that synchronize with the application in the application root.">Installing an Application in an Application Container with Automated Propagation</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_PDB.html#ARPLS-GUID-DB254799-2EC9-4582-B5BC-086EFBB8D375" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about <code class="codeph">DBMS_PDB</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" title="You can migrate an application that is installed in a PDB to an application container.">Migrating an Existing Application to an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4C6F56CF-1FA1-4490-8262-818A6DA7CE05" name="GUID-4C6F56CF-1FA1-4490-8262-818A6DA7CE05"></a><h5 id="MULTI-GUID-4C6F56CF-1FA1-4490-8262-818A6DA7CE05" class="sect5"><span class="enumeration_section">17.3.5.2 </span>Creating an Application Root Using an Existing PDB
                     </h5>
                     <div>
                        <p>Migrate an application that is installed in a PDB by copying the PDB to an application container.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-4C6F56CF-1FA1-4490-8262-818A6DA7CE05__GUID-C8BBC0C6-918F-4718-BAE0-87F2AADBBDEE">Prerequisites</p>
                           <p>An <span>Oracle Database 12c</span> Release 2 (12.2) or later CDB must exist.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>In the CDB, create the application root by cloning the existing PDB, relocating the existing PDB, or by unplugging and plugging in the existing PDB.</span><div>The new application root must contain all database objects used by the application.</div>
                           </li>
                           <li class="stepexpand"><span>With the application root as the current container, start an application installation operation by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE ... BEGIN INSTALL</code> statement.</span></li>
                           <li class="stepexpand"><strong>Optional: </strong><span>Query the <code class="codeph">COMMON</code> column in the <code class="codeph">DBA_USERS</code>, <code class="codeph">DBA_ROLES</code>, and <code class="codeph">DBA_PROFILES</code> views to determine which users, roles, and profiles are common.</span></li>
                           <li class="stepexpand"><span>Run the following procedures in the <code class="codeph">DBMS_PDB</code> package to associate users, roles. and profiles with the application:</span><ul>
                                 <li>Run the <code class="codeph">SET_USER_EXPLICIT</code> procedure to set application common users.
                                 </li>
                                 <li>Run the <code class="codeph">SET_ROLE_EXPLICIT</code> procedure to set application common roles.
                                 </li>
                                 <li>Run the <code class="codeph">SET_PROFILE_EXPLICIT</code> procedure to set application common profiles.
                                 </li>
                              </ul>
                              <div>If you do not have <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_PDB</code> package, then you can run these procedures in the <code class="codeph">DBMS_PDB_ALTER_SHARING</code> package.
                              </div>
                           </li>
                           <li class="stepexpand"><strong>Optional: </strong><span>With the application root as the current container, query the <code class="codeph">SHARING</code> column in the <code class="codeph">DBA_OBJECTS</code> view to determine which database objects are shared.</span></li>
                           <li class="stepexpand"><span>Run the following procedures in the <code class="codeph">DBMS_PDB</code> package to associate database objects with the application:</span><ul>
                                 <li>Run the <code class="codeph">SET_DATA_LINKED</code> procedure to set data-linked application common objects.
                                 </li>
                                 <li>Run the <code class="codeph">SET_METADATA_LINKED</code> procedure to set metadata-linked application common objects.
                                 </li>
                                 <li>Run the <code class="codeph">SET_EXT_DATA_LINKED</code> procedure to set extended data-linked application common objects.
                                 </li>
                              </ul>
                              <div>If you do not have <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_PDB</code> package, then you can run these procedures in the <code class="codeph">DBMS_PDB_ALTER_SHARING</code> package.
                              </div>
                           </li>
                           <li class="stepexpand"><span>End the application installation operation by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE ... END INSTALL</code> statement.</span></li>
                           <li class="stepexpand"><strong>Optional: </strong><span>Rerun the queries that you ran previously to ensure that the sharing properties of the database objects are correct and that the common properties of the users, roles, and profiles are correct.</span></li>
                           <li class="stepexpand"><strong>Optional: </strong><span>If existing PDBs use the application, then create application PDBs using these existing PDBs.</span><div>See <span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-D7448903-C3BB-47DA-9EC7-5D1B212C9D02" title="After migrating an existing application to an application root, you can use an existing PDB that uses the application to create an application PDB.">Creating an Application PDB Using an Existing PDB</a>"</span>.
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-20B0B12F-A6A5-4403-95FF-64B3A5CC00A9" title="You can create an application container using the CREATE PLUGGABLE DATABASE statement with the AS APPLICATION CONTAINER clause.">Creating an Application Container</a></li>
                              <li><a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></li>
                              <li><a href="../arpls/DBMS_PDB.html#ARPLS-GUID-DB254799-2EC9-4582-B5BC-086EFBB8D375" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" title="You can migrate an application that is installed in a PDB to an application container.">Migrating an Existing Application to an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D7448903-C3BB-47DA-9EC7-5D1B212C9D02" name="GUID-D7448903-C3BB-47DA-9EC7-5D1B212C9D02"></a><h5 id="MULTI-GUID-D7448903-C3BB-47DA-9EC7-5D1B212C9D02" class="sect5"><span class="enumeration_section">17.3.5.3 </span>Creating an Application PDB Using an Existing PDB
                     </h5>
                     <div>
                        <p>After migrating an existing application to an application root, you can use an existing PDB that uses the application to create an application PDB.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D7448903-C3BB-47DA-9EC7-5D1B212C9D02__GUID-EF5A91BE-3FBA-4B18-A4D8-07E87DBED664">Prerequisites</p>
                           <p>You must meet the following prerequisites:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>An <span>Oracle Database 12c</span> Release 2 (12.2) or later CDB must exist, and the application root to which the application PDB will belong must exist.
                                 </p>
                              </li>
                              <li>
                                 <p>The PDB must contain all application common objects used by the application.</p>
                              </li>
                              <li>
                                 <p>The application must be installed in the application root.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>In the application root, create the application PDB by cloning the existing PDB or by unplugging and plugging in the existing PDB.</span><div>Violations will be reported during PDB creation.</div>
                           </li>
                           <li class="stepexpand"><span>Connect to or switch to the new PDB as a user with the required privileges.</span></li>
                           <li class="stepexpand"><span>Run the <code class="codeph">pdb_to_apppdb.sql</code> script in the <code class="codeph"><span class="codeinlineitalic">ORACLE_HOME</span>/rdbms/admin</code> directory.</span><div>The script automatically synchronizes the application PDB with the application root.</div>
                           </li>
                           <li class="stepexpand"><strong>Optional: </strong><span>Query the <code class="codeph">SHARING</code> column in the <code class="codeph">DBA_OBJECTS</code> view to ensure that the sharing properties of the database objects are correct.</span></li>
                           <li class="stepexpand"><strong>Optional: </strong><span>Query the <code class="codeph">COMMON</code> column in the <code class="codeph">DBA_USERS</code>, <code class="codeph">DBA_ROLES</code>, and <code class="codeph">DBA_PROFILES</code> views to ensure that the common properties of the users, roles, and profiles are correct.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" title="You can migrate an application that is installed in a PDB to an application container.">Migrating an Existing Application to an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" name="GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1"></a><h4 id="MULTI-GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" class="sect4"><span class="enumeration_section">17.3.6 </span>Synchronizing Applications in an Application PDB
                  </h4>
                  <div>
                     <p>Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.</p>
                     <div class="section">  
                        <div class="infoboxnote" id="GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1__GUID-FD496CCE-A474-44F2-ACE2-5FEA7236195B">
                           <p class="notep1">Note:</p>
                           <p>When an application is installed, upgraded, patched, or uninstalled in an application root, an application PDB that belongs to the application root is not changed until it is synchronized. </p>
                        </div>
                        <p>In addition to user-created applications, application containers can also contain implicitly created applications. An application is created implicitly in an application root when an application common user operation is issued with a <code class="codeph">CONTAINER=ALL</code> clause outside of <code class="codeph">ALTER PLUGGABLE DATABASE BEGIN/END</code> statements. Application common user operations include operations such as creating a common user with a <code class="codeph">CREATE USER</code> statement or altering a common user with an <code class="codeph">ALTER USER</code> statement. An implicit application is named <code class="codeph">APP$<span class="codeinlineitalic">guid</span></code>, where <span class="italic">guid</span> is the GUID of the application root. An implicit application is created when the application root is opened for the first time.
                        </p>
                        <p>Synchronize one application in an application PDB by issuing the following SQL statement when the application PDB is the current container, where <span class="italic">application_name</span> is the name of the application:
                        </p>
                        <p><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> SYNC;</code></p>
                        <p></p>
                        <p>Synchronize all of the applications in an application PDB, including implicitly created applications, by issuing the following SQL statement when the application PDB is the current container:</p>
                        <p><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ALL SYNC;</code></p>
                        <p>Synchronize implicitly created applications in an application PDB by issuing one of the following SQL statement when the application PDB is the current container:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION APP$<span class="codeinlineitalic">guid</span> SYNC;</code></p>
                              <p><span class="italic">guid</span> is the GUID of the application root.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION APP$CON SYNC;</code></p>
                              <p><code class="codeph">APP$CON</code> is a logical application name that Oracle Database automatically translates to the real name of the implicit application.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1__GUID-B5030D1E-EA45-4A2F-BA4D-B8FA2EB5F125">Prerequisites</p>
                        <p>The current user must have <code class="codeph">ALTER PLUGGABLE DATABASE</code> system privilege. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the application PDB.</span><div></div>
                        </li>
                        <li class="stepexpand"><span>Run an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.</span></li>
                     </ol>
                     <div class="example" id="GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1__GUID-2E9D153B-62C6-425E-BAA2-B410E6A24B98">
                        <p class="titleinexample">Example 17-2 Synchronizing a Specific Application in an Application PDB</p>
                        <p>This example synchronizes an application named <code class="codeph">salesapp</code> with the latest application changes in the application root.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp SYNC;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1__GUID-2BC66787-5715-4538-9E98-2C8D5C1A2481">
                        <p class="titleinexample">Example 17-3 Synchronizing All of the Applications in an Application PDB</p>
                        <p>This example synchronizes all of the applications in an application PDB with the latest application changes in the application root.</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION ALL SYNC;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1__GUID-1471136E-5B83-41BA-B6DF-151887C1ABDC">
                        <p class="titleinexample">Example 17-4 Synchronizing Implicitly-Created Applications in an Application PDB</p>
                        <p>This example synchronizes all of the implicitly-created applications in an application PDB with the latest application changes to the implicitly created applications in the application root. </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION APP$CON SYNC;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8" name="GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8"></a><h4 id="MULTI-GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8" class="sect4"><span class="enumeration_section">17.3.7 </span>Synchronizing an Application Root Replica with a Proxy PDB
                  </h4>
                  <div>
                     <p>When application containers in different CDBs have the same application, their application roots can be kept synchronized by creating a master application root, a replica application root, and a proxy PDB. </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-84C7C5F4-C647-4DCB-9EF3-63B1129F5EE0">About Synchronizing an Application Root Replica with a Proxy PDB</a><br>A proxy PDB can synchronize an application root and a replica of the application root. 
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-B96087B5-678C-4781-9464-42FC468B1FCC">Creating a Proxy PDB That References an Application Root Replica</a><br>When multiple application containers run the same application, the application in the application containers can be kept synchronized using proxy PDBs.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-84C7C5F4-C647-4DCB-9EF3-63B1129F5EE0" name="GUID-84C7C5F4-C647-4DCB-9EF3-63B1129F5EE0"></a><h5 id="MULTI-GUID-84C7C5F4-C647-4DCB-9EF3-63B1129F5EE0" class="sect5"><span class="enumeration_section">17.3.7.1 </span>About Synchronizing an Application Root Replica with a Proxy PDB
                     </h5>
                     <div>
                        <p>A proxy PDB can synchronize an application root and a replica of the application root. </p>
                        <p>An application might be installed in several application containers. Installing, upgrading, and patching the application are more efficient when you use proxy PDBs.</p>
                        <p>In this configuration, one application container has the master application root. The master application root is where you install, upgrade, and patch the application. Application root replicas are exact copies of the master application root. Each application root replica is referenced by a proxy PDB in the master application root.</p>
                        <p>When a proxy PDB is synchronized with the application changes in the master application root, it propagates the changes to its referenced application root replica. After the application root replica is synchronized, application PDBs that are plugged into the application root replica can synchronize with the replica and in this way receive the changes.</p>
                        <p>The following figure shows a configuration that synchronizes an application root replica using a proxy PDB.</p>
                        <div class="figure" id="GUID-84C7C5F4-C647-4DCB-9EF3-63B1129F5EE0__GUID-6C321C08-7A26-4CB9-A116-DFF2AF5CA819">
                           <p class="titleinfigure">Figure 17-2 Synchronizing an Application Root Replica with a Proxy PDB</p><img src="img/admin121.png" alt="Description of Figure 17-2 follows" title="Description of Figure 17-2 follows" longdesc="img_text/admin121.html"><br><a href="img_text/admin121.html">Description of "Figure 17-2 Synchronizing an Application Root Replica with a Proxy PDB"</a></div>
                        <!-- class="figure" -->
                        <p>In addition, when an application root replica is configured and has its own application PDBs, a query that includes the <code class="codeph">CONTAINERS</code> clause in the master application root can return data from the current application container and from the application container with the application root replica. The query can show results from the application root replica and from any open application PDBs plugged into the replica.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-84C7C5F4-C647-4DCB-9EF3-63B1129F5EE0__GUID-F2DBD164-01DE-43D9-9C6E-F7912DE089D0">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0" title="The CONTAINERS clause enables you to query application common objects across all PDBs in an application container. Queries from the application root display data in objects that exist in all open PDBs in the container.">Querying Application Common Objects Across Application PDBs</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8" title="When application containers in different CDBs have the same application, their application roots can be kept synchronized by creating a master application root, a replica application root, and a proxy PDB.">Synchronizing an Application Root Replica with a Proxy PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-B96087B5-678C-4781-9464-42FC468B1FCC" name="GUID-B96087B5-678C-4781-9464-42FC468B1FCC"></a><h5 id="MULTI-GUID-B96087B5-678C-4781-9464-42FC468B1FCC" class="sect5"><span class="enumeration_section">17.3.7.2 </span>Creating a Proxy PDB That References an Application Root Replica
                     </h5>
                     <div>
                        <p>When multiple application containers run the same application, the application in the application containers can be kept synchronized using proxy PDBs.</p>
                        <ol>
                           <li class="stepexpand"><span>Create the application container with the master application root by using a <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement.</span><div>Install the application in the application container now or later.</div>
                           </li>
                           <li class="stepexpand"><span>Create the application container with the application root replica in one of the following ways:</span><ul>
                                 <li>Create an empty application container using any supported method.</li>
                                 <li>Clone the master application root.</li>
                              </ul>
                              <div>If the port of the listener used by the application root replica is not 1521, then a <code class="codeph">PORT</code> clause is required during creation. If the host of the application root replica is different from the host of the master application root, then a <code class="codeph">HOST</code> clause is required during creation.
                              </div>
                              <div>This application root replica will be referenced by the proxy PDB.</div>
                           </li>
                           <li class="stepexpand"><span>In the master application root, create a proxy PDB that references the application root replica that you created in the previous step.</span></li>
                           <li class="stepexpand"><span>Open and synchronize the proxy PDB.</span><div>When the proxy PDB is synchronized, it propagates the changes in the master application root to the application root replica.</div>
                           </li>
                           <li class="stepexpand"><strong>Optional: </strong><span>In the master application root, modify the application by installing, upgrading, or patching it.</span></li>
                           <li class="stepexpand"><strong>Optional: </strong><span>Synchronize the proxy PDB with the application changes in the master application root by running the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.</span><div>When the proxy PDB is synchronized, it propagates the changes in the master application root to the application root replica.</div>
                           </li>
                        </ol>
                        <div class="example" id="GUID-B96087B5-678C-4781-9464-42FC468B1FCC__GUID-985C20F1-E43E-426E-B328-01A5883B15C0">
                           <p class="titleinexample">Example 17-5 Synchronizing an Application Root Replica with a Proxy PDB</p>
                           <p>This example assumes that two CDBs exist: <code class="codeph">hqdb</code> and <code class="codeph">depdb</code>. The goal is to keep the same application synchronized in an application container in each CDB. To accomplish this goal, this example configures the following application containers:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">hqdb</code> CDB contains the application container with the master application root called <code class="codeph">msappcon</code>.
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>An application called <code class="codeph">sampleapp</code> is installed in the <code class="codeph">msappcon</code> master application root.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">msappcon</code> application root contains two application PDBs named <code class="codeph">mspdb1</code> and <code class="codeph">mspdb2</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">msappcon</code> application root also contains a proxy PDB named <code class="codeph">prxypdb</code> that references the application root replica in the other CDB.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The <code class="codeph">depdb</code> CDB contains the application container with the application root replica called <code class="codeph">depappcon</code>.
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>An application called <code class="codeph">sampleapp</code> is propagated from the proxy PDB <code class="codeph">prxypdb</code> in the <code class="codeph">msappcon</code> master application root and installed in the <code class="codeph">depappcon</code> master application root.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">depappcon</code> application root contains two application PDBs named <code class="codeph">deppdb1</code> and <code class="codeph">deppdb2</code>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>This example shows how changes to the <code class="codeph">sampleapp</code> application in the <code class="codeph">msappcon</code> master application root are applied to the application PDBs in both CDBs when the application PDBs are synchronized.
                           </p>
                           <ol>
                              <li>
                                 <p>Create the application container with the master application root in the <code class="codeph">hqdb</code> CDB.
                                 </p>
                                 <ol type="a">
                                    <li>
                                       <p>In SQL*Plus, ensure that the current container is the <code class="codeph">hqdb</code> CDB root.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Create the application container from the PDB seed with the following statement:</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE msappcon 
  AS APPLICATION CONTAINER
  ADMIN USER msappconadm IDENTIFIED BY <span class="italic">password</span>  STORAGE (MAXSIZE 2G)
  DEFAULT TABLESPACE appcontbs 
    DATAFILE '/disk1/oracle/dbs/mssappcon/msappcon01.dbf' SIZE 250M AUTOEXTEND ON
  FILE_NAME_CONVERT = ('/disk1/oracle/dbs/pdbseed/', '/disk1/oracle/dbs/msappcon/');</code></pre></li>
                                    <li>
                                       <p>Open the new master application root in read/write mode:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE msappcon OPEN;</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Install an application in the master application root.</p>
                                 <ol type="a">
                                    <li>
                                       <p>Change container to the master application root:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=msappcon;</code></pre></li>
                                    <li>
                                       <p>Begin the application installation:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION sampleapp BEGIN INSTALL '1.0';</code></pre></li>
                                    <li>
                                       <p>Install the application.</p>
                                       <p>For example, you can create database objects:</p><pre class="pre codeblock"><code>CREATE TABLE apptb SHARING=METADATA
   (id            NUMBER(6), 
    widget_name   VARCHAR2(20));
</code></pre></li>
                                    <li>
                                       <p>End the application installation:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION sampleapp END INSTALL '1.0';</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Create and synchronize one or more application PDBs in the master application root.</p>
                                 <ol type="a">
                                    <li>
                                       <p>In SQL*Plus, ensure that the current container is the master application root.</p>
                                    </li>
                                    <li>
                                       <p>Create application PDBs in the master application root.</p>
                                       <p>For example, create two application PDBs from the PDB seed:</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE mspdb1 ADMIN USER mspdb1admin IDENTIFIED BY <span class="italic">password</span>
  STORAGE (MAXSIZE 2G)
  DEFAULT TABLESPACE mspdb1tbs 
    DATAFILE '/disk1/oracle/dbs/mspdb1/mspdb101.dbf' SIZE 250M AUTOEXTEND ON
  FILE_NAME_CONVERT = ('/disk1/oracle/dbs/pdbseed/', '/disk1/oracle/dbs/mspdb1/');

CREATE PLUGGABLE DATABASE mspdb2 ADMIN USER mspdb2admin IDENTIFIED BY <span class="italic">password</span>
  STORAGE (MAXSIZE 2G)
  DEFAULT TABLESPACE mspdb2tbs 
    DATAFILE '/disk1/oracle/dbs/mspdb2/mspdb201.dbf' SIZE 250M AUTOEXTEND ON
  FILE_NAME_CONVERT = ('/disk1/oracle/dbs/pdbseed/', '/disk1/oracle/dbs/mspdb2/');</code></pre></li>
                                    <li>
                                       <p>Open both application PDBs:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE mspdb1 OPEN;
ALTER PLUGGABLE DATABASE mspdb2 OPEN;</code></pre></li>
                                    <li>
                                       <p>Synchronize the application PDBs with the master application root:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=mspdb1;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;

ALTER SESSION SET CONTAINER=mspdb2;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Create the application container with the application root replica in the <code class="codeph">depdb</code> CDB.
                                 </p>
                                 <ol type="a">
                                    <li>
                                       <p>In SQL*Plus, ensure that the current container is the <code class="codeph">depdb</code> CDB root.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Create the application container from the PDB seed with the following statement:</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE depappcon 
  AS APPLICATION CONTAINER
  ADMIN USER depappconadm IDENTIFIED BY <span class="italic">password</span>
  STORAGE (MAXSIZE 2G)
  DEFAULT TABLESPACE appcontbs 
    DATAFILE '/disk2/oracle/dbs/depsappcon/depappcon01.dbf' SIZE 250M AUTOEXTEND ON
  FILE_NAME_CONVERT = ('/disk2/oracle/dbs/pdbseed/', '/disk2/oracle/dbs/depappcon/');</code></pre><div class="infoboxnote" id="GUID-B96087B5-678C-4781-9464-42FC468B1FCC__GUID-9E8B029A-E1AB-4CD4-8D89-D4E5AB47B757">
                                          <p class="notep1">Note:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>If the port of the listener used by the application root replica is not 1521, then a <code class="codeph">PORT</code> clause is required.
                                                </p>
                                             </li>
                                             <li>
                                                <p>If the host of the application root replica is different from the host of the master application root, then a <code class="codeph">HOST</code> clause is required.
                                                </p>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li>
                                       <p>Open the new application root replica in read/write mode:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE depappcon OPEN;</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Create and synchronize the proxy PDB in the master application root.</p>
                                 <ol type="a">
                                    <li>
                                       <p>In SQL*Plus, ensure that the current container is the master application root.</p>
                                    </li>
                                    <li>
                                       <p>Create a database link to the application root replica:</p><pre class="pre codeblock"><code>CREATE PUBLIC DATABASE LINK depappcon CONNECT TO depappconadm IDENTIFIED BY <span class="italic">password</span> USING 'depappcon';</code></pre></li>
                                    <li>
                                       <p>Create the proxy PDB:</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE prxypdb AS PROXY FROM depappcon@depappcon
   FILE_NAME_CONVERT = ('/disk2/oracle/dbs/depsappcon/', '/disk1/oracle/dbs/prxypdb/');</code></pre></li>
                                    <li>
                                       <p>Open the proxy PDB:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE prxypdb OPEN;</code></pre></li>
                                    <li>
                                       <p>Synchronize the proxy PDB with the master application root:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=prxypdb;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Create and synchronize one or more application PDBs in the application root replica.</p>
                                 <ol type="a">
                                    <li>
                                       <p>Change container to the application root replica:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=depappcon;</code></pre></li>
                                    <li>
                                       <p>Create application PDBs in the application root replica.</p>
                                       <p>For example, create two application PDBs from the PDB seed:</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE deppdb1 ADMIN USER deppdb1admin IDENTIFIED BY <span class="italic">password</span>
  STORAGE (MAXSIZE 2G)
  DEFAULT TABLESPACE deppdb1tbs 
    DATAFILE '/disk2/oracle/dbs/deppdb1/deppdb101.dbf' SIZE 250M AUTOEXTEND ON
  FILE_NAME_CONVERT = ('/disk2/oracle/dbs/pdbseed/', '/disk2/oracle/dbs/deppdb1/');

CREATE PLUGGABLE DATABASE deppdb2 ADMIN USER deppdb2admin IDENTIFIED BY <span class="italic">password</span>
  STORAGE (MAXSIZE 2G)
  DEFAULT TABLESPACE deppdb2tbs 
    DATAFILE '/disk2/oracle/dbs/deppdb2/deppdb201.dbf' SIZE 250M AUTOEXTEND ON
  FILE_NAME_CONVERT = ('/disk2/oracle/dbs/pdbseed/', '/disk2/oracle/dbs/deppdb2/');</code></pre></li>
                                    <li>
                                       <p>Open both application PDBs:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE deppdb1 OPEN;
ALTER PLUGGABLE DATABASE deppdb2 OPEN;</code></pre></li>
                                    <li>
                                       <p>Synchronize the application PDBs with the master application root:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=deppdb1;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;

ALTER SESSION SET CONTAINER=deppdb2;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Check the structure of the <code class="codeph">apptb</code> table in an application PDB in the application root replica.
                                 </p>
                                 <ol type="a">
                                    <li>
                                       <p>From the application root replica, switch containers to the <code class="codeph">deppdb1</code> application PDB:
                                       </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=deppdb1;</code></pre></li>
                                    <li>
                                       <p>Describe the <code class="codeph">apptb</code> table:
                                       </p><pre class="pre codeblock"><code>desc apptb</code></pre><p>Your output is similar to the following:</p><pre class="pre codeblock"><code> Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                                                 NUMBER(6)
 WIDGET_NAME                                        VARCHAR2(20)</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>In the master application root, upgrade the application.</p>
                                 <ol type="a">
                                    <li>
                                       <p>Change container to the master application root:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=msappcon;</code></pre></li>
                                    <li>
                                       <p>Begin the application upgrade.</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION sampleapp BEGIN UPGRADE '1.0' TO '1.1';</code></pre></li>
                                    <li>
                                       <p>Modify the application.</p>
                                       <p>For example, add a row to the <code class="codeph">apptb</code> table:
                                       </p><pre class="pre codeblock"><code>ALTER TABLE apptb ADD (widget_type VARCHAR2(30));</code></pre></li>
                                    <li>
                                       <p>End the application upgrade:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION sampleapp END UPGRADE TO '1.1';</code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Synchronize the proxy PDB with the master application root:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=prxypdb;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;</code></pre></li>
                              <li>
                                 <p>Synchronize the application PDBs in the application root replica and check for the application upgrade.</p>
                                 <ol type="a">
                                    <li>
                                       <p>Synchronize the application PDBs:</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=deppdb1;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;

ALTER SESSION SET CONTAINER=deppdb2;
ALTER PLUGGABLE DATABASE APPLICATION sampleapp SYNC;</code></pre></li>
                                    <li>
                                       <p>From the application root replica, switch containers to the <code class="codeph">deppdb1</code> application PDB:
                                       </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=deppdb1;</code></pre></li>
                                    <li>
                                       <p>Describe the <code class="codeph">apptb</code> table:
                                       </p><pre class="pre codeblock"><code>desc apptb</code></pre><p>Your output is similar to the following:</p><pre class="pre codeblock"><code> Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                                                 NUMBER(6)
 WIDGET_NAME                                        VARCHAR2(20)
 WIDGET_TYPE                                        VARCHAR2(30)</code></pre><p>Notice that the change in the application upgrade is reflected in the output because the <code class="codeph">widget_type</code> column has been added to the <code class="codeph">apptb</code> table.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-3C6D4200-1FEC-4C0F-B335-EFDC655ADABC" title="You can use the CREATE PLUGGABLE DATABASE statement to create an application container in a CDB.">Creating Application Containers</a></li>
                              <li><a href="creating-a-proxy-pdb.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="You can create a PDB as a proxy PDB by referencing it in a remote CDB.">Creating a PDB as a Proxy PDB</a></li>
                              <li><a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></li>
                              <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8" title="When application containers in different CDBs have the same application, their application roots can be kept synchronized by creating a master application root, a replica application root, and a proxy PDB.">Synchronizing an Application Root Replica with a Proxy PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C" name="GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C"></a><h4 id="MULTI-GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C" class="sect4"><span class="enumeration_section">17.3.8 </span>Setting the Compatibility Version of an Application
                  </h4>
                  <div>
                     <p>The compatibility version of an application is the earliest version of the application possible for the application PDBs that belong to the application container.</p>
                     <div class="section"> 
                        <p>The compatibility version is enforced when the compatibility version is set and when an application PDB is created. If there are application root clones that resulted from application upgrades, then all application root clones that correspond to versions earlier than the compatibility version are implicitly dropped.</p>
                        <p>You specify the compatibility version of an application by issuing one of the following SQL statements when the application root is the current container:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> SET COMPATIBILITY VERSION '<span class="codeinlineitalic">application_version_number</span>';</code></p>
                              <p><span class="italic">application_name</span> is the name of the application, and <span class="italic">application_version_number</span> is the earliest compatible version.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> SET COMPATIBILITY VERSION CURRENT;</code></p>
                              <p><span class="italic">application_name</span> is the name of the application. The current version is the version of the application in the application root.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C__GUID-E9EDD149-68DD-44E9-80B4-A9F36438CBC8">
                           <p class="notep1">Note:</p>
                           <p>You cannot plug in an application PDB that uses an application version earlier than the compatibility setting of the application container.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>In SQL*Plus, ensure that the current container is the application root.</span></li>
                        <li><span>Run an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION SET COMPATIBILITY VERSION</code> statement.</span></li>
                     </ol>
                     <div class="example" id="GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C__GUID-BE27EDD0-CC33-479F-9537-05CF1B9CB0FD">
                        <p class="titleinexample">Example 17-6 Setting the Compatibility Version to a Specific Version Number</p>
                        <p>This example sets the compatibility version for an application named <code class="codeph">salesapp</code> to version 4.2.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp SET COMPATIBILITY VERSION '4.2';</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C__GUID-9EC3E2BD-A241-484C-A9C9-4B2A61BF31B5">
                        <p class="titleinexample">Example 17-7 Setting the Compatibility Version to the Current Application Version</p>
                        <p>This example sets the compatibility version for an application named <code class="codeph">salesapp</code> to the current application version.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp SET COMPATIBILITY VERSION CURRENT;</code></pre></div>
                     <!-- class="example" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-00BF8D6A-5FBB-4798-98CE-0EB27FD8126C__GUID-266EA992-C38C-49D4-99F6-C792192E824C">
                        <p class="notep1">See Also:</p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3" title="You issue ALTER PLUGGABLE DATABASE APPLICATION statements to upgrade an application in the application root.">About Upgrading Applications in an Application Container</a>"</span> for information about application root clones
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-68C91677-24C7-4983-80F0-A94F0B6C2898" name="GUID-68C91677-24C7-4983-80F0-A94F0B6C2898"></a><h4 id="MULTI-GUID-68C91677-24C7-4983-80F0-A94F0B6C2898" class="sect4"><span class="enumeration_section">17.3.9 </span>Performing Bulk Inserts During Application Install, Upgrade, and Patch Operations
                  </h4>
                  <div>
                     <p>SQL*Loader is the only supported utility for bulk inserts into tables during application install, upgrade, and patch operations. Only conventional path loads are supported for bulk inserts during application install, upgrade, and patch operations.</p>
                     <div class="section">
                        <p>The correct SQL*Loader module name must be specified between the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END</code> statements. The module name is <code class="codeph">SQL Loader Conventional Path Load</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the application root.</span></li>
                        <li class="stepexpand"><span>Set the correct module by running the following procedure:</span><div><code class="codeph">exec DBMS_APPLICATION_INFO.SET_MODULE('SQL Loader Conventional Path Load', ''); </code></div>
                           <div>This module must remain set for the entire application install, upgrade, or patch operation.</div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> statement for beginning an application installation, upgrade, or patch.</span><div>For example, if you are performing the bulk insert as part of an application installation, then run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN INSTALL</code> statement in the following form:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> BEGIN INSTALL '<span class="codeinlineitalic">application_version_number</span>';</code></div>
                        </li>
                        <li class="stepexpand"><span>Perform the conventional path load with SQL*Loader.</span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END</code> statement for ending an application installation, upgrade, or patch.</span><div>For example, if you are performing the bulk insert as part of an application installation, then run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END INSTALL</code> statement in the following form:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> END INSTALL '<span class="codeinlineitalic">application_version_number</span>';</code></div>
                           <div>
                              <div class="infoboxnote" id="GUID-68C91677-24C7-4983-80F0-A94F0B6C2898__GUID-5A13D1D5-CD0B-4429-93DA-5FFB69A0F981">
                                 <p class="notep1">Note:</p>
                                 <p>Ensure that the <code class="codeph"><span class="codeinlineitalic">application_name</span></code> and <code class="codeph"><span class="codeinlineitalic">application_version_number</span></code> match in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN INSTALL</code> statement and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END INSTALL</code> statement.
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Synchronize all application PDBs that must include these application changes by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.</span></li>
                     </ol>
                     <div class="example" id="GUID-68C91677-24C7-4983-80F0-A94F0B6C2898__GUID-4B508C0F-1866-4C7D-B204-4D84964C3FB3">
                        <p class="titleinexample">Example 17-8 Performing a Conventional Path Load During an Application Installation</p>
                        <p>In this example, the conventional path load is performed in an application root.</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, switch to the application root.</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=cdb1_approot1;</code></pre></li>
                           <li>
                              <p>Set the correct module.</p><pre class="pre codeblock"><code>exec DBMS_APPLICATION_INFO.SET_MODULE('SQL Loader Conventional Path Load', '');</code></pre></li>
                           <li>
                              <p>Start the application installation.</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION APP1 BEGIN INSTALL '1';</code></pre></li>
                           <li>
                              <p>Use SQL*Loader to perform the conventional path load.</p><pre class="pre codeblock"><code>host sqlldr u1/u1@cdb1_approot1 control=my_bulk_load.ctl rows=3 log=my_bulk_load.log</code></pre></li>
                           <li>
                              <p>End the application installation.</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION APP1 END INSTALL '1';</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-68C91677-24C7-4983-80F0-A94F0B6C2898__GUID-266EA992-C38C-49D4-99F6-C792192E824C">
                        <p class="notep1">See Also:</p><a href="../sutil/oracle-sql-loader-concepts.html#SUTIL003" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for information about SQL*Loader
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-68C8CA30-B1F7-4DB1-BC1C-0F60A521D887" name="GUID-68C8CA30-B1F7-4DB1-BC1C-0F60A521D887"></a><h4 id="MULTI-GUID-68C8CA30-B1F7-4DB1-BC1C-0F60A521D887" class="sect4"><span class="enumeration_section">17.3.10 </span>Uninstalling Applications from an Application Container
                  </h4>
                  <div>
                     <p>You can uninstall an application in an application container.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-B96BD4C3-992A-497D-8654-627D620CB76A">About Uninstalling Applications from an Application Container</a><br>You issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements to uninstall an application from the application root.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-4BD2EA09-F73D-497A-A752-4C5DB56884FE">Uninstalling an Application from an Application Container</a><br>To uninstall an application in from application container, run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UNINSTALL</code> statement to begin the uninstallation and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UNINSTALL</code> statement to end it. The application uninstalled from the application PDBs that synchronize with the application in the application root.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-B96BD4C3-992A-497D-8654-627D620CB76A" name="GUID-B96BD4C3-992A-497D-8654-627D620CB76A"></a><h5 id="MULTI-GUID-B96BD4C3-992A-497D-8654-627D620CB76A" class="sect5"><span class="enumeration_section">17.3.10.1 </span>About Uninstalling Applications from an Application Container
                     </h5>
                     <div>
                        <p>You issue <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements to uninstall an application from the application root.
                        </p>
                        <p>You uninstall the application from the application root only, and application PDBs that synchronize with the application uninstall the application automatically. The uninstall operation can be done with one or more of the following: scripts, SQL statements, and graphical user interface tools.</p>
                        <p>You must indicate the start of the uninstallation with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UNINSTALL</code> statement and the end of the uninstallation with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UNINSTALL</code> statement. Each uninstallation must be associated with an application name and version number, which are specified in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statements.
                        </p>
                        <p>Uninstalling an application does not remove the application from the data dictionary. It marks the application as <code class="codeph">UNINSTALLED</code> so that upgrade, patch, and uninstall of the application is disallowed.
                        </p>
                        <p>Destructive changes to application objects are allowed during application uninstallation. Applications running in an application PDB continue to function during uninstallation and after the application is uninstalled from the application root. The application can continue to function in the application PDB because the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UNINSTALL</code> statement creates a clone of the application root called an application root clone. An application root clone serves as a metadata repository for old versions of application objects, so that application PDBs that have not been synchronized with latest version of the application can continue to function. Because the clone is created while the application PDB is open, local undo must be configured at the CDB level before an application can be uninstalled.
                        </p>
                        <div class="infoboxnote" id="GUID-B96BD4C3-992A-497D-8654-627D620CB76A__GUID-7C3EF7BD-0A06-4772-8032-D859EE849743">
                           <p class="notep1">Note:</p>
                           <p>An application upgrade also creates an application root clone.</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B96BD4C3-992A-497D-8654-627D620CB76A__GUID-6A3DC810-D9F1-4D96-AF66-0856C2B2E913">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-46D899D7-C52C-4C50-B1B9-BF851D907DE3" title="You issue ALTER PLUGGABLE DATABASE APPLICATION statements to upgrade an application in the application root.">About Upgrading Applications in an Application Container</a>"</span> for information about application root clones
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" title="You can use the catcon.pl script to run Oracle-supplied SQL or SQL scripts within a CDB.&nbsp;You can run the script against any specified containers.">Running Oracle-Supplied SQL Scripts in a CDB</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-68C8CA30-B1F7-4DB1-BC1C-0F60A521D887" title="You can uninstall an application in an application container.">Uninstalling Applications from an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4BD2EA09-F73D-497A-A752-4C5DB56884FE" name="GUID-4BD2EA09-F73D-497A-A752-4C5DB56884FE"></a><h5 id="MULTI-GUID-4BD2EA09-F73D-497A-A752-4C5DB56884FE" class="sect5"><span class="enumeration_section">17.3.10.2 </span>Uninstalling an Application from an Application Container
                     </h5>
                     <div>
                        <p>To uninstall an application in from application container, run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UNINSTALL</code> statement to begin the uninstallation and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UNINSTALL</code> statement to end it. The application uninstalled from the application PDBs that synchronize with the application in the application root.
                        </p>
                        <div class="p">The following prerequisites must be met:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The CDB must be in local undo mode.</p>
                              </li>
                              <li>
                                 <p>The current user must have the&nbsp;<code class="codeph">ALTER&nbsp;PLUGGABLE DATABASE</code>&nbsp;system privilege, and the privilege must be commonly granted in the application root.
                                 </p>
                              </li>
                              <li>
                                 <p>The application root must be in open read/write mode.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the application root.</span></li>
                           <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UNINSTALL</code> statement in the following form:</span><div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> BEGIN UNINSTALL;</code></div>
                              <div>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code>:
                              </div>
                              <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN UNINSTALL;</code></div>
                           </li>
                           <li class="stepexpand"><span>Uninstall the application using scripts, SQL statements, or graphical user interface tools.</span></li>
                           <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UNINSTALL</code> statement in the following form:</span><div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> END UNINSTALL;</code></div>
                              <div>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code>:
                              </div>
                              <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION salesapp END UNINSTALL;</code><div class="infoboxnote" id="GUID-4BD2EA09-F73D-497A-A752-4C5DB56884FE__GUID-FEEBF228-23E5-4E2A-B7CC-F7196F981B4F">
                                    <p class="notep1">Note:</p>Ensure that the <span class="italic">application_name</span> matches in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UNINSTALL</code> statement and the<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UNINSTALL</code> statement.
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Synchronize all of the application PDBs that must uninstall the application by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.</span></li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-4BD2EA09-F73D-497A-A752-4C5DB56884FE__GUID-6F013176-6D64-4C88-9A63-CC267A371288">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" title="Access a container in a CDB with SQL*Plus by issuing a CONNECT or ALTER SESSION command.">Accessing a Container in a CDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="When local undo is enabled, each container has its own undo tablespace for every instance in which it is open. When local undo is disabled, there is one undo tablespace for the entire CDB.">Setting the Undo Mode in a CDB Using ALTER DATABASE</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-68C8CA30-B1F7-4DB1-BC1C-0F60A521D887" title="You can uninstall an application in an application container.">Uninstalling Applications from an Application Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" name="GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801"></a><h3 id="MULTI-GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" class="sect3"><span class="enumeration_section">17.4 </span>Managing Application Common Objects
               </h3>
               <div>
                  <p>Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192">About Application Common Objects</a><br>Application common objects are created in an application root and are shared with the application PDBs that belong to the application root. 
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-E2EC4CD0-1C25-4E24-ABB5-663C8ADC7887">Restrictions for Application Common Objects</a><br>Some restrictions apply to application common objects.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-388FB5AD-A2DE-4951-833B-A98239F99F50">Creating Application Common Objects</a><br>You create an application common object in an application root either by ensuring that the <code class="codeph">DEFAULT_SHARING</code> initialization parameter is set to the correct value or by including the <code class="codeph">SHARING</code> clause in the <code class="codeph">CREATE</code> SQL statement.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-25CDD5E1-2C31-45FE-B618-A51B57B1ED5E">Issuing DML Statements on Application Common Objects</a><br>The rules are different for issuing DML statements on metadata-linked, data-linked, and extended data-linked application common objects.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-B855567C-DE8D-4015-B3E1-86906EE1D119">Modifying Application Common Objects with DDL Statements</a><br>When you modify an application common object in an application root with certain DDL statements, you must modify the object between <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> and <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END</code> statements, and application PDBs must synchronize with the application to apply the changes.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" name="GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192"></a><h4 id="MULTI-GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" class="sect4"><span class="enumeration_section">17.4.1 </span>About Application Common Objects
                  </h4>
                  <div>
                     <p>Application common objects are created in an application root and are shared with the application PDBs that belong to the application root. </p>
                     <p>There are three types of application common object: metadata-linked, data-linked, and extended data-linked. The following types of database objects can be application common objects:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Analytic views</p>
                        </li>
                        <li>
                           <p>Attribute dimensions</p>
                        </li>
                        <li>
                           <p>Directories</p>
                        </li>
                        <li>
                           <p>External procedure libraries</p>
                        </li>
                        <li>
                           <p>Hierarchies</p>
                        </li>
                        <li>
                           <p>Java classes, resources, and sources</p>
                        </li>
                        <li>
                           <p>Object tables, types, and views</p>
                        </li>
                        <li>
                           <p>Sequences</p>
                        </li>
                        <li>
                           <p>Packages, stored functions, and stored procedures</p>
                        </li>
                        <li>
                           <p>Synonyms</p>
                        </li>
                        <li>
                           <p>Tables (including global temporary tables)</p>
                        </li>
                        <li>
                           <p>Triggers</p>
                        </li>
                        <li>
                           <p>Views</p>
                        </li>
                     </ul>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-79FA6940-4AEC-4BFC-8A92-64F52A8B01B0">Creation of Application Common Objects</a><br>Create application common objects by issuing a <code class="codeph">CREATE</code> statement when the current container is the application root and specifying the <code class="codeph">SHARING</code> clause.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-09CA0C57-08FA-40DF-8598-5F2CC8C583B4">About Metadata-Linked Application Common Objects</a><br>For metadata-linked application common objects, the metadata for the object is stored once in the application root.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-4D88D3B1-9C42-4862-80B3-3FF6733E36D7">About Extended Data-Linked Application Common Objects</a><br>For data-linked application common objects, both the metadata and the data for the object is stored once in the application root. A data link in each application PDB that belongs to the application root enables the application PDBs to share the metadata and data of the object.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-07E47E6E-3AC9-44B2-AF62-409D37CC8145">About Extended Data-Linked Application Common Objects</a><br>For an extended data-linked object, each application PDB can create its own data while sharing the common data in the application root. Only data stored in the application root is common for all application PDBs.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192__GUID-A73BB5F7-72DE-43F8-845F-D61A2F99A124">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.">Managing Application Common Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-79FA6940-4AEC-4BFC-8A92-64F52A8B01B0" name="GUID-79FA6940-4AEC-4BFC-8A92-64F52A8B01B0"></a><h5 id="MULTI-GUID-79FA6940-4AEC-4BFC-8A92-64F52A8B01B0" class="sect5"><span class="enumeration_section">17.4.1.1 </span>Creation of Application Common Objects
                     </h5>
                     <div>
                        <p>Create application common objects by issuing a <code class="codeph">CREATE</code> statement when the current container is the application root and specifying the <code class="codeph">SHARING</code> clause.
                        </p>
                        <p>You can specify the sharing attribute by including the <code class="codeph">SHARING</code> clause in the <code class="codeph">CREATE</code> statement or by setting the <code class="codeph">DEFAULT_SHARING</code> initialization parameter in the application root. When you set the <code class="codeph">DEFAULT_SHARING</code> initialization parameter, the setting is the default sharing attribute for all database objects of a supported type created in the application root. However, when a <code class="codeph">SHARING</code> clause is included in a <code class="codeph">CREATE</code> statement, its setting overrides the setting for the <code class="codeph">DEFAULT_SHARING</code> initialization parameter.
                        </p>
                        <p>You can specify one of the following for the sharing attribute:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">METADATA</code>: A metadata link shares the database object’s metadata, but its data is unique to each container. These database objects are referred to as metadata-linked application common objects. This setting is the default.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DATA</code>: A data link shares the database object, and its data is the same for all containers in the application container. Its data is stored only in the application root. These database objects are referred to as data-linked application common objects. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EXTENDED DATA</code>: An extended data link shares the database object, and its data in the application root is the same for all containers in the application container. However, each application PDB in the application container can store data that is unique to the application PDB. For this type of database object, data is stored in the application root and, optionally, in each application PDB. These database objects are referred to as extended data-linked application common objects.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NONE</code>: The database object is not shared.
                              </p>
                           </li>
                        </ul>
                        <p>For most types of application common objects, the only valid settings for the <code class="codeph">SHARING</code> clause are <code class="codeph">METADATA</code> and <code class="codeph">NONE</code>. The following types of application common objects allow additional settings for the <code class="codeph">SHARING</code> clause:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For tables (excluding object tables), the <code class="codeph">SHARING</code> clause can be set to <code class="codeph">METADATA</code>, <code class="codeph">DATA</code>, <code class="codeph">EXTENDED DATA</code>, or <code class="codeph">NONE</code>. For object tables, only <code class="codeph">METADATA</code> or <code class="codeph">NONE</code> is valid.
                              </p>
                           </li>
                           <li>
                              <p>For views (excluding object views), the <code class="codeph">SHARING</code> clause can be set to <code class="codeph">METADATA</code>, <code class="codeph">DATA</code>, <code class="codeph">EXTENDED DATA</code>, or <code class="codeph">NONE</code>. For object views, only <code class="codeph">METADATA</code> or <code class="codeph">NONE</code> is valid.
                              </p>
                           </li>
                           <li>
                              <p>For sequences, the <code class="codeph">SHARING</code> clause can be set to <code class="codeph">METADATA</code>, <code class="codeph">DATA</code>, or <code class="codeph">NONE</code>. 
                              </p>
                              <p>With a metadata-linked sequence, each application PDB has its own sequence. When the metadata-linked sequence is incremented using the <code class="codeph">NEXTVAL</code> pseudocolumn in one application PDB, it does not affect the value of the sequence in the other application PDBs in the application container.
                              </p>
                              <p>With a data-linked sequence, each application PDB shares the same sequence in the application root.  When the metadata-linked sequence is incremented using the <code class="codeph">NEXTVAL</code> pseudocolumn in one application PDB, all other application PDBs in the same application container also see the change.
                              </p>
                           </li>
                        </ul>
                        <p>Application common objects can be created or changed only as part of an application installation, upgrade, or patch. An application PDB applies changes to application common objects when it synchronizes with the application that made the changes. If an application PDB is closed when an application common object is created, dropped, or modified, then the appropriate changes are applied in the application PDB when it is opened and synchronized with the application.</p>
                        <p>The names of application common objects must not conflict with those of local database objects in any of the application PDBs that belong to the application root or Oracle-supplied common objects in the CDB root. If a newly opened application PDB contains a local database object whose name conflicts with that of an application common object, then the application PDB is opened in <code class="codeph">RESTRICTED</code> mode. In this case, you must resolve the naming conflict before the application PDB can be opened in normal mode.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-09CA0C57-08FA-40DF-8598-5F2CC8C583B4" name="GUID-09CA0C57-08FA-40DF-8598-5F2CC8C583B4"></a><h5 id="MULTI-GUID-09CA0C57-08FA-40DF-8598-5F2CC8C583B4" class="sect5"><span class="enumeration_section">17.4.1.2 </span>About Metadata-Linked Application Common Objects
                     </h5>
                     <div>
                        <p>For metadata-linked application common objects, the metadata for the object is stored once in the application root.</p>
                        <p>A metadata link in each application PDB that belongs to the application root enables the application PDBs to share the metadata for the object, including the object name and structure. The data for the object is unique to each container, including the application root and each application PDB that belongs to the application root.</p>
                        <p>Data definition language (DDL) operations on a metadata-linked application common object can be run in the application root only as part of an application installation, upgrade, or patch. However, the data can be modified in an application PDB using normal  data manipulation language (DML) operations.</p>
                        <p> For example, consider a company with several regional offices. The company wants the structure of the information about employees to be consistent, but each office has different employees. If this company has a human resources application in an application container, it can create a separate application PDB for each regional office and use a metadata-linked table to store employee information. The data structure of the table, such as the columns, is the same in the application PDB for each regional office, but the employee data is different.</p>
                        <p>Another example might involve a company that builds and maintains a sales application that is used by several different businesses. Each business uses the same sales application, but the data for each business is different. For example, each business has different customers and therefore different customer data. To ensure that each client uses the same data structure for its application, the company might create an application container with metadata-linked application common objects. Each business that uses the sales application has its own application PDB, and the data structure is the same in each application PDB, but the data is different.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4D88D3B1-9C42-4862-80B3-3FF6733E36D7" name="GUID-4D88D3B1-9C42-4862-80B3-3FF6733E36D7"></a><h5 id="MULTI-GUID-4D88D3B1-9C42-4862-80B3-3FF6733E36D7" class="sect5"><span class="enumeration_section">17.4.1.3 </span>About Extended Data-Linked Application Common Objects
                     </h5>
                     <div>
                        <p>For data-linked application common objects, both the metadata and the data for the object is stored once in the application root. A data link in each application PDB that belongs to the application root enables the application PDBs to share the metadata and data of the object.</p>
                        <p>DDL operations on a data-linked application common object can be run in the application root only as part of an application installation, upgrade, or patch. In addition, the data can be modified using normal DML operations only in the application root. The data cannot be modified in application PDBs.</p>
                        <p> For example, consider a company with several regional offices. The company wants the information about the products they sell, such as the product names and descriptions, to be consistent at all of the regional offices. If this company has a sales application in an application container, then it can create a separate application PDB for each regional office and use a data-linked table to store product information. Each application PDB can query the product information, and the product information is consistent at each regional office.</p>
                        <p>Data-linked application common objects are also useful for data that is standard and does not change. For example, a table that stores the postal codes for a country might be a data-linked application common object in an application container. All of the application PDBs access the same postal code data in the application root.</p>
                        <div class="infoboxnote" id="GUID-4D88D3B1-9C42-4862-80B3-3FF6733E36D7__GUID-D3311D1D-99CE-4290-A5A1-89489C7569BD">
                           <p class="notep1">Note:</p>
                           <p>If the data-linked application common object is part of a configuration that synchronizes an application root replica with a proxy PDB, then DML operations on a data-linked object in the application root can be done outside of an application action, but the DML operation is not automatically propagated to the application root replication through the proxy PDB. If you want the DML operation to be propagated to the application root replica, then the DML operation on a data-linked object in the application root must be done within an application installation, upgrade, or patch.</p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-07E47E6E-3AC9-44B2-AF62-409D37CC8145" name="GUID-07E47E6E-3AC9-44B2-AF62-409D37CC8145"></a><h5 id="MULTI-GUID-07E47E6E-3AC9-44B2-AF62-409D37CC8145" class="sect5"><span class="enumeration_section">17.4.1.4 </span>About Extended Data-Linked Application Common Objects
                     </h5>
                     <div>
                        <p>For an extended data-linked object, each application PDB can create its own data while sharing the common data in the application root. Only data stored in the application root is common for all application PDBs.</p>
                        <p>DDL operations on an extended data-linked application common object can be run in the application root only as part of an application installation, upgrade, or patch. However, the data can be modified in the application root or in an application PDB using normal DML operations.</p>
                        <p>For example, a sales application in an application container might support several application PDBs, and all of the application PDBs need the postal codes in the United States for shipping purposes. In this case the postal codes can be stored in the application root so that all of the application PDBs can access it. However, one application PDB also makes sales in Canada, and this application PDB requires the postal codes for the United States and Canada. This one application PDB can store the postal codes for Canada in an extended data-linked object in the application PDB instead of in the application root.</p>
                        <div class="infoboxnote" id="GUID-07E47E6E-3AC9-44B2-AF62-409D37CC8145__GUID-91E47381-8FCC-4F34-85AC-315487078BC2">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Tables and views are the only types of database objects that can be extended data-linked objects.</p>
                              </li>
                              <li>
                                 <p>If the extended data-linked application common object is part of a configuration that synchronizes an application root replica with a proxy PDB, then DML operations on an extended data-linked object in the application root can be done outside of an application action, but the DML operation is not automatically propagated to the application root replication through the proxy PDB. If you want the DML operation to be propagated to the application root replica, then the DML operation on an extended data-linked object in the application root must be done within an application installation, upgrade, or patch.</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E2EC4CD0-1C25-4E24-ABB5-663C8ADC7887" name="GUID-E2EC4CD0-1C25-4E24-ABB5-663C8ADC7887"></a><h4 id="MULTI-GUID-E2EC4CD0-1C25-4E24-ABB5-663C8ADC7887" class="sect4"><span class="enumeration_section">17.4.2 </span>Restrictions for Application Common Objects
                  </h4>
                  <div>
                     <p>Some restrictions apply to application common objects.</p>
                     <p>Queries on application common objects can return data from a container that is not the current container. For example, when the current container is an application root, queries that include the <code class="codeph">CONTAINERS</code> clause can return data from application PDBs for metadata-linked application common objects. Also, when the current container is an application PDB, queries on data-linked and extended data-linked application common objects return data that resides in the application root.
                     </p>
                     <p>Columns of the following types return no data in queries that return data from a container other than the current container:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The following user-defined types: object types, varrays, REFs, and nested tables</p>
                        </li>
                        <li>
                           <p>The following Oracle-supplied types: <code class="codeph">ANYTYPE</code>, <code class="codeph">ANYDATASET</code>, URI types, <code class="codeph">SDO_TOPO_GEOMETRY</code>, <code class="codeph">SDO_GEORASTER</code>, and <code class="codeph">Expression</code></p>
                        </li>
                     </ul>
                     <p>In addition, queries on object tables and object views return no data from containers other than the current container.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0" title="The CONTAINERS clause enables you to query application common objects across all PDBs in an application container. Queries from the application root display data in objects that exist in all open PDBs in the container.">Querying Application Common Objects Across Application PDBs</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.">Managing Application Common Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50" name="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50"></a><h4 id="MULTI-GUID-388FB5AD-A2DE-4951-833B-A98239F99F50" class="sect4"><span class="enumeration_section">17.4.3 </span>Creating Application Common Objects
                  </h4>
                  <div>
                     <p>You create an application common object in an application root either by ensuring that the <code class="codeph">DEFAULT_SHARING</code> initialization parameter is set to the correct value or by including the <code class="codeph">SHARING</code> clause in the <code class="codeph">CREATE</code> SQL statement.
                     </p>
                     <div class="section">You can create a metadata-linked object, an extended data-linked, or a data-linked object in an application root as part of an application installation, upgrade, or patch. An application PDB applies changes to application common objects when it synchronizes with the application in the application root.</div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the application root.</span><div>The current user must have the privileges required to create the database object.</div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> statement for beginning an application installation, upgrade, or patch.</span><div>For example, if you are creating the application common object as part of an application installation, then run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN INSTALL</code> statement in the following form:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> BEGIN INSTALL '<span class="codeinlineitalic">application_version_number</span>';</code></div>
                        </li>
                        <li class="stepexpand"><span>Create the application common object and specify its sharing attribute in one of the following ways:</span><ul>
                              <li>Ensure that the <code class="codeph">DEFAULT_SHARING</code> initialization parameter is set to the desired sharing attribute in the application root, and issue the <code class="codeph">CREATE</code> SQL statement to create the database object.
                              </li>
                              <li>Issue the <code class="codeph">CREATE</code> SQL statement, and include the <code class="codeph">SHARING</code> clause set to <code class="codeph">METADATA</code>, <code class="codeph">DATA</code>, or <code class="codeph">EXTENDED DATA</code>.
                              </li>
                           </ul>
                           <div>When a <code class="codeph">SHARING</code> clause is included in a SQL statement, it takes precedence over the value specified in the <code class="codeph">DEFAULT_SHARING</code> initialization parameter. For example, if the <code class="codeph">DEFAULT_SHARING</code> initialization parameter is set to <code class="codeph">METADATA</code> in the application root, and a database object is created with <code class="codeph">SHARING</code> set to <code class="codeph">DATA</code>, then the database object is created as a data-linked database object.
                              <div class="infoboxnote" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-890629AF-EC1A-4DA5-A2C2-B2ECF8776716">
                                 <p class="notep1">Note:</p>Once a database object is created, its sharing attribute cannot be changed.
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END</code> statement for ending an application installation, upgrade, or patch.</span><div> For example, if you are creating the application common object as part of an application installation, then run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END INSTALL</code> statement in the following form:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> END INSTALL '<span class="codeinlineitalic">application_version_number</span>';</code><div class="infoboxnote" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-FEEBF228-23E5-4E2A-B7CC-F7196F981B4F">
                                 <p class="notep1">Note:</p>Ensure that the <span class="italic">application_name</span> and <span class="italic">application_version_number</span> match in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN INSTALL</code> statement and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END INSTALL</code> statement.
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Synchronize all of the application PDBs that must apply these changes by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause with the application PDB as the current container.</span></li>
                     </ol>
                     <div class="example" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-E008F122-E344-4A3B-9D12-D3DDD24E31FF">
                        <p class="titleinexample">Example 17-9 Setting the <code class="codeph">DEFAULT_SHARING</code> Initialization Parameter
                        </p>
                        <p>This example sets the <code class="codeph">DEFAULT_SHARING</code> initialization parameter to <code class="codeph">DATA</code> both in memory and in the SPFILE. When a database object that supports sharing is created in the application root, and no <code class="codeph">SHARING</code> clause is included in the <code class="codeph">CREATE</code> SQL statement, the database object uses the sharing attribute specified in the <code class="codeph">DEFAULT_SHARING</code> initialization parameter.
                        </p><pre class="pre codeblock"><code>ALTER SYSTEM SET DEFAULT_SHARING=DATA SCOPE=BOTH;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-21BB7989-8C9D-434E-8725-C41C6E4BD9DD">
                        <p class="titleinexample">Example 17-10 Creating a Metadata-Linked Object</p>
                        <p>This example creates the <code class="codeph">employees_md</code> metadata-linked table by including the <code class="codeph">SHARING=METADATA</code> clause. The <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">application_version_number</span> is 4.2, and the object is created during application installation.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN INSTALL '4.2';
CREATE TABLE employees_md SHARING=METADATA
    (employee_id    NUMBER(6), 
     first_name     VARCHAR2(20),
     last_name      VARCHAR2(25) CONSTRAINT emp_last_name_nn_demo NOT NULL, 
     email          VARCHAR2(25) CONSTRAINT emp_email_nn_demo     NOT NULL, 
     phone_number   VARCHAR2(20), 
     hire_date      DATE  DEFAULT SYSDATE CONSTRAINT emp_hire_date_nn_demo  NOT NULL, 
     job_id         VARCHAR2(10) CONSTRAINT     emp_job_nn_demo  NOT NULL, 
     salary         NUMBER(8,2)  CONSTRAINT     emp_salary_nn_demo  NOT NULL, 
     commission_pct NUMBER(2,2), 
     manager_id     NUMBER(6), 
     department_id  NUMBER(4), 
     dn             VARCHAR2(300), 
          CONSTRAINT emp_salary_min_demo CHECK (salary &gt; 0), 
          CONSTRAINT emp_email_uk_demo UNIQUE (email));
ALTER PLUGGABLE DATABASE APPLICATION salesapp END INSTALL '4.2';</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-CF868C3D-5CF5-4AC9-9880-BCBB1AD3F856">
                        <p class="titleinexample">Example 17-11 Creating a Data-Linked Object</p>
                        <p>This example creates the <code class="codeph">product_descriptions_ob</code> data-linked table by including the <code class="codeph">SHARING=DATA</code> clause. The <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">application_version_number</span> is 4.2, and the object is created during application installation.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN INSTALL '4.2';
CREATE TABLE product_descriptions_ob SHARING=DATA     
    (product_id             NUMBER(6), 
     language_id            VARCHAR2(3), 
     translated_name        NVARCHAR2(50)   CONSTRAINT translated_name_nn NOT NULL, 
     translated_description NVARCHAR2(2000) CONSTRAINT translated_desc_nn NOT NULL);
ALTER PLUGGABLE DATABASE APPLICATION salesapp END INSTALL '4.2';</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-530917D1-6543-4023-88C9-FB0A35BABB08">
                        <p class="titleinexample">Example 17-12 Creating an Extended Data-Linked Object</p>
                        <p>This example creates the <code class="codeph">postalcodes</code> extended data-linked table by including the <code class="codeph">EXTENDED</code> keyword and the <code class="codeph">SHARING</code> clause. The <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">application_version_number</span> is 4.2, and the object is created during application installation.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN INSTALL '4.2';
CREATE TABLE postalcodes SHARING=EXTENDED DATA
    (code        VARCHAR2(7),
     country_id  NUMBER,
     place_name  VARCHAR2(20));
ALTER PLUGGABLE DATABASE APPLICATION salesapp END INSTALL '4.2';</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-F9B7B8AF-DCDC-49A8-8163-39D6E1415808">
                        <p class="titleinexample">Example 17-13 Creating an Object That Is Not Shared in an Application Root</p>
                        <p>This example creates the <code class="codeph">departments_ns</code> table and specifies that it is not a shared common application object by including the <code class="codeph">SHARING=NONE</code> clause. After creation, this database object can be accessed only in the application root.
                        </p><pre class="pre codeblock"><code>CREATE TABLE departments_ns SHARING=NONE
    (department_id    NUMBER(4), 
     department_name  VARCHAR2(30) CONSTRAINT  dept_name_nn  NOT NULL, 
     manager_id       NUMBER(6), 
     location_id      NUMBER(4), 
     dn               VARCHAR2(300));</code></pre><div class="infoboxnote" id="GUID-388FB5AD-A2DE-4951-833B-A98239F99F50__GUID-E48B3955-D456-4090-8376-618C8BF60ED6">
                           <p class="notep1">Note:</p>The <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> and <code class="codeph">END</code> statements are not required when you create an object that is not a shared common object. However, if you create an object that is not shared in between <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> and <code class="codeph">END</code> statements, then the object is created in application PDBs that synchronize with the application.
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></li>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.">Managing Application Common Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-25CDD5E1-2C31-45FE-B618-A51B57B1ED5E" name="GUID-25CDD5E1-2C31-45FE-B618-A51B57B1ED5E"></a><h4 id="MULTI-GUID-25CDD5E1-2C31-45FE-B618-A51B57B1ED5E" class="sect4"><span class="enumeration_section">17.4.4 </span>Issuing DML Statements on Application Common Objects
                  </h4>
                  <div>
                     <p>The rules are different for issuing DML statements on metadata-linked, data-linked, and extended data-linked application common objects.</p>
                     <div class="section">
                        <p>This section contains the following topics:</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-5D45EBCB-F8A9-4D2A-8F39-DE3CF431DCC4">Issuing DML on Metadata-Linked Common Objects</a><br>You can issue DML on metadata-linked application objects as normal.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE">Issuing DML on Data-Linked Common Objects</a><br>For data-linked application objects, issue DML as normal in the application root. For extended data-linked application objects, issue DML as normal in the application root and in application PDBs.
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></li>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a></li>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8" title="When application containers in different CDBs have the same application, their application roots can be kept synchronized by creating a master application root, a replica application root, and a proxy PDB.">Synchronizing an Application Root Replica with a Proxy PDB</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.">Managing Application Common Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-5D45EBCB-F8A9-4D2A-8F39-DE3CF431DCC4" name="GUID-5D45EBCB-F8A9-4D2A-8F39-DE3CF431DCC4"></a><h5 id="MULTI-GUID-5D45EBCB-F8A9-4D2A-8F39-DE3CF431DCC4" class="sect5"><span class="enumeration_section">17.4.4.1 </span>Issuing DML on Metadata-Linked Common Objects
                     </h5>
                     <div>
                        <p>You can issue DML on metadata-linked application objects as normal.</p>
                        <div class="section">
                           <p>For metadata-linked application common objects, the object definitions are the same in all application PDBs, but the data is different. Users and applications can issue DML statements on these objects in the same way as for ordinary database objects. The DML only affects the current container.</p>
                           <p>This section contains the following topics:</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75">Querying Using the CONTAINERS Clause</a><br>For metadata-linked objects, the <code class="codeph">CONTAINERS</code> clause enables you to query a table or view across all PDBs in an application container.
                           </li>
                           <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-49887469-07B0-4807-ACF3-F09657A4D1F5">Setting the Default Container or DML</a><br>You can set the <code class="codeph">CONTAINERS_DEFAULT</code> attribute on any metadata-linked object so that DML issued in the application root is wrapped in the <code class="codeph">CONTAINERS</code> clause by default.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-25CDD5E1-2C31-45FE-B618-A51B57B1ED5E" title="The rules are different for issuing DML statements on metadata-linked, data-linked, and extended data-linked application common objects.">Issuing DML Statements on Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75" name="GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75"></a><h6 id="MULTI-GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75" class="sect6"><span class="enumeration_section">17.4.4.1.1 </span>Querying Using the CONTAINERS Clause
                        </h6>
                        <div>
                           <p>For metadata-linked objects, the <code class="codeph">CONTAINERS</code> clause enables you to query a table or view across all PDBs in an application container.
                           </p>
                           <div class="section">
                              <p>For metadata-linked objects, the <code class="codeph">CONTAINERS</code> clause is useful when DML is run in the application root. The query performs a <code class="codeph">UNION ALL</code>, returning all rows from the object in the root and all open application PDBs (except those in <code class="codeph">RESTRICTED</code> mode). 
                              </p>
                              <p>To query a subset of the PDBs, specify the <code class="codeph">CON_ID</code> or <code class="codeph">CON$NAME</code> in predicate. If the queried table or view does not already contain a <code class="codeph">CON_ID</code> column, then the query adds a <code class="codeph">CON_ID</code> column to the query result, which identifies the container whose data a given row represents.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75__GUID-7051FC7C-5A4E-4347-B565-071162897BFA">Prerequisites</p>
                              <p>Note the following prerequisites:</p>
                              <ul style="list-style-type: disc;" id="GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75__UL_QP3_1ML_DHB">
                                 <li>
                                    <p>To query data in an application container, you must be a common user connected to the application root.</p>
                                 </li>
                                 <li>
                                    <p>The table or view must exist in the application root and all PDBs in the application container.</p>
                                 </li>
                                 <li>
                                    <p>The table or view must be in your own schema. It is not necessary to specify <code class="codeph">schema</code>, but if you do, then you must specify your own schema.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75__GUID-763FAEEC-1301-489C-8F47-9E9523E66F6B">To query a metadata-linked object in an application container:</p>
                              <ol id="GUID-20DCAFB9-0075-4668-854E-C6A7D081DF75__OL_YTP_JML_DHB">
                                 <li>
                                    <p>Log in to the application root as an application common user.</p>
                                 </li>
                                 <li>
                                    <p>Specify the <code class="codeph">CONTAINERS</code> clause in a <code class="codeph">SELECT</code> statement.
                                    </p>
                                    <p>For example, the following statement counts the number of rows in the <code class="codeph">sh.customers</code> table in the root and every application PDB (sample output included):
                                    </p><pre class="pre codeblock"><code>
SELECT c.CON_ID, COUNT(*) 
FROM   CONTAINERS(sh.customers) c
GROUP BY c.CON_ID
ORDER BY 1;

    CON_ID   COUNT(*)
---------- ----------
         3      20002
         6        426
         8       7232</code></pre></li>
                              </ol>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-5D45EBCB-F8A9-4D2A-8F39-DE3CF431DCC4" title="You can issue DML on metadata-linked application objects as normal.">Issuing DML on Metadata-Linked Common Objects</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-49887469-07B0-4807-ACF3-F09657A4D1F5" name="GUID-49887469-07B0-4807-ACF3-F09657A4D1F5"></a><h6 id="MULTI-GUID-49887469-07B0-4807-ACF3-F09657A4D1F5" class="sect6"><span class="enumeration_section">17.4.4.1.2 </span>Setting the Default Container or DML
                        </h6>
                        <div>
                           <p>You can set the <code class="codeph">CONTAINERS_DEFAULT</code> attribute on any metadata-linked object so that DML issued in the application root is wrapped in the <code class="codeph">CONTAINERS</code> clause by default.
                           </p>
                           <div class="section">
                              <p>Set <code class="codeph">ENABLE CONTAINERS_DEFAULT</code> in either an <code class="codeph">ALTER TABLE</code> or <code class="codeph">ALTER VIEW</code> statement. The <code class="codeph">CONTAINERS_DEFAULT</code> column in the <code class="codeph">DBA_TABLES</code> and <code class="codeph">DBA_VIEWS</code> views shows whether the database object is enabled for the <code class="codeph">CONTAINERS</code> clause by default.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-49887469-07B0-4807-ACF3-F09657A4D1F5__GUID-34D13AA1-C766-460E-AF9F-1AFF388CAC25">To set the default container for DML involving a metadata-linked table or view:</p>
                              <ol id="GUID-49887469-07B0-4807-ACF3-F09657A4D1F5__OL_XSY_25L_DHB">
                                 <li>
                                    <p>Log in to the application root as an application common user.</p>
                                 </li>
                                 <li>
                                    <p>Issue an <code class="codeph">ALTER TABLE</code> or <code class="codeph">ALTER VIEW</code> statement with the <code class="codeph">ENABLE CONTAINERS_DEFAULT</code> clause in the application root.
                                    </p>
                                    <p>The following statement sets the default container for <code class="codeph">sh.customers</code>:
                                    </p><pre class="pre codeblock"><code>ALTER TABLE sh.customers ENABLE CONTAINERS_DEFAULT;</code></pre><p>After setting this attribute, queries and DML statements issued in the application root use the <code class="codeph">CONTAINERS</code> clause by default for <code class="codeph">sh.customers</code>. 
                                    </p>
                                 </li>
                              </ol>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-5D45EBCB-F8A9-4D2A-8F39-DE3CF431DCC4" title="You can issue DML on metadata-linked application objects as normal.">Issuing DML on Metadata-Linked Common Objects</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE" name="GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE"></a><h5 id="MULTI-GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE" class="sect5"><span class="enumeration_section">17.4.4.2 </span>Issuing DML on Data-Linked Common Objects
                     </h5>
                     <div>
                        <p>For data-linked application objects, issue DML as normal in the application root. For extended data-linked application objects, issue DML as normal in the application root and in application PDBs.</p>
                        <div class="section">
                           <p>For data-linked application objects, DML in the application root affects the data accessible by all PDBs in the application container. You cannot issue DML on data-linked application objects in application PDBs. </p>
                           <p>For extended data-linked application objects, DML in the application root affects the data accessible by all PDBs in the application container. DML in an application PDB only affects data that is unique to the application PDB.</p>
                           <p>Consider an application root that has data-linked or extended data-linked objects. Also, assume that this root is the master for application root replicas synchronized with proxy PDBs. In this case, DML only synchronizes with the replicas when DML occurs during an application installation, upgrade, or patch. Specifically, DML must occur in the root between <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... {BEGIN|END}</code> statements. Other DML applies only to the current root and is not synchronized with root replicas.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE__GUID-B3D32D3B-D954-4329-BD83-B01027E7E541">To issue DML for an application common object that is not part of an application root replica configuration:</p>
                           <ol id="GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE__OL_TPF_FRF_DHB">
                              <li>
                                 <p>Connect to the appropriate container in the application container as a user with the privileges required to issue DML statements on the database object.</p>
                              </li>
                              <li>
                                 <p>Issue DML statements normally.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE__GUID-CF34546A-E152-435C-AFE8-43290E96F961">To issue DML for a data-linked or extended data-linked object that is part of an application root replica configuration:</p>
                           <ol id="GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE__OL_IRW_MRF_DHB">
                              <li>
                                 <p>In SQL*Plus, ensure that the current container is the master application root in the application root replica in the configuration.</p>
                                 <p>The current user must have the privileges required to issue the DML statements on the database object.</p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... BEGIN</code> statement for beginning an application installation, upgrade, or patch. 
                                 </p>
                                 <p>If you are modifying the application common object as part of an application upgrade, then issue the upgrade statement in the following form:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION <span class="italic">application_name</span> BEGIN UPGRADE 
  '<span class="italic">application_start_version_number</span>' TO 
  '<span class="italic">application_end_version_number</span>';</code></pre><p>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code>, the <span class="italic">application_start_version_number</span> is 4.2, and the <span class="italic">application_end_version_number</span> is 4.3:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN UPGRADE '4.2' TO '4.3';</code></pre></li>
                              <li>
                                 <p>Issue the DML statements on the data-linked application common object.</p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... END</code> statement.
                                 </p>
                                 <p>For example, if you are modifying the application common object as part of an application upgrade, then run the statement in the following form:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION <span class="italic">application_name</span> END UPGRADE 
  TO '<span class="italic">application_end_version_number</span>';</code></pre><p>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code>, the <span class="italic">application_start_version_number</span> is 4.2, and the <span class="italic">application_end_version_number</span> is 4.3:
                                 </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp END UPGRADE TO '4.3';</code></pre><div class="infoboxnote" id="GUID-A8A0B617-56E2-4D29-8C96-D8CA392924AE__GUID-B2FF196C-9088-4A25-A501-3F4B32F96F28">
                                    <p class="notep1">Note:</p>Ensure that the <span class="italic">application_name</span> and <span class="italic">application_end_version_number</span> match in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code> statement and <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code> statements.
                                 </div>
                              </li>
                              <li>
                                 <p>To synchronize all application PDBs that must apply these changes, issue an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause when the application PDB is the current container.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-25CDD5E1-2C31-45FE-B618-A51B57B1ED5E" title="The rules are different for issuing DML statements on metadata-linked, data-linked, and extended data-linked application common objects.">Issuing DML Statements on Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B855567C-DE8D-4015-B3E1-86906EE1D119" name="GUID-B855567C-DE8D-4015-B3E1-86906EE1D119"></a><h4 id="MULTI-GUID-B855567C-DE8D-4015-B3E1-86906EE1D119" class="sect4"><span class="enumeration_section">17.4.5 </span>Modifying Application Common Objects with DDL Statements
                  </h4>
                  <div>
                     <p>When you modify an application common object in an application root with certain DDL statements, you must modify the object between <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> and <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END</code> statements, and application PDBs must synchronize with the application to apply the changes.
                     </p>
                     <div class="section">You can alter a metadata-linked object or a data-linked object in an application root. You run an <code class="codeph">ALTER</code>, <code class="codeph">RENAME</code>, or <code class="codeph">DROP</code> SQL statement on the database object to perform a DDL change. 
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the application root. </span><div>The current user must have the privileges required to make the planned changes to the database object.</div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN</code> statement for beginning an application installation, upgrade, or patch. </span><div>For example, if you are modifying the application common object as part of an application upgrade, then run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code> statement in the following form:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> BEGIN UPGRADE '<span class="codeinlineitalic">application_start_version_number</span>' TO '<span class="codeinlineitalic">application_end_version_number</span>';</code></div>
                           <div>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code>, the <span class="italic">application_start_version_number</span> is 4.2, and the <span class="italic">application_end_version_number</span> is 4.3:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN UPGRADE '4.2' TO '4.3';</code></div>
                        </li>
                        <li class="stepexpand"><span>Modify the application common object with the DDL statement.</span><div>For example, an <code class="codeph">ALTER TABLE</code> statement might add a column to a table.
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END</code> statement for ending an application installation, upgrade, or patch.</span><div>For example, if you are modifying the application common object as part of an application upgrade, then run the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code> statement in the following form:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION <span class="codeinlineitalic">application_name</span> END UPGRADE TO '<span class="codeinlineitalic">application_end_version_number</span>';</code></div>
                           <div>For example, run the following statement if the <span class="italic">application_name</span> is <code class="codeph">salesapp</code> and the <span class="italic">application_end_version_number</span> is 4.3:
                           </div>
                           <div><code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION salesapp END UPGRADE TO '4.3';</code><div class="infoboxnote" id="GUID-B855567C-DE8D-4015-B3E1-86906EE1D119__GUID-D64E1BBE-4F58-494D-934A-A5A17DD1A0D6">
                                 <p class="notep1">Note:</p>Ensure that the <span class="italic">application_name</span> and <span class="italic">application_end_version_number</span> match in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code> statement and the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code> statement.
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Synchronize all of the application PDBs that must apply these changes by issuing an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause with the application PDB as the current container.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-EB81A80C-FA22-4D9B-A69D-7E2C8FB5E854" title="You install, upgrade, or patch an application in an application container.">Managing Applications in an Application Container</a></li>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="Application common objects are shared, user-created database objects in an application container. Application common objects are created in an application root.">Managing Application Common Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-CE09995E-7805-484B-9017-B0AF7CF97313" name="GUID-CE09995E-7805-484B-9017-B0AF7CF97313"></a><h3 id="MULTI-GUID-CE09995E-7805-484B-9017-B0AF7CF97313" class="sect3"><span class="enumeration_section">17.5 </span>Issuing DML Statements on Containers in an Application Container
               </h3>
               <div>
                  <p>A DML statement issued in an application root can modify one or more containers in the application container. In addition, you can specify one or more default container targets for DML statements.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-AA8C5BC8-4A22-4E8D-BA36-85B99A1168C2">About Issuing DML Statements on Containers in an Application Container</a><br>DML statements can affect database objects in more than one container in an application container.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-02A30F9F-FF59-4725-B586-34457795D449">Specifying the Default Container for DML Statements in an Application Container</a><br>To specify the default container for DML statements in an application container, issue the <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">CONTAINERS DEFAULT TARGET</code> clause.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-AA8C5BC8-4A22-4E8D-BA36-85B99A1168C2" name="GUID-AA8C5BC8-4A22-4E8D-BA36-85B99A1168C2"></a><h4 id="MULTI-GUID-AA8C5BC8-4A22-4E8D-BA36-85B99A1168C2" class="sect4"><span class="enumeration_section">17.5.1 </span>About Issuing DML Statements on Containers in an Application Container
                  </h4>
                  <div>
                     <p>DML statements can affect database objects in more than one container in an application container.</p>
                     <p>In an application root, a single DML statement that includes the <code class="codeph">CONTAINERS</code> clause can modify a table or view in one or more containers in the application container. To use the <code class="codeph">CONTAINERS</code> clause, specify the table or view being modified in the <code class="codeph">CONTAINERS</code> clause and the containers in the <code class="codeph">WHERE</code> clause. A target container can be specified in an <code class="codeph">INSERT VALUES</code> statement by specifying a value for <code class="codeph">CON_ID</code> in the <code class="codeph">VALUES</code> clause. Also, a target container can be specified in an <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> statement by specifying a <code class="codeph">CON_ID</code> predicate in the <code class="codeph">WHERE</code> clause.
                     </p>
                     <div class="p">For example, the following DML statement updates the <code class="codeph">sales.customers</code> table in the containers with a <code class="codeph">CON_ID</code> of <code class="codeph">7</code> or <code class="codeph">8</code>:<pre class="pre codeblock"><code>UPDATE CONTAINERS(sales.customers) ctab 
   SET ctab.city_name='MIAMI' 
   WHERE ctab.CON_ID IN(7,8) AND
   CUSTOMER_ID=3425;</code></pre></div>
                     <p>The values specified for the <code class="codeph">CON_ID</code> in the <code class="codeph">WHERE</code> clause must be for containers in the current application container.
                     </p>
                     <p>You can specify default target containers for DML operations. If a DML statement does not specify values for the <code class="codeph">CON_ID</code> in the <code class="codeph">WHERE</code> clause, then the target containers of the DML operation are those specified in the database property <code class="codeph">CONTAINERS_DEFAULT_TARGET</code> in the application root. When issued in an application root, the following DML statement modifies the default target containers for the application container:
                     </p><pre class="pre codeblock"><code>UPDATE CONTAINERS(sales.customers) ctab 
   SET ctab.city_name='MIAMI' 
   WHERE CUSTOMER_ID=3425;</code></pre><div class="p">By default, the default target containers in an application container include all of its application PDBs but not its application root or application seed. You can determine the default target containers for an application container by running the following query:<pre class="pre codeblock"><code>SELECT PROPERTY_VALUE FROM DATABASE_PROPERTIES WHERE PROPERTY_NAME='CONTAINERS_DEFAULT_TARGET';</code></pre></div>
                     <p>In addition, you can enable the <code class="codeph">CONTAINERS_DEFAULT</code> attribute for a table or view in an application root. When this attribute is enabled, the <code class="codeph">CONTAINERS</code> clause is used for queries and DML statements on the database object by default, and the <code class="codeph">CONTAINERS</code> clause does not need to be specified in the SQL statements. To enable the <code class="codeph">CONTAINERS_DEFAULT</code> attribute for a table or view in an application root, run the  an <code class="codeph">ALTER TABLE</code> or <code class="codeph">ALTER VIEW</code> statement with the <code class="codeph">ENABLE CONTAINERS_DEFAULT</code> clause.
                     </p>
                     <p>The following restrictions apply to the <code class="codeph">CONTAINERS</code> clause:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">CONTAINERS DEFAULT TARGET</code> clause does not affect <code class="codeph">SELECT</code> statements.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INSERT</code> as <code class="codeph">SELECT</code> statements where the target of the <code class="codeph">INSERT</code> is in <code class="codeph">CONTAINERS()</code> is not supported.
                           </p>
                        </li>
                        <li>
                           <p>A multitable <code class="codeph">INSERT</code> statement where the target of the <code class="codeph">INSERT</code> is in <code class="codeph">CONTAINERS()</code> is not supported.
                           </p>
                        </li>
                        <li>
                           <p>DML statements using the <code class="codeph">CONTAINERS</code> clause require that the database listener is configured using TCP (instead of IPC) and that the <code class="codeph">PORT</code> and <code class="codeph">HOST</code> values are specified for each target PDB using the <code class="codeph">PORT</code> and <code class="codeph">HOST</code> clauses, respectively.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-CE09995E-7805-484B-9017-B0AF7CF97313" title="A DML statement issued in an application root can modify one or more containers in the application container. In addition, you can specify one or more default container targets for DML statements.">Issuing DML Statements on Containers in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-02A30F9F-FF59-4725-B586-34457795D449" name="GUID-02A30F9F-FF59-4725-B586-34457795D449"></a><h4 id="MULTI-GUID-02A30F9F-FF59-4725-B586-34457795D449" class="sect4"><span class="enumeration_section">17.5.2 </span>Specifying the Default Container for DML Statements in an Application Container
                  </h4>
                  <div>
                     <p>To specify the default container for DML statements in an application container, issue the <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">CONTAINERS DEFAULT TARGET</code> clause.
                     </p>
                     <div class="section">When a DML statement is issued in an application root without specifying containers in the <code class="codeph">WHERE</code> clause, the DML statement affects the default container for the application container. The default container can be any container in the application container, including the application root or an application PDB. Only one default container is allowed.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the application root.</span><div>The current user must have the commonly granted <code class="codeph">ALTER PLUGGABLE DATABASE</code> privilege.
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with the <code class="codeph">CONTAINERS DEFAULT TARGET</code> clause.</span></li>
                     </ol>
                     <div class="example" id="GUID-02A30F9F-FF59-4725-B586-34457795D449__GUID-FA6E81E6-7C37-444F-A3DD-DDCBA5AF9171">
                        <p class="titleinexample">Example 17-14 Specifying the Default Container for DML Statements in an Application Container</p>
                        <p>This example specifies that <code class="codeph">APDB1</code> is the default container for DML statements in the application container.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE CONTAINERS DEFAULT TARGET = (APDB1);</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-02A30F9F-FF59-4725-B586-34457795D449__GUID-C0C89595-4130-4D22-A427-6167D76AAE42">
                        <p class="titleinexample">Example 17-15 Clearing the Default Container</p>
                        <p>This example clears the default container setting. When it is not set, the default container is the application root.</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE CONTAINERS DEFAULT TARGET = NONE;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-CE09995E-7805-484B-9017-B0AF7CF97313" title="A DML statement issued in an application root can modify one or more containers in the application container. In addition, you can specify one or more default container targets for DML statements.">Issuing DML Statements on Containers in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-AAF93A02-7C70-4024-8758-E351C213543E" name="GUID-AAF93A02-7C70-4024-8758-E351C213543E"></a><h3 id="MULTI-GUID-AAF93A02-7C70-4024-8758-E351C213543E" class="sect3"><span class="enumeration_section">17.6 </span>Partitioning by PDB with Container Maps
               </h3>
               <div>
                  <p>Container maps enable the partitioning of data at the application PDB level when the data is not physically partitioned at the table level.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-E2668048-1657-49BC-9B6E-6837D5757463">About Container Maps</a><br>A <strong class="term">container map</strong> is a database property that specifies a partitioned map table defined in an application root.
                     </li>
                     <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-A4C8768F-004E-461E-B2B0-748C295049B2">Creating a Container Map</a><br>Create a container map by creating a map object and setting the <code class="codeph">CONTAINER_MAP</code> database property to the map object.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-E2668048-1657-49BC-9B6E-6837D5757463" name="GUID-E2668048-1657-49BC-9B6E-6837D5757463"></a><h4 id="MULTI-GUID-E2668048-1657-49BC-9B6E-6837D5757463" class="sect4"><span class="enumeration_section">17.6.1 </span>About Container Maps
                  </h4>
                  <div>
                     <p>A <strong class="term">container map</strong> is a database property that specifies a partitioned map table defined in an application root.
                     </p>
                     <p>Use a container map to partition the data in metadata-linked objects. Container maps partition data in application PDBs based on a commonly-used column.</p>
                     <p>For example, you might create a metadata-linked table named <code class="codeph">countries_mlt</code> (with a column <code class="codeph">cname</code>) that stores different data in each application PDB. The map table named <code class="codeph">pdb_map_tbl</code> partitions by list on the <code class="codeph">cname</code> column. The partitions <code class="codeph">amer_pdb</code>, <code class="codeph">euro_pdb</code>, and <code class="codeph">asia_pdb</code> correspond to the names of the application PDBs.
                     </p>
                     <p>A container map can define a logical partition key on a column for a common object. Because the container is resolved internally based on the container map, this mapping removes the requirement to define a query with a <code class="codeph">CON_ID</code> predicate or use the <code class="codeph">CONTAINERS</code> clause in the query.
                     </p>
                     <p>Some types of row-based consolidation use a tenant ID with a single PDB that contains multiple tenants. Container maps are useful for migrating to a configuration that uses a different PDB for each tenant.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-7D7BDEF1-0E0F-4C13-AC26-9F4AD94FD968">Map Objects</a><br>The <strong class="term">map object</strong> is the partitioned table. 
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-979ED407-BA4F-4711-9173-F5BAFDBB8C05">List-Partitioned Container Map: Example</a><br>This example uses a container map to route queries to PDBs that store data for a geographical region.
                        </li>
                        <li class="ulchildlink"><a href="administering-application-containers-with-sql-plus.html#GUID-B83C5F04-DB06-4B11-950B-0D5261DE36F3">Range-Partitioned Container Map: Example</a><br>This example uses a container map to route queries to PDBs that store data for a particular department.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-AAF93A02-7C70-4024-8758-E351C213543E" title="Container maps enable the partitioning of data at the application PDB level when the data is not physically partitioned at the table level.">Partitioning by PDB with Container Maps</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-7D7BDEF1-0E0F-4C13-AC26-9F4AD94FD968" name="GUID-7D7BDEF1-0E0F-4C13-AC26-9F4AD94FD968"></a><h5 id="MULTI-GUID-7D7BDEF1-0E0F-4C13-AC26-9F4AD94FD968" class="sect5"><span class="enumeration_section">17.6.1.1 </span>Map Objects
                     </h5>
                     <div>
                        <p>The <strong class="term">map object</strong> is the partitioned table. 
                        </p>
                        <p>The names of the partitions in the map table match the names of the application PDBs in the application container. The metadata-linked object is not physically partitioned at the table level, but it can be queried using the partitioning strategy used by the container map.</p>
                        <p>To associate the map table with the metadata-linked table, specify the map table in <code class="codeph">ALTER PLUGGABLE DATABASE ... CONTAINER_MAP</code> while connected to the application root. You can create no more than one container map in an application container. You cannot create container maps in the CDB root.
                        </p>
                        <div class="infoboxnote" id="GUID-7D7BDEF1-0E0F-4C13-AC26-9F4AD94FD968__GUID-EA298D58-18EB-42B1-BC01-480E3D671848">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Data must be loaded into the PDB tables in a manner that is consistent with the partitions defined in map object.</p>
                              </li>
                              <li>
                                 <p>When there are changes to the application PDBs in an application container, the map object is not synchronized automatically to account for these changes. For example, an application PDB that is referenced in a map object can be unplugged, renamed, or dropped. The map object must be updated manually to account for such changes.</p>
                              </li>
                           </ul>
                        </div>
                        <p>Starting in <span>Oracle Database 18c</span>, for a <code class="codeph">CONTAINERS()</code> query to use a map, the partitioning column in the map table does not need to match a column in the metadata-linked table. Assume that the table <code class="codeph">sh.sales</code> is enabled for the container map <code class="codeph">pdb_map_tbl</code>, and <code class="codeph">cname</code> is the partitioning column for the map table. Even though <code class="codeph">sh.sales</code> does <span class="italic">not</span> include a <code class="codeph">cname</code> column, the map table routes the following query to the appropriate PDB: <code class="codeph">SELECT * FROM CONTAINERS(sh.sales) WHERE cname = 'US' ORDER BY time_id</code>.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-E2668048-1657-49BC-9B6E-6837D5757463" title="A container map is a database property that specifies a partitioned map table defined in an application root.">About Container Maps</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-979ED407-BA4F-4711-9173-F5BAFDBB8C05" name="GUID-979ED407-BA4F-4711-9173-F5BAFDBB8C05"></a><h5 id="MULTI-GUID-979ED407-BA4F-4711-9173-F5BAFDBB8C05" class="sect5"><span class="enumeration_section">17.6.1.2 </span>List-Partitioned Container Map: Example
                     </h5>
                     <div>
                        <p>This example uses a container map to route queries to PDBs that store data for a geographical region.</p>
                        <p>The following illustration of an application root shows a map object, a metadata-linked table, and a query on the metadata-linked table. The query is executed in the appropriate application PDB.</p>
                        <div class="figure" id="GUID-979ED407-BA4F-4711-9173-F5BAFDBB8C05__GUID-B89A9C8D-8652-43C1-96C4-2BDC17B51756">
                           <p class="titleinfigure">Figure 17-3 Container Map</p><img src="img/admin123.png" alt="Description of Figure 17-3 follows" title="Description of Figure 17-3 follows" longdesc="img_text/admin123.html"><br><a href="img_text/admin123.html">Description of "Figure 17-3 Container Map"</a></div>
                        <!-- class="figure" -->
                        <p>The illustration shows an application container with three application PDBs named <code class="codeph">AMER</code>, <code class="codeph">EURO</code>, and <code class="codeph">ASIA</code>. The PDBs store data for the corresponding regions. A metadata-linked table named <code class="codeph">oe.cmtb</code> stores information for an application. This table has a <code class="codeph">COUNTRY</code> column. For this partitioning strategy, partition by list is used to create a map object that creates a partition for each region. The country value, which is <code class="codeph">GERMANY</code> in the query shown in the illustration, determines the region, which is <code class="codeph">EURO</code>.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-979ED407-BA4F-4711-9173-F5BAFDBB8C05__GUID-4297CB7F-A533-4635-A43A-8F6C841503C2">
                           <p class="notep1">See Also:</p>
                           <p> <span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-A4C8768F-004E-461E-B2B0-748C295049B2" title="Create a container map by creating a map object and setting the CONTAINER_MAP database property to the map object.">Creating a Container Map</a>"</span> for a detailed description of this example
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-E2668048-1657-49BC-9B6E-6837D5757463" title="A container map is a database property that specifies a partitioned map table defined in an application root.">About Container Maps</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-B83C5F04-DB06-4B11-950B-0D5261DE36F3" name="GUID-B83C5F04-DB06-4B11-950B-0D5261DE36F3"></a><h5 id="MULTI-GUID-B83C5F04-DB06-4B11-950B-0D5261DE36F3" class="sect5"><span class="enumeration_section">17.6.1.3 </span>Range-Partitioned Container Map: Example
                     </h5>
                     <div>
                        <p>This example uses a container map to route queries to PDBs that store data for a particular department.</p>
                        <p>Consider another example that uses a range-partitioned table for the map object. The following SQL statement creates the map object in the application root:</p><pre class="pre codeblock"><code>CREATE TABLE app_con_admin.conmap (
   department_id NUMBER NOT NULL)
PARTITION BY RANGE (department_id) (
PARTITION apppdb1 VALUES LESS THAN (100),
PARTITION apppdb2 VALUES LESS THAN (200),
PARTITION apppdb3 VALUES LESS THAN (300));</code></pre><div class="p">This map object partitions data in the application PDBs <code class="codeph">apppdb1</code>, <code class="codeph">apppdb2</code>, and <code class="codeph">apppdb3</code> based on the commonly-used column <code class="codeph">department_id</code>. The following SQL statement sets the <code class="codeph">CONTAINER_MAP</code> database property to the <code class="codeph">app_con_admin.conmap</code> table in the application root:<pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE SET CONTAINER_MAP='app_con_admin.conmap';</code></pre></div>
                        <div class="p">Queries that use container maps produce similar results to queries that use the <code class="codeph">CONTAINERS</code> clause. For example, the following queries return similar results:<pre class="pre codeblock"><code>SELECT employee_id 
FROM   CONTAINERS(hr.employees) 
WHERE  department_id = 10 
AND    CON_ID IN (44); 

SELECT employee_id 
FROM   hr.employees 
WHERE  department_id = 10;</code></pre></div>
                        <p>As shown in the first query with the <code class="codeph">CONTAINERS</code> clause, when the query only pertains to a single application PDB, the query must specify the container ID of this application PDB in the <code class="codeph">WHERE</code> clause. This requirement might cause application changes. 
                        </p>
                        <p>The second query uses the container map, replacing the <code class="codeph">CONTAINERS</code> clause. The second query does not specify the container because the container map directs the query to the correct application PDB. Queries that use container maps are generally more efficient than queries that use the <code class="codeph">CONTAINERS</code> clause. 
                        </p>
                        <p>The container map must be created by a common user with <code class="codeph">ALTER DATABASE</code> system privilege. Queries run against an object that is enabled for container map. Query privileges are determined by privileges granted on the object.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-E2668048-1657-49BC-9B6E-6837D5757463" title="A container map is a database property that specifies a partitioned map table defined in an application root.">About Container Maps</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A4C8768F-004E-461E-B2B0-748C295049B2" name="GUID-A4C8768F-004E-461E-B2B0-748C295049B2"></a><h4 id="MULTI-GUID-A4C8768F-004E-461E-B2B0-748C295049B2" class="sect4"><span class="enumeration_section">17.6.2 </span>Creating a Container Map
                  </h4>
                  <div>
                     <p>Create a container map by creating a map object and setting the <code class="codeph">CONTAINER_MAP</code> database property to the map object.
                     </p>
                     <div class="section">The map object is a partitioned table in which each partition name matches the name of an application PDB in an application container.</div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A4C8768F-004E-461E-B2B0-748C295049B2__GUID-F9F233E9-C82B-4873-A5FC-7BF762726A9F">Prerequisites</p>
                        <p>To create a container map, you must meet the following prerequisites:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Before creating a container map, an application container with application PDBs must exist in the CDB.</p>
                           </li>
                           <li>
                              <p>The application container must have at least one application installed in it.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A4C8768F-004E-461E-B2B0-748C295049B2__GUID-F7A118C5-8703-44CF-964F-5C3D2E70024F">To create a container map:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the application root. </p>
                           </li>
                           <li>
                              <p>Set the <code class="codeph">CONTAINER_MAP</code> database property to the map object.
                              </p>
                              <p>In the following statement, replace <span class="italic">map_table_schema</span> with the owner of the table, and replace <span class="italic">map_table_name</span> with the name of the table:
                              </p><pre class="pre codeblock"><code>ALTER DATABASE SET CONTAINER_MAP =  '<span class="italic">map_table_schema.map_table_name</span>';</code></pre></li>
                           <li>
                              <p>Start an application installation, upgrade, or patch.</p>
                           </li>
                           <li>
                              <p>If the metadata-linked table that will be used by the container map does not exist, then create it.</p>
                           </li>
                           <li>
                              <p>Enable the container map for the table to be queried by issuing an <code class="codeph">ALTER TABLE ... ENABLE CONTAINER_MAP</code> statement.
                              </p>
                           </li>
                           <li>
                              <p>Ensure that the table to be queried is enabled for the <code class="codeph">CONTAINERS</code> clause by issuing an <code class="codeph">ALTER TABLE ... ENABLE CONTAINERS_DEFAULT</code> statement.
                              </p>
                           </li>
                           <li>
                              <p>End the application installation, upgrade, or patch started previously.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A4C8768F-004E-461E-B2B0-748C295049B2__GUID-817FF72F-38CC-4643-9A6F-2C4725F12FA2">
                        <p class="titleinexample">Example 17-16 Creating and Using a Container Map</p>
                        <p>This example creates a simple application that uses a container map. Assume that an application container has three application PDBs named <code class="codeph">AMER</code>, <code class="codeph">EURO</code>, and <code class="codeph">ASIA</code>. The application PDBs store data for the different regions (America, Europe, and Asia, respectively). A metadata-linked table stores information for an application and has a <code class="codeph">COUNTRY</code> column. For this partitioning strategy, partition by list is used to create a map object that creates a partition for each region, and the country value is used to determine the region.
                        </p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the application root.</p>
                           </li>
                           <li>
                              <p>Create the map object.</p><pre class="pre codeblock"><code>CREATE TABLE salesadm.conmap (country VARCHAR2(30) NOT NULL)
PARTITION BY LIST (country) (
  PARTITION AMER VALUES ('US','MEXICO','CANADA'),
  PARTITION EURO VALUES ('UK','FRANCE','GERMANY'),
  PARTITION ASIA VALUES ('INDIA','CHINA','JAPAN')
);
</code></pre></li>
                           <li>
                              <p>Set the <code class="codeph">CONTAINER_MAP</code> database property to the map object.
                              </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE SET CONTAINER_MAP='salesadm.conmap';</code></pre></li>
                           <li>
                              <p>Begin an application installation.</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp BEGIN INSTALL '1.0';</code></pre></li>
                           <li>
                              <p>Create a metadata-linked table that will be queried using the container map.</p><pre class="pre codeblock"><code>CREATE TABLE oe.cmtb SHARING=METADATA (
  value   VARCHAR2(30),
  country VARCHAR2(30));</code></pre></li>
                           <li>
                              <p>Enable the container map for the table to be queried.</p><pre class="pre codeblock"><code>ALTER TABLE oe.cmtb ENABLE CONTAINER_MAP;</code></pre></li>
                           <li>
                              <p>Ensure that the table to be queried is enabled for the <code class="codeph">CONTAINERS</code> clause.
                              </p><pre class="pre codeblock"><code>ALTER TABLE oe.cmtb ENABLE CONTAINERS_DEFAULT;</code></pre></li>
                           <li>
                              <p>End the application installation.</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION salesapp END INSTALL '1.0';</code></pre></li>
                           <li>
                              <p>Switch session into each application PDB and synchronize it.</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=amer;
ALTER PLUGGABLE DATABASE APPLICATION salesapp SYNC;

ALTER SESSION SET CONTAINER=euro;
ALTER PLUGGABLE DATABASE APPLICATION salesapp SYNC;

ALTER SESSION SET CONTAINER=asia;
ALTER PLUGGABLE DATABASE APPLICATION salesapp SYNC;</code></pre></li>
                           <li>
                              <p>Insert values into the <code class="codeph">oe.cmtb</code> table in each application PDB based on the partitioning strategy.
                              </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=amer;
INSERT INTO oe.cmtb VALUES ('AMER VALUE','US');
INSERT INTO oe.cmtb VALUES ('AMER VALUE','MEXICO');
INSERT INTO oe.cmtb VALUES ('AMER VALUE','CANADA');
COMMIT;

ALTER SESSION SET CONTAINER=euro;
INSERT INTO oe.cmtb VALUES ('EURO VALUE','UK');
INSERT INTO oe.cmtb VALUES ('EURO VALUE','FRANCE');
INSERT INTO oe.cmtb VALUES ('EURO VALUE','GERMANY');
COMMIT;

ALTER SESSION SET CONTAINER=asia;
INSERT INTO oe.cmtb VALUES ('ASIA VALUE','INDIA');
INSERT INTO oe.cmtb VALUES ('ASIA VALUE','CHINA');
INSERT INTO oe.cmtb VALUES ('ASIA VALUE','JAPAN');
COMMIT;</code></pre></li>
                           <li>
                              <p>Switch session into the application root and query the data using the container map.</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=sales;

SELECT value FROM oe.cmtb WHERE country='MEXICO';

SELECT value FROM oe.cmtb WHERE country='GERMANY';

SELECT value FROM oe.cmtb WHERE country='JAPAN';</code></pre><p>The output for the first query should be <code class="codeph">AMER VALUE</code>, the output for the second query should be <code class="codeph">EURO VALUE</code>, and the output for the third query should be <code class="codeph">ASIA VALUE</code>. These values illustrate that the container map is working correctly.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administering-application-containers-with-sql-plus.html#GUID-AAF93A02-7C70-4024-8758-E351C213543E" title="Container maps enable the partitioning of data at the application PDB level when the data is not physically partitioned at the table level.">Partitioning by PDB with Container Maps</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>