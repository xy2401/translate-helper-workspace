<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions."></meta>
      <meta name="description" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions."></meta>
      <title>SQL / JSON路径表达式</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JSON Developer&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JSON Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="json-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-22T10:58:31-08:00"></meta>
      <meta name="dcterms.title" content="JSON Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2015, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96227-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="simple-dot-notation-access-to-json-data.html" title="Previous" type="text/html"></link>
      <link rel="next" href="clauses-used-in-functions-and-conditions-for-json.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADJSN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="simple-dot-notation-access-to-json-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="clauses-used-in-functions-and-conditions-for-json.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JSON开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="query-json-data.html" property="item" typeof="WebPage"><span property="name">查询JSON数据</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL / JSON路径表达式</li>
            </ol>
            <a id="GUID-2DC05D71-3D62-4A14-855F-76E054032494" name="GUID-2DC05D71-3D62-4A14-855F-76E054032494"></a>
            
            <h2 id="ADJSN-GUID-2DC05D71-3D62-4A14-855F-76E054032494" class="sect2"><span class="enumeration_chapter">13</span> SQL / JSON路径表达式</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='json-path-expressions'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F">SQL / JSON路径表达式概述</a><br>Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879">SQL / JSON路径表达式语法</a><br>SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13">SQL / JSON路径表达式项方法</a><br>描述了可用于SQL / JSON路径表达式的Oracle项目方法。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C">ISO 8601日期和时间支持</a><br>国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A">比较中的类型</a><br>SQL / JSON路径表达式过滤条件中的比较在编译时是静态类型的。如果不知道比较的操作数的有效类型是相同的，那么有时会尝试通过类型转换来协调它们。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="query-json-data.html#GUID-119E5069-77F2-45DC-B6F0-A1B312945590" title="您可以使用简单的点表示法查询JSON数据，或者，对于更多功能，使用SQL / JSON函数和条件。您可以创建和查询数据指南，该指南汇总了一组JSON文档的结构和类型信息。">查询JSON数据</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB6254"></a><div class="props_rev_3"><a id="GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F" name="GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F"></a><h3 id="ADJSN-GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F" class="sect3"><span class="enumeration_section">13.1</span> SQL / JSON路径表达式概述</h3>
               <div>
                  <p>Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。</p>
                  <p>JSON是JavaScript值的表示法。当JSON数据存储在数据库中时，您可以使用路径表达式查询它，这些表达式有点类似于XQuery或XML数据的XPath表达式。与SQL / XML允许使用XQuery表达式访问XML数据的方式类似，Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。</p>
                  <p>SQL / JSON路径表达式具有简单的语法。路径表达式选择零个或多个匹配或满足它的JSON值。</p>
                  <p>SQL / JSON条件<code class="codeph">json_exists</code>如果至少有一个值匹配则返回true，如果没有值匹配则返回false。如果单个值匹配，则SQL / JSON函数<code class="codeph">json_value</code>返回该值（如果它是标量）并且如果它是非标量则引发错误。如果没有值与路径表达式匹配，则<code class="codeph">json_value</code>返回SQL <code class="codeph">NULL</code> 。</p>
                  <p>SQL / JSON函数<code class="codeph">json_query</code>返回所有匹配值，也就是说，它可以返回多个值。您可以将此行为视为返回一系列值，如在XQuery中，或者您可以将其视为返回多个值。（没有显示用户可见的序列。）
                  </p>
                  <p>在所有情况下，路径表达式匹配依次尝试匹配路径表达式的每个<span class="italic">步骤</span> 。如果匹配任何步骤失败，则不会尝试匹配后续步骤，并且路径表达式的匹配失败。如果匹配每个步骤成功，则路径表达式的匹配成功。
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。">SQL / JSON路径表达式语法</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6255"></a><div class="props_rev_3"><a id="GUID-7B610884-39CD-4910-85E7-C251D342D879" name="GUID-7B610884-39CD-4910-85E7-C251D342D879"></a><h3 id="ADJSN-GUID-7B610884-39CD-4910-85E7-C251D342D879" class="sect3"><span class="enumeration_section">13.2</span> SQL / JSON路径表达式语法</h3>
               <div>
                  <p>SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您将SQL / JSON路径表达式和一些JSON数据传递给SQL / JSON函数或条件。路径表达式与数据匹配，匹配数据由特定的SQL / JSON函数或条件处理。您可以根据将匹配数据<span class="italic">返回</span>到函数或条件的路径表达式来考虑此匹配过程。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618">基本SQL / JSON路径表达式语法</a><br>提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（ <code class="codeph">$</code> ）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。
                     </li>
                     <li class="ulchildlink"><a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77">SQL / JSON路径表达式语法松弛</a><br>放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="conditions-is-json-and-is-not-json.html#GUID-1B6CFFBE-85FE-41DD-BA14-DD1DE73EAB20" title="JSON的Oracle默认语法是松散的。特别是：它反映了对象字段的JavaScript语法; Boolean和null值不区分大小写;并且它对于数字，空格和Unicode字符的转义更加宽容。">关于Strict和Lax JSON语法</a></li>
                        <li><a href="diagrams-basic-sql-json-path-expression-syntax.html" title="针对基本SQL / JSON路径表达式语法，提供了语法图和相应的Backus-Naur Form（BNF）语法描述。">基本SQL / JSON路径表达式语法的图表</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6372"></a><div class="props_rev_3"><a id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" name="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618"></a><h4 id="ADJSN-GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" class="sect4"><span class="enumeration_section">13.2.1</span>基本SQL / JSON路径表达式语法</h4>
                  <div>
                     <p>提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（ <code class="codeph">$</code> ）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。
                     </p>
                     <div class="section">
                        <p>但是，这个基本语法通过分别放松数组和非数组与非数组和数组模式的匹配来扩展 - 请参阅<a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。">SQL / JSON路径表达式语法松弛</a> 。
                        </p>
                        <p>数据与SQL / JSON路径表达式的匹配区分大小写。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL / JSON <span class="bold"><strong class="term">基本路径表达式</strong></span> （此处也称为<span class="italic">路径表达式</span> ）是<span class="italic">绝对路径表达式</span>或<span class="italic">相对路径表达式</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">绝对路径表达式</strong></span>以美元符号（ <code class="codeph"><span class="bold">$</span></code> ）开头，表示路径表达式<span class="bold"><strong class="term">上下文项</strong></span> ，即要匹配的JSON数据。该数据是评估作为参数传递给SQL / JSON函数的SQL表达式的结果。美元符号后跟零个或多个<span class="italic">非功能步骤</span> ，然后是可选的<span class="italic">功能步骤</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">相对路径表达式</strong></span>是符号（ <code class="codeph"><span class="bold">@</span></code> ），后跟零个或多个<span class="italic">非功能步骤</span> ，后跟可选的<span class="italic">功能步骤</span> 。它具有与<span class="italic">绝对路径表达式</span>相同的语法，除了它使用at符号而不是美元符号（ <code class="codeph">$</code> ）。
                              </p>
                              <p>在<span class="italic">筛选器表达式</span> （简称<span class="italic">过滤器</span> ）中使用相对路径表达式。at符号表示路径表达式<span class="bold"><strong class="term">当前过滤器项</strong></span> ，即与包含相对路径表达式的过滤器之前的（周围）路径表达式部分匹配的JSON数据。相对路径表达式与当前过滤器项匹配的方式与绝对路径表达式与上下文项匹配的方式相同。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">非功能步骤</strong></span>是<span class="italic">对象步骤</span> ， <span class="italic">数组步骤</span>或<span class="italic">后代步骤</span> ，后跟可选的<span class="italic">过滤器表达式</span> 。
                              </p>
                           </li>
                           <li>
                              <p>单个<span class="bold"><strong class="term">函数步骤</strong></span>在<span class="italic">基本路径表达式</span> （绝对或相对）中是<span class="italic">可选的</span> 。如果存在，则它是路径表达式的最后一步。它是句点（ <code class="codeph"><span class="bold">.</span></code> ），有时读作“点”，后跟SQL / JSON <span class="bold"><strong class="term">项方法</strong></span> ，后跟左括号（ <code class="codeph"><span class="bold">(</span></code> ），然后是右括号（ <code class="codeph"><span class="bold">)</span></code> ）。括号之间可以有空格（这样的空格是无关紧要的）。
                              </p>
                              <p>item方法应用于在功能步骤<span class="italic">之前</span>的相同路径表达式的其余部分所针对的数据。item方法用于转换该数据。作为参数传递路径表达式的SQL函数或条件使用转换后的数据代替目标数据。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">对象步骤</strong></span>是句点（ <code class="codeph"><span class="bold">.</span></code> ），后跟对象字段名称或星号（ <span class="bold"><code class="codeph">*</code></span> ）通配符，它代表<span class="italic">所有</span>字段的（值）。字段名称可以为<span class="italic">空</span> ，在这种情况下，它<span class="italic">必须</span>写为<code class="codeph"><span class="bold">""</span></code> （没有插入空格）。非空字段名称必须以大写或小写字母A到Z开头，并且只包含此类字母或十进制数字（0-9），否则必须用双引号（ <span class="bold"><code class="codeph">"</code></span> ）括起来。
                        
                              </p>
                              <p>对象步骤返回指定字段的<span class="italic">值</span> 。如果字段使用通配符，则该步骤将返回<span class="italic">所有</span>字段的值，而不是特殊顺序。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">阵列步骤</strong></span>是左括号（ <span class="bold"><code class="codeph">[</code></span> ），随后<span class="italic">任一</span>星号（ <span class="bold"><code class="codeph">*</code></span> ）通配符，它代表<span class="italic">所有</span>的数组元素， <span class="italic">或者</span>一个或多个特定数组索引或以逗号（分隔范围规格<code class="codeph"><span class="bold">,</span></code> ），后跟一个右支架（ <span class="bold"><code class="codeph">]</code></span> ）。如果同时使用星号和数组索引或范围规范，则会引发错误。
                              </p>
                              <p>在路径表达式中， <span class="bold"><strong class="term">数组索引</strong></span>是从零开始的（0,1,2，...），就像在数组的JavaScript约定中一样。<span class="bold"><strong class="term">范围规范</strong></span>具有<span class="italic"><code class="codeph">N</code></span>到<span class="italic"><code class="codeph">M</code></span>的形式，其中<span class="italic"><code class="codeph">N</code></span>和<span class="italic"><code class="codeph">M</code></span>是数组索引， <span class="italic"><code class="codeph">N</code></span>严格小于<span class="italic"><code class="codeph">M</code></span> <a id="fn_1" name="fn_1" href="#fn_1" the="" to="" in="" a="" range="" specification="" is="" sometimes="" informally="" called="" array="" slice="" operator=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a>如果<span class="italic"><code class="codeph">N</code></span>不小于<span class="italic"><code class="codeph">M</code></span>则在查询编译时会引发错误。</p>
                              <p>使用索引或范围规范时，必须按升序指定它们共同指定的数组元素，而不重复，否则会引发编译时错误。例如，针对<code class="codeph">[3, 1 to 4]</code> ， <code class="codeph">[4, 2]</code> ， <code class="codeph">[2, 3 to 3]</code>和<code class="codeph">[2, 3, 3]</code> <code class="codeph">[2, 3 to 3]</code>每一个引发错误。前两个引发了错误，因为顺序没有提升，因为重复数组索引<code class="codeph">3</code> （由于基于零的索引编制索引第四个数组元素），所以在最后两个引发错误。
                              </p>
                              <p>类似地，由匹配产生的数组值中的元素按升序排列，没有重复。如果在路径表达式中使用星号，则按数组顺序返回所有数组元素。</p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">后代</strong></span>步骤是两个连续的句点（ <span class="bold"><code class="codeph">..</code></span> ），有时读作“点点”，后跟字段名称（其具有与<span class="italic">对象步骤</span>相同的语法）。
                              </p>
                              <p>它以<span class="italic">递归方式下降</span>到与紧邻其之前的步骤匹配的对象或数组中（如果没有前一步骤，则进入上下文项）。
                              </p>
                              <p>在每个后代级别，对于每个对象以及作为对象的每个数组元素，它会收集具有指定名称的所有字段的值。它返回所有收集的字段值。</p>
                              <p>例如，考虑此查询和数据：</p><pre class="pre codeblock"><code>json_query（some_json_column，'$。 <span class="bold">a..z'WITH</span> ARRAY WRAPPER）</code></pre><pre class="pre codeblock"><code>{“ <span class="bold">a</span> ”：{“b”：{“ <span class="bold">z</span> ”： <span class="bold">1</span> }，“c”：[5，{“ <span class="bold">z</span> ”： <span class="bold">2</span> }]，“ <span class="bold">z</span> ”： <span class="bold">3</span> }“z”：4}</code></pre><p>查询返回的数组，例如<code class="codeph">[1,2,3]</code>其元素是<code class="codeph">1</code> ， <code class="codeph">2</code> ，和<code class="codeph">3</code> 。它在紧靠点点（ <code class="codeph">..</code> ）之前的步骤中收集每个字段<code class="codeph">z</code>的值，即字段<code class="codeph"><span class="bold">a</span></code> 。值最大的最顶部字段<code class="codeph">z</code> <span class="italic">不</span>匹配，因为它不在字段<code class="codeph">a</code>的值内。
                              </p>
                              <p>字段<code class="codeph">a</code>的值是一个对象，它是下降的。
                              </p>
                              <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_JY1_QWZ_RFB" style="list-style-type:disc">
                                 <li>
                                    <p>它有一个字段<code class="codeph">z</code> ，其值（ <code class="codeph"><span class="bold">3</span></code> ）被收集。它还有一个字段<code class="codeph">b</code>其值是一个对象，它下降以收集其字段<code class="codeph">z</code>的值，即<code class="codeph"><span class="bold">1</span></code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>它还有一个字段<code class="codeph">c</code>其值是一个数组，它有一个元素，它是一个带有字段<code class="codeph">z</code>的对象，其值（ <code class="codeph"><span class="bold">2</span></code> ）被收集。
                                    </p>
                                 </li>
                              </ul>
                              <p>收集的JSON值因此<code class="codeph">3</code> ， <code class="codeph">1</code> ，和<code class="codeph">2</code> 。它们以未定义的顺序包装在数组中。其中一个可能的返回值是<code class="codeph">[1,2,3]</code> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">过滤器表达式</strong></span> （简称<span class="bold"><strong class="term">过滤器</strong></span> ）是问号（ <code class="codeph"><span class="bold">?</span></code> ）然后是括号括起来的<span class="italic">过滤条件</span> （ <code class="codeph"><span class="bold">()</span></code> ）。如果满足条件，则满足过滤器，即返回true。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">过滤条件</strong></span>将谓词（布尔函数）应用于其参数，并且是以下之一，其中<code class="codeph"><span class="codeinlineitalic">cond</span></code> ， <code class="codeph"><span class="codeinlineitalic">cond1</span></code>和<code class="codeph"><span class="codeinlineitalic">cond2</span></code>中的每一个代表过滤条件。
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph"><span class="bold">(</span> <span class="codeinlineitalic">cond</span> <span class="bold">)</span></code> ：括号用于<span class="italic">分组</span> ，将过滤条件<code class="codeph"><span class="codeinlineitalic">cond</span></code>作为一个单元与其可能在其之前或之后的其他过滤条件分开。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="codeinlineitalic">cond1</span> <span class="bold">&amp;&amp;</span> <span class="codeinlineitalic">cond2</span></code> ： <code class="codeph"><span class="codeinlineitalic">cond1</span></code>和<code class="codeph"><span class="codeinlineitalic">cond2</span></code>的<span class="italic">连接</span> （ <span class="italic">和</span> ），要求两者都满足。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="codeinlineitalic">cond1</span> <span class="bold">||</span> <span class="codeinlineitalic">cond2</span></code> ： <code class="codeph"><span class="codeinlineitalic">cond1</span></code>和<code class="codeph"><span class="codeinlineitalic">cond2</span></code>的包含<code class="codeph"><span class="codeinlineitalic"><span class="codeinlineitalic">cond1</span> <span class="bold">||</span> cond2</span></code> <span class="italic">取</span> （ <span class="italic">或</span> ），要求<code class="codeph"><span class="codeinlineitalic">cond1</span></code> ， <code class="codeph"><span class="codeinlineitalic">cond2</span></code>或两者都满足。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="bold">！(</span> <span class="codeinlineitalic">cond</span> <span class="bold">)</span></code> ：对<code class="codeph"><span class="codeinlineitalic">cond</span></code>的<span class="italic">否定</span> ，意味着<span class="italic">不能</span>满足<code class="codeph"><span class="codeinlineitalic">cond</span></code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="bold">exists (</span></code>后跟<span class="italic">相对路径表达式</span> ，后跟<code class="codeph"><span class="bold">)</span></code> ：目标数据<span class="italic">存在</span>的条件（存在）。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold"><strong class="term">比较</strong></span> ，是以下之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="italic">相对路径表达式</span> ，后跟<span class="italic">比较谓词</span> ，后跟JSON标量值或<span class="italic">SQL / JSON变量</span> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p>JSON标量值或<span class="italic">SQL / JSON变量</span> ，后跟<span class="italic">比较谓词</span> ，后跟<span class="italic">相对路径表达式</span> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p>JSON标量值，后跟<span class="italic">比较谓词</span> ，后跟另一个JSON标量值。
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="italic">相对路径表达</span> ，随后<code class="codeph">has substring</code> ， <code class="codeph">starts with</code> ， <code class="codeph">like</code> ， <code class="codeph">like_regex</code> ，或<code class="codeph">eq_regex</code> ，后跟一个JSON字符串或绑定到一个SQL串的<span class="italic">SQL / JSON变量</span> （其被自动地从设置为数据库字符转换UTF8）。
                                          </p>
                                          <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_KKR_2RY_XFB" style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph"><span class="bold">has substring</span></code>意味着匹配的数据值具有指定的字符串作为<span class="italic">子字符串</span> 。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">starts with</span></code>意味着匹配的数据值具有指定的字符串作为<span class="italic">前缀</span> 。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">like</span></code>表示JSON字符串数据值与指定的字符串匹配，该字符串被解释为使用SQL <code class="codeph">LIKE4</code>字符集语义的SQL <code class="codeph">LIKE</code>模式。模式中的百分号（ <code class="codeph"><span class="bold">%</span></code> ）与零个或多个字符匹配。下划线（ <code class="codeph"><span class="bold">_</span></code> ）匹配单个字符。
                                                </p>
                                                <div class="infoboxnote" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-25A8E2C1-8944-4040-BA8A-EF691FA1B9D9">
                                                   <p class="notep1">注意：</p>
                                                   <p>不像SQL的情况下<code class="codeph">LIKE</code> ，对路径表达式谓词<span class="italic">没有转义字符</span> <code class="codeph">like</code> 。此外，Oracle建议您避免在您的<code class="codeph">like</code>模式中使用字符<code class="codeph"><span class="bold">`</span></code> ，GRAVE ACCENT（U + 0060） - 该字符（有时也称为反引号或反引号） <span class="italic">保留供将来使用</span> 。
                                                   </p>
                                                </div>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">like_regex</span></code>表示JSON字符串数据值与指定的字符串匹配，该字符串被解释为使用SQL <code class="codeph">LIKE4</code>字符集语义的SQL <code class="codeph">REGEXP LIKE</code> <span class="italic">正则表达式</span>模式。
                                                </p>
                                                <p> <code class="codeph">like_regex</code>在模式匹配比较中是<span class="italic">特殊</span>的，因为它的模式匹配空的JSON字符串（ <code class="codeph"><span class="bold">""</span></code> ）。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">eq_regex</span></code>就像<code class="codeph">like_regex</code>一样，除了这两个差异：</p>
                                                <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_JZ1_XLQ_CGB" style="list-style-type:disc">
                                                   <li>
                                                      <p><code class="codeph">eq_regex</code>将其正则表达式模式与整个JSON字符串数据值进行<span class="italic">匹配</span> - <span class="italic">完整字符串必须与</span>要满足的比较模式<span class="italic">匹配</span> 。如果JSON字符串的任何部分与模式匹配，则满足<code class="codeph">like_regex</code> 。
                                                      </p>
                                                   </li>
                                                   <li>
                                                      <p><code class="codeph">eq_regex</code>模式与空JSON字符串（ <code class="codeph"><span class="bold">""</span></code> ）不匹配。
                                                      </p>
                                                   </li>
                                                </ul>
                                             </li>
                                          </ul>
                                          <p>对于所有这些谓词，作为空字符串（ <code class="codeph">""</code> ）的模式匹配作为空字符串的数据。除了<code class="codeph">like_regex</code>之外的所有<code class="codeph">like_regex</code> ，非空字符串的模式与空字符串的数据<span class="italic">不</span>匹配。对于<code class="codeph">like_regex</code> ，非空模式确实匹配空字符串数据。
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="italic">相对路径表达式</span> ，后跟<code class="codeph"><span class="bold">in</span></code> ，后跟<span class="italic">值列表</span> ，表示该值是<span class="italic">值列表</span>中的<span class="italic">值之一</span> 。
                                          </p>
                                       </li>
                                    </ul>
                                    <p><span class="bold"><strong class="term">比较谓词</strong></span>是<code class="codeph"><span class="bold">==</span></code> ， <code class="codeph"><span class="bold">&lt;&gt;</span></code> , <code class="codeph"><span class="bold">!=</span></code> <a id="fn_2" name="fn_2" href="#fn_2" !="is" an="" oracle="" alias="" for="" the="" sql="" /json="" standard="" comparison="" predicate="" <&gt;=")" ="" onclick="footdisplay(2, "><sup>足2</sup></a> ， <code class="codeph"><span class="bold">&lt;</span></code> ， <code class="codeph"><span class="bold">&lt;=</span></code> ， <code class="codeph"><span class="bold">&gt;=</span></code>或<code class="codeph"><span class="bold">&gt;</span></code> ，意味着等于，不等于，小于，小于或等于，大于或等于，并且分别大于。
                                    </p>
                                    <p>甲<span class="bold"><strong class="term">SQL / JSON变量</strong></span>是一个美元符号（ <code class="codeph"><span class="bold">$</span></code>之后是在结合的SQL标识符的名称） <code class="codeph">PASSING</code>为子句<code class="codeph">json_exists</code> 。
                                    </p>
                                 </li>
                                 <li><span class="bold"><strong class="term">值列表</strong></span>是<code class="codeph"><span class="bold">(</span></code> ，后跟一个或多个标量值和<span class="italic">SQL / JSON变量</span>的列表，以逗号（ <code class="codeph"><span class="bold">,</span></code> ）分隔，后跟<code class="codeph"><span class="bold">)</span></code> 。
                                 </li>
                              </ul>
                              <p>因此，您可以在过滤条件中使用的谓词是<code class="codeph">&amp;&amp;</code> ， <code class="codeph">||</code> ， <code class="codeph">!</code> ， <code class="codeph">exists</code> ， <code class="codeph">==</code> ， <code class="codeph">&lt;&gt;</code> <code class="codeph">!=</code> ， <code class="codeph">&lt;</code> ， <code class="codeph">&lt;=</code> ， <code class="codeph">&gt;=</code> ， <code class="codeph">&gt;</code>和<code class="codeph">in</code> 。
                              </p>
                              <p>例如，过滤条件<code class="codeph">(a || b) &amp;&amp; (!(c) || d &lt; 42)</code>如果满足以下两个标准，则满足c) || d &lt; 42)</code> ：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>满足滤波条件<code class="codeph">a</code>和<code class="codeph">b</code>至少一个： <code class="codeph">(a || b)</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>过滤条件<code class="codeph">c</code> <span class="italic">不满足</span>或数<code class="codeph">d</code>小于或等于42，或者两者都为真： <code class="codeph">(!(c) || d &lt; 42)</code> 。
                                    </p>
                                 </li>
                              </ul>
                              <p>比较谓词<code class="codeph">!</code> 优先于<code class="codeph">&amp;&amp;</code> ，优先于<code class="codeph">||</code> 。您始终可以使用括号来控制分组。
                              </p>
                              <p>没有用于分组的括号，前面的示例将是<code class="codeph">a || b &amp;&amp; !(c) || d &lt; 42</code> ，如果满足以下至少一个标准，则满足：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>条件<code class="codeph">b &amp;&amp; !(c)</code>满意，这意味着每个条件<code class="codeph">b</code>和<code class="codeph">!(c)</code>满意（这反过来意味着不满足条件<code class="codeph">c</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>条件<code class="codeph">a</code>是满意的。
                                    </p>
                                 </li>
                                 <li>
                                    <p>满足条件<code class="codeph">d &lt; 42</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>比较的至少一侧<span class="italic">不能</span>是SQL / JSON变量。比较的默认<span class="italic">类型</span>是在编译时根据非变量侧的类型定义的。您可以使用类型指定<span class="italic">项目方法</span>使用其他类型覆盖此默认值。为了进行比较，匹配数据的类型会自动转换为适合确定的类型（默认值或由item方法指定）。例如， <code class="codeph">$.a &gt; 5</code>强制进行数字比较，因为<code class="codeph">5</code>是数字， <code class="codeph">$.a &gt; "5"</code>强加字符串比较，因为<code class="codeph">"5"</code>是一个字符串。
                        </p>
                        <div class="infoboxnote" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-D32D9BC0-4147-4F93-9AB8-C6A25A653FD6">
                           <p class="notep1">注意：</p>
                           <p>对于强大的全文搜索，请使用Oracle SQL函数<code class="codeph">json_textcontains</code> ，这需要您创建JSON搜索索引。作为一个不太强大的替代方案，如果你不创建一个JSON搜索索引，并且你只想在过滤条件中进行简单的字符串模式匹配，你可以使用任何模式匹配比较： <code class="codeph">has substring</code> ， <code class="codeph">starts with</code> ， <code class="codeph">like</code> ， <code class="codeph">like_regex</code>或<code class="codeph">eq_regex</code> 。
                           </p>
                        </div>
                        <p>以下是路径表达式的一些示例，其含义详细说明。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">$</code> - 上下文项。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends</code> - 上下文项对象的字段<code class="codeph">friends</code>的值。紧跟在美元符号（ <code class="codeph"><span class="bold">$</span></code> ）之后的点（ <code class="codeph"><span class="bold">.</span></code> ）表示上下文项是JSON <span class="italic">对象</span> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[0]</code> - 一个对象，它是数组的第一个元素，它是context-item对象的field <code class="codeph">friends</code>的值。括号表示字段<code class="codeph">friends</code>的值是<span class="italic">数组</span> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[0].name</code> - 对象的字段<code class="codeph">name</code>的值，该对象是数组的第一个元素，它是context-item对象的field <code class="codeph">friends</code>的值。第二个点（ <code class="codeph"><span class="bold">.</span></code> ）表示数组<code class="codeph">friends</code>的第一个元素是一个对象（带有<code class="codeph">name</code>字段）。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[*].name</code> - 数组中<span class="italic">每个</span>对象的字段<code class="codeph">name</code>的值，该值是context-item对象的field <code class="codeph">friends</code>的值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$。*[*].name</code> - 上下文项对象的字段的数组值中每个对象的字段<code class="codeph">name</code>值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3, 8 to 10, 12]</code> -通过第十一第四，第九和阵列元素第十三<code class="codeph">friends</code> （上下文项对象的字段）。元素必须<span class="italic">按升序</span>指定， <span class="italic">并按顺序</span>返回：第四，第九，第十，第十一，第十三。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars</code> - 对象的现场<code class="codeph">cars</code>的价值，它是数组<code class="codeph">friends</code>的第四个元素。点（ <code class="codeph"><span class="bold">.</span></code> ）表示第四个元素是一个对象（带有<code class="codeph">cars</code>字段）。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3]。*</code> - 作为数组<code class="codeph">friends</code>的第四个元素的对象的<span class="italic">所有</span>字段的值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars[0].year</code> -字段的值<code class="codeph">year</code>一个对象，它是一个数组，它是字段的值的第一个元素的<code class="codeph">cars</code>的对象，则数组的第四元件的<code class="codeph">friends</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .cars [0]（@.year &gt; 2016)</code> - 数组<code class="codeph">cars</code>的第一个对象（对象的字段是数组<code class="codeph">friends</code>的第四个元素）， <span class="italic">前提是</span>其字段<code class="codeph">year</code>的值是或可以转换为大于2016年诸如<code class="codeph">"2017"</code> <code class="codeph">year</code>值被转换为<code class="codeph">2017</code> ，满足测试。像<code class="codeph">"recent"</code>这样的<code class="codeph">year</code>值未通过测试 - 没有匹配。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .cars [0]（@.year.number() &gt; 2016)</code> - 与上一个相同。Item方法<code class="codeph">number()</code>仅允许可以转换为数字的数字或字符串值，并且该行为已由数字比较谓词<code class="codeph">&gt;</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .cars [0]（@.year.numberOnly() &gt; 2016)</code> - 与上一个相同，但仅当<code class="codeph">year</code>值是一个数字时。项目方法<code class="codeph">numberOnly()</code>排除<code class="codeph">year</code>值为字符串数字的汽车，例如<code class="codeph">"2017"</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3]？（@.addresses.city == "San Francisco")</code> -一个对象，它的阵列中的第四元素<code class="codeph">friends</code> ，条件是它有一个<code class="codeph">addresses</code>字段，其值是与场中的物体<code class="codeph">city</code> ，其值是字符串<code class="codeph">"San Francisco"</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [*]地址？（@city starts with "San ").zip</code> - <code class="codeph">friends</code>所有<code class="codeph">addresses</code>的邮政编码，其中地址<code class="codeph">city</code>的名称以“San”开头。（在这种情况下，过滤器不是最后一个路径步骤。）
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$..zip</code> - 任何级别的<code class="codeph">zip</code>字段的所有值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3]？（@.addresses.city == "San Francisco" &amp;&amp; @.addresses.state == "Nevada")</code> - 作为数组<code class="codeph">friends</code>的第四个元素的对象，前提是地址与<code class="codeph">city</code> <code class="codeph">"San Francisco"</code>的匹配<code class="codeph">"San Francisco"</code>有是有地址的匹配<code class="codeph">state</code>的<code class="codeph">"Nevada"</code> 。
                              </p>
                              <p>注：在共同的过滤条件<span class="italic">并不</span>一定适用于同一个对象-过滤器试验与旧金山市的物体的存在，与内华达州的对象的存在。它<span class="italic">没有</span>测试旧金山市和内华达州的物体是否存在。请参阅<a href="condition-JSON_EXISTS.html#GUID-8A0043D5-95F8-4918-9126-F86FB0E203F0" title="您可以将SQL / JSON条件json_exists与具有一个或多个过滤器表达式的路径表达式一起使用，以选择包含匹配数据的文档。过滤器允许您测试是否存在具有满足各种条件的特定字段的文档。">将过滤器与JSON_EXISTS一起使用</a> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .addresses？（@.city == "San Francisco" &amp;&amp; @.state == "Nevada")</code> - 一个对象，它是数组<code class="codeph">friends</code>的第四个元素，前提是该对象与<code class="codeph">"San Francisco"</code> <code class="codeph">city</code>匹配并且匹配<code class="codeph">state</code>为<code class="codeph">"Nevada"</code> 。
                              </p>
                              <p>与前面的示例不同，在这种情况下，对于字段<code class="codeph">city</code>和<code class="codeph">state</code> ，连接中的过滤条件适用于<span class="italic">相同的</span> <code class="codeph">addresses</code>对象。过滤器适用于位于其外部的给定<code class="codeph">addresses</code>对象。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="condition-JSON_EXISTS.html#GUID-8A0043D5-95F8-4918-9126-F86FB0E203F0" title="您可以将SQL / JSON条件json_exists与具有一个或多个过滤器表达式的路径表达式一起使用，以选择包含匹配数据的文档。过滤器允许您测试是否存在具有满足各种条件的特定字段的文档。">使用带有JSON_EXISTS的过滤器</a></li>
                           <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" title="SQL函数json_value，json_query，json_serialize和json_mergepatch接受一个可选的RETURNING子句，该子句指定函数返回的值的数据类型。此处描述了此子句和默认行为（无RETURNING子句）。">SQL查询函数的RETURNING子句</a></li>
                           <li><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="描述了可用于SQL / JSON路径表达式的Oracle项目方法。">SQL / JSON路径表达式项方法</a></li>
                           <li><a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。">SQL / JSON路径表达式语法松弛</a></li>
                           <li><a href="diagrams-basic-sql-json-path-expression-syntax.html" title="针对基本SQL / JSON路径表达式语法，提供了语法图和相应的Backus-Naur Form（BNF）语法描述。">基本SQL / JSON路径表达式语法的图表</a></li>
                           <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317" title="SQL / JSON查询函数json_query和json_table接受一个可选的包装子句，它指定json_query返回的值的形式或用于json_table列中的数据。此处描述了此子句和默认行为（无包装子句）。提供了示例。">SQL / JSON查询函数的包装子句JSON_QUERY和JSON_TABLE</a></li>
                           <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。">ISO 8601日期和时间支持</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-F6FF8FF6-3773-4E1A-BDEA-6DAE47639138">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_SHL_FSY_XFB" style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=wikipedia_iso8601" target="_blank">ISO 8601</a>有关ISO日期格式的信息</p>
                           </li>
                           <li>
                              <p>有关SQL条件<code class="codeph">REGEXP LIKE</code>信息，请<a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-D2124F3A-C6E4-4CCA-A40E-2FFCABFD8E19" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关SQL条件<code class="codeph">LIKE</code>和<code class="codeph">LIKE4</code>字符集语义的信息，请<a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-0779657B-06A8-441F-90C5-044B47862A0A" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。">SQL / JSON路径表达式语法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6373"></a><div class="props_rev_3"><a id="GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" name="GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77"></a><h4 id="ADJSN-GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" class="sect4"><span class="enumeration_section">13.2.2</span> SQL / JSON路径表达式语法松弛</h4>
                  <div>
                     <p>放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。</p>
                     <p><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a>定义基本的SQL / JSON路径表达式语法。支持的实际路径表达式语法放宽了该定义，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果路径表达式步骤以（期望）数组为目标但实际数据不呈现数组，则数据将隐式包装在数组中。</p>
                        </li>
                        <li>
                           <p>如果路径表达式步骤针对（期望）非数组但实际数据呈现数组，则隐式地展开该数组。</p>
                        </li>
                     </ul>
                     <p>这种放宽允许以下缩写： <span class="bold"><code class="codeph">[*]</code></span>只要它在对象访问器之前，就可以省略<span class="bold"><code class="codeph">.</code></span> ，后跟一个对象字段名称，效果没有变化。反之亦然： <span class="bold"><code class="codeph">[*]</code></span>总是可以插入对象访问器的前面， <span class="bold"><code class="codeph">.</code></span> ，效果没有变化。
                     </p>
                     <p>这意味着对象步骤<code class="codeph">[*].</code> <span class="italic"><code class="codeph">prop</code></span> ，代表给定对象数组的每个元素的字段<span class="italic"><code class="codeph">prop</code></span>的值，可以缩写为<span class="italic"><code class="codeph">.prop</code></span> ，而对象step <span class="italic"><code class="codeph">.prop</code></span> ，看起来好像它代表单个对象的<span class="italic"><code class="codeph">prop</code></span>值，代表也适用于应用了对象访问器的数组的每个元素的<span class="italic"><code class="codeph">prop</code></span>值。
                     </p>
                     <p>这是一个重要的功能，因为这意味着如果您的数据发展为使用此类值的数组替换给定的JSON值，则无需更改代码中的路径表达式，反之亦然。</p>
                     <p>例如，如果您的数据最初包含具有字段<code class="codeph">Phone</code>的对象，其值为具有字段<code class="codeph">type</code>和<code class="codeph">number</code>的单个对象，则路径表达式<code class="codeph">$.如果数据演变为代表一组电话，仍然可以使用与单个电话号码匹配的Phone.number</code> 。路径表达<code class="codeph">$.Phone.number</code>匹配单个电话对象，选择其号码或电话对象数组，选择每个电话对象的号码。
                     </p>
                     <p>同样，如果您的数据混合使用两种表示形式 - 有些数据条目使用单个电话对象，有些数据条目使用电话对象数组，甚至某些条目使用两者 - 您可以使用相同的路径表达式来访问来自这些不同类型的电话信息。</p>
                     <p>以下是<a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a>一节中的一些示例路径表达式，以及对等的解释。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">$.friends</code> -字段的值为<code class="codeph">friends</code> <span class="italic">之一</span> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>（单个）context-item对象。</p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].friends</code> ）context-item数组中的每个对象。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">$.friends[0].name</code> - <span class="italic">任何</span>这些对象的字段<code class="codeph">name</code>值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>数组的第一个元素，它是context-item对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$.friends.name</code> ）context-item对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].friends.name</code> ）context-item数组中每个对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].friends[0].name</code> ）每个数组的第一个元素，它是context-item数组中每个对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                           </ul>
                           <p>上下文项可以是对象或对象数组。在后一种情况下，阵列中的每个对象都匹配一个场<code class="codeph">friends</code> 。
                           </p>
                           <p>field <code class="codeph">friends</code>的值可以是对象或对象数组。在后一种情况下，使用数组中的第一个对象。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">$。*[*].name</code> - <span class="italic">任何</span>这些对象的字段<code class="codeph">name</code>值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>context-item对象的字段的数组值的元素。</p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$.*.name</code> ）context-item对象的字段值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].*.name</code> ）context-item数组中对象的字段值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].*[*].name</code> ）context-item数组中对象字段的数组值中的每个对象。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。">SQL / JSON路径表达式语法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" name="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13"></a><h3 id="ADJSN-GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" class="sect3"><span class="enumeration_section">13.3</span> SQL / JSON路径表达式项方法</h3>
               <div>
                  <p>描述了可用于SQL / JSON路径表达式的Oracle项目方法。</p>
                  <div class="section">
                     <p>item方法应用于由该方法终止的路径表达式（其余部分）所针对的JSON数据。该方法用于转换该数据。传递路径表达式的SQL函数或条件使用转换后的数据代替目标数据。在某些情况下，项目方法的应用程序充当过滤器，从结果集中删除目标数据。</p>
                     <p>如果项目方法转换由于任何原因（例如其参数类型错误）而失败，则路径无法匹配（它指的是没有数据），并且<span class="italic">不会引发错误</span> 。特别是，这意味着SQL / JSON函数中的错误子句或传递路径表达式的条件<span class="italic">不会</span>处理此类错误。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__GUID-841B3AAD-C23F-403C-8FE2-AB8DBF7F3543">项目方法在数组中的应用</p>
                     <p>除了item方法<code class="codeph">size()</code>和<code class="codeph">type()</code> ，如果一个数组以item方法为目标，那么该方法将<span class="italic">应用于每个数组元素</span> ，而不是数组本身。例如， <code class="codeph">$.a. <span class="codeinlineitalic">method</span> ()</code>将item-method <code class="codeph"><span class="codeinlineitalic">method()</span></code>应用于数组<code class="codeph">a</code>每个元素，以转换它并使用它代替数组。（这实际上类似于当对象步骤需要非数组时隐含的数组展开。）生成的匹配集包括转换的数组元素，而不是目标数组。
                     </p>
                     <p>对于具有<code class="codeph">json_query</code>语义的<code class="codeph">json_query</code>或<code class="codeph">json_table</code>列表达式，您可以使用包装子句将所有已转换的数组元素值捕获为数组。例如，这个查询：</p><pre class="pre codeblock"><code>SELECT json_query（'[“alpha”，42，“10.4”]'，'$ [*]。stringOnly（）' <span class="bold">WITH ARRAY WRAPPER</span> ）FROM dual;</code></pre><p>返回此数组（作为<code class="codeph">VARCHAR2</code>值）： <code class="codeph">["alpha", "10.4"]</code> 。
                     </p>
                     <p>在这方面，项目方法<code class="codeph">size()</code>和<code class="codeph">type()</code>是<span class="italic">例外</span> 。当应用于数组时，他们将其视为这样，而不是对其元素进行操作。例如：</p><pre class="pre codeblock"><code>SELECT json_value（'[19，“Oracle”，{“a”：1}，[1,2,3]]'，'$ .type（）'）FROM dual;</code></pre><p>返回单个<code class="codeph">VARCHAR2</code>值<code class="codeph">'array'</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__GUID-2458E67B-7753-4B38-9FC2-2EDA4658F3BC">项目方法说明</p>
                     <p>在此处的项目方法描述中，在某些情况下，目标JSON值被<span class="italic">解释为给定SQL数据类型的值</span> 。这意味着，就好像它是通过受控它被处理<code class="codeph">json_value</code> <code class="codeph">RETURNING</code>子句与SQL数据类型。
                     </p>
                     <p>例如，item-method <code class="codeph">string()</code>使用子句<code class="codeph">json_value</code> <code class="codeph">RETURNING VARCHAR2(4000)</code>将<code class="codeph">json_value</code>解释为其目标。因此， <code class="codeph">string()</code>将布尔值视为<code class="codeph">"true"</code>或<code class="codeph">"false"</code> ; <code class="codeph">null</code>值被视为<code class="codeph">"null"</code> ;并且数字以规范字符串形式表示。
                     </p>
                     <p>由于一些项目的方法解释了有针对性的JSON数据，就好像它是一个SQL数据类型的，它们可以与使用<code class="codeph">json_value</code>代替的<code class="codeph">RETURNING</code>子句，它们可以搭配<code class="codeph">json_table</code>代替列类型规范。也就是说， <span class="italic">item方法可用于</span>为提取的JSON数据<span class="italic">指定SQL数据类型</span> 。
                
                     </p>
                     <p>您也可以<span class="italic">连同</span>使用这样的方法来做<code class="codeph">json_value</code> <code class="codeph">RETURNING</code>子句或<code class="codeph">json_table</code>列类型规范。如果SQL数据类型用于提取JSON数据被<span class="italic">两个</span>项目的方法和任一受控的，会发生什么<code class="codeph">json_value</code> <code class="codeph">RETURNING</code>子句或<code class="codeph">json_table</code>列类型？
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果两种数据类型兼容，则使用<code class="codeph">RETURNING</code>子句或列的数据类型。出于这些目的， <code class="codeph">VARCHAR2</code>与<code class="codeph">VARCHAR2</code>和<code class="codeph">CLOB</code>兼容。</p>
                        </li>
                        <li>
                           <p>如果数据类型不兼容，则会引发静态编译时<span class="italic">错误</span> 。
                           </p>
                        </li>
                     </ul>
                     <div class="tblformal" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__TABLE_AN1_Y5C_TFB">
                        <p class="titleintable">表13-1类型转换项方法和RETURNING类型的兼容性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="类型转换项方法和RETURNING类型的兼容性" border="1" summary="Describes the compatible combinations of an item method with a
                    RETURNING clause. The columns are Item Method and Compatible RETURNING Clause
                    Data Types" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11088e2401">物品方法</th>
                                 <th align="left" valign="bottom" id="d11088e2403">兼容的RETURNING子句数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2407" headers="d11088e2401 "><code class="codeph">string()</code>或<code class="codeph">stringOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2407 d11088e2403 "><code class="codeph">VARCHAR2</code>或<code class="codeph">CLOB</code> ，但<code class="codeph">string()</code>为JSON <code class="codeph">null</code>值返回SQL <code class="codeph">NULL</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2430" headers="d11088e2401 "><code class="codeph">number()</code>或<code class="codeph">numberOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2430 d11088e2403 "><code class="codeph">数</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2440" headers="d11088e2401 "><code class="codeph">日期（）</code></td>
                                 <td align="left" valign="top" headers="d11088e2440 d11088e2403 "><code class="codeph">日期</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2447" headers="d11088e2401 "><code class="codeph">时间戳（）</code></td>
                                 <td align="left" valign="top" headers="d11088e2447 d11088e2403 "><code class="codeph">TIMESTAMP</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2454" headers="d11088e2401 "><code class="codeph">boolean()</code>或<code class="codeph">booleanOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2454 d11088e2403 "><code class="codeph">VARCHAR2</code></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>使用<code class="codeph">RETURNING</code>子句或列规范，可以指定字符数据的长度以及数值数据的精度和比例。这使您可以为项目方法提供比目标数据比较目的更精确的SQL数据类型。
                     </p>
                     <p>例如，如果使用item方法<code class="codeph">string()</code>和<code class="codeph">RETURNING VARCHAR2(150)</code>则返回数据的数据类型为<code class="codeph">VARCHAR2(150)</code> ，而不是<code class="codeph">VARCHAR2(4000)</code> 。
                     </p>
                     <p>名称中“only”的数据类型转换方法与名称没有“only”的相应方法相同，只是前者<span class="italic">只</span>将给定类型（例如， <code class="codeph">number</code> ）的JSON值转换为相关的SQL数据类型（例如<code class="codeph">NUMBER</code> ）。名称中没有“only”的方法允许在可能的情况下将<span class="italic">任何</span> JSON值转换为给定的SQL数据类型。（当“only”方法以数组为目标时，转换会像往常一样应用于每个数组元素。）
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold"><code class="codeph">abs()</code></span> ：目标JSON数的绝对值。对应于SQL函数<code class="codeph">ABS</code>的使用。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">boolean()</code></span> ：对目标JSON值的SQL <code class="codeph">VARCHAR2(20)</code>解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">booleanOnly()</code></span> ：对目标JSON数据的SQL <code class="codeph">VARCHAR2(20)</code>解释，但仅限于它是JSON布尔值;否则，没有匹配。充当过滤器，仅允许匹配JSON布尔值。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">ceiling()</code></span> ：目标JSON数，四舍五入到最接近的整数。对应SQL函数<code class="codeph">CEIL</code>的使用。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">date()</code></span> ：目标JSON字符串的SQL日期解释。目标字符串数据必须采用受支持的ISO 8601格式之一;否则，没有匹配。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">double()</code></span> ：对目标JSON字符串或数字的SQL <code class="codeph">BINARY_DOUBLE</code>解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">floor()</code></span> ：目标JSON数，向下舍入到最接近的整数。对应于SQL函数<code class="codeph">FLOOR</code>的使用。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">length()</code></span> ：目标JSON字符串中的字符数，解释为SQL <code class="codeph">NUMBER</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">lower()</code></span> ：与目标JSON字符串中的字符对应的小写字符串。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">number()</code></span> ：目标JSON字符串或数字的SQL <code class="codeph">NUMBER</code>解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">numberOnly()</code></span> ：对目标JSON数据的SQL <code class="codeph">NUMBER</code>解释，但仅限于它是JSON数字;否则，没有匹配。充当过滤器，仅允许匹配JSON数字。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">size()</code></span> ：数组中元素的数量，或标量或对象的1。除了<code class="codeph">json_value</code>和<code class="codeph">json_table</code>之外，此item方法可以与<code class="codeph">json_query</code>一起使用。如果应用于作为数组的数据，则不会对数组元素进行隐式迭代：结果值只是数组元素的数量。（这是隐式迭代规则的一个例外。）
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">string()</code></span> ：SQL <code class="codeph">VARCHAR2(4000)</code>对目标标量JSON值的解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">stringOnly()</code></span> ：SQL <code class="codeph">VARCHAR2(4000)</code>对目标标量JSON值的解释，但仅限于它是JSON字符串;否则，没有匹配。充当过滤器，仅允许匹配JSON字符串。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">timestamp()</code></span> ：对目标JSON字符串的SQL <code class="codeph">TIMESTAMP</code>解释。目标字符串数据必须采用受支持的ISO 8601格式之一;否则，没有匹配。<a id="fn_3" name="fn_3" href="#fn_3" applying="" item="" method="" timestamp()="" to="" a="" supported="" iso="" 8601="" string="" <iso-string&gt;="" has="" the="" effect="" of="" sql="" sys_extract_utc(to_utc_timestamp_tz(<iso-string&gt;)=")" ="" onclick="footdisplay(3, "><sup>脚3</sup></a></p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">type()</code></span> ：目标数据的JSON数据类型的名称，解释为SQL <code class="codeph">VARCHAR2(20)</code>值。除了<code class="codeph">json_value</code>和<code class="codeph">json_table</code>之外，此item方法可以与<code class="codeph">json_query</code>一起使用。如果应用于作为数组的数据，则不会对数组元素进行隐式迭代：结果值为<code class="codeph">"array"</code> 。（这是隐式迭代规则的一个例外。）
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">"null"</code>表示<code class="codeph">null</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"boolean"</code>表示值为<code class="codeph">true</code>或<code class="codeph">false</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>一个数字的<code class="codeph">"number"</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"string"</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"array"</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"object"</code> 。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">upper()</code></span> ：与目标JSON字符串中的字符对应的大写字符串。
                           </p>
                        </li>
                     </ul>
                     <p>Item方法<code class="codeph">boolean()</code> ， <code class="codeph">booleanOnly()</code> ， <code class="codeph">date()</code> ， <code class="codeph">length()</code> ， <code class="codeph">lower()</code> ， <code class="codeph">number()</code> ， <code class="codeph">numberOnly()</code> ， <code class="codeph">string()</code> ， <code class="codeph">stringOnly()</code> ， <code class="codeph">timestamp()</code>和<code class="codeph">upper()</code>是Oracle的扩展SQL / JSON标准。其他项方法<code class="codeph">abs()</code> ， <code class="codeph">ceiling()</code> ， <code class="codeph">double()</code> ， <code class="codeph">floor()</code> ， <code class="codeph">size()</code>和<code class="codeph">type()</code>是标准的一部分。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a></li>
                        <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。">ISO 8601日期和时间支持</a></li>
                        <li><a href="json-path-expressions.html#GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" title="SQL / JSON路径表达式过滤条件中的比较在编译时是静态类型的。如果不知道比较的操作数的有效类型是相同的，那么有时会尝试通过类型转换来协调它们。">比较中的类型</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" title="SQL函数json_value，json_query，json_serialize和json_mergepatch接受一个可选的RETURNING子句，该子句指定函数返回的值的数据类型。此处描述了此子句和默认行为（无RETURNING子句）。">SQL查询函数的RETURNING子句</a></li>
                        <li><a href="function-JSON_VALUE.html#GUID-0565F0EE-5F13-44DD-8321-2AC142959215" title="SQL / JSON函数json_value选择JSON数据并返回SQL标量或用户定义的SQL对象类型或SQL集合类型（varray，嵌套表）的实例。">SQL / JSON函数JSON_VALUE</a></li>
                        <li><a href="function-JSON_TABLE.html#GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" title="SQL / JSON函数json_table将特定的JSON数据投影到各种SQL数据类型的列。您可以使用它将JSON文档的各个部分映射到新虚拟表的行和列中，您也可以将其视为内联视图。">SQL / JSON函数JSON_TABLE</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317" title="SQL / JSON查询函数json_query和json_table接受一个可选的包装子句，它指定json_query返回的值的形式或用于json_table列中的数据。此处描述了此子句和默认行为（无包装子句）。提供了示例。">SQL / JSON查询函数的包装子句JSON_QUERY和JSON_TABLE</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-20DC09A8-98DF-4473-8077-913D490A969C" name="GUID-20DC09A8-98DF-4473-8077-913D490A969C"></a><h3 id="ADJSN-GUID-20DC09A8-98DF-4473-8077-913D490A969C" class="sect3"><span class="enumeration_section">13.4</span> ISO 8601日期和时间支持</h3>
               <div>
                  <p>国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。</p>
                  <div class="section">
                     <p>国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。您可以将最常见的ISO 8601日期和时间格式的字符串作为正确的Oracle数据库日期和时间值进行操作。支持的ISO 8601格式基本上是纯数字，语言中立和明确的格式。</p>
                     <p>这是日期和时间的允许语法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>日期（仅）： <code class="codeph"><span class="codeinlineitalic">YYYY</span> - <span class="codeinlineitalic">MM</span> - <span class="codeinlineitalic">DD</span></code></p>
                        </li>
                        <li>
                           <p>日期与时间： <code class="codeph"><span class="codeinlineitalic">YYYY</span> <span class="bold">-</span> <span class="codeinlineitalic">MM</span> <span class="bold">-</span> <span class="codeinlineitalic">DD</span> <span class="bold">T</span> <span class="codeinlineitalic">hh</span> <span class="bold">:</span> <span class="codeinlineitalic">mm</span> <span class="bold">:</span> <span class="codeinlineitalic">ss</span> [ <span class="bold">.</span> <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> ]]]]][ <span class="bold">Z</span> |( <span class="bold">+</span> | <span class="bold">-</span> ) <span class="codeinlineitalic">hh</span> <span class="bold">:</span> <span class="codeinlineitalic">mm</span> ]</code></p>
                        </li>
                     </ul>
                     <p>哪里：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">YYYY</span></span></code>指定<span class="italic">年份</span> ，为四位小数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">MM</span></span></code>指定<span class="italic">月份</span> ，为两位小数， <code class="codeph">00</code>到<code class="codeph">12</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">DD</span></span></code>将<span class="italic">日期</span>指定为两位十进制数字<code class="codeph">00</code>到<code class="codeph">31</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">hh</span></span></code>指定<span class="italic">小时</span> ，为两位小数， <code class="codeph">00</code>到<code class="codeph">23</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">mm</span></span></code>指定<span class="italic">分钟</span> ，为两位小数， <code class="codeph">00</code>到<code class="codeph">59</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold"><span class="italic">ss</span></span> [ <span class="bold">. <span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> ]]]]]</code>指定<span class="italic">秒</span> ，作为两个十进制数字， <code class="codeph">00</code>到<code class="codeph">59</code> ，可选地后跟一个小数点和1到6个十进制数字（表示秒的小数部分）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold">Z</span></code>指定<span class="italic">UTC</span>时间（时区0）。（它也可以由<code class="codeph">+00:00</code>指定，但不能通过<code class="codeph">–00:00</code> 。）
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">( <span class="bold">+</span> | <span class="bold">-</span> )hh <span class="bold">:</span> mm</code>指定时区<span class="italic">与UTC的差异</span> 。 （<code class="codeph">+</code>或<code class="codeph">–</code>是必需的。）
                           </p>
                        </li>
                     </ul>
                     <p>对于时间值，时区部分是可选的。如果不存在则假定UTC时间。</p>
                     <p>不支持其他ISO 8601日期时语法。特别是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持负日期（公元前1年之前的日期），以连字符开头（例如<code class="codeph"><span class="bold">–</span> 2018–10–26T21:32:52</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>需要连字符和冒号分隔符：不支持所谓的“基本”格式<code class="codeph">YYYYMMDDThhmmss</code> 。
                           </p>
                        </li>
                        <li>
                           <p>不支持序数日期（年份加上一年中的某一天，日历周加上日期编号）。</p>
                        </li>
                        <li>
                           <p>不支持使用年份超过四位数。</p>
                        </li>
                     </ul>
                     <p>支持的日期和时间包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">2018-10-26T21：32：52</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T21：32：52 + 02：00</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T19：32：52Z</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T19：32：52 + 00：00</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T21：32：52.12679</code></p>
                        </li>
                     </ul>
                     <p>不支持的日期和时间包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">2018-10-26T21:32</code> （如果指定了时间，那么它的所有部分必须存在）</p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T <span class="bold">25</span> :32:52+02:00</code> （小时部，25，超出范围）</p>
                        </li>
                        <li>
                           <p><code class="codeph">18-10-26T21:32</code> （未完全指定年份）</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-20DC09A8-98DF-4473-8077-913D490A969C__GUID-8D7C5414-865C-4ABD-8EC8-D248FD291A5C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=iso-8601" target="_blank">ISO 8601标准</a></p>
                        </li>
                        <li>
                           <p><a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank">维基百科的ISO 8601</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" name="GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A"></a><h3 id="ADJSN-GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" class="sect3"><span class="enumeration_section">13.5</span>比较中的类型</h3>
               <div>
                  <p>SQL / JSON路径表达式过滤条件中的比较在编译时是静态类型的。如果不知道比较的操作数的有效类型是相同的，那么有时会尝试通过类型转换来协调它们。</p>
                  <p>SQL / JSON路径表达式以JSON数据为目标，因此比较的操作数是JSON值。JSON值的类型比较很简单：JSON数据类型字符串，数字，null，对象和数组是互斥且无法比较的。</p>
                  <p>但是比较操作数有时被<span class="italic">解释</span> （基本上是强制转换）为SQL数据类型的值。例如，当使用某些项方法（例如<code class="codeph">number()</code>时就是这种情况。本节介绍了对这些有效值的类型检查。
                  </p>
                  <p>您可以通过显式使用“仅”项目方法之一来阻止此类型转换。例如，应用方法<code class="codeph">numberOnly()</code>可防止对数字进行隐式类型转换。
                  </p>
                  <p>SQL是一种静态类型语言;类型在编译时确定。这同样适用于SQL / JSON路径表达式，尤其适用于过滤条件中的比较。这意味着无论如何评估，您都可以获得相同的查询结果 - 无论是在功能上还是使用索引，物化视图和内存中扫描等功能。</p>
                  <p>要实现这一点：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果两个操作数的类型都是<span class="italic">已知的</span>并且它们是<span class="italic">相同的，</span>则满足类型检查。
                        </p>
                     </li>
                     <li>
                        <p>如果两个操作数的类型都是<span class="italic">未知的，</span>则会引发编译时错误。
                        </p>
                     </li>
                     <li>
                        <p>如果一个操作数的类型是已知的而另一个是未知的，则后一个操作数被强制转换为前者的类型。</p>
                        <p>例如， <code class="codeph">$.a?(@.bc == 3)</code> <code class="codeph">$abc</code>的类型在编译时是未知的。路径表达式编译为<code class="codeph">$.a?(@.bc <span class="bold">number()</span> == 3)</code> 。因此，在运行时尝试将匹配<code class="codeph">$abc</code>的数据转换为数字。字符串值<code class="codeph">"3"</code>将被转换为数字<code class="codeph">3</code> ，满足比较。<a id="fn_4" name="fn_4" href="#fn_4" data="" value="" to="" prevent="" such="" casting="" here,="" you="" can="" explicitly="" apply="" item="" method="" numberonly():="" $.a?(@.b.c.numberonly()="=" 3).="" with="" a="" string="" ="3\" ="" would="" simply="" not="" match;="" it="" be="" filtered="" out=")" ="" onclick="footdisplay(4, "><sup>脚4</sup></a></p>
                     </li>
                     <li>
                        <p>如果两个操作数的类型都是<span class="italic">已知的</span>并且它们<span class="italic">不</span>相同，则尝试将一个类型转换为另一个类型。详情如下。
                        </p>
                     </li>
                  </ul>
                  <p>以下组合中使用的比较操作数<span class="italic">未</span>协调;引发了<span class="italic">编译时错误</span> 。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数字与除double之外的任何非数字类型相比。</p>
                     </li>
                     <li>
                        <p>与数字以外的任何非双重类型相比较。</p>
                     </li>
                     <li>
                        <p>字符串与double相比。</p>
                     </li>
                     <li>
                        <p>Boolean与任何非布尔类型进行比较，除了与字符串值<code class="codeph">'true'</code>或<code class="codeph">'false'</code> （或任何字母大小写变体，如<code class="codeph">'tRUe'</code> ）进行比较。
                        </p>
                     </li>
                     <li>
                        <p>除非字符串具有受支持的ISO 8601格式，否则日期或时间戳与字符串进行比较。</p>
                     </li>
                     <li>
                        <p>日期与字符串以外的任何非日期类型进行比较。</p>
                     </li>
                     <li>
                        <p>时间戳（带或不带时区）与字符串以外的任何非时间戳类型进行比较。</p>
                     </li>
                     <li>
                        <p>JSON <code class="codeph">null</code>比JSON其他任何类型比较<code class="codeph">null</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>尝试通过类型转换来协调以下组合中使用的比较操作数。您可以将类型转换项方法隐式应用于其中一个操作数，以使其与另一个操作数类型兼容。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>与double相比较的数字 - <code class="codeph">double()</code>隐式应用于数字以使其成为double值。
                        </p>
                     </li>
                     <li>
                        <p>将字符串值<code class="codeph">'true'</code>或<code class="codeph">'false'</code> （或任何字母大小写变体，例如<code class="codeph">'tRUe'</code> ）与Boolean  - <code class="codeph">boolean()</code>比较，隐式应用于字符串以使其成为布尔值。
                        </p>
                     </li>
                     <li>
                        <p>支持ISO 8601格式的字符串与date- <code class="codeph">date()</code>相比，隐式应用于字符串以使其成为日期值。（删除存在的任何时区组件。）
                        </p>
                     </li>
                     <li>
                        <p>受支持的ISO 8601格式的字符串与时间戳（有或没有）时区相比 - <code class="codeph">timestamp()</code>隐式应用于字符串以使其成为时间戳值。为此，将UTC时区（协调世界时，零偏移）用作默认值，同时考虑字符串中指定的任何时区。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="描述了可用于SQL / JSON路径表达式的Oracle项目方法。">SQL / JSON路径表达式项方法</a></li>
                        <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。">ISO 8601日期和时间支持</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：范围规范中的<code class="codeph">to</code>有时被非正式地称为数组<span class="italic">切片</span>运算符。<br>注2： <code class="codeph">!=</code>是SQL / JSON标准比较谓词<code class="codeph">&lt;&gt;</code>的Oracle别名。<br>脚注3：将项方法<code class="codeph">timestamp()</code>应用于受支持的ISO 8601字符串<code class="codeph"><span class="codeinlineitalic">&lt;ISO-STRING&gt;</span></code>具有SQL <code class="codeph">sys_extract_utc(to_utc_timestamp_tz( <span class="codeinlineitalic">&lt;ISO-STRING&gt;</span> )</code> 。<br>脚注4：为了防止此类转换，您可以显式应用项目方法<code class="codeph">numberOnly()</code> ： <code class="codeph">$.a?(@.bc <span class="bold">numberOnly()</span> == 3)</code> 。字符串值为<code class="codeph">"3"</code>数据根本不匹配;它会被过滤掉。<br></div>
      </article>
   </body>
</html>